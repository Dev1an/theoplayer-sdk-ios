/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.3.0 (2.87.0)
 Created: 2021-07-30T17:47:15.960Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,h=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,g=t.parseFloat,w=t.isNaN,y=t.Uint8Array,m=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest),p="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function A(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T=A(function(n,u){n.exports=function t(n,r,e){function u(o,h){if(!r[o]){if(!n[o]){var a="function"==typeof i&&i;if(!h&&a)return a(o,!0);if(s)return s(o,!0);var c=new f("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var v=r[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return u(i||t)},v,v.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new f}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function h(){this.g=!1,this.R=!1,this.I=new u(16),this.N=new u(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function v(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}h.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},h.prototype.hasCustomScheduler=function(){return this.g},h.prototype.enableTrampoline=function(){this.M=!0},h.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.M=!1)},h.prototype.haveItemsQueued=function(){return this.R||this.B},h.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},h.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(h.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){o(function(){t.call(n,i)},100)})},h.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},h.prototype.settlePromises=function(t){this.M?v.call(this,t):this.F(function(){t.j()})}):(h.prototype.invokeLater=a,h.prototype.invoke=c,h.prototype.settlePromises=v),h.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},h.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},h.prototype.Y=function(){this.R=!1},n.exports=h,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.Z(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(u,u,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(u),c=new t(n);c.it(this,1);var f=this.ut();if(c.st(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,s,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.st=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Dt=function(){this.Ct=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Dt(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Dt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var v=t[c];if(v===f||null!=v&&v.prototype instanceof f){if(h instanceof v)return e(s).call(a,h)}else if("function"==typeof v){var d=e(v).call(a,h);if(d===u)return d;if(d)return e(s).call(a,h)}else if(i.isObject(h)){for(var l=r(v),_=0;_<l.length;++_){var g=l[_];if(v[g]!=h[g])continue t}return e(s).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,u=t.prototype.Ht,s=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=u,t.Vt=s,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,u,s,h=n.Xt,a=n.ct,c=t("./errors").Warning,l=t("./util"),g=t("./es5"),w=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==l.env("BLUEBIRD_DEBUG")),E=!(0==l.env("BLUEBIRD_WARNINGS")||!T&&!l.env("BLUEBIRD_WARNINGS")),S=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.ut();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;o(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",u,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=h();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=h();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var O={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?l.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Ct}function U(t){this.Ct=t}function F(){this.kt=void 0,this.Ct=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.st(t.ht)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.un=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.sn=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.sn=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.un=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.st(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,u=new c(t);if(i)r.Pt(u);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&K(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof s?s(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:_(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,p=t,A=n;var i=f.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var r,e=new f;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof f.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var u="",s="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(s="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,s=a.line;break}}for(var h=0;h<u.length;++h){var a=nt(u[h]);if(a){r=a.fileName,o=a.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return h(i,f),i}var d=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(a(this,"message",t.message),a(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,f);var p=f.vn;p||(p=s({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),u.defineProperty(f,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.ut().Zt())}function d(t){if(!c(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var v=i(h,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Ot()){var l=new u("late cancellation observer");return e.Pt(l),s.e=l,s}v.isPending()&&v.rn(new a(this))}return v.J(f,d,void 0,this,void 0)}}}return e.isRejected()?(c(this),s.e=t,s):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(h)));u[s++]=h}u.length=s;var a=arguments[r];return this.dn(o(u,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,v=a.tryCatch,l=[];function _(t,i,e,u){if(s.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=u,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(l):l,this.pn=null,this.An=!1}a.inherits(_,u),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,s.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=v(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=v(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=v(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=v(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Dn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Cn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var u=e(r,this._n);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Ft();var s=v(i[u])(t);if(r.Ht(),s===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(s,r);if(h instanceof n)return h}return null}(u,this.kn,this._n))){var s=(u=u.ut()).K;0==(50397184&s)?(this.pn=u,u.On(this,null)):0!=(33554432&s)?n.ct.invoke(this.In,this,u.xn()):0!=(16777216&s)?n.ct.invoke(this.Nn,this,u.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=_,e=(new f).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.mn=n,u.In(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Dn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function d(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===u?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+h.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,i,s,u).promise()}h.inherits(d,i),d.prototype.Hn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.In=function(t,i){var r=this.Vn,u=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,u),_=f.Ht();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.ut()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=u&&(null!==o?this.qn(r,o):this.zn(r),!0)},d.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},d.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.zn(r)},d.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),s=r.Ht();return u.checkForgottenReturns(e,s,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=s.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return u.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===s.errorObj?this.Cn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];h.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Pt(u),t.Z(u)}else if(n){var s=[].slice.call(arguments,1);t.En(s)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.et(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.et(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function h(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var s=e(n).call(this.et(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=s),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.ut())},e=function(t){return N.reject(new l(t))};function u(){}var s,o={},h=t("./util");s=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",s);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function D(t){this.promise.nt(t)}function C(t){this.promise.Cn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!h.isObject(s))return e("Catch statement predicate: expecting an object but got "+h.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Cn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Cn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),a=this.ut(),c=a.K;u||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=s();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.ui=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.si=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),u=t.ci(n);void 0===u&&(u=o),this.ei(i,r,e,u,null)},N.prototype.ei=function(t,n,i,r,e){var u=this.Nt();if(u>=65531&&(u=0,this.ui(0)),0===u)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:h.domainBind(e,n))}return this.ui(u+1),u},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Cn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.ut();if(e!==this){var u=e.K;if(0==(50397184&u)){var s=this.Nt();s>0&&e.li(this);for(var o=1;o<s;++o)e._i(this,o);this.oi(),this.ui(0),this.gi(e)}else if(0!=(33554432&u))this.En(e.xn());else if(0!=(16777216&u))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Cn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+h.classString(t);this.ft(u,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.sn(t,function(t){n.nt(t)},function(t){n.Cn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Cn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var u;r.Ft(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.et(),i):(u=R).e=new l("cannot .spread() a non-array: "+h.classString(i)):u=I(t).call(n,i);var s=r.Ht();0==(65536&(e=r.K))&&(u===y?r.Z(i):u===R?r.Cn(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r.nt(u)))}},N.prototype.ut=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var s=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(s&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof u?i.Sn(t):s||t instanceof k?t.St():i.cancel()):"function"==typeof n?s?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof u?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):s&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.si(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),u=this.ci(i);this.ki(i),this.yi(e,r,u,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),u=this.ci(i);this.ki(i),this.yi(e,r,u,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.ui(0)}this.un()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:D,reject:C}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,u){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.ut()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,u);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=s.asArray(o)))0!==o.length?this.Ti(o):-5===u?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this._n.Cn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,u=!1,s=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.ut(),s=h.K):s=null,u?null!==s&&h.suppressUnhandledRejections():null!==s?0==(50397184&s)?(h.On(this,o),this.Vn[o]=h):u=0!=(33554432&s)?this.In(h.xn(),o):0!=(16777216&s)?this.Nn(h.Pn(),o):this.Sn(o):u=this.In(h,o)}u||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Cn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var h=u[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||s.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=u(a,v);try{c.apply(e,s(arguments,f))}catch(t){a.Cn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=d(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,u,s,i),k(c,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,h=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.J(n.props,void 0,void 0,void 0,void 0):new c(u).promise(),u instanceof n&&i.it(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.Vn);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.Vn[s+e]]=this.Vn[s]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Di=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Ci(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Di(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Ci(r);var u=this.Ii-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Ci=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return s(h);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var s=o();this.xi=null===s?i:h.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===u?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var u=new c(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,u=a(r.xi);e.Ft(),(i=void 0!==r.Li?u.call(e.et(),t,this.index,this.length):u.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return s.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==u&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,u,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var u,s,h,a,c,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=p.setImmediate,_=process.nextTick;u=v.isRecentNode?function(t){l.call(p,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();u=function(t){g.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),h={attributes:!0},a=!1,c=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),a=!1}).observe(c,h),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,h),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},s.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},s.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new s,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new u(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.ut(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},s=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.ut().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.ut().K)},t.prototype.isPending=function(){return s.call(this.ut())},t.prototype.isRejected=function(){return u.call(this.ut())},t.prototype.isFulfilled=function(){return e.call(this.ut())},t.prototype.isResolved=function(){return o.call(this.ut())},t.prototype.value=function(){return i.call(this.ut())},t.prototype.reason=function(){var t=this.ut();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return s.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,u,s){var o=new n(i),h=o;s&&s.Ft(),o.nn(),s&&s.Ht();var a=!0,c=r.tryCatch(u).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Cn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Cn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){h(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var u,h;return void 0!==e?(u=n.resolve(e).J(a,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.ot(e)):(u=new n(i),h=o(function(){u.En()},+t),r.cancellation()&&u.ot(new s(h)),u.nn()),u.ti(),u};function v(t){return h(this.handle),t}function d(t){throw h(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,h,a=new s(o(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof f?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,h)},t=+t));return r.cancellation()?(h=this.then(),(i=h.J(v,d,void 0,a,void 0)).ot(a)):i=this.J(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var h=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=h.errorObj,v=h.tryCatch,d={};function l(t){o(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+h.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),u=v(u);var r=o?u.apply(void 0,t):u(t),e=A.Ht();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var u,o=n("./es5"),h=void 0===s,a={e:{}},c=void 0!==t?t:void 0!==r?r:void 0!==p?p:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var h=u[s];if(!e[h]){e[h]=!0;var a=d.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){return k(t)&&o.propertyIsWritable(t,"stack")}var b="stack"in new f?function(t){return A(t)?t:new f(m(t))}:function(t){if(A(t))return t;try{throw new f(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:E,notEnumerableProp:_,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new f(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:A,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof f.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),D.isNode&&D.toFastProperties(process);try{throw new f}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var E,S=function(){},R=function(t){return t};function I(t,n,i){var r;return function(){for(var e=arguments.length,u=new Array(e),s=0;s<e;s++)u[s]=arguments[s];var o=this,h=i&&!r;void 0!==r&&b.ur(r),r=b.sr(function(){r=void 0,i||t.apply(o,u)},n),h&&t.apply(o,u)}}(E=T)&&E.config({warnings:!1,longStackTraces:!1});var N,D,C,O,x,P;E&&(O=E.setScheduler(S),N=O,x={hr:function(t){D=t,N(C)},ar:C=function(){var t=D;t&&(D=void 0,t())}},E.setScheduler(x.hr));function B(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function L(t,n,i){return n&&B(t.prototype,n),i&&B(t,i),t}function M(t,n){return(M=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function U(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,M(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(P||(P={}));var F=s?s.userAgent:"",H=F.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),V=F.match(/Android ([0-9\.]+)/i),X=F.match(/Windows NT ([0-9\.]+)/i),W=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),q=F.match(/Firefox\/([0-9\.]+)/i),z=F.match(/OPR\/(\d+\.\d+)/i),G=F.match(/Tizen ([0-9\.]+)/i),j=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.pr=/Windows NT/i.test(F),this.Ar=X?g(X[1]):0,this.Tr=/Android/i.test(F),this.Er=V?g(V[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(F),this.Rr=/iPhone/i.test(F),this.Ir=/iPad/i.test(F),this.Nr=this.kr&&this.mr&&!this.Ir,this.Dr=/iPod/i.test(F),this.Cr=/Mobile Safari/i.test(F),this.Or=(this.Rr||this.Ir||this.Nr||this.Dr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Cr,this.Pr=/CriOS/i.test(F),this.Br=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Pr,this.Lr=Boolean(t.chrome||/Chrome/i.test(F)||/CriOS/i.test(F)),this.Mr=H?_(H[1],10):0,this.Ur=/SMART-TV.*Tizen/i.test(F),this.Fr=G?g(G[1]):0,this.Hr=/webos|web0s/i.test(F),this.Vr=/Edge\/\d+/i.test(F),this.Xr=/Trident/i.test(F),this.Wr=this.Xr&&!t.ActiveXObject&&"ActiveXObject"in t,this.qr=/Vivaldi/i.test(F),this.zr=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Gr=q?g(q[1]):0,this.jr=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Sr&&!this.Ur,this.Qr=W?g(W[2]):0,this.Yr=Boolean(z),this.Zr=z?g(z[1]):0,this.Jr="ios"===P._r,this.$r="ios"===P.dr,this.Kr=this.$r||this.Jr,this.te="ios"===P.gr,this.ie="ios"===P.wr,this.re="ios"===P.yr}return L(n,[{key:"ee",get:function(){return this.mr}},{key:"ue",get:function(){return this.kr}},{key:"se",get:function(){return this.pr}},{key:"oe",get:function(){return this.Ar}},{key:"he",get:function(){return this.Tr}},{key:"ae",get:function(){return this.Er}},{key:"ce",get:function(){return this.Sr}},{key:"fe",get:function(){return this.Rr}},{key:"ve",get:function(){return this.Ir}},{key:"de",get:function(){return this.Nr}},{key:"_e",get:function(){return this.Dr}},{key:"we",get:function(){return this.Or}},{key:"ye",get:function(){return this.Cr}},{key:"me",get:function(){return this.xr}},{key:"ke",get:function(){return this.Pr}},{key:"pe",get:function(){return this.Br}},{key:"Ae",get:function(){return this.Mr}},{key:"be",get:function(){return this.Ur}},{key:"Te",get:function(){return this.Fr}},{key:"Ee",get:function(){return this.Hr}},{key:"Se",get:function(){return this.Vr}},{key:"Re",get:function(){return this.Xr}},{key:"Ie",get:function(){return this.Wr}},{key:"Ne",get:function(){return this.qr}},{key:"De",get:function(){return this.zr}},{key:"Ce",get:function(){return this.Gr}},{key:"Oe",get:function(){return this.jr}},{key:"xe",get:function(){return this.Qr}},{key:"Pe",get:function(){return this.Yr}},{key:"Be",get:function(){return this.Zr}},{key:"Le",get:function(){return this.Jr}},{key:"Me",get:function(){return this.$r}},{key:"Ue",get:function(){return this.Kr}},{key:"Fe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}},{key:"Ve",get:function(){return this.re}},{key:"Xe",get:function(){return this.Lr}}]),n}();j.We=new j;var Q=j.We,Y={}.hasOwnProperty,Z={}.toString;function J(t){return null!=t}var $=Array.isArray||function(t){return"[object Array]"===Z.call(t)};function K(t){return tt(t)&&Y.call(t,"length")&&st(t.length)}function tt(t){return"object"==typeof t&&null!==t}function nt(t){return tt(t)&&t.constructor&&t.constructor===d}function it(t){return"string"==typeof t}function rt(t){return"boolean"==typeof t}function et(t){return Boolean(t)&&"function"==typeof t.then}function ut(t){return"[object Date]"===Z.call(t)}function st(t){return"number"==typeof t}var ot=!(Q.Re&&!Q.Ie),ht=t.console;function at(t){if(tt(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(at).join(" ")}function ft(t){var n=ht&&ht[t];return n?n.bind&&ot?n.bind(ht):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ht[t](ct(i))}:void 0}var vt,dt=ft("log")||S,lt=ft("warn")||dt.bind(void 0,"WARNING:"),_t=ft("error")||dt.bind(void 0,"ERROR:"),gt=(vt=ht&&ht.assert)?vt.bind&&ot?vt.bind(ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ht.assert(t,ct(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];_t.apply(void 0,["Assertion failed:"].concat(i))}},wt=mt,yt=null;try{yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function mt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function kt(t){return!0===(t&&t.qe)}mt.prototype.qe,d.defineProperty(mt.prototype,"qe",{value:!0}),mt.isLong=kt;var pt={},At={};function bt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=At[t])?r:(i=Et(t,(0|t)<0?-1:0,!0),e&&(At[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=pt[t])?r:(i=Et(t,t<0?-1:0,!1),e&&(pt[t]=i),i)}function Tt(t,n){if(w(t))return n?Pt:xt;if(n){if(t<0)return Pt;if(t>=Dt)return Ft}else{if(t<=-Ct)return Ht;if(t+1>=Ct)return Ut}return t<0?Tt(-t,n).neg():Et(t%Nt|0,t/Nt|0,n)}function Et(t,n,i){return new mt(t,n,i)}mt.fromInt=bt,mt.fromNumber=Tt,mt.fromBits=Et;var St=l.pow;function Rt(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return xt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return Rt(t.substring(1),n,i).neg();for(var e=Tt(St(i,8)),u=xt,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),h=_(t.substring(s,s+o),i);if(o<8){var a=Tt(St(i,o));u=u.mul(a).add(Tt(h))}else u=(u=u.mul(e)).add(Tt(h))}return u.unsigned=n,u}function It(t,n){return"number"==typeof t?Tt(t,n):"string"==typeof t?Rt(t,n):Et(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}mt.fromString=Rt,mt.fromValue=It;var Nt=4294967296,Dt=Nt*Nt,Ct=Dt/2,Ot=bt(1<<24),xt=bt(0);mt.ZERO=xt;var Pt=bt(0,!0);mt.UZERO=Pt;var Bt=bt(1);mt.ONE=Bt;var Lt=bt(1,!0);mt.UONE=Lt;var Mt=bt(-1);mt.NEG_ONE=Mt;var Ut=Et(-1,2147483647,!1);mt.MAX_VALUE=Ut;var Ft=Et(-1,-1,!0);mt.MAX_UNSIGNED_VALUE=Ft;var Ht=Et(0,-2147483648,!1);mt.MIN_VALUE=Ht;var Vt=mt.prototype;Vt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Vt.toNumber=function(){return this.unsigned?(this.high>>>0)*Nt+(this.low>>>0):this.high*Nt+(this.low>>>0)},Vt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ht)){var n=Tt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Tt(St(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),h=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}},Vt.getHighBits=function(){return this.high},Vt.getHighBitsUnsigned=function(){return this.high>>>0},Vt.getLowBits=function(){return this.low},Vt.getLowBitsUnsigned=function(){return this.low>>>0},Vt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ht)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Vt.isZero=function(){return 0===this.high&&0===this.low},Vt.eqz=Vt.isZero,Vt.isNegative=function(){return!this.unsigned&&this.high<0},Vt.isPositive=function(){return this.unsigned||this.high>=0},Vt.isOdd=function(){return 1==(1&this.low)},Vt.isEven=function(){return 0==(1&this.low)},Vt.equals=function(t){return kt(t)||(t=It(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Vt.eq=Vt.equals,Vt.notEquals=function(t){return!this.eq(t)},Vt.neq=Vt.notEquals,Vt.ne=Vt.notEquals,Vt.lessThan=function(t){return this.comp(t)<0},Vt.lt=Vt.lessThan,Vt.lessThanOrEqual=function(t){return this.comp(t)<=0},Vt.lte=Vt.lessThanOrEqual,Vt.le=Vt.lessThanOrEqual,Vt.greaterThan=function(t){return this.comp(t)>0},Vt.gt=Vt.greaterThan,Vt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Vt.gte=Vt.greaterThanOrEqual,Vt.ge=Vt.greaterThanOrEqual,Vt.compare=function(t){if(kt(t)||(t=It(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Vt.comp=Vt.compare,Vt.negate=function(){return!this.unsigned&&this.eq(Ht)?Ht:this.not().add(Bt)},Vt.neg=Vt.negate,Vt.add=function(t){kt(t)||(t=It(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+s)>>>16,h+=n+u,Et((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Vt.subtract=function(t){return kt(t)||(t=It(t)),this.add(t.neg())},Vt.sub=Vt.subtract,Vt.multiply=function(t){if(this.isZero())return xt;if(kt(t)||(t=It(t)),yt)return Et(yt.mul(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned);if(t.isZero())return xt;if(this.eq(Ht))return t.isOdd()?Ht:xt;if(t.eq(Ht))return this.isOdd()?Ht:xt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ot)&&t.lt(Ot))return Tt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*s)>>>16,a+=n*h+i*o+r*s+e*u,Et((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Vt.mul=Vt.multiply,Vt.divide=function(t){if(kt(t)||(t=It(t)),t.isZero())throw f("division by zero");var n,i,r;if(yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Et((this.unsigned?yt.div_u:yt.div_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Pt:xt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Pt;if(t.gt(this.shru(1)))return Lt;r=Pt}else{if(this.eq(Ht))return t.eq(Bt)||t.eq(Mt)?Ht:t.eq(Ht)?Bt:(n=this.shr(1).div(t).shl(1)).eq(xt)?t.isNegative()?Bt:Mt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ht))return this.unsigned?Pt:xt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=xt}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:St(2,e-48),s=Tt(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Tt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Bt),r=r.add(s),i=i.sub(o)}return r},Vt.div=Vt.divide,Vt.modulo=function(t){return kt(t)||(t=It(t)),yt?Et((this.unsigned?yt.rem_u:yt.rem_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Vt.mod=Vt.modulo,Vt.rem=Vt.modulo,Vt.not=function(){return Et(~this.low,~this.high,this.unsigned)},Vt.and=function(t){return kt(t)||(t=It(t)),Et(this.low&t.low,this.high&t.high,this.unsigned)},Vt.or=function(t){return kt(t)||(t=It(t)),Et(this.low|t.low,this.high|t.high,this.unsigned)},Vt.xor=function(t){return kt(t)||(t=It(t)),Et(this.low^t.low,this.high^t.high,this.unsigned)},Vt.shiftLeft=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Et(0,this.low<<t-32,this.unsigned)},Vt.shl=Vt.shiftLeft,Vt.shiftRight=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Et(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Vt.shr=Vt.shiftRight,Vt.shiftRightUnsigned=function(t){if(kt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Et(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Et(32===t?n:n>>>t-32,0,this.unsigned)},Vt.shru=Vt.shiftRightUnsigned,Vt.shr_u=Vt.shiftRightUnsigned,Vt.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this},Vt.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)},Vt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Vt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Vt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},mt.fromBytes=function(t,n,i){return i?mt.fromBytesLE(t,n):mt.fromBytesBE(t,n)},mt.fromBytesLE=function(t,n){return new mt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},mt.fromBytesBE=function(t,n){return new mt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Xt=wt,Wt=l.pow(2,-52);function qt(t,n,i){return l.min(l.max(t,n),i)}function zt(t,n,i){return t===n||l.abs(t-n)<=i}function Gt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Wt||i<l.max(l.abs(t),l.abs(n))*Wt}function jt(t){return t!=t}function Qt(t,n){return t===n||jt(t)&&jt(n)}function Yt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Zt(){return Date.now()||(new Date).getTime()}function Jt(t){return t/1e3}var $t,Kt=Xt.fromNumber(9007199254740991);function tn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Kt))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function nn(t){return t.ze===$t.Ge}function rn(t){return t.ze===$t.je}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Ge=1]="Ge",t[t.Qe=2]="Qe",t[t.je=3]="je",t[t.Ye=4]="Ye",t[t.Ze=9]="Ze"}($t||($t={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(un.prototype=d.create(f.prototype)).constructor=un;var sn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace(en(r),r.constructor),r}return U(n,t),L(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),on=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return U(n,t),n}(sn),hn=function(){function t(){}return t.prototype.Je=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new on(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new on;return new _n(n)},t}(),an=function(){function t(t){this.$e=void 0,this.$e=t}var n=t.prototype;return n.Ke=function(t){return this.$e.isEqualNode(t.$e)},n.tu=function(n){return new t(this.$e.cloneNode(n))},L(t,[{key:"ze",get:function(){return $t.Qe}},{key:"nu",get:function(){var t;return null!=(t=this.$e.localName)?t:yn(this.$e.nodeName)}},{key:"iu",get:function(){return this.$e.nodeName}},{key:"ru",get:function(){var t;return null!=(t=this.$e.namespaceURI)?t:void 0}},{key:"eu",get:function(){var t;return null!=(t=this.$e.prefix)?t:void 0}},{key:"uu",get:function(){return this.$e.nodeValue}}]),t}(),cn=function(){function t(t){this.su=void 0,this.ou=void 0,this.su=t}var n=t.prototype;return n.hu=function(t){return this.au.filter(function(n){return gn(n)&&n.cu===t})},n.fu=function(t,n){return this.au.filter(function(i){return gn(i)&&i.nu===n&&i.ru===t})},n.vu=function(t){this.su.appendChild(t.du),this.ou&&this.ou.push(t)},n.Ke=function(t){return this.su.isEqualNode(t.du)},L(t,[{key:"au",get:function(){return void 0===this.ou&&(this.ou=function(t){for(var n=[],i=0;i<t.length;i++){var r=wn(t.item(i));r&&n.push(r)}return n}(this.su.childNodes)),this.ou}},{key:"lu",get:function(){return this.au.filter(gn)}},{key:"du",get:function(){return this.su}}]),t}(),fn=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i._u=function(t){if(this.su.hasAttribute(t))return this.su.getAttribute(t)},i.gu=function(t,n){if(this.su.hasAttributeNS(t,n))return this.su.getAttributeNS(t,n)},i.wu=function(t){this.su.removeAttribute(t)},i.yu=function(t,n){this.su.removeAttributeNS(t,n)},i.mu=function(t,n){this.su.setAttribute(t,n)},i.ku=function(t,n,i){this.su.setAttributeNS(t,n,i)},i.tu=function(t){return new n(this.su.cloneNode(t))},L(n,[{key:"ze",get:function(){return $t.Ge}},{key:"nu",get:function(){var t;return null!=(t=this.su.localName)?t:yn(this.su.nodeName)}},{key:"ru",get:function(){var t;return null!=(t=this.su.namespaceURI)?t:void 0}},{key:"eu",get:function(){var t;return null!=(t=this.su.prefix)?t:void 0}},{key:"cu",get:function(){return this.su.nodeName}},{key:"pu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.su.attributes)}},{key:"Au",get:function(){return this.su.textContent}}]),n}(cn),vn=function(){function t(t){this.su=void 0,this.su=t}return t.prototype.Ke=function(t){return this.bu===t.bu},L(t,[{key:"bu",get:function(){return this.su.nodeValue}},{key:"du",get:function(){return this.su}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.tu=function(t){return new n(this.su.cloneNode(t))},L(n,[{key:"ze",get:function(){return $t.je}}]),n}(vn),ln=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.tu=function(t){return new n(this.su.cloneNode(t))},L(n,[{key:"ze",get:function(){return $t.Ye}}]),n}(vn),_n=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.tu=function(t){return new n(this.su.cloneNode(t))},L(n,[{key:"ze",get:function(){return $t.Ze}},{key:"Tu",get:function(){return new fn(this.su.documentElement)}}]),n}(cn);function gn(t){return nn(t)}function wn(t){switch(t.nodeType){case $t.Ge:return new fn(t);case $t.je:return new dn(t);case $t.Ye:return new ln(t)}}function yn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function mn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){pn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&pn(i,null,t.length,t),t}function pn(t,n,i,r){var e,u,s,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(s=(u=e+i)+i,u>a&&(u=a),s>a&&(s=a),o=e,h=u;;)if(o<u&&h<s)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<s))break;r[c++]=t[h++]}}var An=/[a-zA-Z]/,bn=/[0-9]/,Tn=/[0-9a-fA-F]/,En=/^0x/i,Sn=/^[0-9]+$/,Rn=/^[0-9a-fA-F]+$/,In=/^[0-7]+$/,Nn=d.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===Nn.call(t)},Cn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function On(t){return Dn(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Pn(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Bn(t){return t>=48&&t<=57}function Ln(t){return Bn(t)||Pn(t)}function Mn(t){return Bn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return xn(t)?t+32:t}function Fn(t){return Bn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Hn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Vn=l.min,Xn=String.fromCharCode,Wn=16384;function qn(t){for(var n=t.length,i=[],r=0;r<n;r+=Wn){var e=Vn(r+Wn,n);i.push(Xn.apply(null,t.slice(r,e)))}return i.join("")}var zn=/[^\0-\x7E]/,Gn=/[\x2E\u3002\uFF0E\uFF61]/g,jn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Qn=l.floor,Yn=String.fromCharCode;function Zn(t){throw new RangeError(jn[t])}function Jn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var $n,Kn,ti,ni=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ii=function(t,n,i){var r=0;for(t=i?Qn(t/700):t>>1,t+=Qn(t/n);t>455;r+=36)t=Qn(t/35);return Qn(r+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Gn,".")).split("."),n).join(".");return r+e}(t,function(t){return zn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Jn(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var h=o[s];h<128&&n.push(Yn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Qn((2147483647-e)/_)&&Zn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Zn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(Yn(ni(p+A%b,0))),m=Qn(A/b)}n.push(Yn(ni(m,0))),u=ii(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function ei(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return qn(n)}function ui(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function si(t,n){return t>>n&63|128}function oi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(si(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(si(t,12)),n.push(si(t,6))),n.push(63&t|128)):n.push(t)}function hi(t){for(var n=[],i=0;i<t.length;i++){oi(t[i],n)}return n}function ai(){if(ti>=Kn)throw new f("Invalid byte index");var t=255&$n[ti];if(ti++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function ci(){var t,n;if(ti>Kn)throw new f("Invalid byte index");if(ti===Kn)return!1;if(t=255&$n[ti],ti++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ui(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function fi(t){return[37,Hn(t>>4),Hn(15&t)]}function vi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function di(t){return vi(t)||32===t||34===t||60===t||62===t||96===t}function li(t){return di(t)||35===t||63===t||123===t||125===t}function _i(t){return li(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function wi(t){return gi(t)||39===t}function yi(t,n){if(!n(t))return[t];for(var i=hi([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,fi(u))}return r}function mi(t,n){for(var i=[],r=0,e=Jn(t);r<e.length;r++){var u=e[r];i.push.apply(i,yi(u,n))}return ei(i)}function ki(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Mn(t[r+1])&&Mn(t[r+2])){var u=Fn(t[r+1])<<4|Fn(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(hi(t))}function pi(t){return ei(function(t){$n=t.slice(),Kn=$n.length,ti=0;for(var n,i=[];!1!==(n=ci());)i.push(n);return i}(ki(Jn(t))))}function Ai(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,h=o+=1}for(;a<u;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<u&&Tn.test(t[a]);)c=c<<4|_(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new v;if(a-=f,o>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!bn.test(t[a]))throw new v;for(;a<u&&bn.test(t[a]);){var g=_(t[a],10);if(null===l)l=g;else{if(0===l)throw new v;if((l=10*l+g)>255)throw new v}a+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;s[o]=c,o+=1}else{if(null!==h)throw new v("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new v;return s}function bi(t){var n=10,i=Sn;return En.test(t)?(t=t.slice(2),n=16,i=Rn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=In),""===t?0:i.test(t)?_(t,n):void 0}var Ti={Eu:4},Ei=/[\0\t\n\r #%/:?@\[\\\]]/,Si=/[\0\t\n\r #/:?@\[\\\]]/;function Ri(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Eu:2,Su:Ai(t.slice(1,-1))}}if(!n)return function(t){if(Si.test(t))throw new v("Invalid code point in opaque host");var n=mi(t,vi);return""===n?Ti:{Eu:3,nr:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(pi(t));if(Ei.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=bi(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*l.pow(256,3-h);return o}}(i);return void 0!==r?{Eu:1,Su:r}:""===i?Ti:{Eu:0,Ru:i}}function Ii(t){switch(t.Eu){case 0:return t.Ru;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Su);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Su)+"]";case 3:return t.nr;case 4:return""}}var Ni=/\+/g;function Di(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Ni," "),o=o.replace(Ni," ");var h=pi(s),a=pi(o);i.push([h,a])}}return i}function Ci(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Oi(hi(Jn(r[0])))+"="+Oi(hi(Jn(r[1])))}return n}function Oi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Ln(n)?i.push(e):i.push.apply(i,fi(e))}return qn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Li(u))if(Mi(u)||e===i-1)r.push(Bi);else{var s=t.charCodeAt(e+1);Mi(s)?(r.push(u,s),e++):r.push(Bi)}else r.push(u)}return t.slice(0,n)+qn(r)}(n,i.index):n}var Bi=65533,Li=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Fi(t){t.Iu.length=0}function Hi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Iu,Di(n))}function Vi(t){if(t.Nu){var n=Ci(t.Iu);""===n&&(n=null),t.Nu.Nu.Du=n}}var Xi=function(){function t(t){if(void 0===t&&(t=void 0),this.Nu=null,null==t)this.Iu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Xi&&Dn(u.Iu)&&(!Cn||u[Symbol.iterator]===Wi))this.Iu=t.Iu.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!Cn&&"function"==typeof t[Symbol.iterator])}(t)){this.Iu=[];for(var n=0,i=On(t);n<i.length;n++){var r=On(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Iu.push([Pi(r[0]),Pi(r[1])])}}else for(var e in this.Iu=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Iu.push([Pi(e),Pi(t[e])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Iu=Di(t);var u}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Iu.push([t,n]),Vi(this)},n.delete=function(t){t=Pi(t);for(var n=this.Iu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Vi(this)},n.get=function(t){t=Pi(t);for(var n=this.Iu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Iu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Iu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Iu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Vi(this)},n.sort=function(){kn(this.Iu,Ui),Vi(this)},n.toString=function(){return Ci(this.Iu)},n.entries=function(){return new ji(this.Iu,qi)},n.keys=function(){return new ji(this.Iu,zi)},n.values=function(){return new ji(this.Iu,Gi)},n.forEach=function(t){var n=this;this.Iu.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=Xi.prototype.entries;Cn&&(Xi.prototype[Symbol.iterator]=Wi);var qi=function(t){return[t[0],t[1]]},zi=function(t){return t[0]},Gi=function(t){return t[1]},ji=function(){function t(t,n){this.Cu=0,this.Iu=t,this.Ou=n}return t.prototype.next=function(){return this.Cu<this.Iu.length?{done:!1,value:this.Ou(this.Iu[this.Cu++])}:{done:!0,value:void 0}},t}(),Qi="null";var Yi=d.create(null);Yi.ftp=21,Yi.file=0,Yi.gopher=70,Yi.http=80,Yi.https=443,Yi.ws=80,Yi.wss=443;var Zi=/^(?:\.|%2e)$/i,Ji=/^(?:\.|%2e){2}$/i;function $i(t){return Zi.test(t)}function Ki(t){return Ji.test(t)}function tr(t){return void 0!==Yi[t]}function nr(t){return tr(t.xu)}function ir(t){return""!==t.Pu||""!==t.Bu}function rr(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function er(t){return 2===t.length&&An.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&er(qn(t))}function sr(t){return er(t)&&":"===t[1]}function or(t){var n=t.Lu;0!==n.length&&("file"===t.xu&&1===n.length&&sr(n[0])||n.pop())}function hr(t){return null===t.Mu||Ti===t.Mu||t.Uu||"file"===t.xu}var ar=-1,cr=/\t|\n|\r/g,fr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function vr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new lr,t=t.replace(fr,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,h=!1,a=Jn(t=t.replace(cr,"")),c=a.length,f=0;f<=c;){var d=f<c?a[f]:ar;switch(e){case 0:if(!Pn(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Un(d)),e=1;break;case 1:if(Ln(d)||43===d||45===d||46===d)u.push(Un(d));else{if(58!==d){if(null===r){u.length=0,e=2,f=0;continue}throw new v("Invalid scheme")}var l=ei(u);if(null!==r){if(tr(i.xu)&&!tr(l))return;if(!tr(i.xu)&&tr(l))return;if((ir(i)||null!==i.Fu)&&"file"===l)return;if("file"===i.xu&&(i.Mu===Ti||null===i.Mu))return}if(i.xu=l,null!==r)return void(nr(i)&&i.Fu===Yi[i.xu]&&(i.Fu=null));u.length=0,"file"===i.xu?e=13:nr(i)&&n&&n.xu===i.xu?e=3:nr(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Uu=!0,i.Lu.push(""),e=18)}break;case 2:if(!n||n.Uu&&35!==d)throw new v("Invalid scheme");n.Uu&&35===d?(i.xu=n.xu,i.Lu=n.Lu.slice(),i.Du=n.Du,i.Hu="",i.Uu=!0,e=20):"file"!==n.xu?(e=5,f-=1):(e=13,f-=1);break;case 3:47===d&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===d?e=9:(e=17,f-=1);break;case 5:i.xu=n.xu,ar===d?(i.Pu=n.Pu,i.Bu=n.Bu,i.Mu=n.Mu,i.Fu=n.Fu,i.Lu=n.Lu.slice(),i.Du=n.Du):47===d?e=6:63===d?(i.Pu=n.Pu,i.Bu=n.Bu,i.Mu=n.Mu,i.Fu=n.Fu,i.Lu=n.Lu.slice(),i.Du="",e=19):35===d?(i.Pu=n.Pu,i.Bu=n.Bu,i.Mu=n.Mu,i.Fu=n.Fu,i.Lu=n.Lu.slice(),i.Du=n.Du,i.Hu="",e=20):92===d&&nr(i)?e=6:(i.Pu=n.Pu,i.Bu=n.Bu,i.Mu=n.Mu,i.Fu=n.Fu,i.Lu=n.Lu.slice(),i.Lu.pop(),e=17,f-=1);break;case 6:!nr(i)||47!==d&&92!==d?47===d?e=9:(i.Pu=n.Pu,i.Bu=n.Bu,i.Mu=n.Mu,i.Fu=n.Fu,e=17,f-=1):e=8;break;case 7:if(47!==d||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==d&&92!==d&&(e=9,f-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var w=u[g];if(58!==w||h){var y=ei(yi(w,_i));h?i.Bu+=y:i.Pu+=y}else h=!0}u.length=0}else if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(s&&0===u.length)throw new v("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.xu)f-=1,e=15;else if(58!==d||o)if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(f-=1,nr(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(ir(i)||null!==i.Fu))return;var m=Ri(ei(u),nr(i));if(i.Mu=m,u.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var k=Ri(ei(u),nr(i));if(i.Mu=k,u.length=0,e=12,11===r)return}break;case 12:if(Bn(d))u.push(d);else{if(!(ar===d||47===d||63===d||35===d||nr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var p=_(ei(u),10);if(p>65535)throw new v("Invalid port");i.Fu=p===Yi[i.xu]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.xu="file",47===d||92===d?e=14:n&&"file"===n.xu?ar===d?(i.Mu=n.Mu,i.Lu=n.Lu.slice(),i.Du=n.Du):63===d?(i.Mu=n.Mu,i.Lu=n.Lu.slice(),i.Du="",e=19):35===d?(i.Mu=n.Mu,i.Lu=n.Lu.slice(),i.Du=n.Du,i.Hu="",e=20):(rr(a.slice(f))||(i.Mu=n.Mu,i.Lu=n.Lu.slice(),or(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.xu&&!rr(a.slice(f))&&(sr(n.Lu[0])?i.Lu.push(n.Lu[0]):i.Mu=n.Mu),e=17,f-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(f-=1,null===r&&ur(u))e=17;else if(0===u.length){if(i.Mu=Ti,null!==r)return;e=16}else{var A=Ri(ei(u),nr(i));if(0===A.Eu&&"localhost"===A.Ru&&(A=Ti),i.Mu=A,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:nr(i)?(e=17,47!==d&&92!==d&&(f-=1)):null===r&&63===d?(i.Du="",e=19):null===r&&35===d?(i.Hu="",e=20):ar!==d&&(e=17,47!==d&&(f-=1));break;case 17:if(ar===d||47===d||nr(i)&&92===d||null===r&&(63===d||35===d)){var b=ei(u);if(Ki(b)?(or(i),47===d||nr(i)&&92===d||i.Lu.push("")):!$i(b)||47===d||nr(i)&&92===d?$i(b)||("file"===i.xu&&0===i.Lu.length&&ur(u)&&(Ti!==i.Mu&&null!==i.Mu&&(i.Mu=Ti),u[1]=58,b=ei(u)),i.Lu.push(b)):i.Lu.push(""),u.length=0,"file"===i.xu&&(ar===d||63===d||35===d))for(;i.Lu.length>1&&""===i.Lu[0];)i.Lu.shift();63===d?(i.Du="",e=19):35===d&&(i.Hu="",e=20)}else u.push.apply(u,yi(d,li));break;case 18:63===d?(i.Du="",e=19):35===d?(i.Hu="",e=20):ar!==d&&(i.Lu[0]+=ei(yi(d,vi)));break;case 19:null===r&&35===d?(i.Hu="",e=20):ar!==d&&(i.Du+=ei(yi(d,nr(i)?wi:gi)));break;case 20:ar===d||0===d||(i.Hu+=ei(yi(d,di)))}f++}return i}function dr(t,n,i,r){try{vr(t,n,i,r)}catch(t){}}var lr=function(){this.xu="",this.Pu="",this.Bu="",this.Mu=null,this.Fu=null,this.Lu=[],this.Du=null,this.Hu=null,this.Uu=!1};function _r(t){switch(t.xu){case"blob":var n;try{n=vr(t.Lu[0],null)}catch(t){return Qi}return _r(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.xu,r=t.Mu,e=t.Fu,i+"://"+Ii(r)+(null===e?"":":"+e);case"file":default:return Qi}var i,r,e}var gr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof gr&&"object"==typeof i.Nu)e=n.Nu;else try{e=vr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=vr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=r.Du;this.Nu=r,this.Du=function(t){var n=new Xi;return null!==t&&Hi(n,t),n}(u),this.Du.Nu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.xu+":";if(null!==t.Mu?(i+="//",ir(t)&&(i+=t.Pu,""!==t.Bu&&(i+=":"+t.Bu),i+="@"),i+=Ii(t.Mu),null!==t.Fu&&(i+=":"+t.Fu)):null===t.Mu&&"file"===t.xu&&(i+="//"),t.Uu)i+=t.Lu[0];else for(var r=0,e=t.Lu;r<e.length;r++)i+="/"+e[r];return null!==t.Du&&(i+="?"+t.Du),n||null===t.Hu||(i+="#"+t.Hu),i}(this.Nu)},set:function(t){var n;try{n=vr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Nu=n,Fi(this.Du);var i=this.Nu.Du;null!==i&&Hi(this.Du,i)}},{key:"origin",get:function(){return _r(this.Nu)}},{key:"protocol",get:function(){return this.Nu.xu+":"},set:function(t){dr(t+":",null,this.Nu,0)}},{key:"username",get:function(){return this.Nu.Pu},set:function(t){hr(this.Nu)||(this.Nu.Pu=mi(t,_i))}},{key:"password",get:function(){return this.Nu.Bu},set:function(t){hr(this.Nu)||(this.Nu.Bu=mi(t,_i))}},{key:"host",get:function(){var t=this.Nu,n=t.Mu;if(null===n)return"";var i=t.Fu,r=Ii(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Nu.Uu||dr(t,null,this.Nu,10)}},{key:"hostname",get:function(){var t=this.Nu.Mu;return null===t?"":Ii(t)},set:function(t){this.Nu.Uu||dr(t,null,this.Nu,11)}},{key:"port",get:function(){var t=this.Nu.Fu;return null===t?"":""+t},set:function(t){hr(this.Nu)||(""===t?this.Nu.Fu=null:dr(t,null,this.Nu,12))}},{key:"pathname",get:function(){var t=this.Nu.Lu;return this.Nu.Uu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Nu.Uu||(this.Nu.Lu.length=0,dr(t,null,this.Nu,16))}},{key:"search",get:function(){var t=this.Nu.Du;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Nu;if(""===t)return n.Du=null,void Fi(this.Du);"?"===t[0]&&(t=t.slice(1)),n.Du="",dr(t,null,n,19),Hi(this.Du,t)}},{key:"searchParams",get:function(){return this.Du}},{key:"hash",get:function(){var t=this.Nu.Hu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Nu.Hu="",dr(t,null,this.Nu,20)):this.Nu.Hu=null}}])&&mn(n.prototype,i),r&&mn(n,r),t}();function wr(t,n,i){return t.split(n).join(i)}function yr(t,n){return null!=t&&-1!==t.indexOf(n)}function mr(t,n){return null!=t&&t.substr(0,n.length)===n}function kr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function pr(t,n){return t.toUpperCase()===n.toUpperCase()}function Ar(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function br(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Ar(r,e/r.length)),r.slice(0,e)+t)}function Tr(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Sr(n)}var Er=16384;function Sr(t){var n=t.length;if(n<=Er)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Er)i.push(String.fromCharCode.apply(String,t.slice(r,r+Er)));return i.join("")}function Rr(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Ir(t,n){var i=b.Vu(t);return n&&!kr(i,"/")&&(i+="/"),i}var Nr,Dr,Cr,Or,xr,Pr,Br,Lr=/cache:(.+)?(?=&|$)/,Mr="http://webcache.googleusercontent.com/search?q=cache:";function Ur(t){if(!mr(t,Mr))return"";var n=b.Xu(t).search.match(Lr);return n&&n.length>1?n[1]:""}function Fr(t){return b.Xu(t).hostname}function Hr(t){return t.document&&t.document.baseURI||t.location.href||""}function Vr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Xr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Wr(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function qr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function zr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Gr(t){t.removeAttribute("title")}function jr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Qr(t){t.src&&(t.removeAttribute("src"),t.load())}function Yr(){return void 0!==e?e.createElement("video"):void 0}function Zr(){return Br||(Br=Yr()),Br}var Jr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),$r=Zr(),Kr=!(!$r||!$r.webkitShowPlaybackTargetPicker),te=function(){function t(){this.Wu=void 0,this.qu=!1,this.ee=Jr,this.me=!1,this.zu=!0}var n=t.prototype;return n.Gu=function(){return 0},n.ju=function(t,n){return!0},n.Qu=function(t){return t>=1/6*2},L(t,[{key:"Yu",get:function(){return void 0===this.Wu&&(this.Wu=this.Gu()),this.Wu}},{key:"Zu",get:function(){return r.devicePixelRatio||1}},{key:"Ju",get:function(){return Kr}},{key:"$u",get:function(){return!1}},{key:"Ku",get:function(){return!0}},{key:"ts",get:function(){return Q.Oe}},{key:"rs",get:function(){return!0}}]),t}(),ne=function(){var t=Yr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Q.de)return!1;var t=Yr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ie=function(t){function n(n){var i;return(i=t.call(this)||this).es=void 0,i.es=n,i.es&&(i.qu=i.es.qu,i.ee=i.es.ee,i.zu=ne&&i.es.zu),i}U(n,t);var i=n.prototype;return i.Gu=function(){return this.es?this.es.Yu:t.prototype.Gu.call(this)},i.ju=function(n,i){return this.es?this.es.ju(n,i):t.prototype.ju.call(this,n,i)},i.Qu=function(n){return this.es?this.es.Qu(n):t.prototype.Qu.call(this,n)},n}(te),re=function(t){function n(n){var i;return(i=t.call(this,n)||this).qu=!0,i.me=!0,i}return U(n,t),n}(ie),ee=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Gu=function(){return Or.MediaSource?t.prototype.Gu.call(this):1},n}(re),ue=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ju=function(n,i){return!(i.us>1920)&&t.prototype.ju.call(this,n,i)},L(n,[{key:"$u",get:function(){return Q.Te<3}},{key:"Ku",get:function(){return Q.Te>=3}}]),n}(ie),se=function(t){function n(){return t.call(this)||this}return U(n,t),n}(te),oe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ju=function(t,n){if(t&&t.ss&&n&&n.ss){var i=he(t.ss,"mp4a.40.2")&&he(n.ss,"mp4a.40.5"),r=he(t.ss,"mp4a.40.5")&&he(n.ss,"mp4a.40.2"),e=he(t.ss,"mp4a.40.2")&&he(n.ss,"mp4a.40.34"),u=he(t.ss,"mp4a.40.34")&&he(n.ss,"mp4a.40.2"),s=he(t.ss,"mp4a.40.5")&&he(n.ss,"mp4a.40.34"),o=he(t.ss,"mp4a.40.34")&&he(n.ss,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(se);function he(t,n){return t.indexOf(n)>-1}var ae=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Qu=function(t){return t>=2},n}(se),ce=function(t){function n(){var n;return(n=t.call(this)||this).qu=Q.xe>=11,n.zu=Q.Oe&&!(Q.we&&Q.xe<10),n}return U(n,t),n}(se),fe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),L(n,[{key:"rs",get:function(){return!1}}]),n}(ie),ve=function(){function n(){var n;this.os=void 0,this.hs=new hn,this.as=new de,this.cs=(n=function(){if(Q.De)return new oe;if(Q.Se||Q.Re)return new ae;if(Q.Oe)return new ce;return new se}(),Q.we?new ee(n):Q.me?new re(n):Q.be?new ue(n):Q.Ee?new fe(n):new ie(n)),this.fs=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.os=function(){return t.performance.now()}:this.os=Zt}var i=n.prototype;return i.vs=function(){dt.apply(void 0,arguments)},i.ds=function(){lt.apply(void 0,arguments)},i.ls=function(){_t.apply(void 0,arguments)},i._s=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];gt.apply(void 0,[t].concat(i))},i.sr=function(t,n){return o(t,n)},i.gs=function(t,n){return a(t,n)},i.ur=function(t){h(t)},i.ys=function(t){c(t)},i.Je=function(t){return this.hs.Je(t)},i.ks=function(){return this.ps.ks()},i.As=function(){return this.ps.As()},i.bs=function(){return this.ps.bs()},i.Ts=function(){return this.ps.Ts()},i.Es=function(){return this.ps.Es()},i.Ss=function(t,n){return this.ps.Ss(t,n)},i.Rs=function(t){return this.ps.Rs(t)},i.Xu=function(t,n){return void 0===n&&(n=Hr(Or)),new gr(t,n)},i.Vu=function(n,i){if(void 0===i&&(i=Hr(Or)),this.fs){var r=it(i)?i:i.toString();return new t.URL(n,r).href}return this.Xu(n,i).href},L(n,[{key:"Is",get:function(){return this.as}},{key:"Ns",get:function(){return this.cs}},{key:"Ds",get:function(){return{Cs:s&&s.userAgent.match(/Android /i)?"Android":"other",Os:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"xs",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),de=function(){function t(){}return L(t,[{key:"Ps",get:function(){return s.oscpu}},{key:"Ns",get:function(){return s.platform}},{key:"Bs",get:function(){return s.vendor}},{key:"Ls",get:function(){return s.vendorSub}}]),t}();var le=A(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,u=d.create(e.prototype),s=new C(r||[]);return u.Ms=function(t,n,i){var r=c;return function(e,u){if(r===_)throw new f("Generator is already running");if(r===g){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.Us=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:l,h.arg===y)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",l="suspendedYield",_="executing",g="completed",y={};function m(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=d.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=m.prototype=d.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Ms(n,t)}})}function R(t){var n;this.Ms=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"Fs")?Promise.resolve(c.Fs).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(c).then(function(t){h.value=t,u(h)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,y;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!w(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{Fs:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Us=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!w(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var h=r.call(s,"catchLoc"),a=r.call(s,"finallyLoc");if(h&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(h){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,y):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new f("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function _e(){return(_e=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ge(){var t=d.create(null);return t.Hs=void 0,delete t.Hs,t}function we(){return new pe}function ye(t){var n=we();for(var i in t)Y.call(t,i)&&n.set(i,t[i]);return n}var me,ke="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,pe=ke||(me=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ge(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ge(),this.size=0},n.keys=function(){return new me(this.data,function(t,n){return n})},n.values=function(){return new me(this.data,function(t,n){return t[n]})},n.entries=function(){return new me(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ae,be=ke||(Ae=function(){function t(t,n){this.Vs=void 0,this.Xs=void 0,this.Vs=t,this.Xs=n}var n=t.prototype;return n.next=function(){var t=this.Vs.next();return t.done?t:{value:this.Xs(t.value),done:!1}},t}(),function(){function t(){this.Ws=we()}var n=t.prototype;return n.get=function(t){return this.Ws.get(""+t)},n.set=function(t,n){return this.Ws.set(""+t,n),this},n.has=function(t){return this.Ws.has(""+t)},n.delete=function(t){return this.Ws.delete(""+t)},n.clear=function(){this.Ws.clear()},n.keys=function(){return new Ae(this.Ws.keys(),function(t){return Number(t)})},n.values=function(){return this.Ws.values()},n.entries=function(){return new Ae(this.Ws.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Ws.forEach(function(n,i){t(n,Number(i))})},L(t,[{key:"size",get:function(){return this.Ws.size}}]),t}());var Te,Ee="urn:mpeg:dash:mp4protection:2011",Se="cenc",Re="sinf",Ie="skd",Ne="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",De="com.microsoft.playready",Ce="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Oe="urn:uuid:"+Ce,xe="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Pe="urn:uuid:"+xe,Be="com.apple.fps.1_0";!function(t){t.qs="playready",t.zs="widevine",t.Gs="fairplay",t.js="clearkey",t.Qs="aes128"}(Te||(Te={}));var Le={Ys:Te.qs,Zs:De,Js:"cenc",$s:"9a04f079-9840-4286-ab92-e65be0885f95",Ks:Ne,to:"PlayReady"},Me={Ys:Te.zs,Zs:"com.widevine.alpha",Js:"cenc",$s:Ce,Ks:Oe,to:"Widevine"},Ue={Ys:Te.Gs,Zs:Be,Js:"skd",$s:xe,Ks:Pe,to:"FairPlay"},Fe=(Te.Gs,{Ys:Te.js,Zs:"org.w3.clearkey",Js:"cenc",$s:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ks:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",to:"ClearKey"}),He=[Le,Me,Ue,Fe];function Ve(t){return He.filter(function(n){return n.Ks===t.toLowerCase()})}var Xe=Q.pe&&Q.Ae>=42||Q.De&&Q.Ce>=38||Q.Se||Q.Ie||Q.Pe&&Q.Be>=29;function We(t,n){return yr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[_e({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[_e({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function qe(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess}function ze(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ge=function(){function t(t){this.io=void 0,this.ro=we(),this.eo=void 0,this.io=t}var n=t.prototype;return n.Es=function(){return this.Rs(Me)},n.As=function(){return this.Rs(Fe)},n.Ts=function(){return this.Rs(Le)},n.bs=function(){return this.Rs(Ue)},n.Rs=function(t){var n=t.Ks,i=this.ro.get(n);if(i)return i;var r=this.Ss(t,'video/mp4; codecs="avc1.42000a"');return this.ro.set(n,r),r},n.Ss=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.io.uo(n.Zs,[We(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.io.uo(n.Zs,[We(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.ks=function(){return this.eo||(this.eo=this.so()),this.eo},n.so=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==xr.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Xe){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.As();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function je(t,n){var i=Qe(t,n);return i!==t&&Ye(i,void 0,t.length,t),t}function Qe(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Ye(i,n,u,e);var s=i;i=e,e=s}return i}function Ye(t,n,i,r){var e,u,s,o,h,a=t.length,c=0,f=2*i;for(u=0;u<a;u+=f)for(e=(s=u+i)+i,s>a&&(s=a),e>a&&(e=a),o=u,h=s;;)if(o<s&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function Ze(t,n,i){var r=Je(t,n,i);return-1===r?void 0:t[r]}function Je(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function $e(t,n){var i=t.indexOf(n);return-1!==i&&(Ke(t,i),!0)}function Ke(t,n){t.splice(n,1)}function tu(t,n){return-1!==t.indexOf(n)}function nu(t,n){for(var i=0;i<n.length;i++){if(!tu(t,n[i]))return!1}return!0}function iu(t){t.length=0}function ru(t){var n;return(n=[]).concat.apply(n,t)}function eu(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var uu=function(){function t(){this.oo=!1,this.ho=!1,this.ao=[],this.co=[]}var n=t.prototype;return n.fo=function(){if(!this.oo&&!this.ho){this.oo=!0;for(var t=0,n=this.ao.slice();t<n.length;t++){(0,n[t])()}this.vo()}},n.vo=function(){if(!this.ho){this.ho=!0;for(var t=0,n=this.co.slice();t<n.length;t++){(0,n[t])()}iu(this.ao),iu(this.co)}},n.do=function(t){this.ho||this.ao.push(t)},n.lo=function(t){this.ho||$e(this.ao,t)},n._o=function(t){this.ho||this.co.push(t)},n.wo=function(t){this.ho||$e(this.co,t)},t}(),su=function(){function t(){this.yo=new uu}var n=t.prototype;return n.mo=function(){this.yo.fo()},n.vo=function(){this.yo.vo()},n.ko=function(t){var n=this.yo;if(!n.oo)if(t.oo)n.fo();else if(!n.ho&&!t.ho){var i=function(){r(),n.fo()},r=function r(){t.lo(i),t.wo(r),n.lo(i),n.wo(r)};t.do(i),t._o(r),n.do(i),n._o(r)}},n.po=function(){var n=new t,i=new t,r=n.Ao,e=i.Ao,u=this.yo,s=function(){r.oo&&e.ho||e.oo&&r.ho?u.fo():r.ho&&e.ho&&u.vo()};r.do(s),e.do(s),r._o(s),e._o(s),n.ko(u),i.ko(u);return u._o(function(){r.lo(s),e.lo(s),r.wo(s),e.wo(s)}),[n,i]},L(t,[{key:"Ao",get:function(){return this.yo}}]),t}(),ou=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"AbortError"}}]),n}(sn);function hu(t){return t instanceof f&&"AbortError"===t.name}function au(t){if(t&&t.oo)throw new ou}function cu(t){if(hu(t))throw t}function fu(t){if(!hu(t))throw t}function vu(t,n){return n?new T(function(i,r){if(n.oo)return t.catch(S),r(new ou);var e=function t(){n.lo(t),r(new ou)};n.do(e),t.then(function(t){n.lo(e),i(t)},function(t){n.lo(e),r(t)})}):t}function du(t,n){return t.then(function(t){return n.vo(),t},function(t){throw n.vo(),t})}function lu(t,n){var i=new su;return n&&i.ko(n),t(i.Ao).then(function(t){return i.mo(),t},function(t){throw i.mo(),t})}var _u=T.resolve();function gu(t){_u.then(t)}function wu(t){t.then(S,S)}function yu(t){return mu.apply(this,arguments)}function mu(){return(mu=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,T.all(n.map(function(t){return t.catch(S)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ku(t,n){return new T(function(i,r){if(void 0!==n&&n.oo)r(new ou);else{var e=b.sr(function(){void 0!==n&&n.lo(u),i()},t),u=function(){b.ur(e),r(new ou)};void 0!==n&&n.do(u)}})}function pu(t,n){var i=new su;return T.race([t,ku(n,i.Ao).then(function(){throw new f("Timeout")})]).then(function(t){return i.mo(),t},function(t){throw i.mo(),t})}function Au(t){return t&&"function"!=typeof t?t.slice():t}function bu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Tu,Eu=function(){function t(t){var n=this;this.bo=ge(),this.To=void 0,this.Eo=void 0,this.So=function(t){n.Ro(t)},this.Eo=t||this}var n=t.prototype;return n.Io=function(t,n){if("function"==typeof n)if("string"==typeof t)this.No(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.No(r,n)}},n.No=function(t,n){var i=this.bo[t];i?"function"==typeof i?this.bo[t]=[i,n]:i.push(n):this.bo[t]=n},n.Do=function(t){if("function"==typeof t){var n=this.To;n?"function"==typeof n?this.To=[n,t]:n.push(t):this.To=t}},n.Co=function(){this.bo=ge(),this.To=void 0},n.Ro=function(t){var n=Au(this.bo[t.type]),i=Au(this.To);bu(this.Eo,t,n),bu(this.Eo,t,i)},n.Oo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.xo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.xo(r,n)}},n.xo=function(t,n){var i=this.bo[t];i&&("function"==typeof i?i===n&&(this.bo[t]=void 0):$e(i,n))},n.Po=function(t){if("string"==typeof t)this.bo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.bo[i]=void 0}},n.Bo=function(t){var n=this.To;n&&("function"==typeof n?n===t&&(this.To=void 0):$e(n,t))},n.Lo=function(t,n){var i=this;return new T(function(r,e){if(n&&n.oo)return e(new ou);var u=function(t){o(),r(t)},s=function(){o(),e(new ou)},o=function(){i.Oo(t,u),n&&n.lo(s)};i.Io(t,u),n&&n.do(s)})},t}(),Su=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Ro=function(n){var i=this;gu(function(){t.prototype.Ro.call(i,n)})},n}(Eu),Ru=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Iu=["cenc"],Nu=["cbcs","cbcs-1-9"],Du=function(t){function n(n){var i;return(i=t.call(this,"Uo")||this).Mo=n,i}return U(n,t),n}(Ru),Cu=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Fo")||this).Mo=n,u.Ho=i,u.Fo=r,u.Vo=e,u}return U(n,t),n}(Ru),Ou=function(t){function n(){return t.call(this,"Xo")||this}return U(n,t),n}(Ru);!function(t){t.Wo="qo",t.zo="Go"}(Tu||(Tu={}));var xu=function(t){function n(n,i){var r;return(r=t.call(this,Tu.Wo)||this).Js=n,r.jo=i,r}return U(n,t),n}(Ru),Pu=function(t){function n(){return t.call(this,Tu.zo)||this}return U(n,t),n}(Ru),Bu=new y([0]).buffer,Lu=function(){function t(){this.Qo=void 0,this.Qo=[]}var n=t.prototype;return n.Yo=function(t){for(var n=0,i=this.Qo;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Zo=function(t){for(var n=0,i=this.Qo;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Jo=function(t,n){this.Qo.forEach(function(n){return t(n[1],n[0])},n)},n.$o=function(t,n){this.Qo.push([t,n])},n.Ko=function(){iu(this.Qo)},L(t,[{key:"th",get:function(){return this.Qo.length}}]),t}(),Mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Uu=16383,Fu=/[\t\n\f\r ]/g;function Hu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Vu()}function Vu(){throw new f("Invalid base64 input")}function Xu(t){var n=t;Fu.test(n)&&(n=n.replace(Fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Vu();for(var e,u=0===r?0:4-r,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,h=0,a=0;h<o;h+=4)e=Hu(n.charCodeAt(h))<<18|Hu(n.charCodeAt(h+1))<<12|Hu(n.charCodeAt(h+2))<<6|Hu(n.charCodeAt(h+3)),s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===u?(e=Hu(n.charCodeAt(h))<<2|Hu(n.charCodeAt(h+1))>>4,s[a++]=255&e):1===u&&(e=Hu(n.charCodeAt(h))<<10|Hu(n.charCodeAt(h+1))<<4|Hu(n.charCodeAt(h+2))>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function Wu(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],Mu[r>>2]+Mu[(3&r)<<4|e>>4]+Mu[(15&e)<<2|u>>6]+Mu[63&u]));return s.join("")}function qu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Uu)r.push(Wu(t,u,l.min(e,u+Uu)));if(1===i){var s=t[n-1];r.push(Mu[s>>2]+Mu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Mu[o>>2]+Mu[(3&o)<<4|h>>4]+Mu[(15&h)<<2]+"=")}return r.join("")}var zu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Gu=ArrayBuffer.isView||function(t){return t&&tu(zu,Z.call(t))};function ju(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Qu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function Yu(t){return Xu(t).buffer}function Zu(t){return qu(new y(t))}function Ju(t){return qu(Os(t))}var $u=function(){function t(t){void 0===t&&(t=0),this.nh=t}var n=t.prototype;return n.ih=function(t){this.nh+=t},n.rh=function(t){this.nh=t},n.eh=function(){return new t(this.uh)},L(t,[{key:"uh",get:function(){return this.nh}}]),t}();function Ku(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ts(t,n){return t>>n&63|128}function ns(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ku(t),n.push(t>>12&15|224),n.push(ts(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ts(t,12)),n.push(ts(t,6))),n.push(63&t|128)):n.push(t)}function is(t,n){if(n.uh>=t.length)throw new f("Invalid byte index");var i=255&t[n.uh];if(n.ih(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function rs(t,n){var i=n.uh;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.ih(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|is(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|is(t,n)<<6|is(t,n);if(u>=2048)return Ku(u),u;throw new f("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|is(t,n)<<12|is(t,n)<<6|is(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var es=65279;var us=[128,64,32,16,8,4,2,1],ss=function(){function t(t){this.sh=t}return t.prototype.oh=function(t){return os(this.sh,t)},t}();function os(t,n){return(t&n)===n}function hs(t,n){return os(t,us[n])}function as(t,n){var i=t.getUint8(n.uh);return n.ih(1),i}function cs(t,n,i){t.setUint8(n.uh,i),n.ih(1)}function fs(t,n,i){var r=Us(Vs(t),n.uh,n.uh+i);return n.ih(r.byteLength),r}function vs(t,n,i){Vs(t).set(Vs(i),n.uh),n.ih(i.byteLength)}function ds(t,n,i){return n.uh+i<=t.byteLength}function ls(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=as(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+as(t,n);return r}(t,n,i)}function _s(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.uh,i);return n.ih(2),r}function gs(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.uh,i,r),n.ih(2)}function ws(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.uh,i);return n.ih(4),r}function ys(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.uh,i,r),n.ih(4)}function ms(t,n,i){void 0===i&&(i=!1);var r=ws(t,n,i),e=ws(t,n,i),u=i?e:r,s=i?r:e;return Xt.fromBits(s,u,!0)}function ks(t,n){var i=as(t,n);if(i)return String.fromCharCode(i)}function ps(t,n){return Ts(t,n)}function As(t,n,i){for(var r="",e=0;e<i;e++)r+=ks(t,n);return r}function bs(t,n){var i,r=as(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&as(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&as(t,n))+(63&as(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&as(t,n))+64*(63&as(t,n))+(63&as(t,n))),i}function Ts(t,n){return Es(t,n,!0)}function Es(t,n,i){for(var r=[];n.uh<t.byteLength;){var e=as(t,n);if(i&&!e)break;r.push(e)}return Sr(r)}function Ss(t,n){if(n.uh+2<=t.byteLength){var i=t.getUint8(n.uh),r=t.getUint8(n.uh+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Rs(t,n){var i=Ss(t,n);return void 0!==i&&n.ih(2),Is(t,n,!0===i)}function Is(t,n,i){return void 0===i&&(i=!1),Ns(t,n,i,!0)}function Ns(t,n,i,r){for(var e=[];n.uh+2<=t.byteLength;){var u=_s(t,n,i);if(r&&!u)break;e.push(u)}return Sr(e)}function Ds(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){gs(t,n,i.charCodeAt(u),r)}}function Cs(t){return Es(Hs(t),new Gs,!1)}function Os(t){var n=new y(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)cs(t,n,i.charCodeAt(e))}(Hs(n),new Gs,t),n}function xs(t,n){return void 0===n&&(n=!1),Ns(Hs(t),new Gs,n,!1)}function Ps(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ds(Hs(i),new Gs,t,n),i}function Bs(t,n){return function(t,n,i){var r=[];(function(t,n){return n.uh+3<=t.byteLength&&239===t.getUint8(n.uh)&&187===t.getUint8(n.uh+1)&&191===t.getUint8(n.uh+2)})(t,n)&&n.ih(3);for(;n.uh<t.byteLength;){var e=bs(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Tr(r)}(t,n,!0)}function Ls(t){return Tr(function(t,n){var i,r=[],e=new Gs;if(!n){if(!1===(i=rs(t,e)))return r;i===es||r.push(i)}for(;!1!==(i=rs(t,e));)r.push(i);return r}(Vs(t)))}function Ms(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ns(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Us(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Fs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Hs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Xs(t){return t instanceof ArrayBuffer||Gu(t)}function Ws(t){return t instanceof ArrayBuffer?new y(t):Vs(t)}function qs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):zs(Us(t,n,i))}function zs(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Gs=function(){function t(t){void 0===t&&(t=0),this.nh=t}var n=t.prototype;return n.ih=function(t){this.nh+=t},n.rh=function(t){this.nh=t},n.eh=function(){return new t(this.uh)},n.hh=function(){return new $u(this.uh<<3)},L(t,[{key:"uh",get:function(){return this.nh}}]),t}();function js(t){var n=t,i=0,r=0;mr(n,"0x")&&(n=n.substring(2));var e=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=_(n[0],16));i<n.length;i+=2)e[r++]=_(n.substr(i,2),16);return e}var Qs=function(){function t(){var t=this;this.ah=void 0,this.zn=void 0,this.Z=void 0,this.ah=new T(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.fh=function(t){this.zn&&(this.zn(t),this.vo())},n.vh=function(t){this.Z&&(this.Z(t),this.vo())},n.mo=function(){this.ah.catch(S),this.vh(new ou)},n.vo=function(){this.zn=void 0,this.Z=void 0},t}();function Ys(){return new y([8,4]).buffer}function Zs(t){return ju(t,Ys())}function Js(t,n){return t===De?function(t){if(t.byteLength<2*$s.length)return t;if(xs(new DataView(t,0,2*$s.length),!0)===$s)return t;return n=t,Ps('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var $s="<PlayReady";var Ks=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).dh=void 0,u.lh=void 0,u.dh=i,u.lh=r,u}return U(n,t),n}(sn),to=function(t){function n(n,i){var r;(r=t.call(this)||this)._h=void 0,r.gh=!1,r.wh=void 0,r.yh=void 0,r.mh=function(){r.kh()},r.ph=function(t){r.Ro(new Cu(en(r),t.messageType,Js(r.Ah,t.message)))},r.bh=function(){r.gh=!0,r._h.th>0&&(r._h.Ko(),r.Ro(new Du(en(r)))),r.Th.removeEventListener("keystatuseschange",r.mh),r.Th.removeEventListener("message",r.ph)},r.Th=n,r.Ah=i,r.Th.addEventListener("keystatuseschange",r.mh),r.Th.addEventListener("message",r.ph),r._h=new Lu;var e=[];return r.Th.closed&&e.push(T.resolve(r.Th.closed)),r.yh=new Qs,e.push(r.yh.ah),r.wh=T.race(e).then(r.bh),r.kh(),r}U(n,t);var i=n.prototype;return i.Eh=function(){if(this.gh)return this.wh;var t=[];return t.push(T.resolve(this.Th.close())),t.push(ku(1e3)),this.yh.fh(T.race(t).catch(no)),this.gh=!0,this.wh},i.Sh=function(t,n,i){return T.resolve(this.Th.generateRequest(t,n)).catch(no)},i.Rh=function(t){return T.resolve(this.Th.load(t)).catch(no)},i.Ih=function(){return T.resolve(this.Th.remove()).catch(no)},i.Nh=function(t){return T.resolve(this.Th.update(t)).catch(no)},i.kh=function(){var t=this;this._h.Ko(),this.Th.keyStatuses.forEach(function(n,i){t.Dh(i,n)}),this.Ro(new Du(this))},i.Dh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Ws(t);if(this.Ah===De&&16===r.byteLength){var e=Hs(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.Ah===De&&"status-pending"===n&&(n="usable"),this._h.$o(r,n)},L(n,[{key:"Ch",get:function(){return this.wh}},{key:"Oh",get:function(){return this.Th.expiration}},{key:"xh",get:function(){return this._h}},{key:"Ph",get:function(){return this.Th.sessionId}}]),n}(Eu);function no(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Ks(t.message,void 0,n,t)}var io=function(){function t(t,n){this.Bh=t,this.Ah=n}var n=t.prototype;return n.Lh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new to(this.Bh.createSession(n),this.Ah));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mh=function(t){return T.resolve(this.Bh.setServerCertificate(t))},n.Uh=function(t){return T.resolve(t.setMediaKeys(this.Bh))},n.Fh=function(t){return T.resolve(t.setMediaKeys(null))},t}(),ro=function(){function t(t,n,i){this.Hh=t,this.Ah=n,this.Vh=i}var n=t.prototype;return n.Xh=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hh.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new io(n,this.Ah));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Wh=function(){return this.Vh},L(t,[{key:"qh",get:function(){return this.Hh.keySystem}}]),t}(),eo={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function uo(t){return yr(t,eo.APPLICATION_MP4)||yr(t,eo.VIDEO_MP4)||yr(t,eo.AUDIO_MP4)}var so=function(){function t(t,n){this.Ys=void 0,this.zh=void 0,this.Ys=t,this.zh=n}return t.prototype.Gh=function(t){for(var n=0,i=this.zh;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function oo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new so(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=ho(e.substr(s,h));c&&u.push(c),s=h+1}}if(s!==e.length){var f=ho(e.substr(s));f&&u.push(f)}return new so(r,u)}function ho(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function ao(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function co(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,jh:r.jh},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(r){return fo(t,n,i,r)}),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(u.videoCapabilities=h.filter(function(r){return fo(t,n,i,r)}),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function fo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!tu(n,r.encryptionScheme))&&(!r.robustness&&t(i,ao(r.contentType))))}function vo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function lo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}var _o=function(){function t(){}return t.prototype.uo=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.jh}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=lo(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=lo(u.videoCapabilities));return t.next=4,s.requestMediaKeySystemAccess(n,i);case 4:return o=t.sent,h=o.getConfiguration(),t.abrupt("return",new ro(o,n,h));case 7:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Qh=function(){return qe()},t}(),go=function(t){function n(n,i){var r;return(r=t.call(this)||this).gh=!1,r.Yh=void 0,r.Zh=void 0,r.Jh=void 0,r.$h=void 0,r.Kh=void 0,r.bh=function(){r.gh=!0,r.Yh.fh(void 0),r.Kh&&(r.Kh.removeEventListener("mskeyclose",r.bh),r.Kh.removeEventListener("mskeymessage",r.ta),r.Kh.removeEventListener("mskeyerror",r.na),r.Kh.removeEventListener("mskeyadded",r.ia))},r.ta=function(t){r.Jh&&(r.Jh.fh(void 0),r.Jh=void 0),r.Ro(new Cu(en(r),"license-request",zs(t.message).buffer,t.destinationURL||void 0))},r.na=function(){var t=r.Kh&&r.Kh.error;if(t){var n=new Ks("Unknown CDM error",t.code,t.systemCode);if(r.Jh)r.Jh.vh(n),r.Jh=void 0;else if(r.Zh)r.Zh.vh(n),r.Zh=void 0;else switch(n.dh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ra("output-not-allowed");break;default:r.ra("internal-error")}}},r.ia=function(){r.Jh&&(r.ra("usable"),r.Jh.fh(void 0),r.Jh=void 0),r.Zh&&(r.ra("usable"),r.Zh.fh(void 0),r.Zh=void 0)},r.ea=n,r.ua=i,r.Yh=new Qs,r.$h=new Lu,r}U(n,t);var i=n.prototype;return i.Sh=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sa(),this.Jh=new Qs,this.Lh(Ws(i),r),t.next=5,this.Jh.ah;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Lh=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.oa;return(i=n?this.ea.createSession(this.ua,t,r):this.ea.createSession(this.ua,t)).addEventListener("mskeyclose",this.bh),i.addEventListener("mskeymessage",this.ta),i.addEventListener("mskeyerror",this.na),i.addEventListener("mskeyadded",this.ia),this.Kh=i,this.ra("status-pending"),i},i.Rh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sa(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Nh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Zh=new Qs,this.sa(),this.Kh){t.next=4;break}return t.abrupt("return",T.resolve());case 4:if(0!==(i=Ws(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Kh.update(i),t.next=10,this.Zh.ah;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Eh=function(){return!this.gh&&this.Kh&&(this.gh=!0,this.Kh.close()),this.Yh.ah},i.Ih=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sa(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sa=function(){if(this.gh)throw new v("Already closing or closed.")},i.ra=function(t){this.$h.Ko(),this.$h.$o(Bu,t),this.Ro(new Du(this))},L(n,[{key:"Ph",get:function(){return this.Kh&&this.Kh.sessionId||""}},{key:"Oh",get:function(){return NaN}},{key:"Ch",get:function(){return this.Yh.ah}},{key:"xh",get:function(){return this.$h}}]),n}(Eu),wo=function(){function t(t,n){this.ea=t,this.ua=n}var n=t.prototype;return n.Lh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new go(this.ea,this.ua));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mh=function(t){return T.resolve(!1)},n.Uh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.ea):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.ea),t.removeEventListener("loadedmetadata",i)}),T.resolve()},n.Fh=function(t){return T.resolve()},t}(),yo=function(){function t(t,n){this.ua=void 0,this.Ah=t,this.ha=n;var i=vo(n)||"video/mp4";this.ua=ao(i)}var n=t.prototype;return n.Wh=function(){return this.ha},n.Xh=function(){return T.resolve(new wo(new Or.MSMediaKeys(this.Ah),this.ua))},L(t,[{key:"qh",get:function(){return this.Ah}}]),t}(),mo=function(){function t(){}return t.prototype.uo=function(t,n){try{return T.resolve(function(t,n){if(!ko())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(po,Iu,t,r);if(e)return new yo(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Qh=function(){return ko()},t}();function ko(){return void 0!==Or.MSMediaKeys&&"function"==typeof Or.MSMediaKeys.isTypeSupported}function po(t,n){return Or.MSMediaKeys.isTypeSupported(t,n)}var Ao,bo,To=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Yh=new Qs,e.aa=void 0,e.$h=new Lu,e.ca=void 0,e.fa=new Qs,e.na=function(){var t=e.ca&&e.ca.error;if(t){var n=new Ks("Unknown CDM error",t.code,t.systemCode);e.aa?(e.aa.vh(n),e.aa=void 0):n.dh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ra("output-not-allowed"):e.ra("internal-error"),e.Ro(new Ou)}},e.ta=function(t){e.aa&&(e.aa.fh(void 0),e.aa=void 0),e.Ro(new Cu(en(e),"license-request",zs(t.message).buffer,t.destinationURL||void 0))},e.va=n,e.ua=i,e.da=r,e}U(n,t);var i=n.prototype;return i.Sh=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.la;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=Eo(Ws(n),r,this.da);return this.ca=this.va.createSession(this.ua,e),this.ca.addEventListener("webkitkeymessage",this.ta,!1),this.ca.addEventListener("webkitkeyerror",this.na,!1),this.ra("usable"),this.fa.fh(this.ca),this.fa=new Qs,T.resolve()},i.Rh=function(t){return T.resolve(!0)},i.Nh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Ws(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.aa=new Qs,t.t0=this.ca,t.t0){t.next=9;break}return t.next=8,this.fa.ah;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.aa.ah;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Eh=function(){var t=this.ca;return t&&(t.removeEventListener("webkitkeymessage",this.ta,!1),t.removeEventListener("webkitkeyerror",this.na,!1),t.close()),this.fa.mo(),this.Yh.fh(void 0),this.Yh.ah},i.Ih=function(){return T.resolve(void 0)},i.ra=function(t){this.$h.Ko(),this.$h.$o(Bu,t),this.Ro(new Du(this))},L(n,[{key:"Ph",get:function(){return this.ca?this.ca.sessionId:""}},{key:"Oh",get:function(){return NaN}},{key:"Ch",get:function(){return this.Yh.ah}},{key:"xh",get:function(){return this.$h}}]),n}(Eu);function Eo(t,n,i){var r=Ls(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),h=new Gs;return ys(o,h,e,!0),Ds(o,h,r,!0),ys(o,h,u,!0),Ds(o,h,n,!0),ys(o,h,i.byteLength,!0),vs(o,h,i),new y(s)}(Ao=n.ErrorCode||(n.ErrorCode={}))[Ao.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Ao[Ao.LICENSE_ERROR=2e3]="LICENSE_ERROR",Ao[Ao.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Ao[Ao.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Ao[Ao.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Ao[Ao.SOURCE_INVALID=3e3]="SOURCE_INVALID",Ao[Ao.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Ao[Ao.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Ao[Ao.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Ao[Ao.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Ao[Ao.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Ao[Ao.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Ao[Ao.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Ao[Ao.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Ao[Ao.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Ao[Ao.NETWORK_ERROR=6e3]="NETWORK_ERROR",Ao[Ao.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Ao[Ao.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Ao[Ao.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Ao[Ao.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Ao[Ao.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Ao[Ao.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Ao[Ao.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Ao[Ao.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Ao[Ao.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Ao[Ao.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Ao[Ao.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Ao[Ao.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Ao[Ao.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Ao[Ao.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Ao[Ao.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Ao[Ao.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Ao[Ao.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Ao[Ao.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Ao[Ao.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Ao[Ao.AD_ERROR=1e4]="AD_ERROR",Ao[Ao.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Ao[Ao.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(bo=n.ErrorCategory||(n.ErrorCategory={}))[bo.CONFIGURATION=1]="CONFIGURATION",bo[bo.LICENSE=2]="LICENSE",bo[bo.SOURCE=3]="SOURCE",bo[bo.MANIFEST=4]="MANIFEST",bo[bo.MEDIA=5]="MEDIA",bo[bo.NETWORK=6]="NETWORK",bo[bo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",bo[bo.SUBTITLE=8]="SUBTITLE",bo[bo.VR=9]="VR",bo[bo.AD=10]="AD",bo[bo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var So=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return U(i,t),L(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(sn),Ro=function(){function t(t,n){this.da=void 0,this.va=t,this.ua=n}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.va},i.Lh=function(){var t=T.coroutine(le.mark(function t(i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.da){t.next=2;break}throw new So(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new To(this.va,this.ua,this.da));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Mh=function(t){return this.da=Ws(t),T.resolve(!0)},i.Uh=function(t){return t.webkitSetMediaKeys(this.va),T.resolve()},i.Fh=function(t){return t.webkitSetMediaKeys(null),T.resolve()},t}(),Io=function(){function t(t,n){this.ua=void 0,this.Ah=t,this.ha=n;var i=vo(n)||"video/mp4";this.ua=ao(i)}var n=t.prototype;return n.Wh=function(){return this.ha},n.Xh=function(){return T.resolve(new Ro(new Or.WebKitMediaKeys(this.Ah),this.ua))},L(t,[{key:"qh",get:function(){return this.Ah}}]),t}(),No=function(){function t(){}return t.prototype.uo=function(t,n){try{return T.resolve(function(t,n){if(t!==Be)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Do())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(Co,Nu,t,r);if(e)return new Io(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Qh=function(){return Do()},t}();function Do(){return void 0!==Or.WebKitMediaKeys&&"function"==typeof Or.WebKitMediaKeys.isTypeSupported}function Co(t,n){return Or.WebKitMediaKeys.isTypeSupported(t,n)}var Oo,xo=function(){function t(t){this._a=t}return t.prototype.uo=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this._a;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.uo(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Po=function(t){function n(n){var i;return(i=t.call(this)||this).Jh=void 0,i.aa=void 0,i.Yh=void 0,i.ga=!1,i.wa=void 0,i.ya=void 0,i.ma=void 0,i.ka=void 0,i.pa=void 0,i.Ah=n,i.Yh=new Qs,i.ya="",i.pa=new Qs,i.ma=new Lu,i}U(n,t);var i=n.prototype;return i.Aa=function(){this.aa&&(this.ra("usable"),this.aa.fh(void 0),this.aa=void 0)},i.ba=function(t){var n=new Ks("Unknown CDM error",t.errorCode,t.systemCode);this.aa?(this.aa.vh(n),this.aa=void 0):this.Jh?(this.Jh.vh(n),this.Jh=void 0):n.dh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ra("output-restricted"):1===n.lh?this.ra("expired"):this.ra("internal-error")},i.Ta=function(t){0!==t.message.byteLength&&(this.Jh&&(this.Jh.fh(void 0),this.Jh=void 0),this.Ro(new Cu(this,"license-request",Js(this.Ah,zs(t.message).buffer),t.defaultURL||void 0)))},i.Ea=function(t){this.ka||(this.ka=t,this.pa.fh(t))},i.Eh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ga=!0,this.Yh.fh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sh=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Jh=new Qs,this.wa=Ws(i),t.t0=this.ka,t.t0){t.next=8;break}return t.next=7,this.pa.ah;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Ah,this.wa),t.next=12,this.Jh.ah;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Rh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ih=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.aa=new Qs,t.t0=this.ka,t.t0){t.next=7;break}return t.next=6,this.pa.ah;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Ah,Ws(n),this.wa,this.Ph),t.next=11,this.aa.ah;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ga)throw new v("Already closing or closed.")},i.ra=function(t){this.ma.Ko(),this.ma.$o(Bu,t),this.Ro(new Du(this))},L(n,[{key:"xh",get:function(){return this.ma}},{key:"Ph",get:function(){return this.ya},set:function(t){this.ya=t}},{key:"Ch",get:function(){return this.Yh.ah}},{key:"Oh",get:function(){return NaN}}]),n}(Eu),Bo=function(){function t(t){var n=this;this.ka=void 0,this.Sa=we(),this.Ra=[],this.ia=function(t){var i=n.Ia(t.sessionId);i&&i.Aa()},this.Na=function(t){var i=n.Ia(t.sessionId);i&&i.ba(t)},this.Da=function(t){var i=n.Ia(t.sessionId);i&&i.Ta(t)},this.Ah=t}var n=t.prototype;return n.Uh=function(t){return this.ka=t,this.ka.addEventListener("webkitkeyadded",this.ia),this.ka.addEventListener("webkitkeyerror",this.Na),this.ka.addEventListener("webkitkeymessage",this.Da),this.Sa.forEach(function(n,i){return n.Ea(t)}),this.Ra.forEach(function(n){return n.Ea(t)}),T.resolve()},n.Fh=function(t){return t.removeEventListener("webkitkeyadded",this.ia),t.removeEventListener("webkitkeyerror",this.Na),t.removeEventListener("webkitkeymessage",this.Da),this.ka=void 0,T.resolve()},n.Lh=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Po(this.Ah),this.ka&&e.Ea(this.ka),this.Ra.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Mh=function(t){return T.resolve(!1)},n.Ia=function(t){if(t){var n=this.Sa.get(t);return n||((n=this.Ra.shift())?(n.Ph=t,this.Sa.set(t,n),n):void 0)}},t}(),Lo=function(){function t(t,n){this.qh=t,this.Ca=n}var n=t.prototype;return n.Xh=function(){return T.resolve(new Bo(this.qh))},n.Wh=function(){return this.Ca},t}(),Mo=function(){function t(){}return t.prototype.uo=function(t,n){try{return T.resolve(Uo(t,n))}catch(t){return T.reject(t)}},t.Qh=function(){return ze()},t}();function Uo(t,n){if(!Mo.Qh())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(Fo,Iu,t,r);if(e)return new Lo(t,e)}throw new v("Unsupported key system configuration for "+t)}function Fo(t,n){var i=Zr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ho(){return Oo||(Oo=function(){var t=[];No.Qh()&&t.push(new No);_o.Qh()&&t.push(new _o);mo.Qh()&&t.push(new mo);Mo.Qh()&&t.push(new Mo);return new xo(t)}()),Oo}var Vo=function(){function t(){this.Oa=we()}var n=t.prototype;return n.Ko=function(t){this.Oa.delete(t)},n.xa=function(){this.Oa.clear()},n.Zo=function(t){return this.Oa.get(t)},n.Pa=function(t,n){this.Oa.set(t,n)},t}(),Xo=function(){function t(){}return t.Ba=function(){return t.We||(t.We=Wo.Qh()?new Wo:new Vo),t.We},t.Ko=function(n){t.Ba().Ko(n)},t.xa=function(){t.Ba().xa()},t.Zo=function(n){return t.Ba().Zo(n)},t.Pa=function(n,i){t.Ba().Pa(n,i)},t}();Xo.We=void 0;var Wo=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i.Qh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Ko=function(n){t.sessionStorage.removeItem(n)},r.xa=function(){t.sessionStorage.clear()},r.Zo=function(n){return t.sessionStorage[n]},r.Pa=function(n,i){t.sessionStorage[n]=i},i}(Xo);var qo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function zo(t,n,i){var r=qo([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Go,jo;!function(t){t.La="Ma",t.Ua="Fa",t.Ha="contentprotectionerror",t.Va="contentprotectionsuccess",t.Xa="currentsourcechange",t.Wa="destroy",t.qa="durationchange",t.za="emptied",t.Wo="encrypted",t.Ga="ended",t.ja="Qa",t.Ya="loadstart",t.Za="manifestupdate",t.Ja="nosupportedrepresentationfound",t.$a="offline",t.Ka="online",t.tc="pause",t.nc="play",t.ic="progress",t.rc="ratechange",t.ec="representationchange",t.uc="resize",t.sc="seeked",t.oc="seeking",t.hc="segmentnotfound",t.ac="cc",t.fc="vc",t.dc="sourcechange",t.lc="timeupdate",t._c="volumechange",t.gc="wc",t.yc="metricschange"}(Go||(Go={})),function(t){t.mc="arraybuffer",t.kc="json",t.pc="stream",t.je="text"}(jo||(jo={}));var Qo=function(){function t(n){var i=this;this.Ws=void 0,this.Ws={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Yo(i),r=Zo(r);var e=i.toLowerCase();if(this.Ws.hasOwnProperty(e)){var u=this.Ws[e],s=u[1];u[1]=s?s+", "+r:r}else this.Ws[e]=[i,r]},n.delete=function(t){var n=Yo(t).toLowerCase();delete this.Ws[n]},n.get=function(t){var n=Yo(t).toLowerCase();return this.Ws.hasOwnProperty(n)?this.Ws[n][1]:null},n.has=function(t){var n=Yo(t).toLowerCase();return this.Ws.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Yo(i)).toLowerCase();this.Ws[r]=[i,Zo(n)]},n.forEach=function(t,n){for(var i in this.Ws)this.Ws.hasOwnProperty(i)&&t.call(n,this.Ws[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Ws)if(this.Ws.hasOwnProperty(n)){var i=this.Ws[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Ac=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.bc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Tc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Yo(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Zo(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function $o(){}var Ko=Number.isNaN||function(t){return t!=t},th=$o;function nh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ih(t){return t.slice()}function rh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Ko(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function eh(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function uh(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return oh(e,t,r)};case 1:return function(n){var i=[n].concat(r);return oh(e,t,i)}}}return function(){return gh(void 0)}}function sh(t,n,i){var r=t[n];if(void 0!==r)return eh(r,t,i)}function oh(t,n,i){try{return gh(eh(t,n,i))}catch(t){return wh(t)}}function hh(t){return t}function ah(t){if(t=Number(t),Ko(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function ch(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var fh=T,vh=T.prototype.then,dh=T.resolve.bind(fh),lh=T.reject.bind(fh);function _h(t){return new fh(t)}function gh(t){return dh(t)}function wh(t){return lh(t)}function yh(t,n,i){return vh.call(t,n,i)}function mh(t,n,i){yh(yh(t,n,i),void 0,th)}function kh(t,n){mh(t,n)}function ph(t,n){mh(t,void 0,n)}function Ah(t,n,i){return yh(t,n,i)}function bh(t){yh(t,void 0,th)}var Th=function(){function t(){this.Ec=0,this.Sc=0,this.Ni={Rc:[],Ic:void 0},this.Nc=this.Ni,this.Ec=0,this.Sc=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Sc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Nc,i=n;16383===n.Rc.length&&(i={Rc:[],Ic:void 0}),n.Rc.push(t),i!==n&&(this.Nc=i,n.Ic=i),++this.Sc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Ec,r=i+1,e=t.Rc,u=e[i];return 16384===r&&(n=t.Ic,r=0),--this.Sc,this.Ec=r,t!==n&&(this.Ni=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Ec,i=this.Ni,r=i.Rc;!(n===r.length&&void 0===i.Ic||n===r.length&&(n=0,0===(r=(i=i.Ic).Rc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Ec;return t.Rc[n]},t}();function Eh(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Sh(t,n){t.Dc=!0,t.Cc=n,n.Oc=t,"readable"===n.xc?Dh(t):"closed"===n.xc?function(t){Dh(t),xh(t)}(t):Ch(t,n.Pc)}function Rh(t,n){return Mc(t.Cc,n)}function Ih(t){"readable"===t.Cc.xc?Oh(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ch(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Cc.Oc=void 0,t.Cc=void 0}function Nh(t){return new v("Cannot "+t+" a stream using a released reader")}function Dh(t){t.wh=_h(function(n,i){t.Bc=n,t.Lc=i})}function Ch(t,n){Dh(t),Oh(t,n)}function Oh(t,n){bh(t.wh),t.Lc(n),t.Bc=void 0,t.Lc=void 0}function xh(t){t.Bc(void 0),t.Bc=void 0,t.Lc=void 0}var Ph=Jo("[[CancelSteps]]"),Bh=Jo("[[PullSteps]]");function Lh(t,n){void 0===n&&(n=!1);var i=new Wh(t);return i.Dc=n,i}function Mh(t){return _h(function(n,i){var r={zn:n,Z:i};t.Oc.Mc.push(r)})}function Uh(t,n,i){var r=t.Oc;r.Mc.shift().zn(Eh(n,i,r.Dc))}function Fh(t){return t.Oc.Mc.length}function Hh(t){var n=t.Oc;return void 0!==n&&!!qh(n)}var Vh,Xh,Wh=function(){function t(t){if(!1===Bc(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Lc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Sh(this,t),this.Mc=new Th}return d.defineProperty(t.prototype,"closed",{get:function(){return qh(this)?this.wh:wh(Gh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return qh(this)?void 0===this.Cc?wh(Nh("cancel")):Rh(this,t):wh(Gh("cancel"))},t.prototype.read=function(){return qh(this)?void 0===this.Cc?wh(Nh("read from")):zh(this):wh(Gh("read"))},t.prototype.releaseLock=function(){if(!qh(this))throw Gh("releaseLock");if(void 0!==this.Cc){if(this.Mc.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Ih(this)}},t}();function qh(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Mc")}function zh(t){var n=t.Cc;return n.Uc=!0,"closed"===n.xc?gh(Eh(void 0,!0,t.Dc)):"errored"===n.xc?wh(n.Pc):n.Fc[Bh]()}function Gh(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Jo.asyncIterator&&((Vh={})[Jo.asyncIterator]=function(){return this},Xh=Vh,d.defineProperty(Xh,Jo.asyncIterator,{enumerable:!1}));var jh={next:function(){if(!1===Qh(this))return wh(Yh("next"));var t=this.Hc;return void 0===t.Cc?wh(Nh("iterate")):Ah(zh(t),function(n){var i=n.done;return i&&Ih(t),Eh(n.value,i,!0)})},return:function(t){if(!1===Qh(this))return wh(Yh("next"));var n=this.Hc;if(void 0===n.Cc)return wh(Nh("finish iterating"));if(n.Mc.length>0)return wh(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Vc){var i=Rh(n,t);return Ih(n),Ah(i,function(){return Eh(t,!0,!0)})}return Ih(n),gh(Eh(t,!0,!0))}};function Qh(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Hc")}function Yh(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Zh(t){var n=t.Fn.shift();return t.Xc-=n.size,t.Xc<0&&(t.Xc=0),n.value}function Jh(t,n,i){if(!rh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.Xc+=i}function $h(t){t.Fn=new Th,t.Xc=0}void 0!==Xh&&d.setPrototypeOf(jh,Xh),d.defineProperty(jh,"next",{enumerable:!1}),d.defineProperty(jh,"return",{enumerable:!1});var Kh=Jo("[[AbortSteps]]"),ta=Jo("[[ErrorSteps]]"),na=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ra(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=ch(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(pa.prototype);var u=uh(n,"write",1,[e]),s=uh(n,"close",0,[]),o=uh(n,"abort",1,[]);Aa(t,e,function(){return sh(n,"start",[e])},u,s,o,i,r)}(this,t,r=ah(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ea(this))throw Na("locked");return ua(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ea(this)?wh(Na("abort")):!0===ua(this)?wh(new v("Cannot abort a stream that already has a writer")):sa(this,t)},t.prototype.close=function(){return!1===ea(this)?wh(Na("close")):!0===ua(this)?wh(new v("Cannot close a stream that already has a writer")):!0===fa(this)?wh(new v("Cannot close an already-closing stream")):oa(this)},t.prototype.getWriter=function(){if(!1===ea(this))throw Na("getWriter");return ia(this)},t}();function ia(t){return new la(t)}function ra(t){t.xc="writable",t.Pc=void 0,t.Wc=void 0,t.qc=void 0,t.zc=new Th,t.Gc=void 0,t.jc=void 0,t.Qc=void 0,t.Yc=void 0,t.Zc=!1}function ea(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"qc")}function ua(t){return void 0!==t.Wc}function sa(t,n){var i=t.xc;if("closed"===i||"errored"===i)return gh(void 0);if(void 0!==t.Yc)return t.Yc._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=_h(function(i,e){t.Yc={_n:void 0,zn:i,Z:e,Pn:n,Jc:r}});return t.Yc._n=e,!1===r&&aa(t,n),e}function oa(t){var n=t.xc;if("closed"===n||"errored"===n)return wh(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=_h(function(n,i){var r={zn:n,Z:i};t.jc=r}),e=t.Wc;return void 0!==e&&!0===t.Zc&&"writable"===n&&Ha(e),Jh(i=t.qc,"close",0),Ea(i),r}function ha(t,n){"writable"!==t.xc?ca(t):aa(t,n)}function aa(t,n){var i=t.qc;t.xc="erroring",t.Pc=n;var r=t.Wc;void 0!==r&&ya(r,n),!1===function(t){if(void 0===t.Gc&&void 0===t.Qc)return!1;return!0}(t)&&!0===i.$c&&ca(t)}function ca(t){t.xc="errored",t.qc[ta]();var n=t.Pc;if(t.zc.forEach(function(t){t.Z(n)}),t.zc=new Th,void 0!==t.Yc){var i=t.Yc;if(t.Yc=void 0,!0===i.Jc)return i.Z(n),void va(t);mh(t.qc[Kh](i.Pn),function(){i.zn(),va(t)},function(n){i.Z(n),va(t)})}else va(t)}function fa(t){return void 0!==t.jc||void 0!==t.Qc}function va(t){void 0!==t.jc&&(t.jc.Z(t.Pc),t.jc=void 0);var n=t.Wc;void 0!==n&&Pa(n,t.Pc)}function da(t,n){var i=t.Wc;void 0!==i&&n!==t.Zc&&(!0===n?function(t){La(t)}(i):Ha(i)),t.Zc=n}var la=function(){function t(t){if(!1===ea(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ua(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Kc=t,t.Wc=this;var n,i=t.xc;if("writable"===i)!1===fa(t)&&!0===t.Zc?La(this):Ua(this),Oa(this);else if("erroring"===i)Ma(this,t.Pc),Oa(this);else if("closed"===i)Ua(this),Oa(n=this),Ba(n);else{var r=t.Pc;Ma(this,r),xa(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===_a(this)?wh(Da("closed")):this.wh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_a(this))throw Da("desiredSize");if(void 0===this.Kc)throw Ca("desiredSize");return function(t){var n=t.Kc,i=n.xc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ta(n.qc)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===_a(this)?wh(Da("ready")):this.tf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===_a(this)?wh(Da("abort")):void 0===this.Kc?wh(Ca("abort")):function(t,n){return sa(t.Kc,n)}(this,t)},t.prototype.close=function(){if(!1===_a(this))return wh(Da("close"));var t=this.Kc;return void 0===t?wh(Ca("close")):!0===fa(t)?wh(new v("Cannot close an already-closing stream")):ga(this)},t.prototype.releaseLock=function(){if(!1===_a(this))throw Da("releaseLock");void 0!==this.Kc&&ma(this)},t.prototype.write=function(t){return!1===_a(this)?wh(Da("write")):void 0===this.Kc?wh(Ca("write to")):ka(this,t)},t}();function _a(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Kc")}function ga(t){return oa(t.Kc)}function wa(t,n){"pending"===t.nf?Pa(t,n):function(t,n){xa(t,n)}(t,n)}function ya(t,n){"pending"===t.if?Fa(t,n):function(t,n){Ma(t,n)}(t,n)}function ma(t){var n=t.Kc,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");ya(t,i),wa(t,i),n.Wc=void 0,t.Kc=void 0}function ka(t,n){var i=t.Kc,r=i.qc,e=function(t,n){try{return t.rf(n)}catch(n){return Sa(t,n),1}}(r,n);if(i!==t.Kc)return wh(Ca("write to"));var u=i.xc;if("errored"===u)return wh(i.Pc);if(!0===fa(i)||"closed"===u)return wh(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return wh(i.Pc);var s=function(t){return _h(function(n,i){var r={zn:n,Z:i};t.zc.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Jh(t,r,i)}catch(n){return void Sa(t,n)}var e=t.ef;if(!1===fa(e)&&"writable"===e.xc){var u=Ra(t);da(e,u)}Ea(t)}(r,n,e),s}var pa=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!nh(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"ef"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.ef.xc&&Ia(this,t)},t.prototype[Kh]=function(t){var n=this.uf(t);return ba(this),n},t.prototype[ta]=function(){$h(this)},t}();function Aa(t,n,i,r,e,u,s,o){n.ef=t,t.qc=n,n.Fn=void 0,n.Xc=void 0,$h(n),n.$c=!1,n.rf=o,n.sf=s,n.hf=r,n.af=e,n.uf=u;var h=Ra(n);da(t,h),mh(gh(i()),function(){n.$c=!0,Ea(n)},function(i){n.$c=!0,ha(t,i)})}function ba(t){t.hf=void 0,t.af=void 0,t.uf=void 0,t.rf=void 0}function Ta(t){return t.sf-t.Xc}function Ea(t){var n=t.ef;if(!1!==t.$c&&void 0===n.Gc)if("erroring"!==n.xc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.ef;(function(t){t.Qc=t.jc,t.jc=void 0})(n),Zh(t);var i=t.af();ba(t),mh(i,function(){!function(t){t.Qc.zn(void 0),t.Qc=void 0,"erroring"===t.xc&&(t.Pc=void 0,void 0!==t.Yc&&(t.Yc.zn(),t.Yc=void 0)),t.xc="closed";var n=t.Wc;void 0!==n&&Ba(n)}(n)},function(t){!function(t,n){t.Qc.Z(n),t.Qc=void 0,void 0!==t.Yc&&(t.Yc.Z(n),t.Yc=void 0),ha(t,n)}(n,t)})}(t):function(t,n){var i=t.ef;(function(t){t.Gc=t.zc.shift()})(i),mh(t.hf(n),function(){!function(t){t.Gc.zn(void 0),t.Gc=void 0}(i);var n=i.xc;if(Zh(t),!1===fa(i)&&"writable"===n){var r=Ra(t);da(i,r)}Ea(t)},function(n){"writable"===i.xc&&ba(t),function(t,n){t.Gc.Z(n),t.Gc=void 0,ha(t,n)}(i,n)})}(t,i.chunk)}}else ca(n)}function Sa(t,n){"writable"===t.ef.xc&&Ia(t,n)}function Ra(t){return Ta(t)<=0}function Ia(t,n){var i=t.ef;ba(t),aa(i,n)}function Na(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Da(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ca(t){return new v("Cannot "+t+" a stream using a released writer")}function Oa(t){t.wh=_h(function(n,i){t.Bc=n,t.Lc=i,t.nf="pending"})}function xa(t,n){Oa(t),Pa(t,n)}function Pa(t,n){bh(t.wh),t.Lc(n),t.Bc=void 0,t.Lc=void 0,t.nf="rejected"}function Ba(t){t.Bc(void 0),t.Bc=void 0,t.Lc=void 0,t.nf="resolved"}function La(t){t.tf=_h(function(n,i){t.cf=n,t.ff=i}),t.if="pending"}function Ma(t,n){La(t),Fa(t,n)}function Ua(t){La(t),Ha(t)}function Fa(t,n){bh(t.tf),t.ff(n),t.cf=void 0,t.ff=void 0,t.if="rejected"}function Ha(t){t.cf(void 0),t.cf=void 0,t.ff=void 0,t.if="fulfilled"}function Va(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Xa="undefined"!=typeof DOMException?DOMException:void 0;var Wa,qa=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Xa)?Xa:((Wa=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(Wa.prototype,"constructor",{value:Wa,writable:!0,configurable:!0}),Wa);function za(t,n,i,r,e,u){var s=Lh(t),o=ia(n);t.Uc=!0;var h=!1,a=gh(void 0);return _h(function(c,f){var d,l,_,g;if(void 0!==u){if(d=function(){var i=new qa("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.xc?sa(n,i):gh(void 0)}),!1===e&&u.push(function(){return"readable"===t.xc?Mc(t,i):gh(void 0)}),k(function(){return T.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(m(t,s.wh,function(t){!1===r?k(function(){return sa(n,t)},!0,t):p(!0,t)}),m(n,o.wh,function(n){!1===e?k(function(){return Mc(t,n)},!0,n):p(!0,n)}),l=t,_=s.wh,g=function(){!1===i?k(function(){return function(t){var n=t.Kc,i=n.xc;return!0===fa(n)||"closed"===i?gh(void 0):"errored"===i?wh(n.Pc):ga(t)}(o)}):p()},"closed"===l.xc?g():kh(_,g),!0===fa(n)||"closed"===n.xc){var w=new v("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Mc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return yh(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.xc?i(t.Pc):ph(n,i)}function k(t,i,r){function e(){mh(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.xc&&!1===fa(n)?kh(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.xc&&!1===fa(n)?kh(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){ma(o),Ih(s),void 0!==u&&u.removeEventListener("abort",d),t?f(n):c(void 0)}bh(_h(function(t,n){!function i(r){r?t():yh(!0===h?gh(!0):yh(o.tf,function(){return yh(zh(s),function(t){return!0===t.done||(a=yh(ka(o,t.value),void 0,$o),!1)})}),i,n)}(!1)}))})}var Ga=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ja(this))throw rc("desiredSize");return tc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ja(this))throw rc("close");if(!1===nc(this))throw new v("The stream is not in a state that permits close");Ja(this)},t.prototype.enqueue=function(t){if(!1===ja(this))throw rc("enqueue");if(!1===nc(this))throw new v("The stream is not in a state that permits enqueue");return $a(this,t)},t.prototype.error=function(t){if(!1===ja(this))throw rc("error");Ka(this,t)},t.prototype[Ph]=function(t){$h(this);var n=this.vf(t);return Za(this),n},t.prototype[Bh]=function(){var t=this.df;if(this.Fn.length>0){var n=Zh(this);return!0===this.lf&&0===this.Fn.length?(Za(this),Uc(t)):Qa(this),gh(Eh(n,!1,t.Oc.Dc))}var i=Mh(t);return Qa(this),i},t}();function ja(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"df")}function Qa(t){!1!==Ya(t)&&(!0!==t._f?(t._f=!0,mh(t.gf(),function(){t._f=!1,!0===t.wf&&(t.wf=!1,Qa(t))},function(n){Ka(t,n)})):t.wf=!0)}function Ya(t){var n=t.df;return!1!==nc(t)&&(!1!==t.$c&&(!0===Lc(n)&&Fh(n)>0||tc(t)>0))}function Za(t){t.gf=void 0,t.vf=void 0,t.rf=void 0}function Ja(t){var n=t.df;t.lf=!0,0===t.Fn.length&&(Za(t),Uc(n))}function $a(t,n){var i=t.df;if(!0===Lc(i)&&Fh(i)>0)Uh(i,n,!1);else{var r=void 0;try{r=t.rf(n)}catch(n){throw Ka(t,n),n}try{Jh(t,n,r)}catch(n){throw Ka(t,n),n}}Qa(t)}function Ka(t,n){var i=t.df;"readable"===i.xc&&($h(t),Za(t),Fc(i,n))}function tc(t){var n=t.df.xc;return"errored"===n?null:"closed"===n?0:t.sf-t.Xc}function nc(t){var n=t.df.xc;return!1===t.lf&&"readable"===n}function ic(t,n,i,r,e,u,s){n.df=t,n.Fn=void 0,n.Xc=void 0,$h(n),n.$c=!1,n.lf=!1,n.wf=!1,n._f=!1,n.rf=s,n.sf=u,n.gf=r,n.vf=e,t.Fc=n,mh(gh(i()),function(){n.$c=!0,Qa(n)},function(t){Ka(n,t)})}function rc(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ec=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},uc=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===hc(this))throw Tc("view");return this.yf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===hc(this))throw Tc("respond");if(void 0===this.mf)throw new v("This BYOB request has been invalidated");this.yf.buffer,function(t,n){if(!1===rh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");yc(t,n)}(this.mf,t)},t.prototype.respondWithNewView=function(t){if(!1===hc(this))throw Tc("respond");if(void 0===this.mf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.kf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,yc(t,n.byteLength)}(this.mf,t)},t}(),sc=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===oc(this))throw Ec("byobRequest");if(void 0===this.pf&&this.kf.length>0){var t=this.kf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(uc.prototype);!function(t,n,i){t.mf=n,t.yf=i}(i,this,n),this.pf=i}return this.pf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===oc(this))throw Ec("desiredSize");return Ac(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===oc(this))throw Ec("close");if(!0===this.lf)throw new v("The stream has already been closed; do not close it again!");var t=this.Af.xc;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Af;if(t.Xc>0)return void(t.lf=!0);if(t.kf.length>0){var i=t.kf.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw pc(t,r),r}}kc(t),Uc(n)}(this)},t.prototype.enqueue=function(t){if(!1===oc(this))throw Ec("enqueue");if(!0===this.lf)throw new v("stream is closed or draining");var n=this.Af.xc;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Af,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=hh(r);if(!0===Hh(i))if(0===Fh(i))vc(t,s,e,u);else{var o=new y(s,e,u);Uh(i,o,!1)}else!0===Ic(i)?(vc(t,s,e,u),wc(t)):vc(t,s,e,u);ac(t)}(this,t)},t.prototype.error=function(t){if(!1===oc(this))throw Ec("error");pc(this,t)},t.prototype[Ph]=function(t){this.kf.length>0&&(this.kf.peek().bytesFilled=0);$h(this);var n=this.vf(t);return kc(this),n},t.prototype[Bh]=function(){var t=this.Af;if(this.Xc>0){var n=this.Fn.shift();this.Xc-=n.byteLength,_c(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return wh(t)}return gh(Eh(i,!1,t.Oc.Dc))}var r=this.bf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return wh(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.kf.push(u)}var s=Mh(t);return ac(this),s},t}();function oc(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Af")}function hc(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"mf")}function ac(t){!1!==function(t){var n=t.Af;if("readable"!==n.xc)return!1;if(!0===t.lf)return!1;if(!1===t.$c)return!1;if(!0===Hh(n)&&Fh(n)>0)return!0;if(!0===Ic(n)&&Rc(n)>0)return!0;if(Ac(t)>0)return!0;return!1}(t)&&(!0!==t._f?(t._f=!0,mh(t.gf(),function(){t._f=!1,!0===t.wf&&(t.wf=!1,ac(t))},function(n){pc(t,n)})):t.wf=!0)}function cc(t,n){var i=!1;"closed"===t.xc&&(i=!0);var r=fc(n);"default"===n.readerType?Uh(t,r,i):function(t,n,i){var r=t.Oc;r.Tf.shift().zn(Eh(n,i,r.Dc))}(t,r,i)}function fc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function vc(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.Xc+=r}function dc(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.Xc,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,h=!1;s>r&&(o=s-n.bytesFilled,h=!0);for(var a,c,f,v,d,_=t.Fn;o>0;){var g=_.peek(),w=l.min(o,g.byteLength),m=n.byteOffset+n.bytesFilled;a=n.buffer,c=m,f=g.buffer,v=g.byteOffset,d=w,new y(a).set(new y(f,v,d),c),g.byteLength===w?_.shift():(g.byteOffset+=w,g.byteLength-=w),t.Xc-=w,lc(t,w,n),o-=w}return h}function lc(t,n,i){gc(t),i.bytesFilled+=n}function _c(t){0===t.Xc&&!0===t.lf?(kc(t),Uc(t.Af)):ac(t)}function gc(t){void 0!==t.pf&&(t.pf.mf=void 0,t.pf.yf=void 0,t.pf=void 0)}function wc(t){for(;t.kf.length>0;){if(0===t.Xc)return;var n=t.kf.peek();!0===dc(t,n)&&(mc(t),cc(t.Af,n))}}function yc(t,n){var i=t.kf.peek();if("closed"===t.Af.xc){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=hh(n.buffer);var i=t.Af;if(!0===Ic(i))for(;Rc(i)>0;)cc(i,mc(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(lc(t,n,i),!(i.bytesFilled<i.elementSize)){mc(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);vc(t,u,0,u.byteLength)}i.buffer=hh(i.buffer),i.bytesFilled-=r,cc(t.Af,i),wc(t)}}(t,n,i);ac(t)}function mc(t){var n=t.kf.shift();return gc(t),n}function kc(t){t.gf=void 0,t.vf=void 0}function pc(t,n){var i=t.Af;"readable"===i.xc&&(!function(t){gc(t),t.kf=new Th}(t),$h(t),kc(t),Fc(i,n))}function Ac(t){var n=t.Af.xc;return"errored"===n?null:"closed"===n?0:t.sf-t.Xc}function bc(t,n,i){var r=d.create(sc.prototype);var e=uh(n,"pull",0,[r]),u=uh(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===ec(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Af=t,n.wf=!1,n._f=!1,n.pf=void 0,n.Fn=n.Xc=void 0,$h(n),n.lf=!1,n.$c=!1,n.sf=ah(u),n.gf=r,n.vf=e,n.bf=s,n.kf=new Th,t.Fc=n,mh(gh(i()),function(){n.$c=!0,ac(n)},function(t){pc(n,t)})}(t,r,function(){return sh(n,"start",[r])},e,u,i,s)}function Tc(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Ec(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Sc(t){return _h(function(n,i){var r={zn:n,Z:i};t.Oc.Tf.push(r)})}function Rc(t){return t.Oc.Tf.length}function Ic(t){var n=t.Oc;return void 0!==n&&!!Dc(n)}var Nc=function(){function t(t){if(!Bc(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===oc(t.Fc))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Lc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Sh(this,t),this.Tf=new Th}return d.defineProperty(t.prototype,"closed",{get:function(){return Dc(this)?this.wh:wh(Cc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Dc(this)?void 0===this.Cc?wh(Nh("cancel")):Rh(this,t):wh(Cc("cancel"))},t.prototype.read=function(t){return Dc(this)?void 0===this.Cc?wh(Nh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?wh(new v("view must have non-zero byteLength")):function(t,n){var i=t.Cc;if(i.Uc=!0,"errored"===i.xc)return wh(i.Pc);return function(t,n){var i=t.Af,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:hh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.kf.length>0)return t.kf.push(u),Sc(i);if("closed"===i.xc)return gh(Eh(new e(u.buffer,u.byteOffset,0),!0,i.Oc.Dc));if(t.Xc>0){if(!0===dc(t,u)){var s=fc(u);return _c(t),gh(Eh(s,!1,i.Oc.Dc))}if(!0===t.lf){var o=new v("Insufficient bytes to fill elements in the given buffer");return pc(t,o),wh(o)}}t.kf.push(u);var h=Sc(i);return ac(t),h}(i.Fc,n)}(this,t)):wh(new v("view must be an array buffer view")):wh(Cc("read"))},t.prototype.releaseLock=function(){if(!Dc(this))throw Cc("releaseLock");if(void 0!==this.Cc){if(this.Tf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Ih(this)}},t}();function Dc(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Tf")}function Cc(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Oc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Pc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),bc(this,t,r=ah(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=ch(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Ga.prototype),u=uh(n,"pull",0,[e]),s=uh(n,"cancel",1,[]);ic(t,e,function(){return sh(n,"start",[e])},u,s,i,r)}(this,t,r=ah(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Bc(this))throw Hc("locked");return Lc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Bc(this)?wh(Hc("cancel")):!0===Lc(this)?wh(new v("Cannot cancel a stream that already has a reader")):Mc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Bc(this))throw Hc("getReader");if(void 0===n)return Lh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Nc(t);return i.Dc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Bc(this))throw Hc("pipeThrough");if(!1===ea(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Bc(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==h&&!Va(h))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Lc(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ua(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return bh(za(this,i,u,s,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Bc(this)?wh(Hc("pipeTo")):!1===ea(t)?wh(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Va(s)?!0===Lc(this)?wh(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ua(t)?wh(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):za(this,t,r,e,u,s):wh(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Bc(this))throw Hc("tee");var t=function(t,n){var i,r,e,u,s,o=Lh(t),h=!1,a=!1,c=!1,f=_h(function(t){s=t});function v(){return!0===h?gh(void 0):(h=!0,bh(Ah(zh(o),function(t){if(h=!1,!0===t.done)return!1===a&&Ja(e.Fc),void(!1===c&&Ja(u.Fc));var n=t.value,i=n,r=n;!1===a&&$a(e.Fc,i),!1===c&&$a(u.Fc,r)})),gh(void 0))}function d(){}return e=xc(d,v,function(n){if(a=!0,i=n,!0===c){var e=ih([i,r]),u=Mc(t,e);s(u)}return f}),u=xc(d,v,function(n){if(c=!0,r=n,!0===a){var e=ih([i,r]),u=Mc(t,e);s(u)}return f}),ph(o.wh,function(t){Ka(e.Fc,t),Ka(u.Fc,t)}),[e,u]}(this);return ih(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Bc(this))throw Hc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Lh(t),r=d.create(jh);return r.Hc=i,r.Vc=Boolean(n),r}(this,i)},t}();function xc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(Oc.prototype);return Pc(u),ic(u,d.create(Ga.prototype),t,n,i,r,e),u}function Pc(t){t.xc="readable",t.Oc=void 0,t.Pc=void 0,t.Uc=!1}function Bc(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Fc")}function Lc(t){return void 0!==t.Oc}function Mc(t,n){return t.Uc=!0,"closed"===t.xc?gh(void 0):"errored"===t.xc?wh(t.Pc):(Uc(t),Ah(t.Fc[Ph](n),$o))}function Uc(t){t.xc="closed";var n=t.Oc;void 0!==n&&(qh(n)&&(n.Mc.forEach(function(t){t.zn(Eh(void 0,!0,n.Dc))}),n.Mc=new Th),xh(n))}function Fc(t,n){t.xc="errored",t.Pc=n;var i=t.Oc;void 0!==i&&(qh(i)?(i.Mc.forEach(function(t){t.Z(n)}),i.Mc=new Th):(i.Tf.forEach(function(t){t.Z(n)}),i.Tf=new Th),Oh(i,n))}function Hc(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Jo.asyncIterator&&d.defineProperty(Oc.prototype,Jo.asyncIterator,{value:Oc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Vc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Xc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=ch(r);if(void 0===e&&(e=1),e=ah(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=ch(u);void 0===s&&(s=0),s=ah(s),function(t,n,i,r,e,u){function s(){return n}t.Ef=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create(na.prototype);return ra(s),Aa(s,d.create(pa.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.Sf;if(!0===t.Zc){var r=t.Rf;return Ah(r,function(){var r=t.Ef,e=r.xc;if("erroring"===e)throw r.Pc;return Jc(i,n)})}return Jc(i,n)}(t,n)},function(){return function(t){var n=t.If,i=t.Sf,r=i.Nf();return Yc(i),Ah(r,function(){if("errored"===n.xc)throw n.Pc;var t=n.Fc;!0===nc(t)&&Ja(t)},function(i){throw qc(t,i),n.Pc})}(t)},function(n){return function(t,n){return qc(t,n),gh(void 0)}(t,n)},i,r),t.If=xc(s,function(){return function(t){return Gc(t,!1),t.Rf}(t)},function(n){return zc(t,n),gh(void 0)},e,u),t.Zc=void 0,t.Rf=void 0,t.Df=void 0,Gc(t,!0),t.Sf=void 0}(this,_h(function(t){h=t}),e,o,s,a),function(t,n){var i=d.create(jc.prototype),r=function(t){try{return Zc(i,t),gh(void 0)}catch(t){return wh(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return oh(e,n,[t,i])}}var u=uh(n,"flush",0,[i]);!function(t,n,i,r){n.Cf=t,t.Sf=n,n.Of=i,n.Nf=r}(t,i,r,u)}(this,t);var c=sh(t,"start",[this.Sf]);h(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Wc(this))throw Kc("readable");return this.If},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Wc(this))throw Kc("writable");return this.Ef},enumerable:!0,configurable:!0}),t}();function Wc(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Sf")}function qc(t,n){Ka(t.If.Fc,n),zc(t,n)}function zc(t,n){Yc(t.Sf),Sa(t.Ef.qc,n),!0===t.Zc&&Gc(t,!1)}function Gc(t,n){void 0!==t.Rf&&t.Df(),t.Rf=_h(function(n){t.Df=n}),t.Zc=n}var jc=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Qc(this))throw $c("desiredSize");return tc(this.Cf.If.Fc)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Qc(this))throw $c("enqueue");Zc(this,t)},t.prototype.error=function(t){if(!1===Qc(this))throw $c("error");var n;n=t,qc(this.Cf,n)},t.prototype.terminate=function(){if(!1===Qc(this))throw $c("terminate");!function(t){var n=t.Cf,i=n.If.Fc;!0===nc(i)&&Ja(i);var r=new v("TransformStream terminated");zc(n,r)}(this)},t}();function Qc(t){return!!nh(t)&&!!d.prototype.hasOwnProperty.call(t,"Cf")}function Yc(t){t.Of=void 0,t.Nf=void 0}function Zc(t,n){var i=t.Cf,r=i.If.Fc;if(!1===nc(r))throw new v("Readable side is not in a state that permits enqueue");try{$a(r,n)}catch(t){throw zc(i,t),i.If.Pc}(function(t){return!0!==Ya(t)})(r)!==i.Zc&&Gc(i,!0)}function Jc(t,n){return Ah(t.Of(n),void 0,function(n){throw qc(t.Cf,n),n})}function $c(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Kc(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var tf,nf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return U(n,t),L(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(sn);function rf(t){return n=[t],new Oc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function ef(t){return rf(new y(t))}function uf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Qs,u=function(){s();var t=new ou;r.cancel(t).catch(S),e.vh(t)},s=function(){i&&(i.lo(u),i=void 0)};i&&(i.oo?u():i.do(u));var o=[];return T.resolve(r.read()).then(function t(n){return n.done?(s(),T.resolve(o)):(o.push(n.value),T.resolve(r.read()).then(t))}).then(function(t){s(),e.fh(t)},function(t){s(),e.vh(t)}),e.ah}(t,n).then(function(t){return Qu(t).buffer})}function sf(t,n){var i=n,r=new Xc,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.mo()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(S)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(S)}),e}function of(t){var n=new Xc,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=$(t)?t[0]===t[1]||hu(t[0])&&hu(t[1])?t[0]:new nf(t):t,r.abort(n).catch(S)}),i.tee()}function hf(t){return Ls(new y(t))}function af(t){return Ms(t).buffer}!function(t){t[t.pc=0]="pc",t[t.xf=1]="xf"}(tf||(tf={}));var cf="content-type",ff="text/plain;charset=UTF-8",vf=function(){function t(){}var n=t.prototype;return n.Pf=function(t){return this.Bf(t).then(JSON.parse)},n.Lf=function(t,n){switch(t){case jo.mc:return this.Mf(n);case jo.kc:return this.Pf(n);case jo.pc:return this.Uf();case jo.je:return this.Bf(n);default:throw new v}},t}();function df(t,n,i){if(t instanceof vf)return t;if(t instanceof Oc)return function(t,n){return new _f({Ys:tf.pc,Uf:t,Ff:lf(n)})}(t,i);var r=lf(i),e=T.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Ys:jo.je,Hf:t,Ff:n||ff};if(t instanceof ArrayBuffer||Gu(t))return{Ys:jo.mc,Hf:Af(t),Ff:n};if(nt(t)||$(t))return{Ys:jo.kc,Hf:t,Ff:n};throw new v("Unsupported BodyInit type")}return{Ys:jo.je,Hf:null,Ff:n}}(t,r)});return new _f({Ys:tf.xf,ah:e,Vf:n})}function lf(t){return(t.get(cf)||"").toLowerCase()}var _f=function(t){function n(n){var i;return(i=t.call(this)||this).Xf=!1,i.Wf=void 0,i.qf=new Qs,i.qf.ah.catch(S),i.zf(n),i}U(n,t);var i=n.prototype;return i.Gf=function(){return this.qf.ah},i.Bf=function(t){return this.jf(gf,t)},i.Pf=function(t){return this.jf(yf,t)},i.Mf=function(t){return this.jf(kf,t)},i.Uf=function(){return this.Qf((t=this.Wf).Ys===tf.pc?t.Uf:sf(t.ah.then(pf).then(ef),t.Vf));var t},i.jf=function(t,n){if(this.Xf)return T.reject(new v("Already used"));this.Xf=!0;var i=t(this.Wf,n);return this.qf.fh(i.then(S)),i},i.Qf=function(t){if(this.Xf)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Xf=!0;var n=new Xc,i=T.resolve(t.pipeTo(n.writable));return this.qf.fh(i),n.readable},i.zf=function(t){this.Wf=t,t.Ys===tf.xf&&t.ah.catch(S)},i.Yf=function(){if(this.Xf)throw new v("Already used");var t=function(t){if(t.Ys===tf.pc){var n=t.Uf.tee(),i=n[0],r=n[1];return[{Ys:t.Ys,Uf:i,Ff:t.Ff},{Ys:t.Ys,Uf:r,Ff:t.Ff}]}var e=t.Vf.po(),u=e[0],s=e[1];return[{Ys:t.Ys,ah:t.ah,Vf:u},{Ys:t.Ys,ah:t.ah,Vf:s}]}(this.Wf),i=t[0],r=t[1];return this.zf(i),new n(r)},L(n,[{key:"Zf",get:function(){return this.Xf}}]),n}(vf);function gf(t,n){return t.Ys===tf.pc?uf(t.Uf,n).then(hf):(n&&t.Vf.ko(n),du(t.ah.then(wf),t.Vf))}function wf(t){switch(t.Ys){case jo.je:return T.resolve(t.Hf||"");case jo.mc:return T.resolve(t.Hf).then(hf);case jo.kc:return T.resolve(t.Hf).then(JSON.stringify)}}function yf(t,n){return t.Ys===tf.pc?gf(t,n).then(JSON.parse):(n&&t.Vf.ko(n),du(t.ah.then(mf),t.Vf))}function mf(t){return t.Ys===jo.kc?T.resolve(t.Hf):wf(t).then(JSON.parse)}function kf(t,n){return t.Ys===tf.pc?uf(t.Uf,n):(n&&t.Vf.ko(n),du(t.ah.then(pf),t.Vf))}function pf(t){switch(t.Ys){case jo.mc:return T.resolve(t.Hf);case jo.je:case jo.kc:return wf(t).then(af)}}function Af(t){return t instanceof ArrayBuffer?t:zs(Vs(t)).buffer}function bf(t){return t.Jf>=200&&t.Jf<=299||304===t.Jf}var Tf,Ef,Sf,Rf,If=function(t){function n(n,i){var r,e,u,s,o,h;i?(e=i.$f,u=i.Kf,s=i.Jf,o=i.tv,h=i.nv):(e=[],u=jo.je,s=200,o="OK",h=!1);var a=n.rv,c=new Qo(n.$f||e),f=n.Kf||u,v=n.ev||(i&&i.rv===a?i.ev:a.uv),d=i?i.sv:null,l=df(void 0!==n.bu?n.bu:d,n.Vf||new su,c);return(r=t.call(this,l)||this).$f=void 0,r.rv=void 0,r.ev=void 0,r.Kf=void 0,r.Jf=void 0,r.tv=void 0,r.nv=void 0,r.$f=c,r.rv=a,r.ev=v,r.Kf=f,r.Jf=void 0!==n.Jf?n.Jf:s,r.tv=void 0!==n.tv?String(n.tv):o,r.nv=n.nv||h,r}U(n,t);var i=n.prototype;return i.bu=function(t){return this.Lf(this.Kf,t)},i.eh=function(){return new n({bu:this.Yf(),rv:this.rv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).sv=void 0,i.sv=n,i}U(n,t);var i=n.prototype;return i.Gf=function(){return this.sv.Gf()},i.Bf=function(t){return this.sv.Bf(t)},i.Pf=function(t){return this.sv.Pf(t)},i.Mf=function(t){return this.sv.Mf(t)},i.Uf=function(){return this.sv.Uf()},i.Yf=function(){return this.sv.Yf()},L(n,[{key:"Zf",get:function(){return this.sv.Zf}}]),n}(vf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Tf||(Tf={})),function(t){t.ov="",t.hv="manifest",t.av="segment",t.cv="content-protection"}(Ef||(Ef={})),function(t){t.ov="",t.fv="initialization-segment",t.vv="fairplay-license",t.dv="fairplay-certificate",t.lv="widevine-license",t._v="widevine-certificate",t.gv="playready-license",t.wv="clearkey-license",t.yv="aes128-key"}(Sf||(Sf={})),function(t){t.ov="",t.mv="audio",t.kv="video",t.je="text",t.pv="image"}(Rf||(Rf={}));var Nf=function(t,n){this.Hf=void 0,this.$f=void 0,this.Av=void 0,this.Kf=void 0,this.bv=void 0,this.Ao=void 0,this.Ys=void 0,this.Tv=void 0,this.Ev=void 0,this.uv=void 0,this.Sv=void 0,this.Rv=void 0;var i,r,e,u,s,o,h,a,c,f,v,d=t.uv;n?(i=n.Hf,r=n.$f,e=n.Av,u=n.Kf,s=n.bv,o=n.Ao,h=n.Ys,a=n.Tv,c=n.Ev,f=n.Sv,v=n.Rv):(i=null,r={},e=Tf.GET,u=jo.je,s=0,h=Ef.ov,a=Sf.ov,c=Rf.ov,f=!1),this.uv=d,this.Hf=t.Hf||i,this.$f=new Qo(t.$f||r),this.Av=t.Av||e,this.Kf=t.Kf||u,this.bv=void 0!==t.bv?Number(t.bv)||0:s,this.Ao=t.Ao||o||(new su).Ao,this.Ys=t.Ys||h,this.Tv=t.Tv||a,this.Ev=t.Ev||c,this.Sv=void 0!==t.Sv?Boolean(t.Sv):f,this.Rv=t.Rv||v},Df=function(){function t(){}var n=t.prototype;return n.rv=function(t){var n=function(t){return new If({bu:null,$f:{},rv:t,ev:t.uv,Kf:t.Kf,Jf:0,tv:Go.$a})}(new Nf(t));return T.resolve(n)},n.Iv=function(t){},n.Nv=function(){},t}();var Cf,Of=function(){function t(t,n){void 0===n&&(n=!0),this.Dv=void 0,this.Cv=void 0,this.Dv=t,this.Cv=n}var n=t.prototype;return n.rv=function(t){var n=this.Ov(t);return this.Dv.rv(n)},n.Iv=function(t){return this.Dv.Iv(this.xv(t))},n.Ov=function(n){var i=new Nf(n);if(!this.Cv){var r=t.Pv(i.uv);i=new Nf({uv:r},i)}return i},n.xv=function(n){var i=n.uv;return this.Cv||(i=t.Pv(i)),{uv:i,Hf:n.Hf}},t.Pv=function(t){return b.xs&&mr(t,"http://")?t.replace(":","s:"):t},n.Nv=function(){this.Dv.Nv()},L(t,null,[{key:"Bv",get:function(){return t.Lv||(t.Lv=new t(new Df)),t.Lv}}]),t}();Of.Lv=void 0,function(t){t.Mv="HttpOpenError",t.Uv="HttpResponseError",t.Fv="HttpTimeoutError"}(Cf||(Cf={}));var xf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Hv=void 0,e.Hv=n,e}return U(n,t),L(n,[{key:"rv",get:function(){return this.Hv}}]),n}(sn);var Pf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.uv+". Invalid URL.",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Cf.Mv}}]),n}(xf);var Bf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.rv,null!=r?r:function(t){return"Error while loading "+t.rv.uv+", status code "+t.Jf}(n),i)||this).Vv=void 0,e.Vv=n,e}return U(n,t),L(n,[{key:"name",get:function(){return Cf.Uv}},{key:"Xv",get:function(){return this.Vv}}]),n}(xf);var Lf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.uv+" timed out after "+t.bv+" seconds."}(n),i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Cf.Fv}}]),n}(xf),Mf=function(t,n){return(Mf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Uf(t,n){function i(){this.constructor=t}Mf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Ff="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Hf=function(){var t=Ff.Blob;if(t)try{return new t,function(t,n){return new Ff.Blob(t,n)}}catch(t){}var n,i=Ff.BlobBuilder||Ff.WebKitBlobBuilder||Ff.MozBlobBuilder||Ff.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),Vf="function"==typeof Oc?Oc:void 0;function Xf(t){return t&&"function"==typeof t.getReader}function Wf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Xf(i)}catch(t){return!1}}var qf=function(){function t(t,n){this.Oc=t,this.Wv=n}return t.prototype.pull=function(t){var n=this;return this.Oc.read().then(function(i){n.Wv&&n.Wv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Oc.cancel(t)},t}();function zf(t,n){return n.constructor===t?n:new t(new qf(n.getReader()),{highWaterMark:0})}var Gf=function(){function t(t,n){this.qv=t,this.St=n}return t.prototype.pull=function(t){return this.qv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function jf(t,n,i){return new t(new Gf(n,i),{highWaterMark:0})}var Qf={searchParams:"URLSearchParams"in Ff,iterable:"Symbol"in Ff&&"iterator"in Symbol,blob:"FileReader"in Ff&&!!Hf,formData:"FormData"in Ff,arrayBuffer:"ArrayBuffer"in Ff,stream:Wf(Vf),streamRequest:"Request"in Ff&&"body"in Ff.Request.prototype,streamResponse:"Response"in Ff&&"body"in Ff.Response.prototype,abort:"AbortController"in Ff&&"Request"in Ff&&"signal"in Ff.Request.prototype,encoding:"TextEncoder"in Ff&&"TextDecoder"in Ff,url:"URL"in Ff&&function(t){try{return new Ff.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Ff&&/Firefox\//.test(Ff.navigator.userAgent)};function Yf(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Zf(t){return"string"!=typeof t&&(t=String(t)),t}function Jf(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Qf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var $f=function(){function t(t){var n=this;this.Ws={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return Qf.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=Yf(t),n=Zf(n);var i=t.toLowerCase();if(this.Ws.hasOwnProperty(i)){var r=this.Ws[i],e=r[1];r[1]=e?e+", "+n:n}else this.Ws[i]=[t,n]},t.prototype.delete=function(t){var n=Yf(t).toLowerCase();delete this.Ws[n]},t.prototype.get=function(t){var n=Yf(t).toLowerCase();return this.Ws.hasOwnProperty(n)?this.Ws[n][1]:null},t.prototype.has=function(t){var n=Yf(t).toLowerCase();return this.Ws.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Yf(t)).toLowerCase();this.Ws[i]=[t,Zf(n)]},t.prototype.forEach=function(t,n){for(var i in this.Ws)this.Ws.hasOwnProperty(i)&&t.call(n,this.Ws[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Jf(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Jf(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Jf(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ws)if(this.Ws.hasOwnProperty(n)){var i=this.Ws[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function Kf(){}Qf.iterable&&($f.prototype[Symbol.iterator]=$f.prototype.entries);var tv,nv,iv,rv=l.min,ev=String.fromCharCode,uv=16384;function sv(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=uv){var e=rv(r+uv,n);i.push(ev.apply(null,t.slice(r,e)))}return i.join("")}(n)}function ov(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function hv(t,n){return t>>n&63|128}function av(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ov(t),n.push(t>>12&15|224),n.push(hv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(hv(t,12)),n.push(hv(t,6))),n.push(63&t|128)):n.push(t)}function cv(){if(iv>=nv)throw new f("Invalid byte index");var t=255&tv[iv];if(iv++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function fv(){var t,n;if(iv>nv)throw new f("Invalid byte index");if(iv===nv)return!1;if(t=255&tv[iv],iv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|cv())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|cv()<<6|cv())>=2048)return ov(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|cv()<<12|cv()<<6|cv())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var vv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function dv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function lv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function _v(t){return t&&DataView.prototype.isPrototypeOf(t)}var gv,wv=ArrayBuffer.isView||function(t){return t&&(vv.indexOf(d.prototype.toString.call(t))>-1||_v(t))};function yv(t){if(t.bodyUsed)return T.reject(new v("Already used"));t.bodyUsed=!0}function mv(t){return new T(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function kv(t){return Qf.encoding?new Ff.TextDecoder("utf-8").decode(new y(t)):sv(function(t){nv=(tv=t).length,iv=0;for(var n,i=[];!1!==(n=fv());)i.push(n);return i}(new y(t)))}function pv(t){return Qf.encoding?(new Ff.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,r=t;i<r.length;i++)av(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Av(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?T.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function bv(t){return Av(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new y(n),u=0,s=0,o=t;s<o.length;s++){var h=o[s];e.set(h,u),u+=h.byteLength}return e}(t).buffer})}function Tv(t){return t.slice?t.slice(0):Ev(new y(t))}function Ev(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Sv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Rv(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.zv===gv.Gv){if(!n.jv.tee)throw new f("could not clone ReadableStream body");var i=n.jv.tee(),r=i[0],e=i[1];return n.body=r,n.jv=r,n.Qv=r,e}return n.zv===gv.mc?Tv(n.jv):n.zv===gv.xf?n.jv.then(Rv):n.Qv}!function(t){t[t.je=0]="je",t[t.Yv=1]="Yv",t[t.Zv=2]="Zv",t[t.mc=3]="mc",t[t.Gv=4]="Gv",t[t.xf=5]="xf"}(gv||(gv={}));var Iv=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.Qv=n||null,n)if("string"==typeof n)this.zv=gv.je,this.jv=n;else if((u=n)&&"function"==typeof u.then)this.zv=gv.xf,this.jv=T.resolve(n).then(function(n){return new t(n,i)}),this.jv.catch(Kf);else if(Qf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.zv=gv.Yv,this.jv=n;else if(Qf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.zv=gv.Zv,this.jv=n;else if(Qf.searchParams&&dv(n))this.zv=gv.je,this.jv=n.toString();else if(Qf.arrayBuffer&&(lv(n)||wv(n)))_v(n)&&(this.Qv=new y((e=n).buffer,e.byteOffset,e.byteLength)),this.zv=gv.mc,this.jv=lv(r=n)?Tv(r):Ev(r);else{if(!Qf.stream||!Xf(n))throw new f("unsupported BodyInit type");n=zf(Vf,n),this.zv=gv.Gv,this.jv=n,this.Qv=n}else this.zv=gv.je,this.jv="";this.Jv="",i.has("content-type")?this.Jv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Jv="text/plain;charset=UTF-8":s.zv===gv.Yv&&s.jv.type?this.Jv=s.jv.type:Qf.searchParams&&dv(n)&&(this.Jv="application/x-www-form-urlencoded;charset=UTF-8"),this.Jv&&i.set("content-type",this.Jv)),Qf.stream&&(null==n?this.body=null:s.zv===gv.Gv?this.body=s.jv:this.body=jf(Vf,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=yv(this);return r||(this.zv===gv.Yv?(t=this.jv,n=new FileReader,i=mv(n),n.readAsText(t),i):this.zv===gv.mc?T.resolve(this.jv).then(kv):this.zv===gv.Gv?bv(this.jv).then(kv):this.zv===gv.xf?this.jv.then(function(t){return t.text()}):this.zv===gv.Zv?T.reject(new f("could not read FormData body as text")):T.resolve(this.jv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Qf.blob&&(Iv.prototype.blob=function(){var t,n,i=yv(this);return i||(this.zv===gv.Yv?T.resolve(this.jv):this.zv===gv.mc?T.resolve(Hf([this.jv],{type:this.Jv})):this.zv===gv.Gv?(t=this.jv,n=this.Jv,Av(t).then(function(t){return Hf(t,{type:n||""})})):this.zv===gv.xf?this.jv.then(function(t){return t.blob()}):this.zv===gv.Zv?T.reject(new f("could not read FormData body as Blob")):T.resolve(Hf([this.jv],{type:this.Jv})))}),Qf.arrayBuffer&&(Iv.prototype.arrayBuffer=function(){var t,n,i;return this.zv===gv.mc?yv(this)||T.resolve(this.jv):this.zv===gv.Yv?yv(this)||(t=this.jv,n=new FileReader,i=mv(n),n.readAsArrayBuffer(t),i):this.zv===gv.Gv?bv(this.jv):this.zv===gv.xf?yv(this)||this.jv.then(function(t){return t.arrayBuffer()}):this.zv===gv.Zv?T.reject(new f("could not read FormData body as ArrayBuffer")):T.resolve(this.jv).then(pv)}),Qf.formData&&(Iv.prototype.formData=function(){return this.zv===gv.Zv?yv(this)||T.resolve(this.jv):this.text().then(Sv)});var Nv=[301,302,303,307,308],Dv=function(t){function n(n,i){var r=this,e=new $f((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Uf(n,t),n.prototype.clone=function(){return new n(Rv(this),{status:this.status,statusText:this.statusText,headers:new $f(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Nv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Iv);var Cv,Ov=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function h(t,n){return(h=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}(n,f),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_});(Cv=Ov)&&Cv.__esModule&&d.prototype.hasOwnProperty.call(Cv,"default")&&Cv.default;Ov.AbortSignal;var xv=Ov.AbortController,Pv=Ff.DOMException;try{new Pv}catch(t){(Pv=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Pv.prototype.constructor=Pv}var Bv=xv;function Lv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Mv(t,n,i){return new T(function(r,e){if(n.signal.aborted)return t.catch(Kf),e(Uv());var u=function(){n.signal.removeEventListener("abort",u),e(Uv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Uv(){return new Pv("Aborted","AbortError")}var Fv,Hv="moz-chunked-arraybuffer";function Vv(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Fv||(Fv={}));var Xv=function(){function t(t,n){var i=this;this.$v=!1,this.Hv=t,this.Kv=n,this.td=new k,this.nd=new T(function(t,n){i.rd=t,i.ed=n})}return t.prototype.send=function(){var t=this;return this.ud().then(function(n){return t.sd(n,t.Kv),t.nd})},t.prototype.ud=function(){var t=this.Hv;return t.zv===gv.Gv?t.arrayBuffer():T.resolve(t.Qv)},t.prototype.od=function(t){this.Hv.onprogress&&this.Hv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.hd=function(t){this.ed(t)},t.prototype.fd=function(){this.hd(new v("Network request failed"))},t.prototype.vd=function(){this.hd(new v("Network request failed"))},t.prototype.dd=function(){this.hd(Uv())},t.prototype.sd=function(t,n){var i=this,r=this.Hv,e=this.td,u=function(){return i.ld()};if(r.signal.aborted)return this.dd();e.onreadystatechange=function(){if(e.readyState>=Fv.HEADERS_RECEIVED&&!i.$v){var t=function(t){var n=new $f;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.$v=!0,i._d(n)}},e.onprogress=function(t){return i.od(t)},e.onload=function(){return i.gd()},e.onerror=function(){return i.fd()},e.ontimeout=function(){return i.vd()},e.onabort=function(){return i.dd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.ld=function(){this.td.abort()},t}(),Wv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.wd=void 0,r.yd=void 0,r}return Uf(n,t),n.prototype._d=function(t){var n=this;this.wd=new T(function(t,i){n.yd=t,n.md=i}),this.rd(new Dv(this.wd,t))},n.prototype.gd=function(){var t=this.td.response||this.td.responseText;this.yd(t)},n.prototype.hd=function(n){t.prototype.hd.call(this,n),this.md&&this.md(n)},n}(Xv),qv=function(t){function n(n){var i=t.call(this,n,Hv)||this;return i.kd=void 0,i.pd=void 0,i.Ad=!1,i}return Uf(n,t),n.prototype._d=function(t){var n=this;this.kd=new Vf({start:function(t){n.pd=t},cancel:function(){n.Ad=!0,n.ld()}}),this.rd(new Dv(this.kd,t))},n.prototype.od=function(n){this.Ad||this.pd.enqueue(new y(this.td.response)),t.prototype.od.call(this,n)},n.prototype.gd=function(){this.pd.close()},n.prototype.hd=function(n){t.prototype.hd.call(this,n),this.pd&&!this.Ad&&(this.Ad=!0,this.pd.error(n))},n}(Xv),zv=function(){var t=Qf.firefox&&Vv(Hv);return zv=function(){return t},t},Gv=function(){var t;return t=Qf.arrayBuffer&&Vv("arraybuffer")?"arraybuffer":Qf.blob&&Vv("blob")?"blob":"",Gv=function(){return t},t};function jv(t){return(Qf.stream&&zv()?new qv(t):new Wv(t,Gv())).send()}var Qv=Ff.fetch,Yv=Ff.Request,Zv=(Ff.Response,Ff.AbortController);var Jv=["http:","https:"];var $v=function(){try{if(Qf.streamRequest){var t=new Yv("about:blank",{body:"",method:"POST"}).body;if(t&&Wf(t.constructor))return t.constructor}}catch(t){}}();function Kv(t,n,i){var r;if(Qf.stream){var e=void 0;if(Qf.streamResponse){var u=t.body;e=u&&zf(Vf,u)}else e=jf(Vf,function(){return Mv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new qf(n.getReader(),i),{highWaterMark:0})}(Vf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,td(t.headers))),r=e}else{var s=Mv(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return T.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,td(t.headers))),r=s}return new Dv(r,t)}function td(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function nd(t){var n=new Bv;return t.signal&&Lv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.zv===gv.Gv?Qf.streamRequest&&$v?T.resolve(zf($v,e.jv)):Mv(t.arrayBuffer(),n,!1):Mv(T.resolve(t.Qv),n,!1),Qf.abort){var u=new Zv;Lv(u,n.signal),r=u.signal}return i.then(function(n){return new Yv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof $f?i:new $f(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(Qv).then(function(i){return Kv(i,n,t.onprogress)})}var id=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var rd=function(t){function n(i,r){var e,u,s,o,h,a,c,f,d,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(s=new $f(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.Qv||(_=i.Qv,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",h="cors",a="about:client",c="",f=null,d=null;if(!r.headers&&s||(s=new $f(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return id.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Bv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Uf(n,t),n.prototype.clone=function(){return new n(this,{body:Rv(this)})},n}(Iv),ed="function"==typeof Qv&&Qf.stream&&Qf.streamResponse&&Qf.url;function ud(t,n){return new T(function(i){var r=new rd(t,n);i((ed&&function(t){try{return Jv.indexOf(new Ff.URL(t,Ff.location.href).protocol)>=0}catch(t){return!1}}(r.url)?nd:jv)(r))})}ud.polyfill=!0;var sd=function(){function t(t){this.Xv=void 0,this.Hv=void 0,this.bd=new su,this.Vv=void 0,this.Td=!1,this.Hv=t,this.bd.ko(t.Ao),this.Xv=this.Ed()}var n=t.prototype;return n.Ed=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,u,s,h,a,c=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Hv).bv&&o(function(){c.Td=!0,c.bd.mo()},n.bv),t.prev=2,i=ud(n.uv,{method:n.Av,headers:n.$f.Ac(),body:n.Hf,credentials:n.Sv?"include":"same-origin",signal:ad(this.bd.Ao),onprogress:n.Rv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Pf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),hu(e=this.Sd(t.t1))&&this.bd.mo(),e;case 20:if(u=r.url||n.uv,s=0===r.status&&"file:"===(f=u,b.Xu(f).protocol)?200:r.status,h=new od(this,r,this.bd),a=new If({bu:h,rv:n,Kf:n.Kf,$f:new Qo(r.headers.asList()),Jf:s,tv:r.statusText,ev:u}),this.Vv=a,!bf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Bf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Sd=function(t){return hu(t)?this.Td?new Lf(this.Hv):new ou(t.message,t):this.Vv?new Bf(this.Vv,t):new Pf(this.Hv,t)},t}(),od=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.Rd=void 0,e.bd=void 0,e.qf=new Qs,e.an=n,e.Rd=i,e.bd=r,e.qf.ah.catch(S),e}U(n,t);var i=n.prototype;return i.Gf=function(){return this.qf.ah},i.Bf=function(t){return this.jf(this.Rd.text(),t)},i.Mf=function(t){return this.jf(this.Rd.arrayBuffer(),t)},i.Uf=function(){var t=this.Rd.body;return t?this.Qf(t):sf(this.Mf().then(ef),this.bd)},i.Yf=function(){var t=this.Rd.clone(),i=this.bd.po(),r=i[0],e=i[1];return this.bd=r,new n(this.an,t,e)},i.jf=function(t,n){var i=this;n&&this.bd.ko(n);var r=T.resolve(t).catch(function(t){throw i.an.Sd(t)});return r=du(r,this.bd),this.qf.fh(r.then(S)),r},i.Qf=function(t){var n=this,i=new Xc,r=T.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.Sd(t);throw i.writable.abort(r).catch(S),r});return r=du(r,this.bd),this.qf.fh(r.then(S)),i.readable},L(n,[{key:"Zf",get:function(){return this.Rd.bodyUsed}}]),n}(vf),hd="abort";function ad(t){var n=new Bv;if(t.oo)n.abort();else if(!t.ho){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(hd,i),t.lo(i),t.lo(r)};n.signal.addEventListener(hd,i),t.do(i),t._o(r)}return n.signal}function cd(t,n,i){return new T(function(r,e){if(i&&i.oo)return e(new ou);var u=function(t){o(),r(t)},s=function(){o(),e(new ou)},o=function(){t.removeEventListener(n,u),i&&i.lo(s)};t.addEventListener(n,u),i&&i.do(s)})}var fd,vd,dd=function(){function t(){}var n=t.prototype;return n.rv=function(t){return new sd(t).Xv},n.Iv=function(t){if(Pr&&Pr.sendBeacon)Pr.sendBeacon(t.uv,qo([t.Hf],{type:t.Ff}));else{var n=t.Ff?{"Content-type":t.Ff}:void 0;wu(this.rv(new Nf({Av:Tf.POST,uv:t.uv,Hf:t.Hf,$f:n})))}},n.Nv=function(){},t}();fd=new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Id=void 0,n.Nd=function(){if(Q.Ee||Q.be){var t=Q.Ae;if(void 0===t||Number(t)<42)return!1}return!0}(),n.Dd=void 0,n}return U(n,t),L(n,[{key:"ps",get:function(){return this.Id||(this.Id=new Ge(Ho())),this.Id}},{key:"Cd",get:function(){return this.Nd}},{key:"Od",get:function(){return!1}},{key:"xd",get:function(){return Xo.Ba()}},{key:"Pd",get:function(){return{Bd:zo}}},{key:"Ld",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Md",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Ud",get:function(){return this.Dd||(this.Dd=new Of(new dd)),this.Dd}}]),n}(ve)),b=fd,function(t){t.Fd="Hd",t.Vd="Xd"}(vd||(vd={}));vd.Fd,vd.Vd;var ld=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Wd=void 0,r}return U(n,t),L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}}]),n}(Ru);var _d,gd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(ld),wd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(Ru),yd=function(t){function n(n){var i;return(i=t.call(this,vd.Fd)||this).Gd=n,i}return U(n,t),n.prototype.zd=function(){return new md(this.Gd.qd)},n}(gd),md=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return U(n,t),n}(wd),kd=function(t){function n(n){var i;return(i=t.call(this,vd.Vd)||this).Gd=n,i}return U(n,t),n.prototype.zd=function(){return new pd(this.Gd.qd)},n}(gd),pd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return U(n,t),n}(wd);!function(t){t.jd="Qd",t.Yd="Zd",t.Jd="$d",t.Kd="tl",t.nl="il",t.ul="sl",t.ol="hl",t.al="cl",t.fl="Nh",t.vl="dl",t.ll="_l",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(_d||(_d={}));var Ad=function(t){function n(){var n;return(n=t.call(this)||this).gl=[],n.Wd=void 0,n}U(n,t);var i=n.prototype;return i.wl=function(t){return this.gl[t]},i.yl=function(t){return!(!t||tu(this.gl,t))&&(this.gl.push(t),this.Wd&&this.Wd.push(t.qd),t.Io(_d.ul,this.So),this.Ro(new yd(t)),!0)},i.ml=function(t){if(!t)return!1;var n=this.gl.indexOf(t);return!(n<0)&&(Ke(this.gl,n),this.Wd&&Ke(this.Wd,n),t.Oo(_d.ul,this.So),this.Ro(new kd(t)),!0)},i.kl=function(t){return tu(this.gl,t)},i.pl=function(){for(var t=this.gl,n=t.length-1;n>=0;n-=1)this.ml(t[n])},i.Nv=function(){this.pl(),this.Co()},L(n,[{key:"Al",get:function(){return this.gl}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"bl",get:function(){return this.gl.length}}]),n}(Eu),bd=function(t){function n(n){var i;return(i=t.call(this,_d.ul)||this).Gd=n,i}return U(n,t),n.prototype.zd=function(){return new Td(this.Gd.qd)},n}(gd),Td=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return U(n,t),n}(wd),Ed=function(t){function n(){var n;return(n=t.call(this)||this).Tl=void 0,n.El=function(t){var i=t.Gd;n.yl(i)},n.Sl=function(t){var i=t.Gd;n.ml(i)},n}U(n,t);var i=n.prototype;return i.Rl=function(t){t.Io(vd.Fd,this.El),t.Io(vd.Vd,this.Sl)},i.Il=function(t){t.Oo(vd.Fd,this.El),t.Oo(vd.Vd,this.Sl)},i.Nv=function(){this.Tl&&this.Tl.Nv(),t.prototype.Nv.call(this)},L(n,[{key:"Nl",get:function(){return this.Tl},set:function(t){var n=this.Tl;if(t!==n){if(n){this.Il(n);for(var i=0,r=n.Al;i<r.length;i++){var e=r[i];t&&t.kl(e)||this.ml(e)}}if(this.Tl=t,t){for(var u=[],s=0,o=t.Al;s<o.length;s++){var h=o[s];this.yl(h),this.Dl(h)&&u.push(h)}this.Rl(t);for(var a=0;a<u.length;a++){var c=u[a];c.Ro(new bd(c))}}}}}]),n}(Ad),Sd=d.freeze||R;function Rd(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Id(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Nd(t){if(nt(t)){var n={};for(var i in t)Y.call(t,i)&&(n[i]=Nd(t[i]));return n}if($(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Nd(t[e]));return r}return t}function Dd(t,n){return t===n||!(!t||!n)&&(!(!tt(t)||!tt(n))&&(K(t)?!!K(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Dd(t[e],n[e]))return!1;return!0}(t,n):!K(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Y.call(n,u)||!Dd(t[u],n[u]))return!1}return!0}(t,n)))}function Cd(t,n){return t.constructor===n.constructor}function Od(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function xd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Pd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Bd(t){var n=Pd(t);if(w(n))throw new f("Expected a valid number.");return n}function Ld(t){return"string"==typeof t?t:""}function Md(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Ud=[vd.Fd,vd.Vd,_d.ul];function Fd(t){var n,i=t.Al.map(function(t){return t.qd});return i.item=function(n){var i=0|n,r=t.wl(i);return r&&r.qd||void 0},i.addEventListener=function(t,i){n.Io(t,i)},i.removeEventListener=function(t,i){n.Oo(t,i)},n=new Su(i),t.Io(Ud,function(t){return n.Ro(t.qd)}),i}function Hd(){}function Vd(t){var n,i=[_d.fl,_d.ul,_d.vl,_d.ll,_d.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Cl&&t.Cl.qd},get enabled(){return t.Ol},set enabled(n){t.Ol=xd(n)},get id(){return t.xl},get uid(){return t.Pl},get kind(){return t.Bl},get label(){return t.Ll},set label(n){t.Ll=Ld(n)},get language(){return t.Ml},get qualities(){return t.Ul.qd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Ul.Al;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.qd===o&&i.push(u)}return i}(t,$(n)?n:[n]):[]).length>0?t.Fl=i:t.Fl=void 0},get targetQuality(){if(t.Fl)return 1===t.Fl.length?t.Fl[0].qd:t.Fl.map(function(t){return t.qd})},addEventListener:function(t,i){var r=Md(t,Ld);n.Io(r,i)},removeEventListener:function(t,i){var r=Md(t,Ld);n.Oo(r,i)}};return n=new Su(r),t.Io(i,function(t){return n.Ro(t.qd)}),d.defineProperty(r,"constructor",{value:Hd}),r}function Xd(){}function Wd(t){var n=Fd(t);return d.defineProperty(n,"constructor",{value:Xd}),n}var qd,zd,Gd=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.zd=function(){return Wd(this)},i.Dl=function(t){return t.Ol},n}(Ed);function jd(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case qd.Hl:case qd.Vl:case qd.Xl:return n}}else if("number"==typeof t)switch(t){case 0:return qd.Hl;case 1:return qd.Vl;case 2:return qd.Xl}return qd.Hl}function Qd(){}function Yd(t){var n,i=[_d.ul,_d.fl,_d.jd,_d.Yd,_d.Jd,_d.Kd,_d.nl,_d.ol,_d.al],r=[zd.Wl],e={get kind(){return t.Bl},get label(){return t.Ll},set label(n){t.Ll=Ld(n)},get language(){return t.Ml},get id(){return t.xl},get uid(){return t.Pl},get inBandMetadataTrackDispatchType(){return t.ql},get mode(){return t.zl},set mode(n){n!==qd.Xl&&n!==qd.Vl&&n!==qd.Hl||(t.zl=n)},get type(){return t.Ys},get readyState(){return $d(t.Gl)},get cues(){return t.zl===qd.Hl?null:t.jl.qd},get activeCues(){return t.zl===qd.Hl?null:t.Ql.qd},get src(){return t.Yl||""},addEventListener:function(t,i){var r=Md(t,Ld);n.Io(r,i)},removeEventListener:function(t,i){var r=Md(t,Ld);n.Oo(r,i)}};return n=new Su(t),t.Io(i,function(t){return n.Ro(t.qd)}),t.Io(r,function(t){return n.Ro(t)}),d.defineProperty(e,"constructor",{value:Qd}),e}function Zd(){}function Jd(t){var n=Fd(t);return d.defineProperty(n,"constructor",{value:Zd}),n}function $d(t){return t}!function(t){t.Hl="disabled",t.Vl="hidden",t.Xl="showing"}(qd||(qd={})),function(t){t.Wl="error"}(zd||(zd={}));var Kd=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.zd=function(){return Jd(this)},i.Dl=function(t){return t.zl===qd.Xl},n}(Ed),tl=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Do=function(n){t.prototype.Do.call(this,n)},i.Bo=function(n){t.prototype.Bo.call(this,n)},n}(Eu),nl=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(tl),il=function(t){function n(){return t.call(this,Go.ja)||this}return U(n,t),n}(Ru),rl=function(t){function n(n){var i;return(i=t.call(this,Go.Xa)||this).currentSource=n,i}return U(n,t),n}(Ru),el=function(){function t(){}return t.Zl=function(n,i){var r=t.Jl(n,i);return r?t.$l(r):0},t.Kl=function(){return b.Ld||"default"},t.t_=function(){return b.Md||"unknown"},t.Jl=function(n,i){var r,e=null==(r=b.xd)?void 0:r.Zo(i),u=e&&JSON.parse(e);if(u&&u[n])return t.n_(u,n,i)},t.$l=function(t){var n=t.availableBandwidth;return n||0},t.n_=function(n,i,r){if(!t.i_(n,i))return n[i];t.r_(n,i,r)},t.r_=function(t,n,i){var r;delete t[n],null==(r=b.xd)||r.Pa(i,JSON.stringify(t))},t.i_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.e_=function(t,n,i,r){var e;return _e({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.u_=function(n){var i=t.Kl();t.s_(i,"theoplayer-stored-network-info",n,Zt())},t.s_=function(n,i,r,e){var u,s,o=null==(u=b.xd)?void 0:u.Zo(i),h=o?JSON.parse(o):void 0,a=t.e_(h,n,r,e);null==(s=b.xd)||s.Pa(i,JSON.stringify(a))},t.o_=function(){var n=t.Kl();return t.Zl(n,"theoplayer-stored-network-info")},t}();var ul,sl,ol,hl,al,cl,fl="1ADD53F3";function vl(t){return{chromecast:function(t){return{appID:t&&t.appID?Ld(t.appID):fl}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ul.AUTO;case"manual":return ul.MANUAL;case"disabled":return ul.DISABLED;default:return ul.MANUAL}}(t?t.strategy:void 0)}}function dl(t){var n,i=ol.h_;return(n=t)&&yr(n,"mpd")&&(i=ol.a_),function(t){return!!t&&yr(t,"m3u8")}(t)&&(i=ol.c_),i}function ll(t){switch(t){case sl.f_:case sl.v_:return t;default:return sl.d_}}function _l(t){return!!t&&mr(t.toLowerCase(),ol.a_)}function gl(t){if(!t)return!1;var n=t.toLowerCase();return mr(n,ol.c_)||mr(n,ol.l_)}function wl(t){return tt(t)&&tt(t.ssai)&&"google-dai"===t.ssai.integration}function yl(t){return tt(t)&&it(t.integration)&&"verizon-media"===t.integration}function ml(t){if(it(t))return!t;if(yl(t))return!t.id;if(wl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function kl(t){return Boolean(tt(t)&&it(t.src))}function pl(t){return it(t)||kl(t)||wl(t)||yl(t)}function Al(t){if(t){if(pl(t))return ml(t);for(var n=0;n<t.length;n++){if(!ml(t[n]))return!1}return!0}return!0}function bl(){return{crossOrigin:sl.d_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Tl(){return _e({},bl(),{src:void 0,type:ol.h_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function El(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:hl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return al.NONE;case"midroll-and-postroll":default:return al.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=xd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return hl.INSECURE;case"disabled":return hl.DISABLED;case"enabled":default:return hl.ENABLED}}(t.vpaidMode)),$(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(it)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:xd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Sl(t){if(!K(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];nt(e)&&n.push(e)}return n}function Rl(t){return it(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ul||(ul={})),function(t){t.d_="",t.f_="anonymous",t.v_="use-credentials"}(sl||(sl={})),function(t){t.a_="application/dash+xml",t.c_="application/vnd.apple.mpegurl",t.l_="application/x-mpegurl",t.h_="video/mp4",t.__="application/vnd.theoplayer.hesp+json",t.g_="application/vnd.theo.hesp+json"}(ol||(ol={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(hl||(hl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(al||(al={})),function(t){t[t.w_=0]="w_",t[t.y_=1]="y_",t[t.m_=2]="m_",t[t.k_=3]="k_",t[t.p_=4]="p_"}(cl||(cl={}));var Il,Nl=function(t){function n(n,i){var r;return void 0===i&&(i=cl.w_),(r=t.call(this,Go.za)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Ru),Dl=function(t){function n(n){var i;return(i=t.call(this,Go.tc)||this).currentTime=n,i}return U(n,t),n}(Ru),Cl=function(t){function n(n){var i;return(i=t.call(this,Go.nc)||this).currentTime=n,i}return U(n,t),n}(Ru);!function(t){t.A_="canplay",t.b_="canplaythrough",t.T_="loadeddata",t.E_="loadedmetadata",t.ol="readystatechange",t.S_="waiting",t.R_="playing"}(Il||(Il={}));var Ol,xl,Pl=[Il.A_,Il.b_,Il.T_,Il.E_,Il.ol,Il.S_,Il.R_],Bl=function(t){function n(n,i){var r;return void 0===i&&(i=cl.y_),(r=t.call(this,Il.E_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Ru),Ll=function(t){function n(n){var i;return(i=t.call(this,Go.qa)||this).duration=n,i}return U(n,t),n}(Ru),Ml=function(t){function n(n,i){var r;return(r=t.call(this,Go.rc)||this).currentTime=n,r.playbackRate=i,r}return U(n,t),n}(Ru),Ul=function(t){function n(n,i){var r;return(r=t.call(this,Go.lc)||this).currentTime=n,r.currentProgramDateTime=i,r}return U(n,t),n}(Ru),Fl=function(t){function n(n){var i;return(i=t.call(this,Go.Ga)||this).currentTime=n,i}return U(n,t),n}(Ru),Hl=function(t){function n(n,i){var r;return void 0===i&&(i=cl.m_),(r=t.call(this,Il.T_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Ru),Vl=function(t){function n(n){var i;return(i=t.call(this,Go.oc)||this).currentTime=n,i}return U(n,t),n}(Ru),Xl=function(t){function n(n){var i;return(i=t.call(this,Go.sc)||this).currentTime=n,i}return U(n,t),n}(Ru),Wl=function(t){function n(n,i){var r;return(r=t.call(this,Go._c)||this).currentTime=n,r.volume=i,r}return U(n,t),n}(Ru),ql=function(t){function n(n,i){var r;return void 0===i&&(i=cl.k_),(r=t.call(this,Il.A_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Ru),zl=function(t){function n(n,i){var r;return void 0===i&&(i=cl.p_),(r=t.call(this,Il.b_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Ru),Gl=function(t){function n(n,i){var r;return(r=t.call(this,Il.ol)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Ru),jl=function(t){function n(n){var i;return(i=t.call(this,zd.Wl)||this).errorObject=n,i}return U(n,t),n.prototype.zd=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(ld);function Ql(t){switch(t){case Ol.ALL:case Ol.CONTENT:return t;default:return Ol.NONE}}function Yl(t){var n,i,r,e=Nd(t||{});return e.libraryLocation&&(e.libraryLocation=Ir(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=vl(e.cast),e.ads=El(e.ads),e.analytics=Sl(e.analytics),e.mutedAutoplay=Ql(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=it(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Ir(t)}catch(t){return void b.ds("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function Zl(t){return{I_:t.I_,N_:t.N_,D_:t.D_,Xo:t.Xo,C_:t.C_,O_:t.O_,x_:t.x_,P_:t.P_,Gl:t.Gl,B_:t.B_,L_:t.L_,M_:t.M_,U_:t.U_}}function Jl(t,n){var i=n.U_,r=n.O_;t.U_=i,t.O_=r}function $l(t,n,i){if(n!==i){var r=n.I_,e=n.N_,u=n.O_,s=n.x_,o=n.P_,h=n.Gl,a=n.B_,c=(n.M_,n.L_,n.U_),f=i.I_,v=i.N_,d=i.D_,l=i.C_,_=i.O_,g=i.x_,y=i.P_,m=i.Gl,k=i.B_,p=(i.M_,i.L_,i.U_);h!==cl.w_&&t.Ro(new Nl(f,m)),g&&!s?t.Ro(new Dl(f)):!g&&s&&t.Ro(new Cl(f)),m>=cl.y_&&t.Ro(new Bl(f,m)),v===e||w(v)&&w(e)||t.Ro(new Ll(v)),y!==o&&t.Ro(new Ml(f,y)),f!==r&&t.Ro(new Ul(f,void 0)),d&&t.Ro(new Fl(f)),m>=cl.m_&&t.Ro(new Hl(f,m)),k&&!a?t.Ro(new Vl(f)):!k&&a&&t.Ro(new Xl(f)),p===c&&_===u||t.Ro(new Wl(f,p)),m>=cl.k_&&t.Ro(new ql(f,m)),m>=cl.p_&&t.Ro(new zl(f,m)),m!==h&&t.Ro(new Gl(f,m)),l&&t.Ro(new jl(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ol||(Ol={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(xl||(xl={}));var Kl,t_=400,n_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},i_=r_(.5,n_);function r_(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function e_(){var t;return t="Android"===b.Ds.Cs?i_:n_,b.Ds.Os?function(t){var n=t;b.Ds.Os&&(n=r_((t_+250)/1e3,n));return n}(t):t}!function(t){t[t.F_=0]="F_",t[t.H_=1]="H_",t[t.V_=-1]="V_"}(Kl||(Kl={}));var u_=function(t,n){return(0|t)-(0|n)},s_=function(t,n){return t===n?Kl.F_:t<n?Kl.V_:t>n?Kl.H_:w(t)?w(n)?Kl.F_:Kl.H_:Kl.V_};function o_(t,n,i){return zt(t,n,i)?Kl.F_:s_(t,n)}var h_=function(t,n){return Gt(t,n)?Kl.F_:s_(t,n)};var a_=function(){function t(){}var n=t.prototype;return n.X_=function(t){return this.W_()*t},n.q_=function(t){return this.z_(t)>0},n.G_=function(t){return this.z_(t)>=0},n.j_=function(t,n){return this.Y_(t).Q_(n)},n.Z_=function(t){return 0===this.z_(t)},n.J_=function(t){return this.z_(t)<0},n.Q_=function(t){return this.z_(t)<=0},n.K_=function(){return this.tg()?this.ng():this},n.ig=function(t){return this.rg(t.ng())},n.Y_=function(t){return this.ig(t).K_()},t}();function c_(t,n){return t.eg()?n.eg()?Kl.F_:Kl.H_:n.eg()?Kl.V_:t.ug()?n.ug()&&t.tg()===n.tg()?Kl.F_:t.tg()?Kl.V_:Kl.H_:n.tg()?Kl.H_:Kl.V_}var f_=function(){function t(t,n){this.sg=void 0,this.og=void 0,this.sg=t,this.og=n}t.hg=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.ag=function(n){return n.unsigned?new t(n,Xt.UZERO):new t(n,n.isNegative()?Xt.NEG_ONE:Xt.ZERO)},t.cg=function(n,i){if(w(n))return i?t.fg:t.vg;if(i){if(n<0)return t.fg;if(n>=3.402823669209385e38)return t.dg}else{if(n<=-1.7014118346046923e38)return t.lg;if(n+1>=1.7014118346046923e38)return t._g}return n<0?t.cg(-n,i).ng():t.hg(Xt.fromNumber(n%0x10000000000000000),Xt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.gg=function(){return this.og.unsigned},n.wg=function(){return this.sg.isZero()&&this.og.isZero()},n.tg=function(){return this.og.isNegative()},n.yg=function(){return this.gg()?t.hg(this.sg,this.og,!1):this},n.mg=function(){return this.gg()?this:t.hg(this.sg,this.og,!0)},n.kg=function(){return this.sg},n.W_=function(){return this.tg()?-this.ng().W_():0x10000000000000000*this.og.toNumber()+this.sg.toUnsigned().toNumber()},n.pg=function(){return this.sg.toInt()},n.Z_=function(t){return(this.gg()===t.gg()||this.og.getHighBits()>>>31!=1||t.og.getHighBits()>>>31!=1)&&(this.og.toUnsigned().eq(t.og.toUnsigned())&&this.sg.toUnsigned().eq(t.sg.toUnsigned()))},n.z_=function(t){if(this.Z_(t))return Kl.F_;var n=this.tg(),i=t.tg();if(n&&!i)return Kl.V_;if(!n&&i)return Kl.H_;if(!this.gg())return this.ig(t).tg()?Kl.V_:Kl.H_;var r=this.mg(),e=t.mg(),u=e.og.comp(r.og);return u>0||0===u&&e.sg.gt(r.sg)?Kl.V_:Kl.H_},n.J_=function(t){return this.z_(t)<0},n.Q_=function(t){return this.z_(t)<=0},n.Ag=function(t){return this.z_(t)>0},n.bg=function(t){return this.z_(t)>=0},n.Tg=function(){return new t(this.sg.not(),this.og.not())},n.Eg=function(n){return new t(this.sg.and(n.sg),this.og.and(n.og))},n.Sg=function(n){return new t(this.sg.or(n.sg),this.og.or(n.og))},n.Rg=function(n){var i=127&n;return 0===i?this:i<64?t.hg(this.sg.shl(i),this.og.shl(i).or(this.sg.shru(64-i)),this.gg()):t.hg(Xt.ZERO,this.sg.shl(i-64),this.gg())},n.Ig=function(n){var i=127&n;return 0===i?this:i<64?t.hg(this.sg.shru(i).or(this.og.shl(64-i)),this.og.shr(i),this.gg()):t.hg(this.og.shr(i-64),this.og.isNegative()?Xt.NEG_ONE:Xt.ZERO,this.gg())},n.Ng=function(n){var i=127&n;return 0===i?this:i<64?t.hg(this.sg.shru(i).or(this.og.shl(64-i)),this.og.shru(i),this.gg()):64===i?t.hg(this.og,Xt.ZERO,this.gg()):t.hg(this.og.shru(i-64),Xt.ZERO,this.gg())},n.rg=function(n){var i=this.og.high>>>16,r=65535&this.og.high,e=this.og.low>>>16,u=65535&this.og.low,s=this.sg.high>>>16,o=65535&this.sg.high,h=this.sg.low>>>16,a=65535&this.sg.low,c=n.og.high>>>16,f=65535&n.og.high,v=n.og.low>>>16,d=65535&n.og.low,l=n.sg.high>>>16,_=65535&n.sg.high,g=n.sg.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.sg.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.gg(),S=Xt.fromBits(m<<16|k,w<<16|y,E),R=Xt.fromBits(b<<16|T,p<<16|A,E);return t.hg(R,S,E)},n.ig=function(t){return this.rg(t.ng())},n.ng=function(){return this.Tg().rg(t.Dg)},n.Cg=function(n){if(this.wg()||n.wg())return this.gg()?t.fg:t.vg;if(this.tg())return n.tg()?this.ng().Cg(n.ng()):this.ng().Cg(n).ng();if(n.tg())return this.Cg(n.ng()).ng();if(this.og.isZero()&&0===this.sg.high&&n.og.isZero()&&0===n.sg.high)return t.ag(this.sg.multiply(n.sg));var i=Xt.fromBits(4294967295,0,!0),r=this.sg.and(i),e=this.sg.shru(32),u=this.og.and(i),s=this.og.shru(32),o=n.sg.and(i),h=n.sg.shru(32),a=n.og.and(i),c=n.og.shru(32),f=Xt.UZERO,v=Xt.UZERO,d=Xt.UZERO,l=Xt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=Xt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Xt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.hg(_,g,this.gg())},n.Og=function(n){var i,r,e=n;if(e.wg())throw new RangeError("division by zero");if(this.wg())return this.gg()?[t.fg,t.fg]:[t.vg,t.vg];if(this.gg()){if(e.gg()||(e=e.mg()),e.Ag(this))return[t.fg,this];if(e.Ag(this.Ng(1)))return[r=t.xg,i=this.ig(e)];r=t.fg}else{if(this.Z_(t.lg)){if(e.Z_(t.Dg)||e.Z_(t.Pg))return[t.lg,t.vg];if(e.Z_(t.lg))return[t.Dg,t.vg];var u=this.Ig(1).Bg(e).Rg(1);return u.Z_(t.vg)?r=e.tg()?t.Dg:t.Pg:(i=this.ig(e.Cg(u)),r=u.rg(i.Bg(e))),[r,i=this.ig(e.Cg(r))]}if(e.Z_(t.lg))return this.gg()?[t.fg,this]:[t.vg,this];if(this.tg()){if(e.tg())return this.ng().Og(e.ng());var s=this.ng().Og(e);return r=s[0],i=s[1],[r.ng(),i.ng()]}if(e.tg()){var o=this.Og(e.ng());return r=o[0],i=o[1],[r.ng(),i.ng()]}r=t.vg}for(i=this;i.bg(e);){for(var h=l.max(1,l.floor(i.W_()/e.W_())),a=l.ceil(l.log(h)/l.LN2),c=a<=48?1:l.pow(2,a-48),f=t.cg(h),v=f.Cg(e);v.tg()||v.Ag(i);)h-=c,v=(f=t.cg(h,this.gg())).Cg(e);f.wg()&&(f=t.Dg),r=r.rg(f),i=i.ig(v)}return[r,i]},n.Bg=function(t){return this.Og(t)[0]},n.Lg=function(t){return this.Og(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.wg())return"0";if(this.tg()){if(this.Z_(t.lg)){var r=t.cg(i),e=this.Bg(r),u=e.Cg(r).ig(this);return e.toString(i)+u.pg().toString(i)}return"-"+this.ng().toString(i)}for(var s=t.cg(l.pow(i,6),this.gg()),o=this,h="";;){var a=o.Bg(s),c=(o.ig(a.Cg(s)).pg()>>>0).toString(i);if((o=a).wg())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();f_.vg=f_.ag(Xt.ZERO),f_.fg=f_.ag(Xt.UZERO),f_.Dg=f_.ag(Xt.ONE),f_.xg=f_.ag(Xt.UONE),f_.Pg=f_.ag(Xt.NEG_ONE),f_._g=f_.hg(Xt.NEG_ONE,Xt.MAX_VALUE,!1),f_.dg=f_.hg(Xt.MAX_UNSIGNED_VALUE,Xt.MAX_UNSIGNED_VALUE,!0),f_.lg=f_.hg(Xt.ZERO,Xt.MIN_VALUE,!1);var v_=function(){function t(t,n){void 0===n&&(n=1),this.Mg=void 0,this.Ug=void 0,this.Mg=t,this.Ug=n}t.Fg=function(n){return new t(l.ceil(n.Mg),n.Ug)},t.Hg=function(n){return new t(l.floor(n.Mg),n.Ug)},t.Vg=function(t,n){return t.G_(n)?t:n},t.Xg=function(t,n){return t.Q_(n)?t:n};var n=t.prototype;return n.rg=function(n){return this.Ug>=n.Ug?new t(this.Mg+n.Wg(this.Ug).Mg,this.Ug):new t(this.Wg(n.Ug).Mg+n.Mg,n.Ug)},n.q_=function(t){return t.J_(this)},n.G_=function(t){return t.Q_(this)},n.Y_=function(n){return this.Ug>=n.Ug?new t(l.abs(this.Mg-n.Wg(this.Ug).Mg),this.Ug):n.Y_(this)},n.j_=function(t,n){return this.Y_(t).Q_(n)},n.z_=function(t){return i=t,(n=this).Ug>=i.Ug?h_(n.Mg,i.Wg(n.Ug).Mg):h_(n.Wg(i.Ug).Mg,i.Mg);var n,i},n.Z_=function(t){return 0===this.z_(t)},n.J_=function(t){return this.z_(t)<0},n.Q_=function(t){return this.z_(t)<=0},n.Wg=function(n){return new t(this.Mg*(n/this.Ug),n)},n.ig=function(n){return this.Ug>=n.Ug?new t(this.Mg-n.Wg(this.Ug).Mg,this.Ug):new t(this.Wg(n.Ug).Mg-n.Mg,n.Ug)},n.qg=function(n){return new t(this.Mg*n,this.Ug)},L(t,[{key:"ug",get:function(){return!isFinite(this.Mg)}},{key:"zg",get:function(){return this.Mg/this.Ug}}]),t}();v_.Gg=new v_(1/6,1),v_.vg=new v_(0),v_.jg=new v_(1/0),v_.Qg=1e6;var d_=function(t){function n(n,i){var r;return(r=t.call(this)||this).uu=void 0,r.Ug=void 0,r.uu=n.toSigned(),r.Ug=i>>>0,r}U(n,t),n.Yg=function(t,i){return void 0===i&&(i=1e6),n.cg(t*i,i)},n.cg=function(t,i){return w(t)?n.Zg:t===1/0?n.Jg:t===-1/0?n.$g:new n(Xt.fromNumber(t),i)},n.ag=function(t,i){return new n(t,i)},n.Kg=function(t){return n.Yg(t.zg,1e6)},n.tw=function(t){return new n(Xt.fromNumber(t.getTime()),1e3)},n.Vg=function(t,n){return t.G_(n)?t:n},n.Xg=function(t,n){return t.Q_(n)?t:n},n.nw=function(t,i,r){return n.Vg(i,n.Xg(r,t))};var i=n.prototype;return i.tg=function(){return this.uu.isNegative()},i.wg=function(){return 0!==this.Ug&&this.uu.isZero()},i.ug=function(){return 0===this.Ug&&!this.uu.isZero()},i.eg=function(){return 0===this.Ug&&this.uu.isZero()},i.W_=function(){if(0===this.Ug)return this.uu.isZero()?NaN:this.uu.isNegative()?-1/0:1/0;var t=this.uu.divide(this.Ug),n=this.uu.subtract(t.multiply(this.Ug));return t.toNumber()+n.toNumber()/this.Ug},i.kg=function(){if(0===this.Ug)throw new f("Failed to convert timestamp");return this.uu},i.iw=function(){return new Date(0===this.Ug?NaN:this.Wg(1e3).uu.toNumber())},i.rw=function(){return new v_(0===this.Ug?this.W_():this.uu.toNumber(),this.Ug)},i.Wg=function(t,i){void 0===i&&(i=g_.ew);var r=this.Ug;if(r===t)return this;if(0===r)return this;var e=Yt(r,t);return new n(function(t,n,i){var r=t.Og(n),e=r[0],u=r[1];if(u.wg())return e;if(i===g_.ew)return u.tg()?e.ig(f_.Dg):e;if(i===g_.uw)return u.tg()?e:e.rg(f_.Dg);var s=u.Cg(f_.cg(2));return s.tg()?s.ng().J_(n)?e:e.ig(f_.Dg):s.J_(n)?e:e.rg(f_.Dg)}(f_.ag(this.uu).Cg(f_.cg(t/e)),f_.cg(r/e),i).kg(),t)},i.z_=function(t){if(this===t)return Kl.F_;if(0===this.Ug||0===t.Ug)return c_(this,t);if(this.wg())return t.wg()?Kl.F_:t.tg()?Kl.H_:Kl.V_;if(t.wg())return this.tg()?Kl.V_:Kl.H_;var n=l.min(this.Ug,t.Ug),i=this.Wg(n,g_.sw).uu,r=t.Wg(n,g_.sw).uu;return i.compare(r)},i.ng=function(){return 0===this.Ug?l_(this):new n(this.uu.negate(),this.Ug)},i.rg=function(t){if(0===this.Ug||0===t.Ug)return __(this,t);if(this.wg())return t;if(t.wg())return this;var i=l.max(this.Ug,t.Ug),r=this.Wg(i,g_.sw),e=t.Wg(i,g_.sw);return new n(r.uu.add(e.uu),i)},i.Cg=function(t){if(this.eg()||w(t))return n.Zg;if(this.ug()||!isFinite(t)){if(this.wg()||0===t)return n.Zg;var i=this.tg()?n.$g:n.Jg;return t<0?i.ng():i}return this.wg()?this:new n(0===t?Xt.ZERO:this.uu.multiply(t),this.Ug)},i.Bg=function(t){if(this.eg()||w(t))return n.Zg;if(this.ug())return isFinite(t)?0===t?1/t<0?this.ng():this:t<0?this.ng():this:n.Zg;if(!isFinite(t))return new n(Xt.ZERO,this.Ug);if(this.wg())return 0===t?n.Zg:new n(Xt.ZERO,this.Ug);if(0===t){var i=this.tg()?n.$g:n.Jg;return 1/t<0?i.ng():i}return new n(this.uu.divide(t),this.Ug)},i.ow=function(){return[this.uu.low,this.uu.high,this.Ug]},n}(a_);function l_(t){return t.eg()?t:t.tg()?d_.Jg:d_.$g}function __(t,n){return t.eg()||n.eg()?d_.Zg:t.ug()&&n.ug()?t.tg()===n.tg()?t:d_.Zg:t.ug()?t:n}d_.vg=new d_(Xt.ZERO,1e6),d_.Zg=new d_(Xt.ZERO,0),d_.Jg=new d_(Xt.ONE,0),d_.$g=new d_(Xt.NEG_ONE,0);var g_,w_=function(t){function n(n,i){var r;return(r=t.call(this)||this).uu=void 0,r.Ug=void 0,r.uu=BigInt.asIntN(64,n),r.Ug=i>>>0,r}U(n,t),n.Yg=function(t,i){return void 0===i&&(i=1e6),n.cg(t*i,i)},n.cg=function(t,i){return w(t)?n.Zg:t===1/0?n.Jg:t===-1/0?n.$g:new n(BigInt(l.floor(t)),i)},n.ag=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Kg=function(t){return n.Yg(t.zg,1e6)},n.tw=function(t){return n.cg(t.getTime(),1e3)},n.Vg=function(t,n){return t.G_(n)?t:n},n.Xg=function(t,n){return t.Q_(n)?t:n},n.nw=function(t,i,r){return n.Vg(i,n.Xg(r,t))};var i=n.prototype;return i.tg=function(){return this.uu<BigInt(0)},i.wg=function(){return 0!==this.Ug&&this.uu===BigInt(0)},i.ug=function(){return 0===this.Ug&&this.uu!==BigInt(0)},i.eg=function(){return 0===this.Ug&&this.uu===BigInt(0)},i.W_=function(){if(0===this.Ug)return this.uu===BigInt(0)?NaN:this.uu<BigInt(0)?-1/0:1/0;var t=this.uu/BigInt(this.Ug),n=this.uu-t*BigInt(this.Ug);return Number(t)+Number(n)/this.Ug},i.kg=function(){if(0===this.Ug)throw new f("Failed to convert timestamp");return this.hw()},i.hw=function(){var t=this.uu&BigInt(4294967295),n=this.uu>>BigInt(32)&BigInt(4294967295);return Xt.fromBits(Number(t),Number(n))},i.iw=function(){return new Date(0===this.Ug?NaN:Number(this.Wg(1e3).uu))},i.rw=function(){return new v_(0===this.Ug?this.W_():Number(this.uu),this.Ug)},i.Wg=function(t,i){void 0===i&&(i=g_.ew);var r=this.Ug;if(r===t)return this;if(0===r)return this;var e=Yt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===g_.ew)return e<BigInt(0)?r-BigInt(1):r;if(i===g_.uw)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.uu*BigInt(t/e),BigInt(r/e),i),t)},i.z_=function(t){if(this===t)return Kl.F_;if(0===this.Ug||0===t.Ug)return c_(this,t);if(this.wg())return t.wg()?Kl.F_:t.tg()?Kl.H_:Kl.V_;if(t.wg())return this.tg()?Kl.V_:Kl.H_;var n=l.min(this.Ug,t.Ug),i=this.Wg(n,g_.sw).uu,r=t.Wg(n,g_.sw).uu;return i>r?Kl.H_:i<r?Kl.V_:Kl.F_},i.ng=function(){return 0===this.Ug?y_(this):new n(-this.uu,this.Ug)},i.rg=function(t){if(0===this.Ug||0===t.Ug)return m_(this,t);if(this.wg())return t;if(t.wg())return this;var i=l.max(this.Ug,t.Ug),r=this.Wg(i,g_.sw),e=t.Wg(i,g_.sw);return new n(r.uu+e.uu,i)},i.Cg=function(t){if(this.eg()||w(t))return n.Zg;if(this.ug()||!isFinite(t)){if(this.wg()||0===t)return n.Zg;var i=this.tg()?n.$g:n.Jg;return t<0?i.ng():i}return this.wg()?this:new n(0===t?BigInt(0):this.uu*BigInt(t),this.Ug)},i.Bg=function(t){if(this.eg()||w(t))return n.Zg;if(this.ug())return isFinite(t)?0===t?1/t<0?this.ng():this:t<0?this.ng():this:n.Zg;if(!isFinite(t))return new n(BigInt(0),this.Ug);if(this.wg())return 0===t?n.Zg:new n(BigInt(0),this.Ug);if(0===t){var i=this.tg()?n.$g:n.Jg;return 1/t<0?i.ng():i}return new n(this.uu/BigInt(t),this.Ug)},i.ow=function(){var t=this.hw();return[t.low,t.high,this.Ug]},L(n,null,[{key:"vg",get:function(){return n.aw||(n.aw=new n(BigInt(0),1e6)),n.aw}},{key:"Zg",get:function(){return n.cw||(n.cw=new n(BigInt(0),0)),n.cw}},{key:"Jg",get:function(){return n.fw||(n.fw=new n(BigInt(1),0)),n.fw}},{key:"$g",get:function(){return n.vw||(n.vw=new n(BigInt(-1),0)),n.vw}}]),n}(a_);function y_(t){return t.eg()?t:t.tg()?w_.Jg:w_.$g}function m_(t,n){return t.eg()||n.eg()?w_.Zg:t.ug()&&n.ug()?t.tg()===n.tg()?t:w_.Zg:t.ug()?t:n}w_.aw=void 0,w_.cw=void 0,w_.fw=void 0,w_.vw=void 0,function(t){t[t.ew=0]="ew",t[t.uw=1]="uw",t[t.sw=2]="sw"}(g_||(g_={}));var k_,p_=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?w_:d_;function A_(t,n){return t.z_(n)}function b_(t){return p_.ag(Xt.fromBits(t[0],t[1],!1),t[2])}function T_(t){return{goLive:function(){return t.dw()},get isLive(){return t.lw},get currentServerLiveTime(){return t._w},get currentLatency(){return t.gw},get latency(){return t.ww},set latency(n){if(!function(t){if(!tt(t))return!1;var n=t,i=J(n.target)&&"number"==typeof n.target&&J(n.windowEnd)&&"number"==typeof n.windowEnd&&J(n.windowStart)&&"number"==typeof n.windowStart&&J(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new f("Invalid latency configuration");t.ww=n},get manifest(){return t.yw},get metrics(){return t.mw},addEventListener:function(n,i){t.Io(S_(n),i)},removeEventListener:function(n,i){t.Oo(S_(n),i)}}}!function(t){t[t.Hl=0]="Hl",t[t.kw=1]="kw",t[t.pw=2]="pw"}(k_||(k_={}));var E_=["analytic","golive","nogolive","bufferedchange"];function S_(t){var n=Md(t,Ld);return(it(n)?[n]:n).filter(function(t){return n=t,-1!==E_.indexOf(n);var n})}var R_,I_=function(t){function n(){var n;return(n=t.call(this)||this).Tl=void 0,n.Wd=void 0,n.Aw=e_(),n.Tl=void 0,n}U(n,t);var i=n.prototype;return i.Rl=function(t){t.Io(E_,this.So)},i.Il=function(t){t.Oo(E_,this.So)},i.dw=function(){return this.Tl?this.Tl.dw():T.resolve()},i.Nv=function(){this.Co(),this.Tl&&this.Il(this.Tl),this.Tl=void 0},L(n,[{key:"Nl",get:function(){return this.Tl},set:function(t){var n=this.Tl;t!==n&&(n&&this.Il(n),t&&this.Rl(t),this.Tl=t,this.Tl&&(this.Tl.ww=this.Aw))}},{key:"qd",get:function(){return this.Wd||(this.Wd=T_(this)),this.Wd}},{key:"_w",get:function(){var t;return null==(t=this.Tl)?void 0:t._w}},{key:"gw",get:function(){var t;return null==(t=this.Tl)?void 0:t.gw}},{key:"lw",get:function(){return!!this.Tl&&this.Tl.lw}},{key:"ww",get:function(){return this.Aw},set:function(t){this.Tl&&(this.Tl.ww=t),this.Aw=t}},{key:"yw",get:function(){var t;return null==(t=this.Tl)?void 0:t.yw}},{key:"mw",get:function(){var t;return null==(t=this.Tl)?void 0:t.mw}}]),n}(Eu),N_=function(t){function n(n){var i;return(i=t.call(this)||this).Tl=void 0,i.bw=[],i.Tw=!1,i.Ew=new Gd,i.Sw=new Gd,i.Rw=new Kd,i.Iw=new I_,i.Nw=!1,i.Dw(n),n.Do(i.So),i.Tl=n,i.Ew.Nl=n.Cw,i.Sw.Nl=n.Ow,i.Rw.Nl=n.xw,i.Iw.Nl=n.Pw,i}U(n,t);var i=n.prototype;return i.Bw=function(){this.Tl.Bw()},i.Lw=function(){this.Tl.Lw()},i.Mw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this.bw.map(function(t){return t.Mw()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Uw=function(){return this.Tl.Uw()},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(i),t.next=3,this.Tl.Fw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Hw=function(){return this.Nl.Hw()},i.Vw=function(){this.Nl.Vw()},i.Xw=function(){this.Nl.Xw()},i.Ww=function(){if(!this.Tw){for(var t=0,n=this.bw;t<n.length;t++){n[t].Ww()}this.Tw=!0}},i.qw=function(t){this.Tl.qw(t)},i.zw=function(){this.Tl.zw()},i.Gw=function(){this.Tl.Gw()},i.jw=function(){this.Tl.jw()},i.Qw=function(){return this.Tl.Qw()},i.Yw=function(){return this.Tl.Yw()},i.Zw=function(){for(var t=[],n=0,i=this.bw;n<i.length;n++){var r=i[n];t.push.apply(t,r.Zw())}return t},i.Jw=function(t){for(var n=!1,i=0,r=this.bw;i<r.length;i++){n=r[i].Jw(t)||n}return n},i.Ro=function(n){this.Jw(n)||t.prototype.Ro.call(this,n)},i.Dw=function(t){this.bw.push(t)},i.$w=function(t){$e(this.bw,t)},i.Kw=function(t){if(t!==this.Tl){var n=this.Tl;n.zw(),n.Bo(this.So);var i=Zl(this),r=this.ty,e=this.Yw();this.Tl=t,this.Ew.Nl=t.Cw,this.Sw.Nl=t.Ow,this.Rw.Nl=t.xw,this.Iw.Nl=t.Pw,$l(this,i,this);var u=this.ty;u!==r&&this.Ro(new rl(u)),this.Yw()!==e&&this.Ro(new il),t.Do(this.So),t.qw(n)}},i.ny=function(){},i.Nv=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Co(),this.Tl.zw(),n=0,i=this.bw;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Nv();case 7:n++,t.next=3;break;case 10:this.Ew.Nv(),this.Sw.Nv(),this.Rw.Nv(),this.Iw.Nv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this.bw.map(function(t){return t.pl()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Cw",get:function(){return this.Ew}},{key:"xw",get:function(){return this.Rw}},{key:"Ow",get:function(){return this.Sw}},{key:"iy",get:function(){return this.Tl.iy}},{key:"ey",get:function(){return this.Tl.ey},set:function(t){this.Tl.ey=t}},{key:"ty",get:function(){return this.Tl.ty}},{key:"I_",get:function(){return this.Tl.I_},set:function(t){this.Tl.I_=t}},{key:"N_",get:function(){return this.Tl.N_}},{key:"uy",get:function(){return this.Tl.uy}},{key:"D_",get:function(){return this.Tl.D_}},{key:"Xo",get:function(){return this.Tl.Xo}},{key:"C_",get:function(){return this.Tl.C_}},{key:"Pw",get:function(){return this.Iw}},{key:"sy",get:function(){return this.Tl.sy}},{key:"mw",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.oy,i+=h.hy,r+=h.ay,e+=h.vy,u+=h.ly,s.amountOfBufferedAudioSegments+=h._y.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=h._y.amountOfBufferedVideoSegments}return{oy:n,hy:i,ay:r,vy:e,ly:u,_y:s}}(this.bw.map(function(t){return t.mw}))}},{key:"O_",get:function(){return this.Tl.O_},set:function(t){this.Tl.O_=t}},{key:"gy",get:function(){return this.Tl.gy}},{key:"x_",get:function(){return this.Tl.x_}},{key:"P_",get:function(){return this.Tl.P_},set:function(t){this.Tl.P_=t}},{key:"wy",get:function(){return this.Tl.wy}},{key:"yy",get:function(){return this.Tl.yy},set:function(t){this.Tl.yy=t}},{key:"Gl",get:function(){return this.Tl.Gl}},{key:"my",get:function(){return this.Tl.my}},{key:"B_",get:function(){return this.Tl.B_}},{key:"L_",get:function(){return this.Tl.L_}},{key:"M_",get:function(){return this.Tl.M_}},{key:"U_",get:function(){return this.Tl.U_},set:function(t){this.Tl.U_=t}},{key:"Nl",get:function(){return this.Tl},set:function(t){this.Kw(t)}}]),n}(nl),D_=function(t){function n(n,i,r,e,u,s,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=s,a.response=o,a.systemCode=h,a}return U(n,t),L(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(So);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(R_||(R_={}));var C_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,f.captureStackTrace&&f.captureStackTrace(en(u),u.constructor),u}return U(n,t),L(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function O_(t){Rd(t,"MEDIA_ERR_ABORTED",R_.ABORTED),Rd(t,"MEDIA_ERR_NETWORK",R_.NETWORK),Rd(t,"MEDIA_ERR_DECODE",R_.DECODE),Rd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",R_.SRC_NOT_SUPPORTED),Rd(t,"MEDIA_ERR_ENCRYPTED",R_.ENCRYPTED)}function x_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new C_(R_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new C_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return R_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return R_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return R_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return R_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return R_.NETWORK;if(i===n.ErrorCategory.SOURCE)return R_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return R_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return R_.ENCRYPTED;if(i===n.ErrorCategory.AD)return R_.ADVERTISEMENT_ERROR;return R_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function P_(t){switch(t){case R_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case R_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case R_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case R_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case R_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case R_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case R_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}O_(C_),O_(C_.prototype);var B_,L_=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.yl=function(n){return t.prototype.yl.call(this,n)},i.zd=function(){return Wd(this)},n}(Ad);!function(t){t.mv="audio",t.kv="video",t.je="text",t.pv="image",t.ov="unknown"}(B_||(B_={}));var M_=function(){function t(){this.ky=[],this.Wd=void 0}var n=t.prototype;return n.rg=function(t){this.ky.push(t),this.Wd&&this.Wd.push(t.qd)},n.wl=function(t){return this.ky[t]},n.py=function(t){return $(t)?nu(this.ky,t):tu(this.ky,t)},L(t,[{key:"Al",get:function(){return this.ky}},{key:"bl",get:function(){return this.ky.length}},{key:"qd",get:function(){var t,n;return this.Wd||(this.Wd=((n=(t=this).Al.map(function(t){return t.qd})).item=function(n){var i=0|n,r=t.wl(i);return r&&r.qd||void 0},n)),this.Wd}}]),t}(),U_=function(t){function n(n){var i;return(i=t.call(this,_d.fl)||this).Gd=n,i}return U(n,t),n.prototype.zd=function(){return new F_(this.Gd.qd)},n}(gd),F_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return U(n,t),n}(wd),H_=0;function V_(){return H_++}var X_=0;var W_=0;function q_(){return W_++}var z_=0;var G_=function(t){function n(n){var i;return(i=t.call(this)||this).Ys=B_.mv,i.Ay=void 0,i.by=void 0,i.Ty=void 0,i.Ey=void 0,i.Sy=!1,i.ky=void 0,i.Wd=void 0,i.Ay=n,i.Ey=V_(),i.by=z_+++"",i.Ty=n.label,i.ky=new M_,i.Ry(),i}U(n,t);var i=n.prototype;return i.Iy=function(t){this.Ol=t},i.Ry=function(){this.Ol=this.Ny},L(n,[{key:"Cl",get:function(){}},{key:"Ol",get:function(){return this.Sy},set:function(t){this.Sy!==t&&(this.Sy=t,this.Ny=t,this.Ro(new bd(this)))}},{key:"Ny",get:function(){return!!this.Ay.enabled},set:function(t){this.Ay.enabled=t}},{key:"qd",get:function(){return this.Wd||(this.Wd=Vd(this)),this.Wd}},{key:"xl",get:function(){return this.by}},{key:"Pl",get:function(){return this.Ey}},{key:"Bl",get:function(){return this.Ay.kind}},{key:"Ll",get:function(){return this.Ty},set:function(t){t!==this.Ty&&(this.Ty=t,this.Ro(new U_(this)))}},{key:"Ml",get:function(){return this.Ay.language}},{key:"zl",get:function(){return this.Ol?"enabled":"disabled"}},{key:"Dy",get:function(){return this.Ay}},{key:"Ul",get:function(){return this.ky}},{key:"Fl",get:function(){},set:function(t){}}]),n}(Eu),j_=0;var Q_,Y_,Z_,J_=function(t){function n(n){var i;return(i=t.call(this)||this).Ys=B_.kv,i.Ay=void 0,i.by=void 0,i.Ey=void 0,i.Sy=!1,i.ky=void 0,i.Ty=void 0,i.Wd=void 0,i.Ay=n,i.Ey=V_(),i.by=j_+++"",i.ky=new M_,i.Ty=n.label,i.Ry(),i}U(n,t);var i=n.prototype;return i.Ry=function(){this.Ol=this.Ny},i.Iy=function(t){this.Ol=t},L(n,[{key:"Cl",get:function(){}},{key:"Ol",get:function(){return this.Sy},set:function(t){this.Sy!==t&&(this.Sy=t,this.Ny=t,this.Ro(new bd(this)))}},{key:"Ny",get:function(){return!!this.Ay.selected},set:function(t){this.Ay.selected=t}},{key:"qd",get:function(){return this.Wd||(this.Wd=Vd(this)),this.Wd}},{key:"xl",get:function(){return this.by}},{key:"Pl",get:function(){return this.Ey}},{key:"Bl",get:function(){return"main"}},{key:"Ll",get:function(){return this.Ty},set:function(t){t!==this.Ty&&(this.Ty=t,this.Ro(new U_(this)))}},{key:"Ml",get:function(){return this.Ay.language}},{key:"zl",get:function(){return this.Ol?"enabled":"disabled"}},{key:"Dy",get:function(){return this.Ay}},{key:"Ul",get:function(){return this.ky}},{key:"Fl",get:function(){},set:function(t){}}]),n}(Eu),$_=function(t){function n(n){var i;return(i=t.call(this,Go.La)||this).sy=n,i}return U(n,t),n}(Ru);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Q_||(Q_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Y_||(Y_={})),function(t){t.Cy="cue",t.Oy="region",t.xy="stylesheet"}(Z_||(Z_={}));var K_,tg,ng={"line-left":"start",center:"middle","line-right":"end"},ig={start:"line-left",middle:"center",end:"line-right"};function rg(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function eg(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:g(i),w(e)?r:e;var i,r,e}!function(t){t.Py="By",t.Ly="My",t.fl="Nh"}(K_||(K_={})),function(t){t.Py="enter",t.Ly="exit",t.fl="update"}(tg||(tg={}));var ug=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Uy=i,r}return U(n,t),n}(gd),sg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return U(n,t),n}(wd);function og(t){var n,i=[K_.Py,K_.Ly,K_.fl],r={get track(){return t.Gd.qd},get id(){return t.xl},get uid(){return t.Pl},get startTime(){return t.Fy},get endTime(){return t.Hy},get content(){return t.Vy},addEventListener:function(t,i){var r=Md(t,Ld);n.Io(r,i)},removeEventListener:function(t,i){var r=Md(t,Ld);n.Oo(r,i)}};return n=new Su(r),t.Io(i,function(t){return n.Ro(t.qd)}),r}function hg(){}function ag(t){return Id(og(t),{get align(){return t.Xy},get line(){return t.Wy},get lineAlign(){return t.qy},get position(){return t.zy},get positionAlign(){return t.Gy},get region(){return t.jy?t.jy.qd:null},get size(){return t.th},get snapToLines(){return t.Qy},get text(){return t.Vy},get vertical(){return t.Yy}})}var cg=.02;function fg(t,n){return zt(t.Fy,n.Fy,cg)&&zt(t.Hy,n.Hy,cg)&&t.xl===n.xl}var vg=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Ey=void 0,s.by=void 0,s.Zy=void 0,s.Jy=void 0,s.Wd=void 0,s.$y=void 0,s.Ky=!1,s.tm=void 0,s.nm=void 0,s.im="",s.rm=-1,s.Ey=q_(),s.Zy=n,s.Jy=i,s.tm=r,s.nm=Boolean(e),s.by=null!=u?u:"",s}U(n,t);var i=n.prototype;return i.zd=function(){return og(this)},i.Z_=function(t){return this===t||Cd(this,t)&&fg(this,t)},i.Nv=function(){this.Co()},L(n,[{key:"Fy",get:function(){return this.Zy},set:function(t){this.Zy=t}},{key:"Hy",get:function(){return this.Jy},set:function(t){this.Jy=t}},{key:"xl",get:function(){return this.by}},{key:"Pl",get:function(){return this.Ey}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"um",get:function(){return this.Ky},set:function(t){this.Ky=t}},{key:"Gd",get:function(){return this.$y},set:function(t){this.$y=t}},{key:"Vy",get:function(){return this.tm},set:function(t){this.tm=t}},{key:"sm",get:function(){return this.im},set:function(t){this.im=t}},{key:"om",get:function(){return this.nm},set:function(t){this.nm=t}}]),n}(Eu);function dg(t,n){return t.Vy===n.Vy&&t.Wy===n.Wy&&t.qy===n.qy&&t.zy===n.zy&&t.Gy===n.Gy&&t.jy===n.jy&&t.Qy===n.Qy&&t.th===n.th&&t.Xy===n.Xy&&t.Yy===n.Yy}var lg=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).Wy="auto",s.qy="start",s.zy="auto",s.Gy="auto",s.jy=void 0,s.Qy=!0,s.th=100,s.Xy="center",s.Yy="",s}return U(n,t),n.prototype.Z_=function(n){return this===n||Cd(this,n)&&t.prototype.Z_.call(this,n)&&dg(this,n)},L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=ag(this)),this.Wd}},{key:"Ys",get:function(){return Z_.Cy}}]),n}(vg);function _g(t){var n="number"==typeof t.Wy?t.Wy:g(t.Wy);return w(n)||t.Qy||!(n<0||n>100)?w(n)?t.Qy?-1:100:n:100}function gg(t){return eg(t.zy,t.Xy)}function wg(t){return rg(t.Gy,t.Xy)}function yg(t){var n=100,i=wg(t),r=gg(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.th<n?t.th:n}function mg(t){return{get id(){return t.xl},get identifier(){return t.xl},get lines(){return t.hm},get regionAnchorX(){return t.am},get regionAnchorY(){return t.cm},get scrollValue(){return t.fm},get viewportAnchorX(){return t.vm},get viewportAnchorY(){return t.dm},get width(){return t.us}}}var kg=function(){function t(t,n,i,r,e,u,s,o){this.Wd=void 0,this.xl=t,this.us=n,this.hm=i,this.am=r,this.cm=e,this.vm=u,this.dm=s,this.fm=o}return L(t,[{key:"qd",get:function(){return this.Wd||(this.Wd=mg(this)),this.Wd}},{key:"Ys",get:function(){return Z_.Oy}}]),t}(),pg=9e4,Ag=l.pow(2,33),bg=p_.cg(Ag,pg),Tg=bg.Bg(2);function Eg(t){return null!=t&&!t.eg()}function Sg(t,n){return t.ug()||n.ug()?p_.Vg(t,n):Ng(t,n).q_(p_.vg)?t:n}function Rg(t,n){var i=t.ig(n);return i.J_(p_.vg)&&(i=i.rg(bg)),i}function Ig(t,n){var i=t.rg(n);return i.G_(bg)&&(i=i.ig(bg)),i}function Ng(t,n){var i=t.ig(n);return t.ug()||n.ug()?i:(i.G_(Tg)?i=i.ig(bg):i.J_(Tg.ng())&&(i=i.rg(bg)),i)}function Dg(t,n){if(t||n)return t?n?p_.Xg(t,n):t:n}function Cg(t,n){if(t||n)return t?n?p_.Vg(t,n):t:n}var Og,xg,Pg,Bg,Lg={lm:0,_m:1/0,gm:0},Mg=6,Ug=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Fg=[" ","\t","\n","\f","\r"],Hg=/^\d*$/,Vg=/.*[0-9]+.*/,Xg=/^[\d.-]+$/,Wg=/(^\.|\.$)/,qg=/(\D\.|\.\D)/;function zg(t,n){void 0===n&&(n=Lg);var i={jl:[],wm:[],ym:[]},r=Gg(t),e=new Gs;if(iw(r),jg(r,function(t){return"\n"!==t},e),e.uh>=r.length)return i;(e.ih(1),"\n"!==r.charAt(e.uh))?Jg(Qg(r,e,!1,!0,i,n),i):e.ih(1);for(jg(r,function(t){return"\n"===t},e);e.uh<r.length;){Jg(Qg(r,e,!1,!1,i,n),i),jg(r,function(t){return"\n"===t},e)}return i}function Gg(t){var n=wr(t,"\0"," "),i=wr(n,"\r\n","\n");return wr(i,"\r","\n")}function jg(t,n,i){for(var r=i.uh;i.uh<t.length&&n(t.charAt(i.uh));)i.ih(1);return t.substring(r,i.uh)}function Qg(t,n,i,r,e,u){for(var s,o=0,h=n.uh,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(s=jg(t,function(t){return"\n"!==t},n),o++,n.uh>=t.length?c=!0:n.ih(1),yr(s,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.rh(h);break}f=!0,h=n.uh,v=new lg(0,0,"",!1,a);try{$g(s,e.wm,v,u),a=""}catch(t){b.ds(t),v=null}}else{if(""===s)break;r&&mr(s,"X-TIMESTAMP-MAP")&&(e.mm=Yg(s)),r||2!==o||i||(pr("STYLE",a.replace(/ /g,""))?(d={Ys:Z_.xy},a=""):pr("REGION",a.replace(/ /g,""))&&(l=new kg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,h=n.uh}if(v)return v.Vy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&yr(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":dw(o,n);break;case"WIDTH":gw(o,n);break;case"LINES":_w(o,n);break;case"REGIONANCHOR":var h=vw(o);h&&(n.am=h[0],n.cm=h[1]);break;case"VIEWPORTANCHOR":var a=vw(o);a&&(n.vm=a[0],n.dm=a[1]);break;case"SCROLL":lw(o,n)}}}}(a,l),l;return null}function Yg(t){var n,i,r=t.split("=")[1].trim().split(","),e=Zg(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Zg(r[0].trim(),"LOCAL")?r[0]:r[1];return{km:(i=Number(e.split(/:(.*)/)[1].trim())||0,p_.cg(i,pg)),pm:p_.Yg(null!=(n=nw(u.split(/:(.*)/)[1].trim(),new Gs))?n:0)}}function Zg(t,n){return mr(t,n)}function Jg(t,n){t&&function(t){return t.Ys===Z_.Cy}(t)?n.jl.push(t):t&&function(t){return t.Ys===Z_.Oy}(t)?n.wm.push(t):t&&function(t){return t.Ys===Z_.xy}(t)&&n.ym.push(t)}function $g(t,n,i,r){var e=new Gs;if(rw(t,e),i.Fy=Kg(nw(t,e),r),rw(t,e),"--\x3e"!==t.substring(e.uh,e.uh+3))throw f("Something went wrong with parsing a WebVTT Cue");e.ih(3),rw(t,e),i.Hy=Kg(nw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&yr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),h=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":hw(h,n,i);break;case"VERTICAL":cw(h,n);break;case"D":fw(h,n);break;case"LINE":case"L":sw(h,n);break;case"POSITION":case"T":ow(h,n);break;case"SIZE":case"S":aw(h,n);break;case"ALIGN":case"A":uw(h,n)}}}}(t.substring(e.uh,t.length),i,n)}function Kg(t,n){return t+n.lm}function tw(t){return/^[0-9]$/.test(t)}function nw(t,n){var i,r,e,u=wr(t,",","."),s=!1;if(n.uh>=u.length||!tw(u.charAt(n.uh)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=jg(u,tw,n),h=_(o,10);if((o.length>2||h>59)&&(s=!0),n.uh>=u.length||":"!==u.charAt(n.uh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ih(1);var a=jg(u,tw,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(a,10);if(s||n.uh<u.length&&":"===u.charAt(n.uh)){if(n.uh>=u.length||":"!==u.charAt(n.uh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ih(1);var v=jg(u,tw,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=_(v,10)}else i=0,r=h,e=c;if(n.uh>=u.length||"."!==u.charAt(n.uh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ih(1);var d=jg(u,tw,n),l=_(d,10);if(c>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function iw(t){if(t.length<Mg)return!1;for(var n=0;n<Ug.length;n++){if(mr(t,Ug[n]))return!0}return!1}function rw(t,n){for(;n.uh<t.length&&(i=t.charAt(n.uh),tu(Fg,i));)n.ih(1);var i}function ew(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function uw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Xy=i;break;case"middle":n.Xy="center"}}function sw(t,n){var i=t,r="";if(yr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Vg.test(i)){var e;if(kr(i,"%")){var u=ew(i);if(null===u)return;e=u}else{if(!Xg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!qg.test(t)||Wg.test(t))return;if(e=g(t),w(e))return}switch(n.Wy=e,n.Qy=kr(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.qy=r;break;case"middle":n.qy="center"}}}function ow(t,n){var i=t,r="";yr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=ew(i);if(null!==e)switch(n.zy=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Gy=r;break;case"start":n.Gy="line-left";break;case"middle":n.Gy="center";break;case"end":n.Gy="line-right"}}function hw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].xl===t)return void(n.jy=i[r])}function aw(t,n){var i=ew(t);null!==i&&(n.th=i)}function cw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Yy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Yy="lr";break;default:n.Yy=""}}function fw(t,n){"VERTICAL"===t.toUpperCase()?n.Yy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Yy="lr")}function vw(t){if(t.indexOf(",")>=0){var n=ew(t.substring(0,t.indexOf(","))),i=ew(t.substring(t.indexOf(",")+1,t.length));return[qt(n||0,0,100),qt(i||100,0,100)]}return null}function dw(t,n){n.xl=t}function lw(t,n){"up"===t.toLowerCase()&&(n.fm="up")}function _w(t,n){Hg.test(t)&&(n.hm=_(t))}function gw(t,n){var i=ew(t);null!==i&&(n.us=i)}!function(t){t.Am="moov",t.bm="mvhd",t.Tm="trak",t.Em="tkhd",t.Sm="mdia",t.Rm="mdhd",t.Im="hdlr",t.Nm="minf",t.Dm="stbl",t.Cm="stsd",t.Om="stsc",t.xm="mvex",t.Pm="trex",t.Bm="avc1",t.Lm="avcC",t.Mm="hev1",t.Um="hvc1",t.Fm="hvcC",t.Hm="pasp",t.Vm="mp4a",t.Xm="esds",t.Wm="wvtt",t.qm="vttC",t.zm="vlab",t.Gm="enca",t.jm="encv",t.Qm="moof",t.Ym="mfhd",t.Zm="traf",t.Jm="tfhd",t.$m="trun",t.Km="tfdt",t.tk="mdat",t.nk="pssh",t.ik="emsg",t.rk="sidx",t.ek="styp",t.uk="ftyp",t.sk="sinf",t.hk="frma"}(Og||(Og={})),function(t){t.kv="vide",t.mv="soun",t.ak="subt",t.ck="hint",t.fk="meta",t.vk="auxv"}(xg||(xg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Pg||(Pg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Bg||(Bg={}));var ww=function(){function t(t,n){this.bu=void 0,this.dk=void 0,this.bu=t,this.dk=n}var n=t.prototype;return n.lk=function(){return as(this.bu,this.dk)},n._k=function(){return _s(this.bu,this.dk)},n.gk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.uh,i);return n.ih(2),r}(this.bu,this.dk)},n.wk=function(){return ws(this.bu,this.dk)},n.yk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.uh,i);return n.ih(4),r}(this.bu,this.dk)},n.mk=function(){return ms(this.bu,this.dk)},n.kk=function(t){return fs(this.bu,this.dk,t)},n.pk=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(ws(t,n));return r}(this.bu,this.dk,t)},n.Ak=function(t){return As(this.bu,this.dk,t)},n.bk=function(){return Bs(this.bu,this.dk)},n.Tk=function(t){this.dk.ih(t)},n.eh=function(){return new t(this.bu,this.dk.eh())},t}();function yw(t,n){return t.Ys===n}function mw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(yw(r,n))return r}}function kw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];yw(e,n)&&i.push(e)}return i}var pw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ek=n,r.Sk=i,r}return U(n,t),L(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(sn),Aw=function(){function t(){}return t.Rk=function(n){var i=n.bu,r=n.dk,e=t.Ik(i,r,!1);if(!e.Nk)throw new pw(r.uh,e.lu);return e.lu},t.Ik=function(n,i,r){for(var e=[];i.uh<n.byteLength;){var u=t.Dk(n,i,r);if(!u.Nk)return{Nk:!1,lu:e};e.push(u.Ck)}return{Nk:!0,lu:e}},t.Ok=function(n,i){var r=t.Dk(n,i,!1);if(!r.Nk)throw new pw(i.uh);return r.Ck},t.xk=function(n,i){for(var r=n.bu,e=n.dk;e.uh<r.byteLength;){var u=t.Dk(r,e,!1);if(!u.Nk)return;if(u.Ck.Ys===i)return u.Ck}},t.Dk=function(n,i,r){var e=i.uh,u=t.Pk(n,i);if(!u.Nk)return u;var s=u.Bk,o=s.th;if(0===o){if(r)return i.rh(e),{Nk:!1,Lk:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.rh(e),{Nk:!1,Lk:a}}var c={Ys:s.Ys,uh:e,bu:new ww(Fs(n,e,h),new Gs(s.Mk))};return i.rh(h),{Nk:!0,Ck:c}},t.Pk=function(t,n){var i=n.uh;if(!ds(t,n,8))return{Nk:!1,Lk:n.uh+8};var r=ws(t,n),e=As(t,n,4);if(1===r){if(!ds(t,n,8)){var u=n.uh+8;return n.rh(i),{Nk:!1,Lk:u}}r=ms(t,n).toNumber()}if("uuid"===e){if(!ds(t,n,16)){var s=n.uh+16;return n.rh(i),{Nk:!1,Lk:s}}e=As(t,n,16)}return{Nk:!0,Bk:{Ys:e,th:r,Mk:n.uh-i}}},t.Uk=function(t,n,i){var r=t.bu,e=t.dk,u=Us(Vs(r),e.uh,r.byteLength);return i&&(u=zs(u)),e.ih(u.byteLength),{Ys:n,bu:u}},t.Fk=function(n,i,r){var e=Sw(n.wk());return{Ys:i,Hk:e.version,Vk:e.flags,bu:t.Uk(n,i,r).bu}},t}();function bw(t,n){var i=Tw(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Tw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ys===n)return r.bu}}function Ew(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Ys===n&&i.push(e.bu)}return i}function Sw(t){return{version:t>>24,flags:new ss(16777215&t)}}var Rw=function(){function t(){}return t.Xk=function(n){for(var i=[],r=Aw.Rk(new ww(n,new Gs)),e=0;e<r.length;e++){var u=r[e],s=t.Wk(u);s&&i.push(s)}return i},t.qk=function(t){return Aw.Ik(t,new Gs,!1).lu.some(function(t){return t.Ys===Og.Qm||t.Ys===Og.ek})},t.zk=function(n){return Ew(Aw.Rk(new ww(n,new Gs)),Og.nk).map(t.Gk)},t.Wk=function(n){switch(n.Ys){case Og.Am:return t.jk(n.bu);case Og.Qm:return t.Qk(n.bu,n.uh);case Og.tk:return t.Yk(n.bu);case Og.rk:return t.Zk(n.bu);case Og.ik:return t.Jk(n.bu)}},t.jk=function(n){var i=Aw.Rk(n),r=bw(i,Og.bm),e=Ew(i,Og.Tm),u=Tw(i,Og.xm),s=t.$k(r),o=e.map(t.Kk),h=u?t.tp(u):void 0;return{Ys:Og.Am,Bk:s,np:o,ip:h}},t.$k=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags,e=1===i?t.mk():t.wk(),u=1===i?t.mk():t.wk(),s=t.wk(),o=1===i?t.mk():t.wk(),h=t.wk(),a=t._k()>>8;t.Tk(2),t.Tk(8);var c=t.pk(9);t.Tk(24);var f=t.wk();return{Ys:Og.bm,Hk:i,Vk:r,rp:e,ep:u,Ug:s,N_:o,sp:h,U_:a,op:c,hp:f}},t.Kk=function(n){var i=Aw.Rk(n),r=bw(i,Og.Em),e=bw(i,Og.Sm),u=t.ap(r),s=t.cp(e);return{Ys:Og.Tm,Bk:u,fp:s}},t.ap=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags,e=1===i?t.mk():t.wk(),u=1===i?t.mk():t.wk(),s=t.wk();t.Tk(4);var o=1===i?t.mk():t.wk();t.Tk(8);var h=t.gk(),a=t.gk(),c=t.gk()/l.pow(2,8);t.Tk(2);var f=t.pk(9),v=t.wk()/l.pow(2,16),d=t.wk()/l.pow(2,16);return{Ys:Og.Em,vp:r.oh(1),dp:r.oh(2),lp:r.oh(4),rp:e,ep:u,_p:s,N_:o,gp:h,wp:a,U_:c,op:f,us:v,yp:d}},t.cp=function(n){var i=Aw.Rk(n),r=bw(i,Og.Rm),e=bw(i,Og.Im),u=bw(i,Og.Nm),s=t.mp(r),o=t.kp(e),h=t.pp(u);return{Ys:Og.Sm,Bk:s,Ap:o,bp:h}},t.mp=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags,e=1===i?t.mk():t.wk(),u=1===i?t.mk():t.wk(),s=t.wk(),o=1===i?t.mk():t.wk();t._k();return t.Tk(2),{Ys:Og.Rm,Hk:i,Vk:r,rp:e,ep:u,Ug:s,N_:o}},t.kp=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags;t.Tk(4);var e=t.Ak(4);t.Tk(12);var u=t.bk();return{Ys:Og.Im,Hk:i,Vk:r,Tp:e,iu:u}},t.pp=function(n){var i=bw(Aw.Rk(n),Og.Dm),r=t.Ep(i);return{Ys:Og.Nm,Sp:r}},t.Ep=function(n){var i=bw(Aw.Rk(n),Og.Cm),r=t.Rp(i);return{Ys:Og.Dm,Ip:r}},t.Rp=function(n){for(var i=Sw(n.wk()),r=i.version,e=i.flags,u=(n.wk(),[]),s=Aw.Rk(n),o=0;o<s.length;o++){var h=s[o],a=t.Np(h.bu,h.Ys);a&&u.push(a)}return{Ys:Og.Cm,Hk:r,Vk:e,Dp:u}},t.Np=function(n,i){var r=t.Cp(n,i);return r||((r=t.Op(n,i))||(i===Og.Wm?t.xp(n):void 0))},t.Cp=function(n,i){return i===Og.Vm?t.Pp(n):i===Og.Gm?t.Bp(n):void 0},t.Op=function(n,i){return i===Og.Bm?t.Lp(n):i===Og.Mm||i===Og.Um?t.Mp(n,i):i===Og.jm?t.Up(n):void 0},t.Fp=function(t,n){return t.Tk(6),{Ys:n,Hp:t._k()}},t.Vp=function(n,i){var r=t.Fp(n,i);n.Tk(8);var e=n._k(),u=n._k();return n.Tk(2),n.Tk(2),_e({},r,{Xp:e,Wp:u,qp:n.wk()>>>16})},t.zp=function(n,i){var r=t.Fp(n,i);n.Tk(2),n.Tk(2),n.Tk(12);var e=n._k(),u=n._k(),s=n.wk(),o=n.wk();n.Tk(4);var h=n._k();n.Tk(32);var a=n._k();return n.Tk(2),_e({},r,{us:e,yp:u,Gp:s,jp:o,Qp:h,Yp:a})},t.Pp=function(n){var i=t.Vp(n,Og.Vm),r=bw(Aw.Rk(n),Og.Xm);return _e({},i,{Zp:t.Jp(r)})},t.xp=function(n){var i=t.Fp(n,Og.Wm),r=Aw.Rk(n),e=bw(r,Og.qm),u=t.$p(e),s=Tw(r,Og.zm);return _e({},i,{Kp:u,tA:s?t.nA(s):s})},t.$p=function(t){return{Ys:Og.qm,iA:t.bk()}},t.nA=function(t){return{Ys:Og.zm,Ll:t.bk()}},t.Jp=function(t){return Aw.Fk(t,Og.Xm,!0)},t.Lp=function(n){var i=t.zp(n,Og.Bm),r=Aw.Rk(n),e=bw(r,Og.Lm),u=Tw(r,Og.Hm);return _e({},i,{rA:t.eA(e),uA:u?t.sA(u):void 0})},t.Mp=function(n,i){var r=t.zp(n,i),e=bw(Aw.Rk(n),Og.Fm);return _e({},r,{oA:t.hA(e)})},t.Up=function(n){var i=n.eh(),r=t.zp(n,Og.jm),e=bw(Aw.Rk(n),Og.sk),u=t.aA(e);return _e({},r,{cA:t.Op(i,u.vA.fA),dA:u})},t.Bp=function(n){var i=n.eh(),r=t.Vp(n,Og.Gm),e=bw(Aw.Rk(n),Og.sk),u=t.aA(e);return _e({},r,{cA:t.Cp(i,u.vA.fA),dA:u})},t.aA=function(n){var i=bw(Aw.Rk(n),Og.hk),r=t.lA(i);return{Ys:Og.sk,vA:r}},t.lA=function(t){var n=t.Ak(4);return{Ys:Og.hk,fA:n}},t.eA=function(t){return Aw.Uk(t,Og.Lm,!0)},t.hA=function(t){return Aw.Uk(t,Og.Fm,!0)},t.sA=function(t){var n=t.wk(),i=t.wk();return{Ys:Og.Hm,_A:n,gA:i}},t.tp=function(n){var i=Ew(Aw.Rk(n),Og.Pm).map(t.wA);return{Ys:Og.xm,np:i}},t.wA=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags,e=t.wk(),u=t.wk(),s=t.wk(),o=t.wk(),h=t.wk();return{Ys:Og.Pm,Hk:i,Vk:r,_p:e,yA:u,mA:s,kA:o,pA:h}},t.Qk=function(n,i){var r=Aw.Rk(n),e=bw(r,Og.Ym),u=Ew(r,Og.Zm),s=t.AA(e),o=u.map(t.bA);return{Ys:Og.Qm,TA:i,Bk:s,np:o}},t.AA=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags,e=t.wk();return{Ys:Og.Ym,Hk:i,Vk:r,EA:e}},t.bA=function(n){var i=Aw.Rk(n),r=bw(i,Og.Jm),e=Ew(i,Og.$m),u=Tw(i,Og.Km),s=t.SA(r),o=e.map(function(n){return t.RA(n,s)}),h=u?t.IA(u):void 0;return{Ys:Og.Zm,Bk:s,NA:o,DA:h}},t.SA=function(t){var n=Sw(t.wk()),i=n.version,r=n.flags,e=t.wk(),u=r.oh(Pg.BASE_DATA_OFFSET_PRESENT)?t.mk():void 0,s=r.oh(Pg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.wk():void 0,o=r.oh(Pg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.wk():void 0,h=r.oh(Pg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.wk():void 0,a=r.oh(Pg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.wk():void 0;return{Ys:Og.Jm,Hk:i,Vk:r,_p:e,CA:u,OA:s,mA:o,kA:h,pA:a}},t.RA=function(n,i){for(var r=Sw(n.wk()),e=r.version,u=r.flags,s=n.wk(),o=u.oh(Bg.DATA_OFFSET_PRESENT)?n.yk():void 0,h=u.oh(Bg.FIRST_SAMPLE_FLAGS_PRESENT)?n.wk():void 0,a=[],c=0;c<s;c++){var f=t.xA(n,u,e,i);0===c&&void 0!==h&&(f.Vk=h),a.push(f)}return{Ys:Og.$m,Hk:e,Vk:u,PA:s,TA:o,BA:h,LA:a}},t.xA=function(t,n,i,r){return{N_:n.oh(Bg.SAMPLE_DURATION_PRESENT)?t.wk():r.mA,th:n.oh(Bg.SAMPLE_SIZE_PRESENT)?t.wk():r.kA,Vk:n.oh(Bg.SAMPLE_FLAGS_PRESENT)?t.wk():r.pA,MA:n.oh(Bg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.wk():t.yk():void 0}},t.Jk=function(t){var n=t.bu,i=t.dk,r=Sw(ws(n,i)),e=r.version,u=r.flags;if(1===e){var s=ws(n,i),o=ms(n,i),h=ws(n,i),a=ws(n,i),c=ps(n,i),f=ps(n,i),v=qs(Vs(n),i.uh,n.byteLength);return i.ih(v.byteLength),{Ys:Og.ik,Hk:e,Vk:u,UA:c,uu:f,Ug:s,FA:o,HA:h,xl:a,VA:v}}var d=ps(n,i),l=ps(n,i),_=ws(n,i),g=ws(n,i),w=ws(n,i),y=ws(n,i),m=qs(Vs(n),i.uh,n.byteLength);return i.ih(m.byteLength),{Ys:Og.ik,Vk:u,Hk:e,UA:d,uu:l,Ug:_,XA:g,HA:w,xl:y,VA:m}},t.Yk=function(t){return Aw.Uk(t,Og.tk,!1)},t.Gk=function(n){var i=n.bu,r=n.dk,e=zs(Vs(i)).buffer,u=Sw(ws(i,r)),s=u.version,o=u.flags,h=t.WA(i,r),a=[];if(s>0)for(var c=ws(i,r),f=0;f<c;f++){var v=fs(i,r,16);a.push(v)}var d=ws(i,r),l=new y(e,r.uh,d);return r.ih(i.byteLength),{Ys:Og.nk,Hk:s,Vk:o,qA:h,zA:a,GA:d,bu:l,jA:e}},t.WA=function(t,n){for(var i="",r=0;r<4;r++){var e=as(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=as(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var h=as(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=as(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=as(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Zk=function(t){var n,i,r=t.bu,e=t.dk,u=Sw(ws(r,e)),s=u.version,o=u.flags,h=ws(r,e),a=ws(r,e);0===s?(n=Xt.fromBits(ws(r,e),0,!0),i=Xt.fromBits(ws(r,e),0,!0)):(n=ms(r,e),i=ms(r,e)),e.ih(2);for(var c=_s(r,e),f=[],v=0;v<c;v+=1){var d=ws(r,e),l=d>>31&1,_=2147483647&d,g=ws(r,e),w=ws(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({QA:l,YA:_,N_:g,ZA:y,JA:m,$A:k})}return{Ys:Og.rk,Hk:s,Vk:o,KA:h,Ug:a,nb:n,ib:i,rb:c,eb:f}},t.IA=function(t){var n,i=t.bu,r=t.dk,e=Sw(ws(i,r)),u=e.version,s=e.flags;return n=0===u?Xt.fromBits(ws(i,r),0,!0):ms(i,r),{Ys:Og.Km,Hk:u,Vk:s,DA:n}},t}();function Iw(t){return t&&"du"in t?t.du:t}var Nw=function(t){function n(n,i,r,e,u,s,o){var h;return(h=t.call(this,n,i,r,e)||this).ub=void 0,h.sb=void 0,h.ob=void 0,h.ub=u,h.sb=s,h.ob=o||void 0,h}return U(n,t),n.prototype.Z_=function(n){return this===n||!!Cd(this,n)&&(!!t.prototype.Z_.call(this,n)&&(!!Dd(this.hb,n.hb)&&(!!Dd(this.wm,n.wm)&&(this.ab&&n.ab?!!this.ab.Ke(n.ab)&&(this.Vy&&n.Vy?this.Vy.Ke(n.Vy):this.Vy===n.Vy):this.ab===n.ab))))},L(n,[{key:"hb",get:function(){return this.ub}},{key:"wm",get:function(){return this.sb}},{key:"ab",get:function(){return this.ob}},{key:"qd",get:function(){var t;return this.Wd||(this.Wd=Id(og(t=this),{get styles(){return t.hb},get regions(){return t.wm},get metadata(){return Iw(t.ab)},get content(){return Iw(t.Vy)}})),this.Wd}}]),n}(vg),Dw=function(){function t(t,n,i){this.yf=void 0,this.cb=void 0,this.fb=void 0,this.cb=t,this.fb=n,nn(i)?this.yf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.wu(u)}return i}(0,0,i):this.yf=i}return L(t,[{key:"vb",get:function(){return this.yf.tu(!0)}},{key:"Fy",get:function(){return this.cb}},{key:"Hy",get:function(){return this.fb}}]),t}();var Cw="http://www.w3.org/XML/1998/namespace";function Ow(t,n,i,r){var e=t.fu(i,n);return 0===e.length&&(e=t.hu(r+":"+n)),e}function xw(t,n){return function(t,n){var i=t.lu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.lu)}return r}(t,function(t){return t.cu===n})}function Pw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Bw(t,n){for(var i=t.pu,r={},e=0;e<i.length;e++)r[Pw(i[e].iu,n)]=i[e].uu;return r}var Lw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Mw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Uw="http://www.w3.org/ns/ttml";function Fw(t,n,i){return void 0===i&&(i=Lg),function(t,n,i){var r,e=[];try{r=b.Je(t)}catch(t){return e}var u=r.Tu;if("tt"!==u.nu)return e;var s=u&&u.fu(Uw,"head")[0],o=u&&u.fu(Uw,"body")[0],h=["ebutts","tts","xml"];if(!o||!s)return e;for(var a=function(t,n){for(var i={},r=t.fu(Uw,"styling")[0],e=r&&r.fu(Uw,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.gu(Cw,"id");i[o]=Bw(s,n)}return i}(s,h),c=function(t,n){var i=Nd(t),r=Ww(n._u("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var s=u[e],o=Ww(i[s].extent);if(o){var h=Vw(o[0],r[0]),a=Vw(o[1],r[1]);i[s].extent=h+" "+a}var c=Ww(i[s].origin);if(c){var f=Vw(c[0],r[0]),v=Vw(c[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.fu(Uw,"layout")[0],e=r&&r.fu(Uw,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.gu(Cw,"id");if(o){i[o]=Bw(s,n);var h=Gw(s,n);for(var a in h)Y.call(h,a)&&(i[o][a]=h[a])}}return i}(s,h),u),f=s.fu(Uw,"metadata")[0],v=function t(n,i,r,e){var u=i;var s;var o=r;var h=[];var a=[];if(nn(n)){var c,f;u=null!=(c=zw(n._u("begin"),e))?c:u,s=zw(n._u("dur"),0),o=null!=(f=zw(n._u("end"),e))?f:void 0!==s?u+s:o;for(var v=n.au,d=0;d<v.length;d++)("body"===n.nu||"div"===n.nu)&&v[d].ze>1||(h=h.concat(t(v[d],u,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Fy,u.Hy)}r.sort(s_);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(Ke(r,o+1),o--,s=r.length);return r}(u,o,h);for(var _=0;_<l.length-1;_++){var g=qw(l[_],l[_+1],h);if(g.length<=0&&jw(n)){var w=n.tu(!1);a.push(new Dw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.tu(!1);g.forEach(function(n){return t.vu(n.vb)}),a.push(new Dw(l[_],l[_+1],t))}()}return a}(o,i.lm,i._m,i.gm),l=0;l<v.length;l++){var _=v[l],g=Hw(c,_);e.push(new Nw(_.Fy,_.Hy,_.vb,!1,a,g,f))}return e}(t,0,i)}function Hw(t,n){for(var i=function t(n){var i=[];var r;if(nn(n)){(r=n._u("region"))&&i.push(r);for(var e=n.au,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.vb),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Vw(t,n){var i=Xw(t),r=Xw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return w(e)||w(u)?t:e/u*100+"%"}return t}function Xw(t){return kr(t,"px")?"px":kr(t,"em")?"em":kr(t,"c")?"c":kr(t,"%")?"%":void 0}function Ww(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function qw(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Fy,s=i[e].Hy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}function zw(t,n){if(t){if(Lw.test(t)){var i=Lw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if(Mw.test(t)){var o=Mw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function Gw(t,n){for(var i={},r=t.hu("style")||[],e=0;e<r.length;e++){var u=Bw(r[e],n);for(var s in u)Y.call(u,s)&&(i[s]=u[s])}return i}function jw(t){if(nn(t)){var n=t.nu.toUpperCase(),i=Boolean(t._u("smpte:backgroundImage"));return"BR"===n||i}return t.ze===$t.je}function Qw(t){var n=function(t){try{return b.Je(t).Tu}catch(t){}}(t);return"tt"===(null==n?void 0:n.nu)}var Yw,Zw=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.yl=function(n){return t.prototype.yl.call(this,n)},i.ml=function(n){var i=t.prototype.ml.call(this,n);return i&&(n.zl=qd.Hl),i},i.zd=function(){return Jd(this)},n}(Ad),Jw=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).np=new Zw,n.lb=function(t){var i=t.Gd;n._b(i)},n}U(n,t);var i=n.prototype;return i.yl=function(t){t.Io(_d.ul,this.lb),this.np.yl(t),this._b(t)},i.ml=function(t){t.Oo(_d.ul,this.lb),t.zl=qd.Hl,this.np.ml(t)},i.gb=function(t){},i.wb=function(t){},i._b=function(t){t.zl!==qd.Hl?this.gb(t):this.wb(t)},i.yb=function(){for(var t=0,n=this.np.Al;t<n.length;t++){var i=n[t];i.Oo(_d.ul,this.lb),i.Nv()}},i.pl=function(){return this.yb(),this.np.pl(),T.resolve()},i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),t.next=3,this.pl();case 3:this.np.Nv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Eu);!function(t){t.ak="subtitles",t.mb="captions",t.kb="descriptions",t.pb="chapters",t.fk="metadata",t.Ab="thumbnails"}(Yw||(Yw={}));var $w=[Yw.ak,Yw.mb,Yw.kb,Yw.pb,Yw.fk,Yw.Ab];function Kw(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&tu($w,t)}(n)?n:n?Yw.fk:Yw.ak}var ty,ny=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=r,s.status=e,s}return U(n,t),n}(So);function iy(t){return t instanceof xf}function ry(t){return yr(t,ty.bb)}function ey(t){return t.some(uy)}function uy(t){return yr(t,ty.Tb)||yr(t,ty.Wm)}function sy(t,n){return uo(t)&&ey(n)}function oy(t,n){return!!t&&(uo(t)?function(t){return t.some(ry)}(n)||ey(n):yr(t,eo.APPLICATION_TTML_XML)||yr(t,eo.TEXT_VTT)||yr(t,eo.IMAGE_JPEG))}function hy(t,n){return t===Yw.Ab||t===Yw.fk&&n===Yw.Ab}function ay(t,n,i,r){for(var e=0,u=t.jl.Al;e<u.length;e++){var s=u[e];if(s.Fy>i)break;n<=s.Hy&&r.push(s)}}function cy(t,n){return u_(t.Pl,n.Pl)}function fy(t,i){var r=i,e=0;if(iy(t)&&t.name===Cf.Mv)r=t.rv.uv;else if(t instanceof Bf){var u=t.Xv;if(r=u.ev,0===(e=u.Jf))return new ny(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new ny(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function vy(t){switch(t){case Y_.WEBVTT:return"WebVTT";case Y_.SRT:return"SRT";case Y_.TTML:return"TTML";default:return""}}function dy(t){return iw(Gg(t))?Y_.WEBVTT:Qw(t)?Y_.TTML:Y_.SRT}!function(t){t.Tb="vtt",t.Wm="wvtt",t.bb="stpp"}(ty||(ty={}));var ly=function(t){function n(n){var i;return(i=t.call(this,zd.Wl)||this).errorObject=n,i}return U(n,t),n.prototype.zd=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(ld),_y=function(t){function i(n,i){var r;return(r=t.call(this)||this).Eb=void 0,r.Sb=void 0,r.Rb=new su,r.Eb=n,r.Sb=i,r}U(i,t);var r=i.prototype;return r.Ib=function(t){if(t.src){var n=t.kind||Yw.ak,i=this.Eb.Nb(n,t.id,t.label,t.srclang,t.default);return i.Yl=Ir(t.src),this.yl(i),i}},r.Db=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o,h,a,c,f,v,d,l;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.Gl=Q_.LOADING,e=new Nf({uv:i.Yl,Kf:jo.je,Av:Tf.GET,Ao:r}),t.prev=2,t.next=5,this.Sb.rv(e);case 5:return o=t.sent,s=o.Jf,t.next=9,o.Bf();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),cu(t.t0),i.Gl=Q_.ERROR,i.Ro(new ly(fy(t.t0,i.Yl))),t.abrupt("return");case 18:for(t.prev=18,h=dy(u),i.Ys=h,a=[],h===Y_.WEBVTT||h===Y_.SRT?(c=zg(u),a=c.jl):h===Y_.TTML&&(a=Fw(u)),f=0,v=a;f<v.length;f++)d=v[f],i.Cb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),cu(t.t1),i.Gl=Q_.ERROR,l=vy(i.Ys),i.Ro(new ly(new ny(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.Yl,s,t.t1))),t.abrupt("return");case 33:i.Gl=Q_.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.gb=function(t){tu(this.np.Al,t)&&t.Gl===Q_.NONE&&this.Db(t,this.Rb.Ao).catch(fu)},r.Rh=function(){},r.pl=function(){var n=T.coroutine(le.mark(function n(){var i,r,e;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Rb.mo(),this.Rb=new su,i=0,r=this.np.Al;i<r.length;i++)e=r[i],this.Eb.Ob(e);return n.next=5,t.prototype.pl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Jw);function gy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Bl===n&&r.xb)return r}}function wy(t,n){yy(gy(t.Al,n))}function yy(t){void 0!==t&&(t.zl=qd.Xl)}function my(t,n){yy(gy(t.Al,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Bl===n)return r}}(t.Al,n))}function ky(t){for(var n=0;n<$w.length;n++){var i=$w[n];i===Yw.pb?my(t,i):wy(t,i)}}var py=function(t){function n(){return t.call(this,Go.uc)||this}return U(n,t),n}(Ru),Ay=function(){function t(t){var n=this;this.Pb=[],this.Bb=void 0,this.bd=new su,this.Lb=void 0,this.Dn=function(){return 0===n.Pb.length?n.Lb?by(n.Lb,n.bd.Ao).then(n.Mb,n.Mb):n.Mb():n.Pb.shift()().then(n.Dn)},this.Mb=function(){if(0!==n.Pb.length)return n.Dn();n.Bb=void 0},this.Lb=t}var n=t.prototype;return n.Ub=function(t,n){var i=this;return new T(function(r){var e=new su;e.ko(i.bd.Ao),n&&e.ko(n);var u=function(){e.vo()};i.Pb.push(function(){var n=by(t,e.Ao);return r(n),n.then(u,u)}),i.Bb||(i.Bb=i.Dn())})},n.mo=function(){return this.Fb(!0)},n.Nv=function(){return this.Lb=void 0,this.Fb(!1)},n.Fb=function(t){var n=this.Bb;return this.bd.mo(),t&&(this.bd=new su),T.resolve(n)},t}();function by(t,n){return new T(function(i){return i(t(n))})}var Ty=function(t){function n(n){var i;return(i=t.call(this,Go.Ha)||this).errorObject=void 0,i.errorObject=n,i}return U(n,t),L(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ru);function Ey(t,n){if(null==t)return{};var i,r,e={},u=d.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}var Sy,Ry,Iy="titanium",Ny="conax",Dy="ezdrm",Cy="irdeto",Oy="vudrm",xy="verimatrix",Py="keyos",By="drmtoday",Ly="expressplay",My="azure",Uy="xstream",Fy="vimond",Hy="axinom",Vy="uplynk",Xy="comcast",Wy="custom";function qy(t){return J(t.token&&t.deviceId)}function zy(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&J(i.PreAuthorization)}function Gy(t){var n=t;return qy(n)&&""!==n.token&&""!==n.deviceId&&!zy(n)}(Ry=Sy||(Sy={})).Hb=!1,Ry.Vb=!1,Ry.Xb=!1,Ry.Wb=!1,Ry.LOG_ADS_DETAILS=!1,Ry.LOG_CHROMECAST_DETAILS=!1,Ry.LOG_CUSTOM_DRM=!1,Ry.LOG_BUFFERING_VIDEO_MAIN=!1,Ry.LOG_BUFFERING_VIDEO_SELECTION=!1,Ry.LOG_BUFFERING_AUDIO_MAIN=!1,Ry.LOG_BUFFERING_AUDIO_SELECTION=!1,Ry.qb=!1;var jy,Qy=function(){function t(t,n,i){this.zb=t,this.Ah=n,this.Gb=i}return t.prototype.jb=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Gb.build(t))},L(t,[{key:"Qb",get:function(){return this.zb}},{key:"qh",get:function(){return this.Ah}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(jy||(jy={}));var Yy=function(){function t(){this.Yb=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.Zb(t,i,r)){case jy.FAILED:throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case jy.OVERRIDDEN:var e=vm(i);b.ds("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case jy.SUCCEEDED:vm(i);0}},i.Zb=function(t,n,i){var r=vm(n);if(!r)return jy.FAILED;for(var e=jy.SUCCEEDED,u=0,s=this.Yb.slice();u<s.length;u++){var o=s[u];o.Qb===t&&o.qh===r&&(e=jy.OVERRIDDEN,$e(this.Yb,o))}return this.Yb.push(new Qy(t,r,i)),e},i.Jb=function(t,n){return void 0!==this.$b(t,n)},i.Kb=function(t,n,i){var r=this.$b(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.jb(i)},i.$b=function(t,n){for(var i=0,r=this.Yb;i<r.length;i++){var e=r[i];if(e.Qb===t&&(!n||e.qh===n))return e}},t}();Yy.tT=new Yy;var Zy={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Jy(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||h||a||c)}function $y(t){return t&&void 0!==t.licenseAcquisitionURL}var Ky=$y,tm=$y;function nm(t){if(!t)return!0;if(um(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Jy(n)&&Jy(i)&&Jy(r)&&Jy(e)&&Jy(u)}function im(t){var n=Gy(t),i=function(t){var n,i=t;return zy(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!qy(i)}(t);return(!n||!i)&&(n||i)}function rm(t){return t.integration===Cy}function em(t){var n=t;if(!n)return!1;if(nm(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(um(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Ky(r))return!1;if(e&&!tm(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Yy.tT.Jb(n.integration))return!0;switch(n.integration){case Iy:if(!function(t){return t.integration===Iy&&(sm(t)||om(t))}(t))return!1;break;case Oy:if(!hm(t))return!1;break;case xy:if(!function(t){return t.integration===xy}(t))return!1;break;case Cy:if(!rm(t))return!1;break;case Ny:if(!im(t))return!1;break;case Dy:if(!function(t){return t.integration===Dy}(t))return!1;break;case Py:if(!um(t))return!1;break;case By:if(!function(t){var n=t;return n.integration===By&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Ly:if(!function(t){return t.integration===Ly}(t))return!1;break;case Uy:if(!am(t))return!1;break;case Fy:if(!function(t){return t.integration===Fy}(t))return!1;break;case Hy:if(!cm(t))return!1;break;case My:if(!function(t){var n=t;return n.integration===My&&void 0!==n.token}(t))return!1;break;case Vy:if(!function(t){return t.integration===Vy}(t))return!1;break;case Xy:if(!function(t){var n=t;return n&&J(n.releasePid)&&J(n.accountId)&&J(n.token)}(t))return!1;break;case Wy:return!0;default:return!1}}return!0}function um(t){return t.integration===Py}function sm(t){return void 0!==t.authToken}function om(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function hm(t){var n=t;return n.integration===Oy&&void 0!==n.token}function am(t){var n=t;return n&&n.integration===Uy&&it(n.ticketAcquisitionURL)&&it(n.streamId)}function cm(t){var n=t;return n.integration===Hy&&void 0!==n.token}function fm(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Zy[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,h=o?{customData:o}:{},a=_e({},null!=(e=null==u?void 0:u.headers)?e:{},h),c=null!=u?u:{};c.customdata;return _e({},Ey(c,["customdata"]),{licenseAcquisitionURL:s,headers:a})}function vm(t){switch(t.toLowerCase()){case"widevine":case Oe:return Oe;case"playready":case Ne:return Ne;case"fairplay":case Pe:return Pe}}function dm(t,i){switch(t){case Se:return function(t){for(var n={},i=Rw.zk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.qA]=e.jA}return n}(i);case Re:case Ie:return function(t){var n;return(n={})[xe]=t,n}(i);default:throw new So(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var lm=function(t){function n(n){var i;return(i=t.call(this)||this).nT=void 0,i.iT=void 0,i.bd=new su,i.nT=n,i}U(n,t);var i=n.prototype;return i.rT=function(t){t&&(this.iT=t,this.eT(this.bd.Ao).catch(fu))},i.eT=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.iT,!b.Ns.Ku){t.next=6;break}return t.next=4,this.uT(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!i.sT){t.next=10;break}return t.next=9,this.oT(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.uT=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.iT,r=!1,e=0,u=i.hT;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,h=s.aT;case 6:if(!(o<h.length)){t.next=20;break}return a=h[o],t.prev=8,t.next=11,this.cT(s.qh.Js,a,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),cu(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.fT=function(t,n){return this.cT(t,n,this.bd.Ao)},i.pl=function(){return this.iT=void 0,this.bd.mo(),this.bd=new su,this.vT()},i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),t.next=3,this.pl();case 3:this.bd.vo();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.dT=function(t,n){if(!this.iT)return!1;var i=dm(t,n);return Boolean(i[Ce])},L(n,[{key:"qh",get:function(){return this.lT()}}]),n}(Eu),_m=function(t){function n(){return t.call(this,Go.Va)||this}return U(n,t),n}(Ru),gm=function(t){function n(n){var i;return(i=t.call(this,"wc")||this)._T=n,i}return U(n,t),n}(Ru),wm=new Ay,ym=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Ch=void 0,u.Wi=!1,u.gT=!1,u.bd=new su,u.ph=function(t){switch(t.Ho){case"license-request":u.wT(t.Fo,t.Vo).catch(function(t){return u.na(t)});break;default:u.na(new D_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Ho))}},u.yT=function(t){u.mT.xh.Jo(function(t,n){switch(t){case"usable":b.sr(function(){u.gT=!0,u.Ro(new _m)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ro(new gm(n))}})},u.kT=function(t){u.na(new D_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.mT=i,u.pT=r,u.AT=e,i.Io("Fo",u.ph),i.Io("Uo",u.yT),i.Io("Xo",u.kT),u.Ch=i.Ch.then(function(){return u.bT()}),u}U(i,t);var r=i.prototype;return r.Sh=function(){var t=this;return this.Wi=!0,wm.Ub(function(n){return t.TT(n)},this.bd.Ao)},r.TT=function(){var t=T.coroutine(le.mark(function t(i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,au(i),t.next=4,this.pT.ET(this.AT.jo);case 4:return r=t.sent,t.next=7,this.mT.Sh(this.AT.Js,this.AT.jo,r);case 7:if(!this.pT.ST){t.next=10;break}return t.next=10,this.pT.Lo("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),cu(t.t0),e=t.t0 instanceof Ks?t.t0.lh:void 0,u=new D_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.na(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),r.wT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.pT.RT(r),t.prev=1,!Zs(i)){t.next=8;break}return t.next=5,this.pT.IT(new y(i),this.bd.Ao);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.pT.NT(new y(i),this.bd.Ao);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!hu(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.mT.Nh(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Ks?t.t1.lh:void 0,new D_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.na=function(t){var i=t instanceof D_?t:new D_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ro(new Ty(i)),this.Eh()},r.bT=function(){this.mT.Oo("Fo",this.ph),this.mT.Oo("Uo",this.yT),this.mT.Oo("Xo",this.kT),this.gT=!1,this.bd.mo()},r.Eh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),this.bT(),t.next=4,this.mT.Eh().catch(S);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Eu),mm=[Go.Va,Go.Ha,Go.gc],km=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Bh=void 0,e.nT=void 0,e.DT=void 0,e.CT=[],e.OT=void 0,e.xT=[],e.Bh=n,e.nT=r,e.DT=i;var u=i.PT;return u&&wu(n.Mh(u)),e}U(n,t);var i=n.prototype;return i.BT=function(){return this.OT||(this.OT=this.LT()),this.OT},i.LT=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DT.IT(new y(Ys()));case 2:return n=t.sent,t.next=5,this.Bh.Mh(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.MT=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.xT.push(n),t.next=4,this.Bh.Lh("temporary");case 4:return i=t.sent,r=new ym(i,this.DT,n),this.CT.push(r),r.Io(mm,this.So),r.Ch.then(function(){return e.UT(r)}),t.abrupt("return",r);case 10:return t.prev=10,$e(this.xT,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.FT=function(t){if(t.HT)return!1;for(var n=0,i=this.CT;n<i.length;n++){if(pm(i[n].AT,t))return!0}for(var r=0,e=this.xT;r<e.length;r++){if(pm(e[r],t))return!0}return!1},i.UT=function(t){t.Oo(mm,this.So),$e(this.CT,t)},i.Nv=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),n=this.CT.slice(),this.CT.length=0,t.next=5,T.all(n.map(function(t){return t.Eh()}));case 5:this.DT.Nv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"VT",get:function(){return this.DT.VT}},{key:"qh",get:function(){return this.DT.qh}},{key:"XT",get:function(){return this.DT.XT}},{key:"WT",get:function(){return this.DT.WT}},{key:"qT",get:function(){return this.DT.qT}}]),n}(Eu);function pm(t,n){return!t.HT&&t.Js===n.Js&&ju(t.jo,n.jo)}var Am=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return U(n,t),n}(Ru),bm=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).qh=void 0,s.VT=void 0,s.WT=void 0,s.XT=void 0,s.Sb=void 0,s.zT=void 0,s.GT=void 0,s.qh=n,s.VT=i,s.WT=r,s.Sb=e,s.GT=u,s.XT=s.jT(i),s}U(i,t);var r=i.prototype;return r.QT=function(){return this.zT},r.RT=function(t){this.zT=t},r.YT=function(){return this.XT.licenseAcquisitionURL||this.QT()},r.ET=function(t){return T.resolve(void 0)},r.ZT=function(){var t=T.coroutine(le.mark(function t(i,r,e,u){var s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.JT(i,r,e,u)).uv){t.next=3;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Ud.rv(s);case 6:return o=t.sent,t.next=9,o.Lf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),cu(t.t0),t.next=17,this.$T(t.t0,s.uv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.JT=function(t,n,i,r){var e=this.KT().Ac(),u=this.Sv,s={uv:this.tE(),Kf:n,$f:e,Hf:t,Sv:u,Av:Tf.POST,bv:0,Ao:r,Ys:Ef.cv,Tv:i};return new Nf(s)},r.wT=function(t,n){return T.resolve(t)},r.nE=function(t,n,i,r){return T.resolve(t)},r.KT=function(){return new Qo(this.XT.headers||{})},r.$T=function(){var t=T.coroutine(le.mark(function t(i,r,e){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.tE=function(t,n){var i=n,r=this.XT.queryParameters;if(!i){var e=this.YT();if(!e)return"";i=e}if(r||t){var u=b.Xu(i);t&&Rr(u,t),r&&Rr(u,r),i=u.href}return i},r.iE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return T.resolve(new y(Tm(t,i)))}(t,this.XT)},r.rE=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eE(n,r);case 2:return e=t.sent,t.next=5,this.ZT(e,this.GT,i,r);case 5:return u=t.sent,t.next=8,this.iE(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.Nv=function(){this.Co()},L(i,[{key:"Ud",get:function(){return this.Sb}},{key:"ST",get:function(){return!1}},{key:"PT",get:function(){var t=this.XT.certificate;if(t)return it(t)?Xu(t):Ws(t)}},{key:"uE",get:function(){return"optional"}},{key:"jh",get:function(){return!1}},{key:"qT",get:function(){return!1}},{key:"Sv",get:function(){return Boolean(this.XT.useCredentials)}}]),i}(Eu);function Tm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Em(t,n){var i=zs(t).buffer,r=n.licenseRequestProcessor;return T.resolve(Tm(i,r))}var Sm,Rm=function(t){function n(n,i,r,e){return t.call(this,Me,n,i,r,e)||this}U(n,t);var i=n.prototype;return i.jT=function(t){return t.widevine||{}},i.IT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.PT){t.next=2;break}return t.abrupt("return",this.PT);case 2:return t.abrupt("return",this.NT(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.NT=function(n,i){return t.prototype.rE.call(this,n,Sf.lv,i)},n}(bm);!function(t){t.zs="Widevine",t.qs="PlayreadyV2",t.sE="PlayreadyV2",t.oE="PlayreadyV3",t.Gs="Fairplay"}(Sm||(Sm={}));var Im={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Nm(t,n){var i,r,e,u,s=Im[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=b.Is)?void 0:i.Ns,OSVersion:null==(r=b.Is)?void 0:r.Ps,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=b.Is)?void 0:e.Bs,DeviceModel:null==(u=b.Is)?void 0:u.Ls}}}function Dm(t,i){if(!t.accountName)throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Cm(t,n,i){var r;if(sm(t))r={AuthToken:t.authToken,Payload:n};else{if(!om(t))throw Dm(t,i);r={LatensRegistration:Nm(t,i),Payload:n}}return Ju(JSON.stringify(r))}function Om(t,n,i){return xm.apply(this,arguments)}function xm(){return(xm=T.coroutine(le.mark(function t(i,r,e){var u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Xv){t.next=3;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.Pf(e);case 7:o=t.sent,h=Pm(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.rv.uv,s.Jf,s.tv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Pm(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Bm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,jo.kc)||this).hE=!0,e}U(i,t);var r=i.prototype;return r.$T=function(t,n,i){return Om(t,n,i)},r.eE=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.VT){t.next=3;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=qu(i),t.abrupt("return",Cm(e,u,Sm.zs));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.iE=function(t){var i;if(!t.license)throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Xu(t.license),T.resolve(i)},r.aE=function(t){return T.resolve(new y(t))},r.IT=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cE(),t.next=3,this.eE(n,i);case 3:return r=t.sent,t.next=6,this.ZT(r,jo.mc,Sf._v,i);case 6:return e=t.sent,t.next=9,this.aE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.NT=function(){var n=T.coroutine(le.mark(function n(i,r){var e;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.NT.call(this,i,r);case 2:return e=n.sent,this.cE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.cE=function(){this.Ro(new Am),this.hE=!1},L(i,[{key:"ST",get:function(){return this.hE}},{key:"uE",get:function(){return b.Ns.rs?"required":"optional"}}]),i}(Rm),Lm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,jo.mc)||this).RT("https://widevine-proxy.drm.technology/proxy"),e}return U(i,t),i.prototype.eE=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Em(i,this.XT);case 2:if(e=t.sent,u=this.WT,r=new y(e),s=[].slice.call(r),o=this.fE){t.next=8;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(i,[{key:"fE",get:function(){if(hm(this.VT))return this.VT.token}}]),i}(Rm);function Mm(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=_e({},i,{SessionId:t.sessionId,Ticket:t.ticket})),_e({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Um=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,jo.mc)||this).RT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}U(n,t);var i=n.prototype;return i.eE=function(t,n){return Em(t,this.XT)},i.tE=function(n,i){var r=n;return rm(this.VT)&&(r=Mm(this.VT,r)),t.prototype.tE.call(this,r,i)},n}(Rm),Fm="Conax-Custom-Data";function Hm(t,n,i){var r=t&&im(t)&&t;if(r&&!i.has(Fm)){var e=Gy(r)?r.token:void 0,u=Gy(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Fm,s)}return i}var Vm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,jo.mc)||this).RT("https://connect.conax.com:8094/license"),e}U(n,t);var i=n.prototype;return i.eE=function(t,n){return Em(t,this.XT)},i.KT=function(){var n=t.prototype.KT.call(this);return Hm(this.VT,"Widevine",n)},n}(Rm);function Xm(t){var n=Cs(new y(t));return Xu(JSON.parse(n).license)}function Wm(t){return"string"==typeof t.token?t.token:Ju(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function qm(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var zm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,jo.mc)||this).RT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}U(n,t);var i=n.prototype;return i.eE=function(t,n){return Em(t,this.XT)},i.iE=function(t){return T.resolve(Xm(t))},i.KT=function(){return qm(t.prototype.KT.call(this),this.fE,this.VT)},L(n,[{key:"fE",get:function(){return Wm(this.VT)}}]),n}(Rm),Gm=function(t){function n(n,i,r){return t.call(this,n,i,r,jo.mc)||this}U(n,t);var i=n.prototype;return i.eE=function(t,n){return Em(t,this.XT)},i.KT=function(){var n=t.prototype.KT.call(this),i=this.VT.token;return n.set("Authorization","Bearer "+i),n},n}(Rm);function jm(t,n,i,r){return Qm.apply(this,arguments)}function Qm(){return(Qm=T.coroutine(le.mark(function t(i,r,e,u){var s,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(am(i)){t.next=2;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Qo).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={uv:i.ticketAcquisitionURL,Kf:jo.kc,$f:s,Av:Tf.POST,Hf:JSON.stringify(c),Ao:u},t.next=13,e.rv(f);case 13:return v=t.sent,t.next=16,v.Pf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Ym=function(t){function n(n,i,r){return t.call(this,n,i,r,jo.kc)||this}U(n,t);var i=n.prototype;return i.KT=function(){var n=t.prototype.KT.call(this);return n.set("Content-Type","application/json"),n},i.eE=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Zu(n.buffer),e=this.VT,t.next=4,jm(e,"widevine_modular",this.Ud,i);case 4:return u=t.sent,this.RT(u.licenseServerUrl),s=Os(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Em(s,this.XT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iE=function(t){var n=t;return T.resolve(Xu(n.license))},n}(Rm),Zm=function(t){function i(n,i,r){return t.call(this,n,i,r,jo.mc)||this}U(i,t);var r=i.prototype;return r.eE=function(t,n){return Em(t,this.XT)},r.KT=function(){if(!cm(this.VT))throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.KT.call(this);return i.set("X-AxDRM-Message",this.VT.token),i},i}(Rm);function Jm(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var $m=function(t){function n(n,i,r){var e;return(e=t.call(this,Le,n,i,r,jo.mc)||this).vE=void 0,e}U(n,t);var i=n.prototype;return i.jT=function(t){return t.playready||{}},i.KT=function(){var n=new Qo(this.vE);return n.Tc(t.prototype.KT.call(this)),n},i.dE=function(t){return t.length>=1&&t[0].au.length>0},i.ET=function(n){var i=this.VT.playready.customData;if(i){var r=Jm(i),e=Jm('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+qu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return T.resolve({playready:{oa:e}})}return t.prototype.ET.call(this,n)},i.eE=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Em(n,this.XT);case 2:return r=t.sent,t.abrupt("return",this.lE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o,h,a,c,f,v,d,l,_,g,w;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),h=Is(o,new Gs,!0),t.prev=3,a=b.Je(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(c=null==(i=a.hu("PlayReadyKeyMessage")[0])?void 0:i.hu("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c.hu("Challenge"))?r:[],this.dE(f)&&(s=Yu(f[0].Au)),v=new Qo,d=null!=(e=null==c?void 0:null==(u=c.hu("HttpHeaders")[0])?void 0:u.hu("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_.hu("name")[0].Au,w=_.hu("value")[0].Au,v.append(g,w);return this.vE=v,t.abrupt("return",s);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.IT=function(t,n){return T.resolve(t)},i.NT=function(n,i){return t.prototype.rE.call(this,n,Sf.gv,i)},L(n,[{key:"jh",get:function(){return Boolean(this.VT.playready.customData)}}]),n}(bm),Km=function(){function t(n){this._E=void 0,this.gE=n,this._E=t.wE(n)}return t.wE=function(t){return"3"===t.version?Sm.oE:Sm.sE},t.prototype.yE=function(){var t={};if(this._E===Sm.oE){var n={LatensRegistration:Nm(this.gE,Sm.oE)};t["X-TITANIUM-DRM-CDATA"]=Ju(JSON.stringify(n))}return t},L(t,[{key:"mE",get:function(){return this._E}},{key:"jh",get:function(){return this._E===Sm.sE}}]),t}();var tk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).kE=void 0,e.kE=new Km(e.VT),e}U(i,t);var r=i.prototype;return r.ET=function(t){var i=this.VT;if(!this.VT)throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(om(i)){var r={};return r.playready={oa:nk(i,this.kE.mE)},T.resolve(r)}return T.reject(Dm(i,Sm.qs))},r.KT=function(){var n=new Qo(this.kE.yE());return n.Tc(t.prototype.KT.call(this)),n},r.$T=function(){var t=T.coroutine(le.mark(function t(i,r,e){var u,s,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Xv){t.next=3;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.Mf(e);case 6:h=t.sent,a=Cs(new y(h)),(c=b.Je(a))&&(f=xw(c,"CustomData")).length>0&&(s=JSON.parse(f[0].Au),o=null==(v=s.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.Jf,u.tv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.dE=function(t){if(1!==t.length)throw new D_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},L(i,[{key:"jh",get:function(){return this.kE.jh}}]),i}($m);function nk(t,n){var i=Nm(t,n),r=i.DeviceInfo.FormatVersion,e=Ju('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Ps(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ps('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+qu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var ik,rk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://playready-license.drm.technology/rightsmanager.asmx"),e}U(i,t);var r=i.prototype;return r.dE=function(t){if(1!==t.length)throw new D_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.tE=function(n,i){var r=_e({},n||{},{token:this.fE});return t.prototype.tE.call(this,r,i)},L(i,[{key:"fE",get:function(){if(hm(this.VT))return this.VT.token}}]),i}($m),ek=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return U(n,t),n.prototype.tE=function(n,i){var r=n;return rm(this.VT)&&(r=Mm(this.VT,r)),t.prototype.tE.call(this,r,i)},n}($m),uk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return U(n,t),n.prototype.KT=function(){var n=t.prototype.KT.call(this);return Hm(this.VT,"PlayReady",n)},n}($m),sk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}U(n,t);var i=n.prototype;return i.iE=function(n){return(mr(Cs(new y(n)),"<?xml")?ik.pE:ik.Pf)===ik.Pf?T.resolve(Xm(n)):T.resolve(t.prototype.iE.call(this,new y(n)))},i.KT=function(){return qm(t.prototype.KT.call(this),this.fE,this.VT)},L(n,[{key:"fE",get:function(){return Wm(this.VT)}}]),n}($m);!function(t){t[t.pE=0]="pE",t[t.Pf=1]="Pf"}(ik||(ik={}));var ok,hk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AE=void 0,e}U(n,t);var i=n.prototype;return i.KT=function(){var n=t.prototype.KT.call(this);return this.AE&&n.set("Ticket",this.AE),n.set("Content-Type","text/xml"),n},i.eE=function(){var n=T.coroutine(le.mark(function n(i,r){var e,u;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.VT,n.next=3,jm(e,"playready",this.Ud,r);case 3:return u=n.sent,this.RT(u.licenseServerUrl),this.AE=u.ticket,n.abrupt("return",t.prototype.eE.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}($m),ak=function(t){function i(){return t.apply(this,arguments)||this}return U(i,t),i.prototype.KT=function(){if(!cm(this.VT))throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.KT.call(this);return i.set("X-AxDRM-Message",this.VT.token),i},i}($m);!function(t){t.kc="application/json",t.bE="application/x-www-form-urlencoded",t.TE="application/octet-stream",t.je="text/plain;charset=UTF-8"}(ok||(ok={}));var ck=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.qh,i,r,e,u)||this).EE="",s.SE=void 0,s.RE=void 0,s.RE=n.la,s}U(n,t);var i=n.prototype;return i.IE=function(){return this.XT.certificateURL||this.SE},i.NE=function(t){this.SE=t},i.eE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.DE(n,this.EE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.DE=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(qu(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.jT=function(t){return t.fairplay||{}},i.CE=function(t){var n=t.indexOf("?");if(n>=0)return T.resolve(t.substr(n+1));var i=t.split("/");return T.resolve(i[i.length-1])},i.ET=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.RE)?i:Ls(new y(n)),t.next=3,this.CE(r);case 3:return e=t.sent,this.EE=e,(u={}).fairplay={la:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.KT=function(){var n=t.prototype.KT.call(this);return n.set("Content-Type",this.OE),n},i.IT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.PT){t.next=2;break}return t.abrupt("return",this.PT);case 2:return t.next=4,this.xE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.NT=function(n,i){return t.prototype.rE.call(this,n,Sf.vv,i)},i.PE=function(t){var n=this.IE(),i=this.KT(),r={uv:n,Kf:jo.mc,$f:i,Av:Tf.GET,Sv:!1,Hf:null,bv:0,Ao:t,Ys:Ef.cv,Tv:Sf.dv};return new Nf(r)},i.xE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.PE(n),t.next=3,this.Ud.rv(i);case 3:return r=t.sent,t.next=6,r.Mf();case 6:return e=t.sent,t.abrupt("return",new y(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.iE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Xu(i)}else n=new y(t);return T.resolve(n)},i.tE=function(n,i){var r=t.prototype.tE.call(this,n,i);return mr(r,"skd:")&&(r=r.substr("skd:".length)),r},L(n,[{key:"qT",get:function(){return!0}},{key:"OE",get:function(){return ok.bE}}]),n}(bm),fk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,jo.mc)||this}U(n,t);var i=n.prototype;return i.CE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.eE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.iE=function(t){return T.resolve(new y(t))},i.tE=function(n,i){var r=n||{};return r.p1=Zt(),t.prototype.tE.call(this,r,i)},L(n,[{key:"OE",get:function(){return ok.TE}}]),n}(ck),vk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,jo.mc)||this).RT("https://fairplay-license.drm.technology/license"),u.NE("https://fairplay-license.drm.technology/certificate"),u}U(i,t);var r=i.prototype;return r.DE=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.fE,contentId:i,payload:qu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.iE=function(t){return T.resolve(new y(t))},r.KT=function(){var n=t.prototype.KT.call(this);return n.set("x-vudrm-token",this.fE),n},L(i,[{key:"OE",get:function(){return ok.kc}},{key:"fE",get:function(){if(!hm(this.VT))throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.VT.token}}]),i}(ck),dk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",lk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",_k=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,jo.mc)||this}return U(i,t),i.prototype.iE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,dk)}if(!i)throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,lk);return i}(Cs(new DataView(i)));return t.prototype.iE.call(this,r)},i}(ck);var gk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,jo.kc)||this}U(i,t);var r=i.prototype;return r.eE=function(){var t=T.coroutine(le.mark(function t(i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.VT){t.next=3;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=qu(i),t.abrupt("return",Cm(r,e,Sm.Gs));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.iE=function(t){try{var i;if(it(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Yu(i.license);return T.resolve(new y(e))}return T.reject(new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return T.reject(new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.$T=function(t,n,i){return Om(t,n,i)},L(i,[{key:"OE",get:function(){return ok.kc}}]),i}(ck),wk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,jo.mc)||this).RT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.NE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}U(n,t);var i=n.prototype;return i.IE=function(){var n=t.prototype.IE.call(this);if(!n)return n;var i=b.Xu(n),r=this.VT;return rm(r)&&Rr(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.CE=function(){var n=T.coroutine(le.mark(function n(i){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!rm(this.VT)){n.next=2;break}return n.abrupt("return",this.VT.contentId);case 2:return n.abrupt("return",t.prototype.CE.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.eE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.iE=function(t){return T.resolve(new y(t))},i.tE=function(n,i){var r=n;return rm(this.VT)&&(r=function(t,n){return _e({},Mm(t,n),{KeyId:t.keyId})}(this.VT,r)),t.prototype.tE.call(this,r,i)},L(n,[{key:"OE",get:function(){return ok.TE}}]),n}(ck),yk=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,jo.je)||this,!im(r))throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.RT("https://connect.conax.com:8097/license"),s}U(i,t);var r=i.prototype;return r.KT=function(){var n=t.prototype.KT.call(this);return Hm(this.VT,"FairPlay",n)},r.xE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IE(),r={uv:i,Kf:jo.mc,$f:{},Av:Tf.GET,Sv:!1,Hf:null,bv:0,Ao:n,Ys:Ef.cv,Tv:Sf.dv},t.next=4,this.Ud.rv(r);case 4:return e=t.sent,t.next=7,e.Mf();case 7:return u=t.sent,t.abrupt("return",new y(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.eE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.CE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),T.resolve(Cs(Xu(n)))):T.resolve("unknown")},r.iE=function(t){try{var n=JSON.parse(t);return T.resolve(new y(Yu(n.CkcMessage)))}catch(t){return T.reject("CFLRW-66")}},i}(ck),mk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,jo.je)||this).RT(Zy[Te.Gs]),u}U(i,t);var r=i.prototype;return r.CE=function(t){return 0===t.indexOf("skd://")?T.resolve(t.substring("skd://".length,40)):T.reject(new D_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.DE=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+qu(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(ck),kk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,jo.je)||this).RT("https://lic.drmtoday.com/license-server-fairplay/"),u}U(n,t);var i=n.prototype;return i.DE=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(qu(n))+"&"+encodeURI(i),"persistent"!==this.XT.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.KT=function(){return qm(t.prototype.KT.call(this),this.fE,this.VT)},L(n,[{key:"fE",get:function(){return Wm(this.VT)}}]),n}(ck),pk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,jo.mc)||this}U(n,t);var i=n.prototype;return i.CE=function(t){var n=t;return mr(n,"skd:")&&(n="http:"+n.substring(4)),mr(n,"http:")||mr(n,"https:")?T.resolve(b.Xu(n).hostname):T.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.eE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.iE=function(t){return T.resolve(new y(t))},L(n,[{key:"OE",get:function(){return ok.TE}}]),n}(ck),Ak=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,jo.je)||this}return U(n,t),n.prototype.KT=function(){var n=t.prototype.KT.call(this),i=this.VT.token;return n.set("Authorization","Bearer "+i),n},n}(ck),bk=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,jo.kc)||this,!am(i))throw new f("Invalid Xstream DRM configuration");return u}U(n,t);var i=n.prototype;return i.xE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IE(),r=this.KT(),e={uv:i,Kf:jo.kc,$f:r,Av:Tf.POST,Ao:n,Ys:Ef.cv,Tv:Sf.dv},t.next=5,this.Ud.rv(e);case 5:return u=t.sent,t.next=8,u.Pf();case 8:return s=t.sent,t.abrupt("return",new y(Xu(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NT=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=jo.je),e=qu(n),u=this.VT,t.next=5,jm(u,"fairplay",this.Ud,i);case 5:return s=t.sent,o=Os(JSON.stringify({spc:e,ticket:s.ticket})),h={uv:this.YT(),Kf:jo.kc,$f:this.KT(),Av:Tf.POST,Hf:o,bv:0,Ao:i,Ys:Ef.cv,Tv:Sf.vv},t.next=10,this.Ud.rv(h);case 10:return a=t.sent,t.next=13,a.Pf();case 13:return c=t.sent,t.abrupt("return",Xu(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"OE",get:function(){return ok.kc}}]),n}(ck),Tk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,jo.je)||this}U(i,t);var r=i.prototype;return r.DE=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qu(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.iE=function(i){if(0===i.length)throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.iE.call(this,i)},r.KT=function(){var n=t.prototype.KT.call(this);return n.set("Content-Type","text/plain"),n},i}(ck),Ek=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,jo.mc)||this}U(i,t);var r=i.prototype;return r.DE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.iE=function(t){return T.resolve(new y(t))},r.KT=function(){if(!cm(this.VT))throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.KT.call(this);return i.set("X-AxDRM-Message",this.VT.token),i},L(i,[{key:"OE",get:function(){return ok.kc}}]),i}(ck),Sk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,jo.kc)||this).BE=void 0,u}U(i,t);var r=i.prototype;return r.DE=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:qu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.CE=function(t){var i=b.Xu(t);return this.BE=t,i.searchParams.has("b")?T.resolve(i.searchParams.get("b")):T.reject(new D_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.tE=function(n,i){var r=this.YT();return!r&&this.BE&&(r=this.BE),r&&(r=r.replace("skd://","https://")),t.prototype.tE.call(this,n,i||r)},r.iE=function(){var t=T.coroutine(le.mark(function t(i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=it(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Xu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),L(i,[{key:"OE",get:function(){return ok.je}}]),i}(ck),Rk=function(){function t(t,n){this.LE=t,this.ME=n}var n=t.prototype;return n.UE=function(t){return this.LE(t)},n.FE=function(t,n){throw new v(n+" must be "+this.ME+". (Received: "+t+")")},t}(),Ik=new Rk(st,"a number"),Nk=new Rk(it,"a string"),Dk=new Rk(rt,"a boolean");var Ck,Ok=(Ck={responseCode:Ik,isException:Dk,description:Nk,title:Nk,correlationId:Nk},{UE:function(t){if(!tt(t))return!1;for(var n=0,i=d.keys(Ck);n<i.length;n++){var r=i[n];if(!Ck[r].UE(t[r]))return!1}return!0},FE:function(t,n){if(!tt(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(Ck);i<r.length;i++){var e=r[i],u=Ck[e];if(!u.UE(t[e]))return u.FE(t[e],n+"."+e)}throw new v}});function xk(t,n,i,r,e){return Pk.apply(this,arguments)}function Pk(){return(Pk=T.coroutine(le.mark(function t(n,i,r,e,u){var s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Bk(n,i,r,u),t.next=3,Lk(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Bk(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=b.Xu(t);return Rr(i,n),i.toString()}(i,e)),s=new Qo({});s.append("Content-Type","application/json");var o=qu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{uv:u,Kf:jo.je,$f:s,Av:Tf.POST,Hf:JSON.stringify(h),Ao:r,Ys:Ef.cv,Tv:Sf.vv}}function Lk(t,n){return Mk.apply(this,arguments)}function Mk(){return(Mk=T.coroutine(le.mark(function t(i,r){var e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.rv(i);case 2:return e=t.sent,t.next=5,e.Pf();case 5:if(u=t.sent,!Ok.UE(u)){t.next=8;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.uv,u.responseCode);case 8:return t.abrupt("return",Xu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Uk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,jo.mc)||this).HE=void 0,u.HE=i,u}U(n,t);var i=n.prototype;return i.CE=function(n){var i=n.replace("FairPlay",this.HE.releasePid);return t.prototype.CE.call(this,i)},i.NT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xk(n,this.HE,this.YT(),this.Ud,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(ck),Fk=function(t){function i(n,i,r){return t.call(this,Fe,n,i,r,jo.mc)||this}U(i,t);var r=i.prototype;return r.jT=function(t){return t.clearkey||{}},r.eE=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Em(n,this.XT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ZT=function(){var i=T.coroutine(le.mark(function i(r,e,u,s){var o,h;return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.XT,!this.YT()){i.next=5;break}return i.abrupt("return",t.prototype.ZT.call(this,r,this.GT,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Os(JSON.stringify(h)).buffer);case 10:throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.IT=function(t,n){return T.resolve(new y(0))},r.NT=function(n,i){return t.prototype.rE.call(this,n,Sf.wv,i)},i}(bm),Hk=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.eE=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Em(n,this.XT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Rm),Vk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Xk(t,n,i){return Wk.apply(this,arguments)}function Wk(){return(Wk=T.coroutine(le.mark(function t(n,i,r){var e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=rp(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,vu(T.resolve(u.call(n,e)),r);case 8:if(!Xs(s=t.sent)){t.next=11;break}return t.abrupt("return",Ws(s));case 11:return t.abrupt("return",ip(_e({},Vk,s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qk(t,n,i,r,e){return zk.apply(this,arguments)}function zk(){return(zk=T.coroutine(le.mark(function t(n,i,r,e,u){var s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=np(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,vu(T.resolve(s.call(n,o)),u);case 8:return h=t.sent,t.abrupt("return",Ws(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Gk(t,n,i,r){return jk.apply(this,arguments)}function jk(){return(jk=T.coroutine(le.mark(function t(n,i,r,e){var u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zk(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",ip(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Qk(t,n,i,r,e,u){return Yk.apply(this,arguments)}function Yk(){return(Yk=T.coroutine(le.mark(function t(n,i,r,e,u,s){var o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=tp(r,u),t.next=3,$k(n,new y(i),o,e,s);case 3:return h=t.sent,t.abrupt("return",Ws(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Zk(t,n,i,r){return Jk.apply(this,arguments)}function Jk(){return(Jk=T.coroutine(le.mark(function t(n,i,r,e){var u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=tp(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(s));case 5:return t.next=8,vu(T.resolve(u.call(n,s)),e);case 8:if(!Xs(o=t.sent)){t.next=11;break}return t.abrupt("return",Ws(o).buffer);case 11:return t.abrupt("return",_e({fairplaySkdUrl:void 0},Vk,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $k(t,n,i,r,e){return Kk.apply(this,arguments)}function Kk(){return(Kk=T.coroutine(le.mark(function t(n,i,r,e,u){var s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=np(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,vu(T.resolve(s.call(n,o)),u);case 8:return h=t.sent,t.abrupt("return",Ws(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tp(t,n){return _e({},rp(t),{fairplaySkdUrl:n})}function np(t,n,i){return{url:i.ev,status:i.Jf,statusText:i.tv,headers:i.$f.Ac(),body:t,request:n}}function ip(t){return new Nf({uv:t.url,Av:t.method,$f:t.headers,Hf:t.body,Sv:t.useCredentials})}function rp(t){var n;return{url:t.uv,body:null!=(n=ep(t.Hf))?n:null,headers:t.$f.Ac(),method:t.Av,useCredentials:t.Sv}}function ep(t){if(t)return"string"==typeof t?Os(t):t instanceof ArrayBuffer?new y(t):Gu(t)?Vs(t):void 0}var up=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).VE=void 0,u.VE=e,u}U(i,t);var r=i.prototype;return r.IT=function(t,n){return T.resolve(t)},r.NT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lE(zs(i).buffer);case 2:return e=t.sent,u=this.JT(e,jo.mc,Sf.gv,r),t.next=6,Gk(this.VE,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(s));case 10:if(""!==s.uv){t.next=12;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Ud.rv(s);case 15:return o=t.sent,t.next=18,o.Mf(r);case 18:return h=t.sent,t.t0=y,t.next=22,Qk(this.VE,h,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),cu(t.t2),new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}($m),sp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,jo.mc)||this).VE=void 0,u.VE=e,u}U(i,t);var r=i.prototype;return r.IT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.PT){t.next=2;break}return t.abrupt("return",this.PT);case 2:return e=this.JT(i,jo.mc,Sf._v,r),t.next=5,Xk(this.VE,e,r);case 5:if(!((u=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.uv){t.next=11;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Ud.rv(u);case 14:return s=t.sent,t.next=17,s.Mf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),cu(t.t0),new D_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=tp(e,void 0),t.next=27,qk(this.VE,new y(o),h,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.NT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.JT(i,jo.mc,Sf.lv,r),t.next=3,Gk(this.VE,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(u));case 7:if(""!==u.uv){t.next=9;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Ud.rv(u);case 12:return s=t.sent,t.next=15,s.Mf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),cu(t.t0),new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,Qk(this.VE,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Hk),op=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,jo.mc)||this).VE=void 0,s.XE=void 0,s.VE=u,s}U(i,t);var r=i.prototype;return r.IT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.PT){t.next=2;break}return t.abrupt("return",this.PT);case 2:return e=this.PE(r),t.next=5,Xk(this.VE,e,r);case 5:if(u=t.sent,!Gu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Ud.rv(u);case 11:return s=t.sent,t.next=14,s.Mf();case 14:return o=t.sent,h=tp(e,void 0),t.next=18,qk(this.VE,new y(o),h,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),cu(t.t0),new D_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.NT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.JT(i,jo.mc,Sf.vv,r),t.next=3,Gk(this.VE,e,this.XE,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(u));case 7:if(""!==u.uv){t.next=9;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Ud.rv(u);case 12:return s=t.sent,t.next=15,s.Mf(r);case 15:return o=t.sent,t.t0=y,t.next=19,Qk(this.VE,o,e,s,this.XE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),cu(t.t2),new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.CE=function(){var n=T.coroutine(le.mark(function n(i){var r;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.XE=i,null==(r=this.VE)||!r.extractFairplayContentId){n.next=3;break}return n.abrupt("return",T.resolve(this.VE.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.CE.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(ck),hp=function(){function t(){}var n=t.prototype;return n.WE=function(t,n){return new km(t,n,this)},n.qE=function(t,n,i,r){switch(t.qh.Ys){case Te.zs:return this.zE(n,i,r);case Te.qs:return this.GE(n,i,r);case Te.Gs:return this.jE(t,n,i,r);case Te.js:default:return this.QE(n,i,r)}},n.zE=function(t,n,i){var r,e=(r=t).integration===Wy&&it(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Yy.tT.Jb(e,Oe)){var u=Yy.tT.Kb(e,Oe,t);return new sp(t,n,i,u)}switch(e){case Iy:return new Bm(t,n,i);case Oy:return new Lm(t,n,i);case Cy:return new Um(t,n,i);case Ny:return new Vm(t,n,i);case By:return new zm(t,n,i);case My:return new Gm(t,n,i);case Uy:return new Ym(t,n,i);case Hy:return new Zm(t,n,i);case Py:default:return new Hk(t,n,i,jo.mc)}},n.GE=function(t,n,i){var r=t.integration;if(r&&Yy.tT.Jb(r,Ne)){var e=Yy.tT.Kb(r,Ne,t);return new up(t,n,i,e)}switch(r){case Iy:return new tk(t,n,i);case Oy:return new rk(t,n,i);case Cy:return new ek(t,n,i);case Ny:return new uk(t,n,i);case By:return new sk(t,n,i);case Uy:return new hk(t,n,i);case Hy:return new ak(t,n,i);case Py:default:return new $m(t,n,i)}},n.jE=function(t,n,i,r){var e=n.integration;if(e&&Yy.tT.Jb(e,Pe)){var u=Yy.tT.Kb(e,Pe,n);return new op(t,n,i,r,u)}switch(e){case Dy:return new fk(t,n,i,r);case Oy:return new vk(t,n,i,r);case xy:return new _k(t,n,i,r);case Iy:return new gk(t,n,i,r);case Cy:return new wk(t,n,i,r);case Ny:return new yk(t,n,i,r);case Py:return new mk(t,n,i,r);case By:return new kk(t,n,i,r);case Ly:return new pk(t,n,i,r);case My:return new Ak(t,n,i,r);case Uy:return new bk(t,n,i,r);case Fy:return new Tk(t,n,i,r);case Hy:return new Ek(t,n,i,r);case Vy:return new Sk(t,n,i,r);case Xy:return new Uk(t,n,i,r);default:return new ck(t,n,i,r,jo.je)}},n.QE=function(t,n,i){return new Fk(t,n,i)},n.YE=function(t){return t.Ys===Te.qs||t.Ys===Te.zs||t.Ys===Te.Gs||t.Ys===Te.js},t}();function ap(t,n){switch(n){case Te.zs:return t.widevine;case Te.qs:return t.playready;case Te.Gs:return t.fairplay;default:return}}var cp,fp=function(t){function i(n,i,r){var e;return void 0===r&&(r=new hp),(e=t.call(this,r)||this).Sb=void 0,e.ZE=void 0,e.JE=void 0,e.Ah=void 0,e.$E=new Ay,e.KE=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fT(n.Js,n.jo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),hu(t.t0)||e.na(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.tS=function(t){e.Ro(t)},e.nS=function(t){e.Ro(t),e.Ro(new jl(t.errorObject))},e.ZE=n,e.Sb=i,e.ZE.Io(Tu.Wo,e.KE),e}U(i,t);var r=i.prototype;return r.lT=function(){var t;return null==(t=this.Ah)?void 0:t.qh},r.Uh=function(t){if(this.JE)throw new f("Invalid state");this.JE=t},r.rT=function(n){if(!this.JE)throw new f("Invalid state");t.prototype.rT.call(this,n)},r.cT=function(){var t=T.coroutine(le.mark(function t(i,r,e){var u,s,o,h,a,c,f,v,d,l,_;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.iT&&this.iT.hT.length){t.next=5;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.iT,i===Se||i===Ie||i===Re){t.next=9;break}return t.abrupt("return");case 9:s=dm(i,r),h=0,a=u.hT;case 11:if(!(h<a.length)){t.next=42;break}if(c=a[h],au(e),(f=s[c.qh.$s])&&c.qh.Js===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.iS(c.qh,e);case 20:if(!(v=t.sent).qT){t.next=24;break}return t.next=24,v.BT();case 24:if(d=this.ZE.sy,l={Js:c.qh.Js,jo:f,HT:d},!this.rS(v,l)){t.next=32;break}return t.next=29,v.MT(l);case 29:return _=t.sent,t.next=32,_.Sh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),cu(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,b.ks();case 44:if(!t.sent){t.next=48;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new D_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.rS=function(t,n){return b.Ns.$u||!t.FT(n)},r.oT=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.iT){t.next=3;break}return t.abrupt("return");case 3:r=0,e=i.hT;case 4:if(!(r<e.length)){t.next=23;break}return u=e[r],au(n),t.prev=7,t.next=10,this.iS(u.qh,n);case 10:if(!(s=t.sent).qT){t.next=14;break}return t.next=14,s.BT();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),cu(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.iS=function(t,n){var i=this;return this.$E.Ub(function(n){return i.eS(t,n)},n)},r.eS=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),this.iT){t.next=3;break}throw new f("Not initialized");case 3:if(!this.Ah){t.next=7;break}if(this.Ah.qh===n){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.Ah);case 7:if(this.nT.YE(n)){t.next=9;break}throw new f("Unsupported "+n.to+" key system");case 9:if(r=this.uS(n)){t.next=12;break}throw new f("Missing configuration for "+n.to+" key system");case 12:return e=this.iT,u=this.nT.qE(r,e.VT,e.sS.WT,this.Sb),t.next=16,this.Xh(n,r,u,i);case 16:return s=t.sent,(o=this.nT.WE(s,u)).Io(Go.Va,this.tS),o.Io(Go.Ha,this.nS),o.Io(Go.gc,this.So),this.Ah=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Xh=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u,s,o,h,a,c,f,v,d;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.iT,s=n.Js,o=ap(u.VT,i.qh.Ys),h=(null==o?void 0:o.persistentState)||r.uE,a=(null==o?void 0:o.distinctiveIdentifier)||void 0,c=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),f=i.qh.Ys===Te.zs,t.prev=7,au(e),v=vp(u,s,h,a,r.jh,u.sS.oS,(null==o?void 0:o.audioRobustness)||(f?"SW_SECURE_CRYPTO":void 0),(null==o?void 0:o.videoRobustness)||(f?"SW_SECURE_CRYPTO":void 0)),t.next=12,this.JE.hS(n,[v]);case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(7),cu(t.t0),au(e),f){t.next=21;break}throw t.t0;case 21:if(!c){t.next=23;break}throw t.t0;case 23:return d=vp(u,s,h,a,r.jh,u.sS.oS,void 0,void 0),t.next=26,this.JE.hS(n,[d]);case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}},t,this,[[7,15]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.uS=function(t){if(this.iT)for(var n=0,i=this.iT.hT;n<i.length;n++){var r=i[n];if(r.qh===t)return r}},r.na=function(t){var i=t instanceof D_?t:new D_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.nS(new Ty(i))},r.aS=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$E.mo();case 2:if(!(n=this.Ah)){t.next=8;break}return n.Oo(Go.gc,this.So),this.Ah=void 0,t.next=8,n.Nv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.vT=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JE=void 0,t.next=3,this.aS();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Nv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ZE.Oo(Tu.Wo,this.KE),n.next=3,t.prototype.Nv.call(this);case 3:return n.next=5,this.$E.Nv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(lm);function vp(t,n,i,r,e,u,s,o){return{initDataTypes:[n],audioCapabilities:dp(t.cS,u,s),videoCapabilities:dp(t.fS,u,o),persistentState:i,distinctiveIdentifier:r,jh:e}}function dp(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}!function(t){t[t.vS=0]="vS",t[t.dS=1]="dS"}(cp||(cp={}));var lp=t,_p=lp.MediaSource,gp=lp.WebKitMediaSource,wp=lp.TextTrack,yp=e&&e.createElement("video"),mp=(e&&e.documentElement.style,Q.ue&&Q.Pe&&Q.Be<=26),kp=(Q.me,!!m),pp=!(!_p&&!gp),Ap=!!wp,bp=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||Q.we,Q.De&&Q.Ce,yp&&yp.canPlayType&&(""!==yp.canPlayType("application/vnd.apple.mpegURL")||Q.he&&!Q.De&&Q.ae>=4)),Tp=yp&&yp.canPlayType&&""!==yp.canPlayType("video/mp4")&&!mp,Ep=pp&&!Q.Oe&&!Q.Re&&!Q.Se&&((_p||gp).isTypeSupported?(_p||gp).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):yp&&yp.canPlayType&&""!==yp.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Sp=pp&&!Q.Oe&&(Ep||((_p||gp).isTypeSupported?(_p||gp).isTypeSupported("audio/mpeg"):yp&&yp.canPlayType&&""!==yp.canPlayType("audio/mpeg"))),Rp=pp&&!(Q.Ne&&Q.ue)&&((_p||gp).isTypeSupported?(_p||gp).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Tp),Ip=(Q.Oe||Q.Re||Q.Se,Q.Ie),Np=Ip&&!1,Dp=!Q.Oe,Cp=Q.Re&&Q.se&&Q.oe<=6.1,Op=yp&&"onresize"in yp;try{r&&r.top!==r.self}catch(t){!0}var xp,Pp=.001,Bp=1e4,Lp=3,Mp=function(t){function n(n){var i;return(i=t.call(this,Il.S_)||this).currentTime=n,i}return U(n,t),n}(Ru),Up=function(t){function n(n){var i;return(i=t.call(this,Il.R_)||this).currentTime=n,i}return U(n,t),n}(Ru),Fp=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).lS=cl.w_,r._S=!0,r.gS=!1,r.wS=!1,r.yS=function(t){var n=t.readyState;n!==r.lS&&r.Ro(t),n===cl.w_&&(r.gS=!1,r.wS=!1),r.mS(n),r.kS(n),r.pS(n),r.maybeDispatchCanPlayThroughEvent(n),r.AS(n),r.bS(n),r.lS=n},r.TS=function(){r.bS(r.lS),r.AS(r.lS),r._S=r.ES.x_},r.SS=function(){r._S=r.ES.x_},r.ES=n,r.RS=i,r.ES.Io(Il.ol,r.yS),r.ES.Io(Go.nc,r.TS),r.ES.Io(Go.tc,r.SS),r.RS&&r.ES.Io(Il.R_,r.So),r}U(n,t);var i=n.prototype;return i.mS=function(t){!this.wS&&t>=cl.y_&&(this.wS=!0,this.Ro(new Bl(this.ES.I_,t)))},i.kS=function(t){!this.gS&&t>=cl.m_&&(this.gS=!0,this.Ro(new Hl(this.ES.I_,t)))},i.AS=function(t){this.RS||(t>=cl.k_&&this.lS<cl.k_&&!this.ES.x_||this.IS&&t>=cl.k_)&&this.Ro(new Up(this.ES.I_))},i.bS=function(t){!this.NS(t)||this.ES.D_||this.ES.Xo||this.Ro(new Mp(this.ES.I_))},i.pS=function(t){this.lS<=cl.m_&&t>=cl.k_&&this.Ro(new ql(this.ES.I_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===cl.p_&&this.Ro(new zl(this.ES.I_,t))},i.NS=function(t){var n=!this.ES.x_&&t<=cl.m_,i=!this._S&&this.lS<=cl.m_;return n&&!i},i.pl=function(){this.lS=cl.w_,this._S=!0,this.gS=!1,this.wS=!1},i.Nv=function(){this.Co(),this.RS&&this.ES.Oo(Il.R_,this.So),this.ES.Oo(Go.nc,this.TS),this.ES.Oo(Go.tc,this.SS),this.ES.Oo(Il.ol,this.yS)},L(n,[{key:"IS",get:function(){return!this.ES.x_&&this._S}}]),n}(Eu);!function(t){t.DS="nokey",t.CS="keyexpired",t.OS="sessionnotopened",t.xS="insufficientoutputprotection",t.PS="insufficientsecurity",t.BS="frametoolarge",t.LS="loststate",t.MS="resourcebusy",t.US="unsupportedoperation"}(xp||(xp={}));var Hp,Vp,Xp=[xp.US,xp.MS,xp.LS,xp.BS,xp.PS,xp.xS,xp.OS,xp.CS,xp.DS],Wp=[Go.Va,Go.Ha,zd.Wl];[].concat(mm,[zd.Wl],Xp);!function(t){t.kv="video",t.mv="audio"}(Hp||(Hp={})),function(t){t[t.FS=0]="FS",t[t.HS=1]="HS",t[t.VS=2]="VS",t[t.XS=3]="XS",t[t.c_=4]="c_",t[t.WS=5]="WS",t[t.g_=6]="g_",t[t.qS=7]="qS",t[t.zS=8]="zS"}(Vp||(Vp={}));var qp,zp=function(){function t(){}return t.prototype.GS=function(t){},L(t,[{key:"jS",get:function(){return 0}},{key:"QS",get:function(){return 0}}]),t}();function Gp(){return qp||(qp=Or&&Or.document&&Or.document.createElement("video")),qp}var jp=function(t){function n(n,i,r,e,u,s,o){var h;return void 0===s&&(s=new hp),void 0===o&&(o=Ho()),(h=t.call(this)||this).YS=void 0,h.ZE=void 0,h.JE=void 0,h.Ew=void 0,h.Sw=void 0,h.Rw=void 0,h.ZS=void 0,h.JS=void 0,h.$S=void 0,h.KS=void 0,h.tR=void 0,h.nT=void 0,h.Sb=void 0,h.io=void 0,h.nR=void 0,h.iR=void 0,h.rR=new zp,h.eR=function(t){var n=t.Xo,i=n.code,r=new So(P_(i),"Something went wrong during native playback.",n);h.ZS=new C_(i,r.message,n.message),h.JS=r,h.Ro(new jl(r))},h.uR=function(){h.Ro(new Ul(h.I_,h.ey))},h.sR=function(t){h.x_||(h.iR=void 0),h.Ro(t)},h.oR=function(t){h.iR=void 0,h.Ro(t)},h.hR=function(){h.Ro(new $_(h.sy))},h.aR=function(){h.M_>0&&h.L_>0&&h.Ro(new py)},h.cR=function(t){h.Ew.yl(new G_(t.track))},h.fR=function(t){var n=Zp(h.Ew,t.track);n&&h.Ew.ml(n)},h.vR=function(){h.dR(h.Ew)},h.lR=function(t){h.Sw.yl(new J_(t.track))},h._R=function(t){var n=Zp(h.Sw,t.track);n&&h.Sw.ml(n)},h.gR=function(){h.dR(h.Sw)},h.wR=function(t){t.type===Go.Ha&&(h.ZS=x_(t.errorObject),h.JS=t.errorObject),h.So(t)},h.YS=i,h.Sb=r,h.io=o,h.ZE=h.YS.yR(B_.kv),h.$S=h.ZE.mR.preload,h.nT=s,h.KS=new Fp(h.ZE,!0),h.KS.Io(Pl,h.So),h.nR=new fp(h.ZE,h.Sb,h.nT),h.nR.Io(Wp,h.wR),h.kR(),h.Ew=new L_,h.Sw=new L_,h.pR(),h.tR=new _y(h.ZE,h.Sb),h.Rw=new Kd,h.Gw(),h}U(n,t);var i=n.prototype;return i.jw=function(){this.ZE.jw()},i.Gw=function(){this.ZE.Gw()},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),e={Ys:cp.vS,Yl:n.src,Ff:n.type,AR:[],yy:this.$S,bR:n.crossOrigin,TR:i.metadata&&i.metadata.title},t.next=4,this.ZE.Rh(e);case 4:return this.JE=t.sent,au(r),t.next=8,this.nR.pl();case 8:this.nR.Uh(this.JE),this.nR.rT(this.ER(n)),this.Rw.Nl=this.ZE.xw,i.textTracks&&this.SR(i.textTracks),ky(this.xw);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.SR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.ZE.RR()&&Q.we&&Ap&&!hy(i.kind,i.label)&&this.IR(i)){var r,e=null!=(r=i.kind)?r:Yw.ak;this.ZE.NR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.tR.Ib(i)}}},i.IR=function(t){return!t.format||"webvtt"===t.format},i.Bw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ZE.Bw();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.DR){t.next=12;break}return t.next=10,this.ZE.Lo(Go.ic);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Lw=function(){this.ZE.Lw()},i.Hw=function(){return void 0!==this.ZE.mR.webkitShowPlaybackTargetPicker},i.Vw=function(){this.ZE.mR.webkitShowPlaybackTargetPicker&&this.ZE.mR.webkitShowPlaybackTargetPicker()},i.Xw=function(){this.ZE.mR.webkitShowPlaybackTargetPicker&&this.ZE.mR.webkitShowPlaybackTargetPicker()},i.Qw=function(){return this.ZE.mR},i.Yw=function(){return this.ZE.CR},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ZS=void 0,this.JS=void 0,this.JE&&(this.JE=void 0),t.next=5,this.tR.pl();case 5:return this.Rw.pl(),this.ZE.OR(),t.next=9,this.ZE.pl();case 9:return this.KS.pl(),t.next=12,this.nR.pl();case 12:this.yy=this.$S,this.Cw.pl(),this.Ow.pl(),this.iR=void 0;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pl();case 2:return this.Co(),this.xR(),this.PR(),t.next=7,this.nR.Nv();case 7:return this.KS.Nv(),t.next=10,this.YS.LR(this.ZE);case 10:return this.Ew.Nv(),this.Sw.Nv(),this.Rw.Nv(),t.next=15,this.tR.Nv();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kR=function(){this.ZE.Io(Go.nc,this.So),this.ZE.Io(Go.tc,this.So),this.ZE.Io(Go.lc,this.uR),this.ZE.Io(Go.ic,this.So),this.ZE.Io(Go.Ya,this.So),this.ZE.Io(Go.oc,this.So),this.ZE.Io(Go.sc,this.sR),this.ZE.Io(Go.Ga,this.So),this.ZE.Io(Go.rc,this.So),this.ZE.Io(Go._c,this.So),this.ZE.Io(Go.qa,this.So),this.ZE.Io(Go.uc,this.aR),this.ZE.Io(Il.R_,this.oR),this.ZE.Io(zd.Wl,this.eR),this.ZE.mR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.hR)},i.xR=function(){this.ZE.Oo(Go.nc,this.So),this.ZE.Oo(Go.tc,this.So),this.ZE.Oo(Go.lc,this.uR),this.ZE.Oo(Go.ic,this.So),this.ZE.Oo(Go.Ya,this.So),this.ZE.Oo(Go.oc,this.So),this.ZE.Oo(Go.sc,this.sR),this.ZE.Oo(Go.Ga,this.So),this.ZE.Oo(Go.rc,this.So),this.ZE.Oo(Go._c,this.So),this.ZE.Oo(Go.qa,this.So),this.ZE.Oo(Go.uc,this.aR),this.ZE.Oo(Il.R_,this.oR),this.ZE.Oo(zd.Wl,this.eR),this.ZE.mR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.hR)},i.ER=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{VT:t.contentProtection||{},sS:{oS:"cbcs"},hT:[{qh:Ue,aT:[],la:void 0}],cS:[],fS:["video/mp4"]}}},i.pR=function(){var t=this.ZE.mR.audioTracks,n=this.ZE.mR.videoTracks;t&&(t.addEventListener("addtrack",this.cR),t.addEventListener("removetrack",this.fR),t.addEventListener("change",this.vR)),n&&(n.addEventListener("addtrack",this.lR),n.addEventListener("removetrack",this._R),n.addEventListener("change",this.gR))},i.PR=function(){var t=this.ZE.mR.audioTracks,n=this.ZE.mR.videoTracks;t&&(t.removeEventListener("addtrack",this.cR),t.removeEventListener("removetrack",this.fR),t.removeEventListener("change",this.vR)),n&&(n.removeEventListener("addtrack",this.lR),n.removeEventListener("removetrack",this._R),n.removeEventListener("change",this.gR))},i.dR=function(t){for(var n=0;n<t.bl;n++){t.wl(n).Ry()}},i.ny=function(){this.nR.aS().then(S)},L(n,[{key:"DR",get:function(){var t=this.ZE.iy,n=this.I_;return t.MR(n,.01)}},{key:"Cw",get:function(){return this.Ew}},{key:"iy",get:function(){return this.ZE.iy.UR()}},{key:"ey",get:function(){return this.ZE.ey},set:function(t){t&&this.ZE.FR(t)}},{key:"I_",get:function(){return void 0!==this.iR?this.iR:this.ZE.I_},set:function(t){this.sy&&(this.iR=t),this.ZE.rh(t)}},{key:"N_",get:function(){return this.ZE.N_}},{key:"D_",get:function(){return this.ZE.D_}},{key:"Xo",get:function(){return this.ZS}},{key:"C_",get:function(){return this.JS}},{key:"Pw",get:function(){}},{key:"sy",get:function(){return this.ZE.sy}},{key:"mw",get:function(){return _e({},{oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ZE.HR())}},{key:"O_",get:function(){return this.ZE.O_},set:function(t){this.ZE.O_=t}},{key:"gy",get:function(){return!0}},{key:"x_",get:function(){return this.ZE.x_}},{key:"P_",get:function(){return this.ZE.P_},set:function(t){this.ZE.P_=t}},{key:"wy",get:function(){return this.ZE.mR.played}},{key:"yy",get:function(){return this.$S},set:function(t){this.$S=t,this.JE&&(this.JE.yy=t)}},{key:"Gl",get:function(){return this.ZE.Gl}},{key:"my",get:function(){return this.ZE.my.UR()}},{key:"B_",get:function(){return this.ZE.B_}},{key:"XR",get:function(){return this.ZE.XR}},{key:"xw",get:function(){return this.Rw}},{key:"Ow",get:function(){return this.Sw}},{key:"L_",get:function(){return this.ZE.L_}},{key:"M_",get:function(){return this.ZE.M_}},{key:"U_",get:function(){return this.ZE.U_},set:function(t){this.ZE.U_=t}},{key:"WR",get:function(){return this.rR}}]),n}(tl);function Qp(t){return!t.type||!(!Gp().canPlayType||!Gp().canPlayType(t.type))}var Yp=function(){function t(){this.qR=Vp.zS}var n=t.prototype;return n.jb=function(t,n,i,r,e,u){return new jp(t,n,i,r,e)},n.zR=function(t,n){return Qp(t)},n.GR=function(){return!1},t}();function Zp(t,n){for(var i=0,r=t.Al;i<r.length;i++){var e=r[i];if(e.Dy===n)return e}}var Jp=function(){function t(){this.jR=new Yp,this.QR=[]}t.YR=function(){return this.We};var n=t.prototype;return n.ZR=function(t){this.QR.push(t)},n.jb=function(t,n,i,r,e,u){for(var s=this.jR.jb(t,n,i,r,e,u),o=0,h=this.QR;o<h.length;o++){s=(0,h[o])(s,i,r)}return s},n.zR=function(t,n){return this.jR.zR(t,n)},n.GR=function(){return!1},L(t,[{key:"qR",get:function(){return this.jR.qR}}]),t}();function $p(t,n){return u_(t.qR,n.qR)}function Kp(t){tA.We.JR(t)}Jp.We=new Jp;var tA=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).$R=Jp.YR(),n}U(n,t);var i=n.prototype;return i.KR=function(t){this.$R=t},i.tI=function(){return this.$R},i.nI=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.iI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{rI:e,eI:u});case 8:r++,t.next=1;break;case 11:s=this.$R,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!s.zR(h,i)){t.next=17;break}return t.abrupt("return",{rI:h,eI:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{rI:n[0],eI:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.uI=[]}var n=t.prototype;return n.JR=function(t){this.uI.push(t),this.uI.sort($p)},n.iI=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.uI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!et(s=u.zR(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());tA.We=new tA;var nA,iA=function(){function t(t){this.sI=void 0,this.sI=Or&&Or.document&&Or.document.createElement("div"),zr(this.sI),t.appendChild(this.sI)}return t.prototype.Nv=function(){Vr(this.sI)},t}();function rA(t){switch(t){case nA.oI:case"":return nA.oI;case nA.fk:return nA.fk;case nA.hI:default:return nA.hI}}!function(t){t.zS="",t.hI="none",t.fk="metadata",t.oI="auto"}(nA||(nA={}));var eA=[zd.Wl,Go.za,Go.Wo,Go.yc,Go.La,Go.ja,Go.$a,Go.Ka,Go.ac,Go.fc,Il.A_,Il.b_,Il.T_,Il.E_,Il.ol,Il.S_,Il.R_,Go.Ha,Go.Va,Go.qa,Go.Ga,Go.Ya,Go.Za,Go.nc,Go.ic,Go.tc,Go.rc,Go.uc,Go.oc,Go.sc,Go.lc,Go._c,Go.ec,Go.Ja,Go.hc],uA=function(t){function n(n,i){var r;return(r=t.call(this)||this).aI=void 0,r.cI=void 0,r.fI=void 0,r.vI=void 0,r.$S=nA.hI,r.dI=void 0,r.lI=!0,r.Ew=new Gd,r.Sw=new Gd,r.Rw=new Kd,r.Iw=new I_,r.aI=n,r.fI=i,r.fI.yy=r.yy,r._I(),r}U(n,t);var i=n.prototype;return i.Lw=function(){this.fI.Lw()},i.Bw=function(){this.fI.Bw()},i.Mw=function(){return this.Fw(void 0)},i.Ww=function(){},i.Jw=function(t){return!1},i._I=function(){this.Ew.Nl=this.fI.Cw,this.Sw.Nl=this.fI.Ow,this.Rw.Nl=this.fI.xw,this.Iw.Nl=this.fI.Pw,this.fI.Io(eA,this.So)},i.gI=function(){this.fI.Oo(eA,this.So),this.Ew.Nl=void 0,this.Sw.Nl=void 0,this.Rw.Nl=void 0,this.Iw.Nl=void 0},i.Uw=function(){return this.dI},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),this.dI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Al(r=n.sources.filter(Rl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.aI.nI(r,n);case 9:if(e=t.sent,au(i),u=e.rI,s=e.eI,o=this.Yw(),h=Zl(this),this.cI===s&&!this.Xo){t.next=25;break}return this.gI(),t.next=19,this.fI.Nv();case 19:au(i),this.cI=s,this.fI=this.wI(s),sA(this.fI,h),$l(this,h,this),this._I();case 25:return this.fI.yy=this.yy,this.lI?this.fI.Gw():this.fI.jw(),t.next=29,this.fI.Fw(u,n,i);case 29:au(i),this.yI(u),this.Yw()!==o&&this.Ro(new il);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.yI=function(t){this.vI!==t&&(this.vI=t,this.Ro(new rl(t)))},i.Hw=function(){return this.fI.Hw()},i.Vw=function(){this.fI.Vw()},i.Xw=function(){this.fI.Xw()},i.Yw=function(){return this.fI.Yw()},i.ny=function(){this.fI.ny()},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dI=void 0,this.yI(void 0),t.next=4,this.fI.pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),t.next=3,this.pl();case 3:return t.next=5,this.fI.Nv();case 5:this.Ew.Nv(),this.Sw.Nv(),this.Rw.Nv(),this.Iw.Nv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gw=function(){this.lI=!0,this.fI.Gw()},i.jw=function(){this.lI=!1,this.fI.jw()},L(n,[{key:"Cw",get:function(){return this.Ew}},{key:"iy",get:function(){return this.fI.iy}},{key:"Xo",get:function(){return this.fI.Xo}},{key:"C_",get:function(){return this.fI.C_}},{key:"ey",get:function(){return this.fI.ey},set:function(t){this.fI.ey=t}},{key:"ty",get:function(){return this.vI}},{key:"I_",get:function(){return this.fI.I_},set:function(t){this.fI.I_=t}},{key:"N_",get:function(){return this.fI.N_}},{key:"D_",get:function(){return this.fI.D_}},{key:"Pw",get:function(){return this.Iw}},{key:"sy",get:function(){return this.fI.sy}},{key:"mw",get:function(){return this.fI.mw}},{key:"O_",get:function(){return this.fI.O_},set:function(t){this.fI.O_=t}},{key:"gy",get:function(){return this.fI.gy}},{key:"x_",get:function(){return this.fI.x_}},{key:"P_",get:function(){return this.fI.P_},set:function(t){this.fI.P_=t}},{key:"wy",get:function(){return this.fI.wy}},{key:"yy",get:function(){return this.$S},set:function(t){this.$S=t,this.fI&&(this.fI.yy=this.$S)}},{key:"Gl",get:function(){return this.fI.Gl}},{key:"my",get:function(){return this.fI.my}},{key:"B_",get:function(){return this.fI.B_}},{key:"xw",get:function(){return this.Rw}},{key:"L_",get:function(){return this.fI.L_}},{key:"Ow",get:function(){return this.Sw}},{key:"M_",get:function(){return this.fI.M_}},{key:"U_",get:function(){return this.fI.U_},set:function(t){this.fI.U_=t}},{key:"WR",get:function(){return this.fI.WR}}]),n}(Eu);function sA(t,n){t.O_!==n.O_&&(t.O_=n.O_),t.U_!==n.U_&&(t.U_=n.U_),t.P_!==n.P_&&(t.P_=n.P_)}var oA,hA=function(t){function n(n,i){var r;return(r=t.call(this)||this).bl=void 0,r.mI=void 0,r.kI=void 0,r.bl=n.length>>1,r.mI=n,r.kI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.bl),r}U(n,t);var i=n.prototype;return i.pI=function(t){return this.mI[2*t]},i.AI=function(t){return this.kI[2*t]},i.bI=function(t){return this.mI[2*t+1]},i.TI=function(t){return this.kI[2*t+1]},L(n,[{key:"EI",get:function(){return this.mI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Z_=function(t,n){return 0===this.z_(t,n)},n.Ag=function(t,n){return this.z_(t,n)>0},n.bg=function(t,n){return this.z_(t,n)>=0},n.J_=function(t,n){return this.z_(t,n)<0},n.Q_=function(t,n){return this.z_(t,n)<=0},n.Xg=function(t,n){return this.J_(t,n)?t:n},n.Vg=function(t,n){return this.Ag(t,n)?t:n},n.SI=function(t,n,i){return i?this.Q_(t,n):this.J_(t,n)},n.UR=function(){var t=this;return{get length(){return t.bl},start:function(n){var i=0|n;return t.RI(i),t.II(t.pI(i))},end:function(n){var i=0|n;return t.RI(i),t.II(t.bI(i))}}},n.NI=function(){for(var t=new Array(2*this.bl),n=new Array(2*this.bl),i=0;i<this.bl;i++)t[2*i]=this.pI(i),t[2*i+1]=this.bI(i),n[2*i]=!0,n[2*i+1]=!0;return this.DI(t,n)},n.RI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.bl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.bl+")")},n.CI=function(t){if(0===this.bl)return this.OI();if(this.MR(t))return t;if(this.Q_(t,this.pI(0)))return this.pI(0);if(this.bg(t,this.bI(this.bl-1)))return this.bI(this.bl-1);for(var n,i=this.xI(),r=0;r<this.bl;r++){var e=this.pI(r),u=this.Y_(e,t);this.J_(u,i)&&(n=e,i=u);var s=this.bI(r),o=this.Y_(this.bI(r),t);this.J_(o,i)&&(n=s,i=o)}return n},n.BI=function(t){for(var n=0,i=0,r=[],e=[];n<this.bl&&i<t.bl;){var u=this.pI(n),s=this.bI(n),o=this.AI(n),h=this.TI(n),a=t.pI(i),c=t.bI(i),f=t.AI(i),v=t.TI(i),d=this.Vg(u,a),l=this.Xg(s,c),_=void 0;_=this.Z_(u,a)?o&&f:this.Z_(d,u)?o:f;var g=void 0;g=this.Z_(s,c)?h&&v:this.Z_(l,s)?h:v,(this.J_(d,l)||_&&g&&this.Z_(d,l))&&(r.push(d,l),e.push(_,g));var w=this.z_(this.bI(n),t.bI(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.DI(r,e)},n.LI=function(){var t=this.MI(),n=t.bl;if(0===n)return this.DI([t.UI(),t.xI()],[!1,!1]);var i=[],r=[],e=t.pI(0);t.Z_(e,t.UI())||(i.push(t.UI(),e),r.push(!1,!t.AI(0)));for(var u=0;u<n-1;u++)i.push(t.bI(u),t.pI(u+1)),r.push(!t.TI(u),!t.AI(u+1));var s=t.bI(n-1);return t.Z_(s,t.xI())||(i.push(s,t.xI()),r.push(!t.TI(n-1),!1)),t.DI(i,r)},n.FI=function(t){for(var n=0,i=0,r=this.bl,e=t.bl,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.pI(n),a=this.bI(n),c=t.pI(i),f=t.bI(i);this.J_(h,c)||this.Z_(h,c)&&this.J_(a,f)?(u[o]=h,u[o+1]=a,s[o]=this.AI(n),s[o+1]=this.TI(n),n++):(u[o]=c,u[o+1]=f,s[o]=t.AI(i),s[o+1]=t.TI(i),i++),o+=2}for(;n<r;)u[o]=this.pI(n),u[o+1]=this.bI(n),s[o]=this.AI(n),s[o+1]=this.TI(n),n++,o+=2;for(;i<e;)u[o]=t.pI(i),u[o+1]=t.bI(i),s[o]=t.AI(i),s[o+1]=t.TI(i),i++,o+=2;return this.DI(u,s)},n.HI=function(t){void 0===t&&(t=this.OI());var n=this.bl;if(n<2)return this;for(var i=[],r=[],e=this.pI(0),u=this.bI(0),s=this.AI(0),o=this.TI(0),h=1;h<n;h++){var a=this.pI(h),c=this.bI(h),f=this.AI(h),v=this.TI(h);this.J_(e,a)&&this.Ag(u,c)||(this.Z_(e,a)&&(s=f=s||f),this.Z_(u,c)&&(o=v=o||v),this.SI(a,this.rg(u,t),o||f)?(u=c,o=v):(i.push(e,u),r.push(s,o),e=a,u=c,s=f,o=v))}return i.push(e,u),r.push(s,o),this.DI(i,r).MI()},n.MI=function(){for(var t=[],n=[],i=0;i<this.bl;i++){var r=this.pI(i),e=this.bI(i),u=this.AI(i),s=this.TI(i);this.Z_(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.DI(t,n)},n.VI=function(t){return this.bl?t.bl?this.FI(t).HI():this:t},n.XI=function(t){var n=this.MI(),i=t.MI(),r=n.LI(),e=i.LI(),u=r.BI(i),s=e.BI(n);return u.VI(s)},n.ih=function(t){if(this.Z_(t,this.OI()))return this;for(var n=[],i=[],r=0;r<this.bl;r++){var e=this.rg(this.pI(r),t),u=this.rg(this.bI(r),t);n.push(e,u),i.push(this.AI(r),this.TI(r))}return this.DI(n,i)},n.WI=function(t){return this.MI().BI(t.MI().LI())},n.MR=function(t,n){return this.qI(t,n)>=0},n.zI=function(t,n,i,r,e){return this.GI(t,n,i,r,e)>=0},n.jI=function(t,n,i,r,e){return this.QI(t,n,i,r,e)>=0},n.YI=function(t){if(t.bl!==this.bl)return!1;for(var n=0;n<this.bl;n++)if(!this.Z_(this.pI(n),t.pI(n))||!this.Z_(this.bI(n),t.bI(n))||this.AI(n)!==t.AI(n)||this.TI(n)!==t.TI(n))return!1;return!0},n.ZI=function(t){for(var n=[],i=[],r=0;r<this.bl;r++)t(this.pI(r),this.bI(r))&&(n.push(this.pI(r),this.bI(r)),i.push(this.AI(r),this.TI(r)));return this.DI(n,i)},n.QI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.OI());for(var u=this.ig(t,e),s=this.rg(n,e),o=0;o<this.bl;o+=1)if(this.SI(this.pI(o),s,!r||this.AI(o))&&this.SI(u,this.bI(o),!i||this.TI(o)))return o;return-1},n.GI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.OI());for(var u=this.rg(t,e),s=this.ig(n,e),o=0;o<this.bl;o+=1)if(this.SI(this.pI(o),u,!i||this.AI(o))&&this.SI(s,this.bI(o),!r||this.TI(o)))return o;return-1},n.qI=function(t,n){return this.GI(t,t,!0,!0,n)},n.JI=function(t,n){void 0===n&&(n=this.OI());for(var i=this.rg(t,n),r=this.bl-1;r>=0;r-=1)if(this.SI(this.pI(r),i,this.AI(r)))return r;return-1},n.$I=function(t,n){void 0===n&&(n=this.OI());for(var i=this.ig(t,n),r=0;r<this.bl;r+=1)if(this.SI(i,this.bI(r),this.TI(r)))return r;return-1},n.KI=function(t){return this.RI(t),this.DI([this.pI(t),this.bI(t)],[this.AI(t),this.TI(t)])},n.tN=function(t,n){var i=this.qI(t,n);return i<0?void 0:this.KI(i)},L(t,[{key:"nN",get:function(){for(var t=this.OI(),n=0;n<this.bl;n++){var i=this.ig(this.bI(n),this.pI(n));t=this.rg(t,i)}return t}}]),t}()),aA=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.z_=function(t,n){return t<n?Kl.V_:t===n?Kl.F_:Kl.H_},i.rg=function(t,n){return t+n},i.ig=function(t,n){return t-n},i.Y_=function(t,n){return l.abs(t-n)},i.OI=function(){return 0},i.xI=function(){return 1/0},i.UI=function(){return-1/0},n.iN=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.rN=function(t){for(var i=[],r=[],e=0;e<t.bl;e++)i.push(t.pI(e).zg),i.push(t.bI(e).zg),r.push(t.AI(e)),r.push(t.TI(e));return new n(i,r)},n.eN=function(t){return new n([t,t],[!0,!0])},i.DI=function(t,i){return new n(t,i)},i.II=function(t){return t},n.uN=function(){return cA},n}(hA),cA=new aA([]);!function(t){t.ul="fullscreenchange",t.sN="fullscreensupportchange",t.Wl="fullscreenerror"}(oA||(oA={}));var fA=function(t){function n(){return t.call(this,oA.Wl)||this}return U(n,t),n}(Ru),vA=new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.By=function(){this.Ro(new fA)},i.My=function(){},i.Nv=function(){this.Co()},L(n,[{key:"oN",get:function(){return!1}},{key:"hN",get:function(){return!1}}]),n}(Eu)),dA=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Qw=function(){},n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).aN=0,n.cN=!1,n.fN=!0,n.vN=1,n.dN=!1,n.lN=1,n.Cw=new L_,n.iy=aA.uN().UR(),n.N_=NaN,n.D_=!1,n.Xo=void 0,n.C_=void 0,n.Pw=void 0,n.sy=!1,n.gy=!0,n.wy=aA.uN().UR(),n.yy=nA.hI,n.Gl=cl.w_,n.my=aA.uN().UR(),n.XR=void 0,n.xw=new Zw,n.L_=0,n.Ow=new L_,n.M_=0,n.rR=new zp,n}U(n,t);var i=n.prototype;return i.Gw=function(){},i.jw=function(){},i.Bw=function(){this.fN&&(this.fN=!1,this.Ro(new Cl(this.I_)),this.Ro(new Mp(this.I_)))},i.Lw=function(){this.fN||(this.fN=!0,this.Ro(new Ul(this.I_,this.ey)),this.Ro(new Dl(this.I_)))},i.Fw=function(t,n){return T.resolve()},i.Hw=function(){return!1},i.Vw=function(){},i.Xw=function(){},i.Yw=function(){return vA},i.ny=function(){},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.aN=0,this.dN=!1,this.Lw(),this.Ro(new Nl(this.aN));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Co(),this.Cw.Nv(),this.xw.Nv(),this.Ow.Nv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"ey",get:function(){},set:function(t){}},{key:"I_",get:function(){return this.aN},set:function(t){this.aN!==t&&(this.aN=t,this.dN=!0,this.Ro(new Vl(this.I_)))}},{key:"mw",get:function(){return{oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"O_",get:function(){return this.cN},set:function(t){this.cN!==t&&(this.cN=t,this.Ro(new Wl(this.I_,this.U_)))}},{key:"x_",get:function(){return this.fN}},{key:"P_",get:function(){return this.vN},set:function(t){this.vN!==t&&(this.vN=t,this.Ro(new Ml(this.I_,this.P_)))}},{key:"B_",get:function(){return this.dN}},{key:"U_",get:function(){return this.lN},set:function(t){this.lN!==t&&(this.lN=t,this.Ro(new Wl(this.I_,this.U_)))}},{key:"WR",get:function(){return this.rR}}]),n}(Eu)),lA=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,tA.We,new dA)||this).ha=void 0,o._N=void 0,o.gN=void 0,o.wN=void 0,o.Sb=void 0,o.yN=void 0,o.mN=void 0,o.gN=n,o.ha=i,o.Sb=r,o.yN=e,o.wN=s,o._N=new Nr(u,o.wN),o._N.kN(o.gN),o.mN=new iA(o.gN),o}U(n,t);var i=n.prototype;return i.Ww=function(){t.prototype.Ww.call(this),this._N.pN()},i.qw=function(t){Jl(this,t)},i.zw=function(){},i.wI=function(t){return t.jb(this.gN,this._N,this.Sb,this.ha,this.yN,this.wN)},i.Qw=function(){return this.fI.Qw()},i.Zw=function(){return this._N.AN.map(function(t){return t.mR})},i.Do=function(n){t.prototype.Do.call(this,n)},i.Bo=function(n){t.prototype.Bo.call(this,n)},i.Nv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Nv.call(this);case 2:this._N.Nv(),this.mN.Nv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"uy",get:function(){return this.gN}}]),n}(uA),_A=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).gN=void 0,e.bN=void 0,e.TN=void 0,e.EN=void 0,e.SN=void 0,e.gN=n,e.bN=i,e.EN=new L_,e.SN=new Zw,e.TN=r,e}U(n,t);var i=n.prototype;return i.Jw=function(t){return!0},i.jw=function(){},i.Bw=function(){throw this.Ro(new jl(this.TN)),this.bN},i.Lw=function(){},i.Uw=function(){},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw au(i),this.Ro(new jl(this.TN)),this.bN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Gw=function(){},i.Mw=function(){return T.resolve()},i.Qw=function(){},i.Yw=function(){return vA},i.Zw=function(){return[]},i.Ww=function(){},i.qw=function(t){},i.zw=function(){},i.Hw=function(){return!1},i.Vw=function(){},i.Xw=function(){},i.ny=function(){},i.pl=function(){return T.resolve()},i.Nv=function(){return this.Co(),this.EN.Nv(),this.SN.Nv(),T.resolve()},L(n,[{key:"Cw",get:function(){return this.EN}},{key:"iy",get:function(){return aA.uN().UR()}},{key:"ey",get:function(){return new Date(NaN)},set:function(t){}},{key:"ty",get:function(){}},{key:"I_",get:function(){return 0},set:function(t){}},{key:"N_",get:function(){return 0}},{key:"uy",get:function(){return this.gN}},{key:"D_",get:function(){return!0}},{key:"Xo",get:function(){return this.bN}},{key:"C_",get:function(){return this.TN}},{key:"Pw",get:function(){}},{key:"mw",get:function(){return{oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"O_",get:function(){return!1},set:function(t){}},{key:"gy",get:function(){return!0}},{key:"x_",get:function(){return!0}},{key:"P_",get:function(){return 0},set:function(t){}},{key:"wy",get:function(){return aA.uN().UR()}},{key:"yy",get:function(){return nA.hI},set:function(t){}},{key:"Gl",get:function(){return cl.w_}},{key:"my",get:function(){return aA.uN().UR()}},{key:"B_",get:function(){return!1}},{key:"xw",get:function(){return this.SN}},{key:"L_",get:function(){return 0}},{key:"Ow",get:function(){return this.EN}},{key:"M_",get:function(){return 0}},{key:"U_",get:function(){return 1},set:function(t){}},{key:"sy",get:function(){return!1}}]),n}(nl);function gA(t){if(t&&tt(t))return _e({},t,{integration:wA(t.integration),fairplay:TA(t.fairplay),widevine:yA(t.widevine),playready:mA(t.playready),clearkey:EA(t.clearkey),aes128:SA(t.aes128),integrationParameters:RA(t.integrationParameters),preferredKeySystems:IA(t.preferredKeySystems)})}function wA(t){if(it(t))return t}function yA(t){if(t&&tt(t))return{persistentState:kA(t.persistentState),distinctiveIdentifier:kA(t.distinctiveIdentifier),audioRobustness:pA(t.audioRobustness),videoRobustness:pA(t.videoRobustness),licenseAcquisitionURL:it(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:AA(t.licenseType),headers:t.headers,useCredentials:!!rt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:it(t.certificate)||Xs(t.certificate)?t.certificate:void 0,certificateRequestProcessor:bA(t.certificateRequestProcessor),certificateResponseProcessor:bA(t.certificateResponseProcessor),licenseRequestProcessor:bA(t.licenseRequestProcessor),licenseResponseProcessor:bA(t.licenseResponseProcessor)}}function mA(t){if(t){var n=yA(t);if(n)return _e({},n,{customData:it(t.customData)?t.customData:void 0})}}function kA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function pA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function AA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function bA(t){if("function"==typeof t)return t}function TA(t){if(t){var n=yA(t);if(n)return _e({},n,{certificateURL:it(t.certificateURL)?t.certificateURL:void 0})}}function EA(t){if(t){var n=yA(t);if(n)return _e({},n,{keys:$(t.keys)?t.keys.map(function(t){return function(t){if(!t||!tt(t))return;var n=t.id,i=t.value;if(!it(n)||!it(i))return;return{id:n,value:i}}(t)}).filter(J):void 0})}}function SA(t){if(tt(t))return{useCredentials:rt(t.useCredentials)?t.useCredentials:void 0}}function RA(t){if(tt(t))return t}function IA(t){return t&&$(t)?t.map(function(t){return vm(t)}).filter(J):[Oe,Ne,Pe]}var NA,DA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return U(n,t),n}(Ru),CA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).RN=[],r.IN=void 0,r.NN=function(t){gu(function(){r.So(t)})},r.IN=i?r.NN:r.So,r}U(n,t);var i=n.prototype;return i.DN=function(t){t.Do(this.IN),this.RN.push(t)},i.CN=function(t){t.Bo(this.IN),$e(this.RN,t)},i.Nv=function(){this.Co();for(var t=0,n=this.RN;t<n.length;t++){n[t].Bo(this.IN)}iu(this.RN)},n}(tl),OA=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(CA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(NA||(NA={}));var xA,PA=function(t){function i(n){var i;return(i=t.call(this)||this).ON=void 0,i.xN=void 0,i.PN=!1,i.BN=!1,i.LN=void 0,i.MN=void 0,i.UN=void 0,i.Wd=void 0,i.FN=function(){return i.HN()},i.VN=function(){return i.XN()},i.UN=n,i.ON=i.xN=i.LN=i.MN=NA.INLINE,i.UN.Io(oA.ul,i.FN),i.UN.Io(oA.Wl,i.VN),i.WN(),i}U(i,t);var r=i.prototype;return r.zd=function(){return t=this,i={get currentMode(){return t.qN()},requestMode:function(n){var i=LA(n);i&&t.zN(i)},supportsMode:function(n){var i=LA(n);return!!i&&t.GN(i)},addEventListener:function(t,i){n.Io(t,i)},removeEventListener:function(t,i){n.Oo(t,i)}},(n=new CA(i,!0)).DN(t),i;var t,n,i},r.zN=function(t){this.jN(t,t)},r.jN=function(t,n){this.xN!==n&&(this.PN=!0,this.ON=t,this.QN(n,this.xN),t!==NA.FULLSCREEN&&(this.LN=t),this.PN=!1,this.WN())},r.qN=function(){return this.BN?NA.FULLSCREEN:NA.INLINE},r.GN=function(t){switch(t){case NA.FULLSCREEN:return this.UN.hN;case NA.INLINE:return!0}return!1},r.WN=function(){if(!this.PN){var t=this.xN,n=this.qN();this.xN=n,n!==NA.FULLSCREEN&&(this.MN=n),t!==n&&this.Ro(new DA(n))}},r.QN=function(t,n){var i=t===NA.FULLSCREEN;this.BN=i,i!==this.UN.oN&&(i?this.UN.By():this.UN.My())},r.HN=function(){if(!this.PN){var t=this.UN.oN;this.BN=t,t?this.jN(NA.FULLSCREEN,NA.FULLSCREEN):t||this.ON!==NA.FULLSCREEN?this.WN():this.jN(this.LN,this.MN)}},r.XN=function(){this.HN(),this.Ro(new jl(new So(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Nv=function(){this.UN.Nv(),this.Co()},L(i,[{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}}]),i}(tl),BA={I_:0,N_:NaN,D_:!1,Xo:void 0,C_:void 0,O_:!1,x_:!0,P_:1,Gl:cl.w_,B_:!1,L_:0,M_:0,U_:1};function LA(t){switch(t){case NA.INLINE:case NA.FULLSCREEN:case NA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(xA||(xA={}));var MA,UA,FA,HA,VA,XA,WA,qA,zA=function(){function t(){this.YN=[]}var n=t.prototype;return n.ZN=function(t){var n=this.JN.filter(function(n){return n.$N(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.KN=function(t){this.YN.push(t)},L(t,[{key:"JN",get:function(){return this.YN}}]),t}();zA.We=new zA,function(t){t.R_="PLAYING",t.pw="PAUSED",t.tD="SEEK",t.nD="STALLED",t.iD="FAILED",t.rD="INITIAL_BUFFERING",t.eD="NO_ACCESS"}(MA||(MA={})),function(t){t.uD="HTTP_REQUEST_STATUS_CODE_1XX",t.sD="HTTP_REQUEST_STATUS_CODE_2XX",t.oD="HTTP_REQUEST_STATUS_CODE_3XX",t.hD="HTTP_REQUEST_STATUS_CODE_4XX",t.aD="HTTP_REQUEST_STATUS_CODE_5XX",t.cD="BUFFER_LENGTH",t.fD="BYTES_RECEIVED",t.vD="SEGMENT_READ_BITRATE",t.dD="SEGMENT_PROFILE_BITRATE",t.lD="NUMBER_OF_FRAMES_DROPPED",t._D="PLAYBACK_POSITION",t.gD="NUMBER_OF_FRAMES_DECODED",t.wD="PLAYBACK_DELTA_TO_ORIGIN",t.yD="STREAM_DELTA_TO_ORIGIN",t.mD="ORIGIN_TIMESTAMP"}(UA||(UA={})),function(t){t.kD="MANIFEST_URI",t.pD="ASSET_DURATION",t.bD="NUMBER_OF_CONTENT_PROFILES",t.TD="CDN",t.ED="CONTENT_TITLE",t.SD="SERVICE_NAME",t.RD="CONTENT_TYPE",t.ND="CONTENT_DESCRIPTION"}(FA||(FA={})),function(t){t.DD="shutdown_normal_shutdown"}(HA||(HA={})),function(t){t.CD="session/",t.OD="internalError/",t.xD="drmError/",t.PD="caError/",t.BD="networkError/"}(VA||(VA={})),function(t){t.LD="userAction",t.MD="endOfStreamReached"}(XA||(XA={})),function(t){t.PAUSE="UD",t.RESUME="FD"}(WA||(WA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(qA||(qA={}));var GA,jA,QA,YA,ZA,JA="agama";function $A(t){return function(t){switch(t){case GA.NONE:case GA.HORIZONTAL:case GA.VERTICAL:return!0;default:return!1}}(t)?t:GA.NONE}function KA(t){switch(t){case"":return GA.NONE;case"horizontal":return GA.HORIZONTAL;case"vertical":return GA.VERTICAL;default:throw new v}}function tb(t){return{useSeamlessPeriodSwitch:nb(null==t?void 0:t.useSeamlessPeriodSwitch)}}function nb(t){if(!t||!it(t))return jA.oI;switch(t){case"always":return jA.HD;case"never":return jA.VD;default:return jA.oI}}function ib(t){return{discontinuityAlignment:rb(null==t?void 0:t.discontinuityAlignment)}}function rb(t){if(!t||!it(t))return QA.oI;switch(t){case"playlist":return QA.XD;case"media":return QA.WD;default:return QA.oI}}function eb(t,n,i){var r=function(t,n){var i=sl.d_;t.useCredentials?i=sl.v_:t.crossOrigin&&(i=ll(t.crossOrigin));i===sl.d_&&n&&n.vr&&n.vr[360]&&(i=sl.f_);return{useCredentials:i===sl.v_,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;J(s)||(s=i&&J(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;J(o)||(o=n&&J(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return J(h)||(h=i&&J(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:J(t.dash)?tb(t.dash):void 0,hls:J(t.hls)?ib(t.hls):void 0}}function ub(t){if(null!==t)return t}function sb(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:ub(t.streamActivityMonitorID),adTagParameters:tt(t.adTagParameters)?t.adTagParameters:{},authToken:ub(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?_e({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void b.ds("A VOD DAI configuration was provided without valid contentSourceID which is required."):void b.ds("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?_e({},i,{availabilityType:"live",assetKey:u}):void b.ds("A Live DAI configuration was provided without valid assetKey which is required.")}b.ds("A DAI configuration was provided without a valid availabilityType which is required.")}function ob(t){switch(t.integration){case"google-dai":return sb(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function hb(t,n,i){var r=eb(t,n,i),e=ub(t.src),u=t.type;return u||(u=t.src?dl(t.src):void 0),_e({},r,{src:e,type:u,contentProtection:function(t,n){var i;i=J(t.contentProtection)?t.contentProtection:J(t.drm)?t.drm:J(n)&&J(n.contentProtection)?n.contentProtection:J(n)&&J(n.drm)?n.drm:void 0;return ab(i)}(t,n),ssai:J(t.ssai)?ob(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function ab(t){if(!em(t)||!t.integration)return t;switch(t.integration){case Py:return n=t,i=fm(Te.zs,n),r=fm(Te.qs,n),e=n[Te.Gs]&&fm(Te.Gs,n),_e({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function cb(t){if(!t)return!0;var n,i,r=!(pl(n=t.sources)||K(n)&&pl(n[0]))||Al(t.sources),e=!t.ads||(!(i=t.ads)||$(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function fb(t){if(t&&t.sources)return function t(n){if(it(n))return n;if(kl(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function vb(t,n,i){return yl(t)?function(t,n,i){var r=_e({},bl(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:YA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:ZA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,it(e)?e:K(e)&&it(e[0])?e:tt(u=e)&&it(u.userId)&&(K(u.externalId)||it(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return ZA.CHANNEL;case"event":return ZA.EVENT;case"asset":default:return ZA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=xd(t.contentProtected));t.assetInfo?r.assetInfo=xd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!rt(o.adImpressions)&&o.adImpressions,a=!!rt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=rt(o.linearAdData)?o.linearAdData:s!==ZA.ASSET):s!==ZA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=lb(r=db(r,t),n,i);var s,o,h,a,c}(t,n,i):function(t,n,i){var r=Tl(),e=n&&(n.contentProtection||n.drm);if(it(t)){if(r.src=t,r.type=dl(t),e){var u=gA(e);r.contentProtection=ab(u)}}else if(kl(t)||wl(t)){r.src=t.src,r.type=t.type||dl(t.src),r.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===ol.__||t.type===ol.g_}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,h=gA(o);r.contentProtection=ab(h),t.ssai&&(r.ssai=ob(t.ssai)),r=db(r,t)}return r=lb(r,n,i)}(t,n,i)}function db(t,n){n.useCredentials?t.crossOrigin=sl.v_:n.crossOrigin&&(t.crossOrigin=ll(n.crossOrigin)),it(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=xd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=xd(n.useNativePlayback)),n.dash&&(t.dash=tb(n.dash)),n.hls&&(t.hls=ib(n.hls));var i=void 0!==n.experimentalRendering?xd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?xd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function lb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!J(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!J(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===sl.d_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=sl.f_),t.useCredentials=t.crossOrigin===sl.v_,it(e)&&!t.timeServer&&(t.timeServer=e),t}function _b(t){var n={src:""};if(t&&t.src){if(n.src=Ld(t.src),"default"in t&&(n.default=xd(t.default)),n.kind=Kw(t.kind),function(t){switch(t){case Y_.DEFAULT:case Y_.SRT:case Y_.TTML:case Y_.WEBVTT:case Y_.EMSG:case Y_.EVENT_STREAM:case Y_.ID3:case Y_.CEA608:case Y_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function gb(t,n){if(nt(t))try{return n.ZN(t).qD(t)}catch(t){return}}function wb(t){return it(t.sources)&&""!==t.sources||tt(t.sources)&&it(t.sources.src)}function yb(t){return t.integration===xA.SPOTX&&!w(t.id)}function mb(t){return"freewheel"===t.integration}function kb(t,n,i){if(void 0===i&&(i=zA.We),cb(t))return{sources:[Tl()]};var r=Nd(t);if(r.sources=function(t,n,i){if(pl(t))return[vb(t,n,i)];if(K(t)&&pl(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(vb(u,n,i))}return r}return[Tl()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!K(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=gb(u,n))&&(wb(u)||yb(u)||mb(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,h=!Al(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!K(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=_b(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=Ld(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=$A(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?KA(s.stereoMode):GA.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Sl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Nd(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==JA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Ql(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(GA||(GA={})),function(t){t.oI="auto",t.HD="always",t.VD="never"}(jA||(jA={})),function(t){t.oI="auto",t.XD="playlist",t.WD="media"}(QA||(QA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(YA||(YA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(ZA||(ZA={}));var pb=function(){function t(t){this.zD=t}return t.prototype.GD=function(t){var n,i,r,e,u,s,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.zD.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.zD.indexOf(t.charAt(n))<<18|this.zD.indexOf(t.charAt(n+1))<<12|(u=this.zD.indexOf(t.charAt(n+2)))<<6|(s=this.zD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===s&&(h[n/4]=String.fromCharCode(i,r)),64===u&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.jD=function(t,n){var i,r,e,u,s,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.zD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.zD.charAt(r)+this.zD.charAt(e)+this.zD.charAt(u)+this.zD.charAt(s);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.pm=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.QD=new t(t.pm.GD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Ab(t){return"string"==typeof t}function bb(t){return"number"==typeof t}var Tb={}.toString;var Eb,Sb=Array.isArray||function(t){return"[object Array]"===Tb.call(t)};function Rb(t,n){return Sb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(Eb||(Eb={}));var Ib,Nb=d.keys(Eb).map(function(t){return Eb[t]});function Db(t){return-1!==Nb.indexOf(t)}function Cb(t){try{var n=pb.QD.GD(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=Ab(t.key),r=Ab(t.customer_id),e=bb(t.generation_date),u=bb(t.expiration_date),s=Rb(t.domains_page,Ab),o=Rb(t.domains_source,Ab),h=Rb(t.sdks,Db),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&u&&s&&o&&h&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function Ob(){return Ib||(Ib={uv:xr.href,YD:Or.parent&&Or.parent!==r,ZD:Bb()}),Ib}var xb,Pb=["http:","https:","ftp:","ws:","wss:"];function Bb(){try{return Or.top.location.href}catch(t){return Or&&Or.document&&Or.document.referrer}}!function(t){t[t.JD=0]="JD",t[t.$D=1]="$D",t[t.KD=2]="KD"}(xb||(xb={}));var Lb,Mb=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.tC=t,this.nC=n,this.iC=i,this.rC=r,this.eC=e,this.uC=u,this.sC=s,this.oC=o};!function(t){t.$D="expired",t.hC="invaliddomain",t.aC="invalidsource",t.Wl="error"}(Lb||(Lb={}));var Ub=function(){function t(t,n,i){this.cC=void 0,this.fC=t,this.vC=n,this.dC=i,this.cC=qb(this.dC)}var n=t.prototype;return n.lC=function(t,n){var i=this;if(!cb(t)&&0!==n.iC.length&&!Vb(n.iC)){var r=[];if(pl(t.sources)?r=[t.sources]:K(t.sources)&&(r=t.sources),!r.every(function(t){return i._C(t,n)})){var e=Lb.aC,u=Gb.gC(e);throw new So(Fb(e),u)}}},n.wC=function(n){return this.yC(n.sC)&&this.mC(n)?t.kC(n.rC)?xb.JD:xb.$D:xb.KD},n.yC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.pC(t)})},n.pC=function(t){return"ios"===function(t){switch(t){case Eb.ANDROID:return P.dr;case Eb.ANDROIDTV:case Eb.FIRETV:return P._r;case Eb.IOS:return P.gr;case Eb.TVOS:return P.wr;case Eb.CHROMECAST:case Eb.CHROMECASTCAF:return P.yr;default:return P.cr}}(t)},t.kC=function(t){var n=Number(new Date);return!!t&&n<=t},n.mC=function(t){return!(this.cC&&0!==t.nC.length&&!Vb(t.nC))||!!(this.cC&&this.AC(t.nC)&&this.bC(t.nC))},n.AC=function(t){return Xb(this.dC.uv,t)},n.bC=function(t){if(!this.dC.YD)return!0;if(this.fC)return!0;var n=this.TC();return!!n&&Xb(n,t)},n.TC=function(){if(this.dC.YD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.dC.ZD?this.dC.ZD:void 0}},n._C=function(n,i){return!!t.EC(n,i.iC)},t.EC=function(t,n){return Xb(this.SC(t),n)},t.SC=function(t){return it(t)?t:kl(t)&&t.src||""},t}();function Fb(t){switch(t){case Lb.hC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Lb.aC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Lb.$D:return n.ErrorCode.LICENSE_EXPIRED;case Lb.Wl:return n.ErrorCode.LICENSE_ERROR}}function Hb(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Vb(t){return t.some(function(t){return"*"===t})}function Xb(t,n){var i=b.Xu(t);if(!Wb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Hb(i.hostname,e))return!0;if(Hb(Ur(t),e))return!0}return!1}function Wb(t){return-1!==Pb.indexOf(t.protocol)}function qb(t){var n=b.Xu(t.uv);return Wb(n)&&!Hb(n.hostname,"localhost")&&!function(t){return Hb(t.hostname,"theoplayer.doubleclick.net")}(n)}var zb,Gb=function(){function t(){}return t.gC=function(t){return t===Lb.hC?this.RC:t===Lb.aC?this.IC:t===Lb.$D?this.NC:this.DC},t}();function jb(t){var n=[t.EA,t.OC,t.xC];switch(t.OC){case zb.BC:n.push(t.Yl);break;case zb.LC:n.push(t.I_),n.push(t.Xo);break;case zb.MC:n.push(t.Xo)}return n}Gb.DC="The license for this player is invalid.",Gb.NC="The usage license for this video player has expired.",Gb.RC="The current domain is incompatible with the license for this player.",Gb.IC="The provided video source is incompatible with the license for this player.",function(t){t[t.BC=1]="BC",t[t.LC=4]="LC",t[t.MC=5]="MC"}(zb||(zb={}));for(var Qb=new Array(256),Yb=0;Yb<256;Yb+=1)Qb[Yb]=(Yb<16?"0":"")+Yb.toString(16);function Zb(){var t=Zt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Qb[255&n]+Qb[n>>>8&255]+Qb[n>>>16&255]+Qb[n>>>24&255]+"-"+Qb[255&i]+Qb[i>>>8&255]+"-"+Qb[i>>>16&15|64]+Qb[i>>>24&255]+"-"+Qb[63&r|128]+Qb[r>>>8&255]+"-"+Qb[r>>>16&255]+Qb[r>>>24&255]+Qb[255&e]+Qb[e>>>8&255]+Qb[e>>>16&255]+Qb[e>>>24&255]}var Jb=function(){function t(t){this.zD=void 0,this.zD=t}var n=t.prototype;return n.GD=function(t){var n,i,r,e,u,s,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.zD.indexOf(t.charAt(n))<<18|this.zD.indexOf(t.charAt(n+1))<<12|(u=this.zD.indexOf(t.charAt(n+2)))<<6|(s=this.zD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===s&&(h[n/4]=String.fromCharCode(i,r)),64===u&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.jD=function(t){var n,i,r,e,u,s,o,h=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.zD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,h[s/3]=this.zD.charAt(i)+this.zD.charAt(r)+this.zD.charAt(e)+this.zD.charAt(u);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function $b(){return b.os()}Jb.pm=new Jb(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Jb.QD=new Jb(Jb.pm.GD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Kb,tT="theoplayer-session-id";function nT(){if(!Kb){var t=Xo.Zo(tT);t?Kb=t:(Kb=Zb(),Xo.Pa(tT,Kb))}return Kb}var iT=/[^\x00-\x7E]/g;function rT(t){return"\\u"+br(t.charCodeAt(0).toString(16),4,"0")}var eT=0,uT=1,sT=6e4;function oT(t){var n,i,r,e,u,s=(n=function(t){return[t.UC,t.Ph,t.tC,t.Hk,t.FC,t.HC,t.VC.map(jb)]}(t),i=[],r=n,e=function(t,n){if(tt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(iT,rT));return Jb.QD.jD(s)}var hT=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=Jb.pm),void 0===e&&(e=eT),void 0===u&&(u=uT),this.XC=[],this.WC=null,this.qC=0,this.zC="unknown",this.GC=0,this.jC=function(){$b()-s.qC>sT&&s.ar()},this.QC=function(){s.ar(!0)},this._E=t,this.Sb=n,this.YC=i,this.ZC=r,this.JC=e,this.$C=u,Cr.KC(this.QC),a(this.jC,sT)}var n=t.prototype;return n.tO=function(){return Boolean(this.FC)},n.nO=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.YC.iO();case 2:if(t.sent.oC){t.next=5;break}return t.abrupt("return");case 5:return i={OC:zb.BC,xC:Zt(),Yl:n},t.next=8,this.rO(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.eO=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={OC:zb.LC,xC:Zt(),I_:i,Xo:n},t.next=3,this.rO(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.uO=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={OC:zb.MC,xC:Zt(),Xo:n},t.next=3,this.rO(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rO=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.YC.iO();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.ZC.jD(i.tC)){t.next=6;break}if(n.OC===zb.MC){t.next=6;break}return t.abrupt("return");case 6:if(n.OC===zb.BC?this.sO():this.tO()||this.sO(),n.EA=this.GC++,this.XC.push(n),(r=n.OC)!==zb.BC&&r!==zb.MC){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.XC.length>this.JC)){t.next=19;break}return t.next=17,this.oO();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.XC.length>0)){t.next=6;break}return t.next=4,this.oO(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.hO=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.YC.iO();case 2:return i=t.sent,t.abrupt("return",{UC:Zt(),Ph:nT(),tC:this.ZC.jD(i.tC)||"dev",Hk:this._E,FC:this.WC,HC:this.zC,VC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oO=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.XC.splice(0,this.$C),t.next=4,this.hO(i);case 4:r=t.sent,n?this.Iv(r):this.aO(r),this.qC=$b();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.aO=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=oT(n),r=new Nf({uv:"https://license.theoplayer.com",Hf:i,Sv:!1,Kf:jo.je,$f:{"Content-Type":ok.bE},bv:4e3,Av:Tf.POST}),t.prev=2,t.next=5,this.Sb.rv(r);case 5:return e=t.sent,t.next=8,e.Mf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Iv=function(t){var n=oT(t);this.Sb.Iv({uv:"https://license.theoplayer.com",Hf:n,Ff:ok.bE})},n.sO=function(){this.tO()&&this.ar(),this.WC=Zb(),this.GC=0},n.Nv=function(){Cr.cO(this.QC),this.ar()},L(t,[{key:"VC",get:function(){return this.XC}},{key:"FC",get:function(){return this.WC}}]),t}();var aT=!Q.we&&!Q.Re;function cT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var fT=function(){function t(t){this.eI=void 0,this.Wd=void 0,this.fO=void 0,this.eI=t}var n=t.prototype;return n.vO=function(t){if(!t||!t.drawImage)return!1;var n=this.eI.Qw();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.dO=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.eI,h=o.Qw();if(!h)return!1;if(!aT){this.fO||(this.fO=e.createElement("canvas"));var a=this.fO,c=a.getContext("2d"),v=o.M_,d=o.L_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===v&&_===d||(a.width=v,a.height=d),c.drawImage(h,0,0,v,d);var g=!1;v>0&&cT(c,v-1,0)&&(a.width=l,g=!0),d>0&&cT(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,v,d),h=a}try{t.texImage2D(n,i,r,u,s,h)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},L(t,[{key:"qd",get:function(){return this.Wd||(this.Wd=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.vO.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.dO(n,i,r,e,u,s)}}));var t}}]),t}(),vT=function(t){function n(n,i){var r;return(r=t.call(this,"lO")||this).us=n,r.yp=i,r}return U(n,t),n.prototype.zd=function(){return new dT(this.us,this.yp)},n}(ld),dT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return U(n,t),n}(Ru),lT=function(t,n){this.uy=void 0,this._O=void 0,this.uy=t,this._O=n},_T=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).gO=void 0,r.wO=0,r.yO=0,r.mO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.yO=n.width,r.wO=n.height,r._O(r.yO,r.wO)}},r.gO=new Or.ResizeObserver(r.mO),r.gO.observe(r.uy),r}return U(n,t),n.prototype.Nv=function(){this.gO.disconnect()},L(n,[{key:"kO",get:function(){return this.wO}},{key:"pO",get:function(){return this.yO}}]),n}(lT),gT=0;function wT(t){var n=$b(),i=l.max(0,16-(n-gT)),r=o(function(){return t(n+i)},i);return gT=n+i,r}var yT,mT=h,kT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,pT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function AT(){return yT||(yT=Or&&Or.document&&Or.document.createElement("span")),yT}kT&&pT||(kT=wT,pT=mT),kT=kT.bind(t),pT=pT.bind(t);var bT=["Webkit","Moz","O","ms"],TT=(function(){var t=!1;try{if(void 0!==Or&&"function"==typeof Or.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Or.addEventListener("testPassiveEventSupport",S,n),Or.removeEventListener("testPassiveEventSupport",S,n)}}catch(t){}}(),we());function ET(t){return TT.has(t)||TT.set(t,function(t){var n=AT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<bT.length;r++){var e=bT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),TT.get(t)}function ST(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function RT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[ET("transition")]="0s"}var IT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).AO=void 0,e.bO=0,e.yO=NaN,e.wO=NaN,e.TO=void 0,e.EO=void 0,e.SO=void 0,e.RO=void 0,e.IO=void 0,e.pl=function(){e.EO.style.width=1e5+"px",e.EO.style.height=1e5+"px",e.TO.scrollLeft=1e5,e.TO.scrollTop=1e5,e.SO.scrollLeft=1e5,e.SO.scrollTop=1e5,0===e.SO.scrollTop&&kT(e.pl)},e.NO=function(){var t=e.pO,n=e.kO;e._O(t,n),e.yO=t,e.wO=n,e.pl(),e.bO=0},e.DO=function(){if(!e.bO){var t=e.pO,n=e.kO;t===e.yO&&n===e.wO||(e.bO=kT(e.NO))}},e.CO=function(){e.IO||(e.IO=o(e.OO,66))},e.OO=function(){e.IO=void 0,e.xO()},e.xO=function(){e.DO()},e.Uh(r),e}U(n,t);var i=n.prototype;return i.PO=function(){var t,n=this.uy,i=e.createElement("div");return this.TO=e.createElement("div"),this.EO=e.createElement("div"),this.SO=e.createElement("div"),this.RO=e.createElement("div"),ST(this.TO),ST(this.SO),RT(this.EO),RT(t=this.RO),t.style.width="200%",t.style.height="200%",i.appendChild(this.TO),i.appendChild(this.SO),this.TO.appendChild(this.EO),this.SO.appendChild(this.RO),n&&n.appendChild(i),this.DO(),this.TO.addEventListener("scroll",this.DO),this.SO.addEventListener("scroll",this.DO),i},i.Uh=function(t){var n=this.uy,i=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.AO=this.PO(),r&&r.addEventListener("resize",this.CO)},i.Nv=function(){this.AO&&(pT(this.bO),this.bO=0,this.TO.removeEventListener("scroll",this.DO),this.SO.removeEventListener("scroll",this.DO),Vr(this.AO),this.AO=void 0,r&&r.removeEventListener("resize",this.CO))},L(n,[{key:"kO",get:function(){return this.uy&&this.uy.getBoundingClientRect().height||this.wO||0}},{key:"pO",get:function(){return this.uy&&this.uy.getBoundingClientRect().width||this.yO||0}}]),n}(lT),NT=function(t){function n(n){var i;return(i=t.call(this)||this).uy=void 0,i.gO=void 0,i.mO=function(t,n){i.Ro(new vT(t,n))},i.uy=n,i}U(n,t);var i=n.prototype;return i.Uh=function(t){this.gO||("function"==typeof Or.ResizeObserver?this.gO=new _T(this.uy,this.mO):this.gO=new IT(this.uy,this.mO,t))},i.Nv=function(){this.Co(),this.gO&&(this.gO.Nv(),this.gO=void 0)},L(n,[{key:"kO",get:function(){return this.gO?this.gO.kO:0}},{key:"pO",get:function(){return this.gO?this.gO.pO:0}}]),n}(Eu),DT=function(t){function n(){return t.call(this,oA.ul)||this}return U(n,t),n}(Ru);var CT=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{BO:i[0],LO:i[1],MO:i[2],UO:i[3],FO:i[4],HO:i[5]}}}(),OT=function(t){function n(){return t.call(this,oA.sN)||this}return U(n,t),n}(Ru),xT=function(t){function n(i){var r;return(r=t.call(this)||this).uy=void 0,r.hN=void 0,r.oN=!1,r.VO=function(){return r.FN()},r.XO=function(){return r.VN()},r.uy=i,r.hN=n.WO(i),e.addEventListener(CT.FO,r.VO),r.FN(),r}U(n,t),n.WO=function(t){return Boolean(CT&&e[CT.UO]&&CT.BO in t)};var i=n.prototype;return i.By=function(){var t=this.uy[CT.BO]();t&&t.then?t.then(this.VO,this.XO):(e.removeEventListener(CT.HO,this.XO),e.addEventListener(CT.HO,this.XO))},i.My=function(){var t=e[CT.LO]();t&&t.then?t.then(this.VO,this.XO):(e.removeEventListener(CT.HO,this.XO),e.addEventListener(CT.HO,this.XO))},i.FN=function(){var t=this.oN,n=this.uy===e[CT.MO];this.oN=n,t!==n&&this.Ro(new DT)},i.VN=function(){this.Ro(new fA)},i.Nv=function(){this.Co(),e.removeEventListener(CT.FO,this.VO),e.removeEventListener(CT.HO,this.XO)},n}(Eu),PT=function(t){function n(i){var r;return(r=t.call(this)||this).uy=void 0,r.hN=void 0,r.oN=!1,r.VO=function(){return r.FN()},r.uy=i,r.hN=n.WO(i),r.uy.addEventListener("webkitbeginfullscreen",r.VO),r.uy.addEventListener("webkitendfullscreen",r.VO),r.uy.addEventListener("webkitpresentationmodechanged",r.VO),r.FN(),r}U(n,t),n.WO=function(t){return Q.we&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.By=function(){var t=this;this.uy.webkitSupportsPresentationMode&&this.uy.webkitSupportsPresentationMode("fullscreen")?Q.we?requestAnimationFrame(function(){return t.uy.webkitSetPresentationMode("fullscreen")}):this.uy.webkitSetPresentationMode("fullscreen"):this.uy.webkitEnterFullscreen()},i.My=function(){this.uy.webkitSupportsPresentationMode&&this.uy.webkitSupportsPresentationMode("inline")?this.uy.webkitSetPresentationMode("inline"):this.uy.webkitExitFullscreen()},i.FN=function(){var t,n=this.oN;t=this.uy.webkitPresentationMode?"fullscreen"===this.uy.webkitPresentationMode:!!this.uy.webkitDisplayingFullscreen,this.oN=t,n!==t&&this.Ro(new DT)},i.Nv=function(){this.Co(),this.uy.removeEventListener("webkitbeginfullscreen",this.VO),this.uy.removeEventListener("webkitendfullscreen",this.VO),this.uy.removeEventListener("webkitpresentationmodechanged",this.VO)},n}(Eu),BT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).qO=[],n.zO=void 0,n.BN=!1,n.FN=function(){var t=n.BN,i=n.GO();t!==i&&(n.BN=i,n.Ro(new DT))},n}U(n,t);var i=n.prototype;return i.By=function(){this.zO?this.zO.By():this.Ro(new fA)},i.My=function(){for(var t=0,n=this.qO;t<n.length;t++){var i=n[t];i.oN&&i.My()}},i.jO=function(t){this.zO=t},i.QO=function(t){this.qO.push(t),t.Io(oA.ul,this.FN),t.Io(oA.Wl,this.So),this.FN()},i.YO=function(t){$e(this.qO,t),t.Oo(oA.ul,this.FN),t.Oo(oA.Wl,this.So)},i.GO=function(){for(var t=0,n=this.qO;t<n.length;t++){if(n[t].oN)return!0}return!1},i.pl=function(){this.zO=void 0,this.BN=!1;for(var t=this.qO.slice(),n=0;n<t.length;n++){var i=t[n];this.YO(i),i.Nv()}this.FN()},i.Nv=function(){this.Co(),this.pl()},L(n,[{key:"hN",get:function(){return!!this.zO&&this.zO.hN}},{key:"oN",get:function(){return this.BN}}]),n}(Eu),LT=function(t){function n(n,i){var r;return(r=t.call(this)||this).eI=void 0,r.ZO=void 0,r.JO=void 0,r.$O=!1,r.KO=function(){return r.Nh()},r.FN=function(t){r.$O||r.Ro(t)},r.eI=n,r.ZO=i,r.JO=vA,r.tx(),r.eI.Io(Go.ja,r.KO),r.Nh(),r}U(n,t);var i=n.prototype;return i.By=function(){this.ZO&&this.JO.By()},i.My=function(){this.JO.My()},i.tx=function(){this.JO.Io(oA.ul,this.FN),this.JO.Io(oA.Wl,this.So)},i.nx=function(){this.JO.Oo(oA.ul,this.FN),this.JO.Oo(oA.Wl,this.So)},i.Nh=function(){var t=this.JO,n=this.eI.Yw();if(t!==n){this.$O=!0;var i=this.oN,r=this.hN;i&&this.My(),this.nx(),this.JO=n,this.tx(),i&&!this.oN&&this.hN?this.By():this.My(),this.$O=!1,r!==this.hN&&this.Ro(new OT),i!==this.oN&&this.Ro(new DT)}},i.Nv=function(){this.Co(),this.nx(),this.eI.Oo(Go.ja,this.KO)},L(n,[{key:"hN",get:function(){return!!this.ZO&&this.JO.hN}},{key:"oN",get:function(){return this.JO.oN}}]),n}(Eu);function MT(t){var n;return{get url(){return t.uv},get method(){return t.Av},get headers(){return n||(n=t.$f.Ac()),n},get body(){return t.Hf},get useCredentials(){return t.Sv},get type(){return XT(t.Ys)},get subType(){return qT(t.Tv)},get mediaType(){return GT(t.Ev)},get responseType(){return FT(t.Kf)}}}function UT(t){switch(t.toLowerCase()){case"arraybuffer":return jo.mc;case"json":return jo.kc;case"stream":return jo.pc;case"text":default:return jo.je}}function FT(t){return t}function HT(t){switch(t.toUpperCase()){case"POST":return Tf.POST;case"PUT":return Tf.PUT;case"DELETE":return Tf.DELETE;case"HEAD":return Tf.HEAD;case"OPTIONS":return Tf.OPTIONS;case"GET":default:return Tf.GET}}function VT(t){switch(t.toLowerCase()){case"manifest":return Ef.hv;case"segment":return Ef.av;case"content-protection":return Ef.cv;default:return Ef.ov}}function XT(t){return t}function WT(t){switch(t.toLowerCase()){case"initialization-segment":return Sf.fv;case"fairplay-license":return Sf.vv;case"fairplay-certificate":return Sf.dv;case"widevine-license":return Sf.lv;case"widevine-certificate":return Sf._v;case"playready-license":return Sf.gv;case"clearkey-license":return Sf.wv;case"aes128-key":return Sf.yv;default:return Sf.ov}}function qT(t){return t}function zT(t){switch(t.toLowerCase()){case"audio":return Rf.mv;case"video":return Rf.kv;case"text":return Rf.je;case"image":return Rf.pv;case"":default:return Rf.ov}}function GT(t){return t}var jT=function(){function t(t,n){this.ix=new Qs,this.ex=[],this.Wd=void 0,this.ux=!1,this.Vv=void 0,this.sx=0,this.ox=t,this.hx=n}var n=t.prototype;return n.Nk=function(){this.ux=!0,this.ix.fh(null)},n.ax=function(){this.ix.vh(this.ex)},n.vx=function(t){if(!this.lx)throw new v("Cannot respond more than once");if(!tt(t))throw new v("Expected valid response");this.Vv=this._x(t),this.Nk()},n.gx=function(){try{var t=this.hx(this.qd);t?this.wx(t):this.yx||this.mx||this.Nk()}catch(t){this.ax()}},n.wx=function(t){if(this.mx)throw new f("Request has been redirected or a response already exists");if(et(t))this.kx(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new Qs;try{var i=t(function(t){t?n.vh(t):n.fh(void 0)});et(i)&&n.fh(i)}catch(t){n.vh(t)}this.kx(n.ah)}},n.kx=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.sx++,t.next=4,n;case 4:this.sx--,this.yx||this.mx||(this.ex.length?this.ax():this.Nk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.sx--,this.ex.push(t.t0),this.yx||this.mx||this.ax();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"Ax",get:function(){return this.ix.ah}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.bx()),this.Wd}},{key:"mx",get:function(){return this.ux}},{key:"lx",get:function(){return!this.ux}},{key:"yx",get:function(){return this.sx>0}},{key:"Xv",get:function(){return this.Vv}}]),t}(),QT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Tx=void 0,e.Tx=r,e.gx(),e}U(n,t),n.Ex=function(t,n,i){var r=void 0===t.body?i:t.body;return new If({bu:r,rv:n.rv,Kf:n.rv.Kf,$f:t.headers,Jf:t.status,tv:t.statusText,ev:t.url,nv:!0},n)};var i=n.prototype;return i.bx=function(){return i=MT((t=this).rv),{get closed(){return!t.lx},get request(){return i},get url(){return t.uv},get status(){return t.Jf},get statusText(){return t.tv},get headers(){return n||(n=t.$f.Ac()),n},get body(){return t.Hf},respondWith:function(n){return t.vx(n)},waitUntil:function(n){return t.wx(n)}};var t,n,i},i._x=function(t){return n.Ex(t,this.ox,this.Tx)},L(n,[{key:"Hf",get:function(){return this.Tx}},{key:"$f",get:function(){return this.ox.$f}},{key:"rv",get:function(){return this.ox.rv}},{key:"Xv",get:function(){return this.Vv}},{key:"Jf",get:function(){return this.ox.Jf}},{key:"tv",get:function(){return this.ox.tv}},{key:"uv",get:function(){return this.ox.ev}}]),n}(jT),YT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Sx=void 0,e.Rx=void 0,e.Rx=r,e.gx(),e}U(n,t);var i=n.prototype;return i.bx=function(){return t=this,{get url(){return t.uv},get method(){return t.Av},get headers(){return n||(n=t.$f.Ac()),n},get body(){return t.Hf},get closed(){return!t.lx},get useCredentials(){return t.Sv},get type(){return XT(t.Ys)},get subType(){return qT(t.Tv)},get mediaType(){return GT(t.Ev)},get responseType(){return FT(t.Kf)},redirect:function(n){return t.Ix(n)},respondWith:function(n){return t.vx(n)},waitUntil:function(n){return t.wx(n)}};var t,n},i._x=function(t){var n=this.ox.Hf,i=new If({bu:n,$f:{},rv:this.ox,ev:this.ox.uv,Kf:this.ox.Kf,Jf:200,tv:"OK"});return QT.Ex(t,i,n)},i.Ix=function(t){if(!this.lx)throw new v("Cannot redirect, already redirected or has a response");var n;n=it(t)?{url:t}:t,this.Sx=function(t,n){return new Nf({uv:void 0===t.url?n.uv:t.url,Av:void 0!==t.method?HT(t.method):void 0,$f:t.headers,Hf:t.body,Sv:t.useCredentials,Ys:void 0!==t.type?VT(t.type):void 0,Tv:void 0!==t.subType?WT(t.subType):void 0,Ev:void 0!==t.mediaType?zT(t.mediaType):void 0,Kf:void 0!==t.responseType?UT(t.responseType):void 0},n)}(n,this.ox),this.Nk()},L(n,[{key:"Hf",get:function(){return this.ox.Hf}},{key:"lx",get:function(){return this.Rx&&!this.ux}},{key:"$f",get:function(){return this.ox.$f}},{key:"Av",get:function(){return this.ox.Av}},{key:"Nx",get:function(){return this.Sx}},{key:"Xv",get:function(){return this.Vv}},{key:"Kf",get:function(){return this.ox.Kf}},{key:"bv",get:function(){return this.ox.bv}},{key:"Ao",get:function(){return this.ox.Ao}},{key:"Ys",get:function(){return this.ox.Ys}},{key:"Tv",get:function(){return this.ox.Tv}},{key:"Ev",get:function(){return this.ox.Ev}},{key:"uv",get:function(){return this.ox.uv}},{key:"Sv",get:function(){return this.ox.Sv}},{key:"Rv",get:function(){return this.ox.Rv}}]),n}(jT);var ZT,JT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new $T(n);return(r=t.call(this,e,i)||this).Dx=void 0,r.Dx=e,r}U(n,t);var i=n.prototype;return i.Cx=function(t){this.Dx.Cx(t)},i.Ox=function(t){this.Dx.Ox(t)},i.xx=function(t){this.Dx.xx(t)},i.Px=function(t){this.Dx.Px(t)},i.Bx=function(t){this.Dx.Bx(t)},n}(Of),$T=function(){function t(t){this.Dv=void 0,this.Lx=[],this.Mx=[],this.Dv=t}var n=t.prototype;return n.rv=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Ux(n,n.Ao);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof xf)){t.next=12;break}return t.next=11,this.Fx(t.t0,n.Ao);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.Hx(i,n.Ao);case 15:if(!bf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Bf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Iv=function(t){return this.Dv.Iv(t)},n.Ux=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:au(i),r=n,u=0,s=this.Lx.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],au(i),(h=new YT(r,o,!e)).mx){t.next=17;break}return t.prev=8,t.next=11,h.Ax;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.Nx&&!e?r=h.Nx:h.Xv&&!e&&(e=h.Xv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Dv.rv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Fx=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Bf?n.Xv:new If({bu:null,rv:n.rv,Jf:0,tv:""}),t.next=3,this.Hx(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!bf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Bf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Hx=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.Mx.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],au(i),t.next=7,T.resolve(r.eh().bu(i));case 7:if(o=t.sent,(h=new QT(r,s,o)).mx){t.next=19;break}return t.prev=10,t.next=13,h.Ax;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.Xv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Cx=function(t){this.Lx.unshift(t)},n.Ox=function(t){this.Lx.push(t)},n.xx=function(t){$e(this.Lx,t)},n.Px=function(t){this.Mx.unshift(t)},n.Bx=function(t){$e(this.Mx,t)},n.Nv=function(){this.Dv.Nv(),iu(this.Lx),iu(this.Mx)},t}(),KT=function(){function t(t){this.Wd=void 0,this.Sb=t}var n=t.prototype;return n.Cx=function(t){this.Sb.Cx(t)},n.xx=function(t){this.Sb.xx(t)},n.Px=function(t){this.Sb.Px(t)},n.Bx=function(t){this.Sb.Bx(t)},L(t,[{key:"qd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{addRequestInterceptor:function(n){t.Cx(n)},removeRequestInterceptor:function(n){t.xx(n)},addResponseInterceptor:function(n){t.Px(n)},removeResponseInterceptor:function(n){t.Bx(n)}})),this.Wd}}]),t}(),tE=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Wd=void 0,e.Vx=n,e.Sb=i,e.yN=r,e.Vx.Io(Go.Ka,e.So),e.Vx.Io(Go.$a,e.So),e}U(n,t);var i=n.prototype;return i.Xx=function(t){this.yN.Xx(t)},i.Cx=function(t){this.Sb.Cx(t)},i.xx=function(t){this.Sb.xx(t)},i.Px=function(t){this.Sb.Px(t)},i.Bx=function(t){this.Sb.Bx(t)},i.Nv=function(){this.Co(),this.Vx.Oo(Go.Ka,this.So),this.Vx.Oo(Go.$a,this.So)},L(n,[{key:"qd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{get online(){return t.gy},get estimator(){return n=t.Wx,{get bandwidth(){return n.jS},get roundTripTime(){return n.QS}};var n},setEstimator:function(n){t.Xx(function(t){if(t)return{get jS(){return Bd(t.bandwidth)},get QS(){return Bd(t.roundTripTime)},GS:function(n){return function(t){if(t)return{qx:function(n){t.markRequestStart(n)},zx:function(n){t.markResponseStart(n)},Gx:function(n,i){t.markResponseData(n,i)},jx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(MT(n)))}}}(n))},addRequestInterceptor:function(n){t.Cx(n)},removeRequestInterceptor:function(n){t.xx(n)},addResponseInterceptor:function(n){t.Px(n)},removeResponseInterceptor:function(n){t.Bx(n)},addEventListener:function(n,i){t.Io(n,i)},removeEventListener:function(n,i){t.Oo(n,i)}})),this.Wd}},{key:"gy",get:function(){return this.Vx.gy}},{key:"Wx",get:function(){return this.yN.Wx}}]),n}(tl);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(ZT||(ZT={}));var nE=30,iE=1,rE=5;function eE(t,n,i,r,e,u){var s=[],o=t-l.max(u,iE),h=t+e;if(n&&i){var a=qt(i,iE,rE),c=n-a;o=l.min(o,c);var f=n+i+a;h=l.max(h,f)}return 0!==o&&r.jI(0,o)&&s.push([0,o]),r.jI(h,1/0)&&s.push([h,1/0]),s}var uE={type:ZT.BANDWIDTH},sE=20,oE=60;function hE(t){var n,i,r,e=Nd(uE);return it(t)?e.type=aE(t):tt(t)&&function(t){switch(t){case ZT.PERFORMANCE:case ZT.QUALITY:case ZT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=aE(t.type)),tt(t)&&tt(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Pd(n.bitrate),w(r)||(i.bitrate=r),i)),e}function aE(t){switch(t){case"bandwidth":return ZT.BANDWIDTH;case"performance":return ZT.PERFORMANCE;case"quality":return ZT.QUALITY}}var cE=function(t){function n(n){var i;return(i=t.call(this,"Yx")||this).Qx=n,i}return U(n,t),n}(Ru),fE=function(t){function n(n){var i;return(i=t.call(this,"Jx")||this).Zx=n,i}return U(n,t),n}(Ru),vE=function(t){function n(n){var i;return(i=t.call(this,"Kx")||this).$x=n,i}return U(n,t),n}(Ru),dE=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).Wd=(i=en(n),{get strategy(){return{metadata:(t=i.Zx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Zx=hE(t)},get targetBuffer(){return i.Qx},set targetBuffer(t){var n=Pd(t);w(n)||(i.Qx=n>oE?oE:n)},get bufferLookbackWindow(){return i.$x},set bufferLookbackWindow(t){var n=Pd(t);w(n)||(i.$x=n<=0?nE:n)}}),n.tP=uE,n.nP=sE,n.iP=nE,n.rP=void 0,n.eP=void 0,n}U(n,t);var i=n.prototype;return i.rT=function(t){this.eP=t},i.Xx=function(t){this.rP=t},L(n,[{key:"uP",get:function(){switch(this.tP.type){case ZT.PERFORMANCE:return 0;case ZT.QUALITY:return 1/0;case ZT.BANDWIDTH:return this.tP.metadata&&void 0!==this.tP.metadata.bitrate?this.tP.metadata.bitrate:8*el.o_();default:return 8*el.o_()}}},{key:"qd",get:function(){return this.Wd}},{key:"Zx",get:function(){return this.tP},set:function(t){this.tP=t,this.Ro(new fE(t))}},{key:"Qx",get:function(){return this.nP},set:function(t){this.nP=t,this.Ro(new cE(t))}},{key:"$x",get:function(){return this.iP},set:function(t){this.iP=t,this.Ro(new vE(t))}},{key:"Wx",get:function(){var t;return null!=(t=this.rP)?t:this.eP.WR}}]),n}(Eu),lE=function(t){function n(){return t.call(this,"sl")||this}return U(n,t),n.prototype.zd=function(){return new _E},n}(ld),_E=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(Ru),gE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sP=void 0,r.oP=function(t){var n;n=t,Boolean(n&&n.qd)&&gu(function(){r.Ro(t.qd)})},r.sP=n,r.sP.Do(r.oP),r}return U(n,t),n.prototype.Nv=function(){this.Co(),this.sP.Bo(this.oP)},n}(tl),wE=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(gE);var yE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Zy=0,n.Jy=1/0,n.Wd=void 0,n}U(n,t);var i=n.prototype;return i.pl=function(){0===this.Zy&&this.Jy===1/0||(this.Zy=0,this.Jy=1/0,this.Ro(new lE))},i.hP=function(){return new aA([this.Fy,this.Hy],[!0,!0])},L(n,[{key:"Fy",get:function(){return this.Zy},set:function(t){if(this.Hy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Zy!==t&&(this.Zy=t,this.Ro(new lE))}},{key:"Hy",get:function(){return this.Jy},set:function(t){if(t<=this.Fy)throw new f("End time of a clip should be larger than the start time.");this.Jy!==t&&(this.Jy=t,this.Ro(new lE))}},{key:"qd",get:function(){var t,n,i;return this.Wd||(this.Wd=(i={get startTime(){return t.Fy},set startTime(n){t.Fy=n},get endTime(){return t.Hy},set endTime(n){t.Hy=n},addEventListener:function(t,i){n.Io(t,i)},removeEventListener:function(t,i){n.Oo(t,i)}},n=new gE(t=this,i),i)),this.Wd}}]),n}(tl),mE=function(t){function n(n){var i;return(i=t.call(this)||this).aP=function(t){i.cP(t)||i.Ro(t)},i.fP=n,i.fP.Do(i.aP),i}U(n,t);var i=n.prototype;return i.vP=function(){return this.fP.Cw},i.Zw=function(){return this.fP.Zw()},i.dP=function(){return this.fP.iy},i.lP=function(){return this.fP.ty},i._P=function(){return this.fP.ey},i.gP=function(t){this.fP.ey=t},i.wP=function(){return this.fP.I_},i.yP=function(t){this.fP.I_=t},i.mP=function(){return this.fP.N_},i.kP=function(){return this.fP.uy},i.pP=function(){return this.fP.D_},i.AP=function(){return this.fP.Xo},i.bP=function(){return this.fP.C_},i.TP=function(){return this.fP.sy},i.EP=function(){return this.fP.O_},i.SP=function(t){this.fP.O_=t},i.RP=function(){return this.fP.gy},i.IP=function(){return this.fP.x_},i.NP=function(){return this.fP.P_},i.DP=function(t){this.fP.P_=t},i.CP=function(){return this.fP.wy},i.OP=function(){return this.fP.yy},i.xP=function(t){this.fP.yy=t},i.PP=function(){return this.fP.Gl},i.BP=function(){return this.fP.my},i.LP=function(){return this.fP.B_},i.Uw=function(){return this.fP.Uw()},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(i),t.next=3,this.fP.Fw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.MP=function(){return this.fP.xw},i.UP=function(){return this.fP.L_},i.FP=function(){return this.fP.Ow},i.HP=function(){return this.fP.M_},i.VP=function(){return this.fP.U_},i.XP=function(t){this.fP.U_=t},i.Yw=function(){return this.fP.Yw()},i.Qw=function(){return this.fP.Qw()},i.qw=function(t){this.fP.qw(t)},i.zw=function(){this.fP.zw()},i.jw=function(){this.fP.jw()},i.Ww=function(){this.fP.Ww()},i.Lw=function(){this.fP.Lw()},i.Bw=function(){this.fP.Bw()},i.Gw=function(){this.fP.Gw()},i.Mw=function(){return this.fP.Mw()},i.Hw=function(){return this.fP.Hw()},i.Vw=function(){this.fP.Vw()},i.Xw=function(){this.fP.Xw()},i.pl=function(){return this.fP.pl()},i.Nv=function(){return this.fP.Nv()},i.ny=function(){this.fP.ny()},i.Jw=function(t){return this.fP.Jw(t)},i.cP=function(t){return!1},L(n,[{key:"Cw",get:function(){return this.vP()}},{key:"iy",get:function(){return this.dP()}},{key:"ey",get:function(){return this._P()},set:function(t){this.gP(t)}},{key:"ty",get:function(){return this.lP()}},{key:"I_",get:function(){return this.wP()},set:function(t){this.yP(t)}},{key:"N_",get:function(){return this.mP()}},{key:"uy",get:function(){return this.kP()}},{key:"D_",get:function(){return this.pP()}},{key:"Xo",get:function(){return this.AP()}},{key:"C_",get:function(){return this.bP()}},{key:"Pw",get:function(){return this.fP.Pw}},{key:"sy",get:function(){return this.TP()}},{key:"mw",get:function(){return this.fP.mw}},{key:"O_",get:function(){return this.EP()},set:function(t){this.SP(t)}},{key:"gy",get:function(){return this.RP()}},{key:"x_",get:function(){return this.IP()}},{key:"P_",get:function(){return this.NP()},set:function(t){this.DP(t)}},{key:"wy",get:function(){return this.CP()}},{key:"yy",get:function(){return this.OP()},set:function(t){this.xP(t)}},{key:"Gl",get:function(){return this.PP()}},{key:"my",get:function(){return this.BP()}},{key:"B_",get:function(){return this.LP()}},{key:"xw",get:function(){return this.MP()}},{key:"L_",get:function(){return this.UP()}},{key:"Ow",get:function(){return this.FP()}},{key:"M_",get:function(){return this.HP()}},{key:"U_",get:function(){return this.VP()},set:function(t){this.XP(t)}}]),n}(nl),kE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).WP=void 0,e.qP=!1,e.zP=void 0,e.GP=!1,e.jP=function(){e.QP(),e.YP()},e.uR=function(){e.ZP(),e.YP(),e.JP&&e.I_>=e.WP.Hy-n.$P&&!e.D_&&(e.zP=kT(e.uR))},e.KP=function(){e.GP=!0},e.tB=function(){e.GP&&(e.GP=!1,e.YP())},e.WP=r,e.WP.Io("sl",e.jP),e.fP.Io("timeupdate",e.uR),e}U(n,t);var i=n.prototype;return i.yP=function(n){var i=this.WP.hP().CI(n);t.prototype.yP.call(this,i),this.YP()},i.pP=function(){return t.prototype.pP.call(this)||this.qP},i.BP=function(){return aA.iN(t.prototype.BP.call(this)).BI(this.WP.hP()).UR()},i.Bw=function(){this.pP()?this.yP(this.nB.start(0)):this.QP(),t.prototype.Bw.call(this),this.YP()},i.Fw=function(){var n=T.coroutine(le.mark(function n(i,r){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return au(r),this.qP=!1,this.WP.pl(),n.next=5,t.prototype.Fw.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Nv=function(){return this.WP.Oo("sl",this.jP),this.fP.Oo("timeupdate",this.uR),this.ZP(),t.prototype.Nv.call(this)},i.cP=function(n){switch(n.type){case"seeking":return this.Ro(n),this.KP(),!0;case"seeked":case"emptied":return this.Ro(n),this.tB(),!0;case"ended":if(this.JP)return!0}return t.prototype.cP.call(this,n)},i.ZP=function(){this.zP&&(pT(this.zP),this.zP=void 0)},i.YP=function(){var t=this.I_,i=this.JP&&t>=this.WP.Hy-n.Gg;this.qP&&!i?(this.qP=!1,this.x_&&this.Bw()):this.qP||!i||this.B_||this.GP||(this.qP=!0,this.Ro(new Fl(t)),this.Lw())},i.QP=function(){if(this.N_!==1/0){var t=this.nB,i=aA.iN(t).CI(this.I_);zt(this.I_,i,n.Gg)||this.yP(i)}},L(n,[{key:"nB",get:function(){return this.BP().length?this.BP():this.WP.hP().UR()}},{key:"JP",get:function(){return this.WP.Hy<this.N_}}]),n}(mE);kE.$P=1,kE.Gg=.001;var pE=function(){function t(){this.iB=void 0,this.iB=!1}return L(t,[{key:"rB",get:function(){return this.iB},set:function(t){this.iB=t}}]),t}(),AE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).iB=void 0,r.eB=!1,r.uB=!1,r.iB=i,r}U(n,t);var i=n.prototype;return i.pP=function(){return!this.iB.rB&&t.prototype.pP.call(this)},i.Lw=function(){this.uB=!0,t.prototype.Lw.call(this)},i.Bw=function(){this.uB=!1,t.prototype.Bw.call(this)},i.cP=function(n){if(this.iB.rB)switch(n.type){case"ended":return this.I_=0,this.uB||(this.B_?this.eB=!0:this.Bw()),!0;case"seeked":this.eB&&(this.eB=!1,this.Bw());break;case"pause":if(this.eB||t.prototype.pP.call(this))return!0}return t.prototype.cP.call(this,n)},n}(mE);var bE=function(){function t(t){var n;this.Wd=(n=this,{get currentBandwidthEstimate(){return n.vy},get corruptedVideoFrames(){return n.hy},get droppedVideoFrames(){return n.oy},get totalBytesLoaded(){return n.ly},get bufferedSegments(){return n._y}}),this.fI=t}return L(t,[{key:"qd",get:function(){return this.Wd}},{key:"hy",get:function(){return this.fI.sB.mw.hy}},{key:"vy",get:function(){return this.fI.sB.mw.vy}},{key:"oy",get:function(){return this.fI.sB.mw.oy}},{key:"oB",get:function(){throw new f("Not implemented")}},{key:"hB",get:function(){throw new f("Not implemented")}},{key:"ly",get:function(){return this.fI.sB.mw.ly}},{key:"ay",get:function(){return this.fI.sB.mw.ay}},{key:"_y",get:function(){return this.fI.sB.mw._y}}]),t}();function TE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function EE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function SE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function RE(t){return t&&jr(t)?{oy:TE(t),hy:EE(t),ay:SE(t)}:{oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var IE=function(t){function n(){return t.call(this,"aB")||this}return U(n,t),n.prototype.zd=function(){return new NE},n}(ld),NE=function(t){function n(){return t.call(this,"castingchange")||this}return U(n,t),n}(Ru);var DE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).cB=[],n.Wd=void 0,n.fB=function(){return n.Ro(new IE)},n}U(n,t);var i=n.prototype;return i.vB=function(t){this.cB.push(t),t.Io("statechange",this.fB)},i.Nv=function(){var t=this;this.cB.forEach(function(n){n.Oo("statechange",t.fB)}),iu(this.cB)},L(n,[{key:"dB",get:function(){return this.cB.some(function(t){return t.dB})}},{key:"qd",get:function(){var t,n,i;return this.Wd||(this.Wd=(i={get casting(){return t.dB},addEventListener:function(t,i){n.Io(t,i)},removeEventListener:function(t,i){n.Oo(t,i)}},n=new wE(t=this,i),i)),this.Wd}}]),n}(nl),CE=function(){function t(){}return t.lB=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Nf({uv:n,Kf:jo.je,Av:Tf.GET}),t.next=4,i.rv(r);case 4:return e=t.sent,t.next=7,e.bu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),hu(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t._B=function(t){try{var i=Cb(t);return new Mb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new So(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.gB=function(t){void 0===t&&(t=Jb.pm),b.ds("The baked-in license is used. Please update the configuration with your license.");var n=t.GD(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.GD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.GD(n)}),e=Number(new Date(Number(t.GD("COD|aHpHa:p3Ceo3Co\"\""))));return new Mb(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Mb(t.tC,t.nC,t.iC,864e13,t.eC,Date.now(),t.sC,t.oC)},t}(),OE=function(){function t(){}return t.Ba=function(){return t.We||(t.We=xE.Qh()?new xE:new Vo),t.We},t.Ko=function(n){t.Ba().Ko(n)},t.xa=function(){t.Ba().xa()},t.Zo=function(n){return t.Ba().Zo(n)},t.Pa=function(n,i){t.Ba().Pa(n,i)},t.wB=function(n){var i=t.Zo(n);if(void 0!==i)return g(i)},t.yB=function(n){return"true"===t.Zo(n)},t}();OE.We=void 0;var xE=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i.Qh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Ko=function(n){t.localStorage.removeItem(n)},r.xa=function(){t.localStorage.clear()},r.Zo=function(n){return t.localStorage[n]},r.Pa=function(n,i){t.localStorage[n]=i},i}(OE),PE=l.floor(14399999*l.random()-72e5),BE=function(){function t(t,n,i,r,e,u){this.cC=void 0,this.Sb=t,this.mB=n,this.kB=i,this.YC=r,this.pB=e,this.dC=u,this.cC=qb(u)}var i=t.prototype;return i.AB=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bB(this.pB.license,this.pB.licenseUrl);case 2:n=t.sent,this.YC.TB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bB=function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=CE._B(i):e||(u=CE.gB()),e||(e="https://validate.theoplayer.com/1/"+u.tC),s=this.EB(),!u){t.next=14;break}if((o=this.mB.wC(u))!==xb.JD){t.next=14;break}if(!this.SB(u.rC)||!this.SB(null==s?void 0:s.rC)){t.next=13;break}return t.next=10,this.RB(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.mB.wC(s)!==xb.JD){t.next=24;break}if(!this.SB(null==s?void 0:s.rC)){t.next=23;break}return t.next=20,this.RB(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",s);case 24:OE.Ko("THEOplayer.license");case 25:return t.next=27,CE.lB(e,this.Sb);case 27:if(!(c=t.sent)){t.next=37;break}if(f=CE._B(c),this.mB.wC(f)!==xb.JD){t.next=34;break}return OE.Pa("THEOplayer.license",c),t.abrupt("return",f);case 34:OE.Ko("THEOplayer.license"),t.next=39;break;case 37:if(this.cC||!u||o!==xb.$D||e!=="https://validate.theoplayer.com/1/"+u.tC){t.next=39;break}return t.abrupt("return",CE.convertLicenseToDummyLicense(u));case 39:if(!u&&!f){t.next=43;break}this.IB(null!=(v=u)?v:f,new So(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new So(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lC=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.YC.iO();case 2:if(i=t.sent,!this.SB(i.rC)){t.next=9;break}return e=null!=(r=this.pB.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.tC,t.next=7,this.RB(e);case 7:(u=t.sent)&&(this.YC.TB(u),i=u);case 9:if(t.prev=9,(s=this.mB.wC(i))!==xb.KD){t.next=16;break}throw o=Lb.hC,new So(Fb(o),Gb.gC(o));case 16:if(s!==xb.$D){t.next=19;break}throw h=Lb.$D,new So(Fb(h),Gb.gC(h));case 19:this.mB.lC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.NB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.RB=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,CE.lB(n,this.Sb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=CE._B(i),this.mB.wC(r)!==xb.JD){t.next=11;break}return OE.Pa("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.SB=function(t){return!t||Number(new Date)+2592e5+PE>=t},i.EB=function(){var t=OE.Zo("THEOplayer.license");if(t)return CE._B(t)},i.IB=function(t,n){this.YC.TB(t),this.NB(n)},i.NB=function(t){throw _t(t.message),this.kB.uO(t.message),t},t}(),LE=function(){function t(){this.DB=void 0,this.CB=new Qs}var n=t.prototype;return n.TB=function(t){this.DB=t,this.CB.fh()},n.iO=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DB){t.next=2;break}return t.abrupt("return",T.resolve(this.DB));case 2:return t.next=4,this.CB.ah;case 4:return t.abrupt("return",this.DB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"OB",get:function(){return this.DB}}]),t}(),ME=function(t){function n(){return t.call(this,"sl")||this}return U(n,t),n.prototype.zd=function(){return new UE},n}(ld),UE=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(Ru);var FE,HE,VE={xB:void 0,PB:void 0,BB:void 0,LB:void 0,MB:void 0,UB:void 0,FB:void 0},XE="THEOplayer.textTrackStyle.",WE=function(t){function n(){var i;return(i=t.call(this)||this).HB=void 0,i.Wd=void 0,i.HB=n.VB(),i}return U(n,t),n.prototype.Nh=function(t){this.HB=_e({},this.HB,t),n.XB(this.HB),this.Ro(new ME)},n.VB=function(){var t=_e({},VE);return t.xB=OE.Zo(XE+"fontFamily")||t.xB,t.PB=OE.Zo(XE+"fontColor")||t.PB,t.BB=OE.Zo(XE+"fontSize")||t.BB,t.LB=OE.Zo(XE+"backgroundColor")||t.LB,t.MB=OE.Zo(XE+"windowColor")||t.MB,t.UB=OE.Zo(XE+"edgeStyle")||t.UB,t},n.XB=function(t){OE.Pa(XE+"fontFamily",t.xB||""),OE.Pa(XE+"fontColor",t.PB||""),OE.Pa(XE+"fontSize",t.BB||""),OE.Pa(XE+"backgroundColor",t.LB||""),OE.Pa(XE+"windowColor",t.MB||""),OE.Pa(XE+"edgeStyle",t.UB||"")},L(n,[{key:"WB",get:function(){return this.HB}},{key:"xB",get:function(){return this.HB.xB},set:function(t){this.Nh({xB:t})}},{key:"PB",get:function(){return this.HB.PB},set:function(t){this.Nh({PB:t})}},{key:"BB",get:function(){return this.HB.BB},set:function(t){this.Nh({BB:t})}},{key:"LB",get:function(){return this.HB.LB},set:function(t){this.Nh({LB:t})}},{key:"MB",get:function(){return this.HB.MB},set:function(t){this.Nh({MB:t})}},{key:"UB",get:function(){return this.HB.UB},set:function(t){this.Nh({UB:t})}},{key:"FB",get:function(){return this.HB.FB}},{key:"qd",get:function(){var t,n,i;return this.Wd||(this.Wd=(t=this,i={get fontFamily(){return t.xB},set fontFamily(n){t.xB=n},get fontColor(){return t.PB},set fontColor(n){t.PB=n},get fontSize(){return t.BB},set fontSize(n){t.BB=n},get backgroundColor(){return t.LB},set backgroundColor(n){t.LB=n},get windowColor(){return t.MB},set windowColor(n){t.MB=n},get edgeStyle(){return t.UB},set edgeStyle(n){t.UB=n},addEventListener:function(t,i){var r=Md(t,Ld);n.Io(r,i)},removeEventListener:function(t,i){var r=Md(t,Ld);n.Oo(r,i)}},n=new Su(i),t.Io(["sl"],function(t){return n.Ro(t.qd)}),i)),this.Wd}}]),n}(Eu),qE=function(t){function n(n,i){var r;(r=t.call(this)||this).qB=void 0,r.iA=void 0,r.sB=void 0,r.zB=void 0,r.Ud=void 0,r.WP=void 0,r.iB=void 0,r.GB=void 0,r.jB=void 0,r.yN=void 0,r.mB=void 0,r.QB=void 0,r.YB=void 0,r.wN=void 0,r.ZB=!1,r.Tw=!1,r.Ey=void 0,r.JB=!1,r.$B=void 0,r.KB=void 0,r.tL=void 0,r.nL=void 0,r.iL=void 0,r.rL=function(t){if(!r.JB){r.JB=!0;var n=r.qB,i=x_(t);r.sB.Nl=new _A(r.uy,i,t),wu(n.Nv())}},r.eL=function(t){r.Ro(t.qd)},r.uL=function(t){t.type!==Go.Ka&&t.type!==Go.$a&&r.Ro(t)};var e=Pd(i.uid);w(e)?r.Ey=X_++:r.Ey=e,r.iA=i;var u=b.Ud,s=new LE;r.zB=new hT("2.87.0",u,s),r.Ud=new JT(u,i.allowMixedContent),r.yN=new dE,r.mB=new Ub(i.isEmbeddable,"2.87.0",Ob()),r.iL=new BE(u,r.mB,r.zB,s,i,Ob()),r.iL.AB().catch(r.rL),r.QB=new NT(n),r.QB.Io("lO",r.eL),r.wN=new WE,r.WP=new yE,r.iB=new pE;var o=new lA(n,i,r.Ud,r.yN,r.QB,r.wN);r.yN.rT(o);var h=o;h=new kE(h,r.sL),h=new AE(h,r.rB),r.qB=h,r.sB=new N_(r.qB),r.sB.Do(r.uL),r.nL=new bE(en(r)),r.KB=new tE(r.sB,r.Ud,r.yN),r.GB=new fT(en(r)),r.YB=new LT(r.sB,i.allowNativeFullscreen),r.jB=new PA(r.YB),r.QB.Uh();var a=new Nr(r.QB,r.wN,1,[B_.kv]);return r.$B=new Dr(a),r.tL=new DE,r}U(n,t);var i=n.prototype;return i.SP=function(t){this.sB.O_=t,t||this.x_||this.Ww()},i.XP=function(t){this.sB.U_=t},i.oL=function(){$l(this,BA,this)},i.Bw=function(){this.sB.Bw()},i.Lw=function(){this.sB.Lw()},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.iL.lC(n).catch(this.rL),r=zE(n),t.next=5,this.sB.Fw(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ww=function(){this.Tw||(this.sB.Ww(),this.$B.Ww(),this.Tw=!0)},i.oN=function(){return this.jB.qN()===NA.FULLSCREEN},i.Gw=function(){this.sB.Gw()},i.jw=function(){this.sB.jw()},i.Qw=function(){return this.sB.Qw()},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sB.Mw();case 2:return t.next=4,this.sB.pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),this.tL.Nv(),this.Ud.Nv(),this.KB.Nv(),this.YB.Nv(),this.jB.Nv(),this.QB.Nv(),this.zB.Nv(),this.$B.Nv(),t.next=11,this.sB.Nv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"hL",get:function(){return this.yN}},{key:"Nw",get:function(){return this.ZB},set:function(t){this.ZB=t,this.sB.Nw=t}},{key:"aL",get:function(){return this.$B}},{key:"Cw",get:function(){return this.sB.Cw}},{key:"cL",get:function(){return this.tL}},{key:"fL",get:function(){return this.QB}},{key:"Pw",get:function(){return this.sB.Pw}},{key:"mw",get:function(){return this.nL}},{key:"vL",get:function(){return this.KB}},{key:"xw",get:function(){return this.sB.xw}},{key:"dL",get:function(){return this.wN}},{key:"Ow",get:function(){return this.sB.Ow}},{key:"iy",get:function(){return this.sB.iy}},{key:"sL",get:function(){return this.WP}},{key:"rB",get:function(){return this.iB}},{key:"I_",get:function(){return this.sB.I_},set:function(t){this.sB.I_=t}},{key:"ey",get:function(){return this.sB.ey},set:function(t){this.sB.ey=t}},{key:"ty",get:function(){return this.sB.ty}},{key:"N_",get:function(){return this.sB.N_}},{key:"uy",get:function(){return this.sB.uy}},{key:"D_",get:function(){return this.sB.D_}},{key:"Xo",get:function(){return this.sB.Xo}},{key:"C_",get:function(){return this.sB.C_}},{key:"O_",get:function(){return this.sB.O_},set:function(t){var n=Boolean(t);this.SP(n)}},{key:"x_",get:function(){return this.sB.x_}},{key:"P_",get:function(){return this.sB.P_},set:function(t){this.sB.P_=t}},{key:"wy",get:function(){return this.sB.wy}},{key:"yy",get:function(){return this.sB.yy},set:function(t){this.sB.yy=rA(t)}},{key:"Gl",get:function(){return this.sB.Gl}},{key:"my",get:function(){return this.sB.my}},{key:"B_",get:function(){return this.sB.B_}},{key:"Pl",get:function(){return this.Ey}},{key:"L_",get:function(){return this.sB.L_}},{key:"M_",get:function(){return this.sB.M_}},{key:"U_",get:function(){return this.sB.U_},set:function(t){var n=qt(Number(t),0,1)||0;this.XP(n)}}]),n}(nl);function zE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.lL=0]="lL",t[t._L=1]="_L"}(FE||(FE={})),function(t){t[t.gL=0]="gL"}(HE||(HE={}));var GE={};function jE(t,n){(GE[n]||(GE[n]=[])).push(t)}function QE(t,n){var i=t;if(GE[n])for(var r=0,e=GE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var YE=[];function ZE(t){YE.push(t)}var JE=t.CustomEvent;var $E=function(){try{var t=new JE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i},KE=function(){function t(t,n){var i=this;this.fI=void 0,this.wL=void 0,this.yL=!1,this.mL=function(t){i.wL.eO(t.error,i.I_)},this.kL=function(){i.wL.nO(i.pL),i.fI.removeEventListener("playing",i.kL),i.yL=!1},this.AL=function(){i.yL||(i.fI.addEventListener("playing",i.kL),i.yL=!0)},this.wL=n,this.fI=t,this.fI.addEventListener("error",this.mL),this.fI.addEventListener("sourcechange",this.AL),this.AL()}return t.prototype.pl=function(){},L(t,[{key:"I_",get:function(){var t=this.fI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"pL",get:function(){return this.fI.src||""}}]),t}();ZE(function(t){new KE(t.qd,t.zB)});var tS="theoplayer-stored-volume",nS="theoplayer-stored-mutedstate";jE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=OE.wB(tS);(void 0===e||w(e))&&(e=1);var u=OE.yB(nS)||!1;r.U_=e,r.O_=u}return r}U(n,t);var i=n.prototype;return i.SP=function(n){this.iA.persistVolume&&OE.Pa(nS,n),t.prototype.SP.call(this,n)},i.XP=function(n){this.iA.persistVolume&&OE.Pa(tS,n),t.prototype.XP.call(this,n)},n}(t)},FE._L);var iS=new(function(){function t(){this.bL=[],this.Wd=void 0}var n=t.prototype;return n.wl=function(t){return this.bL[t]},n.TL=function(t){this.bL.push(t),this.qd.push(t.qd)},n.Ih=function(t){var n=this.bL.indexOf(t);n<0||(Ke(this.bL,n),this.Wd&&Ke(this.Wd,n))},n.EL=function(t){for(var n=0,i=this.bL;n<i.length;n++){var r=i[n];if(r.Pl===t)return r}},L(t,[{key:"bl",get:function(){return this.bL.length}},{key:"qd",get:function(){return this.Wd||(this.Wd=function(t){for(var n=[],i=0;i<t.bl;i++)n[i]=t.wl(i).qd;return n.getPlayerByUID=function(n){var i=t.EL(n);return i&&i.qd},n}(this)),this.Wd}}]),t}());var rS,eS=function(t){function n(n){var i;return(i=t.call(this,Go.dc)||this).source=n,i}return U(n,t),n}(Ru),uS=function(t){function n(){var n;return(n=t.call(this)||this).aN=void 0,n.fN=void 0,n.dN=void 0,n.vN=void 0,n.aN=0,n.fN=!0,n.dN=!1,n.vN=1,n}U(n,t);var i=n.prototype;return i.Bw=function(){this.fN&&(this.fN=!1,this.Ro(new Cl(this.I_)),this.Ro(new Mp(this.I_)))},i.Lw=function(){this.fN||(this.fN=!0,this.Ro(new Ul(this.I_,this.ey)),this.Ro(new Dl(this.I_)))},i.pl=function(){this.aN=0,this.dN=!1,this.vN=1,this.Lw(),this.Ro(new Nl(this.aN))},i.Nv=function(){this.Co()},i.jw=function(){},i.Gw=function(){},L(n,[{key:"ey",get:function(){},set:function(t){}},{key:"I_",get:function(){return this.aN},set:function(t){this.dN&&this.aN===t||(this.aN=t,this.dN=!0,this.Ro(new Vl(this.I_)))}},{key:"x_",get:function(){return this.fN}},{key:"P_",get:function(){return this.vN},set:function(t){this.vN!==t&&(this.vN=t,this.Ro(new Ml(this.I_,this.P_)))}},{key:"Gl",get:function(){return cl.w_}},{key:"B_",get:function(){return this.dN}}]),n}(tl),sS=function(t){function n(){return t.call(this,Go.Wa)||this}return U(n,t),n}(Ru),oS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},hS={visibility:"hidden"},aS={visibility:"visible"},cS=function(){function t(t){var n,i=this;this.sI=void 0,this.fI=void 0,this.SL=!1,this.RL=void 0,this.IL=void 0,this.NL=function(t){i.SL=!1,i.RL=t.source&&t.source.poster,i.Nh()},this.TS=function(){i.SL=!0,i.jw()},this.fI=t,this._I(),this.sI=((n=Or&&Or.document&&Or.document.createElement("div")).className="theoplayer-poster",qr(oS,n),n),t.uy.appendChild(this.sI)}var n=t.prototype;return n.Nh=function(){var t=this.fI.x_,n=this.SL;this.uv?this.sI.style.backgroundImage='url("'+this.uv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.sI.style.backgroundImage="",t&&this.uv&&!n?this.Gw():this.jw()},n.Gw=function(){qr(hS,this.fI.uy),qr(aS,this.sI)},n.jw=function(){qr(hS,this.sI),qr(aS,this.fI.uy)},n._I=function(){this.fI.Io("sourcechange",this.NL),this.fI.Io("play",this.TS)},n.Nv=function(){this.fI.Oo("sourcechange",this.NL),this.fI.Oo("play",this.TS),Vr(this.sI)},L(t,[{key:"uv",get:function(){return void 0!==this.RL?this.RL:void 0!==this.IL?this.IL:void 0}},{key:"DL",set:function(t){this.IL=t,this.Nh()}}]),t}();function fS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).fI=void 0,e.CL=void 0,e.OL=void 0,e.xL=void 0,e.PL=void 0,e.$E=void 0,e.BL=void 0,e.LL=void 0,e.lI=void 0,e.dI=void 0,e.Wd=void 0,e.ML=function(t){t.type!==Go.rc&&e.LL.push(t)},e.CL=new t(i,r),e.OL=new uS,e.fI=e.CL,e.xL=new cS(en(e)),e.$E=new Ay,e.BL=!1,e.LL=[],e.lI=!0,e.dI=void 0,e._I(),e}U(i,n);var r=i.prototype;return r.Ub=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.$E.Ub(n,i).catch(fu));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.UL=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(i),this.CL.Do(this.ML),t.next=4,this.CL.Fw(n,i);case 4:this.CL.Bo(this.ML);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.FL=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Uw())&&!cb(n)&&this.Nw&&this.x_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.iA.mutedAutoplay,t.next=6,this.aL.HL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.VL(),t.abrupt("break",14);case 12:return(this.O_||i===Ol.ALL)&&(this.O_=!0,this.Bw()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Fw=function(t){var n=this,i=this.dI;i&&!cb(i)&&this.Ro(new Nl(0,0)),this.pl(),this.dI=t,wu(this.Ub(function(){var i=T.coroutine(le.mark(function i(r){return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return au(r),i.prev=1,i.next=4,n.UL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.dI=void 0,i.t0;case 10:return i.next=12,n.XL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.XL=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WL(this.CL),this.Ro(new eS(this.Uw())),t.next=4,this.FL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.yP=function(t){this.fI.I_=t},r.AP=function(){return this.CL.Xo},r.bP=function(){return this.CL.C_},r.Bw=function(){this.fI.Bw()},r.VL=function(){this.O_||this.Ww(),this.Bw()},r.Ww=function(){this.CL.Ww()},r.Lw=function(){this.fI.Lw()},r.Mw=function(){this.Fw(void 0)},r.Gw=function(){this.lI=!0,this.fI.Gw()},r.jw=function(){this.lI=!1,this.fI.jw()},r.oL=function(){this.CL.oL()},r.XP=function(t){this.CL.XP(t)},r.SP=function(t){this.CL.SP(t)},r.qL=function(t){this.PL=t,t.TL(this)},r.oN=function(){return this.CL.oN()},r.Uw=function(){return this.dI},r.Qw=function(){return this.CL.Qw()},r.wP=function(){return this.CL.I_},r.mP=function(){return this.CL.N_},r.dP=function(){return this.CL.iy},r.CP=function(){return this.CL.wy},r.BP=function(){return this.CL.my},r.pl=function(){var t=this;this.dI=void 0,iu(this.LL),this.OL.pl(),this.WL(this.OL),this.$E.mo(),wu(this.$E.Ub(function(){var n=T.coroutine(le.mark(function n(i){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return au(i),n.next=3,t.CL.pl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Nv=function(){var t=this;this.Ro(new sS),this.xL.Nv(),this.gI(),this.pl(),wu(this.Ub(T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.CL.Nv();case 2:t.PL&&(t.PL.Ih(t),t.PL=void 0),t.$E.Nv();case 4:case"end":return n.stop()}},n)})))),this.Co()},r.WL=function(t){if(this.fI!==t){var n=this.fI.x_,i=this.fI.I_,r=this.fI.P_,e=this.fI.B_;this.gI(),t===this.CL?((e||t.I_!==i)&&(t.I_=i),t.P_!==r&&(t.P_=r),n?t.Lw():t.Bw()):this.iA.retainPlaybackRateOnSourceChange?t.P_=r:1!==r&&this.Ro(new Ml(this.wP(),1)),this.fI=t,this._I();for(var u=0,s=this.LL;u<s.length;u++){var o=s[u];this.Ro(o)}iu(this.LL),this.lI?t.Gw():t.jw()}},r._I=function(){this.fI.Do(this.So)},r.gI=function(){this.fI.Bo(this.So)},r.zd=function(){return t=this,r=function(n){i=n;var r=kb(n,t.iA);t.Fw(r)},e={get abr(){return t.hL.qd},get audioTracks(){return t.Cw.qd},get autoplay(){return t.Nw},set autoplay(n){t.Nw=Boolean(n)},get buffered(){return t.dP()},get canvas(){return t.GB.qd},get clip(){return t.sL.qd},get currentProgramDateTime(){var n;return null!=(n=t.ey)?n:null},set currentProgramDateTime(n){t.ey=null!=n?n:void 0},get currentTime(){return t.wP()},set currentTime(n){t.yP(Number(n))},get duration(){return t.mP()},get element(){return t.uy},get ended(){return t.D_},get error(){return t.AP()},get errorObject(){return t.bP()},get loop(){return t.rB.rB},set loop(n){t.rB.rB=Boolean(n)},get metrics(){return t.mw.qd},get muted(){return t.O_},set muted(n){t.SP(n)},get network(){return t.vL.qd},get paused(){return t.x_},get playbackRate(){return t.P_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.P_=i},get played(){return t.CP()},get poster(){return t.zL},set poster(n){t.zL=Ld(n)},get preload(){return t.yy},set preload(n){t.yy=n},get presentation(){return t.jB.qd},get readyState(){return t.Gl},get seekable(){return t.BP()},get seeking(){return t.B_},get source(){return i},set source(t){r(t)},get src(){return fb(t.Uw())},set src(t){r({sources:t})},get textTracks(){return t.xw.qd},get textTrackStyle(){return t.dL.qd},get uid(){return t.Pl},get videoHeight(){return t.L_},get videoTracks(){return t.Ow.qd},get videoWidth(){return t.M_},get volume(){return t.U_},set volume(n){t.XP(Number(n))},destroy:function(){t.Nv(),t=null,i=void 0},play:function(){t.VL()},pause:function(){t.Lw()},stop:function(){i=void 0,t.Mw()},prepareWithUserAction:function(){t.Ww()},addEventListener:function(t,i){n.Io(t,i)},removeEventListener:function(t,i){n.Oo(t,i)},setSource:function(t){r(t)}},(n=new OA(e,!0)).DN(t),e;var t,n,i,r,e},L(i,[{key:"zB",get:function(){return this.CL.zB}},{key:"GB",get:function(){return this.CL.GB}},{key:"iA",get:function(){return this.CL.iA}},{key:"qB",get:function(){return this.CL.qB}},{key:"Ud",get:function(){return this.CL.Ud}},{key:"CR",get:function(){return this.CL.YB}},{key:"jB",get:function(){return this.CL.jB}},{key:"QB",get:function(){return this.CL.QB}},{key:"sB",get:function(){return this.CL.sB}},{key:"hL",get:function(){return this.CL.hL}},{key:"Nw",get:function(){return this.CL.Nw},set:function(t){this.CL.Nw=t,this.FL()}},{key:"aL",get:function(){return this.CL.aL}},{key:"Cw",get:function(){return this.CL.Cw}},{key:"cL",get:function(){return this.CL.cL}},{key:"fL",get:function(){return this.CL.QB}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"Pw",get:function(){return this.CL.Pw}},{key:"mw",get:function(){return this.CL.mw}},{key:"vL",get:function(){return this.CL.vL}},{key:"xw",get:function(){return this.CL.xw}},{key:"dL",get:function(){return this.CL.dL}},{key:"Ow",get:function(){return this.CL.Ow}},{key:"sL",get:function(){return this.CL.sL}},{key:"rB",get:function(){return this.CL.rB}},{key:"ey",get:function(){return this.fI.ey},set:function(t){this.fI.ey=t}},{key:"ty",get:function(){return this.CL.ty}},{key:"uy",get:function(){return this.CL.uy}},{key:"D_",get:function(){return this.CL.D_}},{key:"O_",get:function(){return this.CL.O_},set:function(t){this.CL.O_=t}},{key:"x_",get:function(){return this.fI.x_}},{key:"zL",get:function(){return this.xL.uv||""},set:function(t){this.xL.DL=t}},{key:"P_",get:function(){return this.CL.P_},set:function(t){this.fI.P_=t}},{key:"yy",get:function(){return this.CL.yy},set:function(t){this.CL.yy=rA(t)}},{key:"Gl",get:function(){return this.fI.Gl}},{key:"B_",get:function(){return this.fI.B_}},{key:"Pl",get:function(){return this.CL.Pl}},{key:"L_",get:function(){return this.CL.L_}},{key:"M_",get:function(){return this.CL.M_}},{key:"U_",get:function(){return this.CL.U_},set:function(t){this.CL.U_=t}}]),i}(nl)}function vS(t,n){var i=Yl(n),r=new(rS||(rS=QE(rS=fS(qE),FE.lL),rS=QE(rS,FE._L)),rS)(t,i),e=r.qd;return r.oL(),r.qL(iS),d.defineProperty(e,"constructor",{value:vS}),e=Sd(e),function(t){for(var n=0;n<YE.length;n++)(0,YE[n])(t)}(r),e}gu(function(){t.dispatchEvent&&t.dispatchEvent($E("theoplayerready"))});var dS,lS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return qu(t)},n.decode=function(t){return Xu(t)},t}())},_S=iS.qd,gS=Yy.tT.registerContentProtectionIntegration.bind(Yy.tT),wS=(Go.nc,Go.tc,Il.R_,Go.lc,Go.ic,Go.Ya,Go.oc,Go.sc,Go.Ga,Go.rc,Go._c,Go.qa,Il.ol,Go.uc,zd.Wl,Tu.Wo,Tu.zo,{GL:!1,jL:50}),yS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.MD="QL"}(dS||(dS={}));var mS,kS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).ha=void 0,e.ZE=void 0,e.ka=void 0,e.YL=!1,e.ZL=new Qs,e.$E=new Ay,e.io=void 0,e.Bh=void 0,e.JL=function(){e.$L(!0)},e.ha=n,e.ZE=i,e.ka=i.mR,e.io=r;for(var u=0;u<yS.length;u++){var s=yS[u];e.ka.addEventListener(s,e.JL)}return e}U(i,t);var r=i.prototype;return r.hS=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.io.uo(n.Zs,i);case 2:return r=t.sent,t.next=5,r.Xh();case 5:return e=t.sent,t.next=8,this.KL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.vo=function(){var t=T.coroutine(le.mark(function t(){var n,i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Co(),n=0;n<yS.length;n++)i=yS[n],this.ka.removeEventListener(i,this.JL);return t.next=4,this.$E.Nv();case 4:return t.next=6,this.tM();case 6:return t.next=8,this.KL(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.$L=function(t){t!==this.YL&&(this.YL=t,t?this.ZL.fh(void 0):this.ZL=new Qs)},r.KL=function(t){var n=this;return this.$E.Ub(function(){return n.nM(t)})},r.nM=function(){var t=T.coroutine(le.mark(function t(i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.ka.src){t.next=4;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.ka.src){t.next=6;break}throw new D_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.YL){t.next=9;break}return t.next=9,this.ZL.ah;case 9:if(!(r=this.Bh)){t.next=14;break}return t.next=13,r.Fh(this.ka);case 13:this.Bh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Uh(this.ka);case 17:this.Bh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Fw=function(t){var n=this;return this.$E.Ub(function(){return n.iM(t)})},r.iM=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$L(!1),i=this.ZE.P_,this.ka.src=n,this.ZE.P_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Rh=function(){var t=this;return this.$E.Ub(function(){return t.Ed()})},r.Ed=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.ka.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.tM=function(){var t=this;return this.$E.Ub(function(){return t.rM()})},r.rM=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$L(!1),Qr(this.ka);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"Cw",get:function(){throw new f("Not implemented")}},{key:"iA",get:function(){return this.ha}},{key:"mR",get:function(){return this.ka}},{key:"Ow",get:function(){throw new f("Not implemented")}}]),i}(Eu),pS=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.rT=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.iA,t.t0=n.bR,t.next=t.t0===sl.f_?4:t.t0===sl.v_?4:(t.t0,sl.d_,6);break;case 4:return this.ka.setAttribute("crossorigin",n.bR),t.abrupt("break",8);case 6:return this.ka.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.yy?this.ka.preload=n.yy:this.ka.preload=nA.zS,void 0!==n.TR?this.ka.title=n.TR:Gr(this.ka),t.next=12,this.Fw(n.Yl);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vo=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Gr(this.ka),n.next=3,t.prototype.vo.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.eM=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Ff))},L(n,[{key:"iy",get:function(){return aA.iN(this.ka.buffered)}},{key:"N_",get:function(){return this.ka.duration}},{key:"uM",get:function(){var t=this.N_;if(!isFinite(t))return!1;var n=this.iy;return 0!==n.bl&&t-n.bI(n.bl-1)<1/6}},{key:"yy",get:function(){return this.ka.preload},set:function(t){this.ka.preload=t}},{key:"my",get:function(){return aA.iN(this.ka.seekable)}},{key:"sM",get:function(){return this.iy}},{key:"oM",get:function(){if(jr(this.ka)&&(this.ka.videoWidth>0||this.ka.videoHeight>0))return this.iy}}]),n}(kS),AS=function(t){function n(n){var i;return(i=t.call(this,Go.ic)||this).currentTime=n,i}return U(n,t),n}(Ru),bS=function(t){function n(){return t.call(this,Go.Ya)||this}return U(n,t),n}(Ru);!function(t){t.hM="aM"}(mS||(mS={}));var TS,ES;mS.hM;!function(t){t[t.cM=0]="cM",t[t.pc=1]="pc",t[t.fM=2]="fM"}(TS||(TS={})),function(t){t.vM="dM"}(ES||(ES={}));var SS=function(t){function n(n){var i;return(i=t.call(this,ES.vM)||this).lM=n,i}return U(n,t),n}(Ru),RS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._M=aA.uN(),n}U(n,t);var i=n.prototype;return i.gM=function(t,n){var i=new aA([t,n]);this._M=this._M.VI(i),this.Ro(new SS(i))},i.wM=function(t,n){this._M=this._M.WI(new aA([t,n]))},i.pl=function(){this._M=aA.uN()},i.Nv=function(){this.Co()},L(n,[{key:"yM",get:function(){return this._M}}]),n}(Eu),IS=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.mM=function(t,n,i){return T.reject(new f("Invalid state"))},i.kM=function(){return T.reject(new f("Invalid state"))},i.pM=function(t,n){return T.reject(new f("Invalid state"))},i.uM=function(){return!1},i.AM=function(){},i.bM=function(t,n){},i.TM=function(t,n){},i.Ih=function(t,n,i){return T.resolve()},i.EM=function(t,n){return T.reject(new f("Invalid state"))},i.SM=function(t){},i.RM=function(t){},i.IM=function(t){return!1},i.NM=function(t){},i.Nv=function(){return T.resolve()},L(n,[{key:"iy",get:function(){return aA.uN()}},{key:"DM",get:function(){return!1}},{key:"CM",get:function(){return aA.uN()}},{key:"OM",get:function(){return!1}},{key:"$O",get:function(){return!1}}]),n}(Eu),NS=function(){function t(t,n){this.xM=void 0,this.PM=void 0,this.BM=void 0,this.xM=n,this.PM=t}var n=t.prototype;return n.uM=function(){return!!this.BM&&this.iy.NI().MR(this.BM)},n.AM=function(){var t=this.iy;this.BM=t.bl>0?t.bI(t.bl-1):0,this.xM.LM()},L(t,[{key:"iy",get:function(){if(this.xM.Gl===QS.MM)return aA.uN();var t=aA.iN(this.PM.buffered).BI(new aA([0,1/0])),n=this.BM;return void 0!==n&&t.bl>0&&t.bI(t.bl-1)===n&&(t=t.VI(aA.eN(n))),t}}]),t}(),DS="QuotaExceededError";function CS(t){return t&&t.name===DS}function OS(t,n){return void 0===n&&(n=new Vc({highWaterMark:1/0})),new Oc(new xS(t,n),{highWaterMark:0})}var xS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Oc=void 0,this.UM=void 0,this.FM=void 0,this.Fn=[],this.Xc=0,this.CB=void 0,this.HM=!1,this.VM=void 0,this.XM=function(t){return t.done?(i.Xn(),void i.CB.close()):(i.Fn.push(t.value),i.Xc+=i.UM(t.value),i.HM&&i.Xn(),i.WM()?i.Oc.read().then(i.XM):void 0)},this.fd=function(t){i.Xn(),i.CB.error(t)},this.Oc=t.getReader(),this.UM=e,this.FM=s}var n=t.prototype;return n.start=function(t){this.CB=t,this.WM()&&this.qM()},n.pull=function(){this.Fn.length>0?this.Xn():this.HM=!0,this.WM()&&this.qM()},n.cancel=function(t){return iu(this.Fn),this.Xc=0,this.HM=!1,this.Oc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.Xc=0,this.HM=!1,this.CB.enqueue(t)}},n.WM=function(){return!!this.HM||this.FM-this.Xc>0},n.qM=function(){var t=this;if(!this.VM){var n=this.Oc.read().then(this.XM).catch(this.fd);this.VM=n;var i=function(){t.VM===n&&(t.VM=void 0)};n.then(i,i)}},t}(),PS=20,BS=Q.Oe,LS=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ZE=void 0,u.zM=void 0,u.GM=void 0,u.PM=void 0,u.nP=PS,u.iP=nE,u.jM=!1,u.QM=!1,u.YM=void 0,u.ZM=new su,u.JM=!1,u.$M=void 0,u.KM=function(){u.jM=!1},u.ZE=n,u.zM=r,u.GM=i,u.PM=e,u.PM.addEventListener("updateend",u.KM),u}U(n,t);var i=n.prototype;return i.mM=function(t,n,i){var r=this;switch(t.Ys){case TS.cM:case TS.pc:return this.tU(function(i){return r.nU(t,n,i)},i);case TS.fM:throw new f("Opaque segments are not supported on web.")}},i.pM=function(t,n){var i=this;switch(t.Ys){case TS.cM:return this.tU(function(n){return i.iU(t,n)},n);case TS.pc:throw new f("Streaming initialization segments are not supported on web.");case TS.fM:throw new f("Opaque initialization segments are not supported on web.")}},i.iU=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rU(n.bu,void 0,i);case 2:BS&&(this.JM=!1,this.$M=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nU=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(BS&&this.JM&&this.$M)){t.next=3;break}return t.next=3,this.iU(this.$M,r);case 3:return t.prev=3,au(r),t.next=7,this.rU(n.bu,i,r);case 7:this.Ro(new Ru(mS.hM));case 8:return t.prev=8,n.Ys===TS.pc&&n.bu.cancel(new ou).catch(S),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rU=function(t,n,i){return this.eU(t,n,i)},i.eU=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),t.next=3,this.uU(this.ZE.I_,null==i?void 0:i.sU,null==i?void 0:i.N_);case 3:if(au(r),!(n instanceof Oc)){t.next=9;break}return t.next=7,this.oU(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.hU(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.oU=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=of(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.aU(n,i,r);case 8:return e.cancel(new ou).catch(S),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!CS(t.t0)){t.next=21;break}return t.next=17,this.uU(this.ZE.I_,i?i.sU:void 0,i?i.N_:void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(S),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.aU=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c,f;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.GM.iy,u=OS(n),s=u.getReader(),o=!1,t.prev=4,i&&this.cU(i);case 6:return t.next=9,vu(s.read(),r);case 9:if(!(h=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return au(r),a=Qu(h.value),o=!0,t.next=18,this.fU(a);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(S),!o){t.next=36;break}return t.next=28,this.vU();case 28:c=this.GM.iy.BI(e.LI()),f=0;case 30:if(!(f<c.bl)){t.next=36;break}return t.next=33,this.dU(c.pI(f),c.bI(f));case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.hU=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,au(r),i&&this.cU(i),t.next=6,this.fU(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!CS(t.t0)){t.next=17;break}return t.next=14,this.uU(this.ZE.I_,i?i.sU:void 0,i?i.N_:void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.EM=function(t,n){var i=this;return this.tU(function(){return i.lU(t,n)})},i.lU=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.PM.appendWindowStart===n&&this.PM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.vU();case 3:this.PM.appendWindowStart=0,this.PM.appendWindowEnd=i,this.PM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cU=function(t){this.PM.timestampOffset!==t.gm&&(this.PM.timestampOffset=t.gm)},i.fU=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.PM.appendBuffer(n),this.QM=!0,t.next=4,this._U();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.uU=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u,s,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=eE(n,i,r,this.GM.iy,this.nP,this.iP),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],h=o[0],a=o[1],t.next=6,this.dU(h,a,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.gU=function(t,n,i){var r=this;return this.tU(function(i){return r.dU(t,n,i)},i)},i.dU=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),this.PM.remove(n,i),t.next=4,this._U();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i._U=function(){var t=this,n=this.GM.iy;return new T(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},h=function(){u=!1,e="aborted"},a=function(){c(),u&&!e?(n.YI(t.GM.iy)||t.Ro(new Ru(mS.hM)),i()):r(new f(e))},c=function(){t.PM.removeEventListener("update",s),t.PM.removeEventListener("error",o),t.PM.removeEventListener("abort",h),t.PM.removeEventListener("updateend",a)};t.PM.addEventListener("update",s),t.PM.addEventListener("error",o),t.PM.addEventListener("abort",h),t.PM.addEventListener("updateend",a)})},i.wU=function(){var t=this;return this.tU(function(){return t.vU()})},i.vU=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zM.Gl===QS.Mv){t.next=2;break}return t.abrupt("return");case 2:BS&&(this.JM=!0),this.PM.updating&&(this.jM=!0);try{this.PM.abort()}catch(t){0,this.jM=!1}if(!this.$O){t.next=8;break}return t.next=8,this._U().catch(S);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.IM=function(t){return!!MediaSource.isTypeSupported(t)&&"function"==typeof this.PM.changeType},i.NM=function(t){this.yU(),this.zM.Gl!==QS.MM&&this.PM.changeType&&this.PM.changeType(t)},i.tU=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yU(),(r=new su).ko(this.ZM.Ao),i&&r.ko(i),t.prev=4,this.YM=n(r.Ao),t.next=8,this.YM;case 8:if(this.zM.mU(),!this.$O){t.next=12;break}return t.next=12,this._U();case 12:return t.prev=12,this.YM=void 0,r.vo(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.yU=function(){if(this.YM)throw new f("Internal error")},i.vo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Co(),this.ZM.mo(),!this.YM){t.next=6;break}return t.next=5,this.YM.catch(S);case 5:this.YM=void 0;case 6:this.PM.removeEventListener("updateend",this.KM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"OM",get:function(){return this.QM}},{key:"Qx",get:function(){return this.nP},set:function(t){this.nP=t}},{key:"$x",set:function(t){this.iP=t}},{key:"$O",get:function(){return this.jM||this.PM.updating}}]),n}(Eu);function MS(t,n,i,r,e){var u=new NS(t,n),s=new LS(r,u,n,t);return new US(u,s,e)}var US=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).GM=n,e.kU=i,e.pU=r,e.kU.Io(mS.hM,e.So),e}U(n,t);var i=n.prototype;return i.uM=function(){return this.GM.uM()},i.AM=function(){this.GM.AM()},i.bM=function(t,n){this.pU.gM(t,n)},i.TM=function(t,n){this.pU.wM(t,n)},i.kM=function(){return this.kU.wU()},i.mM=function(t,n,i){return this.kU.mM(t,n,i)},i.pM=function(t,n){return this.kU.pM(t,n)},i.Ih=function(t,n,i){return this.TM(t,n),this.kU.gU(t,n,i)},i.EM=function(t,n){return this.kU.EM(t,n)},i.SM=function(t){this.kU.Qx=t},i.RM=function(t){this.kU.$x=t},i.IM=function(t){return this.kU.IM(t)},i.NM=function(t){this.kU.NM(t)},i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kU.Oo(mS.hM,this.So),t.next=3,this.kU.vo();case 3:this.pU.Nv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"iy",get:function(){return this.GM.iy}},{key:"DM",get:function(){return!0}},{key:"CM",get:function(){return this.pU.yM}},{key:"OM",get:function(){return this.kU.OM}},{key:"$O",get:function(){return this.kU.$O}}]),n}(Eu),FS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).zM=void 0,s.ha=void 0,s.AU=void 0,s.ZE=void 0,s.ua=void 0,s.pU=void 0,s.PM=void 0,s.xc=void 0,s.nP=void 0,s.iP=void 0,s.zM=n,s.ha=r,s.ua=r.Ff,s.AU=e,s.ZE=i,s.xc=new IS,s.xc.Io(mS.hM,s.So),s.nP=PS,s.iP=nE,s.pU=u,s}U(n,t);var i=n.prototype;return i.uM=function(){return this.xc.uM()},i.AM=function(){return this.xc.AM()},i.bM=function(t,n){this.xc.bM(t,n)},i.TM=function(t,n){this.xc.TM(t,n)},i.kM=function(){return this.xc.kM()},i.mM=function(t,n,i){return this.xc.mM(t,n,i)},i.pM=function(t,n){return this.xc.pM(t,n)},i.EM=function(t,n){return this.xc.EM(t,n)},i.Ih=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xc.Ih(n,i,r);case 2:(Q.Ve||Q.Ee)&&this.ZE.rh(this.ZE.I_);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Iy=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.DM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.gb(i);case 5:t.next=9;break;case 7:return t.next=9,this.wb(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gb=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,au(n),HS(this.PM,!0),t.next=5,this.bU(this.PM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),au(n),t.next=12,this.zM.TU(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.wb=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.PM,t.prev=1,au(n),t.next=5,this.pl();case 5:HS(i,!1),this.PM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),au(n),t.next=14,this.zM.EU(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.xc).Oo(mS.hM,this.So),t.next=4,i.Nv();case 4:this.xc=n,this.xc.SM(this.nP),this.xc.RM(this.iP),this.xc.Io(mS.hM,this.So);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bU=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.PM=n,t.next=3,this.setState(MS(n,this.zM,this.AU,this.ZE,this.pU));case 3:this.Ro(new Ru("Ol"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.SU=function(t){var n=t.Ff;if(this.ua!==n){if(!MediaSource.isTypeSupported(n))return!1;if(!this.xc.IM(n)){if(this.AU!==B_.kv)return!1;var i=oo(this.ua),r=oo(n);if(i.Ys!==r.Ys)return!1;if(!function(t,n){var i=t.Gh("codecs"),r=n.Gh("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(i,r))return!1}}return!0},i.RU=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.Ff,this.ua!==i&&(this.xc.IM(i)&&this.xc.NM(i),this.ua=i),this.ha=n,this.zM.IU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pU.pl(),this.PM=void 0,t.next=4,this.setState(new IS);case 4:this.Ro(new Ru("NU"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Co(),t.next=4,this.pl();case 4:this.xc.Oo(mS.hM,this.So),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"iy",get:function(){return this.xc.iy}},{key:"iA",get:function(){return this.ha}},{key:"Ff",get:function(){return this.ua}},{key:"CM",get:function(){return this.xc.CM}},{key:"OM",get:function(){return this.xc.OM}},{key:"Qx",get:function(){return this.nP},set:function(t){this.nP=t,this.xc.SM(t)}},{key:"$x",set:function(t){this.iP=t,this.xc.RM(t)}},{key:"$O",get:function(){return this.xc.$O}},{key:"DM",get:function(){return this.xc.DM}}]),n}(Eu);function HS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new f("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var VS=100,XS=1e3,WS=1e4,qS=.01,zS=[Go.nc,Go.tc,Go.oc,Go.sc,Go.Ga,Go.rc,Il.ol,zd.Wl],GS=function(){function t(t,n){var i=this;this.lS=cl.w_,this.DU=!1,this.CU=[],this.OU=0,this.xU=0,this.PU=0,this.BU=0,this.LU=XS,this.MU=function(t){var n=i.ZE.I_;t.lM.MR(n)&&i.UU(n)},this.FU=I(function(){i.HU(Il.ol)},VS),this.VU=I(function(){i.HU(Go.ic)},VS),this.XU=function(){i.WU()?i.qU():i.zU()},this.GU=function(){var t=i.OU,n=i.xU,r=i.ZE.I_,e=b.os(),u=t!==r;if(u||!i.WU())return i.OU=r,i.xU=e,void(u&&(i.BU=0,i.LU=XS));if(n>0&&e>n+i.LU){var s=r+i.BU*qS;i.GM.iy.MR(s)&&(i.OU=s,i.xU=e,i.BU++,i.LU=l.max(2*i.LU,WS),i.ZE.rh(s))}},this.GM=t,this.ZE=n,this.ZE.Io(Il.ol,this.FU),this.ZE.Io(Go.ic,this.VU),this.ZE.Io(zS,this.XU)}var n=t.prototype;return n.jU=function(t){this.CU.push(t),t.Io(ES.vM,this.MU)},n.Nv=function(){var t=this;this.zU(),this.lS=cl.w_,this.ZE.Oo(Il.ol,this.FU),this.ZE.Oo(Go.ic,this.VU),this.ZE.Oo(zS,this.XU),this.CU.forEach(function(n){return n.Oo(ES.vM,t.MU)}),this.DU=!0},n.HU=function(t){if(!this.DU){var n=this.ZE.Gl;if(n<=cl.m_){var i=this.ZE.I_,r=this.GM.iy,e=r.qI(i),u=r.bI(e);-1!==e&&(t===Il.ol&&n<this.lS||t===Go.ic&&n===this.lS)&&u<i+.5&&(i=u),this.UU(i)}t===Il.ol&&(this.lS=n)}},n.UU=function(t){if(!this.ZE.D_){var n=this.yM.WI(this.GM.iy).NI(),i=n.qI(t);if(-1!==i)l.abs(n.pI(i)-n.bI(i))<=.001||this.ZE.rh(n.bI(i))}},n.qU=function(){0===this.PU&&(this.PU=b.gs(this.GU,250))},n.zU=function(){0!==this.PU&&(b.ys(this.PU),this.PU=0),this.xU=0},n.WU=function(){return!this.ZE.x_&&!this.ZE.B_&&0!==this.ZE.P_&&!this.ZE.D_&&!this.ZE.Xo&&this.ZE.Gl>=cl.k_},L(t,[{key:"yM",get:function(){return this.CU.reduce(function(t,n){return t.VI(n.yM)},aA.uN())}}]),t}();function jS(t){var n=[];if(t.QU&&t.QU.DM&&n.push(t.QU.iy),t.YU&&t.YU.DM&&n.push(t.YU.iy),0===n.length)return aA.uN();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.bl>0&&(i=l.max(i,e.bI(e.bl-1)))}for(var u=t.uM,s=new aA([0,i],[!0,u]),o=0;o<n.length;o++){var h=n[o];u&&h.bl>0&&(h=h.VI(new aA([h.bI(h.bl-1),i],[!0,!0]))),s=s.BI(h)}return s}var QS,YS=Q.Se||Q.Re,ZS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.ZU=void 0,this.cb=t,this.fb=n,this.JU=i,this.$U=r,this.ZU=$b()}return t.prototype.KU=function(){var t=this.cb,n=this.fb;if(this.JU||this.$U){var i=.001*($b()-this.ZU);this.JU&&(t+=i),this.$U&&(n+=i)}return t>=n?aA.uN():new aA([t,n])},L(t,[{key:"tF",get:function(){return this.JU}},{key:"nF",get:function(){return this.$U}}]),t}();!function(t){t.MM="closed",t.Mv="open",t.Ga="ended"}(QS||(QS={}));var JS=function(){function t(){}return t.prototype.iF=function(){return new MediaSource},t}(),$S=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new JS),(u=t.call(this,n,i,r)||this).rF=void 0,u.eF=void 0,u.uF=void 0,u.sF=new ZS(0,1/0),u.JE=void 0,u.oF=void 0,u.hF=void 0,u.aF=!1,u.cF=function(){u.fF()},u.vF=function(){u.ZE.vF()},u.rF=e,u.JE=u.rF.iF(),u.ZE.Io(Go.oc,u.cF),u.hF=new GS(en(u),u.ZE),u}U(n,t);var i=n.prototype;return i.dF=function(t){if(w(t)||t<0)throw new f("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.JE.setLiveSeekableRange){var r=l.pow(2,39);this.JE.setLiveSeekableRange(0,r)}this.lF()?this.JE.duration=i:this.oF=i},i._F=function(t,n,i,r){this.sF=new ZS(t,n,!!i,!!r)},i.rT=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ze(this.ha.gF,function(t){return mr(t.Ff,"audio")}),i=Ze(this.ha.gF,function(t){return mr(t.Ff,"video")}),n&&(r=new RS,this.hF.jU(r),this.eF=new FS(this,this.ZE,n,B_.mv,r),this.eF.Io(mS.hM,this.vF)),i&&(e=new RS,this.hF.jU(e),this.uF=new FS(this,this.ZE,i,B_.kv,e),this.uF.Io(mS.hM,this.vF)),t.next=6,this.wF();case 6:if(!this.eF){t.next=12;break}return t.next=9,this.yF(this.eF.Ff);case 9:return u=t.sent,t.next=12,this.eF.bU(u);case 12:if(!this.uF){t.next=18;break}return t.next=15,this.yF(this.uF.Ff);case 15:return s=t.sent,t.next=18,this.uF.bU(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wF=function(){var n=T.coroutine(le.mark(function n(){var i;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.JE),n.next=3,t.prototype.Fw.call(this,i);case 3:return n.next=5,t.prototype.Rh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.yF=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Gl===QS.Mv){t.next=3;break}return t.next=3,cd(this.JE,"sourceopen");case 3:if(!(this.eF&&this.eF.OM||this.uF&&this.uF.OM)){t.next=6;break}throw new f("mF");case 6:return t.abrupt("return",this.JE.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lF=function(){if(this.Gl!==QS.Mv)return!1;var t=this.eF&&this.eF.$O,n=this.uF&&this.uF.$O;return!(t||n)},i.AM=function(){this.aF=!0,this.eF&&this.eF.AM(),this.uF&&this.uF.AM(),this.aF=!1,this.fF()},i.SU=function(t){var n=Ze(t.gF,function(t){return mr(t.Ff,"audio")}),i=Ze(t.gF,function(t){return mr(t.Ff,"video")});if(this.eF){if(!n)return!1;if(!this.eF.SU(n))return!1}else if(n)return!1;if(this.uF){if(!i)return!1;if(!this.uF.SU(i))return!1}else if(i)return!1;return!0},i.RU=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ze(n.gF,function(t){return mr(t.Ff,"audio")}),r=Ze(n.gF,function(t){return mr(t.Ff,"video")}),e=[],this.eF&&e.push(this.eF.RU(i)),this.uF&&e.push(this.uF.RU(r)),t.next=7,T.all(e);case 7:this.ha=n;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.vo=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.eF){n.next=4;break}return n.next=3,this.eF.vo();case 3:this.eF=void 0;case 4:if(!this.uF){n.next=8;break}return n.next=7,this.uF.vo();case 7:this.uF=void 0;case 8:return this.ka.src&&URL.revokeObjectURL(this.ka.src),this.ZE.Oo(Go.oc,this.cF),this.hF.Nv(),n.next=13,t.prototype.vo.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.IU=function(){var t=this,n=this.ha,i=n.gF.map(function(n){return mr(n.Ff,"audio")&&t.eF?t.eF.iA:mr(n.Ff,"video")&&t.uF?t.uF.iA:n});this.ha=_e({},n,{gF:i})},i.LM=function(){this.aF||this.fF()},i.fF=function(){this.kF&&this.lF()&&(this.JE.endOfStream(),this.oF=void 0,this.Ro(new Ru(dS.MD)),this.ZE.vF())},i.TU=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.yF(n.Ff);case 3:return i=t.sent,t.next=6,n.bU(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.pF).push(n),t.next=14,this.AF(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.EU=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Q.De){t.next=3;break}throw new f("Not supported in Firefox");case 3:this.JE.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.pF.filter(function(t){return t!==n}),t.next=11,this.AF(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.AF=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.ZE.bF(),i=0,r=this.pF;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.pl();case 7:i++,t.next=2;break;case 10:return this.JE=this.rF.iF(),t.next=13,this.wF();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.yF(s.Ff);case 18:return o=t.sent,t.next=21,s.bU(o);case 21:u++,t.next=14;break;case 24:this.ZE.TF();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mU=function(){this.lF()&&(this.uM?this.fF():void 0!==this.oF&&(this.JE.duration=this.oF,this.oF=void 0))},n.eM=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.gF;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.Ff))return!1}return!0},L(n,[{key:"QU",get:function(){return this.eF}},{key:"YU",get:function(){return this.uF}},{key:"pF",get:function(){var t=[];return this.eF&&this.eF.DM&&t.push(this.eF),this.uF&&this.uF.DM&&t.push(this.uF),t}},{key:"N_",get:function(){if(this.oF)return this.oF;var t=this.JE.duration;return 9007199254740991===t?1/0:t}},{key:"iy",get:function(){return YS?jS(this):(t=this,n=aA.iN(this.ka.buffered),(i=n).bl>0&&t.uM&&(i=i.VI(aA.eN(i.bI(i.bl-1)))),i);var t,n,i}},{key:"sM",get:function(){if(this.eF&&this.eF.DM)return this.eF.iy}},{key:"oM",get:function(){if(this.uF&&this.uF.DM)return this.uF.iy}},{key:"my",get:function(){return this.sF.KU().BI(new aA([0,this.N_],[!0,!0]))}},{key:"uM",get:function(){return(!this.eF||!this.eF.DM||this.eF.uM())&&(!this.uF||!this.uF.DM||this.uF.uM())}},{key:"Gl",get:function(){return this.JE.readyState}},{key:"kF",get:function(){if(!this.uM)return!1;var t=this.iy;return 0!==t.bl&&t.pI(t.bl-1)<=this.ZE.I_}}]),n}(kS),KS=function(t){function n(n,i,r,e,u,s,o,h){var a;return(a=t.call(this)||this).aN=n,a.EF=i,a.SF=r,a.fN=e,a.dN=u,a.cN=s,a.vN=o,a.lN=h,a}U(n,t);var i=n.prototype;return i.Lw=function(){this.fN||(this.fN=!0,this.Ro(new Dl(this.I_)))},i.Bw=function(){this.fN&&(this.fN=!1,this.Ro(new Cl(this.I_)))},L(n,[{key:"I_",get:function(){return this.aN},set:function(t){this.I_!==t&&(this.aN=t,this.dN=!0,this.Ro(new Vl(this.I_)))}},{key:"N_",get:function(){return this.EF}},{key:"D_",get:function(){return this.SF}},{key:"x_",get:function(){return this.fN}},{key:"B_",get:function(){return this.dN}},{key:"O_",get:function(){return this.cN},set:function(t){this.O_!==t&&(this.cN=t,this.Ro(new Wl(this.I_,this.U_)))}},{key:"P_",get:function(){return this.vN},set:function(t){this.P_!==t&&(this.vN=t,this.Ro(new Ml(this.I_,this.P_)))}},{key:"U_",get:function(){return this.lN},set:function(t){this.U_!==t&&(this.lN=t,this.Ro(new Wl(this.I_,this.U_)))}}]),n}(Eu);var tR=function(t){function n(n){var i;return(i=t.call(this)||this).ZE=void 0,i.lS=cl.w_,i.RF=function(){i.IF()},i.ZE=n,i}U(n,t);var i=n.prototype;return i.NF=function(t){this.lS!==t&&(this.lS=t,this.Ro(new Gl(this.ZE.I_,t)))},i.IF=function(){this.NF(this.PP())},i.pl=function(){this.NF(cl.w_)},i.vo=function(){this.Co()},L(n,[{key:"Gl",get:function(){return this.PP()}}]),n}(Eu),nR=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],iR=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<nR.length;r++){var e=nR[r];i.ZE.mR.addEventListener(e,i.RF)}return i}U(n,t);var i=n.prototype;return i.PP=function(){var t=this.ZE.mR.readyState;return t>cl.m_&&this.ZE.DF?cl.m_:(this.ZE.mR.seeking&&t>cl.y_&&(t=cl.y_),t)},i.vo=function(){for(var n=0;n<nR.length;n++){var i=nR[n];this.ZE.mR.removeEventListener(i,this.RF)}t.prototype.vo.call(this)},n}(tR),rR=function(t){function n(n){var i;(i=t.call(this,n)||this).ZE.Io(Go.oc,i.RF);for(var r=0;r<nR.length;r++){var e=nR[r];i.ZE.mR.addEventListener(e,i.RF)}return i}U(n,t);var i=n.prototype;return i.PP=function(){if(this.ZE.mR.readyState===cl.w_)return cl.w_;var t=this.CF(),n=t?t.bI-t.pI:0;if(!t)return cl.y_;var i=this.ZE.P_;return this.OF()||n>=3*i?cl.p_:n>=3?cl.k_:cl.m_},i.CF=function(){var t=this.ZE.I_,n=this.ZE.iy.HI(.04),i=n.qI(t);if(!(i<0))return{pI:t,bI:n.bI(i)}},i.OF=function(){if(this.ZE.D_)return!0;var t=this.ZE.N_,n=this.CF();return!!n&&t-n.bI<=1/6},i.vo=function(){this.ZE.Oo(Go.oc,this.RF);for(var n=0;n<nR.length;n++){var i=nR[n];this.ZE.mR.removeEventListener(i,this.RF)}t.prototype.vo.call(this)},n}(tR),eR=[Il.ol,Go.nc,Go.tc,Go.oc,Go.sc,Go.Ga,zd.Wl],uR=function(t){function n(n){var i;return(i=t.call(this,n)||this).ka=void 0,i.xF=!1,i.PF=function(){i.xF=!0,i.Nh()},i.ka=n.mR,i.ka.addEventListener(Il.R_,i.PF),i}U(n,t);var i=n.prototype;return i.BF=function(){return this.xF&&t.prototype.BF.call(this)},i.Nh=function(){this.xF&&(this.ka.paused||this.ka.ended||this.ka.error)&&(this.xF=!1),t.prototype.Nh.call(this)},i.pl=function(){t.prototype.pl.call(this),this.xF=!1},i.vo=function(){this.ka.removeEventListener(Il.R_,this.PF),t.prototype.vo.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).ES=void 0,i.LF=!1,i.KO=function(){i.Nh()},i.ES=n,i.ES.Io(eR,i.KO),i}U(n,t);var i=n.prototype;return i.MF=function(){return this.ES.Gl<cl.k_},i.BF=function(){return!this.ES.B_&&!(this.ES.x_||this.ES.D_||this.ES.Xo||this.MF())},i.Nh=function(){var t=this.LF;this.LF=this.BF(),!t&&this.LF&&this.Ro(new Up(this.ES.I_))},i.pl=function(){this.LF=!1},i.vo=function(){this.Co(),this.ES.Oo(eR,this.KO)},n}(Eu)),sR=function(t){function n(n){var i;return(i=t.call(this,zd.Wl)||this).Xo=void 0,i.Xo=n,i}return U(n,t),n}(Ru);function oR(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,h=s-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function hR(t,n){return t.Fy<=n&&t.Hy>n}function aR(t,n){return function(t,n){return o_(t.Fy,n.Fy,cg)}(t,n)||function(t,n){return o_(t.Hy,n.Hy,cg)}(t,n)}function cR(t,n){var i=oR(t,n,R,aR,!0);if(i<0)return i;for(;i<t.length&&aR(n,t[i])===Kl.F_;i++)if(t[i].Z_(n))return i;return-(i+1)}function fR(t){var n=t.Gd;if(!n)return-1;if(t instanceof vg)return n.UF(t);var i=n.jl;if(!i)return-1;var r=cR(i.Al,t);return r>=0?r:-1}function vR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],h=[];u<r&&s<e;){var a=t[u],c=n[s];a===c?(u++,s++):i(c,a)<=0?(o.push(c),s++):(h.push(a),u++)}for(;u<r;)h.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{FF:o,HF:h}}(t,n,aR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var dR=function(){function t(t){this.VF=void 0,this.Wd=void 0,this.VF=t}var n=t.prototype;return n.zd=function(){return function(t){for(var n=[],i=0;i<t.bl;i++)n[i]=t.Zo(i).qd;return n.item=function(n){var i=0|n,r=t.Zo(i);return r&&r.qd||void 0},d.defineProperty(n,"constructor",{value:hg}),n}(this)},n.py=function(t){for(var n=this.VF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Z_(r))return!0}return!1},n.Zo=function(t){return this.VF[t]},L(t,[{key:"Al",get:function(){return this.VF}},{key:"bl",get:function(){return this.VF.length}},{key:"qd",get:function(){if(this.Wd){var t=this.VF;this.Wd.length=t.length;for(var n=0;n<t.length;n++)this.Wd[n]=t[n].qd}else this.Wd=this.zd();return this.Wd}}]),t}(),lR=function(t){function n(n,i){var r;return(r=t.call(this,_d.ol)||this).Gd=n,r.Gl=i,r}return U(n,t),n.prototype.zd=function(){return new _R(this.Gd.qd,$d(this.Gl))},n}(gd),_R=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return U(n,t),n}(wd),gR=function(t){function n(n){var i;return(i=t.call(this,_d.al)||this).Gd=n,i}return U(n,t),n.prototype.zd=function(){return new wR(this.Gd.qd)},n}(gd),wR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return U(n,t),n}(wd),yR=function(t){function n(n){var i;return(i=t.call(this,_d.jd)||this).Uy=n,i}return U(n,t),n.prototype.zd=function(){return new mR(this.Uy.qd)},n}(gd),mR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return U(n,t),n}(wd),kR=function(t){function n(n){var i;return(i=t.call(this,_d.Yd)||this).Uy=n,i}return U(n,t),n.prototype.zd=function(){return new pR(this.Uy.qd)},n}(gd),pR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return U(n,t),n}(wd),AR=function(t){function n(n,i,r,e,u,s,o){var h;return(h=t.call(this)||this).Wd=void 0,h.by=void 0,h.Ey=V_(),h.XF=!1,h.WF=void 0,h.qF=void 0,h.Ty=void 0,h.zF=void 0,h.ON=qd.Hl,h.GF=Q_.NONE,h.jF=void 0,h.Eu=void 0,h.VF=[],h.QF=[],h.YF=void 0,h.ZF=void 0,h.JF=0,h.KF=0,h.by=i||"",h.WF=o||"",h.qF=n,h.zF=e||"",h.XF=Boolean(u),h.Eu=s||Y_.DEFAULT,h.Ty=r||"",h.YF=new dR(h.VF),h.ZF=new dR(h.QF),h}U(n,t);var i=n.prototype;return i.tH=function(t){return Ze(this.YF.Al,function(n){return n.xl===t})},i.zd=function(){return Yd(this)},i.jN=function(t){var n=jd(t);n!==this.zl&&(this.ON=n,n===qd.Hl&&(this.QF.forEach(function(t){t.um=!1}),iu(this.QF),this.KF=0))},i.Cb=function(t){if(t&&!t.Gd){var n=cR(this.jl.Al,t);if(!(n>=0)){t.Gd=this;var i=-(n+1);this.VF.splice(i,0,t),this.nH(i),t.rm=i,i<this.KF&&(this.KF=i),this.Ro(new yR(t))}}},i.iH=function(t){if(t&&t.Gd===this){var n=this.UF(t);if(!(n<0)){t.um=!1;var i=this.QF,r=cR(i,t);r>=0&&Ke(i,r),Ke(this.VF,n),this.nH(n),t.rm=-1,this.KF>n&&--this.KF,this.Ro(new kR(t))}}},i.rH=function(t,n){var i=this.QF,r=this.VF,e=this.KF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){hR(i[s],t)||(u=!0,Ke(i,s))}for(;e<r.length&&r[e].Fy<=t;){var o=r[e];hR(o,t)&&!tu(i,o)&&(u=!0,i.push(o)),e++}u&&je(i,aR),this.KF=e},i.UF=function(t){return(-1===t.rm||t.rm>=this.JF)&&this.eH(),t.rm},i.eH=function(){for(var t=this.VF,n=this.JF;n<t.length;n++)t[n].rm=n;this.JF=t.length},i.nH=function(t){t<this.JF&&(this.JF=t)},i.Nv=function(){this.Co();for(var t=this.VF.slice(),n=0;n<t.length;n++){t[n].Nv()}iu(this.VF),iu(this.QF)},L(n,[{key:"Ql",get:function(){return this.ZF}},{key:"jl",get:function(){return this.YF}},{key:"xb",get:function(){return this.XF},set:function(t){this.XF=t}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"xl",get:function(){return this.by}},{key:"Pl",get:function(){return this.Ey}},{key:"ql",get:function(){return this.WF},set:function(t){this.WF=t}},{key:"Bl",get:function(){return this.qF}},{key:"Ll",get:function(){return this.Ty},set:function(t){t!==this.Ty&&(this.Ty=t,this.Ro(new U_(this)))}},{key:"Ml",get:function(){return this.zF}},{key:"zl",get:function(){return this.ON},set:function(t){this.jN(t),this.Ro(new bd(this))}},{key:"Gl",get:function(){return this.GF},set:function(t){this.GF!==t&&(this.GF=t,this.Ro(new lR(this,this.GF)))}},{key:"Yl",get:function(){return this.jF},set:function(t){this.jF=t}},{key:"Ys",get:function(){return this.Eu},set:function(t){this.Eu!==t&&(this.Eu=t,this.Ro(new gR(this)))}}]),n}(Eu),bR=function(t){function n(n){var i;(i=t.call(this)||this).uH=[],i.sH=function(t){i.yl(t.Gd)},i.oH=function(t){var n=t.Gd;i.hH(n)||i.ml(n)};for(var r=0;r<n.length;r++){var e=n[r];i.aH(e)}return i}U(n,t);var i=n.prototype;return i.aH=function(t){this.uH.push(t);for(var n=0,i=t.Al;n<i.length;n++){var r=i[n];this.yl(r)}this.cH(t)},i.fH=function(t){$e(this.uH,t),this.vH(t);for(var n=0,i=t.Al;n<i.length;n++){var r=i[n];this.hH(r)||this.ml(r)}},i.hH=function(t){for(var n=0,i=this.uH;n<i.length;n++){if(i[n].kl(t))return!0}return!1},i.cH=function(t){t.Io(vd.Fd,this.sH),t.Io(vd.Vd,this.oH)},i.vH=function(t){t.Oo(vd.Fd,this.sH),t.Oo(vd.Vd,this.oH)},i.Nv=function(){for(;this.uH.length>0;)this.fH(this.uH[0]);t.prototype.Nv.call(this)},i.zd=function(){return Jd(this)},n}(Ad),TR=function(t){function n(n,i){var r;return(r=t.call(this,K_.Py,n)||this).Mg=i,r}return U(n,t),n.prototype.zd=function(){return new ER(this.Uy.qd)},n}(ug),ER=function(t){function n(n){return t.call(this,tg.Py,n)||this}return U(n,t),n}(sg),SR=function(t){function n(n,i){var r;return(r=t.call(this,K_.Ly,n)||this).Mg=i,r}return U(n,t),n.prototype.zd=function(){return new RR(this.Uy.qd)},n}(ug),RR=function(t){function n(n){return t.call(this,tg.Ly,n)||this}return U(n,t),n}(sg),IR=function(t){function n(n){var i;return(i=t.call(this,_d.Jd)||this).Uy=n,i}return U(n,t),n.prototype.zd=function(){return new NR(this.Uy.qd)},n}(gd),NR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return U(n,t),n}(wd),DR=function(t){function n(n){var i;return(i=t.call(this,_d.Kd)||this).Uy=n,i}return U(n,t),n.prototype.zd=function(){return new CR(this.Uy.qd)},n}(gd),CR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return U(n,t),n}(wd),OR=function(t){function n(n){var i;return(i=t.call(this)||this).dH=void 0,i.Ey=void 0,i.$y=void 0,i.Wd=void 0,i.Ky=!1,i.im="",i.lH=function(){i.um=!0},i._H=function(){i.um=!1},i.Ey=q_(),i.dH=n,i.dH.addEventListener("enter",i.lH),i.dH.addEventListener("exit",i._H),i}U(n,t);var i=n.prototype;return i.zd=function(){return og(this)},i.Z_=function(t){return this===t||Cd(this,t)&&fg(this,t)},i.Nv=function(){this.Co(),this.dH.removeEventListener("enter",this.lH),this.dH.removeEventListener("exit",this._H)},L(n,[{key:"Pl",get:function(){return this.Ey}},{key:"Fy",get:function(){return this.dH.startTime},set:function(t){this.dH.startTime=t}},{key:"Hy",get:function(){return this.dH.endTime},set:function(t){this.dH.endTime=t}},{key:"Vy",get:function(){return this.dH.text},set:function(t){this.dH.text=t+""}},{key:"om",get:function(){return!!this.dH.pauseOnExit},set:function(t){this.dH.pauseOnExit=!!t}},{key:"Gd",get:function(){return this.$y},set:function(t){this.$y=t}},{key:"xl",get:function(){return this.dH.id||""}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"sm",get:function(){return this.im},set:function(t){this.im=t}},{key:"um",get:function(){return this.Ky},set:function(t){this.um!==t&&(this.Ky=t,t?(this.Ro(new TR(this,this.Fy)),this.$y&&this.$y.Ro(new IR(this))):(this.Ro(new SR(this,this.Hy)),this.$y&&this.$y.Ro(new DR(this))))}}]),n}(tl),xR=function(t){function n(n){var i;return(i=t.call(this,_d.nl)||this).Gd=n,i}return U(n,t),n.prototype.zd=function(){return new PR(this.Gd.qd)},n}(gd),PR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return U(n,t),n}(wd);function BR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new LR(t),t.THEOplayerVTTRegion=n),n}}var LR=function(){function t(t){this.gH=void 0,this.Wd=void 0,this.gH=t}return L(t,[{key:"wH",get:function(){return this.gH}},{key:"xl",get:function(){return this.gH.id||""}},{key:"us",get:function(){return+this.gH.width||0},set:function(t){this.gH.width=t||0}},{key:"hm",get:function(){return+this.gH.lines||0},set:function(t){this.gH.lines=t||0}},{key:"am",get:function(){return+this.gH.regionAnchorX||0},set:function(t){this.gH.regionAnchorX=t||0}},{key:"cm",get:function(){return+this.gH.regionAnchorY||0},set:function(t){this.gH.regionAnchorY=t||0}},{key:"vm",get:function(){return+this.gH.viewportAnchorX||0},set:function(t){this.gH.viewportAnchorX=t||0}},{key:"dm",get:function(){return+this.gH.viewportAnchorY||0},set:function(t){this.gH.viewportAnchorY=t||0}},{key:"fm",get:function(){return this.gH.scroll||""}},{key:"qd",get:function(){return this.Wd||(this.Wd=mg(this)),this.Wd}}]),t}(),MR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"Yy",get:function(){return this.dH.vertical||""},set:function(t){this.dH.vertical=t||""}},{key:"Qy",get:function(){return!!this.dH.snapToLines},set:function(t){this.dH.snapToLines=!!t}},{key:"Wy",get:function(){return this.dH.line},set:function(t){this.dH.line=t}},{key:"th",get:function(){return+this.dH.size},set:function(t){this.dH.size=qt(t,0,100)}}]),n}(OR),UR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.Z_=function(n){return this===n||Cd(this,n)&&t.prototype.Z_.call(this,n)&&dg(this,n)},L(n,[{key:"jy",get:function(){return BR(this.dH.region)}},{key:"qy",get:function(){return this.dH.lineAlign||"start"},set:function(t){this.dH.lineAlign=t||"start"}},{key:"zy",get:function(){return this.dH.position},set:function(t){this.dH.position=t}},{key:"Gy",get:function(){return this.dH.positionAlign||"auto"},set:function(t){this.dH.positionAlign=t||"auto"}},{key:"Xy",get:function(){return this.dH.align||"center"},set:function(t){this.dH.align=t||"center"}},{key:"qd",get:function(){return this.Wd||(this.Wd=ag(this)),this.Wd}}]),n}(MR),FR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.Z_=function(n){return this===n||Cd(this,n)&&t.prototype.Z_.call(this,n)&&dg(this,n)},L(n,[{key:"jy",get:function(){return BR(this.wH)}},{key:"wH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.dH.track,this.dH.regionId)}},{key:"qy",get:function(){return"middle"===(t=this.dH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.dH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"zy",get:function(){return this.dH.position},set:function(t){var n,i;this.dH.position=(n=t,i=this.Xy,eg(n,i))}},{key:"Gy",get:function(){return t=this.dH.positionAlign||"middle",ig[t];var t},set:function(t){var n,i;this.dH.positionAlign=(n=t||"center",i=this.Xy,ng[rg(n,i)])}},{key:"Xy",get:function(){return"middle"===(t=this.dH.align||"middle")?"center":t;var t},set:function(t){var n;this.dH.align="center"===(n=t||"center")?"middle":n}},{key:"qd",get:function(){return this.Wd||(this.Wd=ag(this)),this.Wd}}]),n}(MR);function HR(t,n){return t.Vy===n.Vy}function VR(t,n,i){for(var r=t[n].Fy,e=n;e>=0&&t[e].Fy===r;e--)t[e].Hy=i}function XR(t){return og(t)}var WR,qR,zR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).yH=void 0,r.yH=i,r}return U(n,t),n.prototype.Z_=function(n){return this===n||Cd(this,n)&&t.prototype.Z_.call(this,n)&&HR(this,n)},L(n,[{key:"Vy",get:function(){return this.yH}},{key:"qd",get:function(){return this.Wd||(this.Wd=XR(this)),this.Wd}}]),n}(OR);function GR(t){switch(t){case WR.ISO_8859_1:case WR.UTF16_BOM:case WR.UTF16:case WR.UTF8:return!0}return!1}function jR(t){switch(t){case WR.ISO_8859_1:return Ts;case WR.UTF16_BOM:return Rs;case WR.UTF16:return Is;case WR.UTF8:return Bs}}function QR(t,n){var i=n.uh,r=t.byteLength,e=Vs(t);return n.ih(r-i),qs(e,i,r).buffer}function YR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function ZR(t,n,i){var r=as(t,n);if(GR(r)){var e=jR(r);return{id:i,language:As(t,n,3),description:e(t,n),text:e(t,n)}}}function JR(t,n,i){var r=as(t,n);if(GR(r)){var e=jR(r);return{id:i,mimeType:Ts(t,n),fileName:e(t,n),description:e(t,n),data:QR(t,n)}}}function $R(t,n,i){var r=as(t,n);if(GR(r)){for(var e=jR(r),u=[];n.uh<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function KR(t,n,i){var r=as(t,n);if(GR(r)){for(var e=jR(r),u=As(t,n,3),s=as(t,n),o=as(t,n),h=e(t,n),a=!1,c=[];n.uh<t.byteLength;){var f=void 0;if(r===WR.UTF16_BOM){var v=Ss(t,n);void 0===v?v=a:a=v,f=Is(t,n,v)}else f=e(t,n);if(!f||n.uh+4>t.byteLength)break;c.push({text:f,timestamp:ws(t,n)})}return{id:i,language:u,format:s,contentType:o,description:h,entries:c}}}function tI(t,n,i){return{id:i,ownerIdentifier:Ts(t,n),identifier:QR(t,n)}}function nI(t,n,i){var r=as(t,n);if(GR(r)){var e=jR(r);return{id:i,language:As(t,n,3),description:e(t,n),text:e(t,n)}}}function iI(t,n,i){var r=as(t,n);if(GR(r))return{id:i,text:jR(r)(t,n)}}function rI(t,n,i){return{id:i,url:Ts(t,n)}}function eI(t,n,i){var r=as(t,n);if(GR(r)){var e=jR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function uI(t,n,i){var r=as(t,n);if(GR(r))return{id:i,description:jR(r)(t,n),url:Ts(t,n)}}function sI(t,n,i){switch(i){case"COM":return ZR(t,n,i);case"GEO":return JR(t,n,i);case"IPL":return $R(t,n,i);case"PIC":return function(t,n,i){var r=as(t,n);if(GR(r)){var e,u,s=jR(r),o=As(t,n,3),h=as(t,n),a=s(t,n);return"--\x3e"===o?(e=o,u=Ts(t,n)):(e="image/"+o.toLowerCase(),u=QR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:u}}}(t,n,i);case"SLT":return KR(t,n,i);case"TXX":return eI(t,n,i);case"UFI":return tI(t,n,i);case"ULT":return nI(t,n,i);case"WXX":return uI(t,n,i);default:if("T"===i.charAt(0))return iI(t,n,i);if("W"===i.charAt(0))return rI(t,n,i)}}function oI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=as(t,n);if(GR(r)){var e=jR(r),u=Ts(t,n);return{id:i,mimeType:u,pictureType:as(t,n),description:e(t,n),data:"--\x3e"===u?Ts(t,n):QR(t,n)}}}(t,n,i);case"COMM":return ZR(t,n,i);case"COMR":return function(t,n,i){var r=as(t,n);if(GR(r)){var e,u,s=jR(r),o=Ts(t,n),h=As(t,n,8),a=Ts(t,n),c=as(t,n),f=s(t,n),v=s(t,n);return n.uh<t.byteLength&&(e=Ts(t,n)||"image/",u=QR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return JR(t,n,i);case"IPLS":return $R(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Ts(t,n),data:QR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:as(t,n),position:ws(t,n)}}(t,n,i);case"SYLT":return KR(t,n,i);case"TXXX":return eI(t,n,i);case"UFID":return tI(t,n,i);case"USER":return function(t,n,i){var r=as(t,n);if(GR(r)){var e=jR(r);return{id:i,language:As(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return nI(t,n,i);case"WXXX":return uI(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return iI(t,n,i);default:var r=i.charAt(0);if("T"===r)return iI(t,n,i);if("W"===r)return rI(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(WR||(WR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(qR||(qR={}));var hI=10;function aI(t,n){return(127&as(t,n))<<21|(127&as(t,n))<<14|(127&as(t,n))<<7|127&as(t,n)}function cI(t,n){switch(t){case qR.V24:return{mH:hs(n,0),kH:hs(n,1),pH:hs(n,2),AH:hs(n,3)};case qR.V23:return{mH:hs(n,0),kH:hs(n,1),pH:hs(n,2)};case qR.V22:return{mH:hs(n,0),bH:hs(n,1)}}}function fI(t,n,i){switch(i.Hk){case qR.V23:i.Vk.kH&&function(t,n){var i=n.uh,r=ws(t,n)+4,e=32768&_s(t,n);n.rh(i+r),e&&ws(t,n)}(t,n);break;case qR.V24:i.Vk.kH&&function(t,n){var i=n.uh,r=aI(t,n);n.rh(i+r)}(t,n)}}function vI(t,n){if(t.byteLength-n.uh<hI)return null;if(73!==as(t,n)||68!==as(t,n)||51!==as(t,n))return null;var i=as(t,n),r=as(t,n);if(!function(t){switch(t){case qR.V22:case qR.V23:case qR.V24:return!0}return!1}(i))return null;var e=as(t,n),u=aI(t,n);return{Hk:i,TH:r,Vk:cI(i,e),EH:u}}function dI(t,n,i){switch(i.Hk){case qR.V22:return function(t,n,i){return{xl:As(t,n,3),th:ls(t,n,3)}}(t,n);case qR.V23:return function(t,n,i){var r=As(t,n,4),e=ws(t,n);as(t,n);var u=as(t,n);return{xl:r,th:e,Vk:{bH:hs(u,0),SH:hs(u,1),groupingIdentity:hs(u,2)}}}(t,n);case qR.V24:return function(t,n,i){var r=As(t,n,4),e=aI(t,n);as(t,n);var u=as(t,n);return{xl:r,th:e,Vk:{groupingIdentity:hs(u,1),bH:hs(u,4),SH:hs(u,5),mH:hs(u,6),RH:hs(u,7)}}}(t,n)}}function lI(t){for(var n=new y(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function _I(t,n){var i=n||new Gs,r=vI(t,i);return r?{Bk:r,IH:function(t,n,i){var r=[],e=n.uh,u=Fs(t,e,e+i.EH),s=new Gs;switch(n.ih(i.EH),i.Hk){case qR.V22:case qR.V23:i.Vk.mH&&(u=lI(u))}fI(t,n,i);for(;s.uh<u.byteLength;)r.push(gI(u,s,i));return r}(t,i,r)}:null}function gI(t,n,i){var r,e,u=dI(t,n,i),s=n.uh,o=Fs(t,s,s+u.th);switch(n.ih(u.th),i.Hk){case qR.V22:var h=u;r=sI(e=o,new Gs,h.xl);break;case qR.V23:var a=u,c=new Gs;!function(t,n,i){var r,e,u,s=i.Vk;s.bH&&(r=ws(t,n)),s.SH&&(e=as(t,n)),s.groupingIdentity&&(u=as(t,n))}(o,c,a),r=oI(e=Fs(o,c.uh,o.byteLength),new Gs,a.xl);break;case qR.V24:var f=u,v=new Gs;f.Vk.mH&&(o=lI(o)),function(t,n,i){var r,e,u,s,o=i.Vk;o.groupingIdentity&&(r=as(t,n)),o.bH&&(e=ws(t,n)),o.SH&&(u=as(t,n)),o.RH&&(s=aI(t,n))}(o,v,f),r=oI(e=Fs(o,v.uh,o.byteLength),new Gs,f.xl)}if(!r){var d=zs(Vs(e));r=YR(u.xl,d.buffer)}return r}function wI(t){return function(t,n,i){return iI(t,n,i)}(new DataView(t.data),new Gs,t.key)}function yI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return wI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return YR(t.key,t.data)}(t)}var mI="org.id3";var kI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).Ay=void 0,e.NH=void 0,e.VF=[],e.QF=[],e.YF=void 0,e.ZF=void 0,e.Ey=void 0,e.Ty=void 0,e.ON=qd.Hl,e.GF=Q_.NONE,e.Wd=void 0,e.jF=void 0,e.Eu=Y_.DEFAULT,e.DH=void 0,e.CH=function(){e.OH(),e.Ay.removeEventListener("cuechange",e.CH)},e.xH=function(){e.zl!==qd.Hl&&(e.PH(),e.rH(),e.VF.length&&e.BH(Q_.LOADING))},e.LH=function(){e.BH(Q_.LOADED)},e.MH=function(){e.BH(Q_.ERROR)},e.Ay=n,e.DH=r,e.Ay.addEventListener("cuechange",e.CH),e.Ay.addEventListener("cuechange",e.xH),e.NH=i,e.NH&&(e.jF=Ir(e.NH.src),e.NH.addEventListener("load",e.LH),e.NH.addEventListener("error",e.MH)),e.Ey=V_(),e.Ty=n.label||"",e.YF=new dR(e.VF),e.ZF=new dR(e.QF),e.zl=e.UH,gu(function(){e.xH(),e.BH(Q_.NONE)}),e}U(n,t);var i=n.prototype;return i.zd=function(){return Yd(this)},i.OH=function(){var t=this.zl;this.FH||t!==qd.Xl?this.UH=t:this.UH=qd.Vl},i.HH=function(){var t=this.zl,n=this.UH;t!==n&&(this.FH||t!==qd.Xl||n!==qd.Vl)&&("metadata"===this.Bl&&n===qd.Hl?this.zl=t:this.zl=n)},i.IF=function(t){this.GF!==t&&(this.GF=t,this.Ro(new lR(this,t)))},i.BH=function(t){var n=l.max(this.GF,this.VH,t);this.IF(n)},i.XH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.WH=function(t){var n=this.XH(t);if(n)return n;if(K(n=this.qH(t)))for(var i=0,r=n;i<r.length;i++){r[i].Gd=this}else n.Gd=this;return t.THEOplayerTextTrackCue=n,n},i.qH=function(t){return(n=t)&&n.type===mI&&n.value?(this.Ys=Y_.ID3,function(t){var n;try{n=yI(t.value)}catch(t){n=YR("")}return new zR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Ys=Y_.ID3,function(t){var n=[];try{var i=_I(new DataView(t.data));if(i)for(var r=0,e=i.IH;r<e.length;r++){var u=e[r];n.push(new zR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Ys=Y_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new FR(t):new UR(t)):new OR(t);var n},i.zH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.WH(t[r]||t.item(r));if(K(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.PH=function(){for(var t=this.zH(this.Ay.cues),n=vR(this.VF,t),i=0,r=n.HF;i<r.length;i++){var e=r[i];this.Ro(new kR(e))}for(var u=0,s=n.FF;u<s.length;u++){var o=s[u];this.Ro(new yR(o))}},i.rH=function(){for(var t=this.zH(this.Ay.activeCues),n=vR(this.QF,t),i=0,r=n.HF;i<r.length;i++){r[i].um=!1}for(var e=0,u=n.FF;e<u.length;e++){u[e].um=!0}(n.FF.length||n.HF.length)&&this.Ro(new xR(this))},i.Nv=function(){this.Co();for(var t=this.VF.slice(),n=0;n<t.length;n++){t[n].Nv()}iu(this.VF),iu(this.QF),this.Ay.removeEventListener("cuechange",this.xH),this.NH&&(this.Ay.removeEventListener("load",this.LH),this.Ay.removeEventListener("error",this.MH)),this.NH&&Vr(this.NH)},L(n,[{key:"Ql",get:function(){return this.ZF}},{key:"xb",get:function(){return this.NH?this.NH.default:void 0}},{key:"jl",get:function(){return this.YF}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"xl",get:function(){return this.Ay.id||this.NH&&this.NH.id||""}},{key:"Pl",get:function(){return this.Ey}},{key:"ql",get:function(){return this.Ay.inBandMetadataTrackDispatchType||""}},{key:"Bl",get:function(){return this.Ay.kind||Yw.ak}},{key:"Ll",get:function(){return this.Ty},set:function(t){t!==this.Ll&&(this.Ty=t,this.Ro(new U_(this)))}},{key:"Ml",get:function(){return this.Ay.language||""}},{key:"zl",get:function(){return this.ON},set:function(t){var n=this.zl;this.ON=jd(t),this.OH();var i=this.zl;n!==i&&this.Ro(new bd(this)),i!==qd.Hl&&this.BH(Q_.LOADING)}},{key:"UH",get:function(){return jd(this.Ay.mode)},set:function(t){this.Ay.mode=t}},{key:"Dy",get:function(){return this.Ay}},{key:"Gl",get:function(){return this.GF}},{key:"VH",get:function(){return this.NH?+this.NH.readyState||Q_.NONE:Q_.LOADED}},{key:"Yl",get:function(){return this.jF}},{key:"Ys",get:function(){return this.Eu},set:function(t){this.Eu!==t&&(this.Eu=t,this.Ro(new gR(this)))}},{key:"FH",get:function(){return this.DH},set:function(t){this.DH=t,this.OH()}}]),n}(Eu);function pI(t){return t instanceof kI}function AI(t,n){return s_(t.Mg,n.Mg)||function(t,n){return t.Gd===n.Gd?u_(fR(t),fR(n)):cy(t.Gd,n.Gd)}(t.Uy,n.Uy)||function(t,n){return t===n?Kl.F_:t===K_.Py?Kl.V_:Kl.H_}(t.type,n.type)}var bI=function(){function t(t,n){var i=this;this.fI=void 0,this.GH=void 0,this.Rw=[],this.jH=0,this.QH=0,this.YH=[],this.ZH=!1,this.JH=!1,this.$H=void 0,this.KH=function(){i.jH=0,i.tV(),i.nV()},this.iV=function(){i.tV(),i.nV()},this.rV=function(){i.JH=!0,i.$H=i.fI.I_,i.eV()},this.uV=function(){i.tV(),i.nV()},this.sV=function(){i.oV(),i.tV(),i.nV()},this.hV=function(){i.aV()},this.cV=function(t){$e(i.YH,t.Uy),i.aV()},this.GH=n,this.fI=t,t.Io(Go.lc,this.iV),t.Io(Go.nc,this.iV),t.Io(Il.R_,this.iV),t.Io(Go.tc,this.iV),t.Io(Go.oc,this.rV),t.Io(Go.sc,this.uV),this.aV()}var n=t.prototype;return n.pl=function(){iu(this.YH);for(var t=0,n=this.Rw.slice();t<n.length;t++){var i=n[t];this.ml(i)}this.eV(),this.jH=0,this.QH=0,this.ZH=!1,this.JH=!1,this.$H=void 0},n.yl=function(t){tu(this.Rw,t)||(this.Rw.push(t),t.Io(_d.jd,this.hV),t.Io(_d.Yd,this.cV),t.Io(_d.ul,this.sV),t.jl.bl&&this.aV(),this.oV())},n.ml=function(t){if($e(this.Rw,t)){if(t.Oo(_d.jd,this.hV),t.Oo(_d.Yd,this.cV),t.Oo(_d.ul,this.sV),t.jl.bl){for(var n=0,i=t.jl.Al;n<i.length;n++){var r=i[n];$e(this.YH,r)}this.aV()}this.oV()}},n.oV=function(){this.ZH=this.Rw.some(function(t){return t.zl!==qd.Hl})},n.nV=function(){this.fI.B_||this.fI.x_?this.eV():this.aV()},n.aV=function(){this.ZH&&(this.jH||(this.jH=this.GH.hr(this.KH)))},n.eV=function(){this.jH&&(this.GH.fV(this.jH),this.jH=0)},n.tV=function(){var t;if(this.ZH&&!this.fI.B_){var n=this.Rw,i=this.QH,r=null!=(t=this.$H)?t:this.fI.I_,e=r-i<-.1,u=this.JH||e;u&&r>i&&r-i<.1&&(u=!1),this.JH=!1,this.$H=void 0;for(var s,o=[],h=0;h<n.length;h++){var a=n[h];if(a.zl!==qd.Hl){a.rH(r,u);for(var c=0,f=a.Ql.Al;c<f.length;c++){var v=f[c];o.push(v)}}}if(u)s=this.YH;else{s=[];for(var d=0;d<n.length;d++){var _=n[d];_.zl!==qd.Hl&&ay(_,i-1/6,r,s)}}for(var g=s.length-1;g>=0;g--)tu(o,s[g])&&Ke(s,g);var w=[];if(!u)for(var y=s.length-1;y>=0;y--){var m=s[y];m.Fy>=i&&m.Hy<=r&&(w.push(m),Ke(s,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.um||k.push(new TR(b,b.Fy)),k.push(new SR(b,l.max(b.Fy,b.Hy)))}for(var T=0,E=s;T<E.length;T++){var S=E[T];S.um&&(k.push(new SR(S,l.max(S.Fy,S.Hy))),S.um=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.um||(k.push(new TR(I,I.Fy)),I.um=!0)}k.sort(AI);for(var N=0;N<k.length;N++){var D=k[N],C=D.Uy;C.Ro(D);var O=C.Gd;O&&(D.type===K_.Py?O.Ro(new IR(C)):O.Ro(new DR(C)),tu(p,O)||p.push(O))}p.sort(cy);for(var x=0;x<p.length;x++){var P=p[x];P.Ro(new xR(P))}this.QH=r,this.YH=o}},n.Nv=function(){this.pl(),this.fI.Oo(Go.lc,this.iV),this.fI.Oo(Go.nc,this.iV),this.fI.Oo(Il.R_,this.iV),this.fI.Oo(Go.tc,this.iV),this.fI.Oo(Go.oc,this.rV),this.fI.Oo(Go.sc,this.uV)},t}(),TI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return kT(t)},n.fV=function(t){pT(t)},t}(),EI=new TI,SI=function(t){function n(n,i){return void 0===i&&(i=EI),t.call(this,n,i)||this}return U(n,t),n}(bI),RI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).vV=void 0,e}return U(n,t),n.prototype.Z_=function(n){return this===n||Cd(this,n)&&t.prototype.Z_.call(this,n)&&HR(this,n)},L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=XR(this)),this.Wd}}]),n}(vg),II=function(t){function n(n,i,r){return void 0===r&&(r=Y_.DEFAULT),t.call(this,Yw.fk,"",i||"","",!1,r,n)||this}return U(n,t),n}(AR),NI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ys=Y_.ID3,r.vV=void 0,r}U(n,t);var i=n.prototype;return i.Cb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Fy<t.Fy)VR(n,i,t.Fy);else{var r=n[0];if(r.Fy>t.Fy)t.Hy=r.Fy;else{var e=cR(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].Fy<t.Fy&&VR(n,s,t.Fy),u<n.length){var o=n[u];t.Hy=o.Fy}}}}}}(n,this.VF),t.prototype.Cb.call(this,n)},i.zd=function(){return Yd(this)},n}(II);function DI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=yI(t.value);return t.THEOplayerTextTrackCue=new RI(i,r),t.THEOplayerTextTrackCue}var CI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ay=void 0,i.xH=function(){i.zl!==qd.Hl&&(i.PH(),i.BH(Q_.LOADED))},i.Ay=n,i.Ay.addEventListener("cuechange",i.xH),i.zl=i.UH,gu(function(){i.xH()}),i}U(n,t);var i=n.prototype;return i.jN=function(n){t.prototype.jN.call(this,n),this.UH=this.zl},i.BH=function(t){this.Gl=l.max(this.Gl,t)},i.PH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(DI(t[r]||t.item(r)));return je(i,aR),i}(this.Ay.cues),n=vR(this.jl.Al.slice(),t),i=0,r=n.HF;i<r.length;i++){var e=r[i];this.iH(e)}for(var u=0,s=n.FF;u<s.length;u++){var o=s[u];this.Cb(o)}},i.Nv=function(){this.Ay.removeEventListener("cuechange",this.xH),t.prototype.Nv.call(this)},L(n,[{key:"xl",get:function(){return this.Ay.id||""}},{key:"ql",get:function(){return this.Ay.inBandMetadataTrackDispatchType||""}},{key:"Ml",get:function(){return this.Ay.language||""}},{key:"UH",get:function(){return jd(this.Ay.mode)},set:function(t){this.Ay.mode=t}},{key:"Dy",get:function(){return this.Ay}}]),n}(NI),OI=function(t){function n(n){var i;return(i=t.call(this,0,n.Vy)||this).dV=void 0,i.dV=n,i.Hy=i.dV.Fy,i}return U(n,t),L(n,[{key:"xl",get:function(){return this.dV.xl}},{key:"om",get:function(){return this.dV.om},set:function(t){this.dV.om=t}},{key:"sm",get:function(){return this.dV.sm},set:function(t){this.dV.sm=t}}]),n}(RI);function xI(t){return void 0===t.vV&&(t.vV=new OI(t)),t.vV}var PI=function(t){function n(n,i){var r;(r=t.call(this,n.ql,n.Ll)||this).lV=void 0,r._V=void 0,r.gV=void 0,r.Ys=Y_.ID3,r.wV=function(t){r.yV(t.Uy)},r.mV=function(t){var n=t.Uy;if(void 0!==n.vV){var i=n.vV;n.vV=void 0,r.iH(i),i.Nv()}},r.kV=function(t){var n=xI(t.Uy);n.um||r.pV(n),r.AV(n)},r.bV=function(t){var n=t.Uy,i=xI(n);r._V.I_<n.Fy&&r.pV(i)},r.TV=function(){var t=r.gV,n=r.zl;if(r.gV=n,n===qd.Hl)r.QF.forEach(function(t){return t.um=!1}),iu(r.QF);else if(t===qd.Hl)for(var i=r._V.I_,e=0,u=r.VF;e<u.length;e++){var s=u[e];i<s.Hy&&r.pV(s)}},r._V=i,r.lV=n,r.gV=n.zl,n.Io(_d.jd,r.wV),n.Io(_d.Yd,r.mV),n.Io(_d.Jd,r.kV),n.Io(_d.Kd,r.bV),n.Io(_d.ul,r.TV);for(var e=0,u=r.lV.jl.Al;e<u.length;e++){var s=u[e];r.yV(s)}return r}U(n,t);var i=n.prototype;return i.pV=function(t){var n=cR(this.QF,t);if(!(n>=0)){var i=-(n+1);this.QF.splice(i,0,t),t.um=!0,t.Ro(new TR(t,this._V.I_)),this.Ro(new IR(t)),this.Ro(new xR(this))}},i.AV=function(t){var n=cR(this.QF,t);n>=0&&Ke(this.QF,n),t.um=!1,t.Ro(new SR(t,this._V.I_)),this.Ro(new DR(t)),this.Ro(new xR(this))},i.Nv=function(){this.lV.Oo(_d.jd,this.wV),this.lV.Oo(_d.Yd,this.mV),this.lV.Oo(_d.Jd,this.kV),this.lV.Oo(_d.Kd,this.bV),this.lV.Oo(_d.ul,this.TV),t.prototype.Nv.call(this)},i.yV=function(t){var n=xI(t);(this.Cb(n),this.zl!==qd.Hl)&&(this._V.I_<n.Hy&&this.pV(n))},L(n,[{key:"Bl",get:function(){return this.lV.Bl}},{key:"Ll",get:function(){return this.lV.Ll},set:function(t){this.lV.Ll=t}},{key:"Ml",get:function(){return this.lV.Ml}},{key:"xl",get:function(){return this.lV.xl}},{key:"Pl",get:function(){return this.lV.Pl}},{key:"ql",get:function(){return this.lV.ql}},{key:"zl",get:function(){return this.lV.zl},set:function(t){this.lV.zl=t}},{key:"Gl",get:function(){return this.lV.Gl}},{key:"Yl",get:function(){return this.lV.Yl}}]),n}(II),BI=function(t){function n(n){var i;return(i=t.call(this)||this)._V=void 0,i._V=n,i}U(n,t);var i=n.prototype;return i.yl=function(n){if(n.Ys===Y_.ID3){var i=n;return i.vV||(i.vV=new PI(i,this._V)),t.prototype.yl.call(this,i.vV)}return t.prototype.yl.call(this,n)},i.ml=function(n){if(n.Ys===Y_.ID3){var i=n;return!!i.vV&&t.prototype.ml.call(this,i.vV)}return t.prototype.ml.call(this,n)},n}(Kd),LI=function(t){function n(n,i){var r;return(r=t.call(this)||this).EV=new be,r.sH=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Gd).Ys){t.next=4;break}return t.next=4,i.Lo(_d.al);case 4:if(i.Ys===Y_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.jl.bl){t.next=11;break}return t.next=9,i.Lo(_d.jd);case 9:t.next=6;break;case 11:r.SV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.oH=function(t){var n=t.Gd;if(n.Ys===Y_.ID3&&r.EV.has(n.Pl)){var i=r.EV.get(n.Pl);r.ml(i),r.Eb.Ob(i),n.Oo(_d.jd,r.yV)}},r.yV=function(t){MI(t.Uy)&&r.RV(t.Uy)},r.Eb=n,r.IV=i,r.NV(),r}U(n,t);var i=n.prototype;return i.NV=function(){this.IV.Io(vd.Fd,this.sH),this.IV.Io(vd.Vd,this.oH)},i.DV=function(){this.IV.Oo(vd.Fd,this.sH),this.IV.Oo(vd.Vd,this.oH)},i.SV=function(t){var n=t.jl.Al[0];if(MI(n)){var i=function(t){var n=t.match(UI);if(!n)return;return{Gd:n[1],Ml:n[2]}}(n.Vy.description),r=i.Gd,e=i.Ml;if(!this.CV(r,e)){var u=this.Eb.Nb(Yw.ak,t.xl,r,e,!1,Y_.TTML);this.yl(u),this.EV.set(t.Pl,u);for(var s=0,o=t.jl.Al;s<o.length;s++){var h=o[s];MI(h)&&this.RV(h)}t.Io(_d.jd,this.yV)}}},i.CV=function(t,n){return!!Ze(this.np.Al,function(i){return i.Ll===t&&i.Ml===n})},i.RV=function(t){if(t.Gd)for(var n=this.EV.get(t.Gd.Pl),i=Fw(t.Vy.text,0,{lm:0,_m:1/0,gm:-t.Hy}),r=0;r<i.length;r++){var e=i[r];n.Cb(e)}},i.pl=function(){var n=T.coroutine(le.mark(function n(){var i,r,e,u,s;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.IV.Al;i<r.length;i++)r[i].Oo(_d.jd,this.yV);for(e=0,u=this.np.Al;e<u.length;e++)s=u[e],this.Eb.Ob(s);return this.EV.clear(),n.next=5,t.prototype.pl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Nv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.DV(),n.next=3,t.prototype.Nv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Jw);function MI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Vy)&&UI.test(n.description);var n}var UI=/^Track:(.+),Lang:(.+)$/;var FI=Q.Se||Q.Re,HI=Q.Xe,VI=.5,XI=5,WI=Q.Oe,qI=[Go._c,Go.rc,Go.oc,Go.nc,Go.tc],zI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ka=void 0,e.OV=void 0,e.ZS=void 0,e.lI=!0,e.JE=void 0,e.xV=new Ay,e.PV=void 0,e.BV=void 0,e.LV=void 0,e.Rw=void 0,e.MV=void 0,e.UV=void 0,e.FV=void 0,e.HV=void 0,e.VV=void 0,e.XV=void 0,e.WV=void 0,e.qV=void 0,e.zV=void 0,e.GV=void 0,e.dN=!1,e.jV=T.resolve(),e.QV=new su,e.YV=[],e.ZV=aA.uN(),e.JV=void 0,e.$V=1,e.KV=!1,e.tX=!1,e.io=void 0,e.nX=!1,e.iX=!1,e.rX=!1,e.eX=!1,e.uX=0,e.sX=function(t){var n=t.track,i=e.oX(n);e.hX(n,i)},e.aX=function(t){var n=function(t,n){for(var i=0,r=t.Al;i<r.length;i++){var e=r[i];if(e.Dy===n)return e}return}(e.UV,t.track);n&&e.UV.ml(n)},e.cX=function(){for(var t=0;t<e.Rw.bl;t++){var n=e.Rw.wl(t);n instanceof kI&&n.HH()}},e.fX=function(){for(var t=e.UV.Al,n=0;n<t.length;n++){var i=t[n];e.UV.ml(i)}},e.vX=function(){var t=e.JE,n=t.QU,i=t.YU;if(n&&i)if(t.uM)e.dX();else if(t.Gl!==QS.MM){var r=n.iy,u=i.iy;if(0!==r.bl&&0!==u.bl){var s=e.I_;if(s<r.pI(0)||s<u.pI(0))e.dX();else if(r.MR(s)!==u.MR(s))e.lX();else if(e.dX(),!e.uX&&e.LV.BF())r.XI(u).jI(s,s+VI)&&(e.uX=kT(e._X))}else e.dX()}},e._X=function(){e.uX=0,e.vX()},e.gX=function(){if(!(e.B_||e.Gl>=cl.k_)){0;var t=e.JE,n=t.QU,i=t.YU;if(n&&i){var r=e.I_,u=n.iy,s=i.iy;if(u.MR(r)&&s.MR(r))u.XI(s).jI(r-XI,r)&&e.rh(r)}}},e.wX=function(){e.Ro(new Cl(e.I_))},e.yX=function(){e.mX(new ou),e.Ro(new Dl(e.I_))},e.kX=function(){e.pX(),e.Ro(new Up(e.I_))},e.AX=function(){e.bX(e.P_)},e.TX=function(){e.Ro(new Ll(e.N_))},e.EX=function(){e.Ro(new AS(e.I_))},e.SX=function(){e.Ro(new bS)},e.RX=function(){var t=e.I_,n=e.B_,i=e.Gl<cl.k_&&!e.D_,r=void 0!==e.GV,u=r&&e.GV!==t;(n||!r||u&&!i)&&(e.Ro(new Ul(e.I_,void 0)),e.GV=t)},e.IX=function(){!e.KV&&e.D_&&(e.KV=!0,e.Ro(new Fl(e.I_)))},e.NX=function(){if(null!==e.ka.error){var t,n=e.ka.error;e.ZS=new C_(null!=(t=n.code)?t:R_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.DX(e.ZS),e.Ro(new sR(e.ZS))}else e.ZS=void 0},e.CX=function(){e.Ro(new Wl(e.I_,e.U_))},e.OX=function(){e.M_>0&&e.L_>0&&e.Ro(new py)},e.xX=function(t){e.Ro(new xu(t.initDataType,t.initData||new ArrayBuffer(0)))},e.PX=function(){e.Ro(new Pu)},e.BX=function(t){var n=t.initData,i=n?zs(n).buffer:new ArrayBuffer(0);e.Ro(new xu(Se,i))},e.LX=function(t){if(t.initData){var n=GI(t.initData);if(!n)return;e.Ro(new xu(Ie,n))}else e.Ro(new xu(Ie,new ArrayBuffer(0)))},e.MX=function(t){var n=t.initData,i=n?zs(n).buffer:new ArrayBuffer(0);e.Ro(new xu(Se,i))},e.UX=function(){e.pX()},e.FX=function(t){e.mX(t)},e.ka=n,e.io=i,e.OV=r,e.BV=new iR(en(e)),e.BV.Io(Il.ol,e.So),e.LV=new uR(en(e)),e.LV.Io(Il.R_,e.kX),e.Rw=new Zw,e.MV=new Zw,e.UV=new Zw,e.FV=new bR([e.Rw,e.MV,e.UV]),e.HV=new BI(en(e)),e.HV.Nl=e.FV,e.VV=new LI(en(e),e.HV),e.XV=new bR([e.FV,e.VV.np]),e.WV=new SI(en(e)),e.HX(),e.pR(),e}U(n,t);var i=n.prototype;return i.VX=function(){this.mR.ended||this.I_===this.N_||(this.KV=!1)},i.XX=function(){return void 0!==this.qV&&this.N_===this.qV},i.bX=function(t){this.$V!==t&&(this.$V=t,this.Ro(new Ml(this.I_,t)))},i.HR=function(){return RE(this.ka)},i.Bw=function(){var t=this.WX();return this.qX(),t},i.qX=function(){this.nX?this.iX&&(this.iX=!1,this.Ro(new Cl(this.I_))):this.zX()},i.zX=function(){if(this.PV)this.PV.Bw();else{Q.Oe&&!Q.we&&this.ka.preload===nA.hI&&(this.ka.preload=nA.fk);var t=this.P_,n=this.ka.play();t!==this.mR.playbackRate&&(this.P_=t),et(n)?n.then(this.UX,this.FX):this.LV.BF()&&this.pX()}},i.Lw=function(){this.nX?this.iX||(this.iX=!0,this.Ro(new Dl(this.I_))):this.GX()},i.GX=function(){this.PV?this.PV.Lw():(this.ka.pause(),this.LV.Nh()),this.DX(new ou)},i.WX=function(){var t=new Qs;return this.YV.push(t),t.ah},i.jX=function(){for(var t=0,n=this.YV;t<n.length;t++){n[t].fh(void 0)}iu(this.YV)},i.DX=function(t){for(var n=0,i=this.YV;n<i.length;n++){i[n].vh(t)}iu(this.YV)},i.pX=function(){this.nX||this.PV||this.jX()},i.mX=function(t){this.nX||this.PV||this.DX(t)},i.rh=function(t,n){this.PV?this.PV.I_=t:(this.QV.mo(),this.QV=new su,this.jV=this.QX(t,this.jV,this.QV.Ao).catch(S))},i.FR=function(t){var n=this.XR;if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.rh(i)}},i.QX=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c,f,v=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.qV=n,this.dN=!0,this.KV&&!this.XX()&&(this.KV=!1),this.Ro(new Vl(n)),t.next=7,i.catch(S);case 7:if(au(r),this.tX&&this.YX(),this.Gl!==cl.w_){t.next=12;break}return t.next=12,this.Lo(Il.ol,r);case 12:if(0!==this.ka.seekable.length){t.next=18;break}return t.next=15,T.race([cd(this.ka,"timeupdate",r),ku(100,r)]);case 15:au(r),t.next=12;break;case 18:e=this.ZX(n),u=this.my,s=!0,o=!1;case 22:if((u=this.my).bl>0&&!u.MR(e)&&(e=u.CI(e),s=!0),WI&&void 0!==(h=this.JX())&&e>h&&(e=h,s=!0),o){t.next=36;break}if(!(void 0!==(a=this.$X())&&e>a)){t.next=36;break}return o=!0,t.next=32,this.KX(a,r);case 32:return t.next=34,cd(this.ka,"seeked",r);case 34:au(r),s=!0;case 36:if(!s){t.next=55;break}return s=!1,t.next=40,this.KX(e,r);case 40:au(r),c=this.I_,u=this.my,e=u.CI(e),f=1;case 45:if(!(l.abs(e-c)>=1/6)){t.next=55;break}return u=this.my,e=QI(e,u,f),t.next=50,this.KX(e,r);case 50:au(r),c=this.I_,f++,t.next=45;break;case 55:if(this.ka.seeking||this.Gl<cl.m_){t.next=57;break}return t.abrupt("break",62);case 57:return t.next=59,lu(function(t){var n;return T.race([cd(v.ka,"seeked",t),v.Lo([Go.ic,Go.qa,Il.ol],t),null==(n=v.JE)?void 0:n.Lo(dS.MD,t)].filter(J))},r);case 59:au(r),t.next=22;break;case 62:this.tW(),t.next=70;break;case 65:if(t.prev=65,t.t0=t.catch(0),!hu(t.t0)){t.next=69;break}return t.abrupt("return");case 69:0;case 70:case"end":return t.stop()}},t,this,[[0,65]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.KX=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),r=this.my,n=r.CI(n),!this.tX){t.next=18;break}e=!0;case 5:if(!(e||this.Gl<cl.k_)){t.next=17;break}if((r=this.my).MR(n)||(n=r.CI(n),e=!0),!e){t.next=13;break}return e=!1,this.qV=n,this.Ro(new Vl(this.I_)),t.abrupt("continue",5);case 13:return t.next=15,this.Lo([Il.ol,Go.qa],i);case 15:t.next=5;break;case 17:au(i);case 18:if(u=cd(this.ka,"seeking",i),this.ka.currentTime=n,this.qV=void 0,this.Ro(new Vl(this.I_)),!this.ka.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZX=function(t){var n=this.iy;if(n&&!n.MR(t)){var i=n.qI(t,.05);if(i>-1){var r=n.pI(i);if(t<r)return r}}return t},i.JX=function(){if(this.JE&&this.JE.uM){var t=this.JE.sM,n=this.JE.oM,i=t&&n?t.BI(n):t||n;if(i&&0!==i.bl){var r=i.pI(i.bl-1),e=i.bI(i.bl-1);return l.max(r,e-.001)}}},i.$X=function(){if(this.JE&&this.JE.uM){var t=this.JE.oM;if(t&&0!==t.bl){var n=t.pI(t.bl-1),i=t.bI(t.bl-1)-.02;return i-=.001,l.max(n,i)}}},i.tW=function(){this.dN=!1,this.tX&&this.nW(),this.Ro(new Xl(this.I_))},i.YX=function(){this.nX||(this.iX=this.x_,this.nX=!0,this.GX())},i.nW=function(){this.nX&&(this.nX=!1,this.iX||this.qX())},i.eM=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).Ys!==cp.vS||!pS.eM(r,this.ka)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.Ys!==cp.dS||!$S.eM(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jw=function(){this.lI=!1,jr(this.ka)&&(this.ka.style.display="none")},i.Gw=function(){this.lI=!0,jr(this.ka)&&(this.ka.style.display="block")},i.Nb=function(t,n,i,r,e,u,s){var o=new AR(t,n,i,r,e,u,s);return this.Rw.yl(o),this.WV.yl(o),o},i.RR=function(){return!0},i.NR=function(t,n,i,r){var u=e.createElement("track");u.src=Ir(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.id=Zb(),this.ka.appendChild(u);var s=this.ka.textTracks.getTrackById(u.id),o=new kI(s,u);return this.MV.yl(o),o},i.Ob=function(t){this.Rw.ml(t),this.WV.ml(t)},i.OR=function(){this.Rw.pl(),this.MV.Al.forEach(function(t){return t.Nv()}),this.MV.pl()},i.pR=function(){var t=this.ka.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.sX),t.addEventListener("removetrack",this.aX),t.addEventListener("change",this.cX)),this.ka.addEventListener("emptied",this.fX)},i.PR=function(){var t=this.ka.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.sX),t.removeEventListener("removetrack",this.aX),t.removeEventListener("change",this.cX)),this.ka.removeEventListener("emptied",this.fX)},i.hX=function(t,n){if(Q.Oe){if(t.kind===Yw.fk)return void this.iW(t);if(t.kind===Yw.mb&&!YI(t))return void this.rW(t,n)}this.MV.Al.map(function(t){return t.xl}).indexOf(t.id)<0&&this.UV.yl(new kI(t,n))},i.iW=function(t){t.mode=qd.Vl;var n=new CI(t);this.UV.yl(n),this.WV.yl(n)},i.rW=function(t,n){var i=this;t.addEventListener("cuechange",function r(){YI(t)&&(t.removeEventListener("cuechange",r),i.UV.yl(new kI(t,n)))}),t.mode=qd.Vl},i.oX=function(t){for(var n=this.ka.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Rh=function(t){var n=this;return this.xV.Ub(function(){var i=T.coroutine(le.mark(function i(r){var e;return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(au(r),!n.JE){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.Ys!==cp.vS){i.next=9;break}e=new pS(t,n,n.io),n.tX=!1,n.eW(new iR(n)),i.next=17;break;case 9:if(t.Ys!==cp.dS){i.next=16;break}e=new $S(t,n,n.io),n.tX=FI,n.eW(n.tX?new rR(n):new iR(n)),HI&&(n.Io(Go.lc,n.vX),n.Io(Il.ol,n.gX)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.JE=e,i.next=20,e.rT();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.lX=function(){if(!this.rX){var t=this.P_;this.rX=!0,this.P_=t,this.ka.playbackRate=0,this.BV&&this.BV.IF()}},i.dX=function(){if(this.rX){var t=this.P_;this.rX=!1,this.P_=t,this.ka.currentTime=this.ka.currentTime,this.BV&&this.BV.IF()}},i.eW=function(t){var n=this.Gl;this.BV.vo(),this.BV=t,this.BV.Io(Il.ol,this.So);var i=this.Gl;n!==i&&this.Ro(new Gl(this.I_,i))},i.pl=function(){var t=T.coroutine(le.mark(function t(){var n=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dN=!1,this.ZV=aA.uN(),this.QV.mo(),this.qV=void 0,this.zV=void 0,this.tX=!1,this.nX=!1,this.ZS=void 0,this.KV=!1,this.GV=void 0,this.DX(new ou),this.eW(new iR(this)),this.LV.pl(),this.dX(),HI&&(pT(this.uX),this.uX=0,this.Oo(Go.lc,this.vX),this.Oo(Il.ol,this.gX)),t.next=17,this.xV.mo();case 17:return t.next=19,this.xV.Ub(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.JE){t.next=4;break}return t.next=3,n.JE.vo();case 3:n.JE=void 0;case 4:case"end":return t.stop()}},t)})));case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uW(),this.PR(),t.next=4,this.pl();case 4:return t.next=6,this.xV.Nv();case 6:return this.LV.vo(),this.BV.vo(),this.OR(),this.Rw.Nv(),this.HV.Nv(),this.UV.Nv(),this.MV.Nv(),t.next=15,this.VV.Nv();case 15:this.FV.Nv(),this.XV.Nv(),this.Co();case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HX=function(){this.mR.addEventListener("play",this.wX),this.mR.addEventListener("pause",this.yX),this.mR.addEventListener("timeupdate",this.RX),this.mR.addEventListener("progress",this.EX),this.mR.addEventListener("loadstart",this.SX),this.mR.addEventListener("ended",this.IX),this.mR.addEventListener("ratechange",this.AX),this.mR.addEventListener("volumechange",this.CX),this.mR.addEventListener("durationchange",this.TX),this.mR.addEventListener("resize",this.OX),this.mR.addEventListener("loadedmetadata",this.OX),this.mR.addEventListener("error",this.NX),qe()?(this.ka.addEventListener("encrypted",this.xX),this.ka.addEventListener("waitingforkey",this.PX)):void 0!==Or.WebKitMediaKeys&&"function"==typeof Or.WebKitMediaKeys.isTypeSupported?this.ka.addEventListener("webkitneedkey",this.LX):ze()?this.ka.addEventListener("webkitneedkey",this.MX):void 0!==Or.MSMediaKeys&&"function"==typeof Or.MSMediaKeys.isTypeSupported&&this.ka.addEventListener("msneedkey",this.BX)},i.uW=function(){this.mR.removeEventListener("play",this.wX),this.mR.removeEventListener("pause",this.yX),this.mR.removeEventListener("timeupdate",this.RX),this.mR.removeEventListener("progress",this.EX),this.mR.removeEventListener("loadstart",this.SX),this.mR.removeEventListener("ended",this.IX),this.mR.removeEventListener("ratechange",this.AX),this.mR.removeEventListener("volumechange",this.CX),this.mR.removeEventListener("durationchange",this.TX),this.mR.removeEventListener("resize",this.OX),this.mR.removeEventListener("loadedmetadata",this.OX),this.mR.removeEventListener("error",this.NX),this.mR.removeEventListener("encrypted",this.xX),this.mR.removeEventListener("waitingforkey",this.PX),this.mR.removeEventListener("webkitneedkey",this.LX),this.mR.removeEventListener("webkitneedkey",this.MX),this.mR.removeEventListener("msneedkey",this.BX)},i.bF=function(){var t;this.PV||(this.ZV=this.wy,this.PV=new KS((t=this).I_,t.N_,t.D_,t.x_,t.B_,t.O_,t.P_,t.U_),this.uW(),this.PV.Io(qI,this.So))},i.TF=function(){if(this.PV){var t,n,i=this.PV;this.PV=void 0,t=this,(n=i).N_===t.N_||w(n.N_)&&w(t.N_)||t.Ro(new Ll(t.N_)),t.O_=n.O_,t.U_=n.U_,t.P_=n.P_,n.x_?t.Lw():t.Bw().catch(S),n.I_!==t.I_?t.rh(n.I_):!n.B_&&t.B_?t.Ro(new Vl(t.I_)):n.B_&&!t.B_&&t.Ro(new Xl(t.I_)),!n.D_&&t.D_&&t.Ro(new Fl(t.I_)),i.Oo(qI,this.So),this.HX()}},i.sW=function(){this.oW||(PD(this.ka,b.Ns),this.eX=!0)},i.hW=function(t){t.appendChild(this.ka)},i.vF=function(){HI&&this.vX(),this.BV.IF()},L(n,[{key:"DF",get:function(){return this.rX}},{key:"iy",get:function(){return this.JE?this.JE.iy:aA.uN()}},{key:"ey",get:function(){var t=this.XR;if(t&&!w(t.getTime())){var n=1e3*this.I_;return new Date(t.getTime()+n)}}},{key:"XR",get:function(){if(this.mR.getStartDate)return this.dN&&this.zV||(this.zV=this.mR.getStartDate()),this.zV}},{key:"I_",get:function(){return this.PV?this.PV.I_:void 0!==this.qV?this.qV:this.ka.currentTime}},{key:"fL",get:function(){return this.OV}},{key:"N_",get:function(){return this.PV?this.PV.N_:this.JE?this.JE.N_:this.ka.duration}},{key:"D_",get:function(){return this.B_?this.XX():this.PV?this.PV.D_:this.ka.ended||this.KV}},{key:"Xo",get:function(){return this.ZS}},{key:"mR",get:function(){return this.ka}},{key:"x_",get:function(){return this.nX?this.iX:this.PV?this.PV.x_:this.ka.paused}},{key:"wy",get:function(){return this.ZV.VI(aA.iN(this.ka.played))}},{key:"yp",get:function(){return this.ka.offsetHeight*b.Ns.Zu}},{key:"us",get:function(){return this.ka.offsetWidth*b.Ns.Zu}},{key:"CR",get:function(){return vA}},{key:"Gl",get:function(){return this.BV.Gl}},{key:"my",get:function(){return this.JE?this.JE.my:aA.uN()}},{key:"B_",get:function(){return this.PV?this.PV.B_:this.dN}},{key:"O_",get:function(){return this.PV?this.PV.O_:this.ka.muted},set:function(t){this.PV?this.PV.O_=t:this.ka.muted=t}},{key:"P_",get:function(){return this.PV?this.PV.P_:void 0!==this.JV?this.JV:this.ka.playbackRate},set:function(t){this.PV?this.PV.P_=t:this.x_||this.rX?(this.JV=t,this.bX(t)):(this.JV=void 0,this.ka.playbackRate=t)}},{key:"aW",get:function(){return this.lI}},{key:"U_",get:function(){return this.PV?this.PV.U_:this.ka.volume},set:function(t){this.PV?this.PV.U_=t:this.ka.volume=t}},{key:"xw",get:function(){return this.XV}},{key:"sy",get:function(){return!!this.ka.webkitCurrentPlaybackTargetIsWireless}},{key:"oW",get:function(){return this.eX}},{key:"cW",get:function(){return _e({},wS)}}]),n}(Eu);function GI(t){try{var n=Hs(t),i=new Gs;return Os(xs(fs(n,i,ws(n,i,!0)),!0))}catch(t){return}}var jI=.01;function QI(t,n,i){if(void 0===i&&(i=0),!n.bl)return 0;var r=n.CI(t),e=jI*i;return r===n.pI(0)?r+=e:r===n.bI(n.bl-1)&&(r-=e),r}function YI(t){return!!t.cues&&t.cues.length>0}var ZI=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Qw=function(){},L(n,[{key:"L_",get:function(){return 0}},{key:"M_",get:function(){return 0}}]),n}(zI),JI="theoplayer-texttracks",$I=function(){function t(t){void 0===t&&(t=5),this.fW=void 0;var n=Or.document.createElement("div");n.className=JI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.fW=n,this.Gw()}var n=t.prototype;return n.jw=function(){this.fW.style.display="none"},n.Gw=function(){Wr(this.fW.style,"flex","-ms-flexbox")},n.hW=function(t){t.appendChild(this.fW)},n.Nv=function(){Vr(this.fW)},L(t,[{key:"uy",get:function(){return this.fW}}]),t}();function KI(t,n){return t?_e({},n,Od({LB:t.LB,BB:t.BB,PB:t.PB,xB:t.xB,MB:t.MB,UB:t.UB,FB:t.FB})):n}function tN(t){return t.BB&&yr(t.BB,"%")?Number(t.BB.replace("%",""))/100:t.BB&&yr(t.BB,"em")?Number(t.BB.replace("em","")):1}var nN,iN,rN=function(){function t(t,n,i,r,e){var u=this;this.vW=we(),this.dW=!0,this.lW=void 0,this.$y=void 0,this.ka=void 0,this.OV=void 0,this._W=void 0,this.gW=function(t){return u.vW.has(t.sm)},this.wW=function(t){return!u.gW(t)},this.yW=function(t){return u.Cb(t.Uy)},this.mW=function(t){return u.removeCue(t.Uy)},this.kW=function(){return u.pW()},this.AW=function(t){return u.bW(t.Uy)},this.TW=function(t){return u.EW(t.Uy)},this.SW=function(t){u.RW(t.us,t.yp)},this.$y=t,this._W=this.lW=e,this.ka=this.IW(i),this.OV=r,n.appendChild(this.ka),this.NW(),this.$y.jl.Al.forEach(function(t){return u.Cb(t)}),this.fL.Io("lO",this.SW),this.RW(this.fL.pO,this.fL.kO)}var n=t.prototype;return n.DW=function(t){this.lW=KI(t,this._W),this.lW.xB&&(this.mR.style.fontFamily=this.lW.xB),this.lW.FB&&(this.mR.style.visibility=this.lW.FB),this.RW(this.fL.pO,this.fL.kO),this.OW()},n.xW=function(){return this.lW},n.NW=function(){this.$y.Io(_d.jd,this.yW),this.$y.Io(_d.Yd,this.mW),this.$y.Io(_d.ul,this.kW)},n.PW=function(){var t=this;this.$y.Oo(_d.jd,this.yW),this.$y.Oo(_d.Yd,this.mW),this.$y.Oo(_d.ul,this.kW),this.$y.jl.Al.forEach(function(n){return t.BW(n)})},n.LW=function(t){t.Io(K_.Py,this.AW),t.Io(K_.Ly,this.TW)},n.BW=function(t){t.Oo(K_.Py,this.AW),t.Oo(K_.Ly,this.TW)},n.Cb=function(t){t.sm||(t.sm=this.MW),this.LW(t),t.um&&this.bW(t)},n.removeCue=function(t){this.BW(t),this.EW(t)},n.pW=function(){this.$y.zl===qd.Xl?this.UW():this.FW()},n.UW=function(){var t=this,n=this.fL.pO,i=this.fL.kO,r=new vT(n,i);this.SW(r),this.dW=!1,this.HW.forEach(function(n){return t.bW(n)})},n.bW=function(t){this.dW||this.wW(t)&&(this.VW(t),this.vW.set(t.sm,t))},n.VW=function(t){var n=this.ka,i=this.XW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.sm,n.appendChild(e)}},n.FW=function(){var t=this;this.dW=!0,this.vW.forEach(function(n){return t.EW(n)})},n.EW=function(t){this.gW(t)&&(this.WW(t),this.vW.delete(t.sm))},n.WW=function(t){for(var n=this.ka,i=n.getElementsByClassName(t.sm);i.length;)n.removeChild(i[0])},n.OW=function(){for(var t=0,n=this.qW;t<n.length;t++){var i=n[t];this.WW(i),this.VW(i)}},n.Nv=function(){Vr(this.mR),this.PW(),this.fL.Oo("lO",this.SW)},L(t,[{key:"Gd",get:function(){return this.$y}},{key:"mR",get:function(){return this.ka}},{key:"fL",get:function(){return this.OV}},{key:"zW",get:function(){return this.lW}},{key:"qW",get:function(){return this.$y.Ql.Al.filter(this.gW)}},{key:"HW",get:function(){return this.$y.Ql.Al.filter(this.wW)}}]),t}();function eN(t){return uN[t||"none"]}!function(t){t.GW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.jW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.QW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.YW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(nN||(nN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(iN||(iN={}));var uN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function sN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var oN=ye({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),hN=ye({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),aN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=oN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){kr(t,"px")?t=_(t)/24+"em":kr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=hN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(kr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},cN=0,fN={PB:iN.WHITE,xB:"Arial, Helvetica, Sans-Serif",BB:"100%",LB:iN.TRANSPARENT,MB:iN.TRANSPARENT,UB:"none",FB:"visible"},vN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,fN)||this}U(n,t);var i=n.prototype;return i.IW=function(t){var n=e.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.RW=function(t,n){var i=n/15;this.mR.style.fontSize=i+"px"},i.XW=function(t){if(t.Gd&&t.Gd.Ys!==Y_.TTML)return[];var n,i=[],r=t,u=r.hb,s=r.wm,o=r.Vy;if(0===d.keys(s).length){Xr(n=e.createElement("div"),r.sm),mN(n);for(var h=dN(o,u,r.ab,void 0,this.mR),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=d.keys(s);f<v.length;f++){var l=v[f],_=e.createElement("div");_.id=l,Xr(_,r.sm);var g=dN(o,u,r.ab,_,this.mR);if(g){mN(_),gN(_,s[l],u,this.mR);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.DW=function(t){},L(n,[{key:"MW",get:function(){return"theoplayer-ttmlcue-"+cN++}}]),n}(rN);function dN(t,n,i,r,e){var u,s;if(nn(t)&&("SPAN"===(s=t).nu.toUpperCase()||"P"===s.nu.toUpperCase()||"BR"===s.nu.toUpperCase()||"DIV"===s.nu.toUpperCase()||"BODY"===s.nu.toUpperCase())){var o=function t(n){var i=n._u("region");if("p"===n.nu.toLowerCase())return i;var r=[];for(var e=0,u=n.lu;e<u.length;e++){var s=u[e];r.push(t(s))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n._u("style");yN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.pu).forEach(function(n){var r=Pw(n.iu,["ebutts","tts","xml"]);aN[r]&&aN[r](n.uu,t,i)})}(t,n,r)})(u="BODY"===t.nu.toUpperCase()?r:lN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n._u("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.lu)for(var e=0,u=null==n?void 0:n.lu;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.pu.some(function(t){return"id"===t.nu&&t.uu===r})});e&&wN(t,e,n,!0)}!function(t,n){var i=n.lu[0];if(!i||"metadata"!==i.nu.toLowerCase())return;var r=i.lu[0];wN(t,r,n)}(t,n)}(u,t,i);for(var h=[],a=t.au,c=0;c<a.length;c++){var f=dN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.nu.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return h}}else rn(t)&&(u=lN(t));if(u)return[u]}function lN(t){var n,i;if(rn(t))sN(n=e.createElement("text"),t.bu);else if(nn(t))switch(t.nu.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":n=e.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",_N(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=e.createElement("p")),_N(n,t);break;case"DIV":(n=e.createElement("div")).style.position="absolute",_N(n,t)}return n}function _N(t,n){var i=n.gu(Cw,"id");i&&(t.id=i)}function gN(t,n,i,r){yN(t,n.style,i,r),d.keys(n).forEach(function(i){aN[i]&&aN[i](n[i],t)})}function wN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var u=e.createElement("img");u.src=function(t){var n=t&&t.au.length>0?t.au[0]:null;return n&&rn(n)?"data:image/png;base64,"+n.bu:""}(n),u.id=t.id,u.style.height="100%",u.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n._u("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n._u("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(u)}function yN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(e){var u=Pw(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?yN(t,i[n][e],i,r):aN[u]&&aN[u](i[n][e],t,r)})})}function mN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var kN,pN,AN=void 0;function bN(t,n){for(var i,r=kN.ZW,e="",u=[],s=t.charAt(n.uh),o="",h={Ys:pN.JW,cu:"",$W:[]};n.uh<t.length+1;){switch(s=n.uh<t.length?t.charAt(n.uh):"EOF",r){case kN.ZW:switch(s){case"&":var a=t.substr(n.uh).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],AN||(AN=Or.document.createElement("textarea")),AN.innerHTML=i,AN.value),n.ih(a[0].length-1)):e+="&";break;case"<":if(e)return{Ys:pN.KW,Vy:e};r=kN.tq;break;case"EOF":return{Ys:pN.KW,Vy:e};default:e+=s}break;case kN.tq:switch(s){case"\t":case"\n":case"\f":case" ":r=kN.nq;break;case".":r=kN.iq;break;case"/":r=kN.rq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=kN.uq;break;case">":return n.ih(1),h;case"EOF":return h;default:e=s,r=kN.sq}break;case kN.sq:switch(s){case"\t":case"\f":case" ":r=kN.nq;break;case"\n":o=s,r=kN.nq;break;case".":r=kN.iq;break;case">":return n.ih(1),{Ys:pN.JW,cu:e,$W:[]};case"EOF":return{Ys:pN.JW,cu:e,$W:[]};default:e+=s}break;case kN.iq:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=kN.nq;break;case"\n":u.push(o),o=s,r=kN.nq;break;case".":u.push(o),o="";break;case">":return n.ih(1),u.push(o),{Ys:pN.JW,cu:e,$W:u};case"EOF":return u.push(o),{Ys:pN.JW,cu:e,$W:u};default:o+=s}break;case kN.nq:switch(s){case"&":r=kN.oq;break;case">":n.ih(1);var c=o.trim();return c=c.replace(/\s/," "),{Ys:pN.JW,cu:e,$W:u,hq:c};default:o+=s}break;case kN.oq:for(var f="",v=n.uh;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=kN.nq;break;case kN.rq:switch(s){case">":return n.ih(1),{Ys:pN.aq,cu:e};case"EOF":return{Ys:pN.aq,cu:e};default:e+=s}break;case kN.uq:switch(s){case">":return n.ih(1),{Ys:pN.cq,fq:e};case"EOF":return{Ys:pN.cq,fq:e};default:e+=s}}n.ih(1)}}!function(t){t.ZW="Data",t.tq="Tag",t.sq="StartTag",t.iq="StartTagClass",t.nq="StartTagAnnotation",t.oq="CharRefInAnnotation",t.rq="EndTag",t.uq="TimestampTag"}(kN||(kN={})),function(t){t.KW="string",t.JW="starttag",t.aq="endtag",t.cq="timestamp"}(pN||(pN={}));var TN,EN,SN={PB:iN.WHITE,xB:"sans-serif",BB:"100%",LB:"rgba(0,0,0,0.8)",MB:iN.TRANSPARENT,UB:"none",FB:"visible"},RN="theoplayer-webvtt-region-",IN="theoplayer-webvtt-styling-",NN="theoplayer-webvtt-voice-",DN=5.23,CN=1.14,ON=0,xN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,SN)||this).vq={},u.dq=UN(3),u}U(n,t);var i=n.prototype;return i.IW=function(t){var n=e.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,zr(n),Wr(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.zW.xB,n.style.whiteSpace="pre-line",n},i.RW=function(t,n){for(var i=n/100,r=t/100,e=l.min(i,r),u=tN(this.zW),s=0,o=d.keys(this.lq);s<o.length;s++){var h=o[s],a=this.lq[h]._q;this.gq(a,e,u,this.lq[h].jy)}this.gq(this.wq,e,u),this.yq()},i.yq=function(){var t=tN(this.zW);this.wq.style.padding=t>=1.5?"0":1/t+"em"},i.VW=function(t){var n=this.mR,i=this.fL.kO/100,r=this.wq;t.jy&&(this.lq[t.jy.xl]||(this.lq[t.jy.xl]={jy:t.jy,_q:FN(t.jy,i)}),r=this.lq[t.jy.xl]._q),n.querySelector("."+r.className)||n.appendChild(r);var e=this.XW(t);r.children.length>=1&&t.jy&&"up"===t.jy.fm&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.sm,r.appendChild(s)}},i.XW=function(t){var n=[];return t&&n.push(this.mq(t)),n},i.mq=function(t){for(var n=new Gs,i=t.Vy,r=this.kq(t),u=r,s="",o=[],h={};n.uh<i.length;){var a=bN(i,n);if(a.Ys===pN.KW){var c=this.pq(a.Vy);PN(c,h),u.appendChild(c)}else if(a.Ys===pN.JW){switch(h[a.cu.toLowerCase()]||(h[a.cu.toLowerCase()]=[]),h[a.cu.toLowerCase()].push(a),a.cu.toLowerCase()){case"c":break;case"i":var f=e.createElement("i");u.appendChild(f),u=f;break;case"b":var v=e.createElement("b");u.appendChild(v),u=v;break;case"u":var d=e.createElement("u");u.appendChild(d),u=d;break;case"ruby":var l=e.createElement("ruby");u.appendChild(l),u=l;break;case"rt":if("ruby"===s){var _=e.createElement("rt");u.appendChild(_)}break;case"v":break;case"lang":o.push(a.hq)}s=a.cu||""}else if(a.Ys===pN.aq){h[a.cu.toLowerCase()]&&h[a.cu.toLowerCase()].pop(),(!a.cu||"C"!==a.cu.toUpperCase()&&"V"!==a.cu.toUpperCase())&&("LANG"===a.cu.toUpperCase()?o.pop():"RUBY"===a.cu.toUpperCase()&&"RUBY"===u.tagName?u=u.parentNode.parentNode:u.tagName&&u.tagName.toUpperCase()===a.cu.toUpperCase()&&(u=u.parentNode)),s=a.cu||""}else if(a.Ys===pN.cq){var g=a.fq,w=new Gs;try{nw(g,w)}catch(t){_t("ERROR collecting timestamp",t)}}}return r},i.pq=function(t){var n=e.createElement("span");return sN(n,t),n.style.background=this.zW.LB,n.style.color=this.zW.PB,n},i.gq=function(t,n,i,r){if(r){var e=BN(r,n);t.style.height=e*i+"px",t.style.left=LN(r)+"%",t.style.top=MN(r,n)+"px"}t.style.fontSize=DN*n*i+"px"},i.kq=function(t){var n=e.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Xy,function(t,n){"rl"===n.Yy?t.style.writingMode="vertical-rl":"lr"===n.Yy?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=yg(n);HN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=wg(n),u=gg(n),s=yg(n);HN(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.Qy?0:_g(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.Qy?0:_g(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.zW.MB,n.style.color=this.zW.PB,n.style.textShadow=eN(this.zW.UB),n},i.WW=function(t){for(var n=t.sm,i=this.mR,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,h=d.keys(this.lq);o<h.length;o++){var a=h[o];if(yr(r[e].className,RN+a)){delete this.lq[a];break}}i.removeChild(r[e])}}},L(n,[{key:"lq",get:function(){return this.vq||(this.vq={}),this.vq}},{key:"wq",get:function(){return this.dq||(this.dq=UN(3)),this.dq}},{key:"MW",get:function(){return"theoplayer-webvtt-cue-"+ON++}}]),n}(rN);function PN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.$W)for(var u=0,s=e.$W;u<s.length;u++){var o=s[u];Xr(t,IN+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.hq&&Xr(t,NN+c.hq)}}function BN(t,n){return t.hm*(DN*n)*CN}function LN(t){return t.vm-t.am*t.us/100}function MN(t,n){var i=t.dm,r=t.cm*BN(t,n)/100;return l.max(0,i-r)}function UN(t){var n=e.createElement("div");return n.className=RN+"default",zr(n),Wr(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=DN*t+"px",n.style.lineHeight=CN+"em",n}function FN(t,n){var i=UN(n);i.className=RN+t.xl;var r=t.us,e=BN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=LN(t)+"%",i.style.top=MN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function HN(t){return""===t.Yy}!function(t){t[t.Aq=0]="Aq",t[t.bq=1]="bq",t[t.Tq=2]="Tq",t[t.Eq=3]="Eq",t[t.Sq=4]="Sq",t[t.Rq=5]="Rq"}(TN||(TN={})),function(t){t[t.Iq=0]="Iq",t[t.Nq=1]="Nq",t[t.Dq=2]="Dq",t[t.Cq=3]="Cq"}(EN||(EN={}));var VN=15,XN=32,WN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),qN=function(){function t(){this.Oq=[],this.xq=0,this.Pq=void 0;for(var t=0;t<XN;t++)this.Oq.push(null);this.Pq=!1}var n=t.prototype;return n.Bq=function(t){for(var n=0;n<XN;n++)t&&(this.Oq[n]=t.Oq[n])},n.Z_=function(t){for(var n=0;n<XN;n++)if(this.Oq[n]!==t.Oq[n])return!1;return!0},n.Lq=function(){for(var t=0;t<XN;t++)if(null!==this.Oq[t])return!1;return!0},n.Mq=function(t){this.xq!==t&&(this.xq=t),this.xq<0?this.xq=0:this.xq>XN&&(this.xq=XN-1)},n.Uq=function(t){var n=this.xq+t;this.Mq(n)},n.Fq=function(){this.Uq(-1),this.Oq[this.xq]=null},n.Hq=function(t){t>=144&&this.Fq();var n,i=WN[n=t]?String.fromCharCode(WN[n]):String.fromCharCode(n);this.xq>=XN||(32===Number(i)?(this.Oq[this.xq]=this.Pq?"</i>":"<i>",this.Pq=!this.Pq):this.Oq[this.xq]=i,this.Uq(1))},n.Vq=function(t){for(var n=t;n<XN;n++)this.Oq[n]=null},n.Ko=function(){this.Vq(0),this.xq=0},n.Xq=function(){this.Vq(this.xq)},n.Wq=function(t,n){for(var i=this.Oq,r=null,e=0;e<XN;e++){var u=i[e];null===u?r=null:(r||(r={qq:e,zq:t,us:0,yp:1,Oq:[[]]},n.push(r)),r.Oq[0].push(u),r.us++)}},n.ow=function(t,n){return t.Gq(this.Oq,n)},t}();var zN=function(){function t(){this.jq=void 0,this.Qq=void 0,this.Yq=null,this.jq=[];for(var t=0;t<VN;t++)this.jq.push(new qN);this.Qq=VN-1,this.pl()}var n=t.prototype;return n.Bq=function(t){for(var n=0;n<VN;n++)this.jq[n].Bq(t.jq[n])},n.Z_=function(t){for(var n=!0,i=0;i<VN;i++)if(!this.jq[i].Z_(t.jq[i])){n=!1;break}return n},n.Lq=function(){for(var t=!0,n=0;n<VN;n++)if(!this.jq[n].Lq()){t=!1;break}return t},n.pl=function(){for(var t=0;t<VN;t++)this.jq[t].Ko();this.Qq=VN-1},n.Hq=function(t){this.jq[this.Qq].Hq(t)},n.Zq=function(){this.jq[this.Qq].Fq()},n.Xq=function(){this.jq[this.Qq].Xq()},n.Jq=function(){if(null!==this.Yq){var t=this.Qq+1-this.Yq,n=this.jq[t];n&&(Ke(this.jq,t),n.Ko(),this.jq.splice(this.Qq,0,n))}},n.Uq=function(t){this.jq[this.Qq].Uq(t)},n.$q=function(t){this.Yq=t},n.Kq=function(t){var n=t.tz;this.Yq&&n<this.Yq-1&&(n=this.Yq-1),this.Qq=n;var i=this.jq[this.Qq];null!==t.nz&&i.Mq(t.nz)},n.iz=function(){for(var t=this.jq,n=[],i=0;i<t.length;i++){t[i].Wq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];jN(u,o)&&(u=GN(u,o),Ke(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(QN)},n.ow=function(t){return t.rz(this.jq)},t}();function GN(t,n){for(var i=l.min(t.qq,n.qq),r=l.min(t.zq,n.zq),e=l.max(t.qq+t.us,n.qq+n.us)-i,u=l.max(t.zq+t.yp,n.zq+n.yp)-r,s=new Array(u),o=0;o<u;o++){var h=new Array(e),a=t.Oq[o+r-t.zq];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.qq]=a[c]);var f=n.Oq[o+r-n.zq];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.qq]=f[v]);s[o]=h}return{qq:i,zq:r,us:e,yp:u,Oq:s}}function jN(t,n){return t.qq<=n.qq+n.us&&n.qq<=t.qq+t.us&&t.zq<=n.zq+n.yp&&n.zq<=t.zq+t.yp}function QN(t){for(var n=new Array(t.yp),i=t.Oq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var h=e[o];h?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(h)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var a=n.join("\n");return{qq:t.qq,zq:t.zq,us:t.us,yp:t.yp,Vy:a}}var YN=function(){function t(t,n){this.tz=t,this.nz=n}return t.prototype.Z_=function(t){return this.tz===t.tz&&this.nz===t.nz},t}(),ZN=function(){function t(t){this.ez=void 0,this.uz=void 0,this.sz=t,this.ez=this.oz(),this.uz=this.hz()}var n=t.prototype;return n.oz=function(){for(var t=new YN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.az;n<i.length;n++){var r=i[n],e=l.min(t.tz,r.cz.tz),u=l.min(t.nz,r.cz.nz);t=new YN(e,u)}return t},n.hz=function(){for(var t=new YN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.az;n<i.length;n++){var r=i[n],e=l.max(t.tz,r.fz.tz),u=l.max(t.nz,r.fz.nz);t=new YN(e,u)}return t},L(t,[{key:"cz",get:function(){return this.ez}},{key:"fz",get:function(){return this.uz}},{key:"az",get:function(){return ru(this.sz.map(function(t){return t.az}))}}]),t}(),JN=function(){function t(t,n){this.vz="",this.HB=t,this.ez=n}var n=t.prototype;return n.Hq=function(t){this.vz+=t},n.dz=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hq(i)}},L(t,[{key:"lz",get:function(){return this.vz}},{key:"az",get:function(){return[this]}},{key:"_z",get:function(){return this.HB}},{key:"cz",get:function(){return this.ez}},{key:"fz",get:function(){return new YN(this.cz.tz,this.cz.nz+this.lz.length-1)}}]),t}(),$N=function(){function t(){}var n=t.prototype;return n.gz=function(t){return t.ow(this)},n.rz=function(t){var n=this;return ru(t.map(function(t,i){return t.ow(n,i)}))},n.Gq=function(t,n){return new KN(t,n).wz()},t}(),KN=function(){function t(t,n){this.yz=[],this.mz=null,this.tz=t,this.kz=n}var n=t.prototype;return n.wz=function(){if(this.pz)return[];for(var t=0;t<this.tz.length;t++)this.Az(t);return this.bz(),this.yz},n.Tz=function(t){this.mz=new JN(oD,new YN(this.kz,t))},n.bz=function(){this.mz&&(this.yz.push(this.mz),this.mz=null)},n.Az=function(t){var n=this.tz[t];tD(n)?this.mz&&this.bz():(this.mz||this.Tz(t),this.mz.Hq(n))},L(t,[{key:"pz",get:function(){return this.tz.every(tD)}}]),t}();function tD(t){return null==t}var nD,iD=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return U(n,t),n}(vg),rD=function(t){function n(n){var i;return(i=t.call(this,"Ez")||this).cue=n,i}return U(n,t),n}(Ru);!function(t){t[t.hI=0]="hI",t[t.Sz=1]="Sz",t[t.Rz=2]="Rz",t[t.Iz=3]="Iz",t[t.je=4]="je"}(nD||(nD={}));var eD,uD=function(t){function n(){var n;return(n=t.call(this)||this).Mg=p_.vg,n.Fy=p_.vg,n.Nz=void 0,n.Dz=void 0,n.Cz=void 0,n.Oz=void 0,n.zl=nD.hI,n.Nz=new zN,n.Dz=new zN,n.Cz=new zN,n.Oz=n.Nz,n}U(n,t);var i=n.prototype;return i.Hq=function(t){this.Oz.Hq(t),this.zl!==nD.Sz&&this.zl!==nD.Rz||this.xz()},i.jN=function(t){t!==this.zl&&(this.zl=t,this.zl===nD.Iz?this.Oz=this.Dz:(this.Oz=this.Nz,this.Oz.pl()),this.zl!==nD.Rz&&(this.Nz.$q(null),this.Dz.$q(null)))},i.Kq=function(t){this.Oz.Kq(t)},i.Pz=function(){this.jN(nD.Iz)},i.Bz=function(){this.zl!==nD.je&&(this.Oz.Zq(),this.Oz===this.Nz&&this.xz())},i.Lz=function(){},i.Mz=function(){},i.Uz=function(){this.Oz.Xq(),this.xz()},i.Fz=function(t){this.Oz=this.Nz,this.jN(nD.Rz),this.Oz.$q(t)},i.Hz=function(){},i.Vz=function(){this.jN(nD.Sz)},i.Xz=function(){this.jN(nD.je)},i.Wz=function(){this.jN(nD.je)},i.qz=function(){this.Nz.pl(),this.xz()},i.zz=function(){this.Oz.Jq(),this.xz()},i.Gz=function(){this.Dz.pl()},i.jz=function(){if(this.zl===nD.Iz){var t=this.Nz;this.Nz=this.Dz,this.Dz=t,this.Oz=this.Dz}this.xz()},i.Qz=function(t){this.Oz.Uq(t)},i.xz=function(){if(null!==this.Mg){if((!this.Fy||this.Fy.wg())&&!this.Nz.Lq())this.Fy=this.Mg;else if(!this.Nz.Z_(this.Cz)){var t=this.Yz();if(this.Mg.q_(this.Fy)){var n=new iD(this.Fy.W_(),this.Mg.W_(),t);this.Ro(new rD(n))}this.Fy=this.Nz.Lq()?null:this.Mg}this.Cz.Bq(this.Nz)}},i.Yz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return l.abs(t.fz.nz-n.cz.nz)<=1||l.abs(n.fz.nz-t.cz.nz)<=1||l.abs(t.fz.tz-n.cz.tz)<=1||l.abs(n.fz.tz-t.cz.tz)<=1}(o=r,h=s)||function(t,n){return sD(t.cz.tz,t.fz.tz,n.cz.tz,n.fz.tz)&&sD(t.cz.nz,t.fz.nz,n.cz.nz,n.fz.nz)}(o,h))&&(r=new ZN([].concat(r.az,s.az)),$e(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new $N).gz(this.Cz))},i.pl=function(){this.Mg=p_.vg,this.Fy=p_.vg,this.Nz.pl(),this.Nz.$q(null),this.Dz.pl(),this.Dz.$q(null),this.Cz.pl(),this.Cz.$q(null),this.Oz=this.Nz,this.zl=nD.hI},n}(Eu);function sD(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(eD||(eD={}));var oD={PB:iN.WHITE,xB:nN.QW,BB:"100%",LB:iN.BLACK,MB:"transparent",UB:"none",Zz:eD.FONT_REGULAR,FB:"visible"},hD=[{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.GREEN,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.GREEN,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.BLUE,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.BLUE,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.CYAN,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.CYAN,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.RED,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.RED,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.YELLOW,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.YELLOW,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.MAGENTA,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.MAGENTA,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.WHITE,Zz:eD.FONT_ITALICS,nz:0},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE_ITALICS,nz:0},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:0},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:0},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:4},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:4},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:8},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:8},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:12},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:12},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:16},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:16},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:20},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:20},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:24},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:24},{Jz:iN.WHITE,Zz:eD.FONT_REGULAR,nz:28},{Jz:iN.WHITE,Zz:eD.FONT_UNDERLINE,nz:28}],aD=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],cD=function(t){function n(){var n;(n=t.call(this)||this).$z=void 0,n.Kz=null,n.tG=null,n.nG=0;var i=new uD;return n.$z=[i,new uD],i.Io("Ez",n.So),n}U(n,t);var i=n.prototype;return i.pl=function(){for(var t=0,n=this.$z;t<n.length;t++){n[t].pl()}},i.iG=function(t,n){if(n.Ys===EN.Iq&&n.rG){n.eG&&(this.nG=0),this.$z[this.nG].Mg=t;var i=127&n.uG,r=127&n.sG;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.oG(),r>=48&&r<=63&&this.hG(i,r);break;case 18:case 19:r>=32&&r<=63&&this.hG(i,r);break;case 20:case 21:r>=32&&r<=47&&this.aG(i,r);break;case 23:r>=33&&r<=35&&this.aG(i,r),r>=46&&r<=47&&this.oG()}16===i&&r>=64&&r<=95?this.cG(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.cG(i,r),i>=32&&this.hG(i,r)}}},i.aG=function(t,n){var i=null;if(t===this.Kz&&n===this.tG)return this.Kz=null,this.tG=null,!0;i=20===t||23===t?0:1;var r=this.$z[i];return 20===t||28===t?32===n?r.Pz():33===n?r.Bz():34===n?r.Lz():35===n?r.Mz():36===n?r.Uz():37===n?r.Fz(2):38===n?r.Fz(3):39===n?r.Fz(4):40===n?r.Hz():41===n?r.Vz():42===n?r.Xz():43===n?r.Wz():44===n?r.qz():45===n?r.zz():46===n?r.Gz():47===n&&r.jz():r.Qz(n-32),this.Kz=t,this.tG=n,this.nG=i,!0},i.cG=function(t,i){t===this.Kz&&i===this.tG&&(this.Kz=null,this.tG=null);var r=t<=23?0:1,e=aD[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.fG(e,i);this.$z[r].Kq(u),this.Kz=t,this.tG=i,this.nG=r}},n.fG=function(t,n){var i=n>95?n-96:n-64;return{Jz:hD[i].Jz,Zz:hD[i].Zz,nz:hD[i].nz,tz:t}},i.hG=function(t,n){var i=t>=25?t-8:t,r=this.$z[this.nG],e=!1;switch(i){case 17:r.Hq(n+80),e=!0;break;case 18:r.Hq(n+112),e=!0;break;case 19:r.Hq(n+144),e=!0;break;default:t>=32&&(r.Hq(t),n>=32&&r.Hq(n),e=!0)}e&&(this.Kz=null,this.tG=null)},i.oG=function(){this.$z[this.nG].Oz.Uq(1)},i.Nv=function(){this.Co()},L(n,[{key:"Xp",get:function(){return this.$z.length}}]),n}(Eu),fD=function(){function t(t,n,i){this.vG=void 0,this.dG=t,this.lG=n,this.lW=i}var n=t.prototype;return n._G=function(){return this.vG=this.gG(),this.wG(),this.yG(),this.vG},n.gG=function(){var t=e.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.mG/XN*this.lG.kG*100+"%",t.style.height=1.2*this.pG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.lG.AG?"calc(1em - 1ch)":"",t.style.fontFamily=this.lW.xB,t.style.backgroundColor=this.lW.MB,t},n.wG=function(){var t=this.bG.tz/VN*100,n=this.bG.nz/XN*100,i=(XN-this.TG.nz-1)/XN*100,r=(VN-this.TG.tz-1)/VN*100;this.lG.EG||(n=i=1,this.vG.style.width="98%"),r<t?this.vG.style.bottom=r*this.lG.kG+"%":this.vG.style.top=t*this.lG.kG+"%",i<n?this.vG.style.right=i+"%":this.vG.style.left=n+"%"},n.yG=function(){for(var t=this.dG.az.sort(vD),n=0;n<t.length;n++)this.SG(t[n-1],t[n]),this.RG(t[n]);this.SG(t[t.length-1],null)},n.RG=function(n){var i=KI(this.lW,n._z),r=t.IG(i);sN(r,n.lz),this.vG.appendChild(r)},t.IG=function(t){var n=e.createElement("span");return n.style.display="inline-block",t.Zz!==eD.FONT_ITALICS&&t.Zz!==eD.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Zz!==eD.FONT_UNDERLINE&&t.Zz!==eD.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.PB,n.style.backgroundColor=t.LB,n.style.textShadow=eN(t.UB),n.style.height="1.2em",n},n.SG=function(t,n){var i=t?t.fz.tz:this.dG.cz.tz,r=n?n.cz.tz:this.dG.fz.tz,e=t?t.fz.nz:this.dG.cz.nz,u=n?n.cz.nz:this.dG.fz.nz;i<r&&(!n||t&&t.cz.tz!==n.cz.tz?this.NG():this.DG(this.dG.fz.nz-e),e=this.dG.cz.nz),e<u&&(n?this.DG(u-e):this.NG())},n.NG=function(){var t=e.createElement("br");this.vG.appendChild(t)},n.DG=function(t){if(!(t<=0)){var n=e.createElement("span");n.style.display="inline-block",sN(n,Ar(" ",t)),this.vG.appendChild(n)}},L(t,[{key:"bG",get:function(){return this.dG.cz}},{key:"TG",get:function(){return this.dG.fz}},{key:"mG",get:function(){return this.dG.fz.nz-this.dG.cz.nz+1}},{key:"pG",get:function(){return this.dG.fz.tz-this.dG.cz.tz+1}}]),t}();function vD(t,n){return function(t,n){if(t.tz!==n.tz)return t.tz-n.tz;return t.nz-n.nz}(t.cz,n.cz)}var dD=0;var lD=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,oD)||this).CG=void 0,u.OG=void 0,u}U(n,t);var i=n.prototype;return i.IW=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.zW.xB&&(n.style.fontFamily=this.zW.xB),n},i.RW=function(t,n){this.xG()},i.xG=function(){var t,n=tN(this.zW);this.OG={kG:(t=100*n)/100,AG:t<=100,EG:t<=150};var i=this.PG/XN;this.CG=i*n,this.mR.style.fontSize=this.CG+"px"},i.XW=function(t){var n=this;return this.OG&&this.OG.EG?this.BG(80):this.BG(100),this.xG(),t.Vy.map(function(t){return new fD(t,n.OG,n.zW)._G()})},i.BG=function(t){var n=(100-t)/2;this.mR.style.left=n+"%",this.mR.style.width=t+"%"},L(n,[{key:"PG",get:function(){var t=this.mR.offsetWidth;return this.OG&&this.OG.EG||(t*=.8),t}},{key:"MW",get:function(){return"theoplayer-cea608-texttrack-"+dD++}}]),n}(rN),_D=function(){function t(t,n,i,r,e){var u=this;this.LG=void 0,this.OV=void 0,this.Rw=void 0,this.MG=void 0,this.UG=[],this.wN=void 0,this.FG=function(t){var n=t.Gd;n.Io(_d.ol,u.HG),n.Io(_d.al,u.HG),n instanceof kI&&(n.FH=u.FH),u.VG(n)},this.HG=function(t){var n=t.Gd;u.VG(n)},this.XG=function(t){var n=t.Gd;n.Oo(_d.ol,u.HG),n.Oo(_d.al,u.HG),u.WG(n)},this.qG=function(){for(var t=u.FH,n=0,i=u.Rw.Al;n<i.length;n++){var r=i[n];r instanceof kI&&(r.FH=t)}},this.zG=function(){for(var t=0,n=u.UG;t<n.length;t++){n[t].DW(u.wN)}},this.GG=function(){for(var t=0,n=u.UG;t<n.length;t++){var i=n[t];i.DW(_e({},i.xW(),{FB:"hidden"}))}},this.jG=function(){for(var t=0,n=u.UG;t<n.length;t++){var i=n[t];i.DW(_e({},i.xW(),{FB:"visible"}))}},this.LG=t,this.OV=n,this.Rw=i,this.MG=e,this.wN=r,this.Rw.Io(vd.Fd,this.FG),this.Rw.Io(vd.Vd,this.XG),this.Rw.Io("sl",this.HG),this.MG.Io(oA.ul,this.qG),this.wN.Io("sl",this.zG),this.qG()}var n=t.prototype;return n.QG=function(t){for(var n=0,i=this.UG;n<i.length;n++){var r=i[n];if(r.Gd===t)return r}},n.YG=function(t){switch(t.Ys){case Y_.TTML:case Y_.SRT:case Y_.WEBVTT:case Y_.CEA608:return!0}return!1},n.ZG=function(t){switch(t.Ys){case Y_.TTML:return new vN(t,this.LG,t.Ll,this.OV);case Y_.SRT:case Y_.WEBVTT:return new xN(t,this.LG,t.Ll,this.OV);case Y_.CEA608:return new lD(t,this.LG,t.Ll,this.OV)}},n.JG=function(t){var n=this.QG(t);n||((n=this.ZG(t)).DW(this.wN),this.UG.push(n),t.zl===qd.Xl&&n.UW())},n.WG=function(t){for(var n=this.UG,i=n.length-1;i>=0;i-=1){var r=n[i];r.Gd===t&&(r.Nv(),Ke(n,i))}},n.VG=function(t){var n;(n=t.Bl)!==Yw.ak&&n!==Yw.mb||!this.YG(t)||(t.Gl===Q_.ERROR?this.WG(t):this.JG(t))},n.pl=function(){for(var t=0,n=this.UG;t<n.length;t++){var i=n[t];i.Gd.Oo(_d.ol,this.HG),i.Gd.Oo(_d.al,this.HG),i.Nv()}iu(this.UG)},n.Nv=function(){this.pl();for(var t=0,n=this.UG;t<n.length;t++){n[t].Nv()}this.Rw.Oo(vd.Fd,this.FG),this.Rw.Oo(vd.Vd,this.XG),this.Rw.Oo("sl",this.HG),this.MG.Oo(oA.ul,this.qG),this.wN.Oo("sl",this.zG)},L(t,[{key:"FH",get:function(){return this.MG.oN}}]),t}();function gD(t){var n=new BT,i=function(t){var n=[];return xT.WO(t)&&n.push(new xT(t)),PT.WO(t)&&n.push(new PT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.QO(e)}n.jO(i[0])}return n}var wD,yD=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).$G=void 0,u.KG=void 0,u.wN=void 0,u.tj=void 0,u.tj=gD(n),u.wN=e,u.$G=new $I,u.KG=new _D(u.$G.uy,u.fL,u.xw,u.wN,u.CR),u}U(n,t);var i=n.prototype;return i.Qw=function(){return this.ka},i.vo=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.tj.Nv(),this.$G.Nv(),this.KG.Nv(),n.next=5,t.prototype.vo.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.jw=function(){t.prototype.jw.call(this),this.$G.jw()},i.Gw=function(){t.prototype.Gw.call(this),this.$G.Gw()},i.hW=function(n){t.prototype.hW.call(this,n),this.$G.hW(n)},L(n,[{key:"mR",get:function(){return this.ka}},{key:"L_",get:function(){return this.ka.videoHeight}},{key:"M_",get:function(){return this.ka.videoWidth}},{key:"CR",get:function(){return this.tj}}]),n}(zI);!function(t){t.nj="HELLO",t.ij="HI_THERE",t.rj="INITIALIZE",t.ej="APPEND_INIT",t.uj="APPEND_DATA",t.sj="ACK",t.oj="REMOVE",t.hj="DESTROY_SESSION"}(wD||(wD={}));var mD=function(){function t(){this.Fu=void 0,this.ya=void 0,this.$E=new Ay}var n=t.prototype;return n.aj=function(t){var n=this;return this.$E.Ub(function(){var t=T.coroutine(le.mark(function t(i){var r,e,u,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),r=new MessageChannel,e=r.port1,u=r.port2,s.serviceWorker.controller){t.next=7;break}return t.next=7,cd(s.serviceWorker,"install",i);case 7:if("activated"===s.serviceWorker.controller.state){t.next=10;break}return t.next=10,cd(s.serviceWorker.controller,"activate",i);case 10:return o={kind:wD.nj,port:u},s.serviceWorker.controller.postMessage(o,[u]),e.start(),n.Fu=e,t.prev=15,t.next=18,cd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===wD.ij){t.next=23;break}throw new f("Could not set up message channel");case 23:n.ya=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),hu(t.t0)&&n.cj(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.fj=function(t,n){var i=this;return this.Fu,this.$E.Ub(T.coroutine(le.mark(function r(){var e;return le.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Fu){r.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Fu.postMessage(t,n),r.next=7,cd(i.Fu,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.vj=function(){var t=this;return this.$E.Ub(function(){return t.cj()})},n.cj=function(){if(s.serviceWorker.controller&&"activated"===s.serviceWorker.controller.state&&this.Fu){var t={kind:wD.hj};this.Fu.postMessage(t),this.Fu.close(),this.Fu=void 0}},t}(),kD=function(){function t(){this.dj=v_.jg}var n=t.prototype;return n.lj=function(t,n){var i=t.ig(n);this.dj=i.q_(this._j)?this.dj:i},n.gj=function(t){this.dj=t},L(t,[{key:"_j",get:function(){return this.dj}}]),t}(),pD=function(){function t(){this.Bb=T.resolve()}return t.prototype.wj=function(t){var n=this.Bb.then(t);return this.Bb=n.then(S,S),n},t}(),AD=function(t){function n(n,i){var r;return(r=t.call(this)||this).yj=void 0,r.mj=void 0,r.kj=!0,r.pj=void 0,r.$E=new pD,r.Aj=new su,r.bj=!1,r.Tj=!1,r.zC=n,r.Ej=i,r}U(n,t);var i=n.prototype;return i.Iy=function(t,n){if(this.DM!==t){this.kj=t;var i=new Ru(t?"Ol":"NU");this.Ro(i)}return T.resolve()},i.bM=function(t,n){},i.TM=function(t,n){},i.uM=function(){return this.Tj},i.mo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Aj.mo(),this.Aj=new su;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kM=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.EM=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.mM=function(){var t=T.coroutine(le.mark(function t(i,r,e){var u,s,o,h=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.Ys===TS.cM){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return u=i.bu,s=this.Sj(e),o=function(){var t=T.coroutine(le.mark(function t(){var i,r,e,o,a,c,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(s.Ao),i=Rw.Xk(new DataView(u.buffer)),(r=kw(i,Og.Qm)).length){t.next=5;break}throw new f("Moof boxes not found");case 5:return e=h.pj,o=n.Rj(r,e),a=h.Ij(r,e),c=u.buffer,v={kind:wD.uj,mimeType:h.zC,segment:u,startPts:p_.Kg(o).ow(),totalDuration:p_.Kg(a).ow()},t.next=12,h.Ej.fj(v,[c]);case 12:void 0===h.yj&&(h.yj=o),void 0===h.mj&&(h.mj=o),h.mj=h.mj.rg(a),h.Ro(new Ru(mS.hM));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.$E.wj(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h.bj=!0,t.next=4,o();case 4:return t.prev=4,s.vo(),h.bj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.pM=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ys===TS.cM){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.bu,e=this.Sj(i),u=function(){var t=T.coroutine(le.mark(function t(){var n,i,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(e.Ao),n=Rw.Xk(new DataView(r.buffer)),i=mw(n,Og.Am)){t.next=5;break}throw new f("Moov Box not found");case 5:if(0!==i.np.length){t.next=7;break}throw new f("Tracks not found");case 7:return s.pj=i.np[0].fp.Bk.Ug,u=r.buffer,o={kind:wD.ej,mimeType:s.zC,segment:r},t.next=12,s.Ej.fj(o,[u]);case 12:s.Ro(new Ru(mS.hM));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.$E.wj(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.bj=!0,t.next=4,u();case 4:return t.prev=4,e.vo(),s.bj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AM=function(){this.Tj=!0},i.Ih=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Sj(r),u=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(e.Ao),n={kind:wD.oj,mimeType:s.zC,endTime:p_.Yg(i).ow()},t.next=4,s.Ej.fj(n);case 4:s.yj=void 0,s.mj=void 0,s.Ro(new Ru(mS.hM));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.$E.wj(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.bj=!0,t.next=4,u();case 4:return t.prev=4,e.vo(),s.bj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.SU=function(t){return!1},i.RU=function(t){return T.resolve()},n.Rj=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.np.length)throw new f("No tracks");if(!i.np[0].DA)throw new f("No decode time");return new v_(i.np[0].DA.DA.toNumber(),n)},i.Sj=function(t){var n=new su;return n.ko(this.Aj.Ao),t&&n.ko(t),n},i.Ij=function(t,n){var i=0;return t.forEach(function(t){t.np.forEach(function(t){t.NA.forEach(function(t){t.LA.forEach(function(t){var n;i+=null!=(n=t.N_)?n:0})})})}),new v_(i,n)},L(n,[{key:"iy",get:function(){return void 0===this.yj||void 0===this.mj?aA.uN():new aA([this.yj.zg,this.mj.zg])}},{key:"iA",get:function(){return{Ff:this.zC}}},{key:"HC",get:function(){return this.zC}},{key:"CM",get:function(){return aA.uN()}},{key:"Qx",get:function(){return 30},set:function(t){}},{key:"$x",get:function(){return 30},set:function(t){}},{key:"DM",get:function(){return this.kj}},{key:"$O",get:function(){return this.bj}},{key:"Nj",get:function(){return this.yj}},{key:"Hy",get:function(){return this.mj}}]),n}(Eu),bD=function(){function t(t,n){this.ha=void 0,this.eF=void 0,this.uF=void 0,this.ha=t,this.uF=Ze(n,function(t){return Boolean(t.HC.match(/video/))}),this.eF=Ze(n,function(t){return Boolean(t.HC.match(/audio/))}),this.Dj()}t.Cj=function(n,i){for(var r=[],e=0;e<n.gF.length;e++){var u=n.gF[e].Ff;r.push(new AD(u,i))}return new t(n,r)};var n=t.prototype;return n.Dj=function(){},n.hS=function(t,n){return T.resolve(void 0)},n.vo=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.eF,this.uF].filter(J);n<i.length;n++)(r=i[n]).Co(),r.kM().catch(S);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.dF=function(t){},n._F=function(t,n,i,r){},n.AM=function(){var t,n;null==(t=this.eF)||t.AM(),null==(n=this.uF)||n.AM()},n.SU=function(t){return!1},n.RU=function(t){return T.resolve()},L(t,[{key:"Oj",get:function(){return[this.eF,this.uF].filter(J).filter(function(t){return t.DM})}},{key:"QU",get:function(){return this.eF}},{key:"iy",get:function(){return jS(this)}},{key:"iA",get:function(){return this.ha}},{key:"N_",get:function(){return 0}},{key:"uM",get:function(){var t,n,i,r,e=null==(t=null==(n=this.eF)?void 0:n.uM())||t,u=null==(i=null==(r=this.uF)?void 0:r.uM())||i;return e&&u}},{key:"my",get:function(){return new aA([0,1/0])}},{key:"YU",get:function(){return this.uF}},{key:"Ow",get:function(){throw new f("Not implemented")}}]),t}(),TD=v_.vg,ED=new v_(-1/0),SD=v_.jg,RD=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.z_=function(t,n){return t.J_(n)?Kl.V_:t.Z_(n)?Kl.F_:Kl.H_},i.rg=function(t,n){return t.rg(n)},i.ig=function(t,n){return t.ig(n)},i.Y_=function(t,n){return t.Y_(n)},i.OI=function(){return TD},i.xI=function(){return SD},i.UI=function(){return ED},n.iN=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new v_(t.start(r)),new v_(t.end(r)));return new n(i)},n.xj=function(t){for(var i=[],r=[],e=0;e<t.bl;e++)i.push(new v_(t.pI(e))),i.push(new v_(t.bI(e))),r.push(t.AI(e)),r.push(t.TI(e));return new n(i,r)},n.eN=function(t){return new n([t,t],[!0,!0])},i.DI=function(t,i){return new n(t,i)},i.II=function(t){return t.zg},n.uN=function(){return ID},n}(hA),ID=new RD([]),ND=function(t){function n(n){var i;return(i=t.call(this)||this).Pj=!0,i.Ej=new mD,i.Bj=new kD,i.JE=void 0,i.BV=void 0,i.Lj=!0,i.Mj=void 0,i.Uj=void 0,i.Fj=new T(function(t,n){i.Mj=t,i.Uj=n}),i.dN=!1,i.jV=T.resolve(),i.QV=new su,i.Hj=!0,i.ZV=aA.uN(),i.tj=void 0,i.Vj=void 0,i.eX=!1,i.Xj=function(){i.x_||i.Wj.bl<=0||i.iy.bl<=0||i.Bj.lj(new v_(i.iy.bI(i.iy.bl-1)),i.Wj.bI(i.Wj.bl-1))},i.qj=function(){i.Ro(new Fl(i.I_))},i.zj=function(){i.Ro(new Ul(i.I_,i.ey))},i.Gj=function(){i.Ro(new Ml(i.I_,i.P_))},i.jj=function(){i.Ro(new Wl(i.I_,i.U_))},i.Qj=function(){i.Ro(new Ll(i.N_))},i.Yj=function(){i.Ro(new Up(i.I_))},i.Zj=function(){i.rh(i.I_)},i.Jj=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.Hj&&i.Ro(new Cl(i.I_)),i.Lj=!1,i.Hj=!0;case 3:case"end":return t.stop()}},t)})),i.$j=function(){i.Lj=!0,i.Ro(new Dl(i.I_))},i.Vj=n,i.BV=new iR(en(i)),i.Vj.setAttribute("id","player_video"),i.Vj.setAttribute("x-webkit-airplay","deny"),i.Vj.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.Vj.playsInline=!0,i.Vj.style.width="100%",i.Vj.style.height="100%",i.Kj(),i.tQ(),i.tj=gD(i.Vj),i}U(n,t);var i=n.prototype;return i.Kj=function(){this.Vj.addEventListener("timeupdate",this.Xj),this.Vj.addEventListener("ended",this.qj),this.Vj.addEventListener("timeupdate",this.zj),this.Vj.addEventListener("ratechange",this.Gj),this.Vj.addEventListener("volumechange",this.jj),this.Vj.addEventListener("durationchange",this.Qj),this.Vj.addEventListener("playing",this.Yj),this.Vj.addEventListener("seeking",this.Zj),this.Vj.addEventListener("play",this.Jj),this.Vj.addEventListener("pause",this.$j)},i.nQ=function(){this.Vj.removeEventListener("timeupdate",this.Xj),this.Vj.removeEventListener("ended",this.qj),this.Vj.removeEventListener("timeupdate",this.zj),this.Vj.removeEventListener("ratechange",this.Gj),this.Vj.removeEventListener("volumechange",this.jj),this.Vj.removeEventListener("durationchange",this.Qj),this.Vj.removeEventListener("playing",this.Yj),this.Vj.removeEventListener("seeking",this.Zj),this.Vj.removeEventListener("play",this.Jj),this.Vj.removeEventListener("pause",this.$j)},i.tQ=function(){this.BV.Io(Il.ol,this.So)},i.iQ=function(){this.BV.Oo(Il.ol,this.So)},i.rh=function(t,n){this.QV.mo(),this.QV=new su,this.jV=this.QX(t,this.jV,this.QV.Ao).catch(S)},i.QX=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ZV=this.wy,u=null==(e=this.JE)?void 0:e.Oj){t.next=4;break}return t.abrupt("return");case 4:return s=l.max.apply(l,u.map(function(t){return t.Nj?t.Nj.zg:1/0})),this.dN=!0,this.Ro(new Vl(n)),t.next=9,i.catch(S);case 9:if(au(r),t.prev=10,this.Pj||this.rQ(),this.Vj.load(),this.Lj){t.next=17;break}return this.Hj=!1,t.next=17,vu(this.Vj.play(),r);case 17:if(!(this.Gl<cl.m_)){t.next=22;break}return t.next=20,this.BV.Lo(Il.ol,r);case 20:t.next=17;break;case 22:this.Mj(),this.Pj=!1,this.dN=!1,this.Ro(new Xl(this.I_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.Uj(),t.t0;case 32:return t.prev=32,this.eQ(),this.Bj.gj(new v_(s)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Lw=function(){this.Lj=!0,this.Vj.pause()},i.Bw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lj){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.Vj.src){t.next=9;break}return this.sW(),t.next=7,this.Fj;case 7:t.next=11;break;case 9:return t.next=11,this.Vj.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.Lj=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.vo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ej&&this.Ej.vj().catch(S),this.QV.mo(),this.nQ(),this.iQ(),this.BV.vo(),this.Co();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ej&&this.Ej.vj().catch(S),this.QV.mo(),this.Vj.removeAttribute("src"),this.Vj.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.Vj.removeAttribute("x-airplay-deny"),this.Vj.load(),this.BV.pl(),this.ZV=aA.uN();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sW=function(){this.oW||(PD(this.Vj,b.Ns),this.eX=!0)},i.rQ=function(){var t,n=this.Vj.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Vj.videoWidth/this.Vj.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Vj.style.width=i+"px",this.Vj.style.height=r+"px",this.Vj.style.marginLeft=(e-i)/2+"px",this.Vj.style.marginTop=(s-r)/2+"px",this.Vj.style.backgroundColor="black"}},i.eQ=function(){this.Vj.style.width="100%",this.Vj.style.height="100%",this.Vj.style.marginLeft="",this.Vj.style.marginTop="",this.Vj.style.backgroundColor=""},i.NR=function(t,n,i,r){},i.Nb=function(t,n,i,r,e,u){},i.eM=function(t){return T.resolve(void 0)},i.HR=function(){var t=this.uQ();return{hy:0,oy:t.droppedVideoFrames,ay:t.totalVideoFrames}},i.uQ=function(){var t={droppedVideoFrames:0,totalVideoFrames:0};return void 0!==this.Vj.webkitDroppedFrameCount?t.droppedVideoFrames=this.Vj.webkitDroppedFrameCount:t.droppedVideoFrames="function"==typeof this.Vj.getVideoPlaybackQuality?this.Vj.getVideoPlaybackQuality().droppedVideoFrames:0,void 0!==this.Vj.webkitTotalFrameCount?t.totalVideoFrames=this.Vj.webkitTotalFrameCount:t.totalVideoFrames="function"==typeof this.Vj.getVideoPlaybackQuality?this.Vj.getVideoPlaybackQuality().totalVideoFrames:0,t},i.Gw=function(){this.Vj.style.display="block"},i.jw=function(){this.Vj.style.display="none"},i.bF=function(){},i.Rh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ys!==cp.vS){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.Ej.aj();case 4:return i={kind:wD.rj,mediaBufferConfigs:n.gF.map(function(t){return t.Ff})},t.next=7,this.Ej.fj(i);case 7:return this.JE=bD.Cj(n,this.Ej),this.Vj.preload="none",this.Vj.src="https://theo.proxy/"+this.Ej.ya+"/master.m3u8",t.abrupt("return",this.JE);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.TF=function(){},i.Ob=function(t){},i.OR=function(){},i.FR=function(t){},i.RR=function(){return!1},i.hW=function(t){t.appendChild(this.Vj)},i.Qw=function(){return this.Vj},i.VX=function(){},L(n,[{key:"mR",get:function(){return this.Vj}},{key:"DF",get:function(){return!1}},{key:"I_",get:function(){return this.Vj.currentTime+this.Bj._j.zg}},{key:"x_",get:function(){return this.Vj.paused}},{key:"U_",get:function(){return this.Vj.volume},set:function(t){this.Vj.volume=t}},{key:"P_",get:function(){return this.Vj.playbackRate},set:function(t){this.Vj.playbackRate=t}},{key:"sQ",get:function(){return this.Vj.defaultPlaybackRate}},{key:"iy",get:function(){var t,n;return null!=(t=null==(n=this.JE)?void 0:n.iy)?t:aA.uN()}},{key:"Wj",get:function(){return RD.iN(this.Vj.buffered)}},{key:"wy",get:function(){var t=aA.rN(this.oQ);return this.ZV.VI(t.ih(this.Bj._j.zg))}},{key:"oQ",get:function(){return RD.iN(this.Vj.played)}},{key:"B_",get:function(){return this.dN}},{key:"N_",get:function(){return this.Vj.duration}},{key:"O_",get:function(){return this.Vj.muted},set:function(t){this.Vj.muted=t}},{key:"_z",get:function(){return this.Vj.style}},{key:"cW",get:function(){return _e({},wS,{GL:!0,jL:300})}},{key:"Gl",get:function(){return this.BV.Gl}},{key:"L_",get:function(){return this.Vj.videoHeight}},{key:"M_",get:function(){return this.Vj.videoWidth}},{key:"D_",get:function(){return this.Vj.ended}},{key:"yp",get:function(){return 0}},{key:"us",get:function(){return 0}},{key:"sy",get:function(){return!1}},{key:"oW",get:function(){return this.eX}},{key:"ey",get:function(){}},{key:"fL",get:function(){}},{key:"Xo",get:function(){}},{key:"CR",get:function(){return this.tj}},{key:"my",get:function(){return this.JE?this.JE.my:aA.uN()}},{key:"XR",get:function(){}},{key:"xw",get:function(){}},{key:"aW",get:function(){return"block"===this.Vj.style.display}}]),n}(Eu),DD=2,CD=[B_.mv,B_.kv];function OD(t){var n=e.createElement(t);return jr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),xD(n),n}function xD(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Qr(t),t.pause(),t.playbackRate=1,t.preload=nA.oI,t.controls=!1,t.style.display="none",jr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function PD(t,n){if(n.zu){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();et(r)&&wu(r),t.pause()}}var BD;Nr=(BD={hQ:function(){function t(t,n,i,r,e){void 0===i&&(i=DD),void 0===r&&(r=CD),void 0===e&&(e=Ho()),this.aQ=void 0,this.cQ=void 0,this.io=void 0,this.fQ=void 0,this.OV=void 0,this.wN=void 0,this.vQ=void 0,this.aQ=i,this.cQ=[].concat(r),this.io=e,this.OV=t,this.wN=n,this.fQ=we(),this.dQ()}var n=t.prototype;return n.kN=function(t){for(var n=0,i=this.AN;n<i.length;n++){i[n].hW(t)}},n.yR=function(t){var n=Ze(this.fQ.get(t),function(t){return t.lQ});if(n)return n.lQ=!1,n._Q},n.gQ=function(t){if(!this.vQ)throw new f("Error creating iOS Safari MediaController");return this.vQ},n.LR=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.mR,r=i.tagName.toLowerCase(),t.next=4,n.pl();case 4:xD(i),(e=Ze(this.fQ.get(r)||[],function(t){return n===t._Q}))&&(e.lQ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pN=function(){for(var t=0,n=this.AN;t<n.length;t++){n[t].sW()}},n.Nv=function(){for(var t=0,n=this.AN;t<n.length;t++){var i=n[t],r=i.mR;i.vo(),xD(r),Vr(r)}},n.dQ=function(){for(var t=0,n=this.cQ;t<n.length;t++){var i=n[t],r=[];this.fQ.set(i,r);for(var e=0;e<this.aQ;e++){var u=OD(i),s=i===B_.mv?new ZI(u,this.io,this.OV):new yD(u,this.io,this.OV,this.wN);r.push({_Q:s,lQ:!0})}}if(Q.Oe&&Q.we){var o=OD(B_.kv);this.vQ=new ND(o)}},L(t,[{key:"AN",get:function(){for(var t=[],n=0,i=this.cQ;n<i.length;n++){var r=i[n],e=this.fQ.get(r).map(function(t){return t._Q});t.push.apply(t,e)}return this.vQ&&t.push(this.vQ),t}}]),t}(),wQ:function(){function t(n){var i=this;this.yQ=new Ay,this.mQ=T.coroutine(le.mark(function n(){var r,e,u;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i._N.yR(B_.kv),e=r.mR,n.next=4,t.kQ(e);case 4:return u=n.sent,n.next=7,i._N.LR(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)})),this._N=n}var n=t.prototype;return n.HL=function(){return this.yQ.Ub(this.mQ)},n.Ww=function(){this._N.pN()},t.kQ=function(){var n=T.coroutine(le.mark(function n(i){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Q.Ee&&!Q.be){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.pQ();case 5:return n.next=7,t.AQ(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.bQ(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.AQ=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,et(i)){t.next=4;break}return t.abrupt("return",!Q.me);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.bQ=function(){var n=T.coroutine(le.mark(function n(i){var r;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.AQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.pQ=function(){return new T(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.Nv=function(){this.yQ.Nv()},t}(),TQ:{KC:function(t){Or.addEventListener("beforeunload",t)},cO:function(t){Or.removeEventListener("beforeunload",t)}},EQ:r}).hQ,Dr=BD.wQ,Cr=BD.TQ,Or=BD.EQ,xr=Or&&Or.location,Pr=Or&&Or.navigator;var LD=[];function MD(){LD.shift()()}function UD(t){LD.push(t),o(MD,0)}var FD=function(){function t(t){this.SQ=void 0,this.RQ=void 0,this.IQ=void 0,this.IQ=t}var n=t.prototype;return n.NQ=function(t){return this.SQ=this.SQ||{},void 0===this.SQ[t]&&(this.SQ[t]=[]),this.SQ[t]},n.addEventListener=function(t,n){var i=this.NQ(t);-1===i.indexOf(n)&&i.push(n)},n.Do=function(t){(this.RQ||(this.RQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.NQ(t);n?$e(i,n):i.length=0},n.Bo=function(t){var n=this.RQ;n&&$e(n,t)},n.Co=function(){this.SQ=void 0},n.dispatchEvent=function(t,n){if(n)return UD(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.NQ(t.type).slice(),r=this.RQ&&this.RQ.slice(),e=0;e<i.length;e++){i[e].call(this.IQ||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.IQ||this,t)}},n.DQ=function(t){return Boolean(this.SQ&&this.SQ[t]&&this.SQ[t].length)},n.CQ=function(){return this.SQ?d.keys(this.SQ):[]},t}(),HD=function(){function t(){this.OQ=[]}var n=t.prototype;return n.Cj=function(t,n){var i=this.OQ[t];return i?new i(n):null},n.qL=function(t,n){this.OQ[t]=n},t}();HD.We=new HD;var VD,XD=function(t){function n(n,i){var r,e=qD[n];return(r=t.call(this,e?e.Fo:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.xQ,r.helpLinkText=e&&e.PQ,r}return U(n,t),L(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(sn);!function(t){t.BQ="LICENSE_INVALID",t.LQ="MANIFEST_NOT_FOUND",t.MQ="MANIFEST_CORS_ERROR",t.UQ="INVALID_HLS_MANIFEST",t.FQ="PLAYBACK_ISSUE",t.HQ="AUDIO_ISSUE",t.VQ="BROWSER_SUPPORT_ISSUE",t.XQ="INVALID_KEY",t.WQ="DECRYPTION_ERROR",t.qQ="AD_BLOCK_DETECTED",t.zQ="THEOPLAYER_NOT_INITIALIZED",t.Wl="ERROR",t.GQ="MANIFEST_SEQUENCE_RESET_ERROR",t.jQ="PLAYER_INCORRECTLY_CONFIGURED",t.QQ="UNSUPPORTED"}(VD||(VD={}));for(var WD=[{dh:VD.BQ,Fo:"The license for this player is invalid. Please contact your service provider for additional information."},{dh:VD.LQ,Fo:"Could not load the manifest file."},{dh:VD.MQ,Fo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",xQ:"https://www.theoplayer.com/documentation/cors.html",YQ:!1},{dh:VD.UQ,Fo:"The source of the player is an invalid HLS manifest.",xQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{dh:VD.FQ,Fo:"There appears to be a playback issue."},{dh:VD.HQ,Fo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{dh:VD.VQ,Fo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{dh:VD.XQ,Fo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{dh:VD.WQ,Fo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{dh:VD.qQ,Fo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{dh:VD.zQ,Fo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{dh:VD.Wl,Fo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{dh:VD.GQ,Fo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{dh:VD.jQ,Fo:"The player is incorrectly configured.",xQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{dh:VD.QQ,Fo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],qD={},zD=0;zD<WD.length;zD++){var GD=WD[zD];qD[GD.dh]=GD}function jD(t){return t.ZQ}var QD=function(){function t(){this.Rc=[],this.JQ={},this.$Q=0}var n=t.prototype;return n.KQ=function(t){var n=this.JQ[t];return void 0===n?-1:n-this.$Q},n.tY=function(t){return this.Rc[t]},n.nY=function(t){return this.tY(this.KQ(t))},n.iY=function(t){return!!this.tY(t)},n.rY=function(t){return!!this.nY(t)},n.eY=function(){return this.Rc},n.rg=function(t){var n,i=this.Rc,r=i.length?i[i.length-1]:null;if(this.KQ(t.ZQ)>=0)return!1;if(r&&t.ZQ>r.ZQ)n=i.length;else{var e=oR(this.Rc,t.ZQ,jD,u_);if(e>=0)return!1;n=-(e+1)}return this.uY(t,n),!0},n.Ih=function(t){var n=this.Rc,i=this.JQ,r=this.KQ(t.ZQ);return!(r<0)&&(n.splice(r,0,t),delete i[t.ZQ],this.sY(r),!0)},n.oY=function(t){var n=this.Rc,i=this.JQ;t=l.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].ZQ];n.splice(0,t),this.$Q+=t},n.uY=function(t,n){var i=this.Rc;n>=i.length?i.push(t):i.splice(n,0,t),this.sY(n)},n.sY=function(t){for(var n=this.Rc,i=this.JQ,r=this.$Q,e=n.length,u=t;u<e;u++)i[n[u].ZQ]=u+r},L(t,[{key:"bl",get:function(){return this.Rc.length}}]),t}(),YD=function(){function t(t,n,i){this.hY=void 0,this.aY=void 0,this.cY=void 0,this.hY=t,this.aY=n,this.cY=i}var n=t.prototype;return n.compute=function(){return this.hY.live?this.hY.fY?this.hY.vY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.cY&&(t+=this.dY()),this.lY()&&(t+=this._Y(t)),t},n.lY=function(){return void 0!==this.aY.gY.nY(this.hY.fragments[0].ZQ)},n._Y=function(t){var n=this.hY.fragments[0];return this.aY.gY.nY(n.ZQ).wY-(n.wY+t)||0},n.dY=function(){var t=ZD(this.hY),n=ZD(this.cY.yY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.cY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,h=n[s-e]||0;u+=l.abs(o-h)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.yY.fragments.length?this.cY.mY(t.yY.fragments[0].ZQ).wY:0},t}();function ZD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.kY&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var JD=function(t){function n(n){return t.call(this,K_.fl,n)||this}return U(n,t),n.prototype.zd=function(){return new $D(this.Uy.qd)},n}(ug),$D=function(t){function n(n){return t.call(this,tg.fl,n)||this}return U(n,t),n}(sg),KD=function(t){function n(n,i){var r,e=tC(i,n.N_,n.XR,n.pY);return(r=t.call(this,i,e,void 0,!1,n.xl)||this).AY=void 0,r.bY=void 0,r.TY=void 0,r.EF=void 0,r.EY=void 0,r.SY=void 0,r.RY=void 0,r.IY=void 0,r.NY=void 0,r.DY=void 0,r.AY=n.CY,r.bY=n.XR,r.TY=n.pY,r.EF=n.N_,r.EY=n.OY,r.SY=Boolean(n.xY),r.RY=n.PY||{},r.IY=n.BY,r.NY=n.LY,r.DY=n.MY,r.UY(),r.FY(),r}U(n,t);var i=n.prototype;return i.Nh=function(t){var n=!1;void 0===this.AY&&void 0!==t.CY&&(n=!0,this.AY=t.CY),void 0===this.TY&&void 0!==t.pY&&(n=!0,this.TY=t.pY),void 0===this.EF&&void 0!==t.N_&&(n=!0,this.EF=t.N_),void 0===this.EY&&void 0!==t.OY&&(n=!0,this.EY=t.OY),!this.SY&&t.xY&&(n=!0,this.SY=t.xY),n=this.updateCustomAttributes(t,n),void 0===this.IY&&void 0!==t.BY&&(n=!0,this.IY=t.BY),void 0===this.NY&&void 0!==t.LY&&(n=!0,this.NY=t.LY),void 0===this.DY&&void 0!==t.MY&&(n=!0,this.DY=t.MY),this.UY(),this.FY(),this.HY(),n&&this.Ro(new JD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.PY)for(var r=0,e=d.keys(t.PY);r<e.length;r++){var u=e[r];void 0===this.RY[u]&&(i=!0,this.RY[u]=t.PY[u])}return i},i.UY=function(){this.EF&&!this.TY&&(this.TY=new Date(this.bY.getTime()+1e3*this.EF))},i.FY=function(){this.TY&&!this.EF&&(this.EF=Jt(this.TY.getTime()-this.bY.getTime()))},i.HY=function(){this.Jy===1/0&&(this.TY||this.EF)&&(this.Jy=tC(this.Zy,this.EF,this.bY,this.TY))},L(n,[{key:"qd",get:function(){var t;return this.Wd||(this.Wd=Id(og(t=this),{get content(){return t.Vy},get class(){return t.CY},get startDate(){return t.XR},get endDate(){return t.pY},get duration(){return t.N_},get plannedDuration(){return t.OY},get endOnNext(){return t.xY},get scte35Cmd(){return t.BY},get scte35Out(){return t.LY},get scte35In(){return t.MY},get customAttributes(){return t.PY}})),this.Wd}},{key:"CY",get:function(){return this.AY}},{key:"XR",get:function(){return this.bY}},{key:"pY",get:function(){return this.TY}},{key:"N_",get:function(){return this.EF}},{key:"OY",get:function(){return this.EY}},{key:"xY",get:function(){return this.SY}},{key:"BY",get:function(){return this.IY}},{key:"LY",get:function(){return this.NY}},{key:"MY",get:function(){return this.DY}},{key:"PY",get:function(){return this.RY}}]),n}(vg);function tC(t,n,i,r){return J(n)?t+n:r?t+(Jt(r.getTime())-Jt(i.getTime())):1/0}var nC,iC,rC,eC,uC,sC=function(t){function n(){return t.call(this,void 0,void 0,Y_.DATE_RANGE)||this}U(n,t);var i=n.prototype;return i.Nh=function(t,n){for(var i=this,r=function(t){for(var n=we(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.xl)){var u=n.get(e.xl),s=_e({},u,Od(e),{PY:_e({},u.PY,e.PY)});n.set(e.xl,s)}else n.set(e.xl,e),i.push(e.xl)}return i.map(function(t){return n.get(t)})}(t),e=this.jl.Al,u=function(t){var n=e[t],u=Ze(r,function(t){return t.xl===n.xl});u?n.Nh(u):i.iH(n)},s=e.length-1;s>=0;s--)u(s);for(var o=0;o<r.length;o++){var h=r[o],a=h.XR;if(void 0!==a&&!this.tH(h.xl)){var c=n(a);this.Cb(new KD(h,c))}}},i.Cb=function(n){this.VY(n),t.prototype.Cb.call(this,n)},i.VY=function(t){var n=this.VF.filter(function(n){return n.CY===t.CY}).pop();n&&n.xY&&n.Nh({xl:n.xl,pY:t.XR})},n}(II);function oC(t){return hC(t)?{uv:t.XY,WY:[t.WY.pI,t.WY.bI],Sv:!0}:{uv:t.toString(),Sv:!0}}function hC(t){return void 0!==t.WY}function aC(t){return t&&t.qY&&Eg(t.qY)||!1}function cC(t){if(!t)return p_.vg;if(!aC(t))return p_.Yg(t.duration);var n=t.zY||p_.vg,i=t.GY||p_.vg,r=p_.Yg(t.duration);return n.wg()||i.wg()?n.wg()?i.wg()?r.wg()?p_.vg:r:i:n:p_.Xg(n,i)}function fC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.xb)return i}return null}function vC(t){return fC(t)||function(t){return t.filter(function(t){return t.jY})}(t)[0]||t[0]}function dC(t,n){for(var i=0;i<n.length;i++){var r=n[i];tu(t,r)||t.push(r)}return t}function lC(t){switch(t){case eC.kv:case eC.QY:return B_.kv;case eC.mv:return B_.mv}}!function(t){t.YY="alternative",t.ZY="main",t.JY="commentary",t.$Y="",t.kb="descriptions",t.KY="main-desc",t.tZ="translation"}(nC||(nC={})),function(t){t.YY="alternative",t.ZY="main",t.JY="commentary",t.$Y="",t.mb="captions",t.nZ="sign",t.ak="subtitles"}(iC||(iC={})),function(t){t.kv="video",t.mv="audio",t.iZ="closedCaption",t.rZ="variant"}(rC||(rC={})),function(t){t[t.ov=-1]="ov",t[t.mv=0]="mv",t[t.kv=1]="kv",t[t.QY=2]="QY"}(eC||(eC={})),function(t){t[t.ov=-1]="ov",t[t.eZ=1]="eZ",t[t.uZ=2]="uZ",t[t.sZ=3]="sZ",t[t.oZ=4]="oZ"}(uC||(uC={})),function(t){t.lw=function(t){return t>=uC.uZ},t.hZ=function(t){return t===uC.uZ||t===uC.sZ}}(uC||(uC={}));var _C=function(t){function n(){var n;return(n=t.call(this)||this).aZ=[],n.cZ=function(){return n.dispatchEvent("fZ")},n.vZ=function(){return n.dispatchEvent("dZ")},n}U(n,t);var i=n.prototype;return i.rg=function(t){this.aZ.push(t),t.addEventListener("dZ",this.vZ),t.addEventListener("lZ",this.cZ),this.dispatchEvent("_Z"),t.disabled||this.dispatchEvent("fZ")},i.Ih=function(t){var n=this.aZ.indexOf(t);n<0||(Ke(this.aZ,n),t.removeEventListener("dZ",this.vZ),t.removeEventListener("lZ",this.cZ),this.dispatchEvent("_Z"),t.disabled||this.dispatchEvent("fZ"))},i.Ko=function(){for(var t=!!this.gZ.length,n=!!this.wZ.length,i=0,r=this.aZ;i<r.length;i++){r[i].removeEventListener("lZ",this.cZ)}this.aZ.length=0,t&&this.dispatchEvent("_Z"),n&&this.dispatchEvent("fZ")},i.Nv=function(){this.Co(),this.Ko()},L(n,[{key:"gZ",get:function(){return this.aZ}},{key:"wZ",get:function(){return this.aZ.filter(function(t){return!t.disabled})}}]),n}(FD);function gC(t){if(!t)return null;for(var n={yZ:"",mZ:"",kZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.yZ="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.yZ="mp4a.40.2":"mp4a.40.29"===u?n.yZ="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.yZ=u:"ec-3"===u?n.yZ=u:0===u.indexOf("avc")?n.mZ=e:n.kZ+=","+u}return n}var wC=function(t){function n(n,i,r,e,u,s,o){var h;return(h=t.call(this)||this).pZ=void 0,h.ME=void 0,h.by=void 0,h.AZ=new QD,h.bZ=NaN,h.TZ=void 0,h.EZ=void 0,h.zF=void 0,h.SZ=void 0,h.RZ=void 0,h.IZ=!0,h.NZ=!0,h.DZ=!0,h.CZ=!1,h.OZ=null,h.xZ=!1,h.pZ=n,h.ME=i,h.by=r||0===r?r:-1,h.EZ=e,h.SZ=Boolean(u),h.RZ=Boolean(s),h.zF=o,h}U(n,t);var i=n.prototype;return i.PZ=function(t,n){var i=$b(),r=new YD(t,this,n).compute(),e=this.BZ(t.fragments),u=e.oldFragments,s=e.newFragments;this.LZ(u,i),this.MZ(s,i,r),this.TZ!==t&&this.UZ(!0),this.TZ=t,this.dispatchEvent({type:"FZ",HZ:this}),this.dispatchEvent("renditionUpdated")},i.mY=function(t){return this.AZ.nY(t)},i.VZ=function(){var t=this.IZ;this.IZ=this.NZ&&this.DZ,t!==this.IZ&&this.dispatchEvent("dZ")},i.UZ=function(t){this.NZ=t,this.VZ()},i.XZ=function(t){this.DZ=t,this.VZ()},i.WZ=function(t){this.ME=t,this.dispatchEvent("renditionUpdated")},i.qZ=function(){null!==this.OZ&&h(this.OZ),this.dispatchEvent("lZ"),this.dispatchEvent("renditionUpdated")},i.zZ=function(t){this.xZ=t,this.qZ()},i.GZ=function(){this.jZ(3e4)},i.jZ=function(t){var n=this;this.CZ=!0,this.qZ(),this.OZ=o(function(){n.CZ=!1,n.qZ()},t)},i.BZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.AZ.rY(u.ZQ)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.LZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.AZ.nY(r.ZQ);e.QZ=dC(e.QZ,r.QZ),e.YZ=r.YZ||e.YZ,e.ZZ=n}},i.MZ=function(t,n,i){var r=this.JZ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.rp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.wY+=n}}(r,i),this.$Z(r)},i.JZ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.HZ=this;var e=_e({},r);n.push(e)}return n},i.$Z=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.AZ.rg(i),w(this.bZ)&&(this.bZ=i.ZQ)}},i.Nv=function(){this.Co(),null!==this.OZ&&h(this.OZ)},L(n,[{key:"disabled",get:function(){return this.CZ||this.xZ},set:function(t){this.CZ=t,this.qZ()}},{key:"xl",get:function(){return this.by}},{key:"gy",get:function(){return this.IZ}},{key:"uri",get:function(){return this.EZ||this.TZ&&this.TZ.uri},set:function(t){this.EZ=t,this.dispatchEvent("renditionUpdated")}},{key:"yY",get:function(){return this.TZ}},{key:"gY",get:function(){return this.AZ}},{key:"KZ",get:function(){return this.TZ?this.TZ.live?this.TZ.duration<-60?uC.sZ:uC.oZ:uC.eZ:uC.ov}},{key:"iu",get:function(){return this.ME},set:function(t){this.WZ(t)}},{key:"Ml",get:function(){return this.zF}},{key:"xb",get:function(){return this.SZ}},{key:"jY",get:function(){return this.RZ||this.SZ}},{key:"tJ",get:function(){return this.bZ}},{key:"nJ",get:function(){return!!this.yY}},{key:"Uf",get:function(){return this.pZ}}]),n}(FD),yC=function(t){function n(n,i,r,e,u,s,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=nC.ZY),(w=t.call(this,n,i,r,u,s,o,d)||this).iJ=void 0,w.rJ=void 0,w.eJ=void 0,w.uJ=void 0,w.sJ=void 0,w.oJ=void 0,w.hJ=void 0,w.aJ=void 0,w.cJ=void 0,w.qF=void 0,w.fJ=void 0,w.vJ=void 0,w.dJ=void 0,w.lJ=void 0,w._J=void 0,w.gJ=void 0,w.wJ=null,w.yJ=void 0,w.iJ=Boolean(l),w.sJ=e,w.rJ=gC(h),w.eJ=g,w.hJ=a,w.aJ=c,w.oJ=f,w.uJ=v,w.qF=_,w}U(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.ZQ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.mJ[0]?t.mJ[0].Bl:nC.ZY)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&yr(t.characteristics,"public.accessibility.describes-video")?nC.KY:nC.ZY;if(t.characteristics&&yr(t.characteristics,"public.accessibility.describes-video"))return nC.kb;return nC.YY}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.kJ=function(t){this.rJ="string"==typeof t?gC(t):t,this.dispatchEvent("renditionUpdated")},i.pJ=function(t,n){return t?!n&&t.yZ&&t.mZ?eC.QY:t.mZ?eC.kv:t.yZ?eC.mv:eC.ov:eC.ov},L(n,[{key:"AJ",set:function(t){this.iJ=t}},{key:"bJ",get:function(){return this.rJ}},{key:"bandwidth",get:function(){return this.uJ},set:function(t){this.uJ=t,this.dispatchEvent("renditionUpdated")}},{key:"Bl",get:function(){return this.qF}},{key:"resolution",get:function(){return this.oJ},set:function(t){this.oJ=t,this.dispatchEvent("renditionUpdated")}},{key:"TJ",get:function(){return void 0!==this.eJ?this.eJ:this.pJ(this.rJ,this.iJ)}},{key:"ZQ",get:function(){return this.hJ}},{key:"yZ",get:function(){return this.aJ}},{key:"EJ",get:function(){return this.sJ}},{key:"SJ",get:function(){return this.cJ},set:function(t){var n=this.cJ;this.cJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(wC);var mC=function(t){function n(n,i,r,e,u,s,o,h,a){var c;return(c=t.call(this,n,i,r,e,u,s,o)||this).Eu=void 0,c.RJ=null,c.IJ=void 0,c.NJ=function(){return c.DJ()},c.Eu=h,c.IJ=new AR(a,String(r),c.iu,c.Ml,void 0,Y_.WEBVTT),c.xb&&(c.IJ.zl=qd.Xl),c}U(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(yr(t.characteristics,"public.accessibility.describes-music-and-sound"))return Yw.mb;return Yw.ak}(i))};var i=n.prototype;return i.PZ=function(n){t.prototype.PZ.call(this,n),this.DJ()},i.Nv=function(){t.prototype.Nv.call(this),this.eb=null},i.WZ=function(n){t.prototype.WZ.call(this,n),this.IJ.Ll=n},i.DJ=function(){this.RJ&&this.RJ.CJ(this,this.gY)},L(n,[{key:"OJ",get:function(){return this.IJ}},{key:"eb",get:function(){return this.RJ},set:function(t){this.RJ&&this.RJ.removeEventListener("xJ",this.NJ),this.RJ=t,this.DJ(),this.RJ&&this.RJ.addEventListener("xJ",this.NJ)}},{key:"XY",get:function(){return this.uri}},{key:"Ys",get:function(){return this.Eu}}]),n}(wC),kC=function(t){function n(n,i){var r;(r=t.call(this)||this).ha=void 0,r.PJ=void 0,r.BJ=["renditionUpdated","FZ","LJ"],r.MJ=null,r.UJ=null,r.FJ=null,r.HJ=null,r.VJ=new _C,r.XJ=new _C,r.WJ=new _C,r.Rw={},r.qJ=void 0,r.zJ=void 0,r.GJ=null,r.EF=NaN,r.jJ=void 0,r.QJ=void 0,r.So=function(t){return r.dispatchEvent(t)},r.ha=n,r.PJ=i;var e=en(r);return r.jJ=function(){e.YJ(this)},r.QJ=function(t){e.ZJ(this,t)},r}U(n,t);var i=n.prototype;return i.JJ=function(t,n){var i=new NI(n);return i.zl=qd.Vl,this.Rw[i.xl]=i,this.dispatchEvent({type:"$J",Gd:i}),i},i.KJ=function(t,n,i){var r=new II(i,"manifest");return r.zl=qd.Vl,this.Rw[r.xl]=r,this.dispatchEvent({type:"$J",Gd:r}),r},i.t$=function(t,n){if(t){var i=t.jl,r=t.n$,e=t&&this.Rw[r];e||(e=new NI(t.ql),this.Rw[r]=e,e.zl=qd.Vl,this.dispatchEvent({type:"$J",Gd:e}));for(var u=0;u<i.length;u++){var s=i[u];e.Cb(s)}}},i.i$=function(t){t&&(this.qJ||(this.qJ=new AR(Yw.mb,void 0,"CC1","en",!0,Y_.CEA608),this.Rw.CC1=this.qJ,this.dispatchEvent({type:"$J",Gd:this.qJ})),this.qJ.Cb(t))},i.r$=function(t,n,i){var r=this.Rw[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.jl.Al;e<u.length;e++){var s=u[e];if(s.Fy>=i)break;n<s.Hy&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.iH(s)}}},i.e$=function(t,n){return this.u$(t,n)},i.s$=function(t){var n;return(n=this.o$(t,this.VJ))?n:(n=this.o$(t,this.XJ))?n:n=this.o$(t,this.WJ)},i.Nv=function(){this.Po(this.VJ),this.VJ.Nv(),this.Po(this.XJ),this.XJ.Nv(),this.Po(this.WJ),this.WJ.Nv(),this.Rw={},this.qJ=void 0,this.zJ&&(this.zJ.Nv(),this.zJ=void 0),this.GJ=null,this.EF=NaN,this.MJ=null,this.UJ=null,this.FJ=null,this.HJ=null,this.dispatchEvent("Nv")},i.h$=function(t){var n=yC.createFromUri(this,t.uri);this.Po(this.XJ),this.XJ.rg(n),n.addEventListener("renditionUpdated",this.jJ)},i.YJ=function(t){var n=t.yY,i=t.KZ;if(w(this.EF)||uC.lw(i)){if(uC.ov===i)return;if(!n)return;this.EF=n.duration,this.dispatchEvent("a$")}w(this.EF)||uC.eZ!==i||t.removeEventListener("renditionUpdated",this.jJ)},i.c$=function(t){var n=this;this.Po(this.VJ),this.VJ.Ko(),this.Po(this.XJ),this.XJ.Ko(),this.WJ.Ko(),this.GJ=t;for(var i=t.streams.map(function(t){return yC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.yZ&&!yr(t.yZ,"mp4a")&&!yr(t.yZ,"mp3"))return!1;if(t.mZ&&!yr(t.mZ,"avc1"))return!1;return!0}(t.bJ)}),r=i.some(function(t){return t.bJ&&t.bJ.yZ}),e=i.some(function(t){return t.bJ&&t.bJ.mZ}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.bJ&&s.bJ.yZ),h=Boolean(s.bJ&&s.bJ.mZ);r&&!o||e&&!h||(this.XJ.rg(s),s.addEventListener("renditionUpdated",this.jJ))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.PJ){var e=mC.createFromPlaylistMedia(n,r);n.WJ.rg(e),n.dispatchEvent({type:"$J",Gd:e.OJ})}break;case"closed-captions":break;case"audio":var u=n.XJ.gZ.filter(function(t){return t.yZ===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.AJ=!0});var s=r.uri?eC.mv:eC.QY,o=yC.createFromPlaylistMedia(n,r,!1,s);n.VJ.rg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.f$=vC(this.mJ.wZ)||null,this.dispatchEvent("v$")},i.o$=function(t,n){for(var i=0,r=n.gZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.ZJ=function(t,n){this.dispatchEvent(_e({},n,{HZ:t}))},i.d$=function(t){for(var n=0,i=t.gZ;n<i.length;n++)for(var r=i[n],e=0,u=this.BJ;e<u.length;e++){var s=u[e];r.addEventListener(s,this.QJ)}},i.Po=function(t){for(var n=0,i=t.gZ;n<i.length;n++){i[n].Nv()}},i.l$=function(t,n){0!==t.length&&this.ha.hlsDateRange&&(this.zJ||(this.zJ=new sC,this.dispatchEvent({type:"$J",Gd:this.zJ})),this.zJ.Nh(t,n))},i._$=function(t,n){if(this.UJ!==t){var i=this.UJ;this.UJ=t,this.dispatchEvent({type:"g$",TJ:"yZ",HZ:this.UJ,w$:i,y$:n})}},i.u$=function(t,n){if(this.FJ!==t){var i=this.FJ;this.FJ=t,t&&this.dispatchEvent({type:"g$",TJ:"mZ",HZ:this.FJ,w$:i,y$:n})}},i.m$=function(t){for(var n=0,i=t.gZ;n<i.length;n++){var r=i[n];if(r.KZ!==uC.ov)return r.KZ}return null},L(n,[{key:"yw",get:function(){return this.MJ},set:function(t){t&&(0===t.streams.length?this.h$(t):this.c$(t),this.MJ=t,this.d$(this.XJ),this.d$(this.VJ),this.dispatchEvent("k$"))}},{key:"p$",get:function(){return this.GJ}},{key:"N_",get:function(){return this.EF}},{key:"xw",get:function(){var t=this,n=this.WJ.gZ.map(function(t){return t.OJ}),i=d.keys(this.Rw).map(function(n){return t.Rw[n]});return this.qJ&&i.push(this.qJ),this.zJ&&i.push(this.zJ),n.concat(i)}},{key:"f$",get:function(){return this.UJ},set:function(t){this._$(t,!0)}},{key:"A$",get:function(){return this.FJ},set:function(t){this.u$(t,!1)}},{key:"mJ",get:function(){return this.VJ}},{key:"b$",get:function(){return this.XJ}},{key:"T$",get:function(){return this.WJ.gZ}},{key:"KZ",get:function(){var t;return null!==(t=this.UJ&&this.UJ.KZ)&&t!==uC.ov?t:null!==(t=this.FJ&&this.FJ.KZ)&&t!==uC.ov?t:null!==(t=this.m$(this.VJ))?t:null!==(t=this.m$(this.XJ))?t:uC.ov}}]),n}(FD);var pC=function(t){function n(n,i,r){var e,u,s,o,h;return(e=t.call(this)||this).np=[],e.E$={},e.S$=void 0,e.R$=void 0,e.I$=void 0,e.qd=void 0,e.So=function(t){return e.dispatchEvent(t)},e.N$=function(t){e.D$(t)},e.C$=function(t){e.handleRenditionUpdated(t)},e.O$=function(t){for(var n=0,i=e.np;n<i.length;n++){i[n].x$.O$(t)}},e.S$=n,e.R$=i,e.I$=r,e.R$&&e.R$.addEventListener("g$",e.N$),e.I$&&(e.I$.addEventListener("renditionUpdated",e.C$),e.I$.addEventListener("P$",e.O$)),e.qd=(u=en(e),s=new FD,o={get length(){return u.np.length},enable:function(t){u.gb(u.B$(t&&t.id)||t)},disable:function(t){u.wb(u.B$(t&&t.id)||t)},item:function(t){return u.np[t]&&u.np[t].qd},getTrackByID:function(t){var n=u.B$(t);return n&&n.qd},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},h=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",h),u.addEventListener("enabledtrack",h),u.addEventListener("disabledtrack",h),o),e}U(n,t);var i=n.prototype;return i.B$=function(t){return this.E$[t]},i.yl=function(t){for(var n=0,i=t.x$.Ul;n<i.length;n++){var r=i[n];r.xl===this.L$()&&(r.um=!0)}t.addEventListener("enabledtrack",this.So),t.addEventListener("disabledtrack",this.So),this.np.push(t),this.E$[t.xl]=t,this.dispatchEvent({type:"addtrack",track:t.qd})},i.gb=function(t){if(t){var n=this.E$[t.xl];if(n&&!n.Ol){for(var i=this.np.length-1;i>=0;i--)this.np[i].zw();n.qw()}}},i.wb=function(t){},L(n,[{key:"M$",get:function(){return this.L$()}}]),n}(FD);var AC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).U$=void 0,e.U$=NaN,e}U(n,t);var i=n.prototype;return i.L$=function(){return this.U$},i.D$=function(t){t.F$?this.H$(t.V$):t.X$&&this.H$(t.X$)},i.H$=function(t){t&&(this.U$=t.xl),this.np.forEach(function(n){return n.W$(t)})},i.handleRenditionUpdated=function(t){if(t.HZ&&t.HZ.TJ===eC.mv)for(var n=0,i=this.np;n<i.length;n++){i[n].q$(t)}},i.gb=function(n){var i=n;if(!i){var r=this.np.filter(function(t){return t.xb});r.length>0&&(i=r[0])}t.prototype.gb.call(this,i)},L(n,[{key:"Ys",get:function(){return"audio"}}]),n}(pC),bC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).z$=void 0,e.z$=NaN,e}U(n,t);var i=n.prototype;return i.L$=function(){return this.z$},i.D$=function(t){(t.G$||t.V$)&&(t.V$&&(this.z$=t.V$.xl),this.np.forEach(function(n){return n.W$(t.V$)}))},i.handleRenditionUpdated=function(t){if(t.HZ&&(t.HZ.TJ===eC.kv||t.HZ.TJ===eC.QY))for(var n=0,i=this.np;n<i.length;n++){i[n].q$(t)}},L(n,[{key:"Ys",get:function(){return"video"}}]),n}(pC);function TC(t,n){for(var i,r=n-(i=t?K(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function EC(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var SC=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).HZ=void 0,i.um=!1,i.j$=!0,i.qd=void 0,i.HZ=n,i.um=!1,i.qd=(r=en(i),e=new FD,u={get bandwidth(){return r.HZ&&r.HZ.bandwidth},get averageBandwidth(){return r.HZ&&r.HZ.averageBandwidth},get codecs(){return r.bJ},get resolution(){return r.Q$},get frameRate(){return EC(r.Y$,2)},get id(){return r.xl},get uri(){return r.HZ&&r.HZ.uri},get name(){return r.iu},set name(t){r.iu=t},get enabled(){return r.Ol},set enabled(t){r.Ol=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}U(n,t);var i=n.prototype;return i.Z$=function(t){var n=!!t&&this.xl===t.xl;this.um!==n&&(this.um=n,this.dispatchEvent({type:"activequalitychanged",quality:this.qd}))},i.q$=function(t){return this.HZ.xl===t.HZ.xl&&(this.HZ=t.HZ,this.dispatchEvent({type:"qualityupdated",quality:this.qd}),!0)},L(n,[{key:"Ol",get:function(){return this.j$},set:function(t){this.j$=t,this.HZ.zZ(!t)}},{key:"Bl",get:function(){return this.HZ.Bl}},{key:"Q$",get:function(){return this.HZ.resolution?{width:this.HZ.resolution.width,height:this.HZ.resolution.height}:{width:NaN,height:NaN}}},{key:"iu",get:function(){return this.HZ.iu},set:function(t){this.HZ.iu=t,this.dispatchEvent({type:"qualityupdated",quality:this.qd})}},{key:"xl",get:function(){return this.HZ.xl}}]),n}(FD);var RC=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"bJ",get:function(){return this.HZ.bJ&&this.HZ.bJ.mZ||""}},{key:"Y$",get:function(){return EC(Number(this.HZ.SJ),2)}}]),n}(SC),IC=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"bJ",get:function(){return this.HZ.bJ&&this.HZ.bJ.yZ||""}},{key:"Y$",get:function(){return EC(Number(this.HZ.yJ),2)}}]),n}(SC),NC=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).Ul=void 0,r.J$=null,r.K$={},r.I$=void 0,r.qd=void 0,r.So=function(t){return r.dispatchEvent(t)},r.Ul=n,r.I$=i;for(var h=r.Ul.length-1;h>=0;h--){var a=r.Ul[h];r.K$[a.xl]=a}return r.Ul.forEach(function(t){return t.addEventListener("activequalitychanged",r.So)}),r.qd=(e=en(r),u=new FD,s={item:function(t){var n=e.wl(t);return n&&n.qd},getQualitiesByIDs:function(t){return e.tK(t).map(function(t){return t.qd})},get length(){return e.Ul.length},get activeQuality(){return e.Cl&&e.Cl.qd},get targetQuality(){return e.Fl?1===e.Fl.length?e.Fl[0].qd:e.Fl.map(function(t){return t.qd}):null},set targetQuality(t){if(t){var n=$(t)?t:[t];e.Fl=e.tK(n.map(function(t){return t.id}))}else e.Fl=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}U(n,t);var i=n.prototype;return i.nK=function(t){return!!t&&this.Ul.some(function(n){return n.xl===t.xl})},i.iK=function(t,n){for(var i=0,r=this.Ul;i<r.length;i++){r[i].Z$(t)}},i.tK=function(t){var n=this;return t&&t.map(function(t){return n.K$[t]}).filter(function(t){return t})},i.rK=function(){for(var t=this.Ul.length-1;t>=0;t--)this.Ul[t].um=!1},i.O$=function(t){var n=this.I$.eK,i=this.tK(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].qd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.wl=function(t){return this.Ul[t]},L(n,[{key:"Cl",get:function(){for(var t=0,n=this.Ul;t<n.length;t++){var i=n[t];if(i.um)return i}return null}},{key:"Fl",get:function(){return this.J$},set:function(t){this.J$=this.uK(t)}}]),n}(FD);var DC=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.qw=function(){this.I$&&(this.I$.U$=this.Ul[0].xl)},i.zw=function(t){this.I$&&(this.I$.U$=null)},i.uK=function(t){},n}(NC),CC=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.qw=function(){if(this.uK(this.Fl),this.I$){var t=this.I$.S$;if(!t)return;var n=Ze(t.sK.mJ.gZ,function(t){return!t.uri});this.I$.U$=n?n.xl:null}},i.iK=function(n,i){"video"===i&&t.prototype.iK.call(this,n,i)},i.zw=function(t){"video"===t&&this.rK()},i.uK=function(t){if(!this.I$)return this.Fl;var n=t?this.tK(t.map(function(t){return t.xl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.xl});return this.I$.eK=i,n}return t?this.Fl:(this.I$.eK=null,null)},n}(NC),OC=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).Ys=void 0,r.x$=void 0,r.xl=void 0,r.Sy=void 0,r.iu=void 0,r.qd=void 0,r.Ys=n,r.x$=i,r.xl=i.wl(0).xl,r.Sy=r.x$.Ul.some(function(t){return t.um}),r.iu=i.wl(0).HZ.iu,r.qd=(e=en(r),u=new FD,{get id(){return e.xl},get enabled(){return e.Ol},get qualities(){return e.x$&&e.x$.qd},get language(){return e.Ml},get default(){return e.xb},get name(){return e.iu},set name(t){e.iu=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}U(n,t);var i=n.prototype;return i.W$=function(t){var n=this.x$.nK(t);this.Iy(n),this.x$.iK(t,this.Ys)},i.Iy=function(t){this.Sy!==t&&(t?(this.Sy=!0,this.dispatchEvent({type:"enabledtrack",track:this.qd})):(this.Sy=!1,this.dispatchEvent({type:"disabledtrack",track:this.qd})))},i.qw=function(){this.Sy||this.x$.qw()},i.zw=function(){this.Sy&&this.x$.zw(this.Ys)},i.q$=function(t){t.HZ.xl===this.xl&&(this.iu=t.HZ.iu);for(var n=0,i=this.x$.Ul;n<i.length;n++){i[n].q$(t)}},L(n,[{key:"Ol",get:function(){return this.Sy}},{key:"Ml",get:function(){return this.oK()}},{key:"Bl",get:function(){return this.hK()}},{key:"xb",get:function(){var t="video"===this.Ys,n=this.x$.Ul&&this.x$.Ul[0].HZ.xb;return t||n}}]),n}(FD);var xC=function(t){function n(n){return t.call(this,"video",n)||this}U(n,t);var i=n.prototype;return i.hK=function(){return iC.ZY},i.oK=function(){return""},n}(OC),PC=function(t){function n(n){return t.call(this,"audio",n)||this}U(n,t);var i=n.prototype;return i.hK=function(){return this.x$.Ul[0].HZ.Bl},i.oK=function(){return this.x$.Ul[0].HZ.Ml||""},n}(OC),BC=function(){function t(t,n,i){var r=this;this.aK=void 0,this.cK=void 0,this.fK=void 0,this.vK=void 0,this.dK=function(){var t=r.aK;t.removeEventListener("lK",r.dK);var n=t.sK.b$.gZ,i=t.sK.mJ.gZ,e=n.map(function(t){return new RC(t)});if(e.length>0){var u=new CC(e,r.cK);r.vK.yl(new xC(u));var s=Ze(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var h=new PC(u);s&&(h.iu=s.iu),r.fK.yl(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new IC(c),v=new DC([f],r.cK);r.fK.yl(new PC(v))}}},this.aK=t,this.cK=i,this.fK=new AC(t,n,i),this.vK=new bC(t,n,i),t&&(t.lK?this.dK():t.addEventListener("lK",this.dK))}return L(t,[{key:"Cw",get:function(){return this.fK}},{key:"Ow",get:function(){return this.vK}}]),t}(),LC=["loadedmetadata","durationchange","Xo","Bv","gy","_K"],MC=["gK","g$","wK","Xo"],UC=function(t){function n(n,i,r,e,u,s,o){var h;(h=t.call(this)||this).yK=null,h.rI=void 0,h.mK=void 0,h.kK=void 0,h.pK=void 0,h.R$=void 0,h.AK=void 0,h.S$=void 0,h.Ow=void 0,h.Cw=void 0,h.bK=[],h.TK=[],h.EK=function(t){return h.dispatchEvent(t)},h.SK=function(t){return h.RK(t)},h.IK=function(t){return h.NK(t)},h.rI=n.src,h.mK=n.type,h.kK=i,h.pK=r,h.AK=e,h.S$=u,h.R$=s,h.S$&&(h.S$.addEventListener("DK",h.EK),h.S$.addEventListener("CK",h.EK));var a=new BC(h.S$,h.R$,o);return h.Ow=a.Ow,h.Cw=a.Cw,h.eI=null,h.rI&&(h.R$&&h.R$.pl(),h.S$&&(h.S$.xK=h.rI)),h}U(n,t);var i=n.prototype;return i.PK=function(t){this.R$&&this.R$.Rh(t),this.S$&&this.S$.BK(),this.eI&&this.LK()},i.MK=function(){this.R$&&this.R$.MK(),this.S$&&this.S$.UK()},i.FK=function(){if(this.S$)for(var t=0;t<LC.length;t++){var n=LC[t];this.S$.addEventListener(n,this.SK)}if(this.R$)for(var i=0;i<MC.length;i++){var r=MC[i];this.R$.addEventListener(r,this.IK)}},i.HK=function(){if(this.S$)for(var t=0;t<LC.length;t++){var n=LC[t];this.S$.removeEventListener(n,this.SK)}if(this.R$)for(var i=0;i<MC.length;i++){var r=MC[i];this.R$.removeEventListener(r,this.IK)}},i.LK=function(){if(this.S$&&this.bK.length){var t=this.bK.slice();iu(this.bK);for(var n=0;n<t.length;n++){var i=t[n];this.S$.dispatchEvent(i)}}if(this.R$&&this.TK.length){var r=this.TK.slice();iu(this.TK);for(var e=0;e<r.length;e++){var u=r[e];this.R$.dispatchEvent(u)}}},i.RK=function(t){this.bK.push(t)},i.NK=function(t){this.TK.push(t)},i.Nv=function(){this.dispatchEvent("Nv"),this.Co(),this.R$&&this.R$.Nv(),this.AK&&this.AK.Nv(),this.S$&&this.S$.Nv(),this.yK=null,iu(this.bK),iu(this.TK)},L(n,[{key:"eI",get:function(){return this.yK},set:function(t){this.HK(),this.yK=t,this.eI?this.dispatchEvent("Uh"):this.FK()}}]),n}(FD),FC=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).aK=null,n.So=function(t){n.dispatchEvent(t,!0)},n}return U(n,t),L(n,[{key:"U$",get:function(){var t=this.aK&&this.aK.sK.f$;return t?t.xl:null},set:function(t){var n;this.aK&&(n=null===t?vC(this.aK.sK.mJ.gZ):this.aK.sK.mJ.gZ.filter(function(n){return t===n.xl}).shift(),this.aK.sK.f$=n||null)}},{key:"eK",get:function(){return this.aK&&this.aK.VK||null},set:function(t){this.aK&&(this.aK.XK(t),this.dispatchEvent("P$"))}},{key:"S$",get:function(){return this.aK},set:function(t){this.aK&&(this.aK.sK.removeEventListener("k$",this.So),this.aK.sK.removeEventListener("renditionUpdated",this.So),this.aK.sK.removeEventListener("v$",this.So)),this.aK=t,this.aK&&(this.aK.sK.addEventListener("k$",this.So),this.aK.sK.addEventListener("renditionUpdated",this.So),this.aK.sK.addEventListener("v$",this.So))}}]),n}(FD),HC=function(){function t(){}var n=t.prototype;return n.WK=function(t){return T.resolve(!1)},n.qK=function(t){return T.reject(VC)},n.zK=function(t){return T.reject(VC)},n.Yo=function(t){return T.resolve(!1)},n.Zo=function(t,n){return T.resolve(void 0)},n.GK=function(t){return T.resolve([])},n.jK=function(){return T.resolve([])},n.QK=function(t,n){return T.resolve([])},n.Ih=function(t){return T.reject(VC)},n.YK=function(t){return T.reject(VC)},n.ZK=function(){return T.reject(VC)},t}(),VC="Storage disabled",XC=function(){function t(){this.JK=void 0,this.$K=void 0,this.KK=void 0,this.n0=void 0,this.i0=void 0,this.JK=new HC,this.$K=new HC,this.KK=new HC,this.n0=new HC,this.i0=new HC}return t.Cj=function(){return T.resolve(new t)},t.prototype.r0=function(t){return T.reject(WC)},t}(),WC="Storage disabled",qC=function(){function t(t){var n=this;this.yo=new Qs,this.e0=void 0,this.yo.fh(t),this.yo.ah.then(function(t){n.e0=t})}var n=t.prototype;return n.WK=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.WK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qK=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.qK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.zK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Yo=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Yo(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zo=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Zo(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.GK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.jK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QK=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.QK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ih=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ih(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.YK=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.YK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ZK=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e0,t.t0){t.next=5;break}return t.next=4,this.u0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.ZK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"u0",get:function(){return this.yo.ah}}]),t}(),zC=function(){function t(t){var n=this;this.yo=new Qs,this.s0=void 0,this.$K=void 0,this.JK=void 0,this.KK=void 0,this.n0=void 0,this.i0=void 0,this.yo.fh(t);var i=this.yo.ah;i.then(function(t){n.s0=t}),this.$K=new qC(i.then(function(t){return t.$K})),this.JK=new qC(i.then(function(t){return t.JK})),this.KK=new qC(i.then(function(t){return t.KK})),this.n0=new qC(i.then(function(t){return t.n0})),this.i0=new qC(i.then(function(t){return t.i0}))}return t.prototype.r0=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.s0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.r0(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"o0",get:function(){return this.yo.ah}}]),t}();function GC(t){return void 0!==t}var jC=function(){function t(){this.h0=[]}var n=t.prototype;return n.WK=function(t){return T.resolve("temporary"===t)},n.qK=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ih(n.key);case 2:this.h0.push(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(le.mark(function t(n){var i,r=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map(function(t){return r.qK(t)}),t.next=3,T.all(i);case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.Yo=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T.resolve(Boolean(this.a0(n))));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zo=function(t,n){return T.resolve(this.a0(t,n))},n.GK=function(t){var n=this,i=t?t.map(function(t){return n.a0(t)}):this.h0;return T.resolve(i.filter(GC))},n.jK=function(){return T.resolve([].concat(this.h0))},n.QK=function(t,n){var i=n||"key",r=this.h0.filter(function(n){return n[i]===t});return T.resolve(r)},n.Ih=function(t){var n=this.a0(t);return n&&$e(this.h0,n),T.resolve()},n.YK=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}return r=n[i],t.next=5,this.Ih(r);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ZK=function(){return iu(this.h0),T.resolve()},n.a0=function(t,n){n=n||"key";for(var i=0,r=this.h0;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),QC=function(){function t(){this.JK=void 0,this.$K=void 0,this.KK=void 0,this.n0=void 0,this.i0=void 0,this.JK=new jC,this.$K=new jC,this.KK=new jC,this.n0=new jC,this.i0=new jC}return t.Cj=function(){return T.resolve(new t)},t.prototype.r0=function(t){return t(this)},t}(),YC=function(){function t(t){this.c0=t}var n=t.prototype;return n.WK=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.c0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.WK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qK=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.c0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.WK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.qK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.c0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.WK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.zK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Yo=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.c0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.Yo(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zo=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.c0;case 1:if(!(r<e.length)){t.next=11;break}return u=e[r],t.next=5,u.Zo(n,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.c0;case 2:if(!(r<e.length)){t.next=13;break}return u=e[r],t.t0=i.push,t.t1=i,t.next=8,u.GK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.c0;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.jK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QK=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,u=this.c0;case 2:if(!(e<u.length)){t.next=13;break}return s=u[e],t.t0=r.push,t.t1=r,t.next=8,s.QK(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ih=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.c0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Ih(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.YK=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.c0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.YK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ZK=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.c0;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.ZK();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function ZC(t){return T.coroutine(le.mark(function n(){var i;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",JC.Cj(i));case 4:case"end":return n.stop()}},n)}))}var JC=function(){function t(t){this.f0=void 0,this.v0=void 0,this.d0=void 0,this.l0=void 0,this._0=void 0,this.g0=void 0,this.f0=t,this.v0=new YC(t.map(function(t){return t.n0})),this.d0=new YC(t.map(function(t){return t.i0})),this.l0=new YC(t.map(function(t){return t.KK})),this._0=new YC(t.map(function(t){return t.JK})),this.g0=new YC(t.map(function(t){return t.$K}))}return t.Cj=function(n){return T.resolve(new t(n))},t.prototype.r0=function(n){var i=this;if(0===this.f0.length)return n(this);var r=[],e=0;return this.f0[e].r0(function u(s){return r.push(s),++e<i.f0.length?i.f0[e].r0(u):n(new t(r))})},L(t,[{key:"n0",get:function(){return this.v0}},{key:"i0",get:function(){return this.d0}},{key:"KK",get:function(){return this.l0}},{key:"JK",get:function(){return this._0}},{key:"$K",get:function(){return this.g0}}]),t}(),$C=function(){function t(t){this.w0=void 0,this.y0=[],this.m0=!0,this.w0=t}var n=t.prototype;return n.Cj=function(){return new zC(this.k0())},n.k0=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m0){t.next=4;break}return t.next=3,T.resolve();case 3:this.m0=!1;case 4:n=0,i=this.y0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,ZC([QC.Cj,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,ZC([QC.Cj,this.w0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.qL=function(t){if(!this.m0)throw new f("Registration overdue");this.y0.push(t)},t}(),KC=function(){function t(){}return t.qL=function(n){t.p0.qL(n)},L(t,null,[{key:"We",get:function(){return t.A0||(t.A0=t.p0.Cj()),t.A0}}]),t}();function tO(t){return Ir(t)}function nO(t,n){var i=Ir(t);return n?""+i+n:""+i}function iO(t,n,i,r,e,u){var s=new Qo;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new Nf({uv:t,Kf:i,$f:s,Sv:r,Av:Tf.GET,Ys:Ef.av,Ao:e,Rv:u})}KC.p0=new $C(XC.Cj),KC.A0=void 0;var rO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this)._p=void 0,o.XY=void 0,o.Kf=void 0,o.b0=void 0,o.Sb=void 0,o.T0=void 0,o.E0=void 0,o._O=void 0,o.S0=void 0,o.Xv=null,o.R0=void 0,o.Vf=new su,o.I0=function(t,n){return o.Rv(t,n)},o._p=n,o.XY=i,o.Kf=r,o.b0=e,o._O=u,o.S0=new uO,o.Sb=s,o.T0=KC.We.JK,o.E0=KC.We.$K,o}U(n,t);var i=n.prototype;return i.pI=function(){return this.N0(this.Vf.Ao)},i.N0=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hC(i=this.XY)?(r=i.XY,e=[i.WY.pI,i.WY.bI]):(r=i,e=void 0),this.S0.D0(),t.prev=3,t.next=6,this.C0(r,e);case 6:if(u=t.sent,au(n),u){t.next=12;break}return t.next=11,this.O0(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.bu();case 14:s=t.sent,au(n),this.x0(s,u.Jf),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!hu(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Bf?t.t0.Xv.Jf:0,o=new f('Could not load fragment: "'+this.XY+'", HTTP status '+h);case 27:return t.abrupt("return",this.P0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.C0=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=nO(n,i),t.next=4,this.T0.Yo(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.E0.Zo(r);case 7:return e=t.sent,u=iO(n,i,this.Kf,this.b0),s=e.data.buffer,t.abrupt("return",new If({bu:s,$f:{},rv:u,ev:n,Kf:this.Kf,Jf:200,tv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.O0=function(t,n,i){var r=iO(t,n,this.Kf,this.b0,i,this.I0);return this.Sb.rv(r)},i.Rv=function(t,n){var i={type:"_K",rv:this,B0:t,L0:n=void 0===n?NaN:n};this.S0.M0(t,n),this.dispatchEvent(i)},i.x0=function(t,n){var i=this.Kf===jo.mc?t.byteLength:0;this.S0.U0(i),this.Kf===jo.je?this.Xv=t:this.Xv=new y(t),this.R0=n,t=null,this.P0(),this.Xv=null},i.mo=function(t){return this.Vf.mo(),t||((t=new f('Aborted fragment load: "'+this.XY+'"')).aborted=!0),this.P0(t)},i.P0=function(t){this.S0.F0();var n={type:"Mw",rv:this};return this.dispatchEvent(n),this._O(t||null,this)},n}(FD);function eO(){return $b()/1e3}var uO=function(t){function n(){var n;return(n=t.call(this)||this).H0=NaN,n.V0=NaN,n.X0=NaN,n.W0=NaN,n.q0=0,n.z0=NaN,n.H0=eO(),n}U(n,t);var i=n.prototype;return i.D0=function(){this.H0=eO(),this.dispatchEvent("Nh")},i.M0=function(t,n){this.X0=eO(),this.DK||(this.V0=this.X0),this.q0=t,this.z0=n||this.z0||NaN,this.dispatchEvent("Nh")},i.U0=function(t){this.M0(t,t)},i.F0=function(){this.W0=eO(),this.dispatchEvent("Nh")},L(n,[{key:"DK",get:function(){return!w(this.V0)}},{key:"G0",get:function(){return!w(this.W0)}},{key:"ww",get:function(){return(this.V0||eO())-this.H0}},{key:"j0",get:function(){return(this.W0||this.X0)-this.V0}},{key:"Q0",get:function(){return(this.W0||this.X0)-this.H0}}]),n}(FD),sO=function(t){function n(n,i){var r;return(r=t.call(this)||this).b0=void 0,r.Y0=[],r.Z0=null,r.J0=function(t){return r.$0(t)},r.Sb=void 0,r.b0=!(!i||i.crossOrigin!==sl.v_),r.Sb=n,r}U(n,t);var i=n.prototype;return i.Rh=function(t,n,i,r){var e=new rO(t,n,i,this.b0,r,this.Sb);return e.addEventListener("Mw",this.J0),this.Y0.push(e),this.K0(),e},i.Ko=function(t,n){var i=function(t){return!n||t._p===n},r=this.Y0.filter(i);!t&&this.Z0&&i(this.Z0)&&r.push(this.Z0);for(var e=0;e<r.length;e++){r[e].mo()}return r},i.K0=function(){if(!this.Z0){var t=this.Y0.shift();t&&(this.Z0=t,t.pI())}},i.$0=function(t){var n=t.rv,i=this.Y0.indexOf(n);-1!==i&&Ke(this.Y0,i),this.Z0===n&&(this.Z0=null,this.K0())},n}(FD);function oO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function hO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function aO(t,n){return qo([t],{type:n})}var cO="iframe.html",fO=0,vO=m&&(m.bind&&m.bind(m)||m),dO=function(t){function n(n){var i;return(i=t.call(this)||this).n1=void 0,i.i1=[],i.e1=!1,i.So=function(t){return i.dispatchEvent(t)},n&&i.Uh(n),i}U(n,t);var i=n.prototype;return i.postMessage=function(t){this.e1||(this.n1?this.n1.postMessage(t):this.i1.push(t))},i.Uh=function(t){if(this.e1)t.terminate();else{this.n1=t,this.n1.addEventListener("message",this.So,!1),this.n1.addEventListener("error",this.So,!1);for(var n=0,i=this.i1;n<i.length;n++){var r=i[n];this.n1.postMessage(r)}this.i1.length=0}},i.terminate=function(){this.Co(),this.e1=!0,this.i1.length=0,this.n1&&(this.n1.removeEventListener("message",this.So,!1),this.n1.removeEventListener("error",this.So,!1),this.n1.terminate(),this.n1=void 0)},n}(FD);var lO=function(n){function i(i,r,u){var s,o,h;return(s=n.call(this)||this).xl=void 0,s.u1=void 0,s.s1=void 0,s.o1=void 0,s.h1=void 0,s.a1=function(){return s.c1()},s.f1=function(t){return s.v1(t)},s.xl=i,s.u1=r,s.s1=(o=u+cO,(h=e.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,e.body.appendChild(h),h),s.o1=s.s1.contentWindow,s.h1=Fr(u),s.s1.addEventListener("load",s.a1),t.addEventListener("message",s.f1),s}U(i,n);var r=i.prototype;return r.c1=function(){this.s1.removeEventListener("load",this.a1),this.o1.postMessage({type:"initialize",id:this.xl,script:this.u1},"*")},r.v1=function(t){Fr(t.origin)===this.h1&&t.data.id===this.xl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.o1.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.s1.removeEventListener("load",this.a1),t.removeEventListener("message",this.f1),this.o1.postMessage({type:"terminate"},"*"),this.s1.parentNode.removeChild(this.s1)},i}(FD);function _O(){return(_O=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.Ud,t.prev=1,e=new Nf({uv:n,Av:Tf.GET,Kf:jo.je}),t.next=5,r.rv(e);case 5:return u=t.sent,t.next=8,u.bu();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Bf?t.t0.Xv.Jf:-1,i({dh:h,Xo:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function gO(t,n){function i(i){return e(),nt(r=i.data)&&"2.87.0"===r.d1?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function wO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new vO(t)}catch(t){return n({message:t.message})}return gO(i,n)}var yO=!0;function mO(t,n){var i=fO++,r=t+n,u=new dO;function s(){!function(t,n,i,r){var u;function s(){h(),gO(u,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),u.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){u.removeEventListener("initialized",s),u.removeEventListener("error",o)}if(!e)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(u=new lO(t,n,i)).addEventListener("initialized",s),u.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?u.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(u.Uh(n),i&&u.dispatchEvent(i))}return wO(r,function(t,n,i){t?function(t,n){_O.apply(this,arguments)}(r,function(t,n){t?t.dh>=400?o(t.Xo):s():n&&function(t,n){if(!yO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});wO(oO(aO(t,"application/javascript")),function(t,i,r){return t&&(yO=!1),n(t,i,r)})}(n,function(t,n,i){t?s():o(t,n,i)})}):o(t,n,i)}),u}function kO(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function pO(t){return{get length(){return t.length},start:function(n){return kO(t,n|=0),t.start(n)},end:function(n){return kO(t,n|=0),t.end(n)}}}function AO(t,n){return t.pI-n.pI}var bO=function(){function t(t){this.l1=void 0,this.l1=t}var n=t.prototype;return n.start=function(t){return this.l1[t].pI},n.end=function(t){return this.l1[t].bI},n._1=function(){return this.l1},L(t,[{key:"length",get:function(){return this.l1.length}}]),t}(),TO=new bO([]),EO=new bO([{pI:-1/0,bI:1/0}]);function SO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),h=t.end(s);e<=o&&u>=h||(u+n>=o?u=h:(r.push({pI:e,bI:u}),e=o,u=h))}return r.push({pI:e,bI:u}),new bO(r)}(function(t){var n=CO(t);return n.sort(AO),new bO(n)}(t),n)}function RO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=l.max(t.start(r),n.start(e)),s=l.min(t.end(r),n.end(e));u<s&&i.push({pI:u,bI:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new bO(i)}function IO(t){var n=t.length;if(!n)return EO;var i=[],r=t.start(0);r!==-1/0&&i.push({pI:-1/0,bI:r});for(var e=0;e<n-1;e+=1)i.push({pI:t.end(e),bI:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({pI:u,bI:1/0}),new bO(i)}function NO(t,n){return-1!==DO(t,n)}function DO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function CO(t){if(t instanceof bO)return t._1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({pI:t.start(i),bI:t.end(i)});return n}function OO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(CO)),SO(new bO(e));var i,r,e}var xO=.001;function PO(t,n,i){return i=+i||0,t.pI-i<=n.bI&&n.pI<=t.bI+i}function BO(t){var n={pI:NaN,bI:NaN,gY:t};return LO(n),n}function LO(t){var n=t.gY;n.length?(n.sort(AO),t.pI=n[0].pI,t.bI=n[n.length-1].bI):(t.pI=NaN,t.bI=NaN)}function MO(t){return void 0!==t.gY}function UO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=l.max(u.pI,n),o=l.min(u.bI,i);if(s<o){var h=void 0;h=u.pI===s&&u.bI===o?u:{pI:s,bI:o,bp:u.bp},r.push(h)}}return r}function FO(t,n){var i=l.min(t.pI,n.pI),r=l.max(t.bI,n.bI),e=t.gY,u=n.gY,s=e.concat(u),o=e.length?e[e.length-1]:null,h=u.length?u[0]:null;return o&&h&&o.bp===h.bp&&PO(o,h,xO)&&s.splice(e.length-1,2,function(t,n){var i=t.bp||n.bp;return{pI:l.min(t.pI,n.pI),bI:l.max(t.bI,n.bI),bp:i}}(o,h)),BO(s=UO(s,i,r))}var HO,VO,XO,WO=function(){function t(t,n){this.l1=void 0,this.l1=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;MO(r)?LO(e=r):e=BO([r]),e.gY.length&&e.pI<e.bI&&n.push(e)}return n}(t),n||this.g1()}var n=t.prototype;return n.start=function(t){return this.l1[t]&&this.l1[t].pI},n.end=function(t){return this.l1[t]&&this.l1[t].bI},n.gY=function(t){return this.l1[t]&&this.l1[t].gY},n.w1=function(t,n){return this.m1(t,t,n)},n.m1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.A1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.b1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.T1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.py=function(t){return-1!==this.w1(t)},n.zI=function(t,n,i){return-1!==this.m1(t,n,i)},n.jI=function(t,n,i){return-1!==this.A1(t,n,i)},n.BI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=l.max(this.start(i),t.start(r)),u=l.min(this.end(i),t.end(r));if(e<u){var s=UO(this.gY(i),e,u);n.push(BO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.Cj(n,!0)},n.ig=function(t){return this.length&&t.length?this.BI(IO(t)):this},n.VI=function(t){return this.length?t.length?this.Cj(this.l1.concat(t.l1)):this:t},n.E1=function(t){for(var n=[],i=0,r=this.l1;i<r.length;i++)for(var e=0,u=r[i].gY;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.Cj(n)},n.ZI=function(t){return this.E1(function(n){return t(n)?n:null})},n.S1=function(){if(!this.length)return this;for(var t=this.l1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.R1(i,r)&&(t.splice(n,2,FO(i,r)),n-=1)}return this.Cj(t,!0)},n.R1=function(t,n){var i=t.gY,r=n.gY,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.I1(e,u)},n.g1=function(){var t=this.l1;t.sort(AO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&PO(i,r,xO)&&(t.splice(n,2,FO(i,r)),n-=1)}},L(t,[{key:"length",get:function(){return this.l1.length}}]),t}(),qO=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Cj=function(t,i){return new n(t,i)},i.I1=function(t,n){return n.bp.HZ===t.bp.HZ&&n.bp.ZQ===t.bp.ZQ+1},n}(WO);function zO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.N1(e),s=t.D1(e,u);i.push({pI:u.W_(),bI:s.W_(),bp:e})}return new qO(i).S1()}function GO(t){return t.C1!==HO.O1}function jO(t){return 0===t.C1}function QO(t){return t.C1>=0}function YO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.gY(r);u<s.length;u++){var o=s[u];if(!e){var h=o.bp;if(aC(h)&&GO(h)){if((e=QO(h))&&!jO(h)){var a=t.P1(h,h.B1).W_();o={pI:l.max(o.pI,a),bI:o.bI,bp:h}}}else e=!0;0}e&&i.push(o)}return new qO(i)}(VO=HO||(HO={})).O1=-1,VO.L1=-2,function(t){t.M1="h.264",t.U1="mp3",t.F1="aac-lc",t.H1="he-aac"}(XO||(XO={}));var ZO,JO,$O,KO,tx=function(){function t(){this.V1=0,this.l1=[],this.ab={}}var n=t.prototype;return n.X1=function(t){this.l1=this.l1.concat(t.l1),this.V1+=t.bl},n.W1=function(t,n,i){var r=this.V1,e=i-n;e>0&&(this.l1.push({q1:n,z1:i,G1:e,j1:r,Q1:t}),this.V1+=e)},n.Zo=function(t){for(var n=0,i=this.l1;n<i.length;n++){var r=i[n];if(r.j1<=t&&t<r.j1+r.G1)return r.Q1[t+r.q1-r.j1]}},n.Y1=function(t,n){for(var i=n,r=0,e=this.l1;r<e.length;r++)for(var u=e[r],s=u.z1,o=u.q1;o<s;o+=1,i+=1)t[i]=u.Q1[o];return i},n.Z1=function(){for(var t=new y(this.V1),n=0,i=0,r=this.l1;i<r.length;i++)for(var e=r[i],u=e.z1,s=e.q1;s<u;s+=1,n+=1)t[n]=e.Q1[s];return t},n.eh=function(n){for(var i=new t,r=0,e=this.l1;r<e.length;r++){var u=e[r];i.W1(u.Q1,u.q1,u.z1)}return i.ab=n||_e({},this.ab),i},L(t,[{key:"bl",get:function(){return this.V1},set:function(t){var n=this.l1,i=this.V1-t;if(!(t>=this.V1))if(this.V1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.G1)return e.z1-=i,e.G1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.G1}else n.length=0}},{key:"bu",get:function(){for(var t=new Array(this.V1),n=0,i=0,r=this.l1;i<r.length;i++)for(var e=r[i],u=e.z1,s=e.q1;s<u;s+=1,n+=1)t[n]=e.Q1[s];return t}}]),t}();function nx(t,n){return{audio:t.audio?hx(t.audio,n):void 0,video:t.video?lx(t.video,n):void 0,J1:t.J1?(i=t.J1,{K1:i.K1,n$:i.n$,ql:i.ql,n2:i.n2,i2:i.i2,e2:i.e2,u2:i.u2.map(ix),jl:[]}):void 0,s2:t.s2?t.s2.map(ex):t.s2,o2:t.o2.ow()};var i}function ix(t){return{Bk:t.Bk,ab:{h2:t.ab.h2,a2:t.ab.c2.ow()},IH:t.IH}}function rx(t){return{Bk:t.Bk,ab:{h2:t.ab.h2,c2:b_(t.ab.a2)},IH:t.IH}}function ex(t){return{c2:t.c2.ow(),EA:t.EA,eG:t.eG,rG:t.rG,Ys:t.Ys,f2:t.f2,uG:t.uG,sG:t.sG}}function ux(t){return{c2:b_(t.c2),EA:t.EA,eG:t.eG,rG:t.rG,Ys:t.Ys,f2:t.f2,uG:t.uG,sG:t.sG}}function sx(t){return{K1:t.K1,IH:[],v2:t.v2,d2:t.d2,duration:t.duration,l2:t.l2,_2:t._2.ow(),g2:t.g2,w2:t.w2.ow(),m2:t.m2,A2:t.A2.ow(),b2:t.b2.ow(),T2:t.T2.ow(),E2:t.E2.ow(),S2:t.S2.ow(),R2:t.R2.ow(),I2:t.I2.ow()}}function ox(t){return{K1:t.K1,IH:[],v2:t.v2,d2:t.d2,duration:t.duration,l2:t.l2,_2:b_(t._2),g2:t.g2,w2:b_(t.w2),m2:t.m2,A2:b_(t.A2),b2:b_(t.b2),T2:b_(t.T2),E2:b_(t.E2),S2:b_(t.S2),R2:b_(t.R2),I2:b_(t.I2)}}function hx(t,n){switch(t.v2){case XO.F1:case XO.H1:return function(t,n){return _e({},cx(t),{v2:t.v2,IH:t.IH.map(function(t){return function(t,n){var i=(r=t.ab,_e({},wx(r),{N2:r.N2,D2:r.D2,C2:r.C2}));var r;return vx(t.eh(i),n)}(t,n)}),wJ:t.wJ,O2:t.O2})}(t,n);case XO.U1:return function(t,n){return _e({},cx(t),{v2:t.v2,IH:t.IH.map(function(t){return function(t,n){var i=(r=t.ab,_e({},wx(r),{Hk:r.Hk,gp:r.gp,P2:r.P2,B2:r.B2,L2:r.L2}));var r;return vx(t.eh(i),n)}(t,n)})})}(t,n)}}function ax(t){switch(t.v2){case XO.F1:case XO.H1:return function(t){return _e({},fx(t),{v2:t.v2,IH:t.IH.map(function(t){return function(t){var n=dx(t),i=(r=n.ab,_e({},yx(r),{N2:r.N2,D2:r.D2,C2:r.C2}));var r;return n.eh(i)}(t)}),wJ:t.wJ,O2:t.O2})}(t);case XO.U1:return function(t){return _e({},fx(t),{v2:t.v2,IH:t.IH.map(function(t){return function(t){var n=dx(t),i=(r=n.ab,_e({},yx(r),{Hk:r.Hk,gp:r.gp,P2:r.P2,B2:r.B2,L2:r.L2}));var r;return n.eh(i)}(t)})})}(t)}}function cx(t){return _e({},sx(t),{IH:[],v2:t.v2,M2:t.M2,U2:t.U2,F2:t.F2,H2:t.H2})}function fx(t){return _e({},ox(t),{IH:[],v2:t.v2,M2:t.M2,U2:t.U2,F2:t.F2,H2:t.H2})}function vx(t,n){var i=t.Z1();return n.push(i.buffer),{V2:i,X2:t.bl,W2:t.ab}}function dx(t){var n=new tx;return n.W1(t.V2,0,t.X2),n.ab=t.W2,n}function lx(t,n){return _e({},sx(t),{v2:t.v2,IH:t.IH.map(function(t){return function(t,n){var i=(r=t.ab,_e({},_x(r),{N_:r.N_,q2:r.q2.ow(),z2:r.z2,G2:r.G2,j2:r.j2&&r.j2.ow(),Q2:r.Q2&&r.Q2.ow(),Y2:r.Y2,Z2:r.Z2,s2:r.s2,J2:r.J2}));var r;return vx(t.eh(i),n)}(t,n)}),K2:t.K2,t3:t.t3,rA:t.rA,width:t.width,height:t.height,n3:t.n3,i3:t.i3,r3:t.r3,fJ:t.fJ,vJ:t.vJ,_A:t._A,gA:t.gA})}function _x(t){var n;return _e({},{h2:(n=t).h2,a2:n.a2.ow()},{e3:t.e3.ow(),u3:t.u3.ow()})}function gx(t){var n;return _e({},{h2:(n=t).h2,a2:b_(n.a2)},{e3:b_(t.e3),u3:b_(t.u3)})}function wx(t){return _e({},_x(t))}function yx(t){return _e({},gx(t))}function mx(t){var n=t.video,i=n&&n.IH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].ab.Y2)return r}return NaN}function kx(t){var n=t.s3.video,i=n&&n.IH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].ab.Y2)return r}return NaN}function px(t){if(!t)return null;switch(t.v2){case XO.M1:return function(t){return t.rA?"avc1."+(t.n3<16?"0":"")+((t.n3<<16)+(t.i3<<8)+t.r3).toString(16):null}(t);case XO.U1:return"mp4a.40.34";case XO.F1:return t.O2?"mp4a.40.5":"mp4a.40.2";case XO.H1:return"mp4a.40.5";default:return null}}function Ax(t,n){var i=t.info,r=i.HZ,e=t.s3,u=r.mY(t.info.ZQ-1),s=e.audio||void 0,o=e.video||void 0,h=s&&px(s),a=o&&px(o),c=(!s||h)&&(!o||a)?{yZ:h,mZ:a}:null,f=s&&!w(s.m2)?s.m2:null,v=o&&!w(o.m2)?o.m2:null,d=Dg(s&&s.b2,o&&o.b2),_=Dg(s&&s.T2,o&&o.T2),g=Cg(s&&s.R2,o&&o.R2),y=Cg(s&&s.I2,o&&o.I2),m=o&&o._2.rg(p_.Yg(o.duration)),k=s&&s._2.rg(p_.Yg(s.duration)),p=aC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),o3:i,duration:m&&k?p_.Xg(m,k).W_():(m||k||p_.vg).W_(),h3:d,a3:_,c3:g,f3:y,audio:{start:l.max(0,f||0),duration:s&&s.l2||0,v2:h,Y$:s&&s.g2,h3:s&&s.b2,a3:s&&s.T2,c3:s&&s.R2,f3:s&&s.I2},video:{start:l.max(0,v||0),duration:o&&o.l2||0,v2:a,Y$:o&&o.g2,h3:o&&o.b2,a3:o&&o.T2,c3:o&&o.R2,f3:o&&o.I2},fL:o?{width:o.width||A,height:o.height||b}:null,ZQ:i.ZQ,size:n,quality:r,bJ:c,v3:i.v3,d3:i.d3}}function bx(t,n){var i,r,e,u,s={start:0,duration:0,v2:null,Y$:null,h3:null,a3:null,c3:null,f3:null};return"yZ"===n?(r=s,e=i=_e({},s,t.video),u=t.fL):(r=i=_e({},s,t.audio),e=s,u=null),{start:i.start,o3:t.o3,duration:i.duration,h3:i.h3,a3:i.a3,c3:i.c3,f3:i.f3,audio:r,video:e,fL:u,ZQ:t.ZQ,size:t.size,quality:t.quality,bJ:t.bJ,v3:t.v3,d3:t.d3}}function Tx(t,n){return t+"l3"+n.ZQ+"_3"+n.uri}!function(t){t.g3="w3",t.y3="m3"}(ZO||(ZO={})),function(t){t.A3="b3",t.WQ="T3"}(JO||(JO={})),function(t){t.E3="S3",t.y3="m3"}($O||($O={})),function(t){t.R3="I3",t.N3="D3"}(KO||(KO={}));var Ex=function(t){function n(n){var i;return(i=t.call(this)||this).ha=void 0,i.C3=we(),i.O3=void 0,i.x3=void 0,i.P3=function(t){var n=t.data,r=n.B3;if(i.C3.get(r))switch(n.L3){case JO.A3:0;var e=n.M3;i.U3(r,e);break;case JO.WQ:var u=n.F3;i.H3(r,new XD(VD.FQ,{code:u}));default:0}},i.V3=function(t){var n,r,e,u,s=t.data,o=s.X3;if(i.C3.get(o))switch(s.W3){case KO.R3:0;var h=s.q3;i.z3(o,{audio:(n=h).audio?ax(n.audio):void 0,video:n.video?(e=n.video,u=ox(e),_e({},u,{v2:e.v2,IH:e.IH.map(function(t){return function(t){var n,i=dx(t),r=_e({},gx(n=i.ab),{N_:n.N_,q2:b_(n.q2),z2:n.z2,G2:n.G2,j2:n.j2&&b_(n.j2),Q2:n.Q2&&b_(n.Q2),Y2:n.Y2,Z2:n.Z2,s2:n.s2,J2:n.J2});return i.eh(r)}(t)}),K2:e.K2,t3:e.t3,rA:e.rA,width:e.width,height:e.height,n3:e.n3,i3:e.i3,r3:e.r3,fJ:e.fJ,vJ:e.vJ,_A:e._A,gA:e.gA})):void 0,J1:n.J1?(r=n.J1,{K1:r.K1,n$:r.n$,ql:r.ql,n2:r.n2,i2:r.i2,e2:r.e2,u2:r.u2.map(rx),jl:[]}):void 0,s2:n.s2?n.s2.map(ux):n.s2,o2:b_(n.o2)});break;case KO.N3:var a=s.G3;i.H3(o,new XD(VD.FQ,{code:a}));default:0}},i.j3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Xo",Xo:new XD(VD.jQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};_t(n.Xo.info.code),i.dispatchEvent(n)}else 0},i.ha=n,i.x3=i.Q3(),i}U(n,t);var i=n.prototype;return i.mo=function(t){var n=[];this.C3.forEach(function(i,r){t&&i._p!==t||n.push(r)}),this.Y3(n)},i.Y3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.C3.delete(i)}if(t.length){if(this.O3){var r={Z3:ZO.y3,J3:t};this.O3.postMessage(r)}if(this.x3){var e={K3:$O.y3,t4:t};this.x3.postMessage(e)}}},i.H3=function(t,n){var i=this.C3.get(t);if(i){var r=i._O;this.C3.delete(t),r(n)}},i.n4=function(t,n,i,r){this.O3||(this.O3=this.i4());var e={Z3:ZO.g3,r4:t,e4:n,u4:i,s4:r};this.O3.postMessage(e)},i.o4=function(t,n){this.x3||(this.x3=this.Q3());var i={K3:$O.E3,h4:t,a4:n,c4:this.C3.get(t).f4};this.x3.postMessage(i)},i.U3=function(t,n){this.o4(t,n)},i.i4=function(){var t=mO(this.ha.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.P3),t.addEventListener("error",this.j3),t},i.v4=function(t){var n=t.s3.video,i=n&&n.IH&&n.IH[0];i&&i.ab.Y2},i.z3=function(t,n){var i=this.C3.get(t),r=i._O,e=i.d4,u={s3:n,info:i.l4,metadata:null};this.v4(u),function(t){var n=t.info.HZ.mY(t.info.ZQ-1),i=t.s3;t.info.d3=t.info.kY,n&&(i.audio||i.video?i.video&&!i.video.t3&&!i.video.K2&&i.video.g2&&n.SJ&&i.video.g2!==n.SJ?t.info.d3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.d3=!0):t.info.d3=!0)}(u),Ax(u,e),function(t){var n=t.info,i=n.HZ,r=t.metadata,e=t.s3;if(n._4=p_.Yg(r.duration),n.zY=e.audio&&e.audio._2.rg(p_.Yg(e.audio.duration))||p_.vg,n.GY=e.video&&e.video._2.rg(p_.Yg(e.video.duration))||p_.vg,n.g4=e.audio&&e.audio._2||p_.vg,n.w4=e.video&&e.video._2||p_.vg,n.y4=r.audio.h3,n.m4=r.audio.a3,n.A4=r.video.h3,n.b4=r.video.a3,n.qY=r.h3,n.T4=r.a3,n.E4=r.audio.c3,n.S4=r.audio.f3,n.R4=r.video.c3,n.I4=r.video.f3,n.c3=r.c3,n.f3=r.f3,e.video){var u=mx(t.s3),s=e.video.IH&&e.video.IH[u];s?(n.C1=u,n.B1=s.ab.e3,n.N4=s.ab.u3):n.C1=HO.L1}else n.C1=HO.O1;n.SJ=e.video&&e.video.g2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"LJ",l4:t.info}),!i.resolution&&r.fL&&(i.resolution=r.fL),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.bJ||i.bJ&&!i.bJ.yZ==!r.bJ.yZ&&!i.bJ.mZ==!r.bJ.mZ||i.kJ(r.bJ),e.audio&&void 0!==e.audio.wJ&&(i.wJ=e.audio.wJ),i.fJ=e.video&&e.video.fJ||i.fJ,i.vJ=e.video&&e.video.vJ||i.vJ,i.dJ=e.audio&&e.audio.K1||void 0,i.lJ=e.video&&e.video.K1||void 0,i._J=e.audio&&e.audio.v2||void 0,i.gJ=e.video&&e.video.v2||void 0,i.yJ=e.audio&&e.audio.g2||void 0,i.SJ=e.video&&e.video.g2||void 0}(u),this.C3.delete(t),r(null,u)},i.Q3=function(){var t=mO(this.ha.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.V3),t.addEventListener("error",this.j3),t},i.D4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.C3.has(n)&&e.n4(n,u,t,r.iv)}).catch(function(t){i=void 0,e.C3.has(n)&&e.H3(n,t)})},i.C4=function(t,n,i,r,e,u){var s=Tx(t,r),o=r.HZ;this.C3.set(s,{_p:t,l4:r,f4:{O4:r.duration,bJ:o.bJ,fJ:o.fJ,vJ:o.vJ,dJ:o.dJ,lJ:o.lJ,_J:o._J,gJ:o.gJ,wJ:!this.ha.skipImplicitHEAACDetection&&o.wJ,x4:e},d4:i.length,_O:u}),r.key?this.D4(n,s,i,r.key):this.o4(s,i)},i.P4=function(t){var n=[];return this.C3.forEach(function(i){i._p===t&&n.push(i.l4)}),n},i.B4=function(t,n){var i=Tx(t,n);return this.C3.has(i)},i.Nv=function(){this.mo(),this.O3&&(this.O3.terminate(),this.O3=void 0),this.x3&&(this.x3.terminate(),this.x3=void 0)},n}(FD);function Sx(t,n){return t+"L4"+n}function Rx(t){return Sx(t.HZ.xl,t.ZQ)}function Ix(t){return!(!t||!t.s3)}var Nx=function(){function t(t,n,i){this.M4=void 0,this.eb=void 0,this.U4=[],this.F4=we(),this.H4=1,this.V4=void 0,this.eb=t,this.M4=n,this.V4=i}var n=t.prototype;return n.X4=function(t){var n=Rx(t.info);if(this.F4.has(n))this.W4(t.info,t);else{this.U4.push(n),this.F4.set(n,t);for(var i=this.M4.q4+10;this.U4.length>8*this.z4&&this.G4>i*this.z4;){var r=this.F4.get(this.U4[0]),e=this.V4.j4,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,h=new aA([s,o]),a=e,c=a+this.M4.q4;if(new aA([a,c]).BI(h).bl>0)break}this.F4.delete(this.U4.shift())}}},n.Q4=function(t,n){var i=Sx(t,n),r=this.F4.get(i),e=this.U4.indexOf(i);return!(!r||-1===e)&&(Ke(this.U4,e),this.F4.delete(i),!0)},n.Ko=function(){this.U4.length=0,this.F4.clear()},n.Y4=function(){for(var t={},n=0,i=this.U4;n<i.length;n++){var r=i[n],e=this.F4.get(r);Ix(e)&&(t[e.info.HZ.xl]=(t[e.info.HZ.xl]||0)+1)}return t},n.Z4=function(t,n){var i=[],r=this.J4(t,n);if(!Ix(r))return i;do{i.push(r),n+=1,r=this.J4(t,n)}while(Ix(r));return i},n.K4=function(t,n){return!!this.J4(t,n)},n.t5=function(t,n){return Ix(this.J4(t,n))},n.J4=function(t,n){return this.F4.get(Sx(t,n))},n.W4=function(t,n){var i=Rx(t),r=this.U4.indexOf(i);return-1!==r&&(Ke(this.U4,r),this.U4.push(i),n&&this.F4.set(i,n),!0)},n.n5=function(){for(var t=[],n=0,i=this.U4;n<i.length;n++){var r=i[n],e=this.F4.get(r);t.push(e.info)}return t},n.i5=function(){for(var t=[],n=0,i=this.U4;n<i.length;n++){var r=i[n],e=this.F4.get(r);e&&Ix(e)&&t.push(e.info)}return t},L(t,[{key:"G4",get:function(){for(var t=zO(this.eb,this.n5()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"z4",get:function(){return this.H4},set:function(t){t>0&&(this.H4=l.max(t,1))}}]),t}();var Dx=Q.Oe?function(t,n){return Ng(t.e3,n.e3)}:function(t,n){return Ng(t.u3,n.u3)};function Cx(t,n,i){var r,e=t.length,u=p_.vg;r=function(t,n){return Dx(t.ab,n.ab).z_(p_.vg)},t=Qe(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].ab,h=t[s].ab,a=Dx(h,o);a.Q_(p_.vg)&&(a=n),u=u.rg(a),o.q2=a,o.N_=a.W_()}if(e>0){var c=t[e-1].ab,f=p_.Vg(p_.Yg(l.round(i-u.W_())),n);c.q2=f,c.N_=f.W_()}}function Ox(t,n,i){var r=n[0].ab.a2,e=t[t.length-1].ab.a2,u=r.ig(e),s=Ng(r,e).ig(u);if(!s.wg())for(var o=0;o<n.length;o++){i(n[o].ab,s)}}function xx(t,n){t.u3=t.u3.rg(n),t.e3=t.e3.rg(n),t.a2=t.a2.rg(n)}function Px(t,n){xx(t,n),t.q2=t.q2.rg(n),t.Q2=Bx(t.Q2,n),t.j2=Bx(t.j2,n)}function Bx(t,n){if(t)return t.rg(n)}function Lx(t,n){return n.rg(Ng(t,n))}function Mx(t,n){var i={audio:void 0,video:void 0,o2:t.o2};if("video"===n){if(!t.audio)return i;i.audio={v2:t.audio.v2,g2:t.audio.g2,w2:t.audio.w2,duration:t.audio.duration,l2:t.audio.l2,_2:p_.vg,m2:t.audio.m2,A2:t.audio.A2,b2:t.audio.b2,T2:t.audio.T2,E2:t.audio.E2,S2:t.audio.S2,R2:t.audio.R2,I2:t.audio.I2,IH:t.audio.IH,H2:t.audio.H2,F2:t.audio.F2,d2:t.audio.d2,M2:t.audio.M2,U2:t.audio.U2}}if("audio"===n){if(!t.video)return i;i.video={v2:t.video.v2,n3:t.video.n3,r3:t.video.r3,i3:t.video.i3,g2:t.video.g2,w2:t.video.w2,K2:t.video.K2,t3:t.video.t3,width:t.video.width,height:t.video.height,fJ:t.video.fJ,vJ:t.video.vJ,_A:t.video._A,gA:t.video.gA,rA:t.video.rA,duration:t.video.duration,l2:t.video.l2,_2:p_.vg,m2:t.video.m2,A2:t.video.A2,b2:t.video.b2,T2:t.video.T2,E2:t.video.E2,S2:t.video.S2,R2:t.video.R2,I2:t.video.I2,IH:t.video.IH,d2:t.video.d2}}return i}function Ux(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.v2===n.v2||!t.v2||!n.v2)&&t.g2===n.g2&&t.w2.Z_(n.w2)&&t.F2===n.F2)return t.IH?n.IH?(i=t.IH.concat(n.IH),Ox(t.IH,n.IH,xx)):i=t.IH:i=n.IH,{v2:t.v2,g2:t.g2,w2:t.w2,duration:t.duration+n.duration,l2:t.l2+n.l2,_2:t._2,m2:t.m2,A2:t.A2,b2:t.b2,T2:t.T2,E2:Lx(n.E2,t.E2),S2:Lx(n.S2,t.S2),R2:Lx(n.R2,t.R2),I2:Lx(n.I2,t.I2),IH:i,F2:t.F2,H2:t.H2,d2:t.d2||n.d2,M2:t.M2,U2:t.U2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.v2===i.v2){var e,u,s=t.K2||i.K2;if(s)u=1/(e=t.w2.rg(i.w2).Bg(2)).W_();else{if(t.g2!==i.g2)return;if(!t.w2.Z_(i.w2))return;e=t.w2,u=t.g2}if(t.width===i.width&&t.height===i.height){var o,h=t.t3||i.t3||!t.w2.Z_(i.w2);return t.IH?i.IH?r?(o=t.IH.concat(i.IH),Ox(t.IH,i.IH,Px)):(Cx(n.IH.concat(i.IH),e,n.duration+i.duration),o=t.IH.concat(i.IH),Ox(t.IH,i.IH,Px)):o=t.IH:o=i.IH,{v2:t.v2,n3:t.n3,r3:t.r3,i3:t.i3,g2:u,w2:e,K2:s,t3:h,width:t.width,height:t.height,fJ:t.fJ,vJ:t.vJ,rA:t.rA,duration:t.duration+i.duration,l2:t.l2+i.l2,_2:t._2,m2:t.m2,A2:t.A2,b2:t.b2,T2:t.T2,E2:Lx(i.E2,t.E2),S2:Lx(i.S2,t.S2),R2:Lx(i.R2,t.R2),I2:Lx(i.I2,t.I2),IH:o,d2:t.d2||i.d2,_A:t._A,gA:t.gA}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,o2:t.o2}}}function Fx(t){return Mx(t,"audio")}function Hx(t){return Mx(t,"video")}var Vx,Xx,Wx,qx=function(){function t(t){this.r5=void 0,this.lj=0,this.e5=0,this.r5=l.exp(l.log(.5)/t)}var n=t.prototype;return n.u5=function(t,n){var i=l.pow(this.r5,t),r=n*(1-i)+i*this.lj;w(r)||(this.lj=r,this.e5+=t)},n.s5=function(){var t=1-l.pow(this.r5,this.e5);return this.lj/t},t}(),zx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.o5=void 0,this.h5=void 0,this.a5=0,this.c5=void 0,this.f5=5e5,this.o5=new qx(t),this.h5=new qx(n),this.c5=i}var n=t.prototype;return n.u5=function(t,n){var i=8e3*n/t,r=t/1e3;this.a5+=n,this.o5.u5(r,i),this.h5.u5(r,i)},n.s5=function(){return this.v5()?l.min(this.o5.s5(),this.h5.s5()):this.f5},n.v5=function(){return this.a5>=this.c5},t}(),Gx=function(){function t(){this.o5=new qx(2),this.h5=new qx(5),this.d5=0,this.l5=1,this.f5=100}var n=t.prototype;return n.u5=function(t){this.d5+=1,this.o5.u5(1,t),this.h5.u5(1,t)},n.s5=function(){return this.v5()?l.min(this.o5.s5(),this.h5.s5()):this.f5},n.v5=function(){return this.d5>=this.l5},t}(),jx=function(){function t(t,n){var i=this;this._5=void 0,this.rv=void 0,this.S0=void 0,this.g5=!1,this.w5=0,this.y5=0,this.m5=function(){return i.k5()},this._5=t,this.rv=n,this.S0=n.S0,this.S0.addEventListener("Nh",this.m5)}return t.prototype.k5=function(){var t=this.S0.q0,n=1e3*this.S0.j0,i=1e3*this.S0.ww;this.S0.DK&&(this.g5||(this._5.p5(i),this.g5=!0),n>this.y5&&(this._5.A5(n-this.y5,t-this.w5),this.w5=t,this.y5=n))},t}(),Qx=function(){function t(){this.b5=void 0,this.T5=void 0,this.b5=new zx,this.T5=new Gx}var n=t.prototype;return n.E5=function(t){new jx(this,t)},n.A5=function(t,n){this.b5.u5(t,n)},n.p5=function(t){this.T5.u5(t)},n.Nv=function(){},L(t,[{key:"S5",get:function(){return this.T5.s5()/1e3}},{key:"R5",get:function(){return this.b5.s5()}}]),t}(),Yx=function(){function t(){this.I5=we()}var n=t.prototype;return n.N5=function(t,n){var i,r,e=this.I5.get(t);return Boolean(e&&(i=e.XY,r=n,it(i)?i===r:function(t,n){return t.XY===n.XY&&t.WY.pI===n.WY.pI&&t.WY.bI===n.WY.bI}(i,r)))},n.D5=function(t,n){if(this.N5(t,n))return this.I5.get(t).bu},n.C5=function(t,n,i){this.I5.set(t,{XY:n,bu:i})},n.Ko=function(){this.I5.clear()},t}();!function(t){t[t.O5=0]="O5",t[t.x5=5]="x5",t[t.P5=13]="P5",t[t.B5=14]="B5",t[t.L5=15]="L5"}(Vx||(Vx={})),function(t){t[t.M5=0]="M5",t[t.U5=1]="U5",t[t.F5=2]="F5",t[t.H5=11]="H5",t[t.V5=13]="V5",t[t.X5=14]="X5"}(Xx||(Xx={})),function(t){t[t.W5=0]="W5",t[t.q5=1]="q5",t[t.z5=2]="z5",t[t.G5=3]="G5",t[t.j5=4]="j5",t[t.Q5=5]="Q5",t[t.Y5=6]="Y5",t[t.Z5=7]="Z5"}(Wx||(Wx={}));var Zx=5,Jx=5,$x=.5;function Kx(t){if(!t.s3.video)return[];for(var n=[],i=0;i<t.s3.video.IH.length;i++){var r=t.s3.video.IH[i].ab;r.Y2&&n.push({J5:i,K5:r.e3})}return n}var tP=p_.Yg(.04),nP=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).M4=void 0,u.ha=void 0,u.t6=void 0,u.Sb=void 0,u.n6=void 0,u.i6=void 0,u.r6=void 0,u.e6=we(),u.u6=void 0,u.s6=we(),u.o6=1,u.ha=n,u.t6=i,u.Sb=r,u.n6=new Yx,u.M4=e,u.i6=new sO(r,n),u.r6=new Qx,u.u6=new Ex(n),u.u6.addEventListener("Xo",function(t){u.dispatchEvent(t)}),u}U(n,t);var i=n.prototype;return i.h6=function(t){this.u6.mo(t),this.i6.Ko(!1,t)},i.Ko=function(t){this.h6(t),t?this.e6.get(t).Ko():this.e6.forEach(function(t){return t.Ko()})},i.Nv=function(){this.Co(),this.i6.Ko(),this.e6.forEach(function(t){return t.Ko()}),this.e6.clear(),this.u6.Nv()},i.yl=function(t,n,i){if(!this.e6.has(t)){var r=new Nx(n,this.M4,i);r.z4=this.z4,this.e6.set(t,r)}},i.a6=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.n6.N5(i,r)){t.next=2;break}return t.abrupt("return",this.n6.D5(i,r));case 2:return t.next=4,this.c6(n,r);case 4:return e=t.sent,this.n6.C5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.c6=function(t,n){var i=this;return new T(function(r,e){i.i6.Rh(t,n,jo.mc,function(t,n){t&&e(t),r(new y(n.Xv))})})},i.f6=function(t,n,i,r){var e=this.e6.get(t),u=e.J4(n.HZ.xl,n.ZQ);if(e.t5(n.HZ.xl,n.ZQ))e.W4(n),this.dispatchEvent({type:"v6",_p:t,d6:u});else{if(!u)return this.l6(t,n,i,r);e.W4(n),this._6(t,n,i,u.g6)}return r&&r(),null},i.l6=function(t,n,i,r){var e=this,u=this.e6.get(t),s=function(t,n){return t+"w6"+n.ZQ+"_3"+n.uri}(t,n);if(this.s6.has(s))return null;this.s6.set(s,!0);var o=this.i6.Rh(t,n.uri,jo.mc,function(h,a){return e.s6.delete(s),h?r&&r(h):(e.dispatchEvent({type:"y6",_p:t}),u.t5(n.HZ.xl,n.ZQ)||u.X4({info:n,g6:o.Xv}),e.f6(t,n,i),r&&r(h,a))});return this.r6.E5(o),o},i._6=function(t,n,i,r){var e=this,u=this.e6.get(t);this.u6.B4(t,n)||(n&&n.key&&this.t6.getKey(n.key).catch(S),this.u6.C4(t,this.t6,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Xo",Xo:n});u.X4(i),e.dispatchEvent({type:"v6",_p:t,d6:i})}))},i.m6=function(t,n,i){var r=i.length,e="yZ"===t?rP:eP;if(!iP(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.d3){if("k6"===this.ha.p6||e(s,o)){var h=i.splice(0,u);return iP(n,h)?h:this.m6(t,n,i)}0}}return i},i.A6=function(t,n,i,r){for(var e=this.e6.get(t).i5(),u=r.b6,s=function(t){var r=i[t],s=e.filter(function(t){return t.HZ===r}),o=zO(n,s),h=o.w1(u.W_(),tP.W_());if(h>=0&&p_.Yg(o.end(h)).ig(u).G_(tP))return{v:!0}},o=0;o<i.length;o++){var h=s(o);if("object"==typeof h)return h.v}return!1},i.T6=function(t,n,i,r,e){if(!Q.Ie)return!0;if(e.E6||this.A6(t,n,i,e))return!0;var u=p_.Vg(r,e.S6);return e.b6.ig(u).G_(p_.Yg(2))},i.R6=function(t,n,i,r,e,u,s,o){var h=n.Z4(e.xl,u),a=this.m6(t,u,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.N1(f.info),d=wP(t,r,f);if("mZ"!==t||function(t,n,i){return!!t&&t.bp.HZ===n&&i.G_(p_.Yg(t.bI))&&i.Q_(p_.Yg(t.bI).rg(tP))}(i,e,d))return{gY:a,I6:p_.Xg(v,d)};f.s3.video&&(f=(a=cP(a,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],h=Kx(o),a=0;a<h.length;a++){var c=h[a];if(n.P1(o.info,c.K5).q_(i.ig(r)))return{N6:e,D6:u};e=s,u=c.J5}return{N6:e,D6:u}}(a,r,s,o)))[0]);if(d=wP(t,r,f),function(t){var n=t.s3.video,i=n&&n.IH,r=i&&i[0],e=r&&r.ab.Y2;if(!n)return!0;return!!e}(f))return{gY:a,I6:p_.Xg(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=mx(t[n].s3);if(!w(i))return{N6:n,D6:i}}return null}(a),_=p_.Vg(s,lP(t,r,e.mY(u)));if(f.info.ZQ===u){if(l&&(d=wP(t,r,(c=cP(a,l))[0]),_.ig(d).G_(o)))return{gY:c,I6:p_.Xg(v,d)};for(var g=u-1;n.t5(e.xl,g);){var y=n.Z4(e.xl,g);if((f=(c=this.m6(t,u,y))&&c[0]&&aP(c[0],kx(c[0])))&&(d=wP(t,r,f),_.ig(d).G_(o)))return c[0]=f,{gY:c,I6:p_.Xg(v,d)};g-=1}}return function(t){if(t.kY)return!1;var n=t.HZ;if(n.yY&&n.yY.live)return!1;if(!n.mY(t.ZQ-1))return!1;return!0}(a[0].info)?null:l?{gY:a=cP(a,l),I6:v}:null},i.C6=function(t,n,i,r,e,u,s,o,h,a,c){var f=u.O6(o,h,n),v=f&&f.bp;if(!v)return null;var d=v.ZQ;do{var l=d,_=o.mY(l),g=lP(n,u,_);if(!_P(n,u,_).J_(h)||_.v3){if(g.rg(tP).q_(a))break;if(p_.Vg(p_.vg,h.ig(g)).J_(c)&&i.t5(o.xl,l-1)&&i.t5(o.xl,l))i.J4(o.xl,l).metadata.d3||(l-=1);var w=this.x6(t,n,i,r,e,u,s,o,l,h,c);if(w&&(hP(w,h,a)||w.E6))return w}}while(i.t5(o.xl,++d));return null},i.x6=function(t,n,i,r,e,u,s,o,h,a,c){var f=o.mY(h),v=this.R6(n,i,r,u,o,h,a,c),d=v&&v.gY,_=v&&v.I6,g=d&&d[d.length-1],w=g&&g.metadata.v3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="yZ"===t?uP:sP;return n.map(i).filter(oP)}(n,d))||!d.length){if(w){var y=[],m=u.N1(g.info);return y.sU=m,y.P6=m,y.S6=m,y.B6=m,y.b6=m,y.E6=w,y}return null}var k=d="mZ"===n?function(t,n,i){var r=i[0].s3.video;return i[0].info.kY?function(t,n,i,r){var e=Je(r.IH,function(t){return t.ab.Y2});if(e<0)return i;var u=r.IH[e].ab,s=n.P1(i[0].info,u.e3),o=yP(t,s);if(o.eg())return i;var h=s.ig(o).Wg(pg,g_.sw);if(h.Q_(p_.vg))return i;var a=pP(r.IH.slice(e),h);return i[0]=vP(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.w2.Cg(Zx),u=r.IH[0].ab,s=n.P1(i[0].info,u.u3),o=mP(t,s,e);if(o.eg())return i;var h=s.ig(o).Wg(pg,g_.sw);if(h.Q_(p_.vg)||h.q_(e))return i;var a=pP(r.IH,h);return i[0]=vP(i[0],a),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null==(r=i[0].s3.audio)?void 0:r.v2)===XO.U1)return i;var e=i[0].s3.audio,u=e.IH[0].ab;return i[0].info.kY?function(t,n,i,r,e){var u=n.P1(i[0].info,e.e3),s=yP(t,u);if(s.eg())return i;var o=u.ig(s).W_(),h=l.floor(o/r.w2.W_());if(h<=0)return i;var a=kP(r,h);return i[0]=fP(i[0],a),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.P1(i[0].info,e.u3),s=mP(t,u,r.w2.Cg(Jx));if(s.eg())return i;var o=u.ig(s).W_(),h=l.round(o/r.w2.W_());if(0===h||l.abs(h)>Jx)return i;var a=kP(r,h);return i[0]=fP(i[0],a),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.ZQ<p.info.ZQ&&(_=u.N1(f)),k.sU=_,k.P6=function(t,n,i){return n.P1(i.info,gP(t,i).a3)}(n,u,p),k.S6=wP(n,u,p),k.B6=function(t,n,i){return n.P1(i.info,gP(t,i).f3)}(n,u,k[k.length-1]),k.b6=function(t,n,i){return n.P1(i.info,gP(t,i).c3)}(n,u,k[k.length-1]),k.E6=w,!this.T6(t,u,s,a,k))return null;var A=p.s3.video;return!A||(A.fJ=A.fJ||o.fJ,A.vJ=A.vJ||o.vJ,A.fJ&&A.vJ)?k:null},i.L6=function(t,n,i,r,e,u,s,o,h,a){for(var c=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.C6(t,n,i,r,e,u,s,v,o,h,a);d&&(c&&!d.S6.J_(c.S6)||(c=d))}return c},i.M6=function(t,n,i,r,e,u,s,o,h){for(var a=p_.Yg(s),c=p_.Yg(o),f=p_.Yg(h),v=this.e6.get(t),d=new bO([{pI:a.W_(),bI:a.rg(c).W_()}]),l=e.BI(d),_=function(t){if(0===t.length)return null;var n=t.gY(t.length-1),i=n[n.length-1];if(!i.bp.U6)return null;return i}(e),g=RO(IO(l),d),w=0;w<g.length;w++){var y=p_.Yg(g.start(w)),m=p_.Yg(g.end(w)),k=AP(l,y,m),p=y.rg(k).Wg(pg,g_.sw),A=m.Wg(pg,g_.sw);if(p.J_(A)){if(_&&p.G_(p_.Yg(_.bI)))continue;var b=this.L6(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.i5=function(t){return this.e6.get(t).i5()},i.P4=function(t){return this.u6.P4(t)},L(n,[{key:"z4",get:function(){return this.o6},set:function(t){t>0&&(this.o6=t,this.e6.forEach(function(n){return n.z4=t}))}},{key:"S5",get:function(){return this.r6.S5}},{key:"R5",get:function(){return this.r6.R5}}]),n}(FD);function iP(t,n){for(var i=0;i<n.length;i++){if(n[i].info.ZQ===t)return!0}return!1}function rP(t,n){return t.metadata.audio.v2!==n.metadata.audio.v2||(t.metadata.audio.Y$!==n.metadata.audio.Y$||(!(!t.s3.audio||!n.s3.audio||t.s3.audio.F2===n.s3.audio.F2)||!Rg(t.metadata.audio.h3,t.metadata.audio.a3).Z_(Rg(n.metadata.audio.c3,n.metadata.audio.f3))))}function eP(t,n){return t.metadata.video.v2!==n.metadata.video.v2||(!(!t.metadata.fL||!n.metadata.fL||t.metadata.fL.height===n.metadata.fL.height&&t.metadata.fL.width===n.metadata.fL.width)||(!(!n.s3.video||n.s3.video.t3||t.metadata.video.Y$===n.metadata.video.Y$)||Rg(t.metadata.video.h3,t.metadata.video.a3)!==Rg(n.metadata.video.c3,n.metadata.video.f3)))}function uP(t){return t.s3.video&&(t={s3:Hx(t.s3),info:t.info,metadata:bx(t.metadata,"mZ")}),t}function sP(t){return t.s3.audio&&(t={s3:Fx(t.s3),info:t.info,metadata:bx(t.metadata,"yZ")}),t}function oP(t){return Boolean(t&&(t.s3.audio||t.s3.video))}function hP(t,n,i){var r=p_.Vg(n,t.S6),e=p_.Xg(i,t.b6),u=tP;return Q.pe&&(r.Q_(t.S6)?u=u.rg(t.S6).ig(t.P6):e.G_(t.b6)&&(u=u.rg(t.b6).ig(t.B6))),e.ig(r).G_(u)}function aP(t,n){return w(n)?null:0===n?t:vP(t,t.s3.video.IH.slice(n))}function cP(t,n){return(t=t.slice(n.N6))[0]=aP(t[0],n.D6),t}function fP(t,n){var i={info:t.info,s3:{audio:Hx(t.s3).audio,video:null,o2:t.s3.o2},metadata:null},r=i.s3.audio;r.IH=n;var e=n[0].ab;return r.A2=e.a2,r.m2=r.A2.W_(),dP(r,i.s3.o2,r.w2),Ax(i,t.metadata.size),i.metadata=bx(i.metadata,"mZ"),i}function vP(t,n){var i={info:t.info,s3:{audio:null,video:Fx(t.s3).video,o2:t.s3.o2},metadata:null},r=i.s3.video;r.IH=n;var e=n[0].ab;r.A2=e.a2,r.m2=r.A2.W_();var u=n[n.length-1].ab.q2;return dP(r,i.s3.o2,u),Ax(i,t.metadata.size),i.metadata=bx(i.metadata,"yZ"),i}function dP(t,n,i){for(var r=p_.Jg,e=p_.Jg,u=p_.$g,s=p_.$g,o=0,h=t.IH;o<h.length;o++){var a=h[o].ab;r=p_.Xg(a.u3,r),e=p_.Xg(a.e3,e),u=p_.Vg(a.u3,u),s=p_.Vg(a.e3,s)}t.b2=e,t.T2=r,t.E2=s,t.S2=u,t._2=p_.Vg(Ng(t.A2,n),p_.vg),t.R2=Ig(t.E2,i),t.I2=Ig(t.S2,i),t.l2=Rg(t.R2,t.b2).W_(),t.duration=t.l2}function lP(t,n,i){if(aC(i)){var r="yZ"===t?i.y4:i.A4;return Eg(r)||(r=i.qY),n.P1(i,r)}return i&&n.N1(i)}function _P(t,n,i){if(aC(i)){var r="yZ"===t?i.E4:i.R4;return Eg(r)||(r=i.qY),n.P1(i,r)}return i&&n.N1(i).rg("yZ"===t?function(t){return aC(t)?t.zY||p_.vg:t&&p_.Yg(t.duration)||p_.vg}(i):function(t){return aC(t)?t.GY||p_.vg:t&&p_.Yg(t.duration)||p_.vg}(i))}function gP(t,n){return"yZ"===t?n.metadata.audio:n.metadata.video}function wP(t,n,i){return n.P1(i.info,gP(t,i).h3)}function yP(t,n){var i=t.b1(n.W_());if(-1!==i){var r=p_.Yg(t.end(i));if(n.ig(r).Q_(p_.Yg($x)))return r}return p_.Zg}function mP(t,n,i){var r=t.w1(n.W_(),i.W_());if(-1!==r)for(var e=t.gY(r),u=e.length-1;u>=0;u--)for(var s=e[u],o=s.bp.gY.length-1;o>=0;o--){var h=s.bp.gY[o];if(n.ig(p_.Yg(h.bI)).K_().Q_(i))return p_.Yg(h.bI);if(n.ig(p_.Yg(h.pI)).K_().Q_(i))return p_.Yg(h.pI)}return p_.Zg}function kP(t,n){var i;if(n<0)i=t.IH.slice(-n);else{0;var r=new tx,e=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.O2,t.F2);r.W1(e,0,e.length),i=t.IH.slice();for(var u=0;u<n;u++){var s=i[0].ab,o=r.eh(_e({},r.ab,{a2:Rg(s.a2,t.w2),h2:s.h2-t.w2.W_(),u3:Rg(s.u3,t.w2),e3:Rg(s.e3,t.w2)}));i.unshift(o)}}return i}function pP(t,n){var i=t[0].ab,r=t.slice();return r[0]=t[0].eh(_e({},i,{a2:Rg(i.a2,n),h2:i.h2-n.W_(),u3:Rg(i.u3,n),G2:i.G2-n.W_(),e3:Rg(i.e3,n),z2:i.z2-n.W_(),q2:p_.Vg(p_.vg,i.q2.rg(n)),N_:l.max(0,i.N_+n.W_())})),r}function AP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.gY(r),u=t.gY(r+1);if(e.length&&u.length&&p_.Yg(e[0].pI).Q_(n)&&p_.Yg(u[u.length-1].bI).G_(i)&&u[0].bp.gY[0].sh.o3.kY)return tP.Cg(5)}return t.py(n.W_())?tP:p_.vg}function bP(t){return new DP(t.Ff,t.bu)}var TP,EP,SP,RP,IP,NP,DP=function(){function t(t,n){this.Ff=void 0,this.F6=void 0,this.F6=n,this.Ff=t}return t.prototype.H6=function(t){hO(t)},L(t,[{key:"bu",get:function(){return this.F6}},{key:"V6",get:function(){return oO(aO(this.F6,this.Ff))}}]),t}(),CP=function(){function t(t,n,i){this.XY=void 0,this.XY="data:"+t+";"+n+","+i}return t.prototype.H6=function(t){},L(t,[{key:"V6",get:function(){return this.XY}}]),t}();!function(t){t.U1="X6",t.h_="W6",t.q6="z6",t.G6="j6",t.Q6="Y6"}(TP||(TP={})),function(t){t.Z6="J6",t.K6="t9"}(EP||(EP={})),function(t){t.n9="audio/mp4",t.i9="audio/mpeg",t.r9="video/mp4"}(SP||(SP={})),function(t){t[t.e9=0]="e9",t[t.u9=1]="u9",t[t.Wl=2]="Wl",t[t.s9=3]="s9"}(RP||(RP={})),function(t){t.o9="h9",t.a9="c9"}(IP||(IP={})),function(t){t.f9="k6",t.a9="v9"}(NP||(NP={}));var OP=function(){function t(t,n,i,r,e,u,s,o,h,a){this.d9=void 0,this.l9=void 0,this._p=void 0,this.Ff=void 0,this.d6=void 0,this._9=void 0,this.nb=void 0,this.g9=void 0,this.w9=void 0,this._O=void 0,this.y9=RP.e9,this.l9=t,this.d9=n,this._p=i,this.Ff=r,this.d6=e,this._9=u,this.nb=s,this.g9=o,this.w9=h,this._O=a}return t.m9=function(t,n,i,r,e,u,s,o,h,a){switch(n){case IP.o9:return new xP(t,i,r,e,u,s,o,h,a);case IP.a9:return new PP(t,i,r,e,u,s,o,h,a)}},t}(),xP=function(t){function n(n,i,r,e,u,s,o,h,a){return t.call(this,IP.o9,n,i,r,e,u,s,o,h,a)||this}return U(n,t),n.prototype.k9=function(){return{p9:"A9",b9:this.d9,T9:TP.Q6,E9:EP.Z6,S9:this.Ff,R9:nx(this.d6,[]),I9:this.w9,N9:this.g9.ow(),D9:this._9.ow(),C9:this.nb.ow()}},n}(OP),PP=function(t){function n(n,i,r,e,u,s,o,h,a){return t.call(this,IP.a9,n,i,r,e,u,s,o,h,a)||this}return U(n,t),n.prototype.k9=function(){return{p9:"A9",b9:this.d9,T9:this.Ff===SP.i9?TP.U1:TP.h_,E9:Np?EP.K6:EP.Z6,S9:this.Ff,R9:nx(this.d6,[])}},n}(OP),BP=function(){function t(){this.O9=void 0,this.x9=void 0,this.O9=we(),this.x9=1}var n=t.prototype;return n.P9=function(){return(this.x9++).toString()},n.m9=function(t,n,i,r,e,u,s,o,h){var a=this.P9(),c=OP.m9(a,n,t,i,r,e,u,s,o,h);return this.B9(c),c},n.L9=function(t){return this.O9.get(t)},n.B9=function(t){this.O9.set(t.d9,t)},n.M9=function(t){this.O9.delete(t)},n.U9=function(t){this.L9(t).y9=RP.u9,this.M9(t)},n.F9=function(t,n){var i=this.L9(t)._O;this.L9(t).y9=RP.Wl,this.M9(t),i(n)},n.H9=function(t,n){var i=this.L9(t)._O;this.L9(t).y9=RP.s9,this.M9(t),i(null,n)},n.Ko=function(t){var n=[];this.O9.forEach(function(i,r){t&&i._p!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.U9(r)}},t}();var LP,MP=function(){function t(n){var i=this;this.O9=void 0,this.V9=void 0,this.ha=void 0,this.X9=void 0,this.W9=function(t){var n=t.data.q9,r=t.data.z9,e=t.data.G9,u=t.data.j9,s=i.O9.L9(r);if(s&&s.y9!==RP.u9)switch(n){case"Q9":i.Y9(s,e);break;case"Z9":i.O9.F9(r,new XD(VD.FQ,{code:u}));break;default:0}},this.J9=function(t){0},this.O9=new BP,this.ha=n,this.X9=t.K9(n.p6),this.t8()}t.K9=function(t){switch(t){case NP.f9:return IP.o9;case NP.a9:return IP.a9}};var n=t.prototype;return n.A9=function(t,n,i,r,e,u,s){var o={metadata:null,yZ:null,mZ:null,Xo:null};i&&i.length||s(new XD(VD.FQ,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.ZQ+1,f=h.info.HZ,v=h.metadata,d=v.audio.v2?v.audio:void 0,l=v.video.v2?v.video:void 0,_=a.metadata,g=_.audio.v2?_.audio:void 0,y=_.video.v2?_.video:void 0,m=r.rg(Ng(v.a3,v.h3)),k=r.rg(Ng(v.h3,v.h3)),p=r.rg(d?Ng(d.a3,v.h3):p_.vg),A=r.rg(d?Ng(d.h3,v.h3):p_.vg),b=r.rg(l?Ng(l.a3,v.h3):p_.vg),T=r.rg(l?Ng(l.h3,v.h3):p_.vg),E=r.rg(Ng(_.f3,v.h3)),S=r.rg(Ng(_.c3,v.h3)),R=r.rg(g?Ng(g.f3,v.h3):p_.vg),I=r.rg(g?Ng(g.c3,v.h3):p_.vg),N=r.rg(y?Ng(y.f3,v.h3):p_.vg),D=r.rg(y?Ng(y.c3,v.h3):p_.vg);p=p_.Vg(p_.vg,p),b=p_.Vg(p_.vg,b);var C,O,x,P,B,L=uC.lw(n.KZ)?p_.Yg(100079991719):p_.Yg(n.N_),M=function(t){for(var n=t[0].s3,i=n,r=1;r<t.length;r++){if(!(n=Ux(i,t[r-1].s3,t[r].s3,t[r].info.d3)))return i;i=n}return i}(i);if(M.audio){O=(C=Hx(M)).audio.duration;x=this.O9.m9(t,this.X9,"mp3"===C.audio.v2?SP.i9:SP.n9,C,p,A,L,c,function(t,n){if(o.Xo=o.Xo||t,o.yZ=n,C=!0,P)return s(o.Xo,o)}),this.n8(x),C=null}else C=!0;if(M.video){B=(P=Fx(M)).video.duration;x=this.O9.m9(t,this.X9,SP.r9,P,b,T,L,c,function(t,n){if(o.Xo=o.Xo||t,o.mZ=n,P=!0,C)return s(o.Xo,o)}),this.n8(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=p_.Yg(O),W=p_.Yg(B),q=h.s3.audio&&h.s3.video?p_.Xg(h.s3.audio._2.rg(X),h.s3.video._2.rg(W)):h.s3.audio?h.s3.audio._2.rg(X):h.s3.video?h.s3.video._2.rg(W):p_.vg;if(q.wg()&&lt("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=mx(M);if(w(z))lt("Segment without keyframes detected",h.info.uri),U=p_.Zg,F=p_.Zg,H=q.Cg(1.5);else{var G=M.video.IH[z].ab;U=r.rg(Ng(G.u3,v.h3)),F=r.rg(Ng(G.e3,v.h3)),H=p_.Yg(G.z2-h.metadata.start)}}else U=p,F=A,H=p_.vg;var j=p_.Vg(H,p_.Vg(h.s3.audio&&h.s3.audio._2||p_.vg,h.s3.video&&h.s3.video._2||p_.vg));o.metadata={ZQ:c,pI:r.W_(),i8:m.W_(),sU:k.W_(),B6:E.W_(),b6:S.W_(),N4:U.W_(),B1:F.W_(),I6:p_.Xg(r,e).W_(),N_:q.W_(),gY:V,uh:j.W_(),yZ:d&&{pI:A.W_(),i8:p.W_(),bI:I.W_(),B6:R.W_(),N_:O,v2:d.v2},mZ:l&&{pI:T.W_(),i8:b.W_(),bI:D.W_(),B6:N.W_(),N_:B,v2:l.v2,us:v.fL.width,yp:v.fL.height},bJ:v.bJ,d3:v.d3,HZ:f,v3:u},i=null,M=null},n.Nv=function(){this.O9.Ko(),this.V9&&(this.V9.terminate(),this.V9=null)},n.mo=function(t){this.O9.Ko(t)},n.Y9=function(t,n){switch(t.l9){case IP.o9:var i=n;this.O9.H9(t.d9,{initializer:bP(i.r8),m4s:bP(i.e8)});break;case IP.a9:var r=n;this.O9.H9(t.d9,(e=r,Np?new CP(e.Ff,"base64",e.bu):new DP(e.Ff,e.bu)));break;default:0}var e},n.t8=function(){this.V9||(this.V9=mO(this.ha.libraryLocation,"theoplayer.p.js"),this.V9.addEventListener("message",this.W9),this.V9.addEventListener("error",this.J9))},n.n8=function(t){this.V9||this.t8(),this.V9.postMessage(t.k9())},t}();function UP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function FP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function HP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function VP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?js(r[6]):void 0!==r[7]?{width:g(r[8]),height:g(r[10])}:void 0!==r[12]?g(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var XP,WP="x-";function qP(t,n,i,r){var e=t.split("@"),u=UP(n,i),s=_(e[0],10),o=e[1]?_(e[1],10):r;return{XY:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},WY:{pI:o,bI:o+s-1}}}function zP(t,n,i){var r,e,u,s,o,h=0,a=0,c=0,f=null,v=0,d=!1,w=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new XD(VD.UQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(w.push(T+""),FP(T,"#EXT")){if(FP(T,"#EXTINF"))c=(c=g(HP(T)))||.5;else if(FP(T,"#EXT-X-BYTERANGE"))f=HP(T);else if(FP(T,"#EXT-X-KEY"))(u=VP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=UP(u.uri,i);else if(FP(T,"#EXT-X-DISCONTINUITY")&&!FP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(FP(T,"#EXT-X-STREAM-INF"))(e=VP(T)).ZQ=a++,(b+=1)<p.length&&(e.uri=UP(p[b].trim(),i),A.streams.push(e));else if(FP(T,"#EXT-X-MEDIA")&&!FP(T,"#EXT-X-MEDIA-"))(s=VP(T)).uri&&(s.uri=UP(s.uri,i)),A.media.push(s);else if(FP(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(HP(T));else if(FP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.fY=!0,A.vY=_(HP(T),10);else if(FP(T,"#EXT-X-MEDIA-SEQUENCE"))h=_(HP(T),10),A.u8=!0,A.s8=h;else if(FP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(HP(T),10),A.hasTargetDuration=!0;else if(FP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(FP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(FP(T,"#EXT-X-MAP")){var E=VP(T),S=E.uri,R=E.byterange;o=R?qP(R,S,i,0):UP(S,i)}else if(FP(T,"#EXT-X-VERSION"))A.version=_(HP(T),10);else if(FP(T,"#EXT-X-DATERANGE")){var I=GP(T);A.dateRanges.push(I)}}else if(FP(T,"#"));else if(0!==T.length){f?k=(r=qP(f,T,i,k)).WY.bI+1:r=UP(T,i);var N,D=u&&_e({},u);u&&void 0===u.iv&&(N=h%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,ZQ:h,kY:d,wY:v,key:D,YZ:m,QZ:w,v3:!1,o8:o}),h+=1,c=0,f=null,d=!1,m=null,w=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].v3=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=l.min(i,o.duration),r=l.max(r,o.duration)}return{h8:i,a8:r,c8:n?t.fragments[n-1].duration:0,f8:e/n,v8:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.ZQ-n.ZQ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||Ke(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function GP(t){var n=VP(t),i=function(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i];mr(e,WP)&&(n[e.substr(WP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{xl:n.id,CY:n.class,XR:r,pY:e,N_:n.duration,OY:n["planned-duration"],xY:u,PY:i,BY:s,LY:o,MY:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(XP||(XP={}));(LP={})[XP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",LP[XP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",LP[XP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",LP[XP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",LP[XP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",LP[XP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",LP[XP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var jP=function(){function t(){}return t.prototype.Xk=function(t,n,i){return zP(t,n,i)},t}(),QP=3,YP=function(){function t(t,n,i){void 0===i&&(i=QP),this.Sb=t,this.d8=n,this.l8=i}var n=t.prototype;return n._8=function(t,n,i){return this.g8(t,n,!0,i)},n.w8=function(t,n,i){return this.g8(t,n,!1,i)},n.g8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u,s,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.l8)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,ku(s,e);case 6:s<1e4&&(s=l.min(2*s,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Nf({uv:a,Kf:jo.je,$f:i,Sv:this.d8,Av:Tf.GET,Ys:Ef.hv,Tv:Sf.ov,Ao:e}),t.next=14,this.Sb.rv(c);case 14:return f=t.sent,t.next=17,f.Bf(e);case 17:return v=t.sent,t.abrupt("return",{y8:v,m8:a,ev:f.ev});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),ZP=function(){function t(t,n,i,r){this.k8=t,this.p8=n,this.A8=i,this.b8=r}var n=t.prototype;return n.T8=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.k8.GK(n.map(tO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.E8=function(t,n){var i=nO(t,n);return this.p8.Yo(i)},n.S8=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=nO(n,i),t.next=3,this.A8.Zo(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.EB=function(t){return this.b8.Zo(t)},t}(),JP=function(){function t(t){this.R8=void 0,this.R8=t}return t.prototype.I8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.R8;case 2:if(!(s<o.length)){t.next=17;break}return h=o[s],t.prev=4,t.next=7,h.I8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),cu(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),$P=function(){function t(t){this.N8=t}return t.prototype.I8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.N8.T8(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{y8:u.data,m8:u.locationURL,ev:u.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),KP=function(){function t(t){this.D8=t}return t.prototype.I8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.D8._8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.D8.w8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function tB(t,n){return new JP([new $P(n),new KP(t)])}var nB=function(){function t(t,n,i){this.C8=t,this.O8=n,this.x8=i}var n=t.prototype;return n.I8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.C8.I8(n,i,r,e);case 3:return u=t.sent,t.next=6,this.P8(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.P8=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O8.qK({key:tO(n.m8),locationURL:Ir(n.m8),responseURL:Ir(n.ev),data:n.y8,references:[this.x8.xl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function iB(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var rB=function(){function t(t,n,i){this.ha=void 0,this.Sb=void 0,this.C8=void 0,this.B8=void 0,this.B8=new jP,this.ha=t,this.Sb=i;var r=this.ha&&this.ha.crossOrigin===sl.v_,e=new YP(i,r,1);this.C8=tB(e,new ZP(KC.We.KK,KC.We.JK,KC.We.$K,KC.We.i0))}var n=t.prototype;return n.Rh=function(t,n,i){var r=this.Ed(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Ed=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.C8.I8([n],i);case 3:return r=t.sent,n=r.ev,e=this.B8.Xk(r.y8,n,iB(n)),t.abrupt("return",{yw:e,L8:r.y8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Pf)){t.next=16;break}throw new XD(VD.LQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Bf)){t.next=24;break}if(0!==t.t0.Xv.Jf){t.next=21;break}throw new XD(VD.MQ,{code:"MFL3900",uri:n,status:t.t0.Xv.Jf});case 21:throw new XD(VD.LQ,{code:"MFL4100",uri:n,status:t.t0.Xv.Jf});case 22:t.next=25;break;case 24:throw new XD(VD.Wl,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),eB=function(t){function n(n,i){var r;return(r=t.call(this)||this).M8=void 0,r.U8=void 0,r.F8=void 0,r.H8=void 0,r.V8=void 0,r.GJ=void 0,r.MJ=void 0,r.ZS=void 0,r.M8=new rB(i||{},KC.We.KK,n),r}U(n,t);var i=n.prototype;return i.Mw=function(){void 0!==this.H8&&(h(this.H8),this.H8=void 0),this.F8&&this.F8.rv&&(this.F8=void 0)},i.X8=function(t){if(this.MJ)for(var n=0,i=this.MJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.W8=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.v8<3*u)?1e3*s.h8:u?1e3*u:1e4,i===n&&(e/=2),e=l.max(e-r,1e3)},i.q8=function(t){if(t.fragments.length>0)for(var n=this.X8(t.fragments[0].uri),i=n&&n.ZQ||0,r=0,e=t.fragments;r<e.length;r++){e[r].ZQ+=i}},i.z8=function(t,i,r,e,u,s){var h=this;if(this.F8&&r===this.F8.rv){var a=$b()-i;if(e){this.F8=void 0,this.ZS=e;var c={type:"Xo",Xo:e};return this.dispatchEvent(c),u&&u(e)}this.F8=void 0;var f=s.yw,v=s.L8;f.u8||this.q8(f),t===this.U8&&(this.GJ=f),this.MJ=f;var d=n.W8(f,v,this.V8,a);f.live?f.isMasterPlaylist||(this.H8=o(function(){return h.Ed(t)},d)):this.Mw(),u&&u(e,s);var l={type:"G8",manifest:f,manifestText:v};this.dispatchEvent(l),this.V8=v}},i.Ed=function(t,n){var i=this,r=$b(),e=t;h(this.H8),this.H8=void 0;var u=this.M8.Rh(e,{},function(e,s){return i.z8(t,r,u,e,n,s)});this.F8={rv:u,uv:t}},i.pI=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.MJ?this.MJ.uri:this.U8))&&(this.F8&&this.F8.uv===t?n&&(i=function(t){u.removeEventListener("Xo",r),u.removeEventListener("G8",i);var e=t;n(null,{yw:e.manifest,L8:e.manifestText})},r=function(t){u.removeEventListener("Xo",r),u.removeEventListener("G8",i),n(t.Xo)},this.addEventListener("Xo",r),this.addEventListener("G8",i)):(this.Mw(),this.Ed(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.j8=function(t){t&&(this.V8=void 0,this.GJ&&this.GJ.isMasterPlaylist?this.pI(t.uri):this.MJ&&!this.Q8()&&this.pI(this.MJ.uri))},i.Nv=function(){this.Mw(),this.Co()},i.Q8=function(){return!!this.F8||!!this.H8||!(!this.MJ||this.MJ.live)},L(n,[{key:"yw",get:function(){return this.MJ}},{key:"p$",get:function(){return this.GJ}},{key:"xK",get:function(){return this.U8},set:function(t){this.Mw(),this.V8=void 0,this.GJ=void 0,this.MJ=void 0,this.U8=t}}]),n}(FD),uB=function(t){function n(n,i){var r;return(r=t.call(this)||this).ha=void 0,r.gl=void 0,r.U8=void 0,r.Y8=void 0,r.Sb=void 0,r.ha=i,r.gl=we(),r.U8=null,r.Y8=null,r.Sb=n,r}U(n,t);var i=n.prototype;return i.pI=function(){var t=this,n=this.xK;if(n&&!this.Y8){var i=new eB(this.Sb,this.ha);i.addEventListener("Xo",function(i){var r=i.Xo;t.dispatchEvent({type:"Z8",Xo:r}),t.gl.has(n)&&t.dispatchEvent({type:"Xo",Xo:r,J8:n})}),i.addEventListener("G8",function n(r){i.removeEventListener("G8",n),i===t.Y8&&t.dispatchEvent({type:"K8",yw:r.manifest})}),i.addEventListener("G8",function(i){t.gl.has(n)&&t.dispatchEvent({type:n,yw:i.manifest})}),this.Y8=i,i.pI(n)}},i.t7=function(t,n){this.n7(t),this.i7(n)},i.i7=function(t){var n,i=this;this.gl.has(t)||(t===this.xK?(this.pI(),(n=this.Y8).yw&&this.dispatchEvent({type:t,yw:n.yw},!0)):((n=new eB(this.Sb,this.ha)).addEventListener("Xo",function(n){i.dispatchEvent({type:n.type,Xo:n.Xo,J8:t})}),n.addEventListener("G8",function(n){i.dispatchEvent({type:t,yw:n.manifest})})),this.gl.set(t,n))},i.n7=function(t){if(this.gl.has(t)){var n=this.gl.get(t);n!==this.Y8&&n.Nv(),this.gl.delete(t),this.removeEventListener(t)}},i.r7=function(t){if(this.gl.has(t)){var n=this.gl.get(t);n.Q8()||n.pI(t)}},i.e7=function(){var t=this;this.gl.forEach(function(n,i){return t.r7(i)})},i.pl=function(){this.gl.forEach(function(t){return t.Nv()}),this.gl.clear(),this.Y8&&(this.Y8.Nv(),this.Y8=null),this.U8=null},L(n,[{key:"xK",get:function(){return this.Y8&&this.Y8.yw?this.Y8.yw.uri:this.U8},set:function(t){this.pl(),this.U8=t}}]),n}(FD),sB=function(t){function n(){var n;return(n=t.call(this)||this).u7=NaN,n}U(n,t);var i=n.prototype;return i.s7=function(t,n){for(var i=t.length?l.min.apply(l,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].uh=p_.Yg(t[e]||0)}var u=t.length?l.max.apply(l,t):0;this.u7=u,this.dispatchEvent({type:"o7",h7:u})},i.a7=function(t,n){var i=[];if(n.length<2)return this.s7(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.c7(t))return!1;i[e]=u.uh.rg(u.f7(r,t)).W_()}return this.s7(i,n),!0},i.v7=function(t,n){return this.a7(t.wY,n)},i.d7=function(t,n){if(n.length<2)return this.s7([],n),!0;var i=n[0].l7(t);if(w(i))return!1;for(var r=0;r<n.length;r++){if(n[r].l7(t)!==i)return!1}return this.a7(i,n)},i.pl=function(){this.u7=NaN},i.Nv=function(){this.Co()},L(n,[{key:"h7",get:function(){return this.u7}}]),n}(FD),oB=.001;function hB(t){return t.metadata.HZ.xl+"_7"+t.metadata.ZQ+"g7"+t.metadata.pI+"w7"+t.metadata.N_}var aB=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Cj=function(t,i){return new n(t,i)},i.I1=function(t,n){return!1},n}(WO);function cB(t,n){var i=new aB([n]);return t.ig(i).VI(i)}function fB(t,n){var i=function(t,n){var i=t.sU,r=t.B1;if(!w(r)&&r===i)return!0;return!t.d3&&!!n&&n.bp.HZ===t.HZ&&i>=n.bI&&i<=n.bI+oB}(t,n);return i||!w(t.B1)?{pI:i?t.sU:t.B1,bI:t.b6,bp:t}:null}var vB=function(t){function n(n,i){var r;return(r=t.call(this)||this).y7=void 0,r.eb=void 0,r.m7=null,r.k7=function(){return r.p7()},r.A7=[],r.iy=[],r.b7=new aB([]),r.T7=null,r.y7=n,r.eb=i,r}U(n,t);var i=n.prototype;return i.E7=function(t){var n=t.metadata,i=n&&n.gY;if(!i||!i.length)return T.resolve();for(var r=[],e=n.pI,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({pI:e,N_:s.duration,bI:o,ZQ:s.ZQ,sh:s}),e=o}var h={xl:hB(t),pI:t.metadata.pI,i8:n.i8,sU:n.sU,S7:i[0].o3.YZ?new Date(i[0].o3.YZ.getTime()):null,N_:t.metadata.N_,bI:t.metadata.pI+t.metadata.N_,B6:n.B6,b6:n.b6,N4:n.N4,B1:n.B1,gY:r,HZ:t.metadata.HZ,U6:t.metadata.v3,d3:n.d3};return this.A7.push(h),this.R7(this.y7.E7(t),h)},i.R7=function(t,n){var i=this;return t.then(function(){if($e(i.A7,n)){i.iy.push(n);var t=i.T7,r=fB(n,t);r&&(i.b7=cB(i.b7,r)),i.T7=r}i.p7(),i.I7(n)}).catch(function(){$e(i.A7,n)})},i.I7=function(t){var n=t.gY[0],i=t.gY[t.gY.length-1],r=t.HZ,e=r.mY(n.ZQ-1),u=uC.lw(r.KZ);if(!e||u){var s=r.mY(n.ZQ),o=this.eb.N1(s).W_(),h=t.i8,a=l.min(o,h);a<n.pI&&this.y7.bM(a,n.pI)}for(var c=0,f=this.iy;c<f.length;c++){var v=f[c];if(v.HZ===t.HZ){var d=v.gY[0],_=v.gY[v.gY.length-1];_.ZQ+1===n.ZQ&&_.bI!==n.pI?this.y7.bM(_.bI,n.pI):d.ZQ-1===i.ZQ&&i.bI!==d.pI&&this.y7.bM(i.bI,d.pI)}}},i.Ko=function(){this.A7.length=0,this.iy.length=0,this.b7=new aB([]),this.T7=null},i.p7=function(){if(this.N7&&!this.N7.$O){var t=this.N7.iy||TO;t=function(t,n){for(var i=CO(t),r=0;r<i.length;r++){var e=i[r],u=n.b1(e.bI,oB);if(u>=0){var s=n.gY(u),o=s[s.length-1],h=o.bp.B6,a=o.bp.b6;h-oB<e.bI&&e.bI<a&&(e.bI=a)}}return new bO(i)}(t,this.b7),this.iy=this.iy.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.pI,n.bI)>=0}),this.b7=this.b7.BI(t)}},i.Nv=function(){this.Co(),this.Ko(),this.N7=null},i.D7=function(t){var n=this.C7(t);if(n)for(var i=0,r=n.gY;i<r.length;i++){var e=r[i];if(e.pI<=t&&e.bI>t)return e}return null},i.C7=function(t){for(var n=0,i=this.iy;n<i.length;n++){var r=i[n];if(r.pI<=t&&r.bI>t)return r}return null},i.O7=function(t){for(var n=0,i=this.iy;n<i.length;n++){var r=i[n];if(r.HZ.xl===t.HZ.xl)for(var e=0,u=r.gY;e<u.length;e++){if(u[e].ZQ===t.ZQ)return!0}}return!1},i.x7=function(){return this.P7()[0]},i.P7=function(){for(var t=this.b7,n=this.T7,i=0,r=this.A7;i<r.length;i++){var e=fB(r[i],n);e&&(t=cB(t,e)),n=e}return[t,n]},L(n,[{key:"bl",get:function(){return this.A7.length+this.iy.length}},{key:"N7",get:function(){return this.m7},set:function(t){this.m7&&this.m7.removeEventListener("updateend",this.k7),this.m7=t,this.m7&&(this.m7.addEventListener("updateend",this.k7),this.p7())}}]),n}(FD);function dB(t,n,i){!function(t,n,i){for(var r=i.u2,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.P1(t,s.ab.c2).W_(),h=0,a=s.IH;h<a.length;h++){var c=a[h];e.push(new RI(o,c))}i.jl=e}(t,n,i)}function lB(t,n){return t&&n?l.abs(t.ZQ-n.ZQ)<=1?p_.vg:p_.cg(n.rp-t.rp,1e3):p_.vg}var _B=function(){function t(t,n,i,r,e){this.kY=void 0,this.N6=void 0,this.B7=void 0,this.L7=void 0,this.Ys=void 0,this.J5=void 0,this.uh=p_.vg,this.M7=!1,this.U7=null,this.kY=t,this.N6=t.HZ.gY.KQ(n.ZQ),this.J5=this.N6,this.B7=i,this.L7=r,this.Ys=e||null}var n=t.prototype;return n.F7=function(){if(this.U7)return this.U7;var t=this.H7();return(t.V7||t.Xo)&&(this.U7=t),t},n.X7=function(){return{V7:!1,Xo:!1,M7:this.M7,Fy:p_.Zg}},n.V7=function(t){return t.eg()?{V7:!1,Xo:!0,M7:this.M7,Fy:p_.Zg}:{V7:!0,Xo:!1,M7:this.M7,Fy:t}},t}();function gB(t,n){switch(n){case"yZ":return Eg(t.y4)?t.y4:t.qY;case"mZ":return Eg(t.A4)?t.A4:t.qY;default:return t.qY}}var wB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.H7=function(){var t=this.kY,n=t.HZ,i=n.gY,r=i.tY(this.J5);if(t.py(r)){if(this.L7&&t.W7&&aC(r)){var e=gB(r,this.Ys),u=t.q7(e,r.z7);return this.V7(u.ig(this.uh))}if(this.B7&&r===t.G7){var s=t.Hy.ig(cC(r));return this.V7(s.ig(this.uh))}this.J5+=1;var o=lB(r,i.tY(this.J5));return this.M7=this.M7||o.q_(p_.vg),this.uh=this.uh.rg(o).rg(cC(r)),this.X7()}return this.V7(p_.Zg)},n}(_B),yB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.H7=function(){var t=this.kY,n=t.HZ,i=n.gY,r=i.tY(this.J5);if(t.py(r)){if(this.L7&&t.W7&&aC(r)){var e=gB(r,this.Ys),u=t.q7(e,r.z7);return this.V7(u.rg(this.uh))}if(this.B7&&r===t.j7){var s=t.Fy;return this.V7(s.rg(this.uh))}this.J5-=1;var o=i.tY(this.J5),h=lB(o,r);return this.M7=this.M7||h.q_(p_.vg),this.uh=this.uh.rg(h).rg(cC(o)),this.X7()}return this.V7(p_.Zg)},n}(_B);var mB=function(){function t(t,n,i){this.ZQ=void 0,this.HZ=void 0,this.Fy=p_.vg,this.Hy=p_.vg,this.j7=null,this.G7=null,this.Q7=!1,this.Y7=p_.Zg,this.Z7=p_.Zg,this.J7=!1,this.K7=void 0,this.ZQ=t,this.HZ=n,this.K7=i}var n=t.prototype;return n.py=function(t){return t&&t.wY===this.ZQ},n.q7=function(t,n){var i=t.ig(this.Y7).rg(this.Z7);if(void 0!==n){var r=i.ig(n);if(r.K_().q_(Tg)){var e=l.round(r.W_()/bg.W_());i=i.ig(bg.Cg(e))}}return i},n.ttt=function(t,n){return this.ntt(t),this.itt(n),this.rtt()||t===this.G7&&this.ett()},n.ntt=function(t){if(this.W7&&A_(t.T4,this.Y7)>=0)return!1;var n;if(n=this.W7?this.utt(t,!0,!1):this.stt(t,!0,!1),this.Y7.eg())this.Y7=t.T4;else{var i=Ng(t.T4,this.Y7);this.Y7=this.Y7.rg(i)}return this.Z7=n,!0},n.itt=function(t){if(!t)return!1;if(this.K7)return!1;if(!this.ott())return!1;var n=this.HZ.gY,i=this.j7,r=n.nY(i.ZQ-1);if(aC(i)&&aC(r)){var e=function(t,n,i){var r=t.P1(n,n.c3);if(!Eg(i.b4)||!Eg(i.A4))return r;var e,u=Eg(i.y4),s=Rg(i.A4,i.b4);if(u){var o=Sg(Rg(i.A4,i.y4),p_.vg);e=Sg(Rg(s,o),p_.vg)}else e=s;return Rg(r,e)}(t,r,i);return this.J7=!0,this.htt(e)}return!1},n.htt=function(t){if(t.Z_(this.Fy))return!1;var n=t.ig(this.Fy);return this.Fy=t,this.Hy=this.Hy.rg(n),this.Z7=this.Z7.rg(n),!0},n.rtt=function(){if(this.K7)return!1;var t=this.G7;if(!t)return!1;var n,i=new yB(this,t,!1,!0);do{n=i.F7()}while(!n.V7&&!n.Xo&&!n.M7);if(n.V7&&!n.M7){var r=n.Fy.rg(cC(t));if(!r.Z_(this.Hy))return this.Hy=r,!0}return!1},n.att=function(t){var n=!1;return n=this.itt(t)||n,n=this.ctt(t)||n},n.ctt=function(t){if(!t)return!1;if(this.J7)return!1;var n=t.Hy.rg(lB(t.G7,this.j7));return this.htt(n)},n.ftt=function(t){var n=!1;return(!this.j7||this.j7.ZQ>t.ZQ)&&(this.Fy=this.Fy.ig(lB(t,this.j7)),this.j7=t,n=!0),(!this.G7||this.G7.ZQ<t.ZQ)&&(this.Hy=this.Hy.rg(lB(this.G7,t)).rg(cC(t)),this.G7=t,n=!0),n},n.dtt=function(t){if(!this.W7||!t.W7)return p_.Zg;if(this.Y7.Q_(t.Y7)){var n=this.q7(t.Y7,t.Z7);return t.Z7.ig(n)}return t.q7(this.Y7,this.Z7).ig(this.Z7)},n.ott=function(){var t=this.j7;return!!t&&function(t,n){return n.wY===t&&n.kY}(this.ZQ,t)},n.ett=function(){var t=this.G7;if(!t)return!1;var n=this.HZ.gY.nY(t.ZQ+1);return function(t,n,i){return n.wY===t&&(!i||i.kY)}(this.ZQ,t,n)},n.ltt=function(t,n){return this.utt(t,!0,!0,n)},n.stt=function(t,n,i){if(!this.py(t))return p_.Zg;var r,e=new yB(this,t,n,i);do{r=e.F7()}while(!r.V7&&!r.Xo);if(!r.V7)return p_.Zg;var u=r.Fy;return u.J_(this.Fy)?this.Fy:u},n.utt=function(t,n,i,r){if(!this.py(t))return p_.Zg;var e,u,s,o,h,a=new wB(this,t,n,i,r),c=new yB(this,t,n,i,r);do{e=a.F7(),u=c.F7()}while(!(e.V7||u.V7||e.Xo&&u.Xo));if(u.V7)s=u,o=e,h=a;else{if(!e.V7)return p_.Zg;s=e,o=u,h=c}if(s.Fy.J_(this.Fy)){for(;!o.V7&&!o.Xo;)o=h.F7();return o.V7?p_.Vg(this.Fy,o.Fy):this.Fy}if(s.M7){for(;!o.M7&&!o.V7&&!o.Xo;)o=h.F7();if(o.V7&&!o.M7&&this.Fy.Q_(o.Fy))return o.Fy}return s.Fy},n.P1=function(t,n){return this.py(t)&&this.W7?this.q7(n,t.z7):p_.Zg},n.P7=function(){0},L(t,[{key:"W7",get:function(){return!this.Y7.eg()}}]),t}();function kB(t,n){return n.J_(t.Fy)?Kl.H_:n.G_(t.Hy)?Kl.V_:Kl.F_}var pB=function(){function t(){this._tt=new QD}var n=t.prototype;return n.nY=function(t){return this._tt.nY(t)},n.tY=function(t){return this._tt.tY(t)},n.gtt=function(t){var n=this._tt.KQ(t);return n<0?null:this._tt.tY(n-1)},n.F7=function(t){var n=this._tt.KQ(t);return n<0?null:this._tt.tY(n+1)},n.wtt=function(){return this._tt.tY(0)},n.ytt=function(){var t=this._tt.bl;return 0===t?null:this._tt.tY(t-1)},n.mtt=function(t){var n=this._tt,i=this.ytt();if(i&&function(t,n){return t.Fy.Q_(n)&&n.J_(t.Hy)}(i,t))return i;var r=oR(this._tt.eY(),t,R,kB);return n.tY(r)},n.rg=function(t){var n=this._tt.rg(t);if(n&&!this.F7(t.ZQ)){t.Q7=!0;var i=this.gtt(t.ZQ);i&&(i.Q7=!1)}return n},n.Ih=function(t){var n=this._tt.Ih(t);if(n&&t.Q7){t.Q7=!1;var i=this.gtt(t.ZQ);i&&(i.Q7=!0)}return n},n.oY=function(t){this._tt.oY(t)},n.P7=function(){},L(t,[{key:"bl",get:function(){return this._tt.bl}}]),t}();var AB=p_.Yg(10),bB=function(){function t(t,n,i){this.HZ=void 0,this.ktt=!1,this.ptt=!1,this.Att=new pB,this.btt=p_.vg,this.Ttt=void 0,this.Ett=null,this.Stt=null,this.K7=void 0,this.HZ=t,this.Ttt=n.liveOffset,this.K7=i}var n=t.prototype;return n.Rtt=function(t){var n=this.HZ,i=t?t.fragments:null,r=n.gY;if(!t||!i||!i.length)return!1;this.ktt=!0;var e,u=!1;if(!this.Att.bl){var s=r.nY(i[0].ZQ).wY,o=new mB(s,n,this.K7);o.htt(this.uh),this.Att.rg(o),u=!0}if(this.Stt){var h=r.KQ(this.Stt.ZQ);e=h<0?0:h+1}else e=0;for(var a=e,c=r.tY(a),f=null,v=!1;c;){var d=c.wY;if(f&&f.ZQ===d||(f&&v&&this.Itt(f),f=this.Att.nY(d),u=u||v,v=!1),!f){f=new mB(d,n,this.K7),this.Att.rg(f);var l=this.Att.gtt(d);f.att(l||void 0)}v=f.ftt(c)||v,c=r.tY(++a)}return f&&v&&this.Itt(f),(u=u||v)&&this.Ntt(),this.Att.ytt()&&this.CJ(n.gY),this.Ett=r.nY(i[0].ZQ),this.Stt=r.nY(i[i.length-1].ZQ),u},n.ttt=function(t){var n=this.Att.nY(t.wY);if(!n)return!1;this.ptt=!0;var i=this.Att.gtt(n.ZQ),r=n.ttt(t,i);return r&&this.Itt(n),r},n.Itt=function(t){for(var n=t,i=this.Att.F7(t.ZQ),r=!0;r&&i;)r=i.att(n),n=i,i=this.Att.F7(i.ZQ)},n.Ntt=function(){for(var t=!1,n=this.Att.wtt(),i=n&&this.Att.F7(n.ZQ);n&&i;)n.Hy.q_(i.Fy)&&(i.htt(n.Hy),t=!0),n=i,i=this.Att.F7(n.ZQ);return t},n.Dtt=function(t){var n=this.Att.ytt(),i=t.Att.ytt();if(!this.K7){if(n&&this.Ctt(t,n.ZQ))return!0;if(i&&this.Ctt(t,i.ZQ))return!0}return this.Ott?!(!n||!this.xtt(t,n.ZQ))||(!(!i||!this.xtt(t,i.ZQ))||(!(!n||!this.Ptt(t,n.ZQ))||(!(!i||!this.Ptt(t,i.ZQ))||this.Btt(t)))):this.Ltt(t)},n.Ltt=function(t){var n=this.Att.wtt(),i=t.Att.wtt();return!(!n||!i)&&(this.ih(i.Fy.ig(n.Fy)),!0)},n.Ctt=function(t,n){var i=this.Att.nY(n);if(!i||!i.W7)return!1;var r=t.Att.nY(n);return!(!r||!r.W7)&&(this.ih(i.dtt(r)),!0)},n.xtt=function(t,n){var i=this.Att.nY(n);if(!i||!i.ott())return!1;var r=t.Att.nY(n);return!(!r||!r.ott())&&(this.ih(r.Fy.ig(i.Fy)),!0)},n.Ptt=function(t,n){var i=this.Att.nY(n);if(!i)return!1;var r=this.Mtt(i.G7.ZQ);if(!r)return!1;var e=t.Att.nY(n);if(!e)return!1;var u=t.Mtt(e.G7.ZQ);if(!u)return!1;var s=i.ltt(i.G7),o=e.ltt(e.G7),h=p_.tw(r).ig(p_.tw(u)),a=s.ig(o);return this.ih(h.ig(a)),!0},n.Btt=function(t){if(!this.ptt&&!t.ptt)return!1;var n=this.Att.ytt(),i=t.Att.ytt();if(n&&n.G7&&i&&i.G7){var r=p_.cg(n.G7.rp-i.G7.rp,1e3),e=n.Hy.ig(i.Hy);return this.ih(r.ig(e)),!0}return!1},n.CJ=function(t){var n=this.Att.ytt();if(n)for(var i=n.Hy,r=t.bl-1;r>=0;r--){var e=t.tY(r);if(i=i.ig(p_.Yg(e.duration)),void 0!==e.z7){0;break}e.z7=i}},n.l7=function(t){var n=this.Att.mtt(t);return n?n.ZQ:NaN},n.N1=function(t,n){var i=this.Att.nY(t.wY);return i?i.ltt(t,n):p_.Zg},n.D1=function(t,n){var i=this.HZ.gY.nY(t.ZQ+1);if(i){var r=this.N1(i);return r}return n.rg(function(t){if(!t)return p_.vg;if(!aC(t))return p_.Yg(t.duration);var n=t.zY||p_.vg,i=t.GY||p_.vg,r=p_.Yg(t.duration);return n.wg()||i.wg()?n.wg()?i.wg()?r.wg()?r:p_.vg:i:n:p_.Vg(n,i)}(t))},n.P1=function(t,n){var i=this.Att.nY(t.wY);return i&&i.W7?i.P1(t,n):p_.Zg},n.O6=function(t,n){var i=this.HZ.gY;return i.bl?function(t,n,i,r,e){var u,s,o=t.HZ.gY,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.N1(o.tY(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.J_(f))return{bp:u=o.tY(c),Utt:f};if(n.G_(d)&&(u=o.tY(v)).v3)return{bp:u,Utt:d};for(;f.Q_(n)&&n.Q_(d);){var _=void 0,g=void 0,w=void 0;if(c===v?(_=c,g=f):(_=c+l.round(n.ig(f).W_()*(v-c)/d.ig(f).W_())||0,g=a(_)),g.q_(n))d=a(v=_-1);else{if(u=o.tY(_),!(w=(s=_)===r?a(s).rg(cC(o.tY(s))):a(s+1)).Q_(n))return u&&n.Q_(g.rg(cC(u)))?{bp:u,Utt:g}:(u=o.tY(_+1))&&{bp:u,Utt:w};c=_+1,f=w}}if(d.Q_(n)){if((u=o.tY(v))&&n.Q_(d.rg(cC(u))))return{bp:u,Utt:d};if(v<r&&(u=o.tY(v+1),d=a(v+1),u&&n.J_(d)))return{bp:u,Utt:d}}return null}(this,t,0,i.bl-1,n):null},n.Mtt=function(t){var n=this.HZ.gY,i=n.KQ(t),r=n.tY(i),e=r,u=p_.vg;if(r.YZ)return r.YZ;for(var s=i-1;s>=0;s--){var o=n.tY(s);if(u=u.rg(cC(o)).rg(lB(o,e)),o.YZ)return new Date(o.YZ.getTime()+1e3*u.W_());e=o}return null},n.Ftt=function(t){for(var n=this.HZ.gY,i=void 0,r=0;r<n.bl;r++){var e=n.tY(r);if(e.YZ){if(!(e.YZ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return p_.Zg;var u=p_.tw(t).ig(p_.tw(i.YZ));return this.N1(i).rg(u)},n.ih=function(t){if(!t.Z_(p_.vg))for(var n=this.Att.bl,i=0;i<n;i++){var r=this.Att.tY(i);r.htt(r.Fy.rg(t))}},n.c7=function(t){var n=this.Att.nY(t);return n&&n.W7},n.f7=function(t,n){if(this===t)return p_.vg;var i=this.Att.nY(n),r=t.Att.nY(n);return i&&r?i.dtt(r):p_.Zg},n.P7=function(){0},L(t,[{key:"Ott",get:function(){var t=this.HZ.yY;return!!t&&t.live}},{key:"Htt",get:function(){var t=this.HZ.yY;return!!t&&t.isEvent}},{key:"Vtt",get:function(){var t=this.Ett;return t?this.N1(t):p_.vg}},{key:"Xtt",get:function(){var t=this.Att.ytt();return t?t.Hy:p_.vg}},{key:"Wtt",get:function(){if(!this.Ott)return p_.vg;var t=this.Xtt.ig(this.qtt);return p_.Vg(this.Vtt,t)}},{key:"qtt",get:function(){return this.Ttt&&p_.Yg(this.Ttt)||this.ztt.Cg(3)}},{key:"Gtt",get:function(){return this.Ott&&this.Stt?p_.cg($b()-this.Stt.rp,1e3):p_.vg}},{key:"ztt",get:function(){var t=this.HZ.yY;return t&&t.targetDuration?p_.Yg(t.targetDuration):AB}},{key:"uh",get:function(){return this.btt},set:function(t){var n=t.ig(this.btt);this.btt=t,this.ih(n)}}]),t}(),TB=function(t){function n(n){var i;return(i=t.call(this)||this).jtt=[],i.Qtt={},i.Ytt=null,i.Ztt=null,i.btt=p_.vg,i.K7=void 0,i.Jtt=void 0,i.Jtt=n,i}U(n,t);var i=n.prototype;return i.$tt=function(t){return t&&this.Qtt[t.xl]||null},i.Ktt=function(t){var n=this.$tt(t);return n||((n=new bB(t,this.Jtt,!!this.K7)).uh=this.btt,this.jtt.push(n),this.Qtt[t.xl]=n),n},i.tnt=function(t){var n;switch(null==(n=this.Jtt.hls)?void 0:n.discontinuityAlignment){case QA.XD:return!0;case QA.WD:return!1;default:return t.isEvent||t.hasEnd}},i.Rtt=function(t,n){void 0===this.K7&&(this.K7=this.tnt(n));var i=this.$tt(this.Ytt),r=i?i.Vtt:p_.vg,e=i?i.Xtt:p_.vg,u=this.Ktt(t),s=u.ktt,o=u.Rtt(n);if(!s&&u.ktt&&(u.ih(this.nnt(t)),o=!0),o=this.int(u)||o,this.rnt(u,r,e)){var h=new XD(VD.GQ,{code:"MFU0166"});this.dispatchEvent({type:"Xo",Xo:h})}else this.Ytt=t,o&&this.dispatchEvent("xJ")},i.ttt=function(t,n){if(aC(n)){0;var i=this.Ktt(t),r=i.ttt(n);r=this.int(i)||r,this.Ztt=t,r&&this.dispatchEvent("xJ")}},i.int=function(t){var n=!1,i=!1,r=this.$tt(this.Ztt);r&&(r===t?n=!0:i=(n=t.Dtt(r))||i);var e=this.$tt(this.Ytt);return e&&e!==t&&(i=n?e.Dtt(t)||i:t.Dtt(e)||i),i},i.nnt=function(t){var n=this.$tt(t),i=!n.Ott,r=t.yY&&t.yY.isEvent;return i||r?p_.vg:n.ztt.Cg(3)},i.rnt=function(t,n,i){if(!t.Ott)return!1;var r=t.Vtt,e=t.Xtt,u=p_.Xg(e,i).ig(p_.Vg(r,n)),s=p_.Vg(t.ztt.Cg(3),u.Bg(2));return r.rg(s).J_(n)},i.CJ=function(t,n){var i=this.$tt(t)||this.$tt(this.Ytt);return i&&i.CJ(n)},i.l7=function(t){var n=this.Ytt&&this.$tt(this.Ytt);return n?n.l7(t):NaN},i.ent=function(t,n){var i=t.mY(n);return this.N1(i)},i.N1=function(t){if(!t)return p_.Zg;var n=this.$tt(t.HZ)||this.$tt(this.Ytt);return n?n.N1(t):p_.Zg},i.D1=function(t,n){if(!t)return p_.Zg;var i=this.$tt(t.HZ)||this.$tt(this.Ytt);return i?i.D1(t,n):p_.Zg},i.P1=function(t,n){if(!t||!n)return p_.Zg;var i=this.$tt(t.HZ)||this.$tt(this.Ytt);return i?i.P1(t,n):p_.Zg},i.O6=function(t,n,i){var r=this.$tt(t);if(!r)return null;var e=r.O6(n,i);return e?{bp:e.bp,Utt:e.Utt}:null},i.Mtt=function(t,n){var i=this.$tt(t)||this.$tt(this.Ytt);return i?i.Mtt(n):null},i.Ftt=function(t,n){var i=this.$tt(t)||this.$tt(this.Ytt);return i?i.Ftt(n):p_.Zg},i.c7=function(t){return void 0!==this.unt(t)},i.f7=function(t,n){if(this===t)return p_.vg;var i=this.unt(n),r=t.unt(n);return i&&r?i.f7(r,n):p_.Zg},i.unt=function(t){return Ze(this.jtt,function(n){return n.c7(t)})},i.Nv=function(){this.Co(),this.jtt.length=0,this.Qtt={},this.Ytt=null,this.Ztt=null,this.btt=p_.vg},i.P7=function(){0},L(n,[{key:"snt",get:function(){return this.Vtt.ig(this.ztt.Cg(3))}},{key:"qtt",get:function(){var t=this.Jtt.liveOffset;return p_.Yg(t||3*this.ztt.W_())}},{key:"Ott",get:function(){var t=this.$tt(this.Ytt);return!!t&&t.Ott}},{key:"my",get:function(){return this.Ytt?new bO([{pI:this.Vtt.W_(),bI:this.Xtt.W_()}]):TO}},{key:"Vtt",get:function(){if(!this.Ytt)return p_.vg;var t=this.$tt(this.Ytt);return t.Htt?t.Vtt:t.Vtt.rg(t.Gtt)}},{key:"Xtt",get:function(){if(!this.Ytt)return p_.vg;var t=this.$tt(this.Ytt);return t.Xtt.rg(t.Gtt)}},{key:"Wtt",get:function(){if(!this.Ytt)return p_.vg;var t=this.$tt(this.Ytt);return t.Wtt.rg(t.Gtt)}},{key:"ztt",get:function(){return this.Ytt?this.$tt(this.Ytt).ztt:AB}},{key:"uh",get:function(){return this.btt},set:function(t){if(!this.btt.Z_(t)){this.btt=t;for(var n=0,i=this.jtt;n<i.length;n++){i[n].uh=t}this.dispatchEvent("xJ")}}}]),n}(FD),EB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.nnt=function(t){return p_.vg},n}(TB),SB=.25,RB=1/60;function IB(t,n){return o_(t,n,RB)}var NB,DB=function(t,n,i){this.HZ=void 0,this.Fy=void 0,this.N_=void 0,this.Hy=void 0,this.bp=void 0,this.ont=NaN,this.hnt=NaN,this.ant=0,this.HZ=t.HZ,this.Fy=n,this.Hy=i,this.N_=i-n,this.bp=t},CB=function(t,n,i){this.HZ=void 0,this.Fy=void 0,this.N_=void 0,this.Hy=void 0,this.ont=NaN,this.hnt=NaN,this.ant=0,this.HZ=t,this.Fy=n,this.Hy=i,this.N_=i-n};function OB(t){return!(!t||!t.bp)}function xB(t,n,i){return r=n,e=i,u=t.Fy,s=t.Hy,IB(r,s)<=0&&IB(u,e)<=0;var r,e,u,s}function PB(t,n){return IB(t.Fy,n)<=0?t.Hy:t.Fy}function BB(t,n,i){return(t-n)/i-SB}function LB(t,n){return n.ig(t).VI(t)}function MB(t,n){var i=l.min(RB,t.N_/2);return n.zI(t.Fy,t.Hy,i)}function UB(t,n){var i=n.w1(t);return-1===i?t:n.end(i)}function FB(t){return t.hnt<=t.ont}function HB(t,n){if(!FB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.ant+n.hnt>r.ont)return!1}return!0}function VB(t,n){for(var i=0;i<t.length;i++){t[i].ant+=n.hnt}n.ant=n.hnt,t.push(n)}!function(t){t[t.cnt=0]="cnt",t[t.fnt=1]="fnt",t[t.vnt=2]="vnt",t[t.s9=3]="s9"}(NB||(NB={}));var XB=function(){function t(t,n,i,r){this._p=void 0,this.eb=void 0,this.dnt=void 0,this.lnt=void 0,this._nt=void 0,this.E0=void 0,this._p=t,this.eb=n,this.dnt=i,this.lnt=r,this._nt=KC.We.KK,this.E0=KC.We.$K}var n=t.prototype;return n.gnt=function(){return this.dnt.gZ.reduce(function(t,n){return l.max(t,n.yY&&n.yY.targetDuration||0)},0)},n.wnt=function(t,n){void 0===n&&(n=this.eb.N1(t).W_());var i=this.eb.D1(t,p_.Yg(n));return new DB(t,n,i.W_())},n.ynt=function(t,n){var i=t.gY.tY(n);return i&&this.wnt(i)||null},n.mnt=function(t){var n=t.HZ,i=n.gY.KQ(t.ZQ);return i>=0&&this.ynt(n,i-1)||null},n.knt=function(t){var n=t.HZ,i=n.gY.KQ(t.ZQ);return i>=0&&this.ynt(n,i+1)||null},n.pnt=function(t,n){var i=this.eb.O6(t,p_.Yg(n));return i&&this.wnt(i.bp,i.Utt.W_())||null},n.Ant=function(t){var n=t.gY.bl-1;return n>=0&&this.ynt(t,n)||null},n.bnt=function(t,n,i){var r=t.yY&&t.yY.targetDuration||this.gnt()||10,e=l.max(0,n-r),u=e+r;return i&&xB(i,e,u)&&(u=(e=i.Hy)+r),new CB(t,e,u)},n.Tnt=function(t,n,i){var r=this.lnt.S5,e=.8*this.lnt.R5,u=(n.bandwidth||0)*t.N_;return i&&i.DK?((u=8*i.z0||u)-8*i.q0)/e:r+u/e},n.Ent=function(){for(var t=this.lnt.i5(this._p),n=this.lnt.P4(this._p),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Snt=function(t,n){var i=n.filter(function(n){return n.HZ===t});return zO(this.eb,i).S1()},n.Rnt=function(t){return"audio"===this._p&&t?[t]:this.dnt.gZ},n.Int=function(t){for(var n=new qO([]),i=new qO([]),r=this.Ent(),e={Nnt:{},Dnt:{},Cnt:{},Ont:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.Snt(s,r),h=YO(this.eb,o);e.Nnt[s.xl]=o,e.Dnt[s.xl]=h,e.Cnt[s.xl]=n=LB(n,o),e.Ont[s.xl]=i=LB(i,h)}return e},n.xnt=function(t,n,i,r,e){for(var u,s,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].xl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({pI:d,bI:l})}return 0===(u=RO(u=SO(new bO(a)),new bO([{pI:t,bI:n}]))).length||IB(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),h=n,IB(s,t)<=0&&IB(h,o)<=0)?NaN:u.end(0)},n.Pnt=function(t,n,i){var r=null,e=i.Nnt[t.xl],u=i.Cnt[t.xl],s=i.Ont[t.xl],o=u.w1(n);if(-1!==o){for(var h=l.max(n,u.start(o)),a=u.end(o),c=new bO([{pI:h,bI:a}]),f=u.BI(c).ig(s),v=0;v<f.length;v++){var d=f.start(v),_=f.gY(v)[0];if(_.bp.HZ===t){if(r=this.mnt(_.bp))return r}else{for(r=this.pnt(t,d);r&&MB(r,e);)r=this.mnt(r.bp);if(r)return r}}var g=u.gY(o),w=g[g.length-1];if(w.bp.HZ===t&&(r=this.knt(w.bp)))return r}var y=this.Ant(t);if(!y||IB(y.Hy,n)<=0){if(!y||!y.bp.v3)return r=this.bnt(t,n,y);r=y}for(r||(r=this.pnt(t,n));r&&MB(r,u);)r=this.knt(r.bp);return r},n.Bnt=function(t,n){var i=this.Ant(t);return i&&i.bp.v3&&IB(i.Hy,n)<=0?i:this.pnt(t,n)},n.Lnt=function(t,n,i,r,e,u,s,o){var h=t.HZ,a=s.Cnt[h.xl],c=!MB(t,a),f=c?n:PB(t,r);t.ont=BB(f,r,u),t.hnt=this.Tnt(t,h);var v=o&&this.wnt(o);if(v&&!MB(v,a)){var d=PB(v,r);if(v.ont=BB(d,r,u),v.hnt=this.Tnt(v,h,i&&i.S0),FB(v)&&(!c||function(t,n){var i=[];return!!HB(i,n)&&(VB(i,n),!(!OB(t)||!OB(n)||t.bp!==n.bp)||!!HB(i,t))}(t,v)))return v}if(c&&!FB(t))return null;var l=this.Mnt(t,r,e,u,a);return l.length&&l[l.length-1]||null},n.Mnt=function(t,n,i,r,e){for(var u=[],s=t.HZ,o=t;o&&n<o.Hy&&i<=o.Fy;){if(!MB(o,e)){if(w(o.ont)){var h=PB(o,n);o.ont=BB(h,n,r),o.hnt=this.Tnt(o,s)}HB(u,o)&&VB(u,o)}o=OB(o)&&this.mnt(o.bp)}return u},n.Unt=function(t,n){return t.Fy<n?{Bl:NB.vnt}:OB(t)?{Bl:NB.cnt,bp:t.bp,Fy:t.Fy}:{Bl:NB.fnt,HZ:t.HZ}},n.K4=function(t){if(hC(t.uri)){var n=t.uri,i=nO(n.XY,[n.WY.pI,n.WY.bI]);return this.E0.Yo(i)}var r=nO(t.uri);return this.E0.Yo(r)},n.Fnt=function(t){return this._nt.Yo(t.uri)},n.Hnt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e,u,s,o,h,a){var c,f,v,d,l,_,g,y,m,k,p,A,b;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.Rnt(e),f=this.Int(c),v=this.eb.snt.W_(),d=this.xnt(n,i,u,c,f.Dnt),g=null,m=!1,!w(d)){t.next=3;break}return t.abrupt("return",{Bl:NB.s9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{Bl:NB.vnt});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=UB(d,f.Dnt[l.xl]),!(g=this.Pnt(l,_,f))){t.next=24;break}if(p=!1,!OB(g)){t.next=18;break}return t.next=15,this.K4(g.bp);case 15:p=t.sent,t.next=22;break;case 18:if(l.nJ){t.next=22;break}return t.next=21,this.Fnt(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Unt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+SB&&a.length)){t.next=33;break}if(l=a[0],_=UB(d,f.Dnt[l.xl]),!(g=this.Pnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.Unt(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=UB(d,f.Dnt[l.xl]),(g=this.Pnt(l,_,f))?y=g:(m=!0,y=this.Bnt(l,_)),!y){t.next=45;break}if(!(b=this.Lnt(y,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Unt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{Bl:NB.s9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Unt(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{Bl:NB.s9});case 54:if(l=h[0],_=UB(d,f.Dnt[l.xl]),!(g=this.Pnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.Unt(g,v));case 61:return t.abrupt("return",{Bl:NB.s9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,h,a){return t.apply(this,arguments)}}(),t}(),WB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Vnt=i,o.Xnt=r,o.EA=e,o._p=u,o.Ev=s,o}return U(n,t),n}(Ru),qB=function(t){function n(n,i,r,e,u){return t.call(this,Go.ac,n,i,r,e,u)||this}return U(n,t),n}(WB),zB=function(t){function n(n,i,r,e,u,s,o){var h;return(h=t.call(this,Go.fc,n,i,r,e,u)||this).Wnt=s,h.ly=o,h}return U(n,t),n}(WB),GB=p_.Yg(.1),jB=function(t){function n(n){var i;return(i=t.call(this)||this).RJ=void 0,i.qnt=[],i.RJ=n,i}U(n,t);var i=n.prototype;return i.znt=function(t,n,i){var r=this.Gnt(t),e=this.jnt(r);this.Qnt(e,n,i)},i.Gnt=function(t){if(0===t.length)return[];for(var n=t[0].d6,i=this.Ynt(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.d6&&(n=u.d6,i=this.Ynt(u)),r.push(_e({},u,{Znt:u.c2.rg(i)}))}return r},i.Ynt=function(t){var n=this.RJ.P1(t.d6,t.c2),i=n.ig(t.c2);return Ng(n,t.c2).ig(i)},i.jnt=function(t){var n,i,r,e,u,s=t.slice().sort(QB),o=this.qnt;if(o.length)if(s.length){var h=1/s[0].d6.SJ,a=s[0].Znt,c=o[0].Znt,f=o[o.length-1].Znt,v=(e=o[0].d6,u=s[0].d6,e.HZ===u.HZ);if(f.ig(a).J_(p_.Yg(2.5*h))&&v)n=o.concat(s).sort(QB);else if(a.G_(c)){for(var d=0;d<o.length&&o[d].Znt.J_(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.c2.Z_(r.c2)&&i.Ys===r.Ys&&i.uG===r.sG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(QB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.pl())}else n=s,this.pl()}else n=o;else n=s;return n},i.Qnt=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.ig(r.Znt),u=Ng(n,r.Znt).ig(e),s=n.rg(u),o=GB.Wg(s.Ug),h=0;h<t.length;h+=1){var a=t[h];if(!i&&s.ig(a.Znt).J_(o))return void(this.qnt=t.slice(h));var c=this.RJ.P1(a.d6,a.c2);this.iG(c,a)}this.qnt=[]}},n}(cD);function QB(t,n){return(t.d6===n.d6?A_(t.c2,n.c2):A_(t.Znt,n.Znt))||u_(t.EA,n.EA)}var YB=function(t){function n(n,i,r,e,u,s,o,h,a,c){var f;return(f=t.call(this)||this).Jnt=!1,f.$nt=!1,f.M4=void 0,f.sK=void 0,f.Knt=void 0,f.lnt=void 0,f.tit=void 0,f.y7=void 0,f.iA=void 0,f.eb=void 0,f.nit=void 0,f.iit=!1,f.rit=void 0,f.eit=void 0,f.uit=!1,f.sit=!1,f.oit=null,f.yN=void 0,f.UJ=void 0,f.hit=void 0,f.ait=null,f.Hy=-1,f.cit=null,f.fit=!1,f.vit=!1,f.dit=1/0,f.lit=void 0,f._it=null,f.git=0,f.wit=void 0,f.So=function(t){f.dispatchEvent(t)},f.yit=function(){!f.iit&&!f.uit&&f.mit&&f.Jnt&&(f.uit=f.kit("yZ",f.rit,function(){f.uit=!1}))},f.pit=function(){!f.iit&&!f.sit&&f.Ait&&f.$nt&&(f.sit=f.kit("mZ",f.eit,function(){f.sit=!1}))},f.bit=function(t){return f.Tit()},f.Eit=function(t){if(t._p===f._p){var n=t.d6,i=n.s3;i.J1&&f.Sit(i.J1,n.info),i.s2&&f.Rit(i.s2,n.info),f.Tit(f.M4.q4,!0)}},f.N$=function(t){var n=t;f.Iit(n.TJ,n.HZ)},f.Nit=function(t){if(f.ait)for(var n=0;n<f.ait.Xp;n++){var i="CC"+(n+1);f.sK.r$(i,t.cue.Fy,t.cue.Hy)}f.sK.i$(t.cue)},f.yN=a,f.sK=i,f.Knt=r,f.lnt=e,f.tit=u,f.y7=s,f.iA=o,f.M4=c,f.eb=new TB(o),f.nit=f.Dit(i),e.yl(n,f.eb,f.y7),f.rit=new vB(s,f.eb),f.eit=new vB(s,f.eb),f.ait=f.Cit(f.eb),f.wit=new XB(n,f.eb,f.nit,e),e.addEventListener("v6",f.Eit),f.eb.addEventListener("Xo",f.So),i.addEventListener("g$",f.N$),f}U(n,t);var i=n.prototype;return i.kit=function(t,n,i){var r=this,e=this.y7.j4,u=5*this.y7.P_,s=this.Oit(),o="audio"===this._p?[this.xit]:this.nit.gZ,h=n.P7(),a=h[0],c=h[1],f=this.lnt.M6(this._p,t,this.eb,o,a,c||void 0,e,u,s);return f&&!f.length&&f.E6?(this.y7.Pit("yZ"===t,"mZ"===t),!1):!(!f||!f.length)&&(this.tit.A9(this._p,this.sK,f,f.S6,f.sU,f.E6,function(t,e){if(i(),t)r.dispatchEvent({type:"Xo",Xo:t});else{var u=e;n.E7(u).then(function(){return r.dispatchEvent("_K")}).catch(function(t){0})}}),!0)},i.Bit=function(){this.tit.mo(this._p),this.uit=!1,this.sit=!1},i.Lit=function(){var t=this.y7.j4,n=this.rit.D7(t)||this.eit.D7(t);!n||this.oit&&this.oit.ZQ===n.ZQ||(this.Tit(this.M4.q4),this.oit=n,this.dispatchEvent({type:"Mit",ab:this.oit.sh.o3}))},i.Uit=function(){this.Fit()},i.Hit=function(){this.Uit()},i.Vit=function(){this.Tit(this.M4.q4)},i.Xit=function(t,n){this.rit.D7(t)||this.eit.D7(t)||(this.oit=null)},i.Wit=function(t){var n=!1;this.rit.x7().py(t)||(this.yit(),n=!0),this.eit.x7().py(t)||(this.pit(),n=!0),n&&this.Tit(this.M4.q4,!0)},i.qit=function(){this.rit.Ko()},i.zit=function(){this.eit.Ko()},i.Oit=function(){return 0===this.rit.bl+this.eit.bl?0:"k6"===this.iA.p6?0:1*this.lnt.z4},i.Fit=function(){this.yit(),this.pit()},i.nK=function(t){return-1!==this.nit.gZ.indexOf(t)},i.Git=function(t){t&&this.nK(t)&&(this.DJ(t),this.l$(t))},i.DJ=function(t){this.eb.Rtt(t,t.yY)},i.l$=function(t){var n=this;if(t&&t.yY&&this.iA.hlsDateRange){this.sK.l$(t.yY.dateRanges,function(i){return n.eb.Ftt(t,i).W_()})}},i.jit=function(t){this.nK(t.HZ)&&this.eb.ttt(t.HZ,t)},i.Qit=function(t){var n,i,r,e=t,u=this.rit.D7(e)||this.eit.D7(e);if(u)i=u.sh.quality,r=u.ZQ,n=u.pI;else{var s=this.xit;if(!s)return null;var o=this.eb.O6(s,p_.Yg(e));if(!o)return null;i=s,r=o.bp.ZQ,n=o.Utt.W_()}var h=this.eb.Mtt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.Ftt=function(t){var n=this.xit;return this.eb.Ftt(n,t).W_()},i.Tit=function(t,n){var i=this,r=this.Yit(),e=this.y7.j4;t&&(this.Hy=e+t,n&&(this._it=null,this.git=0)),this.Yit()||e>=this.Hy?this.Zit(r):this.cit||this.fit||!this.Ol||(this.Jit(),this.$it(function(t){return i.Kit(e,i.y7.P_,t)}))},i.trt=function(t){t&&this.Knt.removeEventListener(t.uri,this.bit)},i.nrt=function(t){t&&this.Knt.addEventListener(t.uri,this.bit)},i.Yit=function(){return-1===this.Hy},n.irt=function(t){return uC.lw(t.HZ.KZ)&&$b()-t.rp>2e3*t.HZ.yY.metadata.v8},i.$it=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.cit=new su,r=this.cit,t.prev=3,t.next=6,n(r.Ao);case 6:i=t.sent,au(r.Ao),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),fu(t.t0);case 13:return t.prev=13,this.cit===r&&(this.cit=null),t.finish(13);case 16:i&&this.Tit();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Jit=function(){this.cit&&(this.cit.mo(),this.cit=null)},i.rrt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.ert=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!nL.irt(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("urt"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.git)),this.git+=1,this.Jit(),!(this.git>2)){t.next=8;break}return n.HZ.XZ(!1),t.abrupt("return",n.HZ.GZ());case 8:this.$it(function(t){return ku(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Sit=function(t,n){var i,r;r=TC((i=t).K1,4),i.n$="0000.0000.0000."+r,function(t){var n=TC(t.n2,4),i=TC(t.i2,3),r=TC(t.e2,2*t.i2);t.ql=(n+i+r).toUpperCase()}(t),dB(n,this.eb,t),this.sK.t$(t,this.eb)},i.Rit=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(_e({},e,{d6:n}))}this.ait&&this.ait.znt(i,n.R4,n.v3)},i.ort=function(t){this.lit&&this.lit.d6===t&&this.Tit()},i.hrt=function(t,n){if(n){if(n.aborted)return;if(this._it===t)return this.ert(t)}else t.HZ.XZ(!0);return this.Tit()},i.art=function(t){var n=lC(t.HZ.TJ);n&&this.dispatchEvent(new qB(oC(t.uri),t.HZ.bandwidth||0,t.ZQ,t.HZ.ZQ,n))},i.crt=function(t,n){var i=this.lit&&this.lit.rv.R0||200,r=lC(t.HZ.TJ);r&&this.dispatchEvent(new zB(oC(t.uri),t.HZ.bandwidth||0,t.ZQ,t.HZ.ZQ,r,i,n&&n.S0.q0||0))},i.Zit=function(t){this.Hy=-1,t||this.dispatchEvent("frt")},i.vrt=function(t){this.vit=!0,this.Zit(t),this.dispatchEvent("CK")},i.Kit=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(r),e=this.xit,u=this.Yit(),this.trt(e||void 0),!(n>=this.Hy)){t.next=7;break}return this.Zit(u),t.abrupt("return",!1);case 7:return t.next=9,this.wit.Hnt(n,this.Hy,i,e||void 0,this.Oit(),this.lit&&this.lit.rv,this.lit&&this.lit.d6,this.drt,this.lrt);case 9:if(s=t.sent,el.u_(this.lnt.R5/8),au(r),s.Bl!==NB.vnt){t.next=18;break}return this.Jit(),this.dispatchEvent("urt"),t.abrupt("return",!1);case 18:if(s.Bl!==NB.fnt){t.next=29;break}if(s.HZ!==e){t.next=24;break}return this.nrt(e),t.abrupt("return",!1);case 24:return t.next=26,this.rrt(s.HZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.Bl!==NB.s9){t.next=33;break}return this.nrt(e||void 0),!uC.lw(e.KZ)&&e.yY&&this.vrt(u),t.abrupt("return",!1);case 33:if(o=s.bp,!this.lit||this.lit.d6!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.HZ===e){t.next=40;break}return t.next=39,this.rrt(o.HZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.lit&&(this.lit.rv.mo(),this.lit=void 0),!(s.Fy>this.dit)){t.next=46;break}return this.vrt(u),t.abrupt("return",!1);case 46:if(!(s.Fy>this.Hy)){t.next=49;break}return this.Zit(u),t.abrupt("return",!1);case 49:if(this.vit=!1,this.lit=void 0,o!==this._it&&(this.git=0),this._it=o,this.dispatchEvent("DK"),this.art(o),!o.o8){t.next=59;break}return t.next=58,this.lnt.a6(this._p,String(o.HZ.xl),o.o8);case 58:h=t.sent;case 59:return(a=this.lnt.f6(this._p,o,h,function(t,n){c.Jit(),c.crt(o,n),c.lit=void 0,r&&r.oo||c.hrt(o,t)}))&&(this.lit={d6:o,rv:a},a.addEventListener("_K",function(){r&&r.oo||c.ort(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i._rt=function(t){this.Tit(t||this.M4.q4,!0)},i.grt=function(){var t=this.Yit();this.Hy=-1,this.lit&&this.lit.rv.mo(),this.lit=void 0,this.trt(),this.vit=!1,this._it=null,this.git=0,this.Jit(),this.Zit(t),this.ait=this.Cit(this.eb)},i.wrt=function(){this.fit=!0,this.trt(),this.Jit()},i.yrt=function(){this.fit=!1,this.Tit()},i.mrt=function(){this.iit=!0},i.krt=function(){this.iit=!1,this.Fit()},i.Nv=function(){this.Co(),this.grt(),this.Bit(),this.mit=null,this.Ait=null,this.rit.Nv(),this.eit.Nv(),this.tit.mo(this._p),this.eb.Nv(),this.sK.removeEventListener("g$",this.N$),this.lnt.removeEventListener("v6",this.Eit),this.nit=null,this.prt()},i.pl=function(){this.oit=null,this.UJ=void 0,this.hit=void 0,this.prt(),this.ait=this.Cit(this.eb)},i.Cit=function(t){var n=new jB(t);return n.Io("Ez",this.Nit),n},i.prt=function(){this.ait&&(this.ait.Oo("Ez",this.Nit),this.ait.Nv(),this.ait=null)},L(n,[{key:"I_",get:function(){return this.y7.j4}},{key:"Art",get:function(){return this.Jnt}},{key:"_p",get:function(){return this.brt()}},{key:"nJ",get:function(){return this.Trt()}},{key:"drt",get:function(){return this.Ert()}},{key:"lrt",get:function(){return this.Srt()}},{key:"mit",get:function(){return this.rit.N7},set:function(t){var n=this.rit.N7;n&&n.removeEventListener("updateend",this.yit),this.rit.N7=t,t&&(t.addEventListener("updateend",this.yit),this.yit())}},{key:"Ait",get:function(){return this.eit.N7},set:function(t){var n=this.eit.N7;n&&n.removeEventListener("updateend",this.pit),this.eit.N7=t,t&&(t.addEventListener("updateend",this.pit),this.pit())}},{key:"frt",get:function(){return this.Yit()}},{key:"CK",get:function(){return this.vit}},{key:"Rrt",get:function(){return this.dit},set:function(t){this.dit=t}},{key:"xit",get:function(){return this.Irt()}},{key:"Nrt",get:function(){return this.Drt()},set:function(t){this.Crt(t)}},{key:"Ol",get:function(){return this.DM()}},{key:"gy",get:function(){return this.Ort()}}]),n}(FD);function ZB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function JB(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){ZB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function $B(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var KB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).sK=void 0,o.eb=void 0,o.lnt=void 0,o.iA=void 0,o.xrt=void 0,o.Prt=void 0,o.Brt=null,o.Lrt=null,o.Mrt=null,o.Urt=null,o.Frt=null,o.Hrt=null,o.Vrt=null,o.Xrt=!1,o.Sy=!0,o.IZ=!0,o.Wrt=null,o.yN=void 0,o.qrt=function(){o.Wrt&&o.Wrt.disabled&&o.zrt(o.iA.initialRendition||"default"),o.Grt(!0)},o.jrt=function(){var t=o.sK.b$.wZ.some(function(t){return t.gy});o.Qrt(t)},o.Yrt=function(t){"variant"===t._p&&(o.lnt.removeEventListener("y6",o.Yrt),o.Wrt&&(o.Wrt=null,o.Grt(!1)))},o.yN=s,o.sK=n,o.eb=i,o.lnt=r,o.iA=e,o.xrt=e.Zrt||[],o.Prt=new rB(e,KC.We.KK,u),o.Brt=null,o.lnt.addEventListener("y6",o.Yrt),o.Jrt(),o.$rt(),o.zrt(e.initialRendition||"default"),o}U(n,t);var i=n.prototype;return i.Krt=function(t,n){var i=fC(t);if(i&&!i.disabled)return i;var r=this.tet(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.ZQ<=n.ZQ?t:n});case"high":var e=JB(r);return e[e.length-1];case"low":default:return JB(t)[0]}},i.net=function(t,n){var i=this.iet||this.Wrt&&[this.Wrt],r=i&&i.filter(function(n){return tu(t,n)});return r&&r.length>0?JB(r):JB(this.tet(t,n))},i.tet=function(t,n){var i=this.iA,r=this.xrt,e=this.ret();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].eet(t,n,e,i))return!1}return!0})},i.uet=function(t,n){var i=this.net(t,n);return i.length?i[i.length-1]:t[0]},i.oet=function(t,n){var i=this.iet;return i&&i.length>0?i.filter(function(n){return tu(t,n)}):t},i.het=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Urt,e=this.Frt,!r||n!==this.Hrt||i!==this.Vrt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new su,s=this.aet(n,i,u.Ao),r&&e&&e.mo(),this.Urt=s,this.Frt=u,this.Vrt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.Urt&&(this.Urt=null,this.Frt=null,this.Vrt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.aet=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.sK,u=this.eb,s=e.A$,t.next=5,this.cet(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.ent(s,i.ZQ),h=u.O6(n,o),uC.lw(s.KZ)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.cet=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Lrt,e=this.Mrt,!r||n!==this.Hrt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new su).ko(i),s=this.fet(n,u.Ao),r&&e&&e.mo(),this.Lrt=s,this.Mrt=u,this.Hrt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.Lrt&&(this.Lrt=null,this.Mrt=null,this.Hrt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.fet=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.sK,e=r.A$,!this.Ol||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.vet(n)){t.next=8;break}u=n.yY,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Prt.Rh(n.uri,{});case 11:s=t.sent,au(i),u=s.yw,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.UZ(!1),n.GZ(),t.abrupt("return",!1);case 21:n.PZ(u,e);case 22:if(!$B(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.vet=function(t){var n=t.yY;return!n||!!n.live&&(!t.gY.bl||t.gY.tY(t.gY.bl-1).rp+1e3*n.targetDuration<$b())},i.Iy=function(t){t?this.Sy||(this.Sy=!0,this.dispatchEvent("Ol")):this.Sy&&(this.Sy=!1)},i.Qrt=function(t){t&&!this.IZ?(this.IZ=!0,this.dispatchEvent("gy")):!t&&this.IZ&&(this.IZ=!1,this.dispatchEvent("Bv"))},i.Grt=function(t){var n=this,i=this.sK,r=i.A$,e=i.b$.wZ,u=this.oet(e,r),s=this.uet(u,r);s?this.het(s,null).then(function(r){r&&(i.e$(s,t),n.Iy(!0))}):this.Iy(!1)},i.det=function(){this.Wrt=null,this.Grt(!0)},i.$rt=function(){this.sK.b$.addEventListener("dZ",this.jrt)},i.let=function(){this.sK.b$.removeEventListener("dZ",this.jrt)},i.Jrt=function(){this.sK.b$.addEventListener("fZ",this.qrt)},i._et=function(){this.sK.b$.removeEventListener("fZ",this.qrt)},i.zrt=function(t){var n=this.sK,i=n.b$.wZ;if(Boolean(n.A$&&!n.A$.disabled))this.Wrt=null;else{if(i&&i.length){var r;switch(this.yN.Zx.type){case ZT.PERFORMANCE:r="low";break;case ZT.QUALITY:r="high";break;case ZT.BANDWIDTH:r=t}this.Wrt=this.Krt(i,r),this.Xrt=!0}var e=this.oet(i,null),u=this.uet(e,null);u&&(n.A$=u)}},i.ret=function(){return this.Xrt?{R5:this.lnt.R5}:{R5:this.yN.uP}},i.mo=function(){this.Urt&&this.Frt&&(this.Frt.mo(),this.Urt=null,this.Frt=null,this.Vrt=null),this.Lrt&&this.Mrt&&(this.Mrt.mo(),this.Lrt=null,this.Mrt=null,this.Hrt=null)},i.Nv=function(){this.lnt.removeEventListener("y6",this.Yrt),this._et(),this.let(),this.mo(),this.Brt=null,this.Wrt=null},i.wet=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.sK,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.het(n,i);case 5:return(e=t.sent)&&(r.A$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"Ol",get:function(){return this.Sy}},{key:"gy",get:function(){return this.IZ}},{key:"lrt",get:function(){var t=this.sK,n=t.A$,i=this.oet(t.b$.wZ,n);return this.net(i,n)}},{key:"drt",get:function(){return this.oet(this.sK.b$.wZ,this.sK.A$)}},{key:"iet",get:function(){return this.Brt},set:function(t){this.Brt=t,this.det()}}]),n}(FD),tL=function(){function t(t,n){this.Gd=void 0,this.eb=void 0,this.yet=-1,this.Gd=t,this.eb=n}return t.prototype.Nh=function(t){for(var n=t.gY,i=n.KQ(this.yet),r=i<0?0:i+1;r<n.bl;r++){var e=n.tY(r);if(e.ZQ>this.yet){var u=this.eb.N1(e),s=this.eb.D1(e,u),o=new vg(u.W_(),s.W_(),[].concat(e.QZ),!1,e.ZQ.toString());this.Gd.Cb(o),this.yet=e.ZQ}}},t}(),nL=function(t){function n(n,i,r,e,u,s,o,h,a){var c;return(c=t.call(this,rC.rZ,n,i,r,e,u,s,o,h,a)||this).met=void 0,c.ket=null,c.pet=null,c.met=new KB(n,c.eb,r,s,o,h),c.met.addEventListener("Ol",c.So),c.met.addEventListener("gy",c.So),c.met.addEventListener("Bv",c.So),s.manifestMetadataTrack&&(c.ket=n.KJ("",c.eb,""),c.pet=new tL(c.ket,c.eb)),c.Jnt=!c.sK.f$||!c.sK.f$.uri,c.$nt=Boolean(c.sK.A$),c}U(n,t);var i=n.prototype;return i.Iit=function(t,n){if("yZ"===t){var i=n?n.uri:void 0;this.Jnt=!i}},i.brt=function(){return rC.rZ},i.Trt=function(){return this.xit&&this.xit.nJ||!1},i.Irt=function(){return this.sK.A$},i.Ert=function(){return this.met.drt},i.Srt=function(){return this.met.lrt},i.Drt=function(){var t=this.met.iet;return t&&t.map(function(t){return t.xl})},i.Crt=function(t){if(t&&t.length>0){var n=this.nit.gZ.filter(function(n){return-1!==t.indexOf(n.xl)});if(!(n.length>0))return void 0;this.met.iet=n}else this.met.iet=null},i.DM=function(){return this.met.Ol},i.Ort=function(){return this.met.gy},i.rrt=function(){var n=T.coroutine(le.mark(function n(i,r){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.met.wet(i,r);case 2:return n.abrupt("return",t.prototype.rrt.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.grt=function(){t.prototype.grt.call(this),this.met.mo()},i.DJ=function(n){t.prototype.DJ.call(this,n),this.pet&&this.pet.Nh(n)},i.Nv=function(){t.prototype.Nv.call(this),this.met.Nv(),this.met.removeEventListener("gy",this.So),this.met.removeEventListener("Bv",this.So)},i.Dit=function(t){return t.b$},i.Aet=function(){var t=this.I_,n=this.Art?this.rit.C7(t):void 0,i=n?n.HZ:void 0,r=this.eit.C7(t),e=r?r.HZ:void 0,u=this.UJ;this.UJ=i;var s=this.hit;return this.hit=e,!u&&i?{w$:u,bet:i}:!s&&e?{w$:s,bet:e}:s&&e&&s.xl!==e.xl?{w$:s,bet:e}:void 0},n}(YB),iL=function(t){function n(n,i,r,e,u,s,o,h,a){var c;return(c=t.call(this,rC.mv,n,i,r,e,u,s,o,h,a)||this).Jnt=!!c.sK.f$&&!!c.sK.f$.uri,c.$nt=!1,c}U(n,t);var i=n.prototype;return i.Iit=function(t,n){if("yZ"===t){var i=n?n.uri:void 0;this.Jnt=!!i}},i.brt=function(){return rC.mv},i.Trt=function(){return this.xit&&this.xit.nJ||!1},i.Irt=function(){return this.sK.f$},i.Ert=function(){var t=this.Irt();return t?[t]:[]},i.Srt=function(){return this.Ert()},i.Dit=function(t){return t.mJ},i.Drt=function(){return null},i.Crt=function(t){},i.DM=function(){return!0},i.Ort=function(){return!0},i.Aet=function(){var t=this.Art?this.rit.C7(this.I_):void 0,n=t?t.HZ:void 0,i=this.UJ;return this.UJ=n||void 0,!i&&n?{w$:i,bet:n}:i&&n&&i.xl!==n.xl?{w$:i,bet:n}:void 0},n}(YB),rL=function(){function t(t,n,i,r,e,u){var s=this;this.Tet=!1,this.aY=void 0,this.Eet=void 0,this.V4=void 0,this.Ret=void 0,this.M4=void 0,this.Iet=aA.uN(),this.Net=[],this.Det=void 0,this.Cet=[],this.NJ=function(){return s.Oet()},this.xet=function(t){t.yw.live||s.Eet.removeEventListener(s.aY.XY,s.xet),s.aY.PZ(t.yw)},this.Pet=function(){s.aY.OJ.zl===qd.Hl?s.Tet&&s.Bet():s.Tet||s.Let()},this.aY=t,this.Eet=n,this.V4=i,this.M4=u,this.Ret=new sO(r,e),this.Det=new su,t.OJ.Io(_d.ul,this.Pet),t.eb&&t.eb.addEventListener("xJ",this.NJ),this.Pet()}var n=t.prototype;return n.Let=function(){this.Tet||this.aY.OJ.zl===qd.Hl||(this.Eet.removeEventListener(this.aY.XY,this.xet),this.Eet.addEventListener(this.aY.XY,this.xet),this.Eet.i7(this.aY.XY),this.Eet.r7(this.aY.XY),this.Tet=!0,wu(this.Met(this.Det.Ao)))},n.Met=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o,h,a,c,f,v=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.V4.j4,r=this.M4.q4,e=new aA([i,i+r]),(u=e.BI(this.Iet.LI())).bl){t.next=16;break}return t.prev=6,t.next=9,ku(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),fu(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.Met(n));case 16:if(s=u.pI(0),o=this.Uet(s)){t.next=30;break}return h=this.aY,t.prev=20,t.next=23,cd(h,"FZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),fu(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.Met(n));case 30:a=o.bp,c=o.Utt.W_(),f=c+a.duration,this.Ret.Rh("OJ",a.uri,jo.je,function(){var t=T.coroutine(le.mark(function t(i,r){var e,u,s,o,h,d;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw ku(1e3,n).then(function(){return v.Met(n)}),i;case 3:for(v.Iet=v.Iet.VI(new aA([c,f])),v.Net.push(a.ZQ),e=zg(r.Xv),u=e.mm||{km:p_.vg,pm:p_.vg},s=v.aY.gY.nY(a.ZQ),o=0,h=e.jl;o<h.length;o++)d=h[o],v.Cet.push({d6:s,Utt:eL(p_.Yg(d.Fy),u.pm,u.km),Fet:eL(p_.Yg(d.Hy),u.pm,u.km),Uy:d});return v.Oet(),t.next=12,v.Met(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.Oet=function(){var t=this.aY.eb;if(this.Cet.length&&t){for(var n=[],i=0,r=this.Cet;i<r.length;i++){var e=r[i],u=t.P1(e.d6,e.Utt);if(u.eg())n.push(e);else{var s=t.P1(e.d6,e.Fet),o=new lg(u.W_(),s.W_(),e.Uy.Vy,!1,e.Uy.xl);this.aY.OJ.Cb(o)}}this.Cet=n,this.aY.OJ.rH(this.V4.j4,!0)}},n.Uet=function(t){var n=this.aY.eb,i=this.aY.gY;if(n.Ott)for(var r=n.Xtt.W_(),e=i.bl-1;e>=0;e-=1){var u=i.tY(e),s=r-u.duration;if(new aA([s,r]).MR(t,.5)){var o={bp:u,Utt:p_.Yg(s)};return this.Het(i,o,e)}r=s}else for(var h=0,a=0;a<i.bl;a+=1){var c=i.tY(a),f=h+c.duration;if(new aA([h,f]).MR(t,.5)){var v={bp:c,Utt:p_.Yg(h)};return this.Het(i,v,a)}h=f}},n.Het=function(t,n,i){var r=n.bp;if(-1===this.Net.indexOf(r.ZQ))return n;for(var e=n.Utt.W_()+r.duration,u=i+1;u<t.bl;u+=1){var s=t.tY(u);if(-1===this.Net.indexOf(s.ZQ))return{bp:s,Utt:p_.Yg(e)};e+=s.duration}},n.Bet=function(){this.Tet=!1,this.Eet.n7(this.aY.XY),this.Det.mo(),this.Det=new su},n.pl=function(){this.Bet(),this.Iet=aA.uN(),this.Net.length=0,this.aY.OJ.Oo(_d.ul,this.Pet),this.aY.eb&&this.aY.eb.removeEventListener("xJ",this.NJ),this.Eet.removeEventListener(this.aY.XY,this.xet)},t}();function eL(t,n,i){return Ig(i,t.ig(n))}var uL=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).iA=void 0,u.AK=void 0,u.lnt=void 0,u.tit=void 0,u.sK=void 0,u.Knt=void 0,u.Vet=void 0,u.Xet=NaN,u.Wet=!1,u.qet=1/0,u.zet=1/0,u.Get=null,u.jet=!0,u.Qet=!0,u.y7=null,u.Sb=void 0,u.yN=void 0,u.Yet=void 0,u.Zet=void 0,u.Jet=[],u.YJ=function(){var t=u.sK.N_;w(t)||u.Xet===t||(u.Xet=t,u.dispatchEvent("durationchange"))},u.$et=function(){u.lK&&(u.sK.removeEventListener("renditionUpdated",u.$et),u.dispatchEvent("lK"))},u.Ket=function(){u.frt&&u.dispatchEvent("frt")},u.tut=function(){u.CK&&u.dispatchEvent("CK")},u.So=function(t){u.dispatchEvent(t)},u.nut=function(t){var n=u.sK.s$(t.J8);n?n instanceof yC&&(n.UZ(!1),n.GZ()):u.dispatchEvent(t)},u.iut=function(t){u.sK.yw||(t.Xo.code===VD.LQ?(u.Get||(u.Get=o(u.rut,Bp)),u.Qet=!1,u.VZ()):u.dispatchEvent({type:"Xo",Xo:t.Xo}))},u.eut=function(t){u.uut(),u.sut(t.yw),u.out(),u.sK.removeEventListener("a$",u.YJ),u.sK.addEventListener("a$",u.YJ),u.YJ(),u.Wet||(u.Wet=!0,u.dispatchEvent("loadedmetadata")),u.$et(),u.Qet=!0,u.VZ()},u.rut=function(){u.uut();var t=u.xK;t&&(u.Knt.pl(),u.Knt.xK=t,u.Knt.pI())},u.hut=function(){u.Knt.e7()},u.aut=function(){u.cut.forEach(function(t){return t.krt()})},u.fut=function(t){u.vut.forEach(function(n){return n.Git(t.HZ)})},u.dut=function(t){u.cut.forEach(function(n){return n.jit(t.l4)}),u.Vet.v7(t.l4,u.cut.map(function(t){return t.eb}))},u.VZ=function(){var t=u.jet,n=u.Ort();u.jet=n,n&&!t?u.dispatchEvent("gy"):!n&&t&&u.dispatchEvent("Bv")},u.yN=e,u.iA=n,u.AK=i,u.Sb=r,u.lnt=new nP(n,i,r,en(u)),u.tit=new MP(n),u.sK=new kC(n),u.Knt=new uB(r,n),u.Vet=new sB,u.Knt.addEventListener("Xo",u.nut),u.Knt.addEventListener("Z8",u.iut),u.Knt.addEventListener("K8",u.eut),u.lnt.addEventListener("v6",u.So),u.lnt.addEventListener("Xo",u.So),u.sK.addEventListener("g$",u.So),u.sK.addEventListener("FZ",u.fut),u.sK.addEventListener("LJ",u.dut),u.sK.addEventListener("y$",u.So),u.Vet.addEventListener("o7",u.So),u.Vet.addEventListener("o7",u.aut),u.addEventListener("gy",u.hut),u}U(n,t);var i=n.prototype;return i.lut=function(t){t.Rrt=this.Rrt,t.addEventListener("Mit",this.So),t.addEventListener("_ut",this.So),t.addEventListener("Xo",this.So),t.addEventListener("urt",this.So),t.addEventListener("DK",this.So),t.addEventListener("frt",this.Ket),t.addEventListener("CK",this.tut),t.addEventListener("Bv",this.VZ),t.addEventListener("gy",this.VZ),t.addEventListener("Ol",this.So),t.addEventListener("_K",this.So),t.addEventListener(Go.ac,this.So),t.addEventListener(Go.fc,this.So)},i.out=function(){this.gut();this.sK.b$.gZ;var t=this.sK.mJ.gZ;this.Yet=new nL(this.sK,this.Knt,this.lnt,this.tit,this.y7,this.iA,this.Sb,this.yN,this),this.lut(this.Yet),t.length&&(this.Zet=new iL(this.sK,this.Knt,this.lnt,this.tit,this.y7,this.iA,this.Sb,this.yN,this),this.lut(this.Zet));for(var n=this.sK.T$,i=this.Yet.eb,r=0;r<n.length;r++){var e=n[r];e.eb=i,this.Jet.push(new rL(e,this.Knt,this.y7,this.Sb,this.iA,this))}},i.gut=function(){this.Yet&&(this.Yet.Nv(),this.Yet=void 0),this.Zet&&(this.Zet.Nv(),this.Zet=void 0),this.Jet.forEach(function(t){return t.pl()}),this.Jet.length=0,this.Vet.pl()},i.wut=function(t){this.cut.forEach(function(n){return n._rt(t)})},i.sut=function(t){this.sK.yw=t},i.yut=function(){this.Knt.pI()},i.mut=function(t){this.Vet.d7(t,this.cut.map(function(t){return t.eb}))||this.cut.forEach(function(t){t.Bit(),t.mrt()})},i.Bet=function(){this.lnt.h6(),this.cut.forEach(function(t){return t.grt()})},i.UK=function(){this.lnt.h6(),this.cut.forEach(function(t){return t.wrt()})},i.BK=function(){this.cut.forEach(function(t){return t.yrt()})},i.Nv=function(){this.Co(),this.uut(),this.gut(),this.lnt.Nv(),this.tit.Nv(),this.sK.Nv(),this.Knt.pl(),this.Vet.Nv()},i.kut=function(t,n,i,r){var e=this.Yet,u=this.Zet;t&&(e.grt(),this.lnt.Ko(e._p),e._rt(r)),n&&u&&(u.grt(),this.lnt.Ko(u._p),i&&u._rt(r))},i.Aut=function(){if(!this.Yet)return TO;var t=this.Yet;return zO(t.eb,this.lnt.i5(t._p))},i.t7=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.yw.live||r.Knt.removeEventListener(u,t),i&&i.PZ(n.yw)};u&&(this.Knt.removeEventListener(u,s),this.Knt.addEventListener(u,s)),this.Knt.t7(e,u),this.Knt.r7(u)},i.uut=function(){null!==this.Get&&h(this.Get),this.Get=null},i.Ort=function(){return!!this.Qet&&(!this.Yet||this.Yet.gy)},i.XK=function(t){this.Yet&&(this.Yet.Nrt=t)},i.pl=function(){this.vut.forEach(function(t){return t.pl()}),this.Jet.forEach(function(t){return t.pl()})},L(n,[{key:"but",get:function(){return this.Yet}},{key:"Tut",get:function(){return this.Zet}},{key:"cut",get:function(){var t=[];return this.Yet&&t.push(this.Yet),this.Zet&&this.Zet.Art&&t.push(this.Zet),t}},{key:"vut",get:function(){return[this.Yet,this.Zet].filter(J)}},{key:"q4",get:function(){return qt(this.yN.Qx*this.lnt.z4,1,this.Eut)}},{key:"xK",get:function(){return this.Knt.xK},set:function(t){this.Xet=NaN,this.qet=1/0,this.Wet=!1,this.jet=!0,this.Qet=!0,this.sK.removeEventListener("renditionUpdated",this.$et),this.sK.removeEventListener("a$",this.YJ),this.uut(),this.gut(),this.lnt.Ko(),this.tit.mo(),this.sK.Nv(),this.sK.addEventListener("renditionUpdated",this.$et),this.Knt.xK=t,this.VZ()}},{key:"N_",get:function(){return this.Xet}},{key:"Ott",get:function(){return this.sK&&uC.lw(this.sK.KZ)}},{key:"gy",get:function(){return this.jet}},{key:"lK",get:function(){var t=this.cut;return t.length>0&&t.every(function(t){return t.nJ})}},{key:"z4",get:function(){return this.lnt.z4},set:function(t){t>0&&(this.lnt.z4=t)}},{key:"frt",get:function(){return this.cut.every(function(t){return t.frt})}},{key:"CK",get:function(){return this.cut.length>0&&this.cut.every(function(t){return t.CK})}},{key:"Eut",get:function(){return this.zet},set:function(t){this.zet=t}},{key:"Rrt",get:function(){return this.qet},set:function(t){var n=this;this.qet=t,this.vut.forEach(function(t){return t.Rrt=n.qet})}},{key:"my",get:function(){return this.lK?new bO([{pI:this.Vtt,bI:this.Xtt}]):TO}},{key:"Vtt",get:function(){if(!this.lK)return 0;for(var t=-1/0,n=0,i=this.cut;n<i.length;n++){var r=i[n];t=l.max(t,r.eb.Vtt.W_())}return t}},{key:"Xtt",get:function(){if(!this.lK)return 0;for(var t=1/0,n=0,i=this.cut;n<i.length;n++){var r=i[n];t=l.min(t,r.eb.Xtt.W_())}return t}},{key:"Wtt",get:function(){if(!this.lK)return 0;for(var t=1/0,n=0,i=this.cut;n<i.length;n++){var r=i[n];t=l.min(t,r.eb.Wtt.W_())}return l.max(t,this.Vtt)}},{key:"VK",get:function(){return this.Yet&&this.Yet.Nrt||void 0}}]),n}(FD),sL=function(t){function n(n,i){var r;return(r=t.call(this)||this).iA=void 0,r.Xet=NaN,r.Wet=!1,r.sK=void 0,r.eb=void 0,r.Sut=void 0,r.Get=null,r.jet=!0,r.ket=null,r.pet=null,r.So=function(t){r.dispatchEvent(t)},r.sut=function(t){if(r.sK.yw||(r.sK.yw=r.Sut.p$||null),!r.sK.A$){var n=r.sK.b$.gZ[0];n&&(r.sK.A$=n,r.Sut.j8(n),r.dispatchEvent({type:"Rut",HZ:n}))}t.manifest.isMasterPlaylist||r.sK.A$.PZ(t.manifest),void 0!==t.manifest.duration&&r.Xet!==t.manifest.duration&&(r.Xet=t.manifest.duration,r.dispatchEvent("durationchange")),r.Wet||(r.Wet=!0,r.dispatchEvent("loadedmetadata")),r.Qrt(!0),r.dispatchEvent({type:"G8",manifest:t.manifest})},r.iut=function(t){t.Xo.code===VD.LQ?(r.Get||(r.Get=o(r.rut,Bp)),r.Qrt(!1)):r.dispatchEvent({type:"Xo",Xo:t.Xo})},r.rut=function(){r.uut();var t=r.xK;t&&r.Sut.pI(t)},r.uut=function(){h(r.Get),r.Get=null},r.fut=function(t){var n=t.HZ;r.eb.Rtt(n,n.yY),r.iA.manifestMetadataTrack&&(r.pet||(r.ket=r.sK.KJ("",r.eb,""),r.pet=new tL(r.ket,r.eb)),r.pet.Nh(n))},r.iA=n,r.sK=new kC(n,!0),r.eb=new EB(n),r.Sut=new eB(i,r.iA),r.eb.addEventListener("Xo",r.So),r.Sut.addEventListener("G8",r.sut),r.Sut.addEventListener("Xo",function(t){r.sK.yw?(r.Get||(r.Get=o(r.rut,Bp)),r.Qrt(!1)):r.iut(t)}),r.sK.addEventListener("FZ",r.fut),r}U(n,t);var i=n.prototype;return i.yut=function(){this.sK.yw||this.Sut.pI()},i.Aut=function(){return TO},i.Qrt=function(t){var n=this.jet;this.jet=t,t&&!n?this.dispatchEvent("gy"):!t&&n&&this.dispatchEvent("Bv")},i.Nv=function(){this.Co(),this.uut(),this.sK.Nv(),this.Sut.Nv(),this.pet=null,this.eb.Nv()},i.UK=function(){},i.BK=function(){},i.wut=function(t){},i.XK=function(t){},L(n,[{key:"xK",get:function(){return this.Sut.xK},set:function(t){this.Xet=NaN,this.Wet=!1,this.uut(),this.sK.Nv(),this.pet=null,this.Sut.xK=t,this.Qrt(!0)}},{key:"N_",get:function(){return this.Xet}},{key:"Ott",get:function(){return this.sK&&uC.lw(this.sK.KZ)}},{key:"gy",get:function(){return this.jet}},{key:"CK",get:function(){return!1}},{key:"frt",get:function(){return!1}},{key:"VK",get:function(){return[]}}]),n}(FD),oL=1e3,hL="VEE3",aL=function(t){function n(n){var i;return(i=t.call(this,"Iut")||this).ptsOffset=n,i}return U(n,t),n}(Ru),cL=function(t){function n(n){var i;return(i=t.call(this)||this).S$=void 0,i.Nut=null,i.Dut=0,i.Cut="start",i.Out=1,i.xut=!1,i.Put=!1,i.But=0,i.Lut=null,i.Mut=null,i.Uut=null,i.Fut=null,i.h7=0,i.Hut=0,i.Vut=new su,i.Xut=new Qs,i.Wut=void 0,i.qut={},i.zut=!1,i.Gut=null,i.jut=NaN,i.Lit=function(){i.S$.cut.map(function(t){t.Lit()})},i.Aet=function(){for(var t,n,r,e=0,u=i.S$.vut;e<u.length;e++){var s=u[e],o=s.Aet();if(o){var h=o.bet;h&&h.TJ!==eC.mv&&(i.Gut=h)}s._p===rC.mv?t=o:s._p===rC.rZ&&(n=o,r=s)}(t||n)&&i.dispatchEvent({type:"g$",Qut:t&&t.w$,X$:t&&t.bet,G$:n&&n.w$,V$:n&&n.bet,F$:!!r&&r.Art})},i.Uit=function(){null!==i.Lut&&h(i.Lut),i.Lut=o(i.Uit,oL),i.S$.cut.forEach(function(t){return t.Uit()})},i.Vit=function(){null!==i.Mut&&h(i.Mut),i.xut&&(i.Mut=o(i.Vit,oL),i.S$.cut.forEach(function(t){return t.Vit()}))},i.Hit=function(){i.S$.cut.forEach(function(t){return t.Hit()})},i.Yut=function(){if(i.S$.Ott&&i.P_>1){var t=i.S$.Wtt;i.Zut>t&&(i.P_=1,i.Zut>=t+1&&(i.Zut="start"))}},i.Jut=function(){i.Nut&&(0===i.Nut.$ut()?i.Zut="start":i.Zut=i.Kut(i.j4))},i.tst=function(){i.But=i.j4},i.nst=function(t){i.ist(),i.Nut.error&&(t.error.info.code===hL&&i.Hut<Lp?(i.Hut+=1,i.rst()):i.dispatchEvent({type:"Xo",error:t.error}))},i.est=function(){i.Hut=0},i.ust=function(){i.removeEventListener("sst",i.ost),i.xut?i.ost():i.addEventListener("sst",i.ost)},i.ost=function(){var t=i.j4;i.S$.removeEventListener("lK",i.ust),i.S$.lK?i.S$.cut.forEach(function(n){return n.Wit(t)}):(i.S$.addEventListener("lK",i.ust),i.S$.yut())},i.hst=function(){var t=i.j4;i.S$.vut.forEach(function(n){return n.Xit(t,i.S$.Ott)})},i.ast=function(){null!==i.Lut&&h(i.Lut),i.Lut=null,null!==i.Mut&&h(i.Mut),i.Mut=null},i.cst=function(){i.fst(),i.S$.lK?i.PK():(i.S$.addEventListener("lK",i.cst),i.S$.yut())},i.fst=function(){i.S$.removeEventListener("lK",i.cst)},i.D$=function(t){i.S$.t7(t.TJ,t.w$||void 0,t.HZ||void 0),t.y$&&i.vst(t.TJ,t.w$,t.HZ)},i.dst=function(t){var n=t.h7-i.h7;l.abs(n)>Pp&&(i.h7=t.h7,i.j4=i.j4+n)},i.lst=function(t){var n=t.d6.metadata;n.bJ&&(i.qut[t._p]=n.bJ,i._st())},i._st=function(){if(i.S$.lK){var t=d.keys(i.qut).length===i.S$.cut.length;i.Nut&&!i.Nut.gst&&!i.Wut&&t&&i.wst(),i.Nut&&i.h7&&(i.Nut.h7=i.h7)}},i.yst=function(){if(w(i.mst))if(i.S$.Ott)i.mst=0;else{var t=i.Gut,n=t&&t.tJ,r=t&&J(n)&&!w(n)&&t.mY(n)||void 0;i.mst=aC(r)?r.w4.W_():NaN}i.gK&&(i.removeEventListener("g$",i.yst),i.S$.removeEventListener("v6",i.yst),i.dispatchEvent("gK",!0))},i.S$=n,n.y7=en(i),i}U(n,t);var i=n.prototype;return i.rst=function(){this.S$.Ott?this.Zut="start":(this.But+=.5,this.S$.cut.map(function(t){t.Bit(),t.qit(),t.zit()}),this.Zut=this.But),this._st(),this.Nut.play()},i.kst=function(t){var n=this;this.Uut&&(this.S$.removeEventListener("lK",this.Uut),this.Uut=null),this.S$.lK?(this.Put=!0,this.zut=!0,this.S$.mut(t),this.zut=!1):(this.Uut=function(){return n.kst(t)},this.S$.yut())},i.pst=function(t){this.Ast(),this.S$.Ott&&(t="none"),"auto"===t&&this.cst()},i.bst=function(t){var n=this;this.Ast(),"none"!==t&&(this.S$.lK?this.pst(t):(this.Fut=function(){return n.pst(t)},this.S$.addEventListener("lK",this.Fut),this.S$.yut()))},i.Ast=function(){this.fst(),this.Fut&&(this.S$.removeEventListener("lK",this.Fut),this.Fut=null)},i.PK=function(){this.Put?this.S$.wut():(this.Zut=this.Cut,this.S$.wut(22)),this.xut||(this.xut=!0,this.dispatchEvent("sst"))},i.Tst=function(){this.Nut&&(this.Nut.addEventListener("Est",this.hst),this.Nut.addEventListener("seeking",this.ust),this.Nut.addEventListener("error",this.nst),this.Nut.addEventListener("playing",this.est)),this.S$.addEventListener("g$",this.D$),this.S$.addEventListener("urt",this.Jut),this.S$.addEventListener("lK",this._st),this.S$.addEventListener("o7",this.dst),this.S$.addEventListener("Ol",this.ust),this.FK()},i.Sst=function(){this.Nut&&(this.Nut.removeEventListener("Est",this.hst),this.Nut.removeEventListener("seeking",this.ust),this.Nut.removeEventListener("error",this.nst),this.Nut.removeEventListener("playing",this.est)),this.S$.removeEventListener("g$",this.D$),this.S$.removeEventListener("urt",this.Jut),this.S$.removeEventListener("lK",this._st),this.S$.removeEventListener("o7",this.dst),this.S$.removeEventListener("Ol",this.ust),this.HK()},i.FK=function(){this.Nut&&(this.Nut.addEventListener("loadstart",this.cst),this.Nut.addEventListener("timeupdate",this.Lit),this.Nut.addEventListener("playing",this.Aet),this.Nut.addEventListener("timeupdate",this.Aet),this.Nut.addEventListener("timeupdate",this.Vit),this.Nut.addEventListener("timeupdate",this.Uit),this.Nut.addEventListener("timeupdate",this.tst),this.Nut.addEventListener("timeupdate",this.Yut),this.Nut.addEventListener("ended",this.ast)),this.S$.addEventListener("v6",this.lst),this.S$.addEventListener("v6",this.Hit)},i.HK=function(){null!==this.Lut&&h(this.Lut),null!==this.Mut&&h(this.Mut),this.Nut&&(this.Nut.removeEventListener("loadstart",this.cst),this.Nut.removeEventListener("timeupdate",this.Lit),this.Nut.removeEventListener("playing",this.Aet),this.Nut.removeEventListener("timeupdate",this.Aet),this.Nut.removeEventListener("timeupdate",this.Vit),this.Nut.removeEventListener("timeupdate",this.Uit),this.Nut.removeEventListener("timeupdate",this.tst),this.Nut.removeEventListener("timeupdate",this.Yut),this.Nut.removeEventListener("ended",this.ast)),this.S$.removeEventListener("v6",this.lst),this.S$.removeEventListener("v6",this.Hit)},i.E7=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xut.ah;case 2:return i=this.Nut.E7(n),this.Nut.loading&&(this.Nut.loaded=!0,this.Nut.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bM=function(t,n){this.Rst.bM(t,n)},i.Pit=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Xut.ah;case 3:return t.next=5,this.Nut.Pit(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),hu(t.t0)||this.dispatchEvent({type:"Xo",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.wst=function(){var t=this,n=this.Xut,i=this.Ist(this.Wut,this.Vut.Ao);this.Wut=i,i.then(function(){t.Wut===i&&(t.Wut=void 0,n.fh())},function(r){t.Wut===i&&(t.Wut=void 0,n.vh(r))})},i.Ist=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(S);case 3:return au(i),t.next=6,this.Nut.wst(this.qut,this.S$.N_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,u=this.S$.vut;e<u.length;e++)s=u[e],r.yZ&&(s.mit=r.yZ),r.mZ&&(s.Ait=r.mZ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ist=function(){this.Vut.mo(),this.Vut=new su,this.Wut=void 0,this.Xut=new Qs},i.Kut=function(t){var n=this.my;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.Qit=function(t){var n=this.S$.but;return n?n.Qit(t):null},i.Ftt=function(t){var n=this.S$.but;return n?n.Ftt(t):NaN},i.Rh=function(t){var n=t||"none";this.Sst(),this.Tst(),this.bst(n)},i.MK=function(){this.Ast()},i.Nv=function(){this.Co(),this.qut={},this.Rst=null},i.pl=function(){this.ist(),this.Nst(),this.qut={},this.Dut=0,this.But=0,this.Cut="start",this.h7=0,this.Out=1,this.xut=!1,this.Put=!1,this.Gut=null,this.S$.pl()},i.vst=function(t,n,i){if(n){this.dispatchEvent("wK"),this.HK();var r=!1,e=!1,u=!1;if("mZ"===t){e=!0;var s=this.S$.but;s&&s.Art&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.Nut.y$("audio"),e&&this.Nut.y$("video"),this.S$.vut.forEach(function(t){t.Bit(),r&&t.qit(),e&&t.zit()}),this.S$.kut(e,r,u,22),this.S$.vut.forEach(function(t){return t.Fit()}),this.FK()}},i.Lw=function(){this.HK(),this.S$.Ott&&this.S$.Bet()},i.Bw=function(){this.HK(),this.FK(),this.S$.BK()},i.Dst=function(t){var n=this.mst||0;return this.SJ?t-n<0?0:l.round((t-n)*this.SJ-.5)||0:NaN},i.Cst=function(t){var n=this.mst||0;return this.SJ?n+(t+.5)/this.SJ:NaN},i.Nst=function(){this.mst=NaN,this.removeEventListener("g$",this.yst),this.addEventListener("g$",this.yst),this.S$.removeEventListener("v6",this.yst),this.S$.addEventListener("v6",this.yst)},L(n,[{key:"Rst",get:function(){return this.Nut},set:function(t){this.Sst(),this.ist(),this.est(),this.Nut=t,this._st()}},{key:"j4",get:function(){return this.Nut&&!this.zut?this.Nut.$ut():this.Dut},set:function(t){t=this.Kut(t),this.But=this.Dut=t,this.Nut?this.Nut.Ost(t):(this.hst(),this.ust())}},{key:"Zut",get:function(){return this.Nut&&!this.zut?this.j4:this.Cut},set:function(t){"start"===t&&(t=this.S$.Ott?1/0:0),t=this.Kut(t),this.Cut=t,this.But=this.Dut=t,this.kst(p_.Yg(this.Dut)),this.j4=t}},{key:"Hy",get:function(){return this.S$.Rrt},set:function(t){this.S$.Rrt=t}},{key:"P_",get:function(){return this.Nut?this.Nut.P_:this.Out},set:function(t){var n=this.Out;t>0&&(this.Out=t,this.Nut&&(this.Nut.P_=t),this.S$.z4=t,this.Out!==n&&this.dispatchEvent("xst"))}},{key:"my",get:function(){var t=this.S$.my;if(!t.length||!this.S$.Ott)return t;var n=t.start(0),i=this.S$.Wtt;return i=l.max(this.j4,i),new bO([{pI:n,bI:i}])}},{key:"ey",get:function(){return this.Qit(this.j4)}},{key:"SJ",get:function(){var t=this.Gut;return t&&t.SJ||NaN}},{key:"mst",get:function(){return this.jut},set:function(t){this.jut!==t&&(this.dispatchEvent(new aL(t)),this.jut=t)}},{key:"gK",get:function(){return Boolean(this.SJ)&&!w(this.mst)}}]),n}(FD),fL=function(t){function n(n){var i;return(i=t.call(this)||this).Pst=null,i.sK=void 0,i.Bst=[],i.Lst=function(t){return i.Mst(t)},i.Ust=function(){return i.Fst()},i.sK=n,i.Bst=[],i}U(n,t);var i=n.prototype;return i.Nb=function(t){var n,i;"metadata"===t.kind&&(t.mode=qd.Vl,n=this.sK.JJ(t.id,t.inBandMetadataTrackDispatchType),i=this.Hst.bind(this,n),this.Bst.push({Vst:t,Xst:i,OJ:n}),t.addEventListener("cuechange",i))},i.rT=function(){for(var t=this.Pst.xw,n=t&&t.length,i=0;i<n;i+=1)this.Nb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Lst),t.addEventListener("change",this.Ust))},i.Hst=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=yI(i[u].value),o=new RI(e,s);t.Cb(o)}},i.Fst=function(){for(var t=0,n=this.Bst;t<n.length;t++){var i=n[t].Vst;i.mode!==qd.Vl&&(i.mode=qd.Vl)}},i.Mst=function(t){this.Nb(t.track)},i.Wst=function(){for(var t=this.Pst,n=t&&t.xw,i=0,r=this.Bst;i<r.length;i++){var e=r[i];e.Vst.removeEventListener("cuechange",e.Xst)}this.Bst.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Lst),n.removeEventListener("change",this.Ust))},i.Nv=function(){this.Wst(),this.Pst=null,this.sK=null,this.Lst=null,this.Ust=null},i.pl=function(){this.Wst(),this.Pst&&this.rT()},n}(FD),vL=function(t){function n(n){var i;return(i=t.call(this)||this).S$=void 0,i.qst=void 0,i.Nut=null,i.Cut="start",i.Out=1,i.Bv=!1,i.zst=null,i.Gst=null,i.jst=NaN,i.Qst=NaN,i.Yst=null,i.Zst=function(){i.Nut.removeEventListener("loadstart",i.Zst),i.Nut.removeEventListener("play",i.Zst),i.S$.yut()},i.Lit=function(){var t=i.S$.sK.A$;if(t&&(!i.zst||i.zst.pI>i.j4||i.zst.bI<i.j4)){var n=i.S$.eb.O6(t,p_.Yg(i.j4));if(!n)return void i.Nut.addEventListener("timeupdate",i.Lit);i.zst={pI:n.Utt.W_(),bI:n.Utt.rg(p_.Yg(n.bp.duration)).W_(),ZQ:n.bp.ZQ,YZ:null},i.dispatchEvent({type:"Mit",ab:n.bp})}},i.Aet=function(){var t=i.S$.sK,n=t.b$.gZ.length?t.b$.gZ:t.mJ.gZ,r=i.Nut.M_,e=i.Nut.L_,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Gst&&(i.Gst=s,i.dispatchEvent({type:"g$",HZ:s}))},i.Jst=function(t){i.dispatchEvent({type:"g$",HZ:t.HZ})},i.$st=function(){if(i.Nut){var t=i.Nut.my,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Qst&&(i.Qst=n,i.jst=$b())}},i.Kst=function(){i.Bv=!0},i.tot=function(){i.Bv&&(i.Bv=!1,i.iot())},i.S$=n,i.qst=new fL(n.sK),n.addEventListener("Bv",i.Kst),n.addEventListener("gy",i.tot),i}U(n,t);var i=n.prototype;return i.Kut=function(t){var n=this.Nut.my;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.iot=function(){if(this.Nut){var t=this.Nut.currentTime,n=this.Nut.paused;this.Nut.load(),this.Nut.currentTime=t,n||this.Nut.play()}},i.rot=function(){this.Nut&&(this.Nut.addEventListener("loadstart",this.Zst),this.Nut.addEventListener("play",this.Zst),this.Nut.addEventListener("timeupdate",this.Lit),this.Nut.addEventListener("timeupdate",this.Aet),c(this.Yst),this.Yst=a(this.$st,250))},i.eot=function(){c(this.Yst),this.Nut&&(this.Nut.removeEventListener("loadstart",this.Zst),this.Nut.removeEventListener("play",this.Zst),this.Nut.removeEventListener("timeupdate",this.Lit),this.Nut.removeEventListener("timeupdate",this.Aet))},i.Rh=function(t){t=t||"none",this.eot(),this.rot(),this.S$.removeEventListener("Rut",this.Jst),this.S$.addEventListener("Rut",this.Jst),"none"!==t&&this.Zst()},i.Nv=function(){this.Co(),this.qst.Nv(),this.Rst=null,this.S$.removeEventListener("Rut",this.Jst)},i.pl=function(){this.Cut="start",this.Out=1,this.Bv=!1,this.zst=null,this.Gst=null,this.jst=NaN,this.Qst=NaN,c(this.Yst),this.qst.pl()},i.Bw=function(){},i.Lw=function(){},i.MK=function(){},i.vst=function(){},i.Ftt=function(t){var n=this.S$.sK.A$;return this.S$.eb.Ftt(n,t).W_()},i.Qit=function(t){var n,i,r=this.S$.sK.A$,e=this.S$.eb,u=t,s=this.zst;if(s)s.YZ||(s.YZ=e.Mtt(r,s.ZQ)),n=s.pI,i=s.YZ;else{var o=e.O6(r,p_.Yg(u));if(!o)return null;n=o.Utt.W_(),i=e.Mtt(r,o.bp.ZQ)}if(!i)return null;var h=u-n;return new Date(i.getTime()+1e3*h)},i.Dst=function(t){return NaN},i.Cst=function(t){return NaN},L(n,[{key:"uot",get:function(){return null}},{key:"ey",get:function(){return this.Qit(this.j4)}},{key:"Rst",get:function(){return this.Nut},set:function(t){this.eot(),this.Nut=t,this.Nut&&(this.qst.Pst=this.Nut,this.qst.rT())}},{key:"Zut",get:function(){return this.Nut?this.Nut.$ut():this.Cut},set:function(t){"start"===t&&(t=this.S$.Ott?1/0:0),t=this.Kut(t),this.Cut=t,this.Nut&&this.Nut.Ost(t)}},{key:"j4",get:function(){return this.Zut},set:function(t){t=this.Kut(t),this.Zut=t}},{key:"Hy",get:function(){return 1/0},set:function(t){}},{key:"P_",get:function(){return this.Nut?this.Nut.P_:this.Out},set:function(t){t>0&&(this.Out=t,this.Nut&&(this.Nut.P_=t))}},{key:"my",get:function(){var t,n,i,r=this.Nut?this.Nut.my:null,e=this.S$.eb.my;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Qst||r.end(r.length-1))+this.S$.eb.qtt.W_(),isFinite(this.jst)&&(i+=($b()-this.jst)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.S$.eb.Wtt.W_()}return i=l.min(n,i),i=l.max(this.j4,i),new bO([{pI:t,bI:i}])}},{key:"SJ",get:function(){return NaN}},{key:"mst",get:function(){return NaN}},{key:"gK",get:function(){return!1}}]),n}(FD),dL=function(t){function i(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e)||this).sot=new su,o.oot=void 0,o.Sb=void 0,o.hot=function(){return o.aot()},o.Ys=Y_.WEBVTT,o.Gl=Q_.NONE,o.Yl=Ir(u),o.Io(_d.ul,o.hot),o.Sb=s,o}U(i,t);var r=i.prototype;return r.Rh=function(){this.Yl&&!this.oot&&(this.oot=this.Ed(this.sot.Ao),this.oot.catch(fu))},r.Ed=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Yl,t.prev=1,this.Gl=Q_.LOADING,r=new Nf({uv:i,Av:Tf.GET,Kf:jo.je,Ao:n}),t.next=6,this.Sb.rv(r);case 6:return e=t.sent,t.next=9,e.bu();case 9:u=t.sent,this.U0(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),cu(t.t0),this.cot(fy(t.t0,this.Yl));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.MK=function(){this.Gl!==Q_.LOADED&&(this.Gl=Q_.NONE,this.sot.mo(),this.sot=new su,this.oot=void 0)},r.cot=function(t){this.Gl=Q_.ERROR,this.Ro(new jl(t))},r.Nv=function(){this.MK(),this.sot.vo(),t.prototype.Nv.call(this)},r.aot=function(){switch(this.zl){case qd.Xl:case qd.Vl:this.Rh();break;case qd.Hl:this.MK()}},r.U0=function(t,i){try{for(var r=zg(i).jl,e=0;e<r.length;e++){var u=r[e];this.Cb(u)}this.Gl=Q_.LOADED}catch(i){this.cot(new ny(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+vy(this.Ys)+" subtitle file.",this.Yl,t.Jf,i))}},i}(AR);function lL(t){return Kw(t.kind)}var _L=function(){function t(t,n,i,r){this.fot=void 0,this.xw=void 0,this.vot=void 0,this.Sb=void 0,this.fot=t,this.xw=i,this.vot=n,this.Sb=r,this.pl()}var n=t.prototype;return n.dot=function(t){if(this.lot(),t)if(this.vot)for(var n=0;n<t.length;n++){var i=t[n];this.NR(i)}else for(var r=0;r<t.length;r++){var e=t[r];this._ot(e)}},n.NR=function(t){var n=lL(t);if(hy(n,t.label||""));else{var i=e.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.fot.appendChild(i)}},n._ot=function(t){var n=lL(t),i=new dL(n,t.id,t.label,t.srclang,t.src,this.Sb);t.default&&(i.zl=qd.Xl),this.xw.yl(i)},n.lot=function(){for(var t=this.xw.Al,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.got&&this.xw.ml(i)}},n.wot=function(){this.lot()},n.pl=function(){this.lot()},t}(),gL=function(){function t(t){this.kK=void 0,this.kK=t}var n=t.prototype;return n.Io=function(t,n){this.kK.addEventListener(t,n)},n.Oo=function(t,n){this.kK.removeEventListener(t,n)},L(t,[{key:"I_",get:function(){return this.kK.currentTime}},{key:"x_",get:function(){return this.kK.paused}},{key:"B_",get:function(){return this.kK.seeking}}]),t}(),wL=function(t){function n(n,i){var r;(r=t.call(this)||this).yot=void 0,r.xw=void 0,r.mot=void 0,r.kot=void 0,r.Nut=void 0,r.pot=!0,r.Aot=function(t){return r.bot(t)},r.Tot=function(){return r.Eot()},r.Sot=function(){return r.Rot()},r.Iot=function(){return r.Not()},r.Lst=function(t){return r.Mst(t.Gd)},r.Dot=function(t){return r.Cot(t.Gd)},r.Oot=function(){return r.xot()},r.yot=n,r.xw=i,r.yot.addEventListener("seeking",r.Oot),r.yot.addEventListener("seeked",r.Oot),r.mot=new SI(new gL(n));for(var e=0,u=r.xw.Al;e<u.length;e++){var s=u[e];r.Mst(s)}return r.xw.Io(vd.Fd,r.Lst),r.xw.Io(vd.Vd,r.Dot),r}U(n,t);var i=n.prototype;return i.bot=function(t){this.xw.yl(t.Gd)},i.Eot=function(){for(var t=this.xw.Al,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.got&&this.xw.ml(i)}},i.Rot=function(){var t=this.Rst,n=[],i=t&&t.xw;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.oX(e);u=new kI(e,s,this.FH),e.THEOplayerTextTrack=u,this.xw.yl(u)}n.push(u)}}for(var o=0,h=this.xw.Al;o<h.length;o++){var a=h[o];pI(a)&&-1===n.indexOf(a)&&this.xw.ml(a)}},i.oX=function(t){for(var n=this.Rst.uy.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Not=function(){for(var t=0,n=this.xw.Al;t<n.length;t++){var i=n[t];pI(i)&&i.HH()}},i.xot=function(){this.Pot()},i.Mst=function(t){t instanceof AR&&this.mot.yl(t)},i.Cot=function(t){t instanceof AR&&this.mot.ml(t)},i.Pot=function(){var t=this.xw.Al;if(t.length)for(var n=this.yot.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof AR){for(var u=[],s=0,o=e.jl.Al;s<o.length;s++){var h=o[s];if(!(h.Hy<i))break;u.push(h)}for(var a=0;a<u.length;a++){var c=u[a];e.iH(c)}}}},i.Nv=function(){this.yot.removeEventListener("seeking",this.Oot),this.yot.removeEventListener("seeked",this.Oot);for(var t=0,n=this.xw.Al;t<n.length;t++){var i=n[t];this.Cot(i)}this.xw.Oo(vd.Fd,this.Lst),this.xw.Oo(vd.Vd,this.Dot),this.mot.Nv(),this.sK=null,this.Rst=null},L(n,[{key:"sK",get:function(){return this.kot},set:function(t){var n=this.kot;if(n){for(var i=0,r=n.xw;i<r.length;i++){var e=r[i];this.xw.ml(e)}n.removeEventListener("$J",this.Aot),n.removeEventListener("Nv",this.Tot)}if(this.kot=t,t){for(var u=0,s=t.xw;u<s.length;u++){var o=s[u];this.xw.yl(o)}t.addEventListener("$J",this.Aot),t.addEventListener("Nv",this.Tot)}}},{key:"Rst",get:function(){return this.Nut},set:function(t){var n=this.Nut;n&&n.xw&&n.xw.removeEventListener&&(n.xw.removeEventListener("addtrack",this.Sot),n.xw.removeEventListener("removetrack",this.Sot),n.xw.removeEventListener("change",this.Iot)),this.Nut=t,t&&t.xw&&t.xw.addEventListener&&(t.xw.addEventListener("addtrack",this.Sot),t.xw.addEventListener("removetrack",this.Sot),t.xw.addEventListener("change",this.Iot)),this.Rot(),this.Not()}},{key:"FH",get:function(){return this.pot},set:function(t){if(this.pot!==t){this.pot=t;for(var n=0,i=this.xw.Al;n<i.length;n++){var r=i[n];pI(r)&&(r.FH=t)}}}}]),n}(FD),yL=function(){function t(t,n){this.Sv=void 0,this.Ud=void 0,this.Bot=[],this.Lot=new Qo,this.Mot=we(),this.Uot=new su,this.Sv=!(!t||t.crossOrigin!==sl.v_&&!t.Fot),this.Ud=n}var n=t.prototype;return n.Hot=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h,a,c,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.Xu(n),e=0,u=this.Bot;e<u.length;e++)null===(s=u[e]).uu||void 0===s.uu?r.searchParams.delete(s.Vot):r.searchParams.set(s.Vot,s.uu);return t.prev=2,o=new Nf({uv:r.href,Kf:jo.mc,$f:this.Lot,Sv:this.Sv,Av:Tf.GET,Ao:i,Ys:Ef.cv,Tv:Sf.yv}),t.next=6,this.Ud.rv(o);case 6:return h=t.sent,t.next=9,h.bu();case 9:return a=t.sent,c=new y(a),v=new y(16),16!==c.length&&lt("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=qs(c,0,16)),v.set(c,16-c.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),cu(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return T.reject(new XD(VD.XQ,{code:"CAD1603"}));var i=this.Mot.get(n);return i||(i=this.Hot(n,this.Uot.Ao),this.Mot.set(n,i)),i},n.Nv=function(){this.Uot.mo(),this.Mot.clear()},n.Xot=function(t,n){this.Bot.push({Vot:t,uu:n})},n.Wot=function(t,n){this.Lot.append(t,n)},t}(),mL=function(t){this.yot=void 0,this.yot=t},kL=e.createElement("video");var pL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.eet=function(t){return!!function(t){return kL.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(mL);HD.We.qL("AvoidUnsupportedCodecsRule",pL);var AL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.eet=function(t,n,i,r){return!("v9"===r.p6)||t.bandwidth<2e6},n}(mL);HD.We.qL("AvoidHighBitrateStreamsRule",AL);var bL=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.qot=function(t){if(!t.resolution)return!0;var n=this.yot.element.getBoundingClientRect(),i=r.innerWidth||e.documentElement.clientWidth,u=r.innerHeight||e.documentElement.clientHeight,s=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,u)-l.max(0,n.top)),h=b.Ns.Zu;return t.resolution.width<=s*h&&t.resolution.height<=o*h},i.eet=function(t){return this.qot(t)},n}(mL);HD.We.qL("AvoidVideoResolutionGreaterThanDisplaySizeRule",bL);var TL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.eet=function(t,n,i){if(i.R5<=0)return!1;var r=i&&.8*i.R5;return!(r&&!w(r)&&t.bandwidth)||r>t.bandwidth*this.yot.playbackRate},n}(mL);HD.We.qL("DownloadMetricRule",TL);var EL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.eet=function(t){return!0},n}(mL);HD.We.qL("LimitVideoQualityToDisplaySizeRule",EL);var SL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.eet=function(t,n){return!n||(n.TJ===eC.ov||t.TJ===eC.ov||(n.TJ===eC.QY||t.TJ===eC.QY||n.TJ===t.TJ))},n}(mL);function RL(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function IL(t,n){var i=n;for(var r in t)nt(t[r])?(i[r]=i[r]||{},IL(t[r],i[r])):Y.call(i,r)||(i[r]=t[r]);return i}function NL(t,n){var i=IL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case sl.f_:case sl.v_:break;default:n=sl.d_}return t&&t.withCredentials&&(n=sl.v_),t&&t.vr&&t.vr[360]&&n===sl.d_&&(n=sl.f_),n}(i),i}function DL(t){et(t)&&t.then(S,S)}HD.We.qL("OnlyAllowSameTrackTypeRenditionsRule",SL);var CL,OL=500,xL=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],PL=function(t){function n(n,i){var r;return(r=t.call(this)||this).zot=void 0,r.ZE=void 0,r.Got=void 0,r.ZS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.kT=function(){var t=r.ZE.mR.error&&r.ZE.mR.error.code;t&&r.cot(new XD(VD.FQ,{code:"VEE"+t}))},r.jot=function(t){r.dispatchEvent({type:t.type,error:r.ZE.mR.error})},r.Qot=function(){h(r.Got),r.Got=void 0,r.ZE.mR.removeEventListener("timeupdate",r.Qot),r.ZE.Oo(Il.R_,r.Qot)},r.Yot=function(){void 0!==r.Got&&r.Qot(),r.Got=o(function(){r.ZE.mR.currentTime+=.1,r.Qot()},OL),r.ZE.mR.addEventListener("timeupdate",r.Qot),r.ZE.Io(Il.R_,r.Qot)},r.Zot=function(){switch(r.ZE.mR.readyState){case cl.m_:case cl.k_:case cl.p_:r.Yot();break;case cl.y_:case cl.w_:}},r.zot=n,r.ZE=i,r}U(n,t);var i=n.prototype;return i.setup=function(){this.ZJ(),this.ZE.mR.parentNode!==this.zot&&this.zot.appendChild(this.ZE.mR),this.loaded=!1,this.ZE.mR.preload="metadata",this.ZE.mR.addEventListener("play",this.Zot),this.ZE.mR.addEventListener("loadeddata",this.Zot),this.dispatchEvent("Jot")},i.ZJ=function(){for(var t=0;t<xL.length;t++){var n=xL[t];this.ZE.mR.addEventListener(n,this.jot,!0)}this.ZE.mR.addEventListener("error",this.kT,!0),this.ZE.Io(Il.ol,this.jot),this.ZE.Io(Il.R_,this.jot)},i.$ot=function(){for(var t=0;t<xL.length;t++){var n=xL[t];this.ZE.mR.removeEventListener(n,this.jot,!0)}this.ZE.mR.removeEventListener("error",this.kT,!0),this.ZE.Oo(Il.ol,this.jot),this.ZE.Oo(Il.R_,this.jot)},i.cot=function(t){this.ZS=t,this.dispatchEvent({type:"error",error:t})},i.E7=function(){return T.resolve()},i.load=function(){this.ZE.mR.load(),this.loaded=!0},i.unload=function(){return this.Qot(),this.Co(),this.$ot(),this.ZE.mR.removeEventListener("play",this.Zot),this.ZE.mR.removeEventListener("loadeddata",this.Zot),Qr(this.ZE.mR),this.ZE.mR},i.play=function(){var t=this.P_;DL(this.ZE.mR.play()),this.P_=t},i.pause=function(){this.ZE.mR.pause()},i.Mw=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Ost(0)}catch(t){}this.dispatchEvent("reset")},i.Qw=function(){return this.ZE.mR},i.$ut=function(){return this.ZE.mR.currentTime},i.Ost=function(t){this.ZE.mR.currentTime=t},i.canPlayCodecs=function(t){return this.ZE.mR.canPlayType('video/mp4; codecs="'+t+'"')},L(n,[{key:"gst",get:function(){return!0}},{key:"uy",get:function(){return this.ZE.mR}},{key:"iy",get:function(){return this.ZE.mR.buffered}},{key:"U_",get:function(){return this.ZE.mR.volume},set:function(t){this.ZE.mR.volume=t}},{key:"duration",get:function(){return this.ZE.mR.duration}},{key:"muted",get:function(){return this.ZE.mR.muted},set:function(t){this.ZE.mR.muted=t}},{key:"paused",get:function(){return this.ZE.mR.paused}},{key:"played",get:function(){return this.ZE.mR.played}},{key:"poster",get:function(){return this.ZE.mR.poster},set:function(t){t?this.ZE.mR.poster=t:this.ZE.mR.removeAttribute("poster")}},{key:"controls",get:function(){return this.ZE.mR.controls},set:function(t){t?this.ZE.mR.controls=t:this.ZE.mR.removeAttribute("controls")}},{key:"ended",get:function(){return this.ZE.mR.ended}},{key:"seeking",get:function(){return this.ZE.mR.seeking}},{key:"error",get:function(){return this.ZE.mR.error}},{key:"width",get:function(){return this.ZE.mR.offsetWidth}},{key:"height",get:function(){return this.ZE.mR.offsetHeight}},{key:"src",get:function(){return this.ZE.mR.src},set:function(t){this.ZE.mR.src=t}},{key:"M_",get:function(){return this.ZE.mR.videoWidth}},{key:"L_",get:function(){return this.ZE.mR.videoHeight}},{key:"xw",get:function(){return this.ZE.mR.textTracks}},{key:"Ott",get:function(){return this.ZE.mR.duration===1/0}},{key:"my",get:function(){var t=this.ZE.mR.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.$ut()||0),new bO([{pI:n,bI:i}])}},{key:"P_",get:function(){return this.ZE.mR.playbackRate},set:function(t){t>0&&(this.ZE.mR.playbackRate=t)}},{key:"Gl",get:function(){return this.ZE.Gl}},{key:"Kot",get:function(){return void 0!==this.ZE.mR.webkitSupportsPresentationMode&&this.ZE.mR.webkitSupportsPresentationMode("picture-in-picture")}},{key:"tht",get:function(){return"picture-in-picture"===this.ZE.mR.webkitPresentationMode}},{key:"nht",get:function(){return this.ZE.mR.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.ZE.mR.webkitSetPresentationMode(t)}}]),n}(FD);!function(t){t[t.iht=0]="iht",t[t.rht=1]="rht",t[t.oj=2]="oj",t[t.eht=3]="eht",t[t.uht=4]="uht"}(CL||(CL={}));var BL=function(){function t(){this.sht=!1,this.oht=null,this.hht=null,this.aht=null,this.Ub=[],this.cht=null}var n=t.prototype;return n.fht=function(){if(!this.sht)return!1;for(var t=this.oht,n=this.hht,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.vht=function(t){switch(t.Ys){case CL.iht:return this.dht(t.bu,t.Utt,t._O);case CL.rht:return this._ht(t.ght);case CL.oj:return this.wht(t.yht,t.mht);case CL.eht:return this.Fb();case CL.uht:return this.kht(t._O)}},n.dht=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.hht,w(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.pht();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n._ht=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.hht,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=l.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.pht();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.wht=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oht,r=this.hht,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=l.max(e.start(0),n),o=l.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.pht();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Fb=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.oht,i=this.hht,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,cd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.kht=function(t){return T.resolve(t())},n.Aht=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fF(n)){t.next=5;break}return t.next=3,ku(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.fF=function(t){var n=this.oht;if(!n.open||"open"!==n.readyState||!this.fht())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.pht=function(){var t=this;return new T(function(n,i){var r,e=t.hht,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},h=function(){u=!1,r="aborted"},a=function(){c(),u&&!r?n():i(new f(r))},c=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.bht=function(){var t=this;this.aht||(0!==this.Ub.length||this.cht)&&this.fht()&&(this.aht=this.Tht().then(function(){t.aht=null}))},n.Tht=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.Ub.length>0)){t.next=9;break}if(this.fht()){t.next=4;break}return t.abrupt("return");case 4:return n=this.Ub.shift(),t.next=7,this.vht(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.Aht("decode").catch(S);case 16:if(!this.cht){t.next=26;break}return t.prev=17,t.next=20,this.Aht(this.cht.Xo);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.cht=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.rT=function(t,n){this.sht||(this.sht=!0,this.oht=t,this.hht=n,this.bht())},n.rg=function(t,n,i){this.Ub.push({Ys:CL.iht,bu:t,Utt:n,_O:i}),this.bht()},n.Eht=function(t,n){this.Ub.push({Ys:CL.oj,yht:t,mht:n}),this.bht()},n.Sht=function(t){this.Ub.push({Ys:CL.rht,ght:t}),this.bht()},n.mo=function(){this.Ub.push({Ys:CL.eht}),this.bht()},n.Rht=function(t){this.Ub.push({Ys:CL.uht,_O:t}),this.bht()},n.Pit=function(t){this.cht={Xo:t},this.bht()},n.Ko=function(){this.Ub.length=0,this.cht=null},t}();var LL=function(t){function n(n){var i;return(i=t.call(this)||this).oht=void 0,i.hht=null,i.Iht=new BL,i.Hy=NaN,i.Nht=null,i.So=function(t){return i.dispatchEvent(t)},i.Dht=function(){return i.h6()},i.oht=n,i.pl(),i}U(n,t);var i=n.prototype;return i.Cht=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.E7=function(t,n,i,r){var e=this;if(!this.hht||!n)return T.resolve();var u=n.initializer.bu,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Nht,u);if(r&&(Q.Oe||this.Iht.mo()),r)if(Q.Oe);else{var o=t&&t.pI,h=t&&t.pI+t.N_-.5;this.Iht.Eht(o,h)}return s&&(this.Iht.rg(u,i,this.Cht.bind(this)),this.Nht=u),new T(function(t,r){e.Iht.rg(n.m4s.bu,i,function(n){n?r(n):t()})})},i.AM=function(){var t=this;return new T(function(n){t.Iht.Rht(function(){var i=t.iy;i&&i.length&&(t.Hy=i.end(i.length-1)),n()})})},i.yF=function(t){if(!this.hht){try{this.hht=this.oht.addSourceBuffer(t),this.hht.addEventListener("updatestart",this.So),this.hht.addEventListener("updateend",this.So)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.oht.addEventListener("sourceclose",this.Dht),this.Iht.rT(this.oht,this.hht)}return!0},i.fht=function(){for(var t=0;t<this.oht.sourceBuffers.length;t++)if(this.oht.sourceBuffers[t]===this.hht)return!0;return!1},i.Ih=function(t){var n=this,i=this.iy;if(!(this.hht&&i&&i.length))return t&&t();this.hht.remove(0,i.end(i.length-1)),t&&this.hht.addEventListener("updateend",function i(r){n.hht.removeEventListener("updateend",i),t()})},i.pl=function(t){this.Nht=null,this.Hy=NaN,this.h6(),this.Ih(t)},i.Sht=function(t){this.hht&&this.Iht.Sht(t)},i.Pit=function(t){this.hht&&this.Iht.Pit(t)},i.h6=function(){this.Iht.Ko(),"open"===this.oht.readyState&&this.hht&&this.hht.updating&&this.hht.abort()},L(n,[{key:"iy",get:function(){return this.hht&&this.fht()?new bO(CO(this.hht.buffered)):null}},{key:"$O",get:function(){return this.hht&&this.hht.updating}},{key:"D_",get:function(){var t=this.iy;return!t||!w(this.Hy)&&NO(t,this.Hy)}}]),n}(FD),ML="mp4a.40.34";var UL=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Oht=!1,i.WN=function(){var t=i.Oht;i.Oht=i.$O,!t&&i.Oht?i.dispatchEvent("updatestart"):t&&!i.Oht&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new LL(n),i.videoTrackBuffer=new LL(n),i.audioTrackBuffer.addEventListener("updatestart",i.WN),i.videoTrackBuffer.addEventListener("updatestart",i.WN),i.audioTrackBuffer.addEventListener("updateend",i.WN),i.videoTrackBuffer.addEventListener("updateend",i.WN),i.pl(),i}U(n,t);var i=n.prototype;return i.E7=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.yZ&&i.push(this.audioTrackBuffer.E7(n.metadata.yZ,n.yZ,n.metadata.yZ&&n.metadata.yZ.v2===ML?n.metadata.yZ.pI:NaN,n.metadata.d3)),n.mZ&&i.push(this.videoTrackBuffer.E7(n.metadata.mZ,n.mZ,NaN,n.metadata.d3)),t.next=7,T.all(i);case 7:this.D_&&(this.audioTrackBuffer.Pit(),this.videoTrackBuffer.Pit());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Pit=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.AM()),i&&r.push(this.videoTrackBuffer.AM()),t.next=5,T.all(r);case 5:this.D_&&(this.audioTrackBuffer.Pit(),this.videoTrackBuffer.Pit());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.rT=function(t){var n,i={};for(var r in t)if(Y.call(t,r)){var e=t[r];if(e.mZ){var u='video/mp4; codecs="'+e.mZ+'"';this.videoTrackBuffer.yF(u),i.mZ=this.videoTrackBuffer}if(e.yZ){var s=(n=e.yZ)!==ML||Ep?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.yF(s),i.yZ=this.audioTrackBuffer}0}return i},i.pl=function(t){var n=!1,i=!1;this.Oht=!1,this.audioTrackBuffer.pl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.pl(function(){if(i=!0,n&&t)return t()})},i.Sht=function(t){this.audioTrackBuffer.Sht(t),this.videoTrackBuffer.Sht(t)},i.h6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.h6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.h6()},L(n,[{key:"iy",get:function(){var t=this.audioTrackBuffer.iy,n=this.videoTrackBuffer.iy;return t&&n?RO(t,n):t||n||TO}},{key:"sM",get:function(){return this.audioTrackBuffer.iy||TO}},{key:"oM",get:function(){return this.videoTrackBuffer.iy||TO}},{key:"$O",get:function(){return this.audioTrackBuffer.$O||this.videoTrackBuffer.$O}},{key:"D_",get:function(){return this.audioTrackBuffer.D_&&this.videoTrackBuffer.D_}}]),n}(FD),FL=1,HL=.05,VL=.01;function XL(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function WL(t,n,i,r){var e=DO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-HL)){var s,o;do{if((s=XL(t,n))<0)return;t=(o=n.start(s)+VL)+HL}while(n.end(s)-o<HL);for(var h=o-u,a=RO(new bO([{pI:u,bI:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-u),h<FL?o:void 0}}var qL=100,zL=1e-4,GL=500,jL=Dp,QL=Q.pe,YL=5,ZL=["resize","volumechange"],JL=function(n){function i(t,i){var r;return(r=n.call(this)||this).xht=void 0,r.ZE=void 0,r.Pht=!0,r.D_=!1,r.Bht=!1,r.Lht=!1,r.Mht=null,r.Xo=!1,r.oht=null,r.hht=null,r.Uht=null,r.sht=!1,r.Fht=0,r.Hht=aA.uN(),r.Out=1,r.Vht=!1,r.DF=!1,r.B_=!1,r.Xht=new su,r.Wht=!1,r.qht=!1,r.zht=void 0,r.Ght=null,r.jht=null,r.Qht=cl.w_,r.Yht=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Zht=function(){r.Yht=!1,r.Jht(),r.$ht(),r.Kht()},r.tat=function(){r.nat(),r.Kht(),r.iat()},r.oR=function(){r.rat(),r.nat(),r.BF()?r.dispatchEvent("playing"):r.Yht=!0},r.eat=function(){r.Yht=!1,r.Jht(),r.Mw()},r.cF=function(){r.uat()},r.sR=function(){r.sat(),r.iat()},r.FU=function(){var t=r.Qht,n=r.Gl;t!==n&&(r.Qht=n,r.dispatchEvent(new Gl(r.$ut(),n))),r.iat()},r.$ht=function(){r.Fht&&(c(r.Fht),r.Fht=0,QL&&(r.ZE.mR.removeEventListener("timeupdate",r.vX),r.removeEventListener(Il.ol,r.gX)))},r.oat=function(){r.Fht||(r.Fht=a(r.hat,GL)),QL&&(r.ZE.mR.addEventListener("timeupdate",r.vX),r.addEventListener(Il.ol,r.gX),r.vX()),r.hat()},r.aat=function(){var t=r.$ut(),n=NO(r.fat,t);r.ZE.x_||r.B_&&!n||r.vat()||r.oat()},r.hat=function(t){if(!(r.Ght||void 0===t&&r.qht)){var n,i=r.$ut(),e=r.iy;if(void 0===t){if(void 0===(n=WL(i,e,r.fat,r.Bht)))return}else{if(!NO(e,t))return;n=t}var u=function(){r.ZE.mR.currentTime=n,r.dat(n),r.$ht(),r.qht=!0};Gt(n,i)?r.Ght=o(function(){r.Ght=null,i=r.$ut(),Gt(n,i)&&(n+=1e3*GL,u())},GL):u()}},r.QX=function(){var t=r.Uht;if(r.lat(),r.ZE.mR.readyState===cl.w_)return r.Uht=t,void r.ZE.mR.addEventListener("loadedmetadata",r.QX);l.abs(r.ZE.mR.currentTime-t)<zL?r.sR():(r.ZE.mR.currentTime=t,r.qht=!1,r.cF()),r.Uht=null,r.DP(r.Out),r.ZE.VX(),r._at(t)&&r.Mw()},r.gat=function(){if(!r.Bht){var t=r.ZE.mR,n=r.iy,i=t.currentTime;r.wat(n,i)&&(r.Bht=!0,r.nat(),i=t.currentTime,r.wat(n,i)?r.Bht=!0:r.Bht=!1,r.FU()),r.jht=i}},r.rat=function(){r.Jht(),r.Mht=a(r.gat,qL)},r.Jht=function(){r.Bht=!1,c(r.Mht)},r.yat=function(){r.Bht&&(r.Bht=!1,r.FU())},r.vX=function(){var t=r.hht;if(t)if(t.D_)r.dX();else{var n=t.sM,i=t.oM;if(0!==n.length&&0!==i.length){var e=r.$ut();if(e<n.start(0)||e<i.start(0))r.dX();else NO(n,e)!==NO(i,e)?r.lX():r.dX()}else r.dX()}},r.gX=function(){if(!(r.B_||r.qht||r.ZE.mR.seeking||r.Gl>=cl.k_)){var t=r.hht;if(t){var n=r.$ut(),i=aA.iN(t.sM),e=aA.iN(t.oM);if(i.MR(n)&&e.MR(n))i.XI(e).jI(n-YL,n)&&(r.ZE.mR.currentTime=n,r.qht=!0)}}},r.mat=function(){r.oht.open=!0,r.oht.removeEventListener("sourceopen",r.mat),r.oht.removeEventListener("webkitsourceopen",r.mat)},r.kT=function(t){var n=r.ZE.mR.error&&r.ZE.mR.error.code;n&&r.cot(new XD(VD.FQ,{code:"VEE"+n}))},r.So=function(t){r.dispatchEvent({type:t.type})},r.kat=function(){r.hht&&r.hht.D_&&r.dispatchEvent("durationchange")},r.pat=function(){r.removeEventListener("Aat",r.pat),r.Wht=!1,r.bat(r.Out)},r.xht=t,r.ZE=i,r}U(i,n);var e=i.prototype;return e.bat=function(t){this.DF&&(t=0),this.ZE.P_=t,0!==t||jL?this.Vht&&(this.Vht=!1,DL(this.ZE.Bw())):(this.Vht=!this.ZE.x_||this.Vht,this.ZE.Lw()),this.Kht()},e.DP=function(t){this.Out=t,this.Wht||this.bat(t)},e.Tat=function(t){var n=DO(this.fat,t);return-1===n?null:this.fat.end(n)},e.uat=function(){this.qht||this.B_||(this.B_=!0,this.dispatchEvent("seeking"))},e.sat=function(){this.qht=!1,this.Eat(),this.B_&&(this.B_=!1,this.dispatchEvent("seeked")),this.aat()},e.nat=function(){this.qht||this.aat()},e.Eat=function(){this.zht&&(h(this.zht),this.zht=void 0)},e.dat=function(t){var n=this;this.zht=o(function(){n.hat(t+2)},750)},e.iat=function(){this.Yht&&this.BF()&&(this.Yht=!1,this.dispatchEvent("playing"))},e.Kht=function(){var t=this.Pht,n=this.paused;this.Pht=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.bM=function(t,n){if(!(t+.001>n)){var i=new aA([t,n]);this.Hht=this.Hht.VI(i).WI(aA.iN(this.iy)),this.Hht.MR(this.$ut())&&this.aat()}},e._at=function(t){return t>=this.ZE.mR.duration-(this.paused?0:.5)},e.Sat=function(t){return w(this.ZE.mR.duration)||(t=l.min(t,this.ZE.mR.duration)),l.max(0,t)},e.lat=function(){this.Uht=null,this.ZE.mR.removeEventListener("loadedmetadata",this.QX)},e.MF=function(){return this.Gl<cl.k_},e.BF=function(){return!(this.paused||this.ended||this.error||this.MF())},e.wat=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-HL)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.jht&&this.jht===n){if(this._at(n))return!1;if(e>n||r-n<1/6)return!0}return!1},e.lX=function(){this.DF||(this.DF=!0,this.bat(0),this.FU())},e.dX=function(){this.DF&&(this.DF=!1,this.DP(this.Out),this.ZE.mR.currentTime=this.ZE.mR.currentTime,this.FU())},e.Rat=function(){var t=this.ZE.mR;t.addEventListener("timeupdate",this.yat),this.ZE.Io(Go.tc,this.Zht),this.ZE.Io(Go.nc,this.tat),this.ZE.Io(Go.Ga,this.eat),t.addEventListener("seeking",this.cF),t.addEventListener("seeked",this.sR);for(var n=0;n<ZL.length;n++){var i=ZL[n];t.addEventListener(i,this.So)}t.addEventListener("error",this.kT),t.addEventListener("durationchange",this.kat),this.ZE.Io(Go.lc,this.So),this.ZE.Io(Il.ol,this.FU),this.ZE.Io(Il.R_,this.oR)},e.Iat=function(){var t=this.ZE.mR;t.removeEventListener("timeupdate",this.yat),this.ZE.Oo(Go.tc,this.Zht),this.ZE.Oo(Go.nc,this.tat),this.ZE.Oo(Go.Ga,this.eat),t.removeEventListener("seeking",this.cF),t.removeEventListener("seeked",this.sR);for(var n=0;n<ZL.length;n++){var i=ZL[n];t.removeEventListener(i,this.So)}t.removeEventListener("error",this.kT),t.removeEventListener("durationchange",this.kat),this.ZE.Oo(Go.lc,this.So),this.ZE.Oo(Il.ol,this.FU),this.ZE.Oo(Il.R_,this.oR)},e.Nat=function(){var n=this.ZE.mR,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Dat(),this.oht=new i,this.oht.addEventListener("sourceopen",this.mat),this.oht.addEventListener("webkitsourceopen",this.mat),n.src=oO(this.oht),n.load()):this.cot(new XD(VD.VQ,{code:"MVE2720"})):this.cot(new XD(VD.VQ,{code:"MVE2650"}))},e.Dat=function(){if(this.sht=!1,this.hht&&(this.hht.pl(),this.hht=null),this.oht){this.Xht.mo();var t=this.ZE.mR;t.src&&(hO(t.src),Qr(t)),this.oht=null}},e.setup=function(){this.Nat(),this.Rat(),this.ZE.mR.parentNode!==this.xht&&this.xht.appendChild(this.ZE.mR)},e.cot=function(t){this.Xo=t,this.dispatchEvent({type:"error",error:t})},e.vat=function(){return this.hht&&this.hht.$O},e.Cat=function(t){var n=this.$ut()-l.max(30,3*t.HZ.yY.targetDuration);this.dispatchEvent("Aat"),this.hht&&!t.v3&&this.hht.Sht(n),this.aat()},e.E7=function(t){if(!this.oht.open||"closed"===this.oht.readyState)return T.reject("Oat");if(!this.hht)return T.reject("xat");var n=this.Pat(t);return this.Lht||(this.Lht=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.Pat=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.hht.E7(n)),i.v3&&r.push(this.Pit(!!n.yZ,!!n.mZ)),n=null,t.next=7,T.all(r);case 7:this.Cat(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.Pit=function(t,n){return this.oht.open&&"closed"!==this.oht.readyState?this.hht?this.hht.Pit(t,n):T.reject("xat"):T.reject("Oat")},e.play=function(){var t=this.ZE.P_;this.D_=!1,0!==this.ZE.P_||jL?(DL(this.ZE.Bw()),this.ZE.VX(),this.ZE.P_=t):this.Vht=!0,this.Kht()},e.pause=function(){0!==this.ZE.P_||jL?this.ZE.Lw():this.Vht=!1,this.Kht()},e.Mw=function(){this.D_||(this.D_=!0,this.ZE.Lw(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return c(this.Mht),this.Mht=null,this.$ht(),this.lat(),this.Dat(),this.Iat(),this.Co(),this.ZE.mR},e.reset=function(){c(this.Mht),this.Mht=null,this.$ht(),this.lat(),this.Pht=!0,this.D_=!1,this.Bht=!1,this.Lht=!1,this.Xo=!1,this.B_=!1,this.Yht=!1,this.dX(),this.Nat(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.Qw=function(){return this.ZE.mR},e.$ut=function(){return null===this.Uht?this.ZE.mR.currentTime:this.Uht},e.Ost=function(t){var n=this.Tat(t);t=this.Sat(t),this.Bht=!1,this.ZE.mR.error&&(this.Lht=!1,this.Xo=!1,this.Nat()),this.D_&&(this.D_=this._at(t)),this.$ht(),null!==n&&(t=n),this.lat(),this.Uht=t,this.B_=!0,this.dispatchEvent("Est"),this.dispatchEvent("seeking"),this.QX()},e.Bat=function(t){return this.oht.open?T.resolve(null):cd(this.oht,"sourceopen",t)},e.Lat=function(t,n,i){au(i),n>0&&(this.oht.duration=n),this.hht=new UL(this.oht);var r=this.hht.rT(t);return this.dispatchEvent("Jot"),this.hht.addEventListener("updatestart",this.$ht),this.hht.addEventListener("updateend",this.aat),this.sht=!0,this.dispatchEvent("sht"),r},e.wst=function(t,n,i){var r=this;this.Xht.mo();var e=new su;return e.ko(i),this.Xht=e,this.hht?T.resolve(null):this.Bat(e.Ao).then(function(){return r.Lat(t,n,i)})},e.y$=function(t){Q.Oe&&(this.Wht=!0,this.bat(0),this.removeEventListener("Aat",this.pat),this.addEventListener("Aat",this.pat),this.hht&&this.hht.h6(t))},e.canPlayCodecs=function(t){return this.ZE.mR.canPlayType('video/mp4; codecs="'+t+'"')},L(i,[{key:"fat",get:function(){return this.Hht.UR()}},{key:"Gl",get:function(){var t=this.ZE.Gl;return t>cl.m_&&(this.Bht||this.DF)?cl.m_:t}},{key:"uy",get:function(){return this.ZE.mR}},{key:"iy",get:function(){return this.hht?this.hht.iy:this.ZE.mR.buffered}},{key:"sM",get:function(){return this.hht?this.hht.sM:TO}},{key:"oM",get:function(){return this.hht?this.hht.oM:TO}},{key:"volume",get:function(){return this.ZE.mR.volume},set:function(t){this.ZE.mR.volume=t}},{key:"duration",get:function(){return this.ZE.mR.duration}},{key:"muted",get:function(){return this.ZE.mR.muted},set:function(t){this.ZE.mR.muted=t}},{key:"paused",get:function(){return this.ZE.x_&&!this.Vht}},{key:"played",get:function(){return this.ZE.mR.played}},{key:"poster",get:function(){return this.ZE.mR.poster},set:function(t){t?this.ZE.mR.poster=t:this.ZE.mR.removeAttribute("poster")}},{key:"controls",get:function(){return this.ZE.mR.controls},set:function(t){t?this.ZE.mR.controls=t:this.ZE.mR.removeAttribute("controls")}},{key:"ended",get:function(){return this.D_}},{key:"seeking",get:function(){return this.B_}},{key:"error",get:function(){return this.Xo||this.ZE.mR.error}},{key:"width",get:function(){return this.ZE.mR.offsetWidth||this.ZE.mR.parentNode.offsetWidth}},{key:"height",get:function(){return this.ZE.mR.offsetHeight||this.ZE.mR.parentNode.offsetHeight}},{key:"P_",get:function(){return this.Out},set:function(t){var n=this.Out;t>0&&(this.DP(t),this.Out!==n&&this.dispatchEvent("ratechange"))}},{key:"M_",get:function(){return this.ZE.mR.videoWidth||0}},{key:"L_",get:function(){return this.ZE.mR.videoHeight||0}},{key:"gst",get:function(){return this.sht}}]),i}(FD),$L=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Mat","y$",Il.ol],KL=.04,tM=.25,nM=4,iM=.75,rM=1.5,eM=.25,uM=function(t){function n(){var n;return(n=t.call(this)||this).Uat=null,n.Fat=null,n.cN=!1,n.lN=1,n.vN=1,n.Hat=null,n.Vat=void 0,n.jot=function(t){n.dispatchEvent(t)},n.Xat=function(t){n.Fat||n.dispatchEvent(t)},n.Wat=function(t){var i=t.error||n.Fat.error;n.audioStream=null,n.Hat=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Hat})},n.qat=function(){n.Fat&&!n.Fat.loaded||n.Uat&&!n.Uat.loaded||(n.Fat&&(n.Fat.removeEventListener("loaded",n.qat),n.Fat.play()),n.Uat&&(n.Uat.removeEventListener("loaded",n.qat),n.Uat.play()))},n.zat=function(){n.Gat(),n.Fat&&n.Uat&&(n.Fat.addEventListener("timeupdate",n.jat),n.Uat.addEventListener("timeupdate",n.jat))},n.Gat=function(){h(n.Vat),n.Fat&&n.Fat.removeEventListener("timeupdate",n.jat),n.Uat&&(n.Uat.P_=n.vN,n.Uat.removeEventListener("timeupdate",n.jat))},n.Qat=function(){n.Gl<cl.k_&&n.Gat()},n.jat=function(){if(h(n.Vat),n.Fat&&n.Uat){var t=n.Fat.P_,i=n.Fat.$ut()-n.Uat.$ut(),r=l.max(nM,rM*t),e=l.min(tM,iM*t);if(l.abs(i)<KL)n.Uat.P_!==t&&(n.Uat.P_=t);else{var u=eM,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.Uat.P_=s,n.Vat=o(n.jat,1e3*u)}}else n.Gat()},n.addEventListener("playing",n.zat),n.addEventListener("ended",n.Gat),n.addEventListener(Il.ol,n.Qat),n}U(n,t);var i=n.prototype;return i.d$=function(t,n){n?(t.addEventListener("timeupdate",this.jot),t.addEventListener("error",this.Wat)):(t.addEventListener("timeupdate",this.Xat),t.addEventListener("error",this.jot));for(var i=0;i<$L.length;i++){var r=$L[i];t.addEventListener(r,this.jot)}},i.Po=function(t){t.removeEventListener("timeupdate",this.jot),t.removeEventListener("timeupdate",this.Xat),t.removeEventListener("timeupdate",this.jat),t.removeEventListener("error",this.jot),t.removeEventListener("error",this.Wat),t.removeEventListener("loaded",this.qat);for(var n=0;n<$L.length;n++){var i=$L[n];t.removeEventListener(i,this.jot)}},i.Yat=function(t){this.Fat&&this.Fat.Yat(t),this.Uat&&this.Uat.Yat(t)},i.play=function(){if(this.Fat&&!this.Fat.loaded||this.Uat&&!this.Uat.loaded)return this.Fat&&this.Fat.addEventListener("loaded",this.qat),void(this.Uat&&this.Uat.addEventListener("loaded",this.qat));this.qat()},i.pause=function(){this.Fat&&(this.Fat.removeEventListener("loaded",this.qat),this.Fat.pause()),this.Uat&&(this.Uat.removeEventListener("loaded",this.qat),this.Uat.pause()),this.Gat()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Fat&&this.Fat.load(),-1!==t.indexOf("video")&&this.Uat&&this.Uat.load()):(this.Fat&&this.Fat.load(),this.Uat&&this.Uat.load())},i.Nv=function(t){this.Co(),this.Hat=null,t?(-1!==t.indexOf("audio")&&this.Fat&&(this.Fat.Nv(),this.Fat=null),-1!==t.indexOf("video")&&this.Uat&&(this.Uat.Nv(),this.Uat=null)):(this.Fat&&(this.Fat.Nv(),this.Fat=null),this.Uat&&(this.Uat.Nv(),this.Uat=null))},i.y$=function(t){this.Fat&&this.Fat.pause(),this.Uat&&this.Uat.pause(),this.Gat(),t&&-1===t.indexOf("audio")||!this.Fat||this.Fat.y$(),t&&-1===t.indexOf("video")||!this.Uat||this.Uat.y$()},i.E7=function(t){this.Fat&&t.yZ&&this.Fat.E7(t),this.Uat&&t.mZ&&this.Uat.E7(t)},i.Zat=function(t){return this.Uat?this.Uat.Zat(t):""},i.Jat=function(){return this.Uat?this.Uat.Jat():0},i.$at=function(){return this.Uat?this.Uat.$at():0},i.Qw=function(){return this.Uat&&this.Uat.Qw()},i.$ut=function(){return this.Fat?this.Fat.$ut():this.Uat?this.Uat.$ut():NaN},i.Ost=function(t,n){this.Fat&&this.Fat.Ost(t,n),this.Uat&&this.Uat.Ost(t,n)},L(n,[{key:"iy",get:function(){return this.Fat&&this.Uat?RO(this.Fat.iy,this.Uat.iy):this.Fat?this.Fat.iy:this.Uat?this.Uat.iy:TO}},{key:"volume",get:function(){return this.lN},set:function(t){this.lN!==t&&(this.lN=t,this.Fat&&(this.Fat.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Fat&&this.Fat.duration||this.Uat&&this.Uat.duration||NaN}},{key:"muted",get:function(){return this.cN},set:function(t){this.cN!==t&&(this.cN=t,this.Fat&&(this.Fat.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Fat&&!this.Uat)&&(!(this.Fat&&!this.Fat.loaded)&&!(this.Uat&&!this.Uat.loaded))}},{key:"paused",get:function(){return!this.Fat&&!this.Uat||(this.Fat&&this.Fat.paused||this.Uat&&this.Uat.paused||!1)}},{key:"ended",get:function(){return this.Fat&&this.Fat.ended||this.Uat&&this.Uat.ended||!1}},{key:"seeking",get:function(){return this.Fat&&this.Fat.seeking||this.Uat&&this.Uat.seeking||!1}},{key:"error",get:function(){return this.Fat&&this.Fat.error||this.Uat&&this.Uat.error}},{key:"warning",get:function(){return this.Hat||this.Fat&&this.Fat.warning||this.Uat&&this.Uat.warning}},{key:"audioStream",get:function(){return this.Fat},set:function(t){this.Fat&&(this.Po(this.Fat),this.Fat.Nv()),this.Fat=t,this.Fat&&(this.Fat.volume=this.lN,this.Fat.muted=this.cN,this.Fat.P_=this.vN,this.d$(this.Fat,!0))}},{key:"videoStream",get:function(){return this.Uat},set:function(t){this.Uat&&(this.Po(this.Uat),this.Uat.Nv()),this.Uat=t,this.Uat&&(this.Uat.P_=this.vN,this.d$(this.Uat,!1))}},{key:"P_",get:function(){return this.vN},set:function(t){this.vN!==t&&(t<0||(this.vN=t,this.Fat&&(this.Fat.P_=t),this.Uat&&(this.Uat.P_=t),this.dispatchEvent("ratechange")))}},{key:"Gl",get:function(){return this.Fat&&this.Uat?l.min(this.Fat.Gl,this.Uat.Gl):this.Fat?this.Fat.Gl:this.Uat?this.Uat.Gl:cl.w_}},{key:"M_",get:function(){return this.Uat?this.Uat.M_:0}},{key:"L_",get:function(){return this.Uat?this.Uat.L_:0}}]),n}(FD),sM=function(){function t(t,n,i,r){var e=this;this.Kat=void 0,this.tct=void 0,this.N_=void 0,this._O=void 0,this.nct=void 0,this.ict=void 0,this.Fy=void 0,this.rv=0,this.bv=0,this.running=!1,this.rct=function(t){return e.Nh(t)},this.Kat=t,this.tct=n,this.N_=i,this._O=r,this.nct=t.Zo(),this.ict=(n-this.nct)/(i||1)}var n=t.prototype;return n.ect=function(){return this.Kat.Pa(this.tct),this.running=!1,this.uct(),this._O()},n.pI=function(){var t=this;this.running=!0,this.N_?this.sct():UD(function(){t.running&&t.ect()})},n.Nh=function(t){if(this.uct(),this.running){void 0===this.Fy&&(this.Fy=t);var n=this.nct,i=this.ict,r=this.tct,e=this.Kat,u=n+l.max(0,t-this.Fy)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.ect();if(e.Pa(u))return this.ect();this.sct()}},n.sct=function(){this.rv=kT(this.rct),this.bv=wT(this.rct)},n.uct=function(){pT(this.rv),mT(this.bv)},t}();var oM=function(t){function n(n,i){var r;return(r=t.call(this)||this).hct=void 0,r.Eu=void 0,r.act=null,r.cct=null,r.fct=NaN,r.vct=!1,r.dct=!1,r.lct=1,r._ct=void 0,r.gct=void 0,r.wct=function(t){r.yct(t)||r.dispatchEvent(t)},r.hct=n,r.Eu=i,r}U(n,t);var i=n.prototype;return i.pause=function(){this.hct.pause()},i.play=function(){DL(this.hct.play()),this.mct()},i.kct=function(t){if(!(this.Gl<cl.k_))return this.h6(),this.vct=!0,this.wct({type:"canplay"}),t&&t();this._ct=o(this.gct,100)},i.Rh=function(t){this.dct=!0,this.vct=!1,this.hct.removeEventListener("canplay",this.gct),this.gct=this.kct.bind(this,t),this.hct.addEventListener("canplay",this.gct),this.hct.load(),this._ct=o(this.gct,100)},i.h6=function(){this.dct=!1,this.hct.removeEventListener("canplay",this.gct),void 0!==this._ct&&(h(this._ct),this._ct=void 0)},i.pct=function(t){if(this.pause(),this.h6(),null===t)return this.act=null,void(this.vct=!1);this.vct=!1,this.cct&&this.cct.H6(this.hct.src),this.cct=t[this.Eu],this.hct.src=this.cct.V6,this.act=t},i.Qw=function(){return this.hct},i.Act=function(t){this.fct=l.max(t||0,0),this.hct.currentTime=this.fct},i.bct=function(){return this.hct.currentTime},i.Tct=function(t){var n=this.act&&this.act.metadata,i=n&&n.pI,r=n&&n[this.Eu].pI,e=n&&n[this.Eu].N_;return!!this.B0&&(!(t<i)&&t<r+l.min(e,this.hct.duration))},i.mct=function(){this.lct!==this.hct.playbackRate&&(this.hct.playbackRate=this.lct,Cp&&this.lct>0&&this.Gl!==cl.w_&&(this.hct.currentTime=this.hct.currentTime))},i.yct=function(t){return!!(Cp&&"seeked"===t.type&&l.abs(this.hct.currentTime-this.fct)>.04)},i.addEventListener=function(n,i){this.DQ(n)||this.hct.addEventListener(n,this.wct),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.DQ(n)||this.hct.removeEventListener(n,this.wct)},i.Co=function(){for(var n=0,i=this.CQ();n<i.length;n++){var r=i[n];this.hct.removeEventListener(r,this.wct)}t.prototype.Co.call(this)},i.unload=function(){this.cct&&this.cct.H6(this.hct.src),this.Co()},L(n,[{key:"volume",get:function(){return this.hct.volume},set:function(t){this.hct.volume=t}},{key:"muted",get:function(){return this.hct.muted},set:function(t){this.hct.muted=t}},{key:"style",get:function(){return this.hct.style}},{key:"pI",get:function(){return this.act?this.act.metadata[this.Eu].pI:NaN}},{key:"bI",get:function(){return this.act?this.pI+this.act.metadata[this.Eu].N_:NaN}},{key:"Ect",get:function(){return this.act?this.pI+this.Sct:NaN},set:function(t){this.act?this.Sct=t-this.pI:this.Sct=0}},{key:"Sct",get:function(){return this.bct()},set:function(t){this.Act(t)}},{key:"Rct",get:function(){return this.act},set:function(t){this.pct(t)}},{key:"U6",get:function(){return this.act&&this.act.metadata.v3}},{key:"B0",get:function(){return!(!this.vct||!this.act)}},{key:"Ict",get:function(){return!(!this.dct||!this.act)}},{key:"P_",get:function(){return this.lct},set:function(t){t>=0&&this.lct!==t&&(this.lct=t,this.mct())}},{key:"x_",get:function(){return this.hct.paused}},{key:"D_",get:function(){return this.hct.ended}},{key:"Xo",get:function(){return this.hct.error}},{key:"M_",get:function(){return this.hct.videoWidth}},{key:"L_",get:function(){return this.hct.videoHeight}},{key:"Gl",get:function(){return this.hct.readyState}}]),n}(FD);function hM(t,n){return i=t.Rct.metadata.HZ,r=n.Rct.metadata.HZ,i.bandwidth&&r.bandwidth&&s_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&s_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||u_(i.ZQ,r.ZQ)||s_(t.bI,n.bI);var i,r}function aM(t){return{pI:t.pI,bI:t.bI}}function cM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.pI<=n&&n<r.bI)return i}return-1}function fM(t,n,i){return{pI:n?i.metadata.I6:i.metadata[t].pI,bI:i.metadata[t].pI+i.metadata[t].N_}}function vM(t,n,i){return new bO([fM(t,n,i)])}function dM(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(fM(t,n,u))}return SO(new bO(r))}function lM(t,n,i){if(!n)return!1;var r=n.metadata[t].pI,e=r+n.metadata[t].N_;return r<=i&&i<=e}function _M(t,n){var i=DO(t,n);return i<0?n:t.end(i)}var gM=function(){function t(t){this.Ys=void 0,this.l1=[],this.Nct=TO,this.Dct=TO,this.Ys=t}var n=t.prototype;return n.E7=function(t){var n,i;this.l1=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Rct===t?e.bI=r:i.push({Rct:t,pI:n,bI:r})},e=0;e<t.length;e++){var u=t[e];if(u.bI<=n.pI)r(u.Rct,u.pI,u.bI);else if(u.pI>=n.bI)n.pI<n.bI&&(r(n.Rct,n.pI,n.bI),n.pI=n.bI),r(u.Rct,u.pI,u.bI);else{var s=void 0,o=void 0;hM(n,u)>=0?(s=u,o=n):(s=n,o=u);var h=s.pI,a=o.pI,c=l.min(o.bI,u.bI),f=l.min(s.bI,u.bI);h<a&&r(s.Rct,h,a),a<c&&r(o.Rct,a,c),c<f&&r(s.Rct,c,f),n.pI=l.max(n.pI,u.bI)}}return n.pI<n.bI&&r(n.Rct,n.pI,n.bI),i}(this.l1,function(t,n){var i=n.metadata[t].pI;return{Rct:n,pI:i,bI:i+n.metadata[t].N_}}(this.Ys,t)),this.Nct=OO(this.Nct,vM(this.Ys,!1,t)),this.Dct=OO(this.Dct,vM(this.Ys,!0,t)),this.Dct=(n=this.Dct,i=this.Nct,RO(n,IO(i)))},n.Cct=function(t){t=this.Oct(t);var n=cM(this.l1,t);return n>=0?this.l1[n].Rct:null},n.xct=function(t,n,i,r){t=this.Oct(t);var e=this.l1,u=cM(e,t);if(u<0)return null;var s=e[u];if(!i||!lM(this.Ys,i,t))return r&&lM(this.Ys,r,t)?null:s.Rct;if(i!==s.Rct){if(r&&r===s.Rct)return null;if(s.bI-t>n)return s.Rct}for(var o=u+1;o<e.length;o++){var h=e[o];if(r&&r===h.Rct)return null;if(h.bI-t>n)return h.Rct;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].Rct);var f=dM(this.Ys,!1,a);a.push(h.Rct);var v=dM(this.Ys,!1,a);if(_M(f,t)<_M(v,t))return h.Rct}return null},n.Pct=function(t,n){for(var i=this.l1,r=i.length-1;r>=0;r--){var e=i[r];(e.bI<=t||e.pI>=n)&&Ke(i,r)}},n.pl=function(){this.l1.length=0,this.Nct=TO,this.Dct=TO},n.Oct=function(t){var n=WL(t,this.iy,this.Dct,!1);return void 0===n?t:n},L(t,[{key:"iy",get:function(){var t=this.l1.map(aM);return SO(new bO(t))}}]),t}(),wM=5,yM=30,mM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Bct=void 0,r.Eu=void 0,r.Lct=void 0,r.Mct=void 0,r.Uct=void 0,r.ha={yZ:{Fct:100,Hct:100,Vct:100},mZ:{Fct:500,Hct:100,Vct:200}},r.lN=void 0,r.ZS=null,r.Hat=null,r.Xct=null,r.Wct=void 0,r.qct=void 0,r.zct=void 0,r.Gct=void 0,r.jct=null,r.Qct=void 0,r.Yct=void 0,r.Zct=0,r.Jct=null,r.$ct=!1,r.bj=!1,r.Kct=0,r.tft=0,r.nft=cl.w_,r.Sht=function(){var t=r.$ut();r.Uct.Pct(t-wM,t+yM)},r.ift={rft:(e=en(r),{Rh:function(){e.zct.addEventListener("ended",this.eft),e.Gct.addEventListener("ended",this.uft)},Nv:function(){e.zct.removeEventListener("ended",this.eft),e.Gct.removeEventListener("ended",this.uft)},sft:function(){},eft:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.zct})},uft:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Gct})}}),xb:{iu:"xb",Rh:function(){},Nv:function(){},sft:function(){}},oft:function(){var t=en(r),n=function n(){t.zct.removeEventListener("play",n),t.zct.removeEventListener("timeupdate",i),t.zct.addEventListener("timeupdate",i)},i=function n(){var i,r;t.zct.x_||(!t.seeking&&t.zct.Rct?(i=t.zct,(r=t.Gct).B0&&kM(i,r)>=0&&t.hft(t.ift.aft)):t.zct.removeEventListener("timeupdate",n))};return{iu:"oft",Rh:function(){t.ift.rft.Rh.call(this),this.cft(),this.sft()},Nv:function(){t.ift.rft.Nv.call(this),t.zct.removeEventListener("play",n),t.zct.removeEventListener("timeupdate",i)},sft:function(){t.zct.Rct?t.sft(t.Gct,t.fft):t.sft(t.zct,t.fft)},eft:function(){var n=t.Gct.Rct;if(n&&n.metadata.d3)return t.Gct.Tct(t.zct.Ect)&&(t.Gct.Ect=t.zct.Ect),t.vft(),void t.zct.play();t.ift.rft.eft.call(this)},uft:function(){0},cft:function(){t.zct.removeEventListener("play",n),t.zct.x_?t.zct.addEventListener("play",n):n.call(t.zct)}}}(),aft:function(){var t=en(r),n=function(){r.hft(r.ift.dft)};return{iu:"aft",Rh:function(){t.ift.rft.Rh.call(this),t.Gct.addEventListener("seeked",n);var i=kM(t.zct,t.Gct),r=t.ha[t.Eu].Fct/1e3,e=l.min(i+r,t.Gct.bI);try{t.Gct.Sct=e}catch(n){t.hft(t.ift.oft),t.lft(n.message)}},Nv:function(){t.ift.rft.Nv.call(this),t.Gct.removeEventListener("seeked",n)},sft:function(){},eft:function(){t.ift.rft.eft.call(this)},uft:function(){}}}(),dft:function(){var t,n=en(r),i=function(){u()},e=function(){u()},u=function(){pT(t),r.Gct.Ect-r.zct.Ect-1/60>0?t=kT(i):r.hft(r.ift._ft)};return{iu:"dft",Rh:function(){n.ift.rft.Rh.call(this),n.zct.addEventListener("timeupdate",e),u()},Nv:function(){n.ift.rft.Nv.call(this),pT(t),n.zct.removeEventListener("timeupdate",e)},sft:function(){},eft:function(){n.ift.rft.eft.call(this)},uft:function(){n.ift.rft.uft.call(this)}}}(),_ft:function(){var t,n=en(r),i=function(){var t=r.gft(r.Gct),n=r.ha[r.Eu].Hct/l.max(1,r.zct.P_);return function(t,n,i,r){return new sM(t,n,i,r)}(t,t.wft,n,function(){r.hft(r.ift.yft),r.ift.yft.mft()})},e=function(){r.Xct.pI(),r.hft(r.ift.yft)};return{iu:"_ft",Rh:function(){n.ift.rft.Rh.call(this);var r=n.ha[n.Eu].Vct/l.max(1,n.zct.P_);n.Xct=i(),t=o(e,r),n.Gct.play()},Nv:function(){n.ift.rft.Nv.call(this),h(t),t=0},sft:function(){},eft:function(){n.ift.rft.eft.call(this)},uft:function(){n.ift.rft.uft.call(this)}}}(),yft:function(){var t=en(r);return{iu:"yft",Rh:function(){t.ift.rft.Rh.call(this)},Nv:function(){t.ift.rft.Nv.call(this),t.Xct&&t.Xct.ect()},sft:function(){},eft:function(){t.ift.rft.eft.call(this)},uft:function(){t.ift.rft.uft.call(this)},mft:function(){t.Xct=null,t.vft()}}}()},r.kft={pft:function(){var t=en(r);return{Rh:function(){},Nv:function(){},sft:function(){t.Qct.sft()},Ost:function(n,i,r,e){t.Zct=n,t.Jct=e,t.hft(t.ift.xb);var u=t.zct===t.Wct?i:r,s=t.Gct===t.Wct?i:r;u&&t.zct.Tct(n)?t.Aft(t.kft.bft):s&&t.Gct.Tct(n)?t.Aft(t.kft.Tft):t.Aft(t.kft.Eft)}}}(),Eft:function(){var t=en(r),n=function(){r.fft(),r.Gct.B0?(r.Gct.Tct(r.Zct)||(r.Sft('Could not seek to exact timestamp "'+r.Zct+'", seeking instead to: "'+r.Gct.pI+'"'),r.Zct=r.Gct.pI),r.Aft(r.kft.Tft)):r.Aft(r.kft.pft)};return{Rh:function(){t.Rft(),t.zct.Rct=null,t.Gct.Rct=null,t.Gct.style.display="none",t.fft(),this.sft()},Nv:function(){t.Gct.h6(),t.Gct.style.display=""},sft:function(){t.Gct.Rct||t.sft(t.Gct,n)},Ost:function(n,i,r,e){t.Ift(),t.Yct.Ost(n,i,r,e)}}}(),bft:function(){var t=en(r),n=function(){r.Aft(r.kft.pft),r.hft(r.ift.oft),r.IF(),r.Jct&&(r.Jct.call(t),r.Jct=null)};return{Rh:function(){t.zct.addEventListener("seeked",n);try{t.zct.Ect=t.Zct,t.IF()}catch(n){t.lft(n.message)}},Nv:function(){t.zct.removeEventListener("seeked",n)},sft:function(){},Ost:function(n,i,r,e){t.Ift(),t.Yct.Ost(n,i,r,e)}}}(),Tft:function(){var t=en(r),n=function(){r.Aft(r.kft.pft),r.vft(),r.Jct&&(r.Jct.call(t),r.Jct=null)};return{Rh:function(){t.Gct.style.display="none",t.Gct.addEventListener("seeked",n);try{t.Gct.Ect=t.Zct,t.IF()}catch(n){t.lft(n.message)}},Nv:function(){t.Gct.style.display="",t.Gct.removeEventListener("seeked",n)},sft:function(){},Ost:function(n,i,r,e){t.Ift(),t.Yct.Ost(n,i,r,e)}}}()},r.fft=function(){var t=r.bj;r.bj=r.Wct.Ict||r.qct.Ict,t&&!r.bj&&r.dispatchEvent("updateend"),r.Nft(),r.IF(),r.Dft()},r.IF=function(){var t=r.Gl;t!==r.nft&&(r.nft=t,r.dispatchEvent(Il.ol))},r.Bct=n,r.Eu=i,r.Uct=new gM(i),r.lN="mZ"===i?0:1;var u=function(t){switch(t){case"yZ":return"audio";case"mZ":return"video"}}(i);return r.Lct=pM(u),r.Mct=pM(u),n.appendChild(r.Lct),n.appendChild(r.Mct),r.Wct=new oM(r.Lct,r.Eu),r.qct=new oM(r.Mct,r.Eu),r.zct=r.Wct,r.Gct=r.qct,r.Qct=r.ift.oft,r.Yct=r.kft.pft,r.Qct.Rh(),r.Yct.Rh(),r.ZJ(),r.Rl(),r}U(n,t);var i=n.prototype;return i.Cft=function(t){return t===this.Wct?this.qct:this.Wct},i.Sft=function(t){this.Hat=t,this.dispatchEvent({type:"warning",warning:this.Hat})},i.lft=function(t){this.ZS=t,this.dispatchEvent({type:"error",error:t})},i.gft=function(t){var n,i=this,r=this.Cft(t);return n="mZ"===this.Eu?{Zo:function(){if(i.jct!==t)return 0;var n=g(t.style.opacity);return w(n)?1:n},Pa:function(n){n=qt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.jct=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},wft:1,Oft:function(){if(n.Zo()!==n.wft)return n.Pa(n.wft)}}:{Zo:function(){return t.volume},Pa:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.wft-i}catch(t){e=t}return e},wft:this.lN,Oft:function(){if(n.Zo()!==n.wft)return n.Pa(n.wft)}}},i.sft=function(t,n){var i=this.Uct.xct(this.$ut(),1,this.zct.Rct,this.Gct.Rct);return!!i&&(this.Rft(),t.Rct=i,t.Rh(n),t.U6&&this.dispatchEvent("durationchange"),!0)},i.xft=function(){this.Rft(),this.Uct.pl(),this.Wct.h6(),this.qct.h6(),this.fft()},i.Qw=function(){return this.zct.Qw()},i.$ut=function(){return this.seeking?this.Zct:this.zct.Ect},i.Ost=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.Yct.Ost(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.vft=function(){var t=this.zct;this.hft(this.ift.xb),this.zct=this.Gct,this.Gct=t,this.gft(this.zct).Oft(),this.Rft(),this.Gct.pause(),this.Gct.Rct=null,this.fft(),this.hft(this.ift.oft)},i.ZJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.lft(new XD(VD.FQ,{code:"VEE"+i.error})):t.lft(new XD(VD.FQ,{code:"VEE"+n.Xo.code}));n===t.zct&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Wct),e=i.bind(null,this.qct),u=0;u<n.length;u++){var s=n[u];this.Wct.addEventListener(s,r),this.qct.addEventListener(s,e)}this.Wct.addEventListener("error",r),this.qct.addEventListener("error",e);for(var o=0;o<nR.length;o++){var h=nR[o];this.Wct.addEventListener(h,this.IF),this.qct.addEventListener(h,this.IF)}},i.Rl=function(){this.addEventListener("seeking",this.Sht),this.addEventListener("timeupdate",this.Sht)},i.hft=function(t){var n;if(this.Qct!==t){do{(n=this.Qct).Nv()}while(n!==this.Qct);this.Qct=t,t.Rh()}},i.Aft=function(t){var n;if(this.Yct!==t){do{(n=this.Yct).Nv()}while(n!==this.Yct);this.Yct=t,t.Rh()}},i.Ift=function(){this.Jct=null,this.Aft(this.kft.pft)},i.load=function(){this.pause(),this.Ift(),this.zct.Rct=null,this.Gct.Rct=null,this.hft(this.ift.oft)},i.Nv=function(){this.Ift(),this.hft(this.ift.xb),this.xft(),this.Wct.unload(),this.qct.unload(),this.Bct.removeChild(this.Lct),this.Bct.removeChild(this.Mct),this.ZS=null,this.Hat=null},i.y$=function(){var t=this,n=this.$ut();this.xft(),this.Yct.Ost(n,!1,!1,function(){t.dispatchEvent("y$",!0)})},i.play=function(){this.gft(this.zct).Oft(),this.zct.B0&&this.zct.play()},i.pause=function(){this.Wct.pause(),this.qct.pause()},i.Yat=function(t){var n=this,i=function(){n.dispatchEvent("Mat",!0)};this.pause(),this.zct.D_?this.Yct.Ost(t,this.Gct===this.Wct,this.Gct===this.qct,i):this.Gct.D_?this.Yct.Ost(t,!1,!1,i):this.Gct.Tct(t)?this.Yct.Ost(t,this.Gct===this.Wct,this.Gct===this.qct,i):i()},i.E7=function(t){this.Rft(),this.Uct.E7(t),this.fft(),this.Yct.sft()},i.Zat=function(t){return this.Lct.canPlayType('video/mp4; codecs="'+t+'"')},i.Jat=function(){return l.max(this.Lct.offsetWidth,this.Mct.offsetWidth)},i.$at=function(){return l.max(this.Lct.offsetHeight,this.Mct.offsetHeight)},i.Nft=function(){!this.$ct&&this.loaded&&(this.$ct=!0,this.dispatchEvent("loaded"))},i.Dft=function(){if("mZ"===this.Eu){var t=this.M_,n=this.L_;t>0&&n>0&&(this.Kct!==t||this.tft!==n)&&(this.Kct=t,this.tft=n,this.dispatchEvent("resize"))}},i.Rft=function(){var t=this.bj;this.bj=!0,t||this.dispatchEvent("updatestart")},L(n,[{key:"iy",get:function(){var t=[];return w(this.Wct.pI)||t.push({pI:this.Wct.pI,bI:this.Wct.bI}),w(this.qct.pI)||t.push({pI:this.qct.pI,bI:this.qct.bI}),OO(SO(new bO(t)),this.Uct.iy)}},{key:"duration",get:function(){return this.zct.U6?this.zct.bI:this.Gct.U6?this.Gct.bI:NaN}},{key:"paused",get:function(){return this.zct.x_}},{key:"ended",get:function(){return this.zct.D_}},{key:"muted",get:function(){return this.zct.muted&&this.Gct.muted},set:function(t){this.zct.muted=t,this.Gct.muted=t}},{key:"volume",get:function(){return this.lN},set:function(t){this.lN=t,this.Xct&&this.Xct.ect(),this.Gct.volume=0,this.zct.volume=this.lN}},{key:"error",get:function(){return this.ZS}},{key:"warning",get:function(){return this.Hat}},{key:"seeking",get:function(){return this.Yct!==this.kft.pft}},{key:"loaded",get:function(){return this.zct.B0}},{key:"P_",get:function(){return this.zct.P_},set:function(t){t>=0&&(this.zct.P_=t,this.Gct.P_=t)}},{key:"M_",get:function(){return this.zct.M_}},{key:"L_",get:function(){return this.zct.L_}},{key:"$O",get:function(){return this.bj}},{key:"Gl",get:function(){var t;if(this.Yct===this.kft.Eft||this.Yct===this.kft.Tft)t=cl.y_;else{var n=this.zct.Gl;if(n<=cl.m_)t=n;else{var i=aA.iN(this.iy).NI(),r=this.duration,e=this.$ut();w(r)||(e=l.min(e,r));var u=i.tN(e);if(u){var s=u.bI(0);t=s-e>=3*this.P_||!w(r)&&s>=r?cl.p_:cl.k_}else t=cl.m_}}return t===cl.w_&&this.$ct?cl.y_:t}}]),n}(FD);function kM(t,n){return t.Ect-n.pI}function pM(t){var n=e.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),zr(n),n.controls=!1,n}var AM,bM=function(){function t(t){var n=this;this.eI=void 0,this.wy=void 0,this.Pft=void 0,this.Bft=void 0,this.Lft=void 0,this.Mft=function(){(w(n.Bft)||n.Lft)&&(n.Bft=n.wP()),n.Pft=n.Bft,n.Lft=!1},this.Uft=function(){var t=n.wP();n.Fft(t),n.Bft=t},this.Hft=function(){n.eI.Gl<=cl.m_&&n.Uft()},this.Vft=function(){n.Fft(n.Bft),n.Lft=!0},this.Xft=function(){n.Bft=n.wP()},this.eI=t,this.wy=aA.uN(),this.Pft=NaN,this.Bft=NaN,this.Lft=!1,t.addEventListener("playing",this.Mft),t.addEventListener("pause",this.Uft),t.addEventListener("seeking",this.Vft),t.addEventListener("timeupdate",this.Xft),t.addEventListener(Il.ol,this.Hft)}var n=t.prototype;return n.KU=function(){var t=this.wy,n=this.Pft;if(!w(n)){var i=this.wP();n<i&&(t=t.VI(new aA([n,i])))}return t.UR()},n.wP=function(){return this.eI.$ut()},n.Fft=function(t){var n=this.Pft;n<t&&(this.wy=this.wy.VI(new aA([n,t]))),this.Pft=NaN},n.Est=function(){var t=this.wP();this.Fft(t),this.Lft=!0},n.pl=function(){this.wy=aA.uN(),this.Pft=NaN,this.Bft=NaN,this.Lft=!1},n.vo=function(){var t=this.eI;t.removeEventListener("playing",this.Mft),t.removeEventListener("pause",this.Uft),t.removeEventListener("seeking",this.Vft),t.removeEventListener("timeupdate",this.Xft),t.removeEventListener(Il.ol,this.Hft),this.eI=null},t}(),TM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wft=void 0,r.ZE=void 0,r.Wi=!1,r.EF=NaN,r.qft=void 0,r.xc=void 0,r.Bct=void 0,r.zft=void 0,r.ZS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.nft=cl.w_,r.Gft=function(){r.zft.seeking||(r.zft.removeEventListener("seeked",r.Gft),r.dispatchEvent("seeked"),r.jft.paused?r.xc=r.Qft:r.Yft(),r.IF())},r.Zft=function(){r.zft.paused||(r.zft.removeEventListener("playing",r.Zft),r.dispatchEvent("playing"))},r.Jft=function(t){r.xc=r.$ft,r.ZS=t,r.dispatchEvent({type:"error",error:r.ZS})},r.Kft={paused:!0,play:function(){r.removeEventListener("sht",r.Kft.tvt),r.Wi?(r.xc=r.nvt,r.zft.removeEventListener("playing",r.Zft),r.zft.addEventListener("playing",r.Zft),r.zft.play(),r.dispatchEvent("play")):r.addEventListener("sht",r.Kft.tvt)},tvt:function(){r.removeEventListener("sht",r.Kft.tvt),r.xc.play()},stall:function(){},pause:function(){r.Kft.tvt&&r.removeEventListener("sht",r.Kft.tvt),r.zft.pause(),r.dispatchEvent("pause"),r.xc=r.Qft},load:function(t){},$ut:function(){return r.Wi?r.zft.$ut():0},Ost:function(t,n){var i=NO(r.iy,t);n=n||!i,r.zft.removeEventListener("seeked",r.Gft),r.zft.addEventListener("seeked",r.Gft),r.jft.seekTime=t,r.xc=r.jft,r.dispatchEvent("Est"),r.zft.Ost(t,n),r.dispatchEvent("seeking")},PP:function(){return r.zft.Gl},y$:function(t){r.jft.seekTime=r.$ut(),r.xc=r.ivt,r.zft.removeEventListener("y$",r.ivt.rvt),r.zft.addEventListener("y$",r.ivt.rvt),r.zft.y$(t),r.IF()},forwardEvent:function(t){"pause"===t.type&&r.zft.ended||r.dispatchEvent(t)}},r.Qft=_e({},r.Kft,{pause:function(){r.removeEventListener("sht",r.Kft.tvt)},Ost:function(t){r.jft.paused=!0,r.Kft.Ost(t)},y$:function(t){r.jft.paused=!0,r.Kft.y$(t)}}),r.evt=_e({},r.Qft),r.uvt=_e({},r.Qft,{load:function(t,n){r.removeEventListener("sht",r.uvt.svt),n||r.dispatchEvent("loadstart"),r.Wi?r.zft.load(t):(r.uvt.ovt=t,r.addEventListener("sht",r.uvt.svt))},svt:function(){r.removeEventListener("sht",r.uvt.svt),r.xc.load(r.uvt.ovt,!0)},ovt:null,$ut:function(){return r.Wi?r.zft.$ut():r.uvt.avt},Ost:function(t){r.removeEventListener("sht",r.uvt.cvt),r.Wi?(r.xc=r.Qft,r.xc.Ost(t)):(r.uvt.avt=t,r.addEventListener("sht",r.uvt.cvt),r.dispatchEvent("seeking"))},cvt:function(){r.removeEventListener("sht",r.uvt.cvt),r.xc.Ost(r.uvt.avt)},avt:0,y$:function(t){}}),r.nvt=_e({},r.Kft,{Ost:function(t){r.jft.paused=!1,r.Kft.Ost(t)},play:function(){},stall:function(){r.xc=r.fvt,r.fvt.vvt=r.zft.$ut(),r.fvt.paused=!1,r.zft.addEventListener("Mat",r.fvt.dvt),r.zft.Yat(r.fvt.vvt),r.IF()},y$:function(t){r.jft.paused=!1,r.Kft.y$(t)}}),r.fvt=_e({},r.nvt,{paused:!1,vvt:0,Ost:function(t){r.zft.removeEventListener("Mat",r.fvt.dvt),r.fvt.paused?r.xc=r.Qft:r.xc=r.nvt,r.xc.Ost(t),r.IF()},$ut:function(){return r.fvt.vvt},PP:function(){return l.min(r.zft.Gl,cl.m_)},forwardEvent:function(){},play:function(){r.fvt.paused=!1,r.dispatchEvent("play")},pause:function(){r.fvt.paused=!0,r.dispatchEvent("pause")},stall:function(){},dvt:function(){r.zft.seeking||(r.zft.removeEventListener("Mat",r.fvt.dvt),r.fvt.paused?r.xc=r.Qft:r.Kft.play(),r.IF())}}),r.jft=_e({},r.Kft,{paused:!1,seekTime:0,$ut:function(){return r.jft.seekTime},play:function(){r.jft.paused=!1},pause:function(){r.jft.paused=!0,r.zft.pause(),r.dispatchEvent("pause")}}),r.ivt=_e({},r.jft,{Ost:function(t){r.zft.removeEventListener("y$",r.ivt.rvt),r.jft.paused?r.xc=r.Qft:r.xc=r.nvt,r.xc.Ost(t)},PP:function(){return l.min(r.zft.Gl,cl.m_)},forwardEvent:function(){},stall:function(){},rvt:function(){r.zft.seeking||(r.zft.removeEventListener("y$",r.ivt.rvt),r.jft.paused?r.xc=r.Qft:r.Kft.play(),r.IF())}}),r.$ft=_e({},r.Kft,{play:function(){},pause:function(){},load:function(){},$ut:function(){return NaN},PP:function(){return cl.w_},Ost:function(t){r.Kft.Ost(t,!0)},y$:function(t){}}),r.So=function(t){r.dispatchEvent(t)},r.lvt=function(t){r.xc.forwardEvent(t)},r._vt=function(t){r.Jft(t.error)},r.gvt=function(t){if(t.origin&&t.origin.U6)return r.Mw();r.xc.stall()},r.kat=function(){var t=r.zft.duration;t&&r.EF!==t&&(r.EF=t,r.dispatchEvent("durationchange"))},r.wvt=function(){r.zft.loaded&&(r.loaded=!0)},r.IF=function(){var t=r.Gl;t!==r.nft&&(r.nft=t,r.dispatchEvent(Il.ol))},r.Wft=n,r.ZE=i,r.qft=new bM(en(r)),r.zft=new uM,r.xc=r.uvt,r.Bct=e.createElement("div"),r.Bct.style.position="absolute",r.Bct.style.width="100%",r.Bct.style.height="100%",r.yvt(),r}U(n,t);var i=n.prototype;return i.Yft=function(){this.Kft.play()},i.yvt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.zft.addEventListener(r,this.So)}for(var e=0;e<n.length;e++){var u=n[e];this.zft.addEventListener(u,this.lvt)}this.zft.addEventListener("ended",this.gvt),this.zft.addEventListener("error",this._vt),this.zft.addEventListener("durationchange",this.kat),this.zft.addEventListener("loaded",this.wvt),this.zft.addEventListener(Il.ol,this.IF)},i.setup=function(){this.ZE.mR.parentNode===this.Wft?this.Wft.replaceChild(this.Bct,this.ZE.mR):(this.ZE.mR.parentNode&&this.ZE.mR.parentNode.removeChild(this.ZE.mR),this.Wft.appendChild(this.Bct))},i.play=function(){this.xc.play()},i.pause=function(){this.xc.pause()},i.mvt=function(t){this.zft&&this.zft.Nv(t),this.Wi=!1},i.Mw=function(){this.pause(),this.xc=this.evt,this.ZS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.xc.load(t)},i.unload=function(){return this.zft.Nv(),this.qft.vo(),this.Bct.parentNode===this.Wft?this.Wft.replaceChild(this.ZE.mR,this.Bct):(this.Bct.parentNode&&this.Bct.parentNode.removeChild(this.Bct),this.Wft.appendChild(this.ZE.mR)),this.Co(),this.ZE.mR},i.reset=function(t){this.Wi=!1,this.xc=this.uvt,this.ZS=void 0,this.EF=NaN,this.nft=cl.w_,this.qft.pl(),this.mvt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.y$=function(t){this.xc.y$(t)},i.E7=function(t){return this.zft.E7(t),T.resolve()},i.Qw=function(){return this.zft.Qw()},i.$ut=function(){return this.xc.$ut()},i.Ost=function(t){this.qft.Est(),this.xc.Ost(t)},i.Pit=function(t,n){return T.resolve()},i.canPlayCodecs=function(t){return this.zft.Zat('video/mp4; codecs="'+t+'"')},i.wst=function(t,n,i){var r={};for(var e in t)if(Y.call(t,e)){var u=t[e];!this.zft.videoStream&&u.mZ&&(this.zft.videoStream=new mM(this.Bct,"mZ"),r.mZ=this.zft.videoStream),!this.zft.audioStream&&u.yZ&&(this.zft.audioStream=new mM(this.Bct,"yZ"),r.yZ=this.zft.audioStream,this.dispatchEvent("Jot"))}return this.Wi=!0,this.dispatchEvent("sht"),T.resolve(r)},L(n,[{key:"gst",get:function(){return this.Wi}},{key:"uy",get:function(){return this.Bct}},{key:"iy",get:function(){return this.zft.iy}},{key:"volume",get:function(){return this.zft.volume},set:function(t){this.zft.volume=t}},{key:"duration",get:function(){return this.EF}},{key:"muted",get:function(){return this.zft.muted},set:function(t){this.zft.muted=t}},{key:"paused",get:function(){return this.xc.paused&&this.zft.paused}},{key:"played",get:function(){return this.qft.KU()}},{key:"ended",get:function(){return this.xc===this.evt}},{key:"seeking",get:function(){return this.xc===this.jft}},{key:"error",get:function(){return this.ZS||this.zft.error}},{key:"warning",get:function(){return this.zft.warning}},{key:"width",get:function(){return this.zft.Jat()}},{key:"height",get:function(){return this.zft.$at()}},{key:"P_",get:function(){return this.zft.P_},set:function(t){this.zft.P_=t}},{key:"Gl",get:function(){return this.xc.PP()}},{key:"M_",get:function(){return this.zft.M_}},{key:"L_",get:function(){return this.zft.L_}}]),n}(FD);!function(t){t.QQ="unsupported",t.kvt="native",t.pvt="hls-native",t.Avt="hls-mse",t.bvt="hls-switching-video"}(AM||(AM={}));var EM=function(){function t(){this.Tvt={},this.Evt(AM.kvt,PL),this.Evt(AM.pvt,PL),this.Evt(AM.Avt,JL),this.Evt(AM.bvt,TM)}return t.prototype.Evt=function(t,n){this.Tvt[t]=n},t.Evt=function(n,i){t.A0.Evt(n,i)},t.Svt=function(n,i,r){var e=t.A0.Tvt[n];return e?new e(i,r):void 0},t}();EM.A0=new EM;var SM=function(t){function n(n){var i;return(i=t.call(this)||this).Rvt=void 0,i.Ivt=function(t){i.Ro(t)},i.Rvt=n,i.Nvt(),i}U(n,t);var i=n.prototype;return i.Nvt=function(){this.Rvt.Io("lO",this.Ivt)},i.Dvt=function(){this.Rvt.Oo("lO",this.Ivt)},i.Nv=function(){this.Dvt()},L(n,[{key:"kO",get:function(){return this.Rvt.kO}},{key:"pO",get:function(){return this.Rvt.pO}},{key:"Cvt",set:function(t){var n=this.Rvt;n.kO===t.kO&&n.pO===t.pO||(this.Dvt(),this.Rvt=t,this.Nvt(),this.Ro(new vT(t.pO,t.kO)))}}]),n}(Eu);function RM(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function IM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function NM(t,n){var i=t.type;return i?kp?IM(i)?!Rp||n.useSwitchOverMSE||Q.Oe&&n.vr&&n.vr[360]?!bp||Q.Se||Q.De&&Q.he?Tp?AM.bvt:AM.QQ:AM.pvt:AM.Avt:AM.kvt:AM.QQ:AM.kvt}var DM=function(t,n,i,r,e){var u,s,a,c,v,_,y=this,m=null,k=null,p=null,A=!0,b=null,E=null,S=!1,R=null,I=null,N=null,D=vA,C=vA,O=!0,x=null,P={h2:0,tct:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=cl.w_,Y=!1,Z=!1,J=NaN,$=null,tt=null,nt=Q.we&&Ap,it=!1,rt="",et=AM.QQ,ut=null,st=function(){var i=T.coroutine(le.mark(function i(){return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.ho=!0,y.Co(),B&&Pt(null),_&&(_.Nv(),_=null),v&&(v.pl(),v=null),en(),k&&(k.unload(),k=null),!I.mR){i.next=11;break}return i.next=10,n.LR(I);case 10:I=null;case 11:if(!N.mR){i.next=15;break}return i.next=14,n.LR(N);case 14:N=null;case 15:u.Nv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new XD(VD.QQ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.yR(B_.mv)).mR:(r=n.yR(B_.kv)).mR).preload="none",zr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",E.style.zIndex="0",b.style.display=A?"":"none",E.style.display=A&&S?"":"none"},ft=function(t){yt(t.S$),wt(t.R$),s&&(s.S$=a),pt()},vt=function(t,n){kt(t.S$,n),mt(t.R$),s&&(s.S$=a)},dt=function(){Xt(),Nt(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("Jot",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===AM.kvt&&(G=!0,y.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Il.ol,nn),k.setup(),_.Rst=k,n(["timeupdate","playing","ratechange","resize"],t),et){case AM.kvt:case AM.pvt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case AM.Avt:n(["play","pause"],St)}k.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},_t=function(t){m&&m.wot(),k&&(m=new _L(t,nt,v,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=NL(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Fot=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){a&&(a.Nv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener("durationchange",function(){J=a.N_,y.dispatchEvent("durationchange")}),a.addEventListener("Xo",function(t){Zt(t.Xo)}),a.addEventListener("Bv",At),a.addEventListener("gy",At),a.sK.addEventListener("renditionUpdated",function(){Gt()}),_.sK=a.sK)},mt=function(t){var n;c&&(c.Nv(),c=null),k&&(c=t)&&(n=c.Zut,c.addEventListener("g$",function(t){var n=y.videoWidth,i=y.videoHeight;$=t.HZ,y.dispatchEvent(t),Op&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),c.addEventListener("Xo",function(t){Zt(t.error)}),c.addEventListener("Iut",function(t){y.dispatchEvent(t)}),c.Rst=k,w(n)||Ht(n))},kt=function(t,n){a&&(a.Nv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener(Go.ac,function(t){y.dispatchEvent(t)}),a.addEventListener(Go.fc,function(t){y.dispatchEvent(t)}),a.addEventListener("durationchange",function(){J=a.N_,y.dispatchEvent("durationchange")}),a.addEventListener("Xo",function(t){Zt(t.Xo)}),a.addEventListener("Bv",At),a.addEventListener("gy",At),a.addEventListener("_K",function(){y.dispatchEvent("progress")}),a.sK.addEventListener("renditionUpdated",function(){Gt()}),a.sK.addEventListener("renditionUpdated",function(t){var i,r=t.HZ.bJ&&t.HZ.bJ.yZ;r&&-1!==r.indexOf("mp4a.40.3")&&("k6"!==n.p6||Sp||(i=B,UD(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),_.sK=a.sK)},pt=function(){k.addEventListener("play",function(){y.play({fromNative:!0})}),k.addEventListener("pause",function(){y.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){y.volume=k.volume,y.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!a||a.gy;z=n,n&&!t?y.dispatchEvent(Go.Ka):!n&&t&&y.dispatchEvent(Go.$a)},bt=function(){V=!1,X=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",Et),V&&(bt(),y.ended?Ht(0):jt(),k.play(),c&&c.Bw())},Et=function t(){y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?y.play({fromNative:!0}):!n&&X&&y.pause({fromNative:!0})},Rt=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.tct="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.pN()),P.Ovt=!1,!y.initialized||!k){if(t.onlyWhenInitialized){var i=new XD(VD.zQ,{code:"MGB6720"});throw Zt(i),i}return y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),y.addEventListener("initialized",t.fromNative?Et:Tt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(V){if(W&&y.ended)return Nt(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.Lw()),y.dispatchEvent("pause",!0))},Dt=function(t){return{type:RM(t)?"application/vnd.apple.mpegurl":"",src:t}},Ct=function(t){return"string"==typeof t},Ot=function(t){if(RL(t))return t.type?t:Dt(t.src);if(Ct(t))return Dt(t);if(K(t)&&Ct(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(RM(i))return Dt(i)}return Dt(t[0])}if(K(t)&&RL(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(IM(e.type)||!e.type&&RM(e.src))return e.type?e:Dt(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,u=NM(n,i);!function(t,n){switch(t){case AM.kvt:case AM.pvt:n.p6=!1,n.xvt=!1;break;case AM.Avt:n.p6="k6",n.xvt=!0;break;case AM.bvt:n.p6="v9",n.xvt=Q.ue}}(u,i);var o=function(t,n,i){var u,o,h,a=i.configuration;switch(t){case AM.kvt:h=u=o=null;break;case AM.pvt:h=null;var c=new sL(a,r);u=c,o=new vL(c);break;case AM.Avt:case AM.bvt:h=new yL(a,r);var f=new uL(a,h,r,e);u=f,o=new cL(f);break;default:return null}return new UC(n,t,i,h,u,o,s)}(u,n,t);return o?(o.R$&&(o.R$.P_=y.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.mR,s=!1,o=!y.paused,h=et,a=y.playbackRate,c=y.Pvt;tt&&(tt.Nv(),tt=null),en();var f=n&&n.pK||null;n&&n.mK||null,L=n&&n.rI||null,M=f&&f.configuration||null,et=n&&n.kK||AM.QQ,Jt();var v={type:"Bvt",Lvt:n,iA:M,Mvt:i};if(y.dispatchEvent(v),et!==AM.QQ){if(k){y.pause();var d=h===et||h===AM.pvt&&et===AM.kvt||h===AM.kvt&&et===AM.pvt,l=i&&!Q.we;if(d&&!l)k.reset(),m.pl();else{if(l?(p=k,e=(r=at(r)).mR):e=k.unload(),!(s=EM.Svt(et,t,r)))return void ot();k=s,lt(),_t(e)}Xt(),G=!1,j=cl.w_,Y=!1,Z=!1,J=NaN,x=null,y.dispatchEvent("durationchange"),P.tct=0,P.h2=0,P.Ovt=!0,y.dispatchEvent("timeupdate")}else{if(!(s=EM.Svt(et,t,r)))return void ot();k=s,r.mR.removeAttribute("poster"),lt(),_t(r.mR)}switch(R=r,u.Cvt=R.fL,b=k.uy,p?(E=p.uy,S=!0):(E=at(r).mR,S=!1),ct(),M.crossOrigin){case sl.f_:case sl.v_:R.mR.setAttribute("crossorigin",M.crossOrigin);break;default:R.mR.removeAttribute("crossorigin")}if(c!==y.Pvt&&y.dispatchEvent(Go.ja),Lt(),Mt(),!L)return B=null,void(y.initialized=!1);!function(t,n){switch(et){case AM.kvt:case AM.pvt:ft(t);break;case AM.Avt:case AM.bvt:vt(t,n);break;default:return}t.eI=y,t.PK(H)}(tt=n,M),k.src=L,m.dot(f&&f.textTracks),y.playbackRate=a,B=L;var _={type:"Uvt",Lvt:n,iA:M,Mvt:i};y.dispatchEvent(_),y.initialized=!0,y.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Q.we&&o&&Yt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=y.nht)!==t&&y.dispatchEvent("Fvt")},Mt=function(){_&&(_.FH=nt&&it)},Ut=function(){return k&&k.gst?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.Ovt)return P.tct;if(c){var t=c.Zut;return"start"===t?0:t}return k.$ut()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=y.live?1/0:0),t=g(t)||0,t=Kt(t),k){if(l.abs(P.tct-t)<.001&&$b()-P.h2<50)return;Vt(),c?c.Zut=t:k.Ost(t),k.seeking||Xt(),P={tct:t,h2:$b()}}},Vt=function(){W=!0,zt(),ut=o(Wt,100)},Xt=function(){W&&(W=!1,ut&&Wt(),y.dispatchEvent("seeked"))},Wt=function(){zt(),y.dispatchEvent("seeking")},zt=function(){ut&&(h(ut),ut=null)},Gt=function(){Z||(Z=!w(J)&&$t().length>0&&(Y||!y.live))&&y.dispatchEvent("Tct")},jt=function t(){y.removeEventListener("Tct",t),null!==x&&(Z?Ht(x):y.addEventListener("Tct",t))},Qt=function(){return k&&k.gst?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===VD.GQ)return n=!X,Pt(tt.rI),void(n&&It());var n;Yt()||Nt(),q=t,y.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return pO(c?c.my:J>0?new bO([{pI:0,bI:J}]):TO)},Kt=function(t){var n=$t();return n.length?qt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.Gl:cl.w_;return G&&(t=l.max(cl.y_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,y.dispatchEvent(Il.ol))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,E=t||at(R).mR,ct()}};y.initialized=!1,y.warning=null,y.play=It,y.pause=Nt,y.load=function(){if(!y.initialized||!k){var t=new XD(VD.zQ,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},y.Hvt=xt,y.Vvt=Bt,y.vo=st,y.Fw=rn,y.Gw=function(){A=!0,ct()},y.jw=function(){A=!1,ct()},y.Qw=function(){return k&&k.Qw()},y.mw=function(){return _e({},{oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?RE(k.Rst):{oy:0,hy:0,ay:0},{vy:8*el.o_()})},d.defineProperty(y,"buffered",{get:function(){return pO(k?k.iy:TO)}}),d.defineProperty(y,"played",{get:function(){return k?pO(k.played):TO}}),d.defineProperty(y,"seekable",{get:$t}),d.defineProperty(y,"live",{get:function(){return!(!a||!uC.lw(a.sK.KZ))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=g(t))!==Ut()&&(k&&(k.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Ft,set:Ht}),d.defineProperty(y,"dimensions",{get:function(){return u}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return c?c.ey:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!w(i.getTime())&&c&&(n=c.Ftt(t),w(n)||null===n||Ht(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Yt,set:function(t){t?Nt():It()}}),d.defineProperty(y,"preload",{get:function(){return H},set:function(t){H=rA((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return k&&k.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return W}}),d.defineProperty(y,"error",{get:function(){return q||k&&k.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"Pvt",{get:function(){return M&&M.vr&&M.vr[360]?vA:R===I?D:C}}),d.defineProperty(y,"videoWidth",{get:function(){return k?k.M_:$&&$.resolution?$.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return k?k.L_:$&&$.resolution?$.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return c&&c.SJ}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&k&&k.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return c?c.Dst(Ft()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=g(t),Ht(c.Cst(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return c&&c.P_||k&&k.P_||1},set:function(t){(t=g(t))>0&&(c?c.P_=t:k&&(k.P_=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return tt&&tt.Ow.qd||null}}),d.defineProperty(y,"audioTracks",{get:function(){return tt&&tt.Cw.qd||null}}),d.defineProperty(y,"xw",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return z}}),d.defineProperty(y,"Kot",{get:function(){return k&&k.Kot}}),d.defineProperty(y,"tht",{get:function(){return k&&k.tht}}),d.defineProperty(y,"nht",{get:function(){return k&&k.nht||"inline"},set:function(t){k&&(k.nht=t)}}),d.defineProperty(y,"Xvt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),d.defineProperty(y,"Gl",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(Go.Ka,function(){y.live&&Ht("start")}),y.addEventListener("playing",en),v=new Zw,_=new wL(y,v),y.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(s=new FC),n=function(t){if("string"==typeof t)try{return HD.We.Cj(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i.Zrt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),y.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.mR,E=N.mR,u=new SM(R.fL),D=I.CR,C=N.CR,ct(),Pt(null)}()};DM.prototype=new FD,DM.prototype.constructor=DM;var CM,OM=((CM={useSwitchOverMSE:!1,ManifestParser:"Wvt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),CM.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Ip&&CM.abrRules.push("AvoidHighBitrateStreamsRule"),Q.me&&CM.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),CM);var xM=function(t){function n(n,i,r){var e;return(e=t.call(this,_d.vl)||this).qvt=n,e.zvt=i,e.Gvt=r,e}return U(n,t),n.prototype.zd=function(){return new PM(this.qvt&&this.qvt.qd)},n}(ld),PM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return U(n,t),n}(Ru),BM=function(t){function n(n,i){var r;return(r=t.call(this,_d.ll)||this).Ul=void 0,r.Gd=void 0,r.Ul=n||[],r.Gd=i,r}return U(n,t),n.prototype.zd=function(){return new LM(this.Ul.map(function(t){return t.qd}))},n}(ld),LM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return U(n,t),n}(Ru),MM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return U(n,t),n}(Ru);function UM(t){return{get bandwidth(){return t.jS},get codecs(){return t.bJ},get id(){return t.xl},get uid(){return t.Pl},get name(){return t.Ll},get averageBandwidth(){return t.jS},get label(){return t.Ll},set label(n){t.Ll=Ld(n)},get height(){return t.yp},get width(){return t.us},get frameRate(){return t.Y$},get firstFrame(){return t.jvt},get available(){return t.lQ},addEventListener:function(n,i){t.Io(n,i)},removeEventListener:function(n,i){t.Oo(n,i)}}}function FM(t){return{get bandwidth(){return t.jS},get codecs(){return t.bJ},get id(){return t.xl},get uid(){return t.Pl},get name(){return t.Ll},get averageBandwidth(){return t.jS},get label(){return t.Ll},set label(n){if(!it(n))throw new f("Unexpected - The provided label is not a string");t.Ll=n},get audioSamplingRate(){return t.Qvt},get available(){return t.lQ},addEventListener:function(n,i){t.Io(n,i)},removeEventListener:function(n,i){t.Oo(n,i)}}}var HM=function(t){function n(n,i){var r;(r=t.call(this)||this).Yvt=void 0,r.Zvt=void 0,r.Ey=void 0,r.ky=void 0,r.Wd=void 0,r.Jvt=void 0,r.J$=void 0,r.$vt=function(){return r.Kvt()},r.tdt=function(){return r.ndt()},r.idt=function(){return r.Ro(new U_(en(r)))},r.Ey=V_(),r.Yvt=n,r.Zvt=i,r.ky=new M_;for(var e=r.Yvt.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.rdt(s);o.Io("update",r.idt),r.ky.rg(o)}return r.Yvt.qualities.addEventListener("activequalitychanged",r.$vt),r.Yvt.qualities.addEventListener("targetqualitychanged",r.tdt),r.Kvt(),r.ndt(),r}U(n,t);var i=n.prototype;return i.edt=function(t){t!==this.Jvt&&(this.Jvt=t,t&&this.Ro(new xM(t)))},i.udt=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&nu(i,r));var i,r},i.sdt=function(t){for(var n=0,i=this.ky.Al;n<i.length;n++){var r=i[n];if(r.odt===t)return r}},i.hdt=function(t){for(var n=[],i=0,r=this.ky.Al;i<r.length;i++){var e=r[i];tu(t,e.odt)&&n.push(e)}return n},i.Kvt=function(){var t=this.Ol?this.Yvt.qualities.activeQuality:void 0,n=t&&this.sdt(t)||void 0;this.edt(n)},i.ndt=function(){var t=this.Yvt.qualities.targetQuality;t?$(t)?this.Fl=this.hdt(t)||void 0:this.Fl=this.hdt([t])||void 0:this.Fl=void 0},i.Iy=function(t){this.Ol=t},i.Nv=function(){this.Yvt.qualities.removeEventListener("activequalitychanged",this.$vt),this.Yvt.qualities.removeEventListener("targetqualitychanged",this.tdt);for(var t=0,n=this.ky.Al;t<n.length;t++){var i=n[t];i.Oo("update",this.idt),i.Nv()}},L(n,[{key:"Cl",get:function(){return this.Jvt}},{key:"Ol",get:function(){return this.Yvt.enabled},set:function(t){t?this.Zvt.enable(this.Yvt):this.Zvt.disable(this.Yvt)}},{key:"qd",get:function(){return this.Wd||(this.Wd=Vd(this)),this.Wd}},{key:"xl",get:function(){return this.Yvt.id+""}},{key:"Pl",get:function(){return this.Ey}},{key:"Bl",get:function(){return this.Yvt.kind}},{key:"Ll",get:function(){var t;return null!=(t=this.Yvt.name)?t:""},set:function(t){t!==this.Ll&&(this.Yvt.name=t,this.Ro(new U_(this)))}},{key:"Ml",get:function(){return this.Yvt.language}},{key:"zl",get:function(){return this.Ol?"enabled":"disabled"}},{key:"Ul",get:function(){return this.ky}},{key:"Fl",get:function(){return this.J$},set:function(t){var n=this,i=this.J$,r=t?t.filter(function(t){return b.Ns.ju(n.Cl,t)}):void 0;r&&0===r.length||this.udt(r,i)||(this.J$=r,this.Yvt.qualities.targetQuality=r?r.map(function(t){return t.odt}):null,this.Ro(new BM(r,this)))}}]),n}(Eu),VM=function(t){function n(n){var i,r;return(r=t.call(this)||this).odt=void 0,r.Wd=void 0,r.WN=function(){return r.Nh()},r.xl=void 0,r.Pl=void 0,r.jS=void 0,r.bJ=void 0,r.XY=void 0,r.odt=n,r.odt.addEventListener("qualityupdated",r.WN),r.xl=String(n.id),r.Pl=n.uid,r.jS=null!=(i=n.bandwidth)?i:NaN,r.bJ=n.codecs,r.XY=n.uri,r}U(n,t);var i=n.prototype;return i.Nh=function(){this.adt()&&this.Ro(new MM(this.qd))},i.adt=function(){var t,n=this.odt,i=n.uid,r=null!=(t=n.bandwidth)?t:NaN,e=n.codecs,u=n.uri,s=this.Pl!==i||!Qt(this.jS,r)||this.bJ!==e||this.XY!==u;return this.Pl=i,this.jS=r,this.bJ=e,this.XY=u,s},i.Nv=function(){this.odt.removeEventListener("qualityupdated",this.WN)},i.wb=function(){},L(n,[{key:"Ll",get:function(){return this.odt.name||""},set:function(t){this.Ll!==t&&(this.odt.name=t,this.Ro(new MM(this.qd)))}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}},{key:"lQ",get:function(){return!0}}]),n}(Eu),XM=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qvt=void 0,i.Qvt=NaN,i}return U(n,t),n.prototype.zd=function(){return FM(this)},n}(VM),WM=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).Y$=void 0,r.us=void 0,r.yp=void 0,r.cdt=void 0,r.Y$=n.frameRate,r.us=n.resolution?n.resolution.width:NaN,r.yp=n.resolution?n.resolution.height:NaN,r.cdt=i,r}U(n,t);var i=n.prototype;return i.adt=function(){var n=t.prototype.adt.call(this),i=this.odt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!Qt(this.Y$,r)||!Qt(this.us,e)||!Qt(this.yp,u),this.Y$=r,this.us=e,this.yp=u,n},i.zd=function(){return UM(this)},L(n,[{key:"jvt",get:function(){return this.cdt},set:function(t){this.cdt!==t&&(this.cdt=t,this.Ro(new MM(this.qd)))}}]),n}(VM),qM=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rdt=function(t){return new XM(t)},n}(HM),zM=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).fdt=void 0,n}U(n,t);var i=n.prototype;return i.rdt=function(t){return new WM(t,this.fdt)},i.vdt=function(t){this.fdt=t;for(var n=0,i=this.Ul.Al;n<i.length;n++){var r=i[n];void 0!==r.jvt&&(r.jvt=t)}},n}(HM),GM=function(t){function n(){return t.call(this,Go.Ka)||this}return U(n,t),n}(Ru),jM=function(t){function n(){return t.call(this,Go.$a)||this}return U(n,t),n}(Ru),QM=function(){function t(t,n){this.Rw=void 0,this.WV=void 0,this.Rw=new Zw,this.WV=new bI(t,n)}var n=t.prototype;return n.Nb=function(t,n,i,r,e,u){var s=new AR(t,n,i,r,e,u);return this.Rw.yl(s),this.WV.yl(s),s},n.Ob=function(t){this.Rw.ml(t),this.WV.ml(t)},n.pl=function(){this.Rw.pl(),this.WV.pl()},n.Nv=function(){this.Rw.Nv(),this.WV.Nv()},L(t,[{key:"xw",get:function(){return this.Rw}}]),t}();function YM(t,n){for(var i=0;i<t.bl;i++){var r=t.wl(i);if(r.Yvt===n)return r}}var ZM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this)._N=void 0,o.LG=void 0,o.ddt=void 0,o.ldt=void 0,o._dt=void 0,o.Ew=void 0,o.Sw=void 0,o.HV=void 0,o.VV=void 0,o.Rw=void 0,o.Eb=void 0,o.$G=void 0,o.KG=void 0,o.gdt=void 0,o.ZS=void 0,o.JS=void 0,o.wdt=NaN,o.ydt=0,o.rR=new zp,o.mdt=function(){o.Ro(new Cl(o.I_))},o.kdt=function(){o.Ro(new Dl(o.I_))},o.pdt=function(){o.Ro(new Vl(o.I_))},o.Adt=function(){o.Ro(new Xl(o.I_))},o.bdt=function(){o.Ro(new Ml(o.I_,o.P_))},o.Tdt=function(){o.Ro(new Wl(o.I_,o.U_))},o.Edt=function(){o.Ro(new AS(o.I_))},o.Sdt=function(){o.Ro(new Fl(o.I_))},o.Rdt=function(){o.Ro(new bS)},o.Idt=function(){o.Ro(new GM)},o.Ndt=function(){o.Ro(new jM)},o.Ddt=function(){o.Cdt(),o._dt.pl(),o.Odt(),o.PR()},o.AL=function(){o.Odt(),o.PR(),o.pR()},o.Cdt=function(){var t=o.wdt,n=o.N_;o.wdt=n,t===n||w(t)&&w(n)||o.Ro(new Ll(n))},o.xdt=function(t){var n=t.error||o.ddt.error;if(n){var i,r=R_.DECODE;n.code===VD.FQ&&mr(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.ZS=new C_(r,n.message,i),o.Ro(new jl(function(t){return new So(P_(t.code),t.message,t)}(o.ZS)))}},o.uR=function(){o.Ro(new Ul(o.I_,o.ey))},o.Pdt=function(){o.M_>0&&o.L_>0&&o.Ro(new py)},o.Bdt=function(){o.Ro(new il)},o.Ldt=function(t){o.Sw.Al.forEach(function(n){return n.vdt(t.ptsOffset)})},o.Mdt=function(t){o.ydt+=t.ly,o.Ro(t)},o.Udt=function(t){return o.Fdt(t.track)},o.Hdt=function(t){return o.Vdt(t.track)},o.Xdt=function(t){var n=YM(o.Ew,t.track);n&&n.Ro(new bd(n))},o.Wdt=function(t){var n=YM(o.Sw,t.track);n&&n.Ro(new bd(n))},o.LG=n,o._N=i,e=function(t){var n,i={};return i=IL(t,i),(i=IL(OM,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Q.ce&&i.allowManualQualitySwitch,i.libraryLocation=Ir(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Y.call(n,t)?n[t]:t}),i}(e),o.ddt=new DM(o.LG,o._N,e,r,u),o.qdt(),o.ldt=new JM(o.ddt),o._dt=new Fp(o.ldt,!0),o._dt.Io(Pl,o.So),o.Ew=new L_,o.Sw=new L_,o.Eb=new QM(en(o),new TI),o.HV=new BI(en(o)),o.HV.Nl=o.ddt.xw,o.VV=new LI(o.Eb,o.HV),o.Rw=new bR([o.ddt.xw,o.VV.np]),o.$G=new $I,o.$G.hW(n),o.KG=new _D(o.$G.uy,o.ddt.dimensions,o.xw,s,o.ddt.Pvt),o.pR(),o}U(n,t);var i=n.prototype;return i.jw=function(){this.ddt.jw(),this.$G.jw()},i.Gw=function(){this.ddt.Gw(),this.$G.Gw()},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.gdt=n,this.ddt.Fw({sources:{src:n.src,type:ol.c_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:_e({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Bw=function(){this.ddt.play()},i.Lw=function(){this.ddt.pause()},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.gdt=void 0,this.ZS=void 0,this.JS=void 0,this.ydt=0,this.ddt.Fw({sources:null}),this._dt.pl(),this.Eb.pl(),this.Odt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hw=function(){return!1},i.Vw=function(){},i.Xw=function(){},i.Qw=function(){return this.ddt.Qw()||void 0},i.Yw=function(){return this.ddt.Pvt},i.ny=function(){},i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pl();case 2:return this.Co(),this._dt.Nv(),this.ldt.Nv(),this.zdt(),t.next=8,this.ddt.vo();case 8:return this.Ew.Nv(),this.Sw.Nv(),this.HV.Nv(),t.next=13,this.VV.Nv();case 13:this.Eb.Nv(),this.Rw.Nv(),this.KG.Nv(),this.$G.Nv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qdt=function(){this.ddt.addEventListener("Bvt",this.Ddt),this.ddt.addEventListener("Uvt",this.AL),this.ddt.addEventListener("durationchange",this.Cdt),this.ddt.addEventListener("error",this.xdt),this.ddt.addEventListener("timeupdate",this.uR),this.ddt.addEventListener("resize",this.Pdt),this.ddt.addEventListener(Go.ja,this.Bdt),this.ddt.addEventListener("Iut",this.Ldt),this.ddt.addEventListener(Go.fc,this.Mdt),this.ddt.addEventListener("play",this.mdt),this.ddt.addEventListener("pause",this.kdt),this.ddt.addEventListener("seeking",this.pdt),this.ddt.addEventListener("seeked",this.Adt),this.ddt.addEventListener("ratechange",this.bdt),this.ddt.addEventListener("volumechange",this.Tdt),this.ddt.addEventListener("progress",this.Edt),this.ddt.addEventListener("ended",this.Sdt),this.ddt.addEventListener("loadstart",this.Rdt),this.ddt.addEventListener(Go.Ka,this.Idt),this.ddt.addEventListener(Go.$a,this.Ndt),this.ddt.addEventListener(Go.ac,this.So)},i.zdt=function(){this.ddt.removeEventListener("Bvt",this.Ddt),this.ddt.removeEventListener("Uvt",this.AL),this.ddt.removeEventListener("durationchange",this.Cdt),this.ddt.removeEventListener("error",this.xdt),this.ddt.removeEventListener("timeupdate",this.uR),this.ddt.removeEventListener("resize",this.Pdt),this.ddt.removeEventListener(Go.ja,this.Bdt),this.ddt.removeEventListener("play",this.mdt),this.ddt.removeEventListener("pause",this.kdt),this.ddt.removeEventListener("seeking",this.pdt),this.ddt.removeEventListener("seeked",this.Adt),this.ddt.removeEventListener("ratechange",this.bdt),this.ddt.removeEventListener("volumechange",this.Tdt),this.ddt.removeEventListener("progress",this.Edt),this.ddt.removeEventListener("ended",this.Sdt),this.ddt.removeEventListener("loadstart",this.Rdt),this.ddt.removeEventListener(Go.Ka,this.Idt),this.ddt.removeEventListener(Go.$a,this.Ndt),this.ddt.removeEventListener(Go.ac,this.So),this.ddt.removeEventListener(Go.fc,this.Mdt)},i.pR=function(){var t=this.ddt.audioTracks,n=this.ddt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Fdt(t.item(i));t.addEventListener("addtrack",this.Udt),t.addEventListener("enabledtrack",this.Xdt),t.addEventListener("disabledtrack",this.Xdt)}if(n){for(var r=0;r<n.length;r++)this.Vdt(n.item(r));n.addEventListener("addtrack",this.Hdt),n.addEventListener("enabledtrack",this.Wdt),n.addEventListener("disabledtrack",this.Wdt)}},i.PR=function(){var t=this.ddt.audioTracks,n=this.ddt.videoTracks;t&&(t.removeEventListener("addtrack",this.Udt),t.removeEventListener("enabledtrack",this.Xdt),t.removeEventListener("disabledtrack",this.Xdt)),n&&(n.removeEventListener("addtrack",this.Hdt),n.removeEventListener("enabledtrack",this.Wdt),n.removeEventListener("disabledtrack",this.Wdt))},i.Odt=function(){for(var t=0,n=this.Ew.Al;t<n.length;t++){n[t].Nv()}for(var i=0,r=this.Sw.Al;i<r.length;i++){r[i].Nv()}this.Ew.pl(),this.Sw.pl()},i.Fdt=function(t){YM(this.Ew,t)||this.Ew.yl(new qM(t,this.ddt.audioTracks))},i.Vdt=function(t){YM(this.Sw,t)||this.Sw.yl(new zM(t,this.ddt.videoTracks))},L(n,[{key:"Cw",get:function(){return this.Ew}},{key:"iy",get:function(){return this.ddt.buffered}},{key:"ey",get:function(){var t;return null!=(t=this.ddt.currentProgramDateTime)?t:void 0},set:function(t){this.ddt.currentProgramDateTime=null!=t?t:null}},{key:"I_",get:function(){var t=this.ddt.currentTime;return t===1/0&&w(this.ddt.duration)&&(t=0),t},set:function(t){this.ddt.currentTime=t}},{key:"N_",get:function(){var t=this.ddt.duration;return t<0?1/0:t}},{key:"D_",get:function(){return this.ddt.ended}},{key:"Xo",get:function(){return this.ZS}},{key:"C_",get:function(){return this.JS}},{key:"Pw",get:function(){}},{key:"sy",get:function(){return!1}},{key:"mw",get:function(){return _e({},this.ddt.mw(),{ly:this.ydt})}},{key:"O_",get:function(){return this.ddt.muted},set:function(t){this.ddt.muted=t}},{key:"gy",get:function(){return this.ddt.online}},{key:"x_",get:function(){return this.ddt.paused}},{key:"P_",get:function(){return this.ddt.playbackRate},set:function(t){this.ddt.playbackRate=t}},{key:"wy",get:function(){return this.ddt.played}},{key:"yy",get:function(){return this.ddt.preload||nA.hI},set:function(t){this.ddt.preload=t}},{key:"Gl",get:function(){return this.ddt.Gl}},{key:"my",get:function(){return this.ddt.seekable}},{key:"B_",get:function(){return this.ddt.seeking}},{key:"XR",get:function(){}},{key:"xw",get:function(){return this.Rw}},{key:"Ow",get:function(){return this.Sw}},{key:"L_",get:function(){return this.ddt.videoHeight}},{key:"M_",get:function(){return this.ddt.videoWidth}},{key:"U_",get:function(){return this.ddt.volume},set:function(t){this.ddt.volume=t}},{key:"WR",get:function(){return this.rR}}]),n}(tl),JM=function(t){function n(n){var i;return(i=t.call(this)||this).ddt=void 0,i.Gdt=function(){i.Ro(new Gl(i.I_,i.ddt.Gl))},i.jdt=function(){i.Ro(new Up(i.I_))},i.mdt=function(){i.Ro(new Cl(i.I_))},i.kdt=function(){i.Ro(new Dl(i.I_))},i.ddt=n,i.ddt.addEventListener(Il.ol,i.Gdt),i.ddt.addEventListener(Il.R_,i.jdt),i.ddt.addEventListener(Go.nc,i.mdt),i.ddt.addEventListener(Go.tc,i.kdt),i}return U(n,t),n.prototype.Nv=function(){this.Co(),this.ddt.removeEventListener(Il.ol,this.Gdt),this.ddt.removeEventListener(Il.R_,this.jdt),this.ddt.removeEventListener(Go.nc,this.mdt),this.ddt.removeEventListener(Go.tc,this.kdt)},L(n,[{key:"I_",get:function(){var t=this.ddt.currentTime;return t===1/0&&w(this.ddt.duration)&&(t=0),t}},{key:"D_",get:function(){return this.ddt.ended}},{key:"Xo",get:function(){return this.ddt.error||void 0}},{key:"x_",get:function(){return this.ddt.paused}}]),n}(Eu);function $M(t,n){return KM.apply(this,arguments)}function KM(){return(KM=T.coroutine(le.mark(function t(n,i,r,e,u){var s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),cu(t.t0),!(s<r)){t.next=20;break}return o=l.min(e*l.pow(2,s),u),s++,t.next=19,ku(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Kp(new(function(){function t(){this.qR=Vp.c_}var n=t.prototype;return n.jb=function(t,n,i,r,e,u){return new ZM(t,n,i,r,e,u)},n.zR=function(n,i){if((Q.we||Q.Fe)&&!i.manifestMetadataTrack)return!1;if(!gl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!nm(r)&&!t.Qdt(r))&&!!function(t){return NM(t,{})!==AM.QQ}(n)},t.Qdt=function(t){return!!t.aes128},n.GR=function(){return!0},t}()));var tU,nU=function(t){function n(){return t.call(this,"Ydt")||this}return U(n,t),n}(Ru),iU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zdt=void 0,e.Jdt=void 0,e.$dt=void 0,e.gdt=void 0,e.Kdt=void 0,e.Sb=void 0,e.Wi=void 0,e.tlt=void 0,e.nlt=function(){e.Ro(new nU)},e.gdt=n,e.Kdt=_e({},i,{crossOrigin:e.gdt.crossOrigin,withCredentials:e.gdt.useCredentials,liveOffset:e.gdt.liveOffset,hlsDateRange:e.gdt.hlsDateRange}),e.Sb=r,e.Jdt=[],e.Wi=!1,e}U(n,t);var i=n.prototype;return i.ilt=function(){if(this.$dt)return this.$dt.yw},i.pI=function(t){var n=this;wu($M(function(){return n.PK()},t))},i.PK=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rlt();case 2:if((n=t.sent).isMasterPlaylist)for(this.Zdt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new eB(this.Sb,this.Kdt),this.Jdt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new eB(this.Sb,this.Kdt),this.Jdt.push({stream:{uri:n.uri},updater:s});this.tlt&&(this.elt(this.tlt.width,this.tlt.height),this.tlt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ult=function(t,n){this.Wi?this.elt(t,n):this.tlt={width:t,height:n}},i.elt=function(t,n){this.slt();var i=this.olt(t,n);i&&(this.$dt=i.updater,this.$dt.addEventListener("G8",this.nlt),i.updater.pI(i.stream.uri))},i.slt=function(){this.$dt&&(this.$dt.Mw(),this.$dt.removeEventListener("G8",this.nlt),this.$dt=void 0)},i.olt=function(t,n){return 1===this.Jdt.length?this.Jdt[0]:Ze(this.Jdt,function(i){return i.stream.width===t&&i.stream.height===n})},i.rlt=function(){var t=T.coroutine(le.mark(function t(){var n,i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new rB(this.Kdt,KC.We.KK,this.Sb),t.next=3,n.Rh(this.gdt.src,{});case 3:return i=t.sent,t.abrupt("return",i.yw);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nv=function(){this.slt();for(var t=0,n=this.Jdt;t<n.length;t++){n[t].updater.Nv()}iu(this.Jdt)},n}(Eu),rU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).hlt=void 0,e.clt=void 0,e.pB=void 0,e.flt=!1,e.zJ=void 0,e.WV=void 0,e.handleManifestUpdate=function(){var t=e.hlt.ilt();if(t){var n=e.XR;if(n){var i=n.getTime(),r=e.zJ;r||(r=new sC,e.zJ=r),r.Nh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.flt&&r.jl.bl>0&&(e.xw.yl(r),e.WV.yl(r),e.flt=!0)}}},e.Pdt=function(){e.hlt&&e.hlt.ult(e.M_,e.L_)},e.clt=i,e.pB=r,e.WV=new SI(en(e)),e.Io(Go.uc,e.Pdt),e}U(n,t);var i=n.prototype;return i.Fw=function(){var n=T.coroutine(le.mark(function n(i,r,e){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Fw.call(this,i,r,e);case 2:i.hlsDateRange&&this.vlt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.vlt=function(t,n,i){this.hlt&&(this.hlt.Oo("Ydt",this.handleManifestUpdate),this.hlt.Nv()),this.hlt=new iU(t,n,this.clt),this.hlt.Io("Ydt",this.handleManifestUpdate),this.hlt.pI(i)},i.pl=function(){return this.zJ&&(this.xw.ml(this.zJ),this.WV.ml(this.zJ),this.zJ.Nv(),this.zJ=void 0,this.flt=!1),this.WV.pl(),t.prototype.pl.call(this)},i.Nv=function(){return this.Oo(Go.uc,this.Pdt),this.hlt&&(this.hlt.Oo("Ydt",this.handleManifestUpdate),this.hlt.Nv()),this.WV.Nv(),t.prototype.Nv.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).dlt=void 0,i.dlt=n,i.dlt.Do(i.So),i}U(n,t);var i=n.prototype;return i.Hw=function(){return this.dlt.Hw()},i.Yw=function(){return this.dlt.Yw()},i.Qw=function(){return this.dlt.Qw()},i.jw=function(){return this.dlt.jw()},i.ny=function(){return this.dlt.ny()},i.Lw=function(){return this.dlt.Lw()},i.Bw=function(){return this.dlt.Bw()},i.pl=function(){return this.dlt.pl()},i.Fw=function(t,n,i){return this.dlt.Fw(t,n,i)},i.Gw=function(){return this.dlt.Gw()},i.Vw=function(){return this.dlt.Vw()},i.Xw=function(){return this.dlt.Xw()},i.Nv=function(){return this.Co(),this.dlt.Nv()},L(n,[{key:"Cw",get:function(){return this.dlt.Cw}},{key:"iy",get:function(){return this.dlt.iy}},{key:"ey",get:function(){return this.dlt.ey},set:function(t){this.dlt.ey=t}},{key:"I_",get:function(){return this.dlt.I_},set:function(t){this.dlt.I_=t}},{key:"N_",get:function(){return this.dlt.N_}},{key:"D_",get:function(){return this.dlt.D_}},{key:"C_",get:function(){return this.dlt.C_}},{key:"Pw",get:function(){return this.dlt.Pw}},{key:"Xo",get:function(){return this.dlt.Xo}},{key:"sy",get:function(){return this.dlt.sy}},{key:"mw",get:function(){return this.dlt.mw}},{key:"O_",get:function(){return this.dlt.O_},set:function(t){this.dlt.O_=t}},{key:"gy",get:function(){return this.dlt.gy}},{key:"x_",get:function(){return this.dlt.x_}},{key:"P_",get:function(){return this.dlt.P_},set:function(t){this.dlt.P_=t}},{key:"wy",get:function(){return this.dlt.wy}},{key:"yy",get:function(){return this.dlt.yy},set:function(t){this.dlt.yy=t}},{key:"Gl",get:function(){return this.dlt.Gl}},{key:"my",get:function(){return this.dlt.my}},{key:"B_",get:function(){return this.dlt.B_}},{key:"XR",get:function(){return this.dlt.XR}},{key:"xw",get:function(){return this.dlt.xw}},{key:"L_",get:function(){return this.dlt.L_}},{key:"Ow",get:function(){return this.dlt.Ow}},{key:"M_",get:function(){return this.dlt.M_}},{key:"U_",get:function(){return this.dlt.U_},set:function(t){this.dlt.U_=t}},{key:"WR",get:function(){return this.dlt.WR}}]),n}(tl));tU=function(t,n,i){return new rU(t,n,i)},Jp.YR().ZR(tU);var eU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return U(n,t),n}(Ru);var uU=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).llt=void 0,u.Wd=void 0,u._lt=void 0,u.glt=void 0,u.wlt=void 0,u.fI=void 0,u.ylt=void 0,u.Vx=void 0,u.xc=qA.UNAVAILABLE,u.mlt=new su,u.klt=function(){var t,n=null==(t=u.Vx.Uw())?void 0:t.sources.filter(Rl);null!=n&&n.some(Qp)?u.plt(qA.AVAILABLE):u.plt(qA.UNAVAILABLE)},u.handleAirplayChangedEvent=function(){u.fI&&u.fI.sy?u.Alt():u.f2===qA.CONNECTED&&u.blt()},u.handleAirplayPlayerTimeUpdate=function(t){u._lt=t.currentTime,u.glt=u.Vx.ey},u.wlt=n,u.Vx=i,u.llt=e,u.llt.jw(),u.Vx.Dw(e),u.Tlt(),u.wlt.Io("sourcechange",u.klt),b.Ns.Ju&&u.plt(qA.AVAILABLE),u}U(n,t);var i=n.prototype;return i.Tlt=function(){this.fI&&this.fI.Oo(Go.La,this.handleAirplayChangedEvent),this.Elt?this.fI=this.Vx:this.fI=this.llt,this.fI.Io(Go.La,this.handleAirplayChangedEvent)},i.Alt=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fI){t.next=2;break}return t.abrupt("return");case 2:if(this.Elt){t.next=24;break}return this._lt=this.Vx.I_,this.glt=this.Vx.ey,this.llt.Io("timeupdate",this.handleAirplayPlayerTimeUpdate),this.ylt=this.Vx.Nl,this.Vx.Nl=this.llt,this.ylt.Lw(),this.ylt.jw(),this.llt.Gw(),this.llt.O_=this.ylt.O_,this.llt.P_=this.ylt.P_,this.llt.U_=this.ylt.U_,n=this.llt.Lo("seeked"),this.llt.I_=this.ylt.I_,t.next=18,n;case 18:this.llt.Bw(),this.llt.O_=this.ylt.O_,this.llt.P_=this.ylt.P_,this.llt.U_=this.ylt.U_,t.next=28;break;case 24:if(this.fI.x_){t.next=27;break}return t.next=27,this.fI.Lo(Go.tc,this.mlt.Ao);case 27:this.fI.Bw();case 28:this.plt(qA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.blt=function(){this.ylt?(this.llt.Oo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.ylt.O_=this.llt.O_,this.ylt.P_=this.llt.P_,this.ylt.U_=this.llt.U_,Q.Oe&&!Q.we&&this.Vx.N_===1/0?this.glt?this.ylt.ey=this.glt:this.ylt.I_=1/0:this.ylt.I_=this._lt,this.glt=void 0,this._lt=void 0,this.ylt.Gw(),this.llt.jw(),this.llt.x_||this.ylt.Bw(),this.Vx.Nl=this.ylt,this.llt.pl(),this.ylt=void 0):this.fI&&(this.fI.I_=this.fI.I_+1e-4);this.plt(qA.AVAILABLE)},i.preloadPlayer=function(t){if(au(t),this.fI.Gl<cl.y_){var n=this.fI.Lo("loadedmetadata",t);return this.fI.yy=nA.fk,n}return T.resolve()},i.plt=function(t){t!==this.xc&&(this.xc=t,this.Ro(new eU(this.xc)))},i.Vw=function(){b.Ns.Ju&&(this.wlt.Ww(),this.mlt.mo(),this.mlt=new su,this.Elt?wu(this.Slt(this.mlt.Ao)):wu(this.Rlt(this.mlt.Ao)))},i.Slt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.Vx.Vw();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Rlt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.llt.pl();case 3:return t.next=5,this.llt.Fw(this.Vx.Uw(),n);case 5:return i=this.llt.Lo("playing",n),this.llt.Bw(),t.next=9,pu(i,3e3);case 9:this.llt.Lw(),au(n),this.llt.Vw(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!hu(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Xw=function(){b.Ns.Ju&&this.fI.Xw()},i.Nv=function(){var t;this.Co(),this.wlt.Oo("sourcechange",this.klt),this.Vx.$w(this.llt),this.mlt.mo(),null==(t=this.llt)||t.Nv()},L(n,[{key:"dB",get:function(){return this.f2===qA.CONNECTED}},{key:"Elt",get:function(){return this.Vx.Hw()}},{key:"f2",get:function(){return this.xc}},{key:"qd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{get casting(){return t.dB},get state(){return t.f2},start:function(){t.Vw()},stop:function(){t.Xw()},addEventListener:function(n,i){n=Md(n,Ld),t.Io(n,i)},removeEventListener:function(n,i){n=Md(n,Ld),t.Oo(n,i)}})),this.Wd}}]),n}(tl);jE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.zd=function(){var n=this.cL.qd;return Id(t.prototype.zd.call(this),{get cast(){return n}})},n}(t)},FE.lL);var sU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).sI=void 0,o.Ilt=void 0,o.Nlt=void 0,o.vI=void 0,o.gdt=void 0,o.Ew=new Gd,o.Sw=new Gd,o.Rw=new Kd,o.sI=n,o.Ilt=new Nr(u,s,1,[B_.kv]),o.Ilt.kN(n),o.Nlt=new jp(n,o.Ilt,i,r,e),o.Nlt.Do(o.So),o.Ew.Nl=o.Nlt.Cw,o.Sw.Nl=o.Nlt.Ow,o.Rw.Nl=o.Nlt.xw,o}U(n,t);var i=n.prototype;return i.Hw=function(){return this.Nlt.Hw()},i.Vw=function(){this.Nlt.Vw()},i.Xw=function(){this.Nlt.Xw()},i.Bw=function(){wu(this.Nlt.Bw())},i.Lw=function(){this.Nlt.Lw()},i.Mw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Uw=function(){return this.gdt},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),this.gdt=n,!Al(n.sources)){t.next=6;break}r=hb({src:""}),t.next=16;break;case 6:e=n.sources.filter(Rl),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!Qp(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new f("Unsupported source.");case 18:return t.next=20,this.Nlt.Fw(r,n,i);case 20:this.yI(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.yI=function(t){this.vI!==t&&(this.vI=t,this.Ro(new rl(t)))},i.Qw=function(){},i.Dlt=function(){},i.Zw=function(){return[]},i.Ww=function(){this.Ilt.pN()},i.qw=function(t){Jl(this,t)},i.zw=function(){},i.Jw=function(t){return!1},i.ny=function(){},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vI=void 0,this.gdt=void 0,t.next=4,this.Nlt.pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gw=function(){this.Nlt.Gw()},i.jw=function(){this.Nlt.jw()},i.Yw=function(){return this.Nlt.Yw()},i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Co(),this.Ilt.Nv(),t.next=4,this.Nlt.Nv();case 4:this.Ew.Nv(),this.Sw.Nv(),this.Rw.Nv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Cw",get:function(){return this.Nlt.Cw}},{key:"iy",get:function(){return this.Nlt.iy}},{key:"ty",get:function(){return this.vI}},{key:"I_",get:function(){return this.Nlt.I_},set:function(t){this.Nlt.I_=t}},{key:"ey",get:function(){return this.Nlt.ey}},{key:"N_",get:function(){return this.Nlt.N_}},{key:"uy",get:function(){return this.sI}},{key:"D_",get:function(){return this.Nlt.D_}},{key:"Xo",get:function(){return this.Nlt.Xo}},{key:"sy",get:function(){return this.Nlt.sy}},{key:"mw",get:function(){return{oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"O_",get:function(){return this.Nlt.O_},set:function(t){this.Nlt.O_=t}},{key:"gy",get:function(){return this.Nlt.gy}},{key:"x_",get:function(){return this.Nlt.x_}},{key:"P_",get:function(){return this.Nlt.P_},set:function(t){this.Nlt.P_=t}},{key:"wy",get:function(){return this.Nlt.wy}},{key:"yy",get:function(){return this.Nlt.yy},set:function(t){this.Nlt.yy=t}},{key:"Gl",get:function(){return this.Nlt.Gl}},{key:"my",get:function(){return this.Nlt.my}},{key:"B_",get:function(){return this.Nlt.B_}},{key:"xw",get:function(){return this.Nlt.xw}},{key:"L_",get:function(){return this.Nlt.L_}},{key:"M_",get:function(){return this.Nlt.M_}},{key:"Ow",get:function(){return this.Nlt.Ow}},{key:"U_",get:function(){return this.Nlt.U_},set:function(t){this.Nlt.U_=t}}]),n}(tl);jE(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Clt=void 0;var e=new sU(r.sB.uy,r.Ud,r.iA,r.hL,r.QB,r.dL);return r.Clt=new uU(en(r),r.sB,r.Ud,e),r.cL.vB(r.Clt),r.Io("currentsourcechange",function(){r.Clt.Tlt()}),r}U(n,t);var i=n.prototype;return i.zd=function(){var n=this,i=t.prototype.zd.call(this);return Id(i.cast,{get airplay(){return n.Clt.qd}}),i},i.Nv=function(){this.Clt.Nv(),t.prototype.Nv.call(this)},n}(t)},FE.lL);var oU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},hU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),aU=A(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function cU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function fU(t){return JSON.stringify(t,aU.getSerialize(cU))}var vU,dU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),lU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),_U=A(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),gU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=dU.isS,r=dU.isChar,e=dU.isNameStartChar,u=dU.isNameChar,s=dU.S_LIST,o=dU.NAME_RE,h=lU.isChar,a=_U.isNCNameStartChar,c=_U.isNCNameChar,v=_U.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:l,xmlns:g},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,D=9,C=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,st=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,Et,bt],Ot=[...Dt,pt,St],xt=[At,Tt,...s],Pt=[...s,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>v.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Bt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.ga}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.ga=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,u=e?dt:r;if(u===m||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!u(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new f("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=st:i(t)?this.state=ut:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new f("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.ga=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?g:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),wU=function(){function t(){}return t.prototype.Je=function(t){var n=new gU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new TU,r=[i];function e(t){r[r.length-1].vu(t)}return n.on("text",function(t){r.length>1&&e(new AU(t))}),n.on("cdata",function(t){e(new bU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new kU({nu:n,ru:""===i?void 0:i,Olt:""===u?void 0:u}),o=t.attributes,h=0,a=d.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,l=c.uri,_=c.value,g=new yU({nu:v,uu:_,ru:""===l?void 0:l,Olt:""===f?void 0:f});s.xlt(g)}e(s),r.push(s)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new on(t)}),n.write(t).close(),i},t}(),yU=function(){function t(t){this.Plt=void 0,this.Blt=void 0,this.Llt=void 0,this.xn=void 0,this.Plt=t.nu,this.xn=t.uu,this.Blt=t.ru,this.Llt=t.Olt}var n=t.prototype;return n.Ke=function(t){return this===t||!!SU(this,t)&&(this.Plt===t.Plt&&this.Blt===t.Blt&&this.Llt===t.Llt&&this.xn===t.xn)},n.tu=function(){return new t({nu:this.nu,uu:this.uu,ru:this.ru,Olt:this.eu})},L(t,[{key:"ze",get:function(){return $t.Qe}},{key:"nu",get:function(){return this.Plt}},{key:"iu",get:function(){return void 0===this.Llt?this.Plt:this.Llt+":"+this.Plt}},{key:"ru",get:function(){return this.Blt}},{key:"eu",get:function(){return this.Llt}},{key:"uu",get:function(){return this.xn}}]),t}(),mU=function(){function t(){this.ou=[]}var n=t.prototype;return n.hu=function(t){return this.ou.filter(function(n){return EU(n)&&n.cu===t})},n.fu=function(t,n){return this.ou.filter(function(i){return EU(i)&&i.nu===n&&i.ru===t})},n.vu=function(t){this.ou.push(t)},L(t,[{key:"au",get:function(){return this.ou}},{key:"lu",get:function(){return this.ou.filter(EU)}}]),t}(),kU=function(t){function n(n){var i;return(i=t.call(this)||this).Plt=void 0,i.Blt=void 0,i.Llt=void 0,i.Mlt=[],i.Plt=n.nu,i.Blt=n.ru,i.Llt=n.Olt,i}U(n,t);var i=n.prototype;return i.Ult=function(t){for(var n=0,i=this.au;n<i.length;n++){var r=i[n];EU(r)?r.Ult(t):t.push(r.bu)}},i.gu=function(t,n){for(var i=0,r=this.Mlt;i<r.length;i++){var e=r[i];if(e.nu===n&&e.ru===t)return e.uu}},i._u=function(t){for(var n=0,i=this.Mlt;n<i.length;n++){var r=i[n];if(r.iu===t)return r.uu}},i.xlt=function(t){this.Mlt.push(t)},i.wu=function(t){for(var n=0;n<this.Mlt.length;n++)if(this.Mlt[n].iu===t)return void this.Mlt.splice(n,1)},i.yu=function(t,n){for(var i=0;i<this.Mlt.length;i++)if(this.Mlt[i].nu===n&&this.Mlt[i].ru===t)return void this.Mlt.splice(i,1)},i.mu=function(t,n){this.wu(t),this.xlt(new yU({nu:t,uu:n}))},i.ku=function(t,n,i){this.wu(n);var r=n.split(":");this.xlt(new yU({nu:r[r.length-1],uu:i,ru:t,Olt:r.length>1?r[0]:void 0}))},i.tu=function(t){var i=new n({nu:this.nu,ru:this.ru,Olt:this.eu});return this.pu.forEach(function(t){return i.xlt(t.tu())}),t&&this.au.forEach(function(n){return i.vu(n.tu(t))}),i},i.Ke=function(t){return this===t||!!SU(this,t)&&(this.Plt===t.Plt&&this.Llt===t.Llt&&this.Blt===t.Blt&&(RU(this.pu,t.pu)&&RU(this.au,t.au)))},L(n,[{key:"ze",get:function(){return $t.Ge}},{key:"pu",get:function(){return this.Mlt}},{key:"nu",get:function(){return this.Plt}},{key:"ru",get:function(){return this.Blt}},{key:"eu",get:function(){return this.Llt}},{key:"cu",get:function(){return void 0===this.Llt?this.Plt:this.Llt+":"+this.Plt}},{key:"Au",get:function(){var t=[];return this.Ult(t),t.join("")}}]),n}(mU),pU=function(){function t(t){this.nr=void 0,this.nr=t}return L(t,[{key:"bu",get:function(){return this.nr}}]),t}(),AU=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.tu=function(){return new n(this.bu)},i.Ke=function(t){return this===t||!!SU(this,t)&&this.bu===t.bu},L(n,[{key:"ze",get:function(){return $t.je}}]),n}(pU),bU=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.tu=function(){return new n(this.bu)},i.Ke=function(t){return this===t||!!SU(this,t)&&this.bu===t.bu},L(n,[{key:"ze",get:function(){return $t.Ye}}]),n}(pU),TU=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.tu=function(t){var i=new n;return t&&this.au.forEach(function(n){return i.vu(n.tu(t))}),i},i.Ke=function(t){return this===t||!!SU(this,t)&&RU(this.au,t.au)},L(n,[{key:"ze",get:function(){return $t.Ze}},{key:"Tu",get:function(){return this.lu[0]}}]),n}(mU);function EU(t){return nn(t)}function SU(t,n){return t.ze===n.ze}function RU(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Ke(n[i]))return!1;return!0}function IU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:_e({},t,{adBreak:_e({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Ey(t,["adBreak"])})})})}function NU(t){return void 0===t.ads?t:_e({},t,{ads:t.ads.map(function(t){t.adBreak;return Ey(t,["adBreak"])})})}function DU(t){return"string"==typeof t.date?new Date(t.date):t.date}function CU(t){var n;return t.cue.track?(n=xU(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=xU(t.cue,""),n}function OU(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function xU(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new wU).Je(r.firstChild.outerHTML).Tu.pu.forEach(function(t){e[t.nu]=t.uu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var h=PU(o);u[s]={type:vU.Flt,value:h}}else LU(o)?u[s]={type:vU.Hlt,value:o}:u[s]={type:vU.KW,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=PU(t.scte35Cmd),i.scte35Out=PU(t.scte35Out),i.scte35In=PU(t.scte35In),i.customAttributes=u}var a}(),i}function PU(t){if(void 0!==t)return qu(t)}function BU(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(xU(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(xU(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function LU(t){return"number"==typeof t}!function(t){t.KW="daterange-ca-type_string",t.Hlt="daterange-ca-type_number",t.Flt="daterange-ca-type_arraybuffer"}(vU||(vU={}));var MU={cue:function(t){var n={};switch(n.date=DU(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=CU(t)}return n},textTrack:function(t){var n={};switch(n.date=DU(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=VU().register(t.cue));var i=HU()[XU()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=CU(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(xU(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=DU(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=VU().register(t)}),n.track=BU(t.track);case"removetrack":case"change":n.track=BU(t.track)}return n},default:function(t){var n={};switch(n.date=DU(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=_e({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=BU(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=NU(t.ad);break;case"adloaded":case"adimpression":n.ad=IU(t.ad);break;case"aderror":t.Vlt&&(n.Vlt=t.Vlt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=IU(t.ad)}return OU(n)},minimizeCueHelper:function(t){var n={};return n.date=DU(t),n.type=t.type,n.cue=CU(t),n.track={uid:t.cue.track.uid},n},adReplacer:IU,adBreakReplacer:NU,removeCircularReferences:OU},UU=function(){this.stringify=fU,this.minimize=MU};function FU(){return Or.self}function HU(){return FU().THEOplayerBridge}function VU(){return FU().THEOCueMirrorMap}function XU(){return FU().THEOplayerGlobalID}function WU(){var t=FU();if(t.THEOplayerBridge){var n=new oU;t.THEOplayerBridge=Id(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new oU;t.THEOplayerUtils||(t.THEOplayerUtils=new UU),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new hU)}WU();var qU,zU=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return U(n,t),n}(Ru),GU=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ro(new zU(t,n))},i.addEventListener=function(t,n){this.Io(t,n)},i.removeEventListener=function(t,n){this.Oo(t,n)},n}(nl),jU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xlt=void 0,r.Wlt=void 0,r.qlt=function(t){r.Xlt.fj("THEOplayerABRSetTargetBuffer",t.Qx),r.Ro(t)},r.zlt=function(t){r.Xlt.fj("THEOplayerABRSetStrategy",t.Zx),r.Ro(t)},r.Xlt=n,r.Wlt=i,r.Wlt.Io("Yx",r.qlt),r.Wlt.Io("Jx",r.zlt),r}return U(n,t),L(n,[{key:"uP",get:function(){var t;switch(this.Zx.type){case ZT.PERFORMANCE:return 1;case ZT.QUALITY:return 0;case ZT.BANDWIDTH:return null!=(t=this.Zx.metadata)&&t.bitrate&&!w(this.Zx.metadata.bitrate)?this.Zx.metadata.bitrate:0;default:return 0}}},{key:"qd",get:function(){return this.Wlt.qd}},{key:"Zx",get:function(){return this.Wlt.Zx},set:function(t){this.Wlt.Zx=t}},{key:"Qx",get:function(){return this.Wlt.Qx},set:function(t){this.Wlt.Qx=t}},{key:"$x",get:function(){return this.Wlt.$x},set:function(t){this.Wlt.$x=t}}]),n}(Eu),QU=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rS=function(t,n,i,r){return!0},n}(fp),YU=function(){function t(t,n,i){this.ha=void 0,this.io=void 0,this.ka=void 0,this.Bh=void 0,this.ha=t,this.io=i,this.ka=n}var n=t.prototype;return n.Ob=function(t){throw new f("Not implemented yet.")},n.hS=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.io.uo(n.Zs,i);case 2:return r=t.sent,t.next=5,r.Xh();case 5:return e=t.sent,t.next=8,this.KL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.vo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.KL=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.nM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nM=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Bh)){t.next=5;break}return t.next=4,i.Fh(this.ka);case 4:this.Bh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Uh(this.ka);case 8:this.Bh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Nb=function(t,n,i){throw new f("Not implemented yet.")},L(t,[{key:"iA",get:function(){return this.ha}},{key:"yy",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"my",get:function(){return new aA([0,1/0])}},{key:"xw",get:function(){throw new f("Not implemented yet.")}},{key:"Glt",get:function(){throw new f("Not implemented yet")}},{key:"Ow",get:function(){throw new f("Not implemented yet.")}},{key:"jlt",get:function(){throw new f("Not implemented yet")}},{key:"Qlt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.Ylt="webkitneedkey",t.Zlt="webkitkeymessage",t.Jlt="webkitkeyerror"}(qU||(qU={}));var ZU=function(t){function n(n,i){var r;return(r=t.call(this,qU.Ylt)||this).initData=n,r.sessionId=i,r}return U(n,t),n}(Ru),JU=function(t){function n(n,i){var r;return(r=t.call(this,qU.Zlt)||this).message=n,r.destinationURL=i,r}return U(n,t),n}(Ru),$U=function(t){function n(){return t.call(this,qU.Jlt)||this}return U(n,t),n}(Ru),KU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Yh=new Qs,s.aa=void 0,s.$h=new Lu,s.fa=new Qs,s.$lt=function(t){s.aa?(s.aa.vh(void 0),s.aa=void 0):s.ra("internal-error"),s.Ro(new Ou)},s.Klt=function(t){s.aa&&(s.aa.fh(void 0),s.aa=void 0),s.Ro(new Cu(en(s),"license-request",zs(t.message).buffer,t.destinationURL||void 0))},s.ua=n,s.Ah=i,s.t_t=r,s.ya=e,s.da=u,s}U(n,t);var i=n.prototype;return i.Sh=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.la){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.n_t(Ws(i),e);case 5:this.ra("usable"),this.fa.fh(),this.fa=new Qs;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Rh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Nh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Ws(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.aa=new Qs,this.t_t.Nh(this.ya,i),t.next=7,this.aa.ah;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Eh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fa;case 2:return this.t_t.Oo(qU.Zlt,this.Klt),this.t_t.Oo(qU.Jlt,this.$lt),this.fa.mo(),this.Yh.fh(void 0),t.abrupt("return",this.Yh.ah);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ih=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.n_t=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Eo(n,i,this.da),this.t_t.Io(qU.Zlt,this.Klt),this.t_t.Io(qU.Jlt,this.$lt),this.t_t.MT(this.ya,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ra=function(t){this.$h.Ko(),this.$h.$o(Bu,t),this.Ro(new Du(this))},L(n,[{key:"Ph",get:function(){return this.ya}},{key:"Oh",get:function(){return NaN}},{key:"Ch",get:function(){return this.Yh.ah}},{key:"xh",get:function(){return this.$h}}]),n}(Eu),tF=function(){function t(t,n,i){this.i_t=void 0,this.ya=void 0,this.da=void 0,this.t_t=void 0,this.Ah=n,this.ua=i,this.t_t=t}var i=t.prototype;return i.Lh=function(){var t=T.coroutine(le.mark(function t(i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.da){t.next=2;break}throw new So(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new KU(this.ua,this.Ah,this.t_t,this.ya,this.da),this.i_t=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Mh=function(t){return this.da=Ws(t),T.resolve(!0)},i.Uh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},L(t,[{key:"keySystem",get:function(){return this.Ah}},{key:"sessionId",set:function(t){this.ya=t}}]),t}(),nF=function(){function t(t,n,i){this.ua=void 0,this.r_t=t,this.Ah=n,this.ha=i;var r=vo(i)||"video/mp4";this.ua=ao(r)}var n=t.prototype;return n.Wh=function(){return this.ha},n.Xh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new tF(this.r_t,this.Ah,this.ua));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"qh",get:function(){return this.Ah}}]),t}(),iF=function(){function t(t){this.r_t=void 0,this.r_t=t}return t.prototype.uo=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=co(rF,Nu,n,e))){t.next=6;break}return t.abrupt("return",new nF(this.r_t,n,u));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function rF(t,n){return t===Be}var eF,uF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new iF(i)),(e=t.call(this)||this).JE=void 0,e.io=void 0,e.xV=new Ay,e.e_t=void 0,e.r_t=void 0,e.u_t=!1,e.ya=void 0,e.va=null,e.s_t={oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.o_t=function(t){"boolean"==typeof t.detail.casting&&(e.u_t=t.detail.casting,e.Ro(new $_(e.u_t)))},e.h_t=function(t){e.ya=t.sessionId,e.va&&(e.va.sessionId=e.ya);var n=t.initData;if(n){var i=GI(n);if(!i)return;e.Ro(new xu(Ie,i))}else e.Ro(new xu(Ie,new ArrayBuffer(0)))},e.e_t=n,e.r_t=i,e.r_t.Io(qU.Ylt,e.h_t),e.io=r,e.a_t(),e}U(n,t);var i=n.prototype;return i.eM=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).Ys!==cp.vS){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.vo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pl();case 2:this.Co(),this.c_t(),this.r_t.Oo(qU.Ylt,this.h_t);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jw=function(){throw new f("Not implemented yet")},i.Nb=function(t,n,i,r,e,u,s){throw new f("Not implemented yet")},i.RR=function(){return!1},i.NR=function(t,n,i,r){throw new f("Not implemented yet")},i.Ob=function(t){throw new f("Not implemented yet")},i.OR=function(){throw new f("Not implemented yet")},i.Rh=function(){var t=T.coroutine(le.mark(function t(n){var i=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.xV.Ub(function(){var t=T.coroutine(le.mark(function t(r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ys!==cp.vS){t.next=7;break}return au(r),e=new YU(n,i,i.io),i.JE=e,t.abrupt("return",e);case 7:throw new f("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Lw=function(){throw new f("Not implemented yet")},i.Bw=function(){throw new f("Not implemented yet")},i.pl=function(){var t=this;return this.xV.mo(),this.xV.Ub(T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.JE){n.next=4;break}return n.next=3,t.JE.vo();case 3:t.JE=void 0;case 4:case"end":return n.stop()}},n)})))},i.rh=function(t,n){throw new f("Not implemented yet")},i.FR=function(t){throw new f("Not implemented yet")},i.Gw=function(){throw new f("Not implemented yet")},i.HR=function(){return this.s_t},i.a_t=function(){this.e_t.addEventListener("airPlayIsCasting",this.o_t)},i.c_t=function(){this.e_t.removeEventListener("airPlayIsCasting",this.o_t)},i.webkitSetMediaKeys=function(t){this.va=t||null,this.va&&(this.va.sessionId=this.ya)},i.sW=function(){},i.bF=function(){throw new f("Not implemented yet")},i.TF=function(){throw new f("Not implemented yet")},i.hW=function(t){},L(n,[{key:"ey",get:function(){throw new f("Not implemented yet")}},{key:"mR",get:function(){throw new f("The mediaElement_ property is deprecated")}},{key:"iy",get:function(){throw new f("Not implemented yet")}},{key:"I_",get:function(){throw new f("Not implemented yet")}},{key:"fL",get:function(){throw new f("Not implemented yet")}},{key:"N_",get:function(){throw new f("Not implemented yet")}},{key:"D_",get:function(){throw new f("Not implemented yet")}},{key:"Xo",get:function(){throw new f("Not implemented yet")}},{key:"yp",get:function(){throw new f("Not implemented yet")}},{key:"sy",get:function(){return this.u_t}},{key:"O_",get:function(){throw new f("Not implemented yet")}},{key:"x_",get:function(){throw new f("Not implemented yet")}},{key:"P_",get:function(){throw new f("Not implemented yet")}},{key:"wy",get:function(){throw new f("Not implemented yet")}},{key:"Gl",get:function(){throw new f("Not implemented yet")}},{key:"my",get:function(){throw new f("Not implemented yet")}},{key:"B_",get:function(){throw new f("Not implemented yet")}},{key:"aW",get:function(){throw new f("Not implemented yet")}},{key:"U_",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"us",get:function(){throw new f("Not implemented yet")}},{key:"CR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.va}},{key:"cW",get:function(){return wS}},{key:"xw",get:function(){throw new f("Not implemented yet")}},{key:"XR",get:function(){throw new f("Not implemented yet")}},{key:"oW",get:function(){return!0}}]),n}(tl),sF=function(t){function n(n){var i;return(i=t.call(this,Go.yc)||this).s_t=n,i}return U(n,t),n}(Ru);function oF(t){switch(t.type){case eF.KW:return t.value;case eF.Hlt:return Pd(t.value);case eF.Flt:return Xu(t.value);default:return}}function hF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.KW="daterange-ca-type_string",t.Hlt="daterange-ca-type_number",t.Flt="daterange-ca-type_arraybuffer"}(eF||(eF={}));var aF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).ME=void 0,s.f_t=void 0,s.ME=n,s.f_t=u,s}return U(n,t),L(n,[{key:"name",get:function(){return this.ME}},{key:"timestamp",get:function(){return this.f_t}}]),n}(So),cF=function(t){function n(n,i,r,e,u,s,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return U(n,t),n}(aF),fF=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).aN=0,s.SF=!1,s.ZS=void 0,s.JS=void 0,s.v_t=void 0,s.fN=!0,s.vN=1,s.Ew=void 0,s.Sw=void 0,s.UV=void 0,s.HV=void 0,s.VV=void 0,s.Rw=void 0,s.Eb=void 0,s.EF=void 0,s.d_t=aA.uN(),s.sF=aA.uN(),s.cN=!1,s.ZV=aA.uN(),s.dN=void 0,s.l_t=void 0,s.__t=void 0,s.GF=cl.w_,s.lS=cl.w_,s.e_t=void 0,s.WV=void 0,s.tR=void 0,s.Xlt=void 0,s.gdt=void 0,s.yN=void 0,s.ZE=void 0,s.nR=void 0,s.r_t=void 0,s.s_t={oy:0,hy:0,ay:0,vy:0,ly:0,_y:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.JE=void 0,s.g_t=void 0,s.rR=new zp,s.setCurrentTime=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.my.length){t.next=4;break}return s.aN=n,t.next=4,s.e_t.Lo("seekablechange");case 4:s.aN=s.updateCurrentTime(n),s.Xlt.fj("THEOplayerSetCurrentTime",s.aN),s.dN=!0,s.Ro(new Vl(s.aN));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.w_t=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.d_t=new aA(i),s.Ro(new AS(s.I_))}},s.y_t=function(t){s.GF=t.detail.readyState,s.Ro(new ql(+t.detail.currentTime,s.Gl)),s.m_t()},s.k_t=function(t){s.GF=t.detail.readyState,s.Ro(new zl(+t.detail.currentTime,s.Gl)),s.m_t()},s.p_t=function(t){if(t.detail){var n=+t.detail.duration;s.EF=n,s.Ro(new Ll(s.N_))}},s.Sdt=function(t){t.detail&&(s.SF=!0,s.Ro(new Fl(+t.detail.currentTime)))},s.eR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);hF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.JS=new cF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.ZS=x_(s.JS),s.Ro(new jl(s.JS))):hF(i)&&(s.JS=new aF(i.name,i.message,void 0,i.code,i.timestamp),s.ZS=x_(s.JS),s.Ro(new jl(s.JS)))}},s.Rdt=function(t){s.Ro(new bS)},s.A_t=function(t){s.GF=t.detail.readyState,s.Ro(new Hl(+t.detail.currentTime,s.Gl)),s.m_t()},s.b_t=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.my.length){t.next=3;break}return t.next=3,s.e_t.Lo("seekablechange");case 3:s.GF=n.detail.readyState,s.Ro(new Bl(+n.detail.currentTime,s.Gl)),s.m_t();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.mdt=function(t){t.detail&&s.Ro(new Cl(+t.detail.currentTime))},s.kdt=function(t){t.detail&&(s.fN||(s.fN=!0,s.Ro(new Dl(+t.detail.currentTime))))},s.T_t=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.ZV=new aA(i).HI(.05)}},s.jdt=function(t){t.detail&&s.Ro(new Up(+t.detail.currentTime))},s.bdt=function(t){t.detail&&(s.vN=t.detail.playbackRate,s.Ro(new Ml(+t.detail.currentTime,s.vN)))},s.E_t=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.sF=new aA(i)}},s.Adt=function(t){t.detail&&(s.aN=+t.detail.currentTime,s.dN=!1,s.Ro(new Ul(s.aN,s.v_t)),s.Ro(new Xl(s.aN)))},s.pdt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.EF&&(s.SF=!1),s.dN=!0,s.Ro(new Vl(n))}},s.S_t=function(t){t.detail&&(t.detail.currentDate&&(s.v_t=new Date(1e3*t.detail.currentDate)),s.aN=+t.detail.currentTime,s.Ro(new Ul(s.aN,s.v_t)))},s.R_t=function(t){s.l_t=t.detail.height,s.__t=t.detail.width},s.I_t=function(t){t.detail&&s.Ro(new Mp(+t.detail.currentTime))},s.Udt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.Cw.yl(new G_(n))},s.N_t=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.Ew.bl;u++){var o=s.Cw.wl(u);o.Ml==r&&o.Ll==e?i=s.Ew.wl(u):1==o.Ol&&(n=s.Ew.wl(u))}i&&n&&(i.Ol=!0,n.Ol=!1)},s.Hdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Ow.yl(new J_(n))},s.FG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Yw.fk&&r===Y_.ID3?(n=new NI("",t.detail.label)).zl=qd.Vl:i===Yw.fk&&r===Y_.DATE_RANGE?(n=new sC,s.g_t=n):n=new AR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.UV.yl(n),s.WV.yl(n)},s.D_t=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new RI(Pd(r.startTime),u,r.uid),h=s.C_t();h&&h.Cb(o)}},s.O_t=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new lg(Pd(e.startTime),Pd(e.endTime),e.content,!1),o=null!=(r=s.x_t(Yw.ak))?r:s.x_t(Yw.mb);o&&(o.Ys=Y_.WEBVTT,o.Cb(u))}},s.wR=function(t){t.type===Go.Ha&&(s.ZS=x_(t.errorObject)),s.So(t)},s.P_t=function(t){t.detail&&(s.s_t.hy=t.detail.corruptedVideoFrames,s.s_t.oy=t.detail.droppedVideoFrames,s.Ro(new sF(s.mw)))},s.B_t=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={xl:t.id};if(void 0!==t.startDate&&(n.XR=new Date(t.startDate)),void 0!==t.endDate&&(n.pY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=oF(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.PY=r}void 0!==t.scte35Cmd&&(n.BY=Xu(t.scte35Cmd)),void 0!==t.scte35In&&(n.MY=Xu(t.scte35In)),void 0!==t.scte35Out&&(n.LY=Xu(t.scte35Out)),void 0!==t.startTime&&(n.Fy=t.startTime),n.CY=t.class,n.N_=Pd(t.duration),n.OY=Pd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Fy?t.Fy:(new Date).getTime(),r=new KD(t,i);s.g_t.Cb(r),s.g_t.Nh(n,i)})};var o=e.uid;s.Xlt=s.getSdkBridge(o),s.e_t=new GU,HU()[o].sdkEventBus=s.e_t,s.Ew=new L_,s.Sw=new L_;var h=s.L_t(r);return s.Eb=new QM(en(s),new TI),s.WV=new SI(en(s)),s.tR=new _y(s.Eb,h),s.UV=new Zw,s.HV=new BI(en(s)),s.HV.Nl=s.UV,s.VV=new LI(s.Eb,s.HV),s.Rw=new bR([s.UV,s.tR.np,s.VV.np]),s.r_t=s.getFairPlayControllerBridge(s.Xlt),s.ZE=new uF(s.e_t,s.r_t),s.nR=new QU(s.ZE,h),s.nR.Io(Wp,s.wR),s.observeMediaElement(),s.pR(),s.yN=new jU(s.Xlt,u),s.yN.Io("Yx",function(){s.Xlt.fj("THEOplayerSetPreferredForwardBufferDuration",s.yN.Qx)}),s}U(n,t);var i=n.prototype;return i.Yw=function(){return vA},i.Gw=function(){this.Xlt.fj("THEOplayerShow",{})},i.jw=function(){this.Xlt.fj("THEOplayerHide",{})},i.M_t=function(){var t=this;this.Xlt.fj("THEOplayerSetInitialPreferredPeakBitRate",this.yN.uP);this.Io("playing",function n(){t.Xlt.fj("THEOplayerSetInitialPreferredPeakBitRate",0),t.Oo("playing",n)})},i.Fw=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gdt=n,r=_e({},i,{sources:{src:n.src,type:ol.c_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Xlt.fj("THEOplayerSourceChange",r),e={Ys:cp.vS,Yl:n.src,Ff:n.type,AR:[],bR:n.crossOrigin,TR:i.metadata&&i.metadata.title},t.next=6,this.ZE.Rh(e);case 6:this.JE=t.sent,this.nR.Uh(this.JE),this.nR.rT(this.ER(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Y_.WEBVTT})).length>0&&this.SR(u),ky(this.xw),this.M_t();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ER=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{VT:t.contentProtection||{},sS:{oS:"cbcs"},hT:[{qh:Ue,aT:[],la:void 0}],cS:[],fS:["video/mp4"]}}},i.Bw=function(){this.fN=!1,this.Ro(new Cl(this.I_)),this.Xlt.fj("THEOplayerPlay",{})},i.Lw=function(){this.fN=!0,this.Ro(new Dl(this.I_)),this.Xlt.fj("THEOplayerPause",{})},i.Qw=function(){},i.pl=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aN=0,this.SF=!1,this.ZS=void 0,this.JS=void 0,this.fN=!0,this.vN=1,this.EF=void 0,this.sF=aA.uN(),this.d_t=aA.uN(),this.l_t=void 0,this.__t=void 0,this.GF=cl.w_,this.lS=cl.w_,this.Ew.pl(),this.Sw.pl(),this.UV.pl(),this.Rw.pl(),t.next=19,this.VV.pl();case 19:return this.HV.pl(),t.next=22,this.tR.pl();case 22:return this.Eb.pl(),this.WV.pl(),this.gdt=void 0,t.next=27,this.ZE.pl();case 27:return t.next=29,this.nR.pl();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vw=function(){this.Xlt.fj("THEOplayerShowAirPlayPicker",{})},i.Xw=function(){this.Xlt.fj("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.mw.hy=t.hy,this.mw.oy=t.oy},i.Nv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pl();case 2:return this.Co(),this.unobserveMediaElement(),this.PR(),t.next=7,this.nR.Nv();case 7:return t.next=9,this.ZE.vo();case 9:return this.Ew.Nv(),this.Sw.Nv(),this.UV.Nv(),this.Rw.Nv(),this.HV.Nv(),t.next=16,this.VV.Nv();case 16:return t.next=18,this.tR.Nv();case 18:this.Eb.Nv(),this.WV.Nv();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.SR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.tR.Ib(i)}},i.m_t=function(){var t=this.lS,n=this.GF;t!==n&&(this.lS=n,this.Ro(new Gl(this.I_,n)))},i.observeMediaElement=function(){this.ZE.Io(Go.La,this.So),this.e_t.addEventListener("play",this.mdt),this.e_t.addEventListener("pause",this.kdt),this.e_t.addEventListener("seeking",this.pdt),this.e_t.addEventListener("seeked",this.Adt),this.e_t.addEventListener("ratechange",this.bdt),this.e_t.addEventListener("durationchange",this.p_t),this.e_t.addEventListener("timeupdate",this.S_t),this.e_t.addEventListener("waiting",this.I_t),this.e_t.addEventListener("playing",this.jdt),this.e_t.addEventListener("ended",this.Sdt),this.e_t.addEventListener("loadedmetadata",this.b_t),this.e_t.addEventListener("loadeddata",this.A_t),this.e_t.addEventListener("loadstart",this.Rdt),this.e_t.addEventListener("canplay",this.y_t),this.e_t.addEventListener("canplaythrough",this.k_t),this.e_t.addEventListener("error",this.eR),this.e_t.addEventListener("seekablechange",this.E_t),this.e_t.addEventListener("videosizechange",this.R_t),this.e_t.addEventListener("bufferedchange",this.w_t),this.e_t.addEventListener("playedchange",this.T_t),this.e_t.addEventListener("metricschange",this.P_t),this.e_t.addEventListener("addDateRangeCues",this.B_t)},i.unobserveMediaElement=function(){this.ZE.Oo(Go.La,this.So),this.e_t.removeEventListener("play",this.mdt),this.e_t.removeEventListener("pause",this.kdt),this.e_t.removeEventListener("seeking",this.pdt),this.e_t.removeEventListener("seeked",this.Adt),this.e_t.removeEventListener("ratechange",this.bdt),this.e_t.removeEventListener("durationchange",this.p_t),this.e_t.removeEventListener("timeupdate",this.S_t),this.e_t.removeEventListener("waiting",this.I_t),this.e_t.removeEventListener("playing",this.jdt),this.e_t.removeEventListener("ended",this.Sdt),this.e_t.removeEventListener("loadedmetadata",this.b_t),this.e_t.removeEventListener("loadeddata",this.A_t),this.e_t.removeEventListener("loadstart",this.Rdt),this.e_t.removeEventListener("canplay",this.y_t),this.e_t.removeEventListener("canplaythrough",this.k_t),this.e_t.removeEventListener("error",this.eR),this.e_t.removeEventListener("seekablechange",this.E_t),this.e_t.removeEventListener("videosizechange",this.R_t),this.e_t.removeEventListener("bufferedchange",this.w_t),this.e_t.removeEventListener("playedchange",this.T_t),this.e_t.removeEventListener("metricschange",this.P_t),this.e_t.removeEventListener("addDateRangeCues",this.B_t)},i.updateCurrentTime=function(t){var n=this.my.start(0),i=this.my.end(0);return l.min(l.max(t,n),i)},i.C_t=function(){for(var t=0,n=this.Rw.Al;t<n.length;t++){var i=n[t];if(i.Bl===Yw.fk&&i.Ys===Y_.ID3)return i}},i.x_t=function(t){for(var n=0,i=this.Rw.Al;n<i.length;n++){var r=i[n],e=r.zl===qd.Xl,u=r.Bl===t;if(e&&u)return r}},i.pR=function(){this.e_t.addEventListener("addaudiotrack",this.Udt),this.e_t.addEventListener("enableaudiotrack",this.N_t),this.e_t.addEventListener("addvideotrack",this.Hdt),this.e_t.addEventListener("addtexttrack",this.FG),this.e_t.addEventListener("addtexttrackid3cues",this.D_t),this.e_t.addEventListener("addtexttrackcues",this.O_t)},i.PR=function(){this.e_t.removeEventListener("addaudiotrack",this.Udt),this.e_t.removeEventListener("enableaudiotrack",this.N_t),this.e_t.removeEventListener("addvideotrack",this.Hdt),this.e_t.removeEventListener("addtexttrack",this.FG),this.e_t.removeEventListener("addtexttrackid3cues",this.D_t),this.e_t.removeEventListener("addtexttrackcues",this.U_t)},i.ny=function(){},L(n,[{key:"Cw",get:function(){return this.Ew}},{key:"iy",get:function(){return this.d_t.UR()}},{key:"ey",get:function(){return this.v_t?this.v_t:null},set:function(t){this.Xlt.fj("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.v_t=t}},{key:"I_",get:function(){return this.aN},set:function(t){this.setCurrentTime(t)}},{key:"N_",get:function(){return this.EF}},{key:"D_",get:function(){return this.SF}},{key:"Xo",get:function(){return this.ZS}},{key:"C_",get:function(){return this.JS}},{key:"Pw",get:function(){}},{key:"sy",get:function(){return this.ZE.sy}},{key:"mw",get:function(){return this.s_t}},{key:"O_",get:function(){return this.cN},set:function(t){this.cN!==t&&(this.Xlt.fj("THEOplayerSetMuted",t),this.cN=t,this.Ro(new Wl(this.I_,t?0:1)))}},{key:"x_",get:function(){return this.fN}},{key:"P_",get:function(){return this.vN},set:function(t){this.Xlt.fj("THEOplayerSetPlaybackRate",t),this.vN=t}},{key:"wy",get:function(){return this.ZV.UR()}},{key:"yy",get:function(){return nA.hI},set:function(t){}},{key:"Gl",get:function(){return this.GF}},{key:"my",get:function(){return this.sF.UR()}},{key:"B_",get:function(){return this.dN}},{key:"XR",get:function(){}},{key:"xw",get:function(){return this.Rw}},{key:"L_",get:function(){return this.l_t}},{key:"M_",get:function(){return this.__t}},{key:"U_",get:function(){return 1},set:function(t){}},{key:"Ow",get:function(){return this.Sw}},{key:"WR",get:function(){return this.rR}},{key:"gy",get:function(){return!0}}]),n}(tl),vF=function(){function t(){this.qR=Vp.WS}var n=t.prototype;return n.zR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(_l(n.type))return!1;var r=n.contentProtection;if(r&&!nm(r)){if(!em(r))return!1;if(!t.Qdt(r))return!1}return!0},t.Qdt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.GR=function(){return!1},t}(),dF=function(){function t(){this.F_t=r.webkit}return t.prototype.fj=function(t,n){this.F_t.messageHandlers[t]&&this.F_t.messageHandlers[t].postMessage(n)},t}(),lF=function(t){function n(n){var i;return(i=t.call(this)||this).Xlt=void 0,i.e_t=void 0,i.H_t=function(t){var n=Xu(t.detail.initData),r=t.detail.sessionId;i.Ro(new ZU(n,r))},i.V_t=function(t){var n=new y(Yu(t.detail.message)),r=t.detail.destinationURL;i.Ro(new JU(n,r))},i.X_t=function(t){i.Ro(new $U)},i.Xlt=n,i.e_t=new GU,HU().fairplayController={sdkEventBus:i.e_t},i.d$(),i}U(n,t);var i=n.prototype;return i.d$=function(){this.e_t.addEventListener(qU.Ylt,this.H_t),this.e_t.addEventListener(qU.Zlt,this.V_t),this.e_t.addEventListener(qU.Jlt,this.X_t)},i.MT=function(t,n){var i={playerId:XU(),data:Zu(n.buffer),sessionId:t};this.Xlt.fj("THEOplayerCreateKeySession",i)},i.Nh=function(t,n){var i={playerId:XU(),data:Zu(n.buffer),sessionId:t};this.Xlt.fj("THEOplayerUpdateKey",i)},n}(tl),_F=function(t){var n=this;this.e_t=void 0,this.W_t=void 0,this.q_t=function(){n.W_t.jG()},this.z_t=function(){n.W_t.GG()},this.e_t=new GU,this.W_t=t,this.e_t.addEventListener("showTracks",this.q_t),this.e_t.addEventListener("hideTracks",this.z_t),HU().texttracks={sdkEventBus:this.e_t}},gF=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this,n,i,r,e,u)||this).$G=void 0,o.KG=void 0,o.G_t=void 0;var h=i.yR(B_.kv);return o.$G=new $I,o.$G.hW(n),o.KG=new _D(o.$G.uy,h.fL,o.xw,s,h.CR),o.G_t=new _F(o.KG),i.LR(h),Or.document.querySelector(".vjs-tech")?Or.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Or.document.querySelector(".player-div").style.background="transparent",o}U(n,t);var i=n.prototype;return i.Gw=function(){t.prototype.Gw.call(this),this.$G.Gw()},i.jw=function(){t.prototype.jw.call(this),this.$G.jw()},i.Hw=function(){return!0},i.getSdkBridge=function(){return new dF},i.getFairPlayControllerBridge=function(){return yF},i.L_t=function(t){return t},i.Nv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Or.document.querySelector(".vjs-tech")?Or.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Or.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Nv.call(this);case 3:this.KG.Nv(),this.$G.Nv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(fF);Kp(new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.jb=function(t,n,i,r,e,u){return new gF(t,n,i,r,e,u)},i.zR=function(n,i){if(n.type){var r=Zr();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.zR.call(this,n,i)},n}(vF)));var wF,yF=new lF(new dF),mF=function(t){function n(){return t.call(this,"j_t")||this}return U(n,t),n.prototype.zd=function(){return new kF},n}(ld),kF=function(t){function n(){return t.call(this,"statechange")||this}return U(n,t),n}(Ru);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(wF||(wF={}));var pF=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Q_t=new tl,n.So=function(t){n.Ro(t)},n}U(n,t);var i=n.prototype;return i.zd=function(){return n=AF(t=this),i=new gE(t,n),n.addEventListener=function(t,n){i.Io(t,n)},n.removeEventListener=function(t,n){i.Oo(t,n)},n;var t,n,i},i.Io=function(t,n){this.Q_t.Io(t,n)},i.Do=function(t){this.Q_t.Do(t)},i.Co=function(){this.Q_t.Co()},i.Ro=function(t){this.Q_t.Ro(t)},i.Oo=function(t,n){this.Q_t.Oo(t,n)},i.Po=function(t){this.Q_t.Po(t)},i.Bo=function(t){this.Q_t.Bo(t)},i.Lo=function(t,n){return this.Q_t.Lo(t,n)},n}(function(){function t(){this.Qo=[],this.Wd=void 0}var n=t.prototype;return n.zd=function(){return AF(this)},n.wl=function(t){return this.Qo[t]},n.rg=function(t){this.Qo.push(t),this.Wd&&this.Wd.push(t.qd),this.Y_t(t)},n.Z_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.rg(i)}},n.J_t=function(t,n){n>=0&&n<=this.Qo.length&&(this.Qo.splice(n,0,t),this.Wd&&this.Wd.splice(n,0,t.qd),this.Y_t(t))},n.py=function(t){return tu(this.Qo,t)},n.Ih=function(t){this.$_t(this.Qo.indexOf(t))},n.$_t=function(t){if(t>=0&&t<this.Qo.length){var n=this.Qo[t];Ke(this.Qo,t),this.Wd&&Ke(this.Wd,t),this.K_t(n)}},n.Ko=function(){var t=this.Qo.slice();iu(this.Qo),this.Wd&&iu(this.Wd);for(var n=0;n<t.length;n++){var i=t[n];this.K_t(i)}},L(t,[{key:"tgt",get:function(){return this.Qo}},{key:"bl",get:function(){return this.Qo.length}},{key:"qd",get:function(){return this.Wd||(this.Wd=this.zd()),this.Wd}}]),t}());function AF(t){var n=t.tgt.map(function(t){return t.qd});return n.item=function(n){n|=0;var i=t.wl(n);return i&&i.qd||void 0},n}var bF,TF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return U(n,t),n}(Ru),EF=function(t){function n(n){var i;return(i=t.call(this,"igt")||this).ngt=n,i}return U(n,t),n.prototype.zd=function(){return new TF(this.ngt.qd)},n}(ld),SF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return U(n,t),n}(Ru),RF=function(t){function n(n){var i;return(i=t.call(this,"rgt")||this).task=n,i}return U(n,t),n.prototype.zd=function(){return new SF(this.task.qd)},n}(ld),IF=function(t){function n(){return t.call(this)||this}U(n,t);var i=n.prototype;return i.Y_t=function(t){this.Ro(new EF(t))},i.K_t=function(t){this.Ro(new RF(t))},n}(pF);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(bF||(bF={}));var NF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).egt=bF.UNINITIALISED,e.Pb=new IF,e.O8=void 0,e.ugt=void 0,e.sgt=void 0,e.sgt=i,e.ugt=r,e.O8=n,e.Ww(),e}U(n,t);var i=n.prototype;return i.Ww=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ogt();case 2:this.hgt(bF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ogt=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.agt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.agt=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O8.jK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.sgt.cgt(r.id,r.sourceDescription,r.parameters,this.ugt),this.fgt(e),this.Pb.rg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hgt=function(t){this.egt=t,this.Ro(new mF)},i.cgt=function(t,n,i){void 0===i&&(i="persistent");var r=this.sgt.vgt(t,n,i);return this.dgt(r,i),this.Pb.rg(r),this.fgt(r),r},i.dgt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.lgt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.lgt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O8.qK({key:n.xl,id:n.xl,sourceDescription:n.rI,parameters:n.zh},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fgt=function(t){var n=this;t.Io("j_t",function(){t.Jf===wF.EVICTED&&n.Pb.Ih(t)})},L(n,[{key:"Jf",get:function(){return this.egt}},{key:"_gt",get:function(){return this.Pb}}]),n}(Eu);function DF(t,n){return function(t,n){var i=t.us&&n.us,r=t.yp&&n.yp;return i||r?i&&r?t.us*t.yp-n.us*n.yp:i?t.us-n.us:r?t.yp-n.yp:(t.us||1)*(t.yp||1)-(n.us||1)*(n.yp||1):0}(t,n)||function(t,n){return t.jS-n.jS}(t,n)}var CF=function(t){function n(){return t.call(this,"progress")||this}return U(n,t),n}(Ru),OF=function(t){function n(){return t.call(this,"_K")||this}return U(n,t),n.prototype.zd=function(){return new CF},n}(ld),xF=function(){function t(t,n,i){if(this.ggt=void 0,this.wgt=t,this.ky=n,this.ygt=i,0===this.ky.size)this.ggt=aA.uN();else{var r=new aA([-1/0,1/0]);this.ky.forEach(function(t){r=r.BI(t.timeRanges)}),this.ggt=r}}return t.prototype.Z_=function(t){return!!Dd(this.ky,t.ky)&&(!!Qt(this.wgt,t.wgt)&&(!!Qt(this.nN,t.nN)&&(!!Qt(this.mgt,t.mgt)&&this.kgt.YI(t.kgt))))},t.pgt=function(){return BF},L(t,[{key:"nN",get:function(){return this.ygt}},{key:"Agt",get:function(){return this.wgt}},{key:"mgt",get:function(){return this.kgt.nN}},{key:"bgt",get:function(){var t=0,n=0;return this.ky.forEach(function(i){t+=i.timeRanges.nN,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"kgt",get:function(){return this.ggt}}]),t}(),PF=we(),BF=new xF(0,PF,NaN);function LF(t,n){if(it(t)){if(yr(t,"%"))return g(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var MF,UF=function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"Tgt"}}]),n}(sn);function FF(t,n,i,r){var e=[],u=Ze(i,function(t){return t.Egt===Ee});if(void 0!==u){var s=u.uu?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.uu.toLowerCase()):"cenc";if(void 0!==s){for(var o=0;o<i.length;o++){var h=i[o];if(h.Egt!==Ee)for(var a=0,c=Ve(h.Egt);a<c.length;a++){var f=c[a];e.push({qh:f,aT:h.Sgt?[h.Sgt]:[],la:void 0})}}if(e.length)return{VT:t,sS:{oS:s,WT:u.WT},hT:e,cS:n===B_.mv?r.slice():[],fS:n===B_.kv?r.slice():[],sT:!1}}}}function HF(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=we();return VF(r,e,t.hT),VF(r,e,n.hT),{VT:t.VT,sS:{oS:t.sS.oS,WT:null!=(i=t.sS.WT)?i:n.sS.oS},hT:r,cS:XF(t.cS,n.cS,tu),fS:XF(t.fS,n.fS,tu),sT:t.sT||n.sT||!1}}function VF(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.qh.Ks,s=void 0;n.has(u)?(s=n.get(u)).aT=XF(s.aT,e.aT,WF):(s=_e({},e),t.push(s),n.set(u,s))}}function XF(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function WF(t,n){for(var i=0;i<t.length;i++){if(ju(t[i],n))return!0}return!1}function qF(t,n){var i,r=t.Rgt;if(r){for(var e=t.HC,u=[],s=0,o=t.bJ;s<o.length;s++){var h=o[s];u.push(e+'; codecs="'+h+'"')}i=FF(n||{},t.Ys,r,u)}for(var a=0,c=t.Igt;a<c.length;a++){i=HF(i,zF(c[a],n))}return i}function zF(t,n){return FF(n||{},t.Ys,t.Rgt||[],[t.Ff])}function GF(t,n,i){return jF.apply(this,arguments)}function jF(){return(jF=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Ngt;u<s.length;u++)o=s[u],e.push(QF(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{N_:n.Cgt.Dgt(),Ogt:[n.xgt],Ngt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function QF(t,n,i){return YF.apply(this,arguments)}function YF(){return(YF=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Pgt;u<s.length;u++)o=s[u],e.push(ZF(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{Bgt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ZF(t,n,i){return JF.apply(this,arguments)}function JF(){return(JF=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Lgt;u<s.length;u++)$F(o=s[u])||e.push(iH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{np:h,Ys:n.Ys});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $F(t){return t.Igt.every(nH)}!function(t){t[t.a_=0]="a_",t[t.c_=1]="c_"}(MF||(MF={}));var KF,tH=1;function nH(t){return t.Mgt!==tH&&Boolean(t.Mgt)}function iH(t,n,i){return rH.apply(this,arguments)}function rH(){return(rH=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Igt;u<s.length;u++)nH(o=s[u])||e.push(uH(o,r));return t.next=4,T.all(e);case 4:return h=t.sent,a=n.bJ[0],c=n.Rgt,f=c?eH(a,c):void 0,v=qF(n,i),t.abrupt("return",{Ul:h,Ml:n.Ugt,Ys:n.Ys,AR:f,Fgt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function eH(t,n){for(var i=[],r=function(t){return t?yr(t,"avc")?eo.VIDEO_H264:yr(t,"hev")||yr(t,"hvc")||yr(t,"hvt")||yr(t,"lhv")||yr(t,"lhe")||yr(t,"lht")?eo.VIDEO_H265:yr(t,"mp4")?eo.VIDEO_MP4:yr(t,"mpeg2")?eo.VIDEO_MPEG2:yr(t,"mpeg")?eo.VIDEO_MPEG:eo.VIDEO_UNKNOWN:eo.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.Egt.split(":").pop(),o=u.Sgt;i.push({mimeType:r,uuid:s,data:o})}return{type:MF.a_,schemeType:Se,schemeDatas:i}}function uH(t,n){return sH.apply(this,arguments)}function sH(){return(sH=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oH(n,i);case 2:u=t.sent,s={xl:cH(n),eb:u,r8:n.o8,jS:n.jS,ss:n.ss,yp:n.yp,Ys:n.Ys,us:n.us},t.t0=n.Ys,t.next=t.t0===B_.je?7:t.t0===B_.kv?8:t.t0===B_.mv?10:12;break;case 7:return t.abrupt("break",13);case 8:return s.Y$=null!=(r=null==(e=n.Y$)?void 0:e.W_())?r:NaN,t.abrupt("break",13);case 10:return s.audioSamplingRate=n.Qvt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",s);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function oH(t,n){return hH.apply(this,arguments)}function hH(){return(hH=T.coroutine(le.mark(function t(n,i){var r,e,u,s,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Hgt,u=e.Vgt(),s=u;case 4:if(!s){t.next=16;break}if(!e.Xgt(s.J5)){t.next=12;break}return t.next=8,n.Wgt(s,i,(new su).Ao);case 8:for(o=t.sent,h=0;h<o.bl;h++)r.push(aH(o.qgt(h),n));t.next=13;break;case 12:r.push(aH(s,n));case 13:s=e.xct(s),t.next=4;break;case 16:return a=e.zgt(),c=a.Hy-u.Fy,t.abrupt("return",{N_:c,$K:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aH(t,n){return{Fy:t.Fy,N_:t.N_,Ggt:n.jgt(t)}}function cH(t){return t.Qgt.pI+"-"+(""+t.xl)}function fH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],h=0;h<o.length;h++){var a=o[h],c=vH(a,r,n);s.push(c)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={Ys:r.type,fp:[]}),n[r["group-id"]].fp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.fp;u<s.length;u++){var o=s[u];i[e.Ys]||(i[e.Ys]={}),i[e.Ys][o.name]||(i[e.Ys][o.name]=[]),i[e.Ys][o.name].push(o)}return i}(t),n)}function vH(t,n,i){for(var r=t["group-id"],e={HZ:t,b$:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.b$.push(s)}return e}function dH(t,n){return lH.apply(this,arguments)}function lH(){return(lH=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.I8([n],{});case 2:return r=t.sent,e=new jP,t.abrupt("return",e.Xk(r.y8,r.ev,iB(r.ev)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _H(t,n){return gH.apply(this,arguments)}function gH(){return(gH=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",wH(n,i));case 4:return t.abrupt("return",(e=void 0,e=CH(r=n),{N_:r.duration,Ogt:[r.uri],Ngt:[{Bgt:[{np:[{Ul:[{xl:r.uri,eb:e,jS:0,ss:"",yp:0,Ys:null,us:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function wH(t,n){return yH.apply(this,arguments)}function yH(){return(yH=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=fH(n.media,n.streams),t.next=3,AH(r,i);case 3:return e=t.sent,t.next=6,kH(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{N_:mH(e),Ogt:[n.uri],Ngt:[{Bgt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].np;r<e.length;r++){var u=e[r];n=l.max.apply(l,[n].concat(u.Ul.map(function(t){return t.eb.N_})))}return n}function kH(t,n){return pH.apply(this,arguments)}function pH(){return(pH=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,NH(u.uri,i);case 6:(s=t.sent).jS=u.bandwidth,s.ss=u.codecs,s.yp=u.resolution&&u.resolution.height,s.us=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{np:[{Ul:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function AH(t,n){return bH.apply(this,arguments)}function bH(){return(bH=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=le.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,TH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function TH(t,n){return EH.apply(this,arguments)}function EH(){return(EH=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=le.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,SH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{np:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function SH(t,n){return RH.apply(this,arguments)}function RH(){return(RH=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,IH(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{Ul:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function IH(t,n){var i,r,e;return NH((r=(i=t).HZ.uri,e=i.b$.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function NH(t,n){return DH.apply(this,arguments)}function DH(){return(DH=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dH(n,i);case 2:return r=t.sent,e=CH(r),t.abrupt("return",{xl:n,Ygt:n,eb:e,jS:0,ss:"",yp:0,Ys:null,us:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function CH(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(OH(e))}return{N_:t.duration,$K:n}}function OH(t){return{Fy:t.start,N_:t.duration,Ggt:xH(t.uri)}}function xH(t){return hC(t)?{uv:t.XY,WY:[t.WY.pI,t.WY.bI],Sv:!1}:{uv:t.toString(),Sv:!1}}!function(t){t.vS="static",t.dS="dynamic"}(KF||(KF={}));var PH,BH=31536e3,LH=2592e3,MH=86400,UH=3600,FH=60,HH=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,VH=function(){function t(t){this.Zgt=void 0;var n=t.match(HH);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,u=Number(n[4])||0,s=Number(n[5])||0,o=Number(n[6])||0;this.Zgt=i*BH+r*LH+e*MH+u*UH+s*FH+o}var n=t.prototype;return n.Dgt=function(){return this.Zgt},n.Jgt=function(){return 1e3*this.Zgt},L(t,[{key:"h2",get:function(){return p_.Yg(this.Zgt,1e3)}}]),t}();!function(t){t.$gt="progressive",t.Kgt="interlaced",t.ov="unknown"}(PH||(PH={}));var XH=function(){function t(t,n){this.twt=t,this.nwt=n}return t.prototype.W_=function(){return this.twt/this.nwt},t}(),WH=/^(?:true|false)$/i,qH=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function zH(t){if(void 0!==t)return new VH(t)}function GH(t){if(void 0!==t){var n=t.match(qH);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],h=n[7],a=n[8],c=n[9],v=n[10],d=n[11],_=("-"===i?-1:1)*Number(r),g=Number(e)-1,y=Number(u),m=Number(s),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=l.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(_,g,y,m,k,p,b));if(w(T.getTime()))throw new f("The given value could not be parsed as a valid Date");return T}}function jH(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[YH(n[1]),YH(n[2])]}}function QH(t){if(void 0!==t){if(!w(Number(t)))try{return Xt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function YH(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function ZH(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!w(i)&&!w(r))return new XH(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function JH(t){if(void 0!==t){if(WH.test(t))return"true"===t.toLowerCase();if(!w(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function $H(t){return{uv:t.Au,iwt:JH(t._u("availabilityTimeComplete")),rwt:YH(t._u("availabilityTimeOffset"))}}function KH(t){return t.map($H)}function tV(t){var n,i,r,e,u,s,o=fV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).gu(r,i))&&(u=n._u(e+":"+i)),u),a=Ow(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(s=Yu(a.Au)),!s){var c=Ow(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(s=function(t){var n=Xu(t.Au),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new y(u),o=new DataView(u),h=new Gs;ys(o,h,e),ys(o,h,1886614376),ys(o,h,0),vs(o,h,i),ys(o,h,r),vs(o,h,n),0;return s.buffer}(c))}return{WT:h,Sgt:s,Egt:o.Egt,uu:o.uu}}function nV(t){return{ewt:t._u("sourceURL"),WY:jH(t._u("range"))}}function iV(t,n){var i=t._u("d"),r=t._u("t"),e=YH(t._u("r"));n.push({N_:i,Fy:r,uwt:e})}function rV(t){return{J5:t._u("index"),swt:jH(t._u("indexRange")),fp:t._u("media"),owt:jH(t._u("mediaRange"))}}function eV(t){var n,i;return _e({},oV(t),{hwt:(n=t.hu("SegmentURL"),(i=n.map(rV)).length>0?i:void 0),awt:t._u("xlink:href"),cwt:t._u("xlink:actuate")})}function uV(t){var n=t.map(eV);return n.length>0?n:void 0}function sV(t){var n=JH(t._u("availabilityTimeComplete")),i=YH(t._u("availabilityTimeOffset")),r=jH(t._u("indexRange")),e=JH(t._u("indexRangeExact")),u=t.hu("Initialization");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.cu+" element can not have more than one Initialization element.");var s=1===u.length?nV(u[0]):void 0,o=QH(t._u("presentationTimeOffset")),h=t.hu("RepresentationIndex");if(h.length>1)throw new f("The provided MPEG-DASH document's "+t.cu+" element can not have more than one RepresentationIndex element.");return{iwt:n,rwt:i,swt:r,fwt:e,vwt:s,dwt:o,lwt:1===h.length?nV(h[0]):void 0,_wt:zH(t._u("timeShiftBufferDepth")),Ug:YH(t._u("timescale"))}}function oV(t){var n=sV(t),i=t.hu("BitstreamSwitching"),r=i.length>0?nV(i[0]):void 0,e=YH(t._u("duration")),u=t.hu("SegmentTimeline");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.cu+" element can not have more than one SegmentTimeline element.");return _e({},n,{gwt:r,N_:e,Hgt:1===u.length?function(t){for(var n=[],i=t.hu("S"),r=0;r<i.length;r++)iV(i[r],n);return n}(u[0]):void 0,wwt:YH(t._u("startNumber")),ywt:YH(t._u("endNumber"))})}function hV(t){return _e({},oV(t),{mwt:t._u("bitstreamSwitching"),kwt:t._u("index"),pwt:t._u("initialization"),Awt:t._u("media")})}function aV(t){return{Qvt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(YH)):1===n.length?n.map(YH)[0]:void 0}}(t._u("audioSamplingRate")),bJ:t._u("codecs"),bwt:JH(t._u("codingDependency")),Rgt:function(t){if(0!==t.length)return t.map(tV)}(t.hu("ContentProtection")),Twt:t.hu("EssentialProperty").map(vV),Y$:ZH(t._u("frameRate")),yp:YH(t._u("height")),Mgt:YH(t._u("maxPlayoutRate")),Ewt:YH(t._u("maximumSAPPeriod")),HC:t._u("mimeType"),Swt:t._u("profiles"),Rwt:t._u("sar"),Iwt:function(t){switch(t){case PH.$gt:case PH.Kgt:case PH.ov:return t;default:return}}(t._u("scanType")),Nwt:t._u("segmentProfiles"),Dwt:YH(t._u("startWithSAP")),us:YH(t._u("width"))}}function cV(t){var n=aV(t),i=YH(t._u("bandwidth")),r=KH(t.hu("BaseURL")),e=t._u("dependencyId"),u=t._u("id"),s=t._u("mediaStreamStructureId"),o=YH(t._u("qualityRanking")),h=t.hu("SegmentBase");if(h.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?sV(h[0]):void 0,c=uV(t.hu("SegmentList")),v=t.hu("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return _e({},n,{jS:i,Cwt:r,Owt:e,xl:u,xwt:s,Pwt:o,Bwt:a,Lwt:c,Mwt:1===v.length?hV(v[0]):void 0})}function fV(t){return{Egt:t._u("schemeIdUri"),uu:t._u("value")}}function vV(t){return fV(t)}function dV(t){return fV(t)}function lV(t){return fV(t)}function _V(t){var n=aV(t),i=function(t){return t.map(lV)}(t.hu("Accessibility")),r=KH(t.hu("BaseURL")),e=JH(t._u("bitstreamSwitching")),u=t._u("contentType"),s=YH(t._u("group")),o=YH(t._u("id")),h=t._u("lang"),a=YH(t._u("maxBandwidth")),c=ZH(t._u("maxFrameRate")),v=YH(t._u("maxHeight")),d=YH(t._u("maxWidth")),l=YH(t._u("minBandwidth")),_=ZH(t._u("minFrameRate")),g=YH(t._u("minHeight")),w=YH(t._u("minWidth")),y=t._u("par"),m=t.hu("Representation").map(cV);if(0===m.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(dV)}(t.hu("Role")),p=JH(t._u("segmentAlignment"))||!1,A=t.hu("SegmentBase");if(A.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?sV(A[0]):void 0,T=uV(t.hu("SegmentList")),E=t.hu("SegmentTemplate");if(E.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?hV(E[0]):void 0,R=YH(t._u("selectionPriority"));return _e({},n,{Uwt:i,Cwt:r,gwt:e,Ff:u,Fwt:s,xl:o,Ml:h,Hwt:a,Vwt:c,Xwt:v,Wwt:d,qwt:l,zwt:_,Gwt:g,jwt:w,Qwt:y,Igt:m,Ywt:k,Zwt:p,Bwt:b,Lwt:T,Mwt:S,qR:R||1,Jwt:JH(t._u("subsegmentAlignment"))||!1,$wt:YH(t._u("subsegmentStartsWithSAP")),Kwt:t._u("xlink:actuate")||"onRequest",tyt:t._u("xlink:href")})}function gV(t){var n=QH(t._u("presentationTime"))||Xt.ZERO,i=QH(t._u("duration")),r=YH(t._u("id")),e=function(t){for(var n=t.pu,i={},r=0;r<n.length;r++)i[n[r].iu]=n[r].uu;return i}(t),u=t.Au;return{FA:n,N_:i,xl:r,pu:e,bu:""!==u.trim()?u:t._u("messageData")||""}}function wV(t){return{tyt:t._u("xlink:href"),Kwt:t._u("xlink:actuate"),Egt:t._u("schemeIdUri"),uu:t._u("value"),Ug:YH(t._u("timescale")),dwt:QH(t._u("presentationTimeOffset")),VC:t.hu("Event").map(gV)}}function yV(t,n){var i=t.hu("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?fV(i[0]):void 0,e=t.hu("AdaptationSet").map(_V),u=KH(t.hu("BaseURL")),s=JH(t._u("bitstreamSwitching")),o=zH(t._u("duration")),h=t.hu("EventStream").map(wV),a=t._u("id"),c=n&&zH(n._u("start")),v=t.hu("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?sV(v[0]):void 0,l=uV(t.hu("SegmentBase")),_=t.hu("SegmentTemplate");if(_.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?hV(_[0]):void 0,w=zH(t._u("start")),y=(t.hu("Subset"),t._u("xlink:href"));return{Lgt:e,nyt:r,Cwt:u,gwt:s,N_:o,iyt:h,xl:a,ryt:c,Bwt:d,Lwt:l,Mwt:g,pI:w,Kwt:t._u("xlink:actuate"),tyt:y}}function mV(t){var n=t._u("schemeIdUri");if(n)return{Egt:n,uu:t._u("value")}}function kV(t,n){var i=GH(t._u("availabilityEndTime")),r=GH(t._u("availabilityStartTime")),e=KH(t.hu("BaseURL")),u=t._u("id"),s=t.hu("Location").map(function(t){return""+t.Au}),o=zH(t._u("maxSegmentDuration")),h=zH(t._u("maxSubsegmentDuration")),a=zH(t._u("mediaPresentationDuration")),c=(t.hu("Metrics"),zH(t._u("minBufferTime")));if(!c)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=zH(t._u("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(yV(t[i],t[i+1]));return n}(t.hu("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t._u("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{eyt:i,uyt:r,Cwt:e,xl:u,syt:s,oyt:n,hyt:o,ayt:h,Cgt:a,cyt:c,fyt:v,Ngt:d,Swt:l,vyt:GH(t._u("publishTime")),dyt:zH(t._u("suggestedPresentationDelay")),_wt:zH(t._u("timeShiftBufferDepth")),Ys:function(t){switch(t){case KF.vS:case KF.dS:return t;default:return}}(t._u("type")),lyt:function(t){for(var n=[],i=0;i<t.length;i++){var r=mV(t[i]);r&&n.push(r)}return n}(t.hu("UTCTiming"))}}var pV,AV=function(){function t(){}return t.prototype.vlt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return kV(t,n)}(b.Je(t).Tu,n)},t}(),bV=0,TV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Pl=void 0,s.Ty=void 0,s._yt=void 0,s.xl=n,s.jS=i,s.bJ=r,s.XY=u,s.Pl=bV++,s.Ty=e||"",s._yt=!0,s}return U(n,t),n.prototype.wb=function(){this._yt=!1,this.Ro(new MM(this.qd))},L(n,[{key:"Ll",get:function(){return this.Ty},set:function(t){this.Ty!==t&&(this.Ty=t,this.Ro(new MM(this.qd)))}},{key:"lQ",get:function(){return this._yt}}]),n}(Eu),EV=function(t){function n(n,i,r,e,u,s,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,u)||this).Wd=void 0,c.Y$=s,c.us=o,c.yp=h,c.jvt=a,c}return U(n,t),L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=UM(this)),this.Wd}}]),n}(TV),SV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Wd=void 0,o.Qvt=s,o}return U(n,t),L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=FM(this)),this.Wd}}]),n}(TV);!function(t){t.gyt="wyt",t.yyt="myt"}(pV||(pV={}));var RV=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).kyt=function(t){n.Ro(t)},n}return U(n,t),L(n,[{key:"pyt",get:function(){var t=this.Ayt();return null==t?void 0:t.pI}},{key:"byt",get:function(){var t=this.Ayt();return null==t?void 0:t.bI}}]),n}(Eu);function IV(t){return st(t.Tyt)}var NV=function(t){function n(n,i){var r;if((r=t.call(this)||this).Eyt=void 0,r.Wd=void 0,r.Syt=void 0,r.Ryt=void 0,r.Iyt=void 0,r.Eyt=n,r.Syt=i,r.Syt.Io(pV.gyt,r.kyt),r.Ys===B_.kv){var e,u,s=null!=(e=null==(u=r.Y$)?void 0:u.W_())?e:NaN;r.Ryt=new EV(r.xl,r.jS,r.ss,"","",s,r.us,r.yp)}else r.Ys===B_.mv?r.Ryt=new SV(r.xl,r.jS,r.ss,"","",r.Qvt):r.Ryt=void 0;return r}U(n,t);var i=n.prototype;return i.jgt=function(t){var n=IV(t)?this.Syt.Nyt(t):this.Syt.jgt(t);return{uv:n.uv,WY:n.WY,Sv:this.Dyt.Sv}},i.Cyt=function(){return this.Syt.Cyt()},i.Ayt=function(){return this.Syt.Ayt()},i.Oyt=function(){return this.Syt.Oyt()},i.Wgt=function(t,n,i){return this.Syt.Hgt.Wgt(t,this.Syt,this.Dyt.Sv,n,i)},i.xyt=function(t){return IV(t)?this.Hgt.Pyt(t):this.Hgt.xyt(t)},i.U6=function(t){return IV(t)?this.Hgt.Byt(t):this.Hgt.U6(t)},i.Nv=function(){this.Syt.Oo(pV.gyt,this.kyt)},L(n,[{key:"Lyt",get:function(){return this.Eyt}},{key:"Qvt",get:function(){var t;return null!=(t=this.Syt.bu.Qvt)?t:this.Lyt.Qvt}},{key:"jS",get:function(){return this.Syt.bu.jS||0}},{key:"bJ",get:function(){var t=this.Syt.bu;return t.bJ?[t.bJ]:this.Lyt.bJ}},{key:"Myt",get:function(){var t=this.Syt.bu;return t.bJ?[t.bJ]:[]}},{key:"ss",get:function(){return this.Syt.bu.bJ||this.Lyt.ss}},{key:"bwt",get:function(){return this.Syt.bu.bwt||this.Lyt.bwt}},{key:"Rgt",get:function(){return this.Syt.bu.Rgt||this.Lyt.Rgt}},{key:"Ff",get:function(){return this.HC+'; codecs="'+this.ss+'"'}},{key:"Twt",get:function(){var t=this.Syt.bu;return t.Twt.length?t.Twt:this.Lyt.Twt}},{key:"qd",get:function(){return this.Wd||(this.Wd=(t=this,{get id(){return t.xl},get type(){return t.Ys},get bandwidth(){return t.jS},get width(){return t.us},get height(){return t.yp},get frameRate(){var n,i;return null!=(n=null==(i=t.Y$)?void 0:i.W_())?n:NaN},get audioSamplingRate(){return t.Qvt}}));var t}},{key:"Y$",get:function(){var t;return null!=(t=this.Syt.bu.Y$)?t:this.Lyt.Y$}},{key:"yp",get:function(){return this.Syt.bu.yp||this.Lyt.yp}},{key:"xl",get:function(){return this.Syt.bu.xl||""}},{key:"x4",get:function(){return this.Iyt},set:function(t){this.Iyt=t}},{key:"o8",get:function(){var t=this.Syt.Uyt();if(t)return{uv:t.uv,WY:t.WY,Sv:this.Dyt.Sv}}},{key:"Mgt",get:function(){return this.Syt.bu.Mgt||this.Lyt.Mgt||1}},{key:"Ewt",get:function(){return this.Syt.bu.Ewt||this.Lyt.Ewt}},{key:"Dyt",get:function(){return this.Qgt.Dyt}},{key:"HC",get:function(){return this.Syt.bu.HC||this.Lyt.HC}},{key:"Qgt",get:function(){return this.Lyt.Qgt}},{key:"Swt",get:function(){return this.Syt.bu.Swt||this.Lyt.Swt}},{key:"qvt",get:function(){return this.Ryt}},{key:"Rwt",get:function(){return this.Syt.bu.Rwt||this.Lyt.Rwt}},{key:"Iwt",get:function(){return this.Syt.bu.Iwt||this.Lyt.Iwt}},{key:"Fyt",get:function(){return this.Syt.Fyt}},{key:"Nwt",get:function(){return this.Syt.bu.Nwt||this.Lyt.Nwt}},{key:"Hgt",get:function(){return this.Syt.Hgt}},{key:"Dwt",get:function(){return this.Syt.bu.Dwt||this.Lyt.Dwt}},{key:"Ys",get:function(){var t=this.HC.split("/")[0];return"application"===t||"text"===t||sy(this.HC,this.bJ)?B_.je:"video"===t?B_.kv:"audio"===t?B_.mv:"image"===t?B_.pv:B_.ov}},{key:"us",get:function(){return this.Syt.bu.us||this.Lyt.us}}]),n}(RV),DV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Hyt=[],r.Syt=void 0,r.Vyt=void 0,r.Xyt=[],r.Vyt=n,r.Syt=i,r.Syt.Io(pV.gyt,r.kyt),r}U(n,t);var i=n.prototype;return i.Nh=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Xyt.length){t.next=6;break}return this.Xyt=[],r=this.Syt.Igt.map(function(t){return e.Wyt(t,n,i)}),t.next=5,T.all(r);case 5:this.Xyt=t.sent.filter(J);case 6:this.qyt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Wyt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new NV(this,n),t.next=3,i(e);case 3:if(u=t.sent,au(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qyt=function(){if(!this.Xyt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.Ayt=function(){return this.Syt.Ayt()},i.Oyt=function(){return this.Syt.Oyt()},i.Nv=function(){this.Syt.Oo(pV.gyt,this.kyt);for(var t=0,n=this.Xyt;t<n.length;t++){n[t].Nv()}iu(this.Xyt)},L(n,[{key:"Uwt",get:function(){return this.Syt.bu.Uwt}},{key:"Qvt",get:function(){var t;return null!=(t=this.Syt.bu.Qvt)?t:-1}},{key:"bJ",get:function(){if(this.Syt.bu.bJ)return[this.Syt.bu.bJ];for(var t=[],n=0,i=this.Igt;n<i.length;n++){var r=i[n];r.Myt.length&&-1===t.indexOf(r.ss)&&t.push(r.ss)}return t}},{key:"ss",get:function(){return this.bJ.join()}},{key:"bwt",get:function(){return this.Syt.bu.bwt}},{key:"Rgt",get:function(){return this.Syt.bu.Rgt}},{key:"Ff",get:function(){return this.HC+'; codecs="'+this.ss+'"'}},{key:"Twt",get:function(){return this.Hyt}},{key:"Y$",get:function(){return this.Syt.bu.Y$}},{key:"Fwt",get:function(){return this.Syt.bu.Fwt}},{key:"yp",get:function(){return this.Syt.bu.yp||0}},{key:"xl",get:function(){return this.Syt.bu.xl}},{key:"Mgt",get:function(){return this.Syt.bu.Mgt}},{key:"Ewt",get:function(){return this.Syt.bu.Ewt}},{key:"Dyt",get:function(){return this.Qgt.Dyt}},{key:"HC",get:function(){return this.Syt.bu.HC||this.Xyt[0].HC}},{key:"Qgt",get:function(){return this.Vyt}},{key:"Swt",get:function(){return this.Syt.bu.Swt}},{key:"Igt",get:function(){return this.Xyt}},{key:"Ywt",get:function(){return this.Syt.bu.Ywt||[]}},{key:"Rwt",get:function(){return this.Syt.bu.Rwt}},{key:"Iwt",get:function(){return this.Syt.bu.Iwt}},{key:"Nwt",get:function(){return this.Syt.bu.Nwt}},{key:"qR",get:function(){return this.Syt.bu.qR}},{key:"Dwt",get:function(){return this.Syt.bu.Dwt}},{key:"Ys",get:function(){var t=(this.Syt.bu.Ff||this.HC).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||sy(this.HC,this.bJ)?B_.je:"video"===t?B_.kv:"audio"===t?B_.mv:"image"===t?B_.pv:B_.ov}},{key:"us",get:function(){return this.Syt.bu.us||0}},{key:"Ugt",get:function(){return this.Syt.bu.Ml||""}},{key:"zyt",get:function(){return this.pyt}},{key:"Gyt",get:function(){var t=this.zyt,n=this.byt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.Dyt.jyt);return l.max(t,i)}}}]),n}(RV);function CV(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(b.Xu(s,e))}return i}var OV=function(){function t(t,n){this.Vyt=void 0,this.Qyt=void 0,this.pj=void 0,this.Yyt=void 0,this.Zyt=void 0,this.Vyt=t,this.Qyt=n,this.pj=n.Ug,this.Yyt=n.rwt,this.Zyt=n.dwt}var n=t.prototype;return n.Jyt=function(t){var n=t-this.Vyt.pI;if(!(n<0||n>=this.Vyt.N_)){var i=this.$yt();return void 0!==i&&zt(i,n,1e-5)?this.Vgt():this.Kyt(n)}},n.tmt=function(t){var n=t-this.Vyt.pI;if(!(n<0))return this.nmt(l.min(n,this.Vyt.N_))},n.Vgt=function(){return this.imt(0)},n.zgt=function(){var t=this.Vyt.N_;if(isFinite(t))return this.nmt(t)},n.Cyt=function(t){if(this.Vyt.rmt.Ys===KF.dS){var n=this.emt(t);if(!n)return;return{umt:t,smt:this.omt(t),hmt:n}}var i=this.Vgt();if(i)return{umt:t,smt:i,hmt:this.zgt()}},n.Oyt=function(t,n){if(n){var i=this.amt(n.smt),r=this.xct(n.hmt);if(r){var e=this.cmt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Vgt();if(u){var s=this.cmt(u);if(t.getTime()<s.getTime())return s}var o=this.Vyt.rmt.uyt;return t.getTime()<o.getTime()?o:void 0},n.emt=function(t){var n=(t.getTime()-this.Vyt.rmt.uyt.getTime())/1e3-this.Vyt.pI+this.Yyt,i=this.nmt(qt(n,0,this.Vyt.N_));if(i&&(i=this.fmt(i,t))){for(var r=this.xct(i);r&&this.vmt(r,t);)i=r,r=this.xct(i);return i}},n.omt=function(t){var n,i=this.Qyt._wt;if(i){var r=(t.getTime()-this.Vyt.rmt.uyt.getTime())/1e3-this.Vyt.pI-i.Dgt();(n=this.nmt(qt(r,0,this.Vyt.N_)))||(n=this.Vgt())}else n=this.Vgt();if(n&&(n=this.fmt(n,t))){for(var e=this.dmt(n);e&&this.vmt(e,t);)n=e,e=this.dmt(n);return n}},n.fmt=function(t,n){for(var i=t;i&&this.cmt(i).getTime()>n.getTime();)i=this.dmt(i);if(i){var r=this.amt(i);if(r&&r.getTime()<=n.getTime()){var e=this.dmt(i);for(e&&this.vmt(e,n)&&(i=e);i;){if(this.cmt(i).getTime()>n.getTime())return;if(this.vmt(i,n))break;i=this.xct(i)}if(!i)return}return i}},n.vmt=function(t,n){if(this.cmt(t).getTime()>n.getTime())return!1;var i=this.amt(t);return!(i&&n.getTime()>=i.getTime())},n.lmt=function(t,n){if(this._mt(t).getTime()>n.getTime())return!1;var i=this.amt(t);return!(i&&n.getTime()>=i.getTime())},n.gmt=function(t,n,i){var r=tn(n,this.pj)+this.Vyt.pI;return{J5:t,wmt:n,Fy:r,N_:i,Hy:r+i}},n._mt=function(t){return this.Vyt.rmt.Ys===KF.dS?new Date(this.Vyt.rmt.uyt.getTime()+1e3*(t.Fy+t.N_)):this.Vyt.rmt.uyt},n.cmt=function(t){var n=this._mt(t);return this.Vyt.rmt.Ys===KF.dS?new Date(n.getTime()-1e3*this.Yyt):n},n.amt=function(t){var n=1/0;if(this.Vyt.rmt.Ys===KF.dS){var i=this.Qyt._wt;i&&(n=this._mt(t).getTime()+1e3*t.N_+i.Jgt())}var r=this.Vyt.rmt.eyt;return r&&(n=l.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.ymt=function(t,n){return t.J5+n},n.Xgt=function(t){return!1},n.Wgt=function(t,n,i,r,e){var u=this.mmt(t);if(!u)return T.reject(new f("Invalid segment"));var s=this.kmt(u.J5);return s?T.resolve(s):this.pmt(u.J5,n,i,r,e)},n.kmt=function(t){},n.pmt=function(t,n,i,r,e){return T.reject(new f("Not supported"))},n.dmt=function(t){var n=this.mmt(t);if(n)return this.imt(n.J5-1)},n.xct=function(t){var n=this.mmt(t);if(n)return this.imt(n.J5+1)},n.mmt=function(t){var n=this.imt(t.J5);if(n&&n.Fy===t.Fy)return n;var i=this.Jyt(t.Fy);return i&&i.Fy===t.Fy?i:void 0},n.Amt=function(t){var n=this.bmt(t);if(n&&this.Xgt(n.J5)){var i=this.kmt(n.J5);if(i)return i.Amt(t)}},n.bmt=function(t){return this.imt(t.Tmt)},n.xyt=function(t){var n=this.mmt(t);return!!n&&0===n.J5},n.Pyt=function(t){var n=this.Amt(t);return!!n&&0===n.Tyt},n.U6=function(t){var n=this.mmt(t);if(!n)return!1;var i=this.zgt();return!!i&&n.J5===i.J5},n.Byt=function(t){var n=this.Amt(t);if(!n)return!1;var i=this.zgt();if(!i||n.Tmt!==i.J5)return!1;var r=this.kmt(n.Tmt);return n.Tyt+1===r.bl},L(t,[{key:"gm",get:function(){return tn(this.Zyt,this.pj)-this.Vyt.pI}}]),t}(),xV=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).Emt=void 0,r.Smt=void 0;var e=n.Rmt,u=n.N_;if(void 0===e||void 0===u)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.Smt=e,r.Emt=u,r}U(n,t);var i=n.prototype;return i.imt=function(t){if(!(t<0)){var n=this.Smt.multiply(t),i=tn(n,this.pj),r=this.Vyt.N_;if(!(i>=r)){var e=this.Imt();if(void 0!==e){if(t>e)return;if(t===e)return this.gmt(t,n,r-i)}return isFinite(r)&&i+this.Emt>r?this.gmt(t,n,r-i):this.gmt(t,n,this.Emt)}}},i.$yt=function(){return 0},i.Kyt=function(t){var n=l.floor(t/this.Emt),i=this.Imt();return void 0!==i&&n>=i?this.imt(i):this.imt(n)},i.nmt=function(t){if(t>=this.Vyt.N_){var n=l.ceil(this.Vyt.N_/this.Emt)-1,i=this.Imt();return void 0!==i&&n>=i?this.imt(i):this.imt(n)}return this.Kyt(t)},i.Imt=function(){var t,n=this.Qyt.ywt;if(void 0!==n)return n-(null!=(t=this.Qyt.wwt)?t:1);if(isFinite(this.Vyt.N_)){var i=this.Qyt.Nmt;if(void 0!==i&&i>0)return i-1}},i.Dmt=function(){if(isFinite(this.Vyt.N_))return this.zgt()},i.Cmt=function(t,n){return this.Smt.multiply(t.J5+(n-1))},i.Nh=function(){},n}(OV);function PV(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].Fy,s=t[e].Hy;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+l.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),h=t[o],a=h.Fy,c=o+1<i?t[o+1].Fy:h.Hy;if(c.lessThanOrEqual(n))r=o+1,u=c;else{if(!n.lessThan(a))return o;e=o-1,s=a}}return-1}var BV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Omt=[],r.xmt=void 0,r.Pmt=Xt.ZERO,r.Nh(),r}U(n,t);var i=n.prototype;return i.imt=function(t){if(!(t<0))return t<this.Omt.length?this.Omt[t].Rct:this.Bmt(t-this.Omt.length)},i.$yt=function(){if(this.Omt.length>0)return tn(this.Omt[0].Fy,this.pj)},i.Kyt=function(t){if(this.xmt&&tn(this.xmt.Fy,this.pj)<=t){var n=tn(this.xmt.Fy,this.pj),i=tn(this.xmt.N_,this.pj),r=l.floor((t-n)/i);return this.Bmt(r)}if(this.Omt.length>0&&zt(t,tn(this.Omt[0].Fy,this.pj),1e-5))return this.Omt[0].Rct;var e=PV(this.Omt,Xt.fromNumber(t*this.pj));return e<0?void 0:this.Omt[e].Rct},i.nmt=function(t){if(!this.xmt&&this.Omt.length>0){var n=this.Omt[this.Omt.length-1];if(i=t,r=tn(n.Hy,this.pj),o_(i,r,1e-5)>=0)return n.Rct}var i,r,e=this.$yt();return e&&t<e?this.Omt[0].Rct:this.Kyt(t)},i.Dmt=function(){return isFinite(this.Vyt.N_)?this.zgt():this.imt(this.Omt.length-1)},i.Cmt=function(t){return this.Lmt(t)},i.Bmt=function(t){if(this.xmt){var n=this.xmt.Fy,i=this.xmt.N_,r=n.add(i.multiply(t)),e=tn(r,this.pj),u=this.Vyt.N_;if(!(e>=u)){var s=this.Omt.length+t,o=l.min(tn(i,this.pj),e+u);return this.gmt(s,r,o)}}},i.Lmt=function(t){return t.wmt.add(this.Zyt)},i.Nh=function(){var t=this.Qyt.bu.Hgt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Mmt(t)},i.Mmt=function(t){var n=this.Zyt;this.Umt(t,n);var i=this.Fmt(t);this.Hmt(t,n,i.Vmt,i.Tmt)},i.Umt=function(t,n){var i=this.Omt;if(0===t.length)iu(i);else{for(var r=t[0],e=r.Fy?Xt.fromString(r.Fy,!1).subtract(n):Xt.ZERO,u=0;u<i.length&&i[u].Fy.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.Fmt=function(t){for(var n=this.Omt,i=this.Pmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].uwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].Fy.greaterThanOrEqual(i))break;if(n[e].Rct.J5===e)e=s+1;else for(;e<=s;)n[e].Rct.J5=e,e++;0,r++}return{Vmt:r,Tmt:e}},i.Hmt=function(t,n,i,r){for(var e,u=this.Omt,s=i,o=r;s<t.length;){var h=t[s],a=Xt.fromString(h.N_,!1),c=h.uwt||0,f=void 0;if(h.Fy){if(f=Xt.fromString(h.Fy,!1).subtract(n),o>0){var v=u[o-1];v.Hy.greaterThan(f)&&(v.N_=f.subtract(v.Fy),v.Hy=v.Fy.add(v.N_))}}else f=o>0?u[o-1].Hy:Xt.ZERO;if(c<0){if(s+1===t.length){e={Fy:f,N_:a};break}for(var d=Xt.fromString(t[s+1].Fy,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Xmt(u,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.Xmt(u,o,f,a,g),f=g,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Pmt=u[u.length-1].Fy),this.xmt=e},i.Xmt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.N_.equals(r)?u.Rct.J5=n:t[n]={Fy:i,N_:r,Hy:e,Rct:this.gmt(n,i,tn(r,this.pj))}}else t.push({Fy:i,N_:r,Hy:e,Rct:this.gmt(n,i,tn(r,this.pj))})},n}(OV),LV=function(){function t(t,n,i){this.Qgt=void 0,this.Wmt=void 0,this.nr=void 0,this.qmt=void 0,this.zmt=void 0,this.Qgt=t,this.Wmt=n,this.nr=i}var n=t.prototype;return n.Gmt=function(){if(this.zmt=this.jmt(),this.zmt)return this.zmt;if(this.Wmt)return this.Wmt.Hgt;throw new f("Missing media segment information.")},n.Uyt=function(t){var n=this.vwt;if(n)return{uv:(void 0!==n.ewt?b.Xu(n.ewt,t.Cwt[0]):t.Cwt[0]).href,WY:n.WY};var i=this.swt;return i?{uv:t.Cwt[0].href,WY:[0,i[0]-1]}:void 0},n.Nh=function(t){this.nr=t,this.zmt&&this.zmt.Nh()},L(t,[{key:"bu",get:function(){return this.nr}},{key:"rwt",get:function(){return this.nr&&void 0!==this.nr.rwt?this.nr.rwt:this.Wmt?this.Wmt.rwt:0}},{key:"dwt",get:function(){return this.nr&&void 0!==this.nr.dwt?this.nr.dwt:this.Wmt?this.Wmt.dwt:Xt.ZERO}},{key:"_wt",get:function(){return this.nr&&void 0!==this.nr._wt?this.nr._wt:this.Wmt?this.Wmt._wt:this.Qgt.rmt._wt}},{key:"Ug",get:function(){return this.nr&&void 0!==this.nr.Ug?this.nr.Ug:this.Wmt&&this.Wmt.Ug?this.Wmt.Ug:1}},{key:"swt",get:function(){return this.nr&&void 0!==this.nr.swt?this.nr.swt:this.Wmt?this.Wmt.swt:void 0}},{key:"vwt",get:function(){return this.nr&&void 0!==this.nr.vwt?this.nr.vwt:this.Wmt?this.Wmt.vwt:void 0}},{key:"Hgt",get:function(){return this.qmt||(this.qmt=this.Gmt()),this.qmt}}]),t}(),MV=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.jmt=function(){return this.nr.Hgt?new BV(this,this.Qgt):void 0!==this.nr.N_?new xV(this,this.Qgt):void 0},L(n,[{key:"N_",get:function(){return void 0!==this.nr.N_?this.nr.N_/this.Ug:this.Wmt&&this.Wmt instanceof n?this.Wmt.N_:void 0}},{key:"Rmt",get:function(){return void 0!==this.nr.N_?Xt.fromNumber(this.nr.N_):this.Wmt&&this.Wmt instanceof n?this.Wmt.Rmt:void 0}},{key:"wwt",get:function(){return void 0!==this.nr.wwt?this.nr.wwt:this.Wmt&&this.Wmt instanceof n?this.Wmt.wwt:void 0}},{key:"ywt",get:function(){return void 0!==this.nr.ywt?this.nr.ywt:this.Wmt&&this.Wmt instanceof n?this.Wmt.ywt:void 0}}]),n}(LV),UV=function(){function t(t){this.Qmt=void 0,this.Qmt=t}return t.prototype.fh=function(t){return this.Qmt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=br(s,Number(r),"0")})},t}();var FV=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ymt=void 0,e.Zmt=void 0,e.Ymt=r.pwt?new UV(r.pwt):void 0,e.Zmt=r.Awt?new UV(r.Awt):void 0,e}U(n,t);var i=n.prototype;return i.Uyt=function(n){var i=this.pwt;if(!i)return t.prototype.Uyt.call(this,n);var r=i.fh({Bandwidth:n.bu.jS,RepresentationID:n.bu.xl});return{uv:b.Vu(r,n.Cwt[0])}},i.jgt=function(t,n){var i,r=null!=(i=n.Fyt.wwt)?i:1,e=this.Awt.fh({Bandwidth:n.bu.jS,Number:n.Hgt.ymt(t,r),RepresentationID:n.bu.xl,Time:n.Hgt.Cmt(t,r)});return{uv:b.Vu(e,n.Cwt[0])}},i.Nyt=function(t,n){},L(n,[{key:"pwt",get:function(){return this.Ymt?this.Ymt:this.Wmt&&this.Wmt instanceof n?this.Wmt.pwt:void 0}},{key:"Awt",get:function(){return this.Zmt?this.Zmt:this.Wmt&&this.Wmt instanceof n?this.Wmt.Awt:void 0}},{key:"Nmt",get:function(){}}]),n}(MV),HV=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.jgt=function(t,n){var i=this.nr.hwt[t.J5],r=n.Cwt[0];return{uv:(i.fp?b.Xu(i.fp,r):r).href,WY:i.owt}},i.Nyt=function(t,n){},L(n,[{key:"Nmt",get:function(){return void 0!==this.nr.hwt?this.nr.hwt.length:this.Wmt&&this.Wmt instanceof MV?this.Wmt.Nmt:void 0}}]),n}(MV),VV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Tmt=void 0,s.Jmt=void 0,s.Ug=void 0,s.$mt=void 0,s.dwt=void 0,s.Kmt=void 0,s.Tmt=n,s.Jmt=i,s.Ug=r.Ug,s.$mt=e,s.dwt=u,s.Kmt=s.tkt(r),s}U(n,t);var i=n.prototype;return i.qgt=function(t){if(t>=0&&t<this.bl)return this.nkt(this.Kmt[t])},i.ikt=function(t){var n=this.rkt(t);if(this.Kmt.length>0){var i=this.Kmt[0];if(n<=tn(i.Fy,this.Ug))return this.nkt(i)}var r=PV(this.Kmt,Xt.fromNumber(n*this.Ug));if(!(r<0))return this.nkt(this.Kmt[r])},i.ekt=function(t){var n=this.rkt(t);if(this.Kmt.length>0){var i=this.Kmt[this.Kmt.length-1];if(n>=tn(i.Hy,this.Ug))return this.nkt(i)}return this.ikt(t)},i.nkt=function(t){var n=tn(t.Fy,this.Ug)-this.dwt,i=n+this.$mt,r=tn(t.N_,this.Ug);return{Tmt:this.Tmt,Tyt:t.J5,Fy:i,wmt:Xt.fromNumber(n*this.Ug),N_:r,Hy:i+r,ukt:[this.Jmt+t.Jmt,this.Jmt+t.skt]}},i.tkt=function(t){for(var n=[],i=t.nb,r=t.ib.toNumber(),e=0,u=0,s=t.eb;u<s.length;u++){var o=s[u],h=o.YA,a=Xt.fromNumber(o.N_),c=i.add(a);0===o.QA&&n.push({J5:e++,Fy:i,N_:a,Hy:c,Jmt:r,skt:r+h-1}),r+=h,i=c}return n},i.rkt=function(t){return t-this.$mt+this.dwt},L(n,[{key:"bl",get:function(){return this.Kmt.length}}]),n}(function(){function t(){}return t.prototype.Amt=function(t){var n=this.qgt(t.Tyt);if(n&&n.Fy===t.Fy)return n;var i=this.ikt(t.Fy);return i&&i.Fy===t.Fy?i:void 0},t}()),XV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).okt=void 0,r.act=void 0,r.hkt=void 0,r.okt=n.swt,r.act=r.gmt(0,Xt.ZERO,r.Vyt.N_),r}U(n,t);var i=n.prototype;return i.imt=function(t){if(0===t)return this.act},i.$yt=function(){return 0},i.Kyt=function(t){return this.act},i.nmt=function(t){return this.Kyt(t)},i.Dmt=function(){return this.act},i.Cmt=function(t,n){return Xt.ZERO},i.Cyt=function(t){var n=this.akt(t);return n&&{umt:t,smt:n,hmt:n}},i.akt=function(t){var n=this.act;return this.vmt(n,t)?n:void 0},i.emt=function(t){return this.akt(t)},i.omt=function(t){return this.akt(t)},i.Nh=function(){},i.Xgt=function(t){return 0===t&&void 0!==this.okt},i.kmt=function(t){return this.hkt},i.pmt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e,u){var s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.Cwt[0].href,o=this.okt,t.next=4,e.ckt(s,o,r,u);case 4:return h=t.sent,this.hkt=this.fkt(n,h),t.abrupt("return",this.hkt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.fkt=function(t,n){var i=this.okt,r=Aw.Ok(new DataView(n),new Gs);if(r.Ys!==Og.rk)throw new f("Invalid segment index");var e=Rw.Zk(r.bu),u=i[1]+1;return new VV(t,u,e,this.Vyt.pI,tn(this.Zyt,this.pj))},n}(OV),WV=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.jgt=function(t,n){return{uv:n.Cwt[0].href}},i.Nyt=function(t,n){return{uv:n.Cwt[0].href,WY:t.ukt}},i.jmt=function(){return new XV(this,this.Qgt)},L(n,[{key:"wwt",get:function(){}}]),n}(LV),qV=function(t){function n(){return t.call(this,pV.gyt)||this}return U(n,t),n}(Ru);var zV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e.vkt=void 0,e.Qyt=void 0,e.dkt=1/0,e.lkt=void 0,e.an=i,e._kt(n,r),e}U(n,t);var i=n.prototype;return i.gkt=function(){return this.Qyt||this.an&&this.an.gkt()},i.wkt=function(t){var n=this.Qgt,i=this.an&&this.an.gkt();this.nr.Mwt?this.Qyt=new FV(n,i,this.nr.Mwt):this.nr.Lwt?this.Qyt=new HV(n,i,this.nr.Lwt[0]):this.nr.Bwt?this.Qyt=new WV(n,i,this.nr.Bwt):t&&!i&&(this.Qyt=new WV(n,i,void 0))},i._kt=function(t,n){this.nr=t,this.vkt=t.Cwt&&t.Cwt.length>0?CV(t.Cwt.map(function(t){return t.uv}),n):n.slice(),this.Qyt&&(t.Mwt?this.Qyt.Nh(t.Mwt):t.Lwt?this.Qyt.Nh(t.Lwt[0]):t.Bwt&&this.Qyt.Nh(t.Bwt))},i.Ayt=function(){var t;return null==(t=this.lkt)?void 0:t.ykt},i.Oyt=function(){var t;return null==(t=this.lkt)?void 0:t.mkt},i.kkt=function(t){var n=this.dkt,i=this.Qgt.N_,r=this.lkt,e=this.pkt(t);r&&zt(i,n,1e-5)&&YV(r,e)||(this.dkt=i,this.lkt=e,this.Ro(new qV))},i.vo=function(){this.Co()},L(n,[{key:"bu",get:function(){return this.nr}},{key:"Cwt",get:function(){return this.vkt}}]),n}(Eu);function GV(t){for(var n,i=0;i<t.length;i++){var r=t[i].Ayt();if(r){n=r.pI;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Ayt();if(s){e=s.bI;break}}if(void 0!==e)return{pI:n,bI:e}}}function jV(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Ayt();if(!e)return;if((n=l.max(n,e.pI))>=(i=l.min(i,e.bI)))return}return{pI:n,bI:i}}}function QV(t){for(var n,i=0;i<t.length;i++){var r=t[i].Oyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function YV(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.mkt,n.mkt)&&function(t,n){return t&&n?zt(t.pI,n.pI,1e-5)&&zt(t.bI,n.bI,1e-5):t===n}(t.ykt,n.ykt)}var ZV=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Vyt=void 0,e.by=void 0,e.Akt=void 0,e.Vyt=n,e.by=i,e.Akt=r.slice();for(var u=0;u<r.length;u++){r[u].Io(pV.gyt,e.kyt)}return e}U(n,t);var i=n.prototype;return i.Ayt=function(){return jV(this.Akt)},i.Oyt=function(){for(var t,n=0,i=this.Akt;n<i.length;n++){var r=i[n].Oyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Nv=function(){this.Co();for(var t=0,n=this.Akt;t<n.length;t++){n[t].Oo(pV.gyt,this.kyt)}},L(n,[{key:"Lgt",get:function(){return this.Akt}},{key:"bJ",get:function(){return this.Lgt.reduce(function(t,n){for(var i=0,r=n.bJ;i<r.length;i++){var e=r[i];tu(t,e)||t.push(e)}return t},[])}},{key:"ss",get:function(){return this.bJ.length>0?this.bJ[0]:""}},{key:"Ys",get:function(){return this.Akt[0].Ys}},{key:"xl",get:function(){return this.by}},{key:"Dyt",get:function(){return this.Vyt.Dyt}},{key:"HC",get:function(){return this.Akt[0].HC}},{key:"Qgt",get:function(){return this.Vyt}},{key:"Igt",get:function(){return eu(this.Lgt,function(t){return t.Igt})}}]),n}(RV),JV=function(t){function n(){return t.call(this,pV.yyt)||this}return U(n,t),n}(Ru);function $V(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.Fwt;void 0===u||(e=Ze(n,function(t){return t.xl===u})),e||(e={xl:u,Lgt:[]},n.push(e)),e.Lgt.push(r)},r=0;r<t.length;r++)i(r);return n}var KV,tX=function(t){function n(n,i){var r;return(r=t.call(this)||this).Syt=void 0,r.Akt=[],r.bkt=[],r.Tkt=void 0,r.Ekt=!1,r.Tkt=n,r.Syt=i,r.Syt.Io(pV.gyt,r.kyt),r}U(n,t);var i=n.prototype;return i.Skt=function(t,n){if(0!==this.bkt.length){for(var i=t,r=0,e=this.bkt;r<e.length;r++){var u=e[r],s=u.Ys;if(s===B_.mv||s===B_.kv){var o=u.byt;if(void 0===o)return;i=n(i,o)}}return i}},i.Rkt=function(){this.Ekt||(this.Ekt=!0,this.Ro(new JV),this.Nv())},i.Nh=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Akt.length){t.next=7;break}return t.next=3,this.Ikt(this.Syt.Lgt,n,i);case 3:this.Nkt(this.Akt),au(i),t.next=9;break;case 7:return t.next=9,this.Dkt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ikt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new DV(this,u),t.prev=4,t.next=7,s.Nh(i,r);case 7:this.Akt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),cu(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Nkt=function(t){for(var n=$V(t),i=0;i<n.length;i++){var r=n[i],e=new ZV(this,r.xl,r.Lgt);this.bkt.push(e)}},i.Dkt=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Akt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u.Nh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ayt=function(){return this.Syt.Ayt()},i.Oyt=function(){return this.Syt.Oyt()},i.Nv=function(){this.Co(),this.Syt.Oo(pV.gyt,this.kyt);for(var t=0,n=this.bkt;t<n.length;t++){n[t].Nv()}for(var i=0,r=this.Akt;i<r.length;i++){r[i].Nv()}iu(this.Akt),iu(this.bkt)},L(n,[{key:"Lgt",get:function(){return this.Akt}},{key:"Pgt",get:function(){return this.bkt}},{key:"nyt",get:function(){return this.Syt.bu.nyt}},{key:"N_",get:function(){return this.Syt.N_}},{key:"bI",get:function(){return this.pI+this.N_}},{key:"iyt",get:function(){return this.Syt.bu.iyt||[]}},{key:"xl",get:function(){return this.Syt.xl}},{key:"myt",get:function(){return this.Ekt}},{key:"Dyt",get:function(){return this.Tkt}},{key:"Ckt",get:function(){return this.Tkt.Okt(this)}},{key:"Qgt",get:function(){return this}},{key:"xkt",get:function(){return this.Tkt.Pkt(this)}},{key:"Bkt",get:function(){return this.Skt(1/0,l.min)}},{key:"Lkt",get:function(){return this.Skt(0,l.max)}},{key:"pI",get:function(){return this.Syt.pI}},{key:"Sv",get:function(){return this.Dyt.Sv}}]),n}(RV),nX=function(t){function n(){return t.call(this,Go.Za)||this}return U(n,t),n}(Ru);!function(t){t.Mkt="Ukt"}(KV||(KV={}));var iX=function(t){function n(){return t.call(this,KV.Mkt)||this}return U(n,t),n}(Ru),rX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Cwt)||this).Eyt=void 0,r.Fkt=void 0,r.Eyt=i,r.wkt(!0),r}U(n,t);var i=n.prototype;return i.Uyt=function(){return this.Fyt.Uyt(this)},i.jgt=function(t){return this.Fyt.jgt(t,this)},i.Nyt=function(t){return this.Fyt.Nyt(t,this)},i.Cyt=function(){return this.Fkt},i.pkt=function(t){var n=this.Hgt,i=n.Cyt(t),r=i&&function(t,n){var i,r=t.smt,e=t.hmt,u=t.umt,s=r.Fy,o=n._mt(e);if(o.getTime()<=u.getTime())i=e.Hy;else{var h=(o.getTime()-u.getTime())/1e3,a=l.max(e.N_-h,0);i=e.Fy+a}return{pI:s,bI:i}}(i,n),e=this.Hgt.Oyt(t,i);return this.Fkt=i,{umt:t,ykt:r,mkt:e}},i.Nh=function(t){this._kt(t,this.Eyt.Cwt)},L(n,[{key:"Lyt",get:function(){return this.Eyt}},{key:"Qgt",get:function(){return this.Eyt.Qgt}},{key:"rmt",get:function(){return this.Eyt.rmt}},{key:"Fyt",get:function(){return this.gkt()}},{key:"Hgt",get:function(){return this.Fyt.Hgt}}]),n}(zV),eX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Cwt)||this).Vyt=void 0,r.Xyt=void 0,r.Vyt=i,r.wkt(!1),r.Xyt=n.Igt.map(function(t){return new rX(t,en(r))}),r}U(n,t);var i=n.prototype;return i.Nh=function(t){this._kt(t,this.Vyt.Cwt);var n=t.Igt||[];if(this.Xyt.length!==n.length)throw new f("Expected "+this.Xyt.length+' representations in adaptation set "'+t.xl+'", found '+n.length);for(var i=0;i<n.length;i++)this.Xyt[i].Nh(n[i])},i.kkt=function(n){for(var i=0,r=this.Xyt;i<r.length;i++){r[i].kkt(n)}t.prototype.kkt.call(this,n)},i.pkt=function(t){return{umt:t,ykt:jV(this.Xyt),mkt:QV(this.Xyt)}},i.vo=function(){for(var n=0,i=this.Xyt;n<i.length;n++){i[n].vo()}t.prototype.vo.call(this)},L(n,[{key:"Igt",get:function(){return this.Xyt}},{key:"Qgt",get:function(){return this.Vyt}},{key:"rmt",get:function(){return this.Vyt.rmt}},{key:"Fwt",get:function(){return this.nr.Fwt}}]),n}(zV),uX=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Cwt)||this).Hkt=void 0,u.cb=void 0,u.EF=void 0,u.Akt=void 0,u.bkt=[],u.Hkt=n,u.cb=r,u.EF=e,u.wkt(!1),u.Akt=(i.Lgt||[]).map(function(t){return new eX(t,en(u))}),u.bkt=$V(u.Akt),u}U(n,t);var i=n.prototype;return i.Nh=function(t,n){this._kt(t,this.Hkt.Cwt),this.EF=n;var i=t.Lgt||[];if(this.Akt.length!==i.length)throw new f("Expected "+this.Akt.length+' adaptation sets in period "'+t.xl+'", found '+i.length);for(var r=0;r<i.length;r++)this.Akt[r].Nh(i[r])},i.kkt=function(n){for(var i=0,r=this.Akt;i<r.length;i++){r[i].kkt(n)}t.prototype.kkt.call(this,n)},i.pkt=function(t){return{umt:t,ykt:jV(this.Akt),mkt:QV(this.Akt)}},i.vo=function(){for(var n=0,i=this.Akt;n<i.length;n++){i[n].vo()}t.prototype.vo.call(this)},L(n,[{key:"Lgt",get:function(){return this.Akt}},{key:"Pgt",get:function(){return this.bkt}},{key:"Qgt",get:function(){return this}},{key:"rmt",get:function(){return this.Hkt}},{key:"xl",get:function(){return this.nr.xl}},{key:"pI",get:function(){return this.cb}},{key:"N_",get:function(){return this.EF}}]),n}(zV),sX=new Date("2000-01-01"),oX=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).nr=void 0,u.Vkt=void 0,u.Xkt=void 0,u.QH=void 0,u.Wkt=void 0,u.lkt=void 0,u.vkt=void 0,u.qkt=void 0,u.zkt=void 0,u.Gkt=void 0,u.jkt=[],u.Vkt=i,u.Nh(n,r,e),n.Ys===KF.dS){var s=u.Dmt();s&&s.eyt&&s.eyt.getTime()<sX.getTime()&&(u.Gkt=new Date(u.vyt.getTime()-1e3*(s.Rct.Fy+s.Rct.N_)),u.kkt(e))}return u}U(n,t);var i=n.prototype;return i.Ayt=function(){var t;return null==(t=this.lkt)?void 0:t.ykt},i.Oyt=function(){var t;return null==(t=this.lkt)?void 0:t.mkt},i.Nh=function(t,n,i,r){var e;this.nr=t,this.Xkt=n,this.Wkt=null!=r?r:i,this.QH=i;var u,s=[(u=n,b.Xu(".",u))];this.vkt=t.Cwt&&t.Cwt.length>0?CV(t.Cwt.map(function(t){return t.uv}),s):s,this.qkt=t.syt&&t.syt.length>0?CV(t.syt,this.vkt):[];var o=this.qkt.map(function(t){return t.href}),h=n.href;tu(o,h)||(this.qkt.push(n),o.push(h));var a=this.Vkt.href;tu(o,a)||(this.qkt.push(this.Vkt),o.push(a)),this.zkt=null==(e=t.Cgt)?void 0:e.Dgt();var c=t.Ys===KF.dS,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.pI)s=u.pI.Dgt();else if(e>0&&t[e-1].N_){var o=r[e-1],h=t[e-1].N_.Dgt();s=o+h}else{if(0!==e||n)break;s=0}r.push(s)}for(var a=[],c=0;c<r.length-1;c++)a.push({bu:t[c],pI:r[c],N_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.N_?v.N_.Dgt():i-d),a.push({bu:v,pI:d,N_:l})}return a}(t.Ngt,c,this.zkt);this.Qkt(f),this.kkt(i)},i.Qkt=function(t){var n=this.jkt;if(0!==t.length){for(var i=t[0].bu.xl,r=0;r<n.length&&n[r].xl!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].vo()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var h=n[s];0,h.Nh(o.bu,o.N_)}else n.push(new uX(this,o.bu,o.pI,o.N_))}}else iu(n)},i.kkt=function(t){for(var n=0,i=this.jkt;n<i.length;n++){i[n].kkt(t)}var r=this.lkt,e=this.pkt(t);r&&YV(r,e)||(this.lkt=e,this.Ro(new qV))},i.pkt=function(t){return{umt:t,ykt:GV(this.jkt),mkt:QV(this.jkt)}},i.Dmt=function(){if(0!==this.jkt.length){var t=this.jkt[this.jkt.length-1];if(!isFinite(t.N_)&&0!==t.Lgt.length){var n=t.Lgt[0];if(0!==n.Igt.length){var i=n.Igt[0].Hgt,r=i.Dmt();if(r)return{Rct:r,eyt:i.amt(r)}}}}},i.vo=function(){this.Co();for(var t=0,n=this.jkt;t<n.length;t++){n[t].vo()}},L(n,[{key:"bu",get:function(){return this.nr}},{key:"Ys",get:function(){return this.nr.Ys||KF.vS}},{key:"uyt",get:function(){return this.Gkt||this.nr.uyt||this.vyt}},{key:"eyt",get:function(){return this.nr.eyt}},{key:"Cgt",get:function(){return this.zkt}},{key:"Cwt",get:function(){return this.vkt}},{key:"syt",get:function(){return this.qkt}},{key:"Ngt",get:function(){return this.jkt}},{key:"vyt",get:function(){return this.nr.vyt||this.QH}},{key:"_wt",get:function(){return this.nr._wt}},{key:"Ykt",get:function(){return this.Wkt}},{key:"Zkt",get:function(){return this.QH}}]),n}(Eu);var hX=function(){function t(t,n,i){this.Jkt=0,this.Sb=t,this.$kt=n,this.Kkt=i}var n=t.prototype;return n.rT=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tpt(n,this.Sb,this.$kt,this.Kkt).catch(fu);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.npt=function(){return new Date(Zt()+this.Jkt)},n.tpt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.ipt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}au(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.rpt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Jkt=void 0===u?0:u-Zt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.rpt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.Egt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.uu)){t.next=9;break}return t.next=8,this.ipt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.uu)){t.next=15;break}if(o=new Date(s).getTime(),w(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.ipt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.rv({uv:i,Av:Tf.GET,Kf:jo.je,Ao:r});case 3:return e=t.sent,t.next=6,e.Bf();case 6:if(u=t.sent,s=new Date(u).getTime(),w(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),cu(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),aX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ept=void 0,u.Syt=void 0,u.upt=void 0,u.IZ=!0,u.jkt=[],u.spt=void 0,u.hpt=void 0,u.apt=void 0,u.Sb=void 0,u.cpt=void 0,u.spt=n,u.upt=n.Yl,u.hpt=i,u.Sb=r,u.ept=e,u.cpt=new hX(u.Sb,u.ept,u.spt.fpt),u}U(n,t);var i=n.prototype;return i.Qrt=function(t){var n=this.gy;this.IZ=t,n!==this.gy&&this.Ro(new iX)},i.Nh=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c,f,v,d,l,_,g;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=[],s=[],o=n.oyt?b.Xu(n.oyt,this.upt):this.upt,void 0!==this.Syt){t.next=10;break}return t.next=6,this.cpt.rT(n.lyt);case 6:this.Syt=new oX(n,this.upt,o,this.npt()),this.Syt.Io(pV.gyt,this.So),t.next=11;break;case 10:this.Syt.Nh(n,o,this.npt(),i);case 11:if(0===(h=this.Syt.Ngt).length)a=this.jkt.slice(),iu(this.jkt);else{for(c=h[0].xl,f=0;f<this.jkt.length&&this.jkt[f].xl!==c;)f++;for(a=this.jkt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.jkt.length?l=this.jkt[v]:(l=new tX(this,d),u.push(l)),s.push(l.Nh(this.hpt,r))}return t.next=15,T.all(s);case 15:for((e=this.jkt).push.apply(e,u),_=0,g=a;_<g.length;_++)g[_].Rkt();this.Ro(new nX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.npt=function(){return this.cpt.npt()},i.Pkt=function(t){var n=this.jkt.indexOf(t);if(n>0)return this.jkt[n-1]},i.Okt=function(t){var n=this.jkt.indexOf(t);if(n>=0&&n+1<this.jkt.length)return this.jkt[n+1]},i.Ayt=function(){return this.Syt?this.Syt.Ayt():void 0},i.Oyt=function(){return this.Syt&&this.Syt.Oyt()},i.kkt=function(t){this.Syt&&this.Syt.kkt(t)},i.Nv=function(){this.Co(),this.apt=void 0,this.Qrt(!1);for(var t=0,n=this.jkt;t<n.length;t++){n[t].Nv()}iu(this.jkt),this.Syt&&this.Syt.vo()},L(n,[{key:"eyt",get:function(){return this.Syt&&this.Syt.eyt}},{key:"uyt",get:function(){return this.Syt&&this.Syt.uyt}},{key:"xl",get:function(){return this.Syt&&this.Syt.bu.xl}},{key:"Ykt",get:function(){var t;return null==(t=this.Syt)?void 0:t.Ykt}},{key:"vpt",get:function(){var t;return null==(t=this.Syt)?void 0:t.Zkt}},{key:"syt",get:function(){return this.Syt?this.Syt.syt.map(function(t){return t.href}):[this.xgt]}},{key:"xgt",get:function(){return this.upt.href}},{key:"hyt",get:function(){return this.Syt&&this.Syt.bu.hyt}},{key:"ayt",get:function(){return this.Syt&&this.Syt.bu.ayt}},{key:"Cgt",get:function(){return this.Syt&&this.Syt.bu.Cgt}},{key:"cyt",get:function(){return this.Syt&&this.Syt.bu.cyt}},{key:"fyt",get:function(){var t,n,i=(null==(t=this.Syt)?void 0:null==(n=t.bu.fyt)?void 0:n.Jgt())||0;return l.max(i,fX)}},{key:"gy",get:function(){return this.IZ}},{key:"Ngt",get:function(){return this.jkt}},{key:"dpt",get:function(){return this.Ys===KF.dS?this.jyt:this.lpt}},{key:"_pt",get:function(){var t=this.dpt;if(void 0!==t)for(var n=0,i=this.Ngt;n<i.length;n++){var r=i[n];if(r.pI<=t&&r.bI>t)return r}}},{key:"Swt",get:function(){return this.Syt&&this.Syt.bu.Swt}},{key:"vyt",get:function(){return this.Syt&&this.Syt.vyt}},{key:"Bkt",get:function(){for(var t=this.jkt.length-1;t>=0;t-=1){var n=this.jkt[t].Bkt;if(n)return n}}},{key:"jyt",get:function(){var t=this.Bkt;if(void 0!==t){var n=t-this.gpt;return l.max(n,this.lpt)}}},{key:"lpt",get:function(){for(var t=0,n=this.jkt;t<n.length;t++){var i=n[t].pyt;if(void 0!==i)return i}}},{key:"Sv",get:function(){return Boolean(this.spt.Sv)}},{key:"gpt",get:function(){var t=this.Syt&&this.Syt.bu.dyt;return t?t.Dgt():this.Ys===KF.dS?this.qtt:0}},{key:"qtt",get:function(){return this.spt.qtt?this.spt.qtt:1.5*this.cyt.Dgt()}},{key:"_wt",get:function(){return this.Syt&&this.Syt._wt}},{key:"Ys",get:function(){return this.Syt?this.Syt.Ys:void 0}}]),n}(Eu),cX=function(){function t(t,n,i,r){this.Tkt=void 0,this.Tkt=new aX(t,n,i,r)}return L(t,[{key:"Dyt",get:function(){return this.Tkt}}]),t}(),fX=1e3,vX=l.pow(2,31)-1,dX=function(){function t(t,n,i,r){var e=this;this.C8=void 0,this.Syt=void 0,this.wpt=void 0,this.ypt=void 0,this.mpt=void 0,this.kpt=new su,this.ppt=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.Syt.Dyt.npt(),t.next=4,e.Apt(e.Syt.Dyt.syt,n);case 4:return r=t.sent,t.next=7,e.Syt.Dyt.Nh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),iy(t.t0)&&e.Syt.Dyt.Qrt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.C8=r,this.Syt=new cX(t,n,i,this.kpt.Ao)}var n=t.prototype;return n.Ed=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Syt.Dyt.Ro(new bS),t.prev=1,t.next=4,$M(this.ppt,n);case 4:this.Syt.Dyt.Qrt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),cu(t.t0),this.ypt=void 0,this.Syt.Dyt.Qrt(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.wpt=this.bpt(this.kpt.Ao);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.bpt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.Syt.Dyt.Ys!==KF.dS){t.next=6;break}return t.next=4,vu(this.Tpt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.Ept=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(n),!((i=this.Spt())>0)){t.next=6;break}return r=l.min(i,vX),t.next=6,ku(r,n);case 6:return t.prev=6,t.next=9,$M(this.ppt,n,1/0,fX,3e4);case 9:this.Syt.Dyt.Qrt(!0);case 10:return t.prev=10,this.mpt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.Spt=function(){var t=this.Syt.Dyt.npt().getTime()-this.Syt.Dyt.Ykt.getTime();return this.Syt.Dyt.fyt-t},n.Rpt=function(t){var n=this.Syt.Dyt.Oyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Syt.Dyt.kkt(t);var r=this.Syt.Dyt.Oyt();return r?r.getTime()-t.getTime():NaN},n.Ipt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mpt||(this.mpt=this.Ept(n)),(i=new su).ko(n),t.prev=3,t.next=6,T.race([this.mpt,this.Npt(i.Ao)].filter(J));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),fu(t.t0);case 11:return t.prev=11,i.mo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.Npt=function(t){var n=this.Syt.Dyt.npt(),i=this.Rpt(n);if(!w(i))return this.Dpt(i,t)},n.Dpt=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ku(n,i);case 2:r=this.Syt.Dyt.npt(),this.Syt.Dyt.kkt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Apt=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C8.I8(n,{},i,!1);case 2:return r=t.sent,e=new AV,t.abrupt("return",e.vlt(r.y8,r.ev));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Nv=function(){return this.kpt.mo(),this.wpt=void 0,this.ypt=void 0,this.mpt=void 0,this.Syt.Dyt.Nv(),T.resolve()},L(t,[{key:"Cpt",get:function(){return this.Syt}},{key:"B0",get:function(){return this.ypt||(this.ypt=this.Ed(this.kpt.Ao),wu(this.ypt)),this.ypt}},{key:"Tpt",get:function(){return this.Syt.Dyt.vpt&&this.Syt.Dyt.Ys===KF.dS?this.Ipt(this.kpt.Ao):this.B0}}]),t}(),lX=function(){function t(t,n,i){this.C8=t,this.Opt=n,this.xpt=i}var n=t.prototype;return n.Ppt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!gl(i=n.type)){t.next=9;break}return t.next=6,this.Bpt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!_l(i)){t.next=15;break}return t.next=12,this.Lpt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Bpt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dH(n.src,this.C8);case 3:return i=t.sent,t.next=6,_H(i,this.C8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.Lpt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new dX({Yl:b.Xu(n.src),qtt:n.liveOffset,fpt:n.timeServer,Sv:n.useCredentials},this.xpt,Of.Bv,this.C8),t.next=4,i.B0;case 4:return t.next=6,GF(i.Cpt.Dyt,n.contentProtection,this.Opt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),_X=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Ff,MediaSource.isTypeSupported(i)||oy(n.HC,n.bJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.Rgt){t.next=17;break}r=n.Rgt,e=eu(r,function(t){return Ve(t.Egt)}).filter(J),u=0;case 7:if(!(u<e.length)){t.next=16;break}return s=e[u],t.next=11,b.Ss(s,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:u++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),gX=function(){function t(t){this.Mpt=void 0,this.Upt=[],this.Fpt=0,this.Mpt=t}var n=t.prototype;return n.Hpt=function(){var t=new Qs;return this.Upt.push(t),this.Vpt(),t.ah},n.Xpt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.Fpt-=1,this.Vpt(),0===this.Upt.length&&0===this.Fpt&&i.fh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Vpt=function(){this.Upt.length>0&&this.Fpt<this.Mpt&&(this.Upt.shift().fh(),this.Fpt+=1)},t}();function wX(t,n){for(var i=0,r=0,e=t.eb.$K.map(function(t){return t.N_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var yX=function(t){function n(n,i,r,e,u,s,o,h){var a;void 0===h&&(h=_X),(a=t.call(this)||this).x8=void 0,a.Wpt=void 0,a.qpt=new Qs,a.zpt=void 0,a.MJ=void 0,a.Gpt=xF.pgt(),a.ygt=void 0,a.jpt=void 0,a.Tw=void 0,a.Qpt=void 0,a.s0=void 0,a.C8=void 0,a.Ypt=void 0,a.Opt=void 0,a.xpt=void 0,a.ugt=void 0,a.x8=n,a.s0=i,a.C8=r,a.Qpt=e,a.Ypt=u,a.Opt=s,a.xpt=h,a.ugt=o,a.jpt=-1;var c=a.x8.rI.sources[0];return a.zpt=c,a.Tw=a.Ww(),a.Wpt=new gX(a.x8.zh.parallelTasksThreshold),a}U(n,t);var i=n.prototype;return i.Ww=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,u,s,o,h,a,c,f,v,d,_,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new lX(this.C8,this.Opt,this.xpt),t.next=3,n.Ppt(this.zpt);case 3:return this.MJ=t.sent,i=this.x8.zh.amount,r=this.MJ.N_,e=LF(i,r),this.ygt=e,s=tO(this.MJ.Ogt[0]),t.next=11,this.s0.JK.QK(s,"manifestURL");case 11:for(o=t.sent.filter(function(t){return tu(t.references,N.x8.xl)}),h=[],a=this.x8.zh.bandwidth,c=0,f=this.MJ.Ngt;c<f.length;c++)for(v=f[c],d=0,_=v.Bgt;d<_.length;d++)for(g=_[d],w=0,y=pX(g.np);w<y.length;w++)for(m=y[w],k=0,p=AX(m.Ul,a);k<p.length;k++)A=p[k],h.push(A);if(this.jpt=l.ceil(h.map(function(t){return t.jS*wX(t,e)/8}).reduce(function(t,n){return t+n},0)),b=we(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new aA(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.VI(r).HI(5e-4);else{var e,u=Ze(h,function(t){return t.xl===i}),s=l.min(N.ygt,null!=(e=null==u?void 0:u.eb.N_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:s})}},S=0;S<o.length;S++)E(S);u=new xF(T,b,this.ygt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.xl,{timeRanges:aA.uN(),totalQualityDurationToCache:l.min(I.eb.N_,this.ygt)});u=new xF(0,b,this.ygt)}this.Zpt=u;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jpt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tw;case 2:return t.next=4,this.$pt(this.MJ,n);case 4:return t.next=6,this.qpt.ah;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$pt=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ogt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.Kpt();case 4:for(r=[],e=0,u=n.Ngt;e<u.length;e++)s=u[e],r.push(this.tAt(s,n.Ogt[0],i));return t.abrupt("return",T.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Kpt=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Qpt.jK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.s0.KK.Zo(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,mX(e,this.x8.xl,this.s0.KK,this.ugt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.s0.KK.qK(r,this.ugt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new UF("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.Qpt.ZK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.tAt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Bgt;u<s.length;u++)for(o=s[u],h=pX(o.np),a=0;a<h.length;a++)c=h[a],e.push(this.nAt(c,i,r));return t.abrupt("return",T.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nAt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.x8.zh.bandwidth,u=AX(n.Ul,e),n.Ys!==B_.kv||!n.Fgt||!n.Fgt.VT.widevine||"persistent"!==n.Fgt.VT.widevine.licenseType){t.next=6;break}return t.next=5,this.iAt(n.Fgt);case 5:au(r);case 6:for(s=[],o=0;o<u.length;o++)h=u[o],s.push(this.rAt(h,i,r));return t.abrupt("return",T.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rAt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(r),!n.r8){t.next=7;break}return e={Fy:0,N_:0,Ggt:n.r8},t.next=5,this.Wpt.Hpt();case 5:au(r),wu(this.Wpt.Xpt(this.eAt(e,n,i),this.qpt));case 7:u=n.eb.$K[0].Fy,s=u+this.ygt,o=0,h=n.eb.$K;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Fy>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.uAt(r);case 16:return t.next=18,this.Wpt.Hpt();case 18:wu(this.Wpt.Xpt(this.eAt(a,n,i),this.qpt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.uAt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.oo){t.next=4;break}return t.next=3,this.qpt.ah;case 3:throw new ou;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sAt=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tw;case 2:return t.abrupt("return",this.MJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.iAt=function(t){return T.resolve()},i.oAt=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return lt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.eAt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s,o,h,a,c,f=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.s0.JK,u=nO(n.Ggt.uv,n.Ggt.WY),t.next=4,e.Zo(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,mX(s,this.x8.xl,e,this.ugt);case 8:this.hAt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.aAt(n.Ggt);case 14:return o=t.sent,h=this.cAt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.s0.r0(function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.JK.qK(a,f.ugt);case 2:return t.next=4,n.$K.qK(c,f.ugt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.hAt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new UF("Unable to store segment with url: "+n.Ggt.uv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.aAt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ypt.fAt(n,!1);case 2:return i=t.sent,t.next=5,this.vAt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.vAt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Mf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.cAt=function(t,n,i,r){var e=nO(t.Ggt.uv,t.Ggt.WY),u=t.Fy,s=t.N_,o=this.dAt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:tO(i),qualityId:n.xl,byteSize:o,startsAndEnds:new aA([u,u+s]).EI,references:[this.x8.xl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:tO(i),data:r}}},i.dAt=function(t){return t.buffer.byteLength},i.hAt=function(t,n){var i=t.qualityId,r=this.Gpt,e=r.ky;e.get(i).timeRanges=e.get(i).timeRanges.VI(new aA(t.startsAndEnds)).HI(5e-4),this.Zpt=new xF(n?r.Agt+t.byteSize:r.Agt,e,this.ygt)},L(n,[{key:"lAt",get:function(){return this.jpt}},{key:"Zpt",get:function(){return this.Gpt},set:function(t){this.Gpt.Z_(t)||(this.Gpt=t,t.Z_(xF.pgt())||this.Ro(new OF))}}]),n}(Eu);function mX(t,n,i,r){return kX.apply(this,arguments)}function kX(){return(kX=T.coroutine(le.mark(function t(n,i,r,e){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(tu(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.qK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pX(t){return t.length?[t[0]]:[]}function AX(t,n){if(!t.length)return[];var i=[].concat(t).sort(DF),r=i.filter(function(t){return t.jS<=n});return r.length>0?[r.pop()]:[i.shift()]}var bX=function(){function t(t){this.Sb=void 0,this.$E=new Ay,this.Sb=t}var n=t.prototype;return n.rv=function(t){var n=this,i=new Qs;return this.$E.Ub(function(r){return n._At(i,t,r)},t.Ao).catch(S),i.ah},n.Iv=function(t){return this.Sb.Iv(t)},n._At=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),e=new Nf({uv:i.uv,Ao:r},i),u=this.Sb.rv(e),n.fh(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.Gf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Nv=function(){this.$E.Nv()},t}(),TX=function(){function t(t){this.gAt=void 0,this.Sb=t,this.gAt=new bX(this.Sb)}var n=t.prototype;return n.fAt=function(t,n,i){return this.kit(t,n,!0,!1,void 0,i)},n.wAt=function(t,n,i,r){return this.kit(t,n,!1,!1,i,r)},n.yAt=function(t,n,i,r){return this.kit(t,n,!1,!0,i,r)},n.kit=function(){var n=T.coroutine(le.mark(function n(i,r,e,u,s,o){var h;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return au(o),n.next=3,this.mAt(i,e,u,s,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.kAt(h));case 8:return n.abrupt("return",this.pAt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u,s){return n.apply(this,arguments)}}(),n.pAt=function(t){return t},t.kAt=function(t){return t},n.mAt=function(t,n,i,r,e){var u=new Nf({uv:t.uv,Kf:jo.mc,$f:t.WY?{Range:"bytes="+t.WY[0]+"-"+t.WY[1]}:void 0,Sv:t.Sv,Av:Tf.GET,Ys:Ef.av,Tv:i?Sf.fv:Sf.ov,Ev:this.AAt,bv:r,Ao:e});return n?this.gAt.rv(u):this.Sb.rv(u)},L(t,[{key:"AAt",get:function(){return Rf.ov}}]),t}(),EX=function(){function t(t){this.Sb=void 0,this.Sb=t}return t.prototype.ckt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Sb.rv({uv:n,Kf:jo.mc,$f:{Range:"bytes="+i[0]+"-"+i[1]},Sv:r,Av:Tf.GET,Ys:Ef.ov,Ao:e});case 2:return u=t.sent,t.next=5,u.Mf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),SX=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Rct=void 0,e.Rct=n,e}return U(n,t),n}(sn),RX=function(){function t(t){this.N8=void 0,this.N8=t}return t.prototype.ckt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var u,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.N8.S8(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.N8.S8(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",qs(new y(s.buffer),i[0],i[1]));case 10:throw new SX({uv:n,WY:i,Sv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),IX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new aA([0,0]).EI,references:[]},NX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},DX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).bAt=void 0,s.TAt=void 0,s.s0=void 0,s.ugt=void 0,s.bAt=new EX(i),s.s0=r,s.TAt=e,s.ugt=u,s}U(n,t);var i=n.prototype;return i.ckt=function(){var n=T.coroutine(le.mark(function n(i,r,e,u){var s;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.ckt.call(this,i,r,e,u);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),cu(n.t0);case 9:return n.next=11,this.bAt.ckt(i,r,e,u);case 11:return s=n.sent,n.next=14,this.EAt(i,r,s);case 14:return n.abrupt("return",s);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.EAt=function(){var t=T.coroutine(le.mark(function t(i,r,e){var u,s,o,h,a,c,f,v=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.TAt){t.next=2;break}return t.abrupt("return");case 2:return u=this.s0.JK,s=nO(i,r),t.next=6,u.Zo(s);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,mX(o,this.TAt,u);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.cAt(s,h,this.TAt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.s0.r0(function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.JK.qK(c,v.ugt);case 2:return t.next=4,n.$K.qK(f,v.ugt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new UF("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.cAt=function(t,n,i){return{segmentMetadataEntry:_e({},IX,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:_e({},NX,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(RX);var CX=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.SAt=function(t,n,i,r,e,u,s){return new yX(t,n,i,r,e,u,s)},n}(function(){function t(t){this.Sb=t}return t.prototype.Cj=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.rI.sources[0].useCredentials),e=new TX(this.Sb),u=new YP(this.Sb,r),s=new ZP(n.KK,n.JK,n.$K,n.i0),o=function(t,n,i,r,e){return new DX(n,t,i,r,e)}(this.Sb,s,n,t.xl,i),h=new jC,a=new nB(tB(u,s),h,t);return this.SAt(t,n,a,h,e,o,i)},t}());function OX(t){var n,i={get id(){return t.xl},get status(){return t.Jf},get source(){return t.rI},get parameters(){return t.zh},get duration(){return t.N_},get cached(){return t.RAt.UR()},get secondsCached(){return t.IAt},get percentageCached(){return t.NAt},get bytes(){return t.DAt},get bytesCached(){return t.CAt},get license(){return t.iO.qd},start:function(){t.pI()},pause:function(){t.Lw()},remove:function(){t.Ih()},addEventListener:function(t,i){n.Io(t,i)},removeEventListener:function(t,i){n.Oo(t,i)}};return n=new gE(t,i),i}var xX=function(){function t(t,n,i){this.x8=t,this.s0=n,this.MJ=i}var n=t.prototype;return n.OAt=function(){var t=T.coroutine(le.mark(function t(){var n=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.s0.r0(function(){var t=T.coroutine(le.mark(function t(i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.xAt(i);case 2:return t.next=4,n.PAt(i);case 4:return t.next=6,n.BAt(i);case 6:return t.next=8,n.LAt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.xAt=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.n0,r=this.x8.xl,t.next=4,i.Ih(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.PAt=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o,h=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.JK,r=n.$K,e=tO(this.x8.rI.sources[0].src),t.next=5,i.QK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return tu(t.references,h.x8.xl)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if($e((o=u[s]).references,this.x8.xl),0!==o.references.length){t.next=17;break}return t.next=13,i.Ih(o.key);case 13:return t.next=15,r.Ih(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.qK(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BAt=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s,o=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.KK,r=this.MAt(),t.next=4,i.GK(r);case 4:e=t.sent.filter(function(t){return tu(t.references,o.x8.xl)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if($e((s=e[u]).references,this.x8.xl),0!==s.references.length){t.next=14;break}return t.next=12,i.Ih(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.qK(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MAt=function(){if(!this.MJ)return[];var t=tO(this.x8.rI.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.Ngt;i<r.length;i++)for(var e=0,u=r[i].Bgt;e<u.length;e++)for(var s=0,o=u[e].np;s<o.length;s++)for(var h=0,a=o[s].Ul;h<a.length;h++){var c=a[h];c.Ygt&&n.push(c.Ygt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.MJ).map(function(t){return{src:t}}).map(function(t){return tO(t.src)});return[t].concat(n)},n.LAt=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,u,s=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.i0,t.next=3,i.jK();case 3:r=t.sent.filter(function(t){return tu(t.references,s.x8.xl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if($e((u=r[e]).references,this.x8.xl),0!==u.references.length){t.next=14;break}return t.next=11,i.Ih(u.key);case 11:this.UAt(u),t.next=16;break;case 14:return t.next=16,i.qK(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.UAt=function(t){},t}(),PX=new(function(){function t(){}return t.prototype.Cj=function(t,n,i){return new xX(t,n,i)},t}());var BX=function(){function t(t,n){this.Wd=void 0,this.an=t,this.FAt=n}var n=t.prototype;return n.W4=function(t){this.HAt(t)},n.HAt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.FAt.oAt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.hgt(wF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"qd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{renew:function(n){t.W4(n)}})),this.Wd}}]),t}(),LX=function(t){function n(n,i,r,e,u,s){var h;(h=t.call(this)||this).by=void 0,h.egt=void 0,h.Wd=void 0,h.gdt=void 0,h.VAt=void 0,h.s0=void 0,h.FAt=void 0,h.XAt=new su,h.WAt=void 0,h.evictOnLoading=function(){h.Oo("j_t",h.evictOnLoading),h.qAt()},h.by=n,h.gdt=i,h.VAt=r,h.s0=e,h.FAt=u.Cj(en(h),h.s0,s),h.WAt=new BX(en(h),h.FAt),h.egt=1===h.FAt.Zpt.bgt?wF.DONE:wF.IDLE,h.FAt.Io("_K",function(t){h.So(t),1===h.NAt&&h.hgt(wF.DONE)});var a=new Date,c=h.VAt.expirationDate.getTime()-a.getTime();return c<2147483647&&o(function(){return h.qAt()},c),h}U(n,t);var i=n.prototype;return i.hgt=function(t){this.egt!==t&&(this.egt=t,this.Ro(new mF))},i.pI=function(){this.egt===wF.EVICTED||this.egt===wF.DONE||this.zAt()},i.zAt=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.hgt(wF.LOADING),n=new su,this.XAt=n,t.next=6,this.FAt.Jpt(n.Ao);case 6:this.hgt(wF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),hu(t.t0)?this.hgt(wF.IDLE):this.hgt(wF.ERROR);case 12:return t.prev=12,this.XAt.vo(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.Lw=function(){this.XAt.mo()},i.Ih=function(){this.Jf===wF.LOADING?(this.Io("j_t",this.evictOnLoading),this.Lw()):this.qAt()},i.qAt=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.FAt.sAt();case 3:return n=t.sent,t.next=6,PX.Cj(this,this.s0,n).OAt();case 6:this.FAt.Zpt=xF.pgt(),this.hgt(wF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.hgt(wF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=OX(this)),this.Wd}},{key:"xl",get:function(){return this.by}},{key:"iO",get:function(){return this.WAt}},{key:"Jf",get:function(){return this.egt}},{key:"rI",get:function(){return this.gdt}},{key:"zh",get:function(){return this.VAt}},{key:"N_",get:function(){return this.FAt.Zpt.nN}},{key:"RAt",get:function(){return this.FAt.Zpt.kgt}},{key:"IAt",get:function(){return this.FAt.Zpt.mgt}},{key:"NAt",get:function(){return this.FAt.Zpt.bgt}},{key:"DAt",get:function(){return this.FAt.lAt}},{key:"CAt",get:function(){return this.FAt.Zpt.Agt}}]),n}(tl);var MX=function(){function t(t,n){this.s0=t,this.GAt=n}var n=t.prototype;return n.vgt=function(t,n,i){var r=Zb();return this.cgt(r,t,n,i)},n.cgt=function(t,n,i,r){return new LX(t,n,i,this.s0,this.GAt,r)},t}(),UX=30,FX=5;function HX(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(it(t)&&!yr(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,it(i)&&yr(i,"%")){var n=g(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!it(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+UX),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ut(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return FX;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var VX=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wd=void 0,r.jAt=n,r.KB=i,r.jAt.Io("j_t",r.So),r}return U(n,t),n.prototype.QAt=function(t,n,i){var r,e;if(!t)throw new f("Unexpected - The source description is undefined");if(r=kb(t),e=HX(n),cb(r))throw new f("Invalid source description");return this.jAt.cgt(r,e).qd},L(n,[{key:"qd",get:function(){var t,n,i;return this.Wd||(this.Wd=(i={get status(){return t.Jf},get tasks(){return t._gt},get network(){return t.vL.qd},createTask:function(n,i){return t.QAt(n,i)},addEventListener:function(t,i){n.Io(t,i)},removeEventListener:function(t,i){n.Oo(t,i)}},n=new gE(t=this,i),i)),this.Wd}},{key:"Jf",get:function(){return this.jAt.Jf}},{key:"_gt",get:function(){return this.jAt._gt.qd}},{key:"vL",get:function(){return this.KB}}]),n}(tl);(XX=new JT(b.Ud,!1),WX=KC.We,qX=new CX(XX),zX=new MX(WX,qX),GX=new KT(XX),jX=new NF(WX.n0,zX,"persistent"),new VX(jX,GX)).qd;var XX,WX,qX,zX,GX,jX,QX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).by=void 0,u.egt=void 0,u.Wd=void 0,u.gdt=void 0,u.VAt=void 0,u.EF=0,u.YAt=aA.uN(),u.ZAt=0,u.JAt=0,u.jAt=void 0,u.by=n,u.egt=wF.IDLE,u.gdt=i,u.VAt=r,u.jAt=e,u}U(n,t);var i=n.prototype;return i.pI=function(){this.jAt.startCachingTask(this)},i.Ih=function(){this.jAt.removeCachingTask(this)},L(n,[{key:"qd",get:function(){return this.Wd||(this.Wd=OX(this)),this.Wd}},{key:"xl",get:function(){return this.by}},{key:"Jf",get:function(){return this.egt},set:function(t){this.egt!==t&&(this.egt=t,this.Ro(new mF))}},{key:"rI",get:function(){return this.gdt}},{key:"zh",get:function(){return this.VAt}},{key:"N_",get:function(){return this.EF},set:function(t){this.EF=t}},{key:"RAt",get:function(){return this.YAt},set:function(t){this.YAt=t}},{key:"IAt",get:function(){return this.ZAt},set:function(t){this.ZAt=t}},{key:"NAt",get:function(){return this.JAt},set:function(t){this.JAt=t,this.Ro(new OF)}}]),n}(nl),YX=30;function ZX(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+YX),n&&((i=n)&&!(ut(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var JX=function(t){function n(){var n;return(n=t.call(this)||this).egt=bF.UNINITIALISED,n.Pb=new IF,n.Xlt=void 0,n.e_t=void 0,n.$At=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Jf=wF.EVICTED,i.NAt=0,i.IAt=0,i.N_=0,i.RAt=aA.uN(),n.Pb.Ih(i))}},n.KAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.Jf=r);var e=t.detail.percentage;e&&(i.NAt=e);var u=t.detail.duration;u&&(i.N_=u);var s=t.detail.seconds;s&&(i.IAt=s);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.RAt=new aA(h)}}}},n.tbt=function(t){if(t.detail){var i=kb(JSON.parse(t.detail.source));if(!n.nbt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.cgt(i,ZX(r),u)}}},n.ibt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.cgt(kb(e),ZX(i),u);s.Jf=t.detail.status,s.NAt=t.detail.percentage,s.N_=t.detail.duration,s.IAt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}s.RAt=new aA(h)}},n.rbt=function(t){t.detail&&n.hgt(t.detail.status)},n.Xlt=new dF,n.e_t=new GU,HU().cache={sdkEventBus:n.e_t},n.d$(),n}U(n,t);var i=n.prototype;return i.hgt=function(t){this.egt!==t&&(this.egt=t,this.Ro(new mF))},i.cgt=function(t,n,i){void 0===i&&(i=void 0);var r=new QX(i||Zb(),t,n,this);return this.Pb.rg(r),i||this.Xlt.fj("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.xl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.Pb.tgt;n<i.length;n++){var r=i[n];if(r.xl===t)return r}},i.nbt=function(t){for(var n=KX(t.sources),i=0,r=this.Pb.tgt;i<r.length;i++){if(KX(r[i].rI.sources).src===n.src)return!0}return!1},i.d$=function(){this.e_t.addEventListener("deleteTask",this.$At),this.e_t.addEventListener("updateValues",this.KAt),this.e_t.addEventListener("newTask",this.tbt),this.e_t.addEventListener("restoreTask",this.ibt),this.e_t.addEventListener("setCacheStatus",this.rbt)},i.startCachingTask=function(t){this.Xlt.fj("THEOplayerCacheStartCachingTask",{id:t.xl})},i.removeCachingTask=function(t){this.Xlt.fj("THEOplayerCacheRemoveCachingTask",{id:t.xl})},L(n,[{key:"Jf",get:function(){return this.egt}},{key:"_gt",get:function(){return this.Pb}}]),n}(Eu),$X=function(t){function n(n){var i;return(i=t.call(this,n)||this).ebt=n,i.ebt.Io("j_t",i.So),i}return U(n,t),n.prototype.QAt=function(t,n){var i,r;if(!t)throw new f("Unexpected - The source description is undefined");if(i=kb(t),r=ZX(n),cb(i))throw new f("Invalid source description");if(!KX(i.sources))throw new f("The provided sources can't be cached");return this.ebt.cgt(i,r).qd},n}(VX);function KX(t){for(var n=0;n<t.length;n++){var i=t[n];if(gl(i.type))return i}}var tW,nW,iW=function(){var t=new JX;return new $X(t)}().qd;!function(t){t.ubt="any",t.sbt="natural",t.obt="landscape",t.hbt="portrait",t.abt="portrait-primary",t.cbt="portrait-secondary",t.fbt="landscape-primary",t.vbt="landscape-secondary"}(tW||(tW={})),function(t){t.abt="portrait-primary",t.cbt="portrait-secondary",t.fbt="landscape-primary",t.vbt="landscape-secondary"}(nW||(nW={}));var rW,eW,uW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Xlt=new dF,n.dbt=tW.sbt,n.lbt=nW.abt,n._bt=nW.abt,n.gbt=nW.abt,n}U(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,r){n.dbt=t,n.Xlt.fj("THEOplayerOrientationLock",t),n.wbt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.dbt=tW.sbt,t.Xlt.fj("THEOplayerOrientationUnlock"),t.type=t._bt,t.wbt(),n()})},i.wbt=function(){var t=this.gbt,n=this.type;t!==n&&(this.gbt=n,this.Ro(new Ru("change")))},i.addEventListener=function(t,n){this.Io(t,n)},i.removeEventListener=function(t,n){this.Oo(t,n)},n.ybt=function(t){switch(t){case tW.abt:return[nW.abt];case tW.cbt:return[nW.cbt];case tW.hbt:return[nW.abt,nW.cbt];case tW.fbt:return[nW.fbt];case tW.vbt:return[nW.vbt];case tW.obt:return[nW.fbt,nW.vbt];case tW.sbt:return[nW.abt,nW.fbt,nW.vbt];case tW.ubt:return[nW.abt,nW.cbt,nW.fbt,nW.vbt]}},n.mbt=function(t,i){return n.ybt(i).indexOf(t)>=0},L(n,[{key:"type",get:function(){return this.lbt},set:function(t){this._bt=t,n.mbt(t,this.dbt)?(this.lbt=t,this.wbt()):(t===nW.fbt&&this.dbt===tW.vbt&&(this.lbt=nW.vbt,this.wbt()),t===nW.vbt&&this.dbt===tW.fbt&&(this.lbt=nW.fbt,this.wbt()))}},{key:"angle",get:function(){switch(this.type){case nW.fbt:return-90;case nW.vbt:return 90;case nW.abt:return 0;case nW.cbt:return 180;default:return 0}}}]),n}(nl);uW.We=new uW,r.screen.orientation=uW.We,s&&-1===s.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.kbt="unavailable",t.pbt="available",t.Abt="presenting"}(rW||(rW={})),jE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),n.prototype.Fw=function(n){t.prototype.Fw.call(this,n);var i=this.qd;this.qd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===rW.Abt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(tW.vbt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},FE._L),function(t){t.Fd="addtrack",t.Vd="removetrack",t.ul="change",t.fl="update"}(eW||(eW={}));var sW=function(t,n,i){this.type=eW.ul,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},oW=function(t,n){this.type=eW.Fd,this.mediaType=t,this.mediaTrack=n},hW=function(t,n){this.type=eW.Vd,this.mediaType=t,this.mediaTrack=n},aW=function(t,n){this.type=eW.fl,this.mediaType=t,this.mediaTrack=n},cW=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.bbt=function(t){var n=new sW(r.type,t.track,r.mediaTracks);r.messageDispatcher.Tbt(n)},this.Ebt=function(t){var n=new oW(r.type,t.track);r.messageDispatcher.Tbt(n),t.track.addEventListener("update",r.Sbt)},this.Rbt=function(t){var n=new hW(r.type,t.track);r.messageDispatcher.Tbt(n)},this.Sbt=function(t){var n=new aW(r.type,t.track);r.messageDispatcher.Tbt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.d$()}return t.prototype.d$=function(){this.mediaTracks.addEventListener("change",this.bbt),this.mediaTracks.addEventListener("addtrack",this.Ebt),this.mediaTracks.addEventListener("removetrack",this.Rbt)},t}(),fW=function(){function t(){this.Ibt=void 0,this.Ibt=new dF}return t.prototype.Tbt=function(t){this.Ibt.fj(t.type,fU(t))},t}();ZE(function(t){if(t.qd.audioTracks){var n=new fW;new cW("audio",t.qd.audioTracks,n)}if(t.qd.videoTracks){var i=new fW;new cW("video",t.qd.videoTracks,i)}});var vW,dW,lW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case vW.Nbt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ro(new _W(i));break;default:0}},n}(GU),_W=function(t){function n(n){var i;return(i=t.call(this,vW.Nbt)||this).detail=n,i}return U(n,t),n}(Ru);!function(t){t.Nbt="registerContentProtectionIntegration"}(vW||(vW={})),function(t){t.Dbt="certifiateRequest",t.Cbt="certifiateResponse",t.Obt="licenseRequest",t.xbt="licenseResponse",t.Pbt="extractFairplayContentId",t.Bbt="buildContentProtection",t.Lbt="registerContentProtectionCallback"}(dW||(dW={}));var gW,wW=function(t,n){this.type=dW.Lbt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(gW||(gW={}));var yW,mW=function(t,n){this.type=dW.Bbt,this.value=t,this.integrationId=n},kW=function(t,n){this.type=dW.Dbt,this.value=t,this.integrationId=n},pW=function(t,n){this.type=dW.Cbt,this.value=t,this.integrationId=n},AW=function(t,n){this.type=dW.Pbt,this.value=t,this.integrationId=n},bW=function(t,n){this.type=dW.Obt,this.value=t,this.integrationId=n},TW=function(t,n){this.type=dW.xbt,this.value=t,this.integrationId=n},EW=function(){function t(t,n){this.Mbt=void 0,this.Qb=void 0,this.Mbt=t,this.Qb=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=T.coroutine(le.mark(function t(i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new kW(r,this.Qb),t.prev=2,t.next=5,this.Mbt.Ubt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.Fbt(s)){t.next=13;break}return o=_e({},s),t.abrupt("return",o);case 13:if(!this.Hbt(s)){t.next=16;break}return h=new y(s),t.abrupt("return",h);case 16:throw new D_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new D_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=T.coroutine(le.mark(function t(i){var r,e,u,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new pW(e,this.Qb),t.next=5,this.Mbt.Ubt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new y(o));case 11:throw new D_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=T.coroutine(le.mark(function t(i){var r,e,u,s,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new bW(e,this.Qb),t.prev=3,t.next=6,this.Mbt.Ubt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.Fbt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.Hbt(o)){t.next=17;break}return a=new y(o),t.abrupt("return",a);case 17:throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new D_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=T.coroutine(le.mark(function t(i){var r,e,u,s,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=_e({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new TW(u,this.Qb),t.next=6,this.Mbt.Ubt(s);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new y(h));case 12:throw new D_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=T.coroutine(le.mark(function t(i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new AW(i,this.Qb),t.next=3,this.Mbt.Ubt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",T.reject(new D_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Fbt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Hbt=function(t){return!!new y(t)},t}(),SW=function(){function t(t){this.Mbt=void 0,this.Mbt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new EW(this.Mbt,t.integration),i=new mW({drmConfiguration:t},t.integration);return this.Mbt.Ubt(i),n},t}(),RW=function(){var t=this;this.e_t=void 0,this.Vbt=function(n){var i=new SW(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:Yy.tT.Zb(e,u,i)};t.messageDispatcher.Ubt(new wW(s,e))},this.e_t=new lW,HU().contentProtectionIntegration={sdkEventBus:this.e_t},this.e_t.addEventListener(vW.Nbt,this.Vbt)},IW="nativePromiseCallback",NW=function(t){function n(n){var i;return(i=t.call(this,IW)||this).detail=n,i}return U(n,t),n}(Ru);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(yW||(yW={}));var DW=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ro(new NW(n))},i.addEventListener=function(t,n){this.Io(t,n)},i.removeEventListener=function(t,n){this.Oo(t,n)},n}(GU),CW=function(){function t(){var t=this;this.Ibt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case yW.RESOLVE:i.fh(n.detail.data);break;case yW.REJECT:i.vh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new DW;HU().nativePromise={sdkEventBus:n},n.addEventListener(IW,this.handleNativePromiseEvent)}return t.prototype.Ubt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=_e({},n,{promiseId:r}),u=new Qs;return this.promisesMap[r]=u,null==(i=this.Ibt)||i.fj(n.type,aU(e)),u.ah},t}();CW.messageIdTracker=-1;var OW,xW=function(t){function n(){var n;return(n=t.call(this)||this).Ibt=new dF,n}return U(n,t),n}(CW),PW=function(t){function n(){var n;return(n=t.call(this)||this).Mbt=new xW,n}return U(n,t),L(n,[{key:"messageDispatcher",get:function(){return this.Mbt}}]),n}(RW);ZE(function(t){new PW}),function(t){t.Xbt="airplaystatechange"}(OW||(OW={}));var BW=function(t){this.type=OW.Xbt,this.state=t},LW=function(t){function n(n){var i;return(i=t.call(this)||this).Wbt=void 0,i.qbt=function(t){var n=new BW(t.state);i.Tbt(n)},i.Wbt=n,i.d$(n),i}return U(n,t),n.prototype.d$=function(t){t.addEventListener("statechange",this.qbt)},n}(fW);ZE(function(t){var n;null!=(n=t.qd.cast)&&n.airplay&&new LW(t.qd.cast.airplay)}),n.ChromelessPlayer=vS,n.Player=vS,n.cache=iW,n.createGlobals=WU,n.features=["hls","airplay"],n.getCueMirrorMap=VU,n.getGlobalId=XU,n.getSdkEventBridge=HU,n.playerSuiteVersion="2021.3.0",n.players=_S,n.registerContentProtectionIntegration=gS,n.utils=lS,n.version="2.87.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
