/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.4.2 (2.92.0)
 Created: 2021-12-17T14:24:37.730Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,y=t.isNaN,m=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest),A="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E=b(function(n,i){n.exports=function t(n,i,e){function s(o,h){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new v("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return s(i||t)},f,f.exports,t,n,i,e)}return i[o].exports}for(var u="function"==typeof r&&r,o=0;o<e.length;o++)s(e[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),s=t("./queue"),u=t("./util");function o(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function f(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},o.prototype.hasCustomScheduler=function(){return this.g},o.prototype.enableTrampoline=function(){this.M=!0},o.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},o.prototype.haveItemsQueued=function(){return this.R||this.B},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==h)h(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){h(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.M?f.call(this,t):this.F(function(){t.j()})}):(o.prototype.invokeLater=a,o.prototype.invoke=c,o.prototype.settlePromises=f),o.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},o.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},o.prototype.Y=function(){this.R=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),s=r(null);e[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var s="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(s)}return e}(t,r);return e.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=_.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(r){var e=(void 0)();n=null!==e?e:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Ct=function(){this.Dt=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=u(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Ct(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var f=t[c];if(f===v||null!=f&&f.prototype instanceof v){if(h instanceof f)return e(u).call(a,h)}else if("function"==typeof f){var d=e(f).call(a,h);if(d===s)return d;if(d)return e(u).call(a,h)}else if(i.isObject(h)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=h[g])continue t}return e(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,s=t.prototype.Ht,u=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=s,t.Vt=u,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.Xt,a=n.ct,c=t("./errors").Warning,f=t("./util"),_=t("./es5"),w=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;h(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",e,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+f.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?f.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Dt}function U(t){this.Dt=t}function F(){this.kt=void 0,this.Dt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.sn=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.un=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.un=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.sn=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.ut(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,s=new c(t);if(i)r.Pt(s);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}x("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),s=e&&K(r);e&&!s&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}f.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var s=n[r].stack;void 0===i[s]&&(i[s]=r)}for(var r=0;r<t;++r){var u=n[r].stack,o=i[u];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,s=n[e],u=-1,o=r.length-1;o>=0;--o)if(r[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,p=t,A=n;var i=v.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new v).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var s="",u="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){r=a.fileName,o=a.line;break}}u<0||o<0||!i||!r||i!==r||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return h(i,v),i}var f=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),s=0;s<e.length;++s)e[s]=t+e[s];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,v);var p=v.vn;p||(p=u({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),s.defineProperty(v,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return u}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.CancellationError,u=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Zt())}function v(t){if(!c(this,t))return u.e=t,u}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var d=i(h,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Ot()){var l=new s("late cancellation observer");return e.Pt(l),u.e=l,u}d.isPending()&&d.rn(new a(this))}return d.J(f,v,void 0,this,void 0)}}}return e.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,s=new Array(i-1),u=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(h)));s[u++]=h}s.length=u;var a=arguments[r];return this.dn(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,f=a.tryCatch,d=[];function _(t,i,e,s){if(u.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=s,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(d):d,this.pn=null,this.An=!1}a.inherits(_,s),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,u.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=f(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=f(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=f(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=f(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Cn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Dn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var s=e(r,this._n);if(s instanceof n||null!==(s=function(t,i,r){for(var s=0;s<i.length;++s){r.Ft();var u=f(i[s])(t);if(r.Ht(),u===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(u,r);if(h instanceof n)return h}return null}(s,this.kn,this._n))){var u=(s=s.st()).K;0==(50397184&u)?(this.pn=s,s.On(this,null)):0!=(33554432&u)?n.ct.invoke(this.In,this,s.xn()):0!=(16777216&u)?n.ct.invoke(this.Nn,this,s.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=_,e=(new v).stack;return function(){var n=t.apply(this,arguments),s=new r(void 0,void 0,i,e),u=s.promise();return s.mn=n,s.In(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Cn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function v(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===s?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,s){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var u=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+h.classString(e.concurrency)));u=e.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new v(t,i,u,s).promise()}h.inherits(v,i),v.prototype.Hn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.In=function(t,i){var r=this.Vn,s=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,s),_=f.Ht();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.st()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(r,o):this.zn(r),!0)},v.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},v.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,s=0;s<i;++s)t[s]&&(r[e++]=n[s]);r.length=e,this.zn(r)},v.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),u=r.Ht();return s.checkForgottenReturns(e,u,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+u.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return s.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===u.errorObj?this.Dn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&o.getPrototypeOf(t)===v.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var s=i[e];h.test(s)||(n[s]=t[s])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var s=a(e(i));t.Pt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=e(n).apply(this.et(),[null].concat(t));u===s&&r.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?e(n).call(i,null):e(n).call(i,null,t);u===s&&r.throwLater(u.e)}function h(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var u=e(n).call(this.et(),t);u===s&&r.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&l(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.st())},e=function(t){return N.reject(new d(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,s),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function C(t){this.promise.nt(t)}function D(t){this.promise.Dn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return e("Catch statement predicate: expecting an object but got "+h.classString(u));r[s++]=u}if(r.length=s,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Dn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Dn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var s=void 0!==e,o=s?e:new N(g),a=this.st(),c=a.K;s||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.si=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.ui=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),s=t.ci(n);void 0===s&&(s=o),this.ei(i,r,e,s,null)},N.prototype.ei=function(t,n,i,r,e){var s=this.Nt();if(s>=65531&&(s=0,this.si(0)),0===s)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=r,"function"==typeof t&&(this[u+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[u+1]=null===e?n:h.domainBind(e,n))}return this.si(s+1),s},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Dn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.st();if(e!==this){var s=e.K;if(0==(50397184&s)){var u=this.Nt();u>0&&e.li(this);for(var o=1;o<u;++o)e._i(this,o);this.oi(),this.si(0),this.gi(e)}else if(0!=(33554432&s))this.En(e.xn());else if(0!=(16777216&s))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Dn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.ft(s,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.un(t,function(t){n.nt(t)},function(t){n.Dn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Dn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var s;r.Ft(),n===w?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new d("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=r.Ht();0==(65536&(e=r.K))&&(s===y?r.Z(i):s===R?r.Dn(s.e,!1):(b.checkForgottenReturns(s,u,"",r,this),r.nt(s)))}},N.prototype.st=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof s?i.Sn(t):u||t instanceof k?t.St():i.cancel()):"function"==typeof n?u?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof s?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):u&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.ui(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.si(0)}this.sn()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,s,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,s){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.st()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=e("expecting an array or an iterable object but got "+u.classString(o)).reason();this._n.Dn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,s=!1,u=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.On(this,o),this.Vn[o]=h):s=0!=(33554432&u)?this.In(h.xn(),o):0!=(16777216&u)?this.Nn(h.Pn(),o):this.Sn(o):s=this.In(h,o)}s||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Dn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),s=t("./nodeback"),u=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var s=e.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var s=e.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(e,u(arguments,f))}catch(t){a.Dn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,r,f,v,n,u);else{var l=s(v,function(){return m(f,r,f,v,n,u)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=l(n)).context?r:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return e.copyDescriptors(t,u,d),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,s,u,i),k(c,r,s,u,i))}return k(t,r,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var u=0;u<e;++u){var o=r[u];n[u]=t[o],n[u+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=r(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new s,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],u=t[r];n.set(e,u)}return n}(this.Vn);else{r={};for(var e=this.length(),u=0,o=this.length();u<o;++u)r[this.Vn[u+e]]=this.Vn[u]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Ci=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Di(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ci(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Di(r);var s=this.Ii-1;this[e+0&s]=t,this[e+1&s]=n,this[e+2&s]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Di=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var s=0;s<e;++s)i[s+r]=t[s+n],t[s+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return e("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===s?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var s=new c(t,n,i,e);return s.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,s=a(r.xi);e.Ft(),(i=void 0!==r.Li?s.call(e.et(),t,this.index,this.length):s.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return u.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==s&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var s={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,u,o,a,c,f=t("./util"),d=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=A.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(A,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in s.documentElement?(u=s.createElement("div"),o={attributes:!0},a=!1,c=s.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,o),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==h?function(t){h(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},u.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},u.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.st().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return e.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,s=r.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ft(),o.nn(),u&&u.Ht();var a=!0,c=r.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Dn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Dn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){a(this.handle)};var o=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var s,a;return void 0!==e?(s=n.resolve(e).J(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&s.ot(e)):(s=new n(i),a=h(function(){s.En()},+t),r.cancellation()&&s.ot(new u(a)),s.nn()),s.ti(),s};function f(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new u(h(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new s("operation timed out"):new s(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.J(f,d,void 0,a,void 0)).ot(a)):i=this.J(f,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){h(function(){throw t},0)}function _(t,i){var e=0,u=t.length,o=new n(s);return function s(){if(e>=u)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+o.classString(s));var h=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,h=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),s=v(s);var r=h?s.apply(void 0,t):s(t),e=A.Ht();return u.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var s,u=n("./es5"),h=void 0===o,a={e:{}},c=void 0!==t?t:void 0!==e?e:void 0!==A?A:void 0!==this?this:null;function f(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(u.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return r}for(var o=0;o<s.length;++o){var h=s[o];if(!e[h]){e[h]=!0;var a=l.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=u.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var s in i)if(r.call(i,s))e.push(s);else{for(var u=0;u<t.length;++u)if(r.call(t[u],s))continue t;e.push(s)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&u.propertyIsWritable(t,"stack")}var b="stack"in new v?function(t){return p(t)?t:new v(m(t))}:function(t){if(p(t))return t;try{throw new v(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return u.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return u.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=u.names(t.prototype),i=u.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&u.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!u.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:u.isArray,asArray:E,notEnumerableProp:_,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof v.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=u.names(t),e=0;e<r.length;++e){var s=r[e];if(i(s))try{u.defineProperty(n,s,u.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),C.isNode&&C.toFastProperties(process);try{throw new v}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var S,R=function(){},I=function(t){return t};function N(t,n,i){var r;return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];var o=this,h=i&&!r;void 0!==r&&T.sr(r),r=T.ur(function(){r=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(S=E)&&S.config({warnings:!1,longStackTraces:!1});var C,D,O,x,P,B;S&&(x=S.setScheduler(R),C=x,P={hr:function(t){D=t,C(O)},ar:O=function(){var t=D;t&&(D=void 0,t())}},S.setScheduler(P.hr));function L(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function M(t,n,i){return n&&L(t.prototype,n),i&&L(t,i),t}function U(t,n){return(U=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function F(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,U(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(B||(B={}));var H=o?o.userAgent:"",V=H.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),X=H.match(/Android ([0-9\.]+)/i),W=H.match(/Windows NT ([0-9\.]+)/i),q=H.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),z=H.match(/Firefox\/([0-9\.]+)/i),G=H.match(/OPR\/(\d+\.\d+)/i),j=H.match(/Tizen ([0-9\.]+)/i),Q=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(H)||/(macintosh|mac(?=_powerpc)\s)/i.test(H),this.pr=/Windows NT/i.test(H),this.Ar=W?w(W[1]):0,this.Tr=/Android/i.test(H),this.Er=X?w(X[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(H),this.Rr=/iPhone/i.test(H),this.Ir=/iPad/i.test(H),this.Nr=this.kr&&this.mr&&!this.Ir,this.Cr=/iPod/i.test(H),this.Dr=/Mobile Safari/i.test(H),this.Or=(this.Rr||this.Ir||this.Nr||this.Cr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Dr,this.Pr=/CriOS/i.test(H),this.Br=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Pr,this.Lr=Boolean(t.chrome||/Chrome/i.test(H)||/CriOS/i.test(H)),this.Mr=V?g(V[1],10):0,this.Ur=/SMART-TV.*Tizen/i.test(H),this.Fr=j?w(j[1]):0,this.Hr=/webos|web0s/i.test(H),this.Vr=/Edge\/\d+/i.test(H),this.Xr=/Trident/i.test(H),this.Wr=this.Xr&&!t.ActiveXObject&&"ActiveXObject"in t,this.qr=/Vivaldi/i.test(H),this.zr=/Firefox/i.test(H)&&!/Seamonkey/i.test(H),this.Gr=z?w(z[1]):0,this.jr=/Safari/i.test(H)&&!/Chrome/i.test(H)&&!this.Sr&&!this.Ur,this.Qr=q?w(q[2]):0,this.Yr=Boolean(G),this.Zr=G?w(G[1]):0,this.Jr=/CrKey/.test(H),this.$r=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(H),this.Kr="ios"===B._r,this.te="ios"===B.dr,this.ie=this.te||this.Kr,this.re="ios"===B.gr,this.ee="ios"===B.wr,this.se="ios"===B.yr}return M(n,[{key:"ue",get:function(){return this.mr}},{key:"oe",get:function(){return this.kr}},{key:"he",get:function(){return this.pr}},{key:"ae",get:function(){return this.Ar}},{key:"ce",get:function(){return this.Tr}},{key:"fe",get:function(){return this.Er}},{key:"ve",get:function(){return this.Sr}},{key:"de",get:function(){return this.Rr}},{key:"_e",get:function(){return this.Ir}},{key:"we",get:function(){return this.Nr}},{key:"ye",get:function(){return this.Cr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.Dr}},{key:"pe",get:function(){return this.xr}},{key:"Ae",get:function(){return this.Pr}},{key:"be",get:function(){return this.Br}},{key:"Te",get:function(){return this.Mr}},{key:"Ee",get:function(){return this.Ur}},{key:"Se",get:function(){return this.Fr}},{key:"Re",get:function(){return this.Hr}},{key:"Ie",get:function(){return this.Vr}},{key:"Ne",get:function(){return this.Xr}},{key:"Ce",get:function(){return this.Wr}},{key:"De",get:function(){return this.qr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.Gr}},{key:"Pe",get:function(){return this.jr}},{key:"Be",get:function(){return this.Qr}},{key:"Le",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Zr}},{key:"Ue",get:function(){return this.Jr}},{key:"Fe",get:function(){return this.$r}},{key:"He",get:function(){if(!(this.Re||this.Ee))return!1;var t=this.Te;return void 0===t||Number(t)<56}},{key:"Ve",get:function(){return this.Kr}},{key:"Xe",get:function(){return this.te}},{key:"We",get:function(){return this.ie}},{key:"qe",get:function(){return this.re}},{key:"ze",get:function(){return this.ee}},{key:"Ge",get:function(){return this.se}},{key:"je",get:function(){return this.Lr}}]),n}();Q.Qe=new Q;var Y=Q.Qe,Z={}.hasOwnProperty,J={}.toString;function $(t){return null!=t}var K=Array.isArray||function(t){return"[object Array]"===J.call(t)};function tt(t){return nt(t)&&Z.call(t,"length")&&ot(t.length)}function nt(t){return"object"==typeof t&&null!==t}function it(t){return nt(t)&&t.constructor&&t.constructor===l}function rt(t){return"string"==typeof t}function et(t){return"boolean"==typeof t}function st(t){return Boolean(t)&&"function"==typeof t.then}function ut(t){return"[object Date]"===J.call(t)}function ot(t){return"number"==typeof t}var ht=!(Y.Ne&&!Y.Ce),at=t.console;function ct(t){if(nt(t))try{return JSON.stringify(t)}catch(t){}return t}function ft(t){return t.map(ct).join(" ")}function vt(t){var n=at&&at[t];return n?n.bind&&ht?n.bind(at):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];at[t](ft(i))}:void 0}var dt,lt=vt("log")||R,_t=vt("warn")||lt.bind(void 0,"WARNING:"),gt=vt("error")||lt.bind(void 0,"ERROR:"),wt=(dt=at&&at.assert)?dt.bind&&ht?dt.bind(at):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];at.assert(t,ft(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];gt.apply(void 0,["Assertion failed:"].concat(i))}},yt=kt,mt=null;try{mt=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function pt(t){return!0===(t&&t.Ye)}kt.prototype.Ye,l.defineProperty(kt.prototype,"Ye",{value:!0}),kt.isLong=pt;var At={},bt={};function Tt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=bt[t])?r:(i=St(t,(0|t)<0?-1:0,!0),e&&(bt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=At[t])?r:(i=St(t,t<0?-1:0,!1),e&&(At[t]=i),i)}function Et(t,n){if(y(t))return n?Bt:Pt;if(n){if(t<0)return Bt;if(t>=Dt)return Ht}else{if(t<=-Ot)return Vt;if(t+1>=Ot)return Ft}return t<0?Et(-t,n).neg():St(t%Ct|0,t/Ct|0,n)}function St(t,n,i){return new kt(t,n,i)}kt.fromInt=Tt,kt.fromNumber=Et,kt.fromBits=St;var Rt=_.pow;function It(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Pt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return It(t.substring(1),n,i).neg();for(var e=Et(Rt(i,8)),s=Pt,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var a=Et(Rt(i,o));s=s.mul(a).add(Et(h))}else s=(s=s.mul(e)).add(Et(h))}return s.unsigned=n,s}function Nt(t,n){return"number"==typeof t?Et(t,n):"string"==typeof t?It(t,n):St(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}kt.fromString=It,kt.fromValue=Nt;var Ct=4294967296,Dt=Ct*Ct,Ot=Dt/2,xt=Tt(1<<24),Pt=Tt(0);kt.ZERO=Pt;var Bt=Tt(0,!0);kt.UZERO=Bt;var Lt=Tt(1);kt.ONE=Lt;var Mt=Tt(1,!0);kt.UONE=Mt;var Ut=Tt(-1);kt.NEG_ONE=Ut;var Ft=St(-1,2147483647,!1);kt.MAX_VALUE=Ft;var Ht=St(-1,-1,!0);kt.MAX_UNSIGNED_VALUE=Ht;var Vt=St(0,-2147483648,!1);kt.MIN_VALUE=Vt;var Xt=kt.prototype;Xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ct+(this.low>>>0):this.high*Ct+(this.low>>>0)},Xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Vt)){var n=Et(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Et(Rt(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Xt.getHighBits=function(){return this.high},Xt.getHighBitsUnsigned=function(){return this.high>>>0},Xt.getLowBits=function(){return this.low},Xt.getLowBitsUnsigned=function(){return this.low>>>0},Xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Vt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Xt.isZero=function(){return 0===this.high&&0===this.low},Xt.eqz=Xt.isZero,Xt.isNegative=function(){return!this.unsigned&&this.high<0},Xt.isPositive=function(){return this.unsigned||this.high>=0},Xt.isOdd=function(){return 1==(1&this.low)},Xt.isEven=function(){return 0==(1&this.low)},Xt.equals=function(t){return pt(t)||(t=Nt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Xt.eq=Xt.equals,Xt.notEquals=function(t){return!this.eq(t)},Xt.neq=Xt.notEquals,Xt.ne=Xt.notEquals,Xt.lessThan=function(t){return this.comp(t)<0},Xt.lt=Xt.lessThan,Xt.lessThanOrEqual=function(t){return this.comp(t)<=0},Xt.lte=Xt.lessThanOrEqual,Xt.le=Xt.lessThanOrEqual,Xt.greaterThan=function(t){return this.comp(t)>0},Xt.gt=Xt.greaterThan,Xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Xt.gte=Xt.greaterThanOrEqual,Xt.ge=Xt.greaterThanOrEqual,Xt.compare=function(t){if(pt(t)||(t=Nt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Xt.comp=Xt.compare,Xt.negate=function(){return!this.unsigned&&this.eq(Vt)?Vt:this.not().add(Lt)},Xt.neg=Xt.negate,Xt.add=function(t){pt(t)||(t=Nt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,St((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Xt.subtract=function(t){return pt(t)||(t=Nt(t)),this.add(t.neg())},Xt.sub=Xt.subtract,Xt.multiply=function(t){if(this.isZero())return Pt;if(pt(t)||(t=Nt(t)),mt)return St(mt.mul(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned);if(t.isZero())return Pt;if(this.eq(Vt))return t.isOdd()?Vt:Pt;if(t.eq(Vt))return this.isOdd()?Vt:Pt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(xt)&&t.lt(xt))return Et(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=n*h+i*o+r*u+e*s,St((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Xt.mul=Xt.multiply,Xt.divide=function(t){if(pt(t)||(t=Nt(t)),t.isZero())throw v("division by zero");var n,i,r;if(mt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?St((this.unsigned?mt.div_u:mt.div_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Bt:Pt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Bt;if(t.gt(this.shru(1)))return Mt;r=Bt}else{if(this.eq(Vt))return t.eq(Lt)||t.eq(Ut)?Vt:t.eq(Vt)?Lt:(n=this.shr(1).div(t).shl(1)).eq(Pt)?t.isNegative()?Lt:Ut:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Vt))return this.unsigned?Bt:Pt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Pt}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var e=_.ceil(_.log(n)/_.LN2),s=e<=48?1:Rt(2,e-48),u=Et(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Et(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Lt),r=r.add(u),i=i.sub(o)}return r},Xt.div=Xt.divide,Xt.modulo=function(t){return pt(t)||(t=Nt(t)),mt?St((this.unsigned?mt.rem_u:mt.rem_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Xt.mod=Xt.modulo,Xt.rem=Xt.modulo,Xt.not=function(){return St(~this.low,~this.high,this.unsigned)},Xt.and=function(t){return pt(t)||(t=Nt(t)),St(this.low&t.low,this.high&t.high,this.unsigned)},Xt.or=function(t){return pt(t)||(t=Nt(t)),St(this.low|t.low,this.high|t.high,this.unsigned)},Xt.xor=function(t){return pt(t)||(t=Nt(t)),St(this.low^t.low,this.high^t.high,this.unsigned)},Xt.shiftLeft=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?St(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):St(0,this.low<<t-32,this.unsigned)},Xt.shl=Xt.shiftLeft,Xt.shiftRight=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?St(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):St(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Xt.shr=Xt.shiftRight,Xt.shiftRightUnsigned=function(t){if(pt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?St(this.low>>>t|n<<32-t,n>>>t,this.unsigned):St(32===t?n:n>>>t-32,0,this.unsigned)},Xt.shru=Xt.shiftRightUnsigned,Xt.shr_u=Xt.shiftRightUnsigned,Xt.toSigned=function(){return this.unsigned?St(this.low,this.high,!1):this},Xt.toUnsigned=function(){return this.unsigned?this:St(this.low,this.high,!0)},Xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},kt.fromBytes=function(t,n,i){return i?kt.fromBytesLE(t,n):kt.fromBytesBE(t,n)},kt.fromBytesLE=function(t,n){return new kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},kt.fromBytesBE=function(t,n){return new kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Wt=yt,qt=_.pow(2,-52);function zt(t,n,i){return _.min(_.max(t,n),i)}function Gt(t,n,i){return t===n||_.abs(t-n)<=i}function jt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<qt||i<_.max(_.abs(t),_.abs(n))*qt}function Qt(t){return t!=t}function Yt(t,n){return t===n||Qt(t)&&Qt(n)}function Zt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Jt(){return Date.now()||(new Date).getTime()}function $t(t){return t/1e3}var Kt,tn=Wt.fromNumber(9007199254740991);function nn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(tn))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function rn(t){return t.Ze===Kt.Je}function en(t){return t.Ze===Kt.$e}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Je=1]="Je",t[t.Ke=2]="Ke",t[t.$e=3]="$e",t[t.ts=4]="ts",t[t.rs=9]="rs"}(Kt||(Kt={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(un.prototype=l.create(v.prototype)).constructor=un;var on=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(sn(r),r.constructor),r}return F(n,t),M(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),hn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return F(n,t),n}(on),an=function(){function t(){}return t.prototype.es=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new hn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new hn;return new gn(n)},t}(),cn=function(){function t(t){this.ss=void 0,this.ss=t}var n=t.prototype;return n.us=function(t){return this.ss.isEqualNode(t.ss)},n.os=function(n){return new t(this.ss.cloneNode(n))},M(t,[{key:"Ze",get:function(){return Kt.Ke}},{key:"hs",get:function(){var t;return null!=(t=this.ss.localName)?t:mn(this.ss.nodeName)}},{key:"as",get:function(){return this.ss.nodeName}},{key:"cs",get:function(){var t;return null!=(t=this.ss.namespaceURI)?t:void 0}},{key:"fs",get:function(){var t;return null!=(t=this.ss.prefix)?t:void 0}},{key:"vs",get:function(){return this.ss.nodeValue}}]),t}(),fn=function(){function t(t){this.ds=void 0,this.ls=void 0,this.ds=t}var n=t.prototype;return n._s=function(t){return this.gs.filter(function(n){return wn(n)&&n.ys===t})},n.ks=function(t,n){return this.gs.filter(function(i){return wn(i)&&i.hs===n&&i.cs===t})},n.ps=function(t){this.ds.appendChild(t.As),this.ls&&this.ls.push(t)},n.us=function(t){return this.ds.isEqualNode(t.As)},M(t,[{key:"gs",get:function(){return void 0===this.ls&&(this.ls=function(t){for(var n=[],i=0;i<t.length;i++){var r=yn(t.item(i));r&&n.push(r)}return n}(this.ds.childNodes)),this.ls}},{key:"bs",get:function(){return this.gs.filter(wn)}},{key:"As",get:function(){return this.ds}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.Ts=function(t){if(this.ds.hasAttribute(t))return this.ds.getAttribute(t)},i.Es=function(t,n){if(this.ds.hasAttributeNS(t,n))return this.ds.getAttributeNS(t,n)},i.Ss=function(t){this.ds.removeAttribute(t)},i.Rs=function(t,n){this.ds.removeAttributeNS(t,n)},i.Is=function(t,n){this.ds.setAttribute(t,n)},i.Ns=function(t,n,i){this.ds.setAttributeNS(t,n,i)},i.os=function(t){return new n(this.ds.cloneNode(t))},M(n,[{key:"Ze",get:function(){return Kt.Je}},{key:"hs",get:function(){var t;return null!=(t=this.ds.localName)?t:mn(this.ds.nodeName)}},{key:"cs",get:function(){var t;return null!=(t=this.ds.namespaceURI)?t:void 0}},{key:"fs",get:function(){var t;return null!=(t=this.ds.prefix)?t:void 0}},{key:"ys",get:function(){return this.ds.nodeName}},{key:"Cs",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new cn(t.item(i)));return n}(this.ds.attributes)}},{key:"Ds",get:function(){return this.ds.textContent}}]),n}(fn),dn=function(){function t(t){this.ds=void 0,this.ds=t}return t.prototype.us=function(t){return this.Os===t.Os},M(t,[{key:"Os",get:function(){return this.ds.nodeValue}},{key:"As",get:function(){return this.ds}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.os=function(t){return new n(this.ds.cloneNode(t))},M(n,[{key:"Ze",get:function(){return Kt.$e}}]),n}(dn),_n=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.os=function(t){return new n(this.ds.cloneNode(t))},M(n,[{key:"Ze",get:function(){return Kt.ts}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.os=function(t){return new n(this.ds.cloneNode(t))},M(n,[{key:"Ze",get:function(){return Kt.rs}},{key:"xs",get:function(){return new vn(this.ds.documentElement)}}]),n}(fn);function wn(t){return rn(t)}function yn(t){switch(t.nodeType){case Kt.Je:return new vn(t);case Kt.$e:return new ln(t);case Kt.ts:return new _n(t)}}function mn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function kn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function pn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){An(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&An(i,null,t.length,t),t}function An(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(u=(s=e+i)+i,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,En=/[0-9a-fA-F]/,Sn=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,Cn=l.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===Cn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function xn(t){return Dn(t)?t:Array.from(t)}function Pn(t){return t>=65&&t<=90}function Bn(t){return Pn(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Mn(t){return Ln(t)||Bn(t)}function Un(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Fn(t){return Pn(t)?t+32:t}function Hn(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Xn=_.min,Wn=String.fromCharCode,qn=16384;function zn(t){for(var n=t.length,i=[],r=0;r<n;r+=qn){var e=Xn(r+qn,n);i.push(Wn.apply(null,t.slice(r,e)))}return i.join("")}var Gn=/[^\0-\x7E]/,jn=/[\x2E\u3002\uFF0E\uFF61]/g,Qn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=_.floor,Zn=String.fromCharCode;function Jn(t){throw new RangeError(Qn[t])}function $n(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var Kn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ri=function(t,n,i){var r=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;r+=36)t=Yn(t/35);return Yn(r+36*t/(t+38))},ei=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(jn,".")).split("."),n).join(".");return r+e}(t,function(t){return Gn.test(t)?"xn--"+function(t){for(var n=[],i=(t=$n(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Zn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Yn((2147483647-e)/_)&&Jn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Jn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Zn(ii(p+A%b,0))),m=Yn(A/b)}n.push(Zn(ii(m,0))),s=ri(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function si(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zn(n)}function ui(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function hi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){hi(t[i],n)}return n}function ci(){if(ni>=ti)throw new v("Invalid byte index");var t=255&Kn[ni];if(ni++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function fi(){var t,n;if(ni>ti)throw new v("Invalid byte index");if(ni===ti)return!1;if(t=255&Kn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ci())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ci()<<6|ci())>=2048)return ui(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ci()<<12|ci()<<6|ci())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function vi(t){return[37,Vn(t>>4),Vn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function _i(t){return li(t)||35===t||63===t||123===t||125===t}function gi(t){return _i(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function yi(t){return wi(t)||39===t}function mi(t,n){if(!n(t))return[t];for(var i=ai([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,vi(s))}return r}function ki(t,n){for(var i=[],r=0,e=$n(t);r<e.length;r++){var s=e[r];i.push.apply(i,mi(s,n))}return si(i)}function pi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Un(t[r+1])&&Un(t[r+2])){var s=Hn(t[r+1])<<4|Hn(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(ai(t))}function Ai(t){return si(function(t){Kn=t.slice(),ti=Kn.length,ni=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(pi($n(t))))}function bi(t){var n,i,r,e,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&En.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!Tn.test(t[a]))throw new d;for(;a<s&&Tn.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=u)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new d;return u}function Ti(t){var n=10,i=Rn;return Sn.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?g(t,n):void 0}var Ei={Ps:4},Si=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Ps:2,Bs:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new d("Invalid code point in opaque host");var n=ki(t,di);return""===n?Ei:{Ps:3,nr:n}}(t);var i=function(t){return function(t){return ei(t.toLowerCase())}(t)}(Ai(t));if(Si.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=Ti(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==r?{Ps:1,Bs:r}:""===i?Ei:{Ps:0,Ls:i}}function Ni(t){switch(t.Ps){case 0:return t.Ls;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Bs);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Bs)+"]";case 3:return t.nr;case 4:return""}}var Ci=/\+/g;function Di(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(Ci," "),o=o.replace(Ci," ");var h=Ai(u),a=Ai(o);i.push([h,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=xi(ai($n(r[0])))+"="+xi(ai($n(r[1])))}return n}function xi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Mn(n)?i.push(e):i.push.apply(i,vi(e))}return zn(i)}var Pi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Bi(t){var n=""+t,i=Pi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(Mi(s))if(Ui(s)||e===i-1)r.push(Li);else{var u=t.charCodeAt(e+1);Ui(u)?(r.push(s,u),e++):r.push(Li)}else r.push(s)}return t.slice(0,n)+zn(r)}(n,i.index):n}var Li=65533,Mi=function(t){return 55296==(63488&t)},Ui=function(t){return 0!=(1024&t)};function Fi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Hi(t){t.Ms.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ms,Di(n))}function Xi(t){if(t.Us){var n=Oi(t.Ms);""===n&&(n=null),t.Us.Us.Fs=n}}var Wi=function(){function t(t){if(void 0===t&&(t=void 0),this.Us=null,null==t)this.Ms=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Wi&&Dn(s.Ms)&&(!On||s[Symbol.iterator]===qi))this.Ms=t.Ms.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.Ms=[];for(var n=0,i=xn(t);n<i.length;n++){var r=xn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Ms.push([Bi(r[0]),Bi(r[1])])}}else for(var e in this.Ms=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Ms.push([Bi(e),Bi(t[e])]);else(t=Bi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ms=Di(t);var s}var n=t.prototype;return n.append=function(t,n){t=Bi(t),n=Bi(n),this.Ms.push([t,n]),Xi(this)},n.delete=function(t){t=Bi(t);for(var n=this.Ms,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Xi(this)},n.get=function(t){t=Bi(t);for(var n=this.Ms,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Bi(t);for(var n=this.Ms,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Bi(t);for(var n=this.Ms,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Bi(t),n=Bi(n);for(var i=this.Ms,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),Xi(this)},n.sort=function(){pn(this.Ms,Fi),Xi(this)},n.toString=function(){return Oi(this.Ms)},n.entries=function(){return new Qi(this.Ms,zi)},n.keys=function(){return new Qi(this.Ms,Gi)},n.values=function(){return new Qi(this.Ms,ji)},n.forEach=function(t){var n=this;this.Ms.forEach(function(i){return t(i[1],i[0],n)})},t}(),qi=Wi.prototype.entries;On&&(Wi.prototype[Symbol.iterator]=qi);var zi=function(t){return[t[0],t[1]]},Gi=function(t){return t[0]},ji=function(t){return t[1]},Qi=function(){function t(t,n){this.Hs=0,this.Ms=t,this.Vs=n}return t.prototype.next=function(){return this.Hs<this.Ms.length?{done:!1,value:this.Vs(this.Ms[this.Hs++])}:{done:!0,value:void 0}},t}(),Yi="null";var Zi=l.create(null);Zi.ftp=21,Zi.file=0,Zi.gopher=70,Zi.http=80,Zi.https=443,Zi.ws=80,Zi.wss=443;var Ji=/^(?:\.|%2e)$/i,$i=/^(?:\.|%2e){2}$/i;function Ki(t){return Ji.test(t)}function tr(t){return $i.test(t)}function nr(t){return void 0!==Zi[t]}function ir(t){return nr(t.Xs)}function rr(t){return""!==t.Ws||""!==t.qs}function er(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function sr(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&sr(zn(t))}function or(t){return sr(t)&&":"===t[1]}function hr(t){var n=t.zs;0!==n.length&&("file"===t.Xs&&1===n.length&&or(n[0])||n.pop())}function ar(t){return null===t.Gs||Ei===t.Gs||t.js||"file"===t.Xs}var cr=-1,fr=/\t|\n|\r/g,vr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function dr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new _r,t=t.replace(vr,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=$n(t=t.replace(fr,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:cr;switch(e){case 0:if(!Bn(v)){if(null===r){s.length=0,e=2;continue}throw new d("Invalid scheme")}s.push(Fn(v)),e=1;break;case 1:if(Mn(v)||43===v||45===v||46===v)s.push(Fn(v));else{if(58!==v){if(null===r){s.length=0,e=2,f=0;continue}throw new d("Invalid scheme")}var l=si(s);if(null!==r){if(nr(i.Xs)&&!nr(l))return;if(!nr(i.Xs)&&nr(l))return;if((rr(i)||null!==i.Qs)&&"file"===l)return;if("file"===i.Xs&&(i.Gs===Ei||null===i.Gs))return}if(i.Xs=l,null!==r)return void(ir(i)&&i.Qs===Zi[i.Xs]&&(i.Qs=null));s.length=0,"file"===i.Xs?e=13:ir(i)&&n&&n.Xs===i.Xs?e=3:ir(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.js=!0,i.zs.push(""),e=18)}break;case 2:if(!n||n.js&&35!==v)throw new d("Invalid scheme");n.js&&35===v?(i.Xs=n.Xs,i.zs=n.zs.slice(),i.Fs=n.Fs,i.Ys="",i.js=!0,e=20):"file"!==n.Xs?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Xs=n.Xs,cr===v?(i.Ws=n.Ws,i.qs=n.qs,i.Gs=n.Gs,i.Qs=n.Qs,i.zs=n.zs.slice(),i.Fs=n.Fs):47===v?e=6:63===v?(i.Ws=n.Ws,i.qs=n.qs,i.Gs=n.Gs,i.Qs=n.Qs,i.zs=n.zs.slice(),i.Fs="",e=19):35===v?(i.Ws=n.Ws,i.qs=n.qs,i.Gs=n.Gs,i.Qs=n.Qs,i.zs=n.zs.slice(),i.Fs=n.Fs,i.Ys="",e=20):92===v&&ir(i)?e=6:(i.Ws=n.Ws,i.qs=n.qs,i.Gs=n.Gs,i.Qs=n.Qs,i.zs=n.zs.slice(),i.zs.pop(),e=17,f-=1);break;case 6:!ir(i)||47!==v&&92!==v?47===v?e=9:(i.Ws=n.Ws,i.qs=n.qs,i.Gs=n.Gs,i.Qs=n.Qs,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var y=si(mi(w,gi));h?i.qs+=y:i.Ws+=y}else h=!0}s.length=0}else if(cr===v||47===v||63===v||35===v||ir(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Xs)f-=1,e=15;else if(58!==v||o)if(cr===v||47===v||63===v||35===v||ir(i)&&92===v){if(f-=1,ir(i)&&0===s.length)throw new d("Invalid host");if(null!==r&&0===s.length&&(rr(i)||null!==i.Qs))return;var m=Ii(si(s),ir(i));if(i.Gs=m,s.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=Ii(si(s),ir(i));if(i.Gs=k,s.length=0,e=12,11===r)return}break;case 12:if(Ln(v))s.push(v);else{if(!(cr===v||47===v||63===v||35===v||ir(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==s.length){var p=g(si(s),10);if(p>65535)throw new d("Invalid port");i.Qs=p===Zi[i.Xs]?null:p,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Xs="file",47===v||92===v?e=14:n&&"file"===n.Xs?cr===v?(i.Gs=n.Gs,i.zs=n.zs.slice(),i.Fs=n.Fs):63===v?(i.Gs=n.Gs,i.zs=n.zs.slice(),i.Fs="",e=19):35===v?(i.Gs=n.Gs,i.zs=n.zs.slice(),i.Fs=n.Fs,i.Ys="",e=20):(er(a.slice(f))||(i.Gs=n.Gs,i.zs=n.zs.slice(),hr(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Xs&&!er(a.slice(f))&&(or(n.zs[0])?i.zs.push(n.zs[0]):i.Gs=n.Gs),e=17,f-=1);break;case 15:if(cr===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&ur(s))e=17;else if(0===s.length){if(i.Gs=Ei,null!==r)return;e=16}else{var A=Ii(si(s),ir(i));if(0===A.Ps&&"localhost"===A.Ls&&(A=Ei),i.Gs=A,null!==r)return;s.length=0,e=16}else s.push(v);break;case 16:ir(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Fs="",e=19):null===r&&35===v?(i.Ys="",e=20):cr!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(cr===v||47===v||ir(i)&&92===v||null===r&&(63===v||35===v)){var b=si(s);if(tr(b)?(hr(i),47===v||ir(i)&&92===v||i.zs.push("")):!Ki(b)||47===v||ir(i)&&92===v?Ki(b)||("file"===i.Xs&&0===i.zs.length&&ur(s)&&(Ei!==i.Gs&&null!==i.Gs&&(i.Gs=Ei),s[1]=58,b=si(s)),i.zs.push(b)):i.zs.push(""),s.length=0,"file"===i.Xs&&(cr===v||63===v||35===v))for(;i.zs.length>1&&""===i.zs[0];)i.zs.shift();63===v?(i.Fs="",e=19):35===v&&(i.Ys="",e=20)}else s.push.apply(s,mi(v,_i));break;case 18:63===v?(i.Fs="",e=19):35===v?(i.Ys="",e=20):cr!==v&&(i.zs[0]+=si(mi(v,di)));break;case 19:null===r&&35===v?(i.Ys="",e=20):cr!==v&&(i.Fs+=si(mi(v,ir(i)?yi:wi)));break;case 20:cr===v||0===v||(i.Ys+=si(mi(v,li)))}f++}return i}function lr(t,n,i,r){try{dr(t,n,i,r)}catch(t){}}var _r=function(){this.Xs="",this.Ws="",this.qs="",this.Gs=null,this.Qs=null,this.zs=[],this.Fs=null,this.Ys=null,this.js=!1};function gr(t){switch(t.Xs){case"blob":var n;try{n=dr(t.zs[0],null)}catch(t){return Yi}return gr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Xs,r=t.Gs,e=t.Qs,i+"://"+Ni(r)+(null===e?"":":"+e);case"file":default:return Yi}var i,r,e}var wr,yr,mr,kr,pr,Ar,br,Tr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Tr&&"object"==typeof i.Us)e=n.Us;else try{e=dr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=dr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var s=r.Fs;this.Us=r,this.Fs=function(t){var n=new Wi;return null!==t&&Vi(n,t),n}(s),this.Fs.Us=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Xs+":";if(null!==t.Gs?(i+="//",rr(t)&&(i+=t.Ws,""!==t.qs&&(i+=":"+t.qs),i+="@"),i+=Ni(t.Gs),null!==t.Qs&&(i+=":"+t.Qs)):null===t.Gs&&"file"===t.Xs&&(i+="//"),t.js)i+=t.zs[0];else for(var r=0,e=t.zs;r<e.length;r++)i+="/"+e[r];return null!==t.Fs&&(i+="?"+t.Fs),n||null===t.Ys||(i+="#"+t.Ys),i}(this.Us)},set:function(t){var n;try{n=dr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Us=n,Hi(this.Fs);var i=this.Us.Fs;null!==i&&Vi(this.Fs,i)}},{key:"origin",get:function(){return gr(this.Us)}},{key:"protocol",get:function(){return this.Us.Xs+":"},set:function(t){lr(t+":",null,this.Us,0)}},{key:"username",get:function(){return this.Us.Ws},set:function(t){ar(this.Us)||(this.Us.Ws=ki(t,gi))}},{key:"password",get:function(){return this.Us.qs},set:function(t){ar(this.Us)||(this.Us.qs=ki(t,gi))}},{key:"host",get:function(){var t=this.Us,n=t.Gs;if(null===n)return"";var i=t.Qs,r=Ni(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Us.js||lr(t,null,this.Us,10)}},{key:"hostname",get:function(){var t=this.Us.Gs;return null===t?"":Ni(t)},set:function(t){this.Us.js||lr(t,null,this.Us,11)}},{key:"port",get:function(){var t=this.Us.Qs;return null===t?"":""+t},set:function(t){ar(this.Us)||(""===t?this.Us.Qs=null:lr(t,null,this.Us,12))}},{key:"pathname",get:function(){var t=this.Us.zs;return this.Us.js?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Us.js||(this.Us.zs.length=0,lr(t,null,this.Us,16))}},{key:"search",get:function(){var t=this.Us.Fs;return null===t||""===t?"":"?"+t},set:function(t){t=Bi(t);var n=this.Us;if(""===t)return n.Fs=null,void Hi(this.Fs);"?"===t[0]&&(t=t.slice(1)),n.Fs="",lr(t,null,n,19),Vi(this.Fs,t)}},{key:"searchParams",get:function(){return this.Fs}},{key:"hash",get:function(){var t=this.Us.Ys;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Us.Ys="",lr(t,null,this.Us,20)):this.Us.Ys=null}}])&&kn(n.prototype,i),r&&kn(n,r),t}();function Er(t){return t.document&&t.document.baseURI||t.location.href||""}function Sr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Rr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Ir(t,n){Y.Ee&&Y.Se<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Nr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Dr(t){t.removeAttribute("title")}function Or(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function xr(t){t.src&&(t.removeAttribute("src"),t.load())}function Pr(){return void 0!==s?s.createElement("video"):void 0}function Br(){return br||(br=Pr()),br}var Lr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Mr=Br(),Ur=!(!Mr||!Mr.webkitShowPlaybackTargetPicker),Fr=function(){function t(){this.Zs=void 0,this.Js=!1,this.ue=Lr,this.pe=!1,this.$s=!0,this.Ks=!0}var n=t.prototype;return n.tu=function(){return 0},n.nu=function(t,n){return!0},n.iu=function(t){return t>=1/6*2},M(t,[{key:"ru",get:function(){return void 0===this.Zs&&(this.Zs=this.tu()),this.Zs}},{key:"eu",get:function(){return e.devicePixelRatio||1}},{key:"su",get:function(){return Ur}},{key:"uu",get:function(){return!1}},{key:"ou",get:function(){return!0}},{key:"hu",get:function(){return Y.oe||Y.me}},{key:"au",get:function(){return!0}},{key:"cu",get:function(){return!0}},{key:"fu",get:function(){}}]),t}(),Hr=function(){var t=Pr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Y.we)return!1;var t=Pr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Vr=function(t){function n(n){var i;return(i=t.call(this)||this).vu=void 0,i.vu=n,i.vu&&(i.Js=i.vu.Js,i.ue=i.vu.ue,i.$s=Hr&&i.vu.$s),i}F(n,t);var i=n.prototype;return i.tu=function(){return this.vu?this.vu.ru:t.prototype.tu.call(this)},i.nu=function(n,i){return this.vu?this.vu.nu(n,i):t.prototype.nu.call(this,n,i)},i.iu=function(n){return this.vu?this.vu.iu(n):t.prototype.iu.call(this,n)},M(n,[{key:"fu",get:function(){var t;return null==(t=this.vu)?void 0:t.fu}}]),n}(Fr),Xr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Js=!0,i.pe=!0,i}return F(n,t),n}(Vr),Wr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.tu=function(){return kr.MediaSource?t.prototype.tu.call(this):1},n}(Xr),qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.nu=function(n,i){return!(i.du>1920)&&t.prototype.nu.call(this,n,i)},M(n,[{key:"uu",get:function(){return Y.Se<3}},{key:"ou",get:function(){return Y.Se>=3}}]),n}(Vr),zr=function(t){function n(){return t.call(this)||this}return F(n,t),n}(Fr),Gr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.nu=function(t,n){if(t&&t.lu&&n&&n.lu){var i=jr(t.lu,"mp4a.40.2")&&jr(n.lu,"mp4a.40.5"),r=jr(t.lu,"mp4a.40.5")&&jr(n.lu,"mp4a.40.2"),e=jr(t.lu,"mp4a.40.2")&&jr(n.lu,"mp4a.40.34"),s=jr(t.lu,"mp4a.40.34")&&jr(n.lu,"mp4a.40.2"),u=jr(t.lu,"mp4a.40.5")&&jr(n.lu,"mp4a.40.34"),o=jr(t.lu,"mp4a.40.34")&&jr(n.lu,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},M(n,[{key:"fu",get:function(){if(Y.oe)return 4096}}]),n}(zr);function jr(t,n){return t.indexOf(n)>-1}var Qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iu=function(t){return t>=2},n}(zr),Yr=function(t){function n(){var n;return(n=t.call(this)||this).Js=Y.Be>=11,n.$s=Y.Pe&&!(Y.me&&Y.Be<10),n}return F(n,t),n}(zr),Zr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),M(n,[{key:"au",get:function(){return!1}}]),n}(Vr),Jr=function(){function n(){var n;this._u=void 0,this.gu=new an,this.wu=new $r,this.yu=(n=function(){if(Y.Oe)return new Gr;if(Y.Ie||Y.Ne)return new Qr;if(Y.Pe)return new Yr;return new zr}(),Y.me?new Wr(n):Y.pe?new Xr(n):Y.Ee?new qr(n):Y.Re?new Zr(n):new Vr(n)),this.mu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this._u=function(){return t.performance.now()}:this._u=Jt}var i=n.prototype;return i.ku=function(){lt.apply(void 0,arguments)},i.pu=function(){_t.apply(void 0,arguments)},i.Au=function(){gt.apply(void 0,arguments)},i.bu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.apply(void 0,[t].concat(i))},i.ur=function(t,n){return h(t,n)},i.Tu=function(t,n){return c(t,n)},i.sr=function(t){a(t)},i.Eu=function(t){f(t)},i.es=function(t){return this.gu.es(t)},i.Su=function(){return this.Ru.Su()},i.Iu=function(){return this.Ru.Iu()},i.Nu=function(){return this.Ru.Nu()},i.Cu=function(){return this.Ru.Cu()},i.Du=function(){return this.Ru.Du()},i.Ou=function(t,n){return this.Ru.Ou(t,n)},i.xu=function(t){return this.Ru.xu(t)},i.Pu=function(t,n){var i;return void 0===n&&(n=Er(kr)),i="object"!=typeof n||n instanceof Tr?n:n.href,new Tr(t,i)},i.Bu=function(n,i){if(void 0===i&&(i=Er(kr)),this.mu){var r=rt(i)?i:i.toString();return new t.URL(n,r).href}return this.Pu(n,i).href},M(n,[{key:"Lu",get:function(){return this.wu}},{key:"Mu",get:function(){return this.yu}},{key:"Uu",get:function(){return{Fu:o&&o.userAgent.match(/Android /i)?"Android":"other",Hu:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Vu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Xu",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),$r=function(){function t(){}return M(t,[{key:"Wu",get:function(){return o.oscpu}},{key:"Mu",get:function(){return o.platform}},{key:"qu",get:function(){return o.vendor}},{key:"zu",get:function(){return o.vendorSub}}]),t}();var Kr=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",u=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,s=l.create(e.prototype),u=new D(r||[]);return s.Gu=function(t,n,i){var r=c;return function(e,s){if(r===_)throw new v("Generator is already running");if(r===g){if("throw"===e)throw s;return x()}for(i.method=e,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.ju=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,s)&&(A=T);var E=p.prototype=m.prototype=l.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gu(n,t)}})}function R(t){var n;this.Gu=function(i,e){function s(){return new Promise(function(n,s){!function n(i,e,s,u){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"Qu")?Promise.resolve(c.Qu).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,e,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var s=e.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var e=-1,u=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(E),t},t.awrap=function(t){return{Qu:t}},S(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var s=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.ju=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var h=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)});function te(){return(te=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ne(){var t=l.create(null);return t.Yu=void 0,delete t.Yu,t}function ie(){return new oe}function re(){return new ae}function ee(t){var n=ie();for(var i in t)Z.call(t,i)&&n.set(i,t[i]);return n}var se,ue="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,oe=ue||(se=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ne(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ne(),this.size=0},n.keys=function(){return new se(this.data,function(t,n){return n})},n.values=function(){return new se(this.data,function(t,n){return t[n]})},n.entries=function(){return new se(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var he,ae=ue||(he=function(){function t(t,n){this.Zu=void 0,this.Ju=void 0,this.Zu=t,this.Ju=n}var n=t.prototype;return n.next=function(){var t=this.Zu.next();return t.done?t:{value:this.Ju(t.value),done:!1}},t}(),function(){function t(){this.$u=ie()}var n=t.prototype;return n.get=function(t){return this.$u.get(""+t)},n.set=function(t,n){return this.$u.set(""+t,n),this},n.has=function(t){return this.$u.has(""+t)},n.delete=function(t){return this.$u.delete(""+t)},n.clear=function(){this.$u.clear()},n.keys=function(){return new he(this.$u.keys(),function(t){return Number(t)})},n.values=function(){return this.$u.values()},n.entries=function(){return new he(this.$u.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.$u.forEach(function(n,i){t(n,Number(i))})},M(t,[{key:"size",get:function(){return this.$u.size}}]),t}());var ce,fe="urn:mpeg:dash:mp4protection:2011",ve="cenc",de="sinf",le="skd",_e="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ge="com.microsoft.playready",we="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ye="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",me="urn:uuid:"+ye,ke="com.apple.fps.1_0";!function(t){t.Ku="playready",t.to="widevine",t.io="fairplay",t.ro="clearkey",t.eo="aes128"}(ce||(ce={}));var pe={so:ce.Ku,uo:ge,oo:"cenc",ho:"9a04f079-9840-4286-ab92-e65be0885f95",ao:_e,co:"PlayReady"},Ae={so:ce.to,uo:"com.widevine.alpha",oo:"cenc",ho:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ao:we,co:"Widevine"},be={so:ce.io,uo:ke,oo:"skd",ho:ye,ao:me,co:"FairPlay"},Te=(ce.io,{so:ce.ro,uo:"org.w3.clearkey",oo:"cenc",ho:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ao:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",co:"ClearKey"}),Ee=[pe,Ae,be,Te];function Se(t){return Ee.filter(function(n){return n.ao===t.toLowerCase()})}function Re(t,n,i){return t.split(n).join(i)}function Ie(t,n){return null!=t&&-1!==t.indexOf(n)}function Ne(t,n){return null!=t&&t.substr(0,n.length)===n}function Ce(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function De(t,n){return t.toUpperCase()===n.toUpperCase()}function Oe(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function xe(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Oe(r,e/r.length)),r.slice(0,e)+t)}function Pe(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Le(n)}var Be=16384;function Le(t){var n=t.length;if(n<=Be)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Be)i.push(String.fromCharCode.apply(String,t.slice(r,r+Be)));return i.join("")}var Me=Y.be&&Y.Te>=42||Y.Oe&&Y.xe>=38||Y.Ie||Y.Ce||Y.Le&&Y.Me>=29;function Ue(t,n){return Ie(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Fe(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function He(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ve=function(){function t(t){this.fo=void 0,this.vo=ie(),this.do=void 0,this.fo=t}var n=t.prototype;return n.Du=function(){return this.xu(Ae)},n.Iu=function(){return this.xu(Te)},n.Cu=function(){return this.xu(pe)},n.Nu=function(){return this.xu(be)},n.xu=function(t){var n=t.ao,i=this.vo.get(n);if(i)return i;var r=this.Ou(t,'video/mp4; codecs="avc1.42000a"');return this.vo.set(n,r),r},n.Ou=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fo.lo(n.uo,[Ue(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.fo.lo(n.uo,[Ue(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Su=function(){return this.do||(this.do=this._o()),this.do},n._o=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==pr.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Me){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Iu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Xe(t,n){return qe(t.slice(),n)}function We(t,n){var i=qe(t,n);return i!==t&&ze(i,void 0,t.length,t),t}function qe(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){ze(i,n,s,e);var u=i;i=e,e=u}return i}function ze(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(e=(u=s+i)+i,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function Ge(t,n,i){var r=je(t,n,i);return-1===r?void 0:t[r]}function je(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Qe(t,n){var i=t.indexOf(n);return-1!==i&&(Ye(t,i),!0)}function Ye(t,n){t.splice(n,1)}function Ze(t,n){return-1!==t.indexOf(n)}function Je(t){t.length=0}function $e(t){var n;return(n=[]).concat.apply(n,t)}function Ke(t,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,n(t[r],r));return i}function ts(t,n){return ns.apply(this,arguments)}function ns(){return(ns=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=10;break}return e=n[r],t.next=5,i(e);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function is(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}var rs=function(){function t(){this.wo=!1,this.yo=!1,this.mo=[],this.ko=[]}var n=t.prototype;return n.po=function(){if(!this.wo&&!this.yo){this.wo=!0;for(var t=0,n=this.mo.slice();t<n.length;t++){(0,n[t])()}this.Ao()}},n.Ao=function(){if(!this.yo){this.yo=!0;for(var t=0,n=this.ko.slice();t<n.length;t++){(0,n[t])()}Je(this.mo),Je(this.ko)}},n.bo=function(t){this.yo||this.mo.push(t)},n.To=function(t){this.yo||Qe(this.mo,t)},n.Eo=function(t){this.yo||this.ko.push(t)},n.So=function(t){this.yo||Qe(this.ko,t)},t}(),es=function(){function t(){this.Ro=new rs}var n=t.prototype;return n.Io=function(){this.Ro.po()},n.Ao=function(){this.Ro.Ao()},n.No=function(t){var n=this.Ro;if(!n.wo)if(t.wo)n.po();else if(!n.yo&&!t.yo){var i=function(){r(),n.po()},r=function r(){t.To(i),t.So(r),n.To(i),n.So(r)};t.bo(i),t.Eo(r),n.bo(i),n.Eo(r)}},n.Co=function(){var n=new t,i=new t,r=n.Do,e=i.Do,s=this.Ro,u=function(){r.wo&&e.yo||e.wo&&r.yo?s.po():r.yo&&e.yo&&s.Ao()};r.bo(u),e.bo(u),r.Eo(u),e.Eo(u),n.No(s),i.No(s);return s.Eo(function(){r.To(u),e.To(u),r.So(u),e.So(u)}),[n,i]},M(t,[{key:"Do",get:function(){return this.Ro}}]),t}(),ss=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function us(t){return t instanceof v&&"AbortError"===t.name}function os(t){if(t&&t.wo)throw new ss}function hs(t){if(us(t))throw t}function as(t){if(!us(t))throw t}function cs(t,n){return n?new E(function(i,r){if(n.wo)return t.catch(R),r(new ss);var e=function t(){n.To(t),r(new ss)};n.bo(e),t.then(function(t){n.To(e),i(t)},function(t){n.To(e),r(t)})}):t}function fs(t,n){return t.then(function(t){return n.Ao(),t},function(t){throw n.Ao(),t})}function vs(t,n){var i=new es;return n&&i.No(n),t(i.Do).then(function(t){return i.Io(),t},function(t){throw i.Io(),t})}var ds=E.resolve();function ls(t){ds.then(t)}function _s(t){t.then(R,R)}function gs(t){return ws.apply(this,arguments)}function ws(){return(ws=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,E.all(n.map(function(t){return t.catch(R)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ys(t,n){return new E(function(i,r){if(void 0!==n&&n.wo)r(new ss);else{var e=T.ur(function(){void 0!==n&&n.To(s),i()},t),s=function(){T.sr(e),r(new ss)};void 0!==n&&n.bo(s)}})}function ms(t,n){var i=new es;return E.race([t,ys(n,i.Do).then(function(){throw new v("Timeout")})]).then(function(t){return i.Io(),t},function(t){throw i.Io(),t})}function ks(t){return t&&"function"!=typeof t?t.slice():t}function ps(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var As,bs=function(){function t(t){var n=this;this.Oo=ne(),this.xo=void 0,this.Po=void 0,this.Bo=function(t){n.Lo(t)},this.Po=t||this}var n=t.prototype;return n.Mo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Uo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Uo(r,n)}},n.Uo=function(t,n){var i=this.Oo[t];i?"function"==typeof i?this.Oo[t]=[i,n]:i.push(n):this.Oo[t]=n},n.Fo=function(t){if("function"==typeof t){var n=this.xo;n?"function"==typeof n?this.xo=[n,t]:n.push(t):this.xo=t}},n.Ho=function(){this.Oo=ne(),this.xo=void 0},n.Lo=function(t){var n=ks(this.Oo[t.type]),i=ks(this.xo);ps(this.Po,t,n),ps(this.Po,t,i)},n.Vo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Xo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Xo(r,n)}},n.Xo=function(t,n){var i=this.Oo[t];i&&("function"==typeof i?i===n&&(this.Oo[t]=void 0):Qe(i,n))},n.Wo=function(t){if("string"==typeof t)this.Oo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Oo[i]=void 0}},n.qo=function(t){var n=this.xo;n&&("function"==typeof n?n===t&&(this.xo=void 0):Qe(n,t))},n.zo=function(t,n){var i=this;return new E(function(r,e){if(n&&n.wo)return e(new ss);var s=function(t){o(),r(t)},u=function(){o(),e(new ss)},o=function(){i.Vo(t,s),n&&n.To(u)};i.Mo(t,s),n&&n.bo(u)})},t}(),Ts=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Lo=function(n){var i=this;ls(function(){t.prototype.Lo.call(i,n)})},n}(bs),Es=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ss=["cenc"],Rs=["cbcs","cbcs-1-9"],Is=function(t){function n(n){var i;return(i=t.call(this,"jo")||this).Go=n,i}return F(n,t),n}(Es),Ns=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"Qo")||this).Go=n,s.Yo=i,s.Qo=r,s.Zo=e,s}return F(n,t),n}(Es),Cs=function(t){function n(){return t.call(this,"Jo")||this}return F(n,t),n}(Es);!function(t){t.$o="Ko",t.th="nh"}(As||(As={}));var Ds=function(t){function n(n,i){var r;return(r=t.call(this,As.$o)||this).oo=n,r.ih=i,r}return F(n,t),n}(Es),Os=function(t){function n(){return t.call(this,As.th)||this}return F(n,t),n}(Es),xs=new m([0]).buffer,Ps=function(){function t(){this.rh=void 0,this.rh=[]}var n=t.prototype;return n.eh=function(t){for(var n=0,i=this.rh;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.sh=function(t){for(var n=0,i=this.rh;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.uh=function(t,n){this.rh.forEach(function(n){return t(n[1],n[0])},n)},n.oh=function(t,n){this.rh.push([t,n])},n.hh=function(){Je(this.rh)},M(t,[{key:"ah",get:function(){return this.rh.length}}]),t}(),Bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ls=16383,Ms=/[\t\n\f\r ]/g;function Us(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Fs()}function Fs(){throw new v("Invalid base64 input")}function Hs(t){var n=t;Ms.test(n)&&(n=n.replace(Ms,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Fs();for(var e,s=0===r?0:4-r,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)e=Us(n.charCodeAt(h))<<18|Us(n.charCodeAt(h+1))<<12|Us(n.charCodeAt(h+2))<<6|Us(n.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=Us(n.charCodeAt(h))<<2|Us(n.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=Us(n.charCodeAt(h))<<10|Us(n.charCodeAt(h+1))<<4|Us(n.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function Vs(t,n,i){for(var r,e,s,u=[],o=n;o<i;o+=3)u.push((r=t[o],e=t[o+1],s=t[o+2],Bs[r>>2]+Bs[(3&r)<<4|e>>4]+Bs[(15&e)<<2|s>>6]+Bs[63&s]));return u.join("")}function Xs(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=Ls)r.push(Vs(t,s,_.min(e,s+Ls)));if(1===i){var u=t[n-1];r.push(Bs[u>>2]+Bs[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Bs[o>>2]+Bs[(3&o)<<4|h>>4]+Bs[(15&h)<<2]+"=")}return r.join("")}var Ws=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],qs=ArrayBuffer.isView||function(t){return t&&Ze(Ws,J.call(t))};function zs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function Gs(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return js(t,n)}function js(t,n){for(var i=new m(n),r=0,e=0;e<t.length;e++){var s=t[e];i.set(s,r),r+=s.byteLength}return i}function Qs(t){return Hs(t).buffer}function Ys(t){return Xs(new m(t))}function Zs(t){return Xs(Du(t))}var Js=function(){function t(t){void 0===t&&(t=0),this.fh=t}var n=t.prototype;return n.vh=function(t){this.fh+=t},n.dh=function(t){this.fh=t},n.lh=function(){return new t(this._h)},M(t,[{key:"_h",get:function(){return this.fh}}]),t}();function $s(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ks(t,n){return t>>n&63|128}function tu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($s(t),n.push(t>>12&15|224),n.push(Ks(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ks(t,12)),n.push(Ks(t,6))),n.push(63&t|128)):n.push(t)}function nu(t,n){if(n._h>=t.length)throw new v("Invalid byte index");var i=255&t[n._h];if(n.vh(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function iu(t,n){var i=n._h;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.vh(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|nu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|nu(t,n)<<6|nu(t,n);if(s>=2048)return $s(s),s;throw new v("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|nu(t,n)<<12|nu(t,n)<<6|nu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var ru=65279;var eu=[128,64,32,16,8,4,2,1],su=function(){function t(t){this.gh=t}return t.prototype.wh=function(t){return uu(this.gh,t)},t}();function uu(t,n){return(t&n)===n}function ou(t,n){return uu(t,eu[n])}function hu(t,n){var i=t.getUint8(n._h);return n.vh(1),i}function au(t,n,i){t.setUint8(n._h,i),n.vh(1)}function cu(t,n,i){var r=Mu(Hu(t),n._h,n._h+i);return n.vh(r.byteLength),r}function fu(t,n,i){Hu(t).set(Hu(i),n._h),n.vh(i.byteLength)}function vu(t,n,i){return n._h+i<=t.byteLength}function du(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=hu(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+hu(t,n);return r}(t,n,i)}function lu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n._h,i);return n.vh(2),r}function _u(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n._h,i,r),n.vh(2)}function gu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n._h,i);return n.vh(4),r}function wu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n._h,i,r),n.vh(4)}function yu(t,n,i){void 0===i&&(i=!1);var r=gu(t,n,i),e=gu(t,n,i),s=i?e:r,u=i?r:e;return Wt.fromBits(u,s,!0)}function mu(t,n){var i=hu(t,n);if(i)return String.fromCharCode(i)}function ku(t,n){return bu(t,n)}function pu(t,n,i){for(var r="",e=0;e<i;e++)r+=mu(t,n);return r}function Au(t,n){var i,r=hu(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&hu(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&hu(t,n))+(63&hu(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&hu(t,n))+64*(63&hu(t,n))+(63&hu(t,n))),i}function bu(t,n){return Tu(t,n,!0)}function Tu(t,n,i){for(var r=[];n._h<t.byteLength;){var e=hu(t,n);if(i&&!e)break;r.push(e)}return Le(r)}function Eu(t,n){if(n._h+2<=t.byteLength){var i=t.getUint8(n._h),r=t.getUint8(n._h+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Su(t,n){var i=Eu(t,n);return void 0!==i&&n.vh(2),Ru(t,n,!0===i)}function Ru(t,n,i){return void 0===i&&(i=!1),Iu(t,n,i,!0)}function Iu(t,n,i,r){for(var e=[];n._h+2<=t.byteLength;){var s=lu(t,n,i);if(r&&!s)break;e.push(s)}return Le(e)}function Nu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){_u(t,n,i.charCodeAt(s),r)}}function Cu(t){return Tu(Fu(t),new zu,!1)}function Du(t){var n=new m(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)au(t,n,i.charCodeAt(e))}(Fu(n),new zu,t),n}function Ou(t,n){return void 0===n&&(n=!1),Iu(Fu(t),new zu,n,!1)}function xu(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return Nu(Fu(i),new zu,t,n),i}function Pu(t,n){return function(t,n,i){var r=[];(function(t,n){return n._h+3<=t.byteLength&&239===t.getUint8(n._h)&&187===t.getUint8(n._h+1)&&191===t.getUint8(n._h+2)})(t,n)&&n.vh(3);for(;n._h<t.byteLength;){var e=Au(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Pe(r)}(t,n,!0)}function Bu(t){return Pe(function(t,n){var i,r=[],e=new zu;if(!n){if(!1===(i=iu(t,e)))return r;i===ru||r.push(i)}for(;!1!==(i=iu(t,e));)r.push(i);return r}(Hu(t)))}function Lu(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)tu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Mu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function Uu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Fu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hu(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function Vu(t){return t instanceof ArrayBuffer||qs(t)}function Xu(t){return t instanceof ArrayBuffer?new m(t):Hu(t)}function Wu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):qu(Mu(t,n,i))}function qu(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var zu=function(){function t(t){void 0===t&&(t=0),this.fh=t}var n=t.prototype;return n.vh=function(t){this.fh+=t},n.dh=function(t){this.fh=t},n.lh=function(){return new t(this._h)},n.yh=function(){return new Js(this._h<<3)},M(t,[{key:"_h",get:function(){return this.fh}}]),t}();function Gu(t){var n=t,i=0,r=0;Ne(n,"0x")&&(n=n.substring(2));var e=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=g(n[0],16));i<n.length;i+=2)e[r++]=g(n.substr(i,2),16);return e}var ju=function(){function t(){var t=this;this.mh=void 0,this.zn=void 0,this.Z=void 0,this.mh=new E(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.kh=function(t){this.zn&&(this.zn(t),this.Ao())},n.ph=function(t){this.Z&&(this.Z(t),this.Ao())},n.Io=function(){this.mh.catch(R),this.ph(new ss)},n.Ao=function(){this.zn=void 0,this.Z=void 0},t}();function Qu(){return new m([8,4]).buffer}function Yu(t){return zs(t,Qu())}function Zu(t,n){return t===ge?function(t){if(t.byteLength<2*Ju.length)return t;if(Ou(new DataView(t,0,2*Ju.length),!0)===Ju)return t;return n=t,xu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ys(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Ju="<PlayReady";var $u=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).Ah=void 0,s.bh=void 0,s.Ah=i,s.bh=r,s}return F(n,t),n}(on),Ku=function(t){function n(n,i){var r;(r=t.call(this)||this).Th=void 0,r.Eh=!1,r.Sh=void 0,r.Rh=void 0,r.Ih=function(){r.Nh()},r.Ch=function(t){r.Lo(new Ns(sn(r),t.messageType,Zu(r.Dh,t.message)))},r.Oh=function(){r.Eh=!0,r.Th.ah>0&&(r.Th.hh(),r.Lo(new Is(sn(r)))),r.xh.removeEventListener("keystatuseschange",r.Ih),r.xh.removeEventListener("message",r.Ch)},r.xh=n,r.Dh=i,r.xh.addEventListener("keystatuseschange",r.Ih),r.xh.addEventListener("message",r.Ch),r.Th=new Ps;var e=[];return r.xh.closed&&e.push(E.resolve(r.xh.closed)),r.Rh=new ju,e.push(r.Rh.mh),r.Sh=E.race(e).then(r.Oh,r.Oh),r.Nh(),r}F(n,t);var i=n.prototype;return i.Ph=function(){if(this.Eh)return this.Sh;var t=[];return t.push(E.resolve(this.xh.close())),t.push(ys(1e3)),this.Rh.kh(E.race(t).catch(to)),this.Eh=!0,this.Sh},i.Bh=function(t,n,i){return E.resolve(this.xh.generateRequest(t,n)).catch(to)},i.Lh=function(t){return E.resolve(this.xh.load(t)).catch(to)},i.Mh=function(){return E.resolve(this.xh.remove()).catch(to)},i.Uh=function(t){return E.resolve(this.xh.update(t)).catch(to)},i.Nh=function(){var t=this;this.Th.hh(),this.xh.keyStatuses.forEach(function(n,i){t.Fh(i,n)}),this.Lo(new Is(this))},i.Fh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Xu(t);if(this.Dh===ge&&16===r.byteLength){var e=Fu(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.Dh===ge&&"status-pending"===n&&(n="usable"),this.Th.oh(r,n)},M(n,[{key:"Hh",get:function(){return this.Sh}},{key:"Vh",get:function(){return this.xh.expiration}},{key:"Xh",get:function(){return this.Th}},{key:"Wh",get:function(){return this.xh.sessionId}}]),n}(bs);function to(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new $u(t.message,void 0,n,t)}var no=function(){function t(t,n,i){this.qh=t,this.zh=n,this.Gh=i}var n=t.prototype;return n.jh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ku(this.qh.createSession(n),this.zh));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qh=function(t){return E.resolve(this.qh.setServerCertificate(t))},n.Yh=function(t){return E.resolve(t.setMediaKeys(this.qh))},n.Zh=function(t){return E.resolve(t.setMediaKeys(null))},t}(),io=function(){function t(t,n,i){this.Jh=t,this.Dh=n,this.$h=i}var n=t.prototype;return n.Kh=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jh.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new no(n,this.Dh,this.$h));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ta=function(){return this.$h},M(t,[{key:"zh",get:function(){return this.Jh.keySystem}}]),t}(),ro={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function eo(t){return Ie(t,ro.APPLICATION_MP4)||Ie(t,ro.VIDEO_MP4)||Ie(t,ro.AUDIO_MP4)}var so=function(){function t(t,n){this.so=void 0,this.na=void 0,this.so=t,this.na=n}return t.prototype.ia=function(t){for(var n=0,i=this.na;n<i.length;n++){var r=i[n],e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function uo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new so(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=oo(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=oo(e.substr(u));f&&s.push(f)}return new so(r,s)}function oo(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function ho(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function ao(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ra:r.ra},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return co(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return co(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function co(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ze(n,r.encryptionScheme))&&(!r.robustness&&t(i,ho(r.contentType))))}function fo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,s=t.audioCapabilities;e<s.length;e++){var u=s[e];if(u.contentType)return u.contentType}}function vo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function lo(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(_o))||!(!t.videoCapabilities||!t.videoCapabilities.some(_o))}function _o(t){return!t.robustness}function go(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(te({},e,{robustness:n}))}return i}var wo=function(){function t(){}return t.prototype.lo=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,h,a,c,f;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ra}),r=0,e=i;r<e.length;r++)(s=e[r]).audioCapabilities&&(s.audioCapabilities=vo(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=vo(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(lo)){t.next=14;break}return u=i.map(function(t){return i="SW_SECURE_CRYPTO",te({},n=t,{videoCapabilities:n.videoCapabilities?go(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?go(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,u);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new io(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new io(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.ea=function(){return Fe()},t}(),yo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Eh=!1,r.sa=void 0,r.ua=void 0,r.oa=void 0,r.ha=void 0,r.aa=void 0,r.Oh=function(){r.Eh=!0,r.sa.kh(void 0),r.aa&&(r.aa.removeEventListener("mskeyclose",r.Oh),r.aa.removeEventListener("mskeymessage",r.ca),r.aa.removeEventListener("mskeyerror",r.fa),r.aa.removeEventListener("mskeyadded",r.va))},r.ca=function(t){r.oa&&(r.oa.kh(void 0),r.oa=void 0),r.Lo(new Ns(sn(r),"license-request",qu(t.message).buffer,t.destinationURL||void 0))},r.fa=function(){var t=r.aa&&r.aa.error;if(t){var n=new $u("Unknown CDM error",t.code,t.systemCode);if(r.oa)r.oa.ph(n),r.oa=void 0;else if(r.ua)r.ua.ph(n),r.ua=void 0;else switch(n.Ah){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.da("output-not-allowed");break;default:r.da("internal-error")}}},r.va=function(){r.oa&&(r.da("usable"),r.oa.kh(void 0),r.oa=void 0),r.ua&&(r.da("usable"),r.ua.kh(void 0),r.ua=void 0)},r.la=n,r._a=i,r.sa=new ju,r.ha=new Ps,r}F(n,t);var i=n.prototype;return i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ga(),this.oa=new ju,this.jh(Xu(i),r),t.next=5,this.oa.mh;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.wa;return(i=n?this.la.createSession(this._a,t,r):this.la.createSession(this._a,t)).addEventListener("mskeyclose",this.Oh),i.addEventListener("mskeymessage",this.ca),i.addEventListener("mskeyerror",this.fa),i.addEventListener("mskeyadded",this.va),this.aa=i,this.da("status-pending"),i},i.Lh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ga(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ua=new ju,this.ga(),this.aa){t.next=4;break}return t.abrupt("return",E.resolve());case 4:if(0!==(i=Xu(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.aa.update(i),t.next=10,this.ua.mh;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ph=function(){return!this.Eh&&this.aa&&(this.Eh=!0,this.aa.close()),this.sa.mh},i.Mh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ga(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ga=function(){if(this.Eh)throw new d("Already closing or closed.")},i.da=function(t){this.ha.hh(),this.ha.oh(xs,t),this.Lo(new Is(this))},M(n,[{key:"Wh",get:function(){return this.aa&&this.aa.sessionId||""}},{key:"Vh",get:function(){return NaN}},{key:"Hh",get:function(){return this.sa.mh}},{key:"Xh",get:function(){return this.ha}}]),n}(bs),mo=function(){function t(t,n,i){this._a=void 0,this.la=t,this.zh=n,this.Gh=i;var r=fo(i)||"video/mp4";this._a=ho(r)}var n=t.prototype;return n.jh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new yo(this.la,this._a));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qh=function(t){return E.resolve(!1)},n.Yh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.la):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.la),t.removeEventListener("loadedmetadata",i)}),E.resolve()},n.Zh=function(t){return E.resolve()},t}(),ko=function(){function t(t,n){this.Dh=t,this.ya=n}var n=t.prototype;return n.ta=function(){return this.ya},n.Kh=function(){var t=new kr.MSMediaKeys(this.Dh);return E.resolve(new mo(t,this.Dh,this.ya))},M(t,[{key:"zh",get:function(){return this.Dh}}]),t}(),po=function(){function t(){}return t.prototype.lo=function(t,n){try{return E.resolve(function(t,n){if(!Ao())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ao(bo,Ss,t,r);if(e)return new ko(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.ea=function(){return Ao()},t}();function Ao(){return void 0!==kr.MSMediaKeys&&"function"==typeof kr.MSMediaKeys.isTypeSupported}function bo(t,n){return kr.MSMediaKeys.isTypeSupported(t,n)}var To,Eo,So=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).sa=new ju,e.ma=void 0,e.ha=new Ps,e.ka=void 0,e.pa=new ju,e.fa=function(){var t=e.ka&&e.ka.error;if(t){var n=new $u("Unknown CDM error",t.code,t.systemCode);e.ma?(e.ma.ph(n),e.ma=void 0):n.Ah===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.da("output-not-allowed"):e.da("internal-error"),e.Lo(new Cs)}},e.ca=function(t){e.ma&&(e.ma.kh(void 0),e.ma=void 0),e.Lo(new Ns(sn(e),"license-request",qu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Aa=n,e._a=i,e.ba=r,e}F(n,t);var i=n.prototype;return i.Bh=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Ta;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Ro(Xu(n),r,this.ba);return this.ka=this.Aa.createSession(this._a,e),this.ka.addEventListener("webkitkeymessage",this.ca,!1),this.ka.addEventListener("webkitkeyerror",this.fa,!1),this.da("usable"),this.pa.kh(this.ka),this.pa=new ju,E.resolve()},i.Lh=function(t){return E.resolve(!0)},i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Xu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.ma=new ju,t.t0=this.ka,t.t0){t.next=9;break}return t.next=8,this.pa.mh;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ma.mh;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ph=function(){var t=this.ka;return t&&(t.removeEventListener("webkitkeymessage",this.ca,!1),t.removeEventListener("webkitkeyerror",this.fa,!1),t.close()),this.pa.Io(),this.sa.kh(void 0),this.sa.mh},i.Mh=function(){return E.resolve(void 0)},i.da=function(t){this.ha.hh(),this.ha.oh(xs,t),this.Lo(new Is(this))},M(n,[{key:"Wh",get:function(){return this.ka?this.ka.sessionId:""}},{key:"Vh",get:function(){return NaN}},{key:"Hh",get:function(){return this.sa.mh}},{key:"Xh",get:function(){return this.ha}}]),n}(bs);function Ro(t,n,i){var r=Bu(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new zu;return wu(o,h,e,!0),Nu(o,h,r,!0),wu(o,h,s,!0),Nu(o,h,n,!0),wu(o,h,i.byteLength,!0),fu(o,h,i),new m(u)}(To=n.ErrorCode||(n.ErrorCode={}))[To.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",To[To.LICENSE_ERROR=2e3]="LICENSE_ERROR",To[To.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",To[To.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",To[To.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",To[To.SOURCE_INVALID=3e3]="SOURCE_INVALID",To[To.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",To[To.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",To[To.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",To[To.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",To[To.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",To[To.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",To[To.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",To[To.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",To[To.MEDIA_ABORTED=5004]="MEDIA_ABORTED",To[To.NETWORK_ERROR=6e3]="NETWORK_ERROR",To[To.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",To[To.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",To[To.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",To[To.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",To[To.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",To[To.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",To[To.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",To[To.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",To[To.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",To[To.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",To[To.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",To[To.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",To[To.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",To[To.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",To[To.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",To[To.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",To[To.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",To[To.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",To[To.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",To[To.AD_ERROR=1e4]="AD_ERROR",To[To.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",To[To.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Eo=n.ErrorCategory||(n.ErrorCategory={}))[Eo.CONFIGURATION=1]="CONFIGURATION",Eo[Eo.LICENSE=2]="LICENSE",Eo[Eo.SOURCE=3]="SOURCE",Eo[Eo.MANIFEST=4]="MANIFEST",Eo[Eo.MEDIA=5]="MEDIA",Eo[Eo.NETWORK=6]="NETWORK",Eo[Eo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Eo[Eo.SUBTITLE=8]="SUBTITLE",Eo[Eo.VR=9]="VR",Eo[Eo.AD=10]="AD",Eo[Eo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Io=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return F(i,t),M(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),No=function(){function t(t,n,i){this._a=void 0,this.ba=void 0,this.Aa=t,this.zh=n,this.Gh=i;var r=fo(i)||"video/mp4";this._a=ho(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Aa},i.jh=function(){var t=E.coroutine(Kr.mark(function t(i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ba){t.next=2;break}throw new Io(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new So(this.Aa,this._a,this.ba));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qh=function(t){return this.ba=Xu(t),E.resolve(!0)},i.Yh=function(t){return t.webkitSetMediaKeys(this.Aa),E.resolve()},i.Zh=function(t){return t.webkitSetMediaKeys(null),E.resolve()},t}(),Co=function(){function t(t,n){this.Dh=t,this.ya=n}var n=t.prototype;return n.ta=function(){return this.ya},n.Kh=function(){var t=new kr.WebKitMediaKeys(this.Dh);return E.resolve(new No(t,this.Dh,this.ya))},M(t,[{key:"zh",get:function(){return this.Dh}}]),t}(),Do=function(){function t(){}return t.prototype.lo=function(t,n){try{return E.resolve(function(t,n){if(t!==ke)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Oo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ao(xo,Rs,t,r);if(e)return new Co(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.ea=function(){return Oo()},t}();function Oo(){return void 0!==kr.WebKitMediaKeys&&"function"==typeof kr.WebKitMediaKeys.isTypeSupported}function xo(t,n){return kr.WebKitMediaKeys.isTypeSupported(t,n)}var Po,Bo=function(){function t(t){this.Ea=t}return t.prototype.lo=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Ea;case 1:if(!(r<e.length)){t.next=14;break}return s=e[r],t.prev=3,t.next=6,s.lo(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Lo=function(t){function n(n){var i;return(i=t.call(this)||this).oa=void 0,i.ma=void 0,i.sa=void 0,i.Sa=!1,i.Ra=void 0,i.Ia=void 0,i.Na=void 0,i.Ca=void 0,i.Da=void 0,i.Dh=n,i.sa=new ju,i.Ia="",i.Da=new ju,i.Na=new Ps,i}F(n,t);var i=n.prototype;return i.Oa=function(){this.ma&&(this.da("usable"),this.ma.kh(void 0),this.ma=void 0)},i.xa=function(t){var n=new $u("Unknown CDM error",t.errorCode,t.systemCode);this.ma?(this.ma.ph(n),this.ma=void 0):this.oa?(this.oa.ph(n),this.oa=void 0):n.Ah===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.da("output-restricted"):1===n.bh?this.da("expired"):this.da("internal-error")},i.Pa=function(t){0!==t.message.byteLength&&(this.oa&&(this.oa.kh(void 0),this.oa=void 0),this.Lo(new Ns(this,"license-request",Zu(this.Dh,qu(t.message).buffer),t.defaultURL||void 0)))},i.Ba=function(t){this.Ca||(this.Ca=t,this.Da.kh(t))},i.Ph=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Sa=!0,this.sa.kh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.oa=new ju,this.Ra=Xu(i),t.t0=this.Ca,t.t0){t.next=8;break}return t.next=7,this.Da.mh;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Dh,this.Ra),t.next=12,this.oa.mh;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Lh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Mh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ma=new ju,t.t0=this.Ca,t.t0){t.next=7;break}return t.next=6,this.Da.mh;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Dh,Xu(n),this.Ra,this.Wh),t.next=11,this.ma.mh;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Sa)throw new d("Already closing or closed.")},i.da=function(t){this.Na.hh(),this.Na.oh(xs,t),this.Lo(new Is(this))},M(n,[{key:"Xh",get:function(){return this.Na}},{key:"Wh",get:function(){return this.Ia},set:function(t){this.Ia=t}},{key:"Hh",get:function(){return this.sa.mh}},{key:"Vh",get:function(){return NaN}}]),n}(bs),Mo=function(){function t(t,n){var i=this;this.Ca=void 0,this.La=ie(),this.Ma=[],this.va=function(t){var n=i.Ua(t.sessionId);n&&n.Oa()},this.Fa=function(t){var n=i.Ua(t.sessionId);n&&n.xa(t)},this.Ha=function(t){var n=i.Ua(t.sessionId);n&&n.Pa(t)},this.zh=t,this.Gh=n}var n=t.prototype;return n.Yh=function(t){return this.Ca=t,this.Ca.addEventListener("webkitkeyadded",this.va),this.Ca.addEventListener("webkitkeyerror",this.Fa),this.Ca.addEventListener("webkitkeymessage",this.Ha),this.La.forEach(function(n,i){return n.Ba(t)}),this.Ma.forEach(function(n){return n.Ba(t)}),E.resolve()},n.Zh=function(t){return t.removeEventListener("webkitkeyadded",this.va),t.removeEventListener("webkitkeyerror",this.Fa),t.removeEventListener("webkitkeymessage",this.Ha),this.Ca=void 0,E.resolve()},n.jh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Lo(this.zh),this.Ca&&e.Ba(this.Ca),this.Ma.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Qh=function(t){return E.resolve(!1)},n.Ua=function(t){if(t){var n=this.La.get(t);return n||((n=this.Ma.shift())?(n.Wh=t,this.La.set(t,n),n):void 0)}},t}(),Uo=function(){function t(t,n){this.zh=t,this.Va=n}var n=t.prototype;return n.Kh=function(){return E.resolve(new Mo(this.zh,this.Va))},n.ta=function(){return this.Va},t}(),Fo=function(){function t(){}return t.prototype.lo=function(t,n){try{return E.resolve(Ho(t,n))}catch(t){return E.reject(t)}},t.ea=function(){return He()},t}();function Ho(t,n){if(!Fo.ea())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ao(Vo,Ss,t,r);if(e)return new Uo(t,e)}throw new d("Unsupported key system configuration for "+t)}function Vo(t,n){var i=Br();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Xo(){return Po||(Po=function(){var t=[];Do.ea()&&t.push(new Do);wo.ea()&&t.push(new wo);po.ea()&&t.push(new po);Fo.ea()&&t.push(new Fo);return new Bo(t)}()),Po}var Wo=function(){function t(){this.Xa=ie()}var n=t.prototype;return n.hh=function(t){this.Xa.delete(t)},n.Wa=function(){this.Xa.clear()},n.sh=function(t){return this.Xa.get(t)},n.qa=function(t,n){this.Xa.set(t,n)},t}(),qo=function(){function t(){}return t.za=function(){return t.Qe||(t.Qe=zo.ea()?new zo:new Wo),t.Qe},t.hh=function(n){t.za().hh(n)},t.Wa=function(){t.za().Wa()},t.sh=function(n){return t.za().sh(n)},t.qa=function(n,i){t.za().qa(n,i)},t}();qo.Qe=void 0;var zo=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.ea=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.hh=function(n){t.sessionStorage.removeItem(n)},r.Wa=function(){t.sessionStorage.clear()},r.sh=function(n){return t.sessionStorage[n]},r.qa=function(n,i){t.sessionStorage[n]=i},i}(qo);var Go=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var s=t[e];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function jo(t,n,i){var r=Go([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var Qo,Yo;!function(t){t.Ga="ja",t.Qa="Ya",t.Za="contentprotectionerror",t.Ja="contentprotectionsuccess",t.$a="currentsourcechange",t.Ka="destroy",t.tc="durationchange",t.nc="emptied",t.$o="encrypted",t.ic="ended",t.rc="ec",t.sc="loadstart",t.uc="manifestupdate",t.oc="nosupportedrepresentationfound",t.hc="offline",t.ac="online",t.cc="pause",t.fc="play",t.vc="progress",t.dc="ratechange",t.lc="representationchange",t._c="resize",t.gc="seeked",t.wc="seeking",t.yc="segmentnotfound",t.mc="kc",t.pc="Ac",t.bc="sourcechange",t.Tc="timeupdate",t.Ec="volumechange",t.Sc="Rc",t.Ic="metricschange"}(Qo||(Qo={})),function(t){t.Nc="arraybuffer",t.Cc="json",t.Dc="stream",t.$e="text"}(Yo||(Yo={}));var Zo=function(){function t(n){var i=this;this.$u=void 0,this.$u={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Jo(i),r=$o(r);var e=i.toLowerCase();if(this.$u.hasOwnProperty(e)){var s=this.$u[e],u=s[1];s[1]=u?u+", "+r:r}else this.$u[e]=[i,r]},n.delete=function(t){var n=Jo(t).toLowerCase();delete this.$u[n]},n.get=function(t){var n=Jo(t).toLowerCase();return this.$u.hasOwnProperty(n)?this.$u[n][1]:null},n.has=function(t){var n=Jo(t).toLowerCase();return this.$u.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Jo(i)).toLowerCase();this.$u[r]=[i,$o(n)]},n.forEach=function(t,n){for(var i in this.$u)this.$u.hasOwnProperty(i)&&t.call(n,this.$u[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.$u)if(this.$u.hasOwnProperty(n)){var i=this.$u[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Oc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.xc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Pc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Jo(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function $o(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function th(){}var nh=Number.isNaN||function(t){return t!=t},ih=th;function rh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function eh(t){return t.slice()}function sh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(nh(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function uh(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function oh(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ah(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ah(e,t,i)}}}return function(){return yh(void 0)}}function hh(t,n,i){var r=t[n];if(void 0!==r)return uh(r,t,i)}function ah(t,n,i){try{return yh(uh(t,n,i))}catch(t){return mh(t)}}function ch(t){return t}function fh(t){if(t=Number(t),nh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function vh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var dh=E,lh=E.prototype.then,_h=E.resolve.bind(dh),gh=E.reject.bind(dh);function wh(t){return new dh(t)}function yh(t){return _h(t)}function mh(t){return gh(t)}function kh(t,n,i){return lh.call(t,n,i)}function ph(t,n,i){kh(kh(t,n,i),void 0,ih)}function Ah(t,n){ph(t,n)}function bh(t,n){ph(t,void 0,n)}function Th(t,n,i){return kh(t,n,i)}function Eh(t){kh(t,void 0,ih)}var Sh=function(){function t(){this.Bc=0,this.Lc=0,this.Ni={Mc:[],Uc:void 0},this.Fc=this.Ni,this.Bc=0,this.Lc=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Lc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Fc,i=n;16383===n.Mc.length&&(i={Mc:[],Uc:void 0}),n.Mc.push(t),i!==n&&(this.Fc=i,n.Uc=i),++this.Lc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Bc,r=i+1,e=t.Mc,s=e[i];return 16384===r&&(n=t.Uc,r=0),--this.Lc,this.Bc=r,t!==n&&(this.Ni=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Bc,i=this.Ni,r=i.Mc;!(n===r.length&&void 0===i.Uc||n===r.length&&(n=0,0===(r=(i=i.Uc).Mc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Bc;return t.Mc[n]},t}();function Rh(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Ih(t,n){t.Hc=!0,t.Vc=n,n.Xc=t,"readable"===n.Wc?Oh(t):"closed"===n.Wc?function(t){Oh(t),Bh(t)}(t):xh(t,n.qc)}function Nh(t,n){return Fc(t.Vc,n)}function Ch(t){"readable"===t.Vc.Wc?Ph(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){xh(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Vc.Xc=void 0,t.Vc=void 0}function Dh(t){return new d("Cannot "+t+" a stream using a released reader")}function Oh(t){t.Sh=wh(function(n,i){t.zc=n,t.Gc=i})}function xh(t,n){Oh(t),Ph(t,n)}function Ph(t,n){Eh(t.Sh),t.Gc(n),t.zc=void 0,t.Gc=void 0}function Bh(t){t.zc(void 0),t.zc=void 0,t.Gc=void 0}var Lh=Ko("[[CancelSteps]]"),Mh=Ko("[[PullSteps]]");function Uh(t,n){void 0===n&&(n=!1);var i=new zh(t);return i.Hc=n,i}function Fh(t){return wh(function(n,i){var r={zn:n,Z:i};t.Xc.jc.push(r)})}function Hh(t,n,i){var r=t.Xc;r.jc.shift().zn(Rh(n,i,r.Hc))}function Vh(t){return t.Xc.jc.length}function Xh(t){var n=t.Xc;return void 0!==n&&!!Gh(n)}var Wh,qh,zh=function(){function t(t){if(!1===Mc(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Uc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ih(this,t),this.jc=new Sh}return l.defineProperty(t.prototype,"closed",{get:function(){return Gh(this)?this.Sh:mh(Qh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Gh(this)?void 0===this.Vc?mh(Dh("cancel")):Nh(this,t):mh(Qh("cancel"))},t.prototype.read=function(){return Gh(this)?void 0===this.Vc?mh(Dh("read from")):jh(this):mh(Qh("read"))},t.prototype.releaseLock=function(){if(!Gh(this))throw Qh("releaseLock");if(void 0!==this.Vc){if(this.jc.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ch(this)}},t}();function Gh(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"jc")}function jh(t){var n=t.Vc;return n.Qc=!0,"closed"===n.Wc?yh(Rh(void 0,!0,t.Hc)):"errored"===n.Wc?mh(n.qc):n.Yc[Mh]()}function Qh(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Ko.asyncIterator&&((Wh={})[Ko.asyncIterator]=function(){return this},qh=Wh,l.defineProperty(qh,Ko.asyncIterator,{enumerable:!1}));var Yh={next:function(){if(!1===Zh(this))return mh(Jh("next"));var t=this.Zc;return void 0===t.Vc?mh(Dh("iterate")):Th(jh(t),function(n){var i=n.done;return i&&Ch(t),Rh(n.value,i,!0)})},return:function(t){if(!1===Zh(this))return mh(Jh("next"));var n=this.Zc;if(void 0===n.Vc)return mh(Dh("finish iterating"));if(n.jc.length>0)return mh(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Jc){var i=Nh(n,t);return Ch(n),Th(i,function(){return Rh(t,!0,!0)})}return Ch(n),yh(Rh(t,!0,!0))}};function Zh(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Zc")}function Jh(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function $h(t){var n=t.Fn.shift();return t.$c-=n.size,t.$c<0&&(t.$c=0),n.value}function Kh(t,n,i){if(!sh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.$c+=i}function ta(t){t.Fn=new Sh,t.$c=0}void 0!==qh&&l.setPrototypeOf(Yh,qh),l.defineProperty(Yh,"next",{enumerable:!1}),l.defineProperty(Yh,"return",{enumerable:!1});var na=Ko("[[AbortSteps]]"),ia=Ko("[[ErrorSteps]]"),ra=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),sa(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=vh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(ba.prototype);var s=oh(n,"write",1,[e]),u=oh(n,"close",0,[]),o=oh(n,"abort",1,[]);Ta(t,e,function(){return hh(n,"start",[e])},s,u,o,i,r)}(this,t,r=fh(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===ua(this))throw Da("locked");return oa(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ua(this)?mh(Da("abort")):!0===oa(this)?mh(new d("Cannot abort a stream that already has a writer")):ha(this,t)},t.prototype.close=function(){return!1===ua(this)?mh(Da("close")):!0===oa(this)?mh(new d("Cannot close a stream that already has a writer")):!0===da(this)?mh(new d("Cannot close an already-closing stream")):aa(this)},t.prototype.getWriter=function(){if(!1===ua(this))throw Da("getWriter");return ea(this)},t}();function ea(t){return new ga(t)}function sa(t){t.Wc="writable",t.qc=void 0,t.Kc=void 0,t.tf=void 0,t.nf=new Sh,t.if=void 0,t.rf=void 0,t.ef=void 0,t.sf=void 0,t.uf=!1}function ua(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"tf")}function oa(t){return void 0!==t.Kc}function ha(t,n){var i=t.Wc;if("closed"===i||"errored"===i)return yh(void 0);if(void 0!==t.sf)return t.sf._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=wh(function(i,e){t.sf={_n:void 0,zn:i,Z:e,Pn:n,hf:r}});return t.sf._n=e,!1===r&&fa(t,n),e}function aa(t){var n=t.Wc;if("closed"===n||"errored"===n)return mh(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=wh(function(n,i){var r={zn:n,Z:i};t.rf=r}),e=t.Kc;return void 0!==e&&!0===t.uf&&"writable"===n&&Xa(e),Kh(i=t.tf,"close",0),Ra(i),r}function ca(t,n){"writable"!==t.Wc?va(t):fa(t,n)}function fa(t,n){var i=t.tf;t.Wc="erroring",t.qc=n;var r=t.Kc;void 0!==r&&ka(r,n),!1===function(t){if(void 0===t.if&&void 0===t.ef)return!1;return!0}(t)&&!0===i.af&&va(t)}function va(t){t.Wc="errored",t.tf[ia]();var n=t.qc;if(t.nf.forEach(function(t){t.Z(n)}),t.nf=new Sh,void 0!==t.sf){var i=t.sf;if(t.sf=void 0,!0===i.hf)return i.Z(n),void la(t);ph(t.tf[na](i.Pn),function(){i.zn(),la(t)},function(n){i.Z(n),la(t)})}else la(t)}function da(t){return void 0!==t.rf||void 0!==t.ef}function la(t){void 0!==t.rf&&(t.rf.Z(t.qc),t.rf=void 0);var n=t.Kc;void 0!==n&&La(n,t.qc)}function _a(t,n){var i=t.Kc;void 0!==i&&n!==t.uf&&(!0===n?function(t){Ua(t)}(i):Xa(i)),t.uf=n}var ga=function(){function t(t){if(!1===ua(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===oa(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.cf=t,t.Kc=this;var n,i=t.Wc;if("writable"===i)!1===da(t)&&!0===t.uf?Ua(this):Ha(this),Pa(this);else if("erroring"===i)Fa(this,t.qc),Pa(this);else if("closed"===i)Ha(this),Pa(n=this),Ma(n);else{var r=t.qc;Fa(this,r),Ba(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===wa(this)?mh(Oa("closed")):this.Sh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wa(this))throw Oa("desiredSize");if(void 0===this.cf)throw xa("desiredSize");return function(t){var n=t.cf,i=n.Wc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Sa(n.tf)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===wa(this)?mh(Oa("ready")):this.ff},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===wa(this)?mh(Oa("abort")):void 0===this.cf?mh(xa("abort")):function(t,n){return ha(t.cf,n)}(this,t)},t.prototype.close=function(){if(!1===wa(this))return mh(Oa("close"));var t=this.cf;return void 0===t?mh(xa("close")):!0===da(t)?mh(new d("Cannot close an already-closing stream")):ya(this)},t.prototype.releaseLock=function(){if(!1===wa(this))throw Oa("releaseLock");void 0!==this.cf&&pa(this)},t.prototype.write=function(t){return!1===wa(this)?mh(Oa("write")):void 0===this.cf?mh(xa("write to")):Aa(this,t)},t}();function wa(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"cf")}function ya(t){return aa(t.cf)}function ma(t,n){"pending"===t.vf?La(t,n):function(t,n){Ba(t,n)}(t,n)}function ka(t,n){"pending"===t.df?Va(t,n):function(t,n){Fa(t,n)}(t,n)}function pa(t){var n=t.cf,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");ka(t,i),ma(t,i),n.Kc=void 0,t.cf=void 0}function Aa(t,n){var i=t.cf,r=i.tf,e=function(t,n){try{return t.lf(n)}catch(n){return Ia(t,n),1}}(r,n);if(i!==t.cf)return mh(xa("write to"));var s=i.Wc;if("errored"===s)return mh(i.qc);if(!0===da(i)||"closed"===s)return mh(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return mh(i.qc);var u=function(t){return wh(function(n,i){var r={zn:n,Z:i};t.nf.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Kh(t,r,i)}catch(n){return void Ia(t,n)}var e=t._f;if(!1===da(e)&&"writable"===e.Wc){var s=Na(t);_a(e,s)}Ra(t)}(r,n,e),u}var ba=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!rh(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"_f"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._f.Wc&&Ca(this,t)},t.prototype[na]=function(t){var n=this.gf(t);return Ea(this),n},t.prototype[ia]=function(){ta(this)},t}();function Ta(t,n,i,r,e,s,u,o){n._f=t,t.tf=n,n.Fn=void 0,n.$c=void 0,ta(n),n.af=!1,n.lf=o,n.wf=u,n.yf=r,n.mf=e,n.gf=s;var h=Na(n);_a(t,h),ph(yh(i()),function(){n.af=!0,Ra(n)},function(i){n.af=!0,ca(t,i)})}function Ea(t){t.yf=void 0,t.mf=void 0,t.gf=void 0,t.lf=void 0}function Sa(t){return t.wf-t.$c}function Ra(t){var n=t._f;if(!1!==t.af&&void 0===n.if)if("erroring"!==n.Wc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t._f;(function(t){t.ef=t.rf,t.rf=void 0})(n),$h(t);var i=t.mf();Ea(t),ph(i,function(){!function(t){t.ef.zn(void 0),t.ef=void 0,"erroring"===t.Wc&&(t.qc=void 0,void 0!==t.sf&&(t.sf.zn(),t.sf=void 0)),t.Wc="closed";var n=t.Kc;void 0!==n&&Ma(n)}(n)},function(t){!function(t,n){t.ef.Z(n),t.ef=void 0,void 0!==t.sf&&(t.sf.Z(n),t.sf=void 0),ca(t,n)}(n,t)})}(t):function(t,n){var i=t._f;(function(t){t.if=t.nf.shift()})(i),ph(t.yf(n),function(){!function(t){t.if.zn(void 0),t.if=void 0}(i);var n=i.Wc;if($h(t),!1===da(i)&&"writable"===n){var r=Na(t);_a(i,r)}Ra(t)},function(n){"writable"===i.Wc&&Ea(t),function(t,n){t.if.Z(n),t.if=void 0,ca(t,n)}(i,n)})}(t,i.chunk)}}else va(n)}function Ia(t,n){"writable"===t._f.Wc&&Ca(t,n)}function Na(t){return Sa(t)<=0}function Ca(t,n){var i=t._f;Ea(t),fa(i,n)}function Da(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Oa(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function xa(t){return new d("Cannot "+t+" a stream using a released writer")}function Pa(t){t.Sh=wh(function(n,i){t.zc=n,t.Gc=i,t.vf="pending"})}function Ba(t,n){Pa(t),La(t,n)}function La(t,n){Eh(t.Sh),t.Gc(n),t.zc=void 0,t.Gc=void 0,t.vf="rejected"}function Ma(t){t.zc(void 0),t.zc=void 0,t.Gc=void 0,t.vf="resolved"}function Ua(t){t.ff=wh(function(n,i){t.kf=n,t.pf=i}),t.df="pending"}function Fa(t,n){Ua(t),Va(t,n)}function Ha(t){Ua(t),Xa(t)}function Va(t,n){Eh(t.ff),t.pf(n),t.kf=void 0,t.pf=void 0,t.df="rejected"}function Xa(t){t.kf(void 0),t.kf=void 0,t.pf=void 0,t.df="fulfilled"}function Wa(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var qa="undefined"!=typeof DOMException?DOMException:void 0;var za,Ga=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(qa)?qa:((za=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(za.prototype,"constructor",{value:za,writable:!0,configurable:!0}),za);function ja(t,n,i,r,e,s){var u=Uh(t),o=ea(n);t.Qc=!0;var h=!1,a=yh(void 0);return wh(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new Ga("Aborted","AbortError"),s=[];!1===r&&s.push(function(){return"writable"===n.Wc?ha(n,i):yh(void 0)}),!1===e&&s.push(function(){return"readable"===t.Wc?Fc(t,i):yh(void 0)}),k(function(){return E.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.Sh,function(t){!1===r?k(function(){return ha(n,t)},!0,t):p(!0,t)}),m(n,o.Sh,function(n){!1===e?k(function(){return Fc(t,n)},!0,n):p(!0,n)}),l=t,_=u.Sh,g=function(){!1===i?k(function(){return function(t){var n=t.cf,i=n.Wc;return!0===da(n)||"closed"===i?yh(void 0):"errored"===i?mh(n.qc):ya(t)}(o)}):p()},"closed"===l.Wc?g():Ah(_,g),!0===da(n)||"closed"===n.Wc){var w=new d("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Fc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return kh(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Wc?i(t.qc):bh(n,i)}function k(t,i,r){function e(){ph(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Wc&&!1===da(n)?Ah(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.Wc&&!1===da(n)?Ah(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){pa(o),Ch(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}Eh(wh(function(t,n){!function i(r){r?t():kh(!0===h?yh(!0):kh(o.ff,function(){return kh(jh(u),function(t){return!0===t.done||(a=kh(Aa(o,t.value),void 0,th),!1)})}),i,n)}(!1)}))})}var Qa=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ya(this))throw sc("desiredSize");return ic(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ya(this))throw sc("close");if(!1===rc(this))throw new d("The stream is not in a state that permits close");Ka(this)},t.prototype.enqueue=function(t){if(!1===Ya(this))throw sc("enqueue");if(!1===rc(this))throw new d("The stream is not in a state that permits enqueue");return tc(this,t)},t.prototype.error=function(t){if(!1===Ya(this))throw sc("error");nc(this,t)},t.prototype[Lh]=function(t){ta(this);var n=this.Af(t);return $a(this),n},t.prototype[Mh]=function(){var t=this.bf;if(this.Fn.length>0){var n=$h(this);return!0===this.Tf&&0===this.Fn.length?($a(this),Hc(t)):Za(this),yh(Rh(n,!1,t.Xc.Hc))}var i=Fh(t);return Za(this),i},t}();function Ya(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"bf")}function Za(t){!1!==Ja(t)&&(!0!==t.Ef?(t.Ef=!0,ph(t.Sf(),function(){t.Ef=!1,!0===t.Rf&&(t.Rf=!1,Za(t))},function(n){nc(t,n)})):t.Rf=!0)}function Ja(t){var n=t.bf;return!1!==rc(t)&&(!1!==t.af&&(!0===Uc(n)&&Vh(n)>0||ic(t)>0))}function $a(t){t.Sf=void 0,t.Af=void 0,t.lf=void 0}function Ka(t){var n=t.bf;t.Tf=!0,0===t.Fn.length&&($a(t),Hc(n))}function tc(t,n){var i=t.bf;if(!0===Uc(i)&&Vh(i)>0)Hh(i,n,!1);else{var r=void 0;try{r=t.lf(n)}catch(n){throw nc(t,n),n}try{Kh(t,n,r)}catch(n){throw nc(t,n),n}}Za(t)}function nc(t,n){var i=t.bf;"readable"===i.Wc&&(ta(t),$a(t),Vc(i,n))}function ic(t){var n=t.bf.Wc;return"errored"===n?null:"closed"===n?0:t.wf-t.$c}function rc(t){var n=t.bf.Wc;return!1===t.Tf&&"readable"===n}function ec(t,n,i,r,e,s,u){n.bf=t,n.Fn=void 0,n.$c=void 0,ta(n),n.af=!1,n.Tf=!1,n.Rf=!1,n.Ef=!1,n.lf=u,n.wf=s,n.Sf=r,n.Af=e,t.Yc=n,ph(yh(i()),function(){n.af=!0,Za(n)},function(t){nc(n,t)})}function sc(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var uc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&_.floor(t)===t},oc=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===cc(this))throw Sc("view");return this.If},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===cc(this))throw Sc("respond");if(void 0===this.Nf)throw new d("This BYOB request has been invalidated");this.If.buffer,function(t,n){if(!1===sh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");kc(t,n)}(this.Nf,t)},t.prototype.respondWithNewView=function(t){if(!1===cc(this))throw Sc("respond");if(void 0===this.Nf)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Cf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,kc(t,n.byteLength)}(this.Nf,t)},t}(),hc=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===ac(this))throw Rc("byobRequest");if(void 0===this.Df&&this.Cf.length>0){var t=this.Cf.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(oc.prototype);!function(t,n,i){t.Nf=n,t.If=i}(i,this,n),this.Df=i}return this.Df},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ac(this))throw Rc("desiredSize");return Tc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ac(this))throw Rc("close");if(!0===this.Tf)throw new d("The stream has already been closed; do not close it again!");var t=this.Of.Wc;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Of;if(t.$c>0)return void(t.Tf=!0);if(t.Cf.length>0){var i=t.Cf.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw bc(t,r),r}}Ac(t),Hc(n)}(this)},t.prototype.enqueue=function(t){if(!1===ac(this))throw Rc("enqueue");if(!0===this.Tf)throw new d("stream is closed or draining");var n=this.Of.Wc;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Of,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=ch(r);if(!0===Xh(i))if(0===Vh(i))lc(t,u,e,s);else{var o=new m(u,e,s);Hh(i,o,!1)}else!0===Cc(i)?(lc(t,u,e,s),mc(t)):lc(t,u,e,s);fc(t)}(this,t)},t.prototype.error=function(t){if(!1===ac(this))throw Rc("error");bc(this,t)},t.prototype[Lh]=function(t){this.Cf.length>0&&(this.Cf.peek().bytesFilled=0);ta(this);var n=this.Af(t);return Ac(this),n},t.prototype[Mh]=function(){var t=this.Of;if(this.$c>0){var n=this.Fn.shift();this.$c-=n.byteLength,wc(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return mh(t)}return yh(Rh(i,!1,t.Xc.Hc))}var r=this.xf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return mh(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.Cf.push(s)}var u=Fh(t);return fc(this),u},t}();function ac(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Of")}function cc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Nf")}function fc(t){!1!==function(t){var n=t.Of;if("readable"!==n.Wc)return!1;if(!0===t.Tf)return!1;if(!1===t.af)return!1;if(!0===Xh(n)&&Vh(n)>0)return!0;if(!0===Cc(n)&&Nc(n)>0)return!0;if(Tc(t)>0)return!0;return!1}(t)&&(!0!==t.Ef?(t.Ef=!0,ph(t.Sf(),function(){t.Ef=!1,!0===t.Rf&&(t.Rf=!1,fc(t))},function(n){bc(t,n)})):t.Rf=!0)}function vc(t,n){var i=!1;"closed"===t.Wc&&(i=!0);var r=dc(n);"default"===n.readerType?Hh(t,r,i):function(t,n,i){var r=t.Xc;r.Pf.shift().zn(Rh(n,i,r.Hc))}(t,r,i)}function dc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function lc(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.$c+=r}function _c(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=_.min(t.$c,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,l=t.Fn;o>0;){var g=l.peek(),w=_.min(o,g.byteLength),y=n.byteOffset+n.bytesFilled;a=n.buffer,c=y,f=g.buffer,v=g.byteOffset,d=w,new m(a).set(new m(f,v,d),c),g.byteLength===w?l.shift():(g.byteOffset+=w,g.byteLength-=w),t.$c-=w,gc(t,w,n),o-=w}return h}function gc(t,n,i){yc(t),i.bytesFilled+=n}function wc(t){0===t.$c&&!0===t.Tf?(Ac(t),Hc(t.Of)):fc(t)}function yc(t){void 0!==t.Df&&(t.Df.Nf=void 0,t.Df.If=void 0,t.Df=void 0)}function mc(t){for(;t.Cf.length>0;){if(0===t.$c)return;var n=t.Cf.peek();!0===_c(t,n)&&(pc(t),vc(t.Of,n))}}function kc(t,n){var i=t.Cf.peek();if("closed"===t.Of.Wc){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ch(n.buffer);var i=t.Of;if(!0===Cc(i))for(;Nc(i)>0;)vc(i,pc(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(gc(t,n,i),!(i.bytesFilled<i.elementSize)){pc(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);lc(t,s,0,s.byteLength)}i.buffer=ch(i.buffer),i.bytesFilled-=r,vc(t.Of,i),mc(t)}}(t,n,i);fc(t)}function pc(t){var n=t.Cf.shift();return yc(t),n}function Ac(t){t.Sf=void 0,t.Af=void 0}function bc(t,n){var i=t.Of;"readable"===i.Wc&&(!function(t){yc(t),t.Cf=new Sh}(t),ta(t),Ac(t),Vc(i,n))}function Tc(t){var n=t.Of.Wc;return"errored"===n?null:"closed"===n?0:t.wf-t.$c}function Ec(t,n,i){var r=l.create(hc.prototype);var e=oh(n,"pull",0,[r]),s=oh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===uc(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Of=t,n.Rf=!1,n.Ef=!1,n.Df=void 0,n.Fn=n.$c=void 0,ta(n),n.Tf=!1,n.af=!1,n.wf=fh(s),n.Sf=r,n.Af=e,n.xf=u,n.Cf=new Sh,t.Yc=n,ph(yh(i()),function(){n.af=!0,fc(n)},function(t){bc(n,t)})}(t,r,function(){return hh(n,"start",[r])},e,s,i,u)}function Sc(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Rc(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Ic(t){return wh(function(n,i){var r={zn:n,Z:i};t.Xc.Pf.push(r)})}function Nc(t){return t.Xc.Pf.length}function Cc(t){var n=t.Xc;return void 0!==n&&!!Oc(n)}var Dc=function(){function t(t){if(!Mc(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ac(t.Yc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Uc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ih(this,t),this.Pf=new Sh}return l.defineProperty(t.prototype,"closed",{get:function(){return Oc(this)?this.Sh:mh(xc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Oc(this)?void 0===this.Vc?mh(Dh("cancel")):Nh(this,t):mh(xc("cancel"))},t.prototype.read=function(t){return Oc(this)?void 0===this.Vc?mh(Dh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?mh(new d("view must have non-zero byteLength")):function(t,n){var i=t.Vc;if(i.Qc=!0,"errored"===i.Wc)return mh(i.qc);return function(t,n){var i=t.Of,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:ch(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Cf.length>0)return t.Cf.push(s),Ic(i);if("closed"===i.Wc)return yh(Rh(new e(s.buffer,s.byteOffset,0),!0,i.Xc.Hc));if(t.$c>0){if(!0===_c(t,s)){var u=dc(s);return wc(t),yh(Rh(u,!1,i.Xc.Hc))}if(!0===t.Tf){var o=new d("Insufficient bytes to fill elements in the given buffer");return bc(t,o),mh(o)}}t.Cf.push(s);var h=Ic(i);return fc(t),h}(i.Yc,n)}(this,t)):mh(new d("view must be an array buffer view")):mh(xc("read"))},t.prototype.releaseLock=function(){if(!Oc(this))throw xc("releaseLock");if(void 0!==this.Vc){if(this.Pf.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ch(this)}},t}();function Oc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Pf")}function xc(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Pc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Lc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ec(this,t,r=fh(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=vh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Qa.prototype),s=oh(n,"pull",0,[e]),u=oh(n,"cancel",1,[]);ec(t,e,function(){return hh(n,"start",[e])},s,u,i,r)}(this,t,r=fh(r),s)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Mc(this))throw Xc("locked");return Uc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Mc(this)?mh(Xc("cancel")):!0===Uc(this)?mh(new d("Cannot cancel a stream that already has a reader")):Fc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Mc(this))throw Xc("getReader");if(void 0===n)return Uh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Dc(t);return i.Hc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Mc(this))throw Xc("pipeThrough");if(!1===ua(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Mc(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!Wa(h))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Uc(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===oa(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Eh(ja(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Mc(this)?mh(Xc("pipeTo")):!1===ua(t)?mh(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||Wa(u)?!0===Uc(this)?mh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===oa(t)?mh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ja(this,t,r,e,s,u):mh(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Mc(this))throw Xc("tee");var t=function(t,n){var i,r,e,s,u,o=Uh(t),h=!1,a=!1,c=!1,f=wh(function(t){u=t});function v(){return!0===h?yh(void 0):(h=!0,Eh(Th(jh(o),function(t){if(h=!1,!0===t.done)return!1===a&&Ka(e.Yc),void(!1===c&&Ka(s.Yc));var n=t.value,i=n,r=n;!1===a&&tc(e.Yc,i),!1===c&&tc(s.Yc,r)})),yh(void 0))}function d(){}return e=Bc(d,v,function(n){if(a=!0,i=n,!0===c){var e=eh([i,r]),s=Fc(t,e);u(s)}return f}),s=Bc(d,v,function(n){if(c=!0,r=n,!0===a){var e=eh([i,r]),s=Fc(t,e);u(s)}return f}),bh(o.Sh,function(t){nc(e.Yc,t),nc(s.Yc,t)}),[e,s]}(this);return eh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Mc(this))throw Xc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Uh(t),r=l.create(Yh);return r.Zc=i,r.Jc=Boolean(n),r}(this,i)},t}();function Bc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=l.create(Pc.prototype);return Lc(s),ec(s,l.create(Qa.prototype),t,n,i,r,e),s}function Lc(t){t.Wc="readable",t.Xc=void 0,t.qc=void 0,t.Qc=!1}function Mc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Yc")}function Uc(t){return void 0!==t.Xc}function Fc(t,n){return t.Qc=!0,"closed"===t.Wc?yh(void 0):"errored"===t.Wc?mh(t.qc):(Hc(t),Th(t.Yc[Lh](n),th))}function Hc(t){t.Wc="closed";var n=t.Xc;void 0!==n&&(Gh(n)&&(n.jc.forEach(function(t){t.zn(Rh(void 0,!0,n.Hc))}),n.jc=new Sh),Bh(n))}function Vc(t,n){t.Wc="errored",t.qc=n;var i=t.Xc;void 0!==i&&(Gh(i)?(i.jc.forEach(function(t){t.Z(n)}),i.jc=new Sh):(i.Pf.forEach(function(t){t.Z(n)}),i.Pf=new Sh),Ph(i,n))}function Xc(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Ko.asyncIterator&&l.defineProperty(Pc.prototype,Ko.asyncIterator,{value:Pc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Wc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),qc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=vh(r);if(void 0===e&&(e=1),e=fh(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=vh(s);void 0===u&&(u=0),u=fh(u),function(t,n,i,r,e,s){function u(){return n}t.Bf=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=l.create(ra.prototype);return sa(u),Ta(u,l.create(ba.prototype),t,n,i,r,e,s),u}(u,function(n){return function(t,n){var i=t.Lf;if(!0===t.uf){var r=t.Mf;return Th(r,function(){var r=t.Bf,e=r.Wc;if("erroring"===e)throw r.qc;return Kc(i,n)})}return Kc(i,n)}(t,n)},function(){return function(t){var n=t.Uf,i=t.Lf,r=i.Ff();return Jc(i),Th(r,function(){if("errored"===n.Wc)throw n.qc;var t=n.Yc;!0===rc(t)&&Ka(t)},function(i){throw Gc(t,i),n.qc})}(t)},function(n){return function(t,n){return Gc(t,n),yh(void 0)}(t,n)},i,r),t.Uf=Bc(u,function(){return function(t){return Qc(t,!1),t.Mf}(t)},function(n){return jc(t,n),yh(void 0)},e,s),t.uf=void 0,t.Mf=void 0,t.Hf=void 0,Qc(t,!0),t.Lf=void 0}(this,wh(function(t){h=t}),e,o,u,a),function(t,n){var i=l.create(Yc.prototype),r=function(t){try{return $c(i,t),yh(void 0)}catch(t){return mh(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ah(e,n,[t,i])}}var s=oh(n,"flush",0,[i]);!function(t,n,i,r){n.Vf=t,t.Lf=n,n.Xf=i,n.Ff=r}(t,i,r,s)}(this,t);var c=hh(t,"start",[this.Lf]);h(c)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===zc(this))throw nf("readable");return this.Uf},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===zc(this))throw nf("writable");return this.Bf},enumerable:!0,configurable:!0}),t}();function zc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Lf")}function Gc(t,n){nc(t.Uf.Yc,n),jc(t,n)}function jc(t,n){Jc(t.Lf),Ia(t.Bf.tf,n),!0===t.uf&&Qc(t,!1)}function Qc(t,n){void 0!==t.Mf&&t.Hf(),t.Mf=wh(function(n){t.Hf=n}),t.uf=n}var Yc=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Zc(this))throw tf("desiredSize");return ic(this.Vf.Uf.Yc)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Zc(this))throw tf("enqueue");$c(this,t)},t.prototype.error=function(t){if(!1===Zc(this))throw tf("error");var n;n=t,Gc(this.Vf,n)},t.prototype.terminate=function(){if(!1===Zc(this))throw tf("terminate");!function(t){var n=t.Vf,i=n.Uf.Yc;!0===rc(i)&&Ka(i);var r=new d("TransformStream terminated");jc(n,r)}(this)},t}();function Zc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Vf")}function Jc(t){t.Xf=void 0,t.Ff=void 0}function $c(t,n){var i=t.Vf,r=i.Uf.Yc;if(!1===rc(r))throw new d("Readable side is not in a state that permits enqueue");try{tc(r,n)}catch(t){throw jc(i,t),i.Uf.qc}(function(t){return!0!==Ja(t)})(r)!==i.uf&&Qc(i,!0)}function Kc(t,n){return Th(t.Xf(n),void 0,function(n){throw Gc(t.Vf,n),n})}function tf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function nf(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var rf,ef=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return F(n,t),M(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function sf(t){return n=[t],new Pc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function uf(t){return sf(new m(t))}function of(t,n){return function(t,n){var i=n,r=t.getReader(),e=new ju,s=function(){u();var t=new ss;r.cancel(t).catch(R),e.ph(t)},u=function(){i&&(i.To(s),i=void 0)};i&&(i.wo?s():i.bo(s));var o=[];return E.resolve(r.read()).then(function t(n){return n.done?(u(),E.resolve(o)):(o.push(n.value),E.resolve(r.read()).then(t))}).then(function(t){u(),e.kh(t)},function(t){u(),e.ph(t)}),e.mh}(t,n).then(function(t){return Gs(t).buffer})}function hf(t,n){var i=n,r=new qc,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.Io()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(R)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(R)}),e}function af(t){return Bu(new m(t))}function cf(t){return Lu(t).buffer}!function(t){t[t.Dc=0]="Dc",t[t.Wf=1]="Wf"}(rf||(rf={}));var ff="content-type",vf="text/plain;charset=UTF-8",df=function(){function t(){}var n=t.prototype;return n.qf=function(t){return this.zf(t).then(JSON.parse)},n.Gf=function(t,n){switch(t){case Yo.Nc:return this.jf(n);case Yo.Cc:return this.qf(n);case Yo.Dc:return this.Qf();case Yo.$e:return this.zf(n);default:throw new d}},t}();function lf(t,n,i){if(t instanceof df)return t;if(t instanceof Pc)return function(t,n){return new gf({so:rf.Dc,Qf:t,Yf:_f(n)})}(t,i);var r=_f(i),e=E.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{so:Yo.$e,Zf:t,Yf:n||vf};if(t instanceof ArrayBuffer||qs(t))return{so:Yo.Nc,Zf:bf(t),Yf:n};if(it(t)||K(t))return{so:Yo.Cc,Zf:t,Yf:n};throw new d("Unsupported BodyInit type")}return{so:Yo.$e,Zf:null,Yf:n}}(t,r)});return new gf({so:rf.Wf,mh:e,Jf:n})}function _f(t){return(t.get(ff)||"").toLowerCase()}var gf=function(t){function n(n){var i;return(i=t.call(this)||this).$f=!1,i.Kf=void 0,i.tv=new ju,i.tv.mh.catch(R),i.nv(n),i}F(n,t);var i=n.prototype;return i.rv=function(){return this.tv.mh},i.zf=function(t){return this.ev(wf,t)},i.qf=function(t){return this.ev(mf,t)},i.jf=function(t){return this.ev(pf,t)},i.Qf=function(){return this.sv((t=this.Kf).so===rf.Dc?t.Qf:hf(t.mh.then(Af).then(uf),t.Jf));var t},i.ev=function(t,n){if(this.$f)return E.reject(new d("Already used"));this.$f=!0;var i=t(this.Kf,n);return this.tv.kh(i.then(R)),i},i.sv=function(t){if(this.$f)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.$f=!0;var n=new qc,i=E.resolve(t.pipeTo(n.writable));return this.tv.kh(i),n.readable},i.nv=function(t){this.Kf=t,t.so===rf.Wf&&t.mh.catch(R)},i.uv=function(){if(this.$f)throw new d("Already used");var t=function(t){if(t.so===rf.Dc){var n=t.Qf.tee(),i=n[0],r=n[1];return[{so:t.so,Qf:i,Yf:t.Yf},{so:t.so,Qf:r,Yf:t.Yf}]}var e=t.Jf.Co(),s=e[0],u=e[1];return[{so:t.so,mh:t.mh,Jf:s},{so:t.so,mh:t.mh,Jf:u}]}(this.Kf),i=t[0],r=t[1];return this.nv(i),new n(r)},M(n,[{key:"ov",get:function(){return this.$f}}]),n}(df);function wf(t,n){return t.so===rf.Dc?of(t.Qf,n).then(af):(n&&t.Jf.No(n),fs(t.mh.then(yf),t.Jf))}function yf(t){switch(t.so){case Yo.$e:return E.resolve(t.Zf||"");case Yo.Nc:return E.resolve(t.Zf).then(af);case Yo.Cc:return E.resolve(t.Zf).then(JSON.stringify)}}function mf(t,n){return t.so===rf.Dc?wf(t,n).then(JSON.parse):(n&&t.Jf.No(n),fs(t.mh.then(kf),t.Jf))}function kf(t){return t.so===Yo.Cc?E.resolve(t.Zf):yf(t).then(JSON.parse)}function pf(t,n){return t.so===rf.Dc?of(t.Qf,n):(n&&t.Jf.No(n),fs(t.mh.then(Af),t.Jf))}function Af(t){switch(t.so){case Yo.Nc:return E.resolve(t.Zf);case Yo.$e:case Yo.Cc:return yf(t).then(cf)}}function bf(t){return t instanceof ArrayBuffer?t:qu(Hu(t)).buffer}function Tf(t){return t.hv>=200&&t.hv<=299||304===t.hv}var Ef,Sf,Rf,If,Nf=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.av,s=i.cv,u=i.hv,o=i.fv,h=i.vv):(e=[],s=Yo.$e,u=200,o="OK",h=!1);var a=n.dv,c=new Zo(n.av||e),f=n.cv||s,v=n.lv||(i&&i.dv===a?i.lv:a._v),d=i?i.gv:null,l=lf(void 0!==n.Os?n.Os:d,n.Jf||new es,c);return(r=t.call(this,l)||this).av=void 0,r.dv=void 0,r.lv=void 0,r.cv=void 0,r.hv=void 0,r.fv=void 0,r.vv=void 0,r.av=c,r.dv=a,r.lv=v,r.cv=f,r.hv=void 0!==n.hv?n.hv:u,r.fv=void 0!==n.fv?String(n.fv):o,r.vv=n.vv||h,r}F(n,t);var i=n.prototype;return i.Os=function(t){return this.Gf(this.cv,t)},i.lh=function(){return new n({Os:this.uv(),dv:this.dv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).gv=void 0,i.gv=n,i}F(n,t);var i=n.prototype;return i.rv=function(){return this.gv.rv()},i.zf=function(t){return this.gv.zf(t)},i.qf=function(t){return this.gv.qf(t)},i.jf=function(t){return this.gv.jf(t)},i.Qf=function(){return this.gv.Qf()},i.uv=function(){return this.gv.uv()},M(n,[{key:"ov",get:function(){return this.gv.ov}}]),n}(df));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Ef||(Ef={})),function(t){t.wv="",t.yv="manifest",t.mv="segment",t.kv="content-protection"}(Sf||(Sf={})),function(t){t.wv="",t.pv="initialization-segment",t.Av="fairplay-license",t.bv="fairplay-certificate",t.Tv="widevine-license",t.Ev="widevine-certificate",t.Sv="playready-license",t.Rv="clearkey-license",t.Iv="aes128-key"}(Rf||(Rf={})),function(t){t.wv="",t.Nv="audio",t.Cv="video",t.$e="text",t.Dv="image"}(If||(If={}));var Cf=function(t,n){this.Zf=void 0,this.av=void 0,this.Ov=void 0,this.cv=void 0,this.xv=void 0,this.Do=void 0,this.so=void 0,this.Pv=void 0,this.Bv=void 0,this._v=void 0,this.Lv=void 0,this.Mv=void 0;var i,r,e,s,u,o,h,a,c,f,v,d=t._v;n?(i=n.Zf,r=n.av,e=n.Ov,s=n.cv,u=n.xv,o=n.Do,h=n.so,a=n.Pv,c=n.Bv,f=n.Lv,v=n.Mv):(i=null,r={},e=Ef.GET,s=Yo.$e,u=0,h=Sf.wv,a=Rf.wv,c=If.wv,f=!1),this._v=d,this.Zf=t.Zf||i,this.av=new Zo(t.av||r),this.Ov=t.Ov||e,this.cv=t.cv||s,this.xv=void 0!==t.xv?Number(t.xv)||0:u,this.Do=t.Do||o||(new es).Do,this.so=t.so||h,this.Pv=t.Pv||a,this.Bv=t.Bv||c,this.Lv=void 0!==t.Lv?Boolean(t.Lv):f,this.Mv=t.Mv||v},Df=function(){function t(){}var n=t.prototype;return n.dv=function(t){var n=function(t){return new Nf({Os:null,av:{},dv:t,lv:t._v,cv:t.cv,hv:0,fv:Qo.hc})}(new Cf(t));return E.resolve(n)},n.Uv=function(t){},n.Fv=function(){},t}();var Of=function(){function t(t,n){void 0===n&&(n=!0),this.Hv=void 0,this.Vv=void 0,this.Hv=t,this.Vv=n}var n=t.prototype;return n.dv=function(t){var n=this.Xv(t);return this.Hv.dv(n)},n.Uv=function(t){return this.Hv.Uv(this.Wv(t))},n.Xv=function(n){var i=new Cf(n);if(!this.Vv){var r=t.qv(i._v);i=new Cf({_v:r},i)}return i},n.Wv=function(n){var i=n._v;return this.Vv||(i=t.qv(i)),{_v:i,Zf:n.Zf}},t.qv=function(t){return T.Vu&&Ne(t,"http://")?t.replace(":","s:"):t},n.Fv=function(){this.Hv.Fv()},M(t,null,[{key:"zv",get:function(){return t.Gv||(t.Gv=new t(new Df)),t.Gv}}]),t}();function xf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Pf(t,n){var i=T.Bu(t);return n&&!Ce(i,"/")&&(i+="/"),i}Of.Gv=void 0;var Bf,Lf=/cache:(.+)?(?=&|$)/,Mf="http://webcache.googleusercontent.com/search?q=cache:";function Uf(t){if(!Ne(t,Mf))return"";var n=T.Pu(t).search.match(Lf);return n&&n.length>1?n[1]:""}function Ff(t){return T.Pu(t).hostname}!function(t){t.jv="HttpOpenError",t.Qv="HttpResponseError",t.Yv="HttpTimeoutError"}(Bf||(Bf={}));var Hf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Zv=void 0,e.Zv=n,e}return F(n,t),M(n,[{key:"dv",get:function(){return this.Zv}}]),n}(on);var Vf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n._v+". Invalid URL.",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Bf.jv}}]),n}(Hf);var Xf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.dv,null!=r?r:function(t){return"Error while loading "+t.dv._v+", status code "+t.hv}(n),i)||this).Jv=void 0,e.Jv=n,e}return F(n,t),M(n,[{key:"name",get:function(){return Bf.Qv}},{key:"$v",get:function(){return this.Jv}}]),n}(Hf);var Wf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t._v+" timed out after "+t.xv+" seconds."}(n),i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Bf.Yv}}]),n}(Hf),qf=function(t,n){return(qf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function zf(t,n){function i(){this.constructor=t}qf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Gf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var jf=function(){var t=Gf.Blob;if(t)try{return new t,function(t,n){return new Gf.Blob(t,n)}}catch(t){}var n,i=Gf.BlobBuilder||Gf.WebKitBlobBuilder||Gf.MozBlobBuilder||Gf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,s=t;e<s.length;e++){var u=s[e];r.append(u)}return r.getBlob(i&&i.type||"")}):null}(),Qf="function"==typeof Pc?Pc:void 0;function Yf(t){return t&&"function"==typeof t.getReader}function Zf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Yf(i)}catch(t){return!1}}var Jf=function(){function t(t,n){this.Xc=t,this.Kv=n}return t.prototype.pull=function(t){var n=this;return this.Xc.read().then(function(i){n.Kv&&n.Kv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Xc.cancel(t)},t}();function $f(t,n){return n.constructor===t?n:new t(new Jf(n.getReader()),{highWaterMark:0})}var Kf=function(){function t(t,n){this.td=t,this.St=n}return t.prototype.pull=function(t){return this.td().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function tv(t,n,i){return new t(new Kf(n,i),{highWaterMark:0})}var nv={searchParams:"URLSearchParams"in Gf,iterable:"Symbol"in Gf&&"iterator"in Symbol,blob:"FileReader"in Gf&&!!jf,formData:"FormData"in Gf,arrayBuffer:"ArrayBuffer"in Gf,stream:Zf(Qf),streamRequest:"Request"in Gf&&"body"in Gf.Request.prototype,streamResponse:"Response"in Gf&&"body"in Gf.Response.prototype,abort:"AbortController"in Gf&&"Request"in Gf&&"signal"in Gf.Request.prototype,encoding:"TextEncoder"in Gf&&"TextDecoder"in Gf,url:"URL"in Gf&&function(t){try{return new Gf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Gf&&/Firefox\//.test(Gf.navigator.userAgent)};function iv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function rv(t){return"string"!=typeof t&&(t=String(t)),t}function ev(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return nv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var sv=function(){function t(t){var n=this;this.$u={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return nv.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=iv(t),n=rv(n);var i=t.toLowerCase();if(this.$u.hasOwnProperty(i)){var r=this.$u[i],e=r[1];r[1]=e?e+", "+n:n}else this.$u[i]=[t,n]},t.prototype.delete=function(t){var n=iv(t).toLowerCase();delete this.$u[n]},t.prototype.get=function(t){var n=iv(t).toLowerCase();return this.$u.hasOwnProperty(n)?this.$u[n][1]:null},t.prototype.has=function(t){var n=iv(t).toLowerCase();return this.$u.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=iv(t)).toLowerCase();this.$u[i]=[t,rv(n)]},t.prototype.forEach=function(t,n){for(var i in this.$u)this.$u.hasOwnProperty(i)&&t.call(n,this.$u[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),ev(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),ev(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),ev(t)},t.prototype.asList=function(){var t=[];for(var n in this.$u)if(this.$u.hasOwnProperty(n)){var i=this.$u[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function uv(){}nv.iterable&&(sv.prototype[Symbol.iterator]=sv.prototype.entries);var ov,hv,av,cv=_.min,fv=String.fromCharCode,vv=16384;function dv(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=vv){var e=cv(r+vv,n);i.push(fv.apply(null,t.slice(r,e)))}return i.join("")}(n)}function lv(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function _v(t,n){return t>>n&63|128}function gv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(lv(t),n.push(t>>12&15|224),n.push(_v(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(_v(t,12)),n.push(_v(t,6))),n.push(63&t|128)):n.push(t)}function wv(){if(av>=hv)throw new v("Invalid byte index");var t=255&ov[av];if(av++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function yv(){var t,n;if(av>hv)throw new v("Invalid byte index");if(av===hv)return!1;if(t=255&ov[av],av++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|wv())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|wv()<<6|wv())>=2048)return lv(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|wv()<<12|wv()<<6|wv())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var mv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function kv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function pv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Av(t){return t&&DataView.prototype.isPrototypeOf(t)}var bv,Tv=ArrayBuffer.isView||function(t){return t&&(mv.indexOf(l.prototype.toString.call(t))>-1||Av(t))};function Ev(t){if(t.bodyUsed)return E.reject(new d("Already used"));t.bodyUsed=!0}function Sv(t){return new E(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Rv(t){return nv.encoding?new Gf.TextDecoder("utf-8").decode(new m(t)):dv(function(t){hv=(ov=t).length,av=0;for(var n,i=[];!1!==(n=yv());)i.push(n);return i}(new m(t)))}function Iv(t){return nv.encoding?(new Gf.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,r=t;i<r.length;i++)gv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Nv(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,s=t.value;return e?E.resolve(i):(i.push(s),n.read().then(r))};return n.read().then(r)}function Cv(t){return Nv(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new m(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];e.set(h,s),s+=h.byteLength}return e}(t).buffer})}function Dv(t){return t.slice?t.slice(0):Ov(new m(t))}function Ov(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function xv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Pv(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.nd===bv.rd){if(!n.ed.tee)throw new v("could not clone ReadableStream body");var i=n.ed.tee(),r=i[0],e=i[1];return n.body=r,n.ed=r,n.sd=r,e}return n.nd===bv.Nc?Dv(n.ed):n.nd===bv.Wf?n.ed.then(Pv):n.sd}!function(t){t[t.$e=0]="$e",t[t.ud=1]="ud",t[t.od=2]="od",t[t.Nc=3]="Nc",t[t.rd=4]="rd",t[t.Wf=5]="Wf"}(bv||(bv={}));var Bv=function(){function t(n,i){this.bodyUsed=!1;var r,e,s,u=this;if(this.sd=n||null,n)if("string"==typeof n)this.nd=bv.$e,this.ed=n;else if((s=n)&&"function"==typeof s.then)this.nd=bv.Wf,this.ed=E.resolve(n).then(function(n){return new t(n,i)}),this.ed.catch(uv);else if(nv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.nd=bv.ud,this.ed=n;else if(nv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.nd=bv.od,this.ed=n;else if(nv.searchParams&&kv(n))this.nd=bv.$e,this.ed=n.toString();else if(nv.arrayBuffer&&(pv(n)||Tv(n)))Av(n)&&(this.sd=new m((e=n).buffer,e.byteOffset,e.byteLength)),this.nd=bv.Nc,this.ed=pv(r=n)?Dv(r):Ov(r);else{if(!nv.stream||!Yf(n))throw new v("unsupported BodyInit type");n=$f(Qf,n),this.nd=bv.rd,this.ed=n,this.sd=n}else this.nd=bv.$e,this.ed="";this.hd="",i.has("content-type")?this.hd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.hd="text/plain;charset=UTF-8":u.nd===bv.ud&&u.ed.type?this.hd=u.ed.type:nv.searchParams&&kv(n)&&(this.hd="application/x-www-form-urlencoded;charset=UTF-8"),this.hd&&i.set("content-type",this.hd)),nv.stream&&(null==n?this.body=null:u.nd===bv.rd?this.body=u.ed:this.body=tv(Qf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ev(this);return r||(this.nd===bv.ud?(t=this.ed,n=new FileReader,i=Sv(n),n.readAsText(t),i):this.nd===bv.Nc?E.resolve(this.ed).then(Rv):this.nd===bv.rd?Cv(this.ed).then(Rv):this.nd===bv.Wf?this.ed.then(function(t){return t.text()}):this.nd===bv.od?E.reject(new v("could not read FormData body as text")):E.resolve(this.ed))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();nv.blob&&(Bv.prototype.blob=function(){var t,n,i=Ev(this);return i||(this.nd===bv.ud?E.resolve(this.ed):this.nd===bv.Nc?E.resolve(jf([this.ed],{type:this.hd})):this.nd===bv.rd?(t=this.ed,n=this.hd,Nv(t).then(function(t){return jf(t,{type:n||""})})):this.nd===bv.Wf?this.ed.then(function(t){return t.blob()}):this.nd===bv.od?E.reject(new v("could not read FormData body as Blob")):E.resolve(jf([this.ed],{type:this.hd})))}),nv.arrayBuffer&&(Bv.prototype.arrayBuffer=function(){var t,n,i;return this.nd===bv.Nc?Ev(this)||E.resolve(this.ed):this.nd===bv.ud?Ev(this)||(t=this.ed,n=new FileReader,i=Sv(n),n.readAsArrayBuffer(t),i):this.nd===bv.rd?Cv(this.ed):this.nd===bv.Wf?Ev(this)||this.ed.then(function(t){return t.arrayBuffer()}):this.nd===bv.od?E.reject(new v("could not read FormData body as ArrayBuffer")):E.resolve(this.ed).then(Iv)}),nv.formData&&(Bv.prototype.formData=function(){return this.nd===bv.od?Ev(this)||E.resolve(this.ed):this.text().then(xv)});var Lv=[301,302,303,307,308],Mv=function(t){function n(n,i){var r=this,e=new sv((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return zf(n,t),n.prototype.clone=function(){return new n(Pv(this),{status:this.status,statusText:this.statusText,headers:new sv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Lv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Bv);var Uv,Fv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,s=r.length;e<s;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(Uv=Fv)&&Uv.__esModule&&l.prototype.hasOwnProperty.call(Uv,"default")&&Uv.default;Fv.AbortSignal;var Hv=Fv.AbortController,Vv=Gf.DOMException;try{new Vv}catch(t){(Vv=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Vv.prototype.constructor=Vv}var Xv=Hv;function Wv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function qv(t,n,i){return new E(function(r,e){if(n.signal.aborted)return t.catch(uv),e(zv());var s=function(){n.signal.removeEventListener("abort",s),e(zv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()})})}function zv(){return new Vv("Aborted","AbortError")}var Gv,jv="moz-chunked-arraybuffer";function Qv(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Gv||(Gv={}));var Yv=function(){function t(t,n){var i=this;this.fd=!1,this.Zv=t,this.vd=n,this.dd=new p,this.ld=new E(function(t,n){i._d=t,i.gd=n})}return t.prototype.send=function(){var t=this;return this.wd().then(function(n){return t.yd(n,t.vd),t.ld})},t.prototype.wd=function(){var t=this.Zv;return t.nd===bv.rd?t.arrayBuffer():E.resolve(t.sd)},t.prototype.md=function(t){this.Zv.onprogress&&this.Zv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.kd=function(t){this.gd(t)},t.prototype.pd=function(){this.kd(new d("Network request failed"))},t.prototype.Ad=function(){this.kd(new d("Network request failed"))},t.prototype.bd=function(){this.kd(zv())},t.prototype.yd=function(t,n){var i=this,r=this.Zv,e=this.dd,s=function(){return i.Td()};if(r.signal.aborted)return this.bd();e.onreadystatechange=function(){if(e.readyState>=Gv.HEADERS_RECEIVED&&!i.fd){var t=function(t){var n=new sv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.fd=!0,i.Ed(n)}},e.onprogress=function(t){return i.md(t)},e.onload=function(){return i.Sd()},e.onerror=function(){return i.pd()},e.ontimeout=function(){return i.Ad()},e.onabort=function(){return i.bd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",s),e.onloadend=function(){r.signal.removeEventListener("abort",s)},t?e.send(t):e.send()},t.prototype.Td=function(){this.bd(),this.dd.abort()},t}(),Zv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Rd=void 0,r.Id=void 0,r}return zf(n,t),n.prototype.Ed=function(t){var n=this;this.Rd=new E(function(t,i){n.Id=t,n.Nd=i}),this._d(new Mv(this.Rd,t))},n.prototype.Sd=function(){var t=this.dd.response||this.dd.responseText;this.Id(t)},n.prototype.kd=function(n){t.prototype.kd.call(this,n),this.Nd&&this.Nd(n)},n}(Yv),Jv=function(t){function n(n){var i=t.call(this,n,jv)||this;return i.Cd=void 0,i.Dd=void 0,i.Od=!1,i}return zf(n,t),n.prototype.Ed=function(t){var n=this;this.Cd=new Qf({start:function(t){n.Dd=t},cancel:function(){n.Od=!0,n.Td()}}),this._d(new Mv(this.Cd,t))},n.prototype.md=function(n){this.Od||this.Dd.enqueue(new m(this.dd.response)),t.prototype.md.call(this,n)},n.prototype.Sd=function(){this.Dd.close()},n.prototype.kd=function(n){t.prototype.kd.call(this,n),this.Dd&&!this.Od&&(this.Od=!0,this.Dd.error(n))},n}(Yv),$v=function(){var t=nv.firefox&&Qv(jv);return $v=function(){return t},t},Kv=function(){var t;return t=nv.arrayBuffer&&Qv("arraybuffer")?"arraybuffer":nv.blob&&Qv("blob")?"blob":"",Kv=function(){return t},t};function td(t){return(nv.stream&&$v()?new Jv(t):new Zv(t,Kv())).send()}var nd=Gf.fetch,id=Gf.Request,rd=(Gf.Response,Gf.AbortController);var ed=["http:","https:"];var sd=function(){try{if(nv.streamRequest){var t=new id("about:blank",{body:"",method:"POST"}).body;if(t&&Zf(t.constructor))return t.constructor}}catch(t){}}();function ud(t,n,i){var r;if(nv.stream){var e=void 0;if(nv.streamResponse){var s=t.body;e=s&&$f(Qf,s)}else e=tv(Qf,function(){return qv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Jf(n.getReader(),i),{highWaterMark:0})}(Qf,t,function(t){var e=t.done,s=t.value;e?i=void 0===i?r:i:r+=s.byteLength,n(r,i)})}(e,i,od(t.headers))),r=e}else{var u=qv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return E.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(u,i,od(t.headers))),r=u}return new Mv(r,t)}function od(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function hd(t){var n=new Xv;return t.signal&&Wv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.nd===bv.rd?nv.streamRequest&&sd?E.resolve($f(sd,e.ed)):qv(t.arrayBuffer(),n,!1):qv(E.resolve(t.sd),n,!1),nv.abort){var s=new rd;Wv(s,n.signal),r=s.signal}return i.then(function(n){return new id(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof sv?i:new sv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return nd(i).then(function(i){return ud(i,n,t.onprogress)})})}var ad=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var cd=function(t){function n(i,r){var e,s,u,o,h,a,c,f,v,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,s=i.credentials,r.headers||(u=new sv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.sd||(_=i.sd,i.bodyUsed=!0)}else e=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!r.headers&&u||(u=new sv(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=e,l.headers=u,l.credentials=r.credentials||s,l.method=function(t){var n=t.toUpperCase();return ad.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Xv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return zf(n,t),n.prototype.clone=function(){return new n(this,{body:Pv(this)})},n}(Bv),fd="function"==typeof nd&&nv.stream&&nv.streamResponse&&nv.url;function vd(t,n){return new E(function(i){var r=new cd(t,n);i((fd&&function(t){try{return ed.indexOf(new Gf.URL(t,Gf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?hd:td)(r))})}vd.polyfill=!0;var dd=function(){function t(t){this.$v=void 0,this.Zv=void 0,this.xd=new es,this.Jv=void 0,this.Pd=!1,this.Zv=t,this.xd.No(t.Do),this.$v=this.Bd()}var n=t.prototype;return n.Bd=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u,o,a,c=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Zv).xv&&h(function(){c.Pd=!0,c.xd.Io()},n.xv),t.prev=2,i=vd(n._v,{method:n.Ov,headers:n.av.Oc(),body:n.Zf,credentials:n.Lv?"include":"same-origin",signal:gd(this.xd.Do),onprogress:n.Mv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Vf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),us(e=this.Ld(t.t1))&&this.xd.Io(),e;case 20:if(s=r.url||n._v,u=0===r.status&&"file:"===(f=s,T.Pu(f).protocol)?200:r.status,o=new ld(this,r,this.xd),a=new Nf({Os:o,dv:n,cv:n.cv,av:new Zo(r.headers.asList()),hv:u,fv:r.statusText,lv:s}),this.Jv=a,!Tf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Xf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Ld=function(t){return us(t)?this.Pd?new Wf(this.Zv):new ss(t.message,t):this.Jv?new Xf(this.Jv,t):new Vf(this.Zv,t)},t}(),ld=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.Md=void 0,e.xd=void 0,e.tv=new ju,e.an=n,e.Md=i,e.xd=r,e.tv.mh.catch(R),e}F(n,t);var i=n.prototype;return i.rv=function(){return this.tv.mh},i.zf=function(t){return this.ev(this.Md.text(),t)},i.jf=function(t){return this.ev(this.Md.arrayBuffer(),t)},i.Qf=function(){var t=this.Md.body;return t?this.sv(t):hf(this.jf().then(uf),this.xd)},i.uv=function(){var t=this.Md.clone(),i=this.xd.Co(),r=i[0],e=i[1];return this.xd=r,new n(this.an,t,e)},i.ev=function(t,n){var i=this;n&&this.xd.No(n);var r=E.resolve(t).catch(function(t){throw i.an.Ld(t)});return r=fs(r,this.xd),this.tv.kh(r.then(R)),r},i.sv=function(t){var n=this,i=new qc,r=E.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.Ld(t);throw i.writable.abort(r).catch(R),r});return r=fs(r,this.xd),this.tv.kh(r.then(R)),i.readable},M(n,[{key:"ov",get:function(){return this.Md.bodyUsed}}]),n}(df),_d="abort";function gd(t){var n=new Xv;if(t.wo)n.abort();else if(!t.yo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(_d,i),t.To(i),t.So(r)};n.signal.addEventListener(_d,i),t.bo(i),t.Eo(r)}return n.signal}function wd(t,n,i){return new E(function(r,e){if(i&&i.wo)return e(new ss);var s=function(t){o(),r(t)},u=function(){o(),e(new ss)},o=function(){t.removeEventListener(n,s),i&&i.To(u)};t.addEventListener(n,s),i&&i.bo(u)})}var yd,md,kd=function(){function t(){}var n=t.prototype;return n.dv=function(t){return new dd(t).$v},n.Uv=function(t){if(Ar&&Ar.sendBeacon)Ar.sendBeacon(t._v,Go([t.Zf],{type:t.Yf}));else{var n=t.Yf?{"Content-type":t.Yf}:void 0;_s(this.dv(new Cf({Ov:Ef.POST,_v:t._v,Zf:t.Zf,av:n})))}},n.Fv=function(){},t}();yd=new(function(n){function i(){for(var i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(i=n.call.apply(n,[this].concat(e))||this).Ud=void 0,i.Fd=function(){try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Hd=Y.He,i.Vd=void 0,i}return F(i,n),M(i,[{key:"Ru",get:function(){return this.Ud||(this.Ud=new Ve(Xo())),this.Ud}},{key:"Xd",get:function(){return this.Fd}},{key:"Wd",get:function(){return this.Hd}},{key:"qd",get:function(){return!1}},{key:"zd",get:function(){return qo.za()}},{key:"Gd",get:function(){return{jd:jo}}},{key:"Qd",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Yd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Zd",get:function(){return this.Vd||(this.Vd=new Of(new kd)),this.Vd}}]),i}(Jr)),T=yd,function(t){t.Jd="$d",t.Kd="tl"}(md||(md={}));md.Jd,md.Kd;var pd=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).nl=void 0,r}return F(n,t),M(n,[{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}}]),n}(Es);function Ad(t){return Boolean(t&&t.il)}var bd,Td=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(pd),Ed=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(Es),Sd=function(t){function n(n){var i;return(i=t.call(this,md.Jd)||this).ul=n,i}return F(n,t),n.prototype.sl=function(){return new Rd(this.ul.il)},n}(Td),Rd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return F(n,t),n}(Ed),Id=function(t){function n(n){var i;return(i=t.call(this,md.Kd)||this).ul=n,i}return F(n,t),n.prototype.sl=function(){return new Nd(this.ul.il)},n}(Td),Nd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return F(n,t),n}(Ed);!function(t){t.ol="hl",t.al="cl",t.fl="vl",t.dl="ll",t._l="gl",t.wl="yl",t.ml="kl",t.pl="Al",t.bl="Uh",t.Tl="El",t.Sl="Rl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(bd||(bd={}));var Cd=function(t){function n(){var n;return(n=t.call(this)||this).Il=[],n.nl=void 0,n}F(n,t);var i=n.prototype;return i.Nl=function(t){return this.Il[t]},i.Cl=function(t){return!(!t||Ze(this.Il,t))&&(this.Il.push(t),this.nl&&this.nl.push(t.il),t.Mo(bd.wl,this.Bo),this.Lo(new Sd(t)),!0)},i.Dl=function(t){if(!t)return!1;var n=this.Il.indexOf(t);return!(n<0)&&(Ye(this.Il,n),this.nl&&Ye(this.nl,n),t.Vo(bd.wl,this.Bo),this.Lo(new Id(t)),!0)},i.Ol=function(t){return Ze(this.Il,t)},i.xl=function(){for(var t=this.Il,n=t.length-1;n>=0;n-=1)this.Dl(t[n])},i.Fv=function(){this.xl(),this.Ho()},M(n,[{key:"Pl",get:function(){return this.Il}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"Bl",get:function(){return this.Il.length}}]),n}(bs),Dd=function(t){function n(n){var i;return(i=t.call(this,bd.wl)||this).ul=n,i}return F(n,t),n.prototype.sl=function(){return new Od(this.ul.il)},n}(Td),Od=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return F(n,t),n}(Ed),xd=function(t){function n(){var n;return(n=t.call(this)||this).Ll=void 0,n.Ml=function(t){var i=t.ul;n.Cl(i)},n.Ul=function(t){var i=t.ul;n.Dl(i)},n}F(n,t);var i=n.prototype;return i.Fl=function(t){t.Mo(md.Jd,this.Ml),t.Mo(md.Kd,this.Ul)},i.Hl=function(t){t.Vo(md.Jd,this.Ml),t.Vo(md.Kd,this.Ul)},i.Fv=function(){this.Ll&&this.Ll.Fv(),t.prototype.Fv.call(this)},M(n,[{key:"Vl",get:function(){return this.Ll},set:function(t){var n=this.Ll;if(t!==n){if(n){this.Hl(n);for(var i=0,r=n.Pl;i<r.length;i++){var e=r[i];t&&t.Ol(e)||this.Dl(e)}}if(this.Ll=t,t){for(var s=[],u=0,o=t.Pl;u<o.length;u++){var h=o[u];this.Cl(h),this.Xl(h)&&s.push(h)}this.Fl(t);for(var a=0;a<s.length;a++){var c=s[a];c.Lo(new Dd(c))}}}}}]),n}(Cd),Pd=l.freeze||I;function Bd(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ld(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Md(t){if(it(t)){var n={};for(var i in t)Z.call(t,i)&&(n[i]=Md(t[i]));return n}if(K(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Md(t[e]));return r}return t}function Ud(t,n){return t===n||!(!t||!n)&&(!(!nt(t)||!nt(n))&&(tt(t)?!!tt(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Ud(t[e],n[e]))return!1;return!0}(t,n):!tt(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var s=i[e];if(!Z.call(n,s)||!Ud(t[s],n[s]))return!1}return!0}(t,n)))}function Fd(t,n){return t.constructor===n.constructor}function Hd(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],s=t[e];null!=s&&(n[e]=s)}return n}function Vd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Xd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Wd(t){var n=Xd(t);if(y(n))throw new v("Expected a valid number.");return n}function qd(t){return"string"==typeof t?t:""}function zd(t,n){return tt(t)?function(t,n){if(!tt(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Gd=[md.Jd,md.Kd,bd.wl];function jd(t){var n,i=t.Pl.map(function(t){return t.il});return i.item=function(n){var i=0|n,r=t.Nl(i);return r&&r.il||void 0},i.addEventListener=function(t,i){n.Mo(t,i)},i.removeEventListener=function(t,i){n.Vo(t,i)},n=new Ts(i),t.Mo(Gd,function(t){return n.Lo(t.il)}),i}function Qd(){}function Yd(t){var n,i=[bd.bl,bd.wl,bd.Tl,bd.Sl,bd.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Wl&&t.Wl.il},get enabled(){return t.ql},set enabled(n){t.ql=Vd(n)},get id(){return t.zl},get uid(){return t.Gl},get kind(){return t.jl},get label(){return t.Ql},set label(n){t.Ql=qd(n)},get language(){return t.Yl},get qualities(){return t.Zl.il},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Zl.Pl;r<e.length;r++)for(var s=e[r],u=0;u<n.length;u++){var o=n[u];s.il===o&&i.push(s)}return i}(t,K(n)?n:[n]):[]).length>0?t.Jl=i:t.Jl=void 0},get targetQuality(){if(t.Jl)return 1===t.Jl.length?t.Jl[0].il:t.Jl.map(function(t){return t.il})},addEventListener:function(t,i){var r=zd(t,qd);n.Mo(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Vo(r,i)}};return n=new Ts(r),t.Mo(i,function(t){return n.Lo(t.il)}),l.defineProperty(r,"constructor",{value:Qd}),r}function Zd(){}function Jd(t){var n=jd(t);return l.defineProperty(n,"constructor",{value:Zd}),n}var $d,Kd,tl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.sl=function(){return Jd(this)},i.Xl=function(t){return t.ql},n}(xd);function nl(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case $d.$l:case $d.Kl:case $d.t_:return n}}else if("number"==typeof t)switch(t){case 0:return $d.$l;case 1:return $d.Kl;case 2:return $d.t_}return $d.$l}function il(){}function rl(t){var n,i=[bd.wl,bd.bl,bd.ol,bd.al,bd.fl,bd.dl,bd._l,bd.ml,bd.pl],r=[Kd.n_],e={get kind(){return t.jl},get label(){return t.Ql},set label(n){t.Ql=qd(n)},get language(){return t.Yl},get id(){return t.zl},get uid(){return t.Gl},get inBandMetadataTrackDispatchType(){return t.i_},get mode(){return t.r_},set mode(n){n!==$d.t_&&n!==$d.Kl&&n!==$d.$l||(t.r_=n)},get type(){return t.so},get readyState(){return ul(t.e_)},get cues(){return t.r_===$d.$l?null:t.s_.il},get activeCues(){return t.r_===$d.$l?null:t.u_.il},get src(){return t.o_||""},addEventListener:function(t,i){var r=zd(t,qd);n.Mo(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Vo(r,i)}};return n=new Ts(t),t.Mo(i,function(t){return n.Lo(t.il)}),t.Mo(r,function(t){return n.Lo(t)}),l.defineProperty(e,"constructor",{value:il}),e}function el(){}function sl(t){var n=jd(t);return l.defineProperty(n,"constructor",{value:el}),n}function ul(t){return t}!function(t){t.$l="disabled",t.Kl="hidden",t.t_="showing"}($d||($d={})),function(t){t.n_="error"}(Kd||(Kd={}));var ol=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.sl=function(){return sl(this)},i.Xl=function(t){return t.r_===$d.t_},n}(xd),hl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Fo=function(n){t.prototype.Fo.call(this,n)},i.qo=function(n){t.prototype.qo.call(this,n)},n}(bs),al=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(hl),cl=function(t){function n(){return t.call(this,Qo.rc)||this}return F(n,t),n}(Es),fl=function(t){function n(n){var i;return(i=t.call(this,Qo.$a)||this).currentSource=n,i}return F(n,t),n}(Es),vl=function(){function t(){}return t.h_=function(n,i){var r=t.a_(n,i);return r?t.c_(r):0},t.f_=function(){return T.Qd||"default"},t.v_=function(){return T.Yd||"unknown"},t.a_=function(n,i){var r,e=null==(r=T.zd)?void 0:r.sh(i),s=e&&JSON.parse(e);if(s&&s[n])return t.d_(s,n,i)},t.c_=function(t){var n=t.availableBandwidth;return n||0},t.d_=function(n,i,r){if(!t.l_(n,i))return n[i];t.__(n,i,r)},t.__=function(t,n,i){var r;delete t[n],null==(r=T.zd)||r.qa(i,JSON.stringify(t))},t.l_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.g_=function(t,n,i,r){var e;return te({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.w_=function(n){var i=t.f_();t.y_(i,"theoplayer-stored-network-info",n,Jt())},t.y_=function(n,i,r,e){var s,u,o=null==(s=T.zd)?void 0:s.sh(i),h=o?JSON.parse(o):void 0,a=t.g_(h,n,r,e);null==(u=T.zd)||u.qa(i,JSON.stringify(a))},t.m_=function(){var n=t.f_();return t.h_(n,"theoplayer-stored-network-info")},t}();var dl,ll,_l,gl,wl,yl,ml="1ADD53F3";function kl(t){return{chromecast:function(t){return{appID:t&&t.appID?qd(t.appID):ml}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return dl.AUTO;case"manual":return dl.MANUAL;case"disabled":return dl.DISABLED;default:return dl.MANUAL}}(t?t.strategy:void 0)}}function pl(t){var n,i=_l.k_;return(n=t)&&Ie(n,"mpd")&&(i=_l.p_),function(t){return!!t&&Ie(t,"m3u8")}(t)&&(i=_l.A_),i}function Al(t){switch(t){case ll.b_:case ll.T_:return t;default:return ll.E_}}function bl(t){return!!t&&Ne(t.toLowerCase(),_l.p_)}function Tl(t){if(!t)return!1;var n=t.toLowerCase();return Ne(n,_l.A_)||Ne(n,_l.S_)}function El(t){return nt(t)&&nt(t.ssai)&&"google-dai"===t.ssai.integration}function Sl(t){return nt(t)&&rt(t.integration)&&"verizon-media"===t.integration}function Rl(t){if(rt(t))return!t;if(Sl(t))return!t.id;if(El(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Il(t){return Boolean(nt(t)&&rt(t.src))}function Nl(t){return rt(t)||Il(t)||El(t)||Sl(t)}function Cl(t){if(t){if(Nl(t))return Rl(t);for(var n=0;n<t.length;n++){if(!Rl(t[n]))return!1}return!0}return!0}function Dl(){return{crossOrigin:ll.E_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Ol(){return te({},Dl(),{src:void 0,type:_l.k_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function xl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:gl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return wl.NONE;case"midroll-and-postroll":default:return wl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Vd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return gl.INSECURE;case"disabled":return gl.DISABLED;case"enabled":default:return gl.ENABLED}}(t.vpaidMode)),K(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(rt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Vd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Pl(t){if(!tt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];it(e)&&n.push(e)}return n}function Bl(t){return rt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dl||(dl={})),function(t){t.E_="",t.b_="anonymous",t.T_="use-credentials"}(ll||(ll={})),function(t){t.p_="application/dash+xml",t.A_="application/vnd.apple.mpegurl",t.S_="application/x-mpegurl",t.k_="video/mp4",t.R_="application/vnd.theoplayer.hesp+json",t.I_="application/vnd.theo.hesp+json"}(_l||(_l={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(gl||(gl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(wl||(wl={})),function(t){t[t.N_=0]="N_",t[t.C_=1]="C_",t[t.D_=2]="D_",t[t.O_=3]="O_",t[t.x_=4]="x_"}(yl||(yl={}));var Ll,Ml=function(t){function n(n,i){var r;return void 0===i&&(i=yl.N_),(r=t.call(this,Qo.nc)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),Ul=function(t){function n(n){var i;return(i=t.call(this,Qo.cc)||this).currentTime=n,i}return F(n,t),n}(Es),Fl=function(t){function n(n){var i;return(i=t.call(this,Qo.fc)||this).currentTime=n,i}return F(n,t),n}(Es);!function(t){t.P_="canplay",t.B_="canplaythrough",t.L_="loadeddata",t.M_="loadedmetadata",t.ml="readystatechange",t.U_="waiting",t.F_="playing"}(Ll||(Ll={}));var Hl,Vl,Xl=[Ll.P_,Ll.B_,Ll.L_,Ll.M_,Ll.ml,Ll.U_,Ll.F_],Wl=function(t){function n(n,i){var r;return void 0===i&&(i=yl.C_),(r=t.call(this,Ll.M_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),ql=function(t){function n(n){var i;return(i=t.call(this,Qo.tc)||this).duration=n,i}return F(n,t),n}(Es),zl=function(t){function n(n,i){var r;return(r=t.call(this,Qo.dc)||this).currentTime=n,r.playbackRate=i,r}return F(n,t),n}(Es),Gl=function(t){function n(n,i){var r;return(r=t.call(this,Qo.Tc)||this).currentTime=n,r.currentProgramDateTime=i,r}return F(n,t),n}(Es),jl=function(t){function n(n){var i;return(i=t.call(this,Qo.ic)||this).currentTime=n,i}return F(n,t),n}(Es),Ql=function(t){function n(n,i){var r;return void 0===i&&(i=yl.D_),(r=t.call(this,Ll.L_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),Yl=function(t){function n(n){var i;return(i=t.call(this,Qo.wc)||this).currentTime=n,i}return F(n,t),n}(Es),Zl=function(t){function n(n){var i;return(i=t.call(this,Qo.gc)||this).currentTime=n,i}return F(n,t),n}(Es),Jl=function(t){function n(n,i){var r;return(r=t.call(this,Qo.Ec)||this).currentTime=n,r.volume=i,r}return F(n,t),n}(Es),$l=function(t){function n(n,i){var r;return void 0===i&&(i=yl.O_),(r=t.call(this,Ll.P_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),Kl=function(t){function n(n,i){var r;return void 0===i&&(i=yl.x_),(r=t.call(this,Ll.B_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),t_=function(t){function n(n,i){var r;return(r=t.call(this,Ll.ml)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),n_=function(t){function n(n){var i;return(i=t.call(this,Kd.n_)||this).errorObject=n,i}return F(n,t),n.prototype.sl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(pd);function i_(t){switch(t){case Hl.ALL:case Hl.CONTENT:return t;default:return Hl.NONE}}function r_(t){var n,i,r,e=Md(t||{});return e.libraryLocation&&(e.libraryLocation=Pf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=kl(e.cast),e.ads=xl(e.ads),e.analytics=Pl(e.analytics),e.mutedAutoplay=i_(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=rt(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Pf(t)}catch(t){return void T.pu("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function e_(t){return{H_:t.H_,V_:t.V_,X_:t.X_,Jo:t.Jo,W_:t.W_,q_:t.q_,z_:t.z_,G_:t.G_,e_:t.e_,j_:t.j_,Q_:t.Q_,Y_:t.Y_,Z_:t.Z_}}function s_(t,n){var i=n.Z_,r=n.q_;t.Z_=i,t.q_=r}function u_(t,n,i){if(n!==i){var r=n.H_,e=n.V_,s=n.q_,u=n.z_,o=n.G_,h=n.e_,a=n.j_,c=(n.Y_,n.Q_,n.Z_),f=i.H_,v=i.V_,d=i.X_,l=i.W_,_=i.q_,g=i.z_,w=i.G_,m=i.e_,k=i.j_,p=(i.Y_,i.Q_,i.Z_);h!==yl.N_&&t.Lo(new Ml(f,m)),g&&!u?t.Lo(new Ul(f)):!g&&u&&t.Lo(new Fl(f)),m>=yl.C_&&t.Lo(new Wl(f,m)),v===e||y(v)&&y(e)||t.Lo(new ql(v)),w!==o&&t.Lo(new zl(f,w)),f!==r&&t.Lo(new Gl(f,void 0)),d&&t.Lo(new jl(f)),m>=yl.D_&&t.Lo(new Ql(f,m)),k&&!a?t.Lo(new Yl(f)):!k&&a&&t.Lo(new Zl(f)),p===c&&_===s||t.Lo(new Jl(f,p)),m>=yl.O_&&t.Lo(new $l(f,m)),m>=yl.x_&&t.Lo(new Kl(f,m)),m!==h&&t.Lo(new t_(f,m)),l&&t.Lo(new n_(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Hl||(Hl={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Vl||(Vl={}));var o_,h_=400,a_=.25,c_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},f_={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},v_={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function d_(){var t;return t=T.Mu.hu?f_:T.Mu.cu?c_:v_,T.Uu.Hu?function(t){if(T.Uu.Hu){var n=(h_+250)/1e3,i=_.max(n,t.windowStart),r=_.max(i+a_,t.target),e=_.max(r+a_,t.windowEnd);return{windowStart:i,target:r,windowEnd:e,maxOffset:_.max(e+a_,t.maxOffset)}}return t}(t):t}function l_(t){return{goLive:function(){return t.J_()},get isLive(){return t.K_},get currentServerLiveTime(){return t.tg},get currentLatency(){return t.ng},get latency(){return t.ig},set latency(n){if(!function(t){if(!nt(t))return!1;var n=t,i=$(n.target)&&"number"==typeof n.target&&$(n.windowEnd)&&"number"==typeof n.windowEnd&&$(n.windowStart)&&"number"==typeof n.windowStart&&$(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.ig=n},get manifest(){return t.rg},get metrics(){return t.eg},addEventListener:function(n,i){t.Mo(g_(n),i)},removeEventListener:function(n,i){t.Vo(g_(n),i)}}}!function(t){t[t.$l=0]="$l",t[t.sg=1]="sg",t[t.ug=2]="ug"}(o_||(o_={}));var __=["analytic","golive","nogolive","bufferedchange"];function g_(t){var n=zd(t,qd);return(rt(n)?[n]:n).filter(function(t){return Ze(__,t)})}var w_,y_=function(t){function n(){var n;return(n=t.call(this)||this).Ll=void 0,n.nl=void 0,n.og=d_(),n.Ll=void 0,n}F(n,t);var i=n.prototype;return i.Fl=function(t){t.Mo(__,this.Bo)},i.Hl=function(t){t.Vo(__,this.Bo)},i.J_=function(){var t;null==(t=this.Ll)||t.J_()},i.Fv=function(){this.Ho(),this.Ll&&this.Hl(this.Ll),this.Ll=void 0},M(n,[{key:"Vl",get:function(){return this.Ll},set:function(t){var n=this.Ll;t!==n&&(n&&this.Hl(n),t&&this.Fl(t),this.Ll=t,this.Ll&&(this.Ll.ig=this.og))}},{key:"il",get:function(){return this.nl||(this.nl=l_(this)),this.nl}},{key:"tg",get:function(){var t;return null==(t=this.Ll)?void 0:t.tg}},{key:"ng",get:function(){var t;return null==(t=this.Ll)?void 0:t.ng}},{key:"K_",get:function(){return!!this.Ll&&this.Ll.K_}},{key:"ig",get:function(){return this.og},set:function(t){this.Ll&&(this.Ll.ig=t),this.og=t}},{key:"rg",get:function(){var t;return null==(t=this.Ll)?void 0:t.rg}},{key:"eg",get:function(){var t;return null==(t=this.Ll)?void 0:t.eg}}]),n}(bs),m_=function(t){function n(n){var i;return(i=t.call(this)||this).Ll=void 0,i.hg=[],i.ag=!1,i.cg=new tl,i.fg=new tl,i.vg=new ol,i.dg=new y_,i.lg=!1,i._g(n),n.Fo(i.Bo),i.Ll=n,i.cg.Vl=n.gg,i.fg.Vl=n.wg,i.vg.Vl=n.yg,i.dg.Vl=n.mg,i}F(n,t);var i=n.prototype;return i.kg=function(){this.Ll.kg()},i.pg=function(){this.Ll.pg()},i.Ag=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gs(this.hg.map(function(t){return t.Ag()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bg=function(){return this.Ll.bg()},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(i),t.next=3,this.Ll.Tg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Eg=function(){return this.Vl.Eg()},i.Sg=function(){this.Vl.Sg()},i.Rg=function(){this.Vl.Rg()},i.Ig=function(){if(!this.ag){for(var t=0,n=this.hg;t<n.length;t++){n[t].Ig()}this.ag=!0}},i.Ng=function(t){this.Ll.Ng(t)},i.Cg=function(){this.Ll.Cg()},i.Dg=function(){this.Ll.Dg()},i.Og=function(){this.Ll.Og()},i.xg=function(){return this.Ll.xg()},i.Pg=function(){return this.Ll.Pg()},i.Bg=function(){for(var t=[],n=0,i=this.hg;n<i.length;n++){var r=i[n];t.push.apply(t,r.Bg())}return t},i.Lg=function(t){for(var n=!1,i=0,r=this.hg;i<r.length;i++){n=r[i].Lg(t)||n}return n},i.Lo=function(n){this.Lg(n)||t.prototype.Lo.call(this,n)},i._g=function(t){this.hg.push(t)},i.Mg=function(t){Qe(this.hg,t)},i.Ug=function(t){if(t!==this.Ll){var n=this.Ll;n.Cg(),n.qo(this.Bo);var i=e_(this),r=this.Fg,e=this.Pg();this.Ll=t,this.cg.Vl=t.gg,this.fg.Vl=t.wg,this.vg.Vl=t.yg,this.dg.Vl=t.mg,u_(this,i,this);var s=this.Fg;s!==r&&this.Lo(new fl(s)),this.Pg()!==e&&this.Lo(new cl),t.Fo(this.Bo),t.Ng(n)}},i.Hg=function(){},i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ho(),this.Ll.Cg(),n=0,i=this.hg;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Fv();case 7:n++,t.next=3;break;case 10:this.cg.Fv(),this.fg.Fv(),this.vg.Fv(),this.dg.Fv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gs(this.hg.map(function(t){return t.xl()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"gg",get:function(){return this.cg}},{key:"yg",get:function(){return this.vg}},{key:"wg",get:function(){return this.fg}},{key:"Vg",get:function(){return this.Ll.Vg}},{key:"Xg",get:function(){return this.Ll.Xg},set:function(t){this.Ll.Xg=t}},{key:"Fg",get:function(){return this.Ll.Fg}},{key:"H_",get:function(){return this.Ll.H_},set:function(t){this.Ll.H_=t}},{key:"V_",get:function(){return this.Ll.V_}},{key:"Wg",get:function(){return this.Ll.Wg}},{key:"X_",get:function(){return this.Ll.X_}},{key:"Jo",get:function(){return this.Ll.Jo}},{key:"W_",get:function(){return this.Ll.W_}},{key:"mg",get:function(){return this.dg}},{key:"qg",get:function(){return this.Ll.qg}},{key:"eg",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.zg,i+=h.Gg,r+=h.jg,e+=h.Qg,s+=h.Yg,u.amountOfBufferedAudioSegments+=h.Zg.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Zg.amountOfBufferedVideoSegments}return{zg:n,Gg:i,jg:r,Qg:e,Yg:s,Zg:u}}(this.hg.map(function(t){return t.eg}))}},{key:"q_",get:function(){return this.Ll.q_},set:function(t){this.Ll.q_=t}},{key:"Jg",get:function(){return this.Ll.Jg}},{key:"z_",get:function(){return this.Ll.z_}},{key:"G_",get:function(){return this.Ll.G_},set:function(t){this.Ll.G_=t}},{key:"$g",get:function(){return this.Ll.$g}},{key:"Kg",get:function(){return this.Ll.Kg},set:function(t){this.Ll.Kg=t}},{key:"e_",get:function(){return this.Ll.e_}},{key:"tw",get:function(){return this.Ll.tw}},{key:"j_",get:function(){return this.Ll.j_}},{key:"Q_",get:function(){return this.Ll.Q_}},{key:"Y_",get:function(){return this.Ll.Y_}},{key:"Z_",get:function(){return this.Ll.Z_},set:function(t){this.Ll.Z_=t}},{key:"Vl",get:function(){return this.Ll},set:function(t){this.Ug(t)}}]),n}(al),k_=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return F(n,t),M(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Io);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(w_||(w_={}));var p_=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,v.captureStackTrace&&v.captureStackTrace(sn(s),s.constructor),s}return F(n,t),M(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function A_(t){Bd(t,"MEDIA_ERR_ABORTED",w_.ABORTED),Bd(t,"MEDIA_ERR_NETWORK",w_.NETWORK),Bd(t,"MEDIA_ERR_DECODE",w_.DECODE),Bd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",w_.SRC_NOT_SUPPORTED),Bd(t,"MEDIA_ERR_ENCRYPTED",w_.ENCRYPTED)}function b_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new p_(w_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new p_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return w_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return w_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return w_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return w_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return w_.NETWORK;if(i===n.ErrorCategory.SOURCE)return w_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return w_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return w_.ENCRYPTED;if(i===n.ErrorCategory.AD)return w_.ADVERTISEMENT_ERROR;return w_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function T_(t){switch(t){case w_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case w_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case w_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case w_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case w_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case w_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case w_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}A_(p_),A_(p_.prototype);var E_,S_=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Cl=function(n){return t.prototype.Cl.call(this,n)},i.sl=function(){return Jd(this)},n}(Cd);!function(t){t.Nv="audio",t.Cv="video",t.$e="text",t.Dv="image",t.wv="unknown"}(E_||(E_={}));var R_=function(){function t(){this.nw=[],this.nl=void 0}var n=t.prototype;return n.iw=function(t){this.nw.push(t),this.nl&&this.nl.push(t.il)},n.Nl=function(t){return this.nw[t]},n.rw=function(t){return K(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ze(t,n[i]))return!1;return!0}(this.nw,t):Ze(this.nw,t)},M(t,[{key:"Pl",get:function(){return this.nw}},{key:"Bl",get:function(){return this.nw.length}},{key:"il",get:function(){var t,n;return this.nl||(this.nl=((n=(t=this).Pl.map(function(t){return t.il})).item=function(n){var i=0|n,r=t.Nl(i);return r&&r.il||void 0},n)),this.nl}}]),t}(),I_=function(t){function n(n){var i;return(i=t.call(this,bd.bl)||this).ul=n,i}return F(n,t),n.prototype.sl=function(){return new N_(this.ul.il)},n}(Td),N_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return F(n,t),n}(Ed),C_=0;function D_(){return C_++}var O_=0;var x_=0;var P_=0;function B_(){return P_++}var L_=0;var M_=function(t){function n(n){var i;return(i=t.call(this)||this).so=E_.Nv,i.ew=void 0,i.sw=void 0,i.uw=void 0,i.ow=void 0,i.hw=!1,i.nw=void 0,i.nl=void 0,i.ew=n,i.ow=D_(),i.sw=L_+++"",i.uw=n.label,i.nw=new R_,i.aw(),i}F(n,t);var i=n.prototype;return i.cw=function(t){this.ql=t},i.aw=function(){this.ql=this.fw},M(n,[{key:"Wl",get:function(){}},{key:"ql",get:function(){return this.hw},set:function(t){this.hw!==t&&(this.hw=t,this.fw=t,this.Lo(new Dd(this)))}},{key:"fw",get:function(){return!!this.ew.enabled},set:function(t){this.ew.enabled=t}},{key:"il",get:function(){return this.nl||(this.nl=Yd(this)),this.nl}},{key:"zl",get:function(){return this.sw}},{key:"Gl",get:function(){return this.ow}},{key:"jl",get:function(){return this.ew.kind}},{key:"Ql",get:function(){return this.uw},set:function(t){t!==this.uw&&(this.uw=t,this.Lo(new I_(this)))}},{key:"Yl",get:function(){return this.ew.language}},{key:"r_",get:function(){return this.ql?"enabled":"disabled"}},{key:"vw",get:function(){return this.ew}},{key:"Zl",get:function(){return this.nw}},{key:"Jl",get:function(){},set:function(t){}}]),n}(bs),U_=0;var F_,H_,V_,X_=function(t){function n(n){var i;return(i=t.call(this)||this).so=E_.Cv,i.ew=void 0,i.sw=void 0,i.ow=void 0,i.hw=!1,i.nw=void 0,i.uw=void 0,i.nl=void 0,i.ew=n,i.ow=D_(),i.sw=U_+++"",i.nw=new R_,i.uw=n.label,i.aw(),i}F(n,t);var i=n.prototype;return i.aw=function(){this.ql=this.fw},i.cw=function(t){this.ql=t},M(n,[{key:"Wl",get:function(){}},{key:"ql",get:function(){return this.hw},set:function(t){this.hw!==t&&(this.hw=t,this.fw=t,this.Lo(new Dd(this)))}},{key:"fw",get:function(){return!!this.ew.selected},set:function(t){this.ew.selected=t}},{key:"il",get:function(){return this.nl||(this.nl=Yd(this)),this.nl}},{key:"zl",get:function(){return this.sw}},{key:"Gl",get:function(){return this.ow}},{key:"jl",get:function(){return"main"}},{key:"Ql",get:function(){return this.uw},set:function(t){t!==this.uw&&(this.uw=t,this.Lo(new I_(this)))}},{key:"Yl",get:function(){return this.ew.language}},{key:"r_",get:function(){return this.ql?"enabled":"disabled"}},{key:"vw",get:function(){return this.ew}},{key:"Zl",get:function(){return this.nw}},{key:"Jl",get:function(){},set:function(t){}}]),n}(bs),W_=function(t){function n(n){var i;return(i=t.call(this,Qo.Ga)||this).qg=n,i}return F(n,t),n}(Es);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(F_||(F_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(H_||(H_={})),function(t){t.dw="cue",t.lw="region",t._w="stylesheet"}(V_||(V_={}));var q_,z_,G_={"line-left":"start",center:"middle","line-right":"end"},j_={start:"line-left",middle:"center",end:"line-right"};function Q_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Y_(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:w(i),y(e)?r:e;var i,r,e}!function(t){t.gw="ww",t.yw="mw",t.bl="Uh"}(q_||(q_={})),function(t){t.gw="enter",t.yw="exit",t.bl="update"}(z_||(z_={}));var Z_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).kw=i,r}return F(n,t),n}(Td),J_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return F(n,t),n}(Ed);function $_(t){var n,i=[q_.gw,q_.yw,q_.bl],r={get track(){return t.ul.il},get id(){return t.zl},get uid(){return t.Gl},get startTime(){return t.pw},get endTime(){return t.Aw},get content(){return t.bw},addEventListener:function(t,i){var r=zd(t,qd);n.Mo(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Vo(r,i)}};return n=new Ts(r),t.Mo(i,function(t){return n.Lo(t.il)}),r}function K_(){}function tg(t){return Ld($_(t),{get align(){return t.Tw},get line(){return t.Ew},get lineAlign(){return t.Sw},get position(){return t.Rw},get positionAlign(){return t.Iw},get region(){return t.Nw?t.Nw.il:null},get size(){return t.ah},get snapToLines(){return t.Cw},get text(){return t.bw},get vertical(){return t.Dw}})}var ng=.02;function ig(t,n){return Gt(t.pw,n.pw,ng)&&Gt(t.Aw,n.Aw,ng)&&t.zl===n.zl}var rg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).ow=void 0,u.sw=void 0,u.Ow=void 0,u.xw=void 0,u.nl=void 0,u.Pw=void 0,u.Bw=!1,u.Lw=void 0,u.Mw=void 0,u.Uw="",u.Fw=-1,u.ow=B_(),u.Ow=n,u.xw=i,u.Lw=r,u.Mw=Boolean(e),u.sw=null!=s?s:"",u}F(n,t);var i=n.prototype;return i.sl=function(){return $_(this)},i.Hw=function(t){return this===t||Fd(this,t)&&ig(this,t)},i.Fv=function(){this.Ho()},M(n,[{key:"pw",get:function(){return this.Ow},set:function(t){this.Ow=t}},{key:"Aw",get:function(){return this.xw},set:function(t){this.xw=t}},{key:"zl",get:function(){return this.sw}},{key:"Gl",get:function(){return this.ow}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"Vw",get:function(){return this.Bw},set:function(t){this.Bw=t}},{key:"ul",get:function(){return this.Pw},set:function(t){this.Pw=t}},{key:"bw",get:function(){return this.Lw},set:function(t){this.Lw=t}},{key:"Xw",get:function(){return this.Uw},set:function(t){this.Uw=t}},{key:"Ww",get:function(){return this.Mw},set:function(t){this.Mw=t}}]),n}(bs);function eg(t,n){return t.bw===n.bw&&t.Ew===n.Ew&&t.Sw===n.Sw&&t.Rw===n.Rw&&t.Iw===n.Iw&&t.Nw===n.Nw&&t.Cw===n.Cw&&t.ah===n.ah&&t.Tw===n.Tw&&t.Dw===n.Dw}var sg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).Ew="auto",u.Sw="start",u.Rw="auto",u.Iw="auto",u.Nw=void 0,u.Cw=!0,u.ah=100,u.Tw="center",u.Dw="",u}return F(n,t),n.prototype.Hw=function(n){return this===n||Fd(this,n)&&t.prototype.Hw.call(this,n)&&eg(this,n)},M(n,[{key:"il",get:function(){return this.nl||(this.nl=tg(this)),this.nl}},{key:"so",get:function(){return V_.dw}}]),n}(rg);function ug(t){var n="number"==typeof t.Ew?t.Ew:w(t.Ew);return y(n)||t.Cw||!(n<0||n>100)?y(n)?t.Cw?-1:100:n:100}function og(t){return Y_(t.Rw,t.Tw)}function hg(t){return Q_(t.Iw,t.Tw)}function ag(t){var n=100,i=hg(t),r=og(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.ah<n?t.ah:n}function cg(t){return{get id(){return t.zl},get identifier(){return t.zl},get lines(){return t.qw},get regionAnchorX(){return t.zw},get regionAnchorY(){return t.Gw},get scrollValue(){return t.jw},get viewportAnchorX(){return t.Qw},get viewportAnchorY(){return t.Yw},get width(){return t.du}}}var fg,vg=function(){function t(t,n,i,r,e,s,u,o){this.nl=void 0,this.zl=t,this.du=n,this.qw=i,this.zw=r,this.Gw=e,this.Qw=s,this.Yw=u,this.jw=o}return M(t,[{key:"il",get:function(){return this.nl||(this.nl=cg(this)),this.nl}},{key:"so",get:function(){return V_.lw}}]),t}();!function(t){t[t.Zw=0]="Zw",t[t.Jw=1]="Jw",t[t.$w=-1]="$w"}(fg||(fg={}));var dg=function(t,n){return(0|t)-(0|n)},lg=function(t,n){return t===n?fg.Zw:t<n?fg.$w:t>n?fg.Jw:y(t)?y(n)?fg.Zw:fg.Jw:fg.$w};function _g(t,n,i){return Gt(t,n,i)?fg.Zw:lg(t,n)}var gg=function(t,n){return jt(t,n)?fg.Zw:lg(t,n)};var wg=function(){function t(){}var n=t.prototype;return n.Kw=function(t){return this.ty()*t},n.ny=function(t){return this.iy(t)>0},n.ey=function(t){return this.iy(t)>=0},n.sy=function(t,n){return this.oy(t).uy(n)},n.Hw=function(t){return 0===this.iy(t)},n.hy=function(t){return this.iy(t)<0},n.uy=function(t){return this.iy(t)<=0},n.ay=function(){return this.vy()?this.ly():this},n._y=function(t){return this.iw(t.ly())},n.oy=function(t){return this._y(t).ay()},t}();function yg(t,n){return t.gy()?n.gy()?fg.Zw:fg.Jw:n.gy()?fg.$w:t.wy()?n.wy()&&t.vy()===n.vy()?fg.Zw:t.vy()?fg.$w:fg.Jw:n.vy()?fg.Jw:fg.$w}var mg=function(){function t(t,n){this.yy=void 0,this.my=void 0,this.yy=t,this.my=n}t.ky=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.py=function(n){return n.unsigned?new t(n,Wt.UZERO):new t(n,n.isNegative()?Wt.NEG_ONE:Wt.ZERO)},t.Ay=function(n,i){if(y(n))return i?t.by:t.Ty;if(i){if(n<0)return t.by;if(n>=3.402823669209385e38)return t.Ey}else{if(n<=-1.7014118346046923e38)return t.Sy;if(n+1>=1.7014118346046923e38)return t.Ry}return n<0?t.Ay(-n,i).ly():t.ky(Wt.fromNumber(n%0x10000000000000000),Wt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Iy=function(){return this.my.unsigned},n.Ny=function(){return this.yy.isZero()&&this.my.isZero()},n.vy=function(){return this.my.isNegative()},n.Cy=function(){return this.Iy()?t.ky(this.yy,this.my,!1):this},n.Dy=function(){return this.Iy()?this:t.ky(this.yy,this.my,!0)},n.Oy=function(){return this.yy},n.ty=function(){return this.vy()?-this.ly().ty():0x10000000000000000*this.my.toNumber()+this.yy.toUnsigned().toNumber()},n.xy=function(){return this.yy.toInt()},n.Hw=function(t){return(this.Iy()===t.Iy()||this.my.getHighBits()>>>31!=1||t.my.getHighBits()>>>31!=1)&&(this.my.toUnsigned().eq(t.my.toUnsigned())&&this.yy.toUnsigned().eq(t.yy.toUnsigned()))},n.iy=function(t){if(this.Hw(t))return fg.Zw;var n=this.vy(),i=t.vy();if(n&&!i)return fg.$w;if(!n&&i)return fg.Jw;if(!this.Iy())return this._y(t).vy()?fg.$w:fg.Jw;var r=this.Dy(),e=t.Dy(),s=e.my.comp(r.my);return s>0||0===s&&e.yy.gt(r.yy)?fg.$w:fg.Jw},n.hy=function(t){return this.iy(t)<0},n.uy=function(t){return this.iy(t)<=0},n.Py=function(t){return this.iy(t)>0},n.By=function(t){return this.iy(t)>=0},n.Ly=function(){return new t(this.yy.not(),this.my.not())},n.My=function(n){return new t(this.yy.and(n.yy),this.my.and(n.my))},n.Uy=function(n){return new t(this.yy.or(n.yy),this.my.or(n.my))},n.Fy=function(n){var i=127&n;return 0===i?this:i<64?t.ky(this.yy.shl(i),this.my.shl(i).or(this.yy.shru(64-i)),this.Iy()):t.ky(Wt.ZERO,this.yy.shl(i-64),this.Iy())},n.Hy=function(n){var i=127&n;return 0===i?this:i<64?t.ky(this.yy.shru(i).or(this.my.shl(64-i)),this.my.shr(i),this.Iy()):t.ky(this.my.shr(i-64),this.my.isNegative()?Wt.NEG_ONE:Wt.ZERO,this.Iy())},n.Vy=function(n){var i=127&n;return 0===i?this:i<64?t.ky(this.yy.shru(i).or(this.my.shl(64-i)),this.my.shru(i),this.Iy()):64===i?t.ky(this.my,Wt.ZERO,this.Iy()):t.ky(this.my.shru(i-64),Wt.ZERO,this.Iy())},n.iw=function(n){var i=this.my.high>>>16,r=65535&this.my.high,e=this.my.low>>>16,s=65535&this.my.low,u=this.yy.high>>>16,o=65535&this.yy.high,h=this.yy.low>>>16,a=65535&this.yy.low,c=n.my.high>>>16,f=65535&n.my.high,v=n.my.low>>>16,d=65535&n.my.low,l=n.yy.high>>>16,_=65535&n.yy.high,g=n.yy.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.yy.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.Iy(),S=Wt.fromBits(m<<16|k,w<<16|y,E),R=Wt.fromBits(b<<16|T,p<<16|A,E);return t.ky(R,S,E)},n._y=function(t){return this.iw(t.ly())},n.ly=function(){return this.Ly().iw(t.Xy)},n.Wy=function(n){if(this.Ny()||n.Ny())return this.Iy()?t.by:t.Ty;if(this.vy())return n.vy()?this.ly().Wy(n.ly()):this.ly().Wy(n).ly();if(n.vy())return this.Wy(n.ly()).ly();if(this.my.isZero()&&0===this.yy.high&&n.my.isZero()&&0===n.yy.high)return t.py(this.yy.multiply(n.yy));var i=Wt.fromBits(4294967295,0,!0),r=this.yy.and(i),e=this.yy.shru(32),s=this.my.and(i),u=this.my.shru(32),o=n.yy.and(i),h=n.yy.shru(32),a=n.my.and(i),c=n.my.shru(32),f=Wt.UZERO,v=Wt.UZERO,d=Wt.UZERO,l=Wt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=Wt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Wt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.ky(_,g,this.Iy())},n.qy=function(n){var i,r,e=n;if(e.Ny())throw new RangeError("division by zero");if(this.Ny())return this.Iy()?[t.by,t.by]:[t.Ty,t.Ty];if(this.Iy()){if(e.Iy()||(e=e.Dy()),e.Py(this))return[t.by,this];if(e.Py(this.Vy(1)))return[r=t.zy,i=this._y(e)];r=t.by}else{if(this.Hw(t.Sy)){if(e.Hw(t.Xy)||e.Hw(t.Gy))return[t.Sy,t.Ty];if(e.Hw(t.Sy))return[t.Xy,t.Ty];var s=this.Hy(1).jy(e).Fy(1);return s.Hw(t.Ty)?r=e.vy()?t.Xy:t.Gy:(i=this._y(e.Wy(s)),r=s.iw(i.jy(e))),[r,i=this._y(e.Wy(r))]}if(e.Hw(t.Sy))return this.Iy()?[t.by,this]:[t.Ty,this];if(this.vy()){if(e.vy())return this.ly().qy(e.ly());var u=this.ly().qy(e);return r=u[0],i=u[1],[r.ly(),i.ly()]}if(e.vy()){var o=this.qy(e.ly());return r=o[0],i=o[1],[r.ly(),i.ly()]}r=t.Ty}for(i=this;i.By(e);){for(var h=_.max(1,_.floor(i.ty()/e.ty())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Ay(h),v=f.Wy(e);v.vy()||v.Py(i);)h-=c,v=(f=t.Ay(h,this.Iy())).Wy(e);f.Ny()&&(f=t.Xy),r=r.iw(f),i=i._y(v)}return[r,i]},n.jy=function(t){return this.qy(t)[0]},n.Qy=function(t){return this.qy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Ny())return"0";if(this.vy()){if(this.Hw(t.Sy)){var r=t.Ay(i),e=this.jy(r),s=e.Wy(r)._y(this);return e.toString(i)+s.xy().toString(i)}return"-"+this.ly().toString(i)}for(var u=t.Ay(_.pow(i,6),this.Iy()),o=this,h="";;){var a=o.jy(u),c=(o._y(a.Wy(u)).xy()>>>0).toString(i);if((o=a).Ny())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();mg.Ty=mg.py(Wt.ZERO),mg.by=mg.py(Wt.UZERO),mg.Xy=mg.py(Wt.ONE),mg.zy=mg.py(Wt.UONE),mg.Gy=mg.py(Wt.NEG_ONE),mg.Ry=mg.ky(Wt.NEG_ONE,Wt.MAX_VALUE,!1),mg.Ey=mg.ky(Wt.MAX_UNSIGNED_VALUE,Wt.MAX_UNSIGNED_VALUE,!0),mg.Sy=mg.ky(Wt.ZERO,Wt.MIN_VALUE,!1);var kg=function(){function t(t,n){void 0===n&&(n=1),this.Yy=void 0,this.Zy=void 0,this.Yy=t,this.Zy=n}t.Jy=function(n){return new t(_.ceil(n.Yy),n.Zy)},t.$y=function(n){return new t(_.floor(n.Yy),n.Zy)},t.Ky=function(t,n){return t.ey(n)?t:n},t.tm=function(t,n){return t.uy(n)?t:n};var n=t.prototype;return n.iw=function(n){return this.Zy>=n.Zy?new t(this.Yy+n.nm(this.Zy).Yy,this.Zy):new t(this.nm(n.Zy).Yy+n.Yy,n.Zy)},n.ny=function(t){return t.hy(this)},n.ey=function(t){return t.uy(this)},n.oy=function(n){return this.Zy>=n.Zy?new t(_.abs(this.Yy-n.nm(this.Zy).Yy),this.Zy):n.oy(this)},n.sy=function(t,n){return this.oy(t).uy(n)},n.iy=function(t){return i=t,(n=this).Zy>=i.Zy?gg(n.Yy,i.nm(n.Zy).Yy):gg(n.nm(i.Zy).Yy,i.Yy);var n,i},n.Hw=function(t){return 0===this.iy(t)},n.hy=function(t){return this.iy(t)<0},n.uy=function(t){return this.iy(t)<=0},n.nm=function(n){return new t(this.Yy*(n/this.Zy),n)},n._y=function(n){return this.Zy>=n.Zy?new t(this.Yy-n.nm(this.Zy).Yy,this.Zy):new t(this.nm(n.Zy).Yy-n.Yy,n.Zy)},n.im=function(n){return new t(this.Yy*n,this.Zy)},M(t,[{key:"wy",get:function(){return!isFinite(this.Yy)}},{key:"rm",get:function(){return this.Yy/this.Zy}}]),t}();kg.sm=new kg(1/6,1),kg.Ty=new kg(0),kg.um=new kg(1/0),kg.om=1e6;var pg=function(t){function n(n,i){var r;return(r=t.call(this)||this).vs=void 0,r.Zy=void 0,r.vs=n.toSigned(),r.Zy=i>>>0,r}F(n,t),n.hm=function(t,i){return void 0===i&&(i=1e6),n.Ay(t*i,i)},n.Ay=function(t,i){return y(t)?n.am:t===1/0?n.cm:t===-1/0?n.fm:new n(Wt.fromNumber(t),i)},n.py=function(t,i){return new n(t,i)},n.vm=function(t){return n.hm(t.rm,1e6)},n.dm=function(t){return new n(Wt.fromNumber(t.getTime()),1e3)},n.Ky=function(t,n){return t.ey(n)?t:n},n.tm=function(t,n){return t.uy(n)?t:n},n.lm=function(t,i,r){return n.Ky(i,n.tm(r,t))};var i=n.prototype;return i.vy=function(){return this.vs.isNegative()},i.Ny=function(){return 0!==this.Zy&&this.vs.isZero()},i.wy=function(){return 0===this.Zy&&!this.vs.isZero()},i.gy=function(){return 0===this.Zy&&this.vs.isZero()},i.ty=function(){if(0===this.Zy)return this.vs.isZero()?NaN:this.vs.isNegative()?-1/0:1/0;var t=this.vs.divide(this.Zy),n=this.vs.subtract(t.multiply(this.Zy));return t.toNumber()+n.toNumber()/this.Zy},i.Oy=function(){if(0===this.Zy)throw new v("Failed to convert timestamp");return this.vs},i._m=function(){return new Date(0===this.Zy?NaN:this.nm(1e3).vs.toNumber())},i.gm=function(){return new kg(0===this.Zy?this.ty():this.vs.toNumber(),this.Zy)},i.nm=function(t,i){void 0===i&&(i=Tg.wm);var r=this.Zy;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t.qy(n),e=r[0],s=r[1];if(s.Ny())return e;if(i===Tg.wm)return s.vy()?e._y(mg.Xy):e;if(i===Tg.ym)return s.vy()?e:e.iw(mg.Xy);var u=s.Wy(mg.Ay(2));return u.vy()?u.ly().hy(n)?e:e._y(mg.Xy):u.hy(n)?e:e.iw(mg.Xy)}(mg.py(this.vs).Wy(mg.Ay(t/e)),mg.Ay(r/e),i).Oy(),t)},i.iy=function(t){if(this===t)return fg.Zw;if(0===this.Zy||0===t.Zy)return yg(this,t);if(this.Ny())return t.Ny()?fg.Zw:t.vy()?fg.Jw:fg.$w;if(t.Ny())return this.vy()?fg.$w:fg.Jw;var n=_.min(this.Zy,t.Zy),i=this.nm(n,Tg.mm).vs,r=t.nm(n,Tg.mm).vs;return i.compare(r)},i.ly=function(){return 0===this.Zy?Ag(this):new n(this.vs.negate(),this.Zy)},i.iw=function(t){if(0===this.Zy||0===t.Zy)return bg(this,t);if(this.Ny())return t;if(t.Ny())return this;var i=_.max(this.Zy,t.Zy),r=this.nm(i,Tg.mm),e=t.nm(i,Tg.mm);return new n(r.vs.add(e.vs),i)},i.Wy=function(t){if(this.gy()||y(t))return n.am;if(this.wy()||!isFinite(t)){if(this.Ny()||0===t)return n.am;var i=this.vy()?n.fm:n.cm;return t<0?i.ly():i}return this.Ny()?this:new n(0===t?Wt.ZERO:this.vs.multiply(t),this.Zy)},i.jy=function(t){if(this.gy()||y(t))return n.am;if(this.wy())return isFinite(t)?0===t?1/t<0?this.ly():this:t<0?this.ly():this:n.am;if(!isFinite(t))return new n(Wt.ZERO,this.Zy);if(this.Ny())return 0===t?n.am:new n(Wt.ZERO,this.Zy);if(0===t){var i=this.vy()?n.fm:n.cm;return 1/t<0?i.ly():i}return new n(this.vs.divide(t),this.Zy)},i.km=function(){return[this.vs.low,this.vs.high,this.Zy]},n}(wg);function Ag(t){return t.gy()?t:t.vy()?pg.cm:pg.fm}function bg(t,n){return t.gy()||n.gy()?pg.am:t.wy()&&n.wy()?t.vy()===n.vy()?t:pg.am:t.wy()?t:n}pg.Ty=new pg(Wt.ZERO,1e6),pg.am=new pg(Wt.ZERO,0),pg.cm=new pg(Wt.ONE,0),pg.fm=new pg(Wt.NEG_ONE,0);var Tg,Eg=function(t){function n(n,i){var r;return(r=t.call(this)||this).vs=void 0,r.Zy=void 0,r.vs=BigInt.asIntN(64,n),r.Zy=i>>>0,r}F(n,t),n.hm=function(t,i){return void 0===i&&(i=1e6),n.Ay(t*i,i)},n.Ay=function(t,i){return y(t)?n.am:t===1/0?n.cm:t===-1/0?n.fm:new n(BigInt(_.floor(t)),i)},n.py=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.vm=function(t){return n.hm(t.rm,1e6)},n.dm=function(t){return n.Ay(t.getTime(),1e3)},n.Ky=function(t,n){return t.ey(n)?t:n},n.tm=function(t,n){return t.uy(n)?t:n},n.lm=function(t,i,r){return n.Ky(i,n.tm(r,t))};var i=n.prototype;return i.vy=function(){return this.vs<BigInt(0)},i.Ny=function(){return 0!==this.Zy&&this.vs===BigInt(0)},i.wy=function(){return 0===this.Zy&&this.vs!==BigInt(0)},i.gy=function(){return 0===this.Zy&&this.vs===BigInt(0)},i.ty=function(){if(0===this.Zy)return this.vs===BigInt(0)?NaN:this.vs<BigInt(0)?-1/0:1/0;var t=this.vs/BigInt(this.Zy),n=this.vs-t*BigInt(this.Zy);return Number(t)+Number(n)/this.Zy},i.Oy=function(){if(0===this.Zy)throw new v("Failed to convert timestamp");return this.pm()},i.pm=function(){var t=this.vs&BigInt(4294967295),n=this.vs>>BigInt(32)&BigInt(4294967295);return Wt.fromBits(Number(t),Number(n))},i._m=function(){return new Date(0===this.Zy?NaN:Number(this.nm(1e3).vs))},i.gm=function(){return new kg(0===this.Zy?this.ty():Number(this.vs),this.Zy)},i.nm=function(t,i){void 0===i&&(i=Tg.wm);var r=this.Zy;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Tg.wm)return e<BigInt(0)?r-BigInt(1):r;if(i===Tg.ym)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.vs*BigInt(t/e),BigInt(r/e),i),t)},i.iy=function(t){if(this===t)return fg.Zw;if(0===this.Zy||0===t.Zy)return yg(this,t);if(this.Ny())return t.Ny()?fg.Zw:t.vy()?fg.Jw:fg.$w;if(t.Ny())return this.vy()?fg.$w:fg.Jw;var n=_.min(this.Zy,t.Zy),i=this.nm(n,Tg.mm).vs,r=t.nm(n,Tg.mm).vs;return i>r?fg.Jw:i<r?fg.$w:fg.Zw},i.ly=function(){return 0===this.Zy?Sg(this):new n(-this.vs,this.Zy)},i.iw=function(t){if(0===this.Zy||0===t.Zy)return Rg(this,t);if(this.Ny())return t;if(t.Ny())return this;var i=_.max(this.Zy,t.Zy),r=this.nm(i,Tg.mm),e=t.nm(i,Tg.mm);return new n(r.vs+e.vs,i)},i.Wy=function(t){if(this.gy()||y(t))return n.am;if(this.wy()||!isFinite(t)){if(this.Ny()||0===t)return n.am;var i=this.vy()?n.fm:n.cm;return t<0?i.ly():i}return this.Ny()?this:new n(0===t?BigInt(0):this.vs*BigInt(t),this.Zy)},i.jy=function(t){if(this.gy()||y(t))return n.am;if(this.wy())return isFinite(t)?0===t?1/t<0?this.ly():this:t<0?this.ly():this:n.am;if(!isFinite(t))return new n(BigInt(0),this.Zy);if(this.Ny())return 0===t?n.am:new n(BigInt(0),this.Zy);if(0===t){var i=this.vy()?n.fm:n.cm;return 1/t<0?i.ly():i}return new n(this.vs/BigInt(t),this.Zy)},i.km=function(){var t=this.pm();return[t.low,t.high,this.Zy]},M(n,null,[{key:"Ty",get:function(){return n.Am||(n.Am=new n(BigInt(0),1e6)),n.Am}},{key:"am",get:function(){return n.bm||(n.bm=new n(BigInt(0),0)),n.bm}},{key:"cm",get:function(){return n.Tm||(n.Tm=new n(BigInt(1),0)),n.Tm}},{key:"fm",get:function(){return n.Em||(n.Em=new n(BigInt(-1),0)),n.Em}}]),n}(wg);function Sg(t){return t.gy()?t:t.vy()?Eg.cm:Eg.fm}function Rg(t,n){return t.gy()||n.gy()?Eg.am:t.wy()&&n.wy()?t.vy()===n.vy()?t:Eg.am:t.wy()?t:n}Eg.Am=void 0,Eg.bm=void 0,Eg.Tm=void 0,Eg.Em=void 0,function(t){t[t.wm=0]="wm",t[t.ym=1]="ym",t[t.mm=2]="mm"}(Tg||(Tg={}));var Ig=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Eg:pg;function Ng(t,n){return t.iy(n)}function Cg(t){return Ig.py(Wt.fromBits(t[0],t[1],!1),t[2])}var Dg=9e4,Og=_.pow(2,33),xg=Ig.Ay(Og,Dg),Pg=xg.jy(2);function Bg(t){return null!=t&&!t.gy()}function Lg(t,n){return t.wy()||n.wy()?Ig.Ky(t,n):Fg(t,n).ny(Ig.Ty)?t:n}function Mg(t,n){var i=t._y(n);return i.hy(Ig.Ty)&&(i=i.iw(xg)),i}function Ug(t,n){var i=t.iw(n);return i.ey(xg)&&(i=i._y(xg)),i}function Fg(t,n){var i=t._y(n);return t.wy()||n.wy()?i:(i.ey(Pg)?i=i._y(xg):i.hy(Pg.ly())&&(i=i.iw(xg)),i)}function Hg(t,n){if(t||n)return t?n?Ig.tm(t,n):t:n}function Vg(t,n){if(t||n)return t?n?Ig.Ky(t,n):t:n}var Xg,Wg,qg,zg,Gg={Sm:0,Rm:1/0,Im:0},jg=6,Qg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Yg=[" ","\t","\n","\f","\r"],Zg=/^\d*$/,Jg=/.*[0-9]+.*/,$g=/^[\d.-]+$/,Kg=/(^\.|\.$)/,tw=/(\D\.|\.\D)/;function nw(t,n){void 0===n&&(n=Gg);var i={s_:[],Nm:[],Cm:[]},r=iw(t),e=new zu;if(vw(r),rw(r,function(t){return"\n"!==t},e),e._h>=r.length)return i;(e.vh(1),"\n"!==r.charAt(e._h))?ow(ew(r,e,!1,!0,i,n),i):e.vh(1);for(rw(r,function(t){return"\n"===t},e);e._h<r.length;){ow(ew(r,e,!1,!1,i,n),i),rw(r,function(t){return"\n"===t},e)}return i}function iw(t){var n=Re(t,"\0"," "),i=Re(n,"\r\n","\n");return Re(i,"\r","\n")}function rw(t,n,i){for(var r=i._h;i._h<t.length&&n(t.charAt(i._h));)i.vh(1);return t.substring(r,i._h)}function ew(t,n,i,r,e,s){for(var u,o=0,h=n._h,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=rw(t,function(t){return"\n"!==t},n),o++,n._h>=t.length?c=!0:n.vh(1),Ie(u,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.dh(h);break}f=!0,h=n._h,v=new sg(0,0,"",!1,a);try{hw(u,e.Nm,v,s),a=""}catch(t){T.pu(t),v=null}}else{if(""===u)break;r&&Ne(u,"X-TIMESTAMP-MAP")&&(e.Dm=sw(u)),r||2!==o||i||(De("STYLE",a.replace(/ /g,""))?(d={so:V_._w},a=""):De("REGION",a.replace(/ /g,""))&&(l=new vg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n._h}if(v)return v.bw=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&Ie(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var s=e.indexOf(":"),u=e.substring(0,s),o=e.substring(s+1,e.length);switch(u.toUpperCase()){case"ID":bw(o,n);break;case"WIDTH":Sw(o,n);break;case"LINES":Ew(o,n);break;case"REGIONANCHOR":var h=Aw(o);h&&(n.zw=h[0],n.Gw=h[1]);break;case"VIEWPORTANCHOR":var a=Aw(o);a&&(n.Qw=a[0],n.Yw=a[1]);break;case"SCROLL":Tw(o,n)}}}}(a,l),l;return null}function sw(t){var n,i,r=t.split("=")[1].trim().split(","),e=uw(r[0].trim(),"MPEGTS")?r[0]:r[1],s=uw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Om:(i=Number(e.split(/:(.*)/)[1].trim())||0,Ig.Ay(i,Dg)),xm:Ig.hm(null!=(n=fw(s.split(/:(.*)/)[1].trim(),new zu))?n:0)}}function uw(t,n){return Ne(t,n)}function ow(t,n){t&&function(t){return t.so===V_.dw}(t)?n.s_.push(t):t&&function(t){return t.so===V_.lw}(t)?n.Nm.push(t):t&&function(t){return t.so===V_._w}(t)&&n.Cm.push(t)}function hw(t,n,i,r){var e=new zu;if(dw(t,e),i.pw=aw(fw(t,e),r),dw(t,e),"--\x3e"!==t.substring(e._h,e._h+3))throw v("Something went wrong with parsing a WebVTT Cue");e.vh(3),dw(t,e),i.Aw=aw(fw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var s=r[e];if(0!==s.length&&Ie(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":yw(h,n,i);break;case"VERTICAL":kw(h,n);break;case"D":pw(h,n);break;case"LINE":case"L":gw(h,n);break;case"POSITION":case"T":ww(h,n);break;case"SIZE":case"S":mw(h,n);break;case"ALIGN":case"A":_w(h,n)}}}}(t.substring(e._h,t.length),i,n)}function aw(t,n){return t+n.Sm}function cw(t){return/^[0-9]$/.test(t)}function fw(t,n){var i,r,e,s=Re(t,",","."),u=!1;if(n._h>=s.length||!cw(s.charAt(n._h)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=rw(s,cw,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n._h>=s.length||":"!==s.charAt(n._h))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.vh(1);var a=rw(s,cw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n._h<s.length&&":"===s.charAt(n._h)){if(n._h>=s.length||":"!==s.charAt(n._h))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.vh(1);var f=rw(s,cw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=g(f,10)}else i=0,r=h,e=c;if(n._h>=s.length||"."!==s.charAt(n._h))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.vh(1);var d=rw(s,cw,n),l=g(d,10);if(c>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function vw(t){if(t.length<jg)return!1;for(var n=0;n<Qg.length;n++){if(Ne(t,Qg[n]))return!0}return!1}function dw(t,n){for(;n._h<t.length&&(i=t.charAt(n._h),Ze(Yg,i));)n.vh(1);var i}function lw(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function _w(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Tw=i;break;case"middle":n.Tw="center"}}function gw(t,n){var i=t,r="";if(Ie(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Jg.test(i)){var e;if(Ce(i,"%")){var s=lw(i);if(null===s)return;e=s}else{if(!$g.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!tw.test(t)||Kg.test(t))return;if(e=w(t),y(e))return}switch(n.Ew=e,n.Cw=Ce(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Sw=r;break;case"middle":n.Sw="center"}}}function ww(t,n){var i=t,r="";Ie(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=lw(i);if(null!==e)switch(n.Rw=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Iw=r;break;case"start":n.Iw="line-left";break;case"middle":n.Iw="center";break;case"end":n.Iw="line-right"}}function yw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].zl===t)return void(n.Nw=i[r])}function mw(t,n){var i=lw(t);null!==i&&(n.ah=i)}function kw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Dw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Dw="lr";break;default:n.Dw=""}}function pw(t,n){"VERTICAL"===t.toUpperCase()?n.Dw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Dw="lr")}function Aw(t){if(t.indexOf(",")>=0){var n=lw(t.substring(0,t.indexOf(","))),i=lw(t.substring(t.indexOf(",")+1,t.length));return[zt(n||0,0,100),zt(i||100,0,100)]}return null}function bw(t,n){n.zl=t}function Tw(t,n){"up"===t.toLowerCase()&&(n.jw="up")}function Ew(t,n){Zg.test(t)&&(n.qw=g(t))}function Sw(t,n){var i=lw(t);null!==i&&(n.du=i)}!function(t){t.Pm="moov",t.Bm="mvhd",t.Lm="trak",t.Mm="tkhd",t.Um="mdia",t.Fm="mdhd",t.Hm="hdlr",t.Vm="minf",t.Xm="stbl",t.Wm="stsd",t.qm="stsc",t.zm="mvex",t.Gm="trex",t.jm="avc1",t.Qm="avcC",t.Ym="hev1",t.Zm="hvc1",t.Jm="hvcC",t.$m="pasp",t.Km="mp4a",t.tk="esds",t.nk="wvtt",t.ik="vttC",t.rk="vlab",t.ek="enca",t.sk="encv",t.uk="moof",t.hk="mfhd",t.ak="traf",t.ck="tfhd",t.fk="trun",t.vk="tfdt",t.dk="mdat",t.lk="pssh",t._k="emsg",t.gk="sidx",t.wk="styp",t.yk="ftyp",t.mk="sinf",t.kk="frma"}(Xg||(Xg={})),function(t){t.Cv="vide",t.Nv="soun",t.pk="subt",t.Ak="hint",t.bk="meta",t.Tk="auxv"}(Wg||(Wg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(qg||(qg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(zg||(zg={}));var Rw=function(){function t(t,n){this.Os=void 0,this.Ek=void 0,this.Os=t,this.Ek=n}var n=t.prototype;return n.Sk=function(){return hu(this.Os,this.Ek)},n.Rk=function(){return lu(this.Os,this.Ek)},n.Ik=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n._h,i);return n.vh(2),r}(this.Os,this.Ek)},n.Nk=function(){return gu(this.Os,this.Ek)},n.Ck=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n._h,i);return n.vh(4),r}(this.Os,this.Ek)},n.Dk=function(){return yu(this.Os,this.Ek)},n.Ok=function(t){return cu(this.Os,this.Ek,t)},n.xk=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(gu(t,n));return r}(this.Os,this.Ek,t)},n.Pk=function(t){return pu(this.Os,this.Ek,t)},n.Bk=function(){return Pu(this.Os,this.Ek)},n.Lk=function(t){this.Ek.vh(t)},n.lh=function(){return new t(this.Os,this.Ek.lh())},t}();function Iw(t,n){return t.so===n}function Nw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Iw(r,n))return r}}function Cw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Iw(e,n)&&i.push(e)}return i}var Dw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mk=n,r.Uk=i,r}return F(n,t),M(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Ow=function(){function t(){}return t.Fk=function(n){var i=n.Os,r=n.Ek,e=t.Hk(i,r,!1);if(!e.Vk)throw new Dw(r._h,e.bs);return e.bs},t.Hk=function(n,i,r){for(var e=[];i._h<n.byteLength;){var s=t.Xk(n,i,r);if(!s.Vk)return{Vk:!1,bs:e};e.push(s.Wk)}return{Vk:!0,bs:e}},t.qk=function(n,i){var r=t.Xk(n,i,!1);if(!r.Vk)throw new Dw(i._h);return r.Wk},t.zk=function(n,i){for(var r=n.Os,e=n.Ek;e._h<r.byteLength;){var s=t.Xk(r,e,!1);if(!s.Vk)return;if(s.Wk.so===i)return s.Wk}},t.Xk=function(n,i,r){var e=i._h,s=t.Gk(n,i);if(!s.Vk)return s;var u=s.jk,o=u.ah;if(0===o){if(r)return i.dh(e),{Vk:!1,Qk:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.dh(e),{Vk:!1,Qk:a}}var c={so:u.so,_h:e,Os:new Rw(Uu(n,e,h),new zu(u.Yk))};return i.dh(h),{Vk:!0,Wk:c}},t.Gk=function(t,n){var i=n._h;if(!vu(t,n,8))return{Vk:!1,Qk:n._h+8};var r=gu(t,n),e=pu(t,n,4);if(1===r){if(!vu(t,n,8)){var s=n._h+8;return n.dh(i),{Vk:!1,Qk:s}}r=yu(t,n).toNumber()}if("uuid"===e){if(!vu(t,n,16)){var u=n._h+16;return n.dh(i),{Vk:!1,Qk:u}}e=pu(t,n,16)}return{Vk:!0,jk:{so:e,ah:r,Yk:n._h-i}}},t.Zk=function(t,n,i){var r=t.Os,e=t.Ek,s=Mu(Hu(r),e._h,r.byteLength);return i&&(s=qu(s)),e.vh(s.byteLength),{so:n,Os:s}},t.Jk=function(n,i,r){var e=Lw(n.Nk());return{so:i,$k:e.version,Kk:e.flags,Os:t.Zk(n,i,r).Os}},t}();function xw(t,n){var i=Pw(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Pw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.so===n)return r.Os}}function Bw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.so===n&&i.push(e.Os)}return i}function Lw(t){return{version:t>>24,flags:new su(16777215&t)}}var Mw=function(){function t(){}return t.tp=function(n){for(var i=[],r=Ow.Fk(new Rw(n,new zu)),e=0;e<r.length;e++){var s=r[e],u=t.np(s);u&&i.push(u)}return i},t.ip=function(t){return Ow.Hk(t,new zu,!1).bs.some(function(t){return t.so===Xg.uk||t.so===Xg.wk})},t.rp=function(n){return Bw(Ow.Fk(new Rw(n,new zu)),Xg.lk).map(t.ep)},t.sp=function(n){return Bw(Ow.Fk(n.Os),Xg.lk).map(t.ep)},t.np=function(n){switch(n.so){case Xg.Pm:return t.op(n.Os);case Xg.uk:return t.hp(n.Os,n._h);case Xg.dk:return t.ap(n.Os);case Xg.gk:return t.cp(n.Os);case Xg._k:return t.fp(n.Os)}},t.op=function(n){var i=Ow.Fk(n),r=xw(i,Xg.Bm),e=Bw(i,Xg.Lm),s=Pw(i,Xg.zm),u=t.vp(r),o=e.map(t.dp),h=s?t.lp(s):void 0;return{so:Xg.Pm,jk:u,_p:o,gp:h}},t.vp=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags,e=1===i?t.Dk():t.Nk(),s=1===i?t.Dk():t.Nk(),u=t.Nk(),o=1===i?t.Dk():t.Nk(),h=t.Nk(),a=t.Rk()>>8;t.Lk(2),t.Lk(8);var c=t.xk(9);t.Lk(24);var f=t.Nk();return{so:Xg.Bm,$k:i,Kk:r,wp:e,yp:s,Zy:u,V_:o,mp:h,Z_:a,kp:c,pp:f}},t.dp=function(n){var i=Ow.Fk(n),r=xw(i,Xg.Mm),e=xw(i,Xg.Um),s=t.Ap(r),u=t.bp(e);return{so:Xg.Lm,jk:s,Tp:u}},t.Ap=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags,e=1===i?t.Dk():t.Nk(),s=1===i?t.Dk():t.Nk(),u=t.Nk();t.Lk(4);var o=1===i?t.Dk():t.Nk();t.Lk(8);var h=t.Ik(),a=t.Ik(),c=t.Ik()/_.pow(2,8);t.Lk(2);var f=t.xk(9),v=t.Nk()/_.pow(2,16),d=t.Nk()/_.pow(2,16);return{so:Xg.Mm,Ep:r.wh(1),Sp:r.wh(2),Rp:r.wh(4),wp:e,yp:s,Ip:u,V_:o,Np:h,Cp:a,Z_:c,kp:f,du:v,Dp:d}},t.bp=function(n){var i=Ow.Fk(n),r=xw(i,Xg.Fm),e=xw(i,Xg.Hm),s=xw(i,Xg.Vm),u=t.Op(r),o=t.xp(e),h=t.Pp(s);return{so:Xg.Um,jk:u,Bp:o,Lp:h}},t.Op=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags,e=1===i?t.Dk():t.Nk(),s=1===i?t.Dk():t.Nk(),u=t.Nk(),o=1===i?t.Dk():t.Nk();t.Rk();return t.Lk(2),{so:Xg.Fm,$k:i,Kk:r,wp:e,yp:s,Zy:u,V_:o}},t.xp=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags;t.Lk(4);var e=t.Pk(4);t.Lk(12);var s=t.Bk();return{so:Xg.Hm,$k:i,Kk:r,Mp:e,as:s}},t.Pp=function(n){var i=xw(Ow.Fk(n),Xg.Xm),r=t.Up(i);return{so:Xg.Vm,Fp:r}},t.Up=function(n){var i=xw(Ow.Fk(n),Xg.Wm),r=t.Hp(i);return{so:Xg.Xm,Vp:r}},t.Hp=function(n){for(var i=Lw(n.Nk()),r=i.version,e=i.flags,s=(n.Nk(),[]),u=Ow.Fk(n),o=0;o<u.length;o++){var h=u[o],a=t.Xp(h.Os,h.so);a&&s.push(a)}return{so:Xg.Wm,$k:r,Kk:e,Wp:s}},t.Xp=function(n,i){var r=t.qp(n,i);return r||((r=t.zp(n,i))||(i===Xg.nk?t.Gp(n):void 0))},t.qp=function(n,i){return i===Xg.Km?t.jp(n):i===Xg.ek?t.Qp(n):void 0},t.zp=function(n,i){return i===Xg.jm?t.Yp(n):i===Xg.Ym||i===Xg.Zm?t.Zp(n,i):i===Xg.sk?t.Jp(n):void 0},t.$p=function(t,n){return t.Lk(6),{so:n,Kp:t.Rk()}},t.tA=function(n,i){var r=t.$p(n,i);n.Lk(8);var e=n.Rk(),s=n.Rk();return n.Lk(2),n.Lk(2),te({},r,{nA:e,iA:s,rA:n.Nk()>>>16})},t.eA=function(n,i){var r=t.$p(n,i);n.Lk(2),n.Lk(2),n.Lk(12);var e=n.Rk(),s=n.Rk(),u=n.Nk(),o=n.Nk();n.Lk(4);var h=n.Rk();n.Lk(32);var a=n.Rk();return n.Lk(2),te({},r,{du:e,Dp:s,sA:u,uA:o,oA:h,hA:a})},t.jp=function(n){var i=t.tA(n,Xg.Km),r=xw(Ow.Fk(n),Xg.tk);return te({},i,{aA:t.cA(r)})},t.Gp=function(n){var i=t.$p(n,Xg.nk),r=Ow.Fk(n),e=xw(r,Xg.ik),s=t.fA(e),u=Pw(r,Xg.rk);return te({},i,{vA:s,dA:u?t.lA(u):u})},t.fA=function(t){return{so:Xg.ik,Gh:t.Bk()}},t.lA=function(t){return{so:Xg.rk,Ql:t.Bk()}},t.cA=function(t){return Ow.Jk(t,Xg.tk,!0)},t.Yp=function(n){var i=t.eA(n,Xg.jm),r=Ow.Fk(n),e=xw(r,Xg.Qm),s=Pw(r,Xg.$m);return te({},i,{_A:t.gA(e),wA:s?t.yA(s):void 0})},t.Zp=function(n,i){var r=t.eA(n,i),e=xw(Ow.Fk(n),Xg.Jm);return te({},r,{mA:t.kA(e)})},t.Jp=function(n){var i=n.lh(),r=t.eA(n,Xg.sk),e=xw(Ow.Fk(n),Xg.mk),s=t.pA(e);return te({},r,{AA:t.zp(i,s.TA.bA),EA:s})},t.Qp=function(n){var i=n.lh(),r=t.tA(n,Xg.ek),e=xw(Ow.Fk(n),Xg.mk),s=t.pA(e);return te({},r,{AA:t.qp(i,s.TA.bA),EA:s})},t.pA=function(n){var i=xw(Ow.Fk(n),Xg.kk),r=t.SA(i);return{so:Xg.mk,TA:r}},t.SA=function(t){var n=t.Pk(4);return{so:Xg.kk,bA:n}},t.gA=function(t){return Ow.Zk(t,Xg.Qm,!0)},t.kA=function(t){return Ow.Zk(t,Xg.Jm,!0)},t.yA=function(t){var n=t.Nk(),i=t.Nk();return{so:Xg.$m,RA:n,IA:i}},t.lp=function(n){var i=Bw(Ow.Fk(n),Xg.Gm).map(t.NA);return{so:Xg.zm,_p:i}},t.NA=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags,e=t.Nk(),s=t.Nk(),u=t.Nk(),o=t.Nk(),h=t.Nk();return{so:Xg.Gm,$k:i,Kk:r,Ip:e,CA:s,DA:u,OA:o,xA:h}},t.hp=function(n,i){var r=Ow.Fk(n),e=xw(r,Xg.hk),s=Bw(r,Xg.ak),u=t.PA(e),o=s.map(t.BA);return{so:Xg.uk,LA:i,jk:u,_p:o}},t.PA=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags,e=t.Nk();return{so:Xg.hk,$k:i,Kk:r,MA:e}},t.BA=function(n){var i=Ow.Fk(n),r=xw(i,Xg.ck),e=Bw(i,Xg.fk),s=Pw(i,Xg.vk),u=t.UA(r),o=e.map(function(n){return t.FA(n,u)}),h=s?t.HA(s):void 0;return{so:Xg.ak,jk:u,VA:o,XA:h}},t.UA=function(t){var n=Lw(t.Nk()),i=n.version,r=n.flags,e=t.Nk(),s=r.wh(qg.BASE_DATA_OFFSET_PRESENT)?t.Dk():void 0,u=r.wh(qg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Nk():void 0,o=r.wh(qg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Nk():void 0,h=r.wh(qg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Nk():void 0,a=r.wh(qg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Nk():void 0;return{so:Xg.ck,$k:i,Kk:r,Ip:e,WA:s,qA:u,DA:o,OA:h,xA:a}},t.FA=function(n,i){for(var r=Lw(n.Nk()),e=r.version,s=r.flags,u=n.Nk(),o=s.wh(zg.DATA_OFFSET_PRESENT)?n.Ck():void 0,h=s.wh(zg.FIRST_SAMPLE_FLAGS_PRESENT)?n.Nk():void 0,a=[],c=0;c<u;c++){var f=t.zA(n,s,e,i);0===c&&void 0!==h&&(f.Kk=h),a.push(f)}return{so:Xg.fk,$k:e,Kk:s,GA:u,LA:o,jA:h,QA:a}},t.zA=function(t,n,i,r){return{V_:n.wh(zg.SAMPLE_DURATION_PRESENT)?t.Nk():r.DA,ah:n.wh(zg.SAMPLE_SIZE_PRESENT)?t.Nk():r.OA,Kk:n.wh(zg.SAMPLE_FLAGS_PRESENT)?t.Nk():r.xA,YA:n.wh(zg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Nk():t.Ck():void 0}},t.fp=function(t){var n=t.Os,i=t.Ek,r=Lw(gu(n,i)),e=r.version,s=r.flags;if(1===e){var u=gu(n,i),o=yu(n,i),h=gu(n,i),a=gu(n,i),c=ku(n,i),f=ku(n,i),v=Wu(Hu(n),i._h,n.byteLength);return i.vh(v.byteLength),{so:Xg._k,$k:e,Kk:s,ZA:c,vs:f,Zy:u,JA:o,$A:h,zl:a,KA:v}}var d=ku(n,i),l=ku(n,i),_=gu(n,i),g=gu(n,i),w=gu(n,i),y=gu(n,i),m=Wu(Hu(n),i._h,n.byteLength);return i.vh(m.byteLength),{so:Xg._k,Kk:s,$k:e,ZA:d,vs:l,Zy:_,nb:g,$A:w,zl:y,KA:m}},t.ap=function(t){return Ow.Zk(t,Xg.dk,!1)},t.ep=function(n){var i=n.Os,r=n.Ek,e=qu(Hu(i)).buffer,s=Lw(gu(i,r)),u=s.version,o=s.flags,h=t.ib(i,r),a=[];if(u>0)for(var c=gu(i,r),f=0;f<c;f++){var v=cu(i,r,16);a.push(v)}var d=gu(i,r),l=new m(e,r._h,d);return r.vh(i.byteLength),{so:Xg.lk,$k:u,Kk:o,rb:h,eb:a,sb:d,Os:l,ub:e}},t.ib=function(t,n){for(var i="",r=0;r<4;r++){var e=hu(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=hu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=hu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=hu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=hu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.cp=function(t){var n,i,r=t.Os,e=t.Ek,s=Lw(gu(r,e)),u=s.version,o=s.flags,h=gu(r,e),a=gu(r,e);0===u?(n=Wt.fromBits(gu(r,e),0,!0),i=Wt.fromBits(gu(r,e),0,!0)):(n=yu(r,e),i=yu(r,e)),e.vh(2);for(var c=lu(r,e),f=[],v=0;v<c;v+=1){var d=gu(r,e),l=d>>31&1,_=2147483647&d,g=gu(r,e),w=gu(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({ob:l,hb:_,V_:g,ab:y,cb:m,fb:k})}return{so:Xg.gk,$k:u,Kk:o,vb:h,Zy:a,lb:n,_b:i,gb:c,wb:f}},t.HA=function(t){var n,i=t.Os,r=t.Ek,e=Lw(gu(i,r)),s=e.version,u=e.flags;return n=0===s?Wt.fromBits(gu(i,r),0,!0):yu(i,r),{so:Xg.vk,$k:s,Kk:u,XA:n}},t}();function Uw(t){return t&&"As"in t?t.As:t}var Fw=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,r,e)||this).yb=void 0,h.mb=void 0,h.kb=void 0,h.yb=s,h.mb=u,h.kb=o||void 0,h}return F(n,t),n.prototype.Hw=function(n){return this===n||!!Fd(this,n)&&(!!t.prototype.Hw.call(this,n)&&(!!Ud(this.pb,n.pb)&&(!!Ud(this.Nm,n.Nm)&&(this.Ab&&n.Ab?!!this.Ab.us(n.Ab)&&(this.bw&&n.bw?this.bw.us(n.bw):this.bw===n.bw):this.Ab===n.Ab))))},M(n,[{key:"pb",get:function(){return this.yb}},{key:"Nm",get:function(){return this.mb}},{key:"Ab",get:function(){return this.kb}},{key:"il",get:function(){var t;return this.nl||(this.nl=Ld($_(t=this),{get styles(){return t.pb},get regions(){return t.Nm},get metadata(){return Uw(t.Ab)},get content(){return Uw(t.bw)}})),this.nl}}]),n}(rg),Hw=function(){function t(t,n,i){this.If=void 0,this.bb=void 0,this.Tb=void 0,this.bb=t,this.Tb=n,rn(i)?this.If=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.Ss(s)}return i}(0,0,i):this.If=i}return M(t,[{key:"Eb",get:function(){return this.If.os(!0)}},{key:"pw",get:function(){return this.bb}},{key:"Aw",get:function(){return this.Tb}}]),t}();var Vw="http://www.w3.org/XML/1998/namespace";function Xw(t,n,i,r){var e=t.ks(i,n);return 0===e.length&&(e=t._s(r+":"+n)),e}function Ww(t,n){return function(t,n){var i=t.bs.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.bs)}return r}(t,function(t){return t.ys===n})}function qw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function zw(t,n){for(var i=t.Cs,r={},e=0;e<i.length;e++)r[qw(i[e].as,n)]=i[e].vs;return r}var Gw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,jw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Qw="http://www.w3.org/ns/ttml";function Yw(t,n,i){return void 0===i&&(i=Gg),function(t,n,i){var r,e=[];try{r=T.es(t)}catch(t){return e}var s=r.xs;if("tt"!==s.hs)return e;var u=s&&s.ks(Qw,"head")[0],o=s&&s.ks(Qw,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return e;for(var a=function(t,n){for(var i={},r=t.ks(Qw,"styling")[0],e=r&&r.ks(Qw,"style")||[],s=0;s<e.length;s++){var u=e[s],o=u.Es(Vw,"id");i[o]=zw(u,n)}return i}(u,h),c=function(t,n){var i=Md(t),r=Kw(n.Ts("tts:extent"));if(!r)return i;for(var e=0,s=l.keys(i);e<s.length;e++){var u=s[e],o=Kw(i[u].extent);if(o){var h=Jw(o[0],r[0]),a=Jw(o[1],r[1]);i[u].extent=h+" "+a}var c=Kw(i[u].origin);if(c){var f=Jw(c[0],r[0]),v=Jw(c[1],r[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.ks(Qw,"layout")[0],e=r&&r.ks(Qw,"region")||[],s=0;s<e.length;s++){var u=e[s],o=u.Es(Vw,"id");if(o){i[o]=zw(u,n);var h=iy(u,n);for(var a in h)Z.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.ks(Qw,"metadata")[0],v=function t(n,i,r,e){var s=i;var u;var o=r;var h=[];var a=[];if(rn(n)){var c,f;s=null!=(c=ny(n.Ts("begin"),e))?c:s,u=ny(n.Ts("dur"),0),o=null!=(f=ny(n.Ts("end"),e))?f:void 0!==u?s+u:o;for(var v=n.gs,d=0;d<v.length;d++)("body"===n.hs||"div"===n.hs)&&v[d].Ze>1||(h=h.concat(t(v[d],s,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var s=i[e];r.push(s.pw,s.Aw)}r.sort(lg);for(var u=r.length,o=0;o<u-1;o++)r[o+1]===r[o]&&(Ye(r,o+1),o--,u=r.length);return r}(s,o,h);for(var _=0;_<l.length-1;_++){var g=ty(l[_],l[_+1],h);if(g.length<=0&&ry(n)){var w=n.os(!1);a.push(new Hw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.os(!1);g.forEach(function(n){return t.ps(n.Eb)}),a.push(new Hw(l[_],l[_+1],t))}()}return a}(o,i.Sm,i.Rm,i.Im),d=0;d<v.length;d++){var _=v[d],g=Zw(c,_);e.push(new Fw(_.pw,_.Aw,_.Eb,!1,a,g,f))}return e}(t,0,i)}function Zw(t,n){for(var i=function t(n){var i=[];var r;if(rn(n)){(r=n.Ts("region"))&&i.push(r);for(var e=n.gs,s=0;s<e.length;s++)i=i.concat(t(e[s]))}return i}(n.Eb),r={},e=0;e<i.length;e++){var s=i[e];r[s]=t[s]}return r}function Jw(t,n){var i=$w(t),r=$w(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-r.length));return y(e)||y(s)?t:e/s*100+"%"}return t}function $w(t){return Ce(t,"px")?"px":Ce(t,"em")?"em":Ce(t,"c")?"c":Ce(t,"%")?"%":void 0}function Kw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function ty(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].pw,u=i[e].Aw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}function ny(t,n){if(t){if(Gw.test(t)){var i=Gw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*_.pow(.1,u.length):0)-n}if(jw.test(t)){var o=jw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function iy(t,n){for(var i={},r=t._s("style")||[],e=0;e<r.length;e++){var s=zw(r[e],n);for(var u in s)Z.call(s,u)&&(i[u]=s[u])}return i}function ry(t){if(rn(t)){var n=t.hs.toUpperCase(),i=Boolean(t.Ts("smpte:backgroundImage"));return"BR"===n||i}return t.Ze===Kt.$e}function ey(t){var n=function(t){try{return T.es(t).xs}catch(t){}}(t);return"tt"===(null==n?void 0:n.hs)}var sy,uy=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Cl=function(n){return t.prototype.Cl.call(this,n)},i.Dl=function(n){var i=t.prototype.Dl.call(this,n);return i&&(n.r_=$d.$l),i},i.sl=function(){return sl(this)},n}(Cd),oy=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._p=new uy,n.Sb=function(t){var i=t.ul;n.Rb(i)},n}F(n,t);var i=n.prototype;return i.Cl=function(t){t.Mo(bd.wl,this.Sb),this._p.Cl(t),this.Rb(t)},i.Dl=function(t){t.Vo(bd.wl,this.Sb),t.r_=$d.$l,this._p.Dl(t)},i.Ib=function(t){},i.Nb=function(t){},i.Rb=function(t){t.r_!==$d.$l?this.Ib(t):this.Nb(t)},i.Cb=function(){for(var t=0,n=this._p.Pl;t<n.length;t++){var i=n[t];i.Vo(bd.wl,this.Sb),i.Fv()}},i.xl=function(){return this.Cb(),this._p.xl(),E.resolve()},i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),t.next=3,this.xl();case 3:this._p.Fv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(bs);!function(t){t.pk="subtitles",t.Db="captions",t.Ob="descriptions",t.xb="chapters",t.bk="metadata",t.Pb="thumbnails"}(sy||(sy={}));var hy=[sy.pk,sy.Db,sy.Ob,sy.xb,sy.bk,sy.Pb];function ay(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ze(hy,t)}(n)?n:n?sy.bk:sy.pk}var cy,fy=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return F(n,t),n}(Io);function vy(t){return t instanceof Hf}function dy(t){return Ie(t,cy.Bb)}function ly(t){return t.some(_y)}function _y(t){return Ie(t,cy.Lb)||Ie(t,cy.nk)}function gy(t,n){return eo(t)&&ly(n)}function wy(t,n){return!!t&&(eo(t)?function(t){return t.some(dy)}(n)||ly(n):Ie(t,ro.APPLICATION_TTML_XML)||Ie(t,ro.TEXT_VTT)||Ie(t,ro.IMAGE_JPEG))}function yy(t,n){return t===sy.Pb||t===sy.bk&&n===sy.Pb}function my(t,n,i,r){for(var e=0,s=t.s_.Pl;e<s.length;e++){var u=s[e];if(u.pw>i)break;n<=u.Aw&&r.push(u)}}function ky(t,n){return dg(t.Gl,n.Gl)}function py(t,i){var r=i,e=0;if(vy(t)&&t.name===Bf.jv)r=t.dv._v;else if(t instanceof Xf){var s=t.$v;if(r=s.lv,0===(e=s.hv))return new fy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new fy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Ay(t,i,r,e){var s=function(t){switch(t){case H_.WEBVTT:return"WebVTT";case H_.SRT:return"SRT";case H_.TTML:return"TTML";default:return""}}(t);return new fy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,r,e)}function by(t){return vw(iw(t))?H_.WEBVTT:ey(t)?H_.TTML:H_.SRT}!function(t){t.Lb="vtt",t.nk="wvtt",t.Bb="stpp"}(cy||(cy={}));var Ty=function(t){function n(n){var i;return(i=t.call(this,Kd.n_)||this).errorObject=n,i}return F(n,t),n.prototype.sl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(pd),Ey=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mb=void 0,r.Ub=void 0,r.Fb=new es,r.Mb=n,r.Ub=i,r}F(n,t);var i=n.prototype;return i.Hb=function(t){if(t.src){var n=t.kind||sy.pk,i=this.Mb.Vb(n,t.id,t.label,t.srclang,t.default);return i.o_=Pf(t.src),this.Cl(i),i}},i.Xb=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.e_=F_.LOADING,r=new Cf({_v:n.o_,cv:Yo.$e,Ov:Ef.GET,Do:i}),t.prev=2,t.next=5,this.Ub.dv(r);case 5:return u=t.sent,s=u.hv,t.next=9,u.zf();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),hs(t.t0),n.e_=F_.ERROR,n.Lo(new Ty(py(t.t0,n.o_))),t.abrupt("return");case 18:for(t.prev=18,o=by(e),n.so=o,h=[],o===H_.WEBVTT||o===H_.SRT?(a=nw(e),h=a.s_):o===H_.TTML&&(h=Yw(e)),c=0,f=h;c<f.length;c++)v=f[c],n.Wb(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),hs(t.t1),n.e_=F_.ERROR,n.Lo(new Ty(Ay(n.so,n.o_,s,t.t1))),t.abrupt("return");case 32:n.e_=F_.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Ib=function(t){Ze(this._p.Pl,t)&&t.e_===F_.NONE&&this.Xb(t,this.Fb.Do).catch(as)},i.Lh=function(){},i.xl=function(){var n=E.coroutine(Kr.mark(function n(){var i,r,e;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Fb.Io(),this.Fb=new es,i=0,r=this._p.Pl;i<r.length;i++)e=r[i],this.Mb.qb(e);return n.next=5,t.prototype.xl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(oy);function Sy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.jl===n&&r.zb)return r}}function Ry(t,n){Iy(Sy(t.Pl,n))}function Iy(t){void 0!==t&&(t.r_=$d.t_)}function Ny(t,n){Iy(Sy(t.Pl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.jl===n)return r}}(t.Pl,n))}function Cy(t){for(var n=0;n<hy.length;n++){var i=hy[n];i===sy.xb?Ny(t,i):Ry(t,i)}}var Dy,Oy=function(t){function n(){return t.call(this,Qo._c)||this}return F(n,t),n}(Es);!function(t){t[t.Gb=0]="Gb",t[t.jb=1]="jb"}(Dy||(Dy={}));var xy=t,Py=xy.MediaSource,By=xy.WebKitMediaSource,Ly=xy.TextTrack,My=s&&s.createElement("video"),Uy=(s&&s.documentElement.style,Y.oe&&Y.Le&&Y.Me<=26),Fy=(Y.pe,!!k),Hy=!(!Py&&!By),Vy=!!Ly,Xy=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||Y.me,Y.Oe&&Y.xe,My&&My.canPlayType&&(""!==My.canPlayType("application/vnd.apple.mpegURL")||Y.ce&&!Y.Oe&&Y.fe>=4)),Wy=My&&My.canPlayType&&""!==My.canPlayType("video/mp4")&&!Uy,qy=Hy&&!Y.Pe&&!Y.Ne&&!Y.Ie&&((Py||By).isTypeSupported?(Py||By).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):My&&My.canPlayType&&""!==My.canPlayType('audio/mp4; codecs="mp4a.40.34"')),zy=Hy&&!Y.Pe&&(qy||((Py||By).isTypeSupported?(Py||By).isTypeSupported("audio/mpeg"):My&&My.canPlayType&&""!==My.canPlayType("audio/mpeg"))),Gy=Hy&&!(Y.De&&Y.oe)&&((Py||By).isTypeSupported?(Py||By).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Wy),jy=(Y.Pe||Y.Ne||Y.Ie,Y.Ce),Qy=jy&&!1,Yy=!Y.Pe,Zy=Y.Ne&&Y.he&&Y.ae<=6.1,Jy=My&&"onresize"in My;try{e&&e.top!==e.self}catch(t){!0}var $y=.001,Ky=1e4,tm=3,nm=function(t){function n(n){var i;return(i=t.call(this,Ll.U_)||this).currentTime=n,i}return F(n,t),n}(Es),im=function(t){function n(n){var i;return(i=t.call(this,Ll.F_)||this).currentTime=n,i}return F(n,t),n}(Es),rm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).Qb=yl.N_,r.Yb=!0,r.Zb=!1,r.Jb=!1,r.$b=function(t){var n=t.readyState;n!==r.Qb&&r.Lo(t),n===yl.N_&&(r.Zb=!1,r.Jb=!1),r.Kb(n),r.tT(n),r.nT(n),r.maybeDispatchCanPlayThroughEvent(n),r.iT(n),r.rT(n),r.Qb=n},r.eT=function(){r.rT(r.Qb),r.iT(r.Qb),r.Yb=r.sT.z_},r.uT=function(){r.Yb=r.sT.z_},r.sT=n,r.oT=i,r.sT.Mo(Ll.ml,r.$b),r.sT.Mo(Qo.fc,r.eT),r.sT.Mo(Qo.cc,r.uT),r.oT&&r.sT.Mo(Ll.F_,r.Bo),r}F(n,t);var i=n.prototype;return i.Kb=function(t){!this.Jb&&t>=yl.C_&&(this.Jb=!0,this.Lo(new Wl(this.sT.H_,t)))},i.tT=function(t){!this.Zb&&t>=yl.D_&&(this.Zb=!0,this.Lo(new Ql(this.sT.H_,t)))},i.iT=function(t){this.oT||(t>=yl.O_&&this.Qb<yl.O_&&!this.sT.z_||this.hT&&t>=yl.O_)&&this.Lo(new im(this.sT.H_))},i.rT=function(t){!this.aT(t)||this.sT.X_||this.sT.Jo||this.Lo(new nm(this.sT.H_))},i.nT=function(t){this.Qb<=yl.D_&&t>=yl.O_&&this.Lo(new $l(this.sT.H_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===yl.x_&&this.Lo(new Kl(this.sT.H_,t))},i.aT=function(t){var n=!this.sT.z_&&t<=yl.D_,i=!this.Yb&&this.Qb<=yl.D_;return n&&!i},i.xl=function(){this.Qb=yl.N_,this.Yb=!0,this.Zb=!1,this.Jb=!1},i.Fv=function(){this.Ho(),this.oT&&this.sT.Vo(Ll.F_,this.Bo),this.sT.Vo(Qo.fc,this.eT),this.sT.Vo(Qo.cc,this.uT),this.sT.Vo(Ll.ml,this.$b)},M(n,[{key:"hT",get:function(){return!this.sT.z_&&this.Yb}}]),n}(bs),em="titanium",sm="conax",um="ezdrm",om="irdeto",hm="vudrm",am="verimatrix",cm="keyos",fm="drmtoday",vm="expressplay",dm="azure",lm="xstream",_m="vimond",gm="axinom",wm="uplynk",ym="comcast",mm="custom",km=function(){function t(t,n,i,r,e){this.zh=void 0,this.cT=void 0,this.fT=void 0,this.vT=void 0,this.Ub=void 0,this.dT=void 0,this.lT=void 0,this.zh=t,this.cT=n,this.fT=i,this.Ub=r,this.lT=e,this.vT=this._T(n)}var i=t.prototype;return i.gT=function(){return this.dT},i.wT=function(t){this.dT=t},i.yT=function(){return this.vT.licenseAcquisitionURL||this.gT()},i.mT=function(t){return E.resolve()},i.kT=function(t,n){return E.resolve(void 0)},i.pT=function(){var t=E.coroutine(Kr.mark(function t(i,r,e,s){var u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.AT(i,r,e,s))._v){t.next=3;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Zd.dv(u);case 6:return o=t.sent,t.next=9,o.Gf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),hs(t.t0),t.next=17,this.bT(t.t0,u._v,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.AT=function(t,n,i,r){var e=this.TT().Oc(),s=this.Lv,u={_v:this.ET(),cv:n,av:e,Zf:t,Lv:s,Ov:Ef.POST,xv:0,Do:r,so:Sf.kv,Pv:i};return new Cf(u)},i.ST=function(t,n){return E.resolve(t)},i.RT=function(t,n,i,r){return E.resolve(t)},i.TT=function(){return new Zo(this.vT.headers||{})},i.bT=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ET=function(t,n){var i=n,r=this.vT.queryParameters;if(!i){var e=this.yT();if(!e)return"";i=e}if(r||t){var s=T.Pu(i);t&&xf(s,t),r&&xf(s,r),i=s.href}return i},i.IT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return E.resolve(new m(pm(t,i)))}(t,this.vT)},i.NT=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CT(n,r);case 2:return e=t.sent,t.next=5,this.pT(e,this.lT,i,r);case 5:return s=t.sent,t.next=8,this.IT(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Fv=function(){},M(t,[{key:"Zd",get:function(){return this.Ub}},{key:"DT",get:function(){return!1}},{key:"OT",get:function(){var t=this.vT.certificate;if(t)return rt(t)?Hs(t):Xu(t)}},{key:"xT",get:function(){return!1}},{key:"Lv",get:function(){return Boolean(this.vT.useCredentials)}}]),t}();function pm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Am(t,n){var i=qu(t).buffer,r=n.licenseRequestProcessor;return E.resolve(pm(i,r))}var bm,Tm,Em=function(t){function n(n,i,r,e){return t.call(this,Ae,n,i,r,e)||this}F(n,t);var i=n.prototype;return i._T=function(t){return t.widevine||{}},i.PT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.OT){t.next=2;break}return t.abrupt("return",this.OT);case 2:return t.abrupt("return",this.BT(new m(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.BT=function(n,i){return t.prototype.NT.call(this,n,Rf.Tv,i)},n}(km);function Sm(t,n){if(null==t)return{};var i,r,e={},s=l.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Rm(t){return $(t.token&&t.deviceId)}function Im(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&$(i.PreAuthorization)}function Nm(t){var n=t;return Rm(n)&&""!==n.token&&""!==n.deviceId&&!Im(n)}(Tm=bm||(bm={})).LT=!1,Tm.MT=!1,Tm.UT=!1,Tm.FT=!1,Tm.LOG_ADS_DETAILS=!1,Tm.LOG_CHROMECAST_DETAILS=!1,Tm.LOG_CUSTOM_DRM=!1,Tm.LOG_BUFFERING_VIDEO_MAIN=!1,Tm.LOG_BUFFERING_VIDEO_SELECTION=!1,Tm.LOG_BUFFERING_AUDIO_MAIN=!1,Tm.LOG_BUFFERING_AUDIO_SELECTION=!1,Tm.HT=!1,Tm.VT=!1;var Cm,Dm=function(){function t(t,n,i){this.XT=t,this.Dh=n,this.WT=i}return t.prototype.qT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.WT.build(t))},M(t,[{key:"zT",get:function(){return this.XT}},{key:"zh",get:function(){return this.Dh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Cm||(Cm={}));var Om=function(){function t(){this.GT=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.jT(t,i,r)){case Cm.FAILED:throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Cm.OVERRIDDEN:var e=Jm(i);T.pu("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Cm.SUCCEEDED:Jm(i);0}},i.jT=function(t,n,i){var r=Jm(n);if(!r)return Cm.FAILED;for(var e=Cm.SUCCEEDED,s=0,u=this.GT.slice();s<u.length;s++){var o=u[s];o.zT===t&&o.zh===r&&(e=Cm.OVERRIDDEN,Qe(this.GT,o))}return this.GT.push(new Dm(t,r,i)),e},i.QT=function(t,n){return void 0!==this.YT(t,n)},i.ZT=function(t,n,i){var r=this.YT(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.qT(i)},i.YT=function(t,n){for(var i=0,r=this.GT;i<r.length;i++){var e=r[i];if(e.zT===t&&(!n||e.zh===n))return e}},t}();Om.JT=new Om;var xm=["customdata"],Pm={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Bm(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||s||u||o||h||a||c)}function Lm(t){return t&&void 0!==t.licenseAcquisitionURL}var Mm,Um=Lm,Fm=Lm;function Hm(t){if(!t)return!0;if(qm(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return Bm(n)&&Bm(i)&&Bm(r)&&Bm(e)&&Bm(s)}function Vm(t){var n=Nm(t),i=function(t){var n,i=t;return Im(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Rm(i)}(t);return(!n||!i)&&(n||i)}function Xm(t){return t.integration===om}function Wm(t){var n=t;if(!n)return!1;if(Hm(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(qm(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Um(r))return!1;if(e&&!Fm(e))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Om.JT.QT(n.integration))return!0;switch(n.integration){case em:if(!function(t){return t.integration===em&&(zm(t)||Gm(t))}(t))return!1;break;case hm:if(!jm(t))return!1;break;case am:if(!function(t){return t.integration===am}(t))return!1;break;case om:if(!Xm(t))return!1;break;case sm:if(!Vm(t))return!1;break;case um:if(!function(t){return t.integration===um}(t))return!1;break;case cm:if(!qm(t))return!1;break;case fm:if(!function(t){var n=t;return n.integration===fm&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case vm:if(!function(t){return t.integration===vm}(t))return!1;break;case lm:if(!Qm(t))return!1;break;case _m:if(!function(t){return t.integration===_m}(t))return!1;break;case gm:if(!Ym(t))return!1;break;case dm:if(!function(t){var n=t;return n.integration===dm&&void 0!==n.token}(t))return!1;break;case wm:if(!function(t){return t.integration===wm}(t))return!1;break;case ym:if(!function(t){var n=t;return n&&$(n.releasePid)&&$(n.accountId)&&$(n.token)}(t))return!1;break;case mm:return!0;default:return!1}}return!0}function qm(t){return t.integration===cm}function zm(t){return void 0!==t.authToken}function Gm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function jm(t){var n=t;return n.integration===hm&&void 0!==n.token}function Qm(t){var n=t;return n&&n.integration===lm&&rt(n.ticketAcquisitionURL)&&rt(n.streamId)}function Ym(t){var n=t;return n.integration===gm&&void 0!==n.token}function Zm(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Pm[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},a=te({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return te({},Sm(c,xm),{licenseAcquisitionURL:u,headers:a})}function Jm(t){switch(t.toLowerCase()){case"widevine":case we:return we;case"playready":case _e:return _e;case"fairplay":case me:return me}}function $m(t,i){switch(t){case ve:return function(t){for(var n={},i=Mw.rp(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.rb]=e.ub}return n}(i);case de:case le:return function(t){var n;return(n={})[ye]=t,n}(i);default:throw new Io(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.to="Widevine",t.Ku="PlayreadyV2",t.$T="PlayreadyV2",t.KT="PlayreadyV3",t.io="Fairplay"}(Mm||(Mm={}));var Km={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function tk(t,n){var i,r,e,s,u=Km[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=T.Lu)?void 0:i.Mu,OSVersion:null==(r=T.Lu)?void 0:r.Wu,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=T.Lu)?void 0:e.qu,DeviceModel:null==(s=T.Lu)?void 0:s.zu}}}function nk(t,i){if(!t.accountName)throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function ik(t,n,i){var r;if(zm(t))r={AuthToken:t.authToken,Payload:n};else{if(!Gm(t))throw nk(t,i);r={LatensRegistration:tk(t,i),Payload:n}}return Zs(JSON.stringify(r))}function rk(t,n,i){return ek.apply(this,arguments)}function ek(){return(ek=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.$v){t.next=3;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return u=s,t.prev=4,t.next=7,u.qf(e);case 7:o=t.sent,h=sk(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.dv._v,u.hv,u.fv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function sk(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var uk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Cc)||this).tE=void 0,e}F(i,t),i.nE=function(){return T.Mu.au?"required":"optional"};var r=i.prototype;return r.bT=function(t,n,i){return rk(t,n,i)},r.mT=function(t){return this.tE?cs(this.tE.mh,t):(this.tE=new ju,E.resolve())},r.CT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.cT){t.next=3;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=Xs(i),t.abrupt("return",ik(e,s,Mm.to));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.IT=function(t){var i;if(!t.license)throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Hs(t.license),E.resolve(i)},r.iE=function(t){return E.resolve(new m(t))},r.PT=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rE(),t.next=3,this.CT(n,i);case 3:return r=t.sent,t.next=6,this.pT(r,Yo.Nc,Rf.Ev,i);case 6:return e=t.sent,t.next=9,this.iE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.BT=function(){var n=E.coroutine(Kr.mark(function n(i,r){var e;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.BT.call(this,i,r);case 2:return e=n.sent,this.rE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.rE=function(){this.tE||(this.tE=new ju),this.tE.kh()},r.Fv=function(){this.tE&&this.tE.Io(),t.prototype.Fv.call(this)},i}(Em),ok=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Nc)||this).wT("https://widevine-proxy.drm.technology/proxy"),e}return F(i,t),i.prototype.CT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Am(i,this.vT);case 2:if(e=t.sent,s=this.fT,r=new m(e),u=[].slice.call(r),o=this.eE){t.next=8;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(i,[{key:"eE",get:function(){if(jm(this.cT))return this.cT.token}}]),i}(Em);function hk(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=te({},i,{SessionId:t.sessionId,Ticket:t.ticket})),te({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ak=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Nc)||this).wT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}F(n,t);var i=n.prototype;return i.CT=function(t,n){return Am(t,this.vT)},i.ET=function(n,i){var r=n;return Xm(this.cT)&&(r=hk(this.cT,r)),t.prototype.ET.call(this,r,i)},n}(Em),ck="Conax-Custom-Data";function fk(t,n,i){var r=t&&Vm(t)&&t;if(r&&!i.has(ck)){var e=Nm(r)?r.token:void 0,s=Nm(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(ck,u)}return i}var vk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Nc)||this).wT("https://connect.conax.com:8094/license"),e}F(n,t);var i=n.prototype;return i.CT=function(t,n){return Am(t,this.vT)},i.TT=function(){var n=t.prototype.TT.call(this);return fk(this.cT,"Widevine",n)},n}(Em);function dk(t){var n=Cu(new m(t));return Hs(JSON.parse(n).license)}function lk(t){return"string"==typeof t.token?t.token:Zs(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function _k(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var gk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Nc)||this).wT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}F(n,t);var i=n.prototype;return i.CT=function(t,n){return Am(t,this.vT)},i.IT=function(t){return E.resolve(dk(t))},i.TT=function(){return _k(t.prototype.TT.call(this),this.eE,this.cT)},M(n,[{key:"eE",get:function(){return lk(this.cT)}}]),n}(Em),wk=function(t){function n(n,i,r){return t.call(this,n,i,r,Yo.Nc)||this}F(n,t);var i=n.prototype;return i.CT=function(t,n){return Am(t,this.vT)},i.TT=function(){var n=t.prototype.TT.call(this),i=this.cT.token;return n.set("Authorization","Bearer "+i),n},n}(Em);function yk(t,n,i,r){return mk.apply(this,arguments)}function mk(){return(mk=E.coroutine(Kr.mark(function t(i,r,e,s){var u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Qm(i)){t.next=2;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Zo).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={_v:i.ticketAcquisitionURL,cv:Yo.Cc,av:u,Ov:Ef.POST,Zf:JSON.stringify(c),Do:s},t.next=13,e.dv(f);case 13:return v=t.sent,t.next=16,v.qf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var kk=function(t){function n(n,i,r){return t.call(this,n,i,r,Yo.Cc)||this}F(n,t);var i=n.prototype;return i.TT=function(){var n=t.prototype.TT.call(this);return n.set("Content-Type","application/json"),n},i.CT=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ys(n.buffer),e=this.cT,t.next=4,yk(e,"widevine_modular",this.Zd,i);case 4:return s=t.sent,this.wT(s.licenseServerUrl),u=Du(JSON.stringify({payload:r,ticket:s.ticket})),t.abrupt("return",Am(u,this.vT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.IT=function(t){var n=t;return E.resolve(Hs(n.license))},n}(Em),pk=function(t){function i(n,i,r){return t.call(this,n,i,r,Yo.Nc)||this}F(i,t);var r=i.prototype;return r.CT=function(t,n){return Am(t,this.vT)},r.TT=function(){if(!Ym(this.cT))throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.TT.call(this);return i.set("X-AxDRM-Message",this.cT.token),i},i}(Em);function Ak(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var bk=function(t){function n(n,i,r){var e;return(e=t.call(this,pe,n,i,r,Yo.Nc)||this).sE=void 0,e}F(n,t);var i=n.prototype;return i._T=function(t){return t.playready||{}},i.TT=function(){var n=new Zo(this.sE);return n.Pc(t.prototype.TT.call(this)),n},i.uE=function(t){return t.length>=1&&t[0].gs.length>0},i.kT=function(n){var i=this.cT.playready.customData;if(i){var r=Ak(i),e=Ak('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xs(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return E.resolve({playready:{wa:e}})}return t.prototype.kT.call(this,n)},i.CT=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Am(n,this.vT);case 2:return r=t.sent,t.abrupt("return",this.oE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.oE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=Ru(o,new zu,!0),t.prev=3,a=T.es(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a._s("PlayReadyKeyMessage")[0])?void 0:i._s("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c._s("Challenge"))?r:[],this.uE(f)&&(u=Qs(f[0].Ds)),v=new Zo,d=null!=(e=null==c?void 0:null==(s=c._s("HttpHeaders")[0])?void 0:s._s("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_._s("name")[0].Ds,w=_._s("value")[0].Ds,v.append(g,w);return this.sE=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(t,n){return E.resolve(t)},i.BT=function(n,i){return t.prototype.NT.call(this,n,Rf.Sv,i)},n}(km),Tk=function(){function t(n){this.hE=void 0,this.aE=n,this.hE=t.cE(n)}return t.cE=function(t){return"3"===t.version?Mm.KT:Mm.$T},t.prototype.fE=function(){var t={};if(this.hE===Mm.KT){var n={LatensRegistration:tk(this.aE,Mm.KT)};t["X-TITANIUM-DRM-CDATA"]=Zs(JSON.stringify(n))}return t},M(t,[{key:"vE",get:function(){return this.hE}},{key:"ra",get:function(){return this.hE===Mm.$T}}]),t}();var Ek=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).dE=void 0,e.dE=new Tk(e.cT),e}F(i,t);var r=i.prototype;return r.kT=function(t){var i=this.cT;if(!this.cT)throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Gm(i)){var r={};return r.playready={wa:Sk(i,this.dE.vE)},E.resolve(r)}return E.reject(nk(i,Mm.Ku))},r.TT=function(){var n=new Zo(this.dE.fE());return n.Pc(t.prototype.TT.call(this)),n},r.bT=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.$v){t.next=3;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.jf(e);case 6:h=t.sent,a=Cu(new m(h)),(c=T.es(a))&&(f=Ww(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Ds),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.hv,s.fv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.uE=function(t){if(1!==t.length)throw new k_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(bk);function Sk(t,n){var i=tk(t,n),r=i.DeviceInfo.FormatVersion,e=Zs('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=xu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return xu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xs(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Rk,Ik=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wT("https://playready-license.drm.technology/rightsmanager.asmx"),e}F(i,t);var r=i.prototype;return r.uE=function(t){if(1!==t.length)throw new k_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.ET=function(n,i){var r=te({},n||{},{token:this.eE});return t.prototype.ET.call(this,r,i)},M(i,[{key:"eE",get:function(){if(jm(this.cT))return this.cT.token}}]),i}(bk),Nk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return F(n,t),n.prototype.ET=function(n,i){var r=n;return Xm(this.cT)&&(r=hk(this.cT,r)),t.prototype.ET.call(this,r,i)},n}(bk),Ck=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return F(n,t),n.prototype.TT=function(){var n=t.prototype.TT.call(this);return fk(this.cT,"PlayReady",n)},n}(bk),Dk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}F(n,t);var i=n.prototype;return i.IT=function(n){return(Ne(Cu(new m(n)),"<?xml")?Rk.lE:Rk.qf)===Rk.qf?E.resolve(dk(n)):E.resolve(t.prototype.IT.call(this,new m(n)))},i.TT=function(){return _k(t.prototype.TT.call(this),this.eE,this.cT)},M(n,[{key:"eE",get:function(){return lk(this.cT)}}]),n}(bk);!function(t){t[t.lE=0]="lE",t[t.qf=1]="qf"}(Rk||(Rk={}));var Ok,xk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._E=void 0,e}F(n,t);var i=n.prototype;return i.TT=function(){var n=t.prototype.TT.call(this);return this._E&&n.set("Ticket",this._E),n.set("Content-Type","text/xml"),n},i.CT=function(){var n=E.coroutine(Kr.mark(function n(i,r){var e,s;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.cT,n.next=3,yk(e,"playready",this.Zd,r);case 3:return s=n.sent,this.wT(s.licenseServerUrl),this._E=s.ticket,n.abrupt("return",t.prototype.CT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(bk),Pk=function(t){function i(){return t.apply(this,arguments)||this}return F(i,t),i.prototype.TT=function(){if(!Ym(this.cT))throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.TT.call(this);return i.set("X-AxDRM-Message",this.cT.token),i},i}(bk);!function(t){t.Cc="application/json",t.gE="application/x-www-form-urlencoded",t.wE="application/octet-stream",t.$e="text/plain;charset=UTF-8"}(Ok||(Ok={}));var Bk=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.zh,i,r,e,s)||this).yE="",u.mE=void 0,u.kE=void 0,u.kE=n.pE,u}F(n,t);var i=n.prototype;return i.AE=function(){return this.vT.certificateURL||this.mE},i.bE=function(t){this.mE=t},i.CT=function(t){return E.resolve(this.TE(t,this.yE))},i.TE=function(t,n){return"spc="+encodeURIComponent(Xs(t))+"&assetId="+encodeURIComponent(n)},i._T=function(t){return t.fairplay||{}},i.EE=function(t){var n=t.indexOf("?");if(n>=0)return E.resolve(t.substr(n+1));var i=t.split("/");return E.resolve(i[i.length-1])},i.kT=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.kE)?i:Bu(new m(n)),t.next=3,this.EE(r);case 3:return e=t.sent,this.yE=e,(s={}).fairplay={Ta:e},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.TT=function(){var n=t.prototype.TT.call(this);return n.set("Content-Type",this.SE),n},i.PT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.OT){t.next=2;break}return t.abrupt("return",this.OT);case 2:return t.next=4,this.RE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.BT=function(n,i){return t.prototype.NT.call(this,n,Rf.Av,i)},i.IE=function(t){var n=this.AE(),i=this.TT(),r={_v:n,cv:Yo.Nc,av:i,Ov:Ef.GET,Lv:!1,Zf:null,xv:0,Do:t,so:Sf.kv,Pv:Rf.bv};return new Cf(r)},i.RE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IE(n),t.next=3,this.Zd.dv(i);case 3:return r=t.sent,t.next=6,r.jf();case 6:return e=t.sent,t.abrupt("return",new m(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.IT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hs(i)}else n=new m(t);return E.resolve(n)},i.ET=function(n,i){var r=t.prototype.ET.call(this,n,i);return Ne(r,"skd:")&&(r=r.substr("skd:".length)),r},M(n,[{key:"xT",get:function(){return!0}},{key:"SE",get:function(){return Ok.gE}}]),n}(km),Lk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Yo.Nc)||this}F(n,t);var i=n.prototype;return i.EE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return E.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return E.resolve(i)},i.CT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.IT=function(t){return E.resolve(new m(t))},i.ET=function(n,i){var r=n||{};return r.p1=Jt(),t.prototype.ET.call(this,r,i)},M(n,[{key:"SE",get:function(){return Ok.wE}}]),n}(Bk),Mk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Nc)||this).wT("https://fairplay-license.drm.technology/license"),s.bE("https://fairplay-license.drm.technology/certificate"),s}F(i,t);var r=i.prototype;return r.TE=function(t,n){var i={token:this.eE,contentId:n,payload:Xs(t)};return JSON.stringify(i)},r.IT=function(t){return E.resolve(new m(t))},r.TT=function(){var n=t.prototype.TT.call(this);return n.set("x-vudrm-token",this.eE),n},M(i,[{key:"SE",get:function(){return Ok.Cc}},{key:"eE",get:function(){if(!jm(this.cT))throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.cT.token}}]),i}(Bk),Uk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Fk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Hk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Nc)||this}return F(i,t),i.prototype.IT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Uk)}if(!i)throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Fk);return i}(Cu(new DataView(i)));return t.prototype.IT.call(this,r)},i}(Bk);var Vk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Cc)||this}F(i,t);var r=i.prototype;return r.CT=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.cT){t.next=3;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xs(i),t.abrupt("return",ik(r,e,Mm.io));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.IT=function(t){try{var i;if(rt(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Qs(i.license);return E.resolve(new m(e))}return E.reject(new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return E.reject(new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.bT=function(t,n,i){return rk(t,n,i)},M(i,[{key:"SE",get:function(){return Ok.Cc}}]),i}(Bk),Xk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Nc)||this).wT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.bE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}F(n,t);var i=n.prototype;return i.AE=function(){var n=t.prototype.AE.call(this);if(!n)return n;var i=T.Pu(n),r=this.cT;return Xm(r)&&xf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.EE=function(n){return Xm(this.cT)?E.resolve(this.cT.contentId):t.prototype.EE.call(this,n)},i.CT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.IT=function(t){return E.resolve(new m(t))},i.ET=function(n,i){var r=n;return Xm(this.cT)&&(r=function(t,n){return te({},hk(t,n),{KeyId:t.keyId})}(this.cT,r)),t.prototype.ET.call(this,r,i)},M(n,[{key:"SE",get:function(){return Ok.wE}}]),n}(Bk),Wk=function(t){function i(i,r,e,s){var u;if(u=t.call(this,i,r,e,s,Yo.$e)||this,!Vm(r))throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.wT("https://connect.conax.com:8097/license"),u}F(i,t);var r=i.prototype;return r.TT=function(){var n=t.prototype.TT.call(this);return fk(this.cT,"FairPlay",n)},r.RE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AE(),r={_v:i,cv:Yo.Nc,av:{},Ov:Ef.GET,Lv:!1,Zf:null,xv:0,Do:n,so:Sf.kv,Pv:Rf.bv},t.next=4,this.Zd.dv(r);case 4:return e=t.sent,t.next=7,e.jf();case 7:return s=t.sent,t.abrupt("return",new m(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.CT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.EE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),E.resolve(Cu(Hs(n)))):E.resolve("unknown")},r.IT=function(t){try{var n=JSON.parse(t);return E.resolve(new m(Qs(n.CkcMessage)))}catch(t){return E.reject("CFLRW-66")}},i}(Bk),qk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.$e)||this).wT(Pm[ce.io]),s}F(i,t);var r=i.prototype;return r.EE=function(t){return Ne(t,"skd://")?E.resolve(t.substring("skd://".length,40)):E.reject(new k_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.TE=function(t,n){return"spc="+Xs(t)+"&assetId="+n},i}(Bk),zk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.$e)||this).wT("https://lic.drmtoday.com/license-server-fairplay/"),s}F(n,t);var i=n.prototype;return i.TE=function(t,n){var i="spc="+encodeURIComponent(Xs(t))+"&"+encodeURI(n);return"persistent"===this.vT.licenseType?i+"&offline=true":i},i.TT=function(){return _k(t.prototype.TT.call(this),this.eE,this.cT)},M(n,[{key:"eE",get:function(){return lk(this.cT)}}]),n}(Bk),Gk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Yo.Nc)||this}F(n,t);var i=n.prototype;return i.EE=function(t){var n=t;return Ne(n,"skd:")&&(n="http:"+n.substring(4)),Ne(n,"http:")||Ne(n,"https:")?E.resolve(T.Pu(n).hostname):E.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.CT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.IT=function(t){return E.resolve(new m(t))},M(n,[{key:"SE",get:function(){return Ok.wE}}]),n}(Bk),jk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Yo.$e)||this}return F(n,t),n.prototype.TT=function(){var n=t.prototype.TT.call(this),i=this.cT.token;return n.set("Authorization","Bearer "+i),n},n}(Bk),Qk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Yo.Cc)||this,!Qm(i))throw new v("Invalid Xstream DRM configuration");return s}F(n,t);var i=n.prototype;return i.RE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AE(),r=this.TT(),e={_v:i,cv:Yo.Cc,av:r,Ov:Ef.POST,Do:n,so:Sf.kv,Pv:Rf.bv},t.next=5,this.Zd.dv(e);case 5:return s=t.sent,t.next=8,s.qf();case 8:return u=t.sent,t.abrupt("return",new m(Hs(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.BT=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Yo.$e),e=Xs(n),s=this.cT,t.next=5,yk(s,"fairplay",this.Zd,i);case 5:return u=t.sent,o=Du(JSON.stringify({spc:e,ticket:u.ticket})),h={_v:this.yT(),cv:Yo.Cc,av:this.TT(),Ov:Ef.POST,Zf:o,xv:0,Do:i,so:Sf.kv,Pv:Rf.Av},t.next=10,this.Zd.dv(h);case 10:return a=t.sent,t.next=13,a.qf();case 13:return c=t.sent,t.abrupt("return",Hs(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"SE",get:function(){return Ok.Cc}}]),n}(Bk),Yk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.$e)||this}F(i,t);var r=i.prototype;return r.TE=function(t,n){return Xs(t)},r.IT=function(i){if(0===i.length)throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.IT.call(this,i)},r.TT=function(){var n=t.prototype.TT.call(this);return n.set("Content-Type","text/plain"),n},i}(Bk),Zk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Nc)||this}F(i,t);var r=i.prototype;return r.TE=function(t,n){return t},r.IT=function(t){return E.resolve(new m(t))},r.TT=function(){if(!Ym(this.cT))throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.TT.call(this);return i.set("X-AxDRM-Message",this.cT.token),i},M(i,[{key:"SE",get:function(){return Ok.Cc}}]),i}(Bk),Jk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Cc)||this).NE=void 0,s}F(i,t);var r=i.prototype;return r.TE=function(t,n){var i={spc:Xs(t)};return JSON.stringify(i)},r.EE=function(t){var i=T.Pu(t);return this.NE=t,i.searchParams.has("b")?E.resolve(i.searchParams.get("b")):E.reject(new k_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.ET=function(n,i){var r=this.yT();return!r&&this.NE&&(r=this.NE),r&&(r=r.replace("skd://","https://")),t.prototype.ET.call(this,n,i||r)},r.IT=function(){var t=E.coroutine(Kr.mark(function t(i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=rt(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Hs(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),M(i,[{key:"SE",get:function(){return Ok.$e}}]),i}(Bk),$k=function(){function t(t,n){this.CE=t,this.DE=n}var n=t.prototype;return n.OE=function(t){return this.CE(t)},n.xE=function(t,n){throw new d(n+" must be "+this.DE+". (Received: "+t+")")},t}(),Kk=new $k(ot,"a number"),tp=new $k(rt,"a string"),np=new $k(et,"a boolean");var ip,rp=(ip={responseCode:Kk,isException:np,description:tp,title:tp,correlationId:tp},{OE:function(t){if(!nt(t))return!1;for(var n=0,i=l.keys(ip);n<i.length;n++){var r=i[n];if(!ip[r].OE(t[r]))return!1}return!0},xE:function(t,n){if(!nt(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(ip);i<r.length;i++){var e=r[i],s=ip[e];if(!s.OE(t[e]))return s.xE(t[e],n+"."+e)}throw new d}});function ep(t,n,i,r,e){return sp.apply(this,arguments)}function sp(){return(sp=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=up(n,i,r,s),t.next=3,op(u,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function up(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=T.Pu(t);return xf(i,n),i.toString()}(i,e)),u=new Zo({});u.append("Content-Type","application/json");var o=Xs(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{_v:s,cv:Yo.$e,av:u,Ov:Ef.POST,Zf:JSON.stringify(h),Do:r,so:Sf.kv,Pv:Rf.Av}}function op(t,n){return hp.apply(this,arguments)}function hp(){return(hp=E.coroutine(Kr.mark(function t(i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.dv(i);case 2:return e=t.sent,t.next=5,e.qf();case 5:if(s=t.sent,!rp.OE(s)){t.next=8;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i._v,s.responseCode);case 8:return t.abrupt("return",Hs(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ap=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Nc)||this).PE=void 0,s.PE=i,s}F(n,t);var i=n.prototype;return i.EE=function(n){var i=n.replace("FairPlay",this.PE.releasePid);return t.prototype.EE.call(this,i)},i.BT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ep(n,this.PE,this.yT(),this.Zd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Bk),cp=function(t){function i(n,i,r){return t.call(this,Te,n,i,r,Yo.Nc)||this}F(i,t);var r=i.prototype;return r._T=function(t){return t.clearkey||{}},r.CT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Am(n,this.vT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.pT=function(){var i=E.coroutine(Kr.mark(function i(r,e,s,u){var o,h;return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.vT,!this.yT()){i.next=5;break}return i.abrupt("return",t.prototype.pT.call(this,r,this.lT,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Du(JSON.stringify(h)).buffer);case 10:throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.PT=function(t,n){return E.resolve(new m(0))},r.BT=function(n,i){return t.prototype.NT.call(this,n,Rf.Rv,i)},i}(km),fp=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.CT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Am(n,this.vT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Em),vp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function dp(t,n,i){return lp.apply(this,arguments)}function lp(){return(lp=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Ip(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,cs(E.resolve(s.call(n,e)),r);case 8:if(!Vu(u=t.sent)){t.next=11;break}return t.abrupt("return",Xu(u));case 11:return t.abrupt("return",Rp(te({},vp,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _p(t,n,i,r,e){return gp.apply(this,arguments)}function gp(){return(gp=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=Sp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,cs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Xu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r){return yp.apply(this,arguments)}function yp(){return(yp=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pp(n,i,r,e);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",Rp(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mp(t,n,i,r,e,s){return kp.apply(this,arguments)}function kp(){return(kp=E.coroutine(Kr.mark(function t(n,i,r,e,s,u){var o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Ep(r,s),t.next=3,bp(n,new m(i),o,e,u);case 3:return h=t.sent,t.abrupt("return",Xu(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r){return Ap.apply(this,arguments)}function Ap(){return(Ap=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=Ep(i,r),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(u));case 5:return t.next=8,cs(E.resolve(s.call(n,u)),e);case 8:if(!Vu(o=t.sent)){t.next=11;break}return t.abrupt("return",Xu(o).buffer);case 11:return t.abrupt("return",te({fairplaySkdUrl:void 0},vp,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bp(t,n,i,r,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=Sp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,cs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Xu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ep(t,n){return te({},Ip(t),{fairplaySkdUrl:n})}function Sp(t,n,i){return{url:i.lv,status:i.hv,statusText:i.fv,headers:i.av.Oc(),body:t,request:n}}function Rp(t){return new Cf({_v:t.url,Ov:t.method,av:t.headers,Zf:t.body,Lv:t.useCredentials})}function Ip(t){var n;return{url:t._v,body:null!=(n=Np(t.Zf))?n:null,headers:t.av.Oc(),method:t.Ov,useCredentials:t.Lv}}function Np(t){if(t)return"string"==typeof t?Du(t):t instanceof ArrayBuffer?new m(t):qs(t)?Hu(t):void 0}var Cp,Dp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).BE=void 0,s.BE=e,s}F(i,t);var r=i.prototype;return r.PT=function(t,n){return E.resolve(t)},r.BT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.oE(qu(i).buffer);case 2:return e=t.sent,s=this.AT(e,Yo.Nc,Rf.Sv,r),t.next=6,wp(this.BE,s,void 0,r);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new m(u));case 10:if(""!==u._v){t.next=12;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Zd.dv(u);case 15:return o=t.sent,t.next=18,o.jf(r);case 18:return h=t.sent,t.t0=m,t.next=22,mp(this.BE,h,s,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),hs(t.t2),new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(bk),Op=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,Yo.Nc)||this).BE=void 0,s.BE=e,s}F(i,t);var r=i.prototype;return r.PT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.OT){t.next=2;break}return t.abrupt("return",this.OT);case 2:return e=this.AT(i,Yo.Nc,Rf.Ev,r),t.next=5,dp(this.BE,e,r);case 5:if(!((s=t.sent)instanceof m)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s._v){t.next=11;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Zd.dv(s);case 14:return u=t.sent,t.next=17,u.jf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),hs(t.t0),new k_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=Ep(e,void 0),t.next=27,_p(this.BE,new m(o),h,u,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.BT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.AT(i,Yo.Nc,Rf.Tv,r),t.next=3,wp(this.BE,e,void 0,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s._v){t.next=9;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Zd.dv(s);case 12:return u=t.sent,t.next=15,u.jf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),hs(t.t0),new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=m,t.next=25,mp(this.BE,o,e,u,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(fp),xp=function(t){function i(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,Yo.Nc)||this).BE=void 0,u.LE=void 0,u.BE=s,u}F(i,t);var r=i.prototype;return r.PT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.OT){t.next=2;break}return t.abrupt("return",this.OT);case 2:return e=this.IE(r),t.next=5,dp(this.BE,e,r);case 5:if(s=t.sent,!qs(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.Zd.dv(s);case 11:return u=t.sent,t.next=14,u.jf();case 14:return o=t.sent,h=Ep(e,void 0),t.next=18,_p(this.BE,new m(o),h,u,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),hs(t.t0),new k_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.BT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.AT(i,Yo.Nc,Rf.Av,r),t.next=3,wp(this.BE,e,this.LE,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s._v){t.next=9;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Zd.dv(s);case 12:return u=t.sent,t.next=15,u.jf(r);case 15:return o=t.sent,t.t0=m,t.next=19,mp(this.BE,o,e,u,this.LE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),hs(t.t2),new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.EE=function(n){var i;return this.LE=n,null!=(i=this.BE)&&i.extractFairplayContentId?E.resolve(this.BE.extractFairplayContentId(n)):t.prototype.EE.call(this,n)},i}(Bk),Pp=function(){function t(){}var n=t.prototype;return n.ME=function(t,n,i,r){switch(t.zh.so){case ce.to:return this.UE(n,i,r);case ce.Ku:return this.FE(n,i,r);case ce.io:return this.HE(t,n,i,r);case ce.ro:default:return this.VE(n,i,r)}},n.UE=function(t,n,i){var r,e=(r=t).integration===mm&&rt(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Om.JT.QT(e,we)){var s=Om.JT.ZT(e,we,t);return new Op(t,n,i,s)}switch(e){case em:return new uk(t,n,i);case hm:return new ok(t,n,i);case om:return new ak(t,n,i);case sm:return new vk(t,n,i);case fm:return new gk(t,n,i);case dm:return new wk(t,n,i);case lm:return new kk(t,n,i);case gm:return new pk(t,n,i);case cm:default:return new fp(t,n,i,Yo.Nc)}},n.FE=function(t,n,i){var r=t.integration;if(r&&Om.JT.QT(r,_e)){var e=Om.JT.ZT(r,_e,t);return new Dp(t,n,i,e)}switch(r){case em:return new Ek(t,n,i);case hm:return new Ik(t,n,i);case om:return new Nk(t,n,i);case sm:return new Ck(t,n,i);case fm:return new Dk(t,n,i);case lm:return new xk(t,n,i);case gm:return new Pk(t,n,i);case cm:default:return new bk(t,n,i)}},n.HE=function(t,n,i,r){var e=n.integration;if(e&&Om.JT.QT(e,me)){var s=Om.JT.ZT(e,me,n);return new xp(t,n,i,r,s)}switch(e){case um:return new Lk(t,n,i,r);case hm:return new Mk(t,n,i,r);case am:return new Hk(t,n,i,r);case em:return new Vk(t,n,i,r);case om:return new Xk(t,n,i,r);case sm:return new Wk(t,n,i,r);case cm:return new qk(t,n,i,r);case fm:return new zk(t,n,i,r);case vm:return new Gk(t,n,i,r);case dm:return new jk(t,n,i,r);case lm:return new Qk(t,n,i,r);case _m:return new Yk(t,n,i,r);case gm:return new Zk(t,n,i,r);case wm:return new Jk(t,n,i,r);case ym:return new ap(t,n,i,r);default:return new Bk(t,n,i,r,Yo.$e)}},n.VE=function(t,n,i){return new cp(t,n,i)},n.XE=function(t){return t.so===ce.Ku||t.so===ce.to||t.so===ce.io||t.so===ce.ro},n.ra=function(t,n){var i;if(t.so!==ce.Ku)return!1;if($(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Om.JT.QT(r,me))&&(r===em&&new Tk(n).ra)},n.nE=function(t,n){if(t.so===ce.to){var i=n.integration;if(!i||!Om.JT.QT(i,me))return i===em?uk.nE():void 0}},t}();!function(t){t[t.WE=0]="WE",t[t.qE=1]="qE",t[t.zE=2]="zE",t[t.GE=3]="GE",t[t.A_=4]="A_",t[t.jE=5]="jE",t[t.I_=6]="I_",t[t.QE=7]="QE",t[t.YE=8]="YE"}(Cp||(Cp={}));var Bp,Lp=function(){function t(){}return t.prototype.ZE=function(t){},M(t,[{key:"JE",get:function(){return 0}},{key:"$E",get:function(){return 0}}]),t}(),Mp=function(){function t(t,n){void 0===n&&(n=new Pp),this.Ub=void 0,this.KE=void 0,this.aE=void 0,this.Ub=t,this.KE=n}var n=t.prototype;return n.tS=function(t){this.aE=t},n.nE=function(t){var n=this.aE;if(void 0!==n)return this.KE.nE(t,n)},n.ra=function(t){var n=this.aE;return void 0!==n&&this.KE.ra(t,n)},n.nS=function(t){var n={zh:t.zh,iS:t.iS||[],pE:t.pE},i=this.KE.ME(n,this.aE||{},t.fT,this.Ub);return new Up(i)},t}(),Up=function(){function t(t){this.rS=void 0,this.rS=t}var n=t.prototype;return n.mT=function(t){return this.rS.mT(t)},n.kT=function(t,n,i){return this.rS.kT(n,i)},n.xT=function(){return this.rS.xT||void 0!==this.rS.OT},n.PT=function(t,n){return this.rS.PT(t,n)},n.BT=function(t,n,i){return n&&this.rS.wT(n),this.rS.BT(t,i)},n.Ao=function(){this.rS.Fv()},t}(),Fp=function(t){function n(n){var i;(i=t.call(this)||this).eS=[],i.sS=function(t){i.Cl(t.ul)},i.uS=function(t){var n=t.ul;i.oS(n)||i.Dl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.hS(e)}return i}F(n,t);var i=n.prototype;return i.hS=function(t){this.eS.push(t);for(var n=0,i=t.Pl;n<i.length;n++){var r=i[n];this.Cl(r)}this.aS(t)},i.cS=function(t){Qe(this.eS,t),this.fS(t);for(var n=0,i=t.Pl;n<i.length;n++){var r=i[n];this.oS(r)||this.Dl(r)}},i.oS=function(t){for(var n=0,i=this.eS;n<i.length;n++){if(i[n].Ol(t))return!0}return!1},i.aS=function(t){t.Mo(md.Jd,this.sS),t.Mo(md.Kd,this.uS)},i.fS=function(t){t.Vo(md.Jd,this.sS),t.Vo(md.Kd,this.uS)},i.Fv=function(){for(;this.eS.length>0;)this.cS(this.eS[0]);t.prototype.Fv.call(this)},i.sl=function(){return sl(this)},n}(Cd);function Hp(){return Bp||(Bp=kr&&kr.document&&kr.document.createElement("video")),Bp}var Vp=function(t){function n(n,i,r,e,s,u,o){var h;return void 0===u&&(u=new Pp),void 0===o&&(o=Xo()),(h=t.call(this)||this).vS=void 0,h.dS=void 0,h.lS=void 0,h.cg=void 0,h.fg=void 0,h.vg=void 0,h._S=void 0,h.gS=void 0,h.wS=void 0,h.yS=void 0,h.mS=void 0,h.Ub=void 0,h.fo=void 0,h.kS=void 0,h.pS=void 0,h.AS=new Lp,h.bS=function(t){var n=t.Jo,i=n.code,r=new Io(T_(i),"Something went wrong during native playback.",n),e=new p_(i,r.message,n.message);h.TS(r,e)},h.ES=function(){h.Lo(new Gl(h.H_,h.Xg))},h.SS=function(t){h.z_||(h.pS=void 0),h.Lo(t)},h.RS=function(t){h.pS=void 0,h.Lo(t)},h.IS=function(){h.Lo(new W_(h.qg))},h.NS=function(){h.Y_>0&&h.Q_>0&&h.Lo(new Oy)},h.CS=function(t){h.cg.Cl(new M_(t.track))},h.DS=function(t){var n=qp(h.cg,t.track);n&&h.cg.Dl(n)},h.OS=function(){h.xS(h.cg)},h.PS=function(t){h.fg.Cl(new X_(t.track))},h.LS=function(t){var n=qp(h.fg,t.track);n&&h.fg.Dl(n)},h.MS=function(){h.xS(h.fg)},h.US=function(t){h.Lo(t),h.TS(t.errorObject,b_(t.errorObject))},h.vS=i,h.Ub=r,h.fo=o,h.dS=h.vS.FS(E_.Cv),h.wS=h.dS.HS.preload,h.yS=new rm(h.dS,!0),h.yS.Mo(Xl,h.Bo),h.kS=new Mp(r,u),h.dS.VS=h.kS,h.XS(),h.cg=new S_,h.fg=new S_,h.WS(),h.mS=new Ey(h.dS,h.Ub),h.vg=new Fp([h.dS.yg]),h.Dg(),h}F(n,t);var i=n.prototype;return i.Og=function(){this.dS.Og()},i.Dg=function(){this.dS.Dg()},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(r),e={so:Dy.Gb,o_:n.src,Yf:n.type,qS:this.zS(n),Kg:this.wS,GS:n.crossOrigin,jS:i.metadata&&i.metadata.title},this.kS.tS(n.contentProtection),t.next=5,this.dS.Lh(e);case 5:this.lS=t.sent,os(r),i.textTracks&&this.QS(i.textTracks),Cy(this.yg);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QS=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.dS.YS()&&Y.me&&Vy&&!yy(i.kind,i.label)&&this.ZS(i)){var r,e=null!=(r=i.kind)?r:sy.pk;this.dS.JS(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.mS.Hb(i)}}},i.ZS=function(t){return!t.format||"webvtt"===t.format},i.kg=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.dS.kg();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.$S){t.next=12;break}return t.next=10,this.dS.zo(Qo.vc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.pg=function(){this.dS.pg()},i.Eg=function(){return void 0!==this.dS.HS.webkitShowPlaybackTargetPicker},i.Sg=function(){this.dS.HS.webkitShowPlaybackTargetPicker&&this.dS.HS.webkitShowPlaybackTargetPicker()},i.Rg=function(){this.dS.HS.webkitShowPlaybackTargetPicker&&this.dS.HS.webkitShowPlaybackTargetPicker()},i.xg=function(){return this.dS.HS},i.Pg=function(){return this.dS.KS},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._S=void 0,this.gS=void 0,this.lS=void 0,t.next=5,this.mS.xl();case 5:return this.dS.tR(),t.next=8,this.dS.xl();case 8:this.yS.xl(),this.Kg=this.wS,this.gg.xl(),this.wg.xl(),this.pS=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xl();case 2:return this.Ho(),this.nR(),this.iR(),this.yS.Fv(),this.dS.VS=void 0,t.next=9,this.vS.rR(this.dS);case 9:return this.cg.Fv(),this.fg.Fv(),this.vg.Fv(),t.next=14,this.mS.Fv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.XS=function(){this.dS.Mo(Qo.fc,this.Bo),this.dS.Mo(Qo.cc,this.Bo),this.dS.Mo(Qo.Tc,this.ES),this.dS.Mo(Qo.vc,this.Bo),this.dS.Mo(Qo.sc,this.Bo),this.dS.Mo(Qo.wc,this.Bo),this.dS.Mo(Qo.gc,this.SS),this.dS.Mo(Qo.ic,this.Bo),this.dS.Mo(Qo.dc,this.Bo),this.dS.Mo(Qo.Ec,this.Bo),this.dS.Mo(Qo.tc,this.Bo),this.dS.Mo(Qo._c,this.NS),this.dS.Mo(Ll.F_,this.RS),this.dS.Mo(Kd.n_,this.bS),this.dS.Mo(Qo.Ja,this.Bo),this.dS.Mo(Qo.Za,this.US),this.dS.HS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.IS)},i.nR=function(){this.dS.Vo(Qo.fc,this.Bo),this.dS.Vo(Qo.cc,this.Bo),this.dS.Vo(Qo.Tc,this.ES),this.dS.Vo(Qo.vc,this.Bo),this.dS.Vo(Qo.sc,this.Bo),this.dS.Vo(Qo.wc,this.Bo),this.dS.Vo(Qo.gc,this.SS),this.dS.Vo(Qo.ic,this.Bo),this.dS.Vo(Qo.dc,this.Bo),this.dS.Vo(Qo.Ec,this.Bo),this.dS.Vo(Qo.tc,this.Bo),this.dS.Vo(Qo._c,this.NS),this.dS.Vo(Ll.F_,this.RS),this.dS.Vo(Kd.n_,this.bS),this.dS.Vo(Qo.Ja,this.Bo),this.dS.Vo(Qo.Za,this.US),this.dS.HS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.IS)},i.zS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{zh:be,eR:[{initDataTypes:[be.oo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.WS=function(){var t=this.dS.HS.audioTracks,n=this.dS.HS.videoTracks;t&&(t.addEventListener("addtrack",this.CS),t.addEventListener("removetrack",this.DS),t.addEventListener("change",this.OS)),n&&(n.addEventListener("addtrack",this.PS),n.addEventListener("removetrack",this.LS),n.addEventListener("change",this.MS))},i.iR=function(){var t=this.dS.HS.audioTracks,n=this.dS.HS.videoTracks;t&&(t.removeEventListener("addtrack",this.CS),t.removeEventListener("removetrack",this.DS),t.removeEventListener("change",this.OS)),n&&(n.removeEventListener("addtrack",this.PS),n.removeEventListener("removetrack",this.LS),n.removeEventListener("change",this.MS))},i.xS=function(t){for(var n=0;n<t.Bl;n++){t.Nl(n).aw()}},i.Hg=function(){this.dS.Hg()},i.TS=function(t,n){this._S||(this._S=n,this.gS=t,this.Lo(new n_(t)))},M(n,[{key:"$S",get:function(){var t=this.dS.Vg,n=this.H_;return t.sR(n,.01)}},{key:"gg",get:function(){return this.cg}},{key:"Vg",get:function(){return this.dS.Vg.uR()}},{key:"Xg",get:function(){return this.dS.Xg},set:function(t){t&&this.dS.oR(t)}},{key:"H_",get:function(){return void 0!==this.pS?this.pS:this.dS.H_},set:function(t){this.qg&&(this.pS=t),this.dS.dh(t)}},{key:"V_",get:function(){return this.dS.V_}},{key:"X_",get:function(){return this.dS.X_}},{key:"Jo",get:function(){return this._S}},{key:"W_",get:function(){return this.gS}},{key:"mg",get:function(){}},{key:"qg",get:function(){return this.dS.qg}},{key:"eg",get:function(){return te({},{zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.dS.hR())}},{key:"q_",get:function(){return this.dS.q_},set:function(t){this.dS.q_=t}},{key:"Jg",get:function(){return!0}},{key:"z_",get:function(){return this.dS.z_}},{key:"G_",get:function(){return this.dS.G_},set:function(t){this.dS.G_=t}},{key:"$g",get:function(){return this.dS.HS.played}},{key:"Kg",get:function(){return this.wS},set:function(t){this.wS=t,this.lS&&(this.lS.Kg=t)}},{key:"e_",get:function(){return this.dS.e_}},{key:"tw",get:function(){return this.dS.tw.uR()}},{key:"j_",get:function(){return this.dS.j_}},{key:"aR",get:function(){return this.dS.aR}},{key:"yg",get:function(){return this.vg}},{key:"wg",get:function(){return this.fg}},{key:"Q_",get:function(){return this.dS.Q_}},{key:"Y_",get:function(){return this.dS.Y_}},{key:"Z_",get:function(){return this.dS.Z_},set:function(t){this.dS.Z_=t}},{key:"cR",get:function(){return this.AS}}]),n}(hl);function Xp(t){return!t.type||!(!Hp().canPlayType||!Hp().canPlayType(t.type))}var Wp=function(){function t(){this.fR=Cp.YE}var n=t.prototype;return n.qT=function(t,n,i,r,e,s){return new Vp(t,n,i,r,e)},n.vR=function(t,n){return Xp(t)},n.dR=function(){return!1},t}();function qp(t,n){for(var i=0,r=t.Pl;i<r.length;i++){var e=r[i];if(e.vw===n)return e}}var zp=function(){function t(){this.lR=new Wp,this._R=[]}t.gR=function(){return this.Qe};var n=t.prototype;return n.wR=function(t){this._R.push(t)},n.qT=function(t,n,i,r,e,s){for(var u=this.lR.qT(t,n,i,r,e,s),o=0,h=this._R;o<h.length;o++){u=(0,h[o])(u,i,r)}return u},n.vR=function(t,n){return this.lR.vR(t,n)},n.dR=function(){return!1},M(t,[{key:"fR",get:function(){return this.lR.fR}}]),t}();function Gp(t,n){return dg(t.fR,n.fR)}function jp(t){Qp.Qe.yR(t)}zp.Qe=new zp;var Qp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).mR=zp.gR(),n}F(n,t);var i=n.prototype;return i.kR=function(t){this.mR=t},i.pR=function(){return this.mR},i.AR=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.bR(e,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{ER:e,SR:s});case 8:r++,t.next=1;break;case 11:u=this.mR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.vR(h,i)){t.next=17;break}return t.abrupt("return",{ER:h,SR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{ER:n[0],SR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.RR=[]}var n=t.prototype;return n.yR=function(t){this.RR.push(t),this.RR.sort(Gp)},n.bR=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.RR;case 1:if(!(r<e.length)){t.next=17;break}if(s=e[r],!st(u=s.vR(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Qp.Qe=new Qp;var Yp,Zp=function(){function t(t){this.IR=void 0,this.IR=kr&&kr.document&&kr.document.createElement("div"),Cr(this.IR),t.appendChild(this.IR)}return t.prototype.Fv=function(){Sr(this.IR)},t}();function Jp(t){switch(t){case Yp.NR:case"":return Yp.NR;case Yp.bk:return Yp.bk;case Yp.DR:default:return Yp.DR}}!function(t){t.YE="",t.DR="none",t.bk="metadata",t.NR="auto"}(Yp||(Yp={}));var $p=[Kd.n_,Qo.nc,Qo.$o,Qo.Ic,Qo.Ga,Qo.rc,Qo.hc,Qo.ac,Qo.mc,Qo.pc,Ll.P_,Ll.B_,Ll.L_,Ll.M_,Ll.ml,Ll.U_,Ll.F_,Qo.Za,Qo.Ja,Qo.tc,Qo.ic,Qo.sc,Qo.uc,Qo.fc,Qo.vc,Qo.cc,Qo.dc,Qo._c,Qo.wc,Qo.gc,Qo.Tc,Qo.Ec,Qo.lc,Qo.oc,Qo.yc],Kp=function(t){function n(n,i){var r;return(r=t.call(this)||this).OR=void 0,r.xR=void 0,r.PR=void 0,r.LR=void 0,r.wS=Yp.DR,r.MR=void 0,r.UR=!0,r.cg=new tl,r.fg=new tl,r.vg=new ol,r.dg=new y_,r.OR=n,r.PR=i,r.PR.Kg=r.Kg,r.FR(),r}F(n,t);var i=n.prototype;return i.pg=function(){this.PR.pg()},i.kg=function(){var t=this.PR.kg();st(t)&&_s(t)},i.Ag=function(){return this.Tg(void 0)},i.Ig=function(){},i.Lg=function(t){return!1},i.FR=function(){this.cg.Vl=this.PR.gg,this.fg.Vl=this.PR.wg,this.vg.Vl=this.PR.yg,this.dg.Vl=this.PR.mg,this.PR.Mo($p,this.Bo)},i.HR=function(){this.PR.Vo($p,this.Bo),this.cg.Vl=void 0,this.fg.Vl=void 0,this.vg.Vl=void 0,this.dg.Vl=void 0},i.bg=function(){return this.MR},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),this.MR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Cl(r=n.sources.filter(Bl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.OR.AR(r,n);case 9:if(e=t.sent,os(i),s=e.ER,u=e.SR,o=this.Pg(),h=e_(this),this.xR===u&&!this.Jo){t.next=25;break}return this.HR(),t.next=19,this.PR.Fv();case 19:os(i),this.xR=u,this.PR=this.XR(u),tA(this.PR,h),u_(this,h,this),this.FR();case 25:return this.PR.Kg=this.Kg,this.UR?this.PR.Dg():this.PR.Og(),t.next=29,this.PR.Tg(s,n,i);case 29:os(i),this.WR(s),this.Pg()!==o&&this.Lo(new cl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WR=function(t){this.LR!==t&&(this.LR=t,this.Lo(new fl(t)))},i.Eg=function(){return this.PR.Eg()},i.Sg=function(){this.PR.Sg()},i.Rg=function(){this.PR.Rg()},i.Pg=function(){return this.PR.Pg()},i.Hg=function(){this.PR.Hg()},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.MR=void 0,this.WR(void 0),t.next=4,this.PR.xl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),t.next=3,this.xl();case 3:return t.next=5,this.PR.Fv();case 5:this.cg.Fv(),this.fg.Fv(),this.vg.Fv(),this.dg.Fv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dg=function(){this.UR=!0,this.PR.Dg()},i.Og=function(){this.UR=!1,this.PR.Og()},M(n,[{key:"gg",get:function(){return this.cg}},{key:"Vg",get:function(){return this.PR.Vg}},{key:"Jo",get:function(){return this.PR.Jo}},{key:"W_",get:function(){return this.PR.W_}},{key:"Xg",get:function(){return this.PR.Xg},set:function(t){this.PR.Xg=t}},{key:"Fg",get:function(){return this.LR}},{key:"H_",get:function(){return this.PR.H_},set:function(t){this.PR.H_=t}},{key:"V_",get:function(){return this.PR.V_}},{key:"X_",get:function(){return this.PR.X_}},{key:"mg",get:function(){return this.dg}},{key:"qg",get:function(){return this.PR.qg}},{key:"eg",get:function(){return this.PR.eg}},{key:"q_",get:function(){return this.PR.q_},set:function(t){this.PR.q_=t}},{key:"Jg",get:function(){return this.PR.Jg}},{key:"z_",get:function(){return this.PR.z_}},{key:"G_",get:function(){return this.PR.G_},set:function(t){this.PR.G_=t}},{key:"$g",get:function(){return this.PR.$g}},{key:"Kg",get:function(){return this.wS},set:function(t){this.wS=t,this.PR&&(this.PR.Kg=this.wS)}},{key:"e_",get:function(){return this.PR.e_}},{key:"tw",get:function(){return this.PR.tw}},{key:"j_",get:function(){return this.PR.j_}},{key:"yg",get:function(){return this.vg}},{key:"Q_",get:function(){return this.PR.Q_}},{key:"wg",get:function(){return this.fg}},{key:"Y_",get:function(){return this.PR.Y_}},{key:"Z_",get:function(){return this.PR.Z_},set:function(t){this.PR.Z_=t}},{key:"cR",get:function(){return this.PR.cR}}]),n}(bs);function tA(t,n){t.q_!==n.q_&&(t.q_=n.q_),t.Z_!==n.Z_&&(t.Z_=n.Z_),t.G_!==n.G_&&(t.G_=n.G_)}var nA,iA=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bl=void 0,r.qR=void 0,r.zR=void 0,r.Bl=n.length>>1,r.qR=n,r.zR=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Bl),r}F(n,t);var i=n.prototype;return i.GR=function(t){return this.qR[2*t]},i.jR=function(t){return this.zR[2*t]},i.QR=function(t){return this.qR[2*t+1]},i.YR=function(t){return this.zR[2*t+1]},M(n,[{key:"ZR",get:function(){return this.qR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Hw=function(t,n){return 0===this.iy(t,n)},n.Py=function(t,n){return this.iy(t,n)>0},n.By=function(t,n){return this.iy(t,n)>=0},n.hy=function(t,n){return this.iy(t,n)<0},n.uy=function(t,n){return this.iy(t,n)<=0},n.tm=function(t,n){return this.hy(t,n)?t:n},n.Ky=function(t,n){return this.Py(t,n)?t:n},n.JR=function(t,n,i){return i?this.uy(t,n):this.hy(t,n)},n.uR=function(){var t=this;return{get length(){return t.Bl},start:function(n){var i=0|n;return t.$R(i),t.KR(t.GR(i))},end:function(n){var i=0|n;return t.$R(i),t.KR(t.QR(i))}}},n.tI=function(){for(var t=new Array(2*this.Bl),n=new Array(2*this.Bl),i=0;i<this.Bl;i++)t[2*i]=this.GR(i),t[2*i+1]=this.QR(i),n[2*i]=!0,n[2*i+1]=!0;return this.nI(t,n)},n.$R=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Bl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Bl+")")},n.iI=function(t){if(0===this.Bl)return this.rI();if(this.sR(t))return t;if(this.uy(t,this.GR(0)))return this.GR(0);if(this.By(t,this.QR(this.Bl-1)))return this.QR(this.Bl-1);for(var n,i=this.eI(),r=0;r<this.Bl;r++){var e=this.GR(r),s=this.oy(e,t);this.hy(s,i)&&(n=e,i=s);var u=this.QR(r),o=this.oy(this.QR(r),t);this.hy(o,i)&&(n=u,i=o)}return n},n.sI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Bl&&i<t.Bl;){var s=this.GR(n),u=this.QR(n),o=this.jR(n),h=this.YR(n),a=t.GR(i),c=t.QR(i),f=t.jR(i),v=t.YR(i),d=this.Ky(s,a),l=this.tm(u,c),_=void 0;_=this.Hw(s,a)?o&&f:this.Hw(d,s)?o:f;var g=void 0;g=this.Hw(u,c)?h&&v:this.Hw(l,u)?h:v,(this.hy(d,l)||_&&g&&this.Hw(d,l))&&(r.push(d,l),e.push(_,g));var w=this.iy(this.QR(n),t.QR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.nI(r,e)},n.uI=function(){var t=this.oI(),n=t.Bl;if(0===n)return this.nI([t.hI(),t.eI()],[!1,!1]);var i=[],r=[],e=t.GR(0);t.Hw(e,t.hI())||(i.push(t.hI(),e),r.push(!1,!t.jR(0)));for(var s=0;s<n-1;s++)i.push(t.QR(s),t.GR(s+1)),r.push(!t.YR(s),!t.jR(s+1));var u=t.QR(n-1);return t.Hw(u,t.eI())||(i.push(u,t.eI()),r.push(!t.YR(n-1),!1)),t.nI(i,r)},n.aI=function(t){for(var n=0,i=0,r=this.Bl,e=t.Bl,s=new Array(2*(r+e)),u=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.GR(n),a=this.QR(n),c=t.GR(i),f=t.QR(i);this.hy(h,c)||this.Hw(h,c)&&this.hy(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.jR(n),u[o+1]=this.YR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.jR(i),u[o+1]=t.YR(i),i++),o+=2}for(;n<r;)s[o]=this.GR(n),s[o+1]=this.QR(n),u[o]=this.jR(n),u[o+1]=this.YR(n),n++,o+=2;for(;i<e;)s[o]=t.GR(i),s[o+1]=t.QR(i),u[o]=t.jR(i),u[o+1]=t.YR(i),i++,o+=2;return this.nI(s,u)},n.cI=function(t){void 0===t&&(t=this.rI());var n=this.Bl;if(n<2)return this;for(var i=[],r=[],e=this.GR(0),s=this.QR(0),u=this.jR(0),o=this.YR(0),h=1;h<n;h++){var a=this.GR(h),c=this.QR(h),f=this.jR(h),v=this.YR(h);this.hy(e,a)&&this.Py(s,c)||(this.Hw(e,a)&&(u=f=u||f),this.Hw(s,c)&&(o=v=o||v),this.JR(a,this.iw(s,t),o||f)?(s=c,o=v):(i.push(e,s),r.push(u,o),e=a,s=c,u=f,o=v))}return i.push(e,s),r.push(u,o),this.nI(i,r).oI()},n.oI=function(){for(var t=[],n=[],i=0;i<this.Bl;i++){var r=this.GR(i),e=this.QR(i),s=this.jR(i),u=this.YR(i);this.Hw(r,e)?(s||u)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(s,u))}return this.nI(t,n)},n.fI=function(t){return this.Bl?t.Bl?this.aI(t).cI():this:t},n.vI=function(t){var n=this.oI(),i=t.oI(),r=n.uI(),e=i.uI(),s=r.sI(i),u=e.sI(n);return s.fI(u)},n.vh=function(t){if(this.Hw(t,this.rI()))return this;for(var n=[],i=[],r=0;r<this.Bl;r++){var e=this.iw(this.GR(r),t),s=this.iw(this.QR(r),t);n.push(e,s),i.push(this.jR(r),this.YR(r))}return this.nI(n,i)},n.dI=function(t){return 0===this.Bl||0===t.Bl?this:this.oI().sI(t.oI().uI())},n.sR=function(t,n){return this.lI(t,n)>=0},n._I=function(t,n,i,r,e){return this.gI(t,n,i,r,e)>=0},n.wI=function(t,n,i,r,e){return this.yI(t,n,i,r,e)>=0},n.mI=function(t){if(t.Bl!==this.Bl)return!1;for(var n=0;n<this.Bl;n++)if(!this.Hw(this.GR(n),t.GR(n))||!this.Hw(this.QR(n),t.QR(n))||this.jR(n)!==t.jR(n)||this.YR(n)!==t.YR(n))return!1;return!0},n.kI=function(t){for(var n=[],i=[],r=0;r<this.Bl;r++){var e=this.GR(r),s=this.QR(r),u=this.jR(r),o=this.YR(r);t(e,s,u,o)&&(n.push(e,s),i.push(u,o))}return this.nI(n,i)},n.yI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.rI());for(var s=this._y(t,e),u=this.iw(n,e),o=0;o<this.Bl;o+=1)if(this.JR(this.GR(o),u,!r||this.jR(o))&&this.JR(s,this.QR(o),!i||this.YR(o)))return o;return-1},n.gI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.rI());for(var s=this.iw(t,e),u=this._y(n,e),o=0;o<this.Bl;o+=1)if(this.JR(this.GR(o),s,!i||this.jR(o))&&this.JR(u,this.QR(o),!r||this.YR(o)))return o;return-1},n.lI=function(t,n){return this.gI(t,t,!0,!0,n)},n.pI=function(t,n){void 0===n&&(n=this.rI());for(var i=this.iw(t,n),r=this.Bl-1;r>=0;r-=1)if(this.JR(this.GR(r),i,this.jR(r)))return r;return-1},n.AI=function(t,n){void 0===n&&(n=this.rI());for(var i=this._y(t,n),r=0;r<this.Bl;r+=1)if(this.JR(i,this.QR(r),this.YR(r)))return r;return-1},n.bI=function(t){return this.$R(t),this.nI([this.GR(t),this.QR(t)],[this.jR(t),this.YR(t)])},n.TI=function(t,n){var i=this.lI(t,n);return i<0?void 0:this.bI(i)},M(t,[{key:"EI",get:function(){for(var t=this.rI(),n=0;n<this.Bl;n++){var i=this._y(this.QR(n),this.GR(n));t=this.iw(t,i)}return t}}]),t}()),rA=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.iy=function(t,n){return t<n?fg.$w:t===n?fg.Zw:fg.Jw},i.iw=function(t,n){return t+n},i._y=function(t,n){return t-n},i.oy=function(t,n){return _.abs(t-n)},i.rI=function(){return 0},i.eI=function(){return 1/0},i.hI=function(){return-1/0},n.SI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.RI=function(t){for(var i=[],r=[],e=0;e<t.Bl;e++)i.push(t.GR(e).rm),i.push(t.QR(e).rm),r.push(t.jR(e)),r.push(t.YR(e));return new n(i,r)},n.II=function(t){return new n([t,t],[!0,!0])},i.nI=function(t,i){return new n(t,i)},i.KR=function(t){return t},n.NI=function(){return eA},n}(iA),eA=new rA([]);!function(t){t.wl="fullscreenchange",t.CI="fullscreensupportchange",t.n_="fullscreenerror"}(nA||(nA={}));var sA=function(t){function n(){return t.call(this,nA.n_)||this}return F(n,t),n}(Es),uA=new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.ww=function(){this.Lo(new sA)},i.mw=function(){},i.Fv=function(){this.Ho()},M(n,[{key:"DI",get:function(){return!1}},{key:"OI",get:function(){return!1}}]),n}(bs)),oA=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vS=void 0,n.dS=void 0,n}F(n,t);var i=n.prototype;return i.xg=function(){var t;return null==(t=this.dS)?void 0:t.HS},i.Fv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Fv.call(this);case 2:if(!this.dS){n.next=6;break}return n.next=5,this.vS.rR(this.dS);case 5:this.dS=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"xI",set:function(t){this.vS=t,this.dS=t.FS(E_.Cv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).BI=0,n.LI=!1,n.MI=!0,n.UI=1,n.FI=!1,n.HI=1,n.gg=new S_,n.Vg=rA.NI().uR(),n.V_=NaN,n.X_=!1,n.Jo=void 0,n.W_=void 0,n.mg=void 0,n.qg=!1,n.Jg=!0,n.$g=rA.NI().uR(),n.Kg=Yp.DR,n.e_=yl.N_,n.tw=rA.NI().uR(),n.aR=void 0,n.yg=new uy,n.Q_=0,n.wg=new S_,n.Y_=0,n.AS=new Lp,n}F(n,t);var i=n.prototype;return i.Dg=function(){},i.Og=function(){},i.kg=function(){this.MI&&(this.MI=!1,this.Lo(new Fl(this.H_)),this.Lo(new nm(this.H_)))},i.pg=function(){this.MI||(this.MI=!0,this.Lo(new Gl(this.H_,this.Xg)),this.Lo(new Ul(this.H_)))},i.Tg=function(t,n){return E.resolve()},i.Eg=function(){return!1},i.Sg=function(){},i.Rg=function(){},i.Pg=function(){return uA},i.Hg=function(){},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.BI=0,this.FI=!1,this.pg(),this.Lo(new Ml(this.BI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ho(),this.gg.Fv(),this.yg.Fv(),this.wg.Fv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Xg",get:function(){},set:function(t){}},{key:"H_",get:function(){return this.BI},set:function(t){this.BI!==t&&(this.BI=t,this.FI=!0,this.Lo(new Yl(this.H_)))}},{key:"eg",get:function(){return{zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"q_",get:function(){return this.LI},set:function(t){this.LI!==t&&(this.LI=t,this.Lo(new Jl(this.H_,this.Z_)))}},{key:"z_",get:function(){return this.MI}},{key:"G_",get:function(){return this.UI},set:function(t){this.UI!==t&&(this.UI=t,this.Lo(new zl(this.H_,this.G_)))}},{key:"j_",get:function(){return this.FI}},{key:"Z_",get:function(){return this.HI},set:function(t){this.HI!==t&&(this.HI=t,this.Lo(new Jl(this.H_,this.Z_)))}},{key:"cR",get:function(){return this.AS}}]),n}(bs)),hA=function(t){function n(n,i,r,e,s,u){var o,h=new oA;return(o=t.call(this,Qp.Qe,h)||this).ya=void 0,o.VI=void 0,o.XI=void 0,o.WI=void 0,o.Ub=void 0,o.qI=void 0,o.zI=void 0,o.XI=n,o.ya=i,o.Ub=r,o.qI=e,o.WI=u,o.VI=new wr(s,o.WI),o.VI.GI(o.XI),h.xI=o.VI,o.zI=new Zp(o.XI),o}F(n,t);var i=n.prototype;return i.Ig=function(){t.prototype.Ig.call(this),this.VI.jI()},i.Ng=function(t){s_(this,t)},i.Cg=function(){},i.XR=function(t){return t.qT(this.XI,this.VI,this.Ub,this.ya,this.qI,this.WI)},i.xg=function(){return this.PR.xg()},i.Bg=function(){return this.VI.QI.map(function(t){return t.HS})},i.Fo=function(n){t.prototype.Fo.call(this,n)},i.qo=function(n){t.prototype.qo.call(this,n)},i.Fv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Fv.call(this);case 2:this.VI.Fv(),this.zI.Fv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"Wg",get:function(){return this.XI}}]),n}(Kp),aA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).XI=void 0,e.YI=void 0,e.ZI=void 0,e.JI=void 0,e.$I=void 0,e.XI=n,e.YI=i,e.JI=new S_,e.$I=new uy,e.ZI=r,e}F(n,t);var i=n.prototype;return i.Lg=function(t){return!0},i.Og=function(){},i.kg=function(){throw this.Lo(new n_(this.ZI)),this.YI},i.pg=function(){},i.bg=function(){},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw os(i),this.Lo(new n_(this.ZI)),this.YI;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Dg=function(){},i.Ag=function(){return E.resolve()},i.xg=function(){},i.Pg=function(){return uA},i.Bg=function(){return[]},i.Ig=function(){},i.Ng=function(t){},i.Cg=function(){},i.Eg=function(){return!1},i.Sg=function(){},i.Rg=function(){},i.Hg=function(){},i.xl=function(){return E.resolve()},i.Fv=function(){return this.Ho(),this.JI.Fv(),this.$I.Fv(),E.resolve()},M(n,[{key:"gg",get:function(){return this.JI}},{key:"Vg",get:function(){return rA.NI().uR()}},{key:"Xg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Fg",get:function(){}},{key:"H_",get:function(){return 0},set:function(t){}},{key:"V_",get:function(){return 0}},{key:"Wg",get:function(){return this.XI}},{key:"X_",get:function(){return!0}},{key:"Jo",get:function(){return this.YI}},{key:"W_",get:function(){return this.ZI}},{key:"mg",get:function(){}},{key:"eg",get:function(){return{zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"q_",get:function(){return!1},set:function(t){}},{key:"Jg",get:function(){return!0}},{key:"z_",get:function(){return!0}},{key:"G_",get:function(){return 0},set:function(t){}},{key:"$g",get:function(){return rA.NI().uR()}},{key:"Kg",get:function(){return Yp.DR},set:function(t){}},{key:"e_",get:function(){return yl.N_}},{key:"tw",get:function(){return rA.NI().uR()}},{key:"j_",get:function(){return!1}},{key:"yg",get:function(){return this.$I}},{key:"Q_",get:function(){return 0}},{key:"wg",get:function(){return this.JI}},{key:"Y_",get:function(){return 0}},{key:"Z_",get:function(){return 1},set:function(t){}},{key:"qg",get:function(){return!1}}]),n}(al);function cA(t){if(t&&nt(t))return te({},t,{integration:fA(t.integration),fairplay:yA(t.fairplay),widevine:vA(t.widevine),playready:dA(t.playready),clearkey:mA(t.clearkey),aes128:kA(t.aes128),integrationParameters:pA(t.integrationParameters),preferredKeySystems:AA(t.preferredKeySystems)})}function fA(t){if(rt(t))return t}function vA(t){if(t&&nt(t))return{persistentState:lA(t.persistentState),distinctiveIdentifier:lA(t.distinctiveIdentifier),audioRobustness:_A(t.audioRobustness),videoRobustness:_A(t.videoRobustness),licenseAcquisitionURL:rt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:gA(t.licenseType),headers:t.headers,useCredentials:!!et(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:rt(t.certificate)||Vu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:wA(t.certificateRequestProcessor),certificateResponseProcessor:wA(t.certificateResponseProcessor),licenseRequestProcessor:wA(t.licenseRequestProcessor),licenseResponseProcessor:wA(t.licenseResponseProcessor)}}function dA(t){if(t){var n=vA(t);if(n)return te({},n,{customData:rt(t.customData)?t.customData:void 0})}}function lA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function _A(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function gA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function wA(t){if("function"==typeof t)return t}function yA(t){if(t){var n=vA(t);if(n)return te({},n,{certificateURL:rt(t.certificateURL)?t.certificateURL:void 0})}}function mA(t){if(t){var n=vA(t);if(n)return te({},n,{keys:K(t.keys)?t.keys.map(function(t){return function(t){if(!t||!nt(t))return;var n=t.id,i=t.value;if(!rt(n)||!rt(i))return;return{id:n,value:i}}(t)}).filter($):void 0})}}function kA(t){if(nt(t))return{useCredentials:et(t.useCredentials)?t.useCredentials:void 0}}function pA(t){if(nt(t))return t}function AA(t){return t&&K(t)?t.map(function(t){return Jm(t)}).filter($):[we,_e,me]}var bA,TA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return F(n,t),n}(Es),EA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).KI=[],r.tN=void 0,r.nN=function(t){ls(function(){r.Bo(t)})},r.tN=i?r.nN:r.Bo,r}F(n,t);var i=n.prototype;return i.iN=function(t){t.Fo(this.tN),this.KI.push(t)},i.rN=function(t){t.qo(this.tN),Qe(this.KI,t)},i.Fv=function(){this.Ho();for(var t=0,n=this.KI;t<n.length;t++){n[t].qo(this.tN)}Je(this.KI)},n}(hl),SA=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(EA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(bA||(bA={}));var RA,IA=function(t){function i(n){var i;return(i=t.call(this)||this).eN=void 0,i.sN=void 0,i.uN=!1,i.oN=!1,i.hN=void 0,i.aN=void 0,i.cN=void 0,i.nl=void 0,i.fN=function(){return i.vN()},i.dN=function(){return i.lN()},i.cN=n,i.eN=i.sN=i.hN=i.aN=bA.INLINE,i.cN.Mo(nA.wl,i.fN),i.cN.Mo(nA.n_,i.dN),i._N(),i}F(i,t);var r=i.prototype;return r.sl=function(){return t=this,i={get currentMode(){return t.gN()},requestMode:function(n){var i=CA(n);i&&t.wN(i)},supportsMode:function(n){var i=CA(n);return!!i&&t.yN(i)},addEventListener:function(t,i){n.Mo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},(n=new EA(i,!0)).iN(t),i;var t,n,i},r.wN=function(t){this.mN(t,t)},r.mN=function(t,n){this.sN!==n&&(this.uN=!0,this.eN=t,this.kN(n,this.sN),t!==bA.FULLSCREEN&&(this.hN=t),this.uN=!1,this._N())},r.gN=function(){return this.oN?bA.FULLSCREEN:bA.INLINE},r.yN=function(t){switch(t){case bA.FULLSCREEN:return this.cN.OI;case bA.INLINE:return!0}return!1},r._N=function(){if(!this.uN){var t=this.sN,n=this.gN();this.sN=n,n!==bA.FULLSCREEN&&(this.aN=n),t!==n&&this.Lo(new TA(n))}},r.kN=function(t,n){var i=t===bA.FULLSCREEN;this.oN=i,i!==this.cN.DI&&(i?this.cN.ww():this.cN.mw())},r.vN=function(){if(!this.uN){var t=this.cN.DI;this.oN=t,t?this.mN(bA.FULLSCREEN,bA.FULLSCREEN):t||this.eN!==bA.FULLSCREEN?this._N():this.mN(this.hN,this.aN)}},r.lN=function(){this.vN(),this.Lo(new n_(new Io(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Fv=function(){this.cN.Fv(),this.Ho()},M(i,[{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}}]),i}(hl),NA={H_:0,V_:NaN,X_:!1,Jo:void 0,W_:void 0,q_:!1,z_:!0,G_:1,e_:yl.N_,j_:!1,Q_:0,Y_:0,Z_:1};function CA(t){switch(t){case bA.INLINE:case bA.FULLSCREEN:case bA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(RA||(RA={}));var DA,OA,xA,PA,BA,LA,MA,UA,FA=function(){function t(){this.pN=[]}var n=t.prototype;return n.AN=function(t){var n=this.bN.filter(function(n){return n.TN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.EN=function(t){this.pN.push(t)},M(t,[{key:"bN",get:function(){return this.pN}}]),t}();FA.Qe=new FA,function(t){t.F_="PLAYING",t.ug="PAUSED",t.SN="SEEK",t.RN="STALLED",t.IN="FAILED",t.NN="INITIAL_BUFFERING",t.CN="NO_ACCESS"}(DA||(DA={})),function(t){t.DN="HTTP_REQUEST_STATUS_CODE_1XX",t.ON="HTTP_REQUEST_STATUS_CODE_2XX",t.xN="HTTP_REQUEST_STATUS_CODE_3XX",t.PN="HTTP_REQUEST_STATUS_CODE_4XX",t.BN="HTTP_REQUEST_STATUS_CODE_5XX",t.LN="BUFFER_LENGTH",t.MN="BYTES_RECEIVED",t.UN="SEGMENT_READ_BITRATE",t.FN="SEGMENT_PROFILE_BITRATE",t.HN="NUMBER_OF_FRAMES_DROPPED",t.VN="PLAYBACK_POSITION",t.XN="NUMBER_OF_FRAMES_DECODED",t.WN="PLAYBACK_DELTA_TO_ORIGIN",t.qN="STREAM_DELTA_TO_ORIGIN",t.zN="ORIGIN_TIMESTAMP"}(OA||(OA={})),function(t){t.GN="MANIFEST_URI",t.jN="ASSET_DURATION",t.QN="NUMBER_OF_CONTENT_PROFILES",t.YN="CDN",t.ZN="CONTENT_TITLE",t.JN="SERVICE_NAME",t.$N="CONTENT_TYPE",t.KN="CONTENT_DESCRIPTION"}(xA||(xA={})),function(t){t.tC="shutdown_normal_shutdown"}(PA||(PA={})),function(t){t.nC="session/",t.iC="internalError/",t.rC="drmError/",t.eC="caError/",t.sC="networkError/"}(BA||(BA={})),function(t){t.uC="userAction",t.oC="endOfStreamReached"}(LA||(LA={})),function(t){t.PAUSE="hC",t.RESUME="aC"}(MA||(MA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(UA||(UA={}));var HA,VA,XA,WA,qA,zA="agama";function GA(t){return function(t){switch(t){case HA.NONE:case HA.HORIZONTAL:case HA.VERTICAL:return!0;default:return!1}}(t)?t:HA.NONE}function jA(t){switch(t){case"":return HA.NONE;case"horizontal":return HA.HORIZONTAL;case"vertical":return HA.VERTICAL;default:throw new d}}function QA(t){return{useSeamlessPeriodSwitch:YA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function YA(t){if(!t||!rt(t))return VA.NR;switch(t){case"always":return VA.cC;case"never":return VA.fC;default:return VA.NR}}function ZA(t){return{discontinuityAlignment:JA(null==t?void 0:t.discontinuityAlignment)}}function JA(t){if(!t||!rt(t))return XA.NR;switch(t){case"playlist":return XA.vC;case"media":return XA.dC;default:return XA.NR}}function $A(t,n,i){var r=function(t,n){var i=ll.E_;t.useCredentials?i=ll.T_:t.crossOrigin&&(i=Al(t.crossOrigin));i===ll.E_&&n&&n.vr&&n.vr[360]&&(i=ll.b_);return{useCredentials:i===ll.T_,crossOrigin:i}}(t,n),e=r.useCredentials,s=r.crossOrigin,u=t.liveOffset;$(u)||(u=i&&$(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;$(o)||(o=n&&$(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return $(h)||(h=i&&$(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:e,liveOffset:u,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:$(t.dash)?QA(t.dash):void 0,hls:$(t.hls)?ZA(t.hls):void 0}}function KA(t){if(null!==t)return t}function tb(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:KA(t.streamActivityMonitorID),adTagParameters:nt(t.adTagParameters)?t.adTagParameters:{},authToken:KA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?te({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void T.pu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void T.pu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?te({},i,{availabilityType:"live",assetKey:s}):void T.pu("A Live DAI configuration was provided without valid assetKey which is required.")}T.pu("A DAI configuration was provided without a valid availabilityType which is required.")}function nb(t){switch(t.integration){case"google-dai":return tb(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function ib(t,n,i){var r=$A(t,n,i),e=KA(t.src),s=t.type;return s||(s=t.src?pl(t.src):void 0),te({},r,{src:e,type:s,contentProtection:function(t,n){var i;i=$(t.contentProtection)?t.contentProtection:$(t.drm)?t.drm:$(n)&&$(n.contentProtection)?n.contentProtection:$(n)&&$(n.drm)?n.drm:void 0;return rb(i)}(t,n),ssai:$(t.ssai)?nb(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function rb(t){if(!Wm(t)||!t.integration)return t;switch(t.integration){case cm:return n=t,i=Zm(ce.to,n),r=Zm(ce.Ku,n),e=n[ce.io]&&Zm(ce.io,n),te({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function eb(t){if(!t)return!0;var n,i,r=!(Nl(n=t.sources)||tt(n)&&Nl(n[0]))||Cl(t.sources),e=!t.ads||(!(i=t.ads)||K(i)&&0===i.length),s=""!==t.poster&&!t.poster;return r&&e&&s}function sb(t){if(t&&t.sources)return function t(n){if(rt(n))return n;if(Il(n))return n.src;if(tt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function ub(t,n,i){return Sl(t)?function(t,n,i){var r=te({},Dl(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:WA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:qA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,rt(e)?e:tt(e)&&rt(e[0])?e:nt(s=e)&&rt(s.userId)&&(tt(s.externalId)||rt(s.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,s;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return qA.CHANNEL;case"event":return qA.EVENT;case"asset":default:return qA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Vd(t.contentProtected));t.assetInfo?r.assetInfo=Vd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(u=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!et(o.adImpressions)&&o.adImpressions,a=!!et(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=et(o.linearAdData)?o.linearAdData:u!==qA.ASSET):u!==qA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=hb(r=ob(r,t),n,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var r=Ol(),e=n&&(n.contentProtection||n.drm);if(rt(t)){if(r.src=t,r.type=pl(t),e){var s=cA(e);r.contentProtection=rb(s)}}else if(Il(t)||El(t)){r.src=t.src,r.type=t.type||pl(t.src),r.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===_l.R_||t.type===_l.I_}(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u);var o=t.contentProtection||t.drm||e,h=cA(o);r.contentProtection=rb(h),t.ssai&&(r.ssai=nb(t.ssai)),r=ob(r,t)}return r=hb(r,n,i)}(t,n,i)}function ob(t,n){n.useCredentials?t.crossOrigin=ll.T_:n.crossOrigin&&(t.crossOrigin=Al(n.crossOrigin)),rt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Vd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Vd(n.useNativePlayback)),n.dash&&(t.dash=QA(n.dash)),n.hls&&(t.hls=ZA(n.hls));var i=void 0!==n.experimentalRendering?Vd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Vd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function hb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!$(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!$(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ll.E_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=ll.b_),t.useCredentials=t.crossOrigin===ll.T_,rt(e)&&!t.timeServer&&(t.timeServer=e),t}function ab(t){var n={src:""};if(t&&t.src){if(n.src=qd(t.src),"default"in t&&(n.default=Vd(t.default)),n.kind=ay(t.kind),function(t){switch(t){case H_.DEFAULT:case H_.SRT:case H_.TTML:case H_.WEBVTT:case H_.EMSG:case H_.EVENT_STREAM:case H_.ID3:case H_.CEA608:case H_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function cb(t,n){if(it(t))try{return n.AN(t).lC(t)}catch(t){return}}function fb(t){return rt(t.sources)&&""!==t.sources||nt(t.sources)&&rt(t.sources.src)}function vb(t){return t.integration===RA.SPOTX&&!y(t.id)}function db(t){return"freewheel"===t.integration}function lb(t,n,i){if(void 0===i&&(i=FA.Qe),eb(t))return{sources:[Ol()]};var r=Md(t);if(r.sources=function(t,n,i){if(Nl(t))return[ub(t,n,i)];if(tt(t)&&Nl(t[0])){for(var r=[],e=0;e<t.length;e++){var s=t[e];r.push(ub(s,n,i))}return r}return[Ol()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!tt(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var s=e[r];(s=cb(s,n))&&(fb(s)||vb(s)||db(s))&&i.push(s)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s,u,o,h=!Cl(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!tt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=ab(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=qd(r.poster)),"vr"in r&&(r.vr=(s=r.vr,(u=s||{}).stereoMode=GA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?jA(u.stereoMode):HA.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Pl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Md(t),r=function(r){var e=n[r],s=!t.some(function(t){return t.integration===e.integration});s&&e.integration!==zA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=i_(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(HA||(HA={})),function(t){t.NR="auto",t.cC="always",t.fC="never"}(VA||(VA={})),function(t){t.NR="auto",t.vC="playlist",t.dC="media"}(XA||(XA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(WA||(WA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(qA||(qA={}));var _b=function(){function t(t){this._C=t}return t.prototype.gC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this._C.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this._C.indexOf(t.charAt(n))<<18|this._C.indexOf(t.charAt(n+1))<<12|(s=this._C.indexOf(t.charAt(n+2)))<<6|(u=this._C.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.wC=function(t,n){var i,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this._C.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this._C.charAt(r)+this._C.charAt(e)+this._C.charAt(s)+this._C.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.xm=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.yC=new t(t.xm.gC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function gb(t){return"string"==typeof t}function wb(t){return"number"==typeof t}var yb={}.toString;var mb,kb=Array.isArray||function(t){return"[object Array]"===yb.call(t)};function pb(t,n){return kb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(mb||(mb={}));var Ab,bb=l.keys(mb).map(function(t){return mb[t]});function Tb(t){return-1!==bb.indexOf(t)}function Eb(t){try{var n=_b.yC.gC(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=gb(t.key),r=gb(t.customer_id),e=wb(t.generation_date),s=wb(t.expiration_date),u=pb(t.domains_page,gb),o=pb(t.domains_source,gb),h=pb(t.sdks,Tb),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function Sb(){return Ab||(Ab={_v:pr.href,mC:kr.parent&&kr.parent!==e,kC:Nb()}),Ab}var Rb,Ib=["http:","https:","ftp:","ws:","wss:"];function Nb(){try{return kr.top.location.href}catch(t){return kr&&kr.document&&kr.document.referrer}}!function(t){t[t.pC=0]="pC",t[t.AC=1]="AC",t[t.bC=2]="bC"}(Rb||(Rb={}));var Cb,Db=function(t,n,i,r,e,s,u,o){void 0===e&&(e=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.TC=t,this.EC=n,this.SC=i,this.RC=r,this.IC=e,this.NC=s,this.DC=u,this.OC=o};!function(t){t.AC="expired",t.xC="invaliddomain",t.BC="invalidsource",t.n_="error"}(Cb||(Cb={}));var Ob=function(){function t(t,n,i){this.LC=void 0,this.MC=t,this.UC=n,this.FC=i,this.LC=Ub(this.FC)}var n=t.prototype;return n.HC=function(t,n){var i=this;if(!eb(t)&&0!==n.SC.length&&!Bb(n.SC)){var r=[];if(Nl(t.sources)?r=[t.sources]:tt(t.sources)&&(r=t.sources),!r.every(function(t){return i.VC(t,n)})){var e=Cb.BC,s=Hb.XC(e);throw new Io(xb(e),s)}}},n.WC=function(n){return this.qC(n.DC)&&this.zC(n)?t.GC(n.RC)?Rb.pC:Rb.AC:Rb.bC},n.qC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.jC(t)})},n.jC=function(t){return"ios"===function(t){switch(t){case mb.ANDROID:return B.dr;case mb.ANDROIDTV:case mb.FIRETV:return B._r;case mb.IOS:return B.gr;case mb.TVOS:return B.wr;case mb.CHROMECAST:case mb.CHROMECASTCAF:return B.yr;default:return B.cr}}(t)},t.GC=function(t){var n=Number(new Date);return!!t&&n<=t},n.zC=function(t){return!(this.LC&&0!==t.EC.length&&!Bb(t.EC))||!!(this.LC&&this.QC(t.EC)&&this.YC(t.EC))},n.QC=function(t){return Lb(this.FC._v,t)},n.YC=function(t){if(!this.FC.mC)return!0;if(this.MC)return!0;var n=this.ZC();return!!n&&Lb(n,t)},n.ZC=function(){if(this.FC.mC){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.FC.kC?this.FC.kC:void 0}},n.VC=function(n,i){return!!t.JC(n,i.SC)},t.JC=function(t,n){return Lb(this.$C(t),n)},t.$C=function(t){return rt(t)?t:Il(t)&&t.src||""},t}();function xb(t){switch(t){case Cb.xC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Cb.BC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Cb.AC:return n.ErrorCode.LICENSE_EXPIRED;case Cb.n_:return n.ErrorCode.LICENSE_ERROR}}function Pb(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+e+u+e+u+e+u+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Bb(t){return t.some(function(t){return"*"===t})}function Lb(t,n){var i=T.Pu(t);if(!Mb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Pb(i.hostname,e))return!0;if(Pb(Uf(t),e))return!0}return!1}function Mb(t){return-1!==Ib.indexOf(t.protocol)}function Ub(t){var n=T.Pu(t._v);return Mb(n)&&!Pb(n.hostname,"localhost")&&!function(t){return Pb(t.hostname,"theoplayer.doubleclick.net")}(n)}var Fb,Hb=function(){function t(){}return t.XC=function(t){return t===Cb.xC?this.KC:t===Cb.BC?this.tD:t===Cb.AC?this.nD:this.iD},t}();function Vb(t){var n=[t.MA,t.rD,t.eD];switch(t.rD){case Fb.sD:n.push(t.o_);break;case Fb.uD:n.push(t.H_),n.push(t.Jo);break;case Fb.oD:n.push(t.Jo)}return n}Hb.iD="The license for this player is invalid.",Hb.nD="The usage license for this video player has expired.",Hb.KC="The current domain is incompatible with the license for this player.",Hb.tD="The provided video source is incompatible with the license for this player.",function(t){t[t.sD=1]="sD",t[t.uD=4]="uD",t[t.oD=5]="oD"}(Fb||(Fb={}));for(var Xb=new Array(256),Wb=0;Wb<256;Wb+=1)Xb[Wb]=(Wb<16?"0":"")+Wb.toString(16);function qb(){var t=Jt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,r=(4294967296*_.random()|0)+t&1130486254,e=(4294967296*_.random()|0)+t&1284287105;return Xb[255&n]+Xb[n>>>8&255]+Xb[n>>>16&255]+Xb[n>>>24&255]+"-"+Xb[255&i]+Xb[i>>>8&255]+"-"+Xb[i>>>16&15|64]+Xb[i>>>24&255]+"-"+Xb[63&r|128]+Xb[r>>>8&255]+"-"+Xb[r>>>16&255]+Xb[r>>>24&255]+Xb[255&e]+Xb[e>>>8&255]+Xb[e>>>16&255]+Xb[e>>>24&255]}var zb=function(){function t(t){this._C=void 0,this._C=t}var n=t.prototype;return n.gC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this._C.indexOf(t.charAt(n))<<18|this._C.indexOf(t.charAt(n+1))<<12|(s=this._C.indexOf(t.charAt(n+2)))<<6|(u=this._C.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.wC=function(t){var n,i,r,e,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this._C.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,r=n>>12&63,e=n>>6&63,s=63&n,h[u/3]=this._C.charAt(i)+this._C.charAt(r)+this._C.charAt(e)+this._C.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function Gb(){return T._u()}zb.xm=new zb(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),zb.yC=new zb(zb.xm.gC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var jb,Qb="theoplayer-session-id";function Yb(){if(!jb){var t=qo.sh(Qb);t?jb=t:(jb=qb(),qo.qa(Qb,jb))}return jb}var Zb=/[^\x00-\x7E]/g;function Jb(t){return"\\u"+xe(t.charCodeAt(0).toString(16),4,"0")}var $b=0,Kb=1,tT=6e4;function nT(t){var n,i,r,e,s,u=(n=function(t){return[t.hD,t.Wh,t.TC,t.$k,t.aD,t.cD,t.fD.map(Vb)]}(t),i=[],r=n,e=function(t,n){if(nt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,s).replace(Zb,Jb));return zb.yC.wC(u)}var iT=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=zb.xm),void 0===e&&(e=$b),void 0===s&&(s=Kb),this.vD=[],this.dD=null,this.lD=0,this._D="unknown",this.gD=0,this.wD=function(){Gb()-u.lD>tT&&u.ar()},this.yD=function(){u.ar(!0)},this.hE=t,this.Ub=n,this.mD=i,this.kD=r,this.pD=e,this.bD=s,mr.TD(this.yD),c(this.wD,tT)}var n=t.prototype;return n.ED=function(){return Boolean(this.aD)},n.SD=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mD.RD();case 2:if(t.sent.OC){t.next=5;break}return t.abrupt("return");case 5:return i={rD:Fb.sD,eD:Jt(),o_:n},t.next=8,this.ND(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CD=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={rD:Fb.uD,eD:Jt(),H_:i,Jo:n},t.next=3,this.ND(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.DD=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={rD:Fb.oD,eD:Jt(),Jo:n},t.next=3,this.ND(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ND=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mD.RD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.kD.wC(i.TC)){t.next=6;break}if(n.rD===Fb.oD){t.next=6;break}return t.abrupt("return");case 6:if(n.rD===Fb.sD?this.OD():this.ED()||this.OD(),n.MA=this.gD++,this.vD.push(n),(r=n.rD)!==Fb.sD&&r!==Fb.oD){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.vD.length>this.pD)){t.next=19;break}return t.next=17,this.xD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.vD.length>0)){t.next=6;break}return t.next=4,this.xD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.PD=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mD.RD();case 2:return i=t.sent,t.abrupt("return",{hD:Jt(),Wh:Yb(),TC:this.kD.wC(i.TC)||"dev",$k:this.hE,aD:this.dD,cD:this._D,fD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xD=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.vD.splice(0,this.bD),t.next=4,this.PD(i);case 4:r=t.sent,n?this.Uv(r):this.BD(r),this.lD=Gb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.BD=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=nT(n),r=new Cf({_v:"https://license.theoplayer.com",Zf:i,Lv:!1,cv:Yo.$e,av:{"Content-Type":Ok.gE},xv:4e3,Ov:Ef.POST}),t.prev=2,t.next=5,this.Ub.dv(r);case 5:return e=t.sent,t.next=8,e.jf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Uv=function(t){var n=nT(t);this.Ub.Uv({_v:"https://license.theoplayer.com",Zf:n,Yf:Ok.gE})},n.OD=function(){this.ED()&&this.ar(),this.dD=qb(),this.gD=0},n.Fv=function(){mr.LD(this.yD),this.ar()},M(t,[{key:"fD",get:function(){return this.vD}},{key:"aD",get:function(){return this.dD}}]),t}();var rT=!Y.me&&!Y.Ne;function eT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var sT=function(){function t(t){this.SR=void 0,this.nl=void 0,this.MD=void 0,this.SR=t}var n=t.prototype;return n.UD=function(t){if(!t||!t.drawImage)return!1;var n=this.SR.xg();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.FD=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.SR,h=o.xg();if(!h)return!1;if(!rT){this.MD||(this.MD=s.createElement("canvas"));var a=this.MD,c=a.getContext("2d"),f=o.Y_,d=o.Q_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&eT(c,f-1,0)&&(a.width=l,g=!0),d>0&&eT(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,r,e,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},M(t,[{key:"il",get:function(){return this.nl||(this.nl=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.UD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,s,u){return t.FD(n,i,r,e,s,u)}}));var t}}]),t}(),uT=function(t){function n(n,i){var r;return(r=t.call(this,"HD")||this).du=n,r.Dp=i,r}return F(n,t),n.prototype.sl=function(){return new oT(this.du,this.Dp)},n}(pd),oT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return F(n,t),n}(Es),hT=function(t,n){this.Wg=void 0,this.VD=void 0,this.Wg=t,this.VD=n},aT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).XD=void 0,r.WD=0,r.qD=0,r.zD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.qD=n.width,r.WD=n.height,r.VD(r.qD,r.WD)}},r.XD=new kr.ResizeObserver(r.zD),r.XD.observe(r.Wg),r}return F(n,t),n.prototype.Fv=function(){this.XD.disconnect()},M(n,[{key:"GD",get:function(){return this.WD}},{key:"jD",get:function(){return this.qD}}]),n}(hT),cT=0;function fT(t){var n=Gb(),i=_.max(0,16-(n-cT)),r=h(function(){return t(n+i)},i);return cT=n+i,r}var vT,dT=a,lT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,_T=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function gT(){return vT||(vT=kr&&kr.document&&kr.document.createElement("span")),vT}lT&&_T||(lT=fT,_T=dT),lT=lT.bind(t),_T=_T.bind(t);var wT=["Webkit","Moz","O","ms"],yT=(function(){var t=!1;try{if(void 0!==kr&&"function"==typeof kr.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});kr.addEventListener("testPassiveEventSupport",R,n),kr.removeEventListener("testPassiveEventSupport",R,n)}}catch(t){}}(),ie());function mT(t){return yT.has(t)||yT.set(t,function(t){var n=gT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<wT.length;r++){var e=wT[r],s=e+i;if(void 0!==n.style[s])return s}return t}(t)),yT.get(t)}function kT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function pT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[mT("transition")]="0s"}var AT=function(t){function n(n,i,r){var u;(u=t.call(this,n,i)||this).QD=void 0,u.YD=0,u.qD=NaN,u.WD=NaN,u.ZD=void 0,u.JD=void 0,u.$D=void 0,u.KD=void 0,u.tO=void 0,u.xl=function(){u.JD.style.width=1e5+"px",u.JD.style.height=1e5+"px",u.ZD.scrollLeft=1e5,u.ZD.scrollTop=1e5,u.$D.scrollLeft=1e5,u.$D.scrollTop=1e5,0===u.$D.scrollTop&&lT(u.xl)},u.nO=function(){var t=u.jD,n=u.GD;u.VD(t,n),u.qD=t,u.WD=n,u.xl(),u.YD=0},u.iO=function(){if(!u.YD){var t=u.jD,n=u.GD;t===u.qD&&n===u.WD||(u.YD=lT(u.nO))}},u.rO=function(){u.tO||(u.tO=h(u.eO,66))},u.eO=function(){u.tO=void 0,u.sO()},u.sO=function(){u.iO()};var o=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.QD=c,u.ZD=s.createElement("div"),u.JD=s.createElement("div"),u.$D=s.createElement("div"),u.KD=s.createElement("div"),kT(u.ZD),kT(u.$D),pT(u.JD),pT(a=u.KD),a.style.width="200%",a.style.height="200%",c.appendChild(u.ZD),c.appendChild(u.$D),u.ZD.appendChild(u.JD),u.$D.appendChild(u.KD),n.appendChild(c),u.ZD.addEventListener("scroll",u.iO),u.$D.addEventListener("scroll",u.iO),e&&e.addEventListener("resize",u.rO),u.iO(),u}return F(n,t),n.prototype.Fv=function(){_T(this.YD),this.YD=0,this.ZD.removeEventListener("scroll",this.iO),this.$D.removeEventListener("scroll",this.iO),Sr(this.QD),e&&e.removeEventListener("resize",this.rO)},M(n,[{key:"GD",get:function(){return this.Wg.getBoundingClientRect().height||this.WD||0}},{key:"jD",get:function(){return this.Wg.getBoundingClientRect().width||this.qD||0}}]),n}(hT),bT=function(t){function n(n){var i;return(i=t.call(this)||this).Wg=void 0,i.XD=void 0,i.zD=function(t,n){i.Lo(new uT(t,n))},i.Wg=n,i}F(n,t);var i=n.prototype;return i.Yh=function(t){this.XD||("function"==typeof kr.ResizeObserver?this.XD=new aT(this.Wg,this.zD):this.XD=new AT(this.Wg,this.zD,t))},i.Fv=function(){this.Ho(),this.XD&&(this.XD.Fv(),this.XD=void 0)},M(n,[{key:"GD",get:function(){return this.XD?this.XD.GD:0}},{key:"jD",get:function(){return this.XD?this.XD.jD:0}}]),n}(bs),TT=function(t){function n(){return t.call(this,nA.wl)||this}return F(n,t),n}(Es);var ET=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{uO:i[0],oO:i[1],hO:i[2],aO:i[3],cO:i[4],fO:i[5]}}}(),ST=function(t){function n(){return t.call(this,nA.CI)||this}return F(n,t),n}(Es),RT=function(t){function n(i){var r;return(r=t.call(this)||this).Wg=void 0,r.OI=void 0,r.DI=!1,r.vO=function(){return r.fN()},r.dO=function(){return r.dN()},r.Wg=i,r.OI=n.lO(i),s.addEventListener(ET.cO,r.vO),r.fN(),r}F(n,t),n.lO=function(t){return Boolean(ET&&s[ET.aO]&&ET.uO in t)};var i=n.prototype;return i.ww=function(){var t=this.Wg[ET.uO]();t&&t.then?t.then(this.vO,this.dO):(s.removeEventListener(ET.fO,this.dO),s.addEventListener(ET.fO,this.dO))},i.mw=function(){var t=s[ET.oO]();t&&t.then?t.then(this.vO,this.dO):(s.removeEventListener(ET.fO,this.dO),s.addEventListener(ET.fO,this.dO))},i.fN=function(){var t=this.DI,n=this.Wg===s[ET.hO];this.DI=n,t!==n&&this.Lo(new TT)},i.dN=function(){this.Lo(new sA)},i.Fv=function(){this.Ho(),s.removeEventListener(ET.cO,this.vO),s.removeEventListener(ET.fO,this.dO)},n}(bs),IT=function(t){function n(i){var r;return(r=t.call(this)||this).Wg=void 0,r.OI=void 0,r.DI=!1,r.vO=function(){return r.fN()},r.Wg=i,r.OI=n.lO(i),r.Wg.addEventListener("webkitbeginfullscreen",r.vO),r.Wg.addEventListener("webkitendfullscreen",r.vO),r.Wg.addEventListener("webkitpresentationmodechanged",r.vO),r.fN(),r}F(n,t),n.lO=function(t){return Y.me&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.ww=function(){var t=this;this.Wg.webkitSupportsPresentationMode&&this.Wg.webkitSupportsPresentationMode("fullscreen")?Y.me?requestAnimationFrame(function(){return t.Wg.webkitSetPresentationMode("fullscreen")}):this.Wg.webkitSetPresentationMode("fullscreen"):this.Wg.webkitEnterFullscreen()},i.mw=function(){this.Wg.webkitSupportsPresentationMode&&this.Wg.webkitSupportsPresentationMode("inline")?this.Wg.webkitSetPresentationMode("inline"):this.Wg.webkitExitFullscreen()},i.fN=function(){var t,n=this.DI;t=this.Wg.webkitPresentationMode?"fullscreen"===this.Wg.webkitPresentationMode:!!this.Wg.webkitDisplayingFullscreen,this.DI=t,n!==t&&this.Lo(new TT)},i.Fv=function(){this.Ho(),this.Wg.removeEventListener("webkitbeginfullscreen",this.vO),this.Wg.removeEventListener("webkitendfullscreen",this.vO),this.Wg.removeEventListener("webkitpresentationmodechanged",this.vO)},n}(bs),NT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._O=[],n.gO=void 0,n.oN=!1,n.fN=function(){var t=n.oN,i=n.wO();t!==i&&(n.oN=i,n.Lo(new TT))},n}F(n,t);var i=n.prototype;return i.ww=function(){this.gO?this.gO.ww():this.Lo(new sA)},i.mw=function(){for(var t=0,n=this._O;t<n.length;t++){var i=n[t];i.DI&&i.mw()}},i.yO=function(t){this.gO=t},i.mO=function(t){this._O.push(t),t.Mo(nA.wl,this.fN),t.Mo(nA.n_,this.Bo),this.fN()},i.kO=function(t){Qe(this._O,t),t.Vo(nA.wl,this.fN),t.Vo(nA.n_,this.Bo)},i.wO=function(){for(var t=0,n=this._O;t<n.length;t++){if(n[t].DI)return!0}return!1},i.xl=function(){this.gO=void 0,this.oN=!1;for(var t=this._O.slice(),n=0;n<t.length;n++){var i=t[n];this.kO(i),i.Fv()}this.fN()},i.Fv=function(){this.Ho(),this.xl()},M(n,[{key:"OI",get:function(){return!!this.gO&&this.gO.OI}},{key:"DI",get:function(){return this.oN}}]),n}(bs),CT=function(t){function n(n,i){var r;return(r=t.call(this)||this).SR=void 0,r.pO=void 0,r.AO=void 0,r.bO=!1,r.TO=function(){return r.Uh()},r.fN=function(t){r.bO||r.Lo(t)},r.SR=n,r.pO=i,r.AO=uA,r.EO(),r.SR.Mo(Qo.rc,r.TO),r.Uh(),r}F(n,t);var i=n.prototype;return i.ww=function(){this.pO&&this.AO.ww()},i.mw=function(){this.AO.mw()},i.EO=function(){this.AO.Mo(nA.wl,this.fN),this.AO.Mo(nA.n_,this.Bo)},i.SO=function(){this.AO.Vo(nA.wl,this.fN),this.AO.Vo(nA.n_,this.Bo)},i.Uh=function(){var t=this.AO,n=this.SR.Pg();if(t!==n){this.bO=!0;var i=this.DI,r=this.OI;i&&this.mw(),this.SO(),this.AO=n,this.EO(),i&&!this.DI&&this.OI?this.ww():this.mw(),this.bO=!1,r!==this.OI&&this.Lo(new ST),i!==this.DI&&this.Lo(new TT)}},i.Fv=function(){this.Ho(),this.SO(),this.SR.Vo(Qo.rc,this.TO)},M(n,[{key:"OI",get:function(){return!!this.pO&&this.AO.OI}},{key:"DI",get:function(){return this.AO.DI}}]),n}(bs);function DT(t){var n;return{get url(){return t._v},get method(){return t.Ov},get headers(){return n||(n=t.av.Oc()),n},get body(){return t.Zf},get useCredentials(){return t.Lv},get type(){return LT(t.so)},get subType(){return UT(t.Pv)},get mediaType(){return HT(t.Bv)},get responseType(){return xT(t.cv)}}}function OT(t){switch(t.toLowerCase()){case"arraybuffer":return Yo.Nc;case"json":return Yo.Cc;case"stream":return Yo.Dc;case"text":default:return Yo.$e}}function xT(t){return t}function PT(t){switch(t.toUpperCase()){case"POST":return Ef.POST;case"PUT":return Ef.PUT;case"DELETE":return Ef.DELETE;case"HEAD":return Ef.HEAD;case"OPTIONS":return Ef.OPTIONS;case"GET":default:return Ef.GET}}function BT(t){switch(t.toLowerCase()){case"manifest":return Sf.yv;case"segment":return Sf.mv;case"content-protection":return Sf.kv;default:return Sf.wv}}function LT(t){return t}function MT(t){switch(t.toLowerCase()){case"initialization-segment":return Rf.pv;case"fairplay-license":return Rf.Av;case"fairplay-certificate":return Rf.bv;case"widevine-license":return Rf.Tv;case"widevine-certificate":return Rf.Ev;case"playready-license":return Rf.Sv;case"clearkey-license":return Rf.Rv;case"aes128-key":return Rf.Iv;default:return Rf.wv}}function UT(t){return t}function FT(t){switch(t.toLowerCase()){case"audio":return If.Nv;case"video":return If.Cv;case"text":return If.$e;case"image":return If.Dv;case"":default:return If.wv}}function HT(t){return t}var VT=function(){function t(t,n){this.RO=new ju,this.IO=[],this.nl=void 0,this.NO=!1,this.Jv=void 0,this.CO=0,this.DO=t,this.OO=n}var n=t.prototype;return n.Vk=function(){this.NO=!0,this.RO.kh(null)},n.xO=function(){this.RO.ph(new ef(this.IO))},n.PO=function(t){if(!this.BO)throw new d("Cannot respond more than once");if(!nt(t))throw new d("Expected valid response");this.Jv=this.LO(t),this.Vk()},n.MO=function(){try{var t=this.OO(this.il);t?this.UO(t):this.FO||this.HO||this.Vk()}catch(t){this.IO.push(t),this.xO()}},n.UO=function(t){if(this.HO)throw new v("Request has been redirected or a response already exists");if(st(t))this.VO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new ju;try{var i=t(function(t){t?n.ph(t):n.kh(void 0)});st(i)&&n.kh(i)}catch(t){n.ph(t)}this.VO(n.mh)}},n.VO=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.CO++,t.next=4,n;case 4:this.CO--,this.FO||this.HO||(this.IO.length?this.xO():this.Vk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.CO--,this.IO.push(t.t0),this.FO||this.HO||this.xO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"XO",get:function(){return this.RO.mh}},{key:"il",get:function(){return this.nl||(this.nl=this.WO()),this.nl}},{key:"HO",get:function(){return this.NO}},{key:"BO",get:function(){return!this.NO}},{key:"FO",get:function(){return this.CO>0}},{key:"$v",get:function(){return this.Jv}}]),t}(),XT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).qO=void 0,e.qO=r,e.MO(),e}F(n,t),n.zO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Nf({Os:r,dv:n.dv,cv:n.dv.cv,av:t.headers,hv:t.status,fv:t.statusText,lv:t.url,vv:!0},n)};var i=n.prototype;return i.WO=function(){return i=DT((t=this).dv),{get closed(){return!t.BO},get request(){return i},get url(){return t._v},get status(){return t.hv},get statusText(){return t.fv},get headers(){return n||(n=t.av.Oc()),n},get body(){return t.Zf},respondWith:function(n){return t.PO(n)},waitUntil:function(n){return t.UO(n)}};var t,n,i},i.LO=function(t){return n.zO(t,this.DO,this.qO)},M(n,[{key:"Zf",get:function(){return this.qO}},{key:"av",get:function(){return this.DO.av}},{key:"dv",get:function(){return this.DO.dv}},{key:"$v",get:function(){return this.Jv}},{key:"hv",get:function(){return this.DO.hv}},{key:"fv",get:function(){return this.DO.fv}},{key:"_v",get:function(){return this.DO.lv}}]),n}(VT),WT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).GO=void 0,e.jO=void 0,e.jO=r,e.MO(),e}F(n,t);var i=n.prototype;return i.WO=function(){return t=this,{get url(){return t._v},get method(){return t.Ov},get headers(){return n||(n=t.av.Oc()),n},get body(){return t.Zf},get closed(){return!t.BO},get useCredentials(){return t.Lv},get type(){return LT(t.so)},get subType(){return UT(t.Pv)},get mediaType(){return HT(t.Bv)},get responseType(){return xT(t.cv)},redirect:function(n){return t.QO(n)},respondWith:function(n){return t.PO(n)},waitUntil:function(n){return t.UO(n)}};var t,n},i.LO=function(t){var n=this.DO.Zf,i=new Nf({Os:n,av:{},dv:this.DO,lv:this.DO._v,cv:this.DO.cv,hv:200,fv:"OK"});return XT.zO(t,i,n)},i.QO=function(t){if(!this.BO)throw new d("Cannot redirect, already redirected or has a response");var n;n=rt(t)?{url:t}:t,this.GO=function(t,n){return new Cf({_v:void 0===t.url?n._v:t.url,Ov:void 0!==t.method?PT(t.method):void 0,av:t.headers,Zf:t.body,Lv:t.useCredentials,so:void 0!==t.type?BT(t.type):void 0,Pv:void 0!==t.subType?MT(t.subType):void 0,Bv:void 0!==t.mediaType?FT(t.mediaType):void 0,cv:void 0!==t.responseType?OT(t.responseType):void 0},n)}(n,this.DO),this.Vk()},M(n,[{key:"Zf",get:function(){return this.DO.Zf}},{key:"BO",get:function(){return this.jO&&!this.NO}},{key:"av",get:function(){return this.DO.av}},{key:"Ov",get:function(){return this.DO.Ov}},{key:"YO",get:function(){return this.GO}},{key:"$v",get:function(){return this.Jv}},{key:"cv",get:function(){return this.DO.cv}},{key:"xv",get:function(){return this.DO.xv}},{key:"Do",get:function(){return this.DO.Do}},{key:"so",get:function(){return this.DO.so}},{key:"Pv",get:function(){return this.DO.Pv}},{key:"Bv",get:function(){return this.DO.Bv}},{key:"_v",get:function(){return this.DO._v}},{key:"Lv",get:function(){return this.DO.Lv}},{key:"Mv",get:function(){return this.DO.Mv}}]),n}(VT);var qT,zT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new GT(n);return(r=t.call(this,e,i)||this).ZO=void 0,r.ZO=e,r}F(n,t);var i=n.prototype;return i.JO=function(t){this.ZO.JO(t)},i.$O=function(t){this.ZO.$O(t)},i.KO=function(t){this.ZO.KO(t)},i.tx=function(t){this.ZO.tx(t)},i.nx=function(t){this.ZO.nx(t)},n}(Of),GT=function(){function t(t){this.Hv=void 0,this.ix=[],this.ex=[],this.Hv=t}var n=t.prototype;return n.dv=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.sx(n,n.Do);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Hf)){t.next=12;break}return t.next=11,this.ux(t.t0,n.Do);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.ox(i,n.Do);case 15:if(!Tf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Xf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Uv=function(t){return this.Hv.Uv(t)},n.sx=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:os(i),r=n,s=0,u=this.ix.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],os(i),(h=new WT(r,o,!e)).HO){t.next=17;break}return t.prev=8,t.next=11,h.XO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.YO&&!e?r=h.YO:h.$v&&!e&&(e=h.$v);case 18:s++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Hv.dv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.ux=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Xf?n.$v:new Nf({Os:null,dv:n.dv,hv:0,fv:""}),t.next=3,this.ox(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Tf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Xf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ox=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,s=this.ex.slice();case 2:if(!(e<s.length)){t.next=23;break}return u=s[e],os(i),t.next=7,E.resolve(r.lh().Os(i));case 7:if(o=t.sent,(h=new XT(r,u,o)).HO){t.next=19;break}return t.prev=10,t.next=13,h.XO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.$v||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.JO=function(t){this.ix.unshift(t)},n.$O=function(t){this.ix.push(t)},n.KO=function(t){Qe(this.ix,t)},n.tx=function(t){this.ex.unshift(t)},n.nx=function(t){Qe(this.ex,t)},n.Fv=function(){this.Hv.Fv(),Je(this.ix),Je(this.ex)},t}(),jT=function(){function t(t){this.nl=void 0,this.Ub=t}var n=t.prototype;return n.JO=function(t){this.Ub.JO(t)},n.KO=function(t){this.Ub.KO(t)},n.tx=function(t){this.Ub.tx(t)},n.nx=function(t){this.Ub.nx(t)},M(t,[{key:"il",get:function(){var t;return this.nl||(this.nl=(t=this,{addRequestInterceptor:function(n){t.JO(n)},removeRequestInterceptor:function(n){t.KO(n)},addResponseInterceptor:function(n){t.tx(n)},removeResponseInterceptor:function(n){t.nx(n)}})),this.nl}}]),t}(),QT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).nl=void 0,e.hx=function(t){e.Lo(t)},e.ax=function(t){e.Lo(t)},e.vx=n,e.Ub=i,e.qI=r,e.vx.Mo(Qo.ac,e.hx),e.vx.Mo(Qo.hc,e.ax),e}F(n,t);var i=n.prototype;return i.lx=function(t){this.qI.lx(t)},i.JO=function(t){this.Ub.JO(t)},i.KO=function(t){this.Ub.KO(t)},i.tx=function(t){this.Ub.tx(t)},i.nx=function(t){this.Ub.nx(t)},i.Fv=function(){this.Ho(),this.vx.Vo(Qo.ac,this.hx),this.vx.Vo(Qo.hc,this.ax)},M(n,[{key:"il",get:function(){var t;return this.nl||(this.nl=(t=this,{get online(){return t.Jg},get estimator(){return n=t._x,{get bandwidth(){return n.JE},get roundTripTime(){return n.$E}};var n},setEstimator:function(n){t.lx(function(t){if(t)return{get JE(){return Wd(t.bandwidth)},get $E(){return Wd(t.roundTripTime)},ZE:function(n){return function(t){if(t)return{gx:function(n){t.markRequestStart(n)},wx:function(n){t.markResponseStart(n)},yx:function(n,i){t.markResponseData(n,i)},mx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(DT(n)))}}}(n))},addRequestInterceptor:function(n){t.JO(n)},removeRequestInterceptor:function(n){t.KO(n)},addResponseInterceptor:function(n){t.tx(n)},removeResponseInterceptor:function(n){t.nx(n)},addEventListener:function(n,i){t.Mo(n,i)},removeEventListener:function(n,i){t.Vo(n,i)}})),this.nl}},{key:"Jg",get:function(){return this.vx.Jg}},{key:"_x",get:function(){return this.qI._x}}]),n}(bs);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(qT||(qT={}));var YT=30,ZT={type:qT.BANDWIDTH},JT=20,$T=60;function KT(t){var n,i,r,e=Md(ZT);return rt(t)?e.type=tE(t):nt(t)&&function(t){switch(t){case qT.PERFORMANCE:case qT.QUALITY:case qT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=tE(t.type)),nt(t)&&nt(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Xd(n.bitrate),y(r)||(i.bitrate=r),i)),e}function tE(t){switch(t){case"bandwidth":return qT.BANDWIDTH;case"performance":return qT.PERFORMANCE;case"quality":return qT.QUALITY}}var nE=function(t){function n(n){var i;return(i=t.call(this,"Ax")||this).kx=n,i}return F(n,t),n}(Es),iE=function(t){function n(n){var i;return(i=t.call(this,"Tx")||this).bx=n,i}return F(n,t),n}(Es),rE=function(t){function n(n){var i;return(i=t.call(this,"Sx")||this).Ex=n,i}return F(n,t),n}(Es),eE=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).nl=(i=sn(n),{get strategy(){return{metadata:(t=i.bx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.bx=KT(t)},get targetBuffer(){return i.kx},set targetBuffer(t){var n=Xd(t);y(n)||(i.kx=n>$T?$T:n)},get bufferLookbackWindow(){return i.Ex},set bufferLookbackWindow(t){var n=Xd(t);y(n)||(i.Ex=n<=0?YT:n)}}),n.Rx=ZT,n.Ix=JT,n.Nx=YT,n.Cx=void 0,n.Dx=void 0,n}F(n,t);var i=n.prototype;return i.Ox=function(t){this.Dx=t},i.lx=function(t){this.Cx=t},M(n,[{key:"xx",get:function(){switch(this.Rx.type){case qT.PERFORMANCE:return 0;case qT.QUALITY:return 1/0;case qT.BANDWIDTH:return this.Rx.metadata&&void 0!==this.Rx.metadata.bitrate?this.Rx.metadata.bitrate:8*vl.m_();default:return 8*vl.m_()}}},{key:"il",get:function(){return this.nl}},{key:"bx",get:function(){return this.Rx},set:function(t){this.Rx=t,this.Lo(new iE(t))}},{key:"kx",get:function(){return this.Ix},set:function(t){this.Ix=t,this.Lo(new nE(t))}},{key:"Ex",get:function(){return this.Nx},set:function(t){this.Nx=t,this.Lo(new rE(t))}},{key:"_x",get:function(){var t;return null!=(t=this.Cx)?t:this.Dx.cR}}]),n}(bs),sE=function(t){function n(){return t.call(this,"yl")||this}return F(n,t),n.prototype.sl=function(){return new uE},n}(pd),uE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Es),oE=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Px=void 0,e.vD=void 0,e.Bx=function(t){Ad(t)&&ls(function(){e.Lo(t.il)})},e.Px=n,e.vD=i;for(var s=0,u=e.vD;s<u.length;s++){var o=u[s];e.Px.Mo(o,e.Bx)}return e}return F(n,t),n.prototype.Fv=function(){this.Ho();for(var t=0,n=this.vD;t<n.length;t++){var i=n[t];this.Px.Vo(i,this.Bx)}},n}(bs),hE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Px=void 0,r.Bx=function(t){Ad(t)&&ls(function(){r.Lo(t.il)})},r.Px=n,r.Px.Fo(r.Bx),r}return F(n,t),n.prototype.Fv=function(){this.Ho(),this.Px.qo(this.Bx)},n}(hl),aE=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(hE);var cE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Ow=0,n.xw=1/0,n.nl=void 0,n}F(n,t);var i=n.prototype;return i.xl=function(){0===this.Ow&&this.xw===1/0||(this.Ow=0,this.xw=1/0,this.Lo(new sE))},i.Lx=function(){return new rA([this.pw,this.Aw],[!0,!0])},M(n,[{key:"pw",get:function(){return this.Ow},set:function(t){if(this.Aw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Ow!==t&&(this.Ow=t,this.Lo(new sE))}},{key:"Aw",get:function(){return this.xw},set:function(t){if(t<=this.pw)throw new v("End time of a clip should be larger than the start time.");this.xw!==t&&(this.xw=t,this.Lo(new sE))}},{key:"il",get:function(){var t,n,i;return this.nl||(this.nl=(i={get startTime(){return t.pw},set startTime(n){t.pw=n},get endTime(){return t.Aw},set endTime(n){t.Aw=n},addEventListener:function(t,i){n.Mo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},n=new hE(t=this,i),i)),this.nl}}]),n}(hl),fE=function(t){function n(n){var i;return(i=t.call(this)||this).Mx=function(t){i.Ux(t)||i.Lo(t)},i.Fx=n,i.Fx.Fo(i.Mx),i}F(n,t);var i=n.prototype;return i.Hx=function(){return this.Fx.gg},i.Bg=function(){return this.Fx.Bg()},i.Vx=function(){return this.Fx.Vg},i.Xx=function(){return this.Fx.Fg},i.Wx=function(){return this.Fx.Xg},i.qx=function(t){this.Fx.Xg=t},i.zx=function(){return this.Fx.H_},i.Gx=function(t){this.Fx.H_=t},i.jx=function(){return this.Fx.V_},i.Qx=function(){return this.Fx.Wg},i.Yx=function(){return this.Fx.X_},i.Zx=function(){return this.Fx.Jo},i.Jx=function(){return this.Fx.W_},i.$x=function(){return this.Fx.qg},i.Kx=function(){return this.Fx.q_},i.tP=function(t){this.Fx.q_=t},i.nP=function(){return this.Fx.Jg},i.iP=function(){return this.Fx.z_},i.rP=function(){return this.Fx.G_},i.eP=function(t){this.Fx.G_=t},i.sP=function(){return this.Fx.$g},i.uP=function(){return this.Fx.Kg},i.oP=function(t){this.Fx.Kg=t},i.hP=function(){return this.Fx.e_},i.aP=function(){return this.Fx.tw},i.cP=function(){return this.Fx.j_},i.bg=function(){return this.Fx.bg()},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(i),t.next=3,this.Fx.Tg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fP=function(){return this.Fx.yg},i.vP=function(){return this.Fx.Q_},i.dP=function(){return this.Fx.wg},i.lP=function(){return this.Fx.Y_},i._P=function(){return this.Fx.Z_},i.gP=function(t){this.Fx.Z_=t},i.Pg=function(){return this.Fx.Pg()},i.xg=function(){return this.Fx.xg()},i.Ng=function(t){this.Fx.Ng(t)},i.Cg=function(){this.Fx.Cg()},i.Og=function(){this.Fx.Og()},i.Ig=function(){this.Fx.Ig()},i.pg=function(){this.Fx.pg()},i.kg=function(){this.Fx.kg()},i.Dg=function(){this.Fx.Dg()},i.Ag=function(){return this.Fx.Ag()},i.Eg=function(){return this.Fx.Eg()},i.Sg=function(){this.Fx.Sg()},i.Rg=function(){this.Fx.Rg()},i.xl=function(){return this.Fx.xl()},i.Fv=function(){return this.Fx.Fv()},i.Hg=function(){this.Fx.Hg()},i.Lg=function(t){return this.Fx.Lg(t)},i.Ux=function(t){return!1},M(n,[{key:"gg",get:function(){return this.Hx()}},{key:"Vg",get:function(){return this.Vx()}},{key:"Xg",get:function(){return this.Wx()},set:function(t){this.qx(t)}},{key:"Fg",get:function(){return this.Xx()}},{key:"H_",get:function(){return this.zx()},set:function(t){this.Gx(t)}},{key:"V_",get:function(){return this.jx()}},{key:"Wg",get:function(){return this.Qx()}},{key:"X_",get:function(){return this.Yx()}},{key:"Jo",get:function(){return this.Zx()}},{key:"W_",get:function(){return this.Jx()}},{key:"mg",get:function(){return this.Fx.mg}},{key:"qg",get:function(){return this.$x()}},{key:"eg",get:function(){return this.Fx.eg}},{key:"q_",get:function(){return this.Kx()},set:function(t){this.tP(t)}},{key:"Jg",get:function(){return this.nP()}},{key:"z_",get:function(){return this.iP()}},{key:"G_",get:function(){return this.rP()},set:function(t){this.eP(t)}},{key:"$g",get:function(){return this.sP()}},{key:"Kg",get:function(){return this.uP()},set:function(t){this.oP(t)}},{key:"e_",get:function(){return this.hP()}},{key:"tw",get:function(){return this.aP()}},{key:"j_",get:function(){return this.cP()}},{key:"yg",get:function(){return this.fP()}},{key:"Q_",get:function(){return this.vP()}},{key:"wg",get:function(){return this.dP()}},{key:"Y_",get:function(){return this.lP()}},{key:"Z_",get:function(){return this._P()},set:function(t){this.gP(t)}}]),n}(al),vE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).wP=void 0,e.yP=!1,e.mP=void 0,e.kP=!1,e.pP=function(){e.AP(),e.bP()},e.ES=function(){e.TP(),e.bP(),e.EP&&e.H_>=e.wP.Aw-n.SP&&!e.X_&&(e.mP=lT(e.ES))},e.RP=function(){e.kP=!0},e.IP=function(){e.kP&&(e.kP=!1,e.bP())},e.wP=r,e.wP.Mo("yl",e.pP),e.Fx.Mo("timeupdate",e.ES),e}F(n,t);var i=n.prototype;return i.Gx=function(n){var i=this.wP.Lx().iI(n);t.prototype.Gx.call(this,i),this.bP()},i.Yx=function(){return t.prototype.Yx.call(this)||this.yP},i.aP=function(){return rA.SI(t.prototype.aP.call(this)).sI(this.wP.Lx()).uR()},i.kg=function(){this.Yx()?this.Gx(this.NP.start(0)):this.AP(),t.prototype.kg.call(this),this.bP()},i.Tg=function(){var n=E.coroutine(Kr.mark(function n(i,r){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return os(r),this.yP=!1,this.wP.xl(),n.next=5,t.prototype.Tg.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Fv=function(){return this.wP.Vo("yl",this.pP),this.Fx.Vo("timeupdate",this.ES),this.TP(),t.prototype.Fv.call(this)},i.Ux=function(n){switch(n.type){case"seeking":return this.Lo(n),this.RP(),!0;case"seeked":case"emptied":return this.Lo(n),this.IP(),!0;case"ended":if(this.EP)return!0}return t.prototype.Ux.call(this,n)},i.TP=function(){this.mP&&(_T(this.mP),this.mP=void 0)},i.bP=function(){var t=this.H_,i=this.EP&&t>=this.wP.Aw-n.sm;this.yP&&!i?(this.yP=!1,this.z_&&this.kg()):this.yP||!i||this.j_||this.kP||(this.yP=!0,this.Lo(new jl(t)),this.pg())},i.AP=function(){if(this.V_!==1/0){var t=this.NP,i=rA.SI(t).iI(this.H_);Gt(this.H_,i,n.sm)||this.Gx(i)}},M(n,[{key:"NP",get:function(){return this.aP().length?this.aP():this.wP.Lx().uR()}},{key:"EP",get:function(){return this.wP.Aw<this.V_}}]),n}(fE);vE.SP=1,vE.sm=.001;var dE=function(){function t(){this.CP=void 0,this.CP=!1}return M(t,[{key:"DP",get:function(){return this.CP},set:function(t){this.CP=t}}]),t}(),lE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).CP=void 0,r.OP=!1,r.xP=!1,r.CP=i,r}F(n,t);var i=n.prototype;return i.Yx=function(){return!this.CP.DP&&t.prototype.Yx.call(this)},i.pg=function(){this.xP=!0,t.prototype.pg.call(this)},i.kg=function(){this.xP=!1,t.prototype.kg.call(this)},i.Ux=function(n){if(this.CP.DP)switch(n.type){case"ended":return this.H_=0,this.xP||(this.j_?this.OP=!0:this.kg()),!0;case"seeked":this.OP&&(this.OP=!1,this.kg());break;case"pause":if(this.OP||t.prototype.Yx.call(this))return!0}return t.prototype.Ux.call(this,n)},n}(fE);var _E=function(){function t(t){var n;this.nl=(n=this,{get currentBandwidthEstimate(){return n.Qg},get corruptedVideoFrames(){return n.Gg},get droppedVideoFrames(){return n.zg},get totalBytesLoaded(){return n.Yg},get bufferedSegments(){return n.Zg}}),this.PR=t}return M(t,[{key:"il",get:function(){return this.nl}},{key:"Gg",get:function(){return this.PR.PP.eg.Gg}},{key:"Qg",get:function(){return this.PR.PP.eg.Qg}},{key:"zg",get:function(){return this.PR.PP.eg.zg}},{key:"BP",get:function(){throw new v("Not implemented")}},{key:"LP",get:function(){throw new v("Not implemented")}},{key:"Yg",get:function(){return this.PR.PP.eg.Yg}},{key:"jg",get:function(){return this.PR.PP.eg.jg}},{key:"Zg",get:function(){return this.PR.PP.eg.Zg}}]),t}();function gE(t){if(!t||!Or(t))return{zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{zg:n.droppedVideoFrames,Gg:n.corruptedVideoFrames||0,jg:n.totalVideoFrames}}return{zg:t.webkitDroppedFrameCount||0,Gg:0,jg:t.webkitDecodedFrameCount||0}}var wE=function(t){function n(){return t.call(this,"MP")||this}return F(n,t),n.prototype.sl=function(){return new yE},n}(pd),yE=function(t){function n(){return t.call(this,"castingchange")||this}return F(n,t),n}(Es);var mE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).UP=[],n.nl=void 0,n.FP=function(){return n.Lo(new wE)},n}F(n,t);var i=n.prototype;return i.HP=function(t){this.UP.push(t),t.Mo("statechange",this.FP)},i.Fv=function(){var t=this;this.UP.forEach(function(n){n.Vo("statechange",t.FP)}),Je(this.UP)},M(n,[{key:"VP",get:function(){return this.UP.some(function(t){return t.VP})}},{key:"il",get:function(){var t,n,i;return this.nl||(this.nl=(i={get casting(){return t.VP},addEventListener:function(t,i){n.Mo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},n=new aE(t=this,i),i)),this.nl}}]),n}(al),kE=function(){function t(){}return t.XP=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Cf({_v:n,cv:Yo.$e,Ov:Ef.GET}),t.next=4,i.dv(r);case 4:return e=t.sent,t.next=7,e.Os();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),us(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.WP=function(t){try{var i=Eb(t);return new Db(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Io(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.qP=function(t){void 0===t&&(t=zb.xm),T.pu("The baked-in license is used. Please update the configuration with your license.");var n=t.gC(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.gC(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.gC(n)}),e=Number(new Date(Number(t.gC("COD|aHpHa:p3Ceo3Co\"\""))));return new Db(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Db(t.TC,t.EC,t.SC,864e13,t.IC,Date.now(),t.DC,t.OC)},t}(),pE=function(){function t(){}return t.za=function(){return t.Qe||(t.Qe=AE.ea()?new AE:new Wo),t.Qe},t.hh=function(n){t.za().hh(n)},t.Wa=function(){t.za().Wa()},t.sh=function(n){return t.za().sh(n)},t.qa=function(n,i){t.za().qa(n,i)},t.zP=function(n){var i=t.sh(n);if(void 0!==i)return w(i)},t.GP=function(n){return"true"===t.sh(n)},t}();pE.Qe=void 0;var AE=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.ea=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.hh=function(n){t.localStorage.removeItem(n)},r.Wa=function(){t.localStorage.clear()},r.sh=function(n){return t.localStorage[n]},r.qa=function(n,i){t.localStorage[n]=i},i}(pE),bE=_.floor(14399999*_.random()-72e5),TE=function(){function t(t,n,i,r,e,s){this.LC=void 0,this.Ub=t,this.jP=n,this.QP=i,this.mD=r,this.YP=e,this.FC=s,this.LC=Ub(s)}var i=t.prototype;return i.ZP=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.JP(this.YP.license,this.YP.licenseUrl);case 2:n=t.sent,this.mD.$P(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.JP=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?s=kE.WP(i):e||(s=kE.qP()),e||(e="https://validate.theoplayer.com/1/"+s.TC),u=this.KP(),!s){t.next=14;break}if((o=this.jP.WC(s))!==Rb.pC){t.next=14;break}if(!this.tB(s.RC)||!this.tB(null==u?void 0:u.RC)){t.next=13;break}return t.next=10,this.nB(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.jP.WC(u)!==Rb.pC){t.next=24;break}if(!this.tB(null==u?void 0:u.RC)){t.next=23;break}return t.next=20,this.nB(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:pE.hh("THEOplayer.license");case 25:return t.next=27,kE.XP(e,this.Ub);case 27:if(!(c=t.sent)){t.next=37;break}if(f=kE.WP(c),this.jP.WC(f)!==Rb.pC){t.next=34;break}return pE.qa("THEOplayer.license",c),t.abrupt("return",f);case 34:pE.hh("THEOplayer.license"),t.next=39;break;case 37:if(this.LC||!s||o!==Rb.AC||e!=="https://validate.theoplayer.com/1/"+s.TC){t.next=39;break}return t.abrupt("return",kE.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this.iB(null!=(v=s)?v:f,new Io(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Io(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HC=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mD.RD();case 2:if(i=t.sent,!this.tB(i.RC)){t.next=9;break}return e=null!=(r=this.YP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.TC,t.next=7,this.nB(e);case 7:(s=t.sent)&&(this.mD.$P(s),i=s);case 9:if(t.prev=9,(u=this.jP.WC(i))!==Rb.bC){t.next=16;break}throw o=Cb.xC,new Io(xb(o),Hb.XC(o));case 16:if(u!==Rb.AC){t.next=19;break}throw h=Cb.AC,new Io(xb(h),Hb.XC(h));case 19:this.jP.HC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.rB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.nB=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,kE.XP(n,this.Ub);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=kE.WP(i),this.jP.WC(r)!==Rb.pC){t.next=11;break}return pE.qa("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.tB=function(t){return!t||Number(new Date)+2592e5+bE>=t},i.KP=function(){var t=pE.sh("THEOplayer.license");if(t)return kE.WP(t)},i.iB=function(t,n){this.mD.$P(t),this.rB(n)},i.rB=function(t){throw gt(t.message),this.QP.DD(t.message),t},t}(),EE=function(){function t(){this.eB=void 0,this.sB=new ju}var n=t.prototype;return n.$P=function(t){this.eB=t,this.sB.kh()},n.RD=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.eB){t.next=2;break}return t.abrupt("return",E.resolve(this.eB));case 2:return t.next=4,this.sB.mh;case 4:return t.abrupt("return",this.eB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"uB",get:function(){return this.eB}}]),t}(),SE=function(t){function n(){return t.call(this,"yl")||this}return F(n,t),n.prototype.sl=function(){return new RE},n}(pd),RE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Es);function IE(t){var n,i={get fontFamily(){return t.oB},set fontFamily(n){t.oB=n},get fontColor(){return t.hB},set fontColor(n){t.hB=n},get fontSize(){return t.aB},set fontSize(n){t.aB=n},get backgroundColor(){return t.cB},set backgroundColor(n){t.cB=n},get windowColor(){return t.fB},set windowColor(n){t.fB=n},get edgeStyle(){return t.vB},set edgeStyle(n){t.vB=n},addEventListener:function(t,i){var r=zd(t,qd);n.Mo(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Vo(r,i)}};return n=new Ts(i),t.Mo(["yl"],function(t){return n.Lo(t.il)}),i}var NE,CE,DE={oB:void 0,hB:void 0,aB:void 0,cB:void 0,fB:void 0,vB:void 0,dB:void 0},OE="THEOplayer.textTrackStyle.",xE=function(t){function n(){var i;return(i=t.call(this)||this).lB=void 0,i.nl=void 0,i.lB=n._B(),i}return F(n,t),n.prototype.Uh=function(t){this.lB=te({},this.lB,t),n.gB(this.lB),this.Lo(new SE)},n._B=function(){var t=te({},DE);return t.oB=pE.sh(OE+"fontFamily")||t.oB,t.hB=pE.sh(OE+"fontColor")||t.hB,t.aB=pE.sh(OE+"fontSize")||t.aB,t.cB=pE.sh(OE+"backgroundColor")||t.cB,t.fB=pE.sh(OE+"windowColor")||t.fB,t.vB=pE.sh(OE+"edgeStyle")||t.vB,t},n.gB=function(t){pE.qa(OE+"fontFamily",t.oB||""),pE.qa(OE+"fontColor",t.hB||""),pE.qa(OE+"fontSize",t.aB||""),pE.qa(OE+"backgroundColor",t.cB||""),pE.qa(OE+"windowColor",t.fB||""),pE.qa(OE+"edgeStyle",t.vB||"")},M(n,[{key:"wB",get:function(){return this.lB}},{key:"oB",get:function(){return this.lB.oB},set:function(t){this.Uh({oB:t})}},{key:"hB",get:function(){return this.lB.hB},set:function(t){this.Uh({hB:t})}},{key:"aB",get:function(){return this.lB.aB},set:function(t){this.Uh({aB:t})}},{key:"cB",get:function(){return this.lB.cB},set:function(t){this.Uh({cB:t})}},{key:"fB",get:function(){return this.lB.fB},set:function(t){this.Uh({fB:t})}},{key:"vB",get:function(){return this.lB.vB},set:function(t){this.Uh({vB:t})}},{key:"dB",get:function(){return this.lB.dB}},{key:"il",get:function(){return this.nl||(this.nl=IE(this)),this.nl}}]),n}(bs),PE=function(t){function n(n,i){var r;(r=t.call(this)||this).yB=void 0,r.Gh=void 0,r.PP=void 0,r.mB=void 0,r.Zd=void 0,r.wP=void 0,r.CP=void 0,r.kB=void 0,r.pB=void 0,r.qI=void 0,r.jP=void 0,r.AB=void 0,r.bB=void 0,r.WI=void 0,r.TB=!1,r.ag=!1,r.ow=void 0,r.EB=!1,r.SB=void 0,r.RB=void 0,r.IB=void 0,r.NB=void 0,r.CB=void 0,r.DB=function(t){if(!r.EB){r.EB=!0;var n=r.yB,i=b_(t);r.PP.Vl=new aA(r.Wg,i,t),_s(n.Fv())}},r.OB=function(t){r.Lo(t.il)},r.xB=function(t){t.type!==Qo.ac&&t.type!==Qo.hc&&r.Lo(t)};var e=Xd(i.uid);y(e)?r.ow=O_++:r.ow=e,r.Gh=i;var s=T.Zd,u=new EE;r.mB=new iT("2.92.0",s,u),r.Zd=new zT(s,i.allowMixedContent),r.qI=new eE,r.jP=new Ob(i.isEmbeddable,"2.92.0",Sb()),r.CB=new TE(s,r.jP,r.mB,u,i,Sb()),r.CB.ZP().catch(r.DB),r.AB=new bT(n),r.AB.Mo("HD",r.OB),r.WI=new xE,r.wP=new cE,r.CP=new dE;var o=new hA(n,i,r.Zd,r.qI,r.AB,r.WI);r.qI.Ox(o);var h=o;h=new vE(h,r.PB),h=new lE(h,r.DP),r.yB=h,r.PP=new m_(r.yB),r.PP.Fo(r.xB),r.NB=new _E(sn(r)),r.RB=new QT(r.PP,r.Zd,r.qI),r.kB=new sT(sn(r)),r.bB=new CT(r.PP,i.allowNativeFullscreen),r.pB=new IA(r.bB),r.AB.Yh();var a=new wr(r.AB,r.WI,1,[E_.Cv]);return r.SB=new yr(a),r.IB=new mE,r}F(n,t);var i=n.prototype;return i.tP=function(t){this.PP.q_=t,t||this.z_||this.Ig()},i.gP=function(t){this.PP.Z_=t},i.BB=function(){u_(this,NA,this)},i.kg=function(){this.PP.kg()},i.pg=function(){this.PP.pg()},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.CB.HC(n).catch(this.DB),r=BE(n),t.next=5,this.PP.Tg(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ig=function(){this.ag||(this.PP.Ig(),this.SB.Ig(),this.ag=!0)},i.DI=function(){return this.pB.gN()===bA.FULLSCREEN},i.Dg=function(){this.PP.Dg()},i.Og=function(){this.PP.Og()},i.xg=function(){return this.PP.xg()},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.PP.Ag();case 2:return t.next=4,this.PP.xl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),this.IB.Fv(),this.Zd.Fv(),this.RB.Fv(),this.bB.Fv(),this.pB.Fv(),this.AB.Fv(),this.mB.Fv(),this.SB.Fv(),t.next=11,this.PP.Fv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"LB",get:function(){return this.qI}},{key:"lg",get:function(){return this.TB},set:function(t){this.TB=t,this.PP.lg=t}},{key:"MB",get:function(){return this.SB}},{key:"gg",get:function(){return this.PP.gg}},{key:"UB",get:function(){return this.IB}},{key:"FB",get:function(){return this.AB}},{key:"mg",get:function(){return this.PP.mg}},{key:"eg",get:function(){return this.NB}},{key:"HB",get:function(){return this.RB}},{key:"yg",get:function(){return this.PP.yg}},{key:"VB",get:function(){return this.WI}},{key:"wg",get:function(){return this.PP.wg}},{key:"Vg",get:function(){return this.PP.Vg}},{key:"PB",get:function(){return this.wP}},{key:"DP",get:function(){return this.CP}},{key:"H_",get:function(){return this.PP.H_},set:function(t){this.PP.H_=t}},{key:"Xg",get:function(){return this.PP.Xg},set:function(t){this.PP.Xg=t}},{key:"Fg",get:function(){return this.PP.Fg}},{key:"V_",get:function(){return this.PP.V_}},{key:"Wg",get:function(){return this.PP.Wg}},{key:"X_",get:function(){return this.PP.X_}},{key:"Jo",get:function(){return this.PP.Jo}},{key:"W_",get:function(){return this.PP.W_}},{key:"q_",get:function(){return this.PP.q_},set:function(t){var n=Boolean(t);this.tP(n)}},{key:"z_",get:function(){return this.PP.z_}},{key:"G_",get:function(){return this.PP.G_},set:function(t){this.PP.G_=t}},{key:"$g",get:function(){return this.PP.$g}},{key:"Kg",get:function(){return this.PP.Kg},set:function(t){this.PP.Kg=Jp(t)}},{key:"e_",get:function(){return this.PP.e_}},{key:"tw",get:function(){return this.PP.tw}},{key:"j_",get:function(){return this.PP.j_}},{key:"Gl",get:function(){return this.ow}},{key:"Q_",get:function(){return this.PP.Q_}},{key:"Y_",get:function(){return this.PP.Y_}},{key:"Z_",get:function(){return this.PP.Z_},set:function(t){var n=zt(Number(t),0,1)||0;this.gP(n)}}]),n}(al);function BE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.XB=0]="XB",t[t.WB=1]="WB"}(NE||(NE={})),function(t){t[t.qB=0]="qB"}(CE||(CE={}));var LE={};function ME(t,n){(LE[n]||(LE[n]=[])).push(t)}function UE(t,n){var i=t;if(LE[n])for(var r=0,e=LE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var FE=[];function HE(t){FE.push(t)}var VE=t.CustomEvent;var XE=function(){try{var t=new VE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},WE=function(){function t(t,n){var i=this;this.PR=void 0,this.zB=void 0,this.GB=!1,this.jB=function(t){i.zB.CD(t.error,i.H_)},this.QB=function(){i.zB.SD(i.YB),i.PR.removeEventListener("playing",i.QB),i.GB=!1},this.ZB=function(){i.GB||(i.PR.addEventListener("playing",i.QB),i.GB=!0)},this.zB=n,this.PR=t,this.PR.addEventListener("error",this.jB),this.PR.addEventListener("sourcechange",this.ZB),this.ZB()}return t.prototype.xl=function(){},M(t,[{key:"H_",get:function(){var t=this.PR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"YB",get:function(){return this.PR.src||""}}]),t}();HE(function(t){new WE(t.il,t.mB)});var qE="theoplayer-stored-volume",zE="theoplayer-stored-mutedstate";ME(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=pE.zP(qE);(void 0===e||y(e))&&(e=1);var s=pE.GP(zE)||!1;r.Z_=e,r.q_=s}return r}F(n,t);var i=n.prototype;return i.tP=function(n){this.Gh.persistVolume&&pE.qa(zE,""+Boolean(n)),t.prototype.tP.call(this,n)},i.gP=function(n){this.Gh.persistVolume&&pE.qa(qE,""+Number(n)),t.prototype.gP.call(this,n)},n}(t)},NE.WB);var GE=new(function(){function t(){this.JB=[],this.nl=void 0}var n=t.prototype;return n.Nl=function(t){return this.JB[t]},n.$B=function(t){this.JB.push(t),this.il.push(t.il)},n.Mh=function(t){var n=this.JB.indexOf(t);n<0||(Ye(this.JB,n),this.nl&&Ye(this.nl,n))},n.KB=function(t){for(var n=0,i=this.JB;n<i.length;n++){var r=i[n];if(r.Gl===t)return r}},M(t,[{key:"Bl",get:function(){return this.JB.length}},{key:"il",get:function(){return this.nl||(this.nl=function(t){for(var n=[],i=0;i<t.Bl;i++)n[i]=t.Nl(i).il;return n.getPlayerByUID=function(n){var i=t.KB(n);return i&&i.il},n}(this)),this.nl}}]),t}()),jE=function(){function t(t){var n=this;this.tL=[],this.nL=void 0,this.xd=new es,this.iL=void 0,this.Cn=function(){return 0===n.tL.length?n.iL?QE(n.iL,n.xd.Do).then(n.rL,n.rL):n.rL():n.tL.shift()().then(n.Cn)},this.rL=function(){if(0!==n.tL.length)return n.Cn();n.nL=void 0},this.iL=t}var n=t.prototype;return n.eL=function(t,n){var i=this;return new E(function(r){var e=new es;e.No(i.xd.Do),n&&e.No(n);var s=function(){e.Ao()};i.tL.push(function(){var n=QE(t,e.Do);return r(n),n.then(s,s)}),i.nL||(i.nL=i.Cn())})},n.Io=function(){return this.sL(!0)},n.Fv=function(){return this.iL=void 0,this.sL(!1)},n.sL=function(t){var n=this.nL;return this.xd.Io(),t&&(this.xd=new es),E.resolve(n)},t}();function QE(t,n){return new E(function(i){return i(t(n))})}var YE,ZE=function(t){function n(n){var i;return(i=t.call(this,Qo.bc)||this).source=n,i}return F(n,t),n}(Es),JE=function(t){function n(){var n;return(n=t.call(this)||this).BI=void 0,n.MI=void 0,n.FI=void 0,n.UI=void 0,n.BI=0,n.MI=!0,n.FI=!1,n.UI=1,n}F(n,t);var i=n.prototype;return i.kg=function(){this.MI&&(this.MI=!1,this.Lo(new Fl(this.H_)),this.Lo(new nm(this.H_)))},i.pg=function(){this.MI||(this.MI=!0,this.Lo(new Gl(this.H_,this.Xg)),this.Lo(new Ul(this.H_)))},i.xl=function(){this.BI=0,this.FI=!1,this.UI=1,this.pg(),this.Lo(new Ml(this.BI))},i.Fv=function(){this.Ho()},i.Og=function(){},i.Dg=function(){},M(n,[{key:"Xg",get:function(){},set:function(t){}},{key:"H_",get:function(){return this.BI},set:function(t){this.FI&&this.BI===t||(this.BI=t,this.FI=!0,this.Lo(new Yl(this.H_)))}},{key:"z_",get:function(){return this.MI}},{key:"G_",get:function(){return this.UI},set:function(t){this.UI!==t&&(this.UI=t,this.Lo(new zl(this.H_,this.G_)))}},{key:"e_",get:function(){return yl.N_}},{key:"j_",get:function(){return this.FI}}]),n}(hl),$E=function(t){function n(){return t.call(this,Qo.Ka)||this}return F(n,t),n}(Es),KE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},tS={visibility:"hidden"},nS={visibility:"visible"},iS=function(){function t(t){var n,i=this;this.IR=void 0,this.PR=void 0,this.uL=!1,this.oL=void 0,this.hL=void 0,this.aL=function(t){var n;i.uL=!1,i.oL=null==(n=t.source)?void 0:n.poster,i.Uh()},this.eT=function(){i.uL=!0,i.Og()},this.PR=t,this.FR(),this.IR=((n=kr&&kr.document&&kr.document.createElement("div")).className="theoplayer-poster",Nr(KE,n),n),t.Wg.appendChild(this.IR)}var n=t.prototype;return n.Uh=function(){var t=this.PR.z_,n=this.uL;this._v?this.IR.style.backgroundImage='url("'+this._v.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.IR.style.backgroundImage="",t&&this._v&&!n?this.Dg():this.Og()},n.Dg=function(){Nr(tS,this.PR.Wg),Nr(nS,this.IR)},n.Og=function(){Nr(tS,this.IR),Nr(nS,this.PR.Wg)},n.FR=function(){this.PR.Mo("sourcechange",this.aL),this.PR.Mo("play",this.eT)},n.Fv=function(){this.PR.Vo("sourcechange",this.aL),this.PR.Vo("play",this.eT),Sr(this.IR)},M(t,[{key:"_v",get:function(){return void 0!==this.oL?this.oL:void 0!==this.hL?this.hL:void 0}},{key:"cL",set:function(t){this.hL=t,this.Uh()}}]),t}();function rS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).PR=void 0,e.fL=void 0,e.vL=void 0,e.dL=void 0,e.lL=void 0,e._L=void 0,e.gL=void 0,e.wL=void 0,e.UR=void 0,e.MR=void 0,e.nl=void 0,e.yL=function(t){t.type!==Qo.dc&&e.wL.push(t)},e.fL=new t(i,r),e.vL=new JE,e.PR=e.fL,e.dL=new iS(sn(e)),e._L=new jE,e.gL=!1,e.wL=[],e.UR=!0,e.MR=void 0,e.FR(),e}F(i,n);var r=i.prototype;return r.eL=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._L.eL(n,i).catch(as));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.mL=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(i),this.fL.Fo(this.yL),t.next=4,this.fL.Tg(n,i);case 4:this.fL.qo(this.yL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.kL=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.bg())&&!eb(n)&&this.lg&&this.z_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Gh.mutedAutoplay,t.next=6,this.MB.pL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.AL(),t.abrupt("break",14);case 12:return(this.q_||i===Hl.ALL)&&(this.q_=!0,this.kg()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Tg=function(t){var n=this,i=this.MR;i&&!eb(i)&&this.Lo(new Ml(0,0)),this.xl(),this.MR=t,_s(this.eL(function(){var i=E.coroutine(Kr.mark(function i(r){return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return os(r),i.prev=1,i.next=4,n.mL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.MR=void 0,i.t0;case 10:return i.next=12,n.bL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.bL=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.TL(this.fL),this.Lo(new ZE(this.bg())),t.next=4,this.kL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Gx=function(t){this.PR.H_=t},r.Zx=function(){return this.fL.Jo},r.Jx=function(){return this.fL.W_},r.kg=function(){this.PR.kg()},r.AL=function(){this.q_||this.Ig(),this.kg()},r.Ig=function(){this.fL.Ig()},r.pg=function(){this.PR.pg()},r.Ag=function(){this.Tg(void 0)},r.Dg=function(){this.UR=!0,this.PR.Dg()},r.Og=function(){this.UR=!1,this.PR.Og()},r.BB=function(){this.fL.BB()},r.gP=function(t){this.fL.gP(t)},r.tP=function(t){this.fL.tP(t)},r.EL=function(t){this.lL=t,t.$B(this)},r.DI=function(){return this.fL.DI()},r.bg=function(){return this.MR},r.xg=function(){return this.fL.xg()},r.zx=function(){return this.fL.H_},r.jx=function(){return this.fL.V_},r.Vx=function(){return this.fL.Vg},r.sP=function(){return this.fL.$g},r.aP=function(){return this.fL.tw},r.xl=function(){var t=this;this.MR=void 0,Je(this.wL),this.vL.xl(),this.TL(this.vL),this._L.Io(),_s(this._L.eL(function(){var n=E.coroutine(Kr.mark(function n(i){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return os(i),n.next=3,t.fL.xl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Fv=function(){var t=this;this.Lo(new $E),this.dL.Fv(),this.HR(),this.xl(),_s(this.eL(E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fL.Fv();case 2:t.lL&&(t.lL.Mh(t),t.lL=void 0),t._L.Fv();case 4:case"end":return n.stop()}},n)})))),this.Ho()},r.TL=function(t){if(this.PR!==t){var n=this.PR.z_,i=this.PR.H_,r=this.PR.G_,e=this.PR.j_;this.HR(),t===this.fL?((e||t.H_!==i)&&(t.H_=i),t.G_!==r&&(t.G_=r),n?t.pg():t.kg()):this.Gh.retainPlaybackRateOnSourceChange?t.G_=r:1!==r&&this.Lo(new zl(this.zx(),1)),this.PR=t,this.FR();for(var s=0,u=this.wL;s<u.length;s++){var o=u[s];this.Lo(o)}Je(this.wL),this.UR?t.Dg():t.Og()}},r.FR=function(){this.PR.Fo(this.Bo)},r.HR=function(){this.PR.qo(this.Bo)},r.sl=function(){return t=this,r=function(n){i=n;var r=lb(n,t.Gh);t.Tg(r)},e={get abr(){return t.LB.il},get audioTracks(){return t.gg.il},get autoplay(){return t.lg},set autoplay(n){t.lg=Boolean(n)},get buffered(){return t.Vx()},get canvas(){return t.kB.il},get clip(){return t.PB.il},get currentProgramDateTime(){var n;return null!=(n=t.Xg)?n:null},set currentProgramDateTime(n){t.Xg=null!=n?n:void 0},get currentTime(){return t.zx()},set currentTime(n){t.Gx(Number(n))},get duration(){return t.jx()},get element(){return t.Wg},get ended(){return t.X_},get error(){return t.Zx()},get errorObject(){return t.Jx()},get loop(){return t.DP.DP},set loop(n){t.DP.DP=Boolean(n)},get metrics(){return t.eg.il},get muted(){return t.q_},set muted(n){t.tP(n)},get network(){return t.HB.il},get paused(){return t.z_},get playbackRate(){return t.G_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.G_=i},get played(){return t.sP()},get poster(){return t.SL},set poster(n){t.SL=qd(n)},get preload(){return t.Kg},set preload(n){t.Kg=n},get presentation(){return t.pB.il},get readyState(){return t.e_},get seekable(){return t.aP()},get seeking(){return t.j_},get source(){return i},set source(t){r(t)},get src(){return sb(t.bg())},set src(t){r({sources:t})},get textTracks(){return t.yg.il},get textTrackStyle(){return t.VB.il},get uid(){return t.Gl},get videoHeight(){return t.Q_},get videoTracks(){return t.wg.il},get videoWidth(){return t.Y_},get volume(){return t.Z_},set volume(n){t.gP(Number(n))},destroy:function(){t.Fv(),t=null,i=void 0},play:function(){t.AL()},pause:function(){t.pg()},stop:function(){i=void 0,t.Ag()},prepareWithUserAction:function(){t.Ig()},addEventListener:function(t,i){n.Mo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)},setSource:function(t){r(t)}},(n=new SA(e,!0)).iN(t),e;var t,n,i,r,e},M(i,[{key:"mB",get:function(){return this.fL.mB}},{key:"kB",get:function(){return this.fL.kB}},{key:"Gh",get:function(){return this.fL.Gh}},{key:"yB",get:function(){return this.fL.yB}},{key:"Zd",get:function(){return this.fL.Zd}},{key:"KS",get:function(){return this.fL.bB}},{key:"pB",get:function(){return this.fL.pB}},{key:"AB",get:function(){return this.fL.AB}},{key:"PP",get:function(){return this.fL.PP}},{key:"LB",get:function(){return this.fL.LB}},{key:"lg",get:function(){return this.fL.lg},set:function(t){this.fL.lg=t,this.kL()}},{key:"MB",get:function(){return this.fL.MB}},{key:"gg",get:function(){return this.fL.gg}},{key:"UB",get:function(){return this.fL.UB}},{key:"FB",get:function(){return this.fL.AB}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"mg",get:function(){return this.fL.mg}},{key:"eg",get:function(){return this.fL.eg}},{key:"HB",get:function(){return this.fL.HB}},{key:"yg",get:function(){return this.fL.yg}},{key:"VB",get:function(){return this.fL.VB}},{key:"wg",get:function(){return this.fL.wg}},{key:"PB",get:function(){return this.fL.PB}},{key:"DP",get:function(){return this.fL.DP}},{key:"Xg",get:function(){return this.PR.Xg},set:function(t){this.PR.Xg=t}},{key:"Fg",get:function(){return this.fL.Fg}},{key:"Wg",get:function(){return this.fL.Wg}},{key:"X_",get:function(){return this.fL.X_}},{key:"q_",get:function(){return this.fL.q_},set:function(t){this.fL.q_=t}},{key:"z_",get:function(){return this.PR.z_}},{key:"SL",get:function(){return this.dL._v||""},set:function(t){this.dL.cL=t}},{key:"G_",get:function(){return this.fL.G_},set:function(t){this.PR.G_=t}},{key:"Kg",get:function(){return this.fL.Kg},set:function(t){this.fL.Kg=Jp(t)}},{key:"e_",get:function(){return this.PR.e_}},{key:"j_",get:function(){return this.PR.j_}},{key:"Gl",get:function(){return this.fL.Gl}},{key:"Q_",get:function(){return this.fL.Q_}},{key:"Y_",get:function(){return this.fL.Y_}},{key:"Z_",get:function(){return this.fL.Z_},set:function(t){this.fL.Z_=t}}]),i}(al)}function eS(t,n){var i=r_(n),r=new(YE||(YE=UE(YE=rS(PE),NE.XB),YE=UE(YE,NE.WB)),YE)(t,i),e=r.il;return r.BB(),r.EL(GE),l.defineProperty(e,"constructor",{value:eS}),e=Pd(e),function(t){for(var n=0;n<FE.length;n++)(0,FE[n])(t)}(r),e}ls(function(){t.dispatchEvent&&t.dispatchEvent(XE("theoplayerready"))});var sS,uS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xs(t)},n.decode=function(t){return Hs(t)},t}())},oS=GE.il,hS=Om.JT.registerContentProtectionIntegration.bind(Om.JT),aS=(Qo.fc,Qo.cc,Ll.F_,Qo.Tc,Qo.vc,Qo.sc,Qo.wc,Qo.gc,Qo.ic,Qo.dc,Qo.Ec,Qo.tc,Ll.ml,Qo._c,Kd.n_,As.$o,As.th,Qo.Ja,Qo.Za,Qo.Sc,{RL:!1,IL:50}),cS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.oC="NL"}(sS||(sS={}));var fS,vS=function(t){function i(n,i,r,e){var s;(s=t.call(this)||this).ya=void 0,s.dS=void 0,s.Ca=void 0,s.CL=!1,s.DL=new ju,s.OL=!1,s._L=new jE,s.xL=void 0,s.fo=void 0,s.qh=void 0,s.PL=function(){s.OL=!0},s.BL=function(){s.LL(!0)},s.ya=n,s.dS=i,s.Ca=i.HS,s.xL=r,s.fo=e,s.Ca.addEventListener("loadedmetadata",s.PL);for(var u=0;u<cS.length;u++){var o=cS[u];s.Ca.addEventListener(o,s.BL)}return s}F(i,t);var r=i.prototype;return r.ML=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fo.lo(n.uo,i);case 2:return r=t.sent,t.next=5,r.Kh();case 5:return e=t.sent,t.next=8,this.UL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.FL=function(t){var n=this.qh;return n?0!==t.qS.length&&t.qS.some(function(t){return t.zh.uo===n.zh}):0===t.qS.length||!this.OL},r.HL=function(t){return this.xL.HL(t),this.ya=t,E.resolve()},r.Ao=function(){var t=E.coroutine(Kr.mark(function t(){var n,i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Ho(),this.Ca.removeEventListener("loadedmetadata",this.PL),n=0;n<cS.length;n++)i=cS[n],this.Ca.removeEventListener(i,this.BL);return t.next=5,this._L.Fv();case 5:return t.next=7,this.VL();case 7:return t.next=9,this.xL.xl();case 9:return t.next=11,this.UL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.LL=function(t){t!==this.CL&&(this.CL=t,t?this.DL.kh(void 0):this.DL=new ju)},r.UL=function(t){var n=this;return this._L.eL(function(){return n.XL(t)})},r.XL=function(){var t=E.coroutine(Kr.mark(function t(i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Ca.src){t.next=4;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Ca.src){t.next=6;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.CL){t.next=9;break}return t.next=9,this.DL.mh;case 9:if(!(r=this.qh)){t.next=14;break}return t.next=13,r.Zh(this.Ca);case 13:this.qh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Yh(this.Ca);case 17:this.qh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Tg=function(t){var n=this;return this._L.eL(function(){return n.WL(t)})},r.WL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.LL(!1),i=this.dS.G_,this.Ca.src=n,this.dS.G_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Lh=function(){var t=this;return this._L.eL(function(){return t.Bd()})},r.Bd=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ca.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.VL=function(){var t=this;return this._L.eL(function(){return t.qL()})},r.qL=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.LL(!1),xr(this.Ca);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"gg",get:function(){throw new v("Not implemented")}},{key:"Gh",get:function(){return this.ya}},{key:"HS",get:function(){return this.Ca}},{key:"wg",get:function(){throw new v("Not implemented")}}]),i}(bs),dS=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Ox=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Gh,t.t0=n.GS,t.next=t.t0===ll.b_?4:t.t0===ll.T_?4:(t.t0,ll.E_,6);break;case 4:return this.Ca.setAttribute("crossorigin",n.GS),t.abrupt("break",8);case 6:return this.Ca.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Kg?this.Ca.preload=n.Kg:this.Ca.preload=Yp.YE,void 0!==n.jS?this.Ca.title=n.jS:Dr(this.Ca),t.next=12,this.Tg(n.o_);case 12:this.xL.Lh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.FL=function(t){return!1},i.HL=function(t){return E.resolve(void 0)},i.Ao=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Dr(this.Ca),n.next=3,t.prototype.Ao.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.zL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Yf))},M(n,[{key:"Vg",get:function(){return rA.SI(this.Ca.buffered)}},{key:"V_",get:function(){return this.Ca.duration}},{key:"GL",get:function(){var t=this.V_;if(!isFinite(t))return!1;var n=this.Vg;return 0!==n.Bl&&t-n.QR(n.Bl-1)<1/6}},{key:"Kg",get:function(){return this.Ca.preload},set:function(t){this.Ca.preload=t}},{key:"tw",get:function(){return rA.SI(this.Ca.seekable)}},{key:"jL",get:function(){return this.Vg}},{key:"QL",get:function(){if(Or(this.Ca)&&(this.Ca.videoWidth>0||this.Ca.videoHeight>0))return this.Vg}}]),n}(vS),lS=function(t){function n(n){var i;return(i=t.call(this,Qo.vc)||this).currentTime=n,i}return F(n,t),n}(Es),_S=function(t){function n(){return t.call(this,Qo.sc)||this}return F(n,t),n}(Es);!function(t){t.YL="ZL"}(fS||(fS={}));var gS,wS;fS.YL;!function(t){t[t.JL=0]="JL",t[t.Dc=1]="Dc",t[t.$L=2]="$L"}(gS||(gS={})),function(t){t.KL="tM"}(wS||(wS={}));var yS=function(t){function n(n){var i;return(i=t.call(this,wS.KL)||this).nM=n,i}return F(n,t),n}(Es),mS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).iM=rA.NI(),n}F(n,t);var i=n.prototype;return i.rM=function(t,n){var i=new rA([t,n]);this.iM=this.iM.fI(i),this.Lo(new yS(i))},i.eM=function(t,n){this.iM=this.iM.dI(new rA([t,n]))},i.xl=function(){this.iM=rA.NI()},i.Fv=function(){this.Ho()},M(n,[{key:"sM",get:function(){return this.iM}}]),n}(bs);function kS(t,n){return void 0===n&&(n=new Wc({highWaterMark:1/0})),new Pc(new AS(t,n),{highWaterMark:0})}var pS,AS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.Xc=void 0,this.uM=void 0,this.oM=void 0,this.Fn=[],this.$c=0,this.sB=void 0,this.hM=!1,this.aM=void 0,this.cM=function(t){return t.done?(i.Xn(),void i.sB.close()):(i.Fn.push(t.value),i.$c+=i.uM(t.value),i.hM&&i.Xn(),i.fM()?i.Xc.read().then(i.cM):void 0)},this.pd=function(t){i.Xn(),i.sB.error(t)},this.Xc=t.getReader(),this.uM=e,this.oM=u}var n=t.prototype;return n.start=function(t){this.sB=t,this.fM()&&this.vM()},n.pull=function(){this.Fn.length>0?this.Xn():this.hM=!0,this.fM()&&this.vM()},n.cancel=function(t){return Je(this.Fn),this.$c=0,this.hM=!1,this.Xc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.$c=0,this.hM=!1,this.sB.enqueue(t)}},n.fM=function(){return!!this.hM||this.oM-this.$c>0},n.vM=function(){var t=this;if(!this.aM){var n=this.Xc.read().then(this.cM).catch(this.pd);this.aM=n;var i=function(){t.aM===n&&(t.aM=void 0)};n.then(i,i)}},t}(),bS=function(){function t(){this.dM=[],this.ah=0}var n=t.prototype;return n.$B=function(t){this.dM.push(t),this.ah+=t.byteLength},n.lM=function(t){if(this.ah<=t)return this._M();for(var n=this.dM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var s=t-i;0,e.push(Mu(n[r],0,s)),i+=s}return{dM:e,ah:i}},n.gM=function(t){var n=this.lM(t);return 1===n.dM.length?n.dM[0]:js(n.dM,n.ah)},n._M=function(){return{dM:this.dM,ah:this.ah}},n.wM=function(t){if(this.ah<=t)return this.yM();for(var n=this.dM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var s=t-i;0,e.push(Mu(n[0],0,s)),n[0]=Mu(n[0],s),i+=s}return this.ah-=i,{dM:e,ah:i}},n.mM=function(t){var n=this.wM(t);return 1===n.dM.length?n.dM[0]:js(n.dM,n.ah)},n.yM=function(){var t=this._M();return this.dM=[],this.ah=0,t},n.kM=function(){var t=1===this.dM.length?this.dM[0]:js(this.dM,this.ah);return this.dM=[],this.ah=0,t},t}();!function(t){t[t.pM=0]="pM",t[t.AM=1]="AM",t[t.bM=2]="bM"}(pS||(pS={}));var TS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).sB=void 0,n.TM=1e5,n.EM=void 0,n.SM=void 0,n}F(n,t);var r=n.prototype;return r.start=function(t){this.sB=t},r.transform=function(t){this.RM(t)},r.flush=function(){this.IM()},r.NM=function(t){return t===Xg.Pm||t===Xg.uk||t===Xg.gk},r.CM=function(t){var n=this.DM(t);this.sB.enqueue(n)},r.OM=function(t){this.sB.enqueue(t)},r.DM=function(t){var n=Hu(t.Os.Os);switch(t.so){case"moov":return this.xM(n);case"sidx":return this.PM(n);case"moof":return this.BM(n)}return n},r.xM=function(t){for(var n=i.extractIsobmffMovieBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.MovieHeaderBoxV0?this.LM(s):s instanceof i.MovieHeaderBoxV1?this.MM(s):s instanceof i.TrackBox&&this.UM(s)}for(var u=0,o=n.boxes;u<o.length;u++){var h=o[u];h instanceof i.MovieExtendsBox&&this.FM(h)}return n.serialize().join()},r.LM=function(t){this.EM=t.timescale,t.timescale=this.TM,t.duration=t.duration/this.HM*this.TM},r.MM=function(t){this.EM=t.timescale,t.timescale=this.TM,t.duration=Wt.fromNumber(t.duration.toNumber()/this.HM*this.TM)},r.UM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackHeaderBoxV0?this.VM(e):e instanceof i.TrackHeaderBoxV1?this.XM(e):e instanceof i.MediaBox?this.WM(e):e instanceof i.EditBox&&this.qM(e)}},r.VM=function(t){t.duration=t.duration/this.HM*this.TM},r.XM=function(t){t.duration=Wt.fromNumber(t.duration.toNumber()/this.HM*this.TM)},r.WM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.MediaHeaderBoxV0?this.zM(e):e instanceof i.MediaHeaderBoxV1&&this.GM(e)}},r.zM=function(t){this.SM=t.timescale,t.timescale=this.TM,t.duration=t.duration/this.jM*this.TM},r.GM=function(t){this.SM=t.timescale,t.timescale=this.TM,t.duration=Wt.fromNumber(t.duration.toNumber()/this.jM*this.TM)},r.qM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.EditListBoxV0?this.QM(e):e instanceof i.EditListBoxV1&&this.YM(e)}},r.QM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=r.mediaTime/this.HM*this.TM,r.segmentDuration=r.segmentDuration/this.HM*this.TM}},r.YM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=Wt.fromNumber(r.mediaTime.toNumber()/this.HM*this.TM),r.segmentDuration=Wt.fromNumber(r.segmentDuration.toNumber()/this.HM*this.TM)}},r.FM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackExtendsBox?this.ZM(e):e instanceof i.MovieExtendsHeaderBoxV0?this.JM(e):e instanceof i.MovieExtendsHeaderBoxV1&&this.$M(e)}},r.ZM=function(t){t.defaultSampleDuration=t.defaultSampleDuration/this.jM*this.TM},r.JM=function(t){t.fragmentDuration=t.fragmentDuration/this.HM*this.TM},r.$M=function(t){t.fragmentDuration=Wt.fromNumber(t.fragmentDuration.toNumber()/this.HM*this.TM)},r.PM=function(t){var n=i.extractIsobmffSegmentIndexBox(t);return n instanceof i.SegmentIndexBoxV0?this.KM(n):this.tU(n),n.serialize().join()},r.KM=function(t){var n=t.timescale;t.timescale=this.TM,t.earliestPresentationTime=t.earliestPresentationTime/n*this.TM;for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.TM}},r.tU=function(t){var n=t.timescale;t.timescale=this.TM,t.earliestPresentationTime=Wt.fromNumber(t.earliestPresentationTime.toNumber()/n*this.TM);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.TM}},r.BM=function(t){for(var n=i.extractIsobmffMovieFragmentBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.TrackFragmentBox&&this.nU(s)}return n.serialize().join()},r.nU=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackFragmentHeaderBox?this.iU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV0?this.rU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV1?this.eU(e):e instanceof i.TrackRunBox&&this.sU(e)}},r.iU=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=t.defaultSampleDuration/this.jM*this.TM)},r.rU=function(t){t.baseMediaDecodeTime=t.baseMediaDecodeTime/this.jM*this.TM},r.eU=function(t){t.baseMediaDecodeTime=Wt.fromNumber(t.baseMediaDecodeTime.toNumber()/this.jM*this.TM)},r.sU=function(t){for(var n=0,i=0,r=0,e=t.samples;r<e.length;r++){var s=e[r];if(void 0!==s.duration){var u=(i+=s.duration)/this.jM*this.TM;s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=s.compositionTimeOffset/this.jM*this.TM)}},M(n,[{key:"HM",get:function(){if(void 0===this.EM)throw new v("Expected to have found a movie header timescale.");return this.EM}},{key:"jM",get:function(){if(void 0===this.SM)throw new v("Expected to have found a media header timescale.");return this.SM}}]),n}(function(){var t=n.prototype;function n(){this.Fn=new bS,this.Wc=pS.pM,this.uU=0,this.oU=0,this.hU()}return t.aU=function(t,n){},t.cU=function(){},t.RM=function(t){this.Fn.$B(t),this.fU(!1)},t.IM=function(){this.fU(!0)},t.vU=function(){return this.Wc!==pS.pM||0!==this.Fn.ah},t.fU=function(t){for(;0!==this.Fn.ah;){if(!t&&this.uU>this.Fn.ah)return;switch(this.Wc){case pS.pM:this.dU(t);break;case pS.AM:this.lU(t);break;case pS.bM:this._U(t)}}},t.hU=function(){this.Wc=pS.pM,this.uU=8},t.dU=function(t){var n=Fu(this.Fn.gM(this.uU)),i=new zu,r=Ow.Gk(n,i);if(!r.Vk)return this.uU=r.Qk,void(t&&this.uU>this.Fn.ah&&this.gU(this.Fn.ah));var e=r.jk.so,s=r.jk.ah;0===s&&(s=1/0),this.aU(e,s),this.NM(e)?this.wU(s):this.gU(s)},t.wU=function(t){this.Wc=pS.AM,this.uU=t},t.lU=function(t){var n=Fu(this.Fn.mM(this.uU)),i=new zu,r=Ow.Xk(n,i,!t);if(!r.Vk)throw new Dw(i._h);this.cU(),this.CM(r.Wk),this.hU()},t.gU=function(t){this.Wc=pS.bM,this.uU=0,this.oU=t},t._U=function(t){var n=this.Fn.wM(this.oU);this.oU-=n.ah;for(var i=0,r=n.dM;i<r.length;i++){var e=r[i];this.OM(e)}(0===this.oU||t&&this.oU===1/0)&&(this.cU(),this.hU())},n}()),ES=function(){function t(){this.yU=void 0,this.yU=new TS}return t.prototype.mU=function(t){return t.pipeThrough(new qc(this.yU))},t}(),SS=20,RS=Y.Ee&&Y.Se<3,IS=Y.Pe,NS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).kU=void 0,e.pU=void 0,e.AU=void 0,e.Ix=SS,e.Nx=YT,e.bU=!1,e.TU=!1,e.EU=void 0,e.SU=new es,e.RU=void 0,e.IU=!1,e.NU=void 0,e.CU=function(){e.bU=!1},e.kU=i,e.pU=n,e.AU=r,e.AU.addEventListener("updateend",e.CU),RS&&(e.RU=new ES),e}F(n,t);var i=n.prototype;return i.DU=function(t,n,i){var r=this;switch(t.so){case gS.JL:case gS.Dc:return this.OU(function(i){return r.xU(t,n,i)},i);case gS.$L:throw new v("Opaque segments are not supported on web.")}},i.PU=function(t,n){var i=this;switch(t.so){case gS.JL:return this.OU(function(n){return i.BU(t,n)},n);case gS.Dc:throw new v("Streaming initialization segments are not supported on web.");case gS.$L:throw new v("Opaque initialization segments are not supported on web.")}},i.BU=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.LU(n,void 0,i);case 2:IS&&(this.IU=!1,this.NU=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xU=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(IS&&this.IU&&this.NU)){t.next=3;break}return t.next=3,this.BU(this.NU,r);case 3:return t.prev=3,os(r),t.next=7,this.LU(n,i,r);case 7:this.Lo(new Es(fS.YL));case 8:return t.prev=8,n.so===gS.Dc&&n.Os.cancel(new ss).catch(R),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.LU=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:os(r),i&&this.MU(i),t.t0=n.so,t.next=t.t0===gS.JL?5:t.t0===gS.Dc?13:21;break;case 5:if(!RS){t.next=10;break}return e=this.RU.mU(sf(n.Os)),t.next=9,this.UU(e,r);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,this.FU(n.Os);case 12:return t.abrupt("return",t.sent);case 13:if(!RS){t.next=18;break}return s=this.RU.mU(n.Os),t.next=17,this.UU(s,r);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.UU(n.Os,r);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.UU=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.pU.Vg,e=kS(n),s=e.getReader(),u=!1,t.prev=4;case 5:return t.next=8,cs(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return os(i),h=Gs(o.value),u=!0,t.next=17,this.FU(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(R),!u){t.next=35;break}return t.next=27,this.HU();case 27:a=this.pU.Vg.sI(r.uI()),c=0;case 29:if(!(c<a.Bl)){t.next=35;break}return t.next=32,this.VU(a.GR(c),a.QR(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.XU=function(t,n){var i=this;return this.OU(function(){return i.WU(t,n)})},i.WU=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.AU.appendWindowStart===n&&this.AU.appendWindowEnd===i){t.next=6;break}return t.next=3,this.HU();case 3:this.AU.appendWindowStart=0,this.AU.appendWindowEnd=i,this.AU.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.MU=function(t){this.AU.timestampOffset!==t.Im&&(this.AU.timestampOffset=t.Im)},i.FU=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.AU.appendBuffer(n),this.TU=!0,t.next=4,this.qU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zU=function(t,n,i){var r=this;return this.OU(function(i){return r.VU(t,n,i)},i)},i.VU=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(r),this.AU.remove(n,i),t.next=4,this.qU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qU=function(){var t=this,n=this.pU.Vg;return new E(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?(n.mI(t.pU.Vg)||t.Lo(new Es(fS.YL)),i()):r(new v(e))},c=function(){t.AU.removeEventListener("update",u),t.AU.removeEventListener("error",o),t.AU.removeEventListener("abort",h),t.AU.removeEventListener("updateend",a)};t.AU.addEventListener("update",u),t.AU.addEventListener("error",o),t.AU.addEventListener("abort",h),t.AU.addEventListener("updateend",a)})},i.GU=function(){var t=this;return this.OU(function(){return t.HU()})},i.HU=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.kU.e_===GS.jv){t.next=2;break}return t.abrupt("return");case 2:IS&&(this.IU=!0),this.AU.updating&&(this.bU=!0);try{this.AU.abort()}catch(t){0,this.bU=!1}if(!this.bO){t.next=8;break}return t.next=8,this.qU().catch(R);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jU=function(){return"function"==typeof this.AU.changeType},i.QU=function(t){this.YU(),this.kU.e_!==GS.ZU&&this.AU.changeType(t)},i.JU=function(){this.kU.e_!==GS.ic||this.EU||this.bO||(this.AU.timestampOffset=this.AU.timestampOffset,this.kU.$U())},i.OU=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.YU(),(r=new es).No(this.SU.Do),i&&r.No(i),t.prev=4,this.EU=n(r.Do),t.next=8,this.EU;case 8:if(this.kU.$U(),!this.bO){t.next=12;break}return t.next=12,this.qU();case 12:return t.prev=12,this.EU=void 0,r.Ao(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.YU=function(){if(this.EU)throw new v("Internal error")},i.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ho(),this.SU.Io(),!this.EU){t.next=6;break}return t.next=5,this.EU.catch(R);case 5:this.EU=void 0;case 6:this.AU.removeEventListener("updateend",this.CU);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"kx",get:function(){return this.Ix},set:function(t){this.Ix=t}},{key:"Ex",get:function(){return this.Nx},set:function(t){this.Nx=t}},{key:"bO",get:function(){return this.bU||this.AU.updating}}]),n}(bs),CS=function(){function t(t,n){this.KU=void 0,this.AU=void 0,this.tF=void 0,this.KU=n,this.AU=t}var n=t.prototype;return n.GL=function(){return!!this.tF&&this.Vg.tI().sR(this.tF)},n.nF=function(){var t=this.Vg;this.tF=t.Bl>0?t.QR(t.Bl-1):0,this.KU.iF()},n.JU=function(){this.tF=void 0},M(t,[{key:"Vg",get:function(){if(this.KU.e_===GS.ZU)return rA.NI();var t=rA.SI(this.AU.buffered).sI(new rA([0,1/0])),n=this.tF;return void 0!==n&&t.Bl>0&&t.QR(t.Bl-1)===n&&(t=t.fI(rA.II(n))),t}}]),t}();function DS(t,n,i,r,e,s){var u=new CS(e,t),o=new NS(u,t,e);return new OS(t,n,i,r,u,o,s)}var OS=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).kU=void 0,h.ya=void 0,h.rF=void 0,h.dS=void 0,h._a=void 0,h.eF=void 0,h.pU=void 0,h.sF=void 0,h.kU=n,h.ya=r,h._a=r.Yf,h.rF=e,h.dS=i,h.pU=s,h.sF=u,h.eF=o,h.sF.Mo(fS.YL,h.Bo),h}F(n,t);var i=n.prototype;return i.GL=function(){return this.pU.GL()},i.nF=function(){this.pU.nF()},i.JU=function(){this.pU.JU(),this.sF.JU()},i.uF=function(t,n){this.eF.rM(t,n)},i.oF=function(t,n){this.eF.eM(t,n)},i.hF=function(){return this.sF.GU()},i.DU=function(t,n,i){return this.sF.DU(t,n,i)},i.PU=function(t,n){return this.sF.PU(t,n)},i.XU=function(t,n){return this.sF.XU(t,n)},i.Mh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oF(n,i),e=this.Vg,t.next=4,this.sF.zU(n,i,r);case 4:s=0!==e.Bl&&0===this.Vg.Bl,(Y.Ue||Y.Re)&&s&&this.dS.dh(this.dS.H_);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.FL=function(t){var n=t.Yf;if(this._a===n)return!0;if(!MediaSource.isTypeSupported(n))return!1;var i=uo(this._a),r=uo(n),e=xS(i),s=xS(r);if(this.sF.jU()){if(!function(t,n){return is(t,n,PS)}(e,s))return!1}else{if(i.so!==r.so)return!1;if(!function(t,n){return is(t,n,MS)}(e,s))return!1}return!0},i.HL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.Yf,this._a!==i&&(this.sF.jU()&&this.sF.QU(i),this._a=i),this.ya=n,this.kU.aF();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),this.eF.Fv(),t.prev=2,this.sF.Vo(fS.YL,this.Bo),t.next=6,this.sF.Ao();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Vg",get:function(){return this.pU.Vg}},{key:"Gh",get:function(){return this.ya}},{key:"Yf",get:function(){return this._a}},{key:"cF",get:function(){return this.eF.sM}},{key:"kx",get:function(){return this.sF.kx},set:function(t){this.sF.kx=t}},{key:"Ex",get:function(){return this.sF.Ex},set:function(t){this.sF.Ex=t}},{key:"bO",get:function(){return this.sF.bO}}]),n}(bs);function xS(t){var n=t.ia("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function PS(t,n){var i=BS(t)||LS(t),r=BS(n)||LS(n);return!i&&!r||t===n}function BS(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function LS(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function MS(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var s=i[1],u=i[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}var US=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.fF=void 0,this.GR=t,this.QR=n,this.vF=i,this.dF=r,this.fF=Gb()}return t.prototype.lF=function(){var t=this.GR,n=this.QR;if(this.vF||this.dF){var i=.001*(Gb()-this.fF);this.vF&&(t+=i),this.dF&&(n+=i)}return t>=n?rA.NI():new rA([t,n])},t}(),FS=100,HS=1e3,VS=1e4,XS=.01,WS=[Qo.fc,Qo.cc,Qo.wc,Qo.gc,Qo.ic,Qo.dc,Ll.ml,Kd.n_],qS=function(){function t(t,n){var i=this;this.Qb=yl.N_,this._F=!1,this.gF=[],this.wF=void 0,this.yF=0,this.mF=0,this.kF=0,this.pF=0,this.AF=0,this.bF=HS,this.TF=function(t){var n=i.dS.H_;t.nM.sR(n)&&i.EF(n)},this.SF=N(function(){i.RF(Ll.ml)},FS),this.IF=N(function(){i.RF(Qo.vc)},FS),this.NF=function(){i.CF()?i.DF():i.OF()},this.xF=function(){var t=i.yF,n=i.kF,r=i.dS.H_,e=T._u(),s=t!==r;if(s||!i.CF())return i.yF=r,i.kF=e,void(s&&(i.AF=0,i.bF=HS));if(n>0&&e>n+i.bF){var u=r+i.AF*XS,o=i.pU.Vg;o.sR(u)||(u=i.PF(r,o)),i.yF=u,i.kF=e,i.AF++,i.bF=_.min(2*i.bF,VS),i.dS.dh(u)}},this.pU=t,this.dS=n,this.dS.Mo(Ll.ml,this.SF),this.dS.Mo(Qo.vc,this.IF),this.dS.Mo(WS,this.NF)}var n=t.prototype;return n.BF=function(t){this.gF.push(t),t.Mo(wS.KL,this.TF)},n.Fv=function(){var t=this;this.OF(),this.Qb=yl.N_,this.dS.Vo(Ll.ml,this.SF),this.dS.Vo(Qo.vc,this.IF),this.dS.Vo(WS,this.NF),this.gF.forEach(function(n){return n.Vo(wS.KL,t.TF)}),void 0!==this.wF&&(T.sr(this.wF),this.wF=void 0),this._F=!0},n.RF=function(t){if(!this._F){var n=this.dS.e_;if(n<=yl.D_){var i=this.dS.H_,r=this.pU.Vg,e=r.lI(i),s=r.QR(e);-1!==e&&(t===Ll.ml&&n<this.Qb||t===Qo.vc&&n===this.Qb)&&s<i+.5&&(i=s),this.EF(i)}t===Ll.ml&&(this.Qb=n)}},n.EF=function(t){var n=this;if(!this.dS.X_){var i=this.sM.dI(this.pU.Vg).tI(),r=i.lI(t);if(-1!==r)if(!(_.abs(i.GR(r)-i.QR(r))<=.001))if(T.Wd){if(void 0!==this.wF)return;this.mF=this.dS.H_,this.wF=T.ur(function(){n.mF===n.dS.H_&&n.dS.dh(i.QR(r)),n.wF=void 0},1500)}else this.dS.dh(i.QR(r))}},n.DF=function(){0===this.pF&&(this.pF=T.Tu(this.xF,250))},n.OF=function(){0!==this.pF&&(T.Eu(this.pF),this.pF=0),this.dS.j_||(this.kF=0)},n.CF=function(){return!this.dS.z_&&!this.dS.j_&&0!==this.dS.G_&&!this.dS.X_&&!this.dS.Jo&&this.dS.e_>=yl.O_},n.PF=function(t,n){var i=n.lI(t);return i>-1?n.QR(i):t},M(t,[{key:"sM",get:function(){return this.gF.reduce(function(t,n){return t.fI(n.sM)},rA.NI())}}]),t}();function zS(t){var n=[];if(t.LF&&n.push(t.LF.Vg),t.MF&&n.push(t.MF.Vg),0===n.length)return rA.NI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Bl>0&&(i=_.max(i,e.QR(e.Bl-1)))}for(var s=t.GL,u=new rA([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Bl>0&&(h=h.fI(new rA([h.QR(h.Bl-1),i],[!0,!0]))),u=u.sI(h)}return u}var GS,jS=Y.Ie||Y.Ne;!function(t){t.ZU="closed",t.jv="open",t.ic="ended"}(GS||(GS={}));var QS=function(){function t(){}return t.prototype.UF=function(){return new MediaSource},t}(),YS=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=new QS),(u=t.call(this,n,i,r,e)||this).FF=void 0,u.HF=void 0,u.VF=void 0,u.XF=new US(0,1/0),u.lS=void 0,u.WF=void 0,u.qF=void 0,u.zF=!1,u.GF=function(){u.jF()},u.QF=function(){u.dS.QF()},u.FF=s,u.lS=u.FF.UF(),u.dS.Mo(Qo.wc,u.GF),u.qF=new qS(sn(u),u.dS),u}F(n,t);var i=n.prototype;return i.YF=function(t){if(y(t)||t<0)throw new v("Invalid duration");this.ZF()?this.JF(t):this.WF=t},i.JF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.lS.setLiveSeekableRange){var r=_.pow(2,39);this.lS.setLiveSeekableRange(0,r)}this.lS.duration=i,this.WF=void 0},i.KF=function(t,n,i,r){this.XF=new US(t,n,!!i,!!r)},i.Ox=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.ya,i=Ge(n.tH,function(t){return Ne(t.Yf,"audio")}),r=Ge(n.tH,function(t){return Ne(t.Yf,"video")}),t.next=5,this.nH();case 5:i&&(e=new mS,this.qF.BF(e),s=this.lS.addSourceBuffer(i.Yf),this.HF=DS(this,this.dS,i,E_.Nv,s,e),this.HF.Mo(fS.YL,this.QF)),r&&(u=new mS,this.qF.BF(u),o=this.lS.addSourceBuffer(r.Yf),this.VF=DS(this,this.dS,r,E_.Cv,o,u),this.VF.Mo(fS.YL,this.QF)),this.xL.Lh(this,n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nH=function(){var n=E.coroutine(Kr.mark(function n(){var i;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.lS),n.next=3,t.prototype.Tg.call(this,i);case 3:return n.next=5,t.prototype.Lh.call(this);case 5:if(this.e_===GS.jv){n.next=8;break}return n.next=8,wd(this.lS,"sourceopen");case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.ZF=function(){if(this.e_!==GS.jv)return!1;var t=this.HF&&this.HF.bO,n=this.VF&&this.VF.bO;return!(t||n)},i.nF=function(){this.zF=!0,this.HF&&this.HF.nF(),this.VF&&this.VF.nF(),this.zF=!1,this.jF()},i.JU=function(){this.HF&&this.HF.JU(),this.VF&&this.VF.JU()},i.FL=function(n){var i=Ge(n.tH,function(t){return Ne(t.Yf,"audio")}),r=Ge(n.tH,function(t){return Ne(t.Yf,"video")});if(this.HF){if(!i)return!1;if(!this.HF.FL(i))return!1}else if(i)return!1;if(this.VF){if(!r)return!1;if(!this.VF.FL(r))return!1}else if(r)return!1;return!!t.prototype.FL.call(this,n)},i.HL=function(){var n=E.coroutine(Kr.mark(function n(i){var r,e,s;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Ge(i.tH,function(t){return Ne(t.Yf,"audio")}),e=Ge(i.tH,function(t){return Ne(t.Yf,"video")}),s=[],this.HF&&s.push(this.HF.HL(r)),this.VF&&s.push(this.VF.HL(e)),n.next=7,E.all(s);case 7:return n.next=9,t.prototype.HL.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.Ao=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.HF){n.next=4;break}return n.next=3,this.HF.Ao();case 3:this.HF=void 0;case 4:if(!this.VF){n.next=8;break}return n.next=7,this.VF.Ao();case 7:this.VF=void 0;case 8:return this.Ca.src&&URL.revokeObjectURL(this.Ca.src),this.dS.Vo(Qo.wc,this.GF),this.qF.Fv(),n.next=13,t.prototype.Ao.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.aF=function(){var t=this,n=this.ya,i=n.tH.map(function(n){return Ne(n.Yf,"audio")&&t.HF?t.HF.Gh:Ne(n.Yf,"video")&&t.VF?t.VF.Gh:n});this.ya=te({},n,{tH:i})},i.iF=function(){this.zF||this.jF()},i.jF=function(){this.iH&&this.ZF()&&(this.lS.endOfStream(),this.WF=void 0,this.Lo(new Es(sS.oC)),this.dS.QF())},i.$U=function(){this.ZF()&&(this.GL?this.jF():void 0!==this.WF&&this.JF(this.WF))},n.zL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.tH;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.Yf))return!1}return!0},M(n,[{key:"LF",get:function(){return this.HF}},{key:"MF",get:function(){return this.VF}},{key:"V_",get:function(){if(this.WF)return this.WF;var t=this.lS.duration;return 9007199254740991===t?1/0:t}},{key:"Vg",get:function(){return jS?zS(this):(t=this,n=rA.SI(this.Ca.buffered),(i=n).Bl>0&&t.GL&&(i=i.fI(rA.II(i.QR(i.Bl-1)))),i);var t,n,i}},{key:"jL",get:function(){var t;return null==(t=this.HF)?void 0:t.Vg}},{key:"QL",get:function(){var t;return null==(t=this.VF)?void 0:t.Vg}},{key:"tw",get:function(){return this.XF.lF().sI(new rA([0,this.V_],[!0,!0]))}},{key:"GL",get:function(){return(!this.HF||this.HF.GL())&&(!this.VF||this.VF.GL())}},{key:"e_",get:function(){return this.lS.readyState}},{key:"iH",get:function(){if(!this.GL)return!1;var t=this.Vg;return 0!==t.Bl&&t.GR(t.Bl-1)<=this.dS.H_}}]),n}(vS),ZS=[Qo.Ec,Qo.dc,Qo.wc,Qo.fc,Qo.cc],JS=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this)||this).BI=n,c.rH=i,c.eH=r,c.MI=e,c.FI=s,c.LI=u,c.UI=o,c.HI=h,c.sH=a,c}F(n,t);var i=n.prototype;return i.pg=function(){this.MI||(this.MI=!0,this.Lo(new Ul(this.H_)))},i.kg=function(){this.MI&&(this.MI=!1,this.Lo(new Fl(this.H_)))},i.Ao=function(){this.Ho()},M(n,[{key:"H_",get:function(){return this.BI},set:function(t){this.H_!==t&&(this.BI=t,this.FI=!0,this.Lo(new Yl(this.H_)))}},{key:"V_",get:function(){return this.rH}},{key:"X_",get:function(){return this.eH}},{key:"z_",get:function(){return this.MI}},{key:"e_",get:function(){return this.sH}},{key:"j_",get:function(){return this.FI}},{key:"q_",get:function(){return this.LI},set:function(t){this.q_!==t&&(this.LI=t,this.Lo(new Jl(this.H_,this.Z_)))}},{key:"G_",get:function(){return this.UI},set:function(t){this.G_!==t&&(this.UI=t,this.Lo(new zl(this.H_,this.G_)))}},{key:"Z_",get:function(){return this.HI},set:function(t){this.Z_!==t&&(this.HI=t,this.Lo(new Jl(this.H_,this.Z_)))}}]),n}(bs);var $S=function(t){function n(n){var i;return(i=t.call(this)||this).dS=void 0,i.Qb=yl.N_,i.uH=function(){i.oH()},i.dS=n,i}F(n,t);var i=n.prototype;return i.hH=function(t){this.Qb!==t&&(this.Qb=t,this.Lo(new t_(this.dS.H_,t)))},i.oH=function(){this.hH(this.hP())},i.xl=function(){this.hH(yl.N_)},i.Ao=function(){this.Ho()},M(n,[{key:"e_",get:function(){return this.hP()}}]),n}(bs),KS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],tR=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<KS.length;r++){var e=KS[r];i.dS.HS.addEventListener(e,i.uH)}return i}F(n,t);var i=n.prototype;return i.hP=function(){var t=this.dS.HS.readyState;return t>yl.D_&&this.dS.aH?yl.D_:(this.dS.HS.seeking&&t>yl.C_&&(t=yl.C_),t)},i.Ao=function(){for(var n=0;n<KS.length;n++){var i=KS[n];this.dS.HS.removeEventListener(i,this.uH)}t.prototype.Ao.call(this)},n}($S),nR=function(t){function n(n){var i;(i=t.call(this,n)||this).dS.Mo(Qo.wc,i.uH);for(var r=0;r<KS.length;r++){var e=KS[r];i.dS.HS.addEventListener(e,i.uH)}return i}F(n,t);var i=n.prototype;return i.hP=function(){if(this.dS.HS.readyState===yl.N_)return yl.N_;var t=this.cH(),n=t?t.QR-t.GR:0;if(!t)return yl.C_;var i=this.dS.G_;return this.fH()||n>=3*i?yl.x_:n>=3?yl.O_:yl.D_},i.cH=function(){var t=this.dS.H_,n=this.dS.Vg.cI(.04),i=n.lI(t);if(!(i<0))return{GR:t,QR:n.QR(i)}},i.fH=function(){if(this.dS.X_)return!0;var t=this.dS.V_,n=this.cH();return!!n&&t-n.QR<=1/6},i.Ao=function(){this.dS.Vo(Qo.wc,this.uH);for(var n=0;n<KS.length;n++){var i=KS[n];this.dS.HS.removeEventListener(i,this.uH)}t.prototype.Ao.call(this)},n}($S),iR=[Ll.ml,Qo.fc,Qo.cc,Qo.wc,Qo.gc,Qo.ic,Kd.n_],rR=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ca=void 0,i.vH=!1,i.dH=function(){i.vH=!0,i.Uh()},i.Ca=n.HS,i.Ca.addEventListener(Ll.F_,i.dH),i}F(n,t);var i=n.prototype;return i.lH=function(){return this.vH&&t.prototype.lH.call(this)},i.Uh=function(){this.vH&&(this.Ca.paused||this.Ca.ended||this.Ca.error)&&(this.vH=!1),t.prototype.Uh.call(this)},i.xl=function(){t.prototype.xl.call(this),this.vH=!1},i.Ao=function(){this.Ca.removeEventListener(Ll.F_,this.dH),t.prototype.Ao.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).sT=void 0,i._H=!1,i.TO=function(){i.Uh()},i.sT=n,i.sT.Mo(iR,i.TO),i}F(n,t);var i=n.prototype;return i.gH=function(){return this.sT.e_<yl.O_},i.lH=function(){return!this.sT.j_&&!(this.sT.z_||this.sT.X_||this.sT.Jo||this.gH())},i.Uh=function(){var t=this._H;this._H=this.lH(),!t&&this._H&&this.Lo(new im(this.sT.H_))},i.xl=function(){this._H=!1},i.Ao=function(){this.Ho(),this.sT.Vo(iR,this.TO)},n}(bs)),eR=function(t){function n(n){var i;return(i=t.call(this,Kd.n_)||this).Jo=void 0,i.Jo=n,i}return F(n,t),n}(Es);function sR(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function uR(t,n){return t.pw<=n&&t.Aw>n}function oR(t,n){return function(t,n){return _g(t.pw,n.pw,ng)}(t,n)||function(t,n){return _g(t.Aw,n.Aw,ng)}(t,n)}function hR(t,n){var i=sR(t,n,I,oR,!0);if(i<0)return i;for(;i<t.length&&oR(n,t[i])===fg.Zw;i++)if(t[i].Hw(n))return i;return-(i+1)}function aR(t){var n=t.ul;if(!n)return-1;if(t instanceof rg)return n.wH(t);var i=n.s_;if(!i)return-1;var r=hR(i.Pl,t);return r>=0?r:-1}function cR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{yH:o,mH:h}}(t,n,oR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var fR=function(){function t(t){this.kH=void 0,this.nl=void 0,this.kH=t}var n=t.prototype;return n.sl=function(){return function(t){for(var n=[],i=0;i<t.Bl;i++)n[i]=t.sh(i).il;return n.item=function(n){var i=0|n,r=t.sh(i);return r&&r.il||void 0},l.defineProperty(n,"constructor",{value:K_}),n}(this)},n.rw=function(t){for(var n=this.kH,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Hw(r))return!0}return!1},n.sh=function(t){return this.kH[t]},M(t,[{key:"Pl",get:function(){return this.kH}},{key:"Bl",get:function(){return this.kH.length}},{key:"il",get:function(){if(this.nl){var t=this.kH;this.nl.length=t.length;for(var n=0;n<t.length;n++)this.nl[n]=t[n].il}else this.nl=this.sl();return this.nl}}]),t}(),vR=function(t){function n(n,i){var r;return(r=t.call(this,bd.ml)||this).ul=n,r.e_=i,r}return F(n,t),n.prototype.sl=function(){return new dR(this.ul.il,ul(this.e_))},n}(Td),dR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return F(n,t),n}(Ed),lR=function(t){function n(n){var i;return(i=t.call(this,bd.pl)||this).ul=n,i}return F(n,t),n.prototype.sl=function(){return new _R(this.ul.il)},n}(Td),_R=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return F(n,t),n}(Ed),gR=function(t){function n(n){var i;return(i=t.call(this,bd.ol)||this).kw=n,i}return F(n,t),n.prototype.sl=function(){return new wR(this.kw.il)},n}(Td),wR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return F(n,t),n}(Ed),yR=function(t){function n(n){var i;return(i=t.call(this,bd.al)||this).kw=n,i}return F(n,t),n.prototype.sl=function(){return new mR(this.kw.il)},n}(Td),mR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return F(n,t),n}(Ed),kR=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).nl=void 0,h.sw=void 0,h.ow=D_(),h.pH=!1,h.AH=void 0,h.bH=void 0,h.uw=void 0,h.TH=void 0,h.eN=$d.$l,h.sH=F_.NONE,h.EH=void 0,h.Ps=void 0,h.kH=[],h.SH=[],h.RH=void 0,h.IH=void 0,h.NH=0,h.CH=0,h.sw=i||"",h.AH=o||"",h.bH=n,h.TH=e||"",h.pH=Boolean(s),h.Ps=u||H_.DEFAULT,h.uw=r||"",h.RH=new fR(h.kH),h.IH=new fR(h.SH),h}F(n,t);var i=n.prototype;return i.DH=function(t){return Ge(this.RH.Pl,function(n){return n.zl===t})},i.sl=function(){return rl(this)},i.mN=function(t){var n=nl(t);n!==this.r_&&(this.eN=n,n===$d.$l&&(this.SH.forEach(function(t){t.Vw=!1}),Je(this.SH),this.CH=0),this.Lo(new Dd(this)))},i.Wb=function(t){if(t&&!t.ul){var n=hR(this.s_.Pl,t);if(!(n>=0)){t.ul=this;var i=-(n+1);this.kH.splice(i,0,t),this.OH(i),t.Fw=i,i<this.CH&&(this.CH=i),this.Lo(new gR(t))}}},i.xH=function(t){if(t&&t.ul===this){var n=this.wH(t);if(!(n<0)){t.Vw=!1;var i=this.SH,r=hR(i,t);r>=0&&Ye(i,r),Ye(this.kH,n),this.OH(n),t.Fw=-1,this.CH>n&&--this.CH,this.Lo(new yR(t))}}},i.PH=function(t,n){var i=this.SH,r=this.kH,e=this.CH,s=!1;n&&(e=0);for(var u=i.length-1;u>=0;u--){uR(i[u],t)||(s=!0,Ye(i,u))}for(;e<r.length&&r[e].pw<=t;){var o=r[e];if(0===t)break;uR(o,t)&&!Ze(i,o)&&(s=!0,i.push(o)),e++}s&&We(i,oR),this.CH=e},i.wH=function(t){return(-1===t.Fw||t.Fw>=this.NH)&&this.BH(),t.Fw},i.BH=function(){for(var t=this.kH,n=this.NH;n<t.length;n++)t[n].Fw=n;this.NH=t.length},i.OH=function(t){t<this.NH&&(this.NH=t)},i.Fv=function(){this.Ho();for(var t=this.kH.slice(),n=0;n<t.length;n++){t[n].Fv()}Je(this.kH),Je(this.SH)},M(n,[{key:"u_",get:function(){return this.IH}},{key:"s_",get:function(){return this.RH}},{key:"zb",get:function(){return this.pH},set:function(t){this.pH=t}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"zl",get:function(){return this.sw}},{key:"Gl",get:function(){return this.ow}},{key:"i_",get:function(){return this.AH},set:function(t){this.AH=t}},{key:"jl",get:function(){return this.bH}},{key:"Ql",get:function(){return this.uw},set:function(t){t!==this.uw&&(this.uw=t,this.Lo(new I_(this)))}},{key:"Yl",get:function(){return this.TH}},{key:"r_",get:function(){return this.eN},set:function(t){this.mN(t)}},{key:"e_",get:function(){return this.sH},set:function(t){this.sH!==t&&(this.sH=t,this.Lo(new vR(this,this.sH)))}},{key:"o_",get:function(){return this.EH},set:function(t){this.EH=t}},{key:"so",get:function(){return this.Ps},set:function(t){this.Ps!==t&&(this.Ps=t,this.Lo(new lR(this)))}}]),n}(bs),pR=function(t){function n(n,i){var r;return(r=t.call(this,q_.gw,n)||this).Yy=i,r}return F(n,t),n.prototype.sl=function(){return new AR(this.kw.il)},n}(Z_),AR=function(t){function n(n){return t.call(this,z_.gw,n)||this}return F(n,t),n}(J_),bR=function(t){function n(n,i){var r;return(r=t.call(this,q_.yw,n)||this).Yy=i,r}return F(n,t),n.prototype.sl=function(){return new TR(this.kw.il)},n}(Z_),TR=function(t){function n(n){return t.call(this,z_.yw,n)||this}return F(n,t),n}(J_),ER=function(t){function n(n){var i;return(i=t.call(this,bd.fl)||this).kw=n,i}return F(n,t),n.prototype.sl=function(){return new SR(this.kw.il)},n}(Td),SR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return F(n,t),n}(Ed),RR=function(t){function n(n){var i;return(i=t.call(this,bd.dl)||this).kw=n,i}return F(n,t),n.prototype.sl=function(){return new IR(this.kw.il)},n}(Td),IR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return F(n,t),n}(Ed),NR=function(t){function n(n){var i;return(i=t.call(this)||this).LH=void 0,i.ow=void 0,i.Pw=void 0,i.nl=void 0,i.Bw=!1,i.Uw="",i.MH=function(){i.Vw=!0},i.UH=function(){i.Vw=!1},i.ow=B_(),i.LH=n,i.LH.addEventListener("enter",i.MH),i.LH.addEventListener("exit",i.UH),i}F(n,t);var i=n.prototype;return i.sl=function(){return $_(this)},i.Hw=function(t){return this===t||Fd(this,t)&&ig(this,t)},i.Fv=function(){this.Ho(),this.LH.removeEventListener("enter",this.MH),this.LH.removeEventListener("exit",this.UH)},M(n,[{key:"Gl",get:function(){return this.ow}},{key:"pw",get:function(){return this.LH.startTime},set:function(t){this.LH.startTime=t}},{key:"Aw",get:function(){return this.LH.endTime},set:function(t){this.LH.endTime=t}},{key:"bw",get:function(){return this.LH.text},set:function(t){this.LH.text=t+""}},{key:"Ww",get:function(){return!!this.LH.pauseOnExit},set:function(t){this.LH.pauseOnExit=!!t}},{key:"ul",get:function(){return this.Pw},set:function(t){this.Pw=t}},{key:"zl",get:function(){return this.LH.id||""}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"Xw",get:function(){return this.Uw},set:function(t){this.Uw=t}},{key:"Vw",get:function(){return this.Bw},set:function(t){this.Vw!==t&&(this.Bw=t,t?(this.Lo(new pR(this,this.pw)),this.Pw&&this.Pw.Lo(new ER(this))):(this.Lo(new bR(this,this.Aw)),this.Pw&&this.Pw.Lo(new RR(this))))}}]),n}(hl),CR=function(t){function n(n){var i;return(i=t.call(this,bd._l)||this).ul=n,i}return F(n,t),n.prototype.sl=function(){return new DR(this.ul.il)},n}(Td),DR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return F(n,t),n}(Ed);function OR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new xR(t),t.THEOplayerVTTRegion=n),n}}var xR=function(){function t(t){this.FH=void 0,this.nl=void 0,this.FH=t}return M(t,[{key:"HH",get:function(){return this.FH}},{key:"zl",get:function(){return this.FH.id||""}},{key:"du",get:function(){return+this.FH.width||0},set:function(t){this.FH.width=t||0}},{key:"qw",get:function(){return+this.FH.lines||0},set:function(t){this.FH.lines=t||0}},{key:"zw",get:function(){return+this.FH.regionAnchorX||0},set:function(t){this.FH.regionAnchorX=t||0}},{key:"Gw",get:function(){return+this.FH.regionAnchorY||0},set:function(t){this.FH.regionAnchorY=t||0}},{key:"Qw",get:function(){return+this.FH.viewportAnchorX||0},set:function(t){this.FH.viewportAnchorX=t||0}},{key:"Yw",get:function(){return+this.FH.viewportAnchorY||0},set:function(t){this.FH.viewportAnchorY=t||0}},{key:"jw",get:function(){return this.FH.scroll||""}},{key:"il",get:function(){return this.nl||(this.nl=cg(this)),this.nl}}]),t}(),PR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"Dw",get:function(){return this.LH.vertical||""},set:function(t){this.LH.vertical=t||""}},{key:"Cw",get:function(){return!!this.LH.snapToLines},set:function(t){this.LH.snapToLines=!!t}},{key:"Ew",get:function(){return this.LH.line},set:function(t){this.LH.line=t}},{key:"ah",get:function(){return+this.LH.size},set:function(t){this.LH.size=zt(t,0,100)}}]),n}(NR),BR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.Hw=function(n){return this===n||Fd(this,n)&&t.prototype.Hw.call(this,n)&&eg(this,n)},M(n,[{key:"Nw",get:function(){return OR(this.LH.region)}},{key:"Sw",get:function(){return this.LH.lineAlign||"start"},set:function(t){this.LH.lineAlign=t||"start"}},{key:"Rw",get:function(){return this.LH.position},set:function(t){this.LH.position=t}},{key:"Iw",get:function(){return this.LH.positionAlign||"auto"},set:function(t){this.LH.positionAlign=t||"auto"}},{key:"Tw",get:function(){return this.LH.align||"center"},set:function(t){this.LH.align=t||"center"}},{key:"il",get:function(){return this.nl||(this.nl=tg(this)),this.nl}}]),n}(PR),LR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.Hw=function(n){return this===n||Fd(this,n)&&t.prototype.Hw.call(this,n)&&eg(this,n)},M(n,[{key:"Nw",get:function(){return OR(this.HH)}},{key:"HH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.LH.track,this.LH.regionId)}},{key:"Sw",get:function(){return"middle"===(t=this.LH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.LH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Rw",get:function(){return this.LH.position},set:function(t){var n,i;this.LH.position=(n=t,i=this.Tw,Y_(n,i))}},{key:"Iw",get:function(){return t=this.LH.positionAlign||"middle",j_[t];var t},set:function(t){var n,i;this.LH.positionAlign=(n=t||"center",i=this.Tw,G_[Q_(n,i)])}},{key:"Tw",get:function(){return"middle"===(t=this.LH.align||"middle")?"center":t;var t},set:function(t){var n;this.LH.align="center"===(n=t||"center")?"middle":n}},{key:"il",get:function(){return this.nl||(this.nl=tg(this)),this.nl}}]),n}(PR);function MR(t,n){return t.bw===n.bw}function UR(t,n,i){for(var r=t[n].pw,e=n;e>=0&&t[e].pw===r;e--)t[e].Aw=i}function FR(t){return $_(t)}var HR,VR,XR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).VH=void 0,r.VH=i,r}return F(n,t),n.prototype.Hw=function(n){return this===n||Fd(this,n)&&t.prototype.Hw.call(this,n)&&MR(this,n)},M(n,[{key:"bw",get:function(){return this.VH}},{key:"il",get:function(){return this.nl||(this.nl=FR(this)),this.nl}}]),n}(NR);function WR(t){switch(t){case HR.ISO_8859_1:case HR.UTF16_BOM:case HR.UTF16:case HR.UTF8:return!0}return!1}function qR(t){switch(t){case HR.ISO_8859_1:return bu;case HR.UTF16_BOM:return Su;case HR.UTF16:return Ru;case HR.UTF8:return Pu}}function zR(t,n){var i=n._h,r=t.byteLength,e=Hu(t);return n.vh(r-i),Wu(e,i,r).buffer}function GR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function jR(t,n,i){var r=hu(t,n);if(WR(r)){var e=qR(r);return{id:i,language:pu(t,n,3),description:e(t,n),text:e(t,n)}}}function QR(t,n,i){var r=hu(t,n);if(WR(r)){var e=qR(r);return{id:i,mimeType:bu(t,n),fileName:e(t,n),description:e(t,n),data:zR(t,n)}}}function YR(t,n,i){var r=hu(t,n);if(WR(r)){for(var e=qR(r),s=[];n._h<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function ZR(t,n,i){var r=hu(t,n);if(WR(r)){for(var e=qR(r),s=pu(t,n,3),u=hu(t,n),o=hu(t,n),h=e(t,n),a=!1,c=[];n._h<t.byteLength;){var f=void 0;if(r===HR.UTF16_BOM){var v=Eu(t,n);void 0===v?v=a:a=v,f=Ru(t,n,v)}else f=e(t,n);if(!f||n._h+4>t.byteLength)break;c.push({text:f,timestamp:gu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function JR(t,n,i){return{id:i,ownerIdentifier:bu(t,n),identifier:zR(t,n)}}function $R(t,n,i){var r=hu(t,n);if(WR(r)){var e=qR(r);return{id:i,language:pu(t,n,3),description:e(t,n),text:e(t,n)}}}function KR(t,n,i){var r=hu(t,n);if(WR(r))return{id:i,text:qR(r)(t,n)}}function tI(t,n,i){return{id:i,url:bu(t,n)}}function nI(t,n,i){var r=hu(t,n);if(WR(r)){var e=qR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function iI(t,n,i){var r=hu(t,n);if(WR(r))return{id:i,description:qR(r)(t,n),url:bu(t,n)}}function rI(t,n,i){switch(i){case"COM":return jR(t,n,i);case"GEO":return QR(t,n,i);case"IPL":return YR(t,n,i);case"PIC":return function(t,n,i){var r=hu(t,n);if(WR(r)){var e,s,u=qR(r),o=pu(t,n,3),h=hu(t,n),a=u(t,n);return"--\x3e"===o?(e=o,s=bu(t,n)):(e="image/"+o.toLowerCase(),s=zR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return ZR(t,n,i);case"TXX":return nI(t,n,i);case"UFI":return JR(t,n,i);case"ULT":return $R(t,n,i);case"WXX":return iI(t,n,i);default:if("T"===i.charAt(0))return KR(t,n,i);if("W"===i.charAt(0))return tI(t,n,i)}}function eI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=hu(t,n);if(WR(r)){var e=qR(r),s=bu(t,n);return{id:i,mimeType:s,pictureType:hu(t,n),description:e(t,n),data:"--\x3e"===s?bu(t,n):zR(t,n)}}}(t,n,i);case"COMM":return jR(t,n,i);case"COMR":return function(t,n,i){var r=hu(t,n);if(WR(r)){var e,s,u=qR(r),o=bu(t,n),h=pu(t,n,8),a=bu(t,n),c=hu(t,n),f=u(t,n),v=u(t,n);return n._h<t.byteLength&&(e=bu(t,n)||"image/",s=zR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return QR(t,n,i);case"IPLS":return YR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:bu(t,n),data:zR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:hu(t,n),position:gu(t,n)}}(t,n,i);case"SYLT":return ZR(t,n,i);case"TXXX":return nI(t,n,i);case"UFID":return JR(t,n,i);case"USER":return function(t,n,i){var r=hu(t,n);if(WR(r)){var e=qR(r);return{id:i,language:pu(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return $R(t,n,i);case"WXXX":return iI(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return KR(t,n,i);default:var r=i.charAt(0);if("T"===r)return KR(t,n,i);if("W"===r)return tI(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(HR||(HR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(VR||(VR={}));var sI=10;function uI(t,n){return(127&hu(t,n))<<21|(127&hu(t,n))<<14|(127&hu(t,n))<<7|127&hu(t,n)}function oI(t,n){switch(t){case VR.V24:return{XH:ou(n,0),WH:ou(n,1),qH:ou(n,2),zH:ou(n,3)};case VR.V23:return{XH:ou(n,0),WH:ou(n,1),qH:ou(n,2)};case VR.V22:return{XH:ou(n,0),GH:ou(n,1)}}}function hI(t,n,i){switch(i.$k){case VR.V23:i.Kk.WH&&function(t,n){var i=n._h,r=gu(t,n)+4,e=32768&lu(t,n);n.dh(i+r),e&&gu(t,n)}(t,n);break;case VR.V24:i.Kk.WH&&function(t,n){var i=n._h,r=uI(t,n);n.dh(i+r)}(t,n)}}function aI(t,n){if(t.byteLength-n._h<sI)return null;if(73!==hu(t,n)||68!==hu(t,n)||51!==hu(t,n))return null;var i=hu(t,n),r=hu(t,n);if(!function(t){switch(t){case VR.V22:case VR.V23:case VR.V24:return!0}return!1}(i))return null;var e=hu(t,n),s=uI(t,n);return{$k:i,jH:r,Kk:oI(i,e),QH:s}}function cI(t,n,i){switch(i.$k){case VR.V22:return function(t,n,i){return{zl:pu(t,n,3),ah:du(t,n,3)}}(t,n);case VR.V23:return function(t,n,i){var r=pu(t,n,4),e=gu(t,n);hu(t,n);var s=hu(t,n);return{zl:r,ah:e,Kk:{GH:ou(s,0),YH:ou(s,1),groupingIdentity:ou(s,2)}}}(t,n);case VR.V24:return function(t,n,i){var r=pu(t,n,4),e=uI(t,n);hu(t,n);var s=hu(t,n);return{zl:r,ah:e,Kk:{groupingIdentity:ou(s,1),GH:ou(s,4),YH:ou(s,5),XH:ou(s,6),ZH:ou(s,7)}}}(t,n)}}function fI(t){for(var n=new m(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function vI(t,n){var i=n||new zu,r=aI(t,i);return r?{jk:r,JH:function(t,n,i){var r=[],e=n._h,s=Uu(t,e,e+i.QH),u=new zu;switch(n.vh(i.QH),i.$k){case VR.V22:case VR.V23:i.Kk.XH&&(s=fI(s))}hI(t,n,i);for(;u._h<s.byteLength;)r.push(dI(s,u,i));return r}(t,i,r)}:null}function dI(t,n,i){var r,e,s=cI(t,n,i),u=n._h,o=Uu(t,u,u+s.ah);switch(n.vh(s.ah),i.$k){case VR.V22:var h=s;r=rI(e=o,new zu,h.zl);break;case VR.V23:var a=s,c=new zu;!function(t,n,i){var r,e,s,u=i.Kk;u.GH&&(r=gu(t,n)),u.YH&&(e=hu(t,n)),u.groupingIdentity&&(s=hu(t,n))}(o,c,a),r=eI(e=Uu(o,c._h,o.byteLength),new zu,a.zl);break;case VR.V24:var f=s,v=new zu;f.Kk.XH&&(o=fI(o)),function(t,n,i){var r,e,s,u,o=i.Kk;o.groupingIdentity&&(r=hu(t,n)),o.GH&&(e=gu(t,n)),o.YH&&(s=hu(t,n)),o.ZH&&(u=uI(t,n))}(o,v,f),r=eI(e=Uu(o,v._h,o.byteLength),new zu,f.zl)}if(!r){var d=qu(Hu(e));r=GR(s.zl,d.buffer)}return r}function lI(t){return function(t,n,i){return KR(t,n,i)}(new DataView(t.data),new zu,t.key)}function _I(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return lI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return GR(t.key,t.data)}(t)}var gI="org.id3";var wI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).ew=void 0,e.$H=void 0,e.kH=[],e.SH=[],e.RH=void 0,e.IH=void 0,e.ow=void 0,e.uw=void 0,e.eN=$d.$l,e.sH=F_.NONE,e.nl=void 0,e.EH=void 0,e.Ps=H_.DEFAULT,e.KH=void 0,e.tV=function(){e.nV(),e.ew.removeEventListener("cuechange",e.tV)},e.iV=function(){e.r_!==$d.$l&&(e.rV(),e.PH(),e.kH.length&&e.eV(F_.LOADING))},e.sV=function(){e.eV(F_.LOADED)},e.uV=function(){e.eV(F_.ERROR)},e.ew=n,e.KH=r,e.ew.addEventListener("cuechange",e.tV),e.ew.addEventListener("cuechange",e.iV),e.$H=i,e.$H&&(e.EH=Pf(e.$H.src),e.$H.addEventListener("load",e.sV),e.$H.addEventListener("error",e.uV)),e.ow=D_(),e.uw=n.label||"",e.RH=new fR(e.kH),e.IH=new fR(e.SH),e.r_=e.oV,ls(function(){e.iV(),e.eV(F_.NONE)}),e}F(n,t);var i=n.prototype;return i.sl=function(){return rl(this)},i.nV=function(){var t=this.r_;this.hV||t!==$d.t_?this.oV=t:this.oV=$d.Kl},i.aV=function(){var t=this.r_,n=this.oV;t!==n&&(this.hV||t!==$d.t_||n!==$d.Kl)&&("metadata"===this.jl&&n===$d.$l?this.r_=t:this.r_=n)},i.oH=function(t){this.sH!==t&&(this.sH=t,this.Lo(new vR(this,t)))},i.eV=function(t){var n=_.max(this.sH,this.cV,t);this.oH(n)},i.fV=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.vV=function(t){var n=this.fV(t);if(n)return n;if(tt(n=this.dV(t)))for(var i=0,r=n;i<r.length;i++){r[i].ul=this}else n.ul=this;return t.THEOplayerTextTrackCue=n,n},i.dV=function(t){return(n=t)&&n.type===gI&&n.value?(this.so=H_.ID3,function(t){var n;try{n=_I(t.value)}catch(t){n=GR("")}return new XR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.so=H_.ID3,function(t){var n=[];try{var i=vI(new DataView(t.data));if(i)for(var r=0,e=i.JH;r<e.length;r++){var s=e[r];n.push(new XR(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.so=H_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new LR(t):new BR(t)):new NR(t);var n},i.lV=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.vV(t[r]||t.item(r));if(tt(e))for(var s=0;s<e.length;s++){var u=e[s];n.push(u)}else n.push(e)}return n},i.rV=function(){for(var t=this.lV(this.ew.cues),n=cR(this.kH,t),i=0,r=n.mH;i<r.length;i++){var e=r[i];this.Lo(new yR(e))}for(var s=0,u=n.yH;s<u.length;s++){var o=u[s];this.Lo(new gR(o))}},i.PH=function(){for(var t=this.lV(this.ew.activeCues),n=cR(this.SH,t),i=0,r=n.mH;i<r.length;i++){r[i].Vw=!1}for(var e=0,s=n.yH;e<s.length;e++){s[e].Vw=!0}(n.yH.length||n.mH.length)&&this.Lo(new CR(this))},i.Fv=function(){this.Ho();for(var t=this.kH.slice(),n=0;n<t.length;n++){t[n].Fv()}Je(this.kH),Je(this.SH),this.ew.removeEventListener("cuechange",this.iV),this.$H&&(this.ew.removeEventListener("load",this.sV),this.ew.removeEventListener("error",this.uV)),this.$H&&Sr(this.$H)},M(n,[{key:"u_",get:function(){return this.IH}},{key:"zb",get:function(){return this.$H?this.$H.default:void 0}},{key:"s_",get:function(){return this.RH}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"zl",get:function(){return this.ew.id||this.$H&&this.$H.id||""}},{key:"Gl",get:function(){return this.ow}},{key:"i_",get:function(){return this.ew.inBandMetadataTrackDispatchType||""}},{key:"jl",get:function(){return this.ew.kind||sy.pk}},{key:"Ql",get:function(){return this.uw},set:function(t){t!==this.Ql&&(this.uw=t,this.Lo(new I_(this)))}},{key:"Yl",get:function(){return this.ew.language||""}},{key:"r_",get:function(){return this.eN},set:function(t){var n=this.r_;this.eN=nl(t),this.nV();var i=this.r_;n!==i&&this.Lo(new Dd(this)),i!==$d.$l&&this.eV(F_.LOADING)}},{key:"oV",get:function(){return nl(this.ew.mode)},set:function(t){this.ew.mode=t}},{key:"vw",get:function(){return this.ew}},{key:"e_",get:function(){return this.sH}},{key:"cV",get:function(){return this.$H?+this.$H.readyState||F_.NONE:F_.LOADED}},{key:"o_",get:function(){return this.EH}},{key:"so",get:function(){return this.Ps},set:function(t){this.Ps!==t&&(this.Ps=t,this.Lo(new lR(this)))}},{key:"hV",get:function(){return this.KH},set:function(t){this.KH=t,this.nV()}}]),n}(bs);function yI(t){return t instanceof wI}function mI(t,n){return lg(t.Yy,n.Yy)||function(t,n){return t.ul===n.ul?dg(aR(t),aR(n)):ky(t.ul,n.ul)}(t.kw,n.kw)||function(t,n){return t===n?fg.Zw:t===q_.gw?fg.$w:fg.Jw}(t.type,n.type)}var kI=function(){function t(t,n){var i=this;this.PR=void 0,this._V=void 0,this.vg=[],this.gV=0,this.wV=0,this.yV=[],this.mV=!1,this.kV=!1,this.pV=void 0,this.AV=function(){i.gV=0,i.bV(),i.TV()},this.EV=function(){i.bV(),i.TV()},this.SV=function(){i.kV=!0,i.pV=i.PR.H_,i.RV()},this.IV=function(){i.bV(),i.TV()},this.NV=function(){i.CV(),i.bV(),i.TV()},this.DV=function(){i.OV()},this.xV=function(t){Qe(i.yV,t.kw),i.OV()},this._V=n,this.PR=t,t.Mo(Qo.Tc,this.EV),t.Mo(Qo.fc,this.EV),t.Mo(Ll.F_,this.EV),t.Mo(Qo.cc,this.EV),t.Mo(Qo.wc,this.SV),t.Mo(Qo.gc,this.IV),this.OV()}var n=t.prototype;return n.xl=function(){Je(this.yV);for(var t=0,n=this.vg.slice();t<n.length;t++){var i=n[t];this.Dl(i)}this.RV(),this.gV=0,this.wV=0,this.mV=!1,this.kV=!1,this.pV=void 0},n.Cl=function(t){Ze(this.vg,t)||(this.vg.push(t),t.Mo(bd.ol,this.DV),t.Mo(bd.al,this.xV),t.Mo(bd.wl,this.NV),t.s_.Bl&&this.OV(),this.CV())},n.Dl=function(t){if(Qe(this.vg,t)){if(t.Vo(bd.ol,this.DV),t.Vo(bd.al,this.xV),t.Vo(bd.wl,this.NV),t.s_.Bl){for(var n=0,i=t.s_.Pl;n<i.length;n++){var r=i[n];Qe(this.yV,r)}this.OV()}this.CV()}},n.CV=function(){this.mV=this.vg.some(function(t){return t.r_!==$d.$l})},n.TV=function(){this.PR.j_||this.PR.z_?this.RV():this.OV()},n.OV=function(){this.mV&&(this.gV||(this.gV=this._V.hr(this.AV)))},n.RV=function(){this.gV&&(this._V.PV(this.gV),this.gV=0)},n.bV=function(){var t;if(this.mV&&!this.PR.j_){var n=this.vg,i=this.wV,r=null!=(t=this.pV)?t:this.PR.H_,e=r-i<-.1,s=this.kV||e;s&&r>i&&r-i<.1&&(s=!1),this.kV=!1,this.pV=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.r_!==$d.$l){a.PH(r,s);for(var c=0,f=a.u_.Pl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.yV;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.r_!==$d.$l&&my(l,i-1/6,r,u)}}for(var g=u.length-1;g>=0;g--)Ze(o,u[g])&&Ye(u,g);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.pw>=i&&m.Aw<=r&&(w.push(m),Ye(u,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.Vw||k.push(new pR(b,b.pw)),k.push(new bR(b,_.max(b.pw,b.Aw)))}for(var T=0,E=u;T<E.length;T++){var S=E[T];S.Vw&&(k.push(new bR(S,_.max(S.pw,S.Aw))),S.Vw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.Vw||(k.push(new pR(I,I.pw)),I.Vw=!0)}k.sort(mI);for(var N=0;N<k.length;N++){var C=k[N],D=C.kw;D.Lo(C);var O=D.ul;O&&(C.type===q_.gw?O.Lo(new ER(D)):O.Lo(new RR(D)),Ze(p,O)||p.push(O))}p.sort(ky);for(var x=0;x<p.length;x++){var P=p[x];P.Lo(new CR(P))}this.wV=r,this.yV=o}},n.Fv=function(){this.xl(),this.PR.Vo(Qo.Tc,this.EV),this.PR.Vo(Qo.fc,this.EV),this.PR.Vo(Ll.F_,this.EV),this.PR.Vo(Qo.cc,this.EV),this.PR.Vo(Qo.wc,this.SV),this.PR.Vo(Qo.gc,this.IV)},t}(),pI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return lT(t)},n.PV=function(t){_T(t)},t}(),AI=new pI,bI=function(t){function n(n,i){return void 0===i&&(i=AI),t.call(this,n,i)||this}return F(n,t),n}(kI),TI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).BV=void 0,e}return F(n,t),n.prototype.Hw=function(n){return this===n||Fd(this,n)&&t.prototype.Hw.call(this,n)&&MR(this,n)},M(n,[{key:"il",get:function(){return this.nl||(this.nl=FR(this)),this.nl}}]),n}(rg),EI=function(t){function n(n,i,r){return void 0===r&&(r=H_.DEFAULT),t.call(this,sy.bk,"",i||"","",!1,r,n)||this}return F(n,t),n}(kR),SI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).so=H_.ID3,r.BV=void 0,r}F(n,t);var i=n.prototype;return i.Wb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].pw<t.pw)UR(n,i,t.pw);else{var r=n[0];if(r.pw>t.pw)t.Aw=r.pw;else{var e=hR(n,t);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0&&n[u].pw<t.pw&&UR(n,u,t.pw),s<n.length){var o=n[s];t.Aw=o.pw}}}}}}(n,this.kH),t.prototype.Wb.call(this,n)},i.sl=function(){return rl(this)},n}(EI);function RI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=_I(t.value);return t.THEOplayerTextTrackCue=new TI(i,r),t.THEOplayerTextTrackCue}var II=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).ew=void 0,i.iV=function(){i.r_!==$d.$l&&(i.rV(),i.eV(F_.LOADED))},i.ew=n,i.ew.addEventListener("cuechange",i.iV),i.r_=i.oV,ls(function(){i.iV()}),i}F(n,t);var i=n.prototype;return i.mN=function(n){t.prototype.mN.call(this,n),this.oV=this.r_},i.eV=function(t){this.e_=_.max(this.e_,t)},i.rV=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(RI(t[r]||t.item(r)));return We(i,oR),i}(this.ew.cues),n=cR(this.s_.Pl.slice(),t),i=0,r=n.mH;i<r.length;i++){var e=r[i];this.xH(e)}for(var s=0,u=n.yH;s<u.length;s++){var o=u[s];this.Wb(o)}},i.Fv=function(){this.ew.removeEventListener("cuechange",this.iV),t.prototype.Fv.call(this)},M(n,[{key:"zl",get:function(){return this.ew.id||""}},{key:"i_",get:function(){return this.ew.inBandMetadataTrackDispatchType||""}},{key:"Yl",get:function(){return this.ew.language||""}},{key:"oV",get:function(){return nl(this.ew.mode)},set:function(t){this.ew.mode=t}},{key:"vw",get:function(){return this.ew}}]),n}(SI),NI=function(t){function n(n){var i;return(i=t.call(this,0,n.bw)||this).LV=void 0,i.LV=n,i.Aw=i.LV.pw,i}return F(n,t),M(n,[{key:"zl",get:function(){return this.LV.zl}},{key:"Ww",get:function(){return this.LV.Ww},set:function(t){this.LV.Ww=t}},{key:"Xw",get:function(){return this.LV.Xw},set:function(t){this.LV.Xw=t}}]),n}(TI);function CI(t){return void 0===t.BV&&(t.BV=new NI(t)),t.BV}var DI=function(t){function n(n,i){var r;(r=t.call(this,n.i_,n.Ql)||this).MV=void 0,r.UV=void 0,r.FV=void 0,r.so=H_.ID3,r.HV=function(t){r.VV(t.kw)},r.XV=function(t){var n=t.kw;if(void 0!==n.BV){var i=n.BV;n.BV=void 0,r.xH(i),i.Fv()}},r.WV=function(t){var n=CI(t.kw);n.Vw||r.qV(n),r.zV(n)},r.GV=function(t){var n=t.kw,i=CI(n);r.UV.H_<n.pw&&r.qV(i)},r.jV=function(){var t=r.FV,n=r.r_;if(r.FV=n,n===$d.$l)r.SH.forEach(function(t){return t.Vw=!1}),Je(r.SH);else if(t===$d.$l)for(var i=r.UV.H_,e=0,s=r.kH;e<s.length;e++){var u=s[e];i<u.Aw&&r.qV(u)}},r.UV=i,r.MV=n,r.FV=n.r_,n.Mo(bd.ol,r.HV),n.Mo(bd.al,r.XV),n.Mo(bd.fl,r.WV),n.Mo(bd.dl,r.GV),n.Mo(bd.wl,r.jV);for(var e=0,s=r.MV.s_.Pl;e<s.length;e++){var u=s[e];r.VV(u)}return r}F(n,t);var i=n.prototype;return i.qV=function(t){var n=hR(this.SH,t);if(!(n>=0)){var i=-(n+1);this.SH.splice(i,0,t),t.Vw=!0,t.Lo(new pR(t,this.UV.H_)),this.Lo(new ER(t)),this.Lo(new CR(this))}},i.zV=function(t){var n=hR(this.SH,t);n>=0&&Ye(this.SH,n),t.Vw=!1,t.Lo(new bR(t,this.UV.H_)),this.Lo(new RR(t)),this.Lo(new CR(this))},i.Fv=function(){this.MV.Vo(bd.ol,this.HV),this.MV.Vo(bd.al,this.XV),this.MV.Vo(bd.fl,this.WV),this.MV.Vo(bd.dl,this.GV),this.MV.Vo(bd.wl,this.jV),t.prototype.Fv.call(this)},i.VV=function(t){var n=CI(t);(this.Wb(n),this.r_!==$d.$l)&&(this.UV.H_<n.Aw&&this.qV(n))},M(n,[{key:"jl",get:function(){return this.MV.jl}},{key:"Ql",get:function(){return this.MV.Ql},set:function(t){this.MV.Ql=t}},{key:"Yl",get:function(){return this.MV.Yl}},{key:"zl",get:function(){return this.MV.zl}},{key:"Gl",get:function(){return this.MV.Gl}},{key:"i_",get:function(){return this.MV.i_}},{key:"r_",get:function(){return this.MV.r_},set:function(t){this.MV.r_=t}},{key:"e_",get:function(){return this.MV.e_}},{key:"o_",get:function(){return this.MV.o_}}]),n}(EI),OI=function(t){function n(n){var i;return(i=t.call(this)||this).UV=void 0,i.UV=n,i}F(n,t);var i=n.prototype;return i.Cl=function(n){if(n.so===H_.ID3){var i=n;return i.BV||(i.BV=new DI(i,this.UV)),t.prototype.Cl.call(this,i.BV)}return t.prototype.Cl.call(this,n)},i.Dl=function(n){if(n.so===H_.ID3){var i=n;return!!i.BV&&t.prototype.Dl.call(this,i.BV)}return t.prototype.Dl.call(this,n)},n}(ol),xI=function(t){function n(n,i){var r;return(r=t.call(this)||this).QV=re(),r.sS=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.ul).so){t.next=4;break}return t.next=4,i.zo(bd.pl);case 4:if(i.so===H_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.s_.Bl){t.next=11;break}return t.next=9,i.zo(bd.ol);case 9:t.next=6;break;case 11:r.YV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.uS=function(t){var n=t.ul;if(n.so===H_.ID3&&r.QV.has(n.Gl)){var i=r.QV.get(n.Gl);r.Dl(i),r.Mb.qb(i),n.Vo(bd.ol,r.VV)}},r.VV=function(t){PI(t.kw)&&r.ZV(t.kw)},r.Mb=n,r.JV=i,r.$V(),r}F(n,t);var i=n.prototype;return i.$V=function(){this.JV.Mo(md.Jd,this.sS),this.JV.Mo(md.Kd,this.uS)},i.KV=function(){this.JV.Vo(md.Jd,this.sS),this.JV.Vo(md.Kd,this.uS)},i.YV=function(t){var n=t.s_.Pl[0];if(PI(n)){var i=function(t){var n=t.match(BI);if(!n)return;return{ul:n[1],Yl:n[2]}}(n.bw.description),r=i.ul,e=i.Yl;if(!this.tX(r,e)){var s=this.Mb.Vb(sy.pk,t.zl,r,e,!1,H_.TTML);this.Cl(s),this.QV.set(t.Gl,s);for(var u=0,o=t.s_.Pl;u<o.length;u++){var h=o[u];PI(h)&&this.ZV(h)}t.Mo(bd.ol,this.VV)}}},i.tX=function(t,n){return!!Ge(this._p.Pl,function(i){return i.Ql===t&&i.Yl===n})},i.ZV=function(t){if(t.ul)for(var n=this.QV.get(t.ul.Gl),i=Yw(t.bw.text,0,{Sm:0,Rm:1/0,Im:-t.Aw}),r=0;r<i.length;r++){var e=i[r];n.Wb(e)}},i.xl=function(){var n=E.coroutine(Kr.mark(function n(){var i,r,e,s,u;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.JV.Pl;i<r.length;i++)r[i].Vo(bd.ol,this.VV);for(e=0,s=this._p.Pl;e<s.length;e++)u=s[e],this.Mb.qb(u);return this.QV.clear(),n.next=5,t.prototype.xl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Fv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.KV(),n.next=3,t.prototype.Fv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(oy);function PI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.bw)&&BI.test(n.description);var n}var BI=/^Track:(.+),Lang:(.+)$/;var LI=function(t){function n(n){var i;return(i=t.call(this,Qo.Za)||this).errorObject=void 0,i.errorObject=n,i}return F(n,t),M(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Es),MI=function(t){function n(){return t.call(this,Qo.Ja)||this}return F(n,t),n}(Es),UI=function(t){function n(n){var i;return(i=t.call(this,"Rc")||this).nX=n,i}return F(n,t),n}(Es),FI=new jE,HI=function(t){function i(i,r,e){var s;return(s=t.call(this)||this).Hh=void 0,s.Wi=!1,s.iX=!1,s.xd=new es,s.Ch=function(t){switch(t.Yo){case"license-request":s.ST(t.Qo,t.Zo).catch(function(t){return s.fa(t)});break;default:s.fa(new k_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Yo))}},s.rX=function(t){s.eX.Xh.uh(function(t,n){switch(t){case"usable":T.ur(function(){s.iX=!0,s.Lo(new MI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.Lo(new UI(n))}})},s.sX=function(t){s.fa(new k_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.eX=i,s.uX=r,s.oX=e,i.Mo("Qo",s.Ch),i.Mo("jo",s.rX),i.Mo("Jo",s.sX),s.Hh=i.Hh.then(function(){return s.hX()}),s}F(i,t);var r=i.prototype;return r.Bh=function(){var t=this;return this.Wi=!0,FI.eL(function(n){return t.aX(n)},this.xd.Do)},r.aX=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,os(i),t.next=4,this.uX.mT(i);case 4:return t.next=6,this.uX.kT(this.oX.oo,this.oX.ih,i);case 6:return r=t.sent,t.next=9,this.eX.Bh(this.oX.oo,this.oX.ih,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),hs(t.t0),e=t.t0 instanceof $u?t.t0.bh:void 0,s=new k_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.fa(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.ST=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Yu(i)){t.next=7;break}return t.next=4,this.uX.PT(new m(i),this.xd.Do);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.uX.BT(new m(i),r,this.xd.Do);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!us(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.eX.Uh(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof $u?t.t1.bh:void 0,new k_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.fa=function(t){var i=t instanceof k_?t:new k_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Lo(new LI(i)),this.Ph()},r.hX=function(){this.eX.Vo("Qo",this.Ch),this.eX.Vo("jo",this.rX),this.eX.Vo("Jo",this.sX),this.iX=!1,this.xd.Io()},r.Ph=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),this.hX(),t.next=4,this.eX.Ph().catch(R);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(bs),VI=[Qo.Ja,Qo.Za,Qo.Sc],XI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Dh=void 0,e.qh=void 0,e.cX=void 0,e.fX=[],e.vX=void 0,e.dX=[],e.Dh=n,e.qh=i,e.cX=r,e}F(n,t);var i=n.prototype;return i.xT=function(){return this.cX.xT()},i.lX=function(t){return this.vX||(this.vX=this._X(t)),this.vX},i._X=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.next=3,this.cX.PT(new m(Qu()),n);case 3:return i=t.sent,os(n),t.next=7,this.qh.Qh(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gX=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.dX.push(n),t.next=4,this.qh.jh("temporary");case 4:return i=t.sent,r=new HI(i,this.cX,n),this.fX.push(r),r.Mo(VI,this.Bo),r.Hh.then(function(){return e.wX(r)}),t.abrupt("return",r);case 10:return t.prev=10,Qe(this.dX,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.yX=function(t){if(t.mX)return!1;for(var n=0,i=this.fX;n<i.length;n++){if(WI(i[n].oX,t))return!0}for(var r=0,e=this.dX;r<e.length;r++){if(WI(e[r],t))return!0}return!1},i.wX=function(t){t.Vo(VI,this.Bo),Qe(this.fX,t)},i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),n=this.fX.slice(),Je(this.fX),t.next=5,E.all(n.map(function(t){return t.Ph()}));case 5:this.cX.Ao();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"zh",get:function(){return this.Dh}}]),n}(bs);function WI(t,n){return!t.mX&&t.oo===n.oo&&zs(t.ih,n.ih)}var qI=function(t){function i(n){var i;return(i=t.call(this)||this).dS=void 0,i.xd=new es,i._L=new jE,i.ya=void 0,i.cX=void 0,i.lS=void 0,i.Dh=void 0,i.kX=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.pX(n.oo,n.ih,i.xd.Do);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),us(t.t0)||i.fa(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.dS=n,i.dS.Mo(As.$o,i.kX),i}F(i,t);var r=i.prototype;return r.Lh=function(t,n){this.lS=t,this.HL(n)},r.HL=function(t){this.ya=t,this.AX(this.xd.Do).catch(as)},r.AX=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!T.Mu.ou){t.next=5;break}return t.next=3,this.bX(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.ya||!this.ya.TX){t.next=9;break}return t.next=8,this.EX(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bX=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.ya)?void 0:i.qS){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,s=null!=(u=null==(o=this.ya)?void 0:o.qS)?u:[];case 5:if(!(e<s.length)){t.next=27;break}h=s[e],a=0,c=null!=(f=h.iS)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.pX(h.zh.oo,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),hs(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.pX=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h,a,c,f,v,d,l;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.ya&&this.ya.qS.length){t.next=5;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===ve||i===le||i===de){t.next=8;break}return t.abrupt("return");case 8:s=$m(i,r),u=this.ya.qS,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],os(e),(c=s[a.zh.ho])&&a.zh.oo===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.SX(a,e);case 20:if(!(f=t.sent).xT()){t.next=24;break}return t.next=24,f.lX();case 24:if(v=this.dS.qg,d={oo:a.zh.oo,ih:c,mX:v},!this.RX(f,d)){t.next=32;break}return t.next=29,f.gX(d);case 29:return l=t.sent,t.next=32,l.Bh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),hs(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,T.Su();case 44:if(!t.sent){t.next=48;break}throw new k_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new k_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.EX=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.ya)?void 0:i.qS){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return s=r[e],os(n),t.prev=7,t.next=10,this.SX(s,n);case 10:if(!(u=t.sent).xT()){t.next=14;break}return t.next=14,u.lX();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),hs(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.RX=function(t,n){return T.Mu.uu||!t.yX(n)},r.SX=function(t,n){var i=this;return this._L.eL(function(n){return i.IX(t,n)},n)},r.IX=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),this.ya&&this.cX&&this.lS){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Dh){t.next=7;break}if(this.Dh.zh===n.zh){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Dh);case 7:return r=this.cX,e=te({},n,{eR:n.eR.map(function(t){var i;return te({},t,{persistentState:null!=(i=t.persistentState)?i:r.nE(n.zh),ra:t.ra||r.ra(n.zh)})})}),t.next=11,this.lS.ML(e.zh,e.eR);case 11:return s=t.sent,u=r.nS(e),(o=new XI(e.zh,s,u)).Mo([Qo.Ja,Qo.Za,Qo.Sc],this.Bo),this.Dh=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.fa=function(t){var i=t instanceof k_?t:new k_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Lo(new LI(i))},r.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lS=void 0,this.ya=void 0,this.xd.Io(),this.xd=new es,t.next=6,this.NX();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.NX=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._L.Io();case 2:if(!(n=this.Dh)){t.next=8;break}return n.Vo(Qo.Sc,this.Bo),this.Dh=void 0,t.next=8,n.Fv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),this.dS.Vo(As.$o,this.kX),t.next=4,this.xl();case 4:return t.next=6,this._L.Fv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"CX",get:function(){var t;return null==(t=this.Dh)?void 0:t.zh}},{key:"VS",get:function(){return this.cX},set:function(t){this.cX=t}}]),i}(bs),zI=Y.Ie||Y.Ne,GI=Y.je,jI=.5,QI=5,YI=Y.Pe,ZI=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Ca=void 0,s.DX=void 0,s._S=void 0,s.UR=!0,s.lS=void 0,s.OX=new jE,s.xX=void 0,s.PX=void 0,s.BX=void 0,s.xL=void 0,s.vg=void 0,s.WI=void 0,s.LX=[],s.MX=void 0,s.UX=void 0,s.FX=void 0,s.HX=void 0,s.VX=void 0,s.XX=void 0,s.WX=void 0,s.qX=NaN,s.zX=void 0,s.GX=void 0,s.FI=!1,s.jX=E.resolve(),s.QX=new es,s.YX=[],s.ZX=rA.NI(),s.JX=void 0,s.$X=1,s.KX=!1,s.tW=!1,s.fo=void 0,s.nW=!1,s.iW=!1,s.rW=!1,s.eW=!1,s.sW=0,s.uW=function(t){var n=t.track,i=s.oW(n);s.hW(n,i)},s.aW=function(t){var n=tN(s.MX,t.track);n&&s.MX.Dl(n)},s.cW=function(){for(var t=0;t<s.vg.Bl;t++){var n=s.vg.Nl(t);n instanceof wI&&n.aV()}},s.fW=function(){s.MX.xl()},s.vW=function(){var t=s.lS,n=t.LF,i=t.MF;if(n&&i)if(t.GL)s.dW();else if(t.e_!==GS.ZU){var r=n.Vg,e=i.Vg;if(0!==r.Bl&&0!==e.Bl){var u=s.H_;if(u<r.GR(0)||u<e.GR(0))s.dW();else if(r.sR(u)!==e.sR(u))s.lW();else if(s.dW(),!s.sW&&s.BX.lH())r.vI(e).wI(u,u+jI)&&(s.sW=lT(s._W))}else s.dW()}},s._W=function(){s.sW=0,s.vW()},s.gW=function(){if(!(s.j_||s.e_>=yl.O_)){0;var t=s.lS,n=t.LF,i=t.MF;if(n&&i){var r=s.H_,e=n.Vg,u=i.Vg;if(e.sR(r)&&u.sR(r))e.vI(u).wI(r-QI,r)&&s.dh(r)}}},s.wW=function(){s.Lo(new Fl(s.H_))},s.yW=function(){s.mW(new ss),s.Lo(new Ul(s.H_))},s.kW=function(){s.pW(),s.Lo(new im(s.H_))},s.AW=function(){s.bW(s.G_)},s.TW=function(){s.KX&&!s.HS.ended&&(s.KX=!1),s.Lo(new ql(s.V_))},s.EW=function(){s.Lo(new lS(s.H_))},s.SW=function(){s.Lo(new _S)},s.RW=function(){var t=s.H_,n=s.j_,i=s.e_<yl.O_&&!s.X_,r=void 0!==s.GX,e=r&&s.GX!==t;(n||!r||e&&!i)&&(s.Lo(new Gl(s.H_,void 0)),s.GX=t)},s.IW=function(){!s.KX&&s.X_&&(s.KX=!0,s.Lo(new jl(s.H_)))},s.NW=function(){if(null!==s.Ca.error){var t,n=s.Ca.error;s.TS(new p_(null!=(t=n.code)?t:w_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.DW=function(){s.Lo(new Jl(s.H_,s.Z_))},s.OW=function(){s.Y_>0&&s.Q_>0&&s.Lo(new Oy)},s.xW=function(t){s.Lo(new Ds(t.initDataType,t.initData||new ArrayBuffer(0)))},s.PW=function(){s.Lo(new Os)},s.BW=function(t){var n=t.initData,i=n?qu(n).buffer:new ArrayBuffer(0);s.Lo(new Ds(ve,i))},s.LW=function(t){if(t.initData){var n=JI(t.initData);if(!n)return;s.Lo(new Ds(le,n))}else s.Lo(new Ds(le,new ArrayBuffer(0)))},s.MW=function(t){var n=t.initData,i=n?qu(n).buffer:new ArrayBuffer(0);s.Lo(new Ds(ve,i))},s.UW=function(){s.pW()},s.FW=function(t){s.mW(t)},s.HW=function(t){s.Lo(t),t.type===Qo.Za&&s.TS(b_(t.errorObject))},s.Ca=n,s.fo=i,s.DX=r,s.WI=e,s.PX=new tR(sn(s)),s.PX.Mo(Ll.ml,s.Bo),s.BX=new rR(sn(s)),s.BX.Mo(Ll.F_,s.kW),s.xL=new qI(sn(s)),s.xL.Mo([Qo.Ja,Qo.Za,Qo.Sc],s.HW),s.vg=new uy,s.MX=new uy,s.UX=new Fp([s.vg,s.MX]),s.FX=new OI(sn(s)),s.FX.Vl=s.UX,s.HX=new xI(sn(s),s.FX),s.VX=new Fp([s.UX,s.HX._p]),s.XX=new bI(sn(s)),s.VW(),s.WS(),s}F(n,t);var i=n.prototype;return i.XW=function(){this.HS.ended||this.H_===this.V_||(this.KX=!1)},i.WW=function(){return void 0!==this.WX&&this.V_===this.WX},i.bW=function(t){this.$X!==t&&(this.$X=t,this.Lo(new zl(this.H_,t)))},i.hR=function(){return gE(this.Ca)},i.kg=function(){var t=this.qW();return this.zW(),t},i.zW=function(){this.nW?this.iW&&(this.iW=!1,this.Lo(new Fl(this.H_))):this.GW()},i.GW=function(){if(this.xX)this.xX.kg();else{Y.Pe&&!Y.me&&this.Ca.preload===Yp.DR&&(this.Ca.preload=Yp.bk);var t=this.G_,n=this.Ca.play();t!==this.HS.playbackRate&&(this.G_=t),st(n)?n.then(this.UW,this.FW):this.BX.lH()&&this.pW()}},i.pg=function(){this.nW?this.iW||(this.iW=!0,this.Lo(new Ul(this.H_))):this.jW()},i.jW=function(){this.xX?this.xX.pg():(this.Ca.pause(),this.BX.Uh()),this.QW(new ss)},i.qW=function(){var t=new ju;return this.YX.push(t),t.mh},i.YW=function(){for(var t=0,n=this.YX;t<n.length;t++){n[t].kh(void 0)}Je(this.YX)},i.QW=function(t){for(var n=0,i=this.YX;n<i.length;n++){i[n].ph(t)}Je(this.YX)},i.pW=function(){this.nW||this.xX||this.YW()},i.mW=function(t){this.nW||this.xX||this.QW(t)},i.dh=function(t,n){this.xX?this.xX.H_=t:(this.QX.Io(),this.QX=new es,this.jX=this.ZW(t,this.jX,this.QX.Do).catch(R))},i.oR=function(t){var n=this.aR;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.dh(i)}},i.ZW=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.WX=n,this.qX=n,this.FI=!0,this.KX&&!this.WW()&&(this.KX=!1),this.Lo(new Yl(n)),t.next=8,i.catch(R);case 8:if(os(r),this.tW&&this.JW(),this.e_!==yl.N_){t.next=13;break}return t.next=13,this.zo(Ll.ml,r);case 13:if(0!==this.Ca.seekable.length){t.next=19;break}return t.next=16,E.race([wd(this.Ca,"timeupdate",r),ys(100,r)]);case 16:os(r),t.next=13;break;case 19:e=this.$W(n),s=this.tw,u=!0,o=!1;case 23:if((s=this.tw).Bl>0&&!s.sR(e)&&(e=s.iI(e),u=!0),YI&&void 0!==(h=this.KW())&&e>h&&(e=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.tq())&&e>a)){t.next=37;break}return o=!0,t.next=33,this.nq(a,r);case 33:return t.next=35,wd(this.Ca,"seeked",r);case 35:os(r),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.nq(e,r);case 41:os(r),c=this.H_,s=this.tw,e=s.iI(e),f=1;case 46:if(!(_.abs(e-c)>=1/6)){t.next=56;break}return s=this.tw,e=KI(e,s,f),t.next=51,this.nq(e,r);case 51:os(r),c=this.H_,f++,t.next=46;break;case 56:if(this.Ca.seeking||this.e_<yl.D_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,vs(function(t){var n;return E.race([wd(v.Ca,"seeked",t),v.zo([Qo.vc,Qo.tc,Ll.ml],t),null==(n=v.lS)?void 0:n.zo(sS.oC,t)].filter($))},r);case 60:os(r),t.next=23;break;case 63:this.iq(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!us(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nq=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),r=this.tw,n=r.iI(n),!this.tW){t.next=18;break}e=!0;case 5:if(!(e||this.e_<yl.O_)){t.next=17;break}if((r=this.tw).sR(n)||(n=r.iI(n),e=!0),!e){t.next=13;break}return e=!1,this.WX=n,this.rq(this.H_),t.abrupt("continue",5);case 13:return t.next=15,this.zo([Ll.ml,Qo.tc],i);case 15:t.next=5;break;case 17:os(i);case 18:if(s=wd(this.Ca,"seeking",i),this.Ca.currentTime=n,this.WX=void 0,this.rq(this.H_),!this.Ca.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$W=function(t){var n=this.Vg;if(n&&!n.sR(t)){var i=n.lI(t,.05);if(i>-1){var r=n.GR(i);if(t<r)return r}}return t},i.KW=function(){if(this.lS&&this.lS.GL){var t=this.lS.jL,n=this.lS.QL,i=t&&n?t.sI(n):t||n;if(i&&0!==i.Bl){var r=i.GR(i.Bl-1),e=i.QR(i.Bl-1);return _.max(r,e-.001)}}},i.tq=function(){if(this.lS&&this.lS.GL){var t=this.lS.QL;if(t&&0!==t.Bl){var n=t.GR(t.Bl-1),i=t.QR(t.Bl-1)-.02;return i-=.001,_.max(n,i)}}},i.rq=function(t){this.qX!==t&&(this.qX=t,this.Lo(new Yl(t)))},i.iq=function(){this.FI=!1,this.qX=NaN,this.tW&&this.sq(),this.Lo(new Zl(this.H_))},i.JW=function(){this.nW||(this.iW=this.z_,this.nW=!0,this.jW())},i.sq=function(){this.nW&&(this.nW=!1,this.iW||this.zW())},i.zL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.so===Dy.Gb&&dS.zL(i,this.Ca))return i;if(i.so===Dy.jb&&YS.zL(i))return i}},i.Og=function(){this.UR=!1,Or(this.Ca)&&(this.Ca.style.display="none")},i.Dg=function(){this.UR=!0,Or(this.Ca)&&(this.Ca.style.display="block")},i.Vb=function(t,n,i,r,e,s,u){var o=new kR(t,n,i,r,e,s,u);return this.vg.Cl(o),this.XX.Cl(o),o},i.YS=function(){return!0},i.JS=function(t,n,i,r){var e=s.createElement("track");e.src=Pf(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=qb(),this.Ca.appendChild(e);var u=this.Ca.textTracks.getTrackById(e.id),o=new wI(u,e);return this.MX.Cl(o),this.LX.push(o),o},i.qb=function(t){this.vg.Dl(t),this.XX.Dl(t)},i.tR=function(){for(var t=0,n=this.vg.Pl.slice();t<n.length;t++){n[t].Fv()}this.vg.xl();for(var i=0,r=this.LX.slice();i<r.length;i++){var e=r[i];this.MX.Dl(e),e.Fv()}Je(this.LX)},i.WS=function(){var t=this.Ca.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.uW),t.addEventListener("removetrack",this.aW),t.addEventListener("change",this.cW)),this.Ca.addEventListener("emptied",this.fW)},i.iR=function(){var t=this.Ca.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.uW),t.removeEventListener("removetrack",this.aW),t.removeEventListener("change",this.cW)),this.Ca.removeEventListener("emptied",this.fW)},i.hW=function(t,n){if(Y.Pe){if(t.kind===sy.bk)return void this.uq(t);if(t.kind===sy.Db&&""===t.label&&""===t.language&&!nN(t))return void this.oq(t,n)}tN(this.MX,t)||this.MX.Cl(new wI(t,n))},i.uq=function(t){t.mode=$d.Kl;var n=new II(t);this.MX.Cl(n),this.XX.Cl(n)},i.oq=function(t,n){var i=this;t.addEventListener("cuechange",function r(){nN(t)&&(t.removeEventListener("cuechange",r),i.MX.Cl(new wI(t,n)))}),t.mode=$d.Kl},i.oW=function(t){for(var n=this.Ca.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Lh=function(t){var n=this;return this.OX.eL(function(){var i=E.coroutine(Kr.mark(function i(r){var e;return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(os(r),!n.lS){i.next=3;break}throw new v("Already loaded a media source");case 3:if(t.so!==Dy.Gb){i.next=9;break}e=new dS(t,n,n.xL,n.fo),n.tW=!1,n.hq(new tR(n)),i.next=17;break;case 9:if(t.so!==Dy.jb){i.next=16;break}e=new YS(t,n,n.xL,n.fo),n.tW=zI,n.hq(n.tW?new nR(n):new tR(n)),GI&&(n.Mo(Qo.Tc,n.vW),n.Mo(Ll.ml,n.gW)),i.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.lS=e,i.next=20,e.Ox();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.lW=function(){if(!this.rW){var t=this.G_;this.rW=!0,this.G_=t,this.Ca.playbackRate=0,this.PX&&this.PX.oH()}},i.dW=function(){if(this.rW){var t=this.G_;this.rW=!1,this.G_=t,this.Ca.currentTime=this.Ca.currentTime,this.PX&&this.PX.oH()}},i.hq=function(t){var n=this.e_;this.PX.Ao(),this.PX=t,this.PX.Mo(Ll.ml,this.Bo);var i=this.e_;n!==i&&this.Lo(new t_(this.H_,i))},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){var n=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.FI=!1,this.ZX=rA.NI(),this.QX.Io(),this.WX=void 0,this.qX=NaN,this.zX=void 0,this.tW=!1,this.nW=!1,this._S=void 0,this.KX=!1,this.GX=void 0,this.QW(new ss),this.hq(new tR(this)),this.BX.xl(),this.dW(),GI&&(_T(this.sW),this.sW=0,this.Vo(Qo.Tc,this.vW),this.Vo(Ll.ml,this.gW)),t.next=18,this.OX.Io();case 18:return t.next=20,this.OX.eL(E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.lS){t.next=4;break}return t.next=3,n.lS.Ao();case 3:n.lS=void 0;case 4:case"end":return t.stop()}},t)})));case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aq(),this.iR(),t.next=4,this.xl();case 4:return t.next=6,this.OX.Fv();case 6:return this.BX.Ao(),this.PX.Ao(),t.next=10,this.xL.Ao();case 10:return this.tR(),this.vg.Fv(),this.FX.Fv(),this.MX.Fv(),t.next=16,this.HX.Fv();case 16:this.UX.Fv(),this.VX.Fv(),this.Ho();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.VW=function(){this.HS.addEventListener("play",this.wW),this.HS.addEventListener("pause",this.yW),this.HS.addEventListener("timeupdate",this.RW),this.HS.addEventListener("progress",this.EW),this.HS.addEventListener("loadstart",this.SW),this.HS.addEventListener("ended",this.IW),this.HS.addEventListener("ratechange",this.AW),this.HS.addEventListener("volumechange",this.DW),this.HS.addEventListener("durationchange",this.TW),this.HS.addEventListener("resize",this.OW),this.HS.addEventListener("loadedmetadata",this.OW),this.HS.addEventListener("error",this.NW),Fe()?(this.Ca.addEventListener("encrypted",this.xW),this.Ca.addEventListener("waitingforkey",this.PW)):void 0!==kr.WebKitMediaKeys&&"function"==typeof kr.WebKitMediaKeys.isTypeSupported?this.Ca.addEventListener("webkitneedkey",this.LW):He()?this.Ca.addEventListener("webkitneedkey",this.MW):void 0!==kr.MSMediaKeys&&"function"==typeof kr.MSMediaKeys.isTypeSupported&&this.Ca.addEventListener("msneedkey",this.BW)},i.aq=function(){this.HS.removeEventListener("play",this.wW),this.HS.removeEventListener("pause",this.yW),this.HS.removeEventListener("timeupdate",this.RW),this.HS.removeEventListener("progress",this.EW),this.HS.removeEventListener("loadstart",this.SW),this.HS.removeEventListener("ended",this.IW),this.HS.removeEventListener("ratechange",this.AW),this.HS.removeEventListener("volumechange",this.DW),this.HS.removeEventListener("durationchange",this.TW),this.HS.removeEventListener("resize",this.OW),this.HS.removeEventListener("loadedmetadata",this.OW),this.HS.removeEventListener("error",this.NW),this.HS.removeEventListener("encrypted",this.xW),this.HS.removeEventListener("waitingforkey",this.PW),this.HS.removeEventListener("webkitneedkey",this.LW),this.HS.removeEventListener("webkitneedkey",this.MW),this.HS.removeEventListener("msneedkey",this.BW)},i.cq=function(){var t;this.xX||(this.ZX=this.$g,this.xX=new JS((t=this).H_,t.V_,t.X_,t.z_,t.j_,t.q_,t.G_,t.Z_,t.e_),this.aq(),this.xX.Mo(ZS,this.Bo))},i.fq=function(){if(this.xX){var t,n,i=this.xX;this.xX=void 0,this.PX.oH(),t=this,(n=i).V_===t.V_||y(n.V_)&&y(t.V_)||t.Lo(new ql(t.V_)),t.q_=n.q_,t.Z_=n.Z_,t.G_=n.G_,n.z_?t.pg():t.kg().catch(R),n.H_!==t.H_||n.e_>yl.N_&&t.e_===yl.N_?t.dh(n.H_):!n.j_&&t.j_?t.Lo(new Yl(t.H_)):n.j_&&!t.j_&&t.e_>=yl.D_&&t.Lo(new Zl(t.H_)),!n.X_&&t.X_&&t.Lo(new jl(t.H_)),i.Ao(),this.VW()}},i.TS=function(t){this._S=t,this.QW(this._S),this.Lo(new eR(this._S))},i.vq=function(){this.dq||(HC(this.Ca,T.Mu),this.eW=!0)},i.lq=function(t){t.appendChild(this.Ca)},i.QF=function(){GI&&this.vW(),this.PX.oH()},i.Hg=function(){this.xL.NX().catch(R)},M(n,[{key:"aH",get:function(){return this.rW}},{key:"Vg",get:function(){return this.lS?this.lS.Vg:rA.NI()}},{key:"Xg",get:function(){var t=this.aR;if(t&&!y(t.getTime())){var n=1e3*this.H_;return new Date(t.getTime()+n)}}},{key:"aR",get:function(){if(this.HS.getStartDate)return this.FI&&this.zX||(this.zX=this.HS.getStartDate()),this.zX}},{key:"H_",get:function(){return this.xX?this.xX.H_:void 0!==this.WX?this.WX:this.Ca.currentTime}},{key:"FB",get:function(){return this.DX}},{key:"V_",get:function(){return this.xX?this.xX.V_:this.lS?this.lS.V_:this.Ca.duration}},{key:"X_",get:function(){return this.j_?this.WW():this.xX?this.xX.X_:this.Ca.ended||this.KX}},{key:"Jo",get:function(){return this._S}},{key:"HS",get:function(){return this.Ca}},{key:"z_",get:function(){return this.nW?this.iW:this.xX?this.xX.z_:this.Ca.paused}},{key:"$g",get:function(){return this.ZX.fI(rA.SI(this.Ca.played))}},{key:"Dp",get:function(){return this.Ca.offsetHeight*T.Mu.eu}},{key:"du",get:function(){return this.Ca.offsetWidth*T.Mu.eu}},{key:"KS",get:function(){return uA}},{key:"e_",get:function(){return this.PX.e_}},{key:"tw",get:function(){return this.lS?this.lS.tw:rA.NI()}},{key:"j_",get:function(){return this.xX?this.xX.j_:this.FI}},{key:"q_",get:function(){return this.xX?this.xX.q_:this.Ca.muted},set:function(t){this.xX?this.xX.q_=t:this.Ca.muted=t}},{key:"G_",get:function(){return this.xX?this.xX.G_:void 0!==this.JX?this.JX:this.Ca.playbackRate},set:function(t){this.xX?this.xX.G_=t:this.z_||this.rW?(this.JX=t,this.bW(t)):(this.JX=void 0,this.Ca.playbackRate=t)}},{key:"_q",get:function(){return this.UR}},{key:"Z_",get:function(){return this.xX?this.xX.Z_:this.Ca.volume},set:function(t){this.xX?this.xX.Z_=t:this.Ca.volume=t}},{key:"yg",get:function(){return this.VX}},{key:"VB",get:function(){return this.WI}},{key:"qg",get:function(){return!!this.Ca.webkitCurrentPlaybackTargetIsWireless}},{key:"dq",get:function(){return this.eW}},{key:"gq",get:function(){return te({},aS)}},{key:"VS",get:function(){return this.xL.VS},set:function(t){this.xL.VS=t}},{key:"CX",get:function(){return this.xL.CX}}]),n}(bs);function JI(t){try{var n=Fu(t),i=new zu;return Du(Ou(cu(n,i,gu(n,i,!0)),!0))}catch(t){return}}var $I=.01;function KI(t,n,i){if(void 0===i&&(i=0),!n.Bl)return 0;var r=n.iI(t),e=$I*i;return r===n.GR(0)?r+=e:r===n.QR(n.Bl-1)&&(r-=e),r}function tN(t,n){for(var i=0,r=t.Pl;i<r.length;i++){var e=r[i];if(e.vw===n)return e}}function nN(t){return!!t.cues&&t.cues.length>0}var iN=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).nl=void 0,n}return F(n,t),M(n,[{key:"il",get:function(){return this.nl||(this.nl=IE(this)),this.nl}},{key:"oB",get:function(){}},{key:"hB",get:function(){}},{key:"aB",get:function(){}},{key:"cB",get:function(){}},{key:"fB",get:function(){}},{key:"vB",get:function(){}},{key:"dB",get:function(){}}]),n}(bs),rN=(new iN,function(t){function n(n,i,r){return t.call(this,n,i,r,new iN)||this}return F(n,t),n.prototype.xg=function(){},M(n,[{key:"Q_",get:function(){return 0}},{key:"Y_",get:function(){return 0}}]),n}(ZI)),eN="theoplayer-texttracks",sN=function(){function t(t){void 0===t&&(t=5),this.wq=void 0;var n=kr.document.createElement("div");n.className=eN,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.wq=n,this.Dg()}var n=t.prototype;return n.Og=function(){this.wq.style.display="none"},n.Dg=function(){Ir(this.wq.style,"flex")},n.lq=function(t){t.appendChild(this.wq)},n.Fv=function(){Sr(this.wq)},M(t,[{key:"Wg",get:function(){return this.wq}}]),t}();function uN(t,n){return t?te({},n,Hd({cB:t.cB,aB:t.aB,hB:t.hB,oB:t.oB,fB:t.fB,vB:t.vB,dB:t.dB})):n}function oN(t){return t.aB&&Ie(t.aB,"%")?Number(t.aB.replace("%",""))/100:t.aB&&Ie(t.aB,"em")?Number(t.aB.replace("em","")):1}var hN,aN,cN=function(){function t(t,n,i,r,e){var s=this;this.yq=ie(),this.mq=!0,this.kq=void 0,this.Pw=void 0,this.Ca=void 0,this.DX=void 0,this.pq=void 0,this.Aq=function(t){return s.yq.has(t.Xw)},this.bq=function(t){return!s.Aq(t)},this.Tq=function(t){return s.Wb(t.kw)},this.Eq=function(t){return s.removeCue(t.kw)},this.Sq=function(){return s.Rq()},this.Iq=function(t){return s.Nq(t.kw)},this.Cq=function(t){return s.Dq(t.kw)},this.Oq=function(t){s.xq(t.du,t.Dp)},this.Pw=t,this.pq=this.kq=e,this.Ca=this.Pq(i),this.DX=r,n.appendChild(this.Ca),this.Bq(),this.Pw.s_.Pl.forEach(function(t){return s.Wb(t)}),this.FB.Mo("HD",this.Oq),this.xq(this.FB.jD,this.FB.GD)}var n=t.prototype;return n.Lq=function(t){this.kq=uN(t,this.pq),this.kq.oB&&(this.HS.style.fontFamily=this.kq.oB),this.kq.dB&&(this.HS.style.visibility=this.kq.dB),this.xq(this.FB.jD,this.FB.GD),this.Mq()},n.Uq=function(){return this.kq},n.Bq=function(){this.Pw.Mo(bd.ol,this.Tq),this.Pw.Mo(bd.al,this.Eq),this.Pw.Mo(bd.wl,this.Sq)},n.Fq=function(){var t=this;this.Pw.Vo(bd.ol,this.Tq),this.Pw.Vo(bd.al,this.Eq),this.Pw.Vo(bd.wl,this.Sq),this.Pw.s_.Pl.forEach(function(n){return t.Hq(n)})},n.Vq=function(t){t.Mo(q_.gw,this.Iq),t.Mo(q_.yw,this.Cq)},n.Hq=function(t){t.Vo(q_.gw,this.Iq),t.Vo(q_.yw,this.Cq)},n.Wb=function(t){t.Xw||(t.Xw=this.Xq),this.Vq(t),t.Vw&&this.Nq(t)},n.removeCue=function(t){this.Hq(t),this.Dq(t)},n.Rq=function(){this.Pw.r_===$d.t_?this.Wq():this.qq()},n.Wq=function(){var t=this,n=this.FB.jD,i=this.FB.GD,r=new uT(n,i);this.Oq(r),this.mq=!1,this.zq.forEach(function(n){return t.Nq(n)})},n.Nq=function(t){this.mq||this.bq(t)&&(this.Gq(t),this.yq.set(t.Xw,t))},n.Gq=function(t){var n=this.Ca,i=this.jq(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.Xw,n.appendChild(e)}},n.qq=function(){var t=this;this.mq=!0,this.yq.forEach(function(n){return t.Dq(n)})},n.Dq=function(t){this.Aq(t)&&(this.Qq(t),this.yq.delete(t.Xw))},n.Qq=function(t){for(var n=this.Ca,i=n.getElementsByClassName(t.Xw);i.length;)n.removeChild(i[0])},n.Mq=function(){for(var t=0,n=this.Yq;t<n.length;t++){var i=n[t];this.Qq(i),this.Gq(i)}},n.Fv=function(){Sr(this.HS),this.Fq(),this.FB.Vo("HD",this.Oq)},M(t,[{key:"ul",get:function(){return this.Pw}},{key:"HS",get:function(){return this.Ca}},{key:"FB",get:function(){return this.DX}},{key:"Zq",get:function(){return this.kq}},{key:"Yq",get:function(){return this.Pw.u_.Pl.filter(this.Aq)}},{key:"zq",get:function(){return this.Pw.u_.Pl.filter(this.bq)}}]),t}();function fN(t){return vN[t||"none"]}!function(t){t.Jq='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.$q='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Kq='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.tz='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(hN||(hN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(aN||(aN={}));var vN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function dN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var lN=ee({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),_N=ee({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),gN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=lN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Ce(t,"px")?t=g(t)/24+"em":Ce(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=_N.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Ce(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},wN=0,yN={hB:aN.WHITE,oB:"Arial, Helvetica, Sans-Serif",aB:"100%",cB:aN.TRANSPARENT,fB:aN.TRANSPARENT,vB:"none",dB:"visible"},mN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,yN)||this}F(n,t);var i=n.prototype;return i.Pq=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.xq=function(t,n){var i=_.min(t,n)/15;this.HS.style.fontSize=i+"px"},i.jq=function(t){if(t.ul&&t.ul.so!==H_.TTML)return[];var n,i=[],r=t,e=r.pb,u=r.Nm,o=r.bw;if(0===l.keys(u).length){Rr(n=s.createElement("div"),r.Xw),SN(n);for(var h=kN(o,e,r.Ab,void 0,this.HS),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=l.keys(u);f<v.length;f++){var d=v[f],_=s.createElement("div");_.id=d,Rr(_,r.Xw);var g=kN(o,e,r.Ab,_,this.HS);if(g){SN(_),bN(_,u[d],e,this.HS);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.Lq=function(t){},M(n,[{key:"Xq",get:function(){return"theoplayer-ttmlcue-"+wN++}}]),n}(cN);function kN(t,n,i,r,e){var s,u;if(rn(t)&&("SPAN"===(u=t).hs.toUpperCase()||"P"===u.hs.toUpperCase()||"BR"===u.hs.toUpperCase()||"DIV"===u.hs.toUpperCase()||"BODY"===u.hs.toUpperCase())){var o=function t(n){var i=n.Ts("region");if("p"===n.hs.toLowerCase())return i;var r=[];for(var e=0,s=n.bs;e<s.length;e++){var u=s[e];r.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.Ts("style");EN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Cs).forEach(function(n){var r=qw(n.as,["ebutts","tts","xml"]);gN[r]&&gN[r](n.vs,t,i)})}(t,n,r)})(s="BODY"===t.hs.toUpperCase()?r:pN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.Ts("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.bs)for(var e=0,s=null==n?void 0:n.bs;e<s.length;e++){var u=s[e];if(r=t(u,i))break}return r}(i,function(t){return t.Cs.some(function(t){return"id"===t.hs&&t.vs===r})});e&&TN(t,e,n,!0)}!function(t,n){var i=n.bs[0];if(!i||"metadata"!==i.hs.toLowerCase())return;var r=i.bs[0];TN(t,r,n)}(t,n)}(s,t,i);for(var h=[],a=t.gs,c=0;c<a.length;c++){var f=kN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.hs.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else en(t)&&(s=pN(t));if(s)return[s]}function pN(t){var n,i;if(en(t))dN(n=s.createElement("text"),t.Os);else if(rn(t))switch(t.hs.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",AN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),AN(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",AN(n,t)}return n}function AN(t,n){var i=n.Es(Vw,"id");i&&(t.id=i)}function bN(t,n,i,r){EN(t,n.style,i,r),l.keys(n).forEach(function(i){gN[i]&&gN[i](n[i],t)})}function TN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.gs.length>0?t.gs[0]:null;return n&&en(n)?"data:image/png;base64,"+n.Os:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Ts("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.Ts("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function EN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(e){var s=qw(e,["ebutts","tts","xml"]);"style"===s.toLowerCase()?EN(t,i[n][e],i,r):gN[s]&&gN[s](i[n][e],t,r)})})}function SN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var RN,IN,NN=void 0;function CN(t,n){for(var i,r=RN.nz,e="",s=[],u=t.charAt(n._h),o="",h={so:IN.iz,ys:"",rz:[]};n._h<t.length+1;){switch(u=n._h<t.length?t.charAt(n._h):"EOF",r){case RN.nz:switch(u){case"&":var a=t.substr(n._h).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],NN||(NN=kr.document.createElement("textarea")),NN.innerHTML=i,NN.value),n.vh(a[0].length-1)):e+="&";break;case"<":if(e)return{so:IN.ez,bw:e};r=RN.sz;break;case"EOF":return{so:IN.ez,bw:e};default:e+=u}break;case RN.sz:switch(u){case"\t":case"\n":case"\f":case" ":r=RN.uz;break;case".":r=RN.oz;break;case"/":r=RN.hz;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=u,r=RN.az;break;case">":return n.vh(1),h;case"EOF":return h;default:e=u,r=RN.cz}break;case RN.cz:switch(u){case"\t":case"\f":case" ":r=RN.uz;break;case"\n":o=u,r=RN.uz;break;case".":r=RN.oz;break;case">":return n.vh(1),{so:IN.iz,ys:e,rz:[]};case"EOF":return{so:IN.iz,ys:e,rz:[]};default:e+=u}break;case RN.oz:switch(u){case"\t":case"\f":case" ":s.push(o),o="",r=RN.uz;break;case"\n":s.push(o),o=u,r=RN.uz;break;case".":s.push(o),o="";break;case">":return n.vh(1),s.push(o),{so:IN.iz,ys:e,rz:s};case"EOF":return s.push(o),{so:IN.iz,ys:e,rz:s};default:o+=u}break;case RN.uz:switch(u){case"&":r=RN.fz;break;case">":n.vh(1);var c=o.trim();return c=c.replace(/\s/," "),{so:IN.iz,ys:e,rz:s,vz:c};default:o+=u}break;case RN.fz:for(var f="",v=n._h;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=RN.uz;break;case RN.hz:switch(u){case">":return n.vh(1),{so:IN.dz,ys:e};case"EOF":return{so:IN.dz,ys:e};default:e+=u}break;case RN.az:switch(u){case">":return n.vh(1),{so:IN.lz,_z:e};case"EOF":return{so:IN.lz,_z:e};default:e+=u}}n.vh(1)}}!function(t){t.nz="Data",t.sz="Tag",t.cz="StartTag",t.oz="StartTagClass",t.uz="StartTagAnnotation",t.fz="CharRefInAnnotation",t.hz="EndTag",t.az="TimestampTag"}(RN||(RN={})),function(t){t.ez="string",t.iz="starttag",t.dz="endtag",t.lz="timestamp"}(IN||(IN={}));var DN,ON,xN={hB:aN.WHITE,oB:"sans-serif",aB:"100%",cB:"rgba(0,0,0,0.8)",fB:aN.TRANSPARENT,vB:"none",dB:"visible"},PN="theoplayer-webvtt-region-",BN="theoplayer-webvtt-styling-",LN="theoplayer-webvtt-voice-",MN=5.23,UN=1.14,FN=0,HN=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,xN)||this).gz={},s.wz=zN(3),s}F(n,t);var i=n.prototype;return i.Pq=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Cr(n),Ir(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.Zq.oB,n.style.whiteSpace="pre-line",n},i.xq=function(t,n){for(var i=n/100,r=t/100,e=_.min(i,r),s=oN(this.Zq),u=0,o=l.keys(this.yz);u<o.length;u++){var h=o[u],a=this.yz[h].mz;this.kz(a,e,s,this.yz[h].Nw)}this.kz(this.pz,e,s),this.Az()},i.Az=function(){var t=oN(this.Zq);this.pz.style.padding=t>=1.5?"0":1/t+"em"},i.Gq=function(t){var n=this.HS,i=this.FB.GD/100,r=this.pz;t.Nw&&(this.yz[t.Nw.zl]||(this.yz[t.Nw.zl]={Nw:t.Nw,mz:GN(t.Nw,i)}),r=this.yz[t.Nw.zl].mz),n.querySelector("."+r.className)||n.appendChild(r);var e=this.jq(t);r.children.length>=1&&t.Nw&&"up"===t.Nw.jw&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var s=0;s<e.length;s++){var u=e[s];u.className=t.Xw,r.appendChild(u)}},i.jq=function(t){var n=[];return t&&n.push(this.bz(t)),n},i.bz=function(t){for(var n=new zu,i=t.bw,r=this.Tz(t),e=r,u="",o=[],h={};n._h<i.length;){var a=CN(i,n);if(a.so===IN.ez){var c=this.Ez(a.bw);VN(c,h),e.appendChild(c)}else if(a.so===IN.iz){switch(h[a.ys.toLowerCase()]||(h[a.ys.toLowerCase()]=[]),h[a.ys.toLowerCase()].push(a),a.ys.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(a.vz)}u=a.ys||""}else if(a.so===IN.dz){h[a.ys.toLowerCase()]&&h[a.ys.toLowerCase()].pop(),(!a.ys||"C"!==a.ys.toUpperCase()&&"V"!==a.ys.toUpperCase())&&("LANG"===a.ys.toUpperCase()?o.pop():"RUBY"===a.ys.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===a.ys.toUpperCase()&&(e=e.parentNode)),u=a.ys||""}else if(a.so===IN.lz){var g=a._z,w=new zu;try{fw(g,w)}catch(t){gt("ERROR collecting timestamp",t)}}}return r},i.Ez=function(t){var n=s.createElement("span");return dN(n,t),n.style.background=this.Zq.cB,n.style.color=this.Zq.hB,n},i.kz=function(t,n,i,r){if(r){var e=XN(r,n);t.style.height=e*i+"px",t.style.left=WN(r)+"%",t.style.top=qN(r,n)+"px"}t.style.fontSize=MN*n*i+"px"},i.Tz=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Tw,function(t,n){"rl"===n.Dw?t.style.writingMode="vertical-rl":"lr"===n.Dw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=ag(n);jN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=hg(n),s=og(n),u=ag(n);jN(n)?("line-left"===e?i=s:"center"===e?i=s-u/2:"line-right"===e&&(i=s-u),r=n.Cw?0:ug(n)):("line-left"===e?r=s:"center"===e?r=s-u/2:"line-right"===e&&(r=s-u),i=n.Cw?0:ug(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.Zq.fB,n.style.color=this.Zq.hB,n.style.textShadow=fN(this.Zq.vB),n},i.Qq=function(t){for(var n=t.Xw,i=this.HS,r=i.children,e=0;e<r.length;e++){for(var s=r[e].getElementsByClassName(n),u=0;u<s.length;u++)r[e].removeChild(s[u]);if(0===r[e].childNodes.length){for(var o=0,h=l.keys(this.yz);o<h.length;o++){var a=h[o];if(Ie(r[e].className,PN+a)){delete this.yz[a];break}}i.removeChild(r[e])}}},M(n,[{key:"yz",get:function(){return this.gz||(this.gz={}),this.gz}},{key:"pz",get:function(){return this.wz||(this.wz=zN(3)),this.wz}},{key:"Xq",get:function(){return"theoplayer-webvtt-cue-"+FN++}}]),n}(cN);function VN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.rz)for(var s=0,u=e.rz;s<u.length;s++){var o=u[s];Rr(t,BN+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.vz&&Rr(t,LN+c.vz)}}function XN(t,n){return t.qw*(MN*n)*UN}function WN(t){return t.Qw-t.zw*t.du/100}function qN(t,n){var i=t.Yw,r=t.Gw*XN(t,n)/100;return _.max(0,i-r)}function zN(t){var n=s.createElement("div");return n.className=PN+"default",Cr(n),Ir(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=MN*t+"px",n.style.lineHeight=UN+"em",n}function GN(t,n){var i=zN(n);i.className=PN+t.zl;var r=t.du,e=XN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=WN(t)+"%",i.style.top=qN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function jN(t){return""===t.Dw}!function(t){t[t.Sz=0]="Sz",t[t.Rz=1]="Rz",t[t.Iz=2]="Iz",t[t.Nz=3]="Nz",t[t.Cz=4]="Cz",t[t.Dz=5]="Dz"}(DN||(DN={})),function(t){t[t.Oz=0]="Oz",t[t.xz=1]="xz",t[t.Pz=2]="Pz",t[t.Bz=3]="Bz"}(ON||(ON={}));var QN=15,YN=32,ZN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),JN=function(){function t(){this.Lz=[],this.Mz=0,this.Uz=void 0;for(var t=0;t<YN;t++)this.Lz.push(null);this.Uz=!1}var n=t.prototype;return n.Fz=function(t){for(var n=0;n<YN;n++)t&&(this.Lz[n]=t.Lz[n])},n.Hw=function(t){for(var n=0;n<YN;n++)if(this.Lz[n]!==t.Lz[n])return!1;return!0},n.Hz=function(){for(var t=0;t<YN;t++)if(null!==this.Lz[t])return!1;return!0},n.Vz=function(t){this.Mz!==t&&(this.Mz=t),this.Mz<0?this.Mz=0:this.Mz>YN&&(this.Mz=YN-1)},n.Xz=function(t){var n=this.Mz+t;this.Vz(n)},n.Wz=function(){this.Xz(-1),this.Lz[this.Mz]=null},n.qz=function(t){t>=144&&this.Wz();var n,i=ZN[n=t]?String.fromCharCode(ZN[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Mz>=YN||(32===Number(t)?(this.Lz[this.Mz]=this.Uz?"</i>":"<i>",this.Uz=!this.Uz):this.Lz[this.Mz]=t,this.Xz(1))},n.zz=function(t){for(var n=t;n<YN;n++)this.Lz[n]=null},n.hh=function(){this.zz(0),this.Mz=0},n.Gz=function(){this.zz(this.Mz)},n.jz=function(t,n){for(var i=this.Lz,r=null,e=0;e<YN;e++){var s=i[e];null===s?r=null:(r||(r={Qz:e,Yz:t,du:0,Dp:1,Lz:[[]]},n.push(r)),r.Lz[0].push(s),r.du++)}},n.km=function(t,n){return t.Zz(this.Lz,n)},t}();var $N=function(){function t(){this.Jz=void 0,this.$z=void 0,this.Kz=null,this.Jz=[];for(var t=0;t<QN;t++)this.Jz.push(new JN);this.$z=QN-1,this.xl()}var n=t.prototype;return n.Fz=function(t){for(var n=0;n<QN;n++)this.Jz[n].Fz(t.Jz[n])},n.Hw=function(t){for(var n=!0,i=0;i<QN;i++)if(!this.Jz[i].Hw(t.Jz[i])){n=!1;break}return n},n.Hz=function(){for(var t=!0,n=0;n<QN;n++)if(!this.Jz[n].Hz()){t=!1;break}return t},n.xl=function(){for(var t=0;t<QN;t++)this.Jz[t].hh();this.$z=QN-1},n.qz=function(t){this.Jz[this.$z].qz(t)},n.tG=function(){this.Jz[this.$z].Wz()},n.Gz=function(){this.Jz[this.$z].Gz()},n.nG=function(){if(null!==this.Kz){var t=this.$z+1-this.Kz,n=this.Jz[t];n&&(Ye(this.Jz,t),n.hh(),this.Jz.splice(this.$z,0,n))}},n.Xz=function(t){this.Jz[this.$z].Xz(t)},n.iG=function(t){this.Kz=t},n.rG=function(t){var n=t.eG;this.Kz&&n<this.Kz-1&&(n=this.Kz-1),this.$z=n;var i=this.Jz[this.$z];null!==t.sG&&i.Vz(t.sG)},n.uG=function(){for(var t=this.Jz,n=[],i=0;i<t.length;i++){t[i].jz(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,s=n[r],u=n.length-1;u>r;){var o=n[u];tC(s,o)&&(s=KN(s,o),Ye(n,u),e=!0),u--}e&&(n[r]=s,r--)}return n.map(nC)},n.km=function(t){return t.oG(this.Jz)},t}();function KN(t,n){for(var i=_.min(t.Qz,n.Qz),r=_.min(t.Yz,n.Yz),e=_.max(t.Qz+t.du,n.Qz+n.du)-i,s=_.max(t.Yz+t.Dp,n.Yz+n.Dp)-r,u=new Array(s),o=0;o<s;o++){var h=new Array(e),a=t.Lz[o+r-t.Yz];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.Qz]=a[c]);var f=n.Lz[o+r-n.Yz];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.Qz]=f[v]);u[o]=h}return{Qz:i,Yz:r,du:e,Dp:s,Lz:u}}function tC(t,n){return t.Qz<=n.Qz+n.du&&n.Qz<=t.Qz+t.du&&t.Yz<=n.Yz+n.Dp&&n.Yz<=t.Yz+t.Dp}function nC(t){for(var n=new Array(t.Dp),i=t.Lz,r=0;r<i.length;r++){for(var e=i[r],s=[],u=!1,o=0;o<e.length;o++){var h=e[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[r]=s.join("")}var a=n.join("\n");return{Qz:t.Qz,Yz:t.Yz,du:t.du,Dp:t.Dp,bw:a}}var iC=function(){function t(t,n){this.eG=t,this.sG=n}return t.prototype.Hw=function(t){return this.eG===t.eG&&this.sG===t.sG},t}(),rC=function(){function t(t){this.hG=void 0,this.aG=void 0,this.cG=t,this.hG=this.fG(),this.aG=this.vG()}var n=t.prototype;return n.fG=function(){for(var t=new iC(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.dG;n<i.length;n++){var r=i[n],e=_.min(t.eG,r.lG.eG),s=_.min(t.sG,r.lG.sG);t=new iC(e,s)}return t},n.vG=function(){for(var t=new iC(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.dG;n<i.length;n++){var r=i[n],e=_.max(t.eG,r._G.eG),s=_.max(t.sG,r._G.sG);t=new iC(e,s)}return t},M(t,[{key:"lG",get:function(){return this.hG}},{key:"_G",get:function(){return this.aG}},{key:"dG",get:function(){return $e(this.cG.map(function(t){return t.dG}))}}]),t}(),eC=function(){function t(t,n){this.gG="",this.lB=t,this.hG=n}var n=t.prototype;return n.qz=function(t){this.gG+=t},n.wG=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.qz(i)}},M(t,[{key:"yG",get:function(){return this.gG}},{key:"dG",get:function(){return[this]}},{key:"mG",get:function(){return this.lB}},{key:"lG",get:function(){return this.hG}},{key:"_G",get:function(){return new iC(this.lG.eG,this.lG.sG+this.yG.length-1)}}]),t}(),sC=function(){function t(){}var n=t.prototype;return n.kG=function(t){return t.km(this)},n.oG=function(t){var n=this;return $e(t.map(function(t,i){return t.km(n,i)}))},n.Zz=function(t,n){return new uC(t,n).pG()},t}(),uC=function(){function t(t,n){this.AG=[],this.bG=null,this.eG=t,this.TG=n}var n=t.prototype;return n.pG=function(){if(this.EG)return[];for(var t=0;t<this.eG.length;t++)this.SG(t);return this.RG(),this.AG},n.IG=function(t){this.bG=new eC(lC,new iC(this.TG,t))},n.RG=function(){this.bG&&(this.AG.push(this.bG),this.bG=null)},n.SG=function(t){var n=this.eG[t];oC(n)?this.bG&&this.RG():(this.bG||this.IG(t),this.bG.qz(n))},M(t,[{key:"EG",get:function(){return this.eG.every(oC)}}]),t}();function oC(t){return null==t}var hC,aC=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return F(n,t),n}(rg),cC=function(t){function n(n,i){var r;return(r=t.call(this,"CG")||this).NG=n,r.kw=i,r}return F(n,t),n}(Es);!function(t){t[t.DR=0]="DR",t[t.DG=1]="DG",t[t.OG=2]="OG",t[t.xG=3]="xG",t[t.$e=4]="$e"}(hC||(hC={}));var fC,vC=function(t){function n(){var n;return(n=t.call(this)||this).Yy=0,n.pw=0,n.PG=void 0,n.BG=void 0,n.LG=void 0,n.MG=void 0,n.r_=hC.DR,n.PG=new $N,n.BG=new $N,n.LG=new $N,n.MG=n.PG,n}F(n,t);var i=n.prototype;return i.qz=function(t){this.MG.qz(t),this.r_!==hC.DG&&this.r_!==hC.OG||this.UG()},i.mN=function(t){t!==this.r_&&(this.r_=t,this.r_===hC.xG?this.MG=this.BG:(this.MG=this.PG,this.MG.xl()),this.r_!==hC.OG&&(this.PG.iG(null),this.BG.iG(null)))},i.rG=function(t){this.MG.rG(t)},i.FG=function(){this.mN(hC.xG)},i.HG=function(){this.r_!==hC.$e&&(this.MG.tG(),this.MG===this.PG&&this.UG())},i.VG=function(){},i.XG=function(){},i.WG=function(){this.MG.Gz(),this.UG()},i.qG=function(t){this.MG=this.PG,this.mN(hC.OG),this.MG.iG(t)},i.zG=function(){},i.GG=function(){this.mN(hC.DG)},i.jG=function(){this.mN(hC.$e)},i.QG=function(){this.mN(hC.$e)},i.YG=function(){this.PG.xl(),this.UG()},i.ZG=function(){this.MG.nG(),this.UG()},i.JG=function(){this.BG.xl()},i.$G=function(){if(this.r_===hC.xG){var t=this.PG;this.PG=this.BG,this.BG=t,this.MG=this.BG}this.UG()},i.KG=function(t){this.MG.Xz(t)},i.UG=function(){if(null!==this.Yy){if((null===this.pw||0===this.pw)&&!this.PG.Hz())this.pw=this.Yy;else if(!this.PG.Hw(this.LG)){var t=this.tj();if(this.Yy>this.pw){var n=new aC(this.pw,this.Yy,t);this.Lo(new cC(1,n))}this.pw=this.PG.Hz()?null:this.Yy}this.LG.Fz(this.PG)}},i.tj=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return _.abs(t._G.sG-n.lG.sG)<=1||_.abs(n._G.sG-t.lG.sG)<=1||_.abs(t._G.eG-n.lG.eG)<=1||_.abs(n._G.eG-t.lG.eG)<=1}(o=r,h=u)||function(t,n){return dC(t.lG.eG,t._G.eG,n.lG.eG,n._G.eG)&&dC(t.lG.sG,t._G.sG,n.lG.sG,n._G.sG)}(o,h))&&(r=new rC([].concat(r.dG,u.dG)),Qe(i,u),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new sC).kG(this.LG))},i.xl=function(){this.Yy=0,this.pw=0,this.PG.xl(),this.PG.iG(null),this.BG.xl(),this.BG.iG(null),this.LG.xl(),this.LG.iG(null),this.MG=this.PG,this.r_=hC.DR},n}(bs);function dC(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(fC||(fC={}));var lC={hB:aN.WHITE,oB:hN.Kq,aB:"100%",cB:aN.BLACK,fB:"transparent",vB:"none",nj:fC.FONT_REGULAR,dB:"visible"},_C=[{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:0},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.GREEN,nj:fC.FONT_REGULAR,sG:0},{ij:aN.GREEN,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.BLUE,nj:fC.FONT_REGULAR,sG:0},{ij:aN.BLUE,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.CYAN,nj:fC.FONT_REGULAR,sG:0},{ij:aN.CYAN,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.RED,nj:fC.FONT_REGULAR,sG:0},{ij:aN.RED,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.YELLOW,nj:fC.FONT_REGULAR,sG:0},{ij:aN.YELLOW,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.MAGENTA,nj:fC.FONT_REGULAR,sG:0},{ij:aN.MAGENTA,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.WHITE,nj:fC.FONT_ITALICS,sG:0},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE_ITALICS,sG:0},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:0},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:0},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:4},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:4},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:8},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:8},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:12},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:12},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:16},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:16},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:20},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:20},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:24},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:24},{ij:aN.WHITE,nj:fC.FONT_REGULAR,sG:28},{ij:aN.WHITE,nj:fC.FONT_UNDERLINE,sG:28}],gC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],wC=function(t){function n(){var n;(n=t.call(this)||this).rj=void 0,n.ej=null,n.sj=null,n.uj=0;var i=new vC;return n.rj=[i,new vC],i.Mo("CG",n.Bo),n}F(n,t);var i=n.prototype;return i.xl=function(){for(var t=0,n=this.rj;t<n.length;t++){n[t].xl()}},i.oj=function(t,n){if(n.so===ON.Oz&&n.hj){n.aj&&(this.uj=0),this.rj[this.uj].Yy=t;var i=127&n.cj,r=127&n.fj;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.vj(),r>=48&&r<=63&&this.dj(i,r);break;case 18:case 19:r>=32&&r<=63&&this.dj(i,r);break;case 20:case 21:r>=32&&r<=47&&this.lj(i,r);break;case 23:r>=33&&r<=35&&this.lj(i,r),r>=46&&r<=47&&this.vj()}16===i&&r>=64&&r<=95?this._j(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this._j(i,r),i>=32&&this.dj(i,r)}}},i.lj=function(t,n){var i=null;if(t===this.ej&&n===this.sj)return this.ej=null,this.sj=null,!0;i=20===t||23===t?0:1;var r=this.rj[i];return 20===t||28===t?32===n?r.FG():33===n?r.HG():34===n?r.VG():35===n?r.XG():36===n?r.WG():37===n?r.qG(2):38===n?r.qG(3):39===n?r.qG(4):40===n?r.zG():41===n?r.GG():42===n?r.jG():43===n?r.QG():44===n?r.YG():45===n?r.ZG():46===n?r.JG():47===n&&r.$G():r.KG(n-32),this.ej=t,this.sj=n,this.uj=i,!0},i._j=function(t,i){t===this.ej&&i===this.sj&&(this.ej=null,this.sj=null);var r=t<=23?0:1,e=gC[t<<1&14|i>>5&1]-1;if(!(e<0)){var s=n.gj(e,i);this.rj[r].rG(s),this.ej=t,this.sj=i,this.uj=r}},n.gj=function(t,n){var i=n>95?n-96:n-64;return{ij:_C[i].ij,nj:_C[i].nj,sG:_C[i].sG,eG:t}},i.dj=function(t,n){var i=t>=25?t-8:t,r=this.rj[this.uj],e=!1;switch(i){case 17:r.qz(n+80),e=!0;break;case 18:r.qz(n+112),e=!0;break;case 19:r.qz(n+144),e=!0;break;default:t>=32&&(r.qz(t),n>=32&&r.qz(n),e=!0)}e&&(this.ej=null,this.sj=null)},i.vj=function(){this.rj[this.uj].MG.Xz(1)},i.Fv=function(){this.Ho()},M(n,[{key:"nA",get:function(){return this.rj.length}}]),n}(bs),yC=function(){function t(t,n,i){this.wj=void 0,this.yj=t,this.mj=n,this.kq=i}var n=t.prototype;return n.kj=function(){return this.wj=this.pj(),this.Aj(),this.bj(),this.wj},n.pj=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Tj/YN*this.mj.Ej*100+"%",t.style.height=1.2*this.Sj+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.mj.Rj?"calc(1em - 1ch)":"",t.style.fontFamily=this.kq.oB,t.style.backgroundColor=this.kq.fB,t},n.Aj=function(){var t=this.Ij.eG/QN*100,n=this.Ij.sG/YN*100,i=(YN-this.Nj.sG-1)/YN*100,r=(QN-this.Nj.eG-1)/QN*100;this.mj.Cj||(n=i=1,this.wj.style.width="98%"),r<t?this.wj.style.bottom=r*this.mj.Ej+"%":this.wj.style.top=t*this.mj.Ej+"%",i<n?this.wj.style.right=i+"%":this.wj.style.left=n+"%"},n.bj=function(){for(var t=this.yj.dG.sort(mC),n=0;n<t.length;n++)this.Dj(t[n-1],t[n]),this.Oj(t[n]);this.Dj(t[t.length-1],null)},n.Oj=function(n){var i=uN(this.kq,n.mG),r=t.xj(i);dN(r,n.yG),this.wj.appendChild(r)},t.xj=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.nj!==fC.FONT_ITALICS&&t.nj!==fC.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.nj!==fC.FONT_UNDERLINE&&t.nj!==fC.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.hB,n.style.backgroundColor=t.cB,n.style.textShadow=fN(t.vB),n.style.height="1.2em",n},n.Dj=function(t,n){var i=t?t._G.eG:this.yj.lG.eG,r=n?n.lG.eG:this.yj._G.eG,e=t?t._G.sG:this.yj.lG.sG,s=n?n.lG.sG:this.yj._G.sG;i<r&&(!n||t&&t.lG.eG!==n.lG.eG?this.Pj():this.Bj(this.yj._G.sG-e),e=this.yj.lG.sG),e<s&&(n?this.Bj(s-e):this.Pj())},n.Pj=function(){var t=s.createElement("br");this.wj.appendChild(t)},n.Bj=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",dN(n,Oe(" ",t)),this.wj.appendChild(n)}},M(t,[{key:"Ij",get:function(){return this.yj.lG}},{key:"Nj",get:function(){return this.yj._G}},{key:"Tj",get:function(){return this.yj._G.sG-this.yj.lG.sG+1}},{key:"Sj",get:function(){return this.yj._G.eG-this.yj.lG.eG+1}}]),t}();function mC(t,n){return function(t,n){if(t.eG!==n.eG)return t.eG-n.eG;return t.sG-n.sG}(t.lG,n.lG)}var kC=0;var pC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,lC)||this).Lj=void 0,s.Mj=void 0,s}F(n,t);var i=n.prototype;return i.Pq=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.Zq.oB&&(n.style.fontFamily=this.Zq.oB),n},i.xq=function(t,n){this.Uj()},i.Uj=function(){var t,n=oN(this.Zq);this.Mj={Ej:(t=100*n)/100,Rj:t<=100,Cj:t<=150};var i=this.Fj/YN;this.Lj=i*n,this.HS.style.fontSize=this.Lj+"px"},i.jq=function(t){var n=this;return this.Mj&&this.Mj.Cj?this.Hj(80):this.Hj(100),this.Uj(),t.bw.map(function(t){return new yC(t,n.Mj,n.Zq).kj()})},i.Hj=function(t){var n=(100-t)/2;this.HS.style.left=n+"%",this.HS.style.width=t+"%"},M(n,[{key:"Fj",get:function(){var t=this.HS.offsetWidth;return this.Mj&&this.Mj.Cj||(t*=.8),t}},{key:"Xq",get:function(){return"theoplayer-cea608-texttrack-"+kC++}}]),n}(cN),AC=function(){function t(t,n,i,r,e){var s=this;this.Vj=void 0,this.DX=void 0,this.vg=void 0,this.Xj=void 0,this.Wj=[],this.WI=void 0,this.qj=function(t){var n=t.ul;n.Mo(bd.ml,s.zj),n.Mo(bd.pl,s.zj),n instanceof wI&&(n.hV=s.hV),s.Gj(n)},this.zj=function(t){var n=t.ul;s.Gj(n)},this.jj=function(t){var n=t.ul;n.Vo(bd.ml,s.zj),n.Vo(bd.pl,s.zj),s.Qj(n)},this.Yj=function(){for(var t=s.hV,n=0,i=s.vg.Pl;n<i.length;n++){var r=i[n];r instanceof wI&&(r.hV=t)}},this.Zj=function(){for(var t=0,n=s.Wj;t<n.length;t++){n[t].Lq(s.WI)}},this.Jj=function(){for(var t=0,n=s.Wj;t<n.length;t++){var i=n[t];i.Lq(te({},i.Uq(),{dB:"hidden"}))}},this.$j=function(){for(var t=0,n=s.Wj;t<n.length;t++){var i=n[t];i.Lq(te({},i.Uq(),{dB:"visible"}))}},this.Vj=t,this.DX=n,this.vg=i,this.Xj=e,this.WI=r,this.vg.Mo(md.Jd,this.qj),this.vg.Mo(md.Kd,this.jj),this.vg.Mo("yl",this.zj),this.Xj.Mo(nA.wl,this.Yj),this.WI.Mo("yl",this.Zj),this.Yj()}var n=t.prototype;return n.Kj=function(t){for(var n=0,i=this.Wj;n<i.length;n++){var r=i[n];if(r.ul===t)return r}},n.tQ=function(t){switch(t.so){case H_.TTML:case H_.SRT:case H_.WEBVTT:case H_.CEA608:return!0}return!1},n.nQ=function(t){switch(t.so){case H_.TTML:return new mN(t,this.Vj,t.Ql,this.DX);case H_.SRT:case H_.WEBVTT:return new HN(t,this.Vj,t.Ql,this.DX);case H_.CEA608:return new pC(t,this.Vj,t.Ql,this.DX)}},n.iQ=function(t){var n=this.Kj(t);n||((n=this.nQ(t)).Lq(this.WI),this.Wj.push(n),t.r_===$d.t_&&n.Wq())},n.Qj=function(t){for(var n=this.Wj,i=n.length-1;i>=0;i-=1){var r=n[i];r.ul===t&&(r.Fv(),Ye(n,i))}},n.Gj=function(t){var n;(n=t.jl)!==sy.pk&&n!==sy.Db||!this.tQ(t)||(t.e_===F_.ERROR?this.Qj(t):this.iQ(t))},n.xl=function(){for(var t=0,n=this.Wj;t<n.length;t++){var i=n[t];i.ul.Vo(bd.ml,this.zj),i.ul.Vo(bd.pl,this.zj),i.Fv()}Je(this.Wj)},n.Fv=function(){this.xl();for(var t=0,n=this.Wj;t<n.length;t++){n[t].Fv()}this.vg.Vo(md.Jd,this.qj),this.vg.Vo(md.Kd,this.jj),this.vg.Vo("yl",this.zj),this.Xj.Vo(nA.wl,this.Yj),this.WI.Vo("yl",this.Zj)},M(t,[{key:"hV",get:function(){return this.Xj.DI}}]),t}();function bC(t){var n=new NT,i=function(t){var n=[];return RT.lO(t)&&n.push(new RT(t)),IT.lO(t)&&n.push(new IT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.mO(e)}n.yO(i[0])}return n}var TC,EC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e)||this).rQ=void 0,s.eQ=void 0,s.sQ=void 0,s.sQ=bC(n),s.rQ=new sN,s.eQ=new AC(s.rQ.Wg,s.FB,s.yg,s.VB,s.KS),s}F(n,t);var i=n.prototype;return i.xg=function(){return this.Ca},i.Ao=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.sQ.Fv(),this.rQ.Fv(),this.eQ.Fv(),n.next=5,t.prototype.Ao.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Og=function(){t.prototype.Og.call(this),this.rQ.Og()},i.Dg=function(){t.prototype.Dg.call(this),this.rQ.Dg()},i.lq=function(n){t.prototype.lq.call(this,n),this.rQ.lq(n)},M(n,[{key:"HS",get:function(){return this.Ca}},{key:"Q_",get:function(){return this.Ca.videoHeight}},{key:"Y_",get:function(){return this.Ca.videoWidth}},{key:"KS",get:function(){return this.sQ}}]),n}(ZI);!function(t){t.uQ="HELLO",t.oQ="HI_THERE",t.hQ="INITIALIZE",t.aQ="APPEND_INIT",t.cQ="APPEND_DATA",t.fQ="ACK",t.vQ="REMOVE",t.dQ="DESTROY_SESSION"}(TC||(TC={}));var SC=function(){function t(){this.Qs=void 0,this.Ia=void 0,this._L=new jE}var n=t.prototype;return n.lQ=function(t){var n=this;return this._L.eL(function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,h,a;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),r=new MessageChannel,e=r.port1,s=r.port2,o.serviceWorker.controller){t.next=7;break}return t.next=7,wd(o.serviceWorker,"install",i);case 7:if("activated"===o.serviceWorker.controller.state){t.next=10;break}return t.next=10,wd(o.serviceWorker.controller,"activate",i);case 10:return u={kind:TC.uQ,port:s},o.serviceWorker.controller.postMessage(u,[s]),e.start(),n.Qs=e,t.prev=15,t.next=18,wd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===TC.oQ){t.next=23;break}throw new v("Could not set up message channel");case 23:n.Ia=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),us(t.t0)&&n._Q(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.gQ=function(t,n){var i=this;return this.Qs,this._L.eL(E.coroutine(Kr.mark(function r(){var e;return Kr.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Qs){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Qs.postMessage(t,n),r.next=7,wd(i.Qs,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.wQ=function(){var t=this;return this._L.eL(function(){return t._Q()})},n._Q=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.Qs){var t={kind:TC.dQ};this.Qs.postMessage(t),this.Qs.close(),this.Qs=void 0}},t}(),RC=function(){function t(){this.yQ=kg.um}var n=t.prototype;return n.mQ=function(t,n){var i=t._y(n);this.yQ=i.ny(this.kQ)?this.yQ:i},n.pQ=function(t){this.yQ=t},M(t,[{key:"kQ",get:function(){return this.yQ}}]),t}(),IC=function(t){function n(n,i){var r;return(r=t.call(this)||this).AQ=void 0,r.bQ=void 0,r.TQ=void 0,r._L=new jE,r.EQ=!1,r.SQ=!1,r._D=n,r.RQ=i,r}F(n,t);var i=n.prototype;return i.uF=function(t,n){},i.oF=function(t,n){},i.GL=function(){return this.SQ},i.hF=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.XU=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.DU=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.so===gS.JL){t.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return s=i.Os,u=function(){var t=E.coroutine(Kr.mark(function t(){var i,r,e,u,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Mw.tp(new DataView(s.buffer)),(r=Cw(i,Xg.uk)).length){t.next=4;break}throw new v("Moof boxes not found");case 4:return e=o.TQ,u=n.IQ(r,e),h=o.NQ(r,e),a=s.buffer,c={kind:TC.cQ,mimeType:o._D,segment:s,startPts:Ig.vm(u).km(),totalDuration:Ig.vm(h).km()},t.next=11,o.RQ.gQ(c,[a]);case 11:void 0===o.AQ&&(o.AQ=u),void 0===o.bQ&&(o.bQ=u),o.bQ=o.bQ.iw(h),o.Lo(new Es(fS.YL));case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this._L.eL(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.prev=1,o.EQ=!0,t.next=5,u();case 5:return t.prev=5,o.EQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),e));case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.PU=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.so===gS.JL){t.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Os,e=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,e,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Mw.tp(new DataView(r.buffer)),i=Nw(n,Xg.Pm)){t.next=4;break}throw new v("Moov Box not found");case 4:if(0!==i._p.length){t.next=6;break}throw new v("Tracks not found");case 6:return s.TQ=i._p[0].Tp.jk.Zy,e=r.buffer,u={kind:TC.aQ,mimeType:s._D,segment:r},t.next=11,s.RQ.gQ(u,[e]);case 11:s.Lo(new Es(fS.YL));case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this._L.eL(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.prev=1,s.EQ=!0,t.next=5,e();case 5:return t.prev=5,s.EQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),i));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nF=function(){this.SQ=!0},i.JU=function(){this.SQ=!1},i.Mh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={kind:TC.vQ,mimeType:s._D,endTime:Ig.hm(i).km()},t.next=3,s.RQ.gQ(n);case 3:s.AQ=void 0,s.bQ=void 0,s.Lo(new Es(fS.YL));case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this._L.eL(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.prev=1,s.EQ=!0,t.next=5,e();case 5:return t.prev=5,s.EQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.FL=function(t){return this._D===t.Yf},i.HL=function(t){return this._D=t.Yf,E.resolve()},n.IQ=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i._p.length)throw new v("No tracks");if(!i._p[0].XA)throw new v("No decode time");return new kg(i._p[0].XA.XA.toNumber(),n)},i.NQ=function(t,n){var i=0;return t.forEach(function(t){t._p.forEach(function(t){t.VA.forEach(function(t){t.QA.forEach(function(t){var n;i+=null!=(n=t.V_)?n:0})})})}),new kg(i,n)},i.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),t.next=3,this._L.Fv();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Vg",get:function(){return void 0===this.AQ||void 0===this.bQ?rA.NI():new rA([this.AQ.rm,this.bQ.rm])}},{key:"Gh",get:function(){return{Yf:this._D}}},{key:"cD",get:function(){return this._D}},{key:"cF",get:function(){return rA.NI()}},{key:"kx",get:function(){return 30},set:function(t){}},{key:"Ex",get:function(){return 30},set:function(t){}},{key:"bO",get:function(){return this.EQ}},{key:"CQ",get:function(){return this.AQ}},{key:"Aw",get:function(){return this.bQ}}]),n}(bs),NC=function(){function t(t,n){this.ya=void 0,this.HF=void 0,this.VF=void 0,this.ya=t,this.VF=Ge(n,function(t){return Boolean(t.cD.match(/video/))}),this.HF=Ge(n,function(t){return Boolean(t.cD.match(/audio/))}),this.DQ()}t.OQ=function(n,i){for(var r=[],e=0;e<n.tH.length;e++){var s=n.tH[e].Yf;r.push(new IC(s,i))}return new t(n,r)};var n=t.prototype;return n.DQ=function(){},n.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.all([this.HF,this.VF].filter($).map(function(t){return t.Ao()}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.YF=function(t){},n.KF=function(t,n,i,r){},n.nF=function(){var t,n;null==(t=this.HF)||t.nF(),null==(n=this.VF)||n.nF()},n.JU=function(){var t,n;null==(t=this.HF)||t.JU(),null==(n=this.VF)||n.JU()},n.FL=function(t){return t===this.ya},n.HL=function(t){return this.ya=t,E.resolve()},M(t,[{key:"xQ",get:function(){return[this.HF,this.VF].filter($)}},{key:"LF",get:function(){return this.HF}},{key:"Vg",get:function(){return zS(this)}},{key:"Gh",get:function(){return this.ya}},{key:"V_",get:function(){return 0}},{key:"GL",get:function(){var t,n,i,r,e=null==(t=null==(n=this.HF)?void 0:n.GL())||t,s=null==(i=null==(r=this.VF)?void 0:r.GL())||i;return e&&s}},{key:"tw",get:function(){return new rA([0,1/0])}},{key:"MF",get:function(){return this.VF}},{key:"wg",get:function(){throw new v("Not implemented")}}]),t}(),CC=kg.Ty,DC=new kg(-1/0),OC=kg.um,xC=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.iy=function(t,n){return t.hy(n)?fg.$w:t.Hw(n)?fg.Zw:fg.Jw},i.iw=function(t,n){return t.iw(n)},i._y=function(t,n){return t._y(n)},i.oy=function(t,n){return t.oy(n)},i.rI=function(){return CC},i.eI=function(){return OC},i.hI=function(){return DC},n.SI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new kg(t.start(r)),new kg(t.end(r)));return new n(i)},n.PQ=function(t){for(var i=[],r=[],e=0;e<t.Bl;e++)i.push(new kg(t.GR(e))),i.push(new kg(t.QR(e))),r.push(t.jR(e)),r.push(t.YR(e));return new n(i,r)},n.II=function(t){return new n([t,t],[!0,!0])},i.nI=function(t,i){return new n(t,i)},i.KR=function(t){return t.rm},n.NI=function(){return PC},n}(iA),PC=new xC([]),BC=function(t){function n(n){var i;return(i=t.call(this)||this).BQ=!0,i.RQ=new SC,i.LQ=new RC,i.lS=void 0,i.PX=void 0,i.MQ=!0,i.UQ=new ju,i.FI=!1,i.jX=E.resolve(),i.QX=new es,i.FQ=!0,i.ZX=rA.NI(),i.sQ=void 0,i.HQ=void 0,i.eW=!1,i.kS=void 0,i.VQ=function(){i.z_||i.XQ.Bl<=0||i.Vg.Bl<=0||i.LQ.mQ(new kg(i.Vg.QR(i.Vg.Bl-1)),i.XQ.QR(i.XQ.Bl-1))},i.WQ=function(){i.Lo(new jl(i.H_))},i.qQ=function(){i.Lo(new Gl(i.H_,i.Xg))},i.zQ=function(){i.Lo(new zl(i.H_,i.G_))},i.GQ=function(){i.Lo(new Jl(i.H_,i.Z_))},i.jQ=function(){i.Lo(new ql(i.V_))},i.QQ=function(){i.Lo(new im(i.H_))},i.YQ=function(){i.dh(i.H_)},i.ZQ=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.FQ&&i.Lo(new Fl(i.H_)),i.MQ=!1,i.FQ=!0;case 3:case"end":return t.stop()}},t)})),i.JQ=function(){i.MQ=!0,i.Lo(new Ul(i.H_))},i.HQ=n,i.PX=new tR(sn(i)),i.HQ.setAttribute("id","player_video"),i.HQ.setAttribute("x-webkit-airplay","deny"),i.HQ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.HQ.playsInline=!0,i.HQ.style.width="100%",i.HQ.style.height="100%",i.$Q(),i.KQ(),i.sQ=bC(i.HQ),i}F(n,t);var i=n.prototype;return i.$Q=function(){this.HQ.addEventListener("timeupdate",this.VQ),this.HQ.addEventListener("ended",this.WQ),this.HQ.addEventListener("timeupdate",this.qQ),this.HQ.addEventListener("ratechange",this.zQ),this.HQ.addEventListener("volumechange",this.GQ),this.HQ.addEventListener("durationchange",this.jQ),this.HQ.addEventListener("playing",this.QQ),this.HQ.addEventListener("seeking",this.YQ),this.HQ.addEventListener("play",this.ZQ),this.HQ.addEventListener("pause",this.JQ)},i.tY=function(){this.HQ.removeEventListener("timeupdate",this.VQ),this.HQ.removeEventListener("ended",this.WQ),this.HQ.removeEventListener("timeupdate",this.qQ),this.HQ.removeEventListener("ratechange",this.zQ),this.HQ.removeEventListener("volumechange",this.GQ),this.HQ.removeEventListener("durationchange",this.jQ),this.HQ.removeEventListener("playing",this.QQ),this.HQ.removeEventListener("seeking",this.YQ),this.HQ.removeEventListener("play",this.ZQ),this.HQ.removeEventListener("pause",this.JQ)},i.KQ=function(){this.PX.Mo(Ll.ml,this.Bo)},i.nY=function(){this.PX.Vo(Ll.ml,this.Bo)},i.dh=function(t,n){this.QX.Io(),this.QX=new es,this.jX=this.ZW(t,this.jX,this.QX.Do).catch(R)},i.ZW=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ZX=this.$g,s=null==(e=this.lS)?void 0:e.xQ){t.next=4;break}return t.abrupt("return");case 4:return u=_.max.apply(_,s.map(function(t){return t.CQ?t.CQ.rm:1/0})),this.FI=!0,this.Lo(new Yl(n)),t.next=9,i.catch(R);case 9:if(os(r),t.prev=10,this.BQ||this.iY(),this.HQ.load(),this.MQ){t.next=17;break}return this.FQ=!1,t.next=17,cs(this.HQ.play(),r);case 17:if(!(this.e_<yl.D_)){t.next=22;break}return t.next=20,this.PX.zo(Ll.ml,r);case 20:t.next=17;break;case 22:this.UQ.kh(),this.BQ=!1,this.FI=!1,this.Lo(new Zl(this.H_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.UQ.ph(t.t0),t.t0;case 32:return t.prev=32,this.rY(),this.LQ.pQ(new kg(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.pg=function(){this.MQ=!0,this.HQ.pause()},i.kg=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.MQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.HQ.src){t.next=9;break}return this.vq(),t.next=7,this.UQ.mh;case 7:t.next=11;break;case 9:return t.next=11,this.HQ.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.MQ=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.RQ&&this.RQ.wQ().catch(R),this.QX.Io(),this.tY(),this.nY(),this.PX.Ao(),this.Ho();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.RQ&&this.RQ.wQ().catch(R),this.QX.Io(),this.HQ.removeAttribute("src"),this.HQ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.HQ.removeAttribute("x-airplay-deny"),this.HQ.load(),this.PX.xl(),this.ZX=rA.NI();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vq=function(){this.dq||(HC(this.HQ,T.Mu),this.eW=!0)},i.iY=function(){var t,n=this.HQ.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.HQ.videoWidth/this.HQ.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.HQ.style.width=i+"px",this.HQ.style.height=r+"px",this.HQ.style.marginLeft=(e-i)/2+"px",this.HQ.style.marginTop=(u-r)/2+"px",this.HQ.style.backgroundColor="black"}},i.rY=function(){this.HQ.style.width="100%",this.HQ.style.height="100%",this.HQ.style.marginLeft="",this.HQ.style.marginTop="",this.HQ.style.backgroundColor=""},i.JS=function(t,n,i,r){},i.Vb=function(t,n,i,r,e,s){},i.zL=function(t){},i.hR=function(){return gE(this.HQ)},i.Dg=function(){this.HQ.style.display="block"},i.Og=function(){this.HQ.style.display="none"},i.cq=function(){},i.Lh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.so!==Dy.Gb){t.next=2;break}throw new v("Not yet implemented");case 2:return t.next=4,this.RQ.lQ();case 4:return i={kind:TC.hQ,mediaBufferConfigs:n.tH.map(function(t){return t.Yf})},t.next=7,this.RQ.gQ(i);case 7:return this.lS=NC.OQ(n,this.RQ),this.HQ.preload="none",this.HQ.src="https://theo.proxy/"+this.RQ.Ia+"/master.m3u8",t.abrupt("return",this.lS);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fq=function(){},i.qb=function(t){},i.tR=function(){},i.oR=function(t){},i.YS=function(){return!1},i.lq=function(t){t.appendChild(this.HQ)},i.xg=function(){return this.HQ},i.XW=function(){},i.Hg=function(){},M(n,[{key:"HS",get:function(){return this.HQ}},{key:"aH",get:function(){return!1}},{key:"H_",get:function(){return this.HQ.currentTime+this.LQ.kQ.rm}},{key:"z_",get:function(){return this.HQ.paused}},{key:"Z_",get:function(){return this.HQ.volume},set:function(t){this.HQ.volume=t}},{key:"G_",get:function(){return this.HQ.playbackRate},set:function(t){this.HQ.playbackRate=t}},{key:"eY",get:function(){return this.HQ.defaultPlaybackRate}},{key:"Vg",get:function(){var t,n;return null!=(t=null==(n=this.lS)?void 0:n.Vg)?t:rA.NI()}},{key:"XQ",get:function(){return xC.SI(this.HQ.buffered)}},{key:"$g",get:function(){var t=rA.RI(this.sY);return this.ZX.fI(t.vh(this.LQ.kQ.rm))}},{key:"sY",get:function(){return xC.SI(this.HQ.played)}},{key:"j_",get:function(){return this.FI}},{key:"V_",get:function(){return this.HQ.duration}},{key:"q_",get:function(){return this.HQ.muted},set:function(t){this.HQ.muted=t}},{key:"mG",get:function(){return this.HQ.style}},{key:"gq",get:function(){return te({},aS,{RL:!0,IL:300})}},{key:"e_",get:function(){return this.PX.e_}},{key:"Q_",get:function(){return this.HQ.videoHeight}},{key:"Y_",get:function(){return this.HQ.videoWidth}},{key:"X_",get:function(){return this.HQ.ended}},{key:"Dp",get:function(){return 0}},{key:"du",get:function(){return 0}},{key:"qg",get:function(){return!1}},{key:"dq",get:function(){return this.eW}},{key:"Xg",get:function(){}},{key:"FB",get:function(){}},{key:"Jo",get:function(){}},{key:"KS",get:function(){return this.sQ}},{key:"tw",get:function(){return this.lS?this.lS.tw:rA.NI()}},{key:"aR",get:function(){}},{key:"yg",get:function(){}},{key:"VB",get:function(){}},{key:"_q",get:function(){return"block"===this.HQ.style.display}},{key:"VS",get:function(){return this.kS},set:function(t){this.kS=t}},{key:"CX",get:function(){}}]),n}(bs),LC=2,MC=[E_.Nv,E_.Cv];function UC(t){var n=s.createElement(t);return Or(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),FC(n),n}function FC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),xr(t),t.pause(),t.playbackRate=1,t.preload=Yp.NR,t.controls=!1,t.style.display="none",Or(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function HC(t,n){if(n.$s){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();st(r)&&_s(r),t.pause()}}var VC;wr=(VC={uY:function(){function t(t,n,i,r,e){void 0===i&&(i=LC),void 0===r&&(r=MC),void 0===e&&(e=Xo()),this.oY=void 0,this.hY=void 0,this.fo=void 0,this.aY=void 0,this.DX=void 0,this.WI=void 0,this.cY=void 0,this.oY=i,this.hY=[].concat(r),this.fo=e,this.DX=t,this.WI=n,this.aY=ie(),this.fY()}var n=t.prototype;return n.GI=function(t){for(var n=0,i=this.QI;n<i.length;n++){i[n].lq(t)}},n.FS=function(t){var n=Ge(this.aY.get(t),function(t){return t.vY});if(n)return n.vY=!1,n.dY},n.lY=function(t){if(!this.cY)throw new v("Error creating iOS Safari MediaController");return this.cY},n.rR=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.HS,r=i.tagName.toLowerCase(),t.next=4,n.xl();case 4:FC(i),(e=Ge(this.aY.get(r)||[],function(t){return n===t.dY}))&&(e.vY=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jI=function(){for(var t=0,n=this.QI;t<n.length;t++){n[t].vq()}},n.Fv=function(){for(var t=0,n=this.QI;t<n.length;t++){var i=n[t],r=i.HS;i.Ao(),FC(r),Sr(r)}},n.fY=function(){for(var t=0,n=this.hY;t<n.length;t++){var i=n[t],r=[];this.aY.set(i,r);for(var e=0;e<this.oY;e++){var s=UC(i),u=i===E_.Nv?new rN(s,this.fo,this.DX):new EC(s,this.fo,this.DX,this.WI);r.push({dY:u,vY:!0})}}if(Y.Pe&&Y.me){var o=UC(E_.Cv);this.cY=new BC(o)}},M(t,[{key:"QI",get:function(){for(var t=[],n=0,i=this.hY;n<i.length;n++){var r=i[n],e=this.aY.get(r).map(function(t){return t.dY});t.push.apply(t,e)}return this.cY&&t.push(this.cY),t}}]),t}(),_Y:function(){function t(n){var i=this;this.gY=new jE,this.wY=E.coroutine(Kr.mark(function n(){var r,e,s;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.VI.FS(E_.Cv),e=r.HS,n.next=4,t.yY(e);case 4:return s=n.sent,n.next=7,i.VI.rR(r);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.VI=n}var n=t.prototype;return n.pL=function(){return this.gY.eL(this.wY)},n.Ig=function(){this.VI.jI()},t.yY=function(){var n=E.coroutine(Kr.mark(function n(i){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Y.Re&&!Y.Ee){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.mY();case 5:return n.next=7,t.kY(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.pY(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.kY=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,st(i)){t.next=4;break}return t.abrupt("return",!Y.pe);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.pY=function(){var n=E.coroutine(Kr.mark(function n(i){var r;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.kY(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.mY=function(){return new E(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.Fv=function(){this.gY.Fv()},t}(),AY:{TD:function(t){kr.addEventListener("beforeunload",t)},LD:function(t){kr.removeEventListener("beforeunload",t)}},bY:e}).uY,yr=VC._Y,mr=VC.AY,kr=VC.bY,pr=kr&&kr.location,Ar=kr&&kr.navigator;var XC=[];function WC(){XC.shift()()}function qC(t){XC.push(t),h(WC,0)}var zC=function(){function t(t){this.TY=void 0,this.EY=void 0,this.SY=void 0,this.SY=t}var n=t.prototype;return n.RY=function(t){return this.TY=this.TY||{},void 0===this.TY[t]&&(this.TY[t]=[]),this.TY[t]},n.addEventListener=function(t,n){var i=this.RY(t);-1===i.indexOf(n)&&i.push(n)},n.Fo=function(t){(this.EY||(this.EY=[])).push(t)},n.removeEventListener=function(t,n){var i=this.RY(t);n?Qe(i,n):i.length=0},n.qo=function(t){var n=this.EY;n&&Qe(n,t)},n.Ho=function(){this.TY=void 0},n.dispatchEvent=function(t,n){if(n)return qC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.RY(t.type).slice(),r=this.EY&&this.EY.slice(),e=0;e<i.length;e++){i[e].call(this.SY||this,t)}if(r)for(var s=0;s<r.length;s++){r[s].call(this.SY||this,t)}},n.IY=function(t){return Boolean(this.TY&&this.TY[t]&&this.TY[t].length)},n.NY=function(){return this.TY?l.keys(this.TY):[]},t}(),GC=function(){function t(){this.CY=[]}var n=t.prototype;return n.OQ=function(t,n){var i=this.CY[t];return i?new i(n):null},n.EL=function(t,n){this.CY[t]=n},t}();GC.Qe=new GC;var jC,QC=function(t){function n(n,i){var r,e=ZC[n];return(r=t.call(this,e?e.Qo:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.DY,r.helpLinkText=e&&e.OY,r}return F(n,t),M(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(on);!function(t){t.xY="LICENSE_INVALID",t.PY="MANIFEST_NOT_FOUND",t.BY="MANIFEST_CORS_ERROR",t.LY="INVALID_HLS_MANIFEST",t.MY="PLAYBACK_ISSUE",t.UY="AUDIO_ISSUE",t.FY="BROWSER_SUPPORT_ISSUE",t.HY="INVALID_KEY",t.VY="DECRYPTION_ERROR",t.XY="AD_BLOCK_DETECTED",t.WY="THEOPLAYER_NOT_INITIALIZED",t.n_="ERROR",t.qY="MANIFEST_SEQUENCE_RESET_ERROR",t.zY="PLAYER_INCORRECTLY_CONFIGURED",t.GY="UNSUPPORTED"}(jC||(jC={}));for(var YC=[{Ah:jC.xY,Qo:"The license for this player is invalid. Please contact your service provider for additional information."},{Ah:jC.PY,Qo:"Could not load the manifest file."},{Ah:jC.BY,Qo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",DY:"https://www.theoplayer.com/documentation/cors.html",jY:!1},{Ah:jC.LY,Qo:"The source of the player is an invalid HLS manifest.",DY:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ah:jC.MY,Qo:"There appears to be a playback issue."},{Ah:jC.UY,Qo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ah:jC.FY,Qo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ah:jC.HY,Qo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ah:jC.VY,Qo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ah:jC.XY,Qo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ah:jC.WY,Qo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ah:jC.n_,Qo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ah:jC.qY,Qo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ah:jC.zY,Qo:"The player is incorrectly configured.",DY:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ah:jC.GY,Qo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],ZC={},JC=0;JC<YC.length;JC++){var $C=YC[JC];ZC[$C.Ah]=$C}function KC(t){return t.QY}var tD=function(){function t(){this.Mc=[],this.YY={},this.ZY=0}var n=t.prototype;return n.JY=function(t){var n=this.YY[t];return void 0===n?-1:n-this.ZY},n.$Y=function(t){return this.Mc[t]},n.KY=function(t){return this.$Y(this.JY(t))},n.tZ=function(t){return!!this.$Y(t)},n.nZ=function(t){return!!this.KY(t)},n.iZ=function(){return this.Mc},n.iw=function(t){var n,i=this.Mc,r=i.length?i[i.length-1]:null;if(this.JY(t.QY)>=0)return!1;if(r&&t.QY>r.QY)n=i.length;else{var e=sR(this.Mc,t.QY,KC,dg);if(e>=0)return!1;n=-(e+1)}return this.rZ(t,n),!0},n.Mh=function(t){var n=this.Mc,i=this.YY,r=this.JY(t.QY);return!(r<0)&&(n.splice(r,0,t),delete i[t.QY],this.eZ(r),!0)},n.sZ=function(t){var n=this.Mc,i=this.YY;t=_.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].QY];n.splice(0,t),this.ZY+=t},n.rZ=function(t,n){var i=this.Mc;n>=i.length?i.push(t):i.splice(n,0,t),this.eZ(n)},n.eZ=function(t){for(var n=this.Mc,i=this.YY,r=this.ZY,e=n.length,s=t;s<e;s++)i[n[s].QY]=s+r},M(t,[{key:"Bl",get:function(){return this.Mc.length}}]),t}(),nD=function(){function t(t,n,i){this.uZ=void 0,this.oZ=void 0,this.hZ=void 0,this.uZ=t,this.oZ=n,this.hZ=i}var n=t.prototype;return n.compute=function(){return this.uZ.live?this.uZ.aZ?this.uZ.cZ:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.hZ&&(t+=this.fZ()),this.vZ()&&(t+=this.dZ(t)),t},n.vZ=function(){return void 0!==this.oZ.lZ.KY(this.uZ.fragments[0].QY)},n.dZ=function(t){var n=this.uZ.fragments[0];return this.oZ.lZ.KY(n.QY)._Z-(n._Z+t)||0},n.fZ=function(){var t=iD(this.uZ),n=iD(this.hZ.gZ),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.hZ)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-e]||0;s+=_.abs(o-h)}s<r&&(i=e,r=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.gZ.fragments.length?this.hZ.wZ(t.gZ.fragments[0].QY)._Z:0},t}();function iD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var s=e[r];s.yZ&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var rD=function(t){function n(n){return t.call(this,q_.bl,n)||this}return F(n,t),n.prototype.sl=function(){return new eD(this.kw.il)},n}(Z_),eD=function(t){function n(n){return t.call(this,z_.bl,n)||this}return F(n,t),n}(J_),sD=function(t){function n(n,i){var r,e=uD(i,n.V_,n.aR,n.mZ);return(r=t.call(this,i,e,void 0,!1,n.zl)||this).kZ=void 0,r.pZ=void 0,r.AZ=void 0,r.rH=void 0,r.bZ=void 0,r.TZ=void 0,r.EZ=void 0,r.SZ=void 0,r.RZ=void 0,r.IZ=void 0,r.kZ=n.NZ,r.pZ=n.aR,r.AZ=n.mZ,r.rH=n.V_,r.bZ=n.CZ,r.TZ=Boolean(n.DZ),r.EZ=n.OZ||{},r.SZ=n.xZ,r.RZ=n.PZ,r.IZ=n.BZ,r.LZ(),r.MZ(),r}F(n,t);var i=n.prototype;return i.Uh=function(t){var n=!1;void 0===this.kZ&&void 0!==t.NZ&&(n=!0,this.kZ=t.NZ),void 0===this.AZ&&void 0!==t.mZ&&(n=!0,this.AZ=t.mZ),void 0===this.rH&&void 0!==t.V_&&(n=!0,this.rH=t.V_),void 0===this.bZ&&void 0!==t.CZ&&(n=!0,this.bZ=t.CZ),!this.TZ&&t.DZ&&(n=!0,this.TZ=t.DZ),n=this.updateCustomAttributes(t,n),void 0===this.SZ&&void 0!==t.xZ&&(n=!0,this.SZ=t.xZ),void 0===this.RZ&&void 0!==t.PZ&&(n=!0,this.RZ=t.PZ),void 0===this.IZ&&void 0!==t.BZ&&(n=!0,this.IZ=t.BZ),this.LZ(),this.MZ(),this.UZ(),n&&this.Lo(new rD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.OZ)for(var r=0,e=l.keys(t.OZ);r<e.length;r++){var s=e[r];void 0===this.EZ[s]&&(i=!0,this.EZ[s]=t.OZ[s])}return i},i.LZ=function(){this.rH&&!this.AZ&&(this.AZ=new Date(this.pZ.getTime()+1e3*this.rH))},i.MZ=function(){this.AZ&&!this.rH&&(this.rH=$t(this.AZ.getTime()-this.pZ.getTime()))},i.UZ=function(){this.xw===1/0&&(this.AZ||this.rH)&&(this.xw=uD(this.Ow,this.rH,this.pZ,this.AZ))},M(n,[{key:"il",get:function(){var t;return this.nl||(this.nl=Ld($_(t=this),{get content(){return t.bw},get class(){return t.NZ},get startDate(){return t.aR},get endDate(){return t.mZ},get duration(){return t.V_},get plannedDuration(){return t.CZ},get endOnNext(){return t.DZ},get scte35Cmd(){return t.xZ},get scte35Out(){return t.PZ},get scte35In(){return t.BZ},get customAttributes(){return t.OZ}})),this.nl}},{key:"NZ",get:function(){return this.kZ}},{key:"aR",get:function(){return this.pZ}},{key:"mZ",get:function(){return this.AZ}},{key:"V_",get:function(){return this.rH}},{key:"CZ",get:function(){return this.bZ}},{key:"DZ",get:function(){return this.TZ}},{key:"xZ",get:function(){return this.SZ}},{key:"PZ",get:function(){return this.RZ}},{key:"BZ",get:function(){return this.IZ}},{key:"OZ",get:function(){return this.EZ}}]),n}(rg);function uD(t,n,i,r){return $(n)?t+n:r?t+($t(r.getTime())-$t(i.getTime())):1/0}var oD,hD,aD,cD,fD,vD=function(t){function n(){return t.call(this,void 0,void 0,H_.DATE_RANGE)||this}F(n,t);var i=n.prototype;return i.Uh=function(t,n){for(var i=this,r=function(t){for(var n=ie(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.zl)){var s=n.get(e.zl),u=te({},s,Hd(e),{OZ:te({},s.OZ,e.OZ)});n.set(e.zl,u)}else n.set(e.zl,e),i.push(e.zl)}return i.map(function(t){return n.get(t)})}(t),e=this.s_.Pl,s=function(t){var n=e[t],s=Ge(r,function(t){return t.zl===n.zl});s?n.Uh(s):i.xH(n)},u=e.length-1;u>=0;u--)s(u);for(var o=0;o<r.length;o++){var h=r[o],a=h.aR;if(void 0!==a&&!this.DH(h.zl)){var c=n(a);this.Wb(new sD(h,c))}}},i.Wb=function(n){this.FZ(n),t.prototype.Wb.call(this,n)},i.FZ=function(t){var n=this.kH.filter(function(n){return n.NZ===t.NZ}).pop();n&&n.DZ&&n.Uh({zl:n.zl,mZ:t.aR})},n}(EI);function dD(t){return lD(t)?{_v:t.HZ,VZ:[t.VZ.GR,t.VZ.QR],Lv:!0}:{_v:t.toString(),Lv:!0}}function lD(t){return void 0!==t.VZ}function _D(t){return t&&t.XZ&&Bg(t.XZ)||!1}function gD(t){if(!t)return Ig.Ty;if(!_D(t))return Ig.hm(t.duration);var n=t.WZ||Ig.Ty,i=t.qZ||Ig.Ty,r=Ig.hm(t.duration);return n.Ny()||i.Ny()?n.Ny()?i.Ny()?r.Ny()?Ig.Ty:r:i:n:Ig.tm(n,i)}function wD(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.zb)return i}return null}function yD(t){return wD(t)||function(t){return t.filter(function(t){return t.zZ})}(t)[0]||t[0]}function mD(t,n){for(var i=0;i<n.length;i++){var r=n[i];Ze(t,r)||t.push(r)}return t}function kD(t){switch(t){case cD.Cv:case cD.GZ:return E_.Cv;case cD.Nv:return E_.Nv}}function pD(t){switch(t){case cD.Cv:case cD.GZ:return If.Cv;case cD.Nv:return If.Nv;default:return If.wv}}!function(t){t.jZ="alternative",t.QZ="main",t.YZ="commentary",t.ZZ="",t.Ob="descriptions",t.JZ="main-desc",t.$Z="translation"}(oD||(oD={})),function(t){t.jZ="alternative",t.QZ="main",t.YZ="commentary",t.ZZ="",t.Db="captions",t.KZ="sign",t.pk="subtitles"}(hD||(hD={})),function(t){t.Cv="video",t.Nv="audio",t.tJ="closedCaption",t.nJ="variant"}(aD||(aD={})),function(t){t[t.wv=-1]="wv",t[t.Nv=0]="Nv",t[t.Cv=1]="Cv",t[t.GZ=2]="GZ"}(cD||(cD={})),function(t){t[t.wv=-1]="wv",t[t.iJ=1]="iJ",t[t.rJ=2]="rJ",t[t.eJ=3]="eJ",t[t.sJ=4]="sJ"}(fD||(fD={})),function(t){t.K_=function(t){return t>=fD.rJ},t.uJ=function(t){return t===fD.rJ||t===fD.eJ}}(fD||(fD={}));var AD=function(t){function n(){var n;return(n=t.call(this)||this).oJ=[],n.hJ=function(){return n.dispatchEvent("aJ")},n.cJ=function(){return n.dispatchEvent("fJ")},n}F(n,t);var i=n.prototype;return i.iw=function(t){this.oJ.push(t),t.addEventListener("fJ",this.cJ),t.addEventListener("vJ",this.hJ),this.dispatchEvent("dJ"),t.disabled||this.dispatchEvent("aJ")},i.Mh=function(t){var n=this.oJ.indexOf(t);n<0||(Ye(this.oJ,n),t.removeEventListener("fJ",this.cJ),t.removeEventListener("vJ",this.hJ),this.dispatchEvent("dJ"),t.disabled||this.dispatchEvent("aJ"))},i.hh=function(){for(var t=!!this.lJ.length,n=!!this._J.length,i=0,r=this.oJ;i<r.length;i++){r[i].removeEventListener("vJ",this.hJ)}this.oJ.length=0,t&&this.dispatchEvent("dJ"),n&&this.dispatchEvent("aJ")},i.Fv=function(){this.Ho(),this.hh()},M(n,[{key:"lJ",get:function(){return this.oJ}},{key:"_J",get:function(){return this.oJ.filter(function(t){return!t.disabled})}}]),n}(zC);function bD(t){if(!t)return null;for(var n={gJ:"",wJ:"",yJ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],s=e.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.gJ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.gJ="mp4a.40.2":"mp4a.40.29"===s?n.gJ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.gJ=s:"ec-3"===s?n.gJ=s:0===s.indexOf("avc")?n.wJ=e:n.yJ+=","+s}return n}var TD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).mJ=void 0,h.DE=void 0,h.sw=void 0,h.kJ=new tD,h.pJ=NaN,h.AJ=void 0,h.bJ=void 0,h.TH=void 0,h.TJ=void 0,h.EJ=void 0,h.SJ=!0,h.RJ=!0,h.IJ=!0,h.NJ=!1,h.CJ=null,h.DJ=!1,h.mJ=n,h.DE=i,h.sw=r||0===r?r:-1,h.bJ=e,h.TJ=Boolean(s),h.EJ=Boolean(u),h.TH=o,h}F(n,t);var i=n.prototype;return i.OJ=function(t,n){var i=Gb(),r=new nD(t,this,n).compute(),e=this.xJ(t.fragments),s=e.oldFragments,u=e.newFragments;this.PJ(s,i),this.BJ(u,i,r),this.AJ!==t&&this.LJ(!0),this.AJ=t,this.dispatchEvent({type:"MJ",UJ:this}),this.dispatchEvent("renditionUpdated")},i.wZ=function(t){return this.kJ.KY(t)},i.FJ=function(){var t=this.SJ;this.SJ=this.RJ&&this.IJ,t!==this.SJ&&this.dispatchEvent("fJ")},i.LJ=function(t){this.RJ=t,this.FJ()},i.HJ=function(t){this.IJ=t,this.FJ()},i.VJ=function(t){this.DE=t,this.dispatchEvent("renditionUpdated")},i.XJ=function(){null!==this.CJ&&a(this.CJ),this.dispatchEvent("vJ"),this.dispatchEvent("renditionUpdated")},i.WJ=function(t){this.DJ=t,this.XJ()},i.qJ=function(){this.zJ(3e4)},i.zJ=function(t){var n=this;this.NJ=!0,this.XJ(),this.CJ=h(function(){n.NJ=!1,n.XJ()},t)},i.xJ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var s=e[r];this.kJ.nZ(s.QY)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.PJ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.kJ.KY(r.QY);e.GJ=mD(e.GJ,r.GJ),e.jJ=r.jJ||e.jJ,e.QJ=n}},i.BJ=function(t,n,i){var r=this.YJ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.wp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r._Z+=n}}(r,i),this.ZJ(r)},i.YJ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.UJ=this;var e=te({},r);n.push(e)}return n},i.ZJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.kJ.iw(i),y(this.pJ)&&(this.pJ=i.QY)}},i.Fv=function(){this.Ho(),null!==this.CJ&&a(this.CJ)},M(n,[{key:"disabled",get:function(){return this.NJ||this.DJ},set:function(t){this.NJ=t,this.XJ()}},{key:"zl",get:function(){return this.sw}},{key:"Jg",get:function(){return this.SJ}},{key:"uri",get:function(){return this.bJ||this.AJ&&this.AJ.uri},set:function(t){this.bJ=t,this.dispatchEvent("renditionUpdated")}},{key:"gZ",get:function(){return this.AJ}},{key:"lZ",get:function(){return this.kJ}},{key:"JJ",get:function(){return this.AJ?this.AJ.live?this.AJ.duration<-60?fD.eJ:fD.sJ:fD.iJ:fD.wv}},{key:"as",get:function(){return this.DE},set:function(t){this.VJ(t)}},{key:"Yl",get:function(){return this.TH}},{key:"zb",get:function(){return this.TJ}},{key:"zZ",get:function(){return this.EJ||this.TJ}},{key:"$J",get:function(){return this.pJ}},{key:"KJ",get:function(){return!!this.gZ}},{key:"Qf",get:function(){return this.mJ}}]),n}(zC),ED=function(t){function n(n,i,r,e,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=oD.QZ),(w=t.call(this,n,i,r,s,u,o,d)||this).t$=void 0,w.n$=void 0,w.i$=void 0,w.r$=void 0,w.e$=void 0,w.s$=void 0,w.u$=void 0,w.o$=void 0,w.h$=void 0,w.bH=void 0,w.a$=void 0,w.c$=void 0,w.f$=void 0,w.v$=void 0,w.d$=void 0,w.l$=void 0,w._$=null,w.g$=void 0,w.t$=Boolean(l),w.e$=e,w.n$=bD(h),w.i$=g,w.u$=a,w.o$=c,w.s$=f,w.r$=v,w.bH=_,w}F(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.QY,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.w$[0]?t.w$[0].jl:oD.QZ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Ie(t.characteristics,"public.accessibility.describes-video")?oD.JZ:oD.QZ;if(t.characteristics&&Ie(t.characteristics,"public.accessibility.describes-video"))return oD.Ob;return oD.jZ}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.y$=function(t){this.n$="string"==typeof t?bD(t):t,this.dispatchEvent("renditionUpdated")},i.m$=function(t,n){return t?!n&&t.gJ&&t.wJ?cD.GZ:t.wJ?cD.Cv:t.gJ?cD.Nv:cD.wv:cD.wv},M(n,[{key:"k$",set:function(t){this.t$=t}},{key:"p$",get:function(){return this.n$}},{key:"bandwidth",get:function(){return this.r$},set:function(t){this.r$=t,this.dispatchEvent("renditionUpdated")}},{key:"jl",get:function(){return this.bH}},{key:"resolution",get:function(){return this.s$},set:function(t){this.s$=t,this.dispatchEvent("renditionUpdated")}},{key:"A$",get:function(){return void 0!==this.i$?this.i$:this.m$(this.n$,this.t$)}},{key:"QY",get:function(){return this.u$}},{key:"gJ",get:function(){return this.o$}},{key:"b$",get:function(){return this.e$}},{key:"T$",get:function(){return this.h$},set:function(t){var n=this.h$;this.h$=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(TD);var SD=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,n,i,r,e,s,u,o)||this).Ps=void 0,c.E$=null,c.S$=void 0,c.R$=function(){return c.I$()},c.Ps=h,c.S$=new kR(a,String(r),c.as,c.Yl,void 0,H_.WEBVTT),c.zb&&(c.S$.r_=$d.t_),c}F(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Ie(t.characteristics,"public.accessibility.describes-music-and-sound"))return sy.Db;return sy.pk}(i))};var i=n.prototype;return i.OJ=function(n){t.prototype.OJ.call(this,n),this.I$()},i.Fv=function(){t.prototype.Fv.call(this),this.wb=null},i.VJ=function(n){t.prototype.VJ.call(this,n),this.S$.Ql=n},i.I$=function(){this.E$&&this.E$.N$(this,this.lZ)},M(n,[{key:"C$",get:function(){return this.S$}},{key:"wb",get:function(){return this.E$},set:function(t){this.E$&&this.E$.removeEventListener("D$",this.R$),this.E$=t,this.I$(),this.E$&&this.E$.addEventListener("D$",this.R$)}},{key:"HZ",get:function(){return this.uri}},{key:"so",get:function(){return this.Ps}}]),n}(TD),RD=function(t){function n(n,i){var r;(r=t.call(this)||this).ya=void 0,r.O$=void 0,r.x$=["renditionUpdated","MJ","P$"],r.B$=null,r.L$=null,r.M$=null,r.U$=null,r.F$=new AD,r.H$=new AD,r.V$=new AD,r.vg={},r.X$=void 0,r.W$=void 0,r.q$=null,r.rH=NaN,r.z$=void 0,r.G$=void 0,r.Bo=function(t){return r.dispatchEvent(t)},r.ya=n,r.O$=i;var e=sn(r);return r.z$=function(){e.JF(this)},r.G$=function(t){e.j$(this,t)},r}F(n,t);var i=n.prototype;return i.Q$=function(t,n){var i=new SI(n);return i.r_=$d.Kl,this.vg[i.zl]=i,this.dispatchEvent({type:"Y$",ul:i}),i},i.Z$=function(t,n,i){var r=new EI(i,"manifest");return r.r_=$d.Kl,this.vg[r.zl]=r,this.dispatchEvent({type:"Y$",ul:r}),r},i.J$=function(t,n){if(t){var i=t.s_,r=t.K$,e=t&&this.vg[r];e||(e=new SI(t.i_),this.vg[r]=e,e.r_=$d.Kl,this.dispatchEvent({type:"Y$",ul:e}));for(var s=0;s<i.length;s++){var u=i[s];e.Wb(u)}}},i.tK=function(t){t&&(this.X$||(this.X$=new kR(sy.Db,void 0,"CC1","en",!0,H_.CEA608),this.vg.CC1=this.X$,this.dispatchEvent({type:"Y$",ul:this.X$})),this.X$.Wb(t))},i.nK=function(t,n,i){var r=this.vg[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,s=t.s_.Pl;e<s.length;e++){var u=s[e];if(u.pw>=i)break;n<u.Aw&&r.push(u)}}(r,n,i,e);for(var s=0;s<e.length;s++){var u=e[s];r.xH(u)}}},i.iK=function(t,n){return this.rK(t,n)},i.eK=function(t){var n;return(n=this.sK(t,this.F$))?n:(n=this.sK(t,this.H$))?n:n=this.sK(t,this.V$)},i.Fv=function(){this.Wo(this.F$),this.F$.Fv(),this.Wo(this.H$),this.H$.Fv(),this.Wo(this.V$),this.V$.Fv(),this.vg={},this.X$=void 0,this.W$&&(this.W$.Fv(),this.W$=void 0),this.q$=null,this.rH=NaN,this.B$=null,this.L$=null,this.M$=null,this.U$=null,this.dispatchEvent("Fv")},i.uK=function(t){var n=ED.createFromUri(this,t.uri);this.Wo(this.H$),this.H$.iw(n),n.addEventListener("renditionUpdated",this.z$)},i.JF=function(t){var n=t.gZ,i=t.JJ;if(y(this.rH)||fD.K_(i)){if(fD.wv===i)return;if(!n)return;this.rH=n.duration,this.dispatchEvent("oK")}y(this.rH)||fD.iJ!==i||t.removeEventListener("renditionUpdated",this.z$)},i.hK=function(t){var n=this;this.Wo(this.F$),this.F$.hh(),this.Wo(this.H$),this.H$.hh(),this.V$.hh(),this.q$=t;for(var i=t.streams.map(function(t){return ED.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.gJ&&!Ie(t.gJ,"mp4a")&&!Ie(t.gJ,"mp3"))return!1;if(t.wJ&&!Ie(t.wJ,"avc1"))return!1;return!0}(t.p$)}),r=i.some(function(t){return t.p$&&t.p$.gJ}),e=i.some(function(t){return t.p$&&t.p$.wJ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.p$&&u.p$.gJ),h=Boolean(u.p$&&u.p$.wJ);r&&!o||e&&!h||(this.H$.iw(u),u.addEventListener("renditionUpdated",this.z$))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.O$){var e=SD.createFromPlaylistMedia(n,r);n.V$.iw(e),n.dispatchEvent({type:"Y$",ul:e.C$})}break;case"closed-captions":break;case"audio":var s=n.H$.lJ.filter(function(t){return t.gJ===r["group-id"]});if(0===s.length)return"continue";r.uri&&s.forEach(function(t){return t.k$=!0});var u=r.uri?cD.Nv:cD.GZ,o=ED.createFromPlaylistMedia(n,r,!1,u);n.F$.iw(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.aK=yD(this.w$._J)||null,this.dispatchEvent("cK")},i.sK=function(t,n){for(var i=0,r=n.lJ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.j$=function(t,n){this.dispatchEvent(te({},n,{UJ:t}))},i.fK=function(t){for(var n=0,i=t.lJ;n<i.length;n++)for(var r=i[n],e=0,s=this.x$;e<s.length;e++){var u=s[e];r.addEventListener(u,this.G$)}},i.Wo=function(t){for(var n=0,i=t.lJ;n<i.length;n++){i[n].Fv()}},i.vK=function(t,n){0!==t.length&&this.ya.hlsDateRange&&(this.W$||(this.W$=new vD,this.dispatchEvent({type:"Y$",ul:this.W$})),this.W$.Uh(t,n))},i.dK=function(t,n){if(this.L$!==t){var i=this.L$;this.L$=t,this.dispatchEvent({type:"lK",A$:"gJ",UJ:this.L$,_K:i,gK:n})}},i.rK=function(t,n){if(this.M$!==t){var i=this.M$;this.M$=t,t&&this.dispatchEvent({type:"lK",A$:"wJ",UJ:this.M$,_K:i,gK:n})}},i.wK=function(t){for(var n=0,i=t.lJ;n<i.length;n++){var r=i[n];if(r.JJ!==fD.wv)return r.JJ}return null},M(n,[{key:"rg",get:function(){return this.B$},set:function(t){t&&(0===t.streams.length?this.uK(t):this.hK(t),this.B$=t,this.fK(this.H$),this.fK(this.F$),this.dispatchEvent("yK"))}},{key:"mK",get:function(){return this.q$}},{key:"V_",get:function(){return this.rH}},{key:"yg",get:function(){var t=this,n=this.V$.lJ.map(function(t){return t.C$}),i=l.keys(this.vg).map(function(n){return t.vg[n]});return this.X$&&i.push(this.X$),this.W$&&i.push(this.W$),n.concat(i)}},{key:"aK",get:function(){return this.L$},set:function(t){this.dK(t,!0)}},{key:"kK",get:function(){return this.M$},set:function(t){this.rK(t,!1)}},{key:"w$",get:function(){return this.F$}},{key:"pK",get:function(){return this.H$}},{key:"AK",get:function(){return this.V$.lJ}},{key:"JJ",get:function(){var t;return null!==(t=this.L$&&this.L$.JJ)&&t!==fD.wv?t:null!==(t=this.M$&&this.M$.JJ)&&t!==fD.wv?t:null!==(t=this.wK(this.F$))?t:null!==(t=this.wK(this.H$))?t:fD.wv}}]),n}(zC);var ID=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this)||this)._p=[],e.bK={},e.TK=void 0,e.EK=void 0,e.SK=void 0,e.il=void 0,e.Bo=function(t){return e.dispatchEvent(t)},e.RK=function(t){e.IK(t)},e.NK=function(t){e.handleRenditionUpdated(t)},e.CK=function(t){for(var n=0,i=e._p;n<i.length;n++){i[n].DK.CK(t)}},e.TK=n,e.EK=i,e.SK=r,e.EK&&e.EK.addEventListener("lK",e.RK),e.SK&&(e.SK.addEventListener("renditionUpdated",e.NK),e.SK.addEventListener("xK",e.CK)),e.il=(s=sn(e),u=new zC,o={get length(){return s._p.length},enable:function(t){s.Ib(s.PK(t&&t.id)||t)},disable:function(t){s.Nb(s.PK(t&&t.id)||t)},item:function(t){return s._p[t]&&s._p[t].il},getTrackByID:function(t){var n=s.PK(t);return n&&n.il},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),e}F(n,t);var i=n.prototype;return i.PK=function(t){return this.bK[t]},i.Cl=function(t){for(var n=0,i=t.DK.Zl;n<i.length;n++){var r=i[n];r.zl===this.BK()&&(r.Vw=!0)}t.addEventListener("enabledtrack",this.Bo),t.addEventListener("disabledtrack",this.Bo),this._p.push(t),this.bK[t.zl]=t,this.dispatchEvent({type:"addtrack",track:t.il})},i.Ib=function(t){if(t){var n=this.bK[t.zl];if(n&&!n.ql){for(var i=this._p.length-1;i>=0;i--)this._p[i].Cg();n.Ng()}}},i.Nb=function(t){},M(n,[{key:"LK",get:function(){return this.BK()}}]),n}(zC);var ND=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).MK=void 0,e.MK=NaN,e}F(n,t);var i=n.prototype;return i.BK=function(){return this.MK},i.IK=function(t){t.UK?this.FK(t.HK):t.VK&&this.FK(t.VK)},i.FK=function(t){t&&(this.MK=t.zl),this._p.forEach(function(n){return n.XK(t)})},i.handleRenditionUpdated=function(t){if(t.UJ&&t.UJ.A$===cD.Nv)for(var n=0,i=this._p;n<i.length;n++){i[n].WK(t)}},i.Ib=function(n){var i=n;if(!i){var r=this._p.filter(function(t){return t.zb});r.length>0&&(i=r[0])}t.prototype.Ib.call(this,i)},M(n,[{key:"so",get:function(){return"audio"}}]),n}(ID),CD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qK=void 0,e.qK=NaN,e}F(n,t);var i=n.prototype;return i.BK=function(){return this.qK},i.IK=function(t){(t.zK||t.HK)&&(t.HK&&(this.qK=t.HK.zl),this._p.forEach(function(n){return n.XK(t.HK)}))},i.handleRenditionUpdated=function(t){if(t.UJ&&(t.UJ.A$===cD.Cv||t.UJ.A$===cD.GZ))for(var n=0,i=this._p;n<i.length;n++){i[n].WK(t)}},M(n,[{key:"so",get:function(){return"video"}}]),n}(ID);function DD(t,n){for(var i,r=n-(i=t?tt(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function OD(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var xD=function(t){function n(n){var i,r,e,s;return(i=t.call(this)||this).UJ=void 0,i.Vw=!1,i.GK=!0,i.il=void 0,i.UJ=n,i.Vw=!1,i.il=(r=sn(i),e=new zC,s={get bandwidth(){return r.UJ&&r.UJ.bandwidth},get averageBandwidth(){return r.UJ&&r.UJ.averageBandwidth},get codecs(){return r.p$},get resolution(){return r.jK},get frameRate(){return OD(r.QK,2)},get id(){return r.zl},get uri(){return r.UJ&&r.UJ.uri},get name(){return r.as},set name(t){r.as=t},get enabled(){return r.ql},set enabled(t){r.ql=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),s),i}F(n,t);var i=n.prototype;return i.YK=function(t){var n=!!t&&this.zl===t.zl;this.Vw!==n&&(this.Vw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.il}))},i.WK=function(t){return this.UJ.zl===t.UJ.zl&&(this.UJ=t.UJ,this.dispatchEvent({type:"qualityupdated",quality:this.il}),!0)},M(n,[{key:"ql",get:function(){return this.GK},set:function(t){this.GK=t,this.UJ.WJ(!t)}},{key:"jl",get:function(){return this.UJ.jl}},{key:"jK",get:function(){return this.UJ.resolution?{width:this.UJ.resolution.width,height:this.UJ.resolution.height}:{width:NaN,height:NaN}}},{key:"as",get:function(){return this.UJ.as},set:function(t){this.UJ.as=t,this.dispatchEvent({type:"qualityupdated",quality:this.il})}},{key:"zl",get:function(){return this.UJ.zl}}]),n}(zC);var PD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"p$",get:function(){return this.UJ.p$&&this.UJ.p$.wJ||""}},{key:"QK",get:function(){return OD(Number(this.UJ.T$),2)}}]),n}(xD),BD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"p$",get:function(){return this.UJ.p$&&this.UJ.p$.gJ||""}},{key:"QK",get:function(){return OD(Number(this.UJ.g$),2)}}]),n}(xD),LD=function(t){function n(n,i){var r,e,s,u,o;(r=t.call(this)||this).Zl=void 0,r.ZK=null,r.JK={},r.SK=void 0,r.il=void 0,r.Bo=function(t){return r.dispatchEvent(t)},r.Zl=n,r.SK=i;for(var h=r.Zl.length-1;h>=0;h--){var a=r.Zl[h];r.JK[a.zl]=a}return r.Zl.forEach(function(t){return t.addEventListener("activequalitychanged",r.Bo)}),r.il=(e=sn(r),s=new zC,u={item:function(t){var n=e.Nl(t);return n&&n.il},getQualitiesByIDs:function(t){return e.$K(t).map(function(t){return t.il})},get length(){return e.Zl.length},get activeQuality(){return e.Wl&&e.Wl.il},get targetQuality(){return e.Jl?1===e.Jl.length?e.Jl[0].il:e.Jl.map(function(t){return t.il}):null},set targetQuality(t){if(t){var n=K(t)?t:[t];e.Jl=e.$K(n.map(function(t){return t.id}))}else e.Jl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),u),r}F(n,t);var i=n.prototype;return i.KK=function(t){return!!t&&this.Zl.some(function(n){return n.zl===t.zl})},i.n0=function(t,n){for(var i=0,r=this.Zl;i<r.length;i++){r[i].YK(t)}},i.$K=function(t){var n=this;return t&&t.map(function(t){return n.JK[t]}).filter(function(t){return t})},i.i0=function(){for(var t=this.Zl.length-1;t>=0;t--)this.Zl[t].Vw=!1},i.CK=function(t){var n=this.SK.r0,i=this.$K(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].il}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Nl=function(t){return this.Zl[t]},M(n,[{key:"Wl",get:function(){for(var t=0,n=this.Zl;t<n.length;t++){var i=n[t];if(i.Vw)return i}return null}},{key:"Jl",get:function(){return this.ZK},set:function(t){this.ZK=this.e0(t)}}]),n}(zC);var MD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Ng=function(){this.SK&&(this.SK.MK=this.Zl[0].zl)},i.Cg=function(t){this.SK&&(this.SK.MK=null)},i.e0=function(t){},n}(LD),UD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Ng=function(){if(this.e0(this.Jl),this.SK){var t=this.SK.TK;if(!t)return;var n=Ge(t.s0.w$.lJ,function(t){return!t.uri});this.SK.MK=n?n.zl:null}},i.n0=function(n,i){"video"===i&&t.prototype.n0.call(this,n,i)},i.Cg=function(t){"video"===t&&this.i0()},i.e0=function(t){if(!this.SK)return this.Jl;var n=t?this.$K(t.map(function(t){return t.zl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.zl});return this.SK.r0=i,n}return t?this.Jl:(this.SK.r0=null,null)},n}(LD),FD=function(t){function n(n,i){var r,e,s;return(r=t.call(this)||this).so=void 0,r.DK=void 0,r.zl=void 0,r.hw=void 0,r.as=void 0,r.il=void 0,r.so=n,r.DK=i,r.zl=i.Nl(0).zl,r.hw=r.DK.Zl.some(function(t){return t.Vw}),r.as=i.Nl(0).UJ.as,r.il=(e=sn(r),s=new zC,{get id(){return e.zl},get enabled(){return e.ql},get qualities(){return e.DK&&e.DK.il},get language(){return e.Yl},get default(){return e.zb},get name(){return e.as},set name(t){e.as=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),r}F(n,t);var i=n.prototype;return i.XK=function(t){var n=this.DK.KK(t);this.cw(n),this.DK.n0(t,this.so)},i.cw=function(t){this.hw!==t&&(t?(this.hw=!0,this.dispatchEvent({type:"enabledtrack",track:this.il})):(this.hw=!1,this.dispatchEvent({type:"disabledtrack",track:this.il})))},i.Ng=function(){this.hw||this.DK.Ng()},i.Cg=function(){this.hw&&this.DK.Cg(this.so)},i.WK=function(t){t.UJ.zl===this.zl&&(this.as=t.UJ.as);for(var n=0,i=this.DK.Zl;n<i.length;n++){i[n].WK(t)}},M(n,[{key:"ql",get:function(){return this.hw}},{key:"Yl",get:function(){return this.u0()}},{key:"jl",get:function(){return this.o0()}},{key:"zb",get:function(){var t="video"===this.so,n=this.DK.Zl&&this.DK.Zl[0].UJ.zb;return t||n}}]),n}(zC);var HD=function(t){function n(n){return t.call(this,"video",n)||this}F(n,t);var i=n.prototype;return i.o0=function(){return hD.QZ},i.u0=function(){return""},n}(FD),VD=function(t){function n(n){return t.call(this,"audio",n)||this}F(n,t);var i=n.prototype;return i.o0=function(){return this.DK.Zl[0].UJ.jl},i.u0=function(){return this.DK.Zl[0].UJ.Yl||""},n}(FD),XD=function(){function t(t,n,i){var r=this;this.h0=void 0,this.a0=void 0,this.c0=void 0,this.f0=void 0,this.v0=function(){var t=r.h0;t.removeEventListener("d0",r.v0);var n=t.s0.pK.lJ,i=t.s0.w$.lJ,e=n.map(function(t){return new PD(t)});if(e.length>0){var s=new UD(e,r.a0);r.f0.Cl(new HD(s));var u=Ge(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new VD(s);u&&(h.as=u.as),r.c0.Cl(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new BD(c),v=new MD([f],r.a0);r.c0.Cl(new VD(v))}}},this.h0=t,this.a0=i,this.c0=new ND(t,n,i),this.f0=new CD(t,n,i),t&&(t.d0?this.v0():t.addEventListener("d0",this.v0))}return M(t,[{key:"gg",get:function(){return this.c0}},{key:"wg",get:function(){return this.f0}}]),t}(),WD=["loadedmetadata","durationchange","Jo","zv","Jg","l0"],qD=["_0","lK","g0","Jo"],zD=function(t){function n(n,i,r,e,s,u,o){var h;(h=t.call(this)||this).w0=null,h.ER=void 0,h.y0=void 0,h.m0=void 0,h.k0=void 0,h.EK=void 0,h.p0=void 0,h.TK=void 0,h.wg=void 0,h.gg=void 0,h.A0=[],h.b0=[],h.T0=function(t){return h.dispatchEvent(t)},h.E0=function(t){return h.S0(t)},h.R0=function(t){return h.I0(t)},h.ER=n.src,h.y0=n.type,h.m0=i,h.k0=r,h.p0=e,h.TK=s,h.EK=u,h.TK&&(h.TK.addEventListener("N0",h.T0),h.TK.addEventListener("C0",h.T0));var a=new XD(h.TK,h.EK,o);return h.wg=a.wg,h.gg=a.gg,h.SR=null,h.ER&&(h.EK&&h.EK.xl(),h.TK&&(h.TK.D0=h.ER)),h}F(n,t);var i=n.prototype;return i.O0=function(t){this.EK&&this.EK.Lh(t),this.TK&&this.TK.x0(),this.SR&&this.P0()},i.B0=function(){this.EK&&this.EK.B0(),this.TK&&this.TK.L0()},i.M0=function(){if(this.TK)for(var t=0;t<WD.length;t++){var n=WD[t];this.TK.addEventListener(n,this.E0)}if(this.EK)for(var i=0;i<qD.length;i++){var r=qD[i];this.EK.addEventListener(r,this.R0)}},i.U0=function(){if(this.TK)for(var t=0;t<WD.length;t++){var n=WD[t];this.TK.removeEventListener(n,this.E0)}if(this.EK)for(var i=0;i<qD.length;i++){var r=qD[i];this.EK.removeEventListener(r,this.R0)}},i.P0=function(){if(this.TK&&this.A0.length){var t=this.A0.slice();Je(this.A0);for(var n=0;n<t.length;n++){var i=t[n];this.TK.dispatchEvent(i)}}if(this.EK&&this.b0.length){var r=this.b0.slice();Je(this.b0);for(var e=0;e<r.length;e++){var s=r[e];this.EK.dispatchEvent(s)}}},i.S0=function(t){this.A0.push(t)},i.I0=function(t){this.b0.push(t)},i.Fv=function(){this.dispatchEvent("Fv"),this.Ho(),this.EK&&this.EK.Fv(),this.p0&&this.p0.Fv(),this.TK&&this.TK.Fv(),this.w0=null,Je(this.A0),Je(this.b0)},M(n,[{key:"SR",get:function(){return this.w0},set:function(t){this.U0(),this.w0=t,this.SR?this.dispatchEvent("Yh"):this.M0()}}]),n}(zC),GD=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).h0=null,n.Bo=function(t){n.dispatchEvent(t,!0)},n}return F(n,t),M(n,[{key:"MK",get:function(){var t=this.h0&&this.h0.s0.aK;return t?t.zl:null},set:function(t){var n;this.h0&&(n=null===t?yD(this.h0.s0.w$.lJ):this.h0.s0.w$.lJ.filter(function(n){return t===n.zl}).shift(),this.h0.s0.aK=n||null)}},{key:"r0",get:function(){return this.h0&&this.h0.F0||null},set:function(t){this.h0&&(this.h0.H0(t),this.dispatchEvent("xK"))}},{key:"TK",get:function(){return this.h0},set:function(t){this.h0&&(this.h0.s0.removeEventListener("yK",this.Bo),this.h0.s0.removeEventListener("renditionUpdated",this.Bo),this.h0.s0.removeEventListener("cK",this.Bo)),this.h0=t,this.h0&&(this.h0.s0.addEventListener("yK",this.Bo),this.h0.s0.addEventListener("renditionUpdated",this.Bo),this.h0.s0.addEventListener("cK",this.Bo))}}]),n}(zC),jD=function(){function t(){}var n=t.prototype;return n.V0=function(t){return E.resolve(!1)},n.X0=function(t){return E.reject(QD)},n.W0=function(t){return E.reject(QD)},n.eh=function(t){return E.resolve(!1)},n.sh=function(t){return E.resolve(void 0)},n.$Y=function(t,n){return E.resolve(void 0)},n.q0=function(t){return E.resolve([])},n.z0=function(){return E.resolve([])},n.G0=function(t){return E.resolve([])},n.j0=function(t,n){return E.resolve([])},n.Mh=function(t){return E.reject(QD)},n.Q0=function(t){return E.reject(QD)},n.Y0=function(){return E.reject(QD)},t}(),QD="Storage disabled",YD=function(){function t(){this.Z0=void 0,this.J0=void 0,this.$0=void 0,this.K0=void 0,this.n1=void 0,this.Z0=new jD,this.J0=new jD,this.$0=new jD,this.K0=new jD,this.n1=new jD}return t.OQ=function(){return E.resolve(new t)},t.prototype.i1=function(t){return E.reject(ZD)},t}(),ZD="Storage disabled",JD=function(){function t(t){var n=this;this.Ro=new ju,this.e1=void 0,this.Ro.kh(t),this.Ro.mh.then(function(t){n.e1=t})}var n=t.prototype;return n.V0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.V0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.X0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.X0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.W0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.W0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.eh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.eh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.sh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$Y=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.$Y(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.q0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.q0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.z0=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.z0());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.G0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.G0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.j0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.j0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Mh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Mh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Q0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Q0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Y0=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.e1,t.t0){t.next=5;break}return t.next=4,this.s1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.Y0());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"s1",get:function(){return this.Ro.mh}}]),t}(),$D=function(){function t(t){var n=this;this.Ro=new ju,this.u1=void 0,this.J0=void 0,this.Z0=void 0,this.$0=void 0,this.K0=void 0,this.n1=void 0,this.Ro.kh(t);var i=this.Ro.mh;i.then(function(t){n.u1=t}),this.J0=new JD(i.then(function(t){return t.J0})),this.Z0=new JD(i.then(function(t){return t.Z0})),this.$0=new JD(i.then(function(t){return t.$0})),this.K0=new JD(i.then(function(t){return t.K0})),this.n1=new JD(i.then(function(t){return t.n1}))}return t.prototype.i1=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.i1(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"o1",get:function(){return this.Ro.mh}}]),t}(),KD=function(){function t(){this.h1=[]}var n=t.prototype;return n.V0=function(t){return E.resolve("temporary"===t)},n.X0=function(t){return this.a1(t.key),this.h1.push(t),E.resolve()},n.W0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.a1(i.key)}for(var r=0;r<t.length;r++){var e=t[r];this.h1.push(e)}return E.resolve()},n.eh=function(t){return E.resolve(Boolean(this.c1(t)))},n.sh=function(t){return E.resolve(this.c1(t))},n.$Y=function(t,n){return E.resolve(this.f1(t,n))},n.q0=function(t){var n=this,i=t?t.map(function(t){return n.c1(t)}):this.h1;return E.resolve(i.filter($))},n.z0=function(){return E.resolve([].concat(this.h1))},n.G0=function(t){return this.j0(t,"key")},n.j0=function(t,n){var i=this.h1.filter(function(i){return i[n]===t});return E.resolve(i)},n.Mh=function(t){return this.a1(t),E.resolve()},n.Q0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.a1(i)}return E.resolve()},n.Y0=function(){return Je(this.h1),E.resolve()},n.c1=function(t){return this.f1(t,"key")},n.f1=function(t,n){for(var i=0,r=this.h1;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.a1=function(t){var n=this.c1(t);n&&Qe(this.h1,n)},t}(),tO=function(){function t(){this.Z0=void 0,this.J0=void 0,this.$0=void 0,this.K0=void 0,this.n1=void 0,this.Z0=new KD,this.J0=new KD,this.$0=new KD,this.K0=new KD,this.n1=new KD}return t.OQ=function(){return E.resolve(new t)},t.prototype.i1=function(t){return t(this)},t}(),nO=function(){function t(t){this.v1=t}var n=t.prototype;return n.V0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.V0(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.X0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.v1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.V0(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.X0(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.W0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.v1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.V0(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.W0(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.eh=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.eh(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sh=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v1;case 1:if(!(i<r.length)){t.next=11;break}return e=r[i],t.next=5,e.sh(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$Y=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.v1;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,s.$Y(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.q0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.v1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.q0(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.z0=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.v1;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.z0();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.G0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.v1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.G0(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.j0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,s=this.v1;case 2:if(!(e<s.length)){t.next=13;break}return u=s[e],t.t0=r.push,t.t1=r,t.next=8,u.j0(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Mh=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Mh(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Q0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Q0(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Y0=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.v1;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.Y0();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function iO(t){return E.coroutine(Kr.mark(function n(){var i;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",rO.OQ(i));case 4:case"end":return n.stop()}},n)}))}var rO=function(){function t(t){this.d1=void 0,this.l1=void 0,this._1=void 0,this.g1=void 0,this.w1=void 0,this.m1=void 0,this.d1=t,this.l1=new nO(t.map(function(t){return t.K0})),this._1=new nO(t.map(function(t){return t.n1})),this.g1=new nO(t.map(function(t){return t.$0})),this.w1=new nO(t.map(function(t){return t.Z0})),this.m1=new nO(t.map(function(t){return t.J0}))}return t.OQ=function(n){return E.resolve(new t(n))},t.prototype.i1=function(n){var i=this;if(0===this.d1.length)return n(this);var r=[],e=0;return this.d1[e].i1(function s(u){return r.push(u),++e<i.d1.length?i.d1[e].i1(s):n(new t(r))})},M(t,[{key:"K0",get:function(){return this.l1}},{key:"n1",get:function(){return this._1}},{key:"$0",get:function(){return this.g1}},{key:"Z0",get:function(){return this.w1}},{key:"J0",get:function(){return this.m1}}]),t}(),eO=function(){function t(t){this.A1=void 0,this.b1=[],this.T1=!0,this.A1=t}var n=t.prototype;return n.OQ=function(){return new $D(this.E1())},n.E1=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.T1){t.next=4;break}return t.next=3,E.resolve();case 3:this.T1=!1;case 4:n=0,i=this.b1;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,iO([tO.OQ,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,iO([tO.OQ,this.A1])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.EL=function(t){if(!this.T1)throw new v("Registration overdue");this.b1.push(t)},t}(),sO=function(){function t(){}return t.EL=function(n){t.KE.EL(n)},M(t,null,[{key:"Qe",get:function(){return t.S1||(t.S1=t.KE.OQ()),t.S1}}]),t}();function uO(t){return Pf(t)}function oO(t,n){var i=Pf(t);return n?""+i+n:""+i}function hO(t,n,i,r,e,s,u,o){var h=new Zo;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Cf({_v:t,cv:i,av:h,Lv:s,Ov:Ef.GET,so:Sf.mv,Pv:r,Bv:e,Do:u,Mv:o})}sO.KE=new eO(YD.OQ),sO.S1=void 0;var aO=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).Ip=void 0,a.HZ=void 0,a.cv=void 0,a.Pv=void 0,a.Bv=void 0,a.R1=void 0,a.Ub=void 0,a.I1=void 0,a.N1=void 0,a.VD=void 0,a.C1=void 0,a.$v=null,a.D1=void 0,a.Jf=new es,a.O1=function(t,n){return a.Mv(t,n)},a.Ip=n,a.HZ=i,a.cv=r,a.Pv=e,a.Bv=s,a.R1=u,a.VD=o,a.C1=new fO,a.Ub=h,a.I1=sO.Qe.Z0,a.N1=sO.Qe.J0,a}F(n,t);var i=n.prototype;return i.GR=function(){return this.P1(this.Jf.Do)},i.P1=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return lD(i=this.HZ)?(r=i.HZ,e=[i.VZ.GR,i.VZ.QR]):(r=i,e=void 0),this.C1.B1(),t.prev=3,t.next=6,this.L1(r,e);case 6:if(s=t.sent,os(n),s){t.next=12;break}return t.next=11,this.M1(r,e,n);case 11:s=t.sent;case 12:return t.next=14,s.Os();case 14:u=t.sent,os(n),this.U1(u,s.hv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!us(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Xf?t.t0.$v.hv:0,o=new v('Could not load fragment: "'+this.HZ+'", HTTP status '+h);case 27:return t.abrupt("return",this.F1(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.L1=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=oO(n,i),t.next=4,this.I1.eh(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.N1.sh(r);case 7:return e=t.sent,s=hO(n,i,this.cv,this.Pv,this.Bv,this.R1),u=e.data.buffer,t.abrupt("return",new Nf({Os:u,av:{},dv:s,lv:n,cv:this.cv,hv:200,fv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.M1=function(t,n,i){var r=hO(t,n,this.cv,this.Pv,this.Bv,this.R1,i,this.O1);return this.Ub.dv(r)},i.Mv=function(t,n){var i={type:"l0",dv:this,H1:t,V1:n=void 0===n?NaN:n};this.C1.X1(t,n),this.dispatchEvent(i)},i.U1=function(t,n){var i=this.cv===Yo.Nc?t.byteLength:0;this.C1.W1(i),this.cv===Yo.$e?this.$v=t:this.$v=new m(t),this.D1=n,t=null,this.F1(),this.$v=null},i.Io=function(t){return this.Jf.Io(),t||((t=new v('Aborted fragment load: "'+this.HZ+'"')).aborted=!0),this.F1(t)},i.F1=function(t){this.C1.q1();var n={type:"Ag",dv:this};return this.dispatchEvent(n),this.VD(t||null,this)},n}(zC);function cO(){return Gb()/1e3}var fO=function(t){function n(){var n;return(n=t.call(this)||this).z1=NaN,n.G1=NaN,n.j1=NaN,n.Q1=NaN,n.Y1=0,n.Z1=NaN,n.z1=cO(),n}F(n,t);var i=n.prototype;return i.B1=function(){this.z1=cO(),this.dispatchEvent("Uh")},i.X1=function(t,n){this.j1=cO(),this.N0||(this.G1=this.j1),this.Y1=t,this.Z1=n||this.Z1||NaN,this.dispatchEvent("Uh")},i.W1=function(t){this.X1(t,t)},i.q1=function(){this.Q1=cO(),this.dispatchEvent("Uh")},M(n,[{key:"N0",get:function(){return!y(this.G1)}},{key:"J1",get:function(){return!y(this.Q1)}},{key:"ig",get:function(){return(this.G1||cO())-this.z1}},{key:"K1",get:function(){return(this.Q1||this.j1)-this.G1}},{key:"n2",get:function(){return(this.Q1||this.j1)-this.z1}}]),n}(zC),vO=function(t){function n(n,i){var r;return(r=t.call(this)||this).R1=void 0,r.i2=[],r.e2=null,r.s2=function(t){return r.u2(t)},r.Ub=void 0,r.R1=!(!i||i.crossOrigin!==ll.T_),r.Ub=n,r}F(n,t);var i=n.prototype;return i.Lh=function(t,n,i,r,e,s){var u=new aO(t,n,i,r,e,this.R1,s,this.Ub);return u.addEventListener("Ag",this.s2),this.i2.push(u),this.o2(),u},i.h2=function(t,n,i,r,e){var s=this;return new E(function(u,o){s.Lh(t,n,i,r,e,function(t,n){t?o(t):u(n.$v)})})},i.hh=function(t,n){var i=function(t){return!n||t.Ip===n},r=this.i2.filter(i);!t&&this.e2&&i(this.e2)&&r.push(this.e2);for(var e=0;e<r.length;e++){r[e].Io()}return r},i.o2=function(){if(!this.e2){var t=this.i2.shift();t&&(this.e2=t,t.GR())}},i.u2=function(t){var n=t.dv,i=this.i2.indexOf(n);-1!==i&&Ye(this.i2,i),this.e2===n&&(this.e2=null,this.o2())},n}(zC);function dO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function lO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function _O(t,n){return Go([t],{type:n})}var gO="iframe.html",wO=0,yO=k&&(k.bind&&k.bind(k)||k),mO=function(t){function n(n){var i;return(i=t.call(this)||this).a2=void 0,i.c2=[],i.f2=!1,i.Bo=function(t){return i.dispatchEvent(t)},n&&i.Yh(n),i}F(n,t);var i=n.prototype;return i.postMessage=function(t){this.f2||(this.a2?this.a2.postMessage(t):this.c2.push(t))},i.Yh=function(t){if(this.f2)t.terminate();else{this.a2=t,this.a2.addEventListener("message",this.Bo,!1),this.a2.addEventListener("error",this.Bo,!1);for(var n=0,i=this.c2;n<i.length;n++){var r=i[n];this.a2.postMessage(r)}this.c2.length=0}},i.terminate=function(){this.Ho(),this.f2=!0,this.c2.length=0,this.a2&&(this.a2.removeEventListener("message",this.Bo,!1),this.a2.removeEventListener("error",this.Bo,!1),this.a2.terminate(),this.a2=void 0)},n}(zC);var kO=function(n){function i(i,r,e){var u,o,h;return(u=n.call(this)||this).zl=void 0,u.v2=void 0,u.d2=void 0,u.l2=void 0,u._2=void 0,u.g2=function(){return u.w2()},u.m2=function(t){return u.A2(t)},u.zl=i,u.v2=r,u.d2=(o=e+gO,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.l2=u.d2.contentWindow,u._2=Ff(e),u.d2.addEventListener("load",u.g2),t.addEventListener("message",u.m2),u}F(i,n);var r=i.prototype;return r.w2=function(){this.d2.removeEventListener("load",this.g2),this.l2.postMessage({type:"initialize",id:this.zl,script:this.v2},"*")},r.A2=function(t){Ff(t.origin)===this._2&&t.data.id===this.zl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.l2.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.d2.removeEventListener("load",this.g2),t.removeEventListener("message",this.m2),this.l2.postMessage({type:"terminate"},"*"),this.d2.parentNode.removeChild(this.d2)},i}(zC);function pO(){return(pO=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=T.Zd,t.prev=1,e=new Cf({_v:n,Ov:Ef.GET,cv:Yo.$e}),t.next=5,r.dv(e);case 5:return s=t.sent,t.next=8,s.Os();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new v("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Xf?t.t0.$v.hv:-1,i({Ah:h,Jo:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function AO(t,n){function i(i){return e(),it(r=i.data)&&"2.92.0"===r.b2?n(void 0,t):n(new v("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function bO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new yO(t)}catch(t){return n({message:t.message})}return AO(i,n)}var TO=!0;function EO(t,n){var i=wO++,r=t+n,e=new mO;function u(){!function(t,n,i,r){var e;function u(){h(),AO(e,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new kO(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Yh(n),i&&e.dispatchEvent(i))}return bO(r,function(t,n,i){t?function(t,n){pO.apply(this,arguments)}(r,function(t,n){t?t.Ah>=400?o(t.Jo):u():n&&function(t,n){if(!TO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});bO(dO(_O(t,"application/javascript")),function(t,i,r){return t&&(TO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function SO(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function RO(t){return{get length(){return t.length},start:function(n){return SO(t,n|=0),t.start(n)},end:function(n){return SO(t,n|=0),t.end(n)}}}function IO(t,n){return t.GR-n.GR}var NO=function(){function t(t){this.T2=void 0,this.T2=t}var n=t.prototype;return n.start=function(t){return this.T2[t].GR},n.end=function(t){return this.T2[t].QR},n.E2=function(){return this.T2},M(t,[{key:"length",get:function(){return this.T2.length}}]),t}(),CO=new NO([]),DO=new NO([{GR:-1/0,QR:1/0}]);function OO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);e<=o&&s>=h||(s+n>=o?s=h:(r.push({GR:e,QR:s}),e=o,s=h))}return r.push({GR:e,QR:s}),new NO(r)}(function(t){var n=MO(t);return n.sort(IO),new NO(n)}(t),n)}function xO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var s=_.max(t.start(r),n.start(e)),u=_.min(t.end(r),n.end(e));s<u&&i.push({GR:s,QR:u}),t.end(r)<n.end(e)?r+=1:e+=1}return new NO(i)}function PO(t){var n=t.length;if(!n)return DO;var i=[],r=t.start(0);r!==-1/0&&i.push({GR:-1/0,QR:r});for(var e=0;e<n-1;e+=1)i.push({GR:t.end(e),QR:t.start(e+1)});var s=t.end(n-1);return s!==1/0&&i.push({GR:s,QR:1/0}),new NO(i)}function BO(t,n){return-1!==LO(t,n)}function LO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function MO(t){if(t instanceof NO)return t.E2();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({GR:t.start(i),QR:t.end(i)});return n}function UO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(MO)),OO(new NO(e));var i,r,e}var FO=.001;function HO(t,n,i){return i=+i||0,t.GR-i<=n.QR&&n.GR<=t.QR+i}function VO(t){var n={GR:NaN,QR:NaN,lZ:t};return XO(n),n}function XO(t){var n=t.lZ;n.length?(n.sort(IO),t.GR=n[0].GR,t.QR=n[n.length-1].QR):(t.GR=NaN,t.QR=NaN)}function WO(t){return void 0!==t.lZ}function qO(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=_.max(s.GR,n),o=_.min(s.QR,i);if(u<o){var h=void 0;h=s.GR===u&&s.QR===o?s:{GR:u,QR:o,Lp:s.Lp},r.push(h)}}return r}function zO(t,n){var i=_.min(t.GR,n.GR),r=_.max(t.QR,n.QR),e=t.lZ,s=n.lZ,u=e.concat(s),o=e.length?e[e.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.Lp===h.Lp&&HO(o,h,FO)&&u.splice(e.length-1,2,function(t,n){var i=t.Lp||n.Lp;return{GR:_.min(t.GR,n.GR),QR:_.max(t.QR,n.QR),Lp:i}}(o,h)),VO(u=qO(u,i,r))}var GO,jO,QO,YO=function(){function t(t,n){this.T2=void 0,this.T2=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;WO(r)?XO(e=r):e=VO([r]),e.lZ.length&&e.GR<e.QR&&n.push(e)}return n}(t),n||this.S2()}var n=t.prototype;return n.start=function(t){return this.T2[t]&&this.T2[t].GR},n.end=function(t){return this.T2[t]&&this.T2[t].QR},n.lZ=function(t){return this.T2[t]&&this.T2[t].lZ},n.R2=function(t,n){return this.I2(t,t,n)},n.I2=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.N2=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.C2=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.D2=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.rw=function(t){return-1!==this.R2(t)},n._I=function(t,n,i){return-1!==this.I2(t,n,i)},n.wI=function(t,n,i){return-1!==this.N2(t,n,i)},n.sI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=_.max(this.start(i),t.start(r)),s=_.min(this.end(i),t.end(r));if(e<s){var u=qO(this.lZ(i),e,s);n.push(VO(u))}this.end(i)<t.end(r)?i+=1:r+=1}return this.OQ(n,!0)},n._y=function(t){return this.length&&t.length?this.sI(PO(t)):this},n.fI=function(t){return this.length?t.length?this.OQ(this.T2.concat(t.T2)):this:t},n.O2=function(t){for(var n=[],i=0,r=this.T2;i<r.length;i++)for(var e=0,s=r[i].lZ;e<s.length;e++){var u=t(s[e]);u&&n.push(u)}return this.OQ(n)},n.kI=function(t){return this.O2(function(n){return t(n)?n:null})},n.P2=function(){if(!this.length)return this;for(var t=this.T2.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.B2(i,r)&&(t.splice(n,2,zO(i,r)),n-=1)}return this.OQ(t,!0)},n.B2=function(t,n){var i=t.lZ,r=n.lZ,e=i.length?i[i.length-1]:null,s=r.length?r[0]:null;return e&&s&&this.L2(e,s)},n.S2=function(){var t=this.T2;t.sort(IO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&HO(i,r,FO)&&(t.splice(n,2,zO(i,r)),n-=1)}},M(t,[{key:"length",get:function(){return this.T2.length}}]),t}(),ZO=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.OQ=function(t,i){return new n(t,i)},i.L2=function(t,n){return n.Lp.UJ===t.Lp.UJ&&n.Lp.QY===t.Lp.QY+1},n}(YO);function JO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],s=t.M2(e),u=t.U2(e,s);i.push({GR:s.ty(),QR:u.ty(),Lp:e})}return new ZO(i).P2()}function $O(t){return t.F2!==GO.H2}function KO(t){return 0===t.F2}function tx(t){return t.F2>=0}function nx(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,s=0,u=n.lZ(r);s<u.length;s++){var o=u[s];if(!e){var h=o.Lp;if(_D(h)&&$O(h)){if((e=tx(h))&&!KO(h)){var a=t.V2(h,h.X2).ty();o={GR:_.max(o.GR,a),QR:o.QR,Lp:h}}}else e=!0;0}e&&i.push(o)}return new ZO(i)}(jO=GO||(GO={})).H2=-1,jO.W2=-2,function(t){t.q2="h.264",t.z2="mp3",t.G2="aac-lc",t.j2="he-aac"}(QO||(QO={}));var ix,rx,ex,sx,ux=function(){function t(){this.Q2=0,this.T2=[],this.Ab={}}var n=t.prototype;return n.Y2=function(t){this.T2=this.T2.concat(t.T2),this.Q2+=t.Bl},n.Z2=function(t,n,i){var r=this.Q2,e=i-n;e>0&&(this.T2.push({J2:n,K2:i,t3:e,n3:r,i3:t}),this.Q2+=e)},n.sh=function(t){for(var n=0,i=this.T2;n<i.length;n++){var r=i[n];if(r.n3<=t&&t<r.n3+r.t3)return r.i3[t+r.J2-r.n3]}},n.r3=function(t,n){for(var i=n,r=0,e=this.T2;r<e.length;r++)for(var s=e[r],u=s.K2,o=s.J2;o<u;o+=1,i+=1)t[i]=s.i3[o];return i},n.e3=function(){for(var t=new m(this.Q2),n=0,i=0,r=this.T2;i<r.length;i++)for(var e=r[i],s=e.K2,u=e.J2;u<s;u+=1,n+=1)t[n]=e.i3[u];return t},n.lh=function(n){for(var i=new t,r=0,e=this.T2;r<e.length;r++){var s=e[r];i.Z2(s.i3,s.J2,s.K2)}return i.Ab=n||te({},this.Ab),i},M(t,[{key:"Bl",get:function(){return this.Q2},set:function(t){var n=this.T2,i=this.Q2-t;if(!(t>=this.Q2))if(this.Q2=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.t3)return e.K2-=i,e.t3-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.t3}else n.length=0}},{key:"Os",get:function(){for(var t=new Array(this.Q2),n=0,i=0,r=this.T2;i<r.length;i++)for(var e=r[i],s=e.K2,u=e.J2;u<s;u+=1,n+=1)t[n]=e.i3[u];return t}}]),t}();function ox(t,n){return{audio:t.audio?lx(t.audio,n):void 0,video:t.video?kx(t.video,n):void 0,s3:t.s3?(i=t.s3,{u3:i.u3,K$:i.K$,i_:i.i_,o3:i.o3,h3:i.h3,a3:i.a3,c3:i.c3.map(hx),s_:[]}):void 0,f3:t.f3?t.f3.map(cx):t.f3,v3:t.v3.km()};var i}function hx(t){return{jk:t.jk,Ab:{d3:t.Ab.d3,l3:t.Ab._3.km()},JH:t.JH}}function ax(t){return{jk:t.jk,Ab:{d3:t.Ab.d3,_3:Cg(t.Ab.l3)},JH:t.JH}}function cx(t){return{_3:t._3.km(),MA:t.MA,aj:t.aj,hj:t.hj,so:t.so,g3:t.g3,cj:t.cj,fj:t.fj}}function fx(t){return{_3:Cg(t._3),MA:t.MA,aj:t.aj,hj:t.hj,so:t.so,g3:t.g3,cj:t.cj,fj:t.fj}}function vx(t){return{u3:t.u3,JH:[],w3:t.w3,y3:t.y3,duration:t.duration,m3:t.m3,A3:t.A3.km(),b3:t.b3,T3:t.T3.km(),E3:t.E3,S3:t.S3.km(),R3:t.R3.km(),I3:t.I3.km(),N3:t.N3.km(),C3:t.C3.km(),D3:t.D3.km(),O3:t.O3.km()}}function dx(t){return{u3:t.u3,JH:[],w3:t.w3,y3:t.y3,duration:t.duration,m3:t.m3,A3:Cg(t.A3),b3:t.b3,T3:Cg(t.T3),E3:t.E3,S3:Cg(t.S3),R3:Cg(t.R3),I3:Cg(t.I3),N3:Cg(t.N3),C3:Cg(t.C3),D3:Cg(t.D3),O3:Cg(t.O3)}}function lx(t,n){switch(t.w3){case QO.G2:case QO.j2:return function(t,n){return te({},gx(t),{w3:t.w3,JH:t.JH.map(function(t){return function(t,n){var i=(r=t.Ab,te({},bx(r),{x3:r.x3,P3:r.P3,B3:r.B3}));var r;return yx(t.lh(i),n)}(t,n)}),_$:t._$,L3:t.L3})}(t,n);case QO.z2:return function(t,n){return te({},gx(t),{w3:t.w3,JH:t.JH.map(function(t){return function(t,n){var i=(r=t.Ab,te({},bx(r),{$k:r.$k,Np:r.Np,M3:r.M3,U3:r.U3,F3:r.F3}));var r;return yx(t.lh(i),n)}(t,n)})})}(t,n)}}function _x(t){switch(t.w3){case QO.G2:case QO.j2:return function(t){return te({},wx(t),{w3:t.w3,JH:t.JH.map(function(t){return function(t){var n=mx(t),i=(r=n.Ab,te({},Tx(r),{x3:r.x3,P3:r.P3,B3:r.B3}));var r;return n.lh(i)}(t)}),_$:t._$,L3:t.L3})}(t);case QO.z2:return function(t){return te({},wx(t),{w3:t.w3,JH:t.JH.map(function(t){return function(t){var n=mx(t),i=(r=n.Ab,te({},Tx(r),{$k:r.$k,Np:r.Np,M3:r.M3,U3:r.U3,F3:r.F3}));var r;return n.lh(i)}(t)})})}(t)}}function gx(t){return te({},vx(t),{JH:[],w3:t.w3,H3:t.H3,V3:t.V3,X3:t.X3,W3:t.W3})}function wx(t){return te({},dx(t),{JH:[],w3:t.w3,H3:t.H3,V3:t.V3,X3:t.X3,W3:t.W3})}function yx(t,n){var i=t.e3();return n.push(i.buffer),{q3:i,z3:t.Bl,G3:t.Ab}}function mx(t){var n=new ux;return n.Z2(t.q3,0,t.z3),n.Ab=t.G3,n}function kx(t,n){return te({},vx(t),{w3:t.w3,JH:t.JH.map(function(t){return function(t,n){var i=(r=t.Ab,te({},px(r),{V_:r.V_,j3:r.j3.km(),Q3:r.Q3,Y3:r.Y3,Z3:r.Z3&&r.Z3.km(),J3:r.J3&&r.J3.km(),K3:r.K3,t4:r.t4,f3:r.f3,n4:r.n4}));var r;return yx(t.lh(i),n)}(t,n)}),i4:t.i4,r4:t.r4,_A:t._A,width:t.width,height:t.height,e4:t.e4,s4:t.s4,u4:t.u4,a$:t.a$,c$:t.c$,RA:t.RA,IA:t.IA})}function px(t){var n;return te({},{d3:(n=t).d3,l3:n.l3.km()},{o4:t.o4.km(),h4:t.h4.km()})}function Ax(t){var n;return te({},{d3:(n=t).d3,l3:Cg(n.l3)},{o4:Cg(t.o4),h4:Cg(t.h4)})}function bx(t){return te({},px(t))}function Tx(t){return te({},Ax(t))}function Ex(t){var n=t.video,i=n&&n.JH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].Ab.K3)return r}return NaN}function Sx(t){var n=t.a4.video,i=n&&n.JH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].Ab.K3)return r}return NaN}function Rx(t){if(!t)return null;switch(t.w3){case QO.q2:return function(t){return t._A?"avc1."+(t.e4<16?"0":"")+((t.e4<<16)+(t.s4<<8)+t.u4).toString(16):null}(t);case QO.z2:return"mp4a.40.34";case QO.G2:return t.L3?"mp4a.40.5":"mp4a.40.2";case QO.j2:return"mp4a.40.5";default:return null}}function Ix(t,n){var i=t.info,r=i.UJ,e=t.a4,s=r.wZ(t.info.QY-1),u=e.audio||void 0,o=e.video||void 0,h=u&&Rx(u),a=o&&Rx(o),c=(!u||h)&&(!o||a)?{gJ:h,wJ:a}:null,f=u&&!y(u.E3)?u.E3:null,v=o&&!y(o.E3)?o.E3:null,d=Hg(u&&u.R3,o&&o.R3),l=Hg(u&&u.I3,o&&o.I3),g=Vg(u&&u.D3,o&&o.D3),w=Vg(u&&u.O3,o&&o.O3),m=o&&o.A3.iw(Ig.hm(o.duration)),k=u&&u.A3.iw(Ig.hm(u.duration)),p=_D(s),A=p&&s.width||r.resolution&&r.resolution.width,b=p&&s.width||r.resolution&&r.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),c4:i,duration:m&&k?Ig.tm(m,k).ty():(m||k||Ig.Ty).ty(),f4:d,v4:l,d4:g,l4:w,audio:{start:_.max(0,f||0),duration:u&&u.m3||0,w3:h,QK:u&&u.b3,f4:u&&u.R3,v4:u&&u.I3,d4:u&&u.D3,l4:u&&u.O3},video:{start:_.max(0,v||0),duration:o&&o.m3||0,w3:a,QK:o&&o.b3,f4:o&&o.R3,v4:o&&o.I3,d4:o&&o.D3,l4:o&&o.O3},FB:o?{width:o.width||A,height:o.height||b}:null,QY:i.QY,size:n,quality:r,p$:c,_4:i._4,g4:i.g4}}function Nx(t,n){var i,r,e,s,u={start:0,duration:0,w3:null,QK:null,f4:null,v4:null,d4:null,l4:null};return"gJ"===n?(r=u,e=i=te({},u,t.video),s=t.FB):(r=i=te({},u,t.audio),e=u,s=null),{start:i.start,c4:t.c4,duration:i.duration,f4:i.f4,v4:i.v4,d4:i.d4,l4:i.l4,audio:r,video:e,FB:s,QY:t.QY,size:t.size,quality:t.quality,p$:t.p$,_4:t._4,g4:t.g4}}function Cx(t,n){return t+"w4"+n.QY+"y4"+n.uri}!function(t){t.m4="A4",t.b4="T4"}(ix||(ix={})),function(t){t.E4="S4",t.VY="R4"}(rx||(rx={})),function(t){t.I4="N4",t.b4="T4"}(ex||(ex={})),function(t){t.C4="D4",t.O4="x4"}(sx||(sx={}));var Dx=function(t){function n(n){var i;return(i=t.call(this)||this).ya=void 0,i.P4=ie(),i.B4=void 0,i.L4=void 0,i.M4=function(t){var n=t.data,r=n.U4;if(i.P4.get(r))switch(n.F4){case rx.E4:0;var e=n.H4;i.V4(r,e);break;case rx.VY:var s=n.X4;i.W4(r,new QC(jC.MY,{code:s}));default:0}},i.q4=function(t){var n,r,e,s,u=t.data,o=u.z4;if(i.P4.get(o))switch(u.G4){case sx.C4:0;var h=u.j4;i.Q4(o,{audio:(n=h).audio?_x(n.audio):void 0,video:n.video?(e=n.video,s=dx(e),te({},s,{w3:e.w3,JH:e.JH.map(function(t){return function(t){var n,i=mx(t),r=te({},Ax(n=i.Ab),{V_:n.V_,j3:Cg(n.j3),Q3:n.Q3,Y3:n.Y3,Z3:n.Z3&&Cg(n.Z3),J3:n.J3&&Cg(n.J3),K3:n.K3,t4:n.t4,f3:n.f3,n4:n.n4});return i.lh(r)}(t)}),i4:e.i4,r4:e.r4,_A:e._A,width:e.width,height:e.height,e4:e.e4,s4:e.s4,u4:e.u4,a$:e.a$,c$:e.c$,RA:e.RA,IA:e.IA})):void 0,s3:n.s3?(r=n.s3,{u3:r.u3,K$:r.K$,i_:r.i_,o3:r.o3,h3:r.h3,a3:r.a3,c3:r.c3.map(ax),s_:[]}):void 0,f3:n.f3?n.f3.map(fx):n.f3,v3:Cg(n.v3)});break;case sx.O4:var a=u.Y4;i.W4(o,new QC(jC.MY,{code:a}));default:0}},i.Z4=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Jo",Jo:new QC(jC.zY,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};gt(n.Jo.info.code),i.dispatchEvent(n)}else 0},i.ya=n,i.L4=i.J4(),i}F(n,t);var i=n.prototype;return i.Io=function(t){var n=[];this.P4.forEach(function(i,r){t&&i.Ip!==t||n.push(r)}),this.K4(n)},i.K4=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.P4.delete(i)}if(t.length){if(this.B4){var r={t5:ix.b4,n5:t};this.B4.postMessage(r)}if(this.L4){var e={i5:ex.b4,r5:t};this.L4.postMessage(e)}}},i.W4=function(t,n){var i=this.P4.get(t);if(i){var r=i.VD;this.P4.delete(t),r(n)}},i.e5=function(t,n,i,r){this.B4||(this.B4=this.s5());var e={t5:ix.m4,u5:t,o5:n,h5:i,a5:r};this.B4.postMessage(e)},i.c5=function(t,n){this.L4||(this.L4=this.J4());var i={i5:ex.I4,f5:t,v5:n,d5:this.P4.get(t).l5};this.L4.postMessage(i)},i.V4=function(t,n){this.c5(t,n)},i.s5=function(){var t=EO(this.ya.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.M4),t.addEventListener("error",this.Z4),t},i._5=function(t){var n=t.a4.video,i=n&&n.JH&&n.JH[0];i&&i.Ab.K3},i.Q4=function(t,n){var i=this.P4.get(t),r=i.VD,e=i.g5,s={a4:n,info:i.w5,metadata:null};this._5(s),function(t){var n=t.info.UJ.wZ(t.info.QY-1),i=t.a4;t.info.g4=t.info.yZ,n&&(i.audio||i.video?i.video&&!i.video.r4&&!i.video.i4&&i.video.b3&&n.T$&&i.video.b3!==n.T$?t.info.g4=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.g4=!0):t.info.g4=!0)}(s),Ix(s,e),function(t){var n=t.info,i=n.UJ,r=t.metadata,e=t.a4;if(n.y5=Ig.hm(r.duration),n.WZ=e.audio&&e.audio.A3.iw(Ig.hm(e.audio.duration))||Ig.Ty,n.qZ=e.video&&e.video.A3.iw(Ig.hm(e.video.duration))||Ig.Ty,n.m5=e.audio&&e.audio.A3||Ig.Ty,n.k5=e.video&&e.video.A3||Ig.Ty,n.p5=r.audio.f4,n.A5=r.audio.v4,n.b5=r.video.f4,n.T5=r.video.v4,n.XZ=r.f4,n.E5=r.v4,n.S5=r.audio.d4,n.R5=r.audio.l4,n.I5=r.video.d4,n.N5=r.video.l4,n.d4=r.d4,n.l4=r.l4,e.video){var s=Ex(t.a4),u=e.video.JH&&e.video.JH[s];u?(n.F2=s,n.X2=u.Ab.o4,n.C5=u.Ab.h4):n.F2=GO.W2}else n.F2=GO.H2;n.T$=e.video&&e.video.b3||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"P$",w5:t.info}),!i.resolution&&r.FB&&(i.resolution=r.FB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.p$||i.p$&&!i.p$.gJ==!r.p$.gJ&&!i.p$.wJ==!r.p$.wJ||i.y$(r.p$),e.audio&&void 0!==e.audio._$&&(i._$=e.audio._$),i.a$=e.video&&e.video.a$||i.a$,i.c$=e.video&&e.video.c$||i.c$,i.f$=e.audio&&e.audio.u3||void 0,i.v$=e.video&&e.video.u3||void 0,i.d$=e.audio&&e.audio.w3||void 0,i.l$=e.video&&e.video.w3||void 0,i.g$=e.audio&&e.audio.b3||void 0,i.T$=e.video&&e.video.b3||void 0}(s),this.P4.delete(t),r(null,s)},i.J4=function(){var t=EO(this.ya.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.q4),t.addEventListener("error",this.Z4),t},i.D5=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var s=i;i=void 0,e.P4.has(n)&&e.e5(n,s,t,r.iv)}).catch(function(t){i=void 0,e.P4.has(n)&&e.W4(n,t)})},i.O5=function(t,n,i,r,e,s){var u=Cx(t,r),o=r.UJ;this.P4.set(u,{Ip:t,w5:r,l5:{x5:r.duration,p$:o.p$,a$:o.a$,c$:o.c$,f$:o.f$,v$:o.v$,d$:o.d$,l$:o.l$,_$:!this.ya.skipImplicitHEAACDetection&&o._$,P5:e},g5:i.length,VD:s}),r.key?this.D5(n,u,i,r.key):this.c5(u,i)},i.B5=function(t){var n=[];return this.P4.forEach(function(i){i.Ip===t&&n.push(i.w5)}),n},i.L5=function(t,n){var i=Cx(t,n);return this.P4.has(i)},i.Fv=function(){this.Io(),this.B4&&(this.B4.terminate(),this.B4=void 0),this.L4&&(this.L4.terminate(),this.L4=void 0)},n}(zC);function Ox(t,n){return t+"M5"+n}function xx(t){return Ox(t.UJ.zl,t.QY)}function Px(t){return!(!t||!t.a4)}var Bx=function(){function t(t,n,i){this.U5=void 0,this.wb=void 0,this.F5=[],this.H5=ie(),this.V5=1,this.X5=void 0,this.wb=t,this.U5=n,this.X5=i}var n=t.prototype;return n.W5=function(t){var n=xx(t.info);if(this.H5.has(n))this.q5(t.info,t);else{this.F5.push(n),this.H5.set(n,t);for(var i=this.U5.z5+10;this.F5.length>8*this.G5&&this.j5>i*this.G5;){var r=this.H5.get(this.F5[0]),e=this.X5.Q5,s=null==r?void 0:r.info;if(s){var u=s.start,o=u+s.duration,h=new rA([u,o]),a=e,c=a+this.U5.z5;if(new rA([a,c]).sI(h).Bl>0)break}this.H5.delete(this.F5.shift())}}},n.Y5=function(t,n){var i=Ox(t,n),r=this.H5.get(i),e=this.F5.indexOf(i);return!(!r||-1===e)&&(Ye(this.F5,e),this.H5.delete(i),!0)},n.hh=function(){this.F5.length=0,this.H5.clear()},n.Z5=function(){for(var t={},n=0,i=this.F5;n<i.length;n++){var r=i[n],e=this.H5.get(r);Px(e)&&(t[e.info.UJ.zl]=(t[e.info.UJ.zl]||0)+1)}return t},n.J5=function(t,n){var i=[],r=this.K5(t,n);if(!Px(r))return i;do{i.push(r),n+=1,r=this.K5(t,n)}while(Px(r));return i},n.t6=function(t,n){return!!this.K5(t,n)},n.n6=function(t,n){return Px(this.K5(t,n))},n.K5=function(t,n){return this.H5.get(Ox(t,n))},n.q5=function(t,n){var i=xx(t),r=this.F5.indexOf(i);return-1!==r&&(Ye(this.F5,r),this.F5.push(i),n&&this.H5.set(i,n),!0)},n.i6=function(){for(var t=[],n=0,i=this.F5;n<i.length;n++){var r=i[n],e=this.H5.get(r);t.push(e.info)}return t},n.r6=function(){for(var t=[],n=0,i=this.F5;n<i.length;n++){var r=i[n],e=this.H5.get(r);e&&Px(e)&&t.push(e.info)}return t},M(t,[{key:"j5",get:function(){for(var t=JO(this.wb,this.i6()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"G5",get:function(){return this.V5},set:function(t){t>0&&(this.V5=_.max(t,1))}}]),t}();var Lx=Y.Pe?function(t,n){return Fg(t.o4,n.o4)}:function(t,n){return Fg(t.h4,n.h4)};function Mx(t,n,i,r){if(!t)return i;if(!i)return t;if(t.w3===i.w3){var e,s,u=t.i4||i.i4;if(u)s=1/(e=t.T3.iw(i.T3).jy(2)).ty();else{if(t.b3!==i.b3)return;if(!t.T3.Hw(i.T3))return;e=t.T3,s=t.b3}if(t.width===i.width&&t.height===i.height){var o,h=t.r4||i.r4||!t.T3.Hw(i.T3);if(t.JH)if(i.JH)if(r)o=t.JH.concat(i.JH),Ux(t.JH,i.JH,Hx);else{!function(t,n,i){var r=t.length,e=Ig.Ty;t=Xe(t,function(t,n){return Lx(t.Ab,n.Ab).iy(Ig.Ty)});for(var s=1;s<r;s+=1){var u=t[s-1].Ab,o=t[s].Ab,h=Lx(o,u);h.uy(Ig.Ty)&&(h=n),e=e.iw(h),u.j3=h,u.V_=h.ty()}if(r>0){var a=t[r-1].Ab,c=Ig.Ky(Ig.hm(_.round(i-e.ty())),n);a.j3=c,a.V_=c.ty()}}(n.JH.concat(i.JH),e,n.duration+i.duration),o=t.JH.concat(i.JH),Ux(t.JH,i.JH,Hx)}else o=t.JH;else o=i.JH;return{w3:t.w3,e4:t.e4,u4:t.u4,s4:t.s4,b3:s,T3:e,i4:u,r4:h,width:t.width,height:t.height,a$:t.a$,c$:t.c$,_A:t._A,duration:t.duration+i.duration,m3:t.m3+i.m3,A3:t.A3,E3:t.E3,S3:t.S3,R3:t.R3,I3:t.I3,N3:Xx(i.N3,t.N3),C3:Xx(i.C3,t.C3),D3:Xx(i.D3,t.D3),O3:Xx(i.O3,t.O3),JH:o,y3:t.y3||i.y3,RA:t.RA,IA:t.IA}}}}function Ux(t,n,i){var r=n[0].Ab.l3,e=t[t.length-1].Ab.l3,s=r._y(e),u=Fg(r,e)._y(s);if(!u.Ny())for(var o=0;o<n.length;o++){i(n[o].Ab,u)}}function Fx(t,n){t.h4=t.h4.iw(n),t.o4=t.o4.iw(n),t.l3=t.l3.iw(n)}function Hx(t,n){Fx(t,n),t.j3=t.j3.iw(n),t.J3=Vx(t.J3,n),t.Z3=Vx(t.Z3,n)}function Vx(t,n){if(t)return t.iw(n)}function Xx(t,n){return n.iw(Fg(t,n))}function Wx(t,n){var i={audio:void 0,video:void 0,v3:t.v3};if("video"===n){if(!t.audio)return i;i.audio={w3:t.audio.w3,b3:t.audio.b3,T3:t.audio.T3,duration:t.audio.duration,m3:t.audio.m3,A3:Ig.Ty,E3:t.audio.E3,S3:t.audio.S3,R3:t.audio.R3,I3:t.audio.I3,N3:t.audio.N3,C3:t.audio.C3,D3:t.audio.D3,O3:t.audio.O3,JH:t.audio.JH,W3:t.audio.W3,X3:t.audio.X3,y3:t.audio.y3,H3:t.audio.H3,V3:t.audio.V3}}if("audio"===n){if(!t.video)return i;i.video={w3:t.video.w3,e4:t.video.e4,u4:t.video.u4,s4:t.video.s4,b3:t.video.b3,T3:t.video.T3,i4:t.video.i4,r4:t.video.r4,width:t.video.width,height:t.video.height,a$:t.video.a$,c$:t.video.c$,RA:t.video.RA,IA:t.video.IA,_A:t.video._A,duration:t.video.duration,m3:t.video.m3,A3:Ig.Ty,E3:t.video.E3,S3:t.video.S3,R3:t.video.R3,I3:t.video.I3,N3:t.video.N3,C3:t.video.C3,D3:t.video.D3,O3:t.video.O3,JH:t.video.JH,y3:t.video.y3}}return i}function qx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.w3===n.w3||!t.w3||!n.w3)&&t.b3===n.b3&&t.T3.Hw(n.T3)&&t.X3===n.X3)return t.JH?n.JH?(i=t.JH.concat(n.JH),Ux(t.JH,n.JH,Fx)):i=t.JH:i=n.JH,{w3:t.w3,b3:t.b3,T3:t.T3,duration:t.duration+n.duration,m3:t.m3+n.m3,A3:t.A3,E3:t.E3,S3:t.S3,R3:t.R3,I3:t.I3,N3:Xx(n.N3,t.N3),C3:Xx(n.C3,t.C3),D3:Xx(n.D3,t.D3),O3:Xx(n.O3,t.O3),JH:i,X3:t.X3,W3:t.W3,y3:t.y3||n.y3,H3:t.H3,V3:t.V3}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var s=Mx(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||s)return{audio:e,video:s,v3:t.v3}}}function zx(t){return Wx(t,"audio")}function Gx(t){return Wx(t,"video")}var jx,Qx,Yx,Zx=function(){function t(t){this.e6=void 0,this.mQ=0,this.s6=0,this.e6=_.exp(_.log(.5)/t)}var n=t.prototype;return n.u6=function(t,n){var i=_.pow(this.e6,t),r=n*(1-i)+i*this.mQ;y(r)||(this.mQ=r,this.s6+=t)},n.o6=function(){var t=1-_.pow(this.e6,this.s6);return this.mQ/t},t}(),Jx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.h6=void 0,this.a6=void 0,this.c6=0,this.f6=void 0,this.v6=5e5,this.h6=new Zx(t),this.a6=new Zx(n),this.f6=i}var n=t.prototype;return n.u6=function(t,n){var i=8e3*n/t,r=t/1e3;this.c6+=n,this.h6.u6(r,i),this.a6.u6(r,i)},n.o6=function(){return this.d6()?_.min(this.h6.o6(),this.a6.o6()):this.v6},n.d6=function(){return this.c6>=this.f6},t}(),$x=function(){function t(){this.h6=new Zx(2),this.a6=new Zx(5),this.l6=0,this._6=1,this.v6=100}var n=t.prototype;return n.u6=function(t){this.l6+=1,this.h6.u6(1,t),this.a6.u6(1,t)},n.o6=function(){return this.d6()?_.min(this.h6.o6(),this.a6.o6()):this.v6},n.d6=function(){return this.l6>=this._6},t}(),Kx=function(){function t(t,n){var i=this;this.g6=void 0,this.dv=void 0,this.C1=void 0,this.w6=!1,this.y6=0,this.m6=0,this.k6=function(){return i.p6()},this.g6=t,this.dv=n,this.C1=n.C1,this.C1.addEventListener("Uh",this.k6)}return t.prototype.p6=function(){var t=this.C1.Y1,n=1e3*this.C1.K1,i=1e3*this.C1.ig;this.C1.N0&&(this.w6||(this.g6.A6(i),this.w6=!0),n>this.m6&&(this.g6.b6(n-this.m6,t-this.y6),this.y6=t,this.m6=n))},t}(),tP=function(){function t(){this.T6=void 0,this.E6=void 0,this.T6=new Jx,this.E6=new $x}var n=t.prototype;return n.S6=function(t){new Kx(this,t)},n.b6=function(t,n){this.T6.u6(t,n)},n.A6=function(t){this.E6.u6(t)},n.Fv=function(){},M(t,[{key:"R6",get:function(){return this.E6.o6()/1e3}},{key:"I6",get:function(){return this.T6.o6()}}]),t}(),nP=function(){function t(){this.N6=ie()}var n=t.prototype;return n.C6=function(t,n){var i,r,e=this.N6.get(t);return void 0!==e&&(i=e.HZ,r=n,rt(i)?i===r:function(t,n){return t.HZ===n.HZ&&t.VZ.GR===n.VZ.GR&&t.VZ.QR===n.VZ.QR}(i,r))},n.D6=function(t,n){if(this.C6(t,n))return this.N6.get(t).Os},n.O6=function(t,n,i){this.N6.set(t,{HZ:n,Os:i})},n.hh=function(){this.N6.clear()},t}();!function(t){t[t.x6=0]="x6",t[t.P6=5]="P6",t[t.B6=13]="B6",t[t.L6=14]="L6",t[t.M6=15]="M6"}(jx||(jx={})),function(t){t[t.U6=0]="U6",t[t.F6=1]="F6",t[t.H6=2]="H6",t[t.V6=11]="V6",t[t.X6=13]="X6",t[t.W6=14]="W6"}(Qx||(Qx={})),function(t){t[t.q6=0]="q6",t[t.z6=1]="z6",t[t.G6=2]="G6",t[t.j6=3]="j6",t[t.Q6=4]="Q6",t[t.Y6=5]="Y6",t[t.Z6=6]="Z6",t[t.J6=7]="J6"}(Yx||(Yx={}));var iP=5,rP=5,eP=.5;function sP(t){if(!t.a4.video)return[];for(var n=[],i=0;i<t.a4.video.JH.length;i++){var r=t.a4.video.JH[i].Ab;r.K3&&n.push({K6:i,t9:r.o4})}return n}var uP=Ig.hm(.04),oP=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).U5=void 0,s.ya=void 0,s.n9=void 0,s.Ub=void 0,s.i9=void 0,s.r9=void 0,s.e9=void 0,s.s9=ie(),s.u9=void 0,s.o9=ie(),s.h9=1,s.ya=n,s.n9=i,s.Ub=r,s.i9=new nP,s.U5=e,s.r9=new vO(r,n),s.e9=new tP,s.u9=new Dx(n),s.u9.addEventListener("Jo",function(t){s.dispatchEvent(t)}),s}F(n,t);var i=n.prototype;return i.a9=function(t){this.u9.Io(t),this.r9.hh(!1,t)},i.hh=function(t){this.a9(t),t?this.s9.get(t).hh():this.s9.forEach(function(t){return t.hh()})},i.Fv=function(){this.Ho(),this.r9.hh(),this.s9.forEach(function(t){return t.hh()}),this.s9.clear(),this.u9.Fv()},i.Cl=function(t,n,i){if(!this.s9.has(t)){var r=new Bx(n,this.U5,i);r.G5=this.G5,this.s9.set(t,r)}},i.c9=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=String(i.zl),!this.i9.C6(e,r)){t.next=3;break}return t.abrupt("return",this.i9.D6(e,r));case 3:return s=pD(i.A$),t.t0=m,t.next=7,this.r9.h2(n,r,Yo.Nc,Rf.pv,s);case 7:return t.t1=t.sent,u=new t.t0(t.t1),this.i9.O6(e,r,u),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.f9=function(t,n,i,r){var e=this.s9.get(t),s=e.K5(n.UJ.zl,n.QY);if(e.n6(n.UJ.zl,n.QY))e.q5(n),this.dispatchEvent({type:"v9",Ip:t,d9:s});else{if(!s)return this.l9(t,n,i,r);e.q5(n),this._9(t,n,i,s.g9)}return r&&r(),null},i.l9=function(t,n,i,r){var e=this,s=this.s9.get(t),u=function(t,n){return t+"w9"+n.QY+"y4"+n.uri}(t,n);if(this.o9.has(u))return null;this.o9.set(u,!0);var o=pD(n.UJ.A$),h=this.r9.Lh(t,n.uri,Yo.Nc,Rf.wv,o,function(o,a){return e.o9.delete(u),o?r&&r(o):(e.dispatchEvent({type:"y9",Ip:t}),s.n6(n.UJ.zl,n.QY)||s.W5({info:n,g9:h.$v}),e.f9(t,n,i),r&&r(o,a))});return this.e9.S6(h),h},i._9=function(t,n,i,r){var e=this,s=this.s9.get(t);this.u9.L5(t,n)||(n&&n.key&&this.n9.getKey(n.key).catch(R),this.u9.O5(t,this.n9,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Jo",Jo:n});s.W5(i),e.dispatchEvent({type:"v9",Ip:t,d9:i})}))},i.m9=function(t,n,i){var r=i.length,e="gJ"===t?aP:cP;if(!hP(n,i))return null;if(r<=1)return i;for(var s=1;s<r;s+=1){var u=i[s],o=i[s-1];if(u.metadata.g4){if("k9"===this.ya.p9||e(u,o)){var h=i.splice(0,s);return hP(n,h)?h:this.m9(t,n,i)}0}}return i},i.A9=function(t,n,i,r){for(var e=this.s9.get(t).r6(),s=r.b9,u=function(t){var r=i[t],u=e.filter(function(t){return t.UJ===r}),o=JO(n,u),h=o.R2(s.ty(),uP.ty());if(h>=0&&Ig.hm(o.end(h))._y(s).ey(uP))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.T9=function(t,n,i,r,e){if(!Y.Ce)return!0;if(e.E9||this.A9(t,n,i,e))return!0;var s=Ig.Ky(r,e.S9);return e.b9._y(s).ey(Ig.hm(2))},i.R9=function(t,n,i,r,e,s,u,o){var h=n.J5(e.zl,s),a=this.m9(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.M2(f.info),d=bP(t,r,f);if("wJ"!==t||function(t,n,i){return!!t&&t.Lp.UJ===n&&i.ey(Ig.hm(t.QR))&&i.uy(Ig.hm(t.QR).iw(uP))}(i,e,d))return{lZ:a,I9:Ig.tm(v,d)};f.a4.video&&(f=(a=gP(a,function(t,n,i,r){for(var e=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=sP(o),a=0;a<h.length;a++){var c=h[a];if(n.V2(o.info,c.t9).ny(i._y(r)))return{N9:e,C9:s};e=u,s=c.K6}return{N9:e,C9:s}}(a,r,u,o)))[0]);if(d=bP(t,r,f),function(t){var n=t.a4.video,i=n&&n.JH,r=i&&i[0],e=r&&r.Ab.K3;if(!n)return!0;return!!e}(f))return{lZ:a,I9:Ig.tm(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=Ex(t[n].a4);if(!y(i))return{N9:n,C9:i}}return null}(a),_=Ig.Ky(u,kP(t,r,e.wZ(s)));if(f.info.QY===s){if(l&&(d=bP(t,r,(c=gP(a,l))[0]),_._y(d).ey(o)))return{lZ:c,I9:Ig.tm(v,d)};for(var g=s-1;n.n6(e.zl,g);){var w=n.J5(e.zl,g);if((f=(c=this.m9(t,s,w))&&c[0]&&_P(c[0],Sx(c[0])))&&(d=bP(t,r,f),_._y(d).ey(o)))return c[0]=f,{lZ:c,I9:Ig.tm(v,d)};g-=1}}return function(t){if(t.yZ)return!1;var n=t.UJ;if(n.gZ&&n.gZ.live)return!1;if(!n.wZ(t.QY-1))return!1;return!0}(a[0].info)?null:l?{lZ:a=gP(a,l),I9:v}:null},i.D9=function(t,n,i,r,e,s,u,o,h,a,c){var f=s.O9(o,h,n),v=f&&f.Lp;if(!v)return null;var d=v.QY;do{var l=d,_=o.wZ(l),g=kP(n,s,_);if(!pP(n,s,_).hy(h)||_._4){if(g.iw(uP).ny(a))break;if(Ig.Ky(Ig.Ty,h._y(g)).hy(c)&&i.n6(o.zl,l-1)&&i.n6(o.zl,l))i.K5(o.zl,l).metadata.g4||(l-=1);var w=this.x9(t,n,i,r,e,s,u,o,l,h,c);if(w&&(lP(w,h,a)||w.E9))return w}}while(i.n6(o.zl,++d));return null},i.x9=function(t,n,i,r,e,s,u,o,h,a,c){var f=o.wZ(h),v=this.R9(n,i,r,s,o,h,a,c),d=v&&v.lZ,l=v&&v.I9,g=d&&d[d.length-1],w=g&&g.metadata._4;if(!(d=function(t,n){if(!n||!n.length)return n;var i="gJ"===t?fP:vP;return n.map(i).filter(dP)}(n,d))||!d.length){if(w){var y=[],m=s.M2(g.info);return y.P9=m,y.B9=m,y.S9=m,y.L9=m,y.b9=m,y.E9=w,y}return null}var k=d="wJ"===n?function(t,n,i){var r=i[0].a4.video;return i[0].info.yZ?function(t,n,i,r){var e=je(r.JH,function(t){return t.Ab.K3});if(e<0)return i;var s=r.JH[e].Ab,u=n.V2(i[0].info,s.o4),o=TP(t,u);if(o.gy())return i;var h=u._y(o).nm(Dg,Tg.mm);if(h.uy(Ig.Ty))return i;var a=RP(r.JH.slice(e),h);return i[0]=yP(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.T3.Wy(iP),s=r.JH[0].Ab,u=n.V2(i[0].info,s.h4),o=EP(t,u,e);if(o.gy())return i;var h=u._y(o).nm(Dg,Tg.mm);if(h.uy(Ig.Ty)||h.ny(e))return i;var a=RP(r.JH,h);return i[0]=yP(i[0],a),i}(t,n,i,r)}(e,s,d):function(t,n,i){var r;if((null==(r=i[0].a4.audio)?void 0:r.w3)===QO.z2)return i;var e=i[0].a4.audio,s=e.JH[0].Ab;return i[0].info.yZ?function(t,n,i,r,e){var s=n.V2(i[0].info,e.o4),u=TP(t,s);if(u.gy())return i;var o=s._y(u).ty(),h=_.floor(o/r.T3.ty());if(h<=0)return i;var a=SP(r,h);return i[0]=wP(i[0],a),i}(t,n,i,e,s):function(t,n,i,r,e){var s=n.V2(i[0].info,e.h4),u=EP(t,s,r.T3.Wy(rP));if(u.gy())return i;var o=s._y(u).ty(),h=_.round(o/r.T3.ty());if(0===h||_.abs(h)>rP)return i;var a=SP(r,h);return i[0]=wP(i[0],a),i}(t,n,i,e,s)}(e,s,d),p=k[0];if(f.QY<p.info.QY&&(l=s.M2(f)),k.P9=l,k.B9=function(t,n,i){return n.V2(i.info,AP(t,i).v4)}(n,s,p),k.S9=bP(n,s,p),k.L9=function(t,n,i){return n.V2(i.info,AP(t,i).l4)}(n,s,k[k.length-1]),k.b9=function(t,n,i){return n.V2(i.info,AP(t,i).d4)}(n,s,k[k.length-1]),k.E9=w,!this.T9(t,s,u,a,k))return null;var A=p.a4.video;return!A||(A.a$=A.a$||o.a$,A.c$=A.c$||o.c$,A.a$&&A.c$)?k:null},i.M9=function(t,n,i,r,e,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.D9(t,n,i,r,e,s,u,v,o,h,a);d&&(c&&!d.S9.hy(c.S9)||(c=d))}return c},i.U9=function(t,n,i,r,e,s,u,o,h){for(var a=Ig.hm(u),c=Ig.hm(o),f=Ig.hm(h),v=this.s9.get(t),d=new NO([{GR:a.ty(),QR:a.iw(c).ty()}]),l=e.sI(d),_=function(t){if(0===t.length)return null;var n=t.lZ(t.length-1),i=n[n.length-1];if(!i.Lp.F9)return null;return i}(e),g=xO(PO(l),d),w=0;w<g.length;w++){var y=Ig.hm(g.start(w)),m=Ig.hm(g.end(w)),k=IP(l,y,m),p=y.iw(k).nm(Dg,Tg.mm),A=m.nm(Dg,Tg.mm);if(p.hy(A)){if(_&&p.ey(Ig.hm(_.QR)))continue;var b=this.M9(t,n,v,s,e,i,r,p,A,f);if(b)return b}}return null},i.r6=function(t){return this.s9.get(t).r6()},i.B5=function(t){return this.u9.B5(t)},M(n,[{key:"G5",get:function(){return this.h9},set:function(t){t>0&&(this.h9=t,this.s9.forEach(function(n){return n.G5=t}))}},{key:"R6",get:function(){return this.e9.R6}},{key:"I6",get:function(){return this.e9.I6}}]),n}(zC);function hP(t,n){for(var i=0;i<n.length;i++){if(n[i].info.QY===t)return!0}return!1}function aP(t,n){return t.metadata.audio.w3!==n.metadata.audio.w3||(t.metadata.audio.QK!==n.metadata.audio.QK||(!(!t.a4.audio||!n.a4.audio||t.a4.audio.X3===n.a4.audio.X3)||!Mg(t.metadata.audio.f4,t.metadata.audio.v4).Hw(Mg(n.metadata.audio.d4,n.metadata.audio.l4))))}function cP(t,n){return t.metadata.video.w3!==n.metadata.video.w3||(!(!t.metadata.FB||!n.metadata.FB||t.metadata.FB.height===n.metadata.FB.height&&t.metadata.FB.width===n.metadata.FB.width)||(!(!n.a4.video||n.a4.video.r4||t.metadata.video.QK===n.metadata.video.QK)||Mg(t.metadata.video.f4,t.metadata.video.v4)!==Mg(n.metadata.video.d4,n.metadata.video.l4)))}function fP(t){return t.a4.video&&(t={a4:Gx(t.a4),info:t.info,metadata:Nx(t.metadata,"wJ")}),t}function vP(t){return t.a4.audio&&(t={a4:zx(t.a4),info:t.info,metadata:Nx(t.metadata,"gJ")}),t}function dP(t){return Boolean(t&&(t.a4.audio||t.a4.video))}function lP(t,n,i){var r=Ig.Ky(n,t.S9),e=Ig.tm(i,t.b9),s=uP;return Y.be&&(r.uy(t.S9)?s=s.iw(t.S9)._y(t.B9):e.ey(t.b9)&&(s=s.iw(t.b9)._y(t.L9))),e._y(r).ey(s)}function _P(t,n){return y(n)?null:0===n?t:yP(t,t.a4.video.JH.slice(n))}function gP(t,n){return(t=t.slice(n.N9))[0]=_P(t[0],n.C9),t}function wP(t,n){var i={info:t.info,a4:{audio:Gx(t.a4).audio,video:null,v3:t.a4.v3},metadata:null},r=i.a4.audio;r.JH=n;var e=n[0].Ab;return r.S3=e.l3,r.E3=r.S3.ty(),mP(r,i.a4.v3,r.T3),Ix(i,t.metadata.size),i.metadata=Nx(i.metadata,"wJ"),i}function yP(t,n){var i={info:t.info,a4:{audio:null,video:zx(t.a4).video,v3:t.a4.v3},metadata:null},r=i.a4.video;r.JH=n;var e=n[0].Ab;r.S3=e.l3,r.E3=r.S3.ty();var s=n[n.length-1].Ab.j3;return mP(r,i.a4.v3,s),Ix(i,t.metadata.size),i.metadata=Nx(i.metadata,"gJ"),i}function mP(t,n,i){for(var r=Ig.cm,e=Ig.cm,s=Ig.fm,u=Ig.fm,o=0,h=t.JH;o<h.length;o++){var a=h[o].Ab;r=Ig.tm(a.h4,r),e=Ig.tm(a.o4,e),s=Ig.Ky(a.h4,s),u=Ig.Ky(a.o4,u)}t.R3=e,t.I3=r,t.N3=u,t.C3=s,t.A3=Ig.Ky(Fg(t.S3,n),Ig.Ty),t.D3=Ug(t.N3,i),t.O3=Ug(t.C3,i),t.m3=Mg(t.D3,t.R3).ty(),t.duration=t.m3}function kP(t,n,i){if(_D(i)){var r="gJ"===t?i.p5:i.b5;return Bg(r)||(r=i.XZ),n.V2(i,r)}return i&&n.M2(i)}function pP(t,n,i){if(_D(i)){var r="gJ"===t?i.S5:i.I5;return Bg(r)||(r=i.XZ),n.V2(i,r)}return i&&n.M2(i).iw("gJ"===t?function(t){return _D(t)?t.WZ||Ig.Ty:t&&Ig.hm(t.duration)||Ig.Ty}(i):function(t){return _D(t)?t.qZ||Ig.Ty:t&&Ig.hm(t.duration)||Ig.Ty}(i))}function AP(t,n){return"gJ"===t?n.metadata.audio:n.metadata.video}function bP(t,n,i){return n.V2(i.info,AP(t,i).f4)}function TP(t,n){var i=t.C2(n.ty());if(-1!==i){var r=Ig.hm(t.end(i));if(n._y(r).uy(Ig.hm(eP)))return r}return Ig.am}function EP(t,n,i){var r=t.R2(n.ty(),i.ty());if(-1!==r)for(var e=t.lZ(r),s=e.length-1;s>=0;s--)for(var u=e[s],o=u.Lp.lZ.length-1;o>=0;o--){var h=u.Lp.lZ[o];if(n._y(Ig.hm(h.QR)).ay().uy(i))return Ig.hm(h.QR);if(n._y(Ig.hm(h.GR)).ay().uy(i))return Ig.hm(h.GR)}return Ig.am}function SP(t,n){var i;if(n<0)i=t.JH.slice(-n);else{0;var r=new ux,e=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.L3,t.X3);r.Z2(e,0,e.length),i=t.JH.slice();for(var s=0;s<n;s++){var u=i[0].Ab,o=r.lh(te({},r.Ab,{l3:Mg(u.l3,t.T3),d3:u.d3-t.T3.ty(),h4:Mg(u.h4,t.T3),o4:Mg(u.o4,t.T3)}));i.unshift(o)}}return i}function RP(t,n){var i=t[0].Ab,r=t.slice();return r[0]=t[0].lh(te({},i,{l3:Ig.Ky(Ig.Ty,i.l3._y(n)),d3:_.max(i.d3-n.ty(),0),h4:Ig.Ky(Ig.Ty,i.h4._y(n)),Y3:_.max(i.Y3-n.ty(),0),o4:Ig.Ky(Ig.Ty,i.o4._y(n)),Q3:_.max(i.Q3-n.ty(),0),j3:Ig.Ky(Ig.Ty,i.j3.iw(n)),V_:_.max(0,i.V_+n.ty())})),r}function IP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.lZ(r),s=t.lZ(r+1);if(e.length&&s.length&&Ig.hm(e[0].GR).uy(n)&&Ig.hm(s[s.length-1].QR).ey(i)&&s[0].Lp.lZ[0].gh.c4.yZ)return uP.Wy(5)}return t.rw(n.ty())?uP:Ig.Ty}function NP(t){return new LP(t.Yf,t.Os)}var CP,DP,OP,xP,PP,BP,LP=function(){function t(t,n){this.Yf=void 0,this.H9=void 0,this.H9=n,this.Yf=t}return t.prototype.V9=function(t){lO(t)},M(t,[{key:"Os",get:function(){return this.H9}},{key:"X9",get:function(){return dO(_O(this.H9,this.Yf))}}]),t}(),MP=function(){function t(t,n,i){this.HZ=void 0,this.HZ="data:"+t+";"+n+","+i}return t.prototype.V9=function(t){},M(t,[{key:"X9",get:function(){return this.HZ}}]),t}();!function(t){t.z2="W9",t.k_="q9",t.z9="G9",t.j9="Q9",t.Y9="Z9"}(CP||(CP={})),function(t){t.J9="K9",t.t8="n8"}(DP||(DP={})),function(t){t.i8="audio/mp4",t.r8="audio/mpeg",t.e8="video/mp4"}(OP||(OP={})),function(t){t[t.s8=0]="s8",t[t.u8=1]="u8",t[t.n_=2]="n_",t[t.o8=3]="o8"}(xP||(xP={})),function(t){t.h8="a8",t.c8="f8"}(PP||(PP={})),function(t){t.v8="k9",t.c8="d8"}(BP||(BP={}));var UP=function(){function t(t,n,i,r,e,s,u,o,h,a){this.l8=void 0,this._8=void 0,this.Ip=void 0,this.Yf=void 0,this.d9=void 0,this.g8=void 0,this.lb=void 0,this.w8=void 0,this.y8=void 0,this.VD=void 0,this.m8=xP.s8,this._8=t,this.l8=n,this.Ip=i,this.Yf=r,this.d9=e,this.g8=s,this.lb=u,this.w8=o,this.y8=h,this.VD=a}return t.k8=function(t,n,i,r,e,s,u,o,h,a){switch(n){case PP.h8:return new FP(t,i,r,e,s,u,o,h,a);case PP.c8:return new HP(t,i,r,e,s,u,o,h,a)}},t}(),FP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,PP.h8,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.p8=function(){return{A8:"b8",T8:this.l8,E8:CP.Y9,S8:DP.J9,R8:this.Yf,I8:ox(this.d9,[]),N8:this.y8,C8:this.w8.km(),D8:this.g8.km(),O8:this.lb.km()}},n}(UP),HP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,PP.c8,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.p8=function(){return{A8:"b8",T8:this.l8,E8:this.Yf===OP.r8?CP.z2:CP.k_,S8:Qy?DP.t8:DP.J9,R8:this.Yf,I8:ox(this.d9,[])}},n}(UP),VP=function(){function t(){this.x8=void 0,this.P8=void 0,this.x8=ie(),this.P8=1}var n=t.prototype;return n.B8=function(){return(this.P8++).toString()},n.k8=function(t,n,i,r,e,s,u,o,h){var a=this.B8(),c=UP.k8(a,n,t,i,r,e,s,u,o,h);return this.L8(c),c},n.M8=function(t){return this.x8.get(t)},n.L8=function(t){this.x8.set(t.l8,t)},n.U8=function(t){this.x8.delete(t)},n.F8=function(t){this.M8(t).m8=xP.u8,this.U8(t)},n.H8=function(t,n){var i=this.M8(t).VD;this.M8(t).m8=xP.n_,this.U8(t),i(n)},n.V8=function(t,n){var i=this.M8(t).VD;this.M8(t).m8=xP.o8,this.U8(t),i(null,n)},n.hh=function(t){var n=[];this.x8.forEach(function(i,r){t&&i.Ip!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.F8(r)}},t}();var XP,WP=function(){function t(n){var i=this;this.x8=void 0,this.X8=void 0,this.ya=void 0,this.W8=void 0,this.q8=function(t){var n=t.data.z8,r=t.data.G8,e=t.data.j8,s=t.data.Q8,u=i.x8.M8(r);if(u&&u.m8!==xP.u8)switch(n){case"Y8":i.Z8(u,e);break;case"J8":i.x8.H8(r,new QC(jC.MY,{code:s}));break;default:0}},this.K8=function(t){0},this.x8=new VP,this.ya=n,this.W8=t.t7(n.p9),this.n7()}t.t7=function(t){switch(t){case BP.v8:return PP.h8;case BP.c8:return PP.c8}};var n=t.prototype;return n.b8=function(t,n,i,r,e,s,u){var o={metadata:null,gJ:null,wJ:null,Jo:null};i&&i.length||u(new QC(jC.MY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.QY+1,f=h.info.UJ,v=h.metadata,d=v.audio.w3?v.audio:void 0,l=v.video.w3?v.video:void 0,_=a.metadata,g=_.audio.w3?_.audio:void 0,w=_.video.w3?_.video:void 0,m=r.iw(Fg(v.v4,v.f4)),k=r.iw(Fg(v.f4,v.f4)),p=r.iw(d?Fg(d.v4,v.f4):Ig.Ty),A=r.iw(d?Fg(d.f4,v.f4):Ig.Ty),b=r.iw(l?Fg(l.v4,v.f4):Ig.Ty),T=r.iw(l?Fg(l.f4,v.f4):Ig.Ty),E=r.iw(Fg(_.l4,v.f4)),S=r.iw(Fg(_.d4,v.f4)),R=r.iw(g?Fg(g.l4,v.f4):Ig.Ty),I=r.iw(g?Fg(g.d4,v.f4):Ig.Ty),N=r.iw(w?Fg(w.l4,v.f4):Ig.Ty),C=r.iw(w?Fg(w.d4,v.f4):Ig.Ty);p=Ig.Ky(Ig.Ty,p),b=Ig.Ky(Ig.Ty,b);var D,O,x,P,B,L=fD.K_(n.JJ)?Ig.hm(100079991719):Ig.hm(n.V_),M=function(t){for(var n=t[0].a4,i=n,r=1;r<t.length;r++){if(!(n=qx(i,t[r-1].a4,t[r].a4,t[r].info.g4)))return i;i=n}return i}(i);if(M.audio){O=(D=Gx(M)).audio.duration;x=this.x8.k8(t,this.W8,"mp3"===D.audio.w3?OP.r8:OP.i8,D,p,A,L,c,function(t,n){if(o.Jo=o.Jo||t,o.gJ=n,D=!0,P)return u(o.Jo,o)}),this.i7(x),D=null}else D=!0;if(M.video){B=(P=zx(M)).video.duration;x=this.x8.k8(t,this.W8,OP.e8,P,b,T,L,c,function(t,n){if(o.Jo=o.Jo||t,o.wJ=n,P=!0,D)return u(o.Jo,o)}),this.i7(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=Ig.hm(O),W=Ig.hm(B),q=h.a4.audio&&h.a4.video?Ig.tm(h.a4.audio.A3.iw(X),h.a4.video.A3.iw(W)):h.a4.audio?h.a4.audio.A3.iw(X):h.a4.video?h.a4.video.A3.iw(W):Ig.Ty;if(q.Ny()&&_t("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=Ex(M);if(y(z))_t("Segment without keyframes detected",h.info.uri),U=Ig.am,F=Ig.am,H=q.Wy(1.5);else{var G=M.video.JH[z].Ab;U=r.iw(Fg(G.h4,v.f4)),F=r.iw(Fg(G.o4,v.f4)),H=Ig.hm(G.Q3-h.metadata.start)}}else U=p,F=A,H=Ig.Ty;var j=Ig.Ky(H,Ig.Ky(h.a4.audio&&h.a4.audio.A3||Ig.Ty,h.a4.video&&h.a4.video.A3||Ig.Ty));o.metadata={QY:c,GR:r.ty(),r7:m.ty(),P9:k.ty(),L9:E.ty(),b9:S.ty(),C5:U.ty(),X2:F.ty(),I9:Ig.tm(r,e).ty(),V_:q.ty(),lZ:V,_h:j.ty(),gJ:d&&{GR:A.ty(),r7:p.ty(),QR:I.ty(),L9:R.ty(),V_:O,w3:d.w3},wJ:l&&{GR:T.ty(),r7:b.ty(),QR:C.ty(),L9:N.ty(),V_:B,w3:l.w3,du:v.FB.width,Dp:v.FB.height},p$:v.p$,g4:v.g4,UJ:f,_4:s},i=null,M=null},n.Fv=function(){this.x8.hh(),this.X8&&(this.X8.terminate(),this.X8=null)},n.Io=function(t){this.x8.hh(t)},n.Z8=function(t,n){switch(t._8){case PP.h8:var i=n;this.x8.V8(t.l8,{initializer:NP(i.e7),m4s:NP(i.s7)});break;case PP.c8:var r=n;this.x8.V8(t.l8,(e=r,Qy?new MP(e.Yf,"base64",e.Os):new LP(e.Yf,e.Os)));break;default:0}var e},n.n7=function(){this.X8||(this.X8=EO(this.ya.libraryLocation,"theoplayer.p.js"),this.X8.addEventListener("message",this.q8),this.X8.addEventListener("error",this.K8))},n.i7=function(t){this.X8||this.n7(),this.X8.postMessage(t.p8())},t}();function qP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function zP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function GP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function jP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],s=void 0;s=void 0!==r[6]?Gu(r[6]):void 0!==r[7]?{width:w(r[8]),height:w(r[10])}:void 0!==r[12]?w(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=s,r=i.exec(t)}return n}var QP,YP="x-";function ZP(t,n,i,r){var e=t.split("@"),s=qP(n,i),u=g(e[0],10),o=e[1]?g(e[1],10):r;return{HZ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},VZ:{GR:o,QR:o+u-1}}}function JP(t,n,i){var r,e,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],y=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new QC(jC.LY,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),zP(T,"#EXT")){if(zP(T,"#EXTINF"))c=(c=w(GP(T)))||.5;else if(zP(T,"#EXT-X-BYTERANGE"))f=GP(T);else if(zP(T,"#EXT-X-KEY"))(s=jP(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=qP(s.uri,i);else if(zP(T,"#EXT-X-DISCONTINUITY")&&!zP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(zP(T,"#EXT-X-STREAM-INF"))(e=jP(T)).QY=a++,(b+=1)<p.length&&(e.uri=qP(p[b].trim(),i),A.streams.push(e));else if(zP(T,"#EXT-X-MEDIA")&&!zP(T,"#EXT-X-MEDIA-"))(u=jP(T)).uri&&(u.uri=qP(u.uri,i)),A.media.push(u);else if(zP(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(GP(T));else if(zP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.aZ=!0,A.cZ=g(GP(T),10);else if(zP(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(GP(T),10),A.u7=!0,A.o7=h;else if(zP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=g(GP(T),10),A.hasTargetDuration=!0;else if(zP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(zP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(zP(T,"#EXT-X-MAP")){var E=jP(T),S=E.uri,R=E.byterange;o=R?ZP(R,S,i,0):qP(S,i)}else if(zP(T,"#EXT-X-VERSION"))A.version=g(GP(T),10);else if(zP(T,"#EXT-X-DATERANGE")){var I=$P(T);A.dateRanges.push(I)}}else if(zP(T,"#"));else if(0!==T.length){f?k=(r=ZP(f,T,i,k)).VZ.QR+1:r=qP(T,i);var N,C=s&&te({},s);s&&void 0===s.iv&&(N=h%4294967295,C.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,QY:h,yZ:d,_Z:v,key:C,jJ:y,GJ:l,_4:!1,h7:o}),h+=1,c=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1]._4=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];e+=o.duration,i=_.min(i,o.duration),r=_.max(r,o.duration)}return{a7:i,c7:r,f7:n?t.fragments[n-1].duration:0,v7:e/n,d7:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.QY-n.QY})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ye(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,s=t.media;e<s.length;e++)s[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],s=0;s<r;s++)if(i=t[s],n.call(e,i,s,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function $P(t){var n=jP(t),i=function(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i];Ne(e,YP)&&(n[e.substr(YP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{zl:n.id,NZ:n.class,aR:r,mZ:e,V_:n.duration,CZ:n["planned-duration"],DZ:s,OZ:i,xZ:u,PZ:o,BZ:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(QP||(QP={}));(XP={})[QP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",XP[QP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",XP[QP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",XP[QP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",XP[QP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",XP[QP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",XP[QP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var KP=function(){function t(){}return t.prototype.tp=function(t,n,i){return JP(t,n,i)},t}(),tB=3,nB=function(){function t(t,n,i){void 0===i&&(i=tB),this.Ub=t,this.l7=n,this._7=i}var n=t.prototype;return n.g7=function(t,n,i){return this.w7(t,n,!0,i)},n.y7=function(t,n,i){return this.w7(t,n,!1,i)},n.w7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this._7)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,ys(u,e);case 6:u<1e4&&(u=_.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Cf({_v:a,cv:Yo.$e,av:i,Lv:this.l7,Ov:Ef.GET,so:Sf.yv,Pv:Rf.wv,Do:e}),t.next=14,this.Ub.dv(c);case 14:return f=t.sent,t.next=17,f.zf(e);case 17:return v=t.sent,t.abrupt("return",{m7:v,k7:a,lv:f.lv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),iB=function(){function t(t,n,i,r){this.p7=t,this.A7=n,this.b7=i,this.T7=r}var n=t.prototype;return n.E7=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.p7.q0(n.map(uO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.S7=function(t,n){var i=oO(t,n);return this.A7.eh(i)},n.R7=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=oO(n,i),t.next=3,this.b7.sh(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.KP=function(t){return this.T7.sh(t)},t}(),rB=function(){function t(t){this.I7=void 0,this.I7=t}return t.prototype.N7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),u=0,o=this.I7;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.N7(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),hs(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),eB=function(){function t(t){this.C7=t}return t.prototype.N7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C7.E7(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{m7:s.data,k7:s.locationURL,lv:s.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),sB=function(){function t(t){this.D7=t}return t.prototype.N7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.D7.g7(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.D7.y7(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function uB(t,n){return new rB([new eB(n),new sB(t)])}var oB=function(){function t(t,n,i){this.O7=t,this.x7=n,this.P7=i}var n=t.prototype;return n.N7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.O7.N7(n,i,r,e);case 3:return s=t.sent,t.next=6,this.B7(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.B7=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x7.X0({key:uO(n.k7),locationURL:Pf(n.k7),responseURL:Pf(n.lv),data:n.m7,references:[this.P7.zl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function hB(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var aB=function(){function t(t,n,i){this.ya=void 0,this.Ub=void 0,this.O7=void 0,this.L7=void 0,this.L7=new KP,this.ya=t,this.Ub=i;var r=this.ya&&this.ya.crossOrigin===ll.T_,e=new nB(i,r,1);this.O7=uB(e,new iB(sO.Qe.$0,sO.Qe.Z0,sO.Qe.J0,sO.Qe.n1))}var n=t.prototype;return n.Lh=function(t,n,i){var r=this.Bd(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Bd=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.O7.N7([n],i);case 3:return r=t.sent,n=r.lv,e=this.L7.tp(r.m7,n,hB(n)),t.abrupt("return",{rg:e,M7:r.m7});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Vf)){t.next=16;break}throw new QC(jC.PY,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Xf)){t.next=24;break}if(0!==t.t0.$v.hv){t.next=21;break}throw new QC(jC.BY,{code:"MFL3900",uri:n,status:t.t0.$v.hv});case 21:throw new QC(jC.PY,{code:"MFL4100",uri:n,status:t.t0.$v.hv});case 22:t.next=25;break;case 24:throw new QC(jC.n_,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),cB=function(t){function n(n,i){var r;return(r=t.call(this)||this).U7=void 0,r.F7=void 0,r.H7=void 0,r.V7=void 0,r.X7=void 0,r.q$=void 0,r.B$=void 0,r._S=void 0,r.U7=new aB(i||{},sO.Qe.$0,n),r}F(n,t);var i=n.prototype;return i.Ag=function(){void 0!==this.V7&&(a(this.V7),this.V7=void 0),this.H7&&this.H7.dv&&(this.H7=void 0)},i.W7=function(t){if(this.B$)for(var n=0,i=this.B$.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.q7=function(t,n,i,r){var e,s=t.targetDuration,u=t.metadata;return e=t.fragments.length&&u&&(!s||u.d7<3*s)?1e3*u.a7:s?1e3*s:1e4,i===n&&(e/=2),e=_.max(e-r,1e3)},i.z7=function(t){if(t.fragments.length>0)for(var n=this.W7(t.fragments[0].uri),i=n&&n.QY||0,r=0,e=t.fragments;r<e.length;r++){e[r].QY+=i}},i.G7=function(t,i,r,e,s,u){var o=this;if(this.H7&&r===this.H7.dv){var a=Gb()-i;if(e){this.H7=void 0,this._S=e;var c={type:"Jo",Jo:e};return this.dispatchEvent(c),s&&s(e)}this.H7=void 0;var f=u.rg,v=u.M7;f.u7||this.z7(f),t===this.F7&&(this.q$=f),this.B$=f;var d=n.q7(f,v,this.X7,a);f.live?f.isMasterPlaylist||(this.V7=h(function(){return o.Bd(t)},d)):this.Ag(),s&&s(e,u);var l={type:"j7",manifest:f,manifestText:v};this.dispatchEvent(l),this.X7=v}},i.Bd=function(t,n){var i=this,r=Gb(),e=t;a(this.V7),this.V7=void 0;var s=this.U7.Lh(e,{},function(e,u){return i.G7(t,r,s,e,n,u)});this.H7={dv:s,_v:t}},i.GR=function(t,n){var i,r,e,s=this,u=!1;(e=t||(this.B$?this.B$.uri:this.F7))&&(this.H7&&this.H7._v===t?n&&(i=function(t){s.removeEventListener("Jo",r),s.removeEventListener("j7",i);var e=t;n(null,{rg:e.manifest,M7:e.manifestText})},r=function(t){s.removeEventListener("Jo",r),s.removeEventListener("j7",i),n(t.Jo)},this.addEventListener("Jo",r),this.addEventListener("j7",i)):(this.Ag(),this.Bd(e,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Q7=function(t){t&&(this.X7=void 0,this.q$&&this.q$.isMasterPlaylist?this.GR(t.uri):this.B$&&!this.Y7()&&this.GR(this.B$.uri))},i.Fv=function(){this.Ag(),this.Ho()},i.Y7=function(){return!!this.H7||!!this.V7||!(!this.B$||this.B$.live)},M(n,[{key:"rg",get:function(){return this.B$}},{key:"mK",get:function(){return this.q$}},{key:"D0",get:function(){return this.F7},set:function(t){this.Ag(),this.X7=void 0,this.q$=void 0,this.B$=void 0,this.F7=t}}]),n}(zC),fB=function(t){function n(n,i){var r;return(r=t.call(this)||this).ya=void 0,r.Il=void 0,r.F7=void 0,r.Z7=void 0,r.Ub=void 0,r.ya=i,r.Il=ie(),r.F7=null,r.Z7=null,r.Ub=n,r}F(n,t);var i=n.prototype;return i.GR=function(){var t=this,n=this.D0;if(n&&!this.Z7){var i=new cB(this.Ub,this.ya);i.addEventListener("Jo",function(i){var r=i.Jo;t.dispatchEvent({type:"J7",Jo:r}),t.Il.has(n)&&t.dispatchEvent({type:"Jo",Jo:r,K7:n})}),i.addEventListener("j7",function n(r){i.removeEventListener("j7",n),i===t.Z7&&t.dispatchEvent({type:"ttt",rg:r.manifest})}),i.addEventListener("j7",function(i){t.Il.has(n)&&t.dispatchEvent({type:n,rg:i.manifest})}),this.Z7=i,i.GR(n)}},i.ntt=function(t,n){this.itt(t),this.rtt(n)},i.rtt=function(t){var n,i=this;this.Il.has(t)||(t===this.D0?(this.GR(),(n=this.Z7).rg&&this.dispatchEvent({type:t,rg:n.rg},!0)):((n=new cB(this.Ub,this.ya)).addEventListener("Jo",function(n){i.dispatchEvent({type:n.type,Jo:n.Jo,K7:t})}),n.addEventListener("j7",function(n){i.dispatchEvent({type:t,rg:n.manifest})})),this.Il.set(t,n))},i.itt=function(t){if(this.Il.has(t)){var n=this.Il.get(t);n!==this.Z7&&n.Fv(),this.Il.delete(t),this.removeEventListener(t)}},i.ett=function(t){if(this.Il.has(t)){var n=this.Il.get(t);n.Y7()||n.GR(t)}},i.stt=function(){var t=this;this.Il.forEach(function(n,i){return t.ett(i)})},i.xl=function(){this.Il.forEach(function(t){return t.Fv()}),this.Il.clear(),this.Z7&&(this.Z7.Fv(),this.Z7=null),this.F7=null},M(n,[{key:"D0",get:function(){return this.Z7&&this.Z7.rg?this.Z7.rg.uri:this.F7},set:function(t){this.xl(),this.F7=t}}]),n}(zC),vB=function(t){function n(){var n;return(n=t.call(this)||this).utt=NaN,n}F(n,t);var i=n.prototype;return i.ott=function(t,n){for(var i=t.length?_.min.apply(_,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e]._h=Ig.hm(t[e]||0)}var s=t.length?_.max.apply(_,t):0;this.utt=s,this.dispatchEvent({type:"htt",att:s})},i.ctt=function(t,n){var i=[];if(n.length<2)return this.ott(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var s=n[e];if(!s.ftt(t))return!1;i[e]=s._h.iw(s.dtt(r,t)).ty()}return this.ott(i,n),!0},i.ltt=function(t,n){return this.ctt(t._Z,n)},i._tt=function(t,n){if(n.length<2)return this.ott([],n),!0;var i=n[0].gtt(t);if(y(i))return!1;for(var r=0;r<n.length;r++){if(n[r].gtt(t)!==i)return!1}return this.ctt(i,n)},i.xl=function(){this.utt=NaN},i.Fv=function(){this.Ho()},M(n,[{key:"att",get:function(){return this.utt}}]),n}(zC),dB=.001;function lB(t){return t.metadata.UJ.zl+"wtt"+t.metadata.QY+"ytt"+t.metadata.GR+"mtt"+t.metadata.V_}var _B=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.OQ=function(t,i){return new n(t,i)},i.L2=function(t,n){return!1},n}(YO);function gB(t,n){var i=new _B([n]);return t._y(i).fI(i)}function wB(t,n){var i=function(t,n){var i=t.P9,r=t.X2;if(!y(r)&&r===i)return!0;return!t.g4&&!!n&&n.Lp.UJ===t.UJ&&i>=n.QR&&i<=n.QR+dB}(t,n);return i||!y(t.X2)?{GR:i?t.P9:t.X2,QR:t.b9,Lp:t}:null}var yB=function(t){function n(n,i){var r;return(r=t.call(this)||this).ktt=void 0,r.wb=void 0,r.ptt=null,r.Att=function(){return r.btt()},r.Ttt=[],r.Vg=[],r.Ett=new _B([]),r.Stt=null,r.ktt=n,r.wb=i,r}F(n,t);var i=n.prototype;return i.Rtt=function(t){var n=t.metadata,i=n&&n.lZ;if(!i||!i.length)return E.resolve();for(var r=[],e=n.GR,s=0;s<i.length;s++){var u=i[s],o=e+u.duration;r.push({GR:e,V_:u.duration,QR:o,QY:u.QY,gh:u}),e=o}var h={zl:lB(t),GR:t.metadata.GR,r7:n.r7,P9:n.P9,Itt:i[0].c4.jJ?new Date(i[0].c4.jJ.getTime()):null,V_:t.metadata.V_,QR:t.metadata.GR+t.metadata.V_,L9:n.L9,b9:n.b9,C5:n.C5,X2:n.X2,lZ:r,UJ:t.metadata.UJ,F9:t.metadata._4,g4:n.g4};return this.Ttt.push(h),this.Ntt(this.ktt.Rtt(t),h)},i.Ntt=function(t,n){var i=this;return t.then(function(){if(Qe(i.Ttt,n)){i.Vg.push(n);var t=i.Stt,r=wB(n,t);r&&(i.Ett=gB(i.Ett,r)),i.Stt=r}i.btt(),i.Ctt(n)}).catch(function(){Qe(i.Ttt,n)})},i.Ctt=function(t){var n=t.lZ[0],i=t.lZ[t.lZ.length-1],r=t.UJ,e=r.wZ(n.QY-1),s=fD.K_(r.JJ);if(!e||s){var u=r.wZ(n.QY),o=this.wb.M2(u).ty(),h=t.r7,a=_.min(o,h);a<n.GR&&this.ktt.uF(a,n.GR)}for(var c=0,f=this.Vg;c<f.length;c++){var v=f[c];if(v.UJ===t.UJ){var d=v.lZ[0],l=v.lZ[v.lZ.length-1];l.QY+1===n.QY&&l.QR!==n.GR?this.ktt.uF(l.QR,n.GR):d.QY-1===i.QY&&i.QR!==d.GR&&this.ktt.uF(i.QR,d.GR)}}},i.hh=function(){this.Ttt.length=0,this.Vg.length=0,this.Ett=new _B([]),this.Stt=null},i.btt=function(){if(this.Dtt&&!this.Dtt.bO){var t=this.Dtt.Vg||CO;t=function(t,n){for(var i=MO(t),r=0;r<i.length;r++){var e=i[r],s=n.C2(e.QR,dB);if(s>=0){var u=n.lZ(s),o=u[u.length-1],h=o.Lp.L9,a=o.Lp.b9;h-dB<e.QR&&e.QR<a&&(e.QR=a)}}return new NO(i)}(t,this.Ett),this.Vg=this.Vg.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.GR,n.QR)>=0}),this.Ett=this.Ett.sI(t)}},i.Fv=function(){this.Ho(),this.hh(),this.Dtt=null},i.Ott=function(t){var n=this.xtt(t);if(n)for(var i=0,r=n.lZ;i<r.length;i++){var e=r[i];if(e.GR<=t&&e.QR>t)return e}return null},i.xtt=function(t){for(var n=0,i=this.Vg;n<i.length;n++){var r=i[n];if(r.GR<=t&&r.QR>t)return r}return null},i.Ptt=function(t){for(var n=0,i=this.Vg;n<i.length;n++){var r=i[n];if(r.UJ.zl===t.UJ.zl)for(var e=0,s=r.lZ;e<s.length;e++){if(s[e].QY===t.QY)return!0}}return!1},i.Btt=function(){return this.Ltt()[0]},i.Ltt=function(){for(var t=this.Ett,n=this.Stt,i=0,r=this.Ttt;i<r.length;i++){var e=wB(r[i],n);e&&(t=gB(t,e)),n=e}return[t,n]},M(n,[{key:"Bl",get:function(){return this.Ttt.length+this.Vg.length}},{key:"Dtt",get:function(){return this.ptt},set:function(t){this.ptt&&this.ptt.removeEventListener("updateend",this.Att),this.ptt=t,this.ptt&&(this.ptt.addEventListener("updateend",this.Att),this.btt())}}]),n}(zC);function mB(t,n,i){!function(t,n,i){for(var r=i.c3,e=[],s=0;s<r.length;s++)for(var u=r[s],o=n.V2(t,u.Ab._3).ty(),h=0,a=u.JH;h<a.length;h++){var c=a[h];e.push(new TI(o,c))}i.s_=e}(t,n,i)}function kB(t,n){return t&&n?_.abs(t.QY-n.QY)<=1?Ig.Ty:Ig.Ay(n.wp-t.wp,1e3):Ig.Ty}var pB=function(){function t(t,n,i,r,e){this.yZ=void 0,this.N9=void 0,this.Mtt=void 0,this.Utt=void 0,this.so=void 0,this.K6=void 0,this._h=Ig.Ty,this.Ftt=!1,this.Htt=null,this.yZ=t,this.N9=t.UJ.lZ.JY(n.QY),this.K6=this.N9,this.Mtt=i,this.Utt=r,this.so=e||null}var n=t.prototype;return n.Vtt=function(){if(this.Htt)return this.Htt;var t=this.Xtt();return(t.Wtt||t.Jo)&&(this.Htt=t),t},n.qtt=function(){return{Wtt:!1,Jo:!1,Ftt:this.Ftt,pw:Ig.am}},n.Wtt=function(t){return t.gy()?{Wtt:!1,Jo:!0,Ftt:this.Ftt,pw:Ig.am}:{Wtt:!0,Jo:!1,Ftt:this.Ftt,pw:t}},t}();function AB(t,n){switch(n){case"gJ":return Bg(t.p5)?t.p5:t.XZ;case"wJ":return Bg(t.b5)?t.b5:t.XZ;default:return t.XZ}}var bB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Xtt=function(){var t=this.yZ,n=t.UJ,i=n.lZ,r=i.$Y(this.K6);if(t.rw(r)){if(this.Utt&&t.ztt&&_D(r)){var e=AB(r,this.so),s=t.Gtt(e,r.jtt);return this.Wtt(s._y(this._h))}if(this.Mtt&&r===t.Qtt){var u=t.Aw._y(gD(r));return this.Wtt(u._y(this._h))}this.K6+=1;var o=kB(r,i.$Y(this.K6));return this.Ftt=this.Ftt||o.ny(Ig.Ty),this._h=this._h.iw(o).iw(gD(r)),this.qtt()}return this.Wtt(Ig.am)},n}(pB),TB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Xtt=function(){var t=this.yZ,n=t.UJ,i=n.lZ,r=i.$Y(this.K6);if(t.rw(r)){if(this.Utt&&t.ztt&&_D(r)){var e=AB(r,this.so),s=t.Gtt(e,r.jtt);return this.Wtt(s.iw(this._h))}if(this.Mtt&&r===t.Ytt){var u=t.pw;return this.Wtt(u.iw(this._h))}this.K6-=1;var o=i.$Y(this.K6),h=kB(o,r);return this.Ftt=this.Ftt||h.ny(Ig.Ty),this._h=this._h.iw(h).iw(gD(o)),this.qtt()}return this.Wtt(Ig.am)},n}(pB);var EB=function(){function t(t,n,i){this.QY=void 0,this.UJ=void 0,this.pw=Ig.Ty,this.Aw=Ig.Ty,this.Ytt=null,this.Qtt=null,this.Ztt=!1,this.Jtt=Ig.am,this.$tt=Ig.am,this.Ktt=!1,this.tnt=void 0,this.QY=t,this.UJ=n,this.tnt=i}var n=t.prototype;return n.rw=function(t){return t&&t._Z===this.QY},n.Gtt=function(t,n){var i=t._y(this.Jtt).iw(this.$tt);if(void 0!==n){var r=i._y(n);if(r.ay().ny(Pg)){var e=_.round(r.ty()/xg.ty());i=i._y(xg.Wy(e))}}return i},n.nnt=function(t,n){var i=this.int(t);this.rnt(n);var r=this.ent();return i||r||t===this.Qtt&&this.snt()},n.int=function(t){if(this.ztt&&Ng(t.E5,this.Jtt)>=0)return!1;var n;if(n=this.ztt?this.unt(t,!0,!1):this.ont(t,!0,!1),this.Jtt.gy())this.Jtt=t.E5;else{var i=Fg(t.E5,this.Jtt);this.Jtt=this.Jtt.iw(i)}return this.$tt=n,!0},n.rnt=function(t){if(!t)return!1;if(this.tnt)return!1;if(!this.hnt())return!1;var n=this.UJ.lZ,i=this.Ytt,r=n.KY(i.QY-1);if(_D(i)&&_D(r)){var e=function(t,n,i){var r=t.V2(n,n.d4);if(!Bg(i.T5)||!Bg(i.b5))return r;var e,s=Bg(i.p5),u=Mg(i.b5,i.T5);if(s){var o=Lg(Mg(i.b5,i.p5),Ig.Ty);e=Lg(Mg(u,o),Ig.Ty)}else e=u;return Mg(r,e)}(t,r,i);return this.Ktt=!0,this.ant(e)}return!1},n.ant=function(t){if(t.Hw(this.pw))return!1;var n=t._y(this.pw);return this.pw=t,this.Aw=this.Aw.iw(n),this.$tt=this.$tt.iw(n),!0},n.ent=function(){if(this.tnt)return!1;var t=this.Qtt;if(!t)return!1;var n,i=new TB(this,t,!1,!0);do{n=i.Vtt()}while(!n.Wtt&&!n.Jo&&!n.Ftt);if(n.Wtt&&!n.Ftt){var r=n.pw.iw(gD(t));if(!r.Hw(this.Aw))return this.Aw=r,!0}return!1},n.cnt=function(t){var n=!1;return n=this.rnt(t)||n,n=this.fnt(t)||n},n.fnt=function(t){if(!t)return!1;if(this.Ktt)return!1;var n=t.Aw.iw(kB(t.Qtt,this.Ytt));return this.ant(n)},n.vnt=function(t){var n=!1;return(!this.Ytt||this.Ytt.QY>t.QY)&&(this.pw=this.pw._y(kB(t,this.Ytt)),this.Ytt=t,n=!0),(!this.Qtt||this.Qtt.QY<t.QY)&&(this.Aw=this.Aw.iw(kB(this.Qtt,t)).iw(gD(t)),this.Qtt=t,n=!0),n},n.dnt=function(t){if(!this.ztt||!t.ztt)return Ig.am;if(this.Jtt.uy(t.Jtt)){var n=this.Gtt(t.Jtt,t.$tt);return t.$tt._y(n)}return t.Gtt(this.Jtt,this.$tt)._y(this.$tt)},n.hnt=function(){var t=this.Ytt;return!!t&&function(t,n){return n._Z===t&&n.yZ}(this.QY,t)},n.snt=function(){var t=this.Qtt;if(!t)return!1;var n=this.UJ.lZ.KY(t.QY+1);return function(t,n,i){return n._Z===t&&(!i||i.yZ)}(this.QY,t,n)},n.lnt=function(t,n){return this.unt(t,!0,!0,n)},n.ont=function(t,n,i){if(!this.rw(t))return Ig.am;var r,e=new TB(this,t,n,i);do{r=e.Vtt()}while(!r.Wtt&&!r.Jo);if(!r.Wtt)return Ig.am;var s=r.pw;return s.hy(this.pw)?this.pw:s},n.unt=function(t,n,i,r){if(!this.rw(t))return Ig.am;var e,s,u,o,h,a=new bB(this,t,n,i,r),c=new TB(this,t,n,i,r);do{e=a.Vtt(),s=c.Vtt()}while(!(e.Wtt||s.Wtt||e.Jo&&s.Jo));if(s.Wtt)u=s,o=e,h=a;else{if(!e.Wtt)return Ig.am;u=e,o=s,h=c}if(u.pw.hy(this.pw)){for(;!o.Wtt&&!o.Jo;)o=h.Vtt();return o.Wtt?Ig.Ky(this.pw,o.pw):this.pw}if(u.Ftt){for(;!o.Ftt&&!o.Wtt&&!o.Jo;)o=h.Vtt();if(o.Wtt&&!o.Ftt&&this.pw.uy(o.pw))return o.pw}return u.pw},n.V2=function(t,n){return this.rw(t)&&this.ztt?this.Gtt(n,t.jtt):Ig.am},n.Ltt=function(){0},M(t,[{key:"ztt",get:function(){return!this.Jtt.gy()}}]),t}();function SB(t,n){return n.hy(t.pw)?fg.Jw:n.ey(t.Aw)?fg.$w:fg.Zw}var RB=function(){function t(){this._nt=new tD}var n=t.prototype;return n.KY=function(t){return this._nt.KY(t)},n.$Y=function(t){return this._nt.$Y(t)},n.gnt=function(t){var n=this._nt.JY(t);return n<0?null:this._nt.$Y(n-1)},n.Vtt=function(t){var n=this._nt.JY(t);return n<0?null:this._nt.$Y(n+1)},n.wnt=function(){return this._nt.$Y(0)},n.ynt=function(){var t=this._nt.Bl;return 0===t?null:this._nt.$Y(t-1)},n.mnt=function(t){var n=this._nt,i=this.ynt();if(i&&function(t,n){return t.pw.uy(n)&&n.hy(t.Aw)}(i,t))return i;var r=sR(this._nt.iZ(),t,I,SB);return n.$Y(r)},n.iw=function(t){var n=this._nt.iw(t);if(n&&!this.Vtt(t.QY)){t.Ztt=!0;var i=this.gnt(t.QY);i&&(i.Ztt=!1)}return n},n.Mh=function(t){var n=this._nt.Mh(t);if(n&&t.Ztt){t.Ztt=!1;var i=this.gnt(t.QY);i&&(i.Ztt=!0)}return n},n.sZ=function(t){this._nt.sZ(t)},n.Ltt=function(){},M(t,[{key:"Bl",get:function(){return this._nt.Bl}}]),t}();var IB=Ig.hm(10),NB=function(){function t(t,n,i){this.UJ=void 0,this.knt=!1,this.pnt=!1,this.Ant=new RB,this.bnt=Ig.Ty,this.Tnt=void 0,this.Ent=null,this.Snt=null,this.tnt=void 0,this.UJ=t,this.Tnt=n.liveOffset,this.tnt=i}var n=t.prototype;return n.Rnt=function(t){var n=this.UJ,i=t?t.fragments:null,r=n.lZ;if(!t||!i||!i.length)return!1;this.knt=!0;var e,s=!1;if(!this.Ant.Bl){var u=r.KY(i[0].QY)._Z,o=new EB(u,n,this.tnt);o.ant(this._h),this.Ant.iw(o),s=!0}if(this.Snt){var h=r.JY(this.Snt.QY);e=h<0?0:h+1}else e=0;for(var a=e,c=r.$Y(a),f=null,v=!1;c;){var d=c._Z;if(f&&f.QY===d||(f&&v&&this.Int(f),f=this.Ant.KY(d),s=s||v,v=!1),!f){f=new EB(d,n,this.tnt),this.Ant.iw(f);var l=this.Ant.gnt(d);f.cnt(l||void 0)}v=f.vnt(c)||v,c=r.$Y(++a)}return f&&v&&this.Int(f),(s=s||v)&&this.Nnt(),this.Ant.ynt()&&this.N$(n.lZ),this.Ent=r.KY(i[0].QY),this.Snt=r.KY(i[i.length-1].QY),s},n.nnt=function(t){var n=this.Ant.KY(t._Z);if(!n)return!1;this.pnt=!0;var i=this.Ant.gnt(n.QY),r=n.nnt(t,i);return r&&this.Int(n),r},n.Int=function(t){for(var n=t,i=this.Ant.Vtt(t.QY),r=!0;r&&i;)r=i.cnt(n),n=i,i=this.Ant.Vtt(i.QY)},n.Nnt=function(){for(var t=!1,n=this.Ant.wnt(),i=n&&this.Ant.Vtt(n.QY);n&&i;)n.Aw.ny(i.pw)&&(i.ant(n.Aw),t=!0),n=i,i=this.Ant.Vtt(n.QY);return t},n.Cnt=function(t){var n=this.Ant.ynt(),i=t.Ant.ynt();if(!this.tnt){if(n&&this.Dnt(t,n.QY))return!0;if(i&&this.Dnt(t,i.QY))return!0}return this.Ont?!(!n||!this.xnt(t,n.QY))||(!(!i||!this.xnt(t,i.QY))||(!(!n||!this.Pnt(t,n.QY))||(!(!i||!this.Pnt(t,i.QY))||this.Bnt(t)))):this.Lnt(t)},n.Lnt=function(t){var n=this.Ant.wnt(),i=t.Ant.wnt();return!(!n||!i)&&(this.vh(i.pw._y(n.pw)),!0)},n.Dnt=function(t,n){var i=this.Ant.KY(n);if(!i||!i.ztt)return!1;var r=t.Ant.KY(n);return!(!r||!r.ztt)&&(this.vh(i.dnt(r)),!0)},n.xnt=function(t,n){var i=this.Ant.KY(n);if(!i||!i.hnt())return!1;var r=t.Ant.KY(n);return!(!r||!r.hnt())&&(this.vh(r.pw._y(i.pw)),!0)},n.Pnt=function(t,n){var i=this.Ant.KY(n);if(!i)return!1;var r=this.Mnt(i.Qtt.QY);if(!r)return!1;var e=t.Ant.KY(n);if(!e)return!1;var s=t.Mnt(e.Qtt.QY);if(!s)return!1;var u=i.lnt(i.Qtt),o=e.lnt(e.Qtt),h=Ig.dm(r)._y(Ig.dm(s)),a=u._y(o);return this.vh(h._y(a)),!0},n.Bnt=function(t){if(!this.pnt&&!t.pnt)return!1;var n=this.Ant.ynt(),i=t.Ant.ynt();if(n&&n.Qtt&&i&&i.Qtt){var r=Ig.Ay(n.Qtt.wp-i.Qtt.wp,1e3),e=n.Aw._y(i.Aw);return this.vh(r._y(e)),!0}return!1},n.N$=function(t){var n=this.Ant.ynt();if(n)for(var i=n.Aw,r=t.Bl-1;r>=0;r--){var e=t.$Y(r);if(i=i._y(Ig.hm(e.duration)),void 0!==e.jtt){0;break}e.jtt=i}},n.gtt=function(t){var n=this.Ant.mnt(t);return n?n.QY:NaN},n.M2=function(t,n){var i=this.Ant.KY(t._Z);return i?i.lnt(t,n):Ig.am},n.U2=function(t,n){var i=this.UJ.lZ.KY(t.QY+1);if(i){var r=this.M2(i);return r}return n.iw(function(t){if(!t)return Ig.Ty;if(!_D(t))return Ig.hm(t.duration);var n=t.WZ||Ig.Ty,i=t.qZ||Ig.Ty,r=Ig.hm(t.duration);return n.Ny()||i.Ny()?n.Ny()?i.Ny()?r.Ny()?r:Ig.Ty:i:n:Ig.Ky(n,i)}(t))},n.V2=function(t,n){var i=this.Ant.KY(t._Z);return i&&i.ztt?i.V2(t,n):Ig.am},n.O9=function(t,n){var i=this.UJ.lZ;return i.Bl?function(t,n,i,r,e){var s,u,o=t.UJ.lZ,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.M2(o.$Y(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.hy(f))return{Lp:s=o.$Y(c),Unt:f};if(n.ey(d)&&(s=o.$Y(v))._4)return{Lp:s,Unt:d};for(;f.uy(n)&&n.uy(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n._y(f).ty()*(v-c)/d._y(f).ty())||0,g=a(l)),g.ny(n))d=a(v=l-1);else{if(s=o.$Y(l),!(w=(u=l)===r?a(u).iw(gD(o.$Y(u))):a(u+1)).uy(n))return s&&n.uy(g.iw(gD(s)))?{Lp:s,Unt:g}:(s=o.$Y(l+1))&&{Lp:s,Unt:w};c=l+1,f=w}}if(d.uy(n)){if((s=o.$Y(v))&&n.uy(d.iw(gD(s))))return{Lp:s,Unt:d};if(v<r&&(s=o.$Y(v+1),d=a(v+1),s&&n.hy(d)))return{Lp:s,Unt:d}}return null}(this,t,0,i.Bl-1,n):null},n.Mnt=function(t){var n=this.UJ.lZ,i=n.JY(t),r=n.$Y(i),e=r,s=Ig.Ty;if(r.jJ)return r.jJ;for(var u=i-1;u>=0;u--){var o=n.$Y(u);if(s=s.iw(gD(o)).iw(kB(o,e)),o.jJ)return new Date(o.jJ.getTime()+1e3*s.ty());e=o}return null},n.Fnt=function(t){for(var n=this.UJ.lZ,i=void 0,r=0;r<n.Bl;r++){var e=n.$Y(r);if(e.jJ){if(!(e.jJ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return Ig.am;var s=Ig.dm(t)._y(Ig.dm(i.jJ));return this.M2(i).iw(s)},n.vh=function(t){if(!t.Hw(Ig.Ty))for(var n=this.Ant.Bl,i=0;i<n;i++){var r=this.Ant.$Y(i);r.ant(r.pw.iw(t))}},n.ftt=function(t){var n=this.Ant.KY(t);return n&&n.ztt},n.dtt=function(t,n){if(this===t)return Ig.Ty;var i=this.Ant.KY(n),r=t.Ant.KY(n);return i&&r?i.dnt(r):Ig.am},n.Ltt=function(){0},M(t,[{key:"Ont",get:function(){var t=this.UJ.gZ;return!!t&&t.live}},{key:"Hnt",get:function(){var t=this.UJ.gZ;return!!t&&t.isEvent}},{key:"Vnt",get:function(){var t=this.Ent;return t?this.M2(t):Ig.Ty}},{key:"Xnt",get:function(){var t=this.Ant.ynt();return t?t.Aw:Ig.Ty}},{key:"Wnt",get:function(){if(!this.Ont)return Ig.Ty;var t=this.Xnt._y(this.qnt);return Ig.Ky(this.Vnt,t)}},{key:"qnt",get:function(){return this.Tnt&&Ig.hm(this.Tnt)||this.znt.Wy(3)}},{key:"Gnt",get:function(){return this.Ont&&this.Snt?Ig.Ay(Gb()-this.Snt.wp,1e3):Ig.Ty}},{key:"znt",get:function(){var t=this.UJ.gZ;return t&&t.targetDuration?Ig.hm(t.targetDuration):IB}},{key:"_h",get:function(){return this.bnt},set:function(t){var n=t._y(this.bnt);this.bnt=t,this.vh(n)}}]),t}(),CB=function(t){function n(n){var i;return(i=t.call(this)||this).jnt=[],i.Qnt={},i.Ynt=null,i.Znt=null,i.bnt=Ig.Ty,i.tnt=void 0,i.Jnt=void 0,i.Jnt=n,i}F(n,t);var i=n.prototype;return i.$nt=function(t){return t&&this.Qnt[t.zl]||null},i.Knt=function(t){var n=this.$nt(t);return n||((n=new NB(t,this.Jnt,!!this.tnt))._h=this.bnt,this.jnt.push(n),this.Qnt[t.zl]=n),n},i.tit=function(t){var n;switch(null==(n=this.Jnt.hls)?void 0:n.discontinuityAlignment){case XA.vC:return!0;case XA.dC:return!1;default:return t.isEvent||t.hasEnd}},i.Rnt=function(t,n){void 0===this.tnt&&(this.tnt=this.tit(n));var i=this.$nt(this.Ynt),r=i?i.Vnt:Ig.Ty,e=i?i.Xnt:Ig.Ty,s=this.Knt(t),u=s.knt,o=s.Rnt(n);if(!u&&s.knt&&(s.vh(this.nit(t)),o=!0),o=this.iit(s)||o,this.rit(s,r,e)){var h=new QC(jC.qY,{code:"MFU0166"});this.dispatchEvent({type:"Jo",Jo:h})}else this.Ynt=t,o&&this.dispatchEvent("D$")},i.nnt=function(t,n){if(_D(n)){0;var i=this.Knt(t),r=i.nnt(n);r=this.iit(i)||r,this.Znt=t,r&&this.dispatchEvent("D$")}},i.iit=function(t){var n=!1,i=!1,r=this.$nt(this.Znt);r&&(r===t?n=!0:i=(n=t.Cnt(r))||i);var e=this.$nt(this.Ynt);return e&&e!==t&&(i=n?e.Cnt(t)||i:t.Cnt(e)||i),i},i.nit=function(t){var n=this.$nt(t),i=!n.Ont,r=t.gZ&&t.gZ.isEvent;return i||r?Ig.Ty:n.znt.Wy(3)},i.rit=function(t,n,i){if(!t.Ont)return!1;var r=t.Vnt,e=t.Xnt,s=Ig.tm(e,i)._y(Ig.Ky(r,n)),u=Ig.Ky(t.znt.Wy(3),s.jy(2));return r.iw(u).hy(n)},i.N$=function(t,n){var i=this.$nt(t)||this.$nt(this.Ynt);return i&&i.N$(n)},i.gtt=function(t){var n=this.Ynt&&this.$nt(this.Ynt);return n?n.gtt(t):NaN},i.eit=function(t,n){var i=t.wZ(n);return this.M2(i)},i.M2=function(t){if(!t)return Ig.am;var n=this.$nt(t.UJ)||this.$nt(this.Ynt);return n?n.M2(t):Ig.am},i.U2=function(t,n){if(!t)return Ig.am;var i=this.$nt(t.UJ)||this.$nt(this.Ynt);return i?i.U2(t,n):Ig.am},i.V2=function(t,n){if(!t||!n)return Ig.am;var i=this.$nt(t.UJ)||this.$nt(this.Ynt);return i?i.V2(t,n):Ig.am},i.O9=function(t,n,i){var r=this.$nt(t);if(!r)return null;var e=r.O9(n,i);return e?{Lp:e.Lp,Unt:e.Unt}:null},i.Mnt=function(t,n){var i=this.$nt(t)||this.$nt(this.Ynt);return i?i.Mnt(n):null},i.Fnt=function(t,n){var i=this.$nt(t)||this.$nt(this.Ynt);return i?i.Fnt(n):Ig.am},i.ftt=function(t){return void 0!==this.sit(t)},i.dtt=function(t,n){if(this===t)return Ig.Ty;var i=this.sit(n),r=t.sit(n);return i&&r?i.dtt(r,n):Ig.am},i.sit=function(t){return Ge(this.jnt,function(n){return n.ftt(t)})},i.Fv=function(){this.Ho(),this.jnt.length=0,this.Qnt={},this.Ynt=null,this.Znt=null,this.bnt=Ig.Ty},i.Ltt=function(){0},M(n,[{key:"uit",get:function(){return this.Vnt._y(this.znt.Wy(3))}},{key:"qnt",get:function(){var t=this.Jnt.liveOffset;return Ig.hm(t||3*this.znt.ty())}},{key:"Ont",get:function(){var t=this.$nt(this.Ynt);return!!t&&t.Ont}},{key:"tw",get:function(){return this.Ynt?new NO([{GR:this.Vnt.ty(),QR:this.Xnt.ty()}]):CO}},{key:"Vnt",get:function(){if(!this.Ynt)return Ig.Ty;var t=this.$nt(this.Ynt);return t.Hnt?t.Vnt:t.Vnt.iw(t.Gnt)}},{key:"Xnt",get:function(){if(!this.Ynt)return Ig.Ty;var t=this.$nt(this.Ynt);return t.Xnt.iw(t.Gnt)}},{key:"Wnt",get:function(){if(!this.Ynt)return Ig.Ty;var t=this.$nt(this.Ynt);return t.Wnt.iw(t.Gnt)}},{key:"znt",get:function(){return this.Ynt?this.$nt(this.Ynt).znt:IB}},{key:"_h",get:function(){return this.bnt},set:function(t){if(!this.bnt.Hw(t)){this.bnt=t;for(var n=0,i=this.jnt;n<i.length;n++){i[n]._h=t}this.dispatchEvent("D$")}}}]),n}(zC),DB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.nit=function(t){return Ig.Ty},n}(CB),OB=.25,xB=1/60;function PB(t,n){return _g(t,n,xB)}var BB,LB=function(t,n,i){this.UJ=void 0,this.pw=void 0,this.V_=void 0,this.Aw=void 0,this.Lp=void 0,this.oit=NaN,this.hit=NaN,this.ait=0,this.UJ=t.UJ,this.pw=n,this.Aw=i,this.V_=i-n,this.Lp=t},MB=function(t,n,i){this.UJ=void 0,this.pw=void 0,this.V_=void 0,this.Aw=void 0,this.oit=NaN,this.hit=NaN,this.ait=0,this.UJ=t,this.pw=n,this.Aw=i,this.V_=i-n};function UB(t){return!(!t||!t.Lp)}function FB(t,n,i){return r=n,e=i,s=t.pw,u=t.Aw,PB(r,u)<=0&&PB(s,e)<=0;var r,e,s,u}function HB(t,n){return PB(t.pw,n)<=0?t.Aw:t.pw}function VB(t,n,i){return(t-n)/i-OB}function XB(t,n){return n._y(t).fI(t)}function WB(t,n){var i=_.min(xB,t.V_/2);return n._I(t.pw,t.Aw,i)}function qB(t,n){var i=n.R2(t);return-1===i?t:n.end(i)}function zB(t){return t.hit<=t.oit}function GB(t,n){if(!zB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.ait+n.hit>r.oit)return!1}return!0}function jB(t,n){for(var i=0;i<t.length;i++){t[i].ait+=n.hit}n.ait=n.hit,t.push(n)}!function(t){t[t.cit=0]="cit",t[t.fit=1]="fit",t[t.vit=2]="vit",t[t.o8=3]="o8"}(BB||(BB={}));var QB=function(){function t(t,n,i,r){this.Ip=void 0,this.wb=void 0,this.dit=void 0,this.lit=void 0,this._it=void 0,this.N1=void 0,this.Ip=t,this.wb=n,this.dit=i,this.lit=r,this._it=sO.Qe.$0,this.N1=sO.Qe.J0}var n=t.prototype;return n.git=function(){return this.dit.lJ.reduce(function(t,n){return _.max(t,n.gZ&&n.gZ.targetDuration||0)},0)},n.wit=function(t,n){void 0===n&&(n=this.wb.M2(t).ty());var i=this.wb.U2(t,Ig.hm(n));return new LB(t,n,i.ty())},n.yit=function(t,n){var i=t.lZ.$Y(n);return i&&this.wit(i)||null},n.mit=function(t){var n=t.UJ,i=n.lZ.JY(t.QY);return i>=0&&this.yit(n,i-1)||null},n.kit=function(t){var n=t.UJ,i=n.lZ.JY(t.QY);return i>=0&&this.yit(n,i+1)||null},n.pit=function(t,n){var i=this.wb.O9(t,Ig.hm(n));return i&&this.wit(i.Lp,i.Unt.ty())||null},n.Ait=function(t){var n=t.lZ.Bl-1;return n>=0&&this.yit(t,n)||null},n.bit=function(t,n,i){var r=t.gZ&&t.gZ.targetDuration||this.git()||10,e=_.max(0,n-r),s=e+r;return i&&FB(i,e,s)&&(s=(e=i.Aw)+r),new MB(t,e,s)},n.Tit=function(t,n,i){var r=this.lit.R6,e=.8*this.lit.I6,s=(n.bandwidth||0)*t.V_;return i&&i.N0?((s=8*i.Z1||s)-8*i.Y1)/e:r+s/e},n.Eit=function(){for(var t=this.lit.r6(this.Ip),n=this.lit.B5(this.Ip),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Sit=function(t,n){var i=n.filter(function(n){return n.UJ===t});return JO(this.wb,i).P2()},n.Rit=function(t){return"audio"===this.Ip&&t?[t]:this.dit.lJ},n.Iit=function(t){for(var n=new ZO([]),i=new ZO([]),r=this.Eit(),e={Nit:{},Cit:{},Dit:{},Oit:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Sit(u,r),h=nx(this.wb,o);e.Nit[u.zl]=o,e.Cit[u.zl]=h,e.Dit[u.zl]=n=XB(n,o),e.Oit[u.zl]=i=XB(i,h)}return e},n.xit=function(t,n,i,r,e){for(var s,u,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].zl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({GR:d,QR:l})}return 0===(s=xO(s=OO(new NO(a)),new NO([{GR:t,QR:n}]))).length||PB(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,PB(u,t)<=0&&PB(h,o)<=0)?NaN:s.end(0)},n.Pit=function(t,n,i){var r=null,e=i.Nit[t.zl],s=i.Dit[t.zl],u=i.Oit[t.zl],o=s.R2(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new NO([{GR:h,QR:a}]),f=s.sI(c)._y(u),v=0;v<f.length;v++){var d=f.start(v),l=f.lZ(v)[0];if(l.Lp.UJ===t){if(r=this.mit(l.Lp))return r}else{for(r=this.pit(t,d);r&&WB(r,e);)r=this.mit(r.Lp);if(r)return r}}var g=s.lZ(o),w=g[g.length-1];if(w.Lp.UJ===t&&(r=this.kit(w.Lp)))return r}var y=this.Ait(t);if(!y||PB(y.Aw,n)<=0){if(!y||!y.Lp._4)return r=this.bit(t,n,y);r=y}for(r||(r=this.pit(t,n));r&&WB(r,s);)r=this.kit(r.Lp);return r},n.Bit=function(t,n){var i=this.Ait(t);return i&&i.Lp._4&&PB(i.Aw,n)<=0?i:this.pit(t,n)},n.Lit=function(t,n,i,r,e,s,u,o){var h=t.UJ,a=u.Dit[h.zl],c=!WB(t,a),f=c?n:HB(t,r);t.oit=VB(f,r,s),t.hit=this.Tit(t,h);var v=o&&this.wit(o);if(v&&!WB(v,a)){var d=HB(v,r);if(v.oit=VB(d,r,s),v.hit=this.Tit(v,h,i&&i.C1),zB(v)&&(!c||function(t,n){var i=[];return!!GB(i,n)&&(jB(i,n),!(!UB(t)||!UB(n)||t.Lp!==n.Lp)||!!GB(i,t))}(t,v)))return v}if(c&&!zB(t))return null;var l=this.Mit(t,r,e,s,a);return l.length&&l[l.length-1]||null},n.Mit=function(t,n,i,r,e){for(var s=[],u=t.UJ,o=t;o&&n<o.Aw&&i<=o.pw;){if(!WB(o,e)){if(y(o.oit)){var h=HB(o,n);o.oit=VB(h,n,r),o.hit=this.Tit(o,u)}GB(s,o)&&jB(s,o)}o=UB(o)&&this.mit(o.Lp)}return s},n.Uit=function(t,n){return t.pw<n?{jl:BB.vit}:UB(t)?{jl:BB.cit,Lp:t.Lp,pw:t.pw}:{jl:BB.fit,UJ:t.UJ}},n.t6=function(t){if(lD(t.uri)){var n=t.uri,i=oO(n.HZ,[n.VZ.GR,n.VZ.QR]);return this.N1.eh(i)}var r=oO(t.uri);return this.N1.eh(r)},n.Fit=function(t){return this._it.eh(t.uri)},n.Hit=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e,s,u,o,h,a){var c,f,v,d,l,_,g,w,m,k,p,A,b;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.Rit(e),f=this.Iit(c),v=this.wb.uit.ty(),d=this.xit(n,i,s,c,f.Cit),g=null,m=!1,!y(d)){t.next=3;break}return t.abrupt("return",{jl:BB.o8});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{jl:BB.vit});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=qB(d,f.Cit[l.zl]),!(g=this.Pit(l,_,f))){t.next=24;break}if(p=!1,!UB(g)){t.next=18;break}return t.next=15,this.t6(g.Lp);case 15:p=t.sent,t.next=22;break;case 18:if(l.KJ){t.next=22;break}return t.next=21,this.Fit(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Uit(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+OB&&a.length)){t.next=33;break}if(l=a[0],_=qB(d,f.Cit[l.zl]),!(g=this.Pit(l,_,f))){t.next=33;break}return t.abrupt("return",this.Uit(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=qB(d,f.Cit[l.zl]),(g=this.Pit(l,_,f))?w=g:(m=!0,w=this.Bit(l,_)),!w){t.next=45;break}if(!(b=this.Lit(w,_,u,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Uit(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{jl:BB.o8});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Uit(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{jl:BB.o8});case 54:if(l=h[0],_=qB(d,f.Cit[l.zl]),!(g=this.Pit(l,_,f))){t.next=61;break}return t.abrupt("return",this.Uit(g,v));case 61:return t.abrupt("return",{jl:BB.o8});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),YB=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).Vit=i,o.Xit=r,o.MA=e,o.Ip=s,o.Bv=u,o}return F(n,t),n}(Es),ZB=function(t){function n(n,i,r,e,s){return t.call(this,Qo.mc,n,i,r,e,s)||this}return F(n,t),n}(YB),JB=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,Qo.pc,n,i,r,e,s)||this).Wit=u,h.Yg=o,h}return F(n,t),n}(YB),$B=Ig.hm(.1);function KB(t,n){return(t.d9===n.d9?Ng(t._3,n._3):Ng(t.qit,n.qit))||dg(t.MA,n.MA)}var tL,nL=function(){function t(){}return t.zit=function(t,n,i){if(!(n>=i)){var r=Ke(t,function(t,n){return new uC(t.map(function(t){return t?t.Git():null}),n).pG()});if(0!==r.length)return new aC(n,i,r)}},t}(),iL="black",rL="white",eL=function(){function t(t,n){this.jit=void 0,this.Qit=void 0,this.Yit=void 0,this.Zit=void 0,this.Jit=void 0,this.$it=void 0,this.Kit=void 0,this.trt=void 0,this.nrt=void 0,this.jit=new Array(sL+1);for(var i=0;i<=sL;i++)this.jit[i]=new JN;this.Qit=1,this.Yit=0,this.Zit=t,this.Jit=n,this.$it=!1,this.Kit=!1,this.trt=rL,this.nrt=iL,this.xl()}var n=t.prototype;return n.irt=function(t,n){var i="CC"+(this.Zit<<1|this.Jit+1);if(t>=n)return null;var r=(new sC).oG(this.jit.slice(1));return 0===r.length?null:{kw:new aC(t,n,r),Qf:i,NG:this.Zit<<1|this.Jit+1}},n.xl=function(){this.rrt(),this.Qit=1},n.ert=function(){return this.Qit},n.urt=function(t){this.Qit=t},n.Vz=function(t){this.jit[this.Qit].Vz(t)},n.Xz=function(t){this.jit[this.Qit].Xz(t)},n.ort=function(){return this.Yit},n.hrt=function(t){this.Yit=t},n.qz=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case tL.art:i=void 0!==oL[n]?oL[n]:String.fromCharCode(n);break;case tL.crt:i=hL[n];break;case tL.frt:this.vrt(),i=aL[n];break;case tL.drt:this.vrt(),i=cL[n]}i&&this.jit[this.Qit].addParsedChar(i)}},n.vrt=function(){this.jit[this.Qit].Wz()},n.lrt=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.jit[t+r]=this.jit[n+r];else for(var e=0;e<i;e++)this.jit[t+e]=this.jit[n+e]},n._rt=function(t,n){for(var i=0;i<=n;i++)this.jit[t+i]=new JN},n.rrt=function(){this._rt(0,sL)},n.grt=function(){this.Qit=this.Yit>0?this.Yit:0,this.rrt()},n.wrt=function(t){this.$it=t},n.yrt=function(t){this.Kit=t},n.mrt=function(t){this.trt=t},n.krt=function(t){this.nrt=t},t}(),sL=15;!function(t){t[t.art=0]="art",t[t.crt=1]="crt",t[t.frt=2]="frt",t[t.drt=3]="drt"}(tL||(tL={}));var uL,oL={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},hL={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},aL={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},cL={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},fL=function(){function t(t,n){this.Ps=void 0,this.prt=void 0,this.Art=void 0,this.brt=void 0,this.Trt=void 0,this.Ert=void 0,this.Srt=void 0,this.Rrt=void 0,this.Ps=uL.DR,this.prt=new eL(t,n),this.Art=new eL(t,n),this.brt=new eL(t,n),this.Trt=this.Art,this.Ert=0,this.Srt=void 0,this.Rrt=!1}var n=t.prototype;return n.xl=function(){this.Rrt=!0,this.Ert=0,this.Ps=uL.DR,this.Trt=this.Art,this.Srt=void 0,this.Art.xl(),this.brt.xl(),this.prt.xl()},n.Irt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Nrt=function(t,n){var i=this.Irt(t,n),r=(30&n)>>1,e=rL,s=!1;r<7?e=_L[r]:7===r&&(s=!0);var u=1==(1&n);if(this.Ps!==uL.$e){var o=this.Trt;if(this.Ps===uL.Crt&&i!==o.ert()){var h=1+o.ert()-o.ort(),a=1+i-o.ort();o.lrt(a,h,o.ort()),o._rt(0,a-1),o._rt(i+1,sL-i)}o.urt(i);var c=gC[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=wC.gj(c,n);o.Vz(f.sG),this.Trt.wrt(u),this.Trt.yrt(s),this.Trt.mrt(e),this.Trt.krt(iL)}}},n.Drt=function(t,n){this.Trt.wrt(!1),this.Trt.yrt(!1),this.Trt.mrt(rL);var i=this.Ort(t,tL.art," ".charCodeAt(0)),r=rL,e=!1,s=1==(1&n);return"white_italics"===(r=_L[(14&n)>>1])&&(r="white",e=!0),this.Trt.wrt(s),this.Trt.yrt(e),this.Trt.mrt(r),i},n.Ort=function(t,n,i){if(this.Trt.qz(n,i),this.Ps===uL.xrt||this.Ps===uL.Crt){var r=this.Prt(this.Trt,this.Ert,t);return this.Ert=t,r}return null},n.Prt=function(t,n,i){return this.Rrt?null:t.irt(n,i)},n.Brt=function(t,n){var i=iL;0==(7&t)&&(i=lL[(14&n)>>1]),this.Trt.krt(i)},n.Lrt=function(t){var n=vL,i=t.Mrt,r=t.t9,e=null;switch(i){case n.RCL:this.Urt();break;case n.BS:this.Frt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Hrt(2,r);break;case n.RU3:e=this.Hrt(3,r);break;case n.RU4:e=this.Hrt(4,r);break;case n.FON:e=this.Vrt(r);break;case n.RDC:this.Xrt(r);break;case n.TR:this.Wrt();break;case n.RTD:this.qrt();break;case n.EDM:e=this.zrt(r);break;case n.CR:e=this.Grt(r);break;case n.ENM:this.jrt();break;case n.EOC:e=this.Qrt(r)}return e},n.Grt=function(t){var n=this.Trt;if(this.Ps!==uL.Crt)return null;var i=this.Prt(n,this.Ert,t),r=n.ert()-n.ort()+1;return n.lrt(r-1,r,n.ort()),n._rt(0,r-1),n._rt(n.ert(),sL-n.ert()),this.Ert=t,i},n.Hrt=function(t,n){this.Trt=this.Art;var i=this.Trt,r=null;return this.Ps!==uL.Crt&&this.Ps!==uL.$e&&(r=this.Prt(i,this.Ert,n),this.Art.grt(),this.brt.grt(),this.Rrt=!1,i.urt(sL)),this.Ps=uL.Crt,i.hrt(t),r},n.Vrt=function(t){return this.Ort(t,tL.art," ".charCodeAt(0))},n.zrt=function(t){var n=this.Art,i=null;return this.Ps!==uL.$e&&(i=this.Prt(n,this.Ert,t)),n.rrt(),this.Rrt=!1,i},n.Xrt=function(t){this.Ps=uL.xrt,this.Trt=this.Art,this.Trt.hrt(0),this.Ert=t},n.jrt=function(){this.brt.rrt()},n.Qrt=function(t){var n=null;this.Ps!==uL.$e&&(n=this.Prt(this.Art,this.Ert,t));var i=this.brt;return this.brt=this.Art,this.Art=i,this.Urt(),this.Ert=t,n},n.Urt=function(){this.Ps=uL.Yrt,this.Trt=this.brt,this.Trt.hrt(0)},n.Frt=function(){this.Trt.vrt()},n.Wrt=function(){this.prt.xl(),this.Rrt=!1,this.qrt()},n.qrt=function(){this.Trt=this.prt,this.Ps=uL.$e},n.Zrt=function(t,n,i){return this.Trt.qz(tL.art,n),this.Ort(t,tL.art,i)},n.Jrt=function(t,n,i){var r=1&n?tL.drt:tL.frt;return this.Ort(t,r,i)},n.$rt=function(t){var n=t.Krt,i=t.Mrt,r=t.t9;if(this.Srt===(n<<8|i))return this.Srt=void 0,null;if(this.Srt=n<<8|i,this.tet(n,i))this.Nrt(n,i);else{if(this.net(n,i))return this.Drt(r,i);if(this.iet(n,i))this.Brt(n,i);else{if(this.ret(n,i))return this.Ort(r,tL.crt,i);if(this.eet(n,i))return this.Jrt(r,n,i);if(this.uet(n,i))return this.Lrt(t);this.isTabOffset(n)&&this.Trt.Xz(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.uet=function(t,n){return 20==(246&t)&&32==(240&n)},n.tet=function(t,n){return 16==(240&t)&&64==(192&n)},n.net=function(t,n){return 17==(247&t)&&32==(240&n)},n.iet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.ret=function(t,n){return 17==(247&t)&&48==(240&n)},n.eet=function(t,n){return 18==(246&t)&&32==(224&n)},t.oet=function(t){return 16==(112&t)},t}(),vL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.DR=0]="DR",t[t.Yrt=1]="Yrt",t[t.xrt=2]="xrt",t[t.Crt=3]="Crt",t[t.$e=4]="$e"}(uL||(uL={}));var dL,lL=["black","green","blue","cyan","red","yellow","magenta","black"],_L=["white","green","blue","cyan","red","yellow","magenta","white_italics"],gL=function(){function t(t,n,i,r,e){this.het=void 0,this.$it=void 0,this.Kit=void 0,this.nrt=void 0,this.trt=void 0,this.het=t,this.$it=n,this.Kit=i,this.nrt=r,this.trt=e}var n=t.prototype;return n.Git=function(){return this.het},n.aet=function(){return this.$it},n.cet=function(){return this.Kit},n.fet=function(){return this.nrt},n.vet=function(){return this.trt},t}(),wL=function(){function t(t){this.det=void 0,this.UR=void 0,this.let=void 0,this._et=void 0,this.wet=void 0,this.yet=void 0,this.met=void 0,this.ket=void 0,this.pet=void 0,this.Aet=void 0,this.Ow=void 0,this.Qit=void 0,this.bet=void 0,this.Kit=void 0,this.$it=void 0,this.trt=void 0,this.nrt=void 0,this.det=t,this.UR=!1,this.let=!1,this._et=0,this.wet=0,this.yet=0,this.met=0,this.ket=0,this.pet=dL.Tet,this.Aet=[],this.Ow=0,this.Qit=0,this.bet=0,this.Kit=!1,this.$it=!1,this.trt=rL,this.nrt=iL,this.Eet()}var n=t.prototype;return n.Ret=function(t,n,i,r,e,s,u){this.UR=t,this.wet=n,this._et=i,this.yet=r,this.let=e,this.met=s,this.ket=u},n.Eet=function(){this.Aet=[];for(var t=0;t<mL;t++)this.Aet.push(this.Iet())},n.Iet=function(){for(var t=[],n=0;n<yL;n++)t.push(null);return t},n.Net=function(t){this.Cet()&&(this.Aet[this.Qit][this.bet]=new gL(t,this.$it,this.Kit,this.nrt,this.trt),this.bet++)},n.tG=function(){this.Cet()&&(this.bet<=0&&this.Qit<=0||(this.bet<=0?(this.bet=this.ket-1,this.Qit--):this.bet--,this.Aet[this.Qit][this.bet]=null))},n.Cet=function(){var t=this.Qit<this.met&&this.Qit>=0,n=this.bet<this.ket&&this.bet>=0;return t&&n},n.Det=function(){return this.UR},n.Oet=function(t){for(var n=0,i=t;i<mL;i++,n++)this.Aet[n]=this.Aet[i];for(var r=0;r<t;r++,n++)this.Aet[n]=this.Iet()},n.xet=function(){if(this.Qit+1>=this.met)return this.Oet(1),void(this.bet=0);this.Qit++,this.bet=0},n.Pet=function(){this.Aet[this.Qit]=this.Iet(),this.bet=0},n.irt=function(t,n){if(this.Ow>=t)return null;var i=nL.zit(this.Aet,this.Ow,t);return i?(this.ant(t),{kw:i,Qf:"svc"+n,NG:n}):null},n.Bet=function(t,n){this.Qit=t,this.bet=n},n.Let=function(t){this.nrt=t},n.Met=function(t){this.trt=t},n.Uet=function(t){this.$it=t},n.Fet=function(t){this.Kit=t},n.Het=function(){this.Qit=0,this.bet=0,this.$it=!1,this.Kit=!1,this.trt=rL,this.nrt=iL},n.Vet=function(t){this.pet=t},n.Xet=function(){this.UR=!0},n.Og=function(){this.UR=!1},n.Wet=function(){this.UR=!this.UR},n.ant=function(t){this.Ow=t},t}();!function(t){t[t.qet=0]="qet",t[t.zet=1]="zet",t[t.Tet=2]="Tet",t[t.Get=3]="Get"}(dL||(dL={}));var yL=42,mL=15,kL=function(){function t(t){this.jet=void 0,this.Qet=void 0,this.Yet=void 0,this.jet=t,this.Qet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Yet=void 0}var n=t.prototype;return n.Zet=function(t){var n=t.Jet(),i=n.vs,r=n.t9;i===EL&&(i=i<<16|t.Jet().vs);return i>=0&&i<=31?this.$et(i,r):i>=128&&i<=159?this.Ket(t,i,r):(i>=4096&&i<=4127?this.tst(t,255&i):i>=4224&&i<=4255?this.nst(t,255&i):i>=32&&i<=127?this.ist(i):i>=160&&i<=255?this.rst(i):i>=4128&&i<=4223?this.est(255&i):i>=4256&&i<=4351&&this.sst(255&i),null)},n.ist=function(t){this.Yet&&(127!==t?this.Yet.Net(String.fromCharCode(t)):this.Yet.Net("\u266a"))},n.rst=function(t){this.Yet&&this.Yet.Net(String.fromCharCode(t))},n.est=function(t){if(this.Yet)if(void 0!==SL[t]){var n=SL[t];this.Yet.Net(n)}else this.Yet.Net("_")},n.sst=function(t){this.Yet&&(160===t?this.Yet.Net("[CC]"):this.Yet.Net("_"))},n.$et=function(t,n){if(!this.Yet)return null;var i=this.Yet,r=null;switch(t){case pL:i.tG();break;case bL:i.Det()&&(r=i.irt(n,this.jet)),i.xet();break;case TL:i.Det()&&(r=i.irt(n,this.jet)),i.Pet();break;case AL:i.Det()&&(r=i.irt(n,this.jet)),i.Eet(),i.Bet(0,0)}return r},n.Ket=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.ust(r)}else{if(136===n){var e=t.Jet().vs;return this.ost(e,i)}if(137===n){var s=t.Jet().vs;this.hst(s,i)}else{if(138===n){var u=t.Jet().vs;return this.ast(u,i)}if(139===n){var o=t.Jet().vs;return this.cst(o,i)}if(140===n){var h=t.Jet().vs;return this.fst(h,i)}if(143===n)return this.xl(i);if(144===n)this.vst(t);else if(145===n)this.dst(t);else if(146===n)this.Bet(t);else if(151===n)this.lst(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Ret(t,a,i)}}}return null},n.tst=function(t,n){n>=8&&n<=15?t.Lk(1):n>=16&&n<=23?t.Lk(2):n>=24&&n<=31&&t.Lk(3)},n.nst=function(t,n){n>=128&&n<=135?t.Lk(4):n>=136&&n<=143&&t.Lk(5)},n.ust=function(t){this.Qet[t]&&(this.Yet=this.Qet[t])},n._st=Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Qet[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.ost=function(t,n){for(var i=null,r=0,e=this._st(t);r<e.length;r++){var s=e[r],u=this.Qet[s];u.Det()&&(i=u.irt(n,this.jet)),u.Eet()}return i},n.hst=function(t,n){for(var i=0,r=this._st(t);i<r.length;i++){var e=r[i],s=this.Qet[e];s.Det()||s.ant(n),s.Xet()}},n.ast=function(t,n){for(var i=null,r=0,e=this._st(t);r<e.length;r++){var s=e[r],u=this.Qet[s];u.Det()&&(i=u.irt(n,this.jet)),u.Og()}return i},n.cst=function(t,n){for(var i=null,r=0,e=this._st(t);r<e.length;r++){var s=e[r],u=this.Qet[s];u.Det()?i=u.irt(n,this.jet):u.ant(n),u.Wet()}return i},n.fst=function(t,n){for(var i=null,r=0,e=this._st(t);r<e.length;r++){var s=e[r],u=this.Qet[s];u.Det()&&(i=u.irt(n,this.jet)),this.Qet[s]=void 0}return i},n.xl=function(t){var n=this.fst(255,t);return this.hh(),n},n.hh=function(){this.Yet=void 0,this.Qet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.vst=function(t){t.Lk(1);var n=t.Jet().vs;if(this.Yet){var i=(128&n)>0,r=(64&n)>0;this.Yet.Fet(i),this.Yet.Uet(r)}},n.dst=function(t){var n=t.Jet().vs,i=t.Jet().vs;if(t.Lk(1),this.Yet){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.gst(s,e,r),c=this.gst(h,o,u);this.Yet.Met(a),this.Yet.Let(c)}},n.Bet=function(t){var n=t.Jet().vs,i=t.Jet().vs;if(this.Yet){var r=15&n,e=63&i;this.Yet.Bet(r,e)}},n.lst=function(t){t.Lk(1),t.Lk(1);var n=t.Jet().vs;if(t.Lk(1),this.Yet){var i=3&n;this.Yet.Vet(i)}},n.Ret=function(t,n,i){var r=void 0!==this.Qet[n];if(!r){var e=new wL(n);e.ant(i),this.Qet[n]=e}var s=t.Jet().vs,u=t.Jet().vs,o=t.Jet().vs,h=t.Jet().vs,a=t.Jet().vs,c=t.Jet().vs,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);r&&0===(7&c)||this.Qet[n].Het(),this.Qet[n].Ret(f,v,l,g,d,_,w),this.Yet=this.Qet[n]},n.gst=function(t,n,i){var r={0:0,1:0,2:1,3:1};return RL[r[t]<<2|r[n]<<1|r[i]]},t}(),pL=8,AL=12,bL=13,TL=14,EL=16,SL={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},RL=["black","blue","green","cyan","red","magenta","yellow","white"],IL=function(){function t(){this.wst=void 0,this.yst=void 0,this.mst=void 0,this.wst=[],this.yst=null,this.mst=0}var n=t.prototype;return n.kst=function(t){if(t.so===ON.Bz){var n=63&t.vs;return this.mst=2*n-1,void(this.yst=[])}if(this.yst&&(this.mst>0&&(this.yst.push(t),this.mst--),0===this.mst)){var i=new NL(this.yst);this.wst.push(i),this.yst=null,this.mst=0}},n.pst=function(){return this.wst},n.Ast=function(){this.wst=[]},n.hh=function(){this.wst=[],this.yst=[],this.mst=0},t}(),NL=function(){function t(t){this.bst=void 0,this.Tst=void 0,this.bst=0,this.Tst=t}var i=t.prototype;return i.Est=function(){return this.bst<this.Tst.length},i.Sst=function(){return this.bst},i.Jet=function(){if(!this.Est())throw new Io(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Tst[this.bst++]},i.Lk=function(t){if(this.bst+t>this.Tst.length)throw new Io(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.bst+=t},t}(),CL=function(){function t(){this.Rst=void 0,this.Ist=void 0,this.Nst=void 0,this.Cst=void 0,this.Dst=void 0,this.Ost=void 0,this.xst=void 0,this.Pst=void 0,this.Bst=!1,this.Rst=[],this.Ist=[],this.Nst=new IL,this.Cst=0,this.Dst=ee({CC1:new fL(0,0),CC2:new fL(0,1),CC3:new fL(1,0),CC4:new fL(1,1)}),this.Ost=0,this.xst=0,this.Pst=re(),this.xl()}var i=t.prototype;return i.hh=function(){this.Cst=0,this.Rst=[],this.Ist=[],this.Nst.hh(),this.xl(),this.Pst.forEach(function(t){t.hh()})},i.xl=function(){this.Ost=0,this.xst=0,this.Dst.forEach(function(t){t.xl()})},i.N4=function(t,n){if(t.hj){var i=t.cj,r=t.fj,e=t.so;e===ON.Oz||e===ON.xz?this.Rst.push({t9:n,so:e,Krt:i,Mrt:r,Lst:this.Rst.length}):this.Bst&&(this.Ist.push({t9:n,so:e,vs:i,Lst:this.Ist.length}),this.Ist.push({t9:n,so:ON.Pz,vs:r,Lst:this.Ist.length}))}},i.gC=function(){var t=[];Xe(this.Rst,function(t,n){return t.t9-n.t9||t.Lst-n.Lst}),Xe(this.Ist,function(t,n){return t.t9-n.t9||t.Lst-n.Lst});for(var n=0,i=this.Rst;n<i.length;n++){var r=i[n],e=this.Mst(r);e&&t.push(e)}for(var s=0,u=this.Ist;s<u.length;s++){var o=u[s];this.Nst.kst(o)}for(var h=this.Nst.pst(),a=0;a<h.length;a++){var c=h[a],f=this.Ust(c);t.push.apply(t,f)}return this.Nst.Ast(),this.Rst=[],this.Ist=[],t},i.Mst=function(t){var n=t.so;if(fL.oet(t.Krt)){var i=t.Krt>>3&1;0===n?this.Ost=i:this.xst=i}var r="CC"+(n<<1|(n?this.xst:this.Ost)+1),e=this.Dst.get(r);return 255===t.Krt&&255===t.Mrt||!t.Krt&&!t.Mrt||!this.Fst(t.Krt)||!this.Fst(t.Mrt)?(++this.Cst>=45&&this.xl(),null):(this.Cst=0,t.Krt&=127,t.Mrt&=127,t.Krt||t.Mrt?fL.oet(t.Krt)?e.$rt(t):e.Zrt(t.t9,t.Krt,t.Mrt):null)},i.Ust=function(t){var i=[];try{for(;t.Est();){var r=t.Jet().vs,e=(224&r)>>5,s=31&r;if(7===e&&0!==s)e=63&t.Jet().vs;if(0!==e){if(!this.Pst.has(e)){var u=new kL(e);this.Pst.set(e,u)}for(var o=this.Pst.get(e),h=t.Sst();t.Sst()-h<s;){var a=o.Zet(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Io&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Fst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),DL=function(t){function n(n){var i;return(i=t.call(this)||this).E$=void 0,i.Hst=[],i.E$=n,i}F(n,t);var i=n.prototype;return i.Vst=function(t,n,i){var r=this.Xst(t),e=this.Wst(r);this.qst(e,n,i),this.gC()},i.Xst=function(t){if(0===t.length)return[];for(var n=t[0].d9,i=this.zst(t[0]),r=[],e=0;e<t.length;e++){var s=t[e];n!==s.d9&&(n=s.d9,i=this.zst(s)),r.push(te({},s,{qit:s._3.iw(i)}))}return r},i.zst=function(t){var n=this.E$.V2(t.d9,t._3),i=n._y(t._3);return Fg(n,t._3)._y(i)},i.Wst=function(t){var n,i,r,e,s,u=t.slice().sort(KB),o=this.Hst;if(o.length)if(u.length){var h=1/u[0].d9.T$,a=u[0].qit,c=o[0].qit,f=o[o.length-1].qit,v=(e=o[0].d9,s=u[0].d9,e.UJ===s.UJ);if(f._y(a).hy(Ig.hm(2.5*h))&&v)n=o.concat(u).sort(KB);else if(a.ey(c)){for(var d=0;d<o.length&&o[d].qit.hy(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],r=u[w],i._3.Hw(r._3)&&i.so===r.so&&i.cj===r.fj?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(KB):y?n=o.slice(0,d).concat(u):(n=u,m&&this.xl())}else n=u,this.xl()}else n=o;else n=u;return n},i.qst=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n._y(r.qit),s=Fg(n,r.qit)._y(e),u=n.iw(s),o=$B.nm(u.Zy),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u._y(a.qit).hy(o))return void(this.Hst=t.slice(h));var c=this.E$.V2(a.d9,a._3);this.oj(a,c.ty())}this.Hst=[]}},M(n,[{key:"nA",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).Gst=void 0,n.Gst=new CL,n}F(n,t);var i=n.prototype;return i.oj=function(t,n){this.Gst.N4(t,n)},i.gC=function(){for(var t=this.Gst.gC(),n=0;n<t.length;n++){var i=t[n];this.Lo(new cC(i.NG,i.kw))}},i.xl=function(){this.Gst.hh()},i.Fv=function(){this.Ho(),this.Gst.hh()},n}(bs)),OL=function(t){function n(n,i,r,e,s,u,o,h,a,c){var f;return(f=t.call(this)||this).jst=!1,f.Qst=!1,f.U5=void 0,f.s0=void 0,f.Yst=void 0,f.lit=void 0,f.Zst=void 0,f.ktt=void 0,f.Gh=void 0,f.wb=void 0,f.Jst=void 0,f.$st=!1,f.Kst=void 0,f.tut=void 0,f.nut=!1,f.iut=!1,f.rut=null,f.qI=void 0,f.L$=void 0,f.eut=void 0,f.sut=null,f.Aw=-1,f.uut=null,f.out=!1,f.hut=!1,f.aut=1/0,f.cut=void 0,f.fut=null,f.vut=0,f.dut=void 0,f.Bo=function(t){f.dispatchEvent(t)},f.lut=function(){!f.$st&&!f.nut&&f._ut&&f.jst&&(f.nut=f.gut("gJ",f.Kst,function(){f.nut=!1}))},f.wut=function(){!f.$st&&!f.iut&&f.yut&&f.Qst&&(f.iut=f.gut("wJ",f.tut,function(){f.iut=!1}))},f.mut=function(t){return f.kut()},f.Aut=function(t){if(t.Ip===f.Ip){var n=t.d9,i=n.a4;i.s3&&f.but(i.s3,n.info),i.f3&&f.Tut(i.f3,n.info),f.kut(f.U5.z5,!0)}},f.RK=function(t){var n=t;f.Eut(n.A$,n.UJ)},f.Sut=function(t){if(1===t.NG){if(f.sut)for(var n=0;n<f.sut.nA;n++){var i="CC"+(n+1);f.s0.nK(i,t.kw.pw,t.kw.Aw)}f.s0.tK(t.kw)}},f.qI=a,f.s0=i,f.Yst=r,f.lit=e,f.Zst=s,f.ktt=u,f.Gh=o,f.U5=c,f.wb=new CB(o),f.Jst=f.Rut(i),e.Cl(n,f.wb,f.ktt),f.Kst=new yB(u,f.wb),f.tut=new yB(u,f.wb),f.sut=f.Iut(f.wb),f.dut=new QB(n,f.wb,f.Jst,e),e.addEventListener("v9",f.Aut),f.wb.addEventListener("Jo",f.Bo),i.addEventListener("lK",f.RK),f}F(n,t);var i=n.prototype;return i.gut=function(t,n,i){var r=this,e=this.ktt.Q5,s=5*this.ktt.G_,u=this.Nut(),o="audio"===this.Ip?[this.Cut]:this.Jst.lJ,h=n.Ltt(),a=h[0],c=h[1],f=this.lit.U9(this.Ip,t,this.wb,o,a,c||void 0,e,s,u);return f&&!f.length&&f.E9?(this.ktt.Dut("gJ"===t,"wJ"===t),!1):!(!f||!f.length)&&(this.Zst.b8(this.Ip,this.s0,f,f.S9,f.P9,f.E9,function(t,e){if(i(),t)r.dispatchEvent({type:"Jo",Jo:t});else{var s=e;n.Rtt(s).then(function(){return r.dispatchEvent("l0")}).catch(function(t){0})}}),!0)},i.Out=function(){this.Zst.Io(this.Ip),this.nut=!1,this.iut=!1},i.xut=function(){var t=this.ktt.Q5,n=this.Kst.Ott(t)||this.tut.Ott(t);!n||this.rut&&this.rut.QY===n.QY||(this.kut(this.U5.z5),this.rut=n,this.dispatchEvent({type:"Put",Ab:this.rut.gh.c4}))},i.But=function(){this.Lut()},i.Mut=function(){this.But()},i.Uut=function(){this.kut(this.U5.z5)},i.Fut=function(t,n){this.Kst.Ott(t)||this.tut.Ott(t)||(this.rut=null)},i.Hut=function(t){var n=!1;this.Kst.Btt().rw(t)||(this.lut(),n=!0),this.tut.Btt().rw(t)||(this.wut(),n=!0),n&&this.kut(this.U5.z5,!0)},i.Vut=function(){this.Kst.hh()},i.Xut=function(){this.tut.hh()},i.Nut=function(){return 0===this.Kst.Bl+this.tut.Bl?0:"k9"===this.Gh.p9?0:1*this.lit.G5},i.Lut=function(){this.lut(),this.wut()},i.KK=function(t){return-1!==this.Jst.lJ.indexOf(t)},i.Wut=function(t){t&&this.KK(t)&&(this.I$(t),this.vK(t))},i.I$=function(t){this.wb.Rnt(t,t.gZ)},i.vK=function(t){var n=this;if(t&&t.gZ&&this.Gh.hlsDateRange){this.s0.vK(t.gZ.dateRanges,function(i){return n.wb.Fnt(t,i).ty()})}},i.qut=function(t){this.KK(t.UJ)&&this.wb.nnt(t.UJ,t)},i.zut=function(t){var n,i,r,e=t,s=this.Kst.Ott(e)||this.tut.Ott(e);if(s)i=s.gh.quality,r=s.QY,n=s.GR;else{var u=this.Cut;if(!u)return null;var o=this.wb.O9(u,Ig.hm(e));if(!o)return null;i=u,r=o.Lp.QY,n=o.Unt.ty()}var h=this.wb.Mnt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.Fnt=function(t){var n=this.Cut;return this.wb.Fnt(n,t).ty()},i.kut=function(t,n){var i=this,r=this.Gut(),e=this.ktt.Q5;t&&(this.Aw=e+t,n&&(this.fut=null,this.vut=0)),this.Gut()||e>=this.Aw?this.jut(r):this.uut||this.out||!this.ql||(this.Qut(),this.Yut(function(t){return i.Zut(e,i.ktt.G_,t)}))},i.Jut=function(t){t&&this.Yst.removeEventListener(t.uri,this.mut)},i.$ut=function(t){t&&this.Yst.addEventListener(t.uri,this.mut)},i.Gut=function(){return-1===this.Aw},n.Kut=function(t){return fD.K_(t.UJ.JJ)&&Gb()-t.wp>2e3*t.UJ.gZ.metadata.d7},i.Yut=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.uut=new es,r=this.uut,t.prev=3,t.next=6,n(r.Do);case 6:i=t.sent,os(r.Do),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),as(t.t0);case 13:return t.prev=13,this.uut===r&&(this.uut=null),t.finish(13);case 16:i&&this.kut();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Qut=function(){this.uut&&(this.uut.Io(),this.uut=null)},i.tot=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.iot=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!UL.Kut(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("rot"));case 2:if(i=_.min(16e3,1e3*_.pow(2,this.vut)),this.vut+=1,this.Qut(),!(this.vut>2)){t.next=8;break}return n.UJ.HJ(!1),t.abrupt("return",n.UJ.qJ());case 8:this.Yut(function(t){return ys(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.but=function(t,n){var i,r;r=DD((i=t).u3,4),i.K$="0000.0000.0000."+r,function(t){var n=DD(t.o3,4),i=DD(t.h3,3),r=DD(t.a3,2*t.h3);t.i_=(n+i+r).toUpperCase()}(t),mB(n,this.wb,t),this.s0.J$(t,this.wb)},i.Tut=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(te({},e,{d9:n}))}this.sut&&this.sut.Vst(i,n.I5,n._4)},i.eot=function(t){this.cut&&this.cut.d9===t&&this.kut()},i.sot=function(t,n){if(n){if(n.aborted)return;if(this.fut===t)return this.iot(t)}else t.UJ.HJ(!0);return this.kut()},i.uot=function(t){var n=kD(t.UJ.A$);n&&this.dispatchEvent(new ZB(dD(t.uri),t.UJ.bandwidth||0,t.QY,t.UJ.QY,n))},i.oot=function(t,n){var i=this.cut&&this.cut.dv.D1||200,r=kD(t.UJ.A$);r&&this.dispatchEvent(new JB(dD(t.uri),t.UJ.bandwidth||0,t.QY,t.UJ.QY,r,i,n&&n.C1.Y1||0))},i.jut=function(t){this.Aw=-1,t||this.dispatchEvent("hot")},i.aot=function(t){this.hut=!0,this.jut(t),this.dispatchEvent("C0")},i.Zut=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(r),e=this.Cut,s=this.Gut(),this.Jut(e||void 0),!(n>=this.Aw)){t.next=7;break}return this.jut(s),t.abrupt("return",!1);case 7:return t.next=9,this.dut.Hit(n,this.Aw,i,e||void 0,this.Nut(),this.cut&&this.cut.dv,this.cut&&this.cut.d9,this.cot,this.fot);case 9:if(u=t.sent,vl.w_(this.lit.I6/8),os(r),u.jl!==BB.vit){t.next=18;break}return this.Qut(),this.dispatchEvent("rot"),t.abrupt("return",!1);case 18:if(u.jl!==BB.fit){t.next=29;break}if(u.UJ!==e){t.next=24;break}return this.$ut(e),t.abrupt("return",!1);case 24:return t.next=26,this.tot(u.UJ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.jl!==BB.o8){t.next=33;break}return this.$ut(e||void 0),!fD.K_(e.JJ)&&e.gZ&&this.aot(s),t.abrupt("return",!1);case 33:if(o=u.Lp,!this.cut||this.cut.d9!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.UJ===e){t.next=40;break}return t.next=39,this.tot(o.UJ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.cut&&(this.cut.dv.Io(),this.cut=void 0),!(u.pw>this.aut)){t.next=46;break}return this.aot(s),t.abrupt("return",!1);case 46:if(!(u.pw>this.Aw)){t.next=49;break}return this.jut(s),t.abrupt("return",!1);case 49:if(this.hut=!1,this.cut=void 0,o!==this.fut&&(this.vut=0),this.fut=o,this.dispatchEvent("N0"),this.uot(o),!o.h7){t.next=59;break}return t.next=58,this.lit.c9(this.Ip,o.UJ,o.h7);case 58:h=t.sent;case 59:return(a=this.lit.f9(this.Ip,o,h,function(t,n){c.Qut(),c.oot(o,n),c.cut=void 0,r&&r.wo||c.sot(o,t)}))&&(this.cut={d9:o,dv:a},a.addEventListener("l0",function(){r&&r.wo||c.eot(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.vot=function(t){this.kut(t||this.U5.z5,!0)},i.dot=function(){var t=this.Gut();this.Aw=-1,this.cut&&this.cut.dv.Io(),this.cut=void 0,this.Jut(),this.hut=!1,this.fut=null,this.vut=0,this.Qut(),this.jut(t),this.sut=this.Iut(this.wb)},i.lot=function(){this.out=!0,this.Jut(),this.Qut()},i._ot=function(){this.out=!1,this.kut()},i.got=function(){this.$st=!0},i.wot=function(){this.$st=!1,this.Lut()},i.Fv=function(){this.Ho(),this.dot(),this.Out(),this._ut=null,this.yut=null,this.Kst.Fv(),this.tut.Fv(),this.Zst.Io(this.Ip),this.wb.Fv(),this.s0.removeEventListener("lK",this.RK),this.lit.removeEventListener("v9",this.Aut),this.Jst=null,this.yot()},i.xl=function(){this.rut=null,this.L$=void 0,this.eut=void 0,this.yot(),this.sut=this.Iut(this.wb)},i.Iut=function(t){var n=new DL(t);return n.Mo("CG",this.Sut),n},i.yot=function(){this.sut&&(this.sut.Vo("CG",this.Sut),this.sut.Fv(),this.sut=null)},M(n,[{key:"H_",get:function(){return this.ktt.Q5}},{key:"mot",get:function(){return this.jst}},{key:"Ip",get:function(){return this.kot()}},{key:"KJ",get:function(){return this.pot()}},{key:"cot",get:function(){return this.Aot()}},{key:"fot",get:function(){return this.bot()}},{key:"_ut",get:function(){return this.Kst.Dtt},set:function(t){var n=this.Kst.Dtt;n&&n.removeEventListener("updateend",this.lut),this.Kst.Dtt=t,t&&(t.addEventListener("updateend",this.lut),this.lut())}},{key:"yut",get:function(){return this.tut.Dtt},set:function(t){var n=this.tut.Dtt;n&&n.removeEventListener("updateend",this.wut),this.tut.Dtt=t,t&&(t.addEventListener("updateend",this.wut),this.wut())}},{key:"hot",get:function(){return this.Gut()}},{key:"C0",get:function(){return this.hut}},{key:"Tot",get:function(){return this.aut},set:function(t){this.aut=t}},{key:"Cut",get:function(){return this.Eot()}},{key:"Sot",get:function(){return this.Rot()},set:function(t){this.Iot(t)}},{key:"ql",get:function(){return this.Not()}},{key:"Jg",get:function(){return this.Cot()}}]),n}(zC);function xL(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function PL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,s=0;s<n.length;s++){xL(r,n[s])&&(e=!0)}e||n.push(r)}return n}function BL(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var s=n.indexOf(".aac",e-4);return 0<=s&&s<e}var LL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).s0=void 0,o.wb=void 0,o.lit=void 0,o.Gh=void 0,o.Dot=void 0,o.Oot=void 0,o.xot=null,o.Pot=null,o.Bot=null,o.Lot=null,o.Mot=null,o.Uot=null,o.Fot=null,o.Hot=!1,o.hw=!0,o.SJ=!0,o.Vot=null,o.qI=void 0,o.Xot=function(){o.Vot&&o.Vot.disabled&&o.Wot(o.Gh.initialRendition||"default"),o.qot(!0)},o.zot=function(){var t=o.s0.pK._J.some(function(t){return t.Jg});o.Got(t)},o.jot=function(t){"variant"===t.Ip&&(o.lit.removeEventListener("y9",o.jot),o.Vot&&(o.Vot=null,o.qot(!1)))},o.qI=u,o.s0=n,o.wb=i,o.lit=r,o.Gh=e,o.Dot=e.Qot||[],o.Oot=new aB(e,sO.Qe.$0,s),o.xot=null,o.lit.addEventListener("y9",o.jot),o.Yot(),o.Zot(),o.Wot(e.initialRendition||"default"),o}F(n,t);var i=n.prototype;return i.Jot=function(t,n){var i=wD(t);if(i&&!i.disabled)return i;var r=this.$ot(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.QY<=n.QY?t:n});case"high":var e=PL(r);return e[e.length-1];case"low":default:return PL(t)[0]}},i.Kot=function(t,n){var i=this.tht||this.Vot&&[this.Vot],r=i&&i.filter(function(n){return Ze(t,n)});return r&&r.length>0?PL(r):PL(this.$ot(t,n))},i.$ot=function(t,n){var i=this.Gh,r=this.Dot,e=this.nht();return t.filter(function(t){for(var s=0;s<r.length;s++){if(!r[s].iht(t,n,e,i))return!1}return!0})},i.rht=function(t,n){var i=this.Kot(t,n);return i.length?i[i.length-1]:t[0]},i.eht=function(t,n){var i=this.tht;return i&&i.length>0?i.filter(function(n){return Ze(t,n)}):t},i.sht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Lot,e=this.Mot,!r||n!==this.Uot||i!==this.Fot){t.next=4;break}return t.abrupt("return",r);case 4:return s=new es,u=this.uht(n,i,s.Do),r&&e&&e.Io(),this.Lot=u,this.Mot=s,this.Fot=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.Lot&&(this.Lot=null,this.Mot=null,this.Fot=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.uht=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.s0,s=this.wb,u=e.kK,t.next=5,this.oht(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.eit(u,i.QY),h=s.O9(n,o),fD.K_(u.JJ)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.oht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Pot,e=this.Bot,!r||n!==this.Uot){t.next=4;break}return t.abrupt("return",r);case 4:return(s=new es).No(i),u=this.hht(n,s.Do),r&&e&&e.Io(),this.Pot=u,this.Bot=s,this.Uot=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.Pot&&(this.Pot=null,this.Bot=null,this.Uot=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.hht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.s0,e=r.kK,!this.ql||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.aht(n)){t.next=8;break}s=n.gZ,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Oot.Lh(n.uri,{});case 11:u=t.sent,os(i),s=u.rg,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.LJ(!1),n.qJ(),t.abrupt("return",!1);case 21:n.OJ(s,e);case 22:if(!BL(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.aht=function(t){var n=t.gZ;return!n||!!n.live&&(!t.lZ.Bl||t.lZ.$Y(t.lZ.Bl-1).wp+1e3*n.targetDuration<Gb())},i.cw=function(t){t?this.hw||(this.hw=!0,this.dispatchEvent("ql")):this.hw&&(this.hw=!1)},i.Got=function(t){t&&!this.SJ?(this.SJ=!0,this.dispatchEvent("Jg")):!t&&this.SJ&&(this.SJ=!1,this.dispatchEvent("zv"))},i.qot=function(t){var n=this,i=this.s0,r=i.kK,e=i.pK._J,s=this.eht(e,r),u=this.rht(s,r);u?this.sht(u,null).then(function(r){r&&(i.iK(u,t),n.cw(!0))}):this.cw(!1)},i.cht=function(){this.Vot=null,this.qot(!0)},i.Zot=function(){this.s0.pK.addEventListener("fJ",this.zot)},i.fht=function(){this.s0.pK.removeEventListener("fJ",this.zot)},i.Yot=function(){this.s0.pK.addEventListener("aJ",this.Xot)},i.vht=function(){this.s0.pK.removeEventListener("aJ",this.Xot)},i.Wot=function(t){var n=this.s0,i=n.pK._J;if(Boolean(n.kK&&!n.kK.disabled))this.Vot=null;else{if(i&&i.length){var r;switch(this.qI.bx.type){case qT.PERFORMANCE:r="low";break;case qT.QUALITY:r="high";break;case qT.BANDWIDTH:r=t}this.Vot=this.Jot(i,r),this.Hot=!0}var e=this.eht(i,null),s=this.rht(e,null);s&&(n.kK=s)}},i.nht=function(){return this.Hot?{I6:this.lit.I6}:{I6:this.qI.xx}},i.Io=function(){this.Lot&&this.Mot&&(this.Mot.Io(),this.Lot=null,this.Mot=null,this.Fot=null),this.Pot&&this.Bot&&(this.Bot.Io(),this.Pot=null,this.Bot=null,this.Uot=null)},i.Fv=function(){this.lit.removeEventListener("y9",this.jot),this.vht(),this.fht(),this.Io(),this.xot=null,this.Vot=null},i.dht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.s0,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.sht(n,i);case 5:return(e=t.sent)&&(r.kK=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"ql",get:function(){return this.hw}},{key:"Jg",get:function(){return this.SJ}},{key:"fot",get:function(){var t=this.s0,n=t.kK,i=this.eht(t.pK._J,n);return this.Kot(i,n)}},{key:"cot",get:function(){return this.eht(this.s0.pK._J,this.s0.kK)}},{key:"tht",get:function(){return this.xot},set:function(t){this.xot=t,this.cht()}}]),n}(zC),ML=function(){function t(t,n){this.ul=void 0,this.wb=void 0,this._ht=-1,this.ul=t,this.wb=n}return t.prototype.Uh=function(t){for(var n=t.lZ,i=n.JY(this._ht),r=i<0?0:i+1;r<n.Bl;r++){var e=n.$Y(r);if(e.QY>this._ht){var s=this.wb.M2(e),u=this.wb.U2(e,s),o=new rg(s.ty(),u.ty(),[].concat(e.GJ),!1,e.QY.toString());this.ul.Wb(o),this._ht=e.QY}}},t}(),UL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,aD.nJ,n,i,r,e,s,u,o,h,a)||this).ght=void 0,c.wht=null,c.yht=null,c.ght=new LL(n,c.wb,r,u,o,h),c.ght.addEventListener("ql",c.Bo),c.ght.addEventListener("Jg",c.Bo),c.ght.addEventListener("zv",c.Bo),u.manifestMetadataTrack&&(c.wht=n.Z$("",c.wb,""),c.yht=new ML(c.wht,c.wb)),c.jst=!c.s0.aK||!c.s0.aK.uri,c.Qst=Boolean(c.s0.kK),c}F(n,t);var i=n.prototype;return i.Eut=function(t,n){if("gJ"===t){var i=n?n.uri:void 0;this.jst=!i}},i.kot=function(){return aD.nJ},i.pot=function(){return this.Cut&&this.Cut.KJ||!1},i.Eot=function(){return this.s0.kK},i.Aot=function(){return this.ght.cot},i.bot=function(){return this.ght.fot},i.Rot=function(){var t=this.ght.tht;return t&&t.map(function(t){return t.zl})},i.Iot=function(t){if(t&&t.length>0){var n=this.Jst.lJ.filter(function(n){return-1!==t.indexOf(n.zl)});if(!(n.length>0))return void 0;this.ght.tht=n}else this.ght.tht=null},i.Not=function(){return this.ght.ql},i.Cot=function(){return this.ght.Jg},i.tot=function(){var n=E.coroutine(Kr.mark(function n(i,r){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.ght.dht(i,r);case 2:return n.abrupt("return",t.prototype.tot.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.dot=function(){t.prototype.dot.call(this),this.ght.Io()},i.I$=function(n){t.prototype.I$.call(this,n),this.yht&&this.yht.Uh(n)},i.Fv=function(){t.prototype.Fv.call(this),this.ght.Fv(),this.ght.removeEventListener("Jg",this.Bo),this.ght.removeEventListener("zv",this.Bo)},i.Rut=function(t){return t.pK},i.mht=function(){var t=this.H_,n=this.mot?this.Kst.xtt(t):void 0,i=n?n.UJ:void 0,r=this.tut.xtt(t),e=r?r.UJ:void 0,s=this.L$;this.L$=i;var u=this.eut;return this.eut=e,!s&&i?{_K:s,kht:i}:!u&&e?{_K:u,kht:e}:u&&e&&u.zl!==e.zl?{_K:u,kht:e}:void 0},n}(OL),FL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,aD.Nv,n,i,r,e,s,u,o,h,a)||this).jst=!!c.s0.aK&&!!c.s0.aK.uri,c.Qst=!1,c}F(n,t);var i=n.prototype;return i.Eut=function(t,n){if("gJ"===t){var i=n?n.uri:void 0;this.jst=!!i}},i.kot=function(){return aD.Nv},i.pot=function(){return this.Cut&&this.Cut.KJ||!1},i.Eot=function(){return this.s0.aK},i.Aot=function(){var t=this.Eot();return t?[t]:[]},i.bot=function(){return this.Aot()},i.Rut=function(t){return t.w$},i.Rot=function(){return null},i.Iot=function(t){},i.Not=function(){return!0},i.Cot=function(){return!0},i.mht=function(){var t=this.mot?this.Kst.xtt(this.H_):void 0,n=t?t.UJ:void 0,i=this.L$;return this.L$=n||void 0,!i&&n?{_K:i,kht:n}:i&&n&&i.zl!==n.zl?{_K:i,kht:n}:void 0},n}(OL),HL=function(){function t(t,i,r,e,s,u){var o=this;this.pht=!1,this.oZ=void 0,this.Aht=void 0,this.X5=void 0,this.bht=void 0,this.U5=void 0,this.Tht=rA.NI(),this.Eht=[],this.Sht=void 0,this.Rht=[],this.R$=function(){return o.Iht()},this.Nht=function(t){t.rg.live||o.Aht.removeEventListener(o.oZ.HZ,o.Nht),o.oZ.OJ(t.rg)},this.Cht=function(){o.oZ.C$.r_===$d.$l?o.pht&&o.Dht():o.pht||o.Oht()},this.fa=function(t){if(!us(t)){var i=t instanceof fy?t:new fy(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.oZ.HZ,0,t);o.oZ.C$.e_=F_.ERROR,o.oZ.C$.Lo(new Ty(i))}},this.oZ=t,this.Aht=i,this.X5=r,this.U5=u,this.bht=new vO(e,s),this.Sht=new es,t.C$.Mo(bd.wl,this.Cht),t.wb&&t.wb.addEventListener("D$",this.R$),this.Cht()}var i=t.prototype;return i.Oht=function(){this.pht||this.oZ.C$.r_===$d.$l||(this.Aht.removeEventListener(this.oZ.HZ,this.Nht),this.Aht.addEventListener(this.oZ.HZ,this.Nht),this.Aht.rtt(this.oZ.HZ),this.Aht.ett(this.oZ.HZ),this.pht=!0,this.xht(this.Sht.Do).catch(this.fa))},i.xht=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.next=4,this.Pht(n);case 4:t.next=0;break;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Pht=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.X5.Q5,r=this.U5.z5,e=new rA([i,i+r]),(s=e.sI(this.Tht.uI())).Bl){t.next=9;break}return t.next=8,ys(1e3,n);case 8:return t.abrupt("return");case 9:if(u=s.GR(0),o=this.Bht(u)){t.next=15;break}return t.next=14,wd(this.oZ,"MJ",n);case 14:return t.abrupt("return");case 15:return h=o.Lp,a=o.Unt.ty(),c=a+h.duration,t.prev=18,t.next=21,this.bht.h2("C$",h.uri,Yo.$e,Rf.wv,If.$e);case 21:f=t.sent,t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(18),hs(t.t0),t.next=29,ys(1e3,n);case 29:return t.abrupt("return");case 30:t.prev=30,v=nw(f),t.next=37;break;case 34:throw t.prev=34,t.t1=t.catch(30),Ay(H_.WEBVTT,h.uri.toString(),0,t.t1);case 37:for(d=v.Dm||{Om:Ig.Ty,xm:Ig.Ty},l=this.oZ.lZ.KY(h.QY),this.Tht=this.Tht.fI(new rA([a,c])),this.Eht.push(h.QY),_=0,g=v.s_;_<g.length;_++)w=g[_],this.Rht.push({d9:l,Unt:VL(Ig.hm(w.pw),d.xm,d.Om),Lht:VL(Ig.hm(w.Aw),d.xm,d.Om),kw:w});this.Iht();case 43:case"end":return t.stop()}},t,this,[[18,24],[30,34]])}));return function(n){return t.apply(this,arguments)}}(),i.Iht=function(){var t=this.oZ.wb;if(this.Rht.length&&t){for(var n=[],i=0,r=this.Rht;i<r.length;i++){var e=r[i],s=t.V2(e.d9,e.Unt);if(s.gy())n.push(e);else{var u=t.V2(e.d9,e.Lht),o=new sg(s.ty(),u.ty(),e.kw.bw,!1,e.kw.zl);this.oZ.C$.Wb(o)}}this.Rht=n,this.oZ.C$.PH(this.X5.Q5,!0)}},i.Bht=function(t){var n=this.oZ.wb,i=this.oZ.lZ;if(n.Ont)for(var r=n.Xnt.ty(),e=i.Bl-1;e>=0;e-=1){var s=i.$Y(e),u=r-s.duration;if(new rA([u,r]).sR(t,.5)){var o={Lp:s,Unt:Ig.hm(u)};return this.Mht(i,o,e)}r=u}else for(var h=0,a=0;a<i.Bl;a+=1){var c=i.$Y(a),f=h+c.duration;if(new rA([h,f]).sR(t,.5)){var v={Lp:c,Unt:Ig.hm(h)};return this.Mht(i,v,a)}h=f}},i.Mht=function(t,n,i){var r=n.Lp;if(-1===this.Eht.indexOf(r.QY))return n;for(var e=n.Unt.ty()+r.duration,s=i+1;s<t.Bl;s+=1){var u=t.$Y(s);if(-1===this.Eht.indexOf(u.QY))return{Lp:u,Unt:Ig.hm(e)};e+=u.duration}},i.Dht=function(){this.pht=!1,this.Aht.itt(this.oZ.HZ),this.Sht.Io(),this.Sht=new es},i.xl=function(){this.Dht(),this.Tht=rA.NI(),this.Eht.length=0,this.oZ.C$.Vo(bd.wl,this.Cht),this.oZ.wb&&this.oZ.wb.removeEventListener("D$",this.R$),this.Aht.removeEventListener(this.oZ.HZ,this.Nht)},t}();function VL(t,n,i){return Ug(i,t._y(n))}var XL=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Gh=void 0,s.p0=void 0,s.lit=void 0,s.Zst=void 0,s.s0=void 0,s.Yst=void 0,s.Uht=void 0,s.Fht=NaN,s.Hht=!1,s.Vht=1/0,s.Xht=1/0,s.Wht=null,s.qht=!0,s.zht=!0,s.ktt=null,s.Ub=void 0,s.qI=void 0,s.Ght=void 0,s.jht=void 0,s.Qht=[],s.JF=function(){var t=s.s0.V_;y(t)||s.Fht===t||(s.Fht=t,s.dispatchEvent("durationchange"))},s.Yht=function(){s.d0&&(s.s0.removeEventListener("renditionUpdated",s.Yht),s.dispatchEvent("d0"))},s.Zht=function(){s.hot&&s.dispatchEvent("hot")},s.Jht=function(){s.C0&&s.dispatchEvent("C0")},s.Bo=function(t){s.dispatchEvent(t)},s.$ht=function(t){var n=s.s0.eK(t.K7);n?n instanceof ED&&(n.LJ(!1),n.qJ()):s.dispatchEvent(t)},s.Kht=function(t){s.s0.rg||(t.Jo.code===jC.PY?(s.Wht||(s.Wht=h(s.tat,Ky)),s.zht=!1,s.FJ()):s.dispatchEvent({type:"Jo",Jo:t.Jo}))},s.nat=function(t){s.iat(),s.rat(t.rg),s.eat(),s.s0.removeEventListener("oK",s.JF),s.s0.addEventListener("oK",s.JF),s.JF(),s.Hht||(s.Hht=!0,s.dispatchEvent("loadedmetadata")),s.Yht(),s.zht=!0,s.FJ()},s.tat=function(){s.iat();var t=s.D0;t&&(s.Yst.xl(),s.Yst.D0=t,s.Yst.GR())},s.sat=function(){s.Yst.stt()},s.uat=function(){s.oat.forEach(function(t){return t.wot()})},s.hat=function(t){s.aat.forEach(function(n){return n.Wut(t.UJ)})},s.fat=function(t){s.oat.forEach(function(n){return n.qut(t.w5)}),s.Uht.ltt(t.w5,s.oat.map(function(t){return t.wb}))},s.FJ=function(){var t=s.qht,n=s.Cot();s.qht=n,n&&!t?s.dispatchEvent("Jg"):!n&&t&&s.dispatchEvent("zv")},s.qI=e,s.Gh=n,s.p0=i,s.Ub=r,s.lit=new oP(n,i,r,sn(s)),s.Zst=new WP(n),s.s0=new RD(n),s.Yst=new fB(r,n),s.Uht=new vB,s.Yst.addEventListener("Jo",s.$ht),s.Yst.addEventListener("J7",s.Kht),s.Yst.addEventListener("ttt",s.nat),s.lit.addEventListener("v9",s.Bo),s.lit.addEventListener("Jo",s.Bo),s.s0.addEventListener("lK",s.Bo),s.s0.addEventListener("MJ",s.hat),s.s0.addEventListener("P$",s.fat),s.s0.addEventListener("gK",s.Bo),s.Uht.addEventListener("htt",s.Bo),s.Uht.addEventListener("htt",s.uat),s.addEventListener("Jg",s.sat),s}F(n,t);var i=n.prototype;return i.vat=function(t){t.Tot=this.Tot,t.addEventListener("Put",this.Bo),t.addEventListener("dat",this.Bo),t.addEventListener("Jo",this.Bo),t.addEventListener("rot",this.Bo),t.addEventListener("N0",this.Bo),t.addEventListener("hot",this.Zht),t.addEventListener("C0",this.Jht),t.addEventListener("zv",this.FJ),t.addEventListener("Jg",this.FJ),t.addEventListener("ql",this.Bo),t.addEventListener("l0",this.Bo),t.addEventListener(Qo.mc,this.Bo),t.addEventListener(Qo.pc,this.Bo)},i.eat=function(){this.lat();this.s0.pK.lJ;var t=this.s0.w$.lJ;this.Ght=new UL(this.s0,this.Yst,this.lit,this.Zst,this.ktt,this.Gh,this.Ub,this.qI,this),this.vat(this.Ght),t.length&&(this.jht=new FL(this.s0,this.Yst,this.lit,this.Zst,this.ktt,this.Gh,this.Ub,this.qI,this),this.vat(this.jht));for(var n=this.s0.AK,i=this.Ght.wb,r=0;r<n.length;r++){var e=n[r];e.wb=i,this.Qht.push(new HL(e,this.Yst,this.ktt,this.Ub,this.Gh,this))}},i.lat=function(){this.Ght&&(this.Ght.Fv(),this.Ght=void 0),this.jht&&(this.jht.Fv(),this.jht=void 0),this.Qht.forEach(function(t){return t.xl()}),this.Qht.length=0,this.Uht.xl()},i._at=function(t){this.oat.forEach(function(n){return n.vot(t)})},i.rat=function(t){this.s0.rg=t},i.gat=function(){this.Yst.GR()},i.wat=function(t){this.Uht._tt(t,this.oat.map(function(t){return t.wb}))||this.oat.forEach(function(t){t.Out(),t.got()})},i.Dht=function(){this.lit.a9(),this.oat.forEach(function(t){return t.dot()})},i.L0=function(){this.lit.a9(),this.oat.forEach(function(t){return t.lot()})},i.x0=function(){this.oat.forEach(function(t){return t._ot()})},i.Fv=function(){this.Ho(),this.iat(),this.lat(),this.lit.Fv(),this.Zst.Fv(),this.s0.Fv(),this.Yst.xl(),this.Uht.Fv()},i.yat=function(t,n,i,r){var e=this.Ght,s=this.jht;t&&(e.dot(),this.lit.hh(e.Ip),e.vot(r)),n&&s&&(s.dot(),this.lit.hh(s.Ip),i&&s.vot(r))},i.mat=function(){if(!this.Ght)return CO;var t=this.Ght;return JO(t.wb,this.lit.r6(t.Ip))},i.ntt=function(t,n,i){var r=this,e=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.rg.live||r.Yst.removeEventListener(s,t),i&&i.OJ(n.rg)};s&&(this.Yst.removeEventListener(s,u),this.Yst.addEventListener(s,u)),this.Yst.ntt(e,s),this.Yst.ett(s)},i.iat=function(){null!==this.Wht&&a(this.Wht),this.Wht=null},i.Cot=function(){return!!this.zht&&(!this.Ght||this.Ght.Jg)},i.H0=function(t){this.Ght&&(this.Ght.Sot=t)},i.xl=function(){this.aat.forEach(function(t){return t.xl()}),this.Qht.forEach(function(t){return t.xl()})},M(n,[{key:"kat",get:function(){return this.Ght}},{key:"pat",get:function(){return this.jht}},{key:"oat",get:function(){var t=[];return this.Ght&&t.push(this.Ght),this.jht&&this.jht.mot&&t.push(this.jht),t}},{key:"aat",get:function(){return[this.Ght,this.jht].filter($)}},{key:"z5",get:function(){return zt(this.qI.kx*this.lit.G5,1,this.Aat)}},{key:"D0",get:function(){return this.Yst.D0},set:function(t){this.Fht=NaN,this.Vht=1/0,this.Hht=!1,this.qht=!0,this.zht=!0,this.s0.removeEventListener("renditionUpdated",this.Yht),this.s0.removeEventListener("oK",this.JF),this.iat(),this.lat(),this.lit.hh(),this.Zst.Io(),this.s0.Fv(),this.s0.addEventListener("renditionUpdated",this.Yht),this.Yst.D0=t,this.FJ()}},{key:"V_",get:function(){return this.Fht}},{key:"Ont",get:function(){return this.s0&&fD.K_(this.s0.JJ)}},{key:"Jg",get:function(){return this.qht}},{key:"d0",get:function(){var t=this.oat;return t.length>0&&t.every(function(t){return t.KJ})}},{key:"G5",get:function(){return this.lit.G5},set:function(t){t>0&&(this.lit.G5=t)}},{key:"hot",get:function(){return this.oat.every(function(t){return t.hot})}},{key:"C0",get:function(){return this.oat.length>0&&this.oat.every(function(t){return t.C0})}},{key:"Aat",get:function(){return this.Xht},set:function(t){this.Xht=t}},{key:"Tot",get:function(){return this.Vht},set:function(t){var n=this;this.Vht=t,this.aat.forEach(function(t){return t.Tot=n.Vht})}},{key:"tw",get:function(){return this.d0?new NO([{GR:this.Vnt,QR:this.Xnt}]):CO}},{key:"Vnt",get:function(){if(!this.d0)return 0;for(var t=-1/0,n=0,i=this.oat;n<i.length;n++){var r=i[n];t=_.max(t,r.wb.Vnt.ty())}return t}},{key:"Xnt",get:function(){if(!this.d0)return 0;for(var t=1/0,n=0,i=this.oat;n<i.length;n++){var r=i[n];t=_.min(t,r.wb.Xnt.ty())}return t}},{key:"Wnt",get:function(){if(!this.d0)return 0;for(var t=1/0,n=0,i=this.oat;n<i.length;n++){var r=i[n];t=_.min(t,r.wb.Wnt.ty())}return _.max(t,this.Vnt)}},{key:"F0",get:function(){return this.Ght&&this.Ght.Sot||void 0}}]),n}(zC),WL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Gh=void 0,r.Fht=NaN,r.Hht=!1,r.s0=void 0,r.wb=void 0,r.bat=void 0,r.Wht=null,r.qht=!0,r.wht=null,r.yht=null,r.Bo=function(t){r.dispatchEvent(t)},r.rat=function(t){if(r.s0.rg||(r.s0.rg=r.bat.mK||null),!r.s0.kK){var n=r.s0.pK.lJ[0];n&&(r.s0.kK=n,r.bat.Q7(n),r.dispatchEvent({type:"Tat",UJ:n}))}t.manifest.isMasterPlaylist||r.s0.kK.OJ(t.manifest),void 0!==t.manifest.duration&&r.Fht!==t.manifest.duration&&(r.Fht=t.manifest.duration,r.dispatchEvent("durationchange")),r.Hht||(r.Hht=!0,r.dispatchEvent("loadedmetadata")),r.Got(!0),r.dispatchEvent({type:"j7",manifest:t.manifest})},r.Kht=function(t){t.Jo.code===jC.PY?(r.Wht||(r.Wht=h(r.tat,Ky)),r.Got(!1)):r.dispatchEvent({type:"Jo",Jo:t.Jo})},r.tat=function(){r.iat();var t=r.D0;t&&r.bat.GR(t)},r.iat=function(){a(r.Wht),r.Wht=null},r.hat=function(t){var n=t.UJ;r.wb.Rnt(n,n.gZ),r.Gh.manifestMetadataTrack&&(r.yht||(r.wht=r.s0.Z$("",r.wb,""),r.yht=new ML(r.wht,r.wb)),r.yht.Uh(n))},r.Gh=n,r.s0=new RD(n,!0),r.wb=new DB(n),r.bat=new cB(i,r.Gh),r.wb.addEventListener("Jo",r.Bo),r.bat.addEventListener("j7",r.rat),r.bat.addEventListener("Jo",function(t){r.s0.rg?(r.Wht||(r.Wht=h(r.tat,Ky)),r.Got(!1)):r.Kht(t)}),r.s0.addEventListener("MJ",r.hat),r}F(n,t);var i=n.prototype;return i.gat=function(){this.s0.rg||this.bat.GR()},i.mat=function(){return CO},i.Got=function(t){var n=this.qht;this.qht=t,t&&!n?this.dispatchEvent("Jg"):!t&&n&&this.dispatchEvent("zv")},i.Fv=function(){this.Ho(),this.iat(),this.s0.Fv(),this.bat.Fv(),this.yht=null,this.wb.Fv()},i.L0=function(){},i.x0=function(){},i._at=function(t){},i.H0=function(t){},M(n,[{key:"D0",get:function(){return this.bat.D0},set:function(t){this.Fht=NaN,this.Hht=!1,this.iat(),this.s0.Fv(),this.yht=null,this.bat.D0=t,this.Got(!0)}},{key:"V_",get:function(){return this.Fht}},{key:"Ont",get:function(){return this.s0&&fD.K_(this.s0.JJ)}},{key:"Jg",get:function(){return this.qht}},{key:"C0",get:function(){return!1}},{key:"hot",get:function(){return!1}},{key:"F0",get:function(){return[]}}]),n}(zC),qL=1e3,zL="VEE3",GL=function(t){function n(n){var i;return(i=t.call(this,"Eat")||this).ptsOffset=n,i}return F(n,t),n}(Es),jL=function(t){function n(n){var i;return(i=t.call(this)||this).TK=void 0,i.Sat=null,i.Rat=0,i.Iat="start",i.Nat=1,i.Cat=!1,i.Dat=!1,i.Oat=0,i.xat=null,i.Pat=null,i.Bat=null,i.Lat=null,i.att=0,i.Mat=0,i.Uat=new es,i.Fat=new ju,i.Hat=void 0,i.Vat={},i.Xat=!1,i.Wat=null,i.qat=NaN,i.xut=function(){i.TK.oat.map(function(t){t.xut()})},i.mht=function(){for(var t,n,r,e=0,s=i.TK.aat;e<s.length;e++){var u=s[e],o=u.mht();if(o){var h=o.kht;h&&h.A$!==cD.Nv&&(i.Wat=h)}u.Ip===aD.Nv?t=o:u.Ip===aD.nJ&&(n=o,r=u)}(t||n)&&i.dispatchEvent({type:"lK",zat:t&&t._K,VK:t&&t.kht,zK:n&&n._K,HK:n&&n.kht,UK:!!r&&r.mot})},i.But=function(){null!==i.xat&&a(i.xat),i.xat=h(i.But,qL),i.TK.oat.forEach(function(t){return t.But()})},i.Uut=function(){null!==i.Pat&&a(i.Pat),i.Cat&&(i.Pat=h(i.Uut,qL),i.TK.oat.forEach(function(t){return t.Uut()}))},i.Mut=function(){i.TK.oat.forEach(function(t){return t.Mut()})},i.Gat=function(){if(i.TK.Ont&&i.G_>1){var t=i.TK.Wnt;i.jat>t&&(i.G_=1,i.jat>=t+1&&(i.jat="start"))}},i.Qat=function(){i.Sat&&(0===i.Sat.Yat()?i.jat="start":i.jat=i.Zat(i.Q5))},i.Jat=function(){i.Oat=i.Q5},i.$at=function(t){i.Kat(),i.Sat.error&&(t.error.info.code===zL&&i.Mat<tm?(i.Mat+=1,i.tct()):i.dispatchEvent({type:"Jo",error:t.error}))},i.nct=function(){i.Mat=0},i.ict=function(){i.removeEventListener("rct",i.ect),i.Cat?i.ect():i.addEventListener("rct",i.ect)},i.ect=function(){var t=i.Q5;i.TK.removeEventListener("d0",i.ict),i.TK.d0?i.TK.oat.forEach(function(n){return n.Hut(t)}):(i.TK.addEventListener("d0",i.ict),i.TK.gat())},i.sct=function(){var t=i.Q5;i.TK.aat.forEach(function(n){return n.Fut(t,i.TK.Ont)})},i.uct=function(){null!==i.xat&&a(i.xat),i.xat=null,null!==i.Pat&&a(i.Pat),i.Pat=null},i.hct=function(){i.act(),i.TK.d0?i.O0():(i.TK.addEventListener("d0",i.hct),i.TK.gat())},i.act=function(){i.TK.removeEventListener("d0",i.hct)},i.IK=function(t){i.TK.ntt(t.A$,t._K||void 0,t.UJ||void 0),t.gK&&i.cct(t.A$,t._K,t.UJ)},i.fct=function(t){var n=t.att-i.att;_.abs(n)>$y&&(i.att=t.att,i.Q5=i.Q5+n)},i.vct=function(t){var n=t.d9.metadata;n.p$&&(i.Vat[t.Ip]=n.p$,i.dct())},i.dct=function(){if(i.TK.d0){var t=l.keys(i.Vat).length===i.TK.oat.length;i.Sat&&!i.Sat.lct&&!i.Hat&&t&&i._ct(),i.Sat&&i.att&&(i.Sat.att=i.att)}},i.gct=function(){if(y(i.wct))if(i.TK.Ont)i.wct=0;else{var t=i.Wat,n=t&&t.$J,r=t&&$(n)&&!y(n)&&t.wZ(n)||void 0;i.wct=_D(r)?r.k5.ty():NaN}i._0&&(i.removeEventListener("lK",i.gct),i.TK.removeEventListener("v9",i.gct),i.dispatchEvent("_0",!0))},i.TK=n,n.ktt=sn(i),i}F(n,t);var i=n.prototype;return i.tct=function(){this.TK.Ont?this.jat="start":(this.Oat+=.5,this.TK.oat.map(function(t){t.Out(),t.Vut(),t.Xut()}),this.jat=this.Oat),this.dct(),this.Sat.play()},i.yct=function(t){var n=this;this.Bat&&(this.TK.removeEventListener("d0",this.Bat),this.Bat=null),this.TK.d0?(this.Dat=!0,this.Xat=!0,this.TK.wat(t),this.Xat=!1):(this.Bat=function(){return n.yct(t)},this.TK.gat())},i.mct=function(t){this.kct(),this.TK.Ont&&(t="none"),"auto"===t&&this.hct()},i.pct=function(t){var n=this;this.kct(),"none"!==t&&(this.TK.d0?this.mct(t):(this.Lat=function(){return n.mct(t)},this.TK.addEventListener("d0",this.Lat),this.TK.gat()))},i.kct=function(){this.act(),this.Lat&&(this.TK.removeEventListener("d0",this.Lat),this.Lat=null)},i.O0=function(){this.Dat?this.TK._at():(this.jat=this.Iat,this.TK._at(22)),this.Cat||(this.Cat=!0,this.dispatchEvent("rct"))},i.Act=function(){this.Sat&&(this.Sat.addEventListener("bct",this.sct),this.Sat.addEventListener("seeking",this.ict),this.Sat.addEventListener("error",this.$at),this.Sat.addEventListener("playing",this.nct)),this.TK.addEventListener("lK",this.IK),this.TK.addEventListener("rot",this.Qat),this.TK.addEventListener("d0",this.dct),this.TK.addEventListener("htt",this.fct),this.TK.addEventListener("ql",this.ict),this.M0()},i.Tct=function(){this.Sat&&(this.Sat.removeEventListener("bct",this.sct),this.Sat.removeEventListener("seeking",this.ict),this.Sat.removeEventListener("error",this.$at),this.Sat.removeEventListener("playing",this.nct)),this.TK.removeEventListener("lK",this.IK),this.TK.removeEventListener("rot",this.Qat),this.TK.removeEventListener("d0",this.dct),this.TK.removeEventListener("htt",this.fct),this.TK.removeEventListener("ql",this.ict),this.U0()},i.M0=function(){this.Sat&&(this.Sat.addEventListener("loadstart",this.hct),this.Sat.addEventListener("timeupdate",this.xut),this.Sat.addEventListener("playing",this.mht),this.Sat.addEventListener("timeupdate",this.mht),this.Sat.addEventListener("timeupdate",this.Uut),this.Sat.addEventListener("timeupdate",this.But),this.Sat.addEventListener("timeupdate",this.Jat),this.Sat.addEventListener("timeupdate",this.Gat),this.Sat.addEventListener("ended",this.uct)),this.TK.addEventListener("v9",this.vct),this.TK.addEventListener("v9",this.Mut)},i.U0=function(){null!==this.xat&&a(this.xat),null!==this.Pat&&a(this.Pat),this.Sat&&(this.Sat.removeEventListener("loadstart",this.hct),this.Sat.removeEventListener("timeupdate",this.xut),this.Sat.removeEventListener("playing",this.mht),this.Sat.removeEventListener("timeupdate",this.mht),this.Sat.removeEventListener("timeupdate",this.Uut),this.Sat.removeEventListener("timeupdate",this.But),this.Sat.removeEventListener("timeupdate",this.Jat),this.Sat.removeEventListener("timeupdate",this.Gat),this.Sat.removeEventListener("ended",this.uct)),this.TK.removeEventListener("v9",this.vct),this.TK.removeEventListener("v9",this.Mut)},i.Rtt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Fat.mh;case 2:return i=this.Sat.Rtt(n),this.Sat.loading&&(this.Sat.loaded=!0,this.Sat.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.uF=function(t,n){this.Ect.uF(t,n)},i.Dut=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Fat.mh;case 3:return t.next=5,this.Sat.Dut(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),us(t.t0)||this.dispatchEvent({type:"Jo",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i._ct=function(){var t=this,n=this.Fat,i=this.Sct(this.Hat,this.Uat.Do);this.Hat=i,i.then(function(){t.Hat===i&&(t.Hat=void 0,n.kh())},function(r){t.Hat===i&&(t.Hat=void 0,n.ph(r))})},i.Sct=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(R);case 3:return os(i),t.next=6,this.Sat._ct(this.Vat,this.TK.V_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,s=this.TK.aat;e<s.length;e++)u=s[e],r.gJ&&(u._ut=r.gJ),r.wJ&&(u.yut=r.wJ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Kat=function(){this.Uat.Io(),this.Uat=new es,this.Hat=void 0,this.Fat=new ju},i.Zat=function(t){var n=this.tw;return n.length?zt(t,n.start(0),n.end(n.length-1)):0},i.zut=function(t){var n=this.TK.kat;return n?n.zut(t):null},i.Fnt=function(t){var n=this.TK.kat;return n?n.Fnt(t):NaN},i.Lh=function(t){var n=t||"none";this.Tct(),this.Act(),this.pct(n)},i.B0=function(){this.kct()},i.Fv=function(){this.Ho(),this.Vat={},this.Ect=null},i.xl=function(){this.Kat(),this.Rct(),this.Vat={},this.Rat=0,this.Oat=0,this.Iat="start",this.att=0,this.Nat=1,this.Cat=!1,this.Dat=!1,this.Wat=null,this.TK.xl()},i.cct=function(t,n,i){if(n){this.dispatchEvent("g0"),this.U0();var r=!1,e=!1,s=!1;if("wJ"===t){e=!0;var u=this.TK.kat;u&&u.mot&&(r=!0)}else r=!0,s=!(!i||!i.uri);r&&this.Sat.gK("audio"),e&&this.Sat.gK("video"),this.TK.aat.forEach(function(t){t.Out(),r&&t.Vut(),e&&t.Xut()}),this.TK.yat(e,r,s,22),this.TK.aat.forEach(function(t){return t.Lut()}),this.M0()}},i.pg=function(){this.U0(),this.TK.Ont&&this.TK.Dht()},i.kg=function(){this.U0(),this.M0(),this.TK.x0()},i.Ict=function(t){var n=this.wct||0;return this.T$?t-n<0?0:_.round((t-n)*this.T$-.5)||0:NaN},i.Nct=function(t){var n=this.wct||0;return this.T$?n+(t+.5)/this.T$:NaN},i.Rct=function(){this.wct=NaN,this.removeEventListener("lK",this.gct),this.addEventListener("lK",this.gct),this.TK.removeEventListener("v9",this.gct),this.TK.addEventListener("v9",this.gct)},M(n,[{key:"Ect",get:function(){return this.Sat},set:function(t){this.Tct(),this.Kat(),this.nct(),this.Sat=t,this.dct()}},{key:"Q5",get:function(){return this.Sat&&!this.Xat?this.Sat.Yat():this.Rat},set:function(t){t=this.Zat(t),this.Oat=this.Rat=t,this.Sat?this.Sat.Cct(t):(this.sct(),this.ict())}},{key:"jat",get:function(){return this.Sat&&!this.Xat?this.Q5:this.Iat},set:function(t){"start"===t&&(t=this.TK.Ont?1/0:0),t=this.Zat(t),this.Iat=t,this.Oat=this.Rat=t,this.yct(Ig.hm(this.Rat)),this.Q5=t}},{key:"Aw",get:function(){return this.TK.Tot},set:function(t){this.TK.Tot=t}},{key:"G_",get:function(){return this.Sat?this.Sat.G_:this.Nat},set:function(t){var n=this.Nat;t>0&&(this.Nat=t,this.Sat&&(this.Sat.G_=t),this.TK.G5=t,this.Nat!==n&&this.dispatchEvent("Dct"))}},{key:"tw",get:function(){var t=this.TK.tw;if(!t.length||!this.TK.Ont)return t;var n=t.start(0),i=this.TK.Wnt;return i=_.max(this.Q5,i),new NO([{GR:n,QR:i}])}},{key:"Xg",get:function(){return this.zut(this.Q5)}},{key:"T$",get:function(){var t=this.Wat;return t&&t.T$||NaN}},{key:"wct",get:function(){return this.qat},set:function(t){this.qat!==t&&(this.dispatchEvent(new GL(t)),this.qat=t)}},{key:"_0",get:function(){return Boolean(this.T$)&&!y(this.wct)}}]),n}(zC),QL=function(t){function n(n){var i;return(i=t.call(this)||this).Oct=null,i.s0=void 0,i.xct=[],i.Pct=function(t){return i.Bct(t)},i.Lct=function(){return i.Mct()},i.s0=n,i.xct=[],i}F(n,t);var i=n.prototype;return i.Vb=function(t){var n,i;"metadata"===t.kind&&(t.mode=$d.Kl,n=this.s0.Q$(t.id,t.inBandMetadataTrackDispatchType),i=this.Uct.bind(this,n),this.xct.push({Fct:t,Hct:i,C$:n}),t.addEventListener("cuechange",i))},i.Ox=function(){for(var t=this.Oct.yg,n=t&&t.length,i=0;i<n;i+=1)this.Vb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Pct),t.addEventListener("change",this.Lct))},i.Uct=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,s=0;s<r;s++){var u=_I(i[s].value),o=new TI(e,u);t.Wb(o)}},i.Mct=function(){for(var t=0,n=this.xct;t<n.length;t++){var i=n[t].Fct;i.mode!==$d.Kl&&(i.mode=$d.Kl)}},i.Bct=function(t){this.Vb(t.track)},i.Vct=function(){for(var t=this.Oct,n=t&&t.yg,i=0,r=this.xct;i<r.length;i++){var e=r[i];e.Fct.removeEventListener("cuechange",e.Hct)}this.xct.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Pct),n.removeEventListener("change",this.Lct))},i.Fv=function(){this.Vct(),this.Oct=null,this.s0=null,this.Pct=null,this.Lct=null},i.xl=function(){this.Vct(),this.Oct&&this.Ox()},n}(zC),YL=function(t){function n(n){var i;return(i=t.call(this)||this).TK=void 0,i.Xct=void 0,i.Sat=null,i.Iat="start",i.Nat=1,i.zv=!1,i.Wct=null,i.qct=null,i.zct=NaN,i.Gct=NaN,i.jct=null,i.Qct=function(){i.Sat.removeEventListener("loadstart",i.Qct),i.Sat.removeEventListener("play",i.Qct),i.TK.gat()},i.xut=function(){var t=i.TK.s0.kK;if(t&&(!i.Wct||i.Wct.GR>i.Q5||i.Wct.QR<i.Q5)){var n=i.TK.wb.O9(t,Ig.hm(i.Q5));if(!n)return void i.Sat.addEventListener("timeupdate",i.xut);i.Wct={GR:n.Unt.ty(),QR:n.Unt.iw(Ig.hm(n.Lp.duration)).ty(),QY:n.Lp.QY,jJ:null},i.dispatchEvent({type:"Put",Ab:n.Lp})}},i.mht=function(){var t=i.TK.s0,n=t.pK.lJ.length?t.pK.lJ:t.w$.lJ,r=i.Sat.Y_,e=i.Sat.Q_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),u=s&&s.length?s[0]:null;u!==i.qct&&(i.qct=u,i.dispatchEvent({type:"lK",UJ:u}))},i.Yct=function(t){i.dispatchEvent({type:"lK",UJ:t.UJ})},i.Zct=function(){if(i.Sat){var t=i.Sat.tw,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Gct&&(i.Gct=n,i.zct=Gb())}},i.Jct=function(){i.zv=!0},i.$ct=function(){i.zv&&(i.zv=!1,i.Kct())},i.TK=n,i.Xct=new QL(n.s0),n.addEventListener("zv",i.Jct),n.addEventListener("Jg",i.$ct),i}F(n,t);var i=n.prototype;return i.Zat=function(t){var n=this.Sat.tw;return n.length?zt(t,n.start(0),n.end(n.length-1)):0},i.Kct=function(){if(this.Sat){var t=this.Sat.currentTime,n=this.Sat.paused;this.Sat.load(),this.Sat.currentTime=t,n||this.Sat.play()}},i.tft=function(){this.Sat&&(this.Sat.addEventListener("loadstart",this.Qct),this.Sat.addEventListener("play",this.Qct),this.Sat.addEventListener("timeupdate",this.xut),this.Sat.addEventListener("timeupdate",this.mht),f(this.jct),this.jct=c(this.Zct,250))},i.nft=function(){f(this.jct),this.Sat&&(this.Sat.removeEventListener("loadstart",this.Qct),this.Sat.removeEventListener("play",this.Qct),this.Sat.removeEventListener("timeupdate",this.xut),this.Sat.removeEventListener("timeupdate",this.mht))},i.Lh=function(t){t=t||"none",this.nft(),this.tft(),this.TK.removeEventListener("Tat",this.Yct),this.TK.addEventListener("Tat",this.Yct),"none"!==t&&this.Qct()},i.Fv=function(){this.Ho(),this.Xct.Fv(),this.Ect=null,this.TK.removeEventListener("Tat",this.Yct)},i.xl=function(){this.Iat="start",this.Nat=1,this.zv=!1,this.Wct=null,this.qct=null,this.zct=NaN,this.Gct=NaN,f(this.jct),this.Xct.xl()},i.kg=function(){},i.pg=function(){},i.B0=function(){},i.cct=function(){},i.Fnt=function(t){var n=this.TK.s0.kK;return this.TK.wb.Fnt(n,t).ty()},i.zut=function(t){var n,i,r=this.TK.s0.kK,e=this.TK.wb,s=t,u=this.Wct;if(u)u.jJ||(u.jJ=e.Mnt(r,u.QY)),n=u.GR,i=u.jJ;else{var o=e.O9(r,Ig.hm(s));if(!o)return null;n=o.Unt.ty(),i=e.Mnt(r,o.Lp.QY)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Ict=function(t){return NaN},i.Nct=function(t){return NaN},M(n,[{key:"ift",get:function(){return null}},{key:"Xg",get:function(){return this.zut(this.Q5)}},{key:"Ect",get:function(){return this.Sat},set:function(t){this.nft(),this.Sat=t,this.Sat&&(this.Xct.Oct=this.Sat,this.Xct.Ox())}},{key:"jat",get:function(){return this.Sat?this.Sat.Yat():this.Iat},set:function(t){"start"===t&&(t=this.TK.Ont?1/0:0),t=this.Zat(t),this.Iat=t,this.Sat&&this.Sat.Cct(t)}},{key:"Q5",get:function(){return this.jat},set:function(t){t=this.Zat(t),this.jat=t}},{key:"Aw",get:function(){return 1/0},set:function(t){}},{key:"G_",get:function(){return this.Sat?this.Sat.G_:this.Nat},set:function(t){t>0&&(this.Nat=t,this.Sat&&(this.Sat.G_=t))}},{key:"tw",get:function(){var t,n,i,r=this.Sat?this.Sat.tw:null,e=this.TK.wb.tw;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Gct||r.end(r.length-1))+this.TK.wb.qnt.ty(),isFinite(this.zct)&&(i+=(Gb()-this.zct)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.TK.wb.Wnt.ty()}return i=_.min(n,i),i=_.max(this.Q5,i),new NO([{GR:t,QR:i}])}},{key:"T$",get:function(){return NaN}},{key:"wct",get:function(){return NaN}},{key:"_0",get:function(){return!1}}]),n}(zC),ZL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e)||this).rft=new es,o.eft=void 0,o.Ub=void 0,o.sft=function(){return o.uft()},o.so=H_.WEBVTT,o.e_=F_.NONE,o.o_=Pf(s),o.Mo(bd.wl,o.sft),o.Ub=u,o}F(n,t);var i=n.prototype;return i.Lh=function(){this.o_&&!this.eft&&(this.eft=this.Bd(this.rft.Do),this.eft.catch(as))},i.Bd=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.o_,t.prev=1,this.e_=F_.LOADING,r=new Cf({_v:i,Ov:Ef.GET,cv:Yo.$e,Do:n}),t.next=6,this.Ub.dv(r);case 6:return e=t.sent,t.next=9,e.Os();case 9:s=t.sent,this.W1(e,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),hs(t.t0),this.TS(py(t.t0,this.o_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),i.B0=function(){this.e_!==F_.LOADED&&(this.e_=F_.NONE,this.rft.Io(),this.rft=new es,this.eft=void 0)},i.TS=function(t){this.e_=F_.ERROR,this.Lo(new n_(t))},i.Fv=function(){this.B0(),this.rft.Ao(),t.prototype.Fv.call(this)},i.uft=function(){switch(this.r_){case $d.t_:case $d.Kl:this.Lh();break;case $d.$l:this.B0()}},i.W1=function(t,n){try{for(var i=nw(n).s_,r=0;r<i.length;r++){var e=i[r];this.Wb(e)}this.e_=F_.LOADED}catch(n){this.TS(Ay(this.so,this.o_,t.hv,n))}},n}(kR);function JL(t){return ay(t.kind)}var $L=function(){function t(t,n,i,r){this.oft=void 0,this.yg=void 0,this.hft=void 0,this.Ub=void 0,this.oft=t,this.yg=i,this.hft=n,this.Ub=r,this.xl()}var n=t.prototype;return n.aft=function(t){if(this.cft(),t)if(this.hft)for(var n=0;n<t.length;n++){var i=t[n];this.JS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.fft(e)}},n.JS=function(t){var n=JL(t);if(yy(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.oft.appendChild(i)}},n.fft=function(t){var n=JL(t),i=new ZL(n,t.id,t.label,t.srclang,t.src,this.Ub);t.default&&(i.r_=$d.t_),this.yg.Cl(i)},n.cft=function(){for(var t=this.yg.Pl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.vft&&this.yg.Dl(i)}},n.dft=function(){this.cft()},n.xl=function(){this.cft()},t}(),KL=function(){function t(t){this.m0=void 0,this.m0=t}var n=t.prototype;return n.Mo=function(t,n){this.m0.addEventListener(t,n)},n.Vo=function(t,n){this.m0.removeEventListener(t,n)},M(t,[{key:"H_",get:function(){return this.m0.currentTime}},{key:"z_",get:function(){return this.m0.paused}},{key:"j_",get:function(){return this.m0.seeking}}]),t}(),tM=function(t){function n(n,i){var r;(r=t.call(this)||this).lft=void 0,r.yg=void 0,r._ft=void 0,r.gft=void 0,r.Sat=void 0,r.wft=!0,r.yft=function(t){return r.mft(t)},r.kft=function(){return r.pft()},r.Aft=function(){return r.bft()},r.Tft=function(){return r.Eft()},r.Pct=function(t){return r.Bct(t.ul)},r.Sft=function(t){return r.Rft(t.ul)},r.Ift=function(){return r.Nft()},r.lft=n,r.yg=i,r.lft.addEventListener("seeking",r.Ift),r.lft.addEventListener("seeked",r.Ift),r._ft=new bI(new KL(n));for(var e=0,s=r.yg.Pl;e<s.length;e++){var u=s[e];r.Bct(u)}return r.yg.Mo(md.Jd,r.Pct),r.yg.Mo(md.Kd,r.Sft),r}F(n,t);var i=n.prototype;return i.mft=function(t){this.yg.Cl(t.ul)},i.pft=function(){for(var t=this.yg.Pl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.vft&&this.yg.Dl(i)}},i.bft=function(){var t=this.Ect,n=[],i=t&&t.yg;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var s=e.THEOplayerTextTrack;if(!s){var u=this.oW(e);s=new wI(e,u,this.hV),e.THEOplayerTextTrack=s,this.yg.Cl(s)}n.push(s)}}for(var o=0,h=this.yg.Pl;o<h.length;o++){var a=h[o];yI(a)&&-1===n.indexOf(a)&&this.yg.Dl(a)}},i.oW=function(t){for(var n=this.Ect.Wg.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Eft=function(){for(var t=0,n=this.yg.Pl;t<n.length;t++){var i=n[t];yI(i)&&i.aV()}},i.Nft=function(){this.Cft()},i.Bct=function(t){t instanceof kR&&this._ft.Cl(t)},i.Rft=function(t){t instanceof kR&&this._ft.Dl(t)},i.Cft=function(){var t=this.yg.Pl;if(t.length)for(var n=this.lft.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof kR){for(var s=[],u=0,o=e.s_.Pl;u<o.length;u++){var h=o[u];if(!(h.Aw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];e.xH(c)}}}},i.Fv=function(){this.lft.removeEventListener("seeking",this.Ift),this.lft.removeEventListener("seeked",this.Ift);for(var t=0,n=this.yg.Pl;t<n.length;t++){var i=n[t];this.Rft(i)}this.yg.Vo(md.Jd,this.Pct),this.yg.Vo(md.Kd,this.Sft),this._ft.Fv(),this.s0=null,this.Ect=null},M(n,[{key:"s0",get:function(){return this.gft},set:function(t){var n=this.gft;if(n){for(var i=0,r=n.yg;i<r.length;i++){var e=r[i];this.yg.Dl(e)}n.removeEventListener("Y$",this.yft),n.removeEventListener("Fv",this.kft)}if(this.gft=t,t){for(var s=0,u=t.yg;s<u.length;s++){var o=u[s];this.yg.Cl(o)}t.addEventListener("Y$",this.yft),t.addEventListener("Fv",this.kft)}}},{key:"Ect",get:function(){return this.Sat},set:function(t){var n=this.Sat;n&&n.yg&&n.yg.removeEventListener&&(n.yg.removeEventListener("addtrack",this.Aft),n.yg.removeEventListener("removetrack",this.Aft),n.yg.removeEventListener("change",this.Tft)),this.Sat=t,t&&t.yg&&t.yg.addEventListener&&(t.yg.addEventListener("addtrack",this.Aft),t.yg.addEventListener("removetrack",this.Aft),t.yg.addEventListener("change",this.Tft)),this.bft(),this.Eft()}},{key:"hV",get:function(){return this.wft},set:function(t){if(this.wft!==t){this.wft=t;for(var n=0,i=this.yg.Pl;n<i.length;n++){var r=i[n];yI(r)&&(r.hV=t)}}}}]),n}(zC),nM=function(){function t(t,n){this.Lv=void 0,this.Zd=void 0,this.Dft=[],this.Oft=new Zo,this.xft=ie(),this.Pft=new es,this.Lv=!(!t||t.crossOrigin!==ll.T_&&!t.Bft),this.Zd=n}var n=t.prototype;return n.Lft=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c,f;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=T.Pu(n),e=0,s=this.Dft;e<s.length;e++)null===(u=s[e]).vs||void 0===u.vs?r.searchParams.delete(u.Mft):r.searchParams.set(u.Mft,u.vs);return t.prev=2,o=new Cf({_v:r.href,cv:Yo.Nc,av:this.Oft,Lv:this.Lv,Ov:Ef.GET,Do:i,so:Sf.kv,Pv:Rf.Iv}),t.next=6,this.Zd.dv(o);case 6:return h=t.sent,t.next=9,h.Os();case 9:return a=t.sent,c=new m(a),f=new m(16),16!==c.length&&_t("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=Wu(c,0,16)),f.set(c,16-c.length),t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t.catch(2),hs(t.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return E.reject(new QC(jC.HY,{code:"CAD1603"}));var i=this.xft.get(n);return i||(i=this.Lft(n,this.Pft.Do),this.xft.set(n,i)),i},n.Fv=function(){this.Pft.Io(),this.xft.clear()},n.Uft=function(t,n){this.Dft.push({Mft:t,vs:n})},n.Fft=function(t,n){this.Oft.append(t,n)},t}(),iM=function(t){this.lft=void 0,this.lft=t},rM=s.createElement("video");var eM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iht=function(t){return!!function(t){return rM.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(iM);GC.Qe.EL("AvoidUnsupportedCodecsRule",eM);var sM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iht=function(t,n,i,r){return!("d8"===r.p9)||t.bandwidth<2e6},n}(iM);GC.Qe.EL("AvoidHighBitrateStreamsRule",sM);var uM=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Hft=function(t){if(!t.resolution)return!0;var n=this.lft.element.getBoundingClientRect(),i=e.innerWidth||s.documentElement.clientWidth,r=e.innerHeight||s.documentElement.clientHeight,u=_.max(0,_.min(n.right,i)-_.max(0,n.left)),o=_.max(0,_.min(n.bottom,r)-_.max(0,n.top)),h=T.Mu.eu;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.iht=function(t){return this.Hft(t)},n}(iM);GC.Qe.EL("AvoidVideoResolutionGreaterThanDisplaySizeRule",uM);var oM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iht=function(t,n,i){if(i.I6<=0)return!1;var r=i&&.8*i.I6;return!(r&&!y(r)&&t.bandwidth)||r>t.bandwidth*this.lft.playbackRate},n}(iM);GC.Qe.EL("DownloadMetricRule",oM);var hM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iht=function(t){return!0},n}(iM);GC.Qe.EL("LimitVideoQualityToDisplaySizeRule",hM);var aM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iht=function(t,n){return!n||(n.A$===cD.wv||t.A$===cD.wv||(n.A$===cD.GZ||t.A$===cD.GZ||n.A$===t.A$))},n}(iM);function cM(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function fM(t,n){var i=n;for(var r in t)it(t[r])?(i[r]=i[r]||{},fM(t[r],i[r])):Z.call(i,r)||(i[r]=t[r]);return i}function vM(t,n){var i=fM(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case ll.b_:case ll.T_:break;default:n=ll.E_}return t&&t.withCredentials&&(n=ll.T_),t&&t.vr&&t.vr[360]&&n===ll.E_&&(n=ll.b_),n}(i),i}function dM(t){st(t)&&t.then(R,R)}GC.Qe.EL("OnlyAllowSameTrackTypeRenditionsRule",aM);var lM,_M=500,gM=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],wM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Vft=void 0,r.dS=void 0,r.Xft=void 0,r._S=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.sX=function(){var t=r.dS.HS.error&&r.dS.HS.error.code;t&&r.TS(new QC(jC.MY,{code:"VEE"+t}))},r.Wft=function(t){r.dispatchEvent({type:t.type,error:r.dS.HS.error})},r.qft=function(){a(r.Xft),r.Xft=void 0,r.dS.HS.removeEventListener("timeupdate",r.qft),r.dS.Vo(Ll.F_,r.qft)},r.zft=function(){void 0!==r.Xft&&r.qft(),r.Xft=h(function(){r.dS.HS.currentTime+=.1,r.qft()},_M),r.dS.HS.addEventListener("timeupdate",r.qft),r.dS.Mo(Ll.F_,r.qft)},r.Gft=function(){switch(r.dS.HS.readyState){case yl.D_:case yl.O_:case yl.x_:r.zft();break;case yl.C_:case yl.N_:}},r.Vft=n,r.dS=i,r}F(n,t);var i=n.prototype;return i.setup=function(){this.j$(),this.dS.HS.parentNode!==this.Vft&&this.Vft.appendChild(this.dS.HS),this.loaded=!1,this.dS.HS.preload="metadata",this.dS.HS.addEventListener("play",this.Gft),this.dS.HS.addEventListener("loadeddata",this.Gft),this.dispatchEvent("jft")},i.j$=function(){for(var t=0;t<gM.length;t++){var n=gM[t];this.dS.HS.addEventListener(n,this.Wft,!0)}this.dS.HS.addEventListener("error",this.sX,!0),this.dS.Mo(Ll.ml,this.Wft),this.dS.Mo(Ll.F_,this.Wft)},i.Qft=function(){for(var t=0;t<gM.length;t++){var n=gM[t];this.dS.HS.removeEventListener(n,this.Wft,!0)}this.dS.HS.removeEventListener("error",this.sX,!0),this.dS.Vo(Ll.ml,this.Wft),this.dS.Vo(Ll.F_,this.Wft)},i.TS=function(t){this._S=t,this.dispatchEvent({type:"error",error:t})},i.Rtt=function(){return E.resolve()},i.load=function(){this.dS.HS.load(),this.loaded=!0},i.unload=function(){return this.qft(),this.Ho(),this.Qft(),this.dS.HS.removeEventListener("play",this.Gft),this.dS.HS.removeEventListener("loadeddata",this.Gft),xr(this.dS.HS),this.dS.HS},i.play=function(){var t=this.G_;dM(this.dS.HS.play()),this.G_=t},i.pause=function(){this.dS.HS.pause()},i.Ag=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Cct(0)}catch(t){}this.dispatchEvent("reset")},i.xg=function(){return this.dS.HS},i.Yat=function(){return this.dS.HS.currentTime},i.Cct=function(t){this.dS.HS.currentTime=t},i.canPlayCodecs=function(t){return this.dS.HS.canPlayType('video/mp4; codecs="'+t+'"')},M(n,[{key:"lct",get:function(){return!0}},{key:"Wg",get:function(){return this.dS.HS}},{key:"Vg",get:function(){return this.dS.HS.buffered}},{key:"Z_",get:function(){return this.dS.HS.volume},set:function(t){this.dS.HS.volume=t}},{key:"duration",get:function(){return this.dS.HS.duration}},{key:"muted",get:function(){return this.dS.HS.muted},set:function(t){this.dS.HS.muted=t}},{key:"paused",get:function(){return this.dS.HS.paused}},{key:"played",get:function(){return this.dS.HS.played}},{key:"poster",get:function(){return this.dS.HS.poster},set:function(t){t?this.dS.HS.poster=t:this.dS.HS.removeAttribute("poster")}},{key:"controls",get:function(){return this.dS.HS.controls},set:function(t){t?this.dS.HS.controls=t:this.dS.HS.removeAttribute("controls")}},{key:"ended",get:function(){return this.dS.HS.ended}},{key:"seeking",get:function(){return this.dS.HS.seeking}},{key:"error",get:function(){return this.dS.HS.error}},{key:"width",get:function(){return this.dS.HS.offsetWidth}},{key:"height",get:function(){return this.dS.HS.offsetHeight}},{key:"src",get:function(){return this.dS.HS.src},set:function(t){this.dS.HS.src=t}},{key:"Y_",get:function(){return this.dS.HS.videoWidth}},{key:"Q_",get:function(){return this.dS.HS.videoHeight}},{key:"yg",get:function(){return this.dS.HS.textTracks}},{key:"Ont",get:function(){return this.dS.HS.duration===1/0}},{key:"tw",get:function(){var t=this.dS.HS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Yat()||0),new NO([{GR:n,QR:i}])}},{key:"G_",get:function(){return this.dS.HS.playbackRate},set:function(t){t>0&&(this.dS.HS.playbackRate=t)}},{key:"e_",get:function(){return this.dS.e_}},{key:"Yft",get:function(){return void 0!==this.dS.HS.webkitSupportsPresentationMode&&this.dS.HS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Zft",get:function(){return"picture-in-picture"===this.dS.HS.webkitPresentationMode}},{key:"Jft",get:function(){return this.dS.HS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.dS.HS.webkitSetPresentationMode(t)}}]),n}(zC);!function(t){t[t.$ft=0]="$ft",t[t.Kft=1]="Kft",t[t.vQ=2]="vQ",t[t.tvt=3]="tvt",t[t.nvt=4]="nvt"}(lM||(lM={}));var yM=function(){function t(){this.ivt=!1,this.rvt=null,this.evt=null,this.svt=null,this.eL=[],this.uvt=null}var n=t.prototype;return n.ovt=function(){if(!this.ivt)return!1;for(var t=this.rvt,n=this.evt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.avt=function(t){switch(t.so){case lM.$ft:return this.cvt(t.Os,t.Unt,t.VD);case lM.Kft:return this.fvt(t.vvt);case lM.vQ:return this.dvt(t.lvt,t._vt);case lM.tvt:return this.sL();case lM.nvt:return this.gvt(t.VD)}},n.cvt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.evt,y(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.wvt();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.fvt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.evt,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),s=_.min(r.end(0),n),!((u=s-e)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(e,s),t.next=11,this.wvt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dvt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rvt,r=this.evt,e=r.buffered,!((s=e.length)>0)){t.next=12;break}if(u=_.max(e.start(0),n),o=_.min(e.end(s-1),i),!(o-u>0)){t.next=12;break}return r.remove(u,o),t.next=12,this.wvt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.sL=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.rvt,i=this.evt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,wd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.gvt=function(t){return E.resolve(t())},n.yvt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jF(n)){t.next=5;break}return t.next=3,ys(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jF=function(t){var n=this.rvt;if(!n.open||"open"!==n.readyState||!this.ovt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.wvt=function(){var t=this;return new E(function(n,i){var r,e=t.evt,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?n():i(new v(r))},c=function(){e.removeEventListener("update",u),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",u),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.mvt=function(){var t=this;this.svt||(0!==this.eL.length||this.uvt)&&this.ovt()&&(this.svt=this.kvt().then(function(){t.svt=null}))},n.kvt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.eL.length>0)){t.next=9;break}if(this.ovt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.eL.shift(),t.next=7,this.avt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.yvt("decode").catch(R);case 16:if(!this.uvt){t.next=26;break}return t.prev=17,t.next=20,this.yvt(this.uvt.Jo);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.uvt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.Ox=function(t,n){this.ivt||(this.ivt=!0,this.rvt=t,this.evt=n,this.mvt())},n.iw=function(t,n,i){this.eL.push({so:lM.$ft,Os:t,Unt:n,VD:i}),this.mvt()},n.pvt=function(t,n){this.eL.push({so:lM.vQ,lvt:t,_vt:n}),this.mvt()},n.Avt=function(t){this.eL.push({so:lM.Kft,vvt:t}),this.mvt()},n.Io=function(){this.eL.push({so:lM.tvt}),this.mvt()},n.bvt=function(t){this.eL.push({so:lM.nvt,VD:t}),this.mvt()},n.Dut=function(t){this.uvt={Jo:t},this.mvt()},n.hh=function(){this.eL.length=0,this.uvt=null},t}();var mM=function(t){function n(n){var i;return(i=t.call(this)||this).rvt=void 0,i.evt=null,i.Tvt=new yM,i.Aw=NaN,i.Evt=null,i.Bo=function(t){return i.dispatchEvent(t)},i.Svt=function(){return i.a9()},i.rvt=n,i.xl(),i}F(n,t);var i=n.prototype;return i.Rvt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.Rtt=function(t,n,i,r){var e=this;if(!this.evt||!n)return E.resolve();var s=n.initializer.Os,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Evt,s);if(r&&(Y.Pe||this.Tvt.Io()),r)if(Y.Pe);else{var o=t&&t.GR,h=t&&t.GR+t.V_-.5;this.Tvt.pvt(o,h)}return u&&(this.Tvt.iw(s,i,this.Rvt.bind(this)),this.Evt=s),new E(function(t,r){e.Tvt.iw(n.m4s.Os,i,function(n){n?r(n):t()})})},i.nF=function(){var t=this;return new E(function(n){t.Tvt.bvt(function(){var i=t.Vg;i&&i.length&&(t.Aw=i.end(i.length-1)),n()})})},i.Ivt=function(t){if(!this.evt){try{this.evt=this.rvt.addSourceBuffer(t),this.evt.addEventListener("updatestart",this.Bo),this.evt.addEventListener("updateend",this.Bo)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.rvt.addEventListener("sourceclose",this.Svt),this.Tvt.Ox(this.rvt,this.evt)}return!0},i.ovt=function(){for(var t=0;t<this.rvt.sourceBuffers.length;t++)if(this.rvt.sourceBuffers[t]===this.evt)return!0;return!1},i.Mh=function(t){var n=this,i=this.Vg;if(!(this.evt&&i&&i.length))return t&&t();this.evt.remove(0,i.end(i.length-1)),t&&this.evt.addEventListener("updateend",function i(r){n.evt.removeEventListener("updateend",i),t()})},i.xl=function(t){this.Evt=null,this.Aw=NaN,this.a9(),this.Mh(t)},i.Avt=function(t){this.evt&&this.Tvt.Avt(t)},i.Dut=function(t){this.evt&&this.Tvt.Dut(t)},i.a9=function(){this.Tvt.hh(),"open"===this.rvt.readyState&&this.evt&&this.evt.updating&&this.evt.abort()},M(n,[{key:"Vg",get:function(){return this.evt&&this.ovt()?new NO(MO(this.evt.buffered)):null}},{key:"bO",get:function(){return this.evt&&this.evt.updating}},{key:"X_",get:function(){var t=this.Vg;return!t||!y(this.Aw)&&BO(t,this.Aw)}}]),n}(zC),kM="mp4a.40.34";var pM=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Nvt=!1,i._N=function(){var t=i.Nvt;i.Nvt=i.bO,!t&&i.Nvt?i.dispatchEvent("updatestart"):t&&!i.Nvt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new mM(n),i.videoTrackBuffer=new mM(n),i.audioTrackBuffer.addEventListener("updatestart",i._N),i.videoTrackBuffer.addEventListener("updatestart",i._N),i.audioTrackBuffer.addEventListener("updateend",i._N),i.videoTrackBuffer.addEventListener("updateend",i._N),i.xl(),i}F(n,t);var i=n.prototype;return i.Rtt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.gJ&&i.push(this.audioTrackBuffer.Rtt(n.metadata.gJ,n.gJ,n.metadata.gJ&&n.metadata.gJ.w3===kM?n.metadata.gJ.GR:NaN,n.metadata.g4)),n.wJ&&i.push(this.videoTrackBuffer.Rtt(n.metadata.wJ,n.wJ,NaN,n.metadata.g4)),t.next=7,E.all(i);case 7:this.X_&&(this.audioTrackBuffer.Dut(),this.videoTrackBuffer.Dut());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dut=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.nF()),i&&r.push(this.videoTrackBuffer.nF()),t.next=5,E.all(r);case 5:this.X_&&(this.audioTrackBuffer.Dut(),this.videoTrackBuffer.Dut());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ox=function(t){var n,i={};for(var r in t)if(Z.call(t,r)){var e=t[r];if(e.wJ){var s='video/mp4; codecs="'+e.wJ+'"';this.videoTrackBuffer.Ivt(s),i.wJ=this.videoTrackBuffer}if(e.gJ){var u=(n=e.gJ)!==kM||qy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Ivt(u),i.gJ=this.audioTrackBuffer}0}return i},i.xl=function(t){var n=!1,i=!1;this.Nvt=!1,this.audioTrackBuffer.xl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.xl(function(){if(i=!0,n&&t)return t()})},i.Avt=function(t){this.audioTrackBuffer.Avt(t),this.videoTrackBuffer.Avt(t)},i.a9=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.a9(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.a9()},M(n,[{key:"Vg",get:function(){var t=this.audioTrackBuffer.Vg,n=this.videoTrackBuffer.Vg;return t&&n?xO(t,n):t||n||CO}},{key:"jL",get:function(){return this.audioTrackBuffer.Vg||CO}},{key:"QL",get:function(){return this.videoTrackBuffer.Vg||CO}},{key:"bO",get:function(){return this.audioTrackBuffer.bO||this.videoTrackBuffer.bO}},{key:"X_",get:function(){return this.audioTrackBuffer.X_&&this.videoTrackBuffer.X_}}]),n}(zC),AM=1,bM=.05,TM=.01;function EM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function SM(t,n,i,r){var e=LO(n,t),s=t;if(!(!r&&e>=0&&t<n.end(e)-bM)){var u,o;do{if((u=EM(t,n))<0)return;t=(o=n.start(u)+TM)+bM}while(n.end(u)-o<bM);for(var h=o-s,a=xO(new NO([{GR:s,QR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-s),h<AM?o:void 0}}var RM=100,IM=1e-4,NM=500,CM=Yy,DM=Y.be,OM=5,xM=["resize","volumechange"],PM=function(n){function i(t,i){var r;return(r=n.call(this)||this).Cvt=void 0,r.dS=void 0,r.Dvt=!0,r.X_=!1,r.Ovt=!1,r.xvt=!1,r.Pvt=null,r.Jo=!1,r.rvt=null,r.evt=null,r.Bvt=null,r.ivt=!1,r.Lvt=0,r.Mvt=rA.NI(),r.Nat=1,r.Uvt=!1,r.aH=!1,r.j_=!1,r.Fvt=new es,r.Hvt=!1,r.Vvt=!1,r.Xvt=void 0,r.Wvt=null,r.qvt=null,r.zvt=yl.N_,r.Gvt=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.jvt=function(){r.Gvt=!1,r.Qvt(),r.Yvt(),r.Zvt()},r.Jvt=function(){r.$vt(),r.Zvt(),r.Kvt()},r.RS=function(){r.tdt(),r.$vt(),r.lH()?r.dispatchEvent("playing"):r.Gvt=!0},r.ndt=function(){r.Gvt=!1,r.Qvt(),r.Ag()},r.GF=function(){r.idt()},r.SS=function(){r.rdt(),r.Kvt()},r.SF=function(){var t=r.zvt,n=r.e_;t!==n&&(r.zvt=n,r.dispatchEvent(new t_(r.Yat(),n))),r.Kvt()},r.Yvt=function(){r.Lvt&&(f(r.Lvt),r.Lvt=0,DM&&(r.dS.HS.removeEventListener("timeupdate",r.vW),r.removeEventListener(Ll.ml,r.gW)))},r.edt=function(){r.Lvt||(r.Lvt=c(r.sdt,NM)),DM&&(r.dS.HS.addEventListener("timeupdate",r.vW),r.addEventListener(Ll.ml,r.gW),r.vW()),r.sdt()},r.udt=function(){var t=r.Yat(),n=BO(r.odt,t);r.dS.z_||r.j_&&!n||r.hdt()||r.edt()},r.sdt=function(t){if(!(r.Wvt||void 0===t&&r.Vvt)){var n,i=r.Yat(),e=r.Vg;if(void 0===t){if(void 0===(n=SM(i,e,r.odt,r.Ovt)))return}else{if(!BO(e,t))return;n=t}var s=function(){r.dS.HS.currentTime=n,r.adt(n),r.Yvt(),r.Vvt=!0};jt(n,i)?r.Wvt=h(function(){r.Wvt=null,i=r.Yat(),jt(n,i)&&(n+=1e3*NM,s())},NM):s()}},r.ZW=function(){var t=r.Bvt;if(r.cdt(),r.dS.HS.readyState===yl.N_)return r.Bvt=t,void r.dS.HS.addEventListener("loadedmetadata",r.ZW);_.abs(r.dS.HS.currentTime-t)<IM?r.SS():(r.dS.HS.currentTime=t,r.Vvt=!1,r.GF()),r.Bvt=null,r.eP(r.Nat),r.dS.XW(),r.fdt(t)&&r.Ag()},r.vdt=function(){if(!r.Ovt){var t=r.dS.HS,n=r.Vg,i=t.currentTime;r.ddt(n,i)&&(r.Ovt=!0,r.$vt(),i=t.currentTime,r.ddt(n,i)?r.Ovt=!0:r.Ovt=!1,r.SF()),r.qvt=i}},r.tdt=function(){r.Qvt(),r.Pvt=c(r.vdt,RM)},r.Qvt=function(){r.Ovt=!1,f(r.Pvt)},r.ldt=function(){r.Ovt&&(r.Ovt=!1,r.SF())},r.vW=function(){var t=r.evt;if(t)if(t.X_)r.dW();else{var n=t.jL,i=t.QL;if(0!==n.length&&0!==i.length){var e=r.Yat();if(e<n.start(0)||e<i.start(0))r.dW();else BO(n,e)!==BO(i,e)?r.lW():r.dW()}else r.dW()}},r.gW=function(){if(!(r.j_||r.Vvt||r.dS.HS.seeking||r.e_>=yl.O_)){var t=r.evt;if(t){var n=r.Yat(),i=rA.SI(t.jL),e=rA.SI(t.QL);if(i.sR(n)&&e.sR(n))i.vI(e).wI(n-OM,n)&&(r.dS.HS.currentTime=n,r.Vvt=!0)}}},r._dt=function(){r.rvt.open=!0,r.rvt.removeEventListener("sourceopen",r._dt),r.rvt.removeEventListener("webkitsourceopen",r._dt)},r.sX=function(t){var n=r.dS.HS.error&&r.dS.HS.error.code;n&&r.TS(new QC(jC.MY,{code:"VEE"+n}))},r.Bo=function(t){r.dispatchEvent({type:t.type})},r.gdt=function(){r.evt&&r.evt.X_&&r.dispatchEvent("durationchange")},r.wdt=function(){r.removeEventListener("ydt",r.wdt),r.Hvt=!1,r.mdt(r.Nat)},r.Cvt=t,r.dS=i,r}F(i,n);var r=i.prototype;return r.mdt=function(t){this.aH&&(t=0),this.dS.G_=t,0!==t||CM?this.Uvt&&(this.Uvt=!1,dM(this.dS.kg())):(this.Uvt=!this.dS.z_||this.Uvt,this.dS.pg()),this.Zvt()},r.eP=function(t){this.Nat=t,this.Hvt||this.mdt(t)},r.kdt=function(t){var n=LO(this.odt,t);return-1===n?null:this.odt.end(n)},r.idt=function(){this.Vvt||this.j_||(this.j_=!0,this.dispatchEvent("seeking"))},r.rdt=function(){this.Vvt=!1,this.pdt(),this.j_&&(this.j_=!1,this.dispatchEvent("seeked")),this.udt()},r.$vt=function(){this.Vvt||this.udt()},r.pdt=function(){this.Xvt&&(a(this.Xvt),this.Xvt=void 0)},r.adt=function(t){var n=this;this.Xvt=h(function(){n.sdt(t+2)},750)},r.Kvt=function(){this.Gvt&&this.lH()&&(this.Gvt=!1,this.dispatchEvent("playing"))},r.Zvt=function(){var t=this.Dvt,n=this.paused;this.Dvt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.uF=function(t,n){if(!(t+.001>n)){var i=new rA([t,n]);this.Mvt=this.Mvt.fI(i).dI(rA.SI(this.Vg)),this.Mvt.sR(this.Yat())&&this.udt()}},r.fdt=function(t){return t>=this.dS.HS.duration-(this.paused?0:.5)},r.Adt=function(t){return y(this.dS.HS.duration)||(t=_.min(t,this.dS.HS.duration)),_.max(0,t)},r.cdt=function(){this.Bvt=null,this.dS.HS.removeEventListener("loadedmetadata",this.ZW)},r.gH=function(){return this.e_<yl.O_},r.lH=function(){return!(this.paused||this.ended||this.error||this.gH())},r.ddt=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-bM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.qvt&&this.qvt===n){if(this.fdt(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.lW=function(){this.aH||(this.aH=!0,this.mdt(0),this.SF())},r.dW=function(){this.aH&&(this.aH=!1,this.eP(this.Nat),this.dS.HS.currentTime=this.dS.HS.currentTime,this.SF())},r.bdt=function(){var t=this.dS.HS;t.addEventListener("timeupdate",this.ldt),this.dS.Mo(Qo.cc,this.jvt),this.dS.Mo(Qo.fc,this.Jvt),this.dS.Mo(Qo.ic,this.ndt),t.addEventListener("seeking",this.GF),t.addEventListener("seeked",this.SS);for(var n=0;n<xM.length;n++){var i=xM[n];t.addEventListener(i,this.Bo)}t.addEventListener("error",this.sX),t.addEventListener("durationchange",this.gdt),this.dS.Mo(Qo.Tc,this.Bo),this.dS.Mo(Ll.ml,this.SF),this.dS.Mo(Ll.F_,this.RS)},r.Tdt=function(){var t=this.dS.HS;t.removeEventListener("timeupdate",this.ldt),this.dS.Vo(Qo.cc,this.jvt),this.dS.Vo(Qo.fc,this.Jvt),this.dS.Vo(Qo.ic,this.ndt),t.removeEventListener("seeking",this.GF),t.removeEventListener("seeked",this.SS);for(var n=0;n<xM.length;n++){var i=xM[n];t.removeEventListener(i,this.Bo)}t.removeEventListener("error",this.sX),t.removeEventListener("durationchange",this.gdt),this.dS.Vo(Qo.Tc,this.Bo),this.dS.Vo(Ll.ml,this.SF),this.dS.Vo(Ll.F_,this.RS)},r.Edt=function(){var n=this.dS.HS,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Sdt(),this.rvt=new i,this.rvt.addEventListener("sourceopen",this._dt),this.rvt.addEventListener("webkitsourceopen",this._dt),n.src=dO(this.rvt),n.load()):this.TS(new QC(jC.FY,{code:"MVE2720"})):this.TS(new QC(jC.FY,{code:"MVE2650"}))},r.Sdt=function(){if(this.ivt=!1,this.evt&&(this.evt.xl(),this.evt=null),this.rvt){this.Fvt.Io();var t=this.dS.HS;t.src&&(lO(t.src),xr(t)),this.rvt=null}},r.setup=function(){this.Edt(),this.bdt(),this.dS.HS.parentNode!==this.Cvt&&this.Cvt.appendChild(this.dS.HS)},r.TS=function(t){this.Jo=t,this.dispatchEvent({type:"error",error:t})},r.hdt=function(){return this.evt&&this.evt.bO},r.Rdt=function(t){var n=this.Yat()-_.max(30,3*t.UJ.gZ.targetDuration);this.dispatchEvent("ydt"),this.evt&&!t._4&&this.evt.Avt(n),this.udt()},r.Rtt=function(t){if(!this.rvt.open||"closed"===this.rvt.readyState)return E.reject("Idt");if(!this.evt)return E.reject("Ndt");var n=this.Cdt(t);return this.xvt||(this.xvt=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.Cdt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.evt.Rtt(n)),i._4&&r.push(this.Dut(!!n.gJ,!!n.wJ)),n=null,t.next=7,E.all(r);case 7:this.Rdt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Dut=function(t,n){return this.rvt.open&&"closed"!==this.rvt.readyState?this.evt?this.evt.Dut(t,n):E.reject("Ndt"):E.reject("Idt")},r.play=function(){var t=this.dS.G_;this.X_=!1,0!==this.dS.G_||CM?(dM(this.dS.kg()),this.dS.XW(),this.dS.G_=t):this.Uvt=!0,this.Zvt()},r.pause=function(){0!==this.dS.G_||CM?this.dS.pg():this.Uvt=!1,this.Zvt()},r.Ag=function(){this.X_||(this.X_=!0,this.dS.pg(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return f(this.Pvt),this.Pvt=null,this.Yvt(),this.cdt(),this.Sdt(),this.Tdt(),this.Ho(),this.dS.HS},r.reset=function(){f(this.Pvt),this.Pvt=null,this.Yvt(),this.cdt(),this.Dvt=!0,this.X_=!1,this.Ovt=!1,this.xvt=!1,this.Jo=!1,this.j_=!1,this.Gvt=!1,this.dW(),this.Edt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.xg=function(){return this.dS.HS},r.Yat=function(){return null===this.Bvt?this.dS.HS.currentTime:this.Bvt},r.Cct=function(t){var n=this.kdt(t);t=this.Adt(t),this.Ovt=!1,this.dS.HS.error&&(this.xvt=!1,this.Jo=!1,this.Edt()),this.X_&&(this.X_=this.fdt(t)),this.Yvt(),null!==n&&(t=n),this.cdt(),this.Bvt=t,this.j_=!0,this.dispatchEvent("bct"),this.dispatchEvent("seeking"),this.ZW()},r.Ddt=function(t){return this.rvt.open?E.resolve(null):wd(this.rvt,"sourceopen",t)},r.Odt=function(t,n,i){os(i),n>0&&(this.rvt.duration=n),this.evt=new pM(this.rvt);var r=this.evt.Ox(t);return this.dispatchEvent("jft"),this.evt.addEventListener("updatestart",this.Yvt),this.evt.addEventListener("updateend",this.udt),this.ivt=!0,this.dispatchEvent("ivt"),r},r._ct=function(t,n,i){var r=this;this.Fvt.Io();var e=new es;return e.No(i),this.Fvt=e,this.evt?E.resolve(null):this.Ddt(e.Do).then(function(){return r.Odt(t,n,i)})},r.gK=function(t){Y.Pe&&(this.Hvt=!0,this.mdt(0),this.removeEventListener("ydt",this.wdt),this.addEventListener("ydt",this.wdt),this.evt&&this.evt.a9(t))},r.canPlayCodecs=function(t){return this.dS.HS.canPlayType('video/mp4; codecs="'+t+'"')},M(i,[{key:"odt",get:function(){return this.Mvt.uR()}},{key:"e_",get:function(){var t=this.dS.e_;return t>yl.D_&&(this.Ovt||this.aH)?yl.D_:t}},{key:"Wg",get:function(){return this.dS.HS}},{key:"Vg",get:function(){return this.evt?this.evt.Vg:this.dS.HS.buffered}},{key:"jL",get:function(){return this.evt?this.evt.jL:CO}},{key:"QL",get:function(){return this.evt?this.evt.QL:CO}},{key:"volume",get:function(){return this.dS.HS.volume},set:function(t){this.dS.HS.volume=t}},{key:"duration",get:function(){return this.dS.HS.duration}},{key:"muted",get:function(){return this.dS.HS.muted},set:function(t){this.dS.HS.muted=t}},{key:"paused",get:function(){return this.dS.z_&&!this.Uvt}},{key:"played",get:function(){return this.dS.HS.played}},{key:"poster",get:function(){return this.dS.HS.poster},set:function(t){t?this.dS.HS.poster=t:this.dS.HS.removeAttribute("poster")}},{key:"controls",get:function(){return this.dS.HS.controls},set:function(t){t?this.dS.HS.controls=t:this.dS.HS.removeAttribute("controls")}},{key:"ended",get:function(){return this.X_}},{key:"seeking",get:function(){return this.j_}},{key:"error",get:function(){return this.Jo||this.dS.HS.error}},{key:"width",get:function(){return this.dS.HS.offsetWidth||this.dS.HS.parentNode.offsetWidth}},{key:"height",get:function(){return this.dS.HS.offsetHeight||this.dS.HS.parentNode.offsetHeight}},{key:"G_",get:function(){return this.Nat},set:function(t){var n=this.Nat;t>0&&(this.eP(t),this.Nat!==n&&this.dispatchEvent("ratechange"))}},{key:"Y_",get:function(){return this.dS.HS.videoWidth||0}},{key:"Q_",get:function(){return this.dS.HS.videoHeight||0}},{key:"lct",get:function(){return this.ivt}}]),i}(zC),BM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","xdt","gK",Ll.ml],LM=.04,MM=.25,UM=4,FM=.75,HM=1.5,VM=.25,XM=function(t){function n(){var n;return(n=t.call(this)||this).Pdt=null,n.Bdt=null,n.LI=!1,n.HI=1,n.UI=1,n.Ldt=null,n.Mdt=void 0,n.Wft=function(t){n.dispatchEvent(t)},n.Udt=function(t){n.Bdt||n.dispatchEvent(t)},n.Fdt=function(t){var i=t.error||n.Bdt.error;n.audioStream=null,n.Ldt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Ldt})},n.Hdt=function(){n.Bdt&&!n.Bdt.loaded||n.Pdt&&!n.Pdt.loaded||(n.Bdt&&(n.Bdt.removeEventListener("loaded",n.Hdt),n.Bdt.play()),n.Pdt&&(n.Pdt.removeEventListener("loaded",n.Hdt),n.Pdt.play()))},n.Vdt=function(){n.Xdt(),n.Bdt&&n.Pdt&&(n.Bdt.addEventListener("timeupdate",n.Wdt),n.Pdt.addEventListener("timeupdate",n.Wdt))},n.Xdt=function(){a(n.Mdt),n.Bdt&&n.Bdt.removeEventListener("timeupdate",n.Wdt),n.Pdt&&(n.Pdt.G_=n.UI,n.Pdt.removeEventListener("timeupdate",n.Wdt))},n.qdt=function(){n.e_<yl.O_&&n.Xdt()},n.Wdt=function(){if(a(n.Mdt),n.Bdt&&n.Pdt){var t=n.Bdt.G_,i=n.Bdt.Yat()-n.Pdt.Yat(),r=_.max(UM,HM*t),e=_.min(MM,FM*t);if(_.abs(i)<LM)n.Pdt.G_!==t&&(n.Pdt.G_=t);else{var s=VM,u=t*(i/s+1);(u<e||u>r)&&(s=i/((u=i>0?r:e)/t-1)),n.Pdt.G_=u,n.Mdt=h(n.Wdt,1e3*s)}}else n.Xdt()},n.addEventListener("playing",n.Vdt),n.addEventListener("ended",n.Xdt),n.addEventListener(Ll.ml,n.qdt),n}F(n,t);var i=n.prototype;return i.fK=function(t,n){n?(t.addEventListener("timeupdate",this.Wft),t.addEventListener("error",this.Fdt)):(t.addEventListener("timeupdate",this.Udt),t.addEventListener("error",this.Wft));for(var i=0;i<BM.length;i++){var r=BM[i];t.addEventListener(r,this.Wft)}},i.Wo=function(t){t.removeEventListener("timeupdate",this.Wft),t.removeEventListener("timeupdate",this.Udt),t.removeEventListener("timeupdate",this.Wdt),t.removeEventListener("error",this.Wft),t.removeEventListener("error",this.Fdt),t.removeEventListener("loaded",this.Hdt);for(var n=0;n<BM.length;n++){var i=BM[n];t.removeEventListener(i,this.Wft)}},i.zdt=function(t){this.Bdt&&this.Bdt.zdt(t),this.Pdt&&this.Pdt.zdt(t)},i.play=function(){if(this.Bdt&&!this.Bdt.loaded||this.Pdt&&!this.Pdt.loaded)return this.Bdt&&this.Bdt.addEventListener("loaded",this.Hdt),void(this.Pdt&&this.Pdt.addEventListener("loaded",this.Hdt));this.Hdt()},i.pause=function(){this.Bdt&&(this.Bdt.removeEventListener("loaded",this.Hdt),this.Bdt.pause()),this.Pdt&&(this.Pdt.removeEventListener("loaded",this.Hdt),this.Pdt.pause()),this.Xdt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Bdt&&this.Bdt.load(),-1!==t.indexOf("video")&&this.Pdt&&this.Pdt.load()):(this.Bdt&&this.Bdt.load(),this.Pdt&&this.Pdt.load())},i.Fv=function(t){this.Ho(),this.Ldt=null,t?(-1!==t.indexOf("audio")&&this.Bdt&&(this.Bdt.Fv(),this.Bdt=null),-1!==t.indexOf("video")&&this.Pdt&&(this.Pdt.Fv(),this.Pdt=null)):(this.Bdt&&(this.Bdt.Fv(),this.Bdt=null),this.Pdt&&(this.Pdt.Fv(),this.Pdt=null))},i.gK=function(t){this.Bdt&&this.Bdt.pause(),this.Pdt&&this.Pdt.pause(),this.Xdt(),t&&-1===t.indexOf("audio")||!this.Bdt||this.Bdt.gK(),t&&-1===t.indexOf("video")||!this.Pdt||this.Pdt.gK()},i.Rtt=function(t){this.Bdt&&t.gJ&&this.Bdt.Rtt(t),this.Pdt&&t.wJ&&this.Pdt.Rtt(t)},i.Gdt=function(t){return this.Pdt?this.Pdt.Gdt(t):""},i.jdt=function(){return this.Pdt?this.Pdt.jdt():0},i.Qdt=function(){return this.Pdt?this.Pdt.Qdt():0},i.xg=function(){return this.Pdt&&this.Pdt.xg()},i.Yat=function(){return this.Bdt?this.Bdt.Yat():this.Pdt?this.Pdt.Yat():NaN},i.Cct=function(t,n){this.Bdt&&this.Bdt.Cct(t,n),this.Pdt&&this.Pdt.Cct(t,n)},M(n,[{key:"Vg",get:function(){return this.Bdt&&this.Pdt?xO(this.Bdt.Vg,this.Pdt.Vg):this.Bdt?this.Bdt.Vg:this.Pdt?this.Pdt.Vg:CO}},{key:"volume",get:function(){return this.HI},set:function(t){this.HI!==t&&(this.HI=t,this.Bdt&&(this.Bdt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Bdt&&this.Bdt.duration||this.Pdt&&this.Pdt.duration||NaN}},{key:"muted",get:function(){return this.LI},set:function(t){this.LI!==t&&(this.LI=t,this.Bdt&&(this.Bdt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Bdt&&!this.Pdt)&&(!(this.Bdt&&!this.Bdt.loaded)&&!(this.Pdt&&!this.Pdt.loaded))}},{key:"paused",get:function(){return!this.Bdt&&!this.Pdt||(this.Bdt&&this.Bdt.paused||this.Pdt&&this.Pdt.paused||!1)}},{key:"ended",get:function(){return this.Bdt&&this.Bdt.ended||this.Pdt&&this.Pdt.ended||!1}},{key:"seeking",get:function(){return this.Bdt&&this.Bdt.seeking||this.Pdt&&this.Pdt.seeking||!1}},{key:"error",get:function(){return this.Bdt&&this.Bdt.error||this.Pdt&&this.Pdt.error}},{key:"warning",get:function(){return this.Ldt||this.Bdt&&this.Bdt.warning||this.Pdt&&this.Pdt.warning}},{key:"audioStream",get:function(){return this.Bdt},set:function(t){this.Bdt&&(this.Wo(this.Bdt),this.Bdt.Fv()),this.Bdt=t,this.Bdt&&(this.Bdt.volume=this.HI,this.Bdt.muted=this.LI,this.Bdt.G_=this.UI,this.fK(this.Bdt,!0))}},{key:"videoStream",get:function(){return this.Pdt},set:function(t){this.Pdt&&(this.Wo(this.Pdt),this.Pdt.Fv()),this.Pdt=t,this.Pdt&&(this.Pdt.G_=this.UI,this.fK(this.Pdt,!1))}},{key:"G_",get:function(){return this.UI},set:function(t){this.UI!==t&&(t<0||(this.UI=t,this.Bdt&&(this.Bdt.G_=t),this.Pdt&&(this.Pdt.G_=t),this.dispatchEvent("ratechange")))}},{key:"e_",get:function(){return this.Bdt&&this.Pdt?_.min(this.Bdt.e_,this.Pdt.e_):this.Bdt?this.Bdt.e_:this.Pdt?this.Pdt.e_:yl.N_}},{key:"Y_",get:function(){return this.Pdt?this.Pdt.Y_:0}},{key:"Q_",get:function(){return this.Pdt?this.Pdt.Q_:0}}]),n}(zC),WM=function(){function t(t,n,i,r){var e=this;this.Ydt=void 0,this.Zdt=void 0,this.V_=void 0,this.VD=void 0,this.Jdt=void 0,this.$dt=void 0,this.pw=void 0,this.dv=0,this.xv=0,this.running=!1,this.Kdt=function(t){return e.Uh(t)},this.Ydt=t,this.Zdt=n,this.V_=i,this.VD=r,this.Jdt=t.sh(),this.$dt=(n-this.Jdt)/(i||1)}var n=t.prototype;return n.tlt=function(){return this.Ydt.qa(this.Zdt),this.running=!1,this.nlt(),this.VD()},n.GR=function(){var t=this;this.running=!0,this.V_?this.ilt():qC(function(){t.running&&t.tlt()})},n.Uh=function(t){if(this.nlt(),this.running){void 0===this.pw&&(this.pw=t);var n=this.Jdt,i=this.$dt,r=this.Zdt,e=this.Ydt,s=n+_.max(0,t-this.pw)*i;if(n>=r&&s<=r||n<r&&s>=r)return this.tlt();if(e.qa(s))return this.tlt();this.ilt()}},n.ilt=function(){this.dv=lT(this.Kdt),this.xv=fT(this.Kdt)},n.nlt=function(){_T(this.dv),dT(this.xv)},t}();var qM=function(t){function n(n,i){var r;return(r=t.call(this)||this).rlt=void 0,r.Ps=void 0,r.elt=null,r.slt=null,r.ult=NaN,r.olt=!1,r.hlt=!1,r.clt=1,r.flt=void 0,r.vlt=void 0,r.dlt=function(t){r.llt(t)||r.dispatchEvent(t)},r.rlt=n,r.Ps=i,r}F(n,t);var i=n.prototype;return i.pause=function(){this.rlt.pause()},i.play=function(){dM(this.rlt.play()),this._lt()},i.glt=function(t){if(!(this.e_<yl.O_))return this.a9(),this.olt=!0,this.dlt({type:"canplay"}),t&&t();this.flt=h(this.vlt,100)},i.Lh=function(t){this.hlt=!0,this.olt=!1,this.rlt.removeEventListener("canplay",this.vlt),this.vlt=this.glt.bind(this,t),this.rlt.addEventListener("canplay",this.vlt),this.rlt.load(),this.flt=h(this.vlt,100)},i.a9=function(){this.hlt=!1,this.rlt.removeEventListener("canplay",this.vlt),void 0!==this.flt&&(a(this.flt),this.flt=void 0)},i.wlt=function(t){if(this.pause(),this.a9(),null===t)return this.elt=null,void(this.olt=!1);this.olt=!1,this.slt&&this.slt.V9(this.rlt.src),this.slt=t[this.Ps],this.rlt.src=this.slt.X9,this.elt=t},i.xg=function(){return this.rlt},i.ylt=function(t){this.ult=_.max(t||0,0),this.rlt.currentTime=this.ult},i.mlt=function(){return this.rlt.currentTime},i.klt=function(t){var n=this.elt&&this.elt.metadata,i=n&&n.GR,r=n&&n[this.Ps].GR,e=n&&n[this.Ps].V_;return!!this.H1&&(!(t<i)&&t<r+_.min(e,this.rlt.duration))},i._lt=function(){this.clt!==this.rlt.playbackRate&&(this.rlt.playbackRate=this.clt,Zy&&this.clt>0&&this.e_!==yl.N_&&(this.rlt.currentTime=this.rlt.currentTime))},i.llt=function(t){return!!(Zy&&"seeked"===t.type&&_.abs(this.rlt.currentTime-this.ult)>.04)},i.addEventListener=function(n,i){this.IY(n)||this.rlt.addEventListener(n,this.dlt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.IY(n)||this.rlt.removeEventListener(n,this.dlt)},i.Ho=function(){for(var n=0,i=this.NY();n<i.length;n++){var r=i[n];this.rlt.removeEventListener(r,this.dlt)}t.prototype.Ho.call(this)},i.unload=function(){this.slt&&this.slt.V9(this.rlt.src),this.Ho()},M(n,[{key:"volume",get:function(){return this.rlt.volume},set:function(t){this.rlt.volume=t}},{key:"muted",get:function(){return this.rlt.muted},set:function(t){this.rlt.muted=t}},{key:"style",get:function(){return this.rlt.style}},{key:"GR",get:function(){return this.elt?this.elt.metadata[this.Ps].GR:NaN}},{key:"QR",get:function(){return this.elt?this.GR+this.elt.metadata[this.Ps].V_:NaN}},{key:"plt",get:function(){return this.elt?this.GR+this.Alt:NaN},set:function(t){this.elt?this.Alt=t-this.GR:this.Alt=0}},{key:"Alt",get:function(){return this.mlt()},set:function(t){this.ylt(t)}},{key:"blt",get:function(){return this.elt},set:function(t){this.wlt(t)}},{key:"F9",get:function(){return this.elt&&this.elt.metadata._4}},{key:"H1",get:function(){return!(!this.olt||!this.elt)}},{key:"Tlt",get:function(){return!(!this.hlt||!this.elt)}},{key:"G_",get:function(){return this.clt},set:function(t){t>=0&&this.clt!==t&&(this.clt=t,this._lt())}},{key:"z_",get:function(){return this.rlt.paused}},{key:"X_",get:function(){return this.rlt.ended}},{key:"Jo",get:function(){return this.rlt.error}},{key:"Y_",get:function(){return this.rlt.videoWidth}},{key:"Q_",get:function(){return this.rlt.videoHeight}},{key:"e_",get:function(){return this.rlt.readyState}}]),n}(zC);function zM(t,n){return i=t.blt.metadata.UJ,r=n.blt.metadata.UJ,i.bandwidth&&r.bandwidth&&lg(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&lg(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||dg(i.QY,r.QY)||lg(t.QR,n.QR);var i,r}function GM(t){return{GR:t.GR,QR:t.QR}}function jM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.GR<=n&&n<r.QR)return i}return-1}function QM(t,n,i){return{GR:n?i.metadata.I9:i.metadata[t].GR,QR:i.metadata[t].GR+i.metadata[t].V_}}function YM(t,n,i){return new NO([QM(t,n,i)])}function ZM(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e];r.push(QM(t,n,s))}return OO(new NO(r))}function JM(t,n,i){if(!n)return!1;var r=n.metadata[t].GR,e=r+n.metadata[t].V_;return r<=i&&i<=e}function $M(t,n){var i=LO(t,n);return i<0?n:t.end(i)}var KM=function(){function t(t){this.so=void 0,this.T2=[],this.Elt=CO,this.Slt=CO,this.so=t}var n=t.prototype;return n.Rtt=function(t){var n,i;this.T2=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.blt===t?e.QR=r:i.push({blt:t,GR:n,QR:r})},e=0;e<t.length;e++){var s=t[e];if(s.QR<=n.GR)r(s.blt,s.GR,s.QR);else if(s.GR>=n.QR)n.GR<n.QR&&(r(n.blt,n.GR,n.QR),n.GR=n.QR),r(s.blt,s.GR,s.QR);else{var u=void 0,o=void 0;zM(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.GR,a=o.GR,c=_.min(o.QR,s.QR),f=_.min(u.QR,s.QR);h<a&&r(u.blt,h,a),a<c&&r(o.blt,a,c),c<f&&r(u.blt,c,f),n.GR=_.max(n.GR,s.QR)}}return n.GR<n.QR&&r(n.blt,n.GR,n.QR),i}(this.T2,function(t,n){var i=n.metadata[t].GR;return{blt:n,GR:i,QR:i+n.metadata[t].V_}}(this.so,t)),this.Elt=UO(this.Elt,YM(this.so,!1,t)),this.Slt=UO(this.Slt,YM(this.so,!0,t)),this.Slt=(n=this.Slt,i=this.Elt,xO(n,PO(i)))},n.Rlt=function(t){t=this.Ilt(t);var n=jM(this.T2,t);return n>=0?this.T2[n].blt:null},n.Nlt=function(t,n,i,r){t=this.Ilt(t);var e=this.T2,s=jM(e,t);if(s<0)return null;var u=e[s];if(!i||!JM(this.so,i,t))return r&&JM(this.so,r,t)?null:u.blt;if(i!==u.blt){if(r&&r===u.blt)return null;if(u.QR-t>n)return u.blt}for(var o=s+1;o<e.length;o++){var h=e[o];if(r&&r===h.blt)return null;if(h.QR-t>n)return h.blt;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].blt);var f=ZM(this.so,!1,a);a.push(h.blt);var v=ZM(this.so,!1,a);if($M(f,t)<$M(v,t))return h.blt}return null},n.Clt=function(t,n){for(var i=this.T2,r=i.length-1;r>=0;r--){var e=i[r];(e.QR<=t||e.GR>=n)&&Ye(i,r)}},n.xl=function(){this.T2.length=0,this.Elt=CO,this.Slt=CO},n.Ilt=function(t){var n=SM(t,this.Vg,this.Slt,!1);return void 0===n?t:n},M(t,[{key:"Vg",get:function(){var t=this.T2.map(GM);return OO(new NO(t))}}]),t}(),tU=5,nU=30,iU=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Dlt=void 0,r.Ps=void 0,r.Olt=void 0,r.xlt=void 0,r.Plt=void 0,r.ya={gJ:{Blt:100,Llt:100,Mlt:100},wJ:{Blt:500,Llt:100,Mlt:200}},r.HI=void 0,r._S=null,r.Ldt=null,r.Ult=null,r.Flt=void 0,r.Hlt=void 0,r.Vlt=void 0,r.Xlt=void 0,r.Wlt=null,r.qlt=void 0,r.zlt=void 0,r.Glt=0,r.jlt=null,r.Qlt=!1,r.EQ=!1,r.Ylt=0,r.Zlt=0,r.Jlt=yl.N_,r.Avt=function(){var t=r.Yat();r.Plt.Clt(t-tU,t+nU)},r.$lt={Klt:(e=sn(r),{Lh:function(){e.Vlt.addEventListener("ended",this.t_t),e.Xlt.addEventListener("ended",this.n_t)},Fv:function(){e.Vlt.removeEventListener("ended",this.t_t),e.Xlt.removeEventListener("ended",this.n_t)},i_t:function(){},t_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Vlt})},n_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Xlt})}}),zb:{as:"zb",Lh:function(){},Fv:function(){},i_t:function(){}},r_t:function(){var t=sn(r),n=function n(){t.Vlt.removeEventListener("play",n),t.Vlt.removeEventListener("timeupdate",i),t.Vlt.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Vlt.z_||(!t.seeking&&t.Vlt.blt?(i=t.Vlt,(r=t.Xlt).H1&&rU(i,r)>=0&&t.e_t(t.$lt.s_t)):t.Vlt.removeEventListener("timeupdate",n))};return{as:"r_t",Lh:function(){t.$lt.Klt.Lh.call(this),this.u_t(),this.i_t()},Fv:function(){t.$lt.Klt.Fv.call(this),t.Vlt.removeEventListener("play",n),t.Vlt.removeEventListener("timeupdate",i)},i_t:function(){t.Vlt.blt?t.i_t(t.Xlt,t.o_t):t.i_t(t.Vlt,t.o_t)},t_t:function(){var n=t.Xlt.blt;if(n&&n.metadata.g4)return t.Xlt.klt(t.Vlt.plt)&&(t.Xlt.plt=t.Vlt.plt),t.h_t(),void t.Vlt.play();t.$lt.Klt.t_t.call(this)},n_t:function(){0},u_t:function(){t.Vlt.removeEventListener("play",n),t.Vlt.z_?t.Vlt.addEventListener("play",n):n.call(t.Vlt)}}}(),s_t:function(){var t=sn(r),n=function(){r.e_t(r.$lt.a_t)};return{as:"s_t",Lh:function(){t.$lt.Klt.Lh.call(this),t.Xlt.addEventListener("seeked",n);var i=rU(t.Vlt,t.Xlt),r=t.ya[t.Ps].Blt/1e3,e=_.min(i+r,t.Xlt.QR);try{t.Xlt.Alt=e}catch(n){t.e_t(t.$lt.r_t),t.c_t(n.message)}},Fv:function(){t.$lt.Klt.Fv.call(this),t.Xlt.removeEventListener("seeked",n)},i_t:function(){},t_t:function(){t.$lt.Klt.t_t.call(this)},n_t:function(){}}}(),a_t:function(){var t,n=sn(r),i=function(){s()},e=function(){s()},s=function(){_T(t),r.Xlt.plt-r.Vlt.plt-1/60>0?t=lT(i):r.e_t(r.$lt.f_t)};return{as:"a_t",Lh:function(){n.$lt.Klt.Lh.call(this),n.Vlt.addEventListener("timeupdate",e),s()},Fv:function(){n.$lt.Klt.Fv.call(this),_T(t),n.Vlt.removeEventListener("timeupdate",e)},i_t:function(){},t_t:function(){n.$lt.Klt.t_t.call(this)},n_t:function(){n.$lt.Klt.n_t.call(this)}}}(),f_t:function(){var t,n=sn(r),i=function(){var t=r.v_t(r.Xlt),n=r.ya[r.Ps].Llt/_.max(1,r.Vlt.G_);return function(t,n,i,r){return new WM(t,n,i,r)}(t,t.d_t,n,function(){r.e_t(r.$lt.l_t),r.$lt.l_t.__t()})},e=function(){r.Ult.GR(),r.e_t(r.$lt.l_t)};return{as:"f_t",Lh:function(){n.$lt.Klt.Lh.call(this);var r=n.ya[n.Ps].Mlt/_.max(1,n.Vlt.G_);n.Ult=i(),t=h(e,r),n.Xlt.play()},Fv:function(){n.$lt.Klt.Fv.call(this),a(t),t=0},i_t:function(){},t_t:function(){n.$lt.Klt.t_t.call(this)},n_t:function(){n.$lt.Klt.n_t.call(this)}}}(),l_t:function(){var t=sn(r);return{as:"l_t",Lh:function(){t.$lt.Klt.Lh.call(this)},Fv:function(){t.$lt.Klt.Fv.call(this),t.Ult&&t.Ult.tlt()},i_t:function(){},t_t:function(){t.$lt.Klt.t_t.call(this)},n_t:function(){t.$lt.Klt.n_t.call(this)},__t:function(){t.Ult=null,t.h_t()}}}()},r.g_t={w_t:function(){var t=sn(r);return{Lh:function(){},Fv:function(){},i_t:function(){t.qlt.i_t()},Cct:function(n,i,r,e){t.Glt=n,t.jlt=e,t.e_t(t.$lt.zb);var s=t.Vlt===t.Flt?i:r,u=t.Xlt===t.Flt?i:r;s&&t.Vlt.klt(n)?t.y_t(t.g_t.m_t):u&&t.Xlt.klt(n)?t.y_t(t.g_t.k_t):t.y_t(t.g_t.p_t)}}}(),p_t:function(){var t=sn(r),n=function(){r.o_t(),r.Xlt.H1?(r.Xlt.klt(r.Glt)||(r.A_t('Could not seek to exact timestamp "'+r.Glt+'", seeking instead to: "'+r.Xlt.GR+'"'),r.Glt=r.Xlt.GR),r.y_t(r.g_t.k_t)):r.y_t(r.g_t.w_t)};return{Lh:function(){t.b_t(),t.Vlt.blt=null,t.Xlt.blt=null,t.Xlt.style.display="none",t.o_t(),this.i_t()},Fv:function(){t.Xlt.a9(),t.Xlt.style.display=""},i_t:function(){t.Xlt.blt||t.i_t(t.Xlt,n)},Cct:function(n,i,r,e){t.T_t(),t.zlt.Cct(n,i,r,e)}}}(),m_t:function(){var t=sn(r),n=function(){r.y_t(r.g_t.w_t),r.e_t(r.$lt.r_t),r.oH(),r.jlt&&(r.jlt.call(t),r.jlt=null)};return{Lh:function(){t.Vlt.addEventListener("seeked",n);try{t.Vlt.plt=t.Glt,t.oH()}catch(n){t.c_t(n.message)}},Fv:function(){t.Vlt.removeEventListener("seeked",n)},i_t:function(){},Cct:function(n,i,r,e){t.T_t(),t.zlt.Cct(n,i,r,e)}}}(),k_t:function(){var t=sn(r),n=function(){r.y_t(r.g_t.w_t),r.h_t(),r.jlt&&(r.jlt.call(t),r.jlt=null)};return{Lh:function(){t.Xlt.style.display="none",t.Xlt.addEventListener("seeked",n);try{t.Xlt.plt=t.Glt,t.oH()}catch(n){t.c_t(n.message)}},Fv:function(){t.Xlt.style.display="",t.Xlt.removeEventListener("seeked",n)},i_t:function(){},Cct:function(n,i,r,e){t.T_t(),t.zlt.Cct(n,i,r,e)}}}()},r.o_t=function(){var t=r.EQ;r.EQ=r.Flt.Tlt||r.Hlt.Tlt,t&&!r.EQ&&r.dispatchEvent("updateend"),r.E_t(),r.oH(),r.S_t()},r.oH=function(){var t=r.e_;t!==r.Jlt&&(r.Jlt=t,r.dispatchEvent(Ll.ml))},r.Dlt=n,r.Ps=i,r.Plt=new KM(i),r.HI="wJ"===i?0:1;var s=function(t){switch(t){case"gJ":return"audio";case"wJ":return"video"}}(i);return r.Olt=eU(s),r.xlt=eU(s),n.appendChild(r.Olt),n.appendChild(r.xlt),r.Flt=new qM(r.Olt,r.Ps),r.Hlt=new qM(r.xlt,r.Ps),r.Vlt=r.Flt,r.Xlt=r.Hlt,r.qlt=r.$lt.r_t,r.zlt=r.g_t.w_t,r.qlt.Lh(),r.zlt.Lh(),r.j$(),r.Fl(),r}F(n,t);var i=n.prototype;return i.R_t=function(t){return t===this.Flt?this.Hlt:this.Flt},i.A_t=function(t){this.Ldt=t,this.dispatchEvent({type:"warning",warning:this.Ldt})},i.c_t=function(t){this._S=t,this.dispatchEvent({type:"error",error:t})},i.v_t=function(t){var n,i=this,r=this.R_t(t);return n="wJ"===this.Ps?{sh:function(){if(i.Wlt!==t)return 0;var n=w(t.style.opacity);return y(n)?1:n},qa:function(n){n=zt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.Wlt=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},d_t:1,I_t:function(){if(n.sh()!==n.d_t)return n.qa(n.d_t)}}:{sh:function(){return t.volume},qa:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.d_t-i}catch(t){e=t}return e},d_t:this.HI,I_t:function(){if(n.sh()!==n.d_t)return n.qa(n.d_t)}}},i.i_t=function(t,n){var i=this.Plt.Nlt(this.Yat(),1,this.Vlt.blt,this.Xlt.blt);return!!i&&(this.b_t(),t.blt=i,t.Lh(n),t.F9&&this.dispatchEvent("durationchange"),!0)},i.N_t=function(){this.b_t(),this.Plt.xl(),this.Flt.a9(),this.Hlt.a9(),this.o_t()},i.xg=function(){return this.Vlt.xg()},i.Yat=function(){return this.seeking?this.Glt:this.Vlt.plt},i.Cct=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.zlt.Cct(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.h_t=function(){var t=this.Vlt;this.e_t(this.$lt.zb),this.Vlt=this.Xlt,this.Xlt=t,this.v_t(this.Vlt).I_t(),this.b_t(),this.Xlt.pause(),this.Xlt.blt=null,this.o_t(),this.e_t(this.$lt.r_t)},i.j$=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.c_t(new QC(jC.MY,{code:"VEE"+i.error})):t.c_t(new QC(jC.MY,{code:"VEE"+n.Jo.code}));n===t.Vlt&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Flt),e=i.bind(null,this.Hlt),s=0;s<n.length;s++){var u=n[s];this.Flt.addEventListener(u,r),this.Hlt.addEventListener(u,e)}this.Flt.addEventListener("error",r),this.Hlt.addEventListener("error",e);for(var o=0;o<KS.length;o++){var h=KS[o];this.Flt.addEventListener(h,this.oH),this.Hlt.addEventListener(h,this.oH)}},i.Fl=function(){this.addEventListener("seeking",this.Avt),this.addEventListener("timeupdate",this.Avt)},i.e_t=function(t){var n;if(this.qlt!==t){do{(n=this.qlt).Fv()}while(n!==this.qlt);this.qlt=t,t.Lh()}},i.y_t=function(t){var n;if(this.zlt!==t){do{(n=this.zlt).Fv()}while(n!==this.zlt);this.zlt=t,t.Lh()}},i.T_t=function(){this.jlt=null,this.y_t(this.g_t.w_t)},i.load=function(){this.pause(),this.T_t(),this.Vlt.blt=null,this.Xlt.blt=null,this.e_t(this.$lt.r_t)},i.Fv=function(){this.T_t(),this.e_t(this.$lt.zb),this.N_t(),this.Flt.unload(),this.Hlt.unload(),this.Dlt.removeChild(this.Olt),this.Dlt.removeChild(this.xlt),this._S=null,this.Ldt=null},i.gK=function(){var t=this,n=this.Yat();this.N_t(),this.zlt.Cct(n,!1,!1,function(){t.dispatchEvent("gK",!0)})},i.play=function(){this.v_t(this.Vlt).I_t(),this.Vlt.H1&&this.Vlt.play()},i.pause=function(){this.Flt.pause(),this.Hlt.pause()},i.zdt=function(t){var n=this,i=function(){n.dispatchEvent("xdt",!0)};this.pause(),this.Vlt.X_?this.zlt.Cct(t,this.Xlt===this.Flt,this.Xlt===this.Hlt,i):this.Xlt.X_?this.zlt.Cct(t,!1,!1,i):this.Xlt.klt(t)?this.zlt.Cct(t,this.Xlt===this.Flt,this.Xlt===this.Hlt,i):i()},i.Rtt=function(t){this.b_t(),this.Plt.Rtt(t),this.o_t(),this.zlt.i_t()},i.Gdt=function(t){return this.Olt.canPlayType('video/mp4; codecs="'+t+'"')},i.jdt=function(){return _.max(this.Olt.offsetWidth,this.xlt.offsetWidth)},i.Qdt=function(){return _.max(this.Olt.offsetHeight,this.xlt.offsetHeight)},i.E_t=function(){!this.Qlt&&this.loaded&&(this.Qlt=!0,this.dispatchEvent("loaded"))},i.S_t=function(){if("wJ"===this.Ps){var t=this.Y_,n=this.Q_;t>0&&n>0&&(this.Ylt!==t||this.Zlt!==n)&&(this.Ylt=t,this.Zlt=n,this.dispatchEvent("resize"))}},i.b_t=function(){var t=this.EQ;this.EQ=!0,t||this.dispatchEvent("updatestart")},M(n,[{key:"Vg",get:function(){var t=[];return y(this.Flt.GR)||t.push({GR:this.Flt.GR,QR:this.Flt.QR}),y(this.Hlt.GR)||t.push({GR:this.Hlt.GR,QR:this.Hlt.QR}),UO(OO(new NO(t)),this.Plt.Vg)}},{key:"duration",get:function(){return this.Vlt.F9?this.Vlt.QR:this.Xlt.F9?this.Xlt.QR:NaN}},{key:"paused",get:function(){return this.Vlt.z_}},{key:"ended",get:function(){return this.Vlt.X_}},{key:"muted",get:function(){return this.Vlt.muted&&this.Xlt.muted},set:function(t){this.Vlt.muted=t,this.Xlt.muted=t}},{key:"volume",get:function(){return this.HI},set:function(t){this.HI=t,this.Ult&&this.Ult.tlt(),this.Xlt.volume=0,this.Vlt.volume=this.HI}},{key:"error",get:function(){return this._S}},{key:"warning",get:function(){return this.Ldt}},{key:"seeking",get:function(){return this.zlt!==this.g_t.w_t}},{key:"loaded",get:function(){return this.Vlt.H1}},{key:"G_",get:function(){return this.Vlt.G_},set:function(t){t>=0&&(this.Vlt.G_=t,this.Xlt.G_=t)}},{key:"Y_",get:function(){return this.Vlt.Y_}},{key:"Q_",get:function(){return this.Vlt.Q_}},{key:"bO",get:function(){return this.EQ}},{key:"e_",get:function(){var t;if(this.zlt===this.g_t.p_t||this.zlt===this.g_t.k_t)t=yl.C_;else{var n=this.Vlt.e_;if(n<=yl.D_)t=n;else{var i=rA.SI(this.Vg).tI(),r=this.duration,e=this.Yat();y(r)||(e=_.min(e,r));var s=i.TI(e);if(s){var u=s.QR(0);t=u-e>=3*this.G_||!y(r)&&u>=r?yl.x_:yl.O_}else t=yl.D_}}return t===yl.N_&&this.Qlt?yl.C_:t}}]),n}(zC);function rU(t,n){return t.plt-n.GR}function eU(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Cr(n),n.controls=!1,n}var sU,uU=function(){function t(t){var n=this;this.SR=void 0,this.$g=void 0,this.C_t=void 0,this.D_t=void 0,this.O_t=void 0,this.x_t=function(){(y(n.D_t)||n.O_t)&&(n.D_t=n.zx()),n.C_t=n.D_t,n.O_t=!1},this.P_t=function(){var t=n.zx();n.B_t(t),n.D_t=t},this.L_t=function(){n.SR.e_<=yl.D_&&n.P_t()},this.M_t=function(){n.B_t(n.D_t),n.O_t=!0},this.U_t=function(){n.D_t=n.zx()},this.SR=t,this.$g=rA.NI(),this.C_t=NaN,this.D_t=NaN,this.O_t=!1,t.addEventListener("playing",this.x_t),t.addEventListener("pause",this.P_t),t.addEventListener("seeking",this.M_t),t.addEventListener("timeupdate",this.U_t),t.addEventListener(Ll.ml,this.L_t)}var n=t.prototype;return n.lF=function(){var t=this.$g,n=this.C_t;if(!y(n)){var i=this.zx();n<i&&(t=t.fI(new rA([n,i])))}return t.uR()},n.zx=function(){return this.SR.Yat()},n.B_t=function(t){var n=this.C_t;n<t&&(this.$g=this.$g.fI(new rA([n,t]))),this.C_t=NaN},n.bct=function(){var t=this.zx();this.B_t(t),this.O_t=!0},n.xl=function(){this.$g=rA.NI(),this.C_t=NaN,this.D_t=NaN,this.O_t=!1},n.Ao=function(){var t=this.SR;t.removeEventListener("playing",this.x_t),t.removeEventListener("pause",this.P_t),t.removeEventListener("seeking",this.M_t),t.removeEventListener("timeupdate",this.U_t),t.removeEventListener(Ll.ml,this.L_t),this.SR=null},t}(),oU=function(t){function n(n,i){var r;return(r=t.call(this)||this).F_t=void 0,r.dS=void 0,r.Wi=!1,r.rH=NaN,r.H_t=void 0,r.Wc=void 0,r.Dlt=void 0,r.V_t=void 0,r._S=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Jlt=yl.N_,r.X_t=function(){r.V_t.seeking||(r.V_t.removeEventListener("seeked",r.X_t),r.dispatchEvent("seeked"),r.W_t.paused?r.Wc=r.q_t:r.z_t(),r.oH())},r.G_t=function(){r.V_t.paused||(r.V_t.removeEventListener("playing",r.G_t),r.dispatchEvent("playing"))},r.j_t=function(t){r.Wc=r.Q_t,r._S=t,r.dispatchEvent({type:"error",error:r._S})},r.Y_t={paused:!0,play:function(){r.removeEventListener("ivt",r.Y_t.Z_t),r.Wi?(r.Wc=r.J_t,r.V_t.removeEventListener("playing",r.G_t),r.V_t.addEventListener("playing",r.G_t),r.V_t.play(),r.dispatchEvent("play")):r.addEventListener("ivt",r.Y_t.Z_t)},Z_t:function(){r.removeEventListener("ivt",r.Y_t.Z_t),r.Wc.play()},stall:function(){},pause:function(){r.Y_t.Z_t&&r.removeEventListener("ivt",r.Y_t.Z_t),r.V_t.pause(),r.dispatchEvent("pause"),r.Wc=r.q_t},load:function(t){},Yat:function(){return r.Wi?r.V_t.Yat():0},Cct:function(t,n){var i=BO(r.Vg,t);n=n||!i,r.V_t.removeEventListener("seeked",r.X_t),r.V_t.addEventListener("seeked",r.X_t),r.W_t.seekTime=t,r.Wc=r.W_t,r.dispatchEvent("bct"),r.V_t.Cct(t,n),r.dispatchEvent("seeking")},hP:function(){return r.V_t.e_},gK:function(t){r.W_t.seekTime=r.Yat(),r.Wc=r.$_t,r.V_t.removeEventListener("gK",r.$_t.K_t),r.V_t.addEventListener("gK",r.$_t.K_t),r.V_t.gK(t),r.oH()},forwardEvent:function(t){"pause"===t.type&&r.V_t.ended||r.dispatchEvent(t)}},r.q_t=te({},r.Y_t,{pause:function(){r.removeEventListener("ivt",r.Y_t.Z_t)},Cct:function(t){r.W_t.paused=!0,r.Y_t.Cct(t)},gK:function(t){r.W_t.paused=!0,r.Y_t.gK(t)}}),r.tgt=te({},r.q_t),r.ngt=te({},r.q_t,{load:function(t,n){r.removeEventListener("ivt",r.ngt.igt),n||r.dispatchEvent("loadstart"),r.Wi?r.V_t.load(t):(r.ngt.rgt=t,r.addEventListener("ivt",r.ngt.igt))},igt:function(){r.removeEventListener("ivt",r.ngt.igt),r.Wc.load(r.ngt.rgt,!0)},rgt:null,Yat:function(){return r.Wi?r.V_t.Yat():r.ngt.egt},Cct:function(t){r.removeEventListener("ivt",r.ngt.sgt),r.Wi?(r.Wc=r.q_t,r.Wc.Cct(t)):(r.ngt.egt=t,r.addEventListener("ivt",r.ngt.sgt),r.dispatchEvent("seeking"))},sgt:function(){r.removeEventListener("ivt",r.ngt.sgt),r.Wc.Cct(r.ngt.egt)},egt:0,gK:function(t){}}),r.J_t=te({},r.Y_t,{Cct:function(t){r.W_t.paused=!1,r.Y_t.Cct(t)},play:function(){},stall:function(){r.Wc=r.ugt,r.ugt.ogt=r.V_t.Yat(),r.ugt.paused=!1,r.V_t.addEventListener("xdt",r.ugt.hgt),r.V_t.zdt(r.ugt.ogt),r.oH()},gK:function(t){r.W_t.paused=!1,r.Y_t.gK(t)}}),r.ugt=te({},r.J_t,{paused:!1,ogt:0,Cct:function(t){r.V_t.removeEventListener("xdt",r.ugt.hgt),r.ugt.paused?r.Wc=r.q_t:r.Wc=r.J_t,r.Wc.Cct(t),r.oH()},Yat:function(){return r.ugt.ogt},hP:function(){return _.min(r.V_t.e_,yl.D_)},forwardEvent:function(){},play:function(){r.ugt.paused=!1,r.dispatchEvent("play")},pause:function(){r.ugt.paused=!0,r.dispatchEvent("pause")},stall:function(){},hgt:function(){r.V_t.seeking||(r.V_t.removeEventListener("xdt",r.ugt.hgt),r.ugt.paused?r.Wc=r.q_t:r.Y_t.play(),r.oH())}}),r.W_t=te({},r.Y_t,{paused:!1,seekTime:0,Yat:function(){return r.W_t.seekTime},play:function(){r.W_t.paused=!1},pause:function(){r.W_t.paused=!0,r.V_t.pause(),r.dispatchEvent("pause")}}),r.$_t=te({},r.W_t,{Cct:function(t){r.V_t.removeEventListener("gK",r.$_t.K_t),r.W_t.paused?r.Wc=r.q_t:r.Wc=r.J_t,r.Wc.Cct(t)},hP:function(){return _.min(r.V_t.e_,yl.D_)},forwardEvent:function(){},stall:function(){},K_t:function(){r.V_t.seeking||(r.V_t.removeEventListener("gK",r.$_t.K_t),r.W_t.paused?r.Wc=r.q_t:r.Y_t.play(),r.oH())}}),r.Q_t=te({},r.Y_t,{play:function(){},pause:function(){},load:function(){},Yat:function(){return NaN},hP:function(){return yl.N_},Cct:function(t){r.Y_t.Cct(t,!0)},gK:function(t){}}),r.Bo=function(t){r.dispatchEvent(t)},r.agt=function(t){r.Wc.forwardEvent(t)},r.cgt=function(t){r.j_t(t.error)},r.fgt=function(t){if(t.origin&&t.origin.F9)return r.Ag();r.Wc.stall()},r.gdt=function(){var t=r.V_t.duration;t&&r.rH!==t&&(r.rH=t,r.dispatchEvent("durationchange"))},r.vgt=function(){r.V_t.loaded&&(r.loaded=!0)},r.oH=function(){var t=r.e_;t!==r.Jlt&&(r.Jlt=t,r.dispatchEvent(Ll.ml))},r.F_t=n,r.dS=i,r.H_t=new uU(sn(r)),r.V_t=new XM,r.Wc=r.ngt,r.Dlt=s.createElement("div"),r.Dlt.style.position="absolute",r.Dlt.style.width="100%",r.Dlt.style.height="100%",r.dgt(),r}F(n,t);var i=n.prototype;return i.z_t=function(){this.Y_t.play()},i.dgt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.V_t.addEventListener(r,this.Bo)}for(var e=0;e<n.length;e++){var s=n[e];this.V_t.addEventListener(s,this.agt)}this.V_t.addEventListener("ended",this.fgt),this.V_t.addEventListener("error",this.cgt),this.V_t.addEventListener("durationchange",this.gdt),this.V_t.addEventListener("loaded",this.vgt),this.V_t.addEventListener(Ll.ml,this.oH)},i.setup=function(){this.dS.HS.parentNode===this.F_t?this.F_t.replaceChild(this.Dlt,this.dS.HS):(this.dS.HS.parentNode&&this.dS.HS.parentNode.removeChild(this.dS.HS),this.F_t.appendChild(this.Dlt))},i.play=function(){this.Wc.play()},i.pause=function(){this.Wc.pause()},i.lgt=function(t){this.V_t&&this.V_t.Fv(t),this.Wi=!1},i.Ag=function(){this.pause(),this.Wc=this.tgt,this._S=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Wc.load(t)},i.unload=function(){return this.V_t.Fv(),this.H_t.Ao(),this.Dlt.parentNode===this.F_t?this.F_t.replaceChild(this.dS.HS,this.Dlt):(this.Dlt.parentNode&&this.Dlt.parentNode.removeChild(this.Dlt),this.F_t.appendChild(this.dS.HS)),this.Ho(),this.dS.HS},i.reset=function(t){this.Wi=!1,this.Wc=this.ngt,this._S=void 0,this.rH=NaN,this.Jlt=yl.N_,this.H_t.xl(),this.lgt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.gK=function(t){this.Wc.gK(t)},i.Rtt=function(t){return this.V_t.Rtt(t),E.resolve()},i.xg=function(){return this.V_t.xg()},i.Yat=function(){return this.Wc.Yat()},i.Cct=function(t){this.H_t.bct(),this.Wc.Cct(t)},i.Dut=function(t,n){return E.resolve()},i.canPlayCodecs=function(t){return this.V_t.Gdt('video/mp4; codecs="'+t+'"')},i._ct=function(t,n,i){var r={};for(var e in t)if(Z.call(t,e)){var s=t[e];!this.V_t.videoStream&&s.wJ&&(this.V_t.videoStream=new iU(this.Dlt,"wJ"),r.wJ=this.V_t.videoStream),!this.V_t.audioStream&&s.gJ&&(this.V_t.audioStream=new iU(this.Dlt,"gJ"),r.gJ=this.V_t.audioStream,this.dispatchEvent("jft"))}return this.Wi=!0,this.dispatchEvent("ivt"),E.resolve(r)},M(n,[{key:"lct",get:function(){return this.Wi}},{key:"Wg",get:function(){return this.Dlt}},{key:"Vg",get:function(){return this.V_t.Vg}},{key:"volume",get:function(){return this.V_t.volume},set:function(t){this.V_t.volume=t}},{key:"duration",get:function(){return this.rH}},{key:"muted",get:function(){return this.V_t.muted},set:function(t){this.V_t.muted=t}},{key:"paused",get:function(){return this.Wc.paused&&this.V_t.paused}},{key:"played",get:function(){return this.H_t.lF()}},{key:"ended",get:function(){return this.Wc===this.tgt}},{key:"seeking",get:function(){return this.Wc===this.W_t}},{key:"error",get:function(){return this._S||this.V_t.error}},{key:"warning",get:function(){return this.V_t.warning}},{key:"width",get:function(){return this.V_t.jdt()}},{key:"height",get:function(){return this.V_t.Qdt()}},{key:"G_",get:function(){return this.V_t.G_},set:function(t){this.V_t.G_=t}},{key:"e_",get:function(){return this.Wc.hP()}},{key:"Y_",get:function(){return this.V_t.Y_}},{key:"Q_",get:function(){return this.V_t.Q_}}]),n}(zC);!function(t){t.GY="unsupported",t._gt="native",t.ggt="hls-native",t.wgt="hls-mse",t.ygt="hls-switching-video"}(sU||(sU={}));var hU=function(){function t(){this.mgt={},this.kgt(sU._gt,wM),this.kgt(sU.ggt,wM),this.kgt(sU.wgt,PM),this.kgt(sU.ygt,oU)}return t.prototype.kgt=function(t,n){this.mgt[t]=n},t.kgt=function(n,i){t.S1.kgt(n,i)},t.pgt=function(n,i,r){var e=t.S1.mgt[n];return e?new e(i,r):void 0},t}();hU.S1=new hU;var aU=function(t){function n(n){var i;return(i=t.call(this)||this).Agt=void 0,i.bgt=function(t){i.Lo(t)},i.Agt=n,i.Tgt(),i}F(n,t);var i=n.prototype;return i.Tgt=function(){this.Agt.Mo("HD",this.bgt)},i.Egt=function(){this.Agt.Vo("HD",this.bgt)},i.Fv=function(){this.Egt()},M(n,[{key:"GD",get:function(){return this.Agt.GD}},{key:"jD",get:function(){return this.Agt.jD}},{key:"Sgt",set:function(t){var n=this.Agt;n.GD===t.GD&&n.jD===t.jD||(this.Egt(),this.Agt=t,this.Tgt(),this.Lo(new uT(t.jD,t.GD)))}}]),n}(bs);function cU(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function fU(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function vU(t,n){var i=t.type;return i?Fy?fU(i)?!Gy||n.useSwitchOverMSE||Y.Pe&&n.vr&&n.vr[360]?!Xy||Y.Ie||Y.Oe&&Y.ce?Wy?sU.ygt:sU.GY:sU.ggt:sU.wgt:sU._gt:sU.GY:sU._gt}var dU=function(t,n,i,r,e){var s,u,o,c,f,d,g=this,m=null,k=null,p=null,A=!0,b=null,T=null,S=!1,R=null,I=null,N=null,C=uA,D=uA,O=!0,x=null,P={d3:0,Zdt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=yl.N_,Q=!1,Z=!1,J=NaN,$=null,K=null,nt=Y.me&&Vy,it=!1,rt="",et=sU.GY,st=null,ut=function(){var i=E.coroutine(Kr.mark(function i(){return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.yo=!0,g.Ho(),B&&Pt(null),d&&(d.Fv(),d=null),f&&(f.xl(),f=null),en(),k&&(k.unload(),k=null),!I.HS){i.next=11;break}return i.next=10,n.rR(I);case 10:I=null;case 11:if(!N.HS){i.next=15;break}return i.next=14,n.rR(N);case 14:N=null;case 15:s.Fv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new QC(jC.GY,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.FS(E_.Nv)).HS:(r=n.FS(E_.Cv)).HS).preload="none",Cr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&S?"":"none"},ft=function(t){yt(t.TK),wt(t.EK),u&&(u.TK=o),pt()},vt=function(t,n){kt(t.TK,n),mt(t.EK),u&&(u.TK=o)},dt=function(){Xt(),Nt(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("jft",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===sU._gt&&(G=!0,g.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Ll.ml,nn),k.setup(),d.Ect=k,n(["timeupdate","playing","ratechange","resize"],t),et){case sU._gt:case sU.ggt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case sU.wgt:n(["play","pause"],St)}k.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},_t=function(t){m&&m.dft(),k&&(m=new $L(t,nt,f,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=vM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Bft=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){o&&(o.Fv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener("durationchange",function(){J=o.V_,g.dispatchEvent("durationchange")}),o.addEventListener("Jo",function(t){Zt(t.Jo)}),o.addEventListener("zv",At),o.addEventListener("Jg",At),o.s0.addEventListener("renditionUpdated",function(){Gt()}),d.s0=o.s0)},mt=function(t){var n;c&&(c.Fv(),c=null),k&&(c=t)&&(n=c.jat,c.addEventListener("lK",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.UJ,g.dispatchEvent(t),Jy&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("Jo",function(t){Zt(t.error)}),c.addEventListener("Eat",function(t){g.dispatchEvent(t)}),c.Ect=k,y(n)||Ht(n))},kt=function(t,n){o&&(o.Fv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener(Qo.mc,function(t){g.dispatchEvent(t)}),o.addEventListener(Qo.pc,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.V_,g.dispatchEvent("durationchange")}),o.addEventListener("Jo",function(t){Zt(t.Jo)}),o.addEventListener("zv",At),o.addEventListener("Jg",At),o.addEventListener("l0",function(){g.dispatchEvent("progress")}),o.s0.addEventListener("renditionUpdated",function(){Gt()}),o.s0.addEventListener("renditionUpdated",function(t){var i,r=t.UJ.p$&&t.UJ.p$.gJ;r&&-1!==r.indexOf("mp4a.40.3")&&("k9"!==n.p9||zy||(i=B,qC(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),d.s0=o.s0)},pt=function(){k.addEventListener("play",function(){g.play({fromNative:!0})}),k.addEventListener("pause",function(){g.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){g.volume=k.volume,g.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!o||o.Jg;z=n,n&&!t?g.dispatchEvent(Qo.ac):!n&&t&&g.dispatchEvent(Qo.hc)},bt=function(){V=!1,X=!1,Q=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",Et),V&&(bt(),g.ended?Ht(0):jt(),k.play(),c&&c.kg())},Et=function t(){g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?g.play({fromNative:!0}):!n&&X&&g.pause({fromNative:!0})},Rt=function(){Q=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.Zdt="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.jI()),P.Rgt=!1,!g.initialized||!k){if(t.onlyWhenInitialized){var i=new QC(jC.WY,{code:"MGB6720"});throw Zt(i),i}return g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),g.addEventListener("initialized",t.fromNative?Et:Tt),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(V){if(W&&g.ended)return Nt(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.pg()),g.dispatchEvent("pause",!0))},Ct=function(t){return{type:cU(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ot=function(t){if(cM(t))return t.type?t:Ct(t.src);if(Dt(t))return Ct(t);if(tt(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(cU(i))return Ct(i)}return Ct(t[0])}if(tt(t)&&cM(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(fU(e.type)||!e.type&&cU(e.src))return e.type?e:Ct(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,s=vU(n,i);!function(t,n){switch(t){case sU._gt:case sU.ggt:n.p9=!1,n.Igt=!1;break;case sU.wgt:n.p9="k9",n.Igt=!0;break;case sU.ygt:n.p9="d8",n.Igt=Y.oe}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case sU._gt:h=s=o=null;break;case sU.ggt:h=null;var c=new WL(a,r);s=c,o=new YL(c);break;case sU.wgt:case sU.ygt:h=new nM(a,r);var f=new XL(a,h,r,e);s=f,o=new jL(f);break;default:return null}return new zD(n,t,i,h,s,o,u)}(s,n,t);return o?(o.EK&&(o.EK.G_=g.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.HS,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.Ngt;K&&(K.Fv(),K=null),en();var f=n&&n.k0||null;n&&n.y0||null,L=n&&n.ER||null,M=f&&f.configuration||null,et=n&&n.m0||sU.GY,Jt();var v={type:"Cgt",Dgt:n,Gh:M,Ogt:i};if(g.dispatchEvent(v),et!==sU.GY){if(k){g.pause();var d=h===et||h===sU.ggt&&et===sU._gt||h===sU._gt&&et===sU.ggt,l=i&&!Y.me;if(d&&!l)k.reset(),m.xl();else{if(l?(p=k,e=(r=at(r)).HS):e=k.unload(),!(u=hU.pgt(et,t,r)))return void ot();k=u,lt(),_t(e)}Xt(),G=!1,j=yl.N_,Q=!1,Z=!1,J=NaN,x=null,g.dispatchEvent("durationchange"),P.Zdt=0,P.d3=0,P.Rgt=!0,g.dispatchEvent("timeupdate")}else{if(!(u=hU.pgt(et,t,r)))return void ot();k=u,r.HS.removeAttribute("poster"),lt(),_t(r.HS)}switch(R=r,s.Sgt=R.FB,b=k.Wg,p?(T=p.Wg,S=!0):(T=at(r).HS,S=!1),ct(),M.crossOrigin){case ll.b_:case ll.T_:R.HS.setAttribute("crossorigin",M.crossOrigin);break;default:R.HS.removeAttribute("crossorigin")}if(c!==g.Ngt&&g.dispatchEvent(Qo.rc),Lt(),Mt(),!L)return B=null,void(g.initialized=!1);!function(t,n){switch(et){case sU._gt:case sU.ggt:ft(t);break;case sU.wgt:case sU.ygt:vt(t,n);break;default:return}t.SR=g,t.O0(H)}(K=n,M),k.src=L,m.aft(f&&f.textTracks),g.playbackRate=a,B=L;var _={type:"xgt",Dgt:n,Gh:M,Ogt:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Y.me&&o&&Yt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=g.Jft)!==t&&g.dispatchEvent("Pgt")},Mt=function(){d&&(d.hV=nt&&it)},Ut=function(){return k&&k.lct?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.Rgt)return P.Zdt;if(c){var t=c.jat;return"start"===t?0:t}return k.Yat()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Kt(t),k){if(_.abs(P.Zdt-t)<.001&&Gb()-P.d3<50)return;Vt(),c?c.jat=t:k.Cct(t),k.seeking||Xt(),P={Zdt:t,d3:Gb()}}},Vt=function(){W=!0,qt(),st=h(Wt,100)},Xt=function(){W&&(W=!1,st&&Wt(),g.dispatchEvent("seeked"))},Wt=function(){qt(),g.dispatchEvent("seeking")},qt=function(){st&&(a(st),st=null)},Gt=function(){Z||(Z=!y(J)&&$t().length>0&&(Q||!g.live))&&g.dispatchEvent("klt")},jt=function t(){g.removeEventListener("klt",t),null!==x&&(Z?Ht(x):g.addEventListener("klt",t))},Qt=function(){return k&&k.lct?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===jC.qY)return n=!X,Pt(K.ER),void(n&&It());var n;Yt()||Nt(),q=t,g.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return RO(c?c.tw:J>0?new NO([{GR:0,QR:J}]):CO)},Kt=function(t){var n=$t();return n.length?zt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.e_:yl.N_;return G&&(t=_.max(yl.C_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,g.dispatchEvent(Ll.ml))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,T=t||at(R).HS,ct()}};g.initialized=!1,g.warning=null,g.play=It,g.pause=Nt,g.load=function(){if(!g.initialized||!k){var t=new QC(jC.WY,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},g.Bgt=xt,g.Lgt=Bt,g.Ao=ut,g.Tg=rn,g.Dg=function(){A=!0,ct()},g.Og=function(){A=!1,ct()},g.xg=function(){return k&&k.xg()},g.eg=function(){return te({},{zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?gE(k.Ect):{zg:0,Gg:0,jg:0},{Qg:8*vl.m_()})},l.defineProperty(g,"buffered",{get:function(){return RO(k?k.Vg:CO)}}),l.defineProperty(g,"played",{get:function(){return k?RO(k.played):CO}}),l.defineProperty(g,"seekable",{get:$t}),l.defineProperty(g,"live",{get:function(){return!(!o||!fD.K_(o.s0.JJ))}}),l.defineProperty(g,"volume",{get:Ut,set:function(t){(t=w(t))!==Ut()&&(k&&(k.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ft,set:Ht}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.Xg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&c&&(n=c.Fnt(t),y(n)||null===n||Ht(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Yt,set:function(t){t?Nt():It()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=Jp((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return k&&k.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return W}}),l.defineProperty(g,"error",{get:function(){return q||k&&k.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"Ngt",{get:function(){return M&&M.vr&&M.vr[360]?uA:R===I?C:D}}),l.defineProperty(g,"videoWidth",{get:function(){return k?k.Y_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return k?k.Q_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.T$}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&k&&k.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.Ict(Ft()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ht(c.Nct(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.G_||k&&k.G_||1},set:function(t){(t=w(t))>0&&(c?c.G_=t:k&&(k.G_=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.wg.il||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.gg.il||null}}),l.defineProperty(g,"yg",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return z}}),l.defineProperty(g,"Yft",{get:function(){return k&&k.Yft}}),l.defineProperty(g,"Zft",{get:function(){return k&&k.Zft}}),l.defineProperty(g,"Jft",{get:function(){return k&&k.Jft||"inline"},set:function(t){k&&(k.Jft=t)}}),l.defineProperty(g,"Mgt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),l.defineProperty(g,"e_",{get:tn}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(Qo.ac,function(){g.live&&Ht("start")}),g.addEventListener("playing",en),f=new uy,d=new tM(g,f),g.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new GD),n=function(t){if("string"==typeof t)try{return GC.Qe.OQ(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.Qot=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),g.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.HS,T=N.HS,s=new aU(R.FB),C=I.KS,D=N.KS,ct(),Pt(null)}()};dU.prototype=new zC,dU.prototype.constructor=dU;var lU,_U=((lU={useSwitchOverMSE:!1,ManifestParser:"Ugt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),lU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),jy&&lU.abrRules.push("AvoidHighBitrateStreamsRule"),Y.pe&&lU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),lU);var gU=function(t){function n(n,i,r){var e;return(e=t.call(this,bd.Tl)||this).Fgt=n,e.Hgt=i,e.Vgt=r,e}return F(n,t),n.prototype.sl=function(){return new wU(this.Fgt&&this.Fgt.il)},n}(pd),wU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return F(n,t),n}(Es),yU=function(t){function n(n,i){var r;return(r=t.call(this,bd.Sl)||this).Zl=void 0,r.ul=void 0,r.Zl=n||[],r.ul=i,r}return F(n,t),n.prototype.sl=function(){return new mU(this.Zl.map(function(t){return t.il}))},n}(pd),mU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return F(n,t),n}(Es),kU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return F(n,t),n}(Es);function pU(t){return{get bandwidth(){return t.JE},get codecs(){return t.p$},get id(){return t.zl},get uid(){return t.Gl},get name(){return t.Ql},get averageBandwidth(){return t.JE},get label(){return t.Ql},set label(n){t.Ql=qd(n)},get height(){return t.Dp},get width(){return t.du},get frameRate(){return t.QK},get firstFrame(){return t.Xgt},get available(){return t.vY},addEventListener:function(n,i){t.Mo(n,i)},removeEventListener:function(n,i){t.Vo(n,i)}}}function AU(t){return{get bandwidth(){return t.JE},get codecs(){return t.p$},get id(){return t.zl},get uid(){return t.Gl},get name(){return t.Ql},get averageBandwidth(){return t.JE},get label(){return t.Ql},set label(n){if(!rt(n))throw new v("Unexpected - The provided label is not a string");t.Ql=n},get audioSamplingRate(){return t.Wgt},get available(){return t.vY},addEventListener:function(n,i){t.Mo(n,i)},removeEventListener:function(n,i){t.Vo(n,i)}}}var bU=function(t){function n(n,i){var r;(r=t.call(this)||this).qgt=void 0,r.zgt=void 0,r.ow=void 0,r.nw=void 0,r.nl=void 0,r.Ggt=void 0,r.ZK=void 0,r.jgt=function(){return r.Qgt()},r.Ygt=function(){return r.Zgt()},r.Jgt=function(){return r.Lo(new I_(sn(r)))},r.ow=D_(),r.qgt=n,r.zgt=i,r.nw=new R_;for(var e=r.qgt.qualities,s=0;s<e.length;s++){var u=e.item(s),o=r.$gt(u);o.Mo("update",r.Jgt),r.nw.iw(o)}return r.qgt.qualities.addEventListener("activequalitychanged",r.jgt),r.qgt.qualities.addEventListener("targetqualitychanged",r.Ygt),r.Qgt(),r.Zgt(),r}F(n,t);var i=n.prototype;return i.Kgt=function(t){t!==this.Ggt&&(this.Ggt=t,t&&this.Lo(new gU(t)))},i.twt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Ze(n,t[i]))return!1;return!0}(t,n)},i.nwt=function(t){for(var n=0,i=this.nw.Pl;n<i.length;n++){var r=i[n];if(r.iwt===t)return r}},i.rwt=function(t){for(var n=[],i=0,r=this.nw.Pl;i<r.length;i++){var e=r[i];Ze(t,e.iwt)&&n.push(e)}return n},i.Qgt=function(){var t=this.ql?this.qgt.qualities.activeQuality:void 0,n=t&&this.nwt(t)||void 0;this.Kgt(n)},i.Zgt=function(){var t=this.qgt.qualities.targetQuality;t?K(t)?this.Jl=this.rwt(t)||void 0:this.Jl=this.rwt([t])||void 0:this.Jl=void 0},i.cw=function(t){this.ql=t},i.Fv=function(){this.qgt.qualities.removeEventListener("activequalitychanged",this.jgt),this.qgt.qualities.removeEventListener("targetqualitychanged",this.Ygt);for(var t=0,n=this.nw.Pl;t<n.length;t++){var i=n[t];i.Vo("update",this.Jgt),i.Fv()}},M(n,[{key:"Wl",get:function(){return this.Ggt}},{key:"ql",get:function(){return this.qgt.enabled},set:function(t){t?this.zgt.enable(this.qgt):this.zgt.disable(this.qgt)}},{key:"il",get:function(){return this.nl||(this.nl=Yd(this)),this.nl}},{key:"zl",get:function(){return this.qgt.id+""}},{key:"Gl",get:function(){return this.ow}},{key:"jl",get:function(){return this.qgt.kind}},{key:"Ql",get:function(){var t;return null!=(t=this.qgt.name)?t:""},set:function(t){t!==this.Ql&&(this.qgt.name=t,this.Lo(new I_(this)))}},{key:"Yl",get:function(){return this.qgt.language}},{key:"r_",get:function(){return this.ql?"enabled":"disabled"}},{key:"Zl",get:function(){return this.nw}},{key:"Jl",get:function(){return this.ZK},set:function(t){var n=this,i=this.ZK,r=t?t.filter(function(t){return T.Mu.nu(n.Wl,t)}):void 0;r&&0===r.length||this.twt(r,i)||(this.ZK=r,this.qgt.qualities.targetQuality=r?r.map(function(t){return t.iwt}):null,this.Lo(new yU(r,this)))}}]),n}(bs),TU=function(t){function n(n){var i,r,e;return(e=t.call(this)||this).iwt=void 0,e.nl=void 0,e._N=function(){return e.Uh()},e.zl=void 0,e.Gl=void 0,e.JE=void 0,e.p$=void 0,e.HZ=void 0,e.iwt=n,e.iwt.addEventListener("qualityupdated",e._N),e.zl=String(n.id),e.Gl=null!=(i=n.uid)?i:x_++,e.JE=null!=(r=n.bandwidth)?r:NaN,e.p$=n.codecs,e.HZ=n.uri,e}F(n,t);var i=n.prototype;return i.Uh=function(){this.ewt()&&this.Lo(new kU(this.il))},i.ewt=function(){var t,n,i=this.iwt,r=null!=(t=i.uid)?t:this.Gl,e=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.Gl!==r||!Yt(this.JE,e)||this.p$!==s||this.HZ!==u;return this.Gl=r,this.JE=e,this.p$=s,this.HZ=u,o},i.Fv=function(){this.iwt.removeEventListener("qualityupdated",this._N)},i.Nb=function(){},M(n,[{key:"Ql",get:function(){return this.iwt.name||""},set:function(t){this.Ql!==t&&(this.iwt.name=t,this.Lo(new kU(this.il)))}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}},{key:"vY",get:function(){return!0}}]),n}(bs),EU=function(t){function n(n){var i;return(i=t.call(this,n)||this).Wgt=void 0,i.Wgt=NaN,i}return F(n,t),n.prototype.sl=function(){return AU(this)},n}(TU),SU=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).QK=void 0,r.du=void 0,r.Dp=void 0,r.swt=void 0,r.QK=n.frameRate,r.du=n.resolution?n.resolution.width:NaN,r.Dp=n.resolution?n.resolution.height:NaN,r.swt=i,r}F(n,t);var i=n.prototype;return i.ewt=function(){var n=t.prototype.ewt.call(this),i=this.iwt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Yt(this.QK,r)||!Yt(this.du,e)||!Yt(this.Dp,s),this.QK=r,this.du=e,this.Dp=s,n},i.sl=function(){return pU(this)},M(n,[{key:"Xgt",get:function(){return this.swt},set:function(t){this.swt!==t&&(this.swt=t,this.Lo(new kU(this.il)))}}]),n}(TU),RU=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.$gt=function(t){return new EU(t)},n}(bU),IU=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).uwt=void 0,n}F(n,t);var i=n.prototype;return i.$gt=function(t){return new SU(t,this.uwt)},i.owt=function(t){this.uwt=t;for(var n=0,i=this.Zl.Pl;n<i.length;n++){var r=i[n];void 0!==r.Xgt&&(r.Xgt=t)}},n}(bU),NU=function(t){function n(){return t.call(this,Qo.ac)||this}return F(n,t),n}(Es),CU=function(t){function n(){return t.call(this,Qo.hc)||this}return F(n,t),n}(Es),DU=function(){function t(t,n){this.vg=void 0,this.XX=void 0,this.vg=new uy,this.XX=new kI(t,n)}var n=t.prototype;return n.Vb=function(t,n,i,r,e,s){var u=new kR(t,n,i,r,e,s);return this.vg.Cl(u),this.XX.Cl(u),u},n.qb=function(t){this.vg.Dl(t),this.XX.Dl(t),t.Fv()},n.xl=function(){for(var t=0,n=this.vg.Pl.slice();t<n.length;t++){n[t].Fv()}this.vg.xl(),this.XX.xl()},n.Fv=function(){this.xl(),this.vg.Fv(),this.XX.Fv()},M(t,[{key:"yg",get:function(){return this.vg}}]),t}();function OU(t,n){for(var i=0;i<t.Bl;i++){var r=t.Nl(i);if(r.qgt===n)return r}}var xU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).VI=void 0,o.Vj=void 0,o.hwt=void 0,o.awt=void 0,o.cwt=void 0,o.cg=void 0,o.fg=void 0,o.FX=void 0,o.HX=void 0,o.vg=void 0,o.Mb=void 0,o.rQ=void 0,o.eQ=void 0,o.fwt=void 0,o._S=void 0,o.gS=void 0,o.vwt=NaN,o.dwt=0,o.AS=new Lp,o.lwt=function(){o.Lo(new Fl(o.H_))},o._wt=function(){o.Lo(new Ul(o.H_))},o.gwt=function(){o.Lo(new Yl(o.H_))},o.wwt=function(){o.Lo(new Zl(o.H_))},o.ywt=function(){o.Lo(new zl(o.H_,o.G_))},o.mwt=function(){o.Lo(new Jl(o.H_,o.Z_))},o.kwt=function(){o.Lo(new lS(o.H_))},o.pwt=function(){o.Lo(new jl(o.H_))},o.Awt=function(){o.Lo(new _S)},o.bwt=function(){o.Lo(new NU)},o.Twt=function(){o.Lo(new CU)},o.Ewt=function(){o.Swt(),o.cwt.xl(),o.Rwt(),o.iR()},o.ZB=function(){o.Rwt(),o.iR(),o.WS()},o.Swt=function(){var t=o.vwt,n=o.V_;o.vwt=n,t===n||y(t)&&y(n)||o.Lo(new ql(n))},o.Iwt=function(t){var n=t.error||o.hwt.error;if(n){var i,r=w_.DECODE;n.code===jC.MY&&Ne(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o._S=new p_(r,n.message,i),o.Lo(new n_(function(t){return new Io(T_(t.code),t.message,t)}(o._S)))}},o.ES=function(){o.Lo(new Gl(o.H_,o.Xg))},o.Nwt=function(){o.Y_>0&&o.Q_>0&&o.Lo(new Oy)},o.Cwt=function(){o.Lo(new cl)},o.Dwt=function(t){o.fg.Pl.forEach(function(n){return n.owt(t.ptsOffset)})},o.Owt=function(t){o.dwt+=t.Yg,o.Lo(t)},o.xwt=function(t){return o.Pwt(t.track)},o.Bwt=function(t){return o.Lwt(t.track)},o.Mwt=function(t){var n=OU(o.cg,t.track);n&&n.Lo(new Dd(n))},o.Uwt=function(t){var n=OU(o.fg,t.track);n&&n.Lo(new Dd(n))},o.Vj=n,o.VI=i,e=function(t){var n,i={};return i=fM(t,i),(i=fM(_U,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Y.ve&&i.allowManualQualitySwitch,i.libraryLocation=Pf(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Z.call(n,t)?n[t]:t}),i}(e),o.hwt=new dU(o.Vj,o.VI,e,r,s),o.Fwt(),o.awt=new PU(o.hwt),o.cwt=new rm(o.awt,!0),o.cwt.Mo(Xl,o.Bo),o.cg=new S_,o.fg=new S_,o.Mb=new DU(sn(o),new pI),o.FX=new OI(sn(o)),o.FX.Vl=o.hwt.yg,o.HX=new xI(o.Mb,o.FX),o.vg=new Fp([o.hwt.yg,o.HX._p]),o.rQ=new sN,o.rQ.lq(n),o.eQ=new AC(o.rQ.Wg,o.hwt.dimensions,o.yg,u,o.hwt.Ngt),o.WS(),o}F(n,t);var i=n.prototype;return i.Og=function(){this.hwt.Og(),this.rQ.Og()},i.Dg=function(){this.hwt.Dg(),this.rQ.Dg()},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.fwt=n,this.hwt.Tg({sources:{src:n.src,type:_l.A_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:te({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kg=function(){this.hwt.play()},i.pg=function(){this.hwt.pause()},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.fwt=void 0,this._S=void 0,this.gS=void 0,this.dwt=0,this.hwt.Tg({sources:null}),this.cwt.xl(),this.Mb.xl(),this.Rwt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Eg=function(){return!1},i.Sg=function(){},i.Rg=function(){},i.xg=function(){return this.hwt.xg()||void 0},i.Pg=function(){return this.hwt.Ngt},i.Hg=function(){},i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xl();case 2:return this.Ho(),this.cwt.Fv(),this.awt.Fv(),this.Hwt(),t.next=8,this.hwt.Ao();case 8:return this.cg.Fv(),this.fg.Fv(),this.FX.Fv(),t.next=13,this.HX.Fv();case 13:this.Mb.Fv(),this.vg.Fv(),this.eQ.Fv(),this.rQ.Fv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fwt=function(){this.hwt.addEventListener("Cgt",this.Ewt),this.hwt.addEventListener("xgt",this.ZB),this.hwt.addEventListener("durationchange",this.Swt),this.hwt.addEventListener("error",this.Iwt),this.hwt.addEventListener("timeupdate",this.ES),this.hwt.addEventListener("resize",this.Nwt),this.hwt.addEventListener(Qo.rc,this.Cwt),this.hwt.addEventListener("Eat",this.Dwt),this.hwt.addEventListener(Qo.pc,this.Owt),this.hwt.addEventListener("play",this.lwt),this.hwt.addEventListener("pause",this._wt),this.hwt.addEventListener("seeking",this.gwt),this.hwt.addEventListener("seeked",this.wwt),this.hwt.addEventListener("ratechange",this.ywt),this.hwt.addEventListener("volumechange",this.mwt),this.hwt.addEventListener("progress",this.kwt),this.hwt.addEventListener("ended",this.pwt),this.hwt.addEventListener("loadstart",this.Awt),this.hwt.addEventListener(Qo.ac,this.bwt),this.hwt.addEventListener(Qo.hc,this.Twt),this.hwt.addEventListener(Qo.mc,this.Bo)},i.Hwt=function(){this.hwt.removeEventListener("Cgt",this.Ewt),this.hwt.removeEventListener("xgt",this.ZB),this.hwt.removeEventListener("durationchange",this.Swt),this.hwt.removeEventListener("error",this.Iwt),this.hwt.removeEventListener("timeupdate",this.ES),this.hwt.removeEventListener("resize",this.Nwt),this.hwt.removeEventListener(Qo.rc,this.Cwt),this.hwt.removeEventListener("play",this.lwt),this.hwt.removeEventListener("pause",this._wt),this.hwt.removeEventListener("seeking",this.gwt),this.hwt.removeEventListener("seeked",this.wwt),this.hwt.removeEventListener("ratechange",this.ywt),this.hwt.removeEventListener("volumechange",this.mwt),this.hwt.removeEventListener("progress",this.kwt),this.hwt.removeEventListener("ended",this.pwt),this.hwt.removeEventListener("loadstart",this.Awt),this.hwt.removeEventListener(Qo.ac,this.bwt),this.hwt.removeEventListener(Qo.hc,this.Twt),this.hwt.removeEventListener(Qo.mc,this.Bo),this.hwt.removeEventListener(Qo.pc,this.Owt)},i.WS=function(){var t=this.hwt.audioTracks,n=this.hwt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Pwt(t.item(i));t.addEventListener("addtrack",this.xwt),t.addEventListener("enabledtrack",this.Mwt),t.addEventListener("disabledtrack",this.Mwt)}if(n){for(var r=0;r<n.length;r++)this.Lwt(n.item(r));n.addEventListener("addtrack",this.Bwt),n.addEventListener("enabledtrack",this.Uwt),n.addEventListener("disabledtrack",this.Uwt)}},i.iR=function(){var t=this.hwt.audioTracks,n=this.hwt.videoTracks;t&&(t.removeEventListener("addtrack",this.xwt),t.removeEventListener("enabledtrack",this.Mwt),t.removeEventListener("disabledtrack",this.Mwt)),n&&(n.removeEventListener("addtrack",this.Bwt),n.removeEventListener("enabledtrack",this.Uwt),n.removeEventListener("disabledtrack",this.Uwt))},i.Rwt=function(){for(var t=0,n=this.cg.Pl;t<n.length;t++){n[t].Fv()}for(var i=0,r=this.fg.Pl;i<r.length;i++){r[i].Fv()}this.cg.xl(),this.fg.xl()},i.Pwt=function(t){OU(this.cg,t)||this.cg.Cl(new RU(t,this.hwt.audioTracks))},i.Lwt=function(t){OU(this.fg,t)||this.fg.Cl(new IU(t,this.hwt.videoTracks))},M(n,[{key:"gg",get:function(){return this.cg}},{key:"Vg",get:function(){return this.hwt.buffered}},{key:"Xg",get:function(){var t;return null!=(t=this.hwt.currentProgramDateTime)?t:void 0},set:function(t){this.hwt.currentProgramDateTime=null!=t?t:null}},{key:"H_",get:function(){var t=this.hwt.currentTime;return t===1/0&&y(this.hwt.duration)&&(t=0),t},set:function(t){this.hwt.currentTime=t}},{key:"V_",get:function(){var t=this.hwt.duration;return t<0?1/0:t}},{key:"X_",get:function(){return this.hwt.ended}},{key:"Jo",get:function(){return this._S}},{key:"W_",get:function(){return this.gS}},{key:"mg",get:function(){}},{key:"qg",get:function(){return!1}},{key:"eg",get:function(){return te({},this.hwt.eg(),{Yg:this.dwt})}},{key:"q_",get:function(){return this.hwt.muted},set:function(t){this.hwt.muted=t}},{key:"Jg",get:function(){return this.hwt.online}},{key:"z_",get:function(){return this.hwt.paused}},{key:"G_",get:function(){return this.hwt.playbackRate},set:function(t){this.hwt.playbackRate=t}},{key:"$g",get:function(){return this.hwt.played}},{key:"Kg",get:function(){return this.hwt.preload||Yp.DR},set:function(t){this.hwt.preload=t}},{key:"e_",get:function(){return this.hwt.e_}},{key:"tw",get:function(){return this.hwt.seekable}},{key:"j_",get:function(){return this.hwt.seeking}},{key:"aR",get:function(){}},{key:"yg",get:function(){return this.vg}},{key:"wg",get:function(){return this.fg}},{key:"Q_",get:function(){return this.hwt.videoHeight}},{key:"Y_",get:function(){return this.hwt.videoWidth}},{key:"Z_",get:function(){return this.hwt.volume},set:function(t){this.hwt.volume=t}},{key:"cR",get:function(){return this.AS}}]),n}(hl),PU=function(t){function n(n){var i;return(i=t.call(this)||this).hwt=void 0,i.Vwt=function(){i.Lo(new t_(i.H_,i.hwt.e_))},i.Xwt=function(){i.Lo(new im(i.H_))},i.lwt=function(){i.Lo(new Fl(i.H_))},i._wt=function(){i.Lo(new Ul(i.H_))},i.hwt=n,i.hwt.addEventListener(Ll.ml,i.Vwt),i.hwt.addEventListener(Ll.F_,i.Xwt),i.hwt.addEventListener(Qo.fc,i.lwt),i.hwt.addEventListener(Qo.cc,i._wt),i}return F(n,t),n.prototype.Fv=function(){this.Ho(),this.hwt.removeEventListener(Ll.ml,this.Vwt),this.hwt.removeEventListener(Ll.F_,this.Xwt),this.hwt.removeEventListener(Qo.fc,this.lwt),this.hwt.removeEventListener(Qo.cc,this._wt)},M(n,[{key:"H_",get:function(){var t=this.hwt.currentTime;return t===1/0&&y(this.hwt.duration)&&(t=0),t}},{key:"X_",get:function(){return this.hwt.ended}},{key:"Jo",get:function(){return this.hwt.error||void 0}},{key:"z_",get:function(){return this.hwt.paused}}]),n}(bs);function BU(t,n){return LU.apply(this,arguments)}function LU(){return(LU=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),hs(t.t0),!(u<r)){t.next=20;break}return o=_.min(e*_.pow(2,u),s),u++,t.next=19,ys(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}jp(new(function(){function t(){this.fR=Cp.A_}var n=t.prototype;return n.qT=function(t,n,i,r,e,s){return new xU(t,n,i,r,e,s)},n.vR=function(n,i){if((Y.me||Y.qe)&&!i.manifestMetadataTrack)return!1;if(!Tl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Hm(r)&&!t.Wwt(r))&&!!function(t){return vU(t,{})!==sU.GY}(n)},t.Wwt=function(t){return!!t.aes128},n.dR=function(){return!0},t}()));var MU,UU=function(t){function n(){return t.call(this,"qwt")||this}return F(n,t),n}(Es),FU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).zwt=void 0,e.Gwt=void 0,e.jwt=void 0,e.fwt=void 0,e.Qwt=void 0,e.Ub=void 0,e.Wi=void 0,e.Ywt=void 0,e.Zwt=function(){e.Lo(new UU)},e.fwt=n,e.Qwt=te({},i,{crossOrigin:e.fwt.crossOrigin,withCredentials:e.fwt.useCredentials,liveOffset:e.fwt.liveOffset,hlsDateRange:e.fwt.hlsDateRange}),e.Ub=r,e.Gwt=[],e.Wi=!1,e}F(n,t);var i=n.prototype;return i.Jwt=function(){if(this.jwt)return this.jwt.rg},i.GR=function(t){var n=this;_s(BU(function(){return n.O0()},t))},i.O0=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$wt();case 2:if((n=t.sent).isMasterPlaylist)for(this.zwt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],s=new cB(this.Ub,this.Qwt),this.Gwt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:s});else u=new cB(this.Ub,this.Qwt),this.Gwt.push({stream:{uri:n.uri},updater:u});this.Ywt&&(this.Kwt(this.Ywt.width,this.Ywt.height),this.Ywt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tyt=function(t,n){this.Wi?this.Kwt(t,n):this.Ywt={width:t,height:n}},i.Kwt=function(t,n){this.nyt();var i=this.iyt(t,n);i&&(this.jwt=i.updater,this.jwt.addEventListener("j7",this.Zwt),i.updater.GR(i.stream.uri))},i.nyt=function(){this.jwt&&(this.jwt.Ag(),this.jwt.removeEventListener("j7",this.Zwt),this.jwt=void 0)},i.iyt=function(t,n){return 1===this.Gwt.length?this.Gwt[0]:Ge(this.Gwt,function(i){return i.stream.width===t&&i.stream.height===n})},i.$wt=function(){var t=E.coroutine(Kr.mark(function t(){var n,i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new aB(this.Qwt,sO.Qe.$0,this.Ub),t.next=3,n.Lh(this.fwt.src,{});case 3:return i=t.sent,t.abrupt("return",i.rg);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fv=function(){this.nyt();for(var t=0,n=this.Gwt;t<n.length;t++){n[t].updater.Fv()}Je(this.Gwt)},n}(bs),HU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).ryt=void 0,e.eyt=void 0,e.YP=void 0,e.syt=!1,e.W$=void 0,e.XX=void 0,e.handleManifestUpdate=function(){var t=e.ryt.Jwt();if(t){var n=e.aR;if(n){var i=n.getTime(),r=e.W$;r||(r=new vD,e.W$=r),r.Uh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.syt&&r.s_.Bl>0&&(e.yg.Cl(r),e.XX.Cl(r),e.syt=!0)}}},e.Nwt=function(){e.ryt&&e.ryt.tyt(e.Y_,e.Q_)},e.eyt=i,e.YP=r,e.XX=new bI(sn(e)),e.Mo(Qo._c,e.Nwt),e}F(n,t);var i=n.prototype;return i.Tg=function(){var n=E.coroutine(Kr.mark(function n(i,r,e){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Tg.call(this,i,r,e);case 2:i.hlsDateRange&&this.uyt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.uyt=function(t,n,i){this.ryt&&(this.ryt.Vo("qwt",this.handleManifestUpdate),this.ryt.Fv()),this.ryt=new FU(t,n,this.eyt),this.ryt.Mo("qwt",this.handleManifestUpdate),this.ryt.GR(i)},i.xl=function(){return this.W$&&(this.yg.Dl(this.W$),this.XX.Dl(this.W$),this.W$.Fv(),this.W$=void 0,this.syt=!1),this.XX.xl(),t.prototype.xl.call(this)},i.Fv=function(){return this.Vo(Qo._c,this.Nwt),this.ryt&&(this.ryt.Vo("qwt",this.handleManifestUpdate),this.ryt.Fv()),this.XX.Fv(),t.prototype.Fv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).oyt=void 0,i.oyt=n;for(var r=0;r<$p.length;r++){var e=$p[r];i.oyt.Mo(e,i.Bo)}return i}F(n,t);var i=n.prototype;return i.Eg=function(){return this.oyt.Eg()},i.Pg=function(){return this.oyt.Pg()},i.xg=function(){return this.oyt.xg()},i.Og=function(){return this.oyt.Og()},i.Hg=function(){return this.oyt.Hg()},i.pg=function(){return this.oyt.pg()},i.kg=function(){return this.oyt.kg()},i.xl=function(){return this.oyt.xl()},i.Tg=function(t,n,i){return this.oyt.Tg(t,n,i)},i.Dg=function(){return this.oyt.Dg()},i.Sg=function(){return this.oyt.Sg()},i.Rg=function(){return this.oyt.Rg()},i.Fv=function(){this.Ho();for(var t=0;t<$p.length;t++){var n=$p[t];this.oyt.Vo(n,this.Bo)}return this.oyt.Fv()},M(n,[{key:"gg",get:function(){return this.oyt.gg}},{key:"Vg",get:function(){return this.oyt.Vg}},{key:"Xg",get:function(){return this.oyt.Xg},set:function(t){this.oyt.Xg=t}},{key:"H_",get:function(){return this.oyt.H_},set:function(t){this.oyt.H_=t}},{key:"V_",get:function(){return this.oyt.V_}},{key:"X_",get:function(){return this.oyt.X_}},{key:"W_",get:function(){return this.oyt.W_}},{key:"mg",get:function(){return this.oyt.mg}},{key:"Jo",get:function(){return this.oyt.Jo}},{key:"qg",get:function(){return this.oyt.qg}},{key:"eg",get:function(){return this.oyt.eg}},{key:"q_",get:function(){return this.oyt.q_},set:function(t){this.oyt.q_=t}},{key:"Jg",get:function(){return this.oyt.Jg}},{key:"z_",get:function(){return this.oyt.z_}},{key:"G_",get:function(){return this.oyt.G_},set:function(t){this.oyt.G_=t}},{key:"$g",get:function(){return this.oyt.$g}},{key:"Kg",get:function(){return this.oyt.Kg},set:function(t){this.oyt.Kg=t}},{key:"e_",get:function(){return this.oyt.e_}},{key:"tw",get:function(){return this.oyt.tw}},{key:"j_",get:function(){return this.oyt.j_}},{key:"aR",get:function(){return this.oyt.aR}},{key:"yg",get:function(){return this.oyt.yg}},{key:"Q_",get:function(){return this.oyt.Q_}},{key:"wg",get:function(){return this.oyt.wg}},{key:"Y_",get:function(){return this.oyt.Y_}},{key:"Z_",get:function(){return this.oyt.Z_},set:function(t){this.oyt.Z_=t}},{key:"cR",get:function(){return this.oyt.cR}}]),n}(hl));MU=function(t,n,i){return new HU(t,n,i)},zp.gR().wR(MU);var VU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return F(n,t),n}(Es);var XU=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).hyt=void 0,s.nl=void 0,s.ayt=void 0,s.cyt=void 0,s.fyt=void 0,s.PR=void 0,s.vyt=void 0,s.vx=void 0,s.Wc=UA.UNAVAILABLE,s.dyt=new es,s.lyt=function(){var t,n=null==(t=s.vx.bg())?void 0:t.sources.filter(Bl);null!=n&&n.some(Xp)?s._yt(UA.AVAILABLE):s._yt(UA.UNAVAILABLE)},s.handleAirplayChangedEvent=function(){s.PR&&s.PR.qg?s.gyt():s.g3===UA.CONNECTED&&s.wyt()},s.handleAirplayPlayerTimeUpdate=function(t){s.ayt=t.currentTime,s.cyt=s.vx.Xg},s.fyt=n,s.vx=i,s.hyt=e,s.hyt.Og(),s.vx._g(e),s.yyt(),s.fyt.Mo("sourcechange",s.lyt),T.Mu.su&&s._yt(UA.AVAILABLE),s}F(n,t);var i=n.prototype;return i.yyt=function(){this.PR&&this.PR.Vo(Qo.Ga,this.handleAirplayChangedEvent),this.myt?this.PR=this.vx:this.PR=this.hyt,this.PR.Mo(Qo.Ga,this.handleAirplayChangedEvent)},i.gyt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.PR){t.next=2;break}return t.abrupt("return");case 2:if(this.myt){t.next=24;break}return this.ayt=this.vx.H_,this.cyt=this.vx.Xg,this.hyt.Mo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.vyt=this.vx.Vl,this.vx.Vl=this.hyt,this.vyt.pg(),this.vyt.Og(),this.hyt.Dg(),this.hyt.q_=this.vyt.q_,this.hyt.G_=this.vyt.G_,this.hyt.Z_=this.vyt.Z_,n=this.hyt.zo("seeked"),this.hyt.H_=this.vyt.H_,t.next=18,n;case 18:this.hyt.kg(),this.hyt.q_=this.vyt.q_,this.hyt.G_=this.vyt.G_,this.hyt.Z_=this.vyt.Z_,t.next=28;break;case 24:if(this.PR.z_){t.next=27;break}return t.next=27,this.PR.zo(Qo.cc,this.dyt.Do);case 27:this.PR.kg();case 28:this._yt(UA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wyt=function(){this.vyt?(this.hyt.Vo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.vyt.q_=this.hyt.q_,this.vyt.G_=this.hyt.G_,this.vyt.Z_=this.hyt.Z_,Y.Pe&&!Y.me&&this.vx.V_===1/0?this.cyt?this.vyt.Xg=this.cyt:this.vyt.H_=1/0:this.vyt.H_=this.ayt,this.cyt=void 0,this.ayt=void 0,this.vyt.Dg(),this.hyt.Og(),this.hyt.z_||this.vyt.kg(),this.vx.Vl=this.vyt,this.hyt.xl(),this.vyt=void 0):this.PR&&(this.PR.H_=this.PR.H_+1e-4);this._yt(UA.AVAILABLE)},i.preloadPlayer=function(t){if(os(t),this.PR.e_<yl.C_){var n=this.PR.zo("loadedmetadata",t);return this.PR.Kg=Yp.bk,n}return E.resolve()},i._yt=function(t){t!==this.Wc&&(this.Wc=t,this.Lo(new VU(this.Wc)))},i.Sg=function(){T.Mu.su&&(this.fyt.Ig(),this.dyt.Io(),this.dyt=new es,this.myt?_s(this.kyt(this.dyt.Do)):_s(this.pyt(this.dyt.Do)))},i.kyt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.vx.Sg();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pyt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hyt.xl();case 3:return t.next=5,this.hyt.Tg(this.vx.bg(),n);case 5:return i=this.hyt.zo("playing",n),this.hyt.kg(),t.next=9,ms(i,3e3);case 9:this.hyt.pg(),os(n),this.hyt.Sg(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!us(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Rg=function(){T.Mu.su&&this.PR.Rg()},i.Fv=function(){var t;this.Ho(),this.fyt.Vo("sourcechange",this.lyt),this.vx.Mg(this.hyt),this.dyt.Io(),null==(t=this.hyt)||t.Fv()},M(n,[{key:"VP",get:function(){return this.g3===UA.CONNECTED}},{key:"myt",get:function(){return this.vx.Eg()}},{key:"g3",get:function(){return this.Wc}},{key:"il",get:function(){var t;return this.nl||(this.nl=(t=this,{get casting(){return t.VP},get state(){return t.g3},start:function(){t.Sg()},stop:function(){t.Rg()},addEventListener:function(n,i){var r=zd(n,qd);t.Mo(r,i)},removeEventListener:function(n,i){var r=zd(n,qd);t.Vo(r,i)}})),this.nl}}]),n}(hl);ME(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.sl=function(){var n=this.UB.il;return Ld(t.prototype.sl.call(this),{get cast(){return n}})},n}(t)},NE.XB);var WU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).IR=void 0,o.Ayt=void 0,o.byt=void 0,o.LR=void 0,o.fwt=void 0,o.cg=new tl,o.fg=new tl,o.vg=new ol,o.IR=n,o.Ayt=new wr(s,u,1,[E_.Cv]),o.Ayt.GI(n),o.byt=new Vp(n,o.Ayt,i,r,e),o.byt.Fo(o.Bo),o.cg.Vl=o.byt.gg,o.fg.Vl=o.byt.wg,o.vg.Vl=o.byt.yg,o}F(n,t);var i=n.prototype;return i.Eg=function(){return this.byt.Eg()},i.Sg=function(){this.byt.Sg()},i.Rg=function(){this.byt.Rg()},i.kg=function(){_s(this.byt.kg())},i.pg=function(){this.byt.pg()},i.Ag=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.bg=function(){return this.fwt},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),this.fwt=n,!Cl(n.sources)){t.next=6;break}r=ib({src:""}),t.next=16;break;case 6:e=n.sources.filter(Bl),s=0;case 8:if(!(s<e.length)){t.next=16;break}if(!Xp(u=e[s])){t.next=13;break}return r=u,t.abrupt("break",16);case 13:s++,t.next=8;break;case 16:if(r){t.next=18;break}throw new v("Unsupported source.");case 18:return t.next=20,this.byt.Tg(r,n,i);case 20:this.WR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WR=function(t){this.LR!==t&&(this.LR=t,this.Lo(new fl(t)))},i.xg=function(){},i.Tyt=function(){},i.Bg=function(){return[]},i.Ig=function(){this.Ayt.jI()},i.Ng=function(t){s_(this,t)},i.Cg=function(){},i.Lg=function(t){return!1},i.Hg=function(){},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.LR=void 0,this.fwt=void 0,t.next=4,this.byt.xl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dg=function(){this.byt.Dg()},i.Og=function(){this.byt.Og()},i.Pg=function(){return this.byt.Pg()},i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ho(),this.Ayt.Fv(),t.next=4,this.byt.Fv();case 4:this.cg.Fv(),this.fg.Fv(),this.vg.Fv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"gg",get:function(){return this.byt.gg}},{key:"Vg",get:function(){return this.byt.Vg}},{key:"Fg",get:function(){return this.LR}},{key:"H_",get:function(){return this.byt.H_},set:function(t){this.byt.H_=t}},{key:"Xg",get:function(){return this.byt.Xg}},{key:"V_",get:function(){return this.byt.V_}},{key:"Wg",get:function(){return this.IR}},{key:"X_",get:function(){return this.byt.X_}},{key:"Jo",get:function(){return this.byt.Jo}},{key:"qg",get:function(){return this.byt.qg}},{key:"eg",get:function(){return{zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"q_",get:function(){return this.byt.q_},set:function(t){this.byt.q_=t}},{key:"Jg",get:function(){return this.byt.Jg}},{key:"z_",get:function(){return this.byt.z_}},{key:"G_",get:function(){return this.byt.G_},set:function(t){this.byt.G_=t}},{key:"$g",get:function(){return this.byt.$g}},{key:"Kg",get:function(){return this.byt.Kg},set:function(t){this.byt.Kg=t}},{key:"e_",get:function(){return this.byt.e_}},{key:"tw",get:function(){return this.byt.tw}},{key:"j_",get:function(){return this.byt.j_}},{key:"yg",get:function(){return this.byt.yg}},{key:"Q_",get:function(){return this.byt.Q_}},{key:"Y_",get:function(){return this.byt.Y_}},{key:"wg",get:function(){return this.byt.wg}},{key:"Z_",get:function(){return this.byt.Z_},set:function(t){this.byt.Z_=t}}]),n}(hl);ME(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Eyt=void 0;var e=new WU(r.PP.Wg,r.Zd,r.Gh,r.LB,r.AB,r.VB);return r.Eyt=new XU(sn(r),r.PP,r.Zd,e),r.UB.HP(r.Eyt),r.Mo("currentsourcechange",function(){r.Eyt.yyt()}),r}F(n,t);var i=n.prototype;return i.sl=function(){var n=this,i=t.prototype.sl.call(this);return Ld(i.cast,{get airplay(){return n.Eyt.il}}),i},i.Fv=function(){this.Eyt.Fv(),t.prototype.Fv.call(this)},n}(t)},NE.XB);var qU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},zU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),GU=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?r.splice(u,1/0,e):r.push(e),~i.indexOf(s)&&(s=n.call(this,e,s))}else i.push(s);return null==t?s:t.call(this,e,s)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function jU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function QU(t){return JSON.stringify(t,GU.getSerialize(jU))}var YU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=s&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),ZU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),JU=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),$U=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=YU.isS,r=YU.isChar,e=YU.isNameStartChar,s=YU.isNameChar,u=YU.S_LIST,o=YU.NAME_RE,h=ZU.isChar,a=JU.isNCNameStartChar,c=JU.isNCNameChar,f=JU.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:d,xmlns:_},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,C=9,D=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Ct=[34,39],Dt=[...Ct,Et,bt],Ot=[...Ct,pt,St],xt=[At,Tt,...u],Pt=[...u,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Sa}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Sa=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,s=e?dt:r;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Dt);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?D:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const s=this.getCode();switch(s){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(s)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),s={name:t,prefix:r,local:e,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Sa=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=u,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),KU=function(){function t(){}return t.prototype.es=function(t){var n=new $U.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new uF,r=[i];function e(t){r[r.length-1].ps(t)}return n.on("text",function(t){r.length>1&&e(new eF(t))}),n.on("cdata",function(t){e(new sF(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new iF({hs:n,cs:""===i?void 0:i,Syt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new tF({hs:v,vs:_,cs:""===d?void 0:d,Syt:""===f?void 0:f});u.Ryt(g)}e(u),r.push(u)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new hn(t)}),n.write(t).close(),i},t}(),tF=function(){function t(t){this.Iyt=void 0,this.Nyt=void 0,this.Cyt=void 0,this.xn=void 0,this.Iyt=t.hs,this.xn=t.vs,this.Nyt=t.cs,this.Cyt=t.Syt}var n=t.prototype;return n.us=function(t){return this===t||!!hF(this,t)&&(this.Iyt===t.Iyt&&this.Nyt===t.Nyt&&this.Cyt===t.Cyt&&this.xn===t.xn)},n.os=function(){return new t({hs:this.hs,vs:this.vs,cs:this.cs,Syt:this.fs})},M(t,[{key:"Ze",get:function(){return Kt.Ke}},{key:"hs",get:function(){return this.Iyt}},{key:"as",get:function(){return void 0===this.Cyt?this.Iyt:this.Cyt+":"+this.Iyt}},{key:"cs",get:function(){return this.Nyt}},{key:"fs",get:function(){return this.Cyt}},{key:"vs",get:function(){return this.xn}}]),t}(),nF=function(){function t(){this.ls=[]}var n=t.prototype;return n._s=function(t){return this.ls.filter(function(n){return oF(n)&&n.ys===t})},n.ks=function(t,n){return this.ls.filter(function(i){return oF(i)&&i.hs===n&&i.cs===t})},n.ps=function(t){this.ls.push(t)},M(t,[{key:"gs",get:function(){return this.ls}},{key:"bs",get:function(){return this.ls.filter(oF)}}]),t}(),iF=function(t){function n(n){var i;return(i=t.call(this)||this).Iyt=void 0,i.Nyt=void 0,i.Cyt=void 0,i.Dyt=[],i.Iyt=n.hs,i.Nyt=n.cs,i.Cyt=n.Syt,i}F(n,t);var i=n.prototype;return i.Oyt=function(t){for(var n=0,i=this.gs;n<i.length;n++){var r=i[n];oF(r)?r.Oyt(t):t.push(r.Os)}},i.Es=function(t,n){for(var i=0,r=this.Dyt;i<r.length;i++){var e=r[i];if(e.hs===n&&e.cs===t)return e.vs}},i.Ts=function(t){for(var n=0,i=this.Dyt;n<i.length;n++){var r=i[n];if(r.as===t)return r.vs}},i.Ryt=function(t){this.Dyt.push(t)},i.Ss=function(t){for(var n=0;n<this.Dyt.length;n++)if(this.Dyt[n].as===t)return void this.Dyt.splice(n,1)},i.Rs=function(t,n){for(var i=0;i<this.Dyt.length;i++)if(this.Dyt[i].hs===n&&this.Dyt[i].cs===t)return void this.Dyt.splice(i,1)},i.Is=function(t,n){this.Ss(t),this.Ryt(new tF({hs:t,vs:n}))},i.Ns=function(t,n,i){this.Ss(n);var r=n.split(":");this.Ryt(new tF({hs:r[r.length-1],vs:i,cs:t,Syt:r.length>1?r[0]:void 0}))},i.os=function(t){var i=new n({hs:this.hs,cs:this.cs,Syt:this.fs});return this.Cs.forEach(function(t){return i.Ryt(t.os())}),t&&this.gs.forEach(function(n){return i.ps(n.os(t))}),i},i.us=function(t){return this===t||!!hF(this,t)&&(this.Iyt===t.Iyt&&this.Cyt===t.Cyt&&this.Nyt===t.Nyt&&(aF(this.Cs,t.Cs)&&aF(this.gs,t.gs)))},M(n,[{key:"Ze",get:function(){return Kt.Je}},{key:"Cs",get:function(){return this.Dyt}},{key:"hs",get:function(){return this.Iyt}},{key:"cs",get:function(){return this.Nyt}},{key:"fs",get:function(){return this.Cyt}},{key:"ys",get:function(){return void 0===this.Cyt?this.Iyt:this.Cyt+":"+this.Iyt}},{key:"Ds",get:function(){var t=[];return this.Oyt(t),t.join("")}}]),n}(nF),rF=function(){function t(t){this.nr=void 0,this.nr=t}return M(t,[{key:"Os",get:function(){return this.nr}}]),t}(),eF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.os=function(){return new n(this.Os)},i.us=function(t){return this===t||!!hF(this,t)&&this.Os===t.Os},M(n,[{key:"Ze",get:function(){return Kt.$e}}]),n}(rF),sF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.os=function(){return new n(this.Os)},i.us=function(t){return this===t||!!hF(this,t)&&this.Os===t.Os},M(n,[{key:"Ze",get:function(){return Kt.ts}}]),n}(rF),uF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.os=function(t){var i=new n;return t&&this.gs.forEach(function(n){return i.ps(n.os(t))}),i},i.us=function(t){return this===t||!!hF(this,t)&&aF(this.gs,t.gs)},M(n,[{key:"Ze",get:function(){return Kt.rs}},{key:"xs",get:function(){return this.bs[0]}}]),n}(nF);function oF(t){return rn(t)}function hF(t,n){return t.Ze===n.Ze}function aF(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].us(n[i]))return!1;return!0}var cF,fF=["adBreak"],vF=["adBreak"];function dF(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:te({},t,{adBreak:te({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Sm(t,fF)})})})}function lF(t){return void 0===t.ads?t:te({},t,{ads:t.ads.map(function(t){t.adBreak;return Sm(t,vF)})})}function _F(t){return"string"==typeof t.date?new Date(t.date):t.date}function gF(t){var n;return t.cue.track?(n=yF(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=yF(t.cue,""),n}function wF(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],s=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==s&&n.pop(e),[r,s]}))}return i}(t)}function yF(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new KU).es(r.firstChild.outerHTML).xs.Cs.forEach(function(t){e[t.hs]=t.vs}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=mF(o);s[u]={type:cF.xyt,value:h}}else pF(o)?s[u]={type:cF.Pyt,value:o}:s[u]={type:cF.ez,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=mF(t.scte35Cmd),i.scte35Out=mF(t.scte35Out),i.scte35In=mF(t.scte35In),i.customAttributes=s}var a}(),i}function mF(t){if(void 0!==t)return Xs(t)}function kF(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(yF(e,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(yF(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function pF(t){return"number"==typeof t}!function(t){t.ez="daterange-ca-type_string",t.Pyt="daterange-ca-type_number",t.xyt="daterange-ca-type_arraybuffer"}(cF||(cF={}));var AF={cue:function(t){var n={};switch(n.date=_F(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=gF(t)}return n},textTrack:function(t){var n={};switch(n.date=_F(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=SF().register(t.cue));var i=EF()[RF()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=gF(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var s=t.track.activeCues[e];r.push(yF(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=_F(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=SF().register(t)}),n.track=kF(t.track);case"removetrack":case"change":n.track=kF(t.track)}return n},default:function(t){var n={};switch(n.date=_F(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=te({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=kF(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=lF(t.ad);break;case"adloaded":case"adimpression":n.ad=dF(t.ad);break;case"aderror":t.Byt&&(n.Byt=t.Byt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=dF(t.ad)}return wF(n)},minimizeCueHelper:function(t){var n={};return n.date=_F(t),n.type=t.type,n.cue=gF(t),n.track={uid:t.cue.track.uid},n},adReplacer:dF,adBreakReplacer:lF,removeCircularReferences:wF},bF=function(){this.stringify=QU,this.minimize=AF};function TF(){return kr.self}function EF(){return TF().THEOplayerBridge}function SF(){return TF().THEOCueMirrorMap}function RF(){return TF().THEOplayerGlobalID}function IF(){var t=TF();if(t.THEOplayerBridge){var n=new qU;t.THEOplayerBridge=Ld(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new qU;t.THEOplayerUtils||(t.THEOplayerUtils=new bF),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new zU)}IF();var NF,CF=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return F(n,t),n}(Es),DF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Lo(new CF(t,n))},i.addEventListener=function(t,n){this.Mo(t,n)},i.removeEventListener=function(t,n){this.Vo(t,n)},n}(al),OF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lyt=void 0,r.Myt=void 0,r.Uyt=function(t){r.Lyt.gQ("THEOplayerABRSetTargetBuffer",t.kx),r.Lo(t)},r.Fyt=function(t){r.Lyt.gQ("THEOplayerABRSetStrategy",t.bx),r.Lo(t)},r.Lyt=n,r.Myt=i,r.Myt.Mo("Ax",r.Uyt),r.Myt.Mo("Tx",r.Fyt),r}return F(n,t),M(n,[{key:"xx",get:function(){var t;switch(this.bx.type){case qT.PERFORMANCE:return 1;case qT.QUALITY:return 0;case qT.BANDWIDTH:return null!=(t=this.bx.metadata)&&t.bitrate&&!y(this.bx.metadata.bitrate)?this.bx.metadata.bitrate:0;default:return 0}}},{key:"il",get:function(){return this.Myt.il}},{key:"bx",get:function(){return this.Myt.bx},set:function(t){this.Myt.bx=t}},{key:"kx",get:function(){return this.Myt.kx},set:function(t){this.Myt.kx=t}},{key:"Ex",get:function(){return this.Myt.Ex},set:function(t){this.Myt.Ex=t}}]),n}(bs),xF=function(){function t(t,n,i){this.ya=void 0,this.fo=void 0,this.Ca=void 0,this.qh=void 0,this.ya=t,this.fo=i,this.Ca=n}var n=t.prototype;return n.qb=function(t){throw new v("Not implemented yet.")},n.ML=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fo.lo(n.uo,i);case 2:return r=t.sent,t.next=5,r.Kh();case 5:return e=t.sent,t.next=8,this.UL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.FL=function(t){return!1},n.HL=function(t){return E.resolve(void 0)},n.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.UL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.XL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.qh)){t.next=5;break}return t.next=4,i.Zh(this.Ca);case 4:this.qh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Yh(this.Ca);case 8:this.qh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Vb=function(t,n,i){throw new v("Not implemented yet.")},M(t,[{key:"Gh",get:function(){return this.ya}},{key:"Kg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"tw",get:function(){return new rA([0,1/0])}},{key:"yg",get:function(){throw new v("Not implemented yet.")}},{key:"Hyt",get:function(){throw new v("Not implemented yet")}},{key:"wg",get:function(){throw new v("Not implemented yet.")}},{key:"Vyt",get:function(){throw new v("Not implemented yet")}},{key:"Xyt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Wyt="webkitneedkey",t.qyt="webkitkeymessage",t.zyt="webkitkeyerror"}(NF||(NF={}));var PF=function(t){function n(n,i){var r;return(r=t.call(this,NF.Wyt)||this).initData=n,r.sessionId=i,r}return F(n,t),n}(Es),BF=function(t){function n(n,i){var r;return(r=t.call(this,NF.qyt)||this).message=n,r.destinationURL=i,r}return F(n,t),n}(Es),LF=function(t){function n(){return t.call(this,NF.zyt)||this}return F(n,t),n}(Es),MF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).sa=new ju,u.ma=void 0,u.ha=new Ps,u.pa=new ju,u.Gyt=function(t){u.ma?(u.ma.ph(void 0),u.ma=void 0):u.da("internal-error"),u.Lo(new Cs)},u.jyt=function(t){u.ma&&(u.ma.kh(void 0),u.ma=void 0),u.Lo(new Ns(sn(u),"license-request",qu(t.message).buffer,t.destinationURL||void 0))},u._a=n,u.Dh=i,u.Qyt=r,u.Ia=e,u.ba=s,u}F(n,t);var i=n.prototype;return i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Ta){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Yyt(Xu(i),e);case 5:this.da("usable"),this.pa.kh(),this.pa=new ju;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Lh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Xu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.ma=new ju,this.Qyt.Uh(this.Ia,i),t.next=7,this.ma.mh;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ph=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pa;case 2:return this.Qyt.Vo(NF.qyt,this.jyt),this.Qyt.Vo(NF.zyt,this.Gyt),this.pa.Io(),this.sa.kh(void 0),t.abrupt("return",this.sa.mh);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Mh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Yyt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Ro(n,i,this.ba),this.Qyt.Mo(NF.qyt,this.jyt),this.Qyt.Mo(NF.zyt,this.Gyt),this.Qyt.gX(this.Ia,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.da=function(t){this.ha.hh(),this.ha.oh(xs,t),this.Lo(new Is(this))},M(n,[{key:"Wh",get:function(){return this.Ia}},{key:"Vh",get:function(){return NaN}},{key:"Hh",get:function(){return this.sa.mh}},{key:"Xh",get:function(){return this.ha}}]),n}(bs),UF=function(){function t(t,n,i){this.Zyt=void 0,this.Ia=void 0,this.ba=void 0,this.Qyt=void 0,this.Dh=void 0,this.ya=void 0,this._a=void 0,this.Qyt=t,this.Dh=n,this.ya=i;var r=fo(i)||"video/mp4";this._a=ho(r)}var i=t.prototype;return i.jh=function(){var t=E.coroutine(Kr.mark(function t(i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ba){t.next=2;break}throw new Io(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new MF(this._a,this.Dh,this.Qyt,this.Ia,this.ba),this.Zyt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qh=function(t){return this.ba=Xu(t),E.resolve(!0)},i.Yh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Zh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},M(t,[{key:"zh",get:function(){return this.Dh}},{key:"Gh",get:function(){return this.ya}},{key:"sessionId",set:function(t){this.Ia=t}}]),t}(),FF=function(){function t(t,n,i){this.Jyt=t,this.Dh=n,this.ya=i}var n=t.prototype;return n.ta=function(){return this.ya},n.Kh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new UF(this.Jyt,this.Dh,this.ya));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"zh",get:function(){return this.Dh}}]),t}(),HF=function(){function t(t){this.Jyt=void 0,this.Jyt=t}return t.prototype.lo=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(s=ao(VF,Rs,n,e))){t.next=6;break}return t.abrupt("return",new FF(this.Jyt,n,s));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function VF(t,n){return t===ke}var XF,WF=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.RX=function(t,n){return!0},n}(qI),qF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new HF(i)),(e=t.call(this)||this).lS=void 0,e.fo=void 0,e.xL=void 0,e.OX=new jE,e.$yt=void 0,e.Jyt=void 0,e.Kyt=!1,e.Ia=void 0,e.Aa=null,e.tmt={zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.nmt=function(t){"boolean"==typeof t.detail.casting&&(e.Kyt=t.detail.casting,e.Lo(new W_(e.Kyt)))},e.imt=function(t){e.Ia=t.sessionId,e.Aa&&(e.Aa.sessionId=e.Ia);var n=t.initData;if(n){var i=JI(n);if(!i)return;e.Lo(new Ds(le,i))}else e.Lo(new Ds(le,new ArrayBuffer(0)))},e.$yt=n,e.Jyt=i,e.Jyt.Mo(NF.Wyt,e.imt),e.fo=r,e.xL=new WF(sn(e)),e.rmt(),e}F(n,t);var i=n.prototype;return i.zL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.so===Dy.Gb)return i}},i.Ao=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xl();case 2:return this.Ho(),this.emt(),this.Jyt.Vo(NF.Wyt,this.imt),t.next=7,this.xL.Ao();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Og=function(){throw new v("Not implemented yet")},i.Vb=function(t,n,i,r,e,s,u){throw new v("Not implemented yet")},i.YS=function(){return!1},i.JS=function(t,n,i,r){throw new v("Not implemented yet")},i.qb=function(t){throw new v("Not implemented yet")},i.tR=function(){throw new v("Not implemented yet")},i.Lh=function(){var t=E.coroutine(Kr.mark(function t(n){var i=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.OX.eL(function(){var t=E.coroutine(Kr.mark(function t(r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.so!==Dy.Gb){t.next=8;break}return os(r),e=new xF(n,i,i.fo),i.lS=e,i.xL.Lh(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pg=function(){throw new v("Not implemented yet")},i.kg=function(){throw new v("Not implemented yet")},i.xl=function(){var t=this;return this.OX.Io(),this.OX.eL(E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.lS){n.next=4;break}return n.next=3,t.lS.Ao();case 3:t.lS=void 0;case 4:return n.next=6,t.xL.xl();case 6:case"end":return n.stop()}},n)})))},i.dh=function(t,n){throw new v("Not implemented yet")},i.oR=function(t){throw new v("Not implemented yet")},i.Dg=function(){throw new v("Not implemented yet")},i.hR=function(){return this.tmt},i.rmt=function(){this.$yt.addEventListener("airPlayIsCasting",this.nmt)},i.emt=function(){this.$yt.removeEventListener("airPlayIsCasting",this.nmt)},i.webkitSetMediaKeys=function(t){this.Aa=t||null,this.Aa&&(this.Aa.sessionId=this.Ia)},i.vq=function(){},i.cq=function(){throw new v("Not implemented yet")},i.fq=function(){throw new v("Not implemented yet")},M(n,[{key:"Xg",get:function(){throw new v("Not implemented yet")}},{key:"Vg",get:function(){throw new v("Not implemented yet")}},{key:"H_",get:function(){throw new v("Not implemented yet")}},{key:"FB",get:function(){throw new v("Not implemented yet")}},{key:"V_",get:function(){throw new v("Not implemented yet")}},{key:"X_",get:function(){throw new v("Not implemented yet")}},{key:"Jo",get:function(){throw new v("Not implemented yet")}},{key:"Dp",get:function(){throw new v("Not implemented yet")}},{key:"qg",get:function(){return this.Kyt}},{key:"q_",get:function(){throw new v("Not implemented yet")}},{key:"z_",get:function(){throw new v("Not implemented yet")}},{key:"G_",get:function(){throw new v("Not implemented yet")}},{key:"$g",get:function(){throw new v("Not implemented yet")}},{key:"e_",get:function(){throw new v("Not implemented yet")}},{key:"tw",get:function(){throw new v("Not implemented yet")}},{key:"j_",get:function(){throw new v("Not implemented yet")}},{key:"_q",get:function(){throw new v("Not implemented yet")}},{key:"Z_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"du",get:function(){throw new v("Not implemented yet")}},{key:"KS",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Aa}},{key:"gq",get:function(){return aS}},{key:"yg",get:function(){throw new v("Not implemented yet")}},{key:"VB",get:function(){throw new v("Not implemented yet")}},{key:"aR",get:function(){throw new v("Not implemented yet")}},{key:"dq",get:function(){return!0}},{key:"VS",get:function(){return this.xL.VS},set:function(t){this.xL.VS=t}},{key:"CX",get:function(){return this.xL.CX}}]),n}(hl),zF=function(t){function n(n){var i;return(i=t.call(this,Qo.Ic)||this).tmt=n,i}return F(n,t),n}(Es);function GF(t){switch(t.type){case XF.ez:return t.value;case XF.Pyt:return Xd(t.value);case XF.xyt:return Hs(t.value);default:return}}function jF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.ez="daterange-ca-type_string",t.Pyt="daterange-ca-type_number",t.xyt="daterange-ca-type_arraybuffer"}(XF||(XF={}));var QF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,e,i,r)||this).DE=void 0,u.smt=void 0,u.DE=n,u.smt=s,u}return F(n,t),M(n,[{key:"name",get:function(){return this.DE}},{key:"timestamp",get:function(){return this.smt}}]),n}(Io),YF=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return F(n,t),n}(QF),ZF=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).BI=0,u.eH=!1,u._S=void 0,u.gS=void 0,u.umt=void 0,u.MI=!0,u.UI=1,u.cg=void 0,u.fg=void 0,u.MX=void 0,u.FX=void 0,u.HX=void 0,u.vg=void 0,u.Mb=void 0,u.rH=void 0,u.omt=rA.NI(),u.XF=rA.NI(),u.LI=!1,u.ZX=rA.NI(),u.FI=void 0,u.hmt=void 0,u.amt=void 0,u.sH=yl.N_,u.Qb=yl.N_,u.$yt=void 0,u.XX=void 0,u.mS=void 0,u.Lyt=void 0,u.fwt=void 0,u.qI=void 0,u.dS=void 0,u.kS=void 0,u.Jyt=void 0,u.tmt={zg:0,Gg:0,jg:0,Qg:0,Yg:0,Zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.lS=void 0,u.cmt=void 0,u.AS=new Lp,u.setCurrentTime=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.tw.length){t.next=4;break}return u.BI=n,t.next=4,u.$yt.zo("seekablechange");case 4:u.BI=u.updateCurrentTime(n),u.Lyt.gQ("THEOplayerSetCurrentTime",u.BI),u.FI=!0,u.Lo(new Yl(u.BI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.fmt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.omt=new rA(i),u.Lo(new lS(u.H_))}},u.vmt=function(t){u.sH=t.detail.readyState,u.Lo(new $l(+t.detail.currentTime,u.e_)),u.dmt()},u.lmt=function(t){u.sH=t.detail.readyState,u.Lo(new Kl(+t.detail.currentTime,u.e_)),u.dmt()},u._mt=function(t){if(t.detail){var n=+t.detail.duration;u.rH=n,u.Lo(new ql(u.V_))}},u.pwt=function(t){t.detail&&(u.eH=!0,u.Lo(new jl(+t.detail.currentTime)))},u.bS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);jF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.gS=new YF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u._S=b_(u.gS),u.Lo(new n_(u.gS))):jF(i)&&(u.gS=new QF(i.name,i.message,void 0,i.code,i.timestamp),u._S=b_(u.gS),u.Lo(new n_(u.gS)))}},u.Awt=function(t){u.Lo(new _S)},u.gmt=function(t){u.sH=t.detail.readyState,u.Lo(new Ql(+t.detail.currentTime,u.e_)),u.dmt()},u.wmt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.tw.length){t.next=3;break}return t.next=3,u.$yt.zo("seekablechange");case 3:u.sH=n.detail.readyState,u.Lo(new Wl(+n.detail.currentTime,u.e_)),u.dmt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.lwt=function(t){t.detail&&u.MI&&(u.MI=!1,u.Lo(new Fl(+t.detail.currentTime)))},u._wt=function(t){t.detail&&(u.MI||(u.MI=!0,u.Lo(new Ul(+t.detail.currentTime))))},u.ymt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.ZX=new rA(i).cI(.05)}},u.Xwt=function(t){t.detail&&u.Lo(new im(+t.detail.currentTime))},u.ywt=function(t){t.detail&&(u.UI=t.detail.playbackRate,u.Lo(new zl(+t.detail.currentTime,u.UI)))},u.mmt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.XF=new rA(i)}},u.wwt=function(t){t.detail&&(u.BI=+t.detail.currentTime,u.FI=!1,u.Lo(new Gl(u.BI,u.umt)),u.Lo(new Zl(u.BI)))},u.gwt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.rH&&(u.eH=!1),u.FI=!0,u.Lo(new Yl(n))}},u.kmt=function(t){t.detail&&(t.detail.currentDate&&(u.umt=new Date(1e3*t.detail.currentDate)),u.BI=+t.detail.currentTime,u.Lo(new Gl(u.BI,u.umt)))},u.pmt=function(t){u.hmt=t.detail.height,u.amt=t.detail.width},u.Amt=function(t){t.detail&&u.Lo(new nm(+t.detail.currentTime))},u.xwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.gg.Cl(new M_(n))},u.bmt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,s=0;s<u.cg.Bl;s++){var o=u.gg.Nl(s);o.Yl==r&&o.Ql==e?i=u.cg.Nl(s):1==o.ql&&(n=u.cg.Nl(s))}i&&n&&(i.ql=!0,n.ql=!1)},u.Bwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.wg.Cl(new X_(n))},u.qj=function(t){var n,i=t.detail.kind,r=t.detail.type;i===sy.bk&&r===H_.ID3?(n=new SI("",t.detail.label)).r_=$d.Kl:i===sy.bk&&r===H_.DATE_RANGE?(n=new vD,u.cmt=n):n=new kR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),u.MX.Cl(n),u.XX.Cl(n)},u.Tmt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,s={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(s.description=r.Id3FrameDescription);var o=new TI(Xd(r.startTime),s,r.uid),h=u.Emt();h&&h.Wb(o)}},u.Smt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],s=new sg(Xd(e.startTime),Xd(e.endTime),e.content,!1),o=null!=(r=u.Rmt(sy.pk))?r:u.Rmt(sy.Db);o&&(o.so=H_.WEBVTT,o.Wb(s))}},u.HW=function(t){t.type===Qo.Za&&(u._S=b_(t.errorObject)),u.Bo(t)},u.Imt=function(t){t.detail&&(u.tmt.Gg=t.detail.corruptedVideoFrames,u.tmt.zg=t.detail.droppedVideoFrames,u.Lo(new zF(u.eg)))},u.Nmt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={zl:t.id};if(void 0!==t.startDate&&(n.aR=new Date(t.startDate)),void 0!==t.endDate&&(n.mZ=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var s=GF(t.customAttributes[e]);void 0!==s&&(r[e]=s)}n.OZ=r}void 0!==t.scte35Cmd&&(n.xZ=Hs(t.scte35Cmd)),void 0!==t.scte35In&&(n.BZ=Hs(t.scte35In)),void 0!==t.scte35Out&&(n.PZ=Hs(t.scte35Out)),void 0!==t.startTime&&(n.pw=t.startTime),n.NZ=t.class,n.V_=Xd(t.duration),n.CZ=Xd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.pw?t.pw:(new Date).getTime(),r=new sD(t,i);u.cmt.Wb(r),u.cmt.Uh(n,i)})};var o=e.uid;u.Lyt=u.getSdkBridge(o),u.$yt=new DF,EF()[o].sdkEventBus=u.$yt,u.cg=new S_,u.fg=new S_;var h=u.Cmt(r);return u.Mb=new DU(sn(u),new pI),u.XX=new bI(sn(u)),u.mS=new Ey(u.Mb,h),u.MX=new uy,u.FX=new OI(sn(u)),u.FX.Vl=u.MX,u.HX=new xI(u.Mb,u.FX),u.vg=new Fp([u.MX,u.mS._p,u.HX._p]),u.Jyt=u.getFairPlayControllerBridge(u.Lyt),u.dS=new qF(u.$yt,u.Jyt),u.kS=new Mp(h),u.dS.VS=u.kS,u.observeMediaElement(),u.WS(),u.qI=new OF(u.Lyt,s),u.qI.Mo("Ax",function(){u.Lyt.gQ("THEOplayerSetPreferredForwardBufferDuration",u.qI.kx)}),u}F(n,t);var i=n.prototype;return i.Pg=function(){return uA},i.Dg=function(){this.Lyt.gQ("THEOplayerShow",{})},i.Og=function(){this.Lyt.gQ("THEOplayerHide",{})},i.Dmt=function(){var t=this;this.Lyt.gQ("THEOplayerSetInitialPreferredPeakBitRate",this.qI.xx);this.Mo("playing",function n(){t.Lyt.gQ("THEOplayerSetInitialPreferredPeakBitRate",0),t.Vo("playing",n)})},i.Tg=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fwt=n,r=te({},i,{sources:{src:n.src,type:_l.A_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Lyt.gQ("THEOplayerSourceChange",r),e={so:Dy.Gb,o_:n.src,Yf:n.type,qS:this.zS(n),GS:n.crossOrigin,jS:i.metadata&&i.metadata.title},this.kS.tS(n.contentProtection),t.next=7,this.dS.Lh(e);case 7:this.lS=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==H_.WEBVTT})).length>0&&this.QS(s),Cy(this.yg),this.Dmt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.zS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{zh:be,eR:[{initDataTypes:[be.oo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.kg=function(){this.MI=!1,this.Lo(new Fl(this.H_)),this.Lyt.gQ("THEOplayerPlay",{})},i.pg=function(){this.MI=!0,this.Lo(new Ul(this.H_)),this.Lyt.gQ("THEOplayerPause",{})},i.xg=function(){},i.xl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BI=0,this.eH=!1,this._S=void 0,this.gS=void 0,this.MI=!0,this.UI=1,this.rH=void 0,this.XF=rA.NI(),this.omt=rA.NI(),this.hmt=void 0,this.amt=void 0,this.sH=yl.N_,this.Qb=yl.N_,this.cg.xl(),this.fg.xl(),this.MX.xl(),this.vg.xl(),t.next=19,this.HX.xl();case 19:return this.FX.xl(),t.next=22,this.mS.xl();case 22:return this.Mb.xl(),this.XX.xl(),this.fwt=void 0,t.next=27,this.dS.xl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sg=function(){this.Lyt.gQ("THEOplayerShowAirPlayPicker",{})},i.Rg=function(){this.Lyt.gQ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.eg.Gg=t.Gg,this.eg.zg=t.zg},i.Fv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xl();case 2:return this.Ho(),this.unobserveMediaElement(),this.iR(),this.dS.VS=void 0,t.next=8,this.dS.Ao();case 8:return this.cg.Fv(),this.fg.Fv(),this.MX.Fv(),this.vg.Fv(),this.FX.Fv(),t.next=15,this.HX.Fv();case 15:return t.next=17,this.mS.Fv();case 17:this.Mb.Fv(),this.XX.Fv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mS.Hb(i)}},i.dmt=function(){var t=this.Qb,n=this.sH;t!==n&&(this.Qb=n,this.Lo(new t_(this.H_,n)))},i.observeMediaElement=function(){this.dS.Mo(Qo.Ga,this.Bo),this.dS.Mo([Qo.Ja,Qo.Za],this.HW),this.$yt.addEventListener("play",this.lwt),this.$yt.addEventListener("pause",this._wt),this.$yt.addEventListener("seeking",this.gwt),this.$yt.addEventListener("seeked",this.wwt),this.$yt.addEventListener("ratechange",this.ywt),this.$yt.addEventListener("durationchange",this._mt),this.$yt.addEventListener("timeupdate",this.kmt),this.$yt.addEventListener("waiting",this.Amt),this.$yt.addEventListener("playing",this.Xwt),this.$yt.addEventListener("ended",this.pwt),this.$yt.addEventListener("loadedmetadata",this.wmt),this.$yt.addEventListener("loadeddata",this.gmt),this.$yt.addEventListener("loadstart",this.Awt),this.$yt.addEventListener("canplay",this.vmt),this.$yt.addEventListener("canplaythrough",this.lmt),this.$yt.addEventListener("error",this.bS),this.$yt.addEventListener("seekablechange",this.mmt),this.$yt.addEventListener("videosizechange",this.pmt),this.$yt.addEventListener("bufferedchange",this.fmt),this.$yt.addEventListener("playedchange",this.ymt),this.$yt.addEventListener("metricschange",this.Imt),this.$yt.addEventListener("addDateRangeCues",this.Nmt)},i.unobserveMediaElement=function(){this.dS.Vo(Qo.Ga,this.Bo),this.dS.Vo([Qo.Ja,Qo.Za],this.HW),this.$yt.removeEventListener("play",this.lwt),this.$yt.removeEventListener("pause",this._wt),this.$yt.removeEventListener("seeking",this.gwt),this.$yt.removeEventListener("seeked",this.wwt),this.$yt.removeEventListener("ratechange",this.ywt),this.$yt.removeEventListener("durationchange",this._mt),this.$yt.removeEventListener("timeupdate",this.kmt),this.$yt.removeEventListener("waiting",this.Amt),this.$yt.removeEventListener("playing",this.Xwt),this.$yt.removeEventListener("ended",this.pwt),this.$yt.removeEventListener("loadedmetadata",this.wmt),this.$yt.removeEventListener("loadeddata",this.gmt),this.$yt.removeEventListener("loadstart",this.Awt),this.$yt.removeEventListener("canplay",this.vmt),this.$yt.removeEventListener("canplaythrough",this.lmt),this.$yt.removeEventListener("error",this.bS),this.$yt.removeEventListener("seekablechange",this.mmt),this.$yt.removeEventListener("videosizechange",this.pmt),this.$yt.removeEventListener("bufferedchange",this.fmt),this.$yt.removeEventListener("playedchange",this.ymt),this.$yt.removeEventListener("metricschange",this.Imt),this.$yt.removeEventListener("addDateRangeCues",this.Nmt)},i.updateCurrentTime=function(t){var n=this.tw.start(0),i=this.tw.end(0);return _.min(_.max(t,n),i)},i.Emt=function(){for(var t=0,n=this.vg.Pl;t<n.length;t++){var i=n[t];if(i.jl===sy.bk&&i.so===H_.ID3)return i}},i.Rmt=function(t){for(var n=0,i=this.vg.Pl;n<i.length;n++){var r=i[n],e=r.r_===$d.t_,s=r.jl===t;if(e&&s)return r}},i.WS=function(){this.$yt.addEventListener("addaudiotrack",this.xwt),this.$yt.addEventListener("enableaudiotrack",this.bmt),this.$yt.addEventListener("addvideotrack",this.Bwt),this.$yt.addEventListener("addtexttrack",this.qj),this.$yt.addEventListener("addtexttrackid3cues",this.Tmt),this.$yt.addEventListener("addtexttrackcues",this.Smt)},i.iR=function(){this.$yt.removeEventListener("addaudiotrack",this.xwt),this.$yt.removeEventListener("enableaudiotrack",this.bmt),this.$yt.removeEventListener("addvideotrack",this.Bwt),this.$yt.removeEventListener("addtexttrack",this.qj),this.$yt.removeEventListener("addtexttrackid3cues",this.Tmt),this.$yt.removeEventListener("addtexttrackcues",this.Omt)},i.Hg=function(){},M(n,[{key:"gg",get:function(){return this.cg}},{key:"Vg",get:function(){return this.omt.uR()}},{key:"Xg",get:function(){return this.umt?this.umt:null},set:function(t){this.Lyt.gQ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.umt=t}},{key:"H_",get:function(){return this.BI},set:function(t){this.setCurrentTime(t)}},{key:"V_",get:function(){return this.rH}},{key:"X_",get:function(){return this.eH}},{key:"Jo",get:function(){return this._S}},{key:"W_",get:function(){return this.gS}},{key:"mg",get:function(){}},{key:"qg",get:function(){return this.dS.qg}},{key:"eg",get:function(){return this.tmt}},{key:"q_",get:function(){return this.LI},set:function(t){this.LI!==t&&(this.Lyt.gQ("THEOplayerSetMuted",t),this.LI=t,this.Lo(new Jl(this.H_,t?0:1)))}},{key:"z_",get:function(){return this.MI}},{key:"G_",get:function(){return this.UI},set:function(t){this.Lyt.gQ("THEOplayerSetPlaybackRate",t),this.UI=t}},{key:"$g",get:function(){return this.ZX.uR()}},{key:"Kg",get:function(){return Yp.DR},set:function(t){}},{key:"e_",get:function(){return this.sH}},{key:"tw",get:function(){return this.XF.uR()}},{key:"j_",get:function(){return this.FI}},{key:"aR",get:function(){}},{key:"yg",get:function(){return this.vg}},{key:"Q_",get:function(){return this.hmt}},{key:"Y_",get:function(){return this.amt}},{key:"Z_",get:function(){return 1},set:function(t){}},{key:"wg",get:function(){return this.fg}},{key:"cR",get:function(){return this.AS}},{key:"Jg",get:function(){return!0}}]),n}(hl),JF=function(){function t(){this.fR=Cp.jE}var n=t.prototype;return n.vR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(bl(n.type))return!1;var r=n.contentProtection;if(r&&!Hm(r)){if(!Wm(r))return!1;if(!t.Wwt(r))return!1}return!0},t.Wwt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.dR=function(){return!1},t}(),$F=function(){function t(){this.xmt=e.webkit}return t.prototype.gQ=function(t,n){this.xmt.messageHandlers[t]&&this.xmt.messageHandlers[t].postMessage(n)},t}(),KF=function(t){function n(n){var i;return(i=t.call(this)||this).Lyt=void 0,i.$yt=void 0,i.Pmt=function(t){var n=Hs(t.detail.initData),r=t.detail.sessionId;i.Lo(new PF(n,r))},i.Bmt=function(t){var n=new m(Qs(t.detail.message)),r=t.detail.destinationURL;i.Lo(new BF(n,r))},i.Lmt=function(t){i.Lo(new LF)},i.Lyt=n,i.$yt=new DF,EF().fairplayController={sdkEventBus:i.$yt},i.fK(),i}F(n,t);var i=n.prototype;return i.fK=function(){this.$yt.addEventListener(NF.Wyt,this.Pmt),this.$yt.addEventListener(NF.qyt,this.Bmt),this.$yt.addEventListener(NF.zyt,this.Lmt)},i.gX=function(t,n){var i={playerId:RF(),data:Ys(n.buffer),sessionId:t};this.Lyt.gQ("THEOplayerCreateKeySession",i)},i.Uh=function(t,n){var i={playerId:RF(),data:Ys(n.buffer),sessionId:t};this.Lyt.gQ("THEOplayerUpdateKey",i)},n}(hl),tH=function(t){var n=this;this.$yt=void 0,this.Mmt=void 0,this.Umt=function(){n.Mmt.$j()},this.Fmt=function(){n.Mmt.Jj()},this.$yt=new DF,this.Mmt=t,this.$yt.addEventListener("showTracks",this.Umt),this.$yt.addEventListener("hideTracks",this.Fmt),EF().texttracks={sdkEventBus:this.$yt}},nH=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this,n,i,r,e,s)||this).rQ=void 0,o.eQ=void 0,o.Hmt=void 0;var h=i.FS(E_.Cv);return o.rQ=new sN,o.rQ.lq(n),o.eQ=new AC(o.rQ.Wg,h.FB,o.yg,u,h.KS),o.Hmt=new tH(o.eQ),i.rR(h),kr.document.querySelector(".vjs-tech")?kr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):kr.document.querySelector(".player-div").style.background="transparent",o}F(n,t);var i=n.prototype;return i.Dg=function(){t.prototype.Dg.call(this),this.rQ.Dg()},i.Og=function(){t.prototype.Og.call(this),this.rQ.Og()},i.Eg=function(){return!0},i.getSdkBridge=function(){return new $F},i.getFairPlayControllerBridge=function(){return rH},i.Cmt=function(t){return t},i.Fv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return kr.document.querySelector(".vjs-tech")?kr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):kr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Fv.call(this);case 3:this.eQ.Fv(),this.rQ.Fv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(ZF);jp(new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.qT=function(t,n,i,r,e,s){return new nH(t,n,i,r,e,s)},i.vR=function(n,i){if(n.type){var r=Br();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.vR.call(this,n,i)},n}(JF)));var iH,rH=new KF(new $F),eH=function(t){function n(){return t.call(this,"Vmt")||this}return F(n,t),n.prototype.sl=function(){return new sH},n}(pd),sH=function(t){function n(){return t.call(this,"statechange")||this}return F(n,t),n}(Es);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(iH||(iH={}));var uH=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Xmt=new hl,n.Bo=function(t){n.Lo(t)},n}F(n,t);var i=n.prototype;return i.sl=function(){return n=function(t){var n=t.Wmt.map(function(t){return t.il});return n.item=function(n){n|=0;var i=t.Nl(n);return i&&i.il||void 0},n}(t=this),i=new hE(t,n),n.addEventListener=function(t,n){i.Mo(t,n)},n.removeEventListener=function(t,n){i.Vo(t,n)},n;var t,n,i},i.Mo=function(t,n){this.Xmt.Mo(t,n)},i.Fo=function(t){this.Xmt.Fo(t)},i.Ho=function(){this.Xmt.Ho()},i.Lo=function(t){this.Xmt.Lo(t)},i.Vo=function(t,n){this.Xmt.Vo(t,n)},i.Wo=function(t){this.Xmt.Wo(t)},i.qo=function(t){this.Xmt.qo(t)},i.zo=function(t,n){return this.Xmt.zo(t,n)},n}(function(){function t(){this.rh=[],this.nl=void 0}var n=t.prototype;return n.Nl=function(t){return this.rh[t]},n.iw=function(t){this.rh.push(t),this.nl&&this.nl.push(t.il),this.qmt(t)},n.zmt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.iw(i)}},n.Gmt=function(t,n){n>=0&&n<=this.rh.length&&(this.rh.splice(n,0,t),this.nl&&this.nl.splice(n,0,t.il),this.qmt(t))},n.rw=function(t){return Ze(this.rh,t)},n.Mh=function(t){this.jmt(this.rh.indexOf(t))},n.jmt=function(t){if(t>=0&&t<this.rh.length){var n=this.rh[t];Ye(this.rh,t),this.nl&&Ye(this.nl,t),this.Qmt(n)}},n.hh=function(){var t=this.rh.slice();Je(this.rh),this.nl&&Je(this.nl);for(var n=0;n<t.length;n++){var i=t[n];this.Qmt(i)}},M(t,[{key:"Wmt",get:function(){return this.rh}},{key:"Bl",get:function(){return this.rh.length}},{key:"il",get:function(){return this.nl||(this.nl=this.sl()),this.nl}}]),t}());var oH,hH=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return F(n,t),n}(Es),aH=function(t){function n(n){var i;return(i=t.call(this,"Zmt")||this).Ymt=n,i}return F(n,t),n.prototype.sl=function(){return new hH(this.Ymt.il)},n}(pd),cH=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return F(n,t),n}(Es),fH=function(t){function n(n){var i;return(i=t.call(this,"Jmt")||this).task=n,i}return F(n,t),n.prototype.sl=function(){return new cH(this.task.il)},n}(pd),vH=function(t){function n(){return t.call(this)||this}F(n,t);var i=n.prototype;return i.qmt=function(t){this.Lo(new aH(t))},i.Qmt=function(t){this.Lo(new fH(t))},n}(uH);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(oH||(oH={}));var dH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).$mt=oH.UNINITIALISED,e.tL=new vH,e.x7=void 0,e.Kmt=void 0,e.tkt=void 0,e.tkt=i,e.Kmt=r,e.x7=n,e.Ig(),e}F(n,t);var i=n.prototype;return i.Ig=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nkt();case 2:this.ikt(oH.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nkt=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.rkt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.rkt=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x7.z0();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.tkt.ekt(r.id,r.sourceDescription,r.parameters,this.Kmt),this.skt(e),this.tL.iw(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ikt=function(t){this.$mt=t,this.Lo(new eH)},i.ekt=function(t,n,i){void 0===i&&(i="persistent");var r=this.tkt.ukt(t,n,i);return this.okt(r,i),this.tL.iw(r),this.skt(r),r},i.okt=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hkt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),v("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.hkt=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x7.X0({key:n.zl,id:n.zl,sourceDescription:n.ER,parameters:n.na},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.skt=function(t){var n=this;t.Mo("Vmt",function(){t.hv===iH.EVICTED&&n.tL.Mh(t)})},M(n,[{key:"hv",get:function(){return this.$mt}},{key:"akt",get:function(){return this.tL}}]),n}(bs);function lH(t,n){return function(t,n){var i=t.du&&n.du,r=t.Dp&&n.Dp;return i||r?i&&r?t.du*t.Dp-n.du*n.Dp:i?t.du-n.du:r?t.Dp-n.Dp:(t.du||1)*(t.Dp||1)-(n.du||1)*(n.Dp||1):0}(t,n)||function(t,n){return t.JE-n.JE}(t,n)}var _H=function(t){function n(){return t.call(this,"progress")||this}return F(n,t),n}(Es),gH=function(t){function n(){return t.call(this,"l0")||this}return F(n,t),n.prototype.sl=function(){return new _H},n}(pd),wH=function(){function t(t,n,i){if(this.ckt=void 0,this.fkt=t,this.nw=n,this.vkt=i,0===this.nw.size)this.ckt=rA.NI();else{var r=new rA([-1/0,1/0]);this.nw.forEach(function(t){r=r.sI(t.timeRanges)}),this.ckt=r}}return t.prototype.Hw=function(t){return!!Ud(this.nw,t.nw)&&(!!Yt(this.fkt,t.fkt)&&(!!Yt(this.EI,t.EI)&&(!!Yt(this.dkt,t.dkt)&&this.lkt.mI(t.lkt))))},t._kt=function(){return mH},M(t,[{key:"EI",get:function(){return this.vkt}},{key:"gkt",get:function(){return this.fkt}},{key:"dkt",get:function(){return this.lkt.EI}},{key:"wkt",get:function(){var t=0,n=0;return this.nw.forEach(function(i){t+=i.timeRanges.EI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"lkt",get:function(){return this.ckt}}]),t}(),yH=ie(),mH=new wH(0,yH,NaN);function kH(t,n){if(rt(t)){if(Ie(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var pH,AH=function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"ykt"}}]),n}(on);function bH(t,n,i,r){var e=[],s=Ge(i,function(t){return t.mkt===fe});if(void 0!==s){var u=s.vs?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.vs.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.mkt!==fe)for(var a=0,c=Se(h.mkt);a<c.length;a++){var f=c[a];e.push({zh:f,iS:h.kkt?[h.kkt]:[],pE:void 0})}}if(e.length)return{cT:t,pkt:{Akt:u,fT:s.fT},bkt:e,Tkt:n===E_.Nv?r.slice():[],Ekt:n===E_.Cv?r.slice():[],TX:!1}}}}function TH(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=ie();return EH(r,e,t.bkt),EH(r,e,n.bkt),{cT:t.cT,pkt:{Akt:t.pkt.Akt,fT:null!=(i=t.pkt.fT)?i:n.pkt.fT},bkt:r,Tkt:SH(t.Tkt,n.Tkt,Ze),Ekt:SH(t.Ekt,n.Ekt,Ze),TX:t.TX||n.TX||!1}}function EH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],s=e.zh.ao,u=void 0;n.has(s)?(u=n.get(s)).iS=SH(u.iS,e.iS,RH):(u=te({},e),t.push(u),n.set(s,u))}}function SH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var s=n[e];i(r,s)||r.push(s)}return r}function RH(t,n){for(var i=0;i<t.length;i++){if(zs(t[i],n))return!0}return!1}function IH(t,n){var i,r=t.Skt;if(r){for(var e=t.cD,s=[],u=0,o=t.p$;u<o.length;u++){var h=o[u];s.push(e+'; codecs="'+h+'"')}i=bH(n||{},t.so,r,s)}for(var a=0,c=t.Rkt;a<c.length;a++){i=TH(i,NH(c[a],n))}return i}function NH(t,n){return bH(n||{},t.so,t.Skt||[],[t.Yf])}function CH(t,n,i){return DH.apply(this,arguments)}function DH(){return(DH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Ikt;s<u.length;s++)o=u[s],e.push(OH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{V_:n.Ckt.Nkt(),Dkt:[n.Okt],Ikt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function OH(t,n,i){return xH.apply(this,arguments)}function xH(){return(xH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.xkt;s<u.length;s++)o=u[s],e.push(PH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{Pkt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function PH(t,n,i){return BH.apply(this,arguments)}function BH(){return(BH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Bkt;s<u.length;s++)LH(o=u[s])||e.push(FH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{_p:h,so:n.so});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function LH(t){return t.Rkt.every(UH)}!function(t){t[t.p_=0]="p_",t[t.A_=1]="A_"}(pH||(pH={}));var MH=1;function UH(t){return t.Lkt!==MH&&Boolean(t.Lkt)}function FH(t,n,i){return HH.apply(this,arguments)}function HH(){return(HH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Rkt;s<u.length;s++)UH(o=u[s])||e.push(XH(o,r));return t.next=4,E.all(e);case 4:return h=t.sent,a=n.p$[0],c=n.Skt,f=c?VH(a,c):void 0,v=IH(n,i),t.abrupt("return",{Zl:h,Yl:n.Mkt,so:n.so,qS:f,Ukt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function VH(t,n){for(var i=[],r=function(t){return t?Ie(t,"avc")?ro.VIDEO_H264:Ie(t,"hev")||Ie(t,"hvc")||Ie(t,"hvt")||Ie(t,"lhv")||Ie(t,"lhe")||Ie(t,"lht")?ro.VIDEO_H265:Ie(t,"mp4")?ro.VIDEO_MP4:Ie(t,"mpeg2")?ro.VIDEO_MPEG2:Ie(t,"mpeg")?ro.VIDEO_MPEG:ro.VIDEO_UNKNOWN:ro.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var s=n[e],u=s.mkt.split(":").pop(),o=s.kkt;i.push({mimeType:r,uuid:u,data:o})}return{type:pH.p_,schemeType:ve,schemeDatas:i}}function XH(t,n){return WH.apply(this,arguments)}function WH(){return(WH=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qH(n,i);case 2:s=t.sent,u={zl:jH(n),wb:s,e7:n.h7,JE:n.JE,lu:n.lu,Dp:n.Dp,so:n.so,du:n.du},t.t0=n.so,t.next=t.t0===E_.$e?7:t.t0===E_.Cv?8:t.t0===E_.Nv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.QK=null!=(r=null==(e=n.QK)?void 0:e.ty())?r:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.Wgt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qH(t,n){return zH.apply(this,arguments)}function zH(){return(zH=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Fkt,s=e.Hkt(),u=s;case 4:if(!u){t.next=16;break}if(!n.Vkt(u)){t.next=12;break}return t.next=8,n.Xkt(u,i,(new es).Do);case 8:for(o=t.sent,h=0;h<o.Bl;h++)r.push(GH(o.Wkt(h),n));t.next=13;break;case 12:r.push(GH(u,n));case 13:u=e.Nlt(u),t.next=4;break;case 16:return a=e.qkt(),c=a.Aw-s.pw,t.abrupt("return",{V_:c,J0:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function GH(t,n){return{pw:t.pw,V_:t.V_,zkt:n.Gkt(t)}}function jH(t){return t.jkt.GR+"-"+(""+t.zl)}function QH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var s in i[r]={},e){var u=[];i[r][s]=[];for(var o=e[s],h=0;h<o.length;h++){var a=o[h],c=YH(a,r,n);u.push(c)}i[r][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={so:r.type,Tp:[]}),n[r["group-id"]].Tp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],s=0,u=e.Tp;s<u.length;s++){var o=u[s];i[e.so]||(i[e.so]={}),i[e.so][o.name]||(i[e.so][o.name]=[]),i[e.so][o.name].push(o)}return i}(t),n)}function YH(t,n,i){for(var r=t["group-id"],e={UJ:t,pK:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===r&&e.pK.push(u)}return e}var ZH,JH="und";function $H(t,n){return KH.apply(this,arguments)}function KH(){return(KH=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.N7([n],{});case 2:return r=t.sent,e=new KP,t.abrupt("return",e.tp(r.m7,r.lv,hB(r.lv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tV(t,n){return nV.apply(this,arguments)}function nV(){return(nV=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",iV(n,i));case 4:return t.abrupt("return",(e=void 0,e=wV(r=n),{V_:r.duration,Dkt:[r.uri],Ikt:[{Pkt:[{so:E_.wv,_p:[{so:E_.wv,Yl:JH,Zl:[{zl:r.uri,wb:e,JE:0,lu:"",Dp:0,so:E_.wv,du:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function iV(t,n){return rV.apply(this,arguments)}function rV(){return(rV=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=QH(n.media,n.streams),t.next=3,oV(r,i);case 3:return e=t.sent,t.next=6,sV(n.streams,i);case 6:return s=t.sent,e.push(s),t.abrupt("return",{V_:eV(e),Dkt:[n.uri],Ikt:[{Pkt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function eV(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i]._p;r<e.length;r++){var s=e[r];n=_.max.apply(_,[n].concat(s.Zl.map(function(t){return t.wb.V_})))}return n}function sV(t,n){return uV.apply(this,arguments)}function uV(){return(uV=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return a=n[e],t.next=6,_V(a.uri,i);case 6:(c=t.sent).JE=a.bandwidth,c.lu=a.codecs,c.Dp=null!=(s=null==(u=a.resolution)?void 0:u.height)?s:0,c.du=null!=(o=null==(h=a.resolution)?void 0:h.width)?o:0,r.push(c);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{so:E_.wv,_p:[{Yl:JH,so:E_.wv,Zl:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function oV(t,n){return hV.apply(this,arguments)}function hV(){return(hV=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=Kr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,aV(s,e,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aV(t,n,i){return cV.apply(this,arguments)}function cV(){return(cV=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=Kr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,fV(u,r);case 7:o=t.sent,e.push(o),t.next=2;break;case 11:return t.abrupt("return",{so:dV(i),_p:e});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fV(t,n){return vV.apply(this,arguments)}function vV(){return(vV=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n[0].UJ,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,lV(u,i);case 7:o=t.sent,r.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{Yl:e.language||JH,so:dV(e.type),Zl:r});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dV(t){switch(t.toUpperCase()){case"AUDIO":return E_.Nv;case"VIDEO":return E_.Cv;case"SUBTITLES":case"CLOSED-CAPTIONS":return E_.$e;default:return E_.wv}}function lV(t,n){var i,r,e;return _V((r=(i=t).UJ.uri,e=i.pK.map(function(t){return t.uri}),r||(e.length?e[0]:void 0)),n)}function _V(t,n){return gV.apply(this,arguments)}function gV(){return(gV=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,$H(n,i);case 3:e=t.sent,r=wV(e),t.next=8;break;case 7:r={V_:0,J0:[]};case 8:return t.abrupt("return",{zl:n||"default",Qkt:n,wb:r,JE:0,lu:"",Dp:0,so:E_.wv,du:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wV(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(yV(e))}return{V_:t.duration,J0:n}}function yV(t){return{pw:t.start,V_:t.duration,zkt:mV(t.uri)}}function mV(t){return lD(t)?{_v:t.HZ,VZ:[t.VZ.GR,t.VZ.QR],Lv:!1}:{_v:t.toString(),Lv:!1}}!function(t){t.Gb="static",t.jb="dynamic"}(ZH||(ZH={}));var kV,pV=31536e3,AV=2592e3,bV=86400,TV=3600,EV=60,SV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,RV=function(){function t(t){this.Ykt=void 0;var n=t.match(SV);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Ykt=i*pV+r*AV+e*bV+s*TV+u*EV+o}var n=t.prototype;return n.Nkt=function(){return this.Ykt},n.Zkt=function(){return 1e3*this.Ykt},M(t,[{key:"d3",get:function(){return Ig.hm(this.Ykt,1e3)}}]),t}();!function(t){t.Jkt="progressive",t.$kt="interlaced",t.wv="unknown"}(kV||(kV={}));var IV=function(){function t(t,n){this.Kkt=t,this.tpt=n}return t.prototype.ty=function(){return this.Kkt/this.tpt},t}(),NV=/^(?:true|false)$/i,CV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function DV(t){if(void 0!==t)return new RV(t)}function OV(t){if(void 0!==t){var n=t.match(CV);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(r),g=Number(e)-1,w=Number(s),m=Number(u),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=_.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,m,k,p,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function xV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[BV(n[1]),BV(n[2])]}}function PV(t){if(void 0!==t){if(!y(Number(t)))try{return Wt.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function BV(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function LV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!y(i)&&!y(r))return new IV(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function MV(t){if(void 0!==t){if(NV.test(t))return"true"===t.toLowerCase();if(!y(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function UV(t){return{_v:t.Ds,npt:MV(t.Ts("availabilityTimeComplete")),ipt:BV(t.Ts("availabilityTimeOffset"))}}function FV(t){return t.map(UV)}function HV(t){var n,i,r,e,s,u,o=JV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(s=(n=t).Es(r,i))&&(s=n.Ts(e+":"+i)),s),a=Xw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Qs(a.Ds)),!u){var c=Xw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Hs(t.Ds),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,s=new ArrayBuffer(e),u=new m(s),o=new DataView(s),h=new zu;wu(o,h,e),wu(o,h,1886614376),wu(o,h,0),fu(o,h,i),wu(o,h,r),fu(o,h,n),0;return u.buffer}(c))}return{fT:h,kkt:u,mkt:o.mkt,vs:o.vs}}function VV(t){return{rpt:t.Ts("sourceURL"),VZ:xV(t.Ts("range"))}}function XV(t,n){var i=t.Ts("d"),r=t.Ts("t"),e=BV(t.Ts("r"));n.push({V_:i,pw:r,ept:e})}function WV(t){return{K6:t.Ts("index"),spt:xV(t.Ts("indexRange")),Tp:t.Ts("media"),upt:xV(t.Ts("mediaRange"))}}function qV(t){var n,i;return te({},jV(t),{hpt:(n=t._s("SegmentURL"),(i=n.map(WV)).length>0?i:void 0),apt:t.Ts("xlink:href"),cpt:t.Ts("xlink:actuate")})}function zV(t){var n=t.map(qV);return n.length>0?n:void 0}function GV(t){var n=MV(t.Ts("availabilityTimeComplete")),i=BV(t.Ts("availabilityTimeOffset")),r=xV(t.Ts("indexRange")),e=MV(t.Ts("indexRangeExact")),s=t._s("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.ys+" element can not have more than one Initialization element.");var u=1===s.length?VV(s[0]):void 0,o=PV(t.Ts("presentationTimeOffset")),h=t._s("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.ys+" element can not have more than one RepresentationIndex element.");return{npt:n,ipt:i,spt:r,fpt:e,vpt:u,dpt:o,lpt:1===h.length?VV(h[0]):void 0,_pt:DV(t.Ts("timeShiftBufferDepth")),Zy:BV(t.Ts("timescale"))}}function jV(t){var n=GV(t),i=t._s("BitstreamSwitching"),r=i.length>0?VV(i[0]):void 0,e=BV(t.Ts("duration")),s=t._s("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.ys+" element can not have more than one SegmentTimeline element.");return te({},n,{gpt:r,V_:e,Fkt:1===s.length?function(t){for(var n=[],i=t._s("S"),r=0;r<i.length;r++)XV(i[r],n);return n}(s[0]):void 0,wpt:BV(t.Ts("startNumber")),ypt:BV(t.Ts("endNumber"))})}function QV(t){return te({},jV(t),{mpt:t.Ts("bitstreamSwitching"),kpt:t.Ts("index"),ppt:t.Ts("initialization"),Apt:t.Ts("media")})}function YV(t){return{Wgt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(BV)):1===n.length?n.map(BV)[0]:void 0}}(t.Ts("audioSamplingRate")),p$:t.Ts("codecs"),bpt:MV(t.Ts("codingDependency")),Skt:function(t){if(0!==t.length)return t.map(HV)}(t._s("ContentProtection")),Tpt:t._s("EssentialProperty").map($V),QK:LV(t.Ts("frameRate")),Dp:BV(t.Ts("height")),Lkt:BV(t.Ts("maxPlayoutRate")),Ept:BV(t.Ts("maximumSAPPeriod")),cD:t.Ts("mimeType"),Spt:t.Ts("profiles"),Rpt:t.Ts("sar"),Ipt:function(t){switch(t){case kV.Jkt:case kV.$kt:case kV.wv:return t;default:return}}(t.Ts("scanType")),Npt:t.Ts("segmentProfiles"),Cpt:BV(t.Ts("startWithSAP")),du:BV(t.Ts("width"))}}function ZV(t){var n=YV(t),i=BV(t.Ts("bandwidth")),r=FV(t._s("BaseURL")),e=t.Ts("dependencyId"),s=t.Ts("id"),u=t.Ts("mediaStreamStructureId"),o=BV(t.Ts("qualityRanking")),h=t._s("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?GV(h[0]):void 0,c=zV(t._s("SegmentList")),f=t._s("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return te({},n,{JE:i,Dpt:r,Opt:e,zl:s,xpt:u,Ppt:o,Bpt:a,Lpt:c,Mpt:1===f.length?QV(f[0]):void 0})}function JV(t){return{mkt:t.Ts("schemeIdUri"),vs:t.Ts("value")}}function $V(t){return JV(t)}function KV(t){return JV(t)}function tX(t){return JV(t)}function nX(t){var n,i=YV(t),r=function(t){return t.map(tX)}(t._s("Accessibility")),e=FV(t._s("BaseURL")),s=MV(t.Ts("bitstreamSwitching")),u=t.Ts("contentType"),o=BV(t.Ts("group")),h=BV(t.Ts("id")),a=(null==(n=t._s("Label")[0])?void 0:n.Ds)||"",c=t.Ts("lang"),f=BV(t.Ts("maxBandwidth")),d=LV(t.Ts("maxFrameRate")),l=BV(t.Ts("maxHeight")),_=BV(t.Ts("maxWidth")),g=BV(t.Ts("minBandwidth")),w=LV(t.Ts("minFrameRate")),y=BV(t.Ts("minHeight")),m=BV(t.Ts("minWidth")),k=t.Ts("par"),p=t._s("Representation").map(ZV);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A=function(t){return t.map(KV)}(t._s("Role")),b=MV(t.Ts("segmentAlignment"))||!1,T=t._s("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var E=1===T.length?GV(T[0]):void 0,S=zV(t._s("SegmentList")),R=t._s("SegmentTemplate");if(R.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I=1===R.length?QV(R[0]):void 0,N=BV(t.Ts("selectionPriority"));return te({},i,{Upt:r,Dpt:e,gpt:s,Yf:u,Fpt:o,zl:h,Ql:a,Yl:c,Hpt:f,Vpt:d,Xpt:l,Wpt:_,qpt:g,zpt:w,Gpt:y,jpt:m,Qpt:k,Rkt:p,Ypt:A,Zpt:b,Bpt:E,Lpt:S,Mpt:I,fR:N||1,Jpt:MV(t.Ts("subsegmentAlignment"))||!1,$pt:BV(t.Ts("subsegmentStartsWithSAP")),Kpt:t.Ts("xlink:actuate")||"onRequest",tAt:t.Ts("xlink:href")})}function iX(t){var n=PV(t.Ts("presentationTime"))||Wt.ZERO,i=PV(t.Ts("duration")),r=BV(t.Ts("id")),e=function(t){for(var n=t.Cs,i={},r=0;r<n.length;r++)i[n[r].as]=n[r].vs;return i}(t),s=t.Ds;return{JA:n,V_:i,zl:r,Cs:e,Os:""!==s.trim()?s:t.Ts("messageData")||""}}function rX(t){return{tAt:t.Ts("xlink:href"),Kpt:t.Ts("xlink:actuate"),mkt:t.Ts("schemeIdUri"),vs:t.Ts("value"),Zy:BV(t.Ts("timescale")),dpt:PV(t.Ts("presentationTimeOffset")),fD:t._s("Event").map(iX)}}function eX(t,n){var i=t._s("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?JV(i[0]):void 0,e=t._s("AdaptationSet").map(nX),s=FV(t._s("BaseURL")),u=MV(t.Ts("bitstreamSwitching")),o=DV(t.Ts("duration")),h=t._s("EventStream").map(rX),a=t.Ts("id"),c=n&&DV(n.Ts("start")),f=t._s("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?GV(f[0]):void 0,l=zV(t._s("SegmentBase")),_=t._s("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?QV(_[0]):void 0,w=DV(t.Ts("start")),y=(t._s("Subset"),t.Ts("xlink:href"));return{Bkt:e,nAt:r,Dpt:s,gpt:u,V_:o,iAt:h,zl:a,rAt:c,Bpt:d,Lpt:l,Mpt:g,GR:w,Kpt:t.Ts("xlink:actuate"),tAt:y}}function sX(t){var n=t.Ts("schemeIdUri");if(n)return{mkt:n,vs:t.Ts("value")}}function uX(t,n){var i=OV(t.Ts("availabilityEndTime")),r=OV(t.Ts("availabilityStartTime")),e=FV(t._s("BaseURL")),s=t.Ts("id"),u=t._s("Location").map(function(t){return""+t.Ds}),o=DV(t.Ts("maxSegmentDuration")),h=DV(t.Ts("maxSubsegmentDuration")),a=DV(t.Ts("mediaPresentationDuration")),c=(t._s("Metrics"),DV(t.Ts("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=DV(t.Ts("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(eX(t[i],t[i+1]));return n}(t._s("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Ts("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{eAt:i,sAt:r,Dpt:e,zl:s,uAt:u,oAt:n,hAt:o,aAt:h,Ckt:a,cAt:c,fAt:f,Ikt:d,Spt:l,vAt:OV(t.Ts("publishTime")),dAt:DV(t.Ts("suggestedPresentationDelay")),_pt:DV(t.Ts("timeShiftBufferDepth")),so:function(t){switch(t){case ZH.Gb:case ZH.jb:return t;default:return}}(t.Ts("type")),lAt:function(t){for(var n=[],i=0;i<t.length;i++){var r=sX(t[i]);r&&n.push(r)}return n}(t._s("UTCTiming"))}}var oX,hX=function(){function t(){}return t.prototype.uyt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return uX(t,n)}(T.es(t).xs,n)},t}(),aX=0,cX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Gl=void 0,u.uw=void 0,u._At=void 0,u.zl=n,u.JE=i,u.p$=r,u.HZ=s,u.Gl=aX++,u.uw=e||"",u._At=!0,u}return F(n,t),n.prototype.Nb=function(){this._At=!1,this.Lo(new kU(this.il))},M(n,[{key:"Ql",get:function(){return this.uw},set:function(t){this.uw!==t&&(this.uw=t,this.Lo(new kU(this.il)))}},{key:"vY",get:function(){return this._At}}]),n}(bs),fX=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,s)||this).nl=void 0,c.QK=u,c.du=o,c.Dp=h,c.Xgt=a,c}return F(n,t),M(n,[{key:"il",get:function(){return this.nl||(this.nl=pU(this)),this.nl}}]),n}(cX),vX=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).nl=void 0,o.Wgt=u,o}return F(n,t),M(n,[{key:"il",get:function(){return this.nl||(this.nl=AU(this)),this.nl}}]),n}(cX);!function(t){t.gAt="wAt",t.yAt="mAt"}(oX||(oX={}));var dX=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).kAt=function(t){n.Lo(t)},n}return F(n,t),M(n,[{key:"pAt",get:function(){var t=this.AAt();return null==t?void 0:t.GR}},{key:"bAt",get:function(){var t=this.AAt();return null==t?void 0:t.QR}}]),n}(bs);function lX(t){return ot(t.TAt)}var _X=function(t){function n(n,i){var r;if((r=t.call(this)||this).EAt=void 0,r.nl=void 0,r.SAt=void 0,r.RAt=void 0,r.IAt=void 0,r.EAt=n,r.SAt=i,r.SAt.Mo(oX.gAt,r.kAt),r.so===E_.Cv){var e,s,u=null!=(e=null==(s=r.QK)?void 0:s.ty())?e:NaN;r.RAt=new fX(r.zl,r.JE,r.lu,"","",u,r.du,r.Dp)}else r.so===E_.Nv?r.RAt=new vX(r.zl,r.JE,r.lu,"","",r.Wgt):r.RAt=void 0;return r}F(n,t);var i=n.prototype;return i.Gkt=function(t){var n=lX(t)?this.SAt.NAt(t):this.SAt.Gkt(t);return{_v:n._v,VZ:n.VZ,Lv:this.CAt.Lv}},i.DAt=function(){return this.SAt.DAt()},i.AAt=function(){return this.SAt.AAt()},i.OAt=function(){return this.SAt.OAt()},i.Vkt=function(t){return this.SAt.Vkt(t)},i.Xkt=function(t,n,i){return this.SAt.Xkt(t,this.CAt.Lv,n,i)},i.xAt=function(t){return lX(t)?this.Fkt.PAt(t):this.Fkt.xAt(t)},i.F9=function(t){return lX(t)?this.Fkt.BAt(t):this.Fkt.F9(t)},i.Fv=function(){this.SAt.Vo(oX.gAt,this.kAt)},M(n,[{key:"LAt",get:function(){return this.EAt}},{key:"Wgt",get:function(){var t;return null!=(t=this.SAt.Os.Wgt)?t:this.LAt.Wgt}},{key:"JE",get:function(){return this.SAt.Os.JE||0}},{key:"p$",get:function(){var t=this.SAt.Os;return t.p$?[t.p$]:this.LAt.p$}},{key:"MAt",get:function(){var t=this.SAt.Os;return t.p$?[t.p$]:[]}},{key:"lu",get:function(){return this.SAt.Os.p$||this.LAt.lu}},{key:"bpt",get:function(){return this.SAt.Os.bpt||this.LAt.bpt}},{key:"Skt",get:function(){return this.SAt.Os.Skt||this.LAt.Skt}},{key:"Yf",get:function(){return this.cD+'; codecs="'+this.lu+'"'}},{key:"Tpt",get:function(){var t=this.SAt.Os;return t.Tpt.length?t.Tpt:this.LAt.Tpt}},{key:"il",get:function(){return this.nl||(this.nl=(t=this,{get id(){return t.zl},get type(){return t.so},get bandwidth(){return t.JE},get width(){return t.du},get height(){return t.Dp},get frameRate(){var n,i;return null!=(n=null==(i=t.QK)?void 0:i.ty())?n:NaN},get audioSamplingRate(){return t.Wgt}}));var t}},{key:"QK",get:function(){var t;return null!=(t=this.SAt.Os.QK)?t:this.LAt.QK}},{key:"Dp",get:function(){return this.SAt.Os.Dp||this.LAt.Dp}},{key:"zl",get:function(){return this.SAt.Os.zl||""}},{key:"P5",get:function(){return this.IAt},set:function(t){this.IAt=t}},{key:"h7",get:function(){var t=this.SAt.UAt();if(t)return{_v:t._v,VZ:t.VZ,Lv:this.CAt.Lv}}},{key:"Lkt",get:function(){return this.SAt.Os.Lkt||this.LAt.Lkt||1}},{key:"Ept",get:function(){return this.SAt.Os.Ept||this.LAt.Ept}},{key:"CAt",get:function(){return this.jkt.CAt}},{key:"cD",get:function(){return this.SAt.Os.cD||this.LAt.cD}},{key:"jkt",get:function(){return this.LAt.jkt}},{key:"Spt",get:function(){return this.SAt.Os.Spt||this.LAt.Spt}},{key:"Fgt",get:function(){return this.RAt}},{key:"Rpt",get:function(){return this.SAt.Os.Rpt||this.LAt.Rpt}},{key:"Ipt",get:function(){return this.SAt.Os.Ipt||this.LAt.Ipt}},{key:"FAt",get:function(){return this.SAt.FAt}},{key:"Npt",get:function(){return this.SAt.Os.Npt||this.LAt.Npt}},{key:"Fkt",get:function(){return this.SAt.Fkt}},{key:"Cpt",get:function(){return this.SAt.Os.Cpt||this.LAt.Cpt}},{key:"so",get:function(){var t=this.cD.split("/")[0];return"application"===t||"text"===t||gy(this.cD,this.p$)?E_.$e:"video"===t?E_.Cv:"audio"===t?E_.Nv:"image"===t?E_.Dv:E_.wv}},{key:"du",get:function(){return this.SAt.Os.du||this.LAt.du}}]),n}(dX),gX=function(t){function n(n,i){var r;return(r=t.call(this)||this).HAt=[],r.SAt=void 0,r.VAt=void 0,r.XAt=[],r.VAt=n,r.SAt=i,r.SAt.Mo(oX.gAt,r.kAt),r}F(n,t);var i=n.prototype;return i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.XAt.length){t.next=6;break}return this.XAt=[],r=this.SAt.Rkt.map(function(t){return e.WAt(t,n,i)}),t.next=5,E.all(r);case 5:this.XAt=t.sent.filter($);case 6:this.qAt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WAt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _X(this,n),t.next=3,i(e);case 3:if(s=t.sent,os(r),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qAt=function(){if(!this.XAt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.AAt=function(){return this.SAt.AAt()},i.OAt=function(){return this.SAt.OAt()},i.Fv=function(){this.SAt.Vo(oX.gAt,this.kAt);for(var t=0,n=this.XAt;t<n.length;t++){n[t].Fv()}Je(this.XAt)},M(n,[{key:"Upt",get:function(){return this.SAt.Os.Upt}},{key:"Wgt",get:function(){var t;return null!=(t=this.SAt.Os.Wgt)?t:-1}},{key:"p$",get:function(){if(this.SAt.Os.p$)return[this.SAt.Os.p$];for(var t=[],n=0,i=this.Rkt;n<i.length;n++){var r=i[n];r.MAt.length&&-1===t.indexOf(r.lu)&&t.push(r.lu)}return t}},{key:"lu",get:function(){return this.p$.join()}},{key:"bpt",get:function(){return this.SAt.Os.bpt}},{key:"Skt",get:function(){return this.SAt.Os.Skt}},{key:"Yf",get:function(){return this.cD+'; codecs="'+this.lu+'"'}},{key:"Tpt",get:function(){return this.HAt}},{key:"QK",get:function(){return this.SAt.Os.QK}},{key:"Fpt",get:function(){return this.SAt.Os.Fpt}},{key:"Dp",get:function(){return this.SAt.Os.Dp||0}},{key:"zl",get:function(){return this.SAt.Os.zl}},{key:"Ql",get:function(){return this.SAt.Os.Ql||""}},{key:"Lkt",get:function(){return this.SAt.Os.Lkt}},{key:"Ept",get:function(){return this.SAt.Os.Ept}},{key:"CAt",get:function(){return this.jkt.CAt}},{key:"cD",get:function(){return this.SAt.Os.cD||this.XAt[0].cD}},{key:"jkt",get:function(){return this.VAt}},{key:"Spt",get:function(){return this.SAt.Os.Spt}},{key:"Rkt",get:function(){return this.XAt}},{key:"Ypt",get:function(){return this.SAt.Os.Ypt||[]}},{key:"Rpt",get:function(){return this.SAt.Os.Rpt}},{key:"Ipt",get:function(){return this.SAt.Os.Ipt}},{key:"Npt",get:function(){return this.SAt.Os.Npt}},{key:"fR",get:function(){return this.SAt.Os.fR}},{key:"Cpt",get:function(){return this.SAt.Os.Cpt}},{key:"so",get:function(){var t=(this.SAt.Os.Yf||this.cD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||gy(this.cD,this.p$)?E_.$e:"video"===t?E_.Cv:"audio"===t?E_.Nv:"image"===t?E_.Dv:E_.wv}},{key:"du",get:function(){return this.SAt.Os.du||0}},{key:"Mkt",get:function(){return this.SAt.Os.Yl||""}},{key:"zAt",get:function(){return this.pAt}},{key:"GAt",get:function(){var t=this.zAt,n=this.bAt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.CAt.jAt);return _.max(t,i)}}}]),n}(dX);function wX(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],s=0;s<t.length;s++){var u=t[s];i.push(T.Pu(u,e))}return i}var yX=function(){function t(t,n){this.VAt=void 0,this.QAt=void 0,this.TQ=void 0,this.YAt=void 0,this.ZAt=void 0,this.VAt=t,this.QAt=n,this.TQ=n.Zy,this.YAt=n.ipt,this.ZAt=n.dpt}var n=t.prototype;return n.JAt=function(t){var n=t-this.VAt.GR;if(!(n<0||n>=this.VAt.V_)){var i=this.$At();return void 0!==i&&Gt(i,n,1e-5)?this.Hkt():this.KAt(n)}},n.tbt=function(t){var n=t-this.VAt.GR;if(!(n<0))return this.nbt(_.min(n,this.VAt.V_))},n.Hkt=function(){return this.ibt(0)},n.qkt=function(){var t=this.VAt.V_;if(isFinite(t))return this.nbt(t)},n.DAt=function(t){if(this.VAt.rbt.so===ZH.jb){var n=this.ebt(t);if(!n)return;return{sbt:t,ubt:this.obt(t),hbt:n}}var i=this.Hkt();if(i)return{sbt:t,ubt:i,hbt:this.qkt()}},n.OAt=function(t,n){if(n){var i=this.abt(n.ubt),r=this.Nlt(n.hbt);if(r){var e=this.cbt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.Hkt();if(s){var u=this.cbt(s);if(t.getTime()<u.getTime())return u}var o=this.VAt.rbt.sAt;return t.getTime()<o.getTime()?o:void 0},n.ebt=function(t){var n=(t.getTime()-this.VAt.rbt.sAt.getTime())/1e3-this.VAt.GR+this.YAt,i=this.nbt(zt(n,0,this.VAt.V_));if(i&&(i=this.fbt(i,t))){for(var r=this.Nlt(i);r&&this.vbt(r,t);)i=r,r=this.Nlt(i);return i}},n.obt=function(t){var n,i=this.QAt._pt;if(i){var r=(t.getTime()-this.VAt.rbt.sAt.getTime())/1e3-this.VAt.GR-i.Nkt();(n=this.nbt(zt(r,0,this.VAt.V_)))||(n=this.Hkt())}else n=this.Hkt();if(n&&(n=this.fbt(n,t))){for(var e=this.dbt(n);e&&this.vbt(e,t);)n=e,e=this.dbt(n);return n}},n.fbt=function(t,n){for(var i=t;i&&this.cbt(i).getTime()>n.getTime();)i=this.dbt(i);if(i){var r=this.abt(i);if(r&&r.getTime()<=n.getTime()){var e=this.dbt(i);for(e&&this.vbt(e,n)&&(i=e);i;){if(this.cbt(i).getTime()>n.getTime())return;if(this.vbt(i,n))break;i=this.Nlt(i)}if(!i)return}return i}},n.vbt=function(t,n){if(this.cbt(t).getTime()>n.getTime())return!1;var i=this.abt(t);return!(i&&n.getTime()>=i.getTime())},n.lbt=function(t,n){if(this._bt(t).getTime()>n.getTime())return!1;var i=this.abt(t);return!(i&&n.getTime()>=i.getTime())},n.gbt=function(t,n,i){var r=nn(n,this.TQ)+this.VAt.GR;return{K6:t,wbt:n,pw:r,V_:i,Aw:r+i}},n._bt=function(t){return this.VAt.rbt.so===ZH.jb?new Date(this.VAt.rbt.sAt.getTime()+1e3*(t.pw+t.V_)):this.VAt.rbt.sAt},n.cbt=function(t){var n=this._bt(t);return this.VAt.rbt.so===ZH.jb?new Date(n.getTime()-1e3*this.YAt):n},n.abt=function(t){var n=1/0;if(this.VAt.rbt.so===ZH.jb){var i=this.QAt._pt;i&&(n=this._bt(t).getTime()+1e3*t.V_+i.Zkt())}var r=this.VAt.rbt.eAt;return r&&(n=_.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.ybt=function(t,n){return t.K6+n},n.Vkt=function(t){return!1},n.Xkt=function(t,n,i,r,e){var s=this.mbt(t);if(!s)return E.reject(new v("Invalid segment"));var u=this.kbt(s.K6);return u?E.resolve(u):this.pbt(s.K6,n,i,r,e)},n.kbt=function(t){},n.pbt=function(t,n,i,r,e){return E.reject(new v("Not supported"))},n.dbt=function(t){var n=this.mbt(t);if(n)return this.ibt(n.K6-1)},n.Nlt=function(t){var n=this.mbt(t);if(n)return this.ibt(n.K6+1)},n.mbt=function(t){var n=this.ibt(t.K6);if(n&&n.pw===t.pw)return n;var i=this.JAt(t.pw);return i&&i.pw===t.pw?i:void 0},n.Abt=function(t){var n=this.bbt(t);if(n&&this.Vkt(n.K6)){var i=this.kbt(n.K6);if(i)return i.Abt(t)}},n.bbt=function(t){return this.ibt(t.Tbt)},n.xAt=function(t){var n=this.mbt(t);return!!n&&0===n.K6},n.PAt=function(t){var n=this.Abt(t);return!!n&&0===n.TAt},n.F9=function(t){var n=this.mbt(t);if(!n)return!1;var i=this.qkt();return!!i&&n.K6===i.K6},n.BAt=function(t){var n=this.Abt(t);if(!n)return!1;var i=this.qkt();if(!i||n.Tbt!==i.K6)return!1;var r=this.kbt(n.Tbt);return n.TAt+1===r.Bl},M(t,[{key:"Im",get:function(){return nn(this.ZAt,this.TQ)-this.VAt.GR}},{key:"dpt",get:function(){return nn(this.ZAt,this.TQ)}}]),t}(),mX=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).Ebt=void 0,r.Sbt=void 0;var e=n.Rbt,s=n.V_;if(void 0===e||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.Sbt=e,r.Ebt=s,r}F(n,t);var i=n.prototype;return i.ibt=function(t){if(!(t<0)){var n=this.Sbt.multiply(t),i=nn(n,this.TQ),r=this.VAt.V_;if(!(i>=r)){var e=this.Ibt();if(void 0!==e){if(t>e)return;if(t===e)return this.gbt(t,n,r-i)}return isFinite(r)&&i+this.Ebt>r?this.gbt(t,n,r-i):this.gbt(t,n,this.Ebt)}}},i.$At=function(){return 0},i.KAt=function(t){var n=_.floor(t/this.Ebt),i=this.Ibt();return void 0!==i&&n>=i?this.ibt(i):this.ibt(n)},i.nbt=function(t){if(t>=this.VAt.V_){var n=_.ceil(this.VAt.V_/this.Ebt)-1,i=this.Ibt();return void 0!==i&&n>=i?this.ibt(i):this.ibt(n)}return this.KAt(t)},i.Ibt=function(){var t,n=this.QAt.ypt;if(void 0!==n)return n-(null!=(t=this.QAt.wpt)?t:1);if(isFinite(this.VAt.V_)){var i=this.QAt.Nbt;if(void 0!==i&&i>0)return i-1}},i.Cbt=function(){if(isFinite(this.VAt.V_))return this.qkt()},i.Dbt=function(t,n){return this.Sbt.multiply(t.K6+(n-1))},i.Uh=function(){},n}(yX);function kX(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,s=t[r].pw,u=t[e].Aw;r<=e&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=r+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(e-r)),h=t[o],a=h.pw,c=o+1<i?t[o+1].pw:h.Aw;if(c.lessThanOrEqual(n))r=o+1,s=c;else{if(!n.lessThan(a))return o;e=o-1,u=a}}return-1}var pX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Obt=[],r.xbt=void 0,r.Pbt=Wt.ZERO,r.Uh(),r}F(n,t);var i=n.prototype;return i.ibt=function(t){if(!(t<0))return t<this.Obt.length?this.Obt[t].blt:this.Bbt(t-this.Obt.length)},i.$At=function(){if(this.Obt.length>0)return nn(this.Obt[0].pw,this.TQ)},i.KAt=function(t){if(this.xbt&&nn(this.xbt.pw,this.TQ)<=t){var n=nn(this.xbt.pw,this.TQ),i=nn(this.xbt.V_,this.TQ),r=_.floor((t-n)/i);return this.Bbt(r)}if(this.Obt.length>0&&Gt(t,nn(this.Obt[0].pw,this.TQ),1e-5))return this.Obt[0].blt;var e=kX(this.Obt,Wt.fromNumber(t*this.TQ));return e<0?void 0:this.Obt[e].blt},i.nbt=function(t){if(!this.xbt&&this.Obt.length>0){var n=this.Obt[this.Obt.length-1];if(i=t,r=nn(n.Aw,this.TQ),_g(i,r,1e-5)>=0)return n.blt}var i,r,e=this.$At();return e&&t<e?this.Obt[0].blt:this.KAt(t)},i.Cbt=function(){return isFinite(this.VAt.V_)?this.qkt():this.ibt(this.Obt.length-1)},i.Dbt=function(t){return this.Lbt(t)},i.Bbt=function(t){if(this.xbt){var n=this.xbt.pw,i=this.xbt.V_,r=n.add(i.multiply(t)),e=nn(r,this.TQ),s=this.VAt.V_;if(!(e>=s)){var u=this.Obt.length+t,o=_.min(nn(i,this.TQ),e+s);return this.gbt(u,r,o)}}},i.Lbt=function(t){return t.wbt.add(this.ZAt)},i.Uh=function(){var t=this.QAt.Os.Fkt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Mbt(t)},i.Mbt=function(t){var n=this.ZAt;this.Ubt(t,n);var i=this.Fbt(t);this.Hbt(t,n,i.Vbt,i.Tbt)},i.Ubt=function(t,n){var i=this.Obt;if(0===t.length)Je(i);else{for(var r=t[0],e=r.pw?Wt.fromString(r.pw,!1).subtract(n):Wt.ZERO,s=0;s<i.length&&i[s].pw.lessThan(e);)s++;s>0&&i.splice(0,s)}},i.Fbt=function(t){for(var n=this.Obt,i=this.Pbt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].ept||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].pw.greaterThanOrEqual(i))break;if(n[e].blt.K6===e)e=u+1;else for(;e<=u;)n[e].blt.K6=e,e++;0,r++}return{Vbt:r,Tbt:e}},i.Hbt=function(t,n,i,r){for(var e,s=this.Obt,u=i,o=r;u<t.length;){var h=t[u],a=Wt.fromString(h.V_,!1),c=h.ept||0,f=void 0;if(h.pw){if(f=Wt.fromString(h.pw,!1).subtract(n),o>0){var v=s[o-1];v.Aw.greaterThan(f)&&(v.V_=f.subtract(v.pw),v.Aw=v.pw.add(v.V_))}}else f=o>0?s[o-1].Aw:Wt.ZERO;if(c<0){if(u+1===t.length){e={pw:f,V_:a};break}for(var d=Wt.fromString(t[u+1].pw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Xbt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.Xbt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Pbt=s[s.length-1].pw),this.xbt=e},i.Xbt=function(t,n,i,r,e){if(n<t.length){var s=t[n];0,s.V_.equals(r)?s.blt.K6=n:t[n]={pw:i,V_:r,Aw:e,blt:this.gbt(n,i,nn(r,this.TQ))}}else t.push({pw:i,V_:r,Aw:e,blt:this.gbt(n,i,nn(r,this.TQ))})},n}(yX),AX=function(){function t(t,n,i){this.jkt=void 0,this.Wbt=void 0,this.nr=void 0,this.qbt=void 0,this.zbt=void 0,this.jkt=t,this.Wbt=n,this.nr=i}var n=t.prototype;return n.Gbt=function(){if(this.zbt=this.jbt(),this.zbt)return this.zbt;if(this.Wbt)return this.Wbt.Fkt;throw new v("Missing media segment information.")},n.UAt=function(t){var n=this.vpt;if(n)return{_v:(void 0!==n.rpt?T.Pu(n.rpt,t.Dpt[0]):t.Dpt[0]).href,VZ:n.VZ};var i=this.spt;return i?{_v:t.Dpt[0].href,VZ:[0,i[0]-1]}:void 0},n.Uh=function(t){this.nr=t,this.zbt&&this.zbt.Uh()},M(t,[{key:"Os",get:function(){return this.nr}},{key:"ipt",get:function(){return this.nr&&void 0!==this.nr.ipt?this.nr.ipt:this.Wbt?this.Wbt.ipt:0}},{key:"dpt",get:function(){return this.nr&&void 0!==this.nr.dpt?this.nr.dpt:this.Wbt?this.Wbt.dpt:Wt.ZERO}},{key:"_pt",get:function(){return this.nr&&void 0!==this.nr._pt?this.nr._pt:this.Wbt?this.Wbt._pt:this.jkt.rbt._pt}},{key:"Zy",get:function(){return this.nr&&void 0!==this.nr.Zy?this.nr.Zy:this.Wbt&&this.Wbt.Zy?this.Wbt.Zy:1}},{key:"spt",get:function(){return this.nr&&void 0!==this.nr.spt?this.nr.spt:this.Wbt?this.Wbt.spt:void 0}},{key:"vpt",get:function(){return this.nr&&void 0!==this.nr.vpt?this.nr.vpt:this.Wbt?this.Wbt.vpt:void 0}},{key:"Fkt",get:function(){return this.qbt||(this.qbt=this.Gbt()),this.qbt}}]),t}(),bX=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.jbt=function(){return this.nr.Fkt?new pX(this,this.jkt):void 0!==this.nr.V_?new mX(this,this.jkt):void 0},M(n,[{key:"V_",get:function(){return void 0!==this.nr.V_?this.nr.V_/this.Zy:this.Wbt&&this.Wbt instanceof n?this.Wbt.V_:void 0}},{key:"Rbt",get:function(){return void 0!==this.nr.V_?Wt.fromNumber(this.nr.V_):this.Wbt&&this.Wbt instanceof n?this.Wbt.Rbt:void 0}},{key:"wpt",get:function(){return void 0!==this.nr.wpt?this.nr.wpt:this.Wbt&&this.Wbt instanceof n?this.Wbt.wpt:void 0}},{key:"ypt",get:function(){return void 0!==this.nr.ypt?this.nr.ypt:this.Wbt&&this.Wbt instanceof n?this.Wbt.ypt:void 0}}]),n}(AX),TX=function(){function t(t){this.Qbt=void 0,this.Qbt=t}return t.prototype.kh=function(t){return this.Qbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=xe(u,Number(r),"0")})},t}();var EX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ybt=void 0,e.Zbt=void 0,e.Ybt=r.ppt?new TX(r.ppt):void 0,e.Zbt=r.Apt?new TX(r.Apt):void 0,e}F(n,t);var i=n.prototype;return i.UAt=function(n){var i=this.ppt;if(!i)return t.prototype.UAt.call(this,n);var r=i.kh({Bandwidth:n.Os.JE,RepresentationID:n.Os.zl});return{_v:T.Bu(r,n.Dpt[0])}},i.Gkt=function(t,n){var i,r=null!=(i=n.FAt.wpt)?i:1,e=this.Apt.kh({Bandwidth:n.Os.JE,Number:n.Fkt.ybt(t,r),RepresentationID:n.Os.zl,Time:n.Fkt.Dbt(t,r)});return{_v:T.Bu(e,n.Dpt[0])}},i.NAt=function(t,n){},M(n,[{key:"ppt",get:function(){return this.Ybt?this.Ybt:this.Wbt&&this.Wbt instanceof n?this.Wbt.ppt:void 0}},{key:"Apt",get:function(){return this.Zbt?this.Zbt:this.Wbt&&this.Wbt instanceof n?this.Wbt.Apt:void 0}},{key:"Nbt",get:function(){}}]),n}(bX),SX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Gkt=function(t,n){var i=this.nr.hpt[t.K6],r=n.Dpt[0];return{_v:(i.Tp?T.Pu(i.Tp,r):r).href,VZ:i.upt}},i.NAt=function(t,n){},M(n,[{key:"Nbt",get:function(){return void 0!==this.nr.hpt?this.nr.hpt.length:this.Wbt&&this.Wbt instanceof bX?this.Wbt.Nbt:void 0}}]),n}(bX),RX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Tbt=void 0,u.Jbt=void 0,u.Zy=void 0,u.$bt=void 0,u.dpt=void 0,u.Kbt=void 0,u.Tbt=n,u.Jbt=i,u.Zy=r.Zy,u.$bt=e,u.dpt=s,u.Kbt=u.tTt(r),u}F(n,t);var i=n.prototype;return i.Wkt=function(t){if(t>=0&&t<this.Bl)return this.nTt(this.Kbt[t])},i.iTt=function(t){var n=this.rTt(t);if(this.Kbt.length>0){var i=this.Kbt[0];if(n<=nn(i.pw,this.Zy))return this.nTt(i)}var r=kX(this.Kbt,Wt.fromNumber(n*this.Zy));if(!(r<0))return this.nTt(this.Kbt[r])},i.eTt=function(t){var n=this.rTt(t);if(this.Kbt.length>0){var i=this.Kbt[this.Kbt.length-1];if(n>=nn(i.Aw,this.Zy))return this.nTt(i)}return this.iTt(t)},i.nTt=function(t){var n=nn(t.pw,this.Zy)-this.dpt,i=n+this.$bt,r=nn(t.V_,this.Zy);return{Tbt:this.Tbt,TAt:t.K6,pw:i,wbt:Wt.fromNumber(n*this.Zy),V_:r,Aw:i+r,sTt:[this.Jbt+t.Jbt,this.Jbt+t.uTt]}},i.tTt=function(t){for(var n=[],i=t.lb,r=t._b.toNumber(),e=0,s=0,u=t.wb;s<u.length;s++){var o=u[s],h=o.hb,a=Wt.fromNumber(o.V_),c=i.add(a);0===o.ob&&n.push({K6:e++,pw:i,V_:a,Aw:c,Jbt:r,uTt:r+h-1}),r+=h,i=c}return n},i.rTt=function(t){return t-this.$bt+this.dpt},M(n,[{key:"Bl",get:function(){return this.Kbt.length}}]),n}(function(){function t(){}return t.prototype.Abt=function(t){var n=this.Wkt(t.TAt);if(n&&n.pw===t.pw)return n;var i=this.iTt(t.pw);return i&&i.pw===t.pw?i:void 0},t}()),IX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).oTt=void 0,r.elt=void 0,r.hTt=void 0,r.oTt=n.spt,r.elt=r.gbt(0,Wt.ZERO,r.VAt.V_),r}F(n,t);var i=n.prototype;return i.ibt=function(t){if(0===t)return this.elt},i.$At=function(){return 0},i.KAt=function(t){return this.elt},i.nbt=function(t){return this.KAt(t)},i.Cbt=function(){return this.elt},i.Dbt=function(t,n){return Wt.ZERO},i.DAt=function(t){var n=this.aTt(t);return n&&{sbt:t,ubt:n,hbt:n}},i.aTt=function(t){var n=this.elt;return this.vbt(n,t)?n:void 0},i.ebt=function(t){return this.aTt(t)},i.obt=function(t){return this.aTt(t)},i.Uh=function(){},i.Vkt=function(t){return 0===t&&void 0!==this.oTt},i.kbt=function(t){return this.hTt},i.pbt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.Dpt[0].href,o=this.oTt,t.next=4,e.cTt(u,o,r,s);case 4:return h=t.sent,this.hTt=this.fTt(n,h),t.abrupt("return",this.hTt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s){return t.apply(this,arguments)}}(),i.fTt=function(t,n){var i=this.oTt,r=Ow.qk(new DataView(n),new zu);if(r.so!==Xg.gk)throw new v("Invalid segment index");var e=Mw.cp(r.Os),s=i[1]+1;return new RX(t,s,e,this.VAt.GR,nn(this.ZAt,this.TQ))},n}(yX),NX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Gkt=function(t,n){return{_v:n.Dpt[0].href}},i.NAt=function(t,n){return{_v:n.Dpt[0].href,VZ:t.sTt}},i.jbt=function(){return new IX(this,this.jkt)},M(n,[{key:"wpt",get:function(){}}]),n}(AX),CX=function(t){function n(){return t.call(this,oX.gAt)||this}return F(n,t),n}(Es);var DX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e.vTt=void 0,e.QAt=void 0,e.dTt=1/0,e.lTt=void 0,e.an=i,e._Tt(n,r),e}F(n,t);var i=n.prototype;return i.gTt=function(){return this.QAt||this.an&&this.an.gTt()},i.wTt=function(t){var n=this.jkt,i=this.an&&this.an.gTt();this.nr.Mpt?this.QAt=new EX(n,i,this.nr.Mpt):this.nr.Lpt?this.QAt=new SX(n,i,this.nr.Lpt[0]):this.nr.Bpt?this.QAt=new NX(n,i,this.nr.Bpt):t&&!i&&(this.QAt=new NX(n,i,void 0))},i._Tt=function(t,n){this.nr=t,this.vTt=t.Dpt&&t.Dpt.length>0?wX(t.Dpt.map(function(t){return t._v}),n):n.slice(),this.QAt&&(t.Mpt?this.QAt.Uh(t.Mpt):t.Lpt?this.QAt.Uh(t.Lpt[0]):t.Bpt&&this.QAt.Uh(t.Bpt))},i.AAt=function(){var t;return null==(t=this.lTt)?void 0:t.yTt},i.OAt=function(){var t;return null==(t=this.lTt)?void 0:t.mTt},i.kTt=function(t){var n=this.dTt,i=this.jkt.V_,r=this.lTt,e=this.pTt(t);r&&Gt(i,n,1e-5)&&BX(r,e)||(this.dTt=i,this.lTt=e,this.Lo(new CX))},i.Ao=function(){this.Ho()},M(n,[{key:"Os",get:function(){return this.nr}},{key:"Dpt",get:function(){return this.vTt}}]),n}(bs);function OX(t){for(var n,i=0;i<t.length;i++){var r=t[i].AAt();if(r){n=r.GR;break}}if(void 0!==n){for(var e,s=t.length-1;s>=0;s--){var u=t[s].AAt();if(u){e=u.QR;break}}if(void 0!==e)return{GR:n,QR:e}}}function xX(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].AAt();if(!e)return;if((n=_.max(n,e.GR))>=(i=_.min(i,e.QR)))return}return{GR:n,QR:i}}}function PX(t){for(var n,i=0;i<t.length;i++){var r=t[i].OAt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function BX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.mTt,n.mTt)&&function(t,n){return t&&n?Gt(t.GR,n.GR,1e-5)&&Gt(t.QR,n.QR,1e-5):t===n}(t.yTt,n.yTt)}var LX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).VAt=void 0,e.sw=void 0,e.ATt=void 0,e.VAt=n,e.sw=i,e.ATt=r.slice();for(var s=0;s<r.length;s++){r[s].Mo(oX.gAt,e.kAt)}return e}F(n,t);var i=n.prototype;return i.AAt=function(){return xX(this.ATt)},i.OAt=function(){for(var t,n=0,i=this.ATt;n<i.length;n++){var r=i[n].OAt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Fv=function(){this.Ho();for(var t=0,n=this.ATt;t<n.length;t++){n[t].Vo(oX.gAt,this.kAt)}},M(n,[{key:"Bkt",get:function(){return this.ATt}},{key:"p$",get:function(){return this.Bkt.reduce(function(t,n){for(var i=0,r=n.p$;i<r.length;i++){var e=r[i];Ze(t,e)||t.push(e)}return t},[])}},{key:"lu",get:function(){return this.p$.length>0?this.p$[0]:""}},{key:"so",get:function(){return this.ATt[0].so}},{key:"zl",get:function(){return this.sw}},{key:"CAt",get:function(){return this.VAt.CAt}},{key:"cD",get:function(){return this.ATt[0].cD}},{key:"jkt",get:function(){return this.VAt}},{key:"Rkt",get:function(){return Ke(this.Bkt,function(t){return t.Rkt})}}]),n}(dX),MX=function(t){function n(){return t.call(this,oX.yAt)||this}return F(n,t),n}(Es);function UX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,s=r.Fpt;void 0===s||(e=Ge(n,function(t){return t.zl===s})),e||(e={zl:s,Bkt:[]},n.push(e)),e.Bkt.push(r)},r=0;r<t.length;r++)i(r);return n}var FX,HX=function(t){function n(n,i){var r;return(r=t.call(this)||this).SAt=void 0,r.ATt=[],r.bTt=[],r.TTt=void 0,r.ETt=!1,r.TTt=n,r.SAt=i,r.SAt.Mo(oX.gAt,r.kAt),r}F(n,t);var i=n.prototype;return i.STt=function(t,n){if(0!==this.bTt.length){for(var i=t,r=0,e=this.bTt;r<e.length;r++){var s=e[r],u=s.so;if(u===E_.Nv||u===E_.Cv){var o=s.bAt;if(void 0===o)return;i=n(i,o)}}return i}},i.RTt=function(){this.ETt||(this.ETt=!0,this.Lo(new MX),this.Fv())},i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.ATt.length){t.next=7;break}return t.next=3,this.ITt(this.SAt.Bkt,n,i);case 3:this.NTt(this.ATt),os(i),t.next=9;break;case 7:return t.next=9,this.CTt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ITt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return s=n[e],u=new gX(this,s),t.prev=4,t.next=7,u.Uh(i,r);case 7:this.ATt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),hs(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.NTt=function(t){for(var n=UX(t),i=0;i<n.length;i++){var r=n[i],e=new LX(this,r.zl,r.Bkt);this.bTt.push(e)}},i.CTt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ATt;case 1:if(!(r<e.length)){t.next=8;break}return s=e[r],t.next=5,s.Uh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AAt=function(){return this.SAt.AAt()},i.OAt=function(){return this.SAt.OAt()},i.Fv=function(){this.Ho(),this.SAt.Vo(oX.gAt,this.kAt);for(var t=0,n=this.bTt;t<n.length;t++){n[t].Fv()}for(var i=0,r=this.ATt;i<r.length;i++){r[i].Fv()}Je(this.ATt),Je(this.bTt)},M(n,[{key:"Bkt",get:function(){return this.ATt}},{key:"xkt",get:function(){return this.bTt}},{key:"nAt",get:function(){return this.SAt.Os.nAt}},{key:"V_",get:function(){return this.SAt.V_}},{key:"QR",get:function(){return this.GR+this.V_}},{key:"iAt",get:function(){return this.SAt.Os.iAt||[]}},{key:"zl",get:function(){return this.SAt.zl}},{key:"mAt",get:function(){return this.ETt}},{key:"CAt",get:function(){return this.TTt}},{key:"DTt",get:function(){return this.TTt.OTt(this)}},{key:"jkt",get:function(){return this}},{key:"xTt",get:function(){return this.TTt.PTt(this)}},{key:"BTt",get:function(){return this.STt(1/0,_.min)}},{key:"LTt",get:function(){return this.STt(0,_.max)}},{key:"GR",get:function(){return this.SAt.GR}},{key:"Lv",get:function(){return this.CAt.Lv}}]),n}(dX),VX=function(t){function n(){return t.call(this,Qo.uc)||this}return F(n,t),n}(Es);!function(t){t.MTt="UTt"}(FX||(FX={}));var XX=function(t){function n(){return t.call(this,FX.MTt)||this}return F(n,t),n}(Es),WX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Dpt)||this).EAt=void 0,r.FTt=void 0,r.EAt=i,r.wTt(!0),r}F(n,t);var i=n.prototype;return i.Vkt=function(t){return!!eo(this.cD)&&this.Fkt.Vkt(t.K6)},i.Xkt=function(t,n,i,r){return this.Fkt.Xkt(t,this,n,i,r)},i.UAt=function(){return this.FAt.UAt(this)},i.Gkt=function(t){return this.FAt.Gkt(t,this)},i.NAt=function(t){return this.FAt.NAt(t,this)},i.DAt=function(){return this.FTt},i.pTt=function(t){var n=this.Fkt,i=n.DAt(t),r=i&&function(t,n){var i,r=t.ubt,e=t.hbt,s=t.sbt,u=r.pw,o=n._bt(e);if(o.getTime()<=s.getTime())i=e.Aw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(e.V_-h,0);i=e.pw+a}return{GR:u,QR:i}}(i,n),e=this.Fkt.OAt(t,i);return this.FTt=i,{sbt:t,yTt:r,mTt:e}},i.Uh=function(t){this._Tt(t,this.EAt.Dpt)},M(n,[{key:"LAt",get:function(){return this.EAt}},{key:"jkt",get:function(){return this.EAt.jkt}},{key:"rbt",get:function(){return this.EAt.rbt}},{key:"cD",get:function(){return this.nr.cD||this.EAt.cD}},{key:"FAt",get:function(){return this.gTt()}},{key:"Fkt",get:function(){return this.FAt.Fkt}}]),n}(DX),qX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Dpt)||this).VAt=void 0,r.XAt=void 0,r.VAt=i,r.wTt(!1),r.XAt=n.Rkt.map(function(t){return new WX(t,sn(r))}),r}F(n,t);var i=n.prototype;return i.Uh=function(t){this._Tt(t,this.VAt.Dpt);var n=t.Rkt||[];if(this.XAt.length!==n.length)throw new v("Expected "+this.XAt.length+' representations in adaptation set "'+t.zl+'", found '+n.length);for(var i=0;i<n.length;i++)this.XAt[i].Uh(n[i])},i.kTt=function(n){for(var i=0,r=this.XAt;i<r.length;i++){r[i].kTt(n)}t.prototype.kTt.call(this,n)},i.pTt=function(t){return{sbt:t,yTt:xX(this.XAt),mTt:PX(this.XAt)}},i.Ao=function(){for(var n=0,i=this.XAt;n<i.length;n++){i[n].Ao()}t.prototype.Ao.call(this)},M(n,[{key:"Rkt",get:function(){return this.XAt}},{key:"jkt",get:function(){return this.VAt}},{key:"rbt",get:function(){return this.VAt.rbt}},{key:"Fpt",get:function(){return this.nr.Fpt}},{key:"cD",get:function(){var t;return this.nr.cD||(null==(t=this.XAt[0])?void 0:t.Os.cD)||""}}]),n}(DX),zX=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.Dpt)||this).HTt=void 0,s.bb=void 0,s.rH=void 0,s.ATt=void 0,s.bTt=[],s.HTt=n,s.bb=r,s.rH=e,s.wTt(!1),s.ATt=(i.Bkt||[]).map(function(t){return new qX(t,sn(s))}),s.bTt=UX(s.ATt),s}F(n,t);var i=n.prototype;return i.Uh=function(t,n){this._Tt(t,this.HTt.Dpt),this.rH=n;var i=t.Bkt||[];if(this.ATt.length!==i.length)throw new v("Expected "+this.ATt.length+' adaptation sets in period "'+t.zl+'", found '+i.length);for(var r=0;r<i.length;r++)this.ATt[r].Uh(i[r])},i.kTt=function(n){for(var i=0,r=this.ATt;i<r.length;i++){r[i].kTt(n)}t.prototype.kTt.call(this,n)},i.pTt=function(t){return{sbt:t,yTt:xX(this.ATt),mTt:PX(this.ATt)}},i.Ao=function(){for(var n=0,i=this.ATt;n<i.length;n++){i[n].Ao()}t.prototype.Ao.call(this)},M(n,[{key:"Bkt",get:function(){return this.ATt}},{key:"xkt",get:function(){return this.bTt}},{key:"jkt",get:function(){return this}},{key:"rbt",get:function(){return this.HTt}},{key:"zl",get:function(){return this.nr.zl}},{key:"GR",get:function(){return this.bb}},{key:"V_",get:function(){return this.rH}}]),n}(DX),GX=new Date("2000-01-01"),jX=function(t){function n(n,i,r,e){var s;if((s=t.call(this)||this).nr=void 0,s.VTt=void 0,s.XTt=void 0,s.wV=void 0,s.WTt=void 0,s.lTt=void 0,s.vTt=void 0,s.qTt=void 0,s.zTt=void 0,s.GTt=void 0,s.jTt=[],s.VTt=i,s.Uh(n,r,e),n.so===ZH.jb){var u=s.Cbt();u&&u.eAt&&u.eAt.getTime()<GX.getTime()&&(s.GTt=new Date(s.vAt.getTime()-1e3*(u.blt.pw+u.blt.V_)),s.kTt(e))}return s}F(n,t);var i=n.prototype;return i.AAt=function(){var t;return null==(t=this.lTt)?void 0:t.yTt},i.OAt=function(){var t;return null==(t=this.lTt)?void 0:t.mTt},i.Uh=function(t,n,i,r){var e;this.nr=t,this.XTt=n,this.WTt=null!=r?r:i,this.wV=i;var s,u=[(s=n,T.Pu(".",s))];this.vTt=t.Dpt&&t.Dpt.length>0?wX(t.Dpt.map(function(t){return t._v}),u):u,this.qTt=t.uAt&&t.uAt.length>0?wX(t.uAt,this.vTt):[];var o=this.qTt.map(function(t){return t.href}),h=n.href;Ze(o,h)||(this.qTt.push(n),o.push(h));var a=this.VTt.href;Ze(o,a)||(this.qTt.push(this.VTt),o.push(a)),this.zTt=null==(e=t.Ckt)?void 0:e.Nkt();var c=t.so===ZH.jb,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.GR)u=s.GR.Nkt();else if(e>0&&t[e-1].V_){var o=r[e-1],h=t[e-1].V_.Nkt();u=o+h}else{if(0!==e||n)break;u=0}r.push(u)}for(var a=[],c=0;c<r.length-1;c++)a.push({Os:t[c],GR:r[c],V_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.V_?v.V_.Nkt():i-d),a.push({Os:v,GR:d,V_:l})}return a}(t.Ikt,c,this.zTt);this.QTt(f),this.kTt(i)},i.QTt=function(t){var n=this.jTt;if(0!==t.length){for(var i=t[0].Os.zl,r=0;r<n.length&&n[r].zl!==i;)r++;for(var e=n.splice(0,r),s=0;s<e.length;s++){e[s].Ao()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Uh(o.Os,o.V_)}else n.push(new zX(this,o.Os,o.GR,o.V_))}}else Je(n)},i.kTt=function(t){for(var n=0,i=this.jTt;n<i.length;n++){i[n].kTt(t)}var r=this.lTt,e=this.pTt(t);r&&BX(r,e)||(this.lTt=e,this.Lo(new CX))},i.pTt=function(t){return{sbt:t,yTt:OX(this.jTt),mTt:PX(this.jTt)}},i.Cbt=function(){if(0!==this.jTt.length){var t=this.jTt[this.jTt.length-1];if(!isFinite(t.V_)&&0!==t.Bkt.length){var n=t.Bkt[0];if(0!==n.Rkt.length){var i=n.Rkt[0].Fkt,r=i.Cbt();if(r)return{blt:r,eAt:i.abt(r)}}}}},i.Ao=function(){this.Ho();for(var t=0,n=this.jTt;t<n.length;t++){n[t].Ao()}},M(n,[{key:"Os",get:function(){return this.nr}},{key:"so",get:function(){return this.nr.so||ZH.Gb}},{key:"sAt",get:function(){return this.GTt||this.nr.sAt||this.vAt}},{key:"eAt",get:function(){return this.nr.eAt}},{key:"Ckt",get:function(){return this.zTt}},{key:"Dpt",get:function(){return this.vTt}},{key:"uAt",get:function(){return this.qTt}},{key:"Ikt",get:function(){return this.jTt}},{key:"vAt",get:function(){return this.nr.vAt||this.wV}},{key:"_pt",get:function(){return this.nr._pt}},{key:"YTt",get:function(){return this.WTt}},{key:"ZTt",get:function(){return this.wV}}]),n}(bs);var QX=function(){function t(t,n,i){this.JTt=0,this.Ub=t,this.$Tt=n,this.KTt=i}var n=t.prototype;return n.Ox=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tEt(n,this.Ub,this.$Tt,this.KTt).catch(as);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nEt=function(){return new Date(Jt()+this.JTt)},n.tEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.iEt(i,e,r);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}os(r),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.rEt(i,o,r);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.JTt=void 0===s?0:s-Jt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.rEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.mkt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.vs)){t.next=9;break}return t.next=8,this.iEt(n,s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.vs)){t.next=15;break}if(o=new Date(u).getTime(),y(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.iEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.dv({_v:i,Ov:Ef.GET,cv:Yo.$e,Do:r});case 3:return e=t.sent,t.next=6,e.zf();case 6:if(s=t.sent,u=new Date(s).getTime(),y(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),hs(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),YX=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).eEt=void 0,s.SAt=void 0,s.sEt=void 0,s.SJ=!0,s.jTt=[],s.uEt=void 0,s.oEt=void 0,s.hEt=void 0,s.Ub=void 0,s.aEt=void 0,s.uEt=n,s.sEt=n.o_,s.oEt=i,s.Ub=r,s.eEt=e,s.aEt=new QX(s.Ub,s.eEt,s.uEt.cEt),s}F(n,t);var i=n.prototype;return i.Got=function(t){var n=this.Jg;this.SJ=t,n!==this.Jg&&this.Lo(new XX)},i.Uh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v,d,l,_,g;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.oAt?T.Pu(n.oAt,this.sEt):this.sEt,void 0!==this.SAt){t.next=10;break}return t.next=6,this.aEt.Ox(n.lAt);case 6:this.SAt=new jX(n,this.sEt,o,this.nEt()),this.SAt.Mo(oX.gAt,this.Bo),t.next=11;break;case 10:this.SAt.Uh(n,o,this.nEt(),i);case 11:if(0===(h=this.SAt.Ikt).length)a=this.jTt.slice(),Je(this.jTt);else{for(c=h[0].zl,f=0;f<this.jTt.length&&this.jTt[f].zl!==c;)f++;for(a=this.jTt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.jTt.length?l=this.jTt[v]:(l=new HX(this,d),s.push(l)),u.push(l.Uh(this.oEt,r))}return t.next=15,E.all(u);case 15:for((e=this.jTt).push.apply(e,s),_=0,g=a;_<g.length;_++)g[_].RTt();this.Lo(new VX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nEt=function(){return this.aEt.nEt()},i.PTt=function(t){var n=this.jTt.indexOf(t);if(n>0)return this.jTt[n-1]},i.OTt=function(t){var n=this.jTt.indexOf(t);if(n>=0&&n+1<this.jTt.length)return this.jTt[n+1]},i.AAt=function(){return this.SAt?this.SAt.AAt():void 0},i.OAt=function(){return this.SAt&&this.SAt.OAt()},i.kTt=function(t){this.SAt&&this.SAt.kTt(t)},i.Fv=function(){this.Ho(),this.hEt=void 0,this.Got(!1);for(var t=0,n=this.jTt;t<n.length;t++){n[t].Fv()}Je(this.jTt),this.SAt&&this.SAt.Ao()},M(n,[{key:"eAt",get:function(){return this.SAt&&this.SAt.eAt}},{key:"sAt",get:function(){return this.SAt&&this.SAt.sAt}},{key:"zl",get:function(){return this.SAt&&this.SAt.Os.zl}},{key:"YTt",get:function(){var t;return null==(t=this.SAt)?void 0:t.YTt}},{key:"fEt",get:function(){var t;return null==(t=this.SAt)?void 0:t.ZTt}},{key:"uAt",get:function(){return this.SAt?this.SAt.uAt.map(function(t){return t.href}):[this.Okt]}},{key:"Okt",get:function(){return this.sEt.href}},{key:"hAt",get:function(){return this.SAt&&this.SAt.Os.hAt}},{key:"aAt",get:function(){return this.SAt&&this.SAt.Os.aAt}},{key:"Ckt",get:function(){return this.SAt&&this.SAt.Os.Ckt}},{key:"cAt",get:function(){return this.SAt&&this.SAt.Os.cAt}},{key:"fAt",get:function(){var t,n,i=(null==(t=this.SAt)?void 0:null==(n=t.Os.fAt)?void 0:n.Zkt())||0;return _.max(i,JX)}},{key:"Jg",get:function(){return this.SJ}},{key:"Ikt",get:function(){return this.jTt}},{key:"vEt",get:function(){return this.so===ZH.jb?this.jAt:this.dEt}},{key:"lEt",get:function(){var t=this.vEt;if(void 0!==t)for(var n=0,i=this.Ikt;n<i.length;n++){var r=i[n];if(r.GR<=t&&r.QR>t)return r}}},{key:"Spt",get:function(){return this.SAt&&this.SAt.Os.Spt}},{key:"vAt",get:function(){return this.SAt&&this.SAt.vAt}},{key:"BTt",get:function(){for(var t=this.jTt.length-1;t>=0;t-=1){var n=this.jTt[t].BTt;if(n)return n}}},{key:"jAt",get:function(){var t=this.BTt;if(void 0!==t){var n=t-this._Et;return _.max(n,this.dEt)}}},{key:"dEt",get:function(){for(var t=0,n=this.jTt;t<n.length;t++){var i=n[t].pAt;if(void 0!==i)return i}}},{key:"Lv",get:function(){return Boolean(this.uEt.Lv)}},{key:"_Et",get:function(){var t=this.SAt&&this.SAt.Os.dAt;return t?t.Nkt():this.so===ZH.jb?this.qnt:0}},{key:"qnt",get:function(){return this.uEt.qnt?this.uEt.qnt:1.5*this.cAt.Nkt()}},{key:"_pt",get:function(){return this.SAt&&this.SAt._pt}},{key:"so",get:function(){return this.SAt?this.SAt.so:void 0}}]),n}(bs),ZX=function(){function t(t,n,i,r){this.TTt=void 0,this.TTt=new YX(t,n,i,r)}return M(t,[{key:"CAt",get:function(){return this.TTt}}]),t}(),JX=1e3,$X=_.pow(2,31)-1,KX=function(){function t(t,n,i,r){var e=this;this.O7=void 0,this.SAt=void 0,this.gEt=void 0,this.wEt=void 0,this.yEt=void 0,this.mEt=new es,this.kEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.SAt.CAt.nEt(),t.next=4,e.pEt(e.SAt.CAt.uAt,n);case 4:return r=t.sent,t.next=7,e.SAt.CAt.Uh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),vy(t.t0)&&e.SAt.CAt.Got(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.O7=r,this.SAt=new ZX(t,n,i,this.mEt.Do)}var n=t.prototype;return n.Bd=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SAt.CAt.Lo(new _S),t.prev=1,t.next=4,BU(this.kEt,n);case 4:this.SAt.CAt.Got(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),hs(t.t0),this.wEt=void 0,this.SAt.CAt.Got(!1),new v("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.gEt=this.AEt(this.mEt.Do);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.AEt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.SAt.CAt.so!==ZH.jb){t.next=6;break}return t.next=4,cs(this.bEt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.TEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(n),!((i=this.EEt())>0)){t.next=6;break}return r=_.min(i,$X),t.next=6,ys(r,n);case 6:return t.prev=6,t.next=9,BU(this.kEt,n,1/0,JX,3e4);case 9:this.SAt.CAt.Got(!0);case 10:return t.prev=10,this.yEt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.EEt=function(){var t=this.SAt.CAt.nEt().getTime()-this.SAt.CAt.YTt.getTime();return this.SAt.CAt.fAt-t},n.SEt=function(t){var n=this.SAt.CAt.OAt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.SAt.CAt.kTt(t);var r=this.SAt.CAt.OAt();return r?r.getTime()-t.getTime():NaN},n.REt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yEt||(this.yEt=this.TEt(n)),(i=new es).No(n),t.prev=3,t.next=6,E.race([this.yEt,this.IEt(i.Do)].filter($));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),as(t.t0);case 11:return t.prev=11,i.Io(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.IEt=function(t){var n=this.SAt.CAt.nEt(),i=this.SEt(n);if(!y(i))return this.NEt(i,t)},n.NEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ys(n,i);case 2:r=this.SAt.CAt.nEt(),this.SAt.CAt.kTt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.pEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O7.N7(n,{},i,!1);case 2:return r=t.sent,e=new hX,t.abrupt("return",e.uyt(r.m7,r.lv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Fv=function(){return this.mEt.Io(),this.gEt=void 0,this.wEt=void 0,this.yEt=void 0,this.SAt.CAt.Fv(),E.resolve()},M(t,[{key:"CEt",get:function(){return this.SAt}},{key:"H1",get:function(){return this.wEt||(this.wEt=this.Bd(this.mEt.Do),_s(this.wEt)),this.wEt}},{key:"bEt",get:function(){return this.SAt.CAt.fEt&&this.SAt.CAt.so===ZH.jb?this.REt(this.mEt.Do):this.H1}}]),t}(),tW=function(){function t(t,n,i){this.O7=t,this.DEt=n,this.OEt=i}var n=t.prototype;return n.xEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new v("Invalid typed source");case 2:if(!Tl(i=n.type)){t.next=9;break}return t.next=6,this.PEt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!bl(i)){t.next=15;break}return t.next=12,this.BEt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.PEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$H(n.src,this.O7);case 3:return i=t.sent,t.next=6,tV(i,this.O7);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.BEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new KX({o_:T.Pu(n.src),qnt:n.liveOffset,cEt:n.timeServer,Lv:n.useCredentials},this.OEt,Of.zv,this.O7),t.next=4,i.H1;case 4:return t.next=6,CH(i.CEt.CAt,n.contentProtection,this.DEt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),nW=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.Yf,MediaSource.isTypeSupported(r)||wy(n.cD,n.p$)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!Y.Re&&!Y.Ee||-1===(null==(i=n.lu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.Skt){t.next=13;break}return e=n.Skt,s=Ke(e,function(t){return Se(t.mkt)}).filter($),t.next=10,ts(s,function(t){return T.Ou(t,r)});case 10:if(t.sent){t.next=13;break}return t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),iW=function(){function t(t){this.LEt=void 0,this.MEt=[],this.UEt=0,this.LEt=t}var n=t.prototype;return n.FEt=function(){var t=new ju;return this.MEt.push(t),this.HEt(),t.mh},n.VEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.UEt-=1,this.HEt(),0===this.MEt.length&&0===this.UEt&&i.kh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.HEt=function(){this.MEt.length>0&&this.UEt<this.LEt&&(this.MEt.shift().kh(),this.UEt+=1)},t}();function rW(t,n){for(var i=0,r=0,e=t.wb.J0.map(function(t){return t.V_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var eW=function(t){function n(n,i,r,e,s,u,o,h){var a;void 0===h&&(h=nW),(a=t.call(this)||this).P7=void 0,a.XEt=void 0,a.WEt=new ju,a.qEt=void 0,a.B$=void 0,a.zEt=wH._kt(),a.vkt=void 0,a.GEt=void 0,a.ag=void 0,a.jEt=void 0,a.u1=void 0,a.O7=void 0,a.QEt=void 0,a.DEt=void 0,a.OEt=void 0,a.Kmt=void 0,a.P7=n,a.u1=i,a.O7=r,a.jEt=e,a.QEt=s,a.DEt=u,a.OEt=h,a.Kmt=o,a.GEt=-1;var c=a.P7.ER.sources[0];return a.qEt=c,a.ag=a.Ig(),a.XEt=new iW(a.P7.na.parallelTasksThreshold),a}F(n,t);var i=n.prototype;return i.Ig=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u,o,h,a,c,f,v,d,l,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new tW(this.O7,this.DEt,this.OEt),t.next=3,n.xEt(this.qEt);case 3:return this.B$=t.sent,i=this.P7.na.amount,r=this.B$.V_,e=kH(i,r),this.vkt=e,u=uO(this.B$.Dkt[0]),t.next=11,this.u1.Z0.j0(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return Ze(t.references,N.P7.zl)}),h=[],a=this.P7.na.bandwidth,c=0,f=this.B$.Ikt;c<f.length;c++)for(v=f[c],d=0,l=v.Pkt;d<l.length;d++)for(g=l[d],w=0,y=oW(g._p);w<y.length;w++)for(m=y[w],k=0,p=hW(m.Zl,a);k<p.length;k++)A=p[k],h.push(A);if(this.GEt=_.ceil(h.map(function(t){return t.JE*rW(t,e)/8}).reduce(function(t,n){return t+n},0)),b=ie(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new rA(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.fI(r).cI(5e-4);else{var e,s=Ge(h,function(t){return t.zl===i}),u=_.min(N.vkt,null!=(e=null==s?void 0:s.wb.V_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:u})}},S=0;S<o.length;S++)E(S);s=new wH(T,b,this.vkt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.zl,{timeRanges:rA.NI(),totalQualityDurationToCache:_.min(I.wb.V_,this.vkt)});s=new wH(0,b,this.vkt)}this.YEt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ZEt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ag;case 2:return t.next=4,this.JEt(this.B$,n);case 4:return t.next=6,this.WEt.mh;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.JEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Dkt){t.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return t.next=4,this.$Et();case 4:for(r=[],e=0,s=n.Ikt;e<s.length;e++)u=s[e],r.push(this.KEt(u,n.Dkt[0],i));return t.abrupt("return",E.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$Et=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jEt.z0();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.u1.$0.sh(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,sW(e,this.P7.zl,this.u1.$0,this.Kmt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.u1.$0.X0(r,this.Kmt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new AH("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.jEt.Y0();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.KEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Pkt;s<u.length;s++)for(o=u[s],h=oW(o._p),a=0;a<h.length;a++)c=h[a],e.push(this.tSt(c,i,r));return t.abrupt("return",E.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.P7.na.bandwidth,s=hW(n.Zl,e),n.so!==E_.Cv||!n.Ukt||!n.Ukt.cT.widevine||"persistent"!==n.Ukt.cT.widevine.licenseType){t.next=6;break}return t.next=5,this.nSt(n.Ukt);case 5:os(r);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.iSt(h,i,r));return t.abrupt("return",E.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.iSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(r),!n.e7){t.next=7;break}return e={pw:0,V_:0,zkt:n.e7},t.next=5,this.XEt.FEt();case 5:os(r),_s(this.XEt.VEt(this.rSt(e,n,i),this.WEt));case 7:s=n.wb.J0[0].pw,u=s+this.vkt,o=0,h=n.wb.J0;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).pw>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.eSt(r);case 16:return t.next=18,this.XEt.FEt();case 18:_s(this.XEt.VEt(this.rSt(a,n,i),this.WEt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eSt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.wo){t.next=4;break}return t.next=3,this.WEt.mh;case 3:throw new ss;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sSt=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ag;case 2:return t.abrupt("return",this.B$);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nSt=function(t){return E.resolve()},i.uSt=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _t("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.rSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.u1.Z0,s=oO(n.zkt._v,n.zkt.VZ),t.next=4,e.sh(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,sW(u,this.P7.zl,e,this.Kmt);case 8:this.oSt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.hSt(n.zkt);case 14:return o=t.sent,h=this.aSt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.u1.i1(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Z0.X0(a,f.Kmt);case 2:return t.next=4,n.J0.X0(c,f.Kmt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.oSt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new AH("Unable to store segment with url: "+n.zkt._v,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.hSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QEt.cSt(n,!1);case 2:return i=t.sent,t.next=5,this.fSt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.jf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.aSt=function(t,n,i,r){var e=oO(t.zkt._v,t.zkt.VZ),s=t.pw,u=t.V_,o=this.vSt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:uO(i),qualityId:n.zl,byteSize:o,startsAndEnds:new rA([s,s+u]).ZR,references:[this.P7.zl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:uO(i),data:r}}},i.vSt=function(t){return t.buffer.byteLength},i.oSt=function(t,n){var i=t.qualityId,r=this.zEt,e=r.nw;e.get(i).timeRanges=e.get(i).timeRanges.fI(new rA(t.startsAndEnds)).cI(5e-4),this.YEt=new wH(n?r.gkt+t.byteSize:r.gkt,e,this.vkt)},M(n,[{key:"dSt",get:function(){return this.GEt}},{key:"YEt",get:function(){return this.zEt},set:function(t){this.zEt.Hw(t)||(this.zEt=t,t.Hw(wH._kt())||this.Lo(new gH))}}]),n}(bs);function sW(t,n,i,r){return uW.apply(this,arguments)}function uW(){return(uW=E.coroutine(Kr.mark(function t(n,i,r,e){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ze(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.X0(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function oW(t){return t.length?[t[0]]:[]}function hW(t,n){if(!t.length)return[];var i=[].concat(t).sort(lH),r=i.filter(function(t){return t.JE<=n});return r.length>0?[r.pop()]:[i.shift()]}var aW=function(){function t(t){this.Ub=void 0,this._L=new jE,this.Ub=t}var n=t.prototype;return n.dv=function(t){var n=this,i=new ju;return this._L.eL(function(r){return n.lSt(i,t,r)},t.Do).catch(R),i.mh},n.Uv=function(t){return this.Ub.Uv(t)},n.lSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(r),e=new Cf({_v:i._v,Do:r},i),s=this.Ub.dv(e),n.kh(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.rv();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Fv=function(){this._L.Fv()},t}(),cW=function(){function t(t,n){this.Ub=void 0,this._St=void 0,this.gSt=void 0,this.Ub=t,this._St=new aW(t),this.gSt=n}var n=t.prototype;return n.cSt=function(t,n,i){return this.gut(t,n,!0,!1,void 0,i)},n.wSt=function(t,n,i,r){return this.gut(t,n,!1,!1,i,r)},n.ySt=function(t,n,i,r){return this.gut(t,n,!1,!0,i,r)},n.gut=function(){var n=E.coroutine(Kr.mark(function n(i,r,e,s,u,o){var h;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return os(o),n.next=3,this.mSt(i,e,s,u,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.kSt(h));case 8:return n.abrupt("return",this.pSt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,s,u){return n.apply(this,arguments)}}(),n.pSt=function(t){return t},t.kSt=function(t){return t},n.mSt=function(t,n,i,r,e){var s=new Cf({_v:t._v,cv:Yo.Nc,av:t.VZ?{Range:"bytes="+t.VZ[0]+"-"+t.VZ[1]}:void 0,Lv:t.Lv,Ov:Ef.GET,so:Sf.mv,Pv:i?Rf.pv:Rf.wv,Bv:this.gSt,xv:r,Do:e});return n?this._St.dv(s):this.Ub.dv(s)},t}(),fW=function(){function t(t){this.Ub=void 0,this.Ub=t}return t.prototype.cTt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ub.dv({_v:n,cv:Yo.Nc,av:{Range:"bytes="+i[0]+"-"+i[1]},Lv:r,Ov:Ef.GET,so:Sf.wv,Do:e});case 2:return s=t.sent,t.next=5,s.jf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),vW=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).blt=void 0,e.blt=n,e}return F(n,t),n}(on),dW=function(){function t(t){this.C7=void 0,this.C7=t}return t.prototype.cTt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C7.R7(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.C7.R7(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",Wu(new m(u.buffer),i[0],i[1]));case 10:throw new vW({_v:n,VZ:i,Lv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),lW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new rA([0,0]).ZR,references:[]},_W={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},gW=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).ASt=void 0,u.bSt=void 0,u.u1=void 0,u.Kmt=void 0,u.ASt=new fW(i),u.u1=r,u.bSt=e,u.Kmt=s,u}F(n,t);var i=n.prototype;return i.cTt=function(){var n=E.coroutine(Kr.mark(function n(i,r,e,s){var u;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.cTt.call(this,i,r,e,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),hs(n.t0);case 9:return n.next=11,this.ASt.cTt(i,r,e,s);case 11:return u=n.sent,n.next=14,this.TSt(i,r,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.TSt=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h,a,c,f,v=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.bSt){t.next=2;break}return t.abrupt("return");case 2:return s=this.u1.Z0,u=oO(i,r),t.next=6,s.sh(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,sW(o,this.bSt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.aSt(u,h,this.bSt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.u1.i1(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Z0.X0(c,v.Kmt);case 2:return t.next=4,n.J0.X0(f,v.Kmt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new AH("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.aSt=function(t,n,i){return{segmentMetadataEntry:te({},lW,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:te({},_W,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(dW);var wW=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.ESt=function(t,n,i,r,e,s,u){return new eW(t,n,i,r,e,s,u)},n}(function(){function t(t){this.Ub=t}return t.prototype.OQ=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.ER.sources[0].useCredentials),e=new cW(this.Ub,If.wv),s=new nB(this.Ub,r),u=new iB(n.$0,n.Z0,n.J0,n.n1),o=function(t,n,i,r,e){return new gW(n,t,i,r,e)}(this.Ub,u,n,t.zl,i),h=new KD,a=new oB(uB(s,u),h,t);return this.ESt(t,n,a,h,e,o,i)},t}());function yW(t){var n,i={get id(){return t.zl},get status(){return t.hv},get source(){return t.ER},get parameters(){return t.na},get duration(){return t.V_},get cached(){return t.SSt.uR()},get secondsCached(){return t.RSt},get percentageCached(){return t.ISt},get bytes(){return t.NSt},get bytesCached(){return t.CSt},get license(){return t.RD.il},start:function(){t.GR()},pause:function(){t.pg()},remove:function(){t.Mh()},addEventListener:function(t,i){n.Mo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}};return n=new oE(t,["l0","Vmt"],i),i}var mW=function(){function t(t,n,i){this.P7=t,this.u1=n,this.B$=i}var n=t.prototype;return n.DSt=function(){var t=E.coroutine(Kr.mark(function t(){var n=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.u1.i1(function(){var t=E.coroutine(Kr.mark(function t(i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.OSt(i);case 2:return t.next=4,n.xSt(i);case 4:return t.next=6,n.PSt(i);case 6:return t.next=8,n.BSt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.OSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.K0,r=this.P7.zl,t.next=4,i.Mh(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Z0,r=n.J0,Il(e=this.P7.ER.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=uO(e.src),t.next=8,i.j0(s,"manifestURL");case 8:u=t.sent.filter(function(t){return Ze(t.references,a.P7.zl)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(Qe((h=u[o]).references,this.P7.zl),0!==h.references.length){t.next=20;break}return t.next=16,i.Mh(h.key);case 16:return t.next=18,r.Mh(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.X0(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.PSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.$0,r=this.LSt(),t.next=4,i.q0(r);case 4:e=t.sent.filter(function(t){return Ze(t.references,o.P7.zl)}),s=0;case 6:if(!(s<e.length)){t.next=19;break}if(Qe((u=e[s]).references,this.P7.zl),0!==u.references.length){t.next=14;break}return t.next=12,i.Mh(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.X0(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LSt=function(){if(!this.B$)return[];var t=this.P7.ER.sources[0];if(!Il(t))return[];var n=uO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Ikt;i<r.length;i++)for(var e=0,s=r[i].Pkt;e<s.length;e++)for(var u=0,o=s[e]._p;u<o.length;u++)for(var h=0,a=o[u].Zl;h<a.length;h++){var c=a[h];c.Qkt&&n.push(c.Qkt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.B$).map(function(t){return{src:t}}).map(function(t){return uO(t.src)});return[n].concat(i)},n.BSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.n1,t.next=3,i.z0();case 3:r=t.sent.filter(function(t){return Ze(t.references,u.P7.zl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Qe((s=r[e]).references,this.P7.zl),0!==s.references.length){t.next=14;break}return t.next=11,i.Mh(s.key);case 11:this.MSt(s),t.next=16;break;case 14:return t.next=16,i.X0(s);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MSt=function(t){},t}(),kW=new(function(){function t(){}return t.prototype.OQ=function(t,n,i){return new mW(t,n,i)},t}());var pW=function(){function t(t,n){this.nl=void 0,this.an=t,this.USt=n}var n=t.prototype;return n.q5=function(t){this.FSt(t)},n.FSt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.USt.uSt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.ikt(iH.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"il",get:function(){var t;return this.nl||(this.nl=(t=this,{renew:function(n){t.q5(n)}})),this.nl}}]),t}(),AW=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this)||this).sw=void 0,o.$mt=void 0,o.nl=void 0,o.fwt=void 0,o.HSt=void 0,o.u1=void 0,o.USt=void 0,o.VSt=new es,o.XSt=void 0,o.evictOnLoading=function(){o.Vo("Vmt",o.evictOnLoading),o.WSt()},o.sw=n,o.fwt=i,o.HSt=r,o.u1=e,o.USt=s.OQ(sn(o),o.u1,u),o.XSt=new pW(sn(o),o.USt),o.$mt=1===o.USt.YEt.wkt?iH.DONE:iH.IDLE,o.USt.Mo("l0",function(t){o.Bo(t),1===o.ISt&&o.ikt(iH.DONE)});var a=new Date,c=o.HSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.WSt()},c),o}F(n,t);var i=n.prototype;return i.ikt=function(t){this.$mt!==t&&(this.$mt=t,this.Lo(new eH))},i.GR=function(){this.$mt===iH.EVICTED||this.$mt===iH.DONE||this.qSt()},i.qSt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ikt(iH.LOADING),n=new es,this.VSt=n,t.next=6,this.USt.ZEt(n.Do);case 6:this.ikt(iH.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),us(t.t0)?this.ikt(iH.IDLE):this.ikt(iH.ERROR);case 12:return t.prev=12,this.VSt.Ao(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.pg=function(){this.VSt.Io()},i.Mh=function(){this.hv===iH.LOADING?(this.Mo("Vmt",this.evictOnLoading),this.pg()):this.WSt()},i.WSt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.USt.sSt();case 3:return n=t.sent,t.next=6,kW.OQ(this,this.u1,n).DSt();case 6:this.USt.YEt=wH._kt(),this.ikt(iH.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.ikt(iH.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"il",get:function(){return this.nl||(this.nl=yW(this)),this.nl}},{key:"zl",get:function(){return this.sw}},{key:"RD",get:function(){return this.XSt}},{key:"hv",get:function(){return this.$mt}},{key:"ER",get:function(){return this.fwt}},{key:"na",get:function(){return this.HSt}},{key:"V_",get:function(){return this.USt.YEt.EI}},{key:"SSt",get:function(){return this.USt.YEt.lkt}},{key:"RSt",get:function(){return this.USt.YEt.dkt}},{key:"ISt",get:function(){return this.USt.YEt.wkt}},{key:"NSt",get:function(){return this.USt.dSt}},{key:"CSt",get:function(){return this.USt.YEt.gkt}}]),n}(hl);var bW=function(){function t(t,n){this.u1=t,this.zSt=n}var n=t.prototype;return n.ukt=function(t,n,i){var r=qb();return this.ekt(r,t,n,i)},n.ekt=function(t,n,i,r){return new AW(t,n,i,this.u1,this.zSt,r)},t}(),TW=30,EW=5;function SW(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(rt(t)&&!Ie(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,rt(i)&&Ie(i,"%")){var n=w(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!rt(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+TW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ut(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return EW;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var RW=function(t){function n(n,i){var r;return(r=t.call(this)||this).nl=void 0,r.GSt=n,r.RB=i,r.GSt.Mo("Vmt",r.Bo),r}return F(n,t),n.prototype.jSt=function(t,n,i){var r,e;if(!t)throw new v("Unexpected - The source description is undefined");if(r=lb(t),e=SW(n),eb(r))throw new v("Invalid source description");return this.GSt.ekt(r,e).il},M(n,[{key:"il",get:function(){var t,n,i;return this.nl||(this.nl=(i={get status(){return t.hv},get tasks(){return t.akt},get network(){return t.HB.il},createTask:function(n,i){return t.jSt(n,i)},addEventListener:function(t,i){n.Mo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},n=new hE(t=this,i),i)),this.nl}},{key:"hv",get:function(){return this.GSt.hv}},{key:"akt",get:function(){return this.GSt.akt.il}},{key:"HB",get:function(){return this.RB}}]),n}(hl);(IW=new zT(T.Zd,!1),NW=sO.Qe,CW=new wW(IW),DW=new bW(NW,CW),OW=new jT(IW),xW=new dH(NW.K0,DW,"persistent"),new RW(xW,OW)).il;var IW,NW,CW,DW,OW,xW,PW=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).sw=void 0,s.$mt=void 0,s.nl=void 0,s.fwt=void 0,s.HSt=void 0,s.rH=0,s.QSt=rA.NI(),s.YSt=0,s.ZSt=0,s.GSt=void 0,s.sw=n,s.$mt=iH.IDLE,s.fwt=i,s.HSt=r,s.GSt=e,s}F(n,t);var i=n.prototype;return i.GR=function(){this.GSt.startCachingTask(this)},i.Mh=function(){this.GSt.removeCachingTask(this)},M(n,[{key:"il",get:function(){return this.nl||(this.nl=yW(this)),this.nl}},{key:"zl",get:function(){return this.sw}},{key:"hv",get:function(){return this.$mt},set:function(t){this.$mt!==t&&(this.$mt=t,this.Lo(new eH))}},{key:"ER",get:function(){return this.fwt}},{key:"na",get:function(){return this.HSt}},{key:"V_",get:function(){return this.rH},set:function(t){this.rH=t}},{key:"SSt",get:function(){return this.QSt},set:function(t){this.QSt=t}},{key:"RSt",get:function(){return this.YSt},set:function(t){this.YSt=t}},{key:"ISt",get:function(){return this.ZSt},set:function(t){this.ZSt=t,this.Lo(new gH)}}]),n}(al),BW=30;function LW(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+BW),n&&((i=n)&&!(ut(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var MW=function(t){function n(){var n;return(n=t.call(this)||this).$mt=oH.UNINITIALISED,n.tL=new vH,n.Lyt=void 0,n.$yt=void 0,n.JSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.hv=iH.EVICTED,i.ISt=0,i.RSt=0,i.V_=0,i.SSt=rA.NI(),n.tL.Mh(i))}},n.$St=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.hv=r);var e=t.detail.percentage;e&&(i.ISt=e);var s=t.detail.duration;s&&(i.V_=s);var u=t.detail.seconds;u&&(i.RSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.SSt=new rA(h)}}}},n.KSt=function(t){if(t.detail){var i=lb(JSON.parse(t.detail.source));if(!n.tRt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var s=t.detail.uuid;n.ekt(i,LW(r),s)}}},n.nRt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.ekt(lb(e),LW(i),s);u.hv=t.detail.status,u.ISt=t.detail.percentage,u.V_=t.detail.duration,u.RSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.SSt=new rA(h)}},n.iRt=function(t){t.detail&&n.ikt(t.detail.status)},n.Lyt=new $F,n.$yt=new DF,EF().cache={sdkEventBus:n.$yt},n.fK(),n}F(n,t);var i=n.prototype;return i.ikt=function(t){this.$mt!==t&&(this.$mt=t,this.Lo(new eH))},i.ekt=function(t,n,i){void 0===i&&(i=void 0);var r=new PW(i||qb(),t,n,this);return this.tL.iw(r),i||this.Lyt.gQ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.zl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.tL.Wmt;n<i.length;n++){var r=i[n];if(r.zl===t)return r}},i.tRt=function(t){for(var n=FW(t.sources),i=0,r=this.tL.Wmt;i<r.length;i++){if(FW(r[i].ER.sources).src===n.src)return!0}return!1},i.fK=function(){this.$yt.addEventListener("deleteTask",this.JSt),this.$yt.addEventListener("updateValues",this.$St),this.$yt.addEventListener("newTask",this.KSt),this.$yt.addEventListener("restoreTask",this.nRt),this.$yt.addEventListener("setCacheStatus",this.iRt)},i.startCachingTask=function(t){this.Lyt.gQ("THEOplayerCacheStartCachingTask",{id:t.zl})},i.removeCachingTask=function(t){this.Lyt.gQ("THEOplayerCacheRemoveCachingTask",{id:t.zl})},M(n,[{key:"hv",get:function(){return this.$mt}},{key:"akt",get:function(){return this.tL}}]),n}(bs),UW=function(t){function n(n){var i;return(i=t.call(this,n)||this).rRt=n,i.rRt.Mo("Vmt",i.Bo),i}return F(n,t),n.prototype.jSt=function(t,n){var i,r;if(!t)throw new v("Unexpected - The source description is undefined");if(i=lb(t),r=LW(n),eb(i))throw new v("Invalid source description");if(!FW(i.sources))throw new v("The provided sources can't be cached");return this.rRt.ekt(i,r).il},n}(RW);function FW(t){for(var n=0;n<t.length;n++){var i=t[n];if(Tl(i.type))return i}}var HW,VW,XW=function(){var t=new MW;return new UW(t)}().il;!function(t){t.eRt="any",t.sRt="natural",t.uRt="landscape",t.oRt="portrait",t.hRt="portrait-primary",t.aRt="portrait-secondary",t.cRt="landscape-primary",t.fRt="landscape-secondary"}(HW||(HW={})),function(t){t.hRt="portrait-primary",t.aRt="portrait-secondary",t.cRt="landscape-primary",t.fRt="landscape-secondary"}(VW||(VW={}));var WW,qW,zW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Lyt=new $F,n.vRt=HW.sRt,n.dRt=VW.hRt,n.lRt=VW.hRt,n._Rt=VW.hRt,n}F(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,r){n.vRt=t,n.Lyt.gQ("THEOplayerOrientationLock",t),n.gRt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.vRt=HW.sRt,t.Lyt.gQ("THEOplayerOrientationUnlock"),t.type=t.lRt,t.gRt(),n()})},i.gRt=function(){var t=this._Rt,n=this.type;t!==n&&(this._Rt=n,this.Lo(new Es("change")))},i.addEventListener=function(t,n){this.Mo(t,n)},i.removeEventListener=function(t,n){this.Vo(t,n)},n.wRt=function(t){switch(t){case HW.hRt:return[VW.hRt];case HW.aRt:return[VW.aRt];case HW.oRt:return[VW.hRt,VW.aRt];case HW.cRt:return[VW.cRt];case HW.fRt:return[VW.fRt];case HW.uRt:return[VW.cRt,VW.fRt];case HW.sRt:return[VW.hRt,VW.cRt,VW.fRt];case HW.eRt:return[VW.hRt,VW.aRt,VW.cRt,VW.fRt]}},n.yRt=function(t,i){return n.wRt(i).indexOf(t)>=0},M(n,[{key:"type",get:function(){return this.dRt},set:function(t){this.lRt=t,n.yRt(t,this.vRt)?(this.dRt=t,this.gRt()):(t===VW.cRt&&this.vRt===HW.fRt&&(this.dRt=VW.fRt,this.gRt()),t===VW.fRt&&this.vRt===HW.cRt&&(this.dRt=VW.cRt,this.gRt()))}},{key:"angle",get:function(){switch(this.type){case VW.cRt:return-90;case VW.fRt:return 90;case VW.hRt:return 0;case VW.aRt:return 180;default:return 0}}}]),n}(al);zW.Qe=new zW,e.screen.orientation=zW.Qe,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.mRt="unavailable",t.kRt="available",t.pRt="presenting"}(WW||(WW={})),ME(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),n.prototype.Tg=function(n){t.prototype.Tg.call(this,n);var i=this.il;this.il.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===WW.pRt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(HW.fRt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},NE.WB),function(t){t.Jd="addtrack",t.Kd="removetrack",t.wl="change",t.bl="update"}(qW||(qW={}));var GW=function(t,n,i){this.type=qW.wl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},jW=function(t,n){this.type=qW.Jd,this.mediaType=t,this.mediaTrack=n},QW=function(t,n){this.type=qW.Kd,this.mediaType=t,this.mediaTrack=n},YW=function(t,n){this.type=qW.bl,this.mediaType=t,this.mediaTrack=n},ZW=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.ARt=function(t){var n=new GW(r.type,t.track,r.mediaTracks);r.messageDispatcher.bRt(n)},this.TRt=function(t){var n=new jW(r.type,t.track);r.messageDispatcher.bRt(n),t.track.addEventListener("update",r.ERt)},this.SRt=function(t){var n=new QW(r.type,t.track);r.messageDispatcher.bRt(n)},this.ERt=function(t){var n=new YW(r.type,t.track);r.messageDispatcher.bRt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.fK()}return t.prototype.fK=function(){this.mediaTracks.addEventListener("change",this.ARt),this.mediaTracks.addEventListener("addtrack",this.TRt),this.mediaTracks.addEventListener("removetrack",this.SRt)},t}(),JW=function(){function t(){this.RRt=void 0,this.RRt=new $F}return t.prototype.bRt=function(t){this.RRt.gQ(t.type,QU(t))},t}();HE(function(t){if(t.il.audioTracks){var n=new JW;new ZW("audio",t.il.audioTracks,n)}if(t.il.videoTracks){var i=new JW;new ZW("video",t.il.videoTracks,i)}});var $W,KW,tq=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case $W.IRt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Lo(new nq(i));break;default:0}},n}(DF),nq=function(t){function n(n){var i;return(i=t.call(this,$W.IRt)||this).detail=n,i}return F(n,t),n}(Es);!function(t){t.IRt="registerContentProtectionIntegration"}($W||($W={})),function(t){t.NRt="certifiateRequest",t.CRt="certifiateResponse",t.DRt="licenseRequest",t.ORt="licenseResponse",t.xRt="extractFairplayContentId",t.PRt="buildContentProtection",t.BRt="registerContentProtectionCallback"}(KW||(KW={}));var iq,rq=function(t,n){this.type=KW.BRt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(iq||(iq={}));var eq,sq=function(t,n){this.type=KW.PRt,this.value=t,this.integrationId=n},uq=function(t,n){this.type=KW.NRt,this.value=t,this.integrationId=n},oq=function(t,n){this.type=KW.CRt,this.value=t,this.integrationId=n},hq=function(t,n){this.type=KW.xRt,this.value=t,this.integrationId=n},aq=function(t,n){this.type=KW.DRt,this.value=t,this.integrationId=n},cq=function(t,n){this.type=KW.ORt,this.value=t,this.integrationId=n},fq=function(){function t(t,n){this.LRt=void 0,this.zT=void 0,this.LRt=t,this.zT=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new uq(r,this.zT),t.prev=2,t.next=5,this.LRt.MRt(e);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.URt(u)){t.next=13;break}return o=te({},u),t.abrupt("return",o);case 13:if(!this.FRt(u)){t.next=16;break}return h=new m(u),t.abrupt("return",h);case 16:throw new k_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new k_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new oq(e,this.zT),t.next=5,this.LRt.MRt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new m(o));case 11:throw new k_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o,h,a;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new aq(e,this.zT),t.prev=3,t.next=6,this.LRt.MRt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.URt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new m(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.FRt(o)){t.next=17;break}return a=new m(o),t.abrupt("return",a);case 17:throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new k_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=te({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new cq(s,this.zT),t.next=6,this.LRt.MRt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new m(h));case 12:throw new k_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new hq(i,this.zT),t.next=3,this.LRt.MRt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",E.reject(new k_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.URt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.FRt=function(t){return!!new m(t)},t}(),vq=function(){function t(t){this.LRt=void 0,this.LRt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new fq(this.LRt,t.integration),i=new sq({drmConfiguration:t},t.integration);return this.LRt.MRt(i),n},t}(),dq=function(){var t=this;this.$yt=void 0,this.HRt=function(n){var i=new vq(t.messageDispatcher),r=n.detail,e=r.integrationId,s=r.keySystem,u={state:Om.JT.jT(e,s,i)};t.messageDispatcher.MRt(new rq(u,e))},this.$yt=new tq,EF().contentProtectionIntegration={sdkEventBus:this.$yt},this.$yt.addEventListener($W.IRt,this.HRt)},lq="nativePromiseCallback",_q=function(t){function n(n){var i;return(i=t.call(this,lq)||this).detail=n,i}return F(n,t),n}(Es);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(eq||(eq={}));var gq=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Lo(new _q(n))},i.addEventListener=function(t,n){this.Mo(t,n)},i.removeEventListener=function(t,n){this.Vo(t,n)},n}(DF),wq=function(){function t(){var t=this;this.RRt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case eq.RESOLVE:i.kh(n.detail.data);break;case eq.REJECT:i.ph(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new gq;EF().nativePromise={sdkEventBus:n},n.addEventListener(lq,this.handleNativePromiseEvent)}return t.prototype.MRt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=te({},n,{promiseId:r}),s=new ju;return this.promisesMap[r]=s,null==(i=this.RRt)||i.gQ(n.type,GU(e)),s.mh},t}();wq.messageIdTracker=-1;var yq,mq=function(t){function n(){var n;return(n=t.call(this)||this).RRt=new $F,n}return F(n,t),n}(wq),kq=function(t){function n(){var n;return(n=t.call(this)||this).LRt=new mq,n}return F(n,t),M(n,[{key:"messageDispatcher",get:function(){return this.LRt}}]),n}(dq);HE(function(t){new kq}),function(t){t.VRt="airplaystatechange"}(yq||(yq={}));var pq=function(t){this.type=yq.VRt,this.state=t},Aq=function(t){function n(n){var i;return(i=t.call(this)||this).XRt=void 0,i.WRt=function(t){var n=new pq(t.state);i.bRt(n)},i.XRt=n,i.fK(n),i}return F(n,t),n.prototype.fK=function(t){t.addEventListener("statechange",this.WRt)},n}(JW);HE(function(t){var n;null!=(n=t.il.cast)&&n.airplay&&new Aq(t.il.cast.airplay)}),n.ChromelessPlayer=eS,n.Player=eS,n.cache=XW,n.createGlobals=IF,n.features=["hls","airplay"],n.getCueMirrorMap=SF,n.getGlobalId=RF,n.getSdkEventBridge=EF,n.playerSuiteVersion="2021.4.2",n.players=oS,n.registerContentProtectionIntegration=hS,n.utils=uS,n.version="2.92.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
