/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.0 (3.0.0)
 Created: 2022-01-18T11:00:37.435Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,y=t.isNaN,m=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest),A="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E=b(function(n,i){n.exports=function t(n,i,e){function s(o,h){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new v("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return s(i||t)},f,f.exports,t,n,i,e)}return i[o].exports}for(var u="function"==typeof r&&r,o=0;o<e.length;o++)s(e[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),s=t("./queue"),u=t("./util");function o(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function f(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},o.prototype.hasCustomScheduler=function(){return this.g},o.prototype.enableTrampoline=function(){this.M=!0},o.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},o.prototype.haveItemsQueued=function(){return this.R||this.B},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==h)h(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){h(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.M?f.call(this,t):this.F(function(){t.j()})}):(o.prototype.invokeLater=a,o.prototype.invoke=c,o.prototype.settlePromises=f),o.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},o.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},o.prototype.Y=function(){this.R=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),s=r(null);e[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var s="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(s)}return e}(t,r);return e.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=_.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(r){var e=(void 0)();n=null!==e?e:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Ct=function(){this.Dt=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=u(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Ct(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var f=t[c];if(f===v||null!=f&&f.prototype instanceof v){if(h instanceof f)return e(u).call(a,h)}else if("function"==typeof f){var d=e(f).call(a,h);if(d===s)return d;if(d)return e(u).call(a,h)}else if(i.isObject(h)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=h[g])continue t}return e(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,s=t.prototype.Ht,u=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=s,t.Vt=u,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.Xt,a=n.ct,c=t("./errors").Warning,f=t("./util"),_=t("./es5"),w=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;h(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",e,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+f.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?f.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Dt}function U(t){this.Dt=t}function F(){this.kt=void 0,this.Dt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.sn=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.un=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.un=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.sn=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.ut(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,s=new c(t);if(i)r.Pt(s);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}x("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),s=e&&K(r);e&&!s&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}f.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var s=n[r].stack;void 0===i[s]&&(i[s]=r)}for(var r=0;r<t;++r){var u=n[r].stack,o=i[u];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,s=n[e],u=-1,o=r.length-1;o>=0;--o)if(r[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,p=t,A=n;var i=v.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new v).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var s="",u="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){r=a.fileName,o=a.line;break}}u<0||o<0||!i||!r||i!==r||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return h(i,v),i}var f=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),s=0;s<e.length;++s)e[s]=t+e[s];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,v);var p=v.vn;p||(p=u({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),s.defineProperty(v,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return u}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.CancellationError,u=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Zt())}function v(t){if(!c(this,t))return u.e=t,u}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var d=i(h,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Ot()){var l=new s("late cancellation observer");return e.Pt(l),u.e=l,u}d.isPending()&&d.rn(new a(this))}return d.J(f,v,void 0,this,void 0)}}}return e.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,s=new Array(i-1),u=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(h)));s[u++]=h}s.length=u;var a=arguments[r];return this.dn(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,f=a.tryCatch,d=[];function _(t,i,e,s){if(u.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=s,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(d):d,this.pn=null,this.An=!1}a.inherits(_,s),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,u.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=f(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=f(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=f(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=f(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Cn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Dn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var s=e(r,this._n);if(s instanceof n||null!==(s=function(t,i,r){for(var s=0;s<i.length;++s){r.Ft();var u=f(i[s])(t);if(r.Ht(),u===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(u,r);if(h instanceof n)return h}return null}(s,this.kn,this._n))){var u=(s=s.st()).K;0==(50397184&u)?(this.pn=s,s.On(this,null)):0!=(33554432&u)?n.ct.invoke(this.In,this,s.xn()):0!=(16777216&u)?n.ct.invoke(this.Nn,this,s.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=_,e=(new v).stack;return function(){var n=t.apply(this,arguments),s=new r(void 0,void 0,i,e),u=s.promise();return s.mn=n,s.In(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Cn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function v(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===s?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,s){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var u=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+h.classString(e.concurrency)));u=e.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new v(t,i,u,s).promise()}h.inherits(v,i),v.prototype.Hn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.In=function(t,i){var r=this.Vn,s=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,s),_=f.Ht();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.st()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(r,o):this.zn(r),!0)},v.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},v.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,s=0;s<i;++s)t[s]&&(r[e++]=n[s]);r.length=e,this.zn(r)},v.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),u=r.Ht();return s.checkForgottenReturns(e,u,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+u.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return s.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===u.errorObj?this.Dn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&o.getPrototypeOf(t)===v.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var s=i[e];h.test(s)||(n[s]=t[s])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var s=a(e(i));t.Pt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=e(n).apply(this.et(),[null].concat(t));u===s&&r.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?e(n).call(i,null):e(n).call(i,null,t);u===s&&r.throwLater(u.e)}function h(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var u=e(n).call(this.et(),t);u===s&&r.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&l(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.st())},e=function(t){return N.reject(new d(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,s),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function C(t){this.promise.nt(t)}function D(t){this.promise.Dn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return e("Catch statement predicate: expecting an object but got "+h.classString(u));r[s++]=u}if(r.length=s,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Dn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Dn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var s=void 0!==e,o=s?e:new N(g),a=this.st(),c=a.K;s||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.si=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.ui=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),s=t.ci(n);void 0===s&&(s=o),this.ei(i,r,e,s,null)},N.prototype.ei=function(t,n,i,r,e){var s=this.Nt();if(s>=65531&&(s=0,this.si(0)),0===s)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=r,"function"==typeof t&&(this[u+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[u+1]=null===e?n:h.domainBind(e,n))}return this.si(s+1),s},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Dn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.st();if(e!==this){var s=e.K;if(0==(50397184&s)){var u=this.Nt();u>0&&e.li(this);for(var o=1;o<u;++o)e._i(this,o);this.oi(),this.si(0),this.gi(e)}else if(0!=(33554432&s))this.En(e.xn());else if(0!=(16777216&s))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Dn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.ft(s,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.un(t,function(t){n.nt(t)},function(t){n.Dn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Dn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var s;r.Ft(),n===w?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new d("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=r.Ht();0==(65536&(e=r.K))&&(s===y?r.Z(i):s===R?r.Dn(s.e,!1):(b.checkForgottenReturns(s,u,"",r,this),r.nt(s)))}},N.prototype.st=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof s?i.Sn(t):u||t instanceof k?t.St():i.cancel()):"function"==typeof n?u?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof s?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):u&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.ui(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.si(0)}this.sn()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,s,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,s){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.st()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=e("expecting an array or an iterable object but got "+u.classString(o)).reason();this._n.Dn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,s=!1,u=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.On(this,o),this.Vn[o]=h):s=0!=(33554432&u)?this.In(h.xn(),o):0!=(16777216&u)?this.Nn(h.Pn(),o):this.Sn(o):s=this.In(h,o)}s||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Dn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),s=t("./nodeback"),u=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var s=e.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var s=e.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(e,u(arguments,f))}catch(t){a.Dn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,r,f,v,n,u);else{var l=s(v,function(){return m(f,r,f,v,n,u)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=l(n)).context?r:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return e.copyDescriptors(t,u,d),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,s,u,i),k(c,r,s,u,i))}return k(t,r,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var u=0;u<e;++u){var o=r[u];n[u]=t[o],n[u+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=r(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new s,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],u=t[r];n.set(e,u)}return n}(this.Vn);else{r={};for(var e=this.length(),u=0,o=this.length();u<o;++u)r[this.Vn[u+e]]=this.Vn[u]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Ci=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Di(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ci(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Di(r);var s=this.Ii-1;this[e+0&s]=t,this[e+1&s]=n,this[e+2&s]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Di=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var s=0;s<e;++s)i[s+r]=t[s+n],t[s+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return e("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===s?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var s=new c(t,n,i,e);return s.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,s=a(r.xi);e.Ft(),(i=void 0!==r.Li?s.call(e.et(),t,this.index,this.length):s.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return u.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==s&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var s={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,u,o,a,c,f=t("./util"),d=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=A.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(A,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in s.documentElement?(u=s.createElement("div"),o={attributes:!0},a=!1,c=s.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,o),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==h?function(t){h(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},u.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},u.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.st().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return e.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,s=r.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ft(),o.nn(),u&&u.Ht();var a=!0,c=r.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Dn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Dn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){a(this.handle)};var o=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var s,a;return void 0!==e?(s=n.resolve(e).J(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&s.ot(e)):(s=new n(i),a=h(function(){s.En()},+t),r.cancellation()&&s.ot(new u(a)),s.nn()),s.ti(),s};function f(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new u(h(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new s("operation timed out"):new s(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.J(f,d,void 0,a,void 0)).ot(a)):i=this.J(f,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){h(function(){throw t},0)}function _(t,i){var e=0,u=t.length,o=new n(s);return function s(){if(e>=u)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+o.classString(s));var h=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,h=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),s=v(s);var r=h?s.apply(void 0,t):s(t),e=A.Ht();return u.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var s,u=n("./es5"),h=void 0===o,a={e:{}},c=void 0!==t?t:void 0!==e?e:void 0!==A?A:void 0!==this?this:null;function f(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(u.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return r}for(var o=0;o<s.length;++o){var h=s[o];if(!e[h]){e[h]=!0;var a=l.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=u.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var s in i)if(r.call(i,s))e.push(s);else{for(var u=0;u<t.length;++u)if(r.call(t[u],s))continue t;e.push(s)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&u.propertyIsWritable(t,"stack")}var b="stack"in new v?function(t){return p(t)?t:new v(m(t))}:function(t){if(p(t))return t;try{throw new v(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return u.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return u.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=u.names(t.prototype),i=u.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&u.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!u.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:u.isArray,asArray:E,notEnumerableProp:_,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof v.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=u.names(t),e=0;e<r.length;++e){var s=r[e];if(i(s))try{u.defineProperty(n,s,u.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),C.isNode&&C.toFastProperties(process);try{throw new v}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var S,R=function(){},I=function(t){return t};function N(t,n,i){var r;return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];var o=this,h=i&&!r;void 0!==r&&T.sr(r),r=T.ur(function(){r=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(S=E)&&S.config({warnings:!1,longStackTraces:!1});var C,D,O,x,P,B;S&&(x=S.setScheduler(R),C=x,P={hr:function(t){D=t,C(O)},ar:O=function(){var t=D;t&&(D=void 0,t())}},S.setScheduler(P.hr));function L(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function M(t,n,i){return n&&L(t.prototype,n),i&&L(t,i),t}function U(t,n){return(U=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function F(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,U(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(B||(B={}));var H=o?o.userAgent:"",V=H.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),X=H.match(/Android ([0-9\.]+)/i),W=H.match(/Windows NT ([0-9\.]+)/i),q=H.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),z=H.match(/Firefox\/([0-9\.]+)/i),G=H.match(/OPR\/(\d+\.\d+)/i),j=H.match(/Tizen ([0-9\.]+)/i),Q=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(H)||/(macintosh|mac(?=_powerpc)\s)/i.test(H),this.pr=/Windows NT/i.test(H),this.Ar=W?w(W[1]):0,this.Tr=/Android/i.test(H),this.Er=X?w(X[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(H),this.Rr=/iPhone/i.test(H),this.Ir=/iPad/i.test(H),this.Nr=this.kr&&this.mr&&!this.Ir,this.Cr=/iPod/i.test(H),this.Dr=/Mobile Safari/i.test(H),this.Or=/EOSSTB/i.test(H),this.xr=(this.Rr||this.Ir||this.Nr||this.Cr)&&!this.Sr,this.Pr=this.Sr||this.xr||this.Tr||this.Dr,this.Br=/CriOS/i.test(H),this.Lr=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Br,this.Mr=this.Lr&&/Edg\//i.test(o.userAgent),this.Ur=Boolean(t.chrome||/Chrome/i.test(H)||/CriOS/i.test(H)),this.Fr=V?g(V[1],10):0,this.Hr=/SMART-TV.*Tizen/i.test(H),this.Vr=j?w(j[1]):0,this.Xr=/webos|web0s/i.test(H),this.Wr=/Edge\/\d+/i.test(H),this.qr=/Trident/i.test(H),this.zr=this.qr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Gr=/Vivaldi/i.test(H),this.jr=/Firefox/i.test(H)&&!/Seamonkey/i.test(H),this.Qr=z?w(z[1]):0,this.Yr=/Safari/i.test(H)&&!/Chrome/i.test(H)&&!this.Sr&&!this.Hr,this.Zr=q?w(q[2]):0,this.Jr=Boolean(G),this.$r=G?w(G[1]):0,this.Kr=/CrKey/.test(H),this.te=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(H),this.ie="ios"===B._r,this.re="ios"===B.dr,this.ee=this.re||this.ie,this.se="ios"===B.gr,this.ue="ios"===B.wr,this.oe="ios"===B.yr}return M(n,[{key:"he",get:function(){return this.mr}},{key:"ae",get:function(){return this.kr}},{key:"ce",get:function(){return this.pr}},{key:"fe",get:function(){return this.Ar}},{key:"ve",get:function(){return this.Tr}},{key:"de",get:function(){return this.Er}},{key:"_e",get:function(){return this.Sr}},{key:"we",get:function(){return this.Rr}},{key:"ye",get:function(){return this.Ir}},{key:"me",get:function(){return this.Nr}},{key:"ke",get:function(){return this.Cr}},{key:"pe",get:function(){return this.xr}},{key:"Ae",get:function(){return this.Or}},{key:"be",get:function(){return this.Dr}},{key:"Te",get:function(){return this.Pr}},{key:"Ee",get:function(){return this.Br}},{key:"Se",get:function(){return this.Lr}},{key:"Re",get:function(){return this.Fr}},{key:"Ie",get:function(){return this.Mr}},{key:"Ne",get:function(){return this.Hr}},{key:"Ce",get:function(){return this.Vr}},{key:"De",get:function(){return this.Xr}},{key:"Oe",get:function(){return this.Wr}},{key:"xe",get:function(){return this.qr}},{key:"Pe",get:function(){return this.zr}},{key:"Be",get:function(){return this.Gr}},{key:"Le",get:function(){return this.jr}},{key:"Me",get:function(){return this.Qr}},{key:"Ue",get:function(){return this.Yr}},{key:"Fe",get:function(){return this.Zr}},{key:"He",get:function(){return this.Jr}},{key:"Ve",get:function(){return this.$r}},{key:"Xe",get:function(){return this.Kr}},{key:"We",get:function(){return this.te}},{key:"qe",get:function(){if(!(this.De||this.Ne))return!1;var t=this.Re;return void 0===t||Number(t)<56}},{key:"ze",get:function(){return this.ie}},{key:"Ge",get:function(){return this.re}},{key:"je",get:function(){return this.ee}},{key:"Qe",get:function(){return this.se}},{key:"Ye",get:function(){return this.ue}},{key:"Ze",get:function(){return this.oe}},{key:"Je",get:function(){return this.Ur}}]),n}();Q.$e=new Q;var Y=Q.$e,Z={}.hasOwnProperty,J={}.toString;function $(t){return null!=t}var K=Array.isArray||function(t){return"[object Array]"===J.call(t)};function tt(t){return nt(t)&&Z.call(t,"length")&&ot(t.length)}function nt(t){return"object"==typeof t&&null!==t}function it(t){return nt(t)&&t.constructor&&t.constructor===l}function rt(t){return"string"==typeof t}function et(t){return"boolean"==typeof t}function st(t){return Boolean(t)&&"function"==typeof t.then}function ut(t){return"[object Date]"===J.call(t)}function ot(t){return"number"==typeof t}var ht=!(Y.xe&&!Y.Pe),at=t.console;function ct(t){if(nt(t))try{return JSON.stringify(t)}catch(t){}return t}function ft(t){return t.map(ct).join(" ")}function vt(t){var n=at&&at[t];return n?n.bind&&ht?n.bind(at):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];at[t](ft(i))}:void 0}var dt,lt=vt("log")||R,_t=vt("warn")||lt.bind(void 0,"WARNING:"),gt=vt("error")||lt.bind(void 0,"ERROR:"),wt=(dt=at&&at.assert)?dt.bind&&ht?dt.bind(at):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];at.assert(t,ft(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];gt.apply(void 0,["Assertion failed:"].concat(i))}},yt=kt,mt=null;try{mt=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function pt(t){return!0===(t&&t.Ke)}kt.prototype.Ke,l.defineProperty(kt.prototype,"Ke",{value:!0}),kt.isLong=pt;var At={},bt={};function Tt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=bt[t])?r:(i=St(t,(0|t)<0?-1:0,!0),e&&(bt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=At[t])?r:(i=St(t,t<0?-1:0,!1),e&&(At[t]=i),i)}function Et(t,n){if(y(t))return n?Bt:Pt;if(n){if(t<0)return Bt;if(t>=Dt)return Ht}else{if(t<=-Ot)return Vt;if(t+1>=Ot)return Ft}return t<0?Et(-t,n).neg():St(t%Ct|0,t/Ct|0,n)}function St(t,n,i){return new kt(t,n,i)}kt.fromInt=Tt,kt.fromNumber=Et,kt.fromBits=St;var Rt=_.pow;function It(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Pt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return It(t.substring(1),n,i).neg();for(var e=Et(Rt(i,8)),s=Pt,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var a=Et(Rt(i,o));s=s.mul(a).add(Et(h))}else s=(s=s.mul(e)).add(Et(h))}return s.unsigned=n,s}function Nt(t,n){return"number"==typeof t?Et(t,n):"string"==typeof t?It(t,n):St(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}kt.fromString=It,kt.fromValue=Nt;var Ct=4294967296,Dt=Ct*Ct,Ot=Dt/2,xt=Tt(1<<24),Pt=Tt(0);kt.ZERO=Pt;var Bt=Tt(0,!0);kt.UZERO=Bt;var Lt=Tt(1);kt.ONE=Lt;var Mt=Tt(1,!0);kt.UONE=Mt;var Ut=Tt(-1);kt.NEG_ONE=Ut;var Ft=St(-1,2147483647,!1);kt.MAX_VALUE=Ft;var Ht=St(-1,-1,!0);kt.MAX_UNSIGNED_VALUE=Ht;var Vt=St(0,-2147483648,!1);kt.MIN_VALUE=Vt;var Xt=kt.prototype;Xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ct+(this.low>>>0):this.high*Ct+(this.low>>>0)},Xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Vt)){var n=Et(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Et(Rt(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Xt.getHighBits=function(){return this.high},Xt.getHighBitsUnsigned=function(){return this.high>>>0},Xt.getLowBits=function(){return this.low},Xt.getLowBitsUnsigned=function(){return this.low>>>0},Xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Vt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Xt.isZero=function(){return 0===this.high&&0===this.low},Xt.eqz=Xt.isZero,Xt.isNegative=function(){return!this.unsigned&&this.high<0},Xt.isPositive=function(){return this.unsigned||this.high>=0},Xt.isOdd=function(){return 1==(1&this.low)},Xt.isEven=function(){return 0==(1&this.low)},Xt.equals=function(t){return pt(t)||(t=Nt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Xt.eq=Xt.equals,Xt.notEquals=function(t){return!this.eq(t)},Xt.neq=Xt.notEquals,Xt.ne=Xt.notEquals,Xt.lessThan=function(t){return this.comp(t)<0},Xt.lt=Xt.lessThan,Xt.lessThanOrEqual=function(t){return this.comp(t)<=0},Xt.lte=Xt.lessThanOrEqual,Xt.le=Xt.lessThanOrEqual,Xt.greaterThan=function(t){return this.comp(t)>0},Xt.gt=Xt.greaterThan,Xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Xt.gte=Xt.greaterThanOrEqual,Xt.ge=Xt.greaterThanOrEqual,Xt.compare=function(t){if(pt(t)||(t=Nt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Xt.comp=Xt.compare,Xt.negate=function(){return!this.unsigned&&this.eq(Vt)?Vt:this.not().add(Lt)},Xt.neg=Xt.negate,Xt.add=function(t){pt(t)||(t=Nt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,St((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Xt.subtract=function(t){return pt(t)||(t=Nt(t)),this.add(t.neg())},Xt.sub=Xt.subtract,Xt.multiply=function(t){if(this.isZero())return Pt;if(pt(t)||(t=Nt(t)),mt)return St(mt.mul(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned);if(t.isZero())return Pt;if(this.eq(Vt))return t.isOdd()?Vt:Pt;if(t.eq(Vt))return this.isOdd()?Vt:Pt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(xt)&&t.lt(xt))return Et(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=n*h+i*o+r*u+e*s,St((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Xt.mul=Xt.multiply,Xt.divide=function(t){if(pt(t)||(t=Nt(t)),t.isZero())throw v("division by zero");var n,i,r;if(mt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?St((this.unsigned?mt.div_u:mt.div_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Bt:Pt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Bt;if(t.gt(this.shru(1)))return Mt;r=Bt}else{if(this.eq(Vt))return t.eq(Lt)||t.eq(Ut)?Vt:t.eq(Vt)?Lt:(n=this.shr(1).div(t).shl(1)).eq(Pt)?t.isNegative()?Lt:Ut:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Vt))return this.unsigned?Bt:Pt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Pt}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var e=_.ceil(_.log(n)/_.LN2),s=e<=48?1:Rt(2,e-48),u=Et(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Et(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Lt),r=r.add(u),i=i.sub(o)}return r},Xt.div=Xt.divide,Xt.modulo=function(t){return pt(t)||(t=Nt(t)),mt?St((this.unsigned?mt.rem_u:mt.rem_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Xt.mod=Xt.modulo,Xt.rem=Xt.modulo,Xt.not=function(){return St(~this.low,~this.high,this.unsigned)},Xt.and=function(t){return pt(t)||(t=Nt(t)),St(this.low&t.low,this.high&t.high,this.unsigned)},Xt.or=function(t){return pt(t)||(t=Nt(t)),St(this.low|t.low,this.high|t.high,this.unsigned)},Xt.xor=function(t){return pt(t)||(t=Nt(t)),St(this.low^t.low,this.high^t.high,this.unsigned)},Xt.shiftLeft=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?St(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):St(0,this.low<<t-32,this.unsigned)},Xt.shl=Xt.shiftLeft,Xt.shiftRight=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?St(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):St(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Xt.shr=Xt.shiftRight,Xt.shiftRightUnsigned=function(t){if(pt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?St(this.low>>>t|n<<32-t,n>>>t,this.unsigned):St(32===t?n:n>>>t-32,0,this.unsigned)},Xt.shru=Xt.shiftRightUnsigned,Xt.shr_u=Xt.shiftRightUnsigned,Xt.toSigned=function(){return this.unsigned?St(this.low,this.high,!1):this},Xt.toUnsigned=function(){return this.unsigned?this:St(this.low,this.high,!0)},Xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},kt.fromBytes=function(t,n,i){return i?kt.fromBytesLE(t,n):kt.fromBytesBE(t,n)},kt.fromBytesLE=function(t,n){return new kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},kt.fromBytesBE=function(t,n){return new kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Wt=yt,qt=_.pow(2,-52);function zt(t,n,i){return _.min(_.max(t,n),i)}function Gt(t,n,i){return t===n||_.abs(t-n)<=i}function jt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<qt||i<_.max(_.abs(t),_.abs(n))*qt}function Qt(t){return t!=t}function Yt(t,n){return t===n||Qt(t)&&Qt(n)}function Zt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Jt(){return Date.now()||(new Date).getTime()}function $t(t){return t/1e3}var Kt,tn=Wt.fromNumber(9007199254740991);function nn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(tn))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function rn(t){return t.ts===Kt.rs}function en(t){return t.ts===Kt.es}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.rs=1]="rs",t[t.ss=2]="ss",t[t.es=3]="es",t[t.us=4]="us",t[t.os=9]="os"}(Kt||(Kt={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(un.prototype=l.create(v.prototype)).constructor=un;var on=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(sn(r),r.constructor),r}return F(n,t),M(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),hn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return F(n,t),n}(on),an=function(){function t(){}return t.prototype.hs=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new hn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new hn;return new gn(n)},t}(),cn=function(){function t(t){this.as=void 0,this.as=t}var n=t.prototype;return n.cs=function(t){return this.as.isEqualNode(t.as)},n.fs=function(n){return new t(this.as.cloneNode(n))},M(t,[{key:"ts",get:function(){return Kt.ss}},{key:"vs",get:function(){var t;return null!=(t=this.as.localName)?t:mn(this.as.nodeName)}},{key:"ds",get:function(){return this.as.nodeName}},{key:"ls",get:function(){var t;return null!=(t=this.as.namespaceURI)?t:void 0}},{key:"_s",get:function(){var t;return null!=(t=this.as.prefix)?t:void 0}},{key:"gs",get:function(){return this.as.nodeValue}}]),t}(),fn=function(){function t(t){this.ys=void 0,this.ks=void 0,this.ys=t}var n=t.prototype;return n.ps=function(t){return this.As.filter(function(n){return wn(n)&&n.bs===t})},n.Ts=function(t,n){return this.As.filter(function(i){return wn(i)&&i.vs===n&&i.ls===t})},n.Es=function(t){this.ys.appendChild(t.Ss),this.ks&&this.ks.push(t)},n.cs=function(t){return this.ys.isEqualNode(t.Ss)},M(t,[{key:"As",get:function(){return void 0===this.ks&&(this.ks=function(t){for(var n=[],i=0;i<t.length;i++){var r=yn(t.item(i));r&&n.push(r)}return n}(this.ys.childNodes)),this.ks}},{key:"Rs",get:function(){return this.As.filter(wn)}},{key:"Ss",get:function(){return this.ys}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.Is=function(t){if(this.ys.hasAttribute(t))return this.ys.getAttribute(t)},i.Ns=function(t,n){if(this.ys.hasAttributeNS(t,n))return this.ys.getAttributeNS(t,n)},i.Cs=function(t){this.ys.removeAttribute(t)},i.Ds=function(t,n){this.ys.removeAttributeNS(t,n)},i.Os=function(t,n){this.ys.setAttribute(t,n)},i.xs=function(t,n,i){this.ys.setAttributeNS(t,n,i)},i.fs=function(t){return new n(this.ys.cloneNode(t))},M(n,[{key:"ts",get:function(){return Kt.rs}},{key:"vs",get:function(){var t;return null!=(t=this.ys.localName)?t:mn(this.ys.nodeName)}},{key:"ls",get:function(){var t;return null!=(t=this.ys.namespaceURI)?t:void 0}},{key:"_s",get:function(){var t;return null!=(t=this.ys.prefix)?t:void 0}},{key:"bs",get:function(){return this.ys.nodeName}},{key:"Ps",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new cn(t.item(i)));return n}(this.ys.attributes)}},{key:"Bs",get:function(){return this.ys.textContent}}]),n}(fn),dn=function(){function t(t){this.ys=void 0,this.ys=t}return t.prototype.cs=function(t){return this.Ls===t.Ls},M(t,[{key:"Ls",get:function(){return this.ys.nodeValue}},{key:"Ss",get:function(){return this.ys}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.fs=function(t){return new n(this.ys.cloneNode(t))},M(n,[{key:"ts",get:function(){return Kt.es}}]),n}(dn),_n=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.fs=function(t){return new n(this.ys.cloneNode(t))},M(n,[{key:"ts",get:function(){return Kt.us}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.fs=function(t){return new n(this.ys.cloneNode(t))},M(n,[{key:"ts",get:function(){return Kt.os}},{key:"Ms",get:function(){return new vn(this.ys.documentElement)}}]),n}(fn);function wn(t){return rn(t)}function yn(t){switch(t.nodeType){case Kt.rs:return new vn(t);case Kt.es:return new ln(t);case Kt.us:return new _n(t)}}function mn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function kn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function pn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){An(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&An(i,null,t.length,t),t}function An(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(u=(s=e+i)+i,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,En=/[0-9a-fA-F]/,Sn=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,Cn=l.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===Cn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function xn(t){return Dn(t)?t:Array.from(t)}function Pn(t){return t>=65&&t<=90}function Bn(t){return Pn(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Mn(t){return Ln(t)||Bn(t)}function Un(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Fn(t){return Pn(t)?t+32:t}function Hn(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Xn=_.min,Wn=String.fromCharCode,qn=16384;function zn(t){for(var n=t.length,i=[],r=0;r<n;r+=qn){var e=Xn(r+qn,n);i.push(Wn.apply(null,t.slice(r,e)))}return i.join("")}var Gn=/[^\0-\x7E]/,jn=/[\x2E\u3002\uFF0E\uFF61]/g,Qn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=_.floor,Zn=String.fromCharCode;function Jn(t){throw new RangeError(Qn[t])}function $n(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var Kn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ri=function(t,n,i){var r=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;r+=36)t=Yn(t/35);return Yn(r+36*t/(t+38))},ei=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(jn,".")).split("."),n).join(".");return r+e}(t,function(t){return Gn.test(t)?"xn--"+function(t){for(var n=[],i=(t=$n(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Zn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Yn((2147483647-e)/_)&&Jn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Jn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Zn(ii(p+A%b,0))),m=Yn(A/b)}n.push(Zn(ii(m,0))),s=ri(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function si(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zn(n)}function ui(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function hi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){hi(t[i],n)}return n}function ci(){if(ni>=ti)throw new v("Invalid byte index");var t=255&Kn[ni];if(ni++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function fi(){var t,n;if(ni>ti)throw new v("Invalid byte index");if(ni===ti)return!1;if(t=255&Kn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ci())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ci()<<6|ci())>=2048)return ui(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ci()<<12|ci()<<6|ci())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function vi(t){return[37,Vn(t>>4),Vn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function _i(t){return li(t)||35===t||63===t||123===t||125===t}function gi(t){return _i(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function yi(t){return wi(t)||39===t}function mi(t,n){if(!n(t))return[t];for(var i=ai([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,vi(s))}return r}function ki(t,n){for(var i=[],r=0,e=$n(t);r<e.length;r++){var s=e[r];i.push.apply(i,mi(s,n))}return si(i)}function pi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Un(t[r+1])&&Un(t[r+2])){var s=Hn(t[r+1])<<4|Hn(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(ai(t))}function Ai(t){return si(function(t){Kn=t.slice(),ti=Kn.length,ni=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(pi($n(t))))}function bi(t){var n,i,r,e,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&En.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!Tn.test(t[a]))throw new d;for(;a<s&&Tn.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=u)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new d;return u}function Ti(t){var n=10,i=Rn;return Sn.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?g(t,n):void 0}var Ei={Us:4},Si=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Us:2,Fs:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new d("Invalid code point in opaque host");var n=ki(t,di);return""===n?Ei:{Us:3,nr:n}}(t);var i=function(t){return function(t){return ei(t.toLowerCase())}(t)}(Ai(t));if(Si.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=Ti(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==r?{Us:1,Fs:r}:""===i?Ei:{Us:0,Hs:i}}function Ni(t){switch(t.Us){case 0:return t.Hs;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fs);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Fs)+"]";case 3:return t.nr;case 4:return""}}var Ci=/\+/g;function Di(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(Ci," "),o=o.replace(Ci," ");var h=Ai(u),a=Ai(o);i.push([h,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=xi(ai($n(r[0])))+"="+xi(ai($n(r[1])))}return n}function xi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Mn(n)?i.push(e):i.push.apply(i,vi(e))}return zn(i)}var Pi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Bi(t){var n=""+t,i=Pi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(Mi(s))if(Ui(s)||e===i-1)r.push(Li);else{var u=t.charCodeAt(e+1);Ui(u)?(r.push(s,u),e++):r.push(Li)}else r.push(s)}return t.slice(0,n)+zn(r)}(n,i.index):n}var Li=65533,Mi=function(t){return 55296==(63488&t)},Ui=function(t){return 0!=(1024&t)};function Fi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Hi(t){t.Vs.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Vs,Di(n))}function Xi(t){if(t.Xs){var n=Oi(t.Vs);""===n&&(n=null),t.Xs.Xs.Ws=n}}var Wi=function(){function t(t){if(void 0===t&&(t=void 0),this.Xs=null,null==t)this.Vs=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Wi&&Dn(s.Vs)&&(!On||s[Symbol.iterator]===qi))this.Vs=t.Vs.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.Vs=[];for(var n=0,i=xn(t);n<i.length;n++){var r=xn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Vs.push([Bi(r[0]),Bi(r[1])])}}else for(var e in this.Vs=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Vs.push([Bi(e),Bi(t[e])]);else(t=Bi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Vs=Di(t);var s}var n=t.prototype;return n.append=function(t,n){t=Bi(t),n=Bi(n),this.Vs.push([t,n]),Xi(this)},n.delete=function(t){t=Bi(t);for(var n=this.Vs,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Xi(this)},n.get=function(t){t=Bi(t);for(var n=this.Vs,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Bi(t);for(var n=this.Vs,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Bi(t);for(var n=this.Vs,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Bi(t),n=Bi(n);for(var i=this.Vs,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),Xi(this)},n.sort=function(){pn(this.Vs,Fi),Xi(this)},n.toString=function(){return Oi(this.Vs)},n.entries=function(){return new Qi(this.Vs,zi)},n.keys=function(){return new Qi(this.Vs,Gi)},n.values=function(){return new Qi(this.Vs,ji)},n.forEach=function(t){var n=this;this.Vs.forEach(function(i){return t(i[1],i[0],n)})},t}(),qi=Wi.prototype.entries;On&&(Wi.prototype[Symbol.iterator]=qi);var zi=function(t){return[t[0],t[1]]},Gi=function(t){return t[0]},ji=function(t){return t[1]},Qi=function(){function t(t,n){this.qs=0,this.Vs=t,this.zs=n}return t.prototype.next=function(){return this.qs<this.Vs.length?{done:!1,value:this.zs(this.Vs[this.qs++])}:{done:!0,value:void 0}},t}(),Yi="null";var Zi=l.create(null);Zi.ftp=21,Zi.file=0,Zi.gopher=70,Zi.http=80,Zi.https=443,Zi.ws=80,Zi.wss=443;var Ji=/^(?:\.|%2e)$/i,$i=/^(?:\.|%2e){2}$/i;function Ki(t){return Ji.test(t)}function tr(t){return $i.test(t)}function nr(t){return void 0!==Zi[t]}function ir(t){return nr(t.Gs)}function rr(t){return""!==t.js||""!==t.Qs}function er(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function sr(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&sr(zn(t))}function or(t){return sr(t)&&":"===t[1]}function hr(t){var n=t.Ys;0!==n.length&&("file"===t.Gs&&1===n.length&&or(n[0])||n.pop())}function ar(t){return null===t.Zs||Ei===t.Zs||t.Js||"file"===t.Gs}var cr=-1,fr=/\t|\n|\r/g,vr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function dr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new _r,t=t.replace(vr,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=$n(t=t.replace(fr,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:cr;switch(e){case 0:if(!Bn(v)){if(null===r){s.length=0,e=2;continue}throw new d("Invalid scheme")}s.push(Fn(v)),e=1;break;case 1:if(Mn(v)||43===v||45===v||46===v)s.push(Fn(v));else{if(58!==v){if(null===r){s.length=0,e=2,f=0;continue}throw new d("Invalid scheme")}var l=si(s);if(null!==r){if(nr(i.Gs)&&!nr(l))return;if(!nr(i.Gs)&&nr(l))return;if((rr(i)||null!==i.$s)&&"file"===l)return;if("file"===i.Gs&&(i.Zs===Ei||null===i.Zs))return}if(i.Gs=l,null!==r)return void(ir(i)&&i.$s===Zi[i.Gs]&&(i.$s=null));s.length=0,"file"===i.Gs?e=13:ir(i)&&n&&n.Gs===i.Gs?e=3:ir(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Js=!0,i.Ys.push(""),e=18)}break;case 2:if(!n||n.Js&&35!==v)throw new d("Invalid scheme");n.Js&&35===v?(i.Gs=n.Gs,i.Ys=n.Ys.slice(),i.Ws=n.Ws,i.Ks="",i.Js=!0,e=20):"file"!==n.Gs?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Gs=n.Gs,cr===v?(i.js=n.js,i.Qs=n.Qs,i.Zs=n.Zs,i.$s=n.$s,i.Ys=n.Ys.slice(),i.Ws=n.Ws):47===v?e=6:63===v?(i.js=n.js,i.Qs=n.Qs,i.Zs=n.Zs,i.$s=n.$s,i.Ys=n.Ys.slice(),i.Ws="",e=19):35===v?(i.js=n.js,i.Qs=n.Qs,i.Zs=n.Zs,i.$s=n.$s,i.Ys=n.Ys.slice(),i.Ws=n.Ws,i.Ks="",e=20):92===v&&ir(i)?e=6:(i.js=n.js,i.Qs=n.Qs,i.Zs=n.Zs,i.$s=n.$s,i.Ys=n.Ys.slice(),i.Ys.pop(),e=17,f-=1);break;case 6:!ir(i)||47!==v&&92!==v?47===v?e=9:(i.js=n.js,i.Qs=n.Qs,i.Zs=n.Zs,i.$s=n.$s,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var y=si(mi(w,gi));h?i.Qs+=y:i.js+=y}else h=!0}s.length=0}else if(cr===v||47===v||63===v||35===v||ir(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Gs)f-=1,e=15;else if(58!==v||o)if(cr===v||47===v||63===v||35===v||ir(i)&&92===v){if(f-=1,ir(i)&&0===s.length)throw new d("Invalid host");if(null!==r&&0===s.length&&(rr(i)||null!==i.$s))return;var m=Ii(si(s),ir(i));if(i.Zs=m,s.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=Ii(si(s),ir(i));if(i.Zs=k,s.length=0,e=12,11===r)return}break;case 12:if(Ln(v))s.push(v);else{if(!(cr===v||47===v||63===v||35===v||ir(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==s.length){var p=g(si(s),10);if(p>65535)throw new d("Invalid port");i.$s=p===Zi[i.Gs]?null:p,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Gs="file",47===v||92===v?e=14:n&&"file"===n.Gs?cr===v?(i.Zs=n.Zs,i.Ys=n.Ys.slice(),i.Ws=n.Ws):63===v?(i.Zs=n.Zs,i.Ys=n.Ys.slice(),i.Ws="",e=19):35===v?(i.Zs=n.Zs,i.Ys=n.Ys.slice(),i.Ws=n.Ws,i.Ks="",e=20):(er(a.slice(f))||(i.Zs=n.Zs,i.Ys=n.Ys.slice(),hr(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Gs&&!er(a.slice(f))&&(or(n.Ys[0])?i.Ys.push(n.Ys[0]):i.Zs=n.Zs),e=17,f-=1);break;case 15:if(cr===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&ur(s))e=17;else if(0===s.length){if(i.Zs=Ei,null!==r)return;e=16}else{var A=Ii(si(s),ir(i));if(0===A.Us&&"localhost"===A.Hs&&(A=Ei),i.Zs=A,null!==r)return;s.length=0,e=16}else s.push(v);break;case 16:ir(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Ws="",e=19):null===r&&35===v?(i.Ks="",e=20):cr!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(cr===v||47===v||ir(i)&&92===v||null===r&&(63===v||35===v)){var b=si(s);if(tr(b)?(hr(i),47===v||ir(i)&&92===v||i.Ys.push("")):!Ki(b)||47===v||ir(i)&&92===v?Ki(b)||("file"===i.Gs&&0===i.Ys.length&&ur(s)&&(Ei!==i.Zs&&null!==i.Zs&&(i.Zs=Ei),s[1]=58,b=si(s)),i.Ys.push(b)):i.Ys.push(""),s.length=0,"file"===i.Gs&&(cr===v||63===v||35===v))for(;i.Ys.length>1&&""===i.Ys[0];)i.Ys.shift();63===v?(i.Ws="",e=19):35===v&&(i.Ks="",e=20)}else s.push.apply(s,mi(v,_i));break;case 18:63===v?(i.Ws="",e=19):35===v?(i.Ks="",e=20):cr!==v&&(i.Ys[0]+=si(mi(v,di)));break;case 19:null===r&&35===v?(i.Ks="",e=20):cr!==v&&(i.Ws+=si(mi(v,ir(i)?yi:wi)));break;case 20:cr===v||0===v||(i.Ks+=si(mi(v,li)))}f++}return i}function lr(t,n,i,r){try{dr(t,n,i,r)}catch(t){}}var _r=function(){this.Gs="",this.js="",this.Qs="",this.Zs=null,this.$s=null,this.Ys=[],this.Ws=null,this.Ks=null,this.Js=!1};function gr(t){switch(t.Gs){case"blob":var n;try{n=dr(t.Ys[0],null)}catch(t){return Yi}return gr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Gs,r=t.Zs,e=t.$s,i+"://"+Ni(r)+(null===e?"":":"+e);case"file":default:return Yi}var i,r,e}var wr,yr,mr,kr,pr,Ar,br,Tr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Tr&&"object"==typeof i.Xs)e=n.Xs;else try{e=dr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=dr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var s=r.Ws;this.Xs=r,this.Ws=function(t){var n=new Wi;return null!==t&&Vi(n,t),n}(s),this.Ws.Xs=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Gs+":";if(null!==t.Zs?(i+="//",rr(t)&&(i+=t.js,""!==t.Qs&&(i+=":"+t.Qs),i+="@"),i+=Ni(t.Zs),null!==t.$s&&(i+=":"+t.$s)):null===t.Zs&&"file"===t.Gs&&(i+="//"),t.Js)i+=t.Ys[0];else for(var r=0,e=t.Ys;r<e.length;r++)i+="/"+e[r];return null!==t.Ws&&(i+="?"+t.Ws),n||null===t.Ks||(i+="#"+t.Ks),i}(this.Xs)},set:function(t){var n;try{n=dr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Xs=n,Hi(this.Ws);var i=this.Xs.Ws;null!==i&&Vi(this.Ws,i)}},{key:"origin",get:function(){return gr(this.Xs)}},{key:"protocol",get:function(){return this.Xs.Gs+":"},set:function(t){lr(t+":",null,this.Xs,0)}},{key:"username",get:function(){return this.Xs.js},set:function(t){ar(this.Xs)||(this.Xs.js=ki(t,gi))}},{key:"password",get:function(){return this.Xs.Qs},set:function(t){ar(this.Xs)||(this.Xs.Qs=ki(t,gi))}},{key:"host",get:function(){var t=this.Xs,n=t.Zs;if(null===n)return"";var i=t.$s,r=Ni(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Xs.Js||lr(t,null,this.Xs,10)}},{key:"hostname",get:function(){var t=this.Xs.Zs;return null===t?"":Ni(t)},set:function(t){this.Xs.Js||lr(t,null,this.Xs,11)}},{key:"port",get:function(){var t=this.Xs.$s;return null===t?"":""+t},set:function(t){ar(this.Xs)||(""===t?this.Xs.$s=null:lr(t,null,this.Xs,12))}},{key:"pathname",get:function(){var t=this.Xs.Ys;return this.Xs.Js?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Xs.Js||(this.Xs.Ys.length=0,lr(t,null,this.Xs,16))}},{key:"search",get:function(){var t=this.Xs.Ws;return null===t||""===t?"":"?"+t},set:function(t){t=Bi(t);var n=this.Xs;if(""===t)return n.Ws=null,void Hi(this.Ws);"?"===t[0]&&(t=t.slice(1)),n.Ws="",lr(t,null,n,19),Vi(this.Ws,t)}},{key:"searchParams",get:function(){return this.Ws}},{key:"hash",get:function(){var t=this.Xs.Ks;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Xs.Ks="",lr(t,null,this.Xs,20)):this.Xs.Ks=null}}])&&kn(n.prototype,i),r&&kn(n,r),t}();function Er(t){return t.document&&t.document.baseURI||t.location.href||""}function Sr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Rr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Ir(t,n){Y.Ne&&Y.Ce<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Nr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Dr(t){t.removeAttribute("title")}function Or(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function xr(t){t.src&&(t.removeAttribute("src"),t.load())}function Pr(){return void 0!==s?s.createElement("video"):void 0}function Br(){return br||(br=Pr()),br}var Lr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Mr=Br(),Ur=!(!Mr||!Mr.webkitShowPlaybackTargetPicker),Fr=function(){function t(){this.tu=void 0,this.nu=!1,this.he=Lr,this.Te=!1,this.iu=!0,this.ru=!0}var n=t.prototype;return n.eu=function(){return 0},n.su=function(t,n){return!0},n.uu=function(t){return t>=1/6*2},M(t,[{key:"ou",get:function(){return void 0===this.tu&&(this.tu=this.eu()),this.tu}},{key:"hu",get:function(){return e.devicePixelRatio||1}},{key:"au",get:function(){return Ur}},{key:"cu",get:function(){return!1}},{key:"fu",get:function(){return!0}},{key:"vu",get:function(){return Y.ae||Y.pe}},{key:"du",get:function(){return!0}},{key:"lu",get:function(){return!0}},{key:"_u",get:function(){}},{key:"gu",get:function(){return!0}}]),t}(),Hr=function(){var t=Pr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Y.me)return!1;var t=Pr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Vr=function(t){function n(n){var i;return(i=t.call(this)||this).wu=void 0,i.wu=n,i.wu&&(i.nu=i.wu.nu,i.he=i.wu.he,i.iu=Hr&&i.wu.iu),i}F(n,t);var i=n.prototype;return i.eu=function(){return this.wu?this.wu.ou:t.prototype.eu.call(this)},i.su=function(n,i){return this.wu?this.wu.su(n,i):t.prototype.su.call(this,n,i)},i.uu=function(n){return this.wu?this.wu.uu(n):t.prototype.uu.call(this,n)},M(n,[{key:"_u",get:function(){var t;return null==(t=this.wu)?void 0:t._u}},{key:"gu",get:function(){var t,n;return null==(t=null==(n=this.wu)?void 0:n.gu)||t}}]),n}(Fr),Xr=function(t){function n(n){var i;return(i=t.call(this,n)||this).nu=!0,i.Te=!0,i}return F(n,t),n}(Vr),Wr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.eu=function(){return kr.MediaSource?t.prototype.eu.call(this):1},n}(Xr),qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.su=function(n,i){return!(i.yu>1920)&&t.prototype.su.call(this,n,i)},M(n,[{key:"cu",get:function(){return Y.Ce<3}},{key:"fu",get:function(){return Y.Ce>=3}}]),n}(Vr),zr=function(t){function n(){return t.call(this)||this}return F(n,t),n}(Fr),Gr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.su=function(t,n){if(t&&t.mu&&n&&n.mu){var i=jr(t.mu,"mp4a.40.2")&&jr(n.mu,"mp4a.40.5"),r=jr(t.mu,"mp4a.40.5")&&jr(n.mu,"mp4a.40.2"),e=jr(t.mu,"mp4a.40.2")&&jr(n.mu,"mp4a.40.34"),s=jr(t.mu,"mp4a.40.34")&&jr(n.mu,"mp4a.40.2"),u=jr(t.mu,"mp4a.40.5")&&jr(n.mu,"mp4a.40.34"),o=jr(t.mu,"mp4a.40.34")&&jr(n.mu,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},M(n,[{key:"_u",get:function(){if(Y.ae)return 4096}}]),n}(zr);function jr(t,n){return t.indexOf(n)>-1}var Qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.uu=function(t){return t>=2},n}(zr),Yr=function(t){function n(){var n;return(n=t.call(this)||this).nu=Y.Fe>=11,n.iu=Y.Ue&&!(Y.pe&&Y.Fe<10),n}return F(n,t),n}(zr),Zr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),M(n,[{key:"du",get:function(){return!1}}]),n}(Vr),Jr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),M(n,[{key:"gu",get:function(){return!Y.ce||Y.Ie}}]),n}(zr),$r=function(){function n(){var n;this.ku=void 0,this.pu=new an,this.Au=new Kr,this.bu=(n=function(){if(Y.Le)return new Gr;if(Y.Oe||Y.xe)return new Qr;if(Y.Ue)return new Yr;if(Y.Se)return new Jr;return new zr}(),Y.pe?new Wr(n):Y.Te?new Xr(n):Y.Ne?new qr(n):Y.De?new Zr(n):new Vr(n)),this.Tu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ku=function(){return t.performance.now()}:this.ku=Jt}var i=n.prototype;return i.Eu=function(){lt.apply(void 0,arguments)},i.Su=function(){_t.apply(void 0,arguments)},i.Ru=function(){gt.apply(void 0,arguments)},i.Iu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.apply(void 0,[t].concat(i))},i.ur=function(t,n){return h(t,n)},i.Nu=function(t,n){return c(t,n)},i.sr=function(t){a(t)},i.Cu=function(t){f(t)},i.hs=function(t){return this.pu.hs(t)},i.Du=function(){return this.Ou.Du()},i.xu=function(){return this.Ou.xu()},i.Pu=function(){return this.Ou.Pu()},i.Bu=function(){return this.Ou.Bu()},i.Lu=function(){return this.Ou.Lu()},i.Mu=function(t,n){return this.Ou.Mu(t,n)},i.Uu=function(t){return this.Ou.Uu(t)},i.Fu=function(t,n){var i;return void 0===n&&(n=Er(kr)),i="object"!=typeof n||n instanceof Tr?n:n.href,new Tr(t,i)},i.Hu=function(n,i){if(void 0===i&&(i=Er(kr)),this.Tu){var r=rt(i)?i:i.toString();return new t.URL(n,r).href}return this.Fu(n,i).href},M(n,[{key:"Vu",get:function(){return this.Au}},{key:"Xu",get:function(){return this.bu}},{key:"Wu",get:function(){return{qu:o&&o.userAgent.match(/Android /i)?"Android":"other",zu:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Gu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"ju",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Kr=function(){function t(){}return M(t,[{key:"Qu",get:function(){return o.oscpu}},{key:"Xu",get:function(){return o.platform}},{key:"Yu",get:function(){return o.vendor}},{key:"Zu",get:function(){return o.vendorSub}}]),t}();var te=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",u=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,s=l.create(e.prototype),u=new D(r||[]);return s.Ju=function(t,n,i){var r=c;return function(e,s){if(r===_)throw new v("Generator is already running");if(r===g){if("throw"===e)throw s;return x()}for(i.method=e,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.$u=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,s)&&(A=T);var E=p.prototype=m.prototype=l.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Ju(n,t)}})}function R(t){var n;this.Ju=function(i,e){function s(){return new Promise(function(n,s){!function n(i,e,s,u){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"Ku")?Promise.resolve(c.Ku).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,e,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var s=e.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var e=-1,u=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(E),t},t.awrap=function(t){return{Ku:t}},S(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var s=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.$u=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var h=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)});function ne(){return(ne=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ie(){var t=l.create(null);return t.to=void 0,delete t.to,t}function re(){return new he}function ee(){return new ce}function se(t){var n=re();for(var i in t)Z.call(t,i)&&n.set(i,t[i]);return n}var ue,oe="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,he=oe||(ue=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ie(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ie(),this.size=0},n.keys=function(){return new ue(this.data,function(t,n){return n})},n.values=function(){return new ue(this.data,function(t,n){return t[n]})},n.entries=function(){return new ue(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ae,ce=oe||(ae=function(){function t(t,n){this.io=void 0,this.ro=void 0,this.io=t,this.ro=n}var n=t.prototype;return n.next=function(){var t=this.io.next();return t.done?t:{value:this.ro(t.value),done:!1}},t}(),function(){function t(){this.eo=re()}var n=t.prototype;return n.get=function(t){return this.eo.get(""+t)},n.set=function(t,n){return this.eo.set(""+t,n),this},n.has=function(t){return this.eo.has(""+t)},n.delete=function(t){return this.eo.delete(""+t)},n.clear=function(){this.eo.clear()},n.keys=function(){return new ae(this.eo.keys(),function(t){return Number(t)})},n.values=function(){return this.eo.values()},n.entries=function(){return new ae(this.eo.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.eo.forEach(function(n,i){t(n,Number(i))})},M(t,[{key:"size",get:function(){return this.eo.size}}]),t}());var fe,ve="urn:mpeg:dash:mp4protection:2011",de="cenc",le="sinf",_e="skd",ge="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",we="com.microsoft.playready",ye="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",me="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ke="urn:uuid:"+me,pe="com.apple.fps.1_0";!function(t){t.so="playready",t.uo="widevine",t.oo="fairplay",t.ho="clearkey",t.ao="aes128"}(fe||(fe={}));var Ae={co:fe.so,fo:we,vo:"cenc",do:"9a04f079-9840-4286-ab92-e65be0885f95",lo:ge,_o:"PlayReady"},be={co:fe.uo,fo:"com.widevine.alpha",vo:"cenc",do:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",lo:ye,_o:"Widevine"},Te={co:fe.oo,fo:pe,vo:"skd",do:me,lo:ke,_o:"FairPlay"},Ee=(fe.oo,{co:fe.ho,fo:"org.w3.clearkey",vo:"cenc",do:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",lo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",_o:"ClearKey"}),Se=[Ae,be,Te,Ee];function Re(t){return Se.filter(function(n){return n.lo===t.toLowerCase()})}function Ie(t,n,i){return t.split(n).join(i)}function Ne(t,n){return null!=t&&-1!==t.indexOf(n)}function Ce(t,n){return null!=t&&t.substr(0,n.length)===n}function De(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Oe(t,n){return t.toUpperCase()===n.toUpperCase()}function xe(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function Pe(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=xe(r,e/r.length)),r.slice(0,e)+t)}function Be(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Me(n)}var Le=16384;function Me(t){var n=t.length;if(n<=Le)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Le)i.push(String.fromCharCode.apply(String,t.slice(r,r+Le)));return i.join("")}var Ue=Y.Se&&Y.Re>=42||Y.Le&&Y.Me>=38||Y.Oe||Y.Pe||Y.He&&Y.Ve>=29;function Fe(t,n){return Ne(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ne({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ne({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function He(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ve(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Xe=function(){function t(t){this.wo=void 0,this.yo=re(),this.mo=void 0,this.wo=t}var n=t.prototype;return n.Lu=function(){return this.Uu(be)},n.xu=function(){return this.Uu(Ee)},n.Bu=function(){return this.Uu(Ae)},n.Pu=function(){return this.Uu(Te)},n.Uu=function(t){var n=t.lo,i=this.yo.get(n);if(i)return i;var r=this.Mu(t,'video/mp4; codecs="avc1.42000a"');return this.yo.set(n,r),r},n.Mu=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wo.ko(n.fo,[Fe(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.wo.ko(n.fo,[Fe(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Du=function(){return this.mo||(this.mo=this.po()),this.mo},n.po=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==pr.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ue){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.xu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function We(t,n){return ze(t.slice(),n)}function qe(t,n){var i=ze(t,n);return i!==t&&Ge(i,void 0,t.length,t),t}function ze(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){Ge(i,n,s,e);var u=i;i=e,e=u}return i}function Ge(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(e=(u=s+i)+i,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function je(t,n,i){var r=Qe(t,n,i);return-1===r?void 0:t[r]}function Qe(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Ye(t,n){var i=t.indexOf(n);return-1!==i&&(Ze(t,i),!0)}function Ze(t,n){t.splice(n,1)}function Je(t,n){return-1!==t.indexOf(n)}function $e(t){t.length=0}function Ke(t){var n;return(n=[]).concat.apply(n,t)}function ts(t,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,n(t[r],r));return i}function ns(t,n){return is.apply(this,arguments)}function is(){return(is=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=10;break}return e=n[r],t.next=5,i(e);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rs(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}var es=function(){function t(){this.Ao=!1,this.bo=!1,this.To=[],this.Eo=[]}var n=t.prototype;return n.So=function(){if(!this.Ao&&!this.bo){this.Ao=!0;for(var t=0,n=this.To.slice();t<n.length;t++){(0,n[t])()}this.Ro()}},n.Ro=function(){if(!this.bo){this.bo=!0;for(var t=0,n=this.Eo.slice();t<n.length;t++){(0,n[t])()}$e(this.To),$e(this.Eo)}},n.Io=function(t){this.bo||this.To.push(t)},n.No=function(t){this.bo||Ye(this.To,t)},n.Co=function(t){this.bo||this.Eo.push(t)},n.Do=function(t){this.bo||Ye(this.Eo,t)},t}(),ss=function(){function t(){this.Oo=new es}var n=t.prototype;return n.xo=function(){this.Oo.So()},n.Ro=function(){this.Oo.Ro()},n.Po=function(t){var n=this.Oo;if(!n.Ao)if(t.Ao)n.So();else if(!n.bo&&!t.bo){var i=function(){r(),n.So()},r=function r(){t.No(i),t.Do(r),n.No(i),n.Do(r)};t.Io(i),t.Co(r),n.Io(i),n.Co(r)}},n.Bo=function(){var n=new t,i=new t,r=n.Lo,e=i.Lo,s=this.Oo,u=function(){r.Ao&&e.bo||e.Ao&&r.bo?s.So():r.bo&&e.bo&&s.Ro()};r.Io(u),e.Io(u),r.Co(u),e.Co(u),n.Po(s),i.Po(s);return s.Co(function(){r.No(u),e.No(u),r.Do(u),e.Do(u)}),[n,i]},M(t,[{key:"Lo",get:function(){return this.Oo}}]),t}(),us=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function os(t){return t instanceof v&&"AbortError"===t.name}function hs(t){if(t&&t.Ao)throw new us}function as(t){if(os(t))throw t}function cs(t){if(!os(t))throw t}function fs(t,n){return n?new E(function(i,r){if(n.Ao)return t.catch(R),r(new us);var e=function t(){n.No(t),r(new us)};n.Io(e),t.then(function(t){n.No(e),i(t)},function(t){n.No(e),r(t)})}):t}function vs(t,n){return t.then(function(t){return n.Ro(),t},function(t){throw n.Ro(),t})}function ds(t,n){var i=new ss;return n&&i.Po(n),t(i.Lo).then(function(t){return i.xo(),t},function(t){throw i.xo(),t})}var ls=E.resolve();function _s(t){ls.then(t)}function gs(t){t.then(R,R)}function ws(t){return ys.apply(this,arguments)}function ys(){return(ys=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,E.all(n.map(function(t){return t.catch(R)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ms(t,n){return new E(function(i,r){if(void 0!==n&&n.Ao)r(new us);else{var e=T.ur(function(){void 0!==n&&n.No(s),i()},t),s=function(){T.sr(e),r(new us)};void 0!==n&&n.Io(s)}})}function ks(t,n){var i=new ss;return E.race([t,ms(n,i.Lo).then(function(){throw new v("Timeout")})]).then(function(t){return i.xo(),t},function(t){throw i.xo(),t})}function ps(t){return t&&"function"!=typeof t?t.slice():t}function As(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var bs,Ts=function(){function t(t){var n=this;this.Mo=ie(),this.Uo=void 0,this.Fo=void 0,this.Ho=function(t){n.Vo(t)},this.Fo=t||this}var n=t.prototype;return n.Xo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Wo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Wo(r,n)}},n.Wo=function(t,n){var i=this.Mo[t];i?"function"==typeof i?this.Mo[t]=[i,n]:i.push(n):this.Mo[t]=n},n.qo=function(t){if("function"==typeof t){var n=this.Uo;n?"function"==typeof n?this.Uo=[n,t]:n.push(t):this.Uo=t}},n.zo=function(){this.Mo=ie(),this.Uo=void 0},n.Vo=function(t){var n=ps(this.Mo[t.type]),i=ps(this.Uo);As(this.Fo,t,n),As(this.Fo,t,i)},n.Go=function(t,n){if("function"==typeof n)if("string"==typeof t)this.jo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.jo(r,n)}},n.jo=function(t,n){var i=this.Mo[t];i&&("function"==typeof i?i===n&&(this.Mo[t]=void 0):Ye(i,n))},n.Qo=function(t){if("string"==typeof t)this.Mo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Mo[i]=void 0}},n.Yo=function(t){var n=this.Uo;n&&("function"==typeof n?n===t&&(this.Uo=void 0):Ye(n,t))},n.Zo=function(t,n){var i=this;return new E(function(r,e){if(n&&n.Ao)return e(new us);var s=function(t){o(),r(t)},u=function(){o(),e(new us)},o=function(){i.Go(t,s),n&&n.No(u)};i.Xo(t,s),n&&n.Io(u)})},t}(),Es=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Vo=function(n){var i=this;_s(function(){t.prototype.Vo.call(i,n)})},n}(Ts),Ss=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Rs=["cenc"],Is=["cbcs","cbcs-1-9"],Ns=function(t){function n(n){var i;return(i=t.call(this,"$o")||this).Jo=n,i}return F(n,t),n}(Ss),Cs=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"Ko")||this).Jo=n,s.th=i,s.Ko=r,s.nh=e,s}return F(n,t),n}(Ss),Ds=function(t){function n(){return t.call(this,"ih")||this}return F(n,t),n}(Ss);!function(t){t.rh="eh",t.sh="uh"}(bs||(bs={}));var Os=function(t){function n(n,i){var r;return(r=t.call(this,bs.rh)||this).vo=n,r.oh=i,r}return F(n,t),n}(Ss),xs=function(t){function n(){return t.call(this,bs.sh)||this}return F(n,t),n}(Ss),Ps=new m([0]).buffer,Bs=function(){function t(){this.hh=void 0,this.hh=[]}var n=t.prototype;return n.ah=function(t){for(var n=0,i=this.hh;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.fh=function(t){for(var n=0,i=this.hh;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.vh=function(t,n){this.hh.forEach(function(n){return t(n[1],n[0])},n)},n.dh=function(t,n){this.hh.push([t,n])},n.lh=function(){$e(this.hh)},M(t,[{key:"_h",get:function(){return this.hh.length}}]),t}(),Ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ms=16383,Us=/[\t\n\f\r ]/g;function Fs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hs()}function Hs(){throw new v("Invalid base64 input")}function Vs(t){var n=t;Us.test(n)&&(n=n.replace(Us,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Hs();for(var e,s=0===r?0:4-r,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)e=Fs(n.charCodeAt(h))<<18|Fs(n.charCodeAt(h+1))<<12|Fs(n.charCodeAt(h+2))<<6|Fs(n.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=Fs(n.charCodeAt(h))<<2|Fs(n.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=Fs(n.charCodeAt(h))<<10|Fs(n.charCodeAt(h+1))<<4|Fs(n.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function Xs(t,n,i){for(var r,e,s,u=[],o=n;o<i;o+=3)u.push((r=t[o],e=t[o+1],s=t[o+2],Ls[r>>2]+Ls[(3&r)<<4|e>>4]+Ls[(15&e)<<2|s>>6]+Ls[63&s]));return u.join("")}function Ws(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=Ms)r.push(Xs(t,s,_.min(e,s+Ms)));if(1===i){var u=t[n-1];r.push(Ls[u>>2]+Ls[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Ls[o>>2]+Ls[(3&o)<<4|h>>4]+Ls[(15&h)<<2]+"=")}return r.join("")}var qs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],zs=ArrayBuffer.isView||function(t){return t&&Je(qs,J.call(t))};function Gs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function js(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Qs(t,n)}function Qs(t,n){for(var i=new m(n),r=0,e=0;e<t.length;e++){var s=t[e];i.set(s,r),r+=s.byteLength}return i}function Ys(t){return Vs(t).buffer}function Zs(t){return Ws(new m(t))}function Js(t){return Ws(Ou(t))}var $s=function(){function t(t){void 0===t&&(t=0),this.gh=t}var n=t.prototype;return n.wh=function(t){this.gh+=t},n.yh=function(t){this.gh=t},n.mh=function(){return new t(this.kh)},M(t,[{key:"kh",get:function(){return this.gh}}]),t}();function Ks(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function tu(t,n){return t>>n&63|128}function nu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ks(t),n.push(t>>12&15|224),n.push(tu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(tu(t,12)),n.push(tu(t,6))),n.push(63&t|128)):n.push(t)}function iu(t,n){if(n.kh>=t.length)throw new v("Invalid byte index");var i=255&t[n.kh];if(n.wh(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function ru(t,n){var i=n.kh;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.wh(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|iu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|iu(t,n)<<6|iu(t,n);if(s>=2048)return Ks(s),s;throw new v("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|iu(t,n)<<12|iu(t,n)<<6|iu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var eu=65279;var su=[128,64,32,16,8,4,2,1],uu=function(){function t(t){this.ph=t}return t.prototype.Ah=function(t){return ou(this.ph,t)},t}();function ou(t,n){return(t&n)===n}function hu(t,n){return ou(t,su[n])}function au(t,n){var i=t.getUint8(n.kh);return n.wh(1),i}function cu(t,n,i){t.setUint8(n.kh,i),n.wh(1)}function fu(t,n,i){var r=Uu(Vu(t),n.kh,n.kh+i);return n.wh(r.byteLength),r}function vu(t,n,i){Vu(t).set(Vu(i),n.kh),n.wh(i.byteLength)}function du(t,n,i){return n.kh+i<=t.byteLength}function lu(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=au(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+au(t,n);return r}(t,n,i)}function _u(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.kh,i);return n.wh(2),r}function gu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.kh,i,r),n.wh(2)}function wu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.kh,i);return n.wh(4),r}function yu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.kh,i,r),n.wh(4)}function mu(t,n,i){void 0===i&&(i=!1);var r=wu(t,n,i),e=wu(t,n,i),s=i?e:r,u=i?r:e;return Wt.fromBits(u,s,!0)}function ku(t,n){var i=au(t,n);if(i)return String.fromCharCode(i)}function pu(t,n){return Tu(t,n)}function Au(t,n,i){for(var r="",e=0;e<i;e++)r+=ku(t,n);return r}function bu(t,n){var i,r=au(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&au(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&au(t,n))+(63&au(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&au(t,n))+64*(63&au(t,n))+(63&au(t,n))),i}function Tu(t,n){return Eu(t,n,!0)}function Eu(t,n,i){for(var r=[];n.kh<t.byteLength;){var e=au(t,n);if(i&&!e)break;r.push(e)}return Me(r)}function Su(t,n){if(n.kh+2<=t.byteLength){var i=t.getUint8(n.kh),r=t.getUint8(n.kh+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Ru(t,n){var i=Su(t,n);return void 0!==i&&n.wh(2),Iu(t,n,!0===i)}function Iu(t,n,i){return void 0===i&&(i=!1),Nu(t,n,i,!0)}function Nu(t,n,i,r){for(var e=[];n.kh+2<=t.byteLength;){var s=_u(t,n,i);if(r&&!s)break;e.push(s)}return Me(e)}function Cu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){gu(t,n,i.charCodeAt(s),r)}}function Du(t){return Eu(Hu(t),new Gu,!1)}function Ou(t){var n=new m(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)cu(t,n,i.charCodeAt(e))}(Hu(n),new Gu,t),n}function xu(t,n){return void 0===n&&(n=!1),Nu(Hu(t),new Gu,n,!1)}function Pu(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return Cu(Hu(i),new Gu,t,n),i}function Bu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.kh+3<=t.byteLength&&239===t.getUint8(n.kh)&&187===t.getUint8(n.kh+1)&&191===t.getUint8(n.kh+2)})(t,n)&&n.wh(3);for(;n.kh<t.byteLength;){var e=bu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Be(r)}(t,n,!0)}function Lu(t){return Be(function(t,n){var i,r=[],e=new Gu;if(!n){if(!1===(i=ru(t,e)))return r;i===eu||r.push(i)}for(;!1!==(i=ru(t,e));)r.push(i);return r}(Vu(t)))}function Mu(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)nu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Uu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function Fu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Hu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vu(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function Xu(t){return t instanceof ArrayBuffer||zs(t)}function Wu(t){return t instanceof ArrayBuffer?new m(t):Vu(t)}function qu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):zu(Uu(t,n,i))}function zu(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var Gu=function(){function t(t){void 0===t&&(t=0),this.gh=t}var n=t.prototype;return n.wh=function(t){this.gh+=t},n.yh=function(t){this.gh=t},n.mh=function(){return new t(this.kh)},n.bh=function(){return new $s(this.kh<<3)},M(t,[{key:"kh",get:function(){return this.gh}}]),t}();function ju(t){var n=t,i=0,r=0;Ce(n,"0x")&&(n=n.substring(2));var e=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=g(n[0],16));i<n.length;i+=2)e[r++]=g(n.substr(i,2),16);return e}var Qu=function(){function t(){var t=this;this.Th=void 0,this.zn=void 0,this.Z=void 0,this.Th=new E(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.Eh=function(t){this.zn&&(this.zn(t),this.Ro())},n.Sh=function(t){this.Z&&(this.Z(t),this.Ro())},n.xo=function(){this.Th.catch(R),this.Sh(new us)},n.Ro=function(){this.zn=void 0,this.Z=void 0},t}();function Yu(){return new m([8,4]).buffer}function Zu(t){return Gs(t,Yu())}function Ju(t,n){return t===we?function(t){if(t.byteLength<2*$u.length)return t;if(xu(new DataView(t,0,2*$u.length),!0)===$u)return t;return n=t,Pu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zs(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var $u="<PlayReady";var Ku=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).Rh=void 0,s.Ih=void 0,s.Rh=i,s.Ih=r,s}return F(n,t),n}(on),to=function(t){function n(n,i){var r;(r=t.call(this)||this).Nh=void 0,r.Ch=!1,r.Dh=void 0,r.Oh=void 0,r.xh=function(){r.Ph()},r.Bh=function(t){r.Vo(new Cs(sn(r),t.messageType,Ju(r.Lh,t.message)))},r.Mh=function(){r.Ch=!0,r.Nh._h>0&&(r.Nh.lh(),r.Vo(new Ns(sn(r)))),r.Uh.removeEventListener("keystatuseschange",r.xh),r.Uh.removeEventListener("message",r.Bh)},r.Uh=n,r.Lh=i,r.Uh.addEventListener("keystatuseschange",r.xh),r.Uh.addEventListener("message",r.Bh),r.Nh=new Bs;var e=[];return r.Uh.closed&&e.push(E.resolve(r.Uh.closed)),r.Oh=new Qu,e.push(r.Oh.Th),r.Dh=E.race(e).then(r.Mh,r.Mh),r.Ph(),r}F(n,t);var i=n.prototype;return i.Fh=function(){if(this.Ch)return this.Dh;var t=[];return t.push(E.resolve(this.Uh.close())),t.push(ms(1e3)),this.Oh.Eh(E.race(t).catch(no)),this.Ch=!0,this.Dh},i.Hh=function(t,n,i){return E.resolve(this.Uh.generateRequest(t,n)).catch(no)},i.Vh=function(t){return E.resolve(this.Uh.load(t)).catch(no)},i.Xh=function(){return E.resolve(this.Uh.remove()).catch(no)},i.Wh=function(t){return E.resolve(this.Uh.update(t)).catch(no)},i.Ph=function(){var t=this;this.Nh.lh(),this.Uh.keyStatuses.forEach(function(n,i){t.qh(i,n)}),this.Vo(new Ns(this))},i.qh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Wu(t);if(this.Lh===we&&16===r.byteLength){var e=Hu(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.Lh===we&&"status-pending"===n&&(n="usable"),this.Nh.dh(r,n)},M(n,[{key:"zh",get:function(){return this.Dh}},{key:"Gh",get:function(){return this.Uh.expiration}},{key:"jh",get:function(){return this.Nh}},{key:"Qh",get:function(){return this.Uh.sessionId}}]),n}(Ts);function no(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new Ku(t.message,void 0,n,t)}var io=function(){function t(t,n,i){this.Yh=t,this.Zh=n,this.Jh=i}var n=t.prototype;return n.$h=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new to(this.Yh.createSession(n),this.Zh));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Kh=function(t){return E.resolve(this.Yh.setServerCertificate(t))},n.ta=function(t){return E.resolve(t.setMediaKeys(this.Yh))},n.na=function(t){return E.resolve(t.setMediaKeys(null))},t}(),ro=function(){function t(t,n,i){this.ia=t,this.Lh=n,this.ra=i}var n=t.prototype;return n.ea=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ia.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new io(n,this.Lh,this.ra));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.sa=function(){return this.ra},M(t,[{key:"Zh",get:function(){return this.ia.keySystem}}]),t}(),eo={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function so(t){return Ne(t,eo.APPLICATION_MP4)||Ne(t,eo.VIDEO_MP4)||Ne(t,eo.AUDIO_MP4)}var uo=function(){function t(t,n){this.co=void 0,this.ua=void 0,this.co=t,this.ua=n}return t.prototype.oa=function(t){for(var n=0,i=this.ua;n<i.length;n++){var r=i[n],e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function oo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new uo(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=ho(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=ho(e.substr(u));f&&s.push(f)}return new uo(r,s)}function ho(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function ao(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function co(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ha:r.ha},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return fo(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return fo(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function fo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Je(n,r.encryptionScheme))&&(!r.robustness&&t(i,ao(r.contentType))))}function vo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,s=t.audioCapabilities;e<s.length;e++){var u=s[e];if(u.contentType)return u.contentType}}function lo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function _o(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(go))||!(!t.videoCapabilities||!t.videoCapabilities.some(go))}function go(t){return!t.robustness}function wo(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(ne({},e,{robustness:n}))}return i}var yo=function(){function t(){}return t.prototype.ko=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,h,a,c,f;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ha}),r=0,e=i;r<e.length;r++)(s=e[r]).audioCapabilities&&(s.audioCapabilities=lo(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=lo(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(_o)){t.next=14;break}return u=i.map(function(t){return i="SW_SECURE_CRYPTO",ne({},n=t,{videoCapabilities:n.videoCapabilities?wo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?wo(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,u);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new ro(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new ro(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.aa=function(){return He()},t}(),mo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ch=!1,r.ca=void 0,r.fa=void 0,r.va=void 0,r.da=void 0,r.la=void 0,r.Mh=function(){r.Ch=!0,r.ca.Eh(void 0),r.la&&(r.la.removeEventListener("mskeyclose",r.Mh),r.la.removeEventListener("mskeymessage",r._a),r.la.removeEventListener("mskeyerror",r.ga),r.la.removeEventListener("mskeyadded",r.wa))},r._a=function(t){r.va&&(r.va.Eh(void 0),r.va=void 0),r.Vo(new Cs(sn(r),"license-request",zu(t.message).buffer,t.destinationURL||void 0))},r.ga=function(){var t=r.la&&r.la.error;if(t){var n=new Ku("Unknown CDM error",t.code,t.systemCode);if(r.va)r.va.Sh(n),r.va=void 0;else if(r.fa)r.fa.Sh(n),r.fa=void 0;else switch(n.Rh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ya("output-not-allowed");break;default:r.ya("internal-error")}}},r.wa=function(){r.va&&(r.ya("usable"),r.va.Eh(void 0),r.va=void 0),r.fa&&(r.ya("usable"),r.fa.Eh(void 0),r.fa=void 0)},r.ma=n,r.ka=i,r.ca=new Qu,r.da=new Bs,r}F(n,t);var i=n.prototype;return i.Hh=function(){var t=E.coroutine(te.mark(function t(n,i,r){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pa(),this.va=new Qu,this.$h(Wu(i),r),t.next=5,this.va.Th;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$h=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.Aa;return(i=n?this.ma.createSession(this.ka,t,r):this.ma.createSession(this.ka,t)).addEventListener("mskeyclose",this.Mh),i.addEventListener("mskeymessage",this._a),i.addEventListener("mskeyerror",this.ga),i.addEventListener("mskeyadded",this.wa),this.la=i,this.ya("status-pending"),i},i.Vh=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pa(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wh=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fa=new Qu,this.pa(),this.la){t.next=4;break}return t.abrupt("return",E.resolve());case 4:if(0!==(i=Wu(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.la.update(i),t.next=10,this.fa.Th;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fh=function(){return!this.Ch&&this.la&&(this.Ch=!0,this.la.close()),this.ca.Th},i.Xh=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pa(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pa=function(){if(this.Ch)throw new d("Already closing or closed.")},i.ya=function(t){this.da.lh(),this.da.dh(Ps,t),this.Vo(new Ns(this))},M(n,[{key:"Qh",get:function(){return this.la&&this.la.sessionId||""}},{key:"Gh",get:function(){return NaN}},{key:"zh",get:function(){return this.ca.Th}},{key:"jh",get:function(){return this.da}}]),n}(Ts),ko=function(){function t(t,n,i){this.ka=void 0,this.ma=t,this.Zh=n,this.Jh=i;var r=vo(i)||"video/mp4";this.ka=ao(r)}var n=t.prototype;return n.$h=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new mo(this.ma,this.ka));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Kh=function(t){return E.resolve(!1)},n.ta=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.ma):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.ma),t.removeEventListener("loadedmetadata",i)}),E.resolve()},n.na=function(t){return E.resolve()},t}(),po=function(){function t(t,n){this.Lh=t,this.ba=n}var n=t.prototype;return n.sa=function(){return this.ba},n.ea=function(){var t=new kr.MSMediaKeys(this.Lh);return E.resolve(new ko(t,this.Lh,this.ba))},M(t,[{key:"Zh",get:function(){return this.Lh}}]),t}(),Ao=function(){function t(){}return t.prototype.ko=function(t,n){try{return E.resolve(function(t,n){if(!bo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(To,Rs,t,r);if(e)return new po(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.aa=function(){return bo()},t}();function bo(){return void 0!==kr.MSMediaKeys&&"function"==typeof kr.MSMediaKeys.isTypeSupported}function To(t,n){return kr.MSMediaKeys.isTypeSupported(t,n)}var Eo,So,Ro=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ca=new Qu,e.Ta=void 0,e.da=new Bs,e.Ea=void 0,e.Sa=new Qu,e.ga=function(){var t=e.Ea&&e.Ea.error;if(t){var n=new Ku("Unknown CDM error",t.code,t.systemCode);e.Ta?(e.Ta.Sh(n),e.Ta=void 0):n.Rh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ya("output-not-allowed"):e.ya("internal-error"),e.Vo(new Ds)}},e._a=function(t){e.Ta&&(e.Ta.Eh(void 0),e.Ta=void 0),e.Vo(new Cs(sn(e),"license-request",zu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Ra=n,e.ka=i,e.Ia=r,e}F(n,t);var i=n.prototype;return i.Hh=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Na;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Io(Wu(n),r,this.Ia);return this.Ea=this.Ra.createSession(this.ka,e),this.Ea.addEventListener("webkitkeymessage",this._a,!1),this.Ea.addEventListener("webkitkeyerror",this.ga,!1),this.ya("usable"),this.Sa.Eh(this.Ea),this.Sa=new Qu,E.resolve()},i.Vh=function(t){return E.resolve(!0)},i.Wh=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Wu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Ta=new Qu,t.t0=this.Ea,t.t0){t.next=9;break}return t.next=8,this.Sa.Th;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Ta.Th;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fh=function(){var t=this.Ea;return t&&(t.removeEventListener("webkitkeymessage",this._a,!1),t.removeEventListener("webkitkeyerror",this.ga,!1),t.close()),this.Sa.xo(),this.ca.Eh(void 0),this.ca.Th},i.Xh=function(){return E.resolve(void 0)},i.ya=function(t){this.da.lh(),this.da.dh(Ps,t),this.Vo(new Ns(this))},M(n,[{key:"Qh",get:function(){return this.Ea?this.Ea.sessionId:""}},{key:"Gh",get:function(){return NaN}},{key:"zh",get:function(){return this.ca.Th}},{key:"jh",get:function(){return this.da}}]),n}(Ts);function Io(t,n,i){var r=Lu(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new Gu;return yu(o,h,e,!0),Cu(o,h,r,!0),yu(o,h,s,!0),Cu(o,h,n,!0),yu(o,h,i.byteLength,!0),vu(o,h,i),new m(u)}(Eo=n.ErrorCode||(n.ErrorCode={}))[Eo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Eo[Eo.LICENSE_ERROR=2e3]="LICENSE_ERROR",Eo[Eo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Eo[Eo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Eo[Eo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Eo[Eo.SOURCE_INVALID=3e3]="SOURCE_INVALID",Eo[Eo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Eo[Eo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Eo[Eo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Eo[Eo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Eo[Eo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Eo[Eo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Eo[Eo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Eo[Eo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Eo[Eo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Eo[Eo.NETWORK_ERROR=6e3]="NETWORK_ERROR",Eo[Eo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Eo[Eo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Eo[Eo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Eo[Eo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Eo[Eo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Eo[Eo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Eo[Eo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Eo[Eo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Eo[Eo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Eo[Eo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Eo[Eo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Eo[Eo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Eo[Eo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Eo[Eo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Eo[Eo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Eo[Eo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Eo[Eo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Eo[Eo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Eo[Eo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Eo[Eo.AD_ERROR=1e4]="AD_ERROR",Eo[Eo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Eo[Eo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(So=n.ErrorCategory||(n.ErrorCategory={}))[So.CONFIGURATION=1]="CONFIGURATION",So[So.LICENSE=2]="LICENSE",So[So.SOURCE=3]="SOURCE",So[So.MANIFEST=4]="MANIFEST",So[So.MEDIA=5]="MEDIA",So[So.NETWORK=6]="NETWORK",So[So.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",So[So.SUBTITLE=8]="SUBTITLE",So[So.VR=9]="VR",So[So.AD=10]="AD",So[So.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var No=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return F(i,t),M(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),Co=function(){function t(t,n,i){this.ka=void 0,this.Ia=void 0,this.Ra=t,this.Zh=n,this.Jh=i;var r=vo(i)||"video/mp4";this.ka=ao(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ra},i.$h=function(){var t=E.coroutine(te.mark(function t(i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ia){t.next=2;break}throw new No(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ro(this.Ra,this.ka,this.Ia));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kh=function(t){return this.Ia=Wu(t),E.resolve(!0)},i.ta=function(t){return t.webkitSetMediaKeys(this.Ra),E.resolve()},i.na=function(t){return t.webkitSetMediaKeys(null),E.resolve()},t}(),Do=function(){function t(t,n){this.Lh=t,this.ba=n}var n=t.prototype;return n.sa=function(){return this.ba},n.ea=function(){var t=new kr.WebKitMediaKeys(this.Lh);return E.resolve(new Co(t,this.Lh,this.ba))},M(t,[{key:"Zh",get:function(){return this.Lh}}]),t}(),Oo=function(){function t(){}return t.prototype.ko=function(t,n){try{return E.resolve(function(t,n){if(t!==pe)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!xo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(Po,Is,t,r);if(e)return new Do(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.aa=function(){return xo()},t}();function xo(){return void 0!==kr.WebKitMediaKeys&&"function"==typeof kr.WebKitMediaKeys.isTypeSupported}function Po(t,n){return kr.WebKitMediaKeys.isTypeSupported(t,n)}var Bo,Lo=function(){function t(t){this.Ca=t}return t.prototype.ko=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Ca;case 1:if(!(r<e.length)){t.next=14;break}return s=e[r],t.prev=3,t.next=6,s.ko(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Mo=function(t){function n(n){var i;return(i=t.call(this)||this).va=void 0,i.Ta=void 0,i.ca=void 0,i.Da=!1,i.Oa=void 0,i.xa=void 0,i.Pa=void 0,i.Ba=void 0,i.La=void 0,i.Lh=n,i.ca=new Qu,i.xa="",i.La=new Qu,i.Pa=new Bs,i}F(n,t);var i=n.prototype;return i.Ma=function(){this.Ta&&(this.ya("usable"),this.Ta.Eh(void 0),this.Ta=void 0)},i.Ua=function(t){var n=new Ku("Unknown CDM error",t.errorCode,t.systemCode);this.Ta?(this.Ta.Sh(n),this.Ta=void 0):this.va?(this.va.Sh(n),this.va=void 0):n.Rh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ya("output-restricted"):1===n.Ih?this.ya("expired"):this.ya("internal-error")},i.Fa=function(t){0!==t.message.byteLength&&(this.va&&(this.va.Eh(void 0),this.va=void 0),this.Vo(new Cs(this,"license-request",Ju(this.Lh,zu(t.message).buffer),t.defaultURL||void 0)))},i.Ha=function(t){this.Ba||(this.Ba=t,this.La.Eh(t))},i.Fh=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Da=!0,this.ca.Eh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hh=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.va=new Qu,this.Oa=Wu(i),t.t0=this.Ba,t.t0){t.next=8;break}return t.next=7,this.La.Th;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Lh,this.Oa),t.next=12,this.va.Th;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Vh=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Xh=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wh=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ta=new Qu,t.t0=this.Ba,t.t0){t.next=7;break}return t.next=6,this.La.Th;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Lh,Wu(n),this.Oa,this.Qh),t.next=11,this.Ta.Th;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Da)throw new d("Already closing or closed.")},i.ya=function(t){this.Pa.lh(),this.Pa.dh(Ps,t),this.Vo(new Ns(this))},M(n,[{key:"jh",get:function(){return this.Pa}},{key:"Qh",get:function(){return this.xa},set:function(t){this.xa=t}},{key:"zh",get:function(){return this.ca.Th}},{key:"Gh",get:function(){return NaN}}]),n}(Ts),Uo=function(){function t(t,n){var i=this;this.Ba=void 0,this.Va=re(),this.Xa=[],this.wa=function(t){var n=i.Wa(t.sessionId);n&&n.Ma()},this.qa=function(t){var n=i.Wa(t.sessionId);n&&n.Ua(t)},this.za=function(t){var n=i.Wa(t.sessionId);n&&n.Fa(t)},this.Zh=t,this.Jh=n}var n=t.prototype;return n.ta=function(t){return this.Ba=t,this.Ba.addEventListener("webkitkeyadded",this.wa),this.Ba.addEventListener("webkitkeyerror",this.qa),this.Ba.addEventListener("webkitkeymessage",this.za),this.Va.forEach(function(n,i){return n.Ha(t)}),this.Xa.forEach(function(n){return n.Ha(t)}),E.resolve()},n.na=function(t){return t.removeEventListener("webkitkeyadded",this.wa),t.removeEventListener("webkitkeyerror",this.qa),t.removeEventListener("webkitkeymessage",this.za),this.Ba=void 0,E.resolve()},n.$h=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Mo(this.Zh),this.Ba&&e.Ha(this.Ba),this.Xa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Kh=function(t){return E.resolve(!1)},n.Wa=function(t){if(t){var n=this.Va.get(t);return n||((n=this.Xa.shift())?(n.Qh=t,this.Va.set(t,n),n):void 0)}},t}(),Fo=function(){function t(t,n){this.Zh=t,this.Ga=n}var n=t.prototype;return n.ea=function(){return E.resolve(new Uo(this.Zh,this.Ga))},n.sa=function(){return this.Ga},t}(),Ho=function(){function t(){}return t.prototype.ko=function(t,n){try{return E.resolve(Vo(t,n))}catch(t){return E.reject(t)}},t.aa=function(){return Ve()},t}();function Vo(t,n){if(!Ho.aa())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(Xo,Rs,t,r);if(e)return new Fo(t,e)}throw new d("Unsupported key system configuration for "+t)}function Xo(t,n){var i=Br();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Wo(){return Bo||(Bo=function(){var t=[];Oo.aa()&&t.push(new Oo);yo.aa()&&t.push(new yo);Ao.aa()&&t.push(new Ao);Ho.aa()&&t.push(new Ho);return new Lo(t)}()),Bo}var qo=function(){function t(){this.ja=re()}var n=t.prototype;return n.lh=function(t){this.ja.delete(t)},n.Qa=function(){this.ja.clear()},n.fh=function(t){return this.ja.get(t)},n.Ya=function(t,n){this.ja.set(t,n)},t}(),zo=function(){function t(){}return t.Za=function(){return t.$e||(t.$e=Go.aa()?new Go:new qo),t.$e},t.lh=function(n){t.Za().lh(n)},t.Qa=function(){t.Za().Qa()},t.fh=function(n){return t.Za().fh(n)},t.Ya=function(n,i){t.Za().Ya(n,i)},t}();zo.$e=void 0;var Go=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.aa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.lh=function(n){t.sessionStorage.removeItem(n)},r.Qa=function(){t.sessionStorage.clear()},r.fh=function(n){return t.sessionStorage[n]},r.Ya=function(n,i){t.sessionStorage[n]=i},i}(zo);var jo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var s=t[e];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function Qo(t,n,i){var r=jo([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var Yo,Zo;!function(t){t.Ja="$a",t.Ka="tc",t.nc="contentprotectionerror",t.ic="contentprotectionsuccess",t.rc="currentsourcechange",t.ec="destroy",t.sc="durationchange",t.uc="emptied",t.rh="encrypted",t.oc="ended",t.hc="ac",t.cc="loadstart",t.fc="manifestupdate",t.vc="nosupportedrepresentationfound",t.dc="offline",t.lc="online",t._c="pause",t.gc="play",t.wc="progress",t.yc="ratechange",t.mc="representationchange",t.kc="resize",t.pc="seeked",t.Ac="seeking",t.bc="segmentnotfound",t.Tc="Ec",t.Sc="Rc",t.Ic="sourcechange",t.Nc="timeupdate",t.Cc="volumechange",t.Dc="Oc",t.xc="metricschange"}(Yo||(Yo={})),function(t){t.Pc="arraybuffer",t.Bc="json",t.Lc="stream",t.es="text"}(Zo||(Zo={}));var Jo=function(){function t(n){var i=this;this.eo=void 0,this.eo={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=$o(i),r=Ko(r);var e=i.toLowerCase();if(this.eo.hasOwnProperty(e)){var s=this.eo[e],u=s[1];s[1]=u?u+", "+r:r}else this.eo[e]=[i,r]},n.delete=function(t){var n=$o(t).toLowerCase();delete this.eo[n]},n.get=function(t){var n=$o(t).toLowerCase();return this.eo.hasOwnProperty(n)?this.eo[n][1]:null},n.has=function(t){var n=$o(t).toLowerCase();return this.eo.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=$o(i)).toLowerCase();this.eo[r]=[i,Ko(n)]},n.forEach=function(t,n){for(var i in this.eo)this.eo.hasOwnProperty(i)&&t.call(n,this.eo[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.eo)if(this.eo.hasOwnProperty(n)){var i=this.eo[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Mc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Uc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Fc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function $o(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Ko(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function nh(){}var ih=Number.isNaN||function(t){return t!=t},rh=nh;function eh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function sh(t){return t.slice()}function uh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ih(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function oh(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function hh(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ch(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ch(e,t,i)}}}return function(){return mh(void 0)}}function ah(t,n,i){var r=t[n];if(void 0!==r)return oh(r,t,i)}function ch(t,n,i){try{return mh(oh(t,n,i))}catch(t){return kh(t)}}function fh(t){return t}function vh(t){if(t=Number(t),ih(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function dh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var lh=E,_h=E.prototype.then,gh=E.resolve.bind(lh),wh=E.reject.bind(lh);function yh(t){return new lh(t)}function mh(t){return gh(t)}function kh(t){return wh(t)}function ph(t,n,i){return _h.call(t,n,i)}function Ah(t,n,i){ph(ph(t,n,i),void 0,rh)}function bh(t,n){Ah(t,n)}function Th(t,n){Ah(t,void 0,n)}function Eh(t,n,i){return ph(t,n,i)}function Sh(t){ph(t,void 0,rh)}var Rh=function(){function t(){this.Hc=0,this.Vc=0,this.Ni={Xc:[],Wc:void 0},this.qc=this.Ni,this.Hc=0,this.Vc=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Vc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.qc,i=n;16383===n.Xc.length&&(i={Xc:[],Wc:void 0}),n.Xc.push(t),i!==n&&(this.qc=i,n.Wc=i),++this.Vc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Hc,r=i+1,e=t.Xc,s=e[i];return 16384===r&&(n=t.Wc,r=0),--this.Vc,this.Hc=r,t!==n&&(this.Ni=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Hc,i=this.Ni,r=i.Xc;!(n===r.length&&void 0===i.Wc||n===r.length&&(n=0,0===(r=(i=i.Wc).Xc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Hc;return t.Xc[n]},t}();function Ih(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Nh(t,n){t.zc=!0,t.Gc=n,n.jc=t,"readable"===n.Qc?xh(t):"closed"===n.Qc?function(t){xh(t),Lh(t)}(t):Ph(t,n.Yc)}function Ch(t,n){return Hc(t.Gc,n)}function Dh(t){"readable"===t.Gc.Qc?Bh(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ph(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Gc.jc=void 0,t.Gc=void 0}function Oh(t){return new d("Cannot "+t+" a stream using a released reader")}function xh(t){t.Dh=yh(function(n,i){t.Zc=n,t.Jc=i})}function Ph(t,n){xh(t),Bh(t,n)}function Bh(t,n){Sh(t.Dh),t.Jc(n),t.Zc=void 0,t.Jc=void 0}function Lh(t){t.Zc(void 0),t.Zc=void 0,t.Jc=void 0}var Mh=th("[[CancelSteps]]"),Uh=th("[[PullSteps]]");function Fh(t,n){void 0===n&&(n=!1);var i=new Gh(t);return i.zc=n,i}function Hh(t){return yh(function(n,i){var r={zn:n,Z:i};t.jc.$c.push(r)})}function Vh(t,n,i){var r=t.jc;r.$c.shift().zn(Ih(n,i,r.zc))}function Xh(t){return t.jc.$c.length}function Wh(t){var n=t.jc;return void 0!==n&&!!jh(n)}var qh,zh,Gh=function(){function t(t){if(!1===Uc(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Fc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Nh(this,t),this.$c=new Rh}return l.defineProperty(t.prototype,"closed",{get:function(){return jh(this)?this.Dh:kh(Yh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return jh(this)?void 0===this.Gc?kh(Oh("cancel")):Ch(this,t):kh(Yh("cancel"))},t.prototype.read=function(){return jh(this)?void 0===this.Gc?kh(Oh("read from")):Qh(this):kh(Yh("read"))},t.prototype.releaseLock=function(){if(!jh(this))throw Yh("releaseLock");if(void 0!==this.Gc){if(this.$c.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Dh(this)}},t}();function jh(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"$c")}function Qh(t){var n=t.Gc;return n.Kc=!0,"closed"===n.Qc?mh(Ih(void 0,!0,t.zc)):"errored"===n.Qc?kh(n.Yc):n.tf[Uh]()}function Yh(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof th.asyncIterator&&((qh={})[th.asyncIterator]=function(){return this},zh=qh,l.defineProperty(zh,th.asyncIterator,{enumerable:!1}));var Zh={next:function(){if(!1===Jh(this))return kh($h("next"));var t=this.nf;return void 0===t.Gc?kh(Oh("iterate")):Eh(Qh(t),function(n){var i=n.done;return i&&Dh(t),Ih(n.value,i,!0)})},return:function(t){if(!1===Jh(this))return kh($h("next"));var n=this.nf;if(void 0===n.Gc)return kh(Oh("finish iterating"));if(n.$c.length>0)return kh(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.if){var i=Ch(n,t);return Dh(n),Eh(i,function(){return Ih(t,!0,!0)})}return Dh(n),mh(Ih(t,!0,!0))}};function Jh(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"nf")}function $h(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Kh(t){var n=t.Fn.shift();return t.rf-=n.size,t.rf<0&&(t.rf=0),n.value}function ta(t,n,i){if(!uh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.rf+=i}function na(t){t.Fn=new Rh,t.rf=0}void 0!==zh&&l.setPrototypeOf(Zh,zh),l.defineProperty(Zh,"next",{enumerable:!1}),l.defineProperty(Zh,"return",{enumerable:!1});var ia=th("[[AbortSteps]]"),ra=th("[[ErrorSteps]]"),ea=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ua(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=dh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Ta.prototype);var s=hh(n,"write",1,[e]),u=hh(n,"close",0,[]),o=hh(n,"abort",1,[]);Ea(t,e,function(){return ah(n,"start",[e])},s,u,o,i,r)}(this,t,r=vh(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===oa(this))throw Oa("locked");return ha(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===oa(this)?kh(Oa("abort")):!0===ha(this)?kh(new d("Cannot abort a stream that already has a writer")):aa(this,t)},t.prototype.close=function(){return!1===oa(this)?kh(Oa("close")):!0===ha(this)?kh(new d("Cannot close a stream that already has a writer")):!0===la(this)?kh(new d("Cannot close an already-closing stream")):ca(this)},t.prototype.getWriter=function(){if(!1===oa(this))throw Oa("getWriter");return sa(this)},t}();function sa(t){return new wa(t)}function ua(t){t.Qc="writable",t.Yc=void 0,t.ef=void 0,t.sf=void 0,t.uf=new Rh,t.hf=void 0,t.af=void 0,t.cf=void 0,t.ff=void 0,t.vf=!1}function oa(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"sf")}function ha(t){return void 0!==t.ef}function aa(t,n){var i=t.Qc;if("closed"===i||"errored"===i)return mh(void 0);if(void 0!==t.ff)return t.ff._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=yh(function(i,e){t.ff={_n:void 0,zn:i,Z:e,Pn:n,df:r}});return t.ff._n=e,!1===r&&va(t,n),e}function ca(t){var n=t.Qc;if("closed"===n||"errored"===n)return kh(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=yh(function(n,i){var r={zn:n,Z:i};t.af=r}),e=t.ef;return void 0!==e&&!0===t.vf&&"writable"===n&&Wa(e),ta(i=t.sf,"close",0),Ia(i),r}function fa(t,n){"writable"!==t.Qc?da(t):va(t,n)}function va(t,n){var i=t.sf;t.Qc="erroring",t.Yc=n;var r=t.ef;void 0!==r&&pa(r,n),!1===function(t){if(void 0===t.hf&&void 0===t.cf)return!1;return!0}(t)&&!0===i.lf&&da(t)}function da(t){t.Qc="errored",t.sf[ra]();var n=t.Yc;if(t.uf.forEach(function(t){t.Z(n)}),t.uf=new Rh,void 0!==t.ff){var i=t.ff;if(t.ff=void 0,!0===i.df)return i.Z(n),void _a(t);Ah(t.sf[ia](i.Pn),function(){i.zn(),_a(t)},function(n){i.Z(n),_a(t)})}else _a(t)}function la(t){return void 0!==t.af||void 0!==t.cf}function _a(t){void 0!==t.af&&(t.af.Z(t.Yc),t.af=void 0);var n=t.ef;void 0!==n&&Ma(n,t.Yc)}function ga(t,n){var i=t.ef;void 0!==i&&n!==t.vf&&(!0===n?function(t){Fa(t)}(i):Wa(i)),t.vf=n}var wa=function(){function t(t){if(!1===oa(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ha(t))throw new d("This stream has already been locked for exclusive writing by another writer");this._f=t,t.ef=this;var n,i=t.Qc;if("writable"===i)!1===la(t)&&!0===t.vf?Fa(this):Va(this),Ba(this);else if("erroring"===i)Ha(this,t.Yc),Ba(this);else if("closed"===i)Va(this),Ba(n=this),Ua(n);else{var r=t.Yc;Ha(this,r),La(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===ya(this)?kh(xa("closed")):this.Dh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ya(this))throw xa("desiredSize");if(void 0===this._f)throw Pa("desiredSize");return function(t){var n=t._f,i=n.Qc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ra(n.sf)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===ya(this)?kh(xa("ready")):this.gf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ya(this)?kh(xa("abort")):void 0===this._f?kh(Pa("abort")):function(t,n){return aa(t._f,n)}(this,t)},t.prototype.close=function(){if(!1===ya(this))return kh(xa("close"));var t=this._f;return void 0===t?kh(Pa("close")):!0===la(t)?kh(new d("Cannot close an already-closing stream")):ma(this)},t.prototype.releaseLock=function(){if(!1===ya(this))throw xa("releaseLock");void 0!==this._f&&Aa(this)},t.prototype.write=function(t){return!1===ya(this)?kh(xa("write")):void 0===this._f?kh(Pa("write to")):ba(this,t)},t}();function ya(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"_f")}function ma(t){return ca(t._f)}function ka(t,n){"pending"===t.wf?Ma(t,n):function(t,n){La(t,n)}(t,n)}function pa(t,n){"pending"===t.yf?Xa(t,n):function(t,n){Ha(t,n)}(t,n)}function Aa(t){var n=t._f,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");pa(t,i),ka(t,i),n.ef=void 0,t._f=void 0}function ba(t,n){var i=t._f,r=i.sf,e=function(t,n){try{return t.mf(n)}catch(n){return Na(t,n),1}}(r,n);if(i!==t._f)return kh(Pa("write to"));var s=i.Qc;if("errored"===s)return kh(i.Yc);if(!0===la(i)||"closed"===s)return kh(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return kh(i.Yc);var u=function(t){return yh(function(n,i){var r={zn:n,Z:i};t.uf.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{ta(t,r,i)}catch(n){return void Na(t,n)}var e=t.kf;if(!1===la(e)&&"writable"===e.Qc){var s=Ca(t);ga(e,s)}Ia(t)}(r,n,e),u}var Ta=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!eh(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"kf"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.kf.Qc&&Da(this,t)},t.prototype[ia]=function(t){var n=this.pf(t);return Sa(this),n},t.prototype[ra]=function(){na(this)},t}();function Ea(t,n,i,r,e,s,u,o){n.kf=t,t.sf=n,n.Fn=void 0,n.rf=void 0,na(n),n.lf=!1,n.mf=o,n.Af=u,n.bf=r,n.Tf=e,n.pf=s;var h=Ca(n);ga(t,h),Ah(mh(i()),function(){n.lf=!0,Ia(n)},function(i){n.lf=!0,fa(t,i)})}function Sa(t){t.bf=void 0,t.Tf=void 0,t.pf=void 0,t.mf=void 0}function Ra(t){return t.Af-t.rf}function Ia(t){var n=t.kf;if(!1!==t.lf&&void 0===n.hf)if("erroring"!==n.Qc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.kf;(function(t){t.cf=t.af,t.af=void 0})(n),Kh(t);var i=t.Tf();Sa(t),Ah(i,function(){!function(t){t.cf.zn(void 0),t.cf=void 0,"erroring"===t.Qc&&(t.Yc=void 0,void 0!==t.ff&&(t.ff.zn(),t.ff=void 0)),t.Qc="closed";var n=t.ef;void 0!==n&&Ua(n)}(n)},function(t){!function(t,n){t.cf.Z(n),t.cf=void 0,void 0!==t.ff&&(t.ff.Z(n),t.ff=void 0),fa(t,n)}(n,t)})}(t):function(t,n){var i=t.kf;(function(t){t.hf=t.uf.shift()})(i),Ah(t.bf(n),function(){!function(t){t.hf.zn(void 0),t.hf=void 0}(i);var n=i.Qc;if(Kh(t),!1===la(i)&&"writable"===n){var r=Ca(t);ga(i,r)}Ia(t)},function(n){"writable"===i.Qc&&Sa(t),function(t,n){t.hf.Z(n),t.hf=void 0,fa(t,n)}(i,n)})}(t,i.chunk)}}else da(n)}function Na(t,n){"writable"===t.kf.Qc&&Da(t,n)}function Ca(t){return Ra(t)<=0}function Da(t,n){var i=t.kf;Sa(t),va(i,n)}function Oa(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function xa(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Pa(t){return new d("Cannot "+t+" a stream using a released writer")}function Ba(t){t.Dh=yh(function(n,i){t.Zc=n,t.Jc=i,t.wf="pending"})}function La(t,n){Ba(t),Ma(t,n)}function Ma(t,n){Sh(t.Dh),t.Jc(n),t.Zc=void 0,t.Jc=void 0,t.wf="rejected"}function Ua(t){t.Zc(void 0),t.Zc=void 0,t.Jc=void 0,t.wf="resolved"}function Fa(t){t.gf=yh(function(n,i){t.Ef=n,t.Sf=i}),t.yf="pending"}function Ha(t,n){Fa(t),Xa(t,n)}function Va(t){Fa(t),Wa(t)}function Xa(t,n){Sh(t.gf),t.Sf(n),t.Ef=void 0,t.Sf=void 0,t.yf="rejected"}function Wa(t){t.Ef(void 0),t.Ef=void 0,t.Sf=void 0,t.yf="fulfilled"}function qa(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var za="undefined"!=typeof DOMException?DOMException:void 0;var Ga,ja=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(za)?za:((Ga=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Ga.prototype,"constructor",{value:Ga,writable:!0,configurable:!0}),Ga);function Qa(t,n,i,r,e,s){var u=Fh(t),o=sa(n);t.Kc=!0;var h=!1,a=mh(void 0);return yh(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new ja("Aborted","AbortError"),s=[];!1===r&&s.push(function(){return"writable"===n.Qc?aa(n,i):mh(void 0)}),!1===e&&s.push(function(){return"readable"===t.Qc?Hc(t,i):mh(void 0)}),k(function(){return E.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.Dh,function(t){!1===r?k(function(){return aa(n,t)},!0,t):p(!0,t)}),m(n,o.Dh,function(n){!1===e?k(function(){return Hc(t,n)},!0,n):p(!0,n)}),l=t,_=u.Dh,g=function(){!1===i?k(function(){return function(t){var n=t._f,i=n.Qc;return!0===la(n)||"closed"===i?mh(void 0):"errored"===i?kh(n.Yc):ma(t)}(o)}):p()},"closed"===l.Qc?g():bh(_,g),!0===la(n)||"closed"===n.Qc){var w=new d("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Hc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return ph(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Qc?i(t.Yc):Th(n,i)}function k(t,i,r){function e(){Ah(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Qc&&!1===la(n)?bh(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.Qc&&!1===la(n)?bh(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){Aa(o),Dh(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}Sh(yh(function(t,n){!function i(r){r?t():ph(!0===h?mh(!0):ph(o.gf,function(){return ph(Qh(u),function(t){return!0===t.done||(a=ph(ba(o,t.value),void 0,nh),!1)})}),i,n)}(!1)}))})}var Ya=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Za(this))throw uc("desiredSize");return rc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Za(this))throw uc("close");if(!1===ec(this))throw new d("The stream is not in a state that permits close");tc(this)},t.prototype.enqueue=function(t){if(!1===Za(this))throw uc("enqueue");if(!1===ec(this))throw new d("The stream is not in a state that permits enqueue");return nc(this,t)},t.prototype.error=function(t){if(!1===Za(this))throw uc("error");ic(this,t)},t.prototype[Mh]=function(t){na(this);var n=this.Rf(t);return Ka(this),n},t.prototype[Uh]=function(){var t=this.If;if(this.Fn.length>0){var n=Kh(this);return!0===this.Nf&&0===this.Fn.length?(Ka(this),Vc(t)):Ja(this),mh(Ih(n,!1,t.jc.zc))}var i=Hh(t);return Ja(this),i},t}();function Za(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"If")}function Ja(t){!1!==$a(t)&&(!0!==t.Cf?(t.Cf=!0,Ah(t.Df(),function(){t.Cf=!1,!0===t.Of&&(t.Of=!1,Ja(t))},function(n){ic(t,n)})):t.Of=!0)}function $a(t){var n=t.If;return!1!==ec(t)&&(!1!==t.lf&&(!0===Fc(n)&&Xh(n)>0||rc(t)>0))}function Ka(t){t.Df=void 0,t.Rf=void 0,t.mf=void 0}function tc(t){var n=t.If;t.Nf=!0,0===t.Fn.length&&(Ka(t),Vc(n))}function nc(t,n){var i=t.If;if(!0===Fc(i)&&Xh(i)>0)Vh(i,n,!1);else{var r=void 0;try{r=t.mf(n)}catch(n){throw ic(t,n),n}try{ta(t,n,r)}catch(n){throw ic(t,n),n}}Ja(t)}function ic(t,n){var i=t.If;"readable"===i.Qc&&(na(t),Ka(t),Xc(i,n))}function rc(t){var n=t.If.Qc;return"errored"===n?null:"closed"===n?0:t.Af-t.rf}function ec(t){var n=t.If.Qc;return!1===t.Nf&&"readable"===n}function sc(t,n,i,r,e,s,u){n.If=t,n.Fn=void 0,n.rf=void 0,na(n),n.lf=!1,n.Nf=!1,n.Of=!1,n.Cf=!1,n.mf=u,n.Af=s,n.Df=r,n.Rf=e,t.tf=n,Ah(mh(i()),function(){n.lf=!0,Ja(n)},function(t){ic(n,t)})}function uc(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var oc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&_.floor(t)===t},hc=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===fc(this))throw Rc("view");return this.xf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===fc(this))throw Rc("respond");if(void 0===this.Pf)throw new d("This BYOB request has been invalidated");this.xf.buffer,function(t,n){if(!1===uh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");pc(t,n)}(this.Pf,t)},t.prototype.respondWithNewView=function(t){if(!1===fc(this))throw Rc("respond");if(void 0===this.Pf)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Bf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,pc(t,n.byteLength)}(this.Pf,t)},t}(),ac=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===cc(this))throw Ic("byobRequest");if(void 0===this.Lf&&this.Bf.length>0){var t=this.Bf.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(hc.prototype);!function(t,n,i){t.Pf=n,t.xf=i}(i,this,n),this.Lf=i}return this.Lf},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===cc(this))throw Ic("desiredSize");return Ec(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===cc(this))throw Ic("close");if(!0===this.Nf)throw new d("The stream has already been closed; do not close it again!");var t=this.Mf.Qc;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Mf;if(t.rf>0)return void(t.Nf=!0);if(t.Bf.length>0){var i=t.Bf.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Tc(t,r),r}}bc(t),Vc(n)}(this)},t.prototype.enqueue=function(t){if(!1===cc(this))throw Ic("enqueue");if(!0===this.Nf)throw new d("stream is closed or draining");var n=this.Mf.Qc;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Mf,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=fh(r);if(!0===Wh(i))if(0===Xh(i))_c(t,u,e,s);else{var o=new m(u,e,s);Vh(i,o,!1)}else!0===Dc(i)?(_c(t,u,e,s),kc(t)):_c(t,u,e,s);vc(t)}(this,t)},t.prototype.error=function(t){if(!1===cc(this))throw Ic("error");Tc(this,t)},t.prototype[Mh]=function(t){this.Bf.length>0&&(this.Bf.peek().bytesFilled=0);na(this);var n=this.Rf(t);return bc(this),n},t.prototype[Uh]=function(){var t=this.Mf;if(this.rf>0){var n=this.Fn.shift();this.rf-=n.byteLength,yc(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return kh(t)}return mh(Ih(i,!1,t.jc.zc))}var r=this.Uf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return kh(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.Bf.push(s)}var u=Hh(t);return vc(this),u},t}();function cc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Mf")}function fc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Pf")}function vc(t){!1!==function(t){var n=t.Mf;if("readable"!==n.Qc)return!1;if(!0===t.Nf)return!1;if(!1===t.lf)return!1;if(!0===Wh(n)&&Xh(n)>0)return!0;if(!0===Dc(n)&&Cc(n)>0)return!0;if(Ec(t)>0)return!0;return!1}(t)&&(!0!==t.Cf?(t.Cf=!0,Ah(t.Df(),function(){t.Cf=!1,!0===t.Of&&(t.Of=!1,vc(t))},function(n){Tc(t,n)})):t.Of=!0)}function dc(t,n){var i=!1;"closed"===t.Qc&&(i=!0);var r=lc(n);"default"===n.readerType?Vh(t,r,i):function(t,n,i){var r=t.jc;r.Ff.shift().zn(Ih(n,i,r.zc))}(t,r,i)}function lc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function _c(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.rf+=r}function gc(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=_.min(t.rf,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,l=t.Fn;o>0;){var g=l.peek(),w=_.min(o,g.byteLength),y=n.byteOffset+n.bytesFilled;a=n.buffer,c=y,f=g.buffer,v=g.byteOffset,d=w,new m(a).set(new m(f,v,d),c),g.byteLength===w?l.shift():(g.byteOffset+=w,g.byteLength-=w),t.rf-=w,wc(t,w,n),o-=w}return h}function wc(t,n,i){mc(t),i.bytesFilled+=n}function yc(t){0===t.rf&&!0===t.Nf?(bc(t),Vc(t.Mf)):vc(t)}function mc(t){void 0!==t.Lf&&(t.Lf.Pf=void 0,t.Lf.xf=void 0,t.Lf=void 0)}function kc(t){for(;t.Bf.length>0;){if(0===t.rf)return;var n=t.Bf.peek();!0===gc(t,n)&&(Ac(t),dc(t.Mf,n))}}function pc(t,n){var i=t.Bf.peek();if("closed"===t.Mf.Qc){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=fh(n.buffer);var i=t.Mf;if(!0===Dc(i))for(;Cc(i)>0;)dc(i,Ac(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(wc(t,n,i),!(i.bytesFilled<i.elementSize)){Ac(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);_c(t,s,0,s.byteLength)}i.buffer=fh(i.buffer),i.bytesFilled-=r,dc(t.Mf,i),kc(t)}}(t,n,i);vc(t)}function Ac(t){var n=t.Bf.shift();return mc(t),n}function bc(t){t.Df=void 0,t.Rf=void 0}function Tc(t,n){var i=t.Mf;"readable"===i.Qc&&(!function(t){mc(t),t.Bf=new Rh}(t),na(t),bc(t),Xc(i,n))}function Ec(t){var n=t.Mf.Qc;return"errored"===n?null:"closed"===n?0:t.Af-t.rf}function Sc(t,n,i){var r=l.create(ac.prototype);var e=hh(n,"pull",0,[r]),s=hh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===oc(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Mf=t,n.Of=!1,n.Cf=!1,n.Lf=void 0,n.Fn=n.rf=void 0,na(n),n.Nf=!1,n.lf=!1,n.Af=vh(s),n.Df=r,n.Rf=e,n.Uf=u,n.Bf=new Rh,t.tf=n,Ah(mh(i()),function(){n.lf=!0,vc(n)},function(t){Tc(n,t)})}(t,r,function(){return ah(n,"start",[r])},e,s,i,u)}function Rc(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Ic(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Nc(t){return yh(function(n,i){var r={zn:n,Z:i};t.jc.Ff.push(r)})}function Cc(t){return t.jc.Ff.length}function Dc(t){var n=t.jc;return void 0!==n&&!!xc(n)}var Oc=function(){function t(t){if(!Uc(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===cc(t.tf))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Fc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Nh(this,t),this.Ff=new Rh}return l.defineProperty(t.prototype,"closed",{get:function(){return xc(this)?this.Dh:kh(Pc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return xc(this)?void 0===this.Gc?kh(Oh("cancel")):Ch(this,t):kh(Pc("cancel"))},t.prototype.read=function(t){return xc(this)?void 0===this.Gc?kh(Oh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?kh(new d("view must have non-zero byteLength")):function(t,n){var i=t.Gc;if(i.Kc=!0,"errored"===i.Qc)return kh(i.Yc);return function(t,n){var i=t.Mf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:fh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Bf.length>0)return t.Bf.push(s),Nc(i);if("closed"===i.Qc)return mh(Ih(new e(s.buffer,s.byteOffset,0),!0,i.jc.zc));if(t.rf>0){if(!0===gc(t,s)){var u=lc(s);return yc(t),mh(Ih(u,!1,i.jc.zc))}if(!0===t.Nf){var o=new d("Insufficient bytes to fill elements in the given buffer");return Tc(t,o),kh(o)}}t.Bf.push(s);var h=Nc(i);return vc(t),h}(i.tf,n)}(this,t)):kh(new d("view must be an array buffer view")):kh(Pc("read"))},t.prototype.releaseLock=function(){if(!xc(this))throw Pc("releaseLock");if(void 0!==this.Gc){if(this.Ff.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Dh(this)}},t}();function xc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Ff")}function Pc(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Bc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Mc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Sc(this,t,r=vh(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=dh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Ya.prototype),s=hh(n,"pull",0,[e]),u=hh(n,"cancel",1,[]);sc(t,e,function(){return ah(n,"start",[e])},s,u,i,r)}(this,t,r=vh(r),s)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Uc(this))throw Wc("locked");return Fc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Uc(this)?kh(Wc("cancel")):!0===Fc(this)?kh(new d("Cannot cancel a stream that already has a reader")):Hc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Uc(this))throw Wc("getReader");if(void 0===n)return Fh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Oc(t);return i.zc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Uc(this))throw Wc("pipeThrough");if(!1===oa(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Uc(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!qa(h))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Fc(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ha(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Sh(Qa(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Uc(this)?kh(Wc("pipeTo")):!1===oa(t)?kh(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||qa(u)?!0===Fc(this)?kh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ha(t)?kh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qa(this,t,r,e,s,u):kh(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Uc(this))throw Wc("tee");var t=function(t,n){var i,r,e,s,u,o=Fh(t),h=!1,a=!1,c=!1,f=yh(function(t){u=t});function v(){return!0===h?mh(void 0):(h=!0,Sh(Eh(Qh(o),function(t){if(h=!1,!0===t.done)return!1===a&&tc(e.tf),void(!1===c&&tc(s.tf));var n=t.value,i=n,r=n;!1===a&&nc(e.tf,i),!1===c&&nc(s.tf,r)})),mh(void 0))}function d(){}return e=Lc(d,v,function(n){if(a=!0,i=n,!0===c){var e=sh([i,r]),s=Hc(t,e);u(s)}return f}),s=Lc(d,v,function(n){if(c=!0,r=n,!0===a){var e=sh([i,r]),s=Hc(t,e);u(s)}return f}),Th(o.Dh,function(t){ic(e.tf,t),ic(s.tf,t)}),[e,s]}(this);return sh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Uc(this))throw Wc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Fh(t),r=l.create(Zh);return r.nf=i,r.if=Boolean(n),r}(this,i)},t}();function Lc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=l.create(Bc.prototype);return Mc(s),sc(s,l.create(Ya.prototype),t,n,i,r,e),s}function Mc(t){t.Qc="readable",t.jc=void 0,t.Yc=void 0,t.Kc=!1}function Uc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"tf")}function Fc(t){return void 0!==t.jc}function Hc(t,n){return t.Kc=!0,"closed"===t.Qc?mh(void 0):"errored"===t.Qc?kh(t.Yc):(Vc(t),Eh(t.tf[Mh](n),nh))}function Vc(t){t.Qc="closed";var n=t.jc;void 0!==n&&(jh(n)&&(n.$c.forEach(function(t){t.zn(Ih(void 0,!0,n.zc))}),n.$c=new Rh),Lh(n))}function Xc(t,n){t.Qc="errored",t.Yc=n;var i=t.jc;void 0!==i&&(jh(i)?(i.$c.forEach(function(t){t.Z(n)}),i.$c=new Rh):(i.Ff.forEach(function(t){t.Z(n)}),i.Ff=new Rh),Bh(i,n))}function Wc(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof th.asyncIterator&&l.defineProperty(Bc.prototype,th.asyncIterator,{value:Bc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var qc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),zc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=dh(r);if(void 0===e&&(e=1),e=vh(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=dh(s);void 0===u&&(u=0),u=vh(u),function(t,n,i,r,e,s){function u(){return n}t.Hf=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=l.create(ea.prototype);return ua(u),Ea(u,l.create(Ta.prototype),t,n,i,r,e,s),u}(u,function(n){return function(t,n){var i=t.Vf;if(!0===t.vf){var r=t.Xf;return Eh(r,function(){var r=t.Hf,e=r.Qc;if("erroring"===e)throw r.Yc;return tf(i,n)})}return tf(i,n)}(t,n)},function(){return function(t){var n=t.Wf,i=t.Vf,r=i.qf();return $c(i),Eh(r,function(){if("errored"===n.Qc)throw n.Yc;var t=n.tf;!0===ec(t)&&tc(t)},function(i){throw jc(t,i),n.Yc})}(t)},function(n){return function(t,n){return jc(t,n),mh(void 0)}(t,n)},i,r),t.Wf=Lc(u,function(){return function(t){return Yc(t,!1),t.Xf}(t)},function(n){return Qc(t,n),mh(void 0)},e,s),t.vf=void 0,t.Xf=void 0,t.zf=void 0,Yc(t,!0),t.Vf=void 0}(this,yh(function(t){h=t}),e,o,u,a),function(t,n){var i=l.create(Zc.prototype),r=function(t){try{return Kc(i,t),mh(void 0)}catch(t){return kh(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ch(e,n,[t,i])}}var s=hh(n,"flush",0,[i]);!function(t,n,i,r){n.Gf=t,t.Vf=n,n.jf=i,n.qf=r}(t,i,r,s)}(this,t);var c=ah(t,"start",[this.Vf]);h(c)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Gc(this))throw rf("readable");return this.Wf},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Gc(this))throw rf("writable");return this.Hf},enumerable:!0,configurable:!0}),t}();function Gc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Vf")}function jc(t,n){ic(t.Wf.tf,n),Qc(t,n)}function Qc(t,n){$c(t.Vf),Na(t.Hf.sf,n),!0===t.vf&&Yc(t,!1)}function Yc(t,n){void 0!==t.Xf&&t.zf(),t.Xf=yh(function(n){t.zf=n}),t.vf=n}var Zc=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Jc(this))throw nf("desiredSize");return rc(this.Gf.Wf.tf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Jc(this))throw nf("enqueue");Kc(this,t)},t.prototype.error=function(t){if(!1===Jc(this))throw nf("error");var n;n=t,jc(this.Gf,n)},t.prototype.terminate=function(){if(!1===Jc(this))throw nf("terminate");!function(t){var n=t.Gf,i=n.Wf.tf;!0===ec(i)&&tc(i);var r=new d("TransformStream terminated");Qc(n,r)}(this)},t}();function Jc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Gf")}function $c(t){t.jf=void 0,t.qf=void 0}function Kc(t,n){var i=t.Gf,r=i.Wf.tf;if(!1===ec(r))throw new d("Readable side is not in a state that permits enqueue");try{nc(r,n)}catch(t){throw Qc(i,t),i.Wf.Yc}(function(t){return!0!==$a(t)})(r)!==i.vf&&Yc(i,!0)}function tf(t,n){return Eh(t.jf(n),void 0,function(n){throw jc(t.Gf,n),n})}function nf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function rf(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var ef,sf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return F(n,t),M(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function uf(t){return n=[t],new Bc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function of(t){return uf(new m(t))}function hf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Qu,s=function(){u();var t=new us;r.cancel(t).catch(R),e.Sh(t)},u=function(){i&&(i.No(s),i=void 0)};i&&(i.Ao?s():i.Io(s));var o=[];return E.resolve(r.read()).then(function t(n){return n.done?(u(),E.resolve(o)):(o.push(n.value),E.resolve(r.read()).then(t))}).then(function(t){u(),e.Eh(t)},function(t){u(),e.Sh(t)}),e.Th}(t,n).then(function(t){return js(t).buffer})}function af(t,n){var i=n,r=new zc,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.xo()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(R)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(R)}),e}function cf(t){return Lu(new m(t))}function ff(t){return Mu(t).buffer}!function(t){t[t.Lc=0]="Lc",t[t.Qf=1]="Qf"}(ef||(ef={}));var vf="content-type",df="text/plain;charset=UTF-8",lf=function(){function t(){}var n=t.prototype;return n.Yf=function(t){return this.Zf(t).then(JSON.parse)},n.Jf=function(t,n){switch(t){case Zo.Pc:return this.$f(n);case Zo.Bc:return this.Yf(n);case Zo.Lc:return this.Kf();case Zo.es:return this.Zf(n);default:throw new d}},t}();function _f(t,n,i){if(t instanceof lf)return t;if(t instanceof Bc)return function(t,n){return new wf({co:ef.Lc,Kf:t,tv:gf(n)})}(t,i);var r=gf(i),e=E.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{co:Zo.es,nv:t,tv:n||df};if(t instanceof ArrayBuffer||zs(t))return{co:Zo.Pc,nv:Tf(t),tv:n};if(it(t)||K(t))return{co:Zo.Bc,nv:t,tv:n};throw new d("Unsupported BodyInit type")}return{co:Zo.es,nv:null,tv:n}}(t,r)});return new wf({co:ef.Qf,Th:e,rv:n})}function gf(t){return(t.get(vf)||"").toLowerCase()}var wf=function(t){function n(n){var i;return(i=t.call(this)||this).ev=!1,i.sv=void 0,i.uv=new Qu,i.uv.Th.catch(R),i.ov(n),i}F(n,t);var i=n.prototype;return i.hv=function(){return this.uv.Th},i.Zf=function(t){return this.av(yf,t)},i.Yf=function(t){return this.av(kf,t)},i.$f=function(t){return this.av(Af,t)},i.Kf=function(){return this.cv((t=this.sv).co===ef.Lc?t.Kf:af(t.Th.then(bf).then(of),t.rv));var t},i.av=function(t,n){if(this.ev)return E.reject(new d("Already used"));this.ev=!0;var i=t(this.sv,n);return this.uv.Eh(i.then(R)),i},i.cv=function(t){if(this.ev)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.ev=!0;var n=new zc,i=E.resolve(t.pipeTo(n.writable));return this.uv.Eh(i),n.readable},i.ov=function(t){this.sv=t,t.co===ef.Qf&&t.Th.catch(R)},i.fv=function(){if(this.ev)throw new d("Already used");var t=function(t){if(t.co===ef.Lc){var n=t.Kf.tee(),i=n[0],r=n[1];return[{co:t.co,Kf:i,tv:t.tv},{co:t.co,Kf:r,tv:t.tv}]}var e=t.rv.Bo(),s=e[0],u=e[1];return[{co:t.co,Th:t.Th,rv:s},{co:t.co,Th:t.Th,rv:u}]}(this.sv),i=t[0],r=t[1];return this.ov(i),new n(r)},M(n,[{key:"vv",get:function(){return this.ev}}]),n}(lf);function yf(t,n){return t.co===ef.Lc?hf(t.Kf,n).then(cf):(n&&t.rv.Po(n),vs(t.Th.then(mf),t.rv))}function mf(t){switch(t.co){case Zo.es:return E.resolve(t.nv||"");case Zo.Pc:return E.resolve(t.nv).then(cf);case Zo.Bc:return E.resolve(t.nv).then(JSON.stringify)}}function kf(t,n){return t.co===ef.Lc?yf(t,n).then(JSON.parse):(n&&t.rv.Po(n),vs(t.Th.then(pf),t.rv))}function pf(t){return t.co===Zo.Bc?E.resolve(t.nv):mf(t).then(JSON.parse)}function Af(t,n){return t.co===ef.Lc?hf(t.Kf,n):(n&&t.rv.Po(n),vs(t.Th.then(bf),t.rv))}function bf(t){switch(t.co){case Zo.Pc:return E.resolve(t.nv);case Zo.es:case Zo.Bc:return mf(t).then(ff)}}function Tf(t){return t instanceof ArrayBuffer?t:zu(Vu(t)).buffer}function Ef(t){return t.dv>=200&&t.dv<=299||304===t.dv}var Sf,Rf,If,Nf,Cf=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.lv,s=i._v,u=i.dv,o=i.gv,h=i.wv):(e=[],s=Zo.es,u=200,o="OK",h=!1);var a=n.yv,c=new Jo(n.lv||e),f=n._v||s,v=n.mv||(i&&i.yv===a?i.mv:a.kv),d=i?i.pv:null,l=_f(void 0!==n.Ls?n.Ls:d,n.rv||new ss,c);return(r=t.call(this,l)||this).lv=void 0,r.yv=void 0,r.mv=void 0,r._v=void 0,r.dv=void 0,r.gv=void 0,r.wv=void 0,r.lv=c,r.yv=a,r.mv=v,r._v=f,r.dv=void 0!==n.dv?n.dv:u,r.gv=void 0!==n.gv?String(n.gv):o,r.wv=n.wv||h,r}F(n,t);var i=n.prototype;return i.Ls=function(t){return this.Jf(this._v,t)},i.mh=function(){return new n({Ls:this.fv(),yv:this.yv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).pv=void 0,i.pv=n,i}F(n,t);var i=n.prototype;return i.hv=function(){return this.pv.hv()},i.Zf=function(t){return this.pv.Zf(t)},i.Yf=function(t){return this.pv.Yf(t)},i.$f=function(t){return this.pv.$f(t)},i.Kf=function(){return this.pv.Kf()},i.fv=function(){return this.pv.fv()},M(n,[{key:"vv",get:function(){return this.pv.vv}}]),n}(lf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Sf||(Sf={})),function(t){t.Av="",t.bv="manifest",t.Tv="segment",t.Ev="content-protection"}(Rf||(Rf={})),function(t){t.Av="",t.Sv="initialization-segment",t.Rv="fairplay-license",t.Iv="fairplay-certificate",t.Nv="widevine-license",t.Cv="widevine-certificate",t.Dv="playready-license",t.Ov="clearkey-license",t.xv="aes128-key"}(If||(If={})),function(t){t.Av="",t.Pv="audio",t.Bv="video",t.es="text",t.Lv="image"}(Nf||(Nf={}));var Df=function(t,n){this.nv=void 0,this.lv=void 0,this.Mv=void 0,this._v=void 0,this.Uv=void 0,this.Lo=void 0,this.co=void 0,this.Fv=void 0,this.Hv=void 0,this.kv=void 0,this.Vv=void 0,this.Xv=void 0;var i,r,e,s,u,o,h,a,c,f,v,d=t.kv;n?(i=n.nv,r=n.lv,e=n.Mv,s=n._v,u=n.Uv,o=n.Lo,h=n.co,a=n.Fv,c=n.Hv,f=n.Vv,v=n.Xv):(i=null,r={},e=Sf.GET,s=Zo.es,u=0,h=Rf.Av,a=If.Av,c=Nf.Av,f=!1),this.kv=d,this.nv=t.nv||i,this.lv=new Jo(t.lv||r),this.Mv=t.Mv||e,this._v=t._v||s,this.Uv=void 0!==t.Uv?Number(t.Uv)||0:u,this.Lo=t.Lo||o||(new ss).Lo,this.co=t.co||h,this.Fv=t.Fv||a,this.Hv=t.Hv||c,this.Vv=void 0!==t.Vv?Boolean(t.Vv):f,this.Xv=t.Xv||v},Of=function(){function t(){}var n=t.prototype;return n.yv=function(t){var n=function(t){return new Cf({Ls:null,lv:{},yv:t,mv:t.kv,_v:t._v,dv:0,gv:Yo.dc})}(new Df(t));return E.resolve(n)},n.Wv=function(t){},n.qv=function(){},t}();var xf=function(){function t(t,n){void 0===n&&(n=!0),this.zv=void 0,this.Gv=void 0,this.zv=t,this.Gv=n}var n=t.prototype;return n.yv=function(t){var n=this.jv(t);return this.zv.yv(n)},n.Wv=function(t){return this.zv.Wv(this.Qv(t))},n.jv=function(n){var i=new Df(n);if(!this.Gv){var r=t.Yv(i.kv);i=new Df({kv:r},i)}return i},n.Qv=function(n){var i=n.kv;return this.Gv||(i=t.Yv(i)),{kv:i,nv:n.nv}},t.Yv=function(t){return T.Gu&&Ce(t,"http://")?t.replace(":","s:"):t},n.qv=function(){this.zv.qv()},M(t,null,[{key:"Zv",get:function(){return t.Jv||(t.Jv=new t(new Of)),t.Jv}}]),t}();function Pf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Bf(t,n){var i=T.Hu(t);return n&&!De(i,"/")&&(i+="/"),i}xf.Jv=void 0;var Lf,Mf=/cache:(.+)?(?=&|$)/,Uf="http://webcache.googleusercontent.com/search?q=cache:";function Ff(t){if(!Ce(t,Uf))return"";var n=T.Fu(t).search.match(Mf);return n&&n.length>1?n[1]:""}function Hf(t){return T.Fu(t).hostname}!function(t){t.$v="HttpOpenError",t.Kv="HttpResponseError",t.td="HttpTimeoutError"}(Lf||(Lf={}));var Vf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).nd=void 0,e.nd=n,e}return F(n,t),M(n,[{key:"yv",get:function(){return this.nd}}]),n}(on);var Xf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.kv+". Invalid URL.",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Lf.$v}}]),n}(Vf);var Wf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.yv,null!=r?r:function(t){return"Error while loading "+t.yv.kv+", status code "+t.dv}(n),i)||this).rd=void 0,e.rd=n,e}return F(n,t),M(n,[{key:"name",get:function(){return Lf.Kv}},{key:"ed",get:function(){return this.rd}}]),n}(Vf);var qf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.kv+" timed out after "+t.Uv+" seconds."}(n),i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Lf.td}}]),n}(Vf),zf=function(t,n){return(zf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Gf(t,n){function i(){this.constructor=t}zf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var jf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Qf=function(){var t=jf.Blob;if(t)try{return new t,function(t,n){return new jf.Blob(t,n)}}catch(t){}var n,i=jf.BlobBuilder||jf.WebKitBlobBuilder||jf.MozBlobBuilder||jf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,s=t;e<s.length;e++){var u=s[e];r.append(u)}return r.getBlob(i&&i.type||"")}):null}(),Yf="function"==typeof Bc?Bc:void 0;function Zf(t){return t&&"function"==typeof t.getReader}function Jf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Zf(i)}catch(t){return!1}}var $f=function(){function t(t,n){this.jc=t,this.sd=n}return t.prototype.pull=function(t){var n=this;return this.jc.read().then(function(i){n.sd&&n.sd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.jc.cancel(t)},t}();function Kf(t,n){return n.constructor===t?n:new t(new $f(n.getReader()),{highWaterMark:0})}var tv=function(){function t(t,n){this.ud=t,this.St=n}return t.prototype.pull=function(t){return this.ud().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function nv(t,n,i){return new t(new tv(n,i),{highWaterMark:0})}var iv={searchParams:"URLSearchParams"in jf,iterable:"Symbol"in jf&&"iterator"in Symbol,blob:"FileReader"in jf&&!!Qf,formData:"FormData"in jf,arrayBuffer:"ArrayBuffer"in jf,stream:Jf(Yf),streamRequest:"Request"in jf&&"body"in jf.Request.prototype,streamResponse:"Response"in jf&&"body"in jf.Response.prototype,abort:"AbortController"in jf&&"Request"in jf&&"signal"in jf.Request.prototype,encoding:"TextEncoder"in jf&&"TextDecoder"in jf,url:"URL"in jf&&function(t){try{return new jf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in jf&&/Firefox\//.test(jf.navigator.userAgent)};function rv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function ev(t){return"string"!=typeof t&&(t=String(t)),t}function sv(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return iv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var uv=function(){function t(t){var n=this;this.eo={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return iv.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=rv(t),n=ev(n);var i=t.toLowerCase();if(this.eo.hasOwnProperty(i)){var r=this.eo[i],e=r[1];r[1]=e?e+", "+n:n}else this.eo[i]=[t,n]},t.prototype.delete=function(t){var n=rv(t).toLowerCase();delete this.eo[n]},t.prototype.get=function(t){var n=rv(t).toLowerCase();return this.eo.hasOwnProperty(n)?this.eo[n][1]:null},t.prototype.has=function(t){var n=rv(t).toLowerCase();return this.eo.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=rv(t)).toLowerCase();this.eo[i]=[t,ev(n)]},t.prototype.forEach=function(t,n){for(var i in this.eo)this.eo.hasOwnProperty(i)&&t.call(n,this.eo[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),sv(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),sv(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),sv(t)},t.prototype.asList=function(){var t=[];for(var n in this.eo)if(this.eo.hasOwnProperty(n)){var i=this.eo[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ov(){}iv.iterable&&(uv.prototype[Symbol.iterator]=uv.prototype.entries);var hv,av,cv,fv=_.min,vv=String.fromCharCode,dv=16384;function lv(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=dv){var e=fv(r+dv,n);i.push(vv.apply(null,t.slice(r,e)))}return i.join("")}(n)}function _v(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function gv(t,n){return t>>n&63|128}function wv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(_v(t),n.push(t>>12&15|224),n.push(gv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(gv(t,12)),n.push(gv(t,6))),n.push(63&t|128)):n.push(t)}function yv(){if(cv>=av)throw new v("Invalid byte index");var t=255&hv[cv];if(cv++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function mv(){var t,n;if(cv>av)throw new v("Invalid byte index");if(cv===av)return!1;if(t=255&hv[cv],cv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|yv())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|yv()<<6|yv())>=2048)return _v(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|yv()<<12|yv()<<6|yv())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var kv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function pv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Av(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function bv(t){return t&&DataView.prototype.isPrototypeOf(t)}var Tv,Ev=ArrayBuffer.isView||function(t){return t&&(kv.indexOf(l.prototype.toString.call(t))>-1||bv(t))};function Sv(t){if(t.bodyUsed)return E.reject(new d("Already used"));t.bodyUsed=!0}function Rv(t){return new E(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Iv(t){return iv.encoding?new jf.TextDecoder("utf-8").decode(new m(t)):lv(function(t){av=(hv=t).length,cv=0;for(var n,i=[];!1!==(n=mv());)i.push(n);return i}(new m(t)))}function Nv(t){return iv.encoding?(new jf.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,r=t;i<r.length;i++)wv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Cv(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,s=t.value;return e?E.resolve(i):(i.push(s),n.read().then(r))};return n.read().then(r)}function Dv(t){return Cv(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new m(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];e.set(h,s),s+=h.byteLength}return e}(t).buffer})}function Ov(t){return t.slice?t.slice(0):xv(new m(t))}function xv(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Pv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Bv(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.od===Tv.hd){if(!n.fd.tee)throw new v("could not clone ReadableStream body");var i=n.fd.tee(),r=i[0],e=i[1];return n.body=r,n.fd=r,n.vd=r,e}return n.od===Tv.Pc?Ov(n.fd):n.od===Tv.Qf?n.fd.then(Bv):n.vd}!function(t){t[t.es=0]="es",t[t.dd=1]="dd",t[t.ld=2]="ld",t[t.Pc=3]="Pc",t[t.hd=4]="hd",t[t.Qf=5]="Qf"}(Tv||(Tv={}));var Lv=function(){function t(n,i){this.bodyUsed=!1;var r,e,s,u=this;if(this.vd=n||null,n)if("string"==typeof n)this.od=Tv.es,this.fd=n;else if((s=n)&&"function"==typeof s.then)this.od=Tv.Qf,this.fd=E.resolve(n).then(function(n){return new t(n,i)}),this.fd.catch(ov);else if(iv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.od=Tv.dd,this.fd=n;else if(iv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.od=Tv.ld,this.fd=n;else if(iv.searchParams&&pv(n))this.od=Tv.es,this.fd=n.toString();else if(iv.arrayBuffer&&(Av(n)||Ev(n)))bv(n)&&(this.vd=new m((e=n).buffer,e.byteOffset,e.byteLength)),this.od=Tv.Pc,this.fd=Av(r=n)?Ov(r):xv(r);else{if(!iv.stream||!Zf(n))throw new v("unsupported BodyInit type");n=Kf(Yf,n),this.od=Tv.hd,this.fd=n,this.vd=n}else this.od=Tv.es,this.fd="";this._d="",i.has("content-type")?this._d=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this._d="text/plain;charset=UTF-8":u.od===Tv.dd&&u.fd.type?this._d=u.fd.type:iv.searchParams&&pv(n)&&(this._d="application/x-www-form-urlencoded;charset=UTF-8"),this._d&&i.set("content-type",this._d)),iv.stream&&(null==n?this.body=null:u.od===Tv.hd?this.body=u.fd:this.body=nv(Yf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Sv(this);return r||(this.od===Tv.dd?(t=this.fd,n=new FileReader,i=Rv(n),n.readAsText(t),i):this.od===Tv.Pc?E.resolve(this.fd).then(Iv):this.od===Tv.hd?Dv(this.fd).then(Iv):this.od===Tv.Qf?this.fd.then(function(t){return t.text()}):this.od===Tv.ld?E.reject(new v("could not read FormData body as text")):E.resolve(this.fd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();iv.blob&&(Lv.prototype.blob=function(){var t,n,i=Sv(this);return i||(this.od===Tv.dd?E.resolve(this.fd):this.od===Tv.Pc?E.resolve(Qf([this.fd],{type:this._d})):this.od===Tv.hd?(t=this.fd,n=this._d,Cv(t).then(function(t){return Qf(t,{type:n||""})})):this.od===Tv.Qf?this.fd.then(function(t){return t.blob()}):this.od===Tv.ld?E.reject(new v("could not read FormData body as Blob")):E.resolve(Qf([this.fd],{type:this._d})))}),iv.arrayBuffer&&(Lv.prototype.arrayBuffer=function(){var t,n,i;return this.od===Tv.Pc?Sv(this)||E.resolve(this.fd):this.od===Tv.dd?Sv(this)||(t=this.fd,n=new FileReader,i=Rv(n),n.readAsArrayBuffer(t),i):this.od===Tv.hd?Dv(this.fd):this.od===Tv.Qf?Sv(this)||this.fd.then(function(t){return t.arrayBuffer()}):this.od===Tv.ld?E.reject(new v("could not read FormData body as ArrayBuffer")):E.resolve(this.fd).then(Nv)}),iv.formData&&(Lv.prototype.formData=function(){return this.od===Tv.ld?Sv(this)||E.resolve(this.fd):this.text().then(Pv)});var Mv=[301,302,303,307,308],Uv=function(t){function n(n,i){var r=this,e=new uv((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Gf(n,t),n.prototype.clone=function(){return new n(Bv(this),{status:this.status,statusText:this.statusText,headers:new uv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Mv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Lv);var Fv,Hv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,s=r.length;e<s;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(Fv=Hv)&&Fv.__esModule&&l.prototype.hasOwnProperty.call(Fv,"default")&&Fv.default;Hv.AbortSignal;var Vv=Hv.AbortController,Xv=jf.DOMException;try{new Xv}catch(t){(Xv=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Xv.prototype.constructor=Xv}var Wv=Vv;function qv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function zv(t,n,i){return new E(function(r,e){if(n.signal.aborted)return t.catch(ov),e(Gv());var s=function(){n.signal.removeEventListener("abort",s),e(Gv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()})})}function Gv(){return new Xv("Aborted","AbortError")}var jv,Qv="moz-chunked-arraybuffer";function Yv(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(jv||(jv={}));var Zv=function(){function t(t,n){var i=this;this.gd=!1,this.nd=t,this.wd=n,this.yd=new p,this.md=new E(function(t,n){i.kd=t,i.pd=n})}return t.prototype.send=function(){var t=this;return this.Ad().then(function(n){return t.bd(n,t.wd),t.md})},t.prototype.Ad=function(){var t=this.nd;return t.od===Tv.hd?t.arrayBuffer():E.resolve(t.vd)},t.prototype.Td=function(t){this.nd.onprogress&&this.nd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Ed=function(t){this.pd(t)},t.prototype.Sd=function(){this.Ed(new d("Network request failed"))},t.prototype.Rd=function(){this.Ed(new d("Network request failed"))},t.prototype.Id=function(){this.Ed(Gv())},t.prototype.bd=function(t,n){var i=this,r=this.nd,e=this.yd,s=function(){return i.Nd()};if(r.signal.aborted)return this.Id();e.onreadystatechange=function(){if(e.readyState>=jv.HEADERS_RECEIVED&&!i.gd){var t=function(t){var n=new uv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.gd=!0,i.Cd(n)}},e.onprogress=function(t){return i.Td(t)},e.onload=function(){return i.Dd()},e.onerror=function(){return i.Sd()},e.ontimeout=function(){return i.Rd()},e.onabort=function(){return i.Id()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",s),e.onloadend=function(){r.signal.removeEventListener("abort",s)},t?e.send(t):e.send()},t.prototype.Nd=function(){this.Id(),this.yd.abort()},t}(),Jv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Od=void 0,r.xd=void 0,r}return Gf(n,t),n.prototype.Cd=function(t){var n=this;this.Od=new E(function(t,i){n.xd=t,n.Pd=i}),this.kd(new Uv(this.Od,t))},n.prototype.Dd=function(){var t=this.yd.response||this.yd.responseText;this.xd(t)},n.prototype.Ed=function(n){t.prototype.Ed.call(this,n),this.Pd&&this.Pd(n)},n}(Zv),$v=function(t){function n(n){var i=t.call(this,n,Qv)||this;return i.Bd=void 0,i.Ld=void 0,i.Md=!1,i}return Gf(n,t),n.prototype.Cd=function(t){var n=this;this.Bd=new Yf({start:function(t){n.Ld=t},cancel:function(){n.Md=!0,n.Nd()}}),this.kd(new Uv(this.Bd,t))},n.prototype.Td=function(n){this.Md||this.Ld.enqueue(new m(this.yd.response)),t.prototype.Td.call(this,n)},n.prototype.Dd=function(){this.Ld.close()},n.prototype.Ed=function(n){t.prototype.Ed.call(this,n),this.Ld&&!this.Md&&(this.Md=!0,this.Ld.error(n))},n}(Zv),Kv=function(){var t=iv.firefox&&Yv(Qv);return Kv=function(){return t},t},td=function(){var t;return t=iv.arrayBuffer&&Yv("arraybuffer")?"arraybuffer":iv.blob&&Yv("blob")?"blob":"",td=function(){return t},t};function nd(t){return(iv.stream&&Kv()?new $v(t):new Jv(t,td())).send()}var id=jf.fetch,rd=jf.Request,ed=(jf.Response,jf.AbortController);var sd=["http:","https:"];var ud=function(){try{if(iv.streamRequest){var t=new rd("about:blank",{body:"",method:"POST"}).body;if(t&&Jf(t.constructor))return t.constructor}}catch(t){}}();function od(t,n,i){var r;if(iv.stream){var e=void 0;if(iv.streamResponse){var s=t.body;e=s&&Kf(Yf,s)}else e=nv(Yf,function(){return zv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new $f(n.getReader(),i),{highWaterMark:0})}(Yf,t,function(t){var e=t.done,s=t.value;e?i=void 0===i?r:i:r+=s.byteLength,n(r,i)})}(e,i,hd(t.headers))),r=e}else{var u=zv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return E.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(u,i,hd(t.headers))),r=u}return new Uv(r,t)}function hd(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function ad(t){var n=new Wv;return t.signal&&qv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.od===Tv.hd?iv.streamRequest&&ud?E.resolve(Kf(ud,e.fd)):zv(t.arrayBuffer(),n,!1):zv(E.resolve(t.vd),n,!1),iv.abort){var s=new ed;qv(s,n.signal),r=s.signal}return i.then(function(n){return new rd(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof uv?i:new uv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return id(i).then(function(i){return od(i,n,t.onprogress)})})}var cd=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var fd=function(t){function n(i,r){var e,s,u,o,h,a,c,f,v,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,s=i.credentials,r.headers||(u=new uv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.vd||(_=i.vd,i.bodyUsed=!0)}else e=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!r.headers&&u||(u=new uv(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=e,l.headers=u,l.credentials=r.credentials||s,l.method=function(t){var n=t.toUpperCase();return cd.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Wv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return Gf(n,t),n.prototype.clone=function(){return new n(this,{body:Bv(this)})},n}(Lv),vd="function"==typeof id&&iv.stream&&iv.streamResponse&&iv.url;function dd(t,n){return new E(function(i){var r=new fd(t,n);i((vd&&function(t){try{return sd.indexOf(new jf.URL(t,jf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?ad:nd)(r))})}dd.polyfill=!0;var ld=function(){function t(t){this.ed=void 0,this.nd=void 0,this.Ud=new ss,this.rd=void 0,this.Fd=!1,this.nd=t,this.Ud.Po(t.Lo),this.ed=this.Hd()}var n=t.prototype;return n.Hd=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e,s,u,o,a,c=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.nd).Uv&&h(function(){c.Fd=!0,c.Ud.xo()},n.Uv),t.prev=2,i=dd(n.kv,{method:n.Mv,headers:n.lv.Mc(),body:n.nv,credentials:n.Vv?"include":"same-origin",signal:wd(this.Ud.Lo),onprogress:n.Xv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Xf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),os(e=this.Vd(t.t1))&&this.Ud.xo(),e;case 20:if(s=r.url||n.kv,u=0===r.status&&"file:"===(f=s,T.Fu(f).protocol)?200:r.status,o=new _d(this,r,this.Ud),a=new Cf({Ls:o,yv:n,_v:n._v,lv:new Jo(r.headers.asList()),dv:u,gv:r.statusText,mv:s}),this.rd=a,!Ef(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Wf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Vd=function(t){return os(t)?this.Fd?new qf(this.nd):new us(t.message,t):this.rd?new Wf(this.rd,t):new Xf(this.nd,t)},t}(),_d=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.Xd=void 0,e.Ud=void 0,e.uv=new Qu,e.an=n,e.Xd=i,e.Ud=r,e.uv.Th.catch(R),e}F(n,t);var i=n.prototype;return i.hv=function(){return this.uv.Th},i.Zf=function(t){return this.av(this.Xd.text(),t)},i.$f=function(t){return this.av(this.Xd.arrayBuffer(),t)},i.Kf=function(){var t=this.Xd.body;return t?this.cv(t):af(this.$f().then(of),this.Ud)},i.fv=function(){var t=this.Xd.clone(),i=this.Ud.Bo(),r=i[0],e=i[1];return this.Ud=r,new n(this.an,t,e)},i.av=function(t,n){var i=this;n&&this.Ud.Po(n);var r=E.resolve(t).catch(function(t){throw i.an.Vd(t)});return r=vs(r,this.Ud),this.uv.Eh(r.then(R)),r},i.cv=function(t){var n=this,i=new zc,r=E.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.Vd(t);throw i.writable.abort(r).catch(R),r});return r=vs(r,this.Ud),this.uv.Eh(r.then(R)),i.readable},M(n,[{key:"vv",get:function(){return this.Xd.bodyUsed}}]),n}(lf),gd="abort";function wd(t){var n=new Wv;if(t.Ao)n.abort();else if(!t.bo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(gd,i),t.No(i),t.Do(r)};n.signal.addEventListener(gd,i),t.Io(i),t.Co(r)}return n.signal}function yd(t,n,i){return new E(function(r,e){if(i&&i.Ao)return e(new us);var s=function(t){o(),r(t)},u=function(){o(),e(new us)},o=function(){t.removeEventListener(n,s),i&&i.No(u)};t.addEventListener(n,s),i&&i.Io(u)})}var md,kd,pd=function(){function t(){}var n=t.prototype;return n.yv=function(t){return new ld(t).ed},n.Wv=function(t){if(Ar&&Ar.sendBeacon)Ar.sendBeacon(t.kv,jo([t.nv],{type:t.tv}));else{var n=t.tv?{"Content-type":t.tv}:void 0;gs(this.yv(new Df({Mv:Sf.POST,kv:t.kv,nv:t.nv,lv:n})))}},n.qv=function(){},t}();md=new(function(n){function i(){for(var i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(i=n.call.apply(n,[this].concat(e))||this).Wd=void 0,i.qd=function(){if(Y.Ae)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.zd=Y.qe,i.Gd=void 0,i}return F(i,n),M(i,[{key:"Ou",get:function(){return this.Wd||(this.Wd=new Xe(Wo())),this.Wd}},{key:"jd",get:function(){return this.qd}},{key:"Qd",get:function(){return this.zd}},{key:"Yd",get:function(){return!1}},{key:"Zd",get:function(){return zo.Za()}},{key:"Jd",get:function(){return{$d:Qo}}},{key:"Kd",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"tl",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"nl",get:function(){return this.Gd||(this.Gd=new xf(new pd)),this.Gd}}]),i}($r)),T=md,function(t){t.il="sl",t.ul="ol"}(kd||(kd={}));kd.il,kd.ul;var Ad=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hl=void 0,r}return F(n,t),M(n,[{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}}]),n}(Ss);function bd(t){return Boolean(t&&t.al)}var Td,Ed=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(Ad),Sd=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(Ss),Rd=function(t){function n(n){var i;return(i=t.call(this,kd.il)||this).fl=n,i}return F(n,t),n.prototype.cl=function(){return new Id(this.fl.al)},n}(Ed),Id=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return F(n,t),n}(Sd),Nd=function(t){function n(n){var i;return(i=t.call(this,kd.ul)||this).fl=n,i}return F(n,t),n.prototype.cl=function(){return new Cd(this.fl.al)},n}(Ed),Cd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return F(n,t),n}(Sd);!function(t){t.vl="dl",t.ll="_l",t.gl="wl",t.yl="ml",t.kl="pl",t.Al="bl",t.Tl="El",t.Sl="Rl",t.Il="Wh",t.Nl="Cl",t.Dl="Ol",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Td||(Td={}));var Dd=function(t){function n(){var n;return(n=t.call(this)||this).xl=[],n.hl=void 0,n}F(n,t);var i=n.prototype;return i.Pl=function(t){return this.xl[t]},i.Bl=function(t){return!(!t||Je(this.xl,t))&&(this.xl.push(t),this.hl&&this.hl.push(t.al),t.Xo(Td.Al,this.Ho),this.Vo(new Rd(t)),!0)},i.Ll=function(t){if(!t)return!1;var n=this.xl.indexOf(t);return!(n<0)&&(Ze(this.xl,n),this.hl&&Ze(this.hl,n),t.Go(Td.Al,this.Ho),this.Vo(new Nd(t)),!0)},i.Ml=function(t){return Je(this.xl,t)},i.Ul=function(){for(var t=this.xl,n=t.length-1;n>=0;n-=1)this.Ll(t[n])},i.qv=function(){this.Ul(),this.zo()},M(n,[{key:"Fl",get:function(){return this.xl}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"Hl",get:function(){return this.xl.length}}]),n}(Ts),Od=function(t){function n(n){var i;return(i=t.call(this,Td.Al)||this).fl=n,i}return F(n,t),n.prototype.cl=function(){return new xd(this.fl.al)},n}(Ed),xd=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return F(n,t),n}(Sd),Pd=function(t){function n(){var n;return(n=t.call(this)||this).Vl=void 0,n.Xl=function(t){var i=t.fl;n.Bl(i)},n.Wl=function(t){var i=t.fl;n.Ll(i)},n}F(n,t);var i=n.prototype;return i.ql=function(t){t.Xo(kd.il,this.Xl),t.Xo(kd.ul,this.Wl)},i.zl=function(t){t.Go(kd.il,this.Xl),t.Go(kd.ul,this.Wl)},i.qv=function(){this.Vl&&this.Vl.qv(),t.prototype.qv.call(this)},M(n,[{key:"Gl",get:function(){return this.Vl},set:function(t){var n=this.Vl;if(t!==n){if(n){this.zl(n);for(var i=0,r=n.Fl;i<r.length;i++){var e=r[i];t&&t.Ml(e)||this.Ll(e)}}if(this.Vl=t,t){for(var s=[],u=0,o=t.Fl;u<o.length;u++){var h=o[u];this.Bl(h),this.jl(h)&&s.push(h)}this.ql(t);for(var a=0;a<s.length;a++){var c=s[a];c.Vo(new Od(c))}}}}}]),n}(Dd),Bd=l.freeze||I;function Ld(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Md(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Ud(t){if(it(t)){var n={};for(var i in t)Z.call(t,i)&&(n[i]=Ud(t[i]));return n}if(K(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Ud(t[e]));return r}return t}function Fd(t,n){return t===n||!(!t||!n)&&(!(!nt(t)||!nt(n))&&(tt(t)?!!tt(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Fd(t[e],n[e]))return!1;return!0}(t,n):!tt(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var s=i[e];if(!Z.call(n,s)||!Fd(t[s],n[s]))return!1}return!0}(t,n)))}function Hd(t,n){return t.constructor===n.constructor}function Vd(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],s=t[e];null!=s&&(n[e]=s)}return n}function Xd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Wd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function qd(t){var n=Wd(t);if(y(n))throw new v("Expected a valid number.");return n}function zd(t){return"string"==typeof t?t:""}function Gd(t,n){return tt(t)?function(t,n){if(!tt(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var jd=[kd.il,kd.ul,Td.Al];function Qd(t){var n,i=t.Fl.map(function(t){return t.al});return i.item=function(n){var i=0|n,r=t.Pl(i);return r&&r.al||void 0},i.addEventListener=function(t,i){n.Xo(t,i)},i.removeEventListener=function(t,i){n.Go(t,i)},n=new Es(i),t.Xo(jd,function(t){return n.Vo(t.al)}),i}function Yd(){}function Zd(t){var n,i=[Td.Il,Td.Al,Td.Nl,Td.Dl,Td.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Ql&&t.Ql.al},get enabled(){return t.Yl},set enabled(n){t.Yl=Xd(n)},get id(){return t.Zl},get uid(){return t.Jl},get kind(){return t.$l},get label(){return t.Kl},set label(n){t.Kl=zd(n)},get language(){return t.t_},get qualities(){return t.n_.al},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.n_.Fl;r<e.length;r++)for(var s=e[r],u=0;u<n.length;u++){var o=n[u];s.al===o&&i.push(s)}return i}(t,K(n)?n:[n]):[]).length>0?t.i_=i:t.i_=void 0},get targetQuality(){if(t.i_)return 1===t.i_.length?t.i_[0].al:t.i_.map(function(t){return t.al})},addEventListener:function(t,i){var r=Gd(t,zd);n.Xo(r,i)},removeEventListener:function(t,i){var r=Gd(t,zd);n.Go(r,i)}};return n=new Es(r),t.Xo(i,function(t){return n.Vo(t.al)}),l.defineProperty(r,"constructor",{value:Yd}),r}function Jd(){}function $d(t){var n=Qd(t);return l.defineProperty(n,"constructor",{value:Jd}),n}var Kd,tl,nl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.cl=function(){return $d(this)},i.jl=function(t){return t.Yl},n}(Pd);function il(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Kd.r_:case Kd.e_:case Kd.s_:return n}}else if("number"==typeof t)switch(t){case 0:return Kd.r_;case 1:return Kd.e_;case 2:return Kd.s_}return Kd.r_}function rl(){}function el(t){var n,i=[Td.Al,Td.Il,Td.vl,Td.ll,Td.gl,Td.yl,Td.kl,Td.Tl,Td.Sl],r=[tl.u_],e={get kind(){return t.$l},get label(){return t.Kl},set label(n){t.Kl=zd(n)},get language(){return t.t_},get id(){return t.Zl},get uid(){return t.Jl},get inBandMetadataTrackDispatchType(){return t.o_},get mode(){return t.h_},set mode(n){n!==Kd.s_&&n!==Kd.e_&&n!==Kd.r_||(t.h_=n)},get type(){return t.co},get readyState(){return ol(t.a_)},get cues(){return t.h_===Kd.r_?null:t.c_.al},get activeCues(){return t.h_===Kd.r_?null:t.f_.al},get src(){return t.v_||""},addEventListener:function(t,i){var r=Gd(t,zd);n.Xo(r,i)},removeEventListener:function(t,i){var r=Gd(t,zd);n.Go(r,i)}};return n=new Es(t),t.Xo(i,function(t){return n.Vo(t.al)}),t.Xo(r,function(t){return n.Vo(t)}),l.defineProperty(e,"constructor",{value:rl}),e}function sl(){}function ul(t){var n=Qd(t);return l.defineProperty(n,"constructor",{value:sl}),n}function ol(t){return t}!function(t){t.r_="disabled",t.e_="hidden",t.s_="showing"}(Kd||(Kd={})),function(t){t.u_="error"}(tl||(tl={}));var hl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.cl=function(){return ul(this)},i.jl=function(t){return t.h_===Kd.s_},n}(Pd),al=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.qo=function(n){t.prototype.qo.call(this,n)},i.Yo=function(n){t.prototype.Yo.call(this,n)},n}(Ts),cl=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(al),fl=function(t){function n(){return t.call(this,Yo.hc)||this}return F(n,t),n}(Ss),vl=function(t){function n(n){var i;return(i=t.call(this,Yo.rc)||this).currentSource=n,i}return F(n,t),n}(Ss),dl=function(){function t(){}return t.d_=function(n,i){var r=t.l_(n,i);return r?t.__(r):0},t.g_=function(){return T.Kd||"default"},t.w_=function(){return T.tl||"unknown"},t.l_=function(n,i){var r,e=null==(r=T.Zd)?void 0:r.fh(i),s=e&&JSON.parse(e);if(s&&s[n])return t.y_(s,n,i)},t.__=function(t){var n=t.availableBandwidth;return n||0},t.y_=function(n,i,r){if(!t.m_(n,i))return n[i];t.k_(n,i,r)},t.k_=function(t,n,i){var r;delete t[n],null==(r=T.Zd)||r.Ya(i,JSON.stringify(t))},t.m_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.p_=function(t,n,i,r){var e;return ne({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.A_=function(n){var i=t.g_();t.b_(i,"theoplayer-stored-network-info",n,Jt())},t.b_=function(n,i,r,e){var s,u,o=null==(s=T.Zd)?void 0:s.fh(i),h=o?JSON.parse(o):void 0,a=t.p_(h,n,r,e);null==(u=T.Zd)||u.Ya(i,JSON.stringify(a))},t.T_=function(){var n=t.g_();return t.d_(n,"theoplayer-stored-network-info")},t}();var ll,_l,gl,wl,yl,ml,kl="1ADD53F3";function pl(t){return{chromecast:function(t){return{appID:t&&t.appID?zd(t.appID):kl}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ll.AUTO;case"manual":return ll.MANUAL;case"disabled":return ll.DISABLED;default:return ll.MANUAL}}(t?t.strategy:void 0)}}function Al(t){var n,i=gl.E_;return(n=t)&&Ne(n,"mpd")&&(i=gl.S_),function(t){return!!t&&Ne(t,"m3u8")}(t)&&(i=gl.R_),i}function bl(t){switch(t){case _l.I_:case _l.N_:return t;default:return _l.C_}}function Tl(t){return!!t&&Ce(t.toLowerCase(),gl.S_)}function El(t){if(!t)return!1;var n=t.toLowerCase();return Ce(n,gl.R_)||Ce(n,gl.D_)}function Sl(t){return nt(t)&&nt(t.ssai)&&"google-dai"===t.ssai.integration}function Rl(t){return nt(t)&&rt(t.integration)&&"verizon-media"===t.integration}function Il(t){if(rt(t))return!t;if(Rl(t))return!t.id;if(Sl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Nl(t){return Boolean(nt(t)&&rt(t.src))}function Cl(t){return rt(t)||Nl(t)||Sl(t)||Rl(t)}function Dl(t){if(t){if(Cl(t))return Il(t);for(var n=0;n<t.length;n++){if(!Il(t[n]))return!1}return!0}return!0}function Ol(){return{crossOrigin:_l.C_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function xl(){return ne({},Ol(),{src:void 0,type:gl.E_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Pl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:wl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return yl.NONE;case"midroll-and-postroll":default:return yl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Xd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return wl.INSECURE;case"disabled":return wl.DISABLED;case"enabled":default:return wl.ENABLED}}(t.vpaidMode)),K(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(rt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Xd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Bl(t){if(!tt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];it(e)&&n.push(e)}return n}function Ll(t){return rt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ll||(ll={})),function(t){t.C_="",t.I_="anonymous",t.N_="use-credentials"}(_l||(_l={})),function(t){t.S_="application/dash+xml",t.R_="application/vnd.apple.mpegurl",t.D_="application/x-mpegurl",t.E_="video/mp4",t.O_="application/vnd.theoplayer.hesp+json",t.x_="application/vnd.theo.hesp+json"}(gl||(gl={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(wl||(wl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(yl||(yl={})),function(t){t[t.P_=0]="P_",t[t.B_=1]="B_",t[t.L_=2]="L_",t[t.M_=3]="M_",t[t.U_=4]="U_"}(ml||(ml={}));var Ml,Ul=function(t){function n(n,i){var r;return void 0===i&&(i=ml.P_),(r=t.call(this,Yo.uc)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),Fl=function(t){function n(n){var i;return(i=t.call(this,Yo._c)||this).currentTime=n,i}return F(n,t),n}(Ss),Hl=function(t){function n(n){var i;return(i=t.call(this,Yo.gc)||this).currentTime=n,i}return F(n,t),n}(Ss);!function(t){t.F_="canplay",t.H_="canplaythrough",t.V_="loadeddata",t.X_="loadedmetadata",t.Tl="readystatechange",t.W_="waiting",t.q_="playing"}(Ml||(Ml={}));var Vl,Xl,Wl=[Ml.F_,Ml.H_,Ml.V_,Ml.X_,Ml.Tl,Ml.W_,Ml.q_],ql=function(t){function n(n,i){var r;return void 0===i&&(i=ml.B_),(r=t.call(this,Ml.X_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),zl=function(t){function n(n){var i;return(i=t.call(this,Yo.sc)||this).duration=n,i}return F(n,t),n}(Ss),Gl=function(t){function n(n,i){var r;return(r=t.call(this,Yo.yc)||this).currentTime=n,r.playbackRate=i,r}return F(n,t),n}(Ss),jl=function(t){function n(n,i){var r;return(r=t.call(this,Yo.Nc)||this).currentTime=n,r.currentProgramDateTime=i,r}return F(n,t),n}(Ss),Ql=function(t){function n(n){var i;return(i=t.call(this,Yo.oc)||this).currentTime=n,i}return F(n,t),n}(Ss),Yl=function(t){function n(n,i){var r;return void 0===i&&(i=ml.L_),(r=t.call(this,Ml.V_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),Zl=function(t){function n(n){var i;return(i=t.call(this,Yo.Ac)||this).currentTime=n,i}return F(n,t),n}(Ss),Jl=function(t){function n(n){var i;return(i=t.call(this,Yo.pc)||this).currentTime=n,i}return F(n,t),n}(Ss),$l=function(t){function n(n,i){var r;return(r=t.call(this,Yo.Cc)||this).currentTime=n,r.volume=i,r}return F(n,t),n}(Ss),Kl=function(t){function n(n,i){var r;return void 0===i&&(i=ml.M_),(r=t.call(this,Ml.F_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),t_=function(t){function n(n,i){var r;return void 0===i&&(i=ml.U_),(r=t.call(this,Ml.H_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),n_=function(t){function n(n,i){var r;return(r=t.call(this,Ml.Tl)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),i_=function(t){function n(n){var i;return(i=t.call(this,tl.u_)||this).errorObject=n,i}return F(n,t),n.prototype.cl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ad);function r_(t){switch(t){case Vl.ALL:case Vl.CONTENT:return t;default:return Vl.NONE}}function e_(t){var n,i,r,e=Ud(t||{});return e.libraryLocation&&(e.libraryLocation=Bf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=pl(e.cast),e.ads=Pl(e.ads),e.analytics=Bl(e.analytics),e.mutedAutoplay=r_(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=rt(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Bf(t)}catch(t){return void T.Su("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function s_(t){return{z_:t.z_,G_:t.G_,j_:t.j_,ih:t.ih,Q_:t.Q_,Y_:t.Y_,Z_:t.Z_,J_:t.J_,a_:t.a_,K_:t.K_,tg:t.tg,ng:t.ng,ig:t.ig}}function u_(t,n){var i=n.ig,r=n.Y_;t.ig=i,t.Y_=r}function o_(t,n,i){if(n!==i){var r=n.z_,e=n.G_,s=n.Y_,u=n.Z_,o=n.J_,h=n.a_,a=n.K_,c=(n.ng,n.tg,n.ig),f=i.z_,v=i.G_,d=i.j_,l=i.Q_,_=i.Y_,g=i.Z_,w=i.J_,m=i.a_,k=i.K_,p=(i.ng,i.tg,i.ig);h!==ml.P_&&t.Vo(new Ul(f,m)),g&&!u?t.Vo(new Fl(f)):!g&&u&&t.Vo(new Hl(f)),m>=ml.B_&&t.Vo(new ql(f,m)),v===e||y(v)&&y(e)||t.Vo(new zl(v)),w!==o&&t.Vo(new Gl(f,w)),f!==r&&t.Vo(new jl(f,void 0)),d&&t.Vo(new Ql(f)),m>=ml.L_&&t.Vo(new Yl(f,m)),k&&!a?t.Vo(new Zl(f)):!k&&a&&t.Vo(new Jl(f)),p===c&&_===s||t.Vo(new $l(f,p)),m>=ml.M_&&t.Vo(new Kl(f,m)),m>=ml.U_&&t.Vo(new t_(f,m)),m!==h&&t.Vo(new n_(f,m)),l&&t.Vo(new i_(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Vl||(Vl={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Xl||(Xl={}));var h_,a_=400,c_=.25,f_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},v_={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},d_={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},l_={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function __(){var t;return t=T.Xu.vu?d_:T.Xu.lu?"Android"===T.Wu.qu?v_:f_:l_,T.Wu.zu?function(t){if(T.Wu.zu){var n=(a_+250)/1e3,i=_.max(n,t.windowStart),r=_.max(i+c_,t.target),e=_.max(r+c_,t.windowEnd);return{windowStart:i,target:r,windowEnd:e,maxOffset:_.max(e+c_,t.maxOffset)}}return t}(t):t}function g_(t){return{goLive:function(){return t.rg()},get isLive(){return t.eg},get currentServerLiveTime(){return t.sg},get currentLatency(){return t.ug},get latency(){return t.og},set latency(n){if(!function(t){if(!nt(t))return!1;var n=t,i=$(n.target)&&"number"==typeof n.target&&$(n.windowEnd)&&"number"==typeof n.windowEnd&&$(n.windowStart)&&"number"==typeof n.windowStart&&$(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.og=n},get manifest(){return t.hg},get metrics(){return t.ag},addEventListener:function(n,i){t.Xo(y_(n),i)},removeEventListener:function(n,i){t.Go(y_(n),i)}}}!function(t){t[t.r_=0]="r_",t[t.cg=1]="cg",t[t.fg=2]="fg"}(h_||(h_={}));var w_=["analytic","golive","nogolive","bufferedchange"];function y_(t){var n=Gd(t,zd);return(rt(n)?[n]:n).filter(function(t){return Je(w_,t)})}var m_,k_=function(t){function n(){var n;return(n=t.call(this)||this).Vl=void 0,n.hl=void 0,n.vg=__(),n.Vl=void 0,n}F(n,t);var i=n.prototype;return i.ql=function(t){t.Xo(w_,this.Ho)},i.zl=function(t){t.Go(w_,this.Ho)},i.rg=function(){var t;null==(t=this.Vl)||t.rg()},i.qv=function(){this.zo(),this.Vl&&this.zl(this.Vl),this.Vl=void 0},M(n,[{key:"Gl",get:function(){return this.Vl},set:function(t){var n=this.Vl;t!==n&&(n&&this.zl(n),t&&this.ql(t),this.Vl=t,this.Vl&&(this.Vl.og=this.vg))}},{key:"al",get:function(){return this.hl||(this.hl=g_(this)),this.hl}},{key:"sg",get:function(){var t;return null==(t=this.Vl)?void 0:t.sg}},{key:"ug",get:function(){var t;return null==(t=this.Vl)?void 0:t.ug}},{key:"eg",get:function(){return!!this.Vl&&this.Vl.eg}},{key:"og",get:function(){return this.vg},set:function(t){this.Vl&&(this.Vl.og=t),this.vg=t}},{key:"hg",get:function(){var t;return null==(t=this.Vl)?void 0:t.hg}},{key:"ag",get:function(){var t;return null==(t=this.Vl)?void 0:t.ag}}]),n}(Ts),p_=function(t){function n(n){var i;return(i=t.call(this)||this).Vl=void 0,i.dg=[],i.lg=!1,i._g=new nl,i.gg=new nl,i.wg=new hl,i.yg=new k_,i.mg=!1,i.kg(n),n.qo(i.Ho),i.Vl=n,i._g.Gl=n.pg,i.gg.Gl=n.Ag,i.wg.Gl=n.bg,i.yg.Gl=n.Tg,i}F(n,t);var i=n.prototype;return i.Eg=function(){this.Vl.Eg()},i.Sg=function(){this.Vl.Sg()},i.Rg=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ws(this.dg.map(function(t){return t.Rg()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ig=function(){return this.Vl.Ig()},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(i),t.next=3,this.Vl.Ng(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Cg=function(){return this.Gl.Cg()},i.Dg=function(){this.Gl.Dg()},i.Og=function(){this.Gl.Og()},i.xg=function(){if(!this.lg){for(var t=0,n=this.dg;t<n.length;t++){n[t].xg()}this.lg=!0}},i.Pg=function(t){this.Vl.Pg(t)},i.Bg=function(){this.Vl.Bg()},i.Lg=function(){this.Vl.Lg()},i.Mg=function(){this.Vl.Mg()},i.Ug=function(){return this.Vl.Ug()},i.Fg=function(){return this.Vl.Fg()},i.Hg=function(){for(var t=[],n=0,i=this.dg;n<i.length;n++){var r=i[n];t.push.apply(t,r.Hg())}return t},i.Vg=function(t){for(var n=!1,i=0,r=this.dg;i<r.length;i++){n=r[i].Vg(t)||n}return n},i.Vo=function(n){this.Vg(n)||t.prototype.Vo.call(this,n)},i.kg=function(t){this.dg.push(t)},i.Xg=function(t){Ye(this.dg,t)},i.Wg=function(t){if(t!==this.Vl){var n=this.Vl;n.Bg(),n.Yo(this.Ho);var i=s_(this),r=this.qg,e=this.Fg();this.Vl=t,this._g.Gl=t.pg,this.gg.Gl=t.Ag,this.wg.Gl=t.bg,this.yg.Gl=t.Tg,o_(this,i,this);var s=this.qg;s!==r&&this.Vo(new vl(s)),this.Fg()!==e&&this.Vo(new fl),t.qo(this.Ho),t.Pg(n)}},i.zg=function(){},i.qv=function(){var t=E.coroutine(te.mark(function t(){var n,i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zo(),this.Vl.Bg(),n=0,i=this.dg;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.qv();case 7:n++,t.next=3;break;case 10:this._g.qv(),this.gg.qv(),this.wg.qv(),this.yg.qv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ws(this.dg.map(function(t){return t.Ul()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"pg",get:function(){return this._g}},{key:"bg",get:function(){return this.wg}},{key:"Ag",get:function(){return this.gg}},{key:"Gg",get:function(){return this.Vl.Gg}},{key:"jg",get:function(){return this.Vl.jg},set:function(t){this.Vl.jg=t}},{key:"qg",get:function(){return this.Vl.qg}},{key:"z_",get:function(){return this.Vl.z_},set:function(t){this.Vl.z_=t}},{key:"G_",get:function(){return this.Vl.G_}},{key:"Qg",get:function(){return this.Vl.Qg}},{key:"j_",get:function(){return this.Vl.j_}},{key:"ih",get:function(){return this.Vl.ih}},{key:"Q_",get:function(){return this.Vl.Q_}},{key:"Tg",get:function(){return this.yg}},{key:"Yg",get:function(){return this.Vl.Yg}},{key:"ag",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.Zg,i+=h.Jg,r+=h.$g,e+=h.Kg,s+=h.tw,u.amountOfBufferedAudioSegments+=h.nw.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.nw.amountOfBufferedVideoSegments}return{Zg:n,Jg:i,$g:r,Kg:e,tw:s,nw:u}}(this.dg.map(function(t){return t.ag}))}},{key:"Y_",get:function(){return this.Vl.Y_},set:function(t){this.Vl.Y_=t}},{key:"iw",get:function(){return this.Vl.iw}},{key:"Z_",get:function(){return this.Vl.Z_}},{key:"J_",get:function(){return this.Vl.J_},set:function(t){this.Vl.J_=t}},{key:"rw",get:function(){return this.Vl.rw}},{key:"ew",get:function(){return this.Vl.ew},set:function(t){this.Vl.ew=t}},{key:"a_",get:function(){return this.Vl.a_}},{key:"sw",get:function(){return this.Vl.sw}},{key:"K_",get:function(){return this.Vl.K_}},{key:"tg",get:function(){return this.Vl.tg}},{key:"ng",get:function(){return this.Vl.ng}},{key:"ig",get:function(){return this.Vl.ig},set:function(t){this.Vl.ig=t}},{key:"uw",get:function(){return!1},set:function(t){}},{key:"Gl",get:function(){return this.Vl},set:function(t){this.Wg(t)}}]),n}(cl),A_=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return F(n,t),M(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(No);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(m_||(m_={}));var b_=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,v.captureStackTrace&&v.captureStackTrace(sn(s),s.constructor),s}return F(n,t),M(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function T_(t){Ld(t,"MEDIA_ERR_ABORTED",m_.ABORTED),Ld(t,"MEDIA_ERR_NETWORK",m_.NETWORK),Ld(t,"MEDIA_ERR_DECODE",m_.DECODE),Ld(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",m_.SRC_NOT_SUPPORTED),Ld(t,"MEDIA_ERR_ENCRYPTED",m_.ENCRYPTED)}function E_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new b_(m_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new b_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return m_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return m_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return m_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return m_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return m_.NETWORK;if(i===n.ErrorCategory.SOURCE)return m_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return m_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return m_.ENCRYPTED;if(i===n.ErrorCategory.AD)return m_.ADVERTISEMENT_ERROR;return m_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function S_(t){switch(t){case m_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case m_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case m_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case m_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case m_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case m_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case m_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}T_(b_),T_(b_.prototype);var R_,I_=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Bl=function(n){return t.prototype.Bl.call(this,n)},i.cl=function(){return $d(this)},n}(Dd);!function(t){t.Pv="audio",t.Bv="video",t.es="text",t.Lv="image",t.Av="unknown"}(R_||(R_={}));var N_=function(){function t(){this.ow=[],this.hl=void 0}var n=t.prototype;return n.hw=function(t){this.ow.push(t),this.hl&&this.hl.push(t.al)},n.Pl=function(t){return this.ow[t]},n.aw=function(t){return K(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Je(t,n[i]))return!1;return!0}(this.ow,t):Je(this.ow,t)},M(t,[{key:"Fl",get:function(){return this.ow}},{key:"Hl",get:function(){return this.ow.length}},{key:"al",get:function(){var t,n;return this.hl||(this.hl=((n=(t=this).Fl.map(function(t){return t.al})).item=function(n){var i=0|n,r=t.Pl(i);return r&&r.al||void 0},n)),this.hl}}]),t}(),C_=function(t){function n(n){var i;return(i=t.call(this,Td.Il)||this).fl=n,i}return F(n,t),n.prototype.cl=function(){return new D_(this.fl.al)},n}(Ed),D_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return F(n,t),n}(Sd),O_=0;function x_(){return O_++}var P_=0;var B_=0;var L_=0;function M_(){return L_++}var U_=0;var F_=function(t){function n(n){var i;return(i=t.call(this)||this).co=R_.Pv,i.cw=void 0,i.fw=void 0,i.vw=void 0,i.dw=void 0,i.lw=!1,i.ow=void 0,i.hl=void 0,i.cw=n,i.dw=x_(),i.fw=U_+++"",i.vw=n.label,i.ow=new N_,i._w(),i}F(n,t);var i=n.prototype;return i.gw=function(t){this.Yl=t},i._w=function(){this.Yl=this.ww},M(n,[{key:"Ql",get:function(){}},{key:"Yl",get:function(){return this.lw},set:function(t){this.lw!==t&&(this.lw=t,this.ww=t,this.Vo(new Od(this)))}},{key:"ww",get:function(){return!!this.cw.enabled},set:function(t){this.cw.enabled=t}},{key:"al",get:function(){return this.hl||(this.hl=Zd(this)),this.hl}},{key:"Zl",get:function(){return this.fw}},{key:"Jl",get:function(){return this.dw}},{key:"$l",get:function(){return this.cw.kind}},{key:"Kl",get:function(){return this.vw},set:function(t){t!==this.vw&&(this.vw=t,this.Vo(new C_(this)))}},{key:"t_",get:function(){return this.cw.language}},{key:"h_",get:function(){return this.Yl?"enabled":"disabled"}},{key:"yw",get:function(){return this.cw}},{key:"n_",get:function(){return this.ow}},{key:"i_",get:function(){},set:function(t){}}]),n}(Ts),H_=0;var V_,X_,W_,q_=function(t){function n(n){var i;return(i=t.call(this)||this).co=R_.Bv,i.cw=void 0,i.fw=void 0,i.dw=void 0,i.lw=!1,i.ow=void 0,i.vw=void 0,i.hl=void 0,i.cw=n,i.dw=x_(),i.fw=H_+++"",i.ow=new N_,i.vw=n.label,i._w(),i}F(n,t);var i=n.prototype;return i._w=function(){this.Yl=this.ww},i.gw=function(t){this.Yl=t},M(n,[{key:"Ql",get:function(){}},{key:"Yl",get:function(){return this.lw},set:function(t){this.lw!==t&&(this.lw=t,this.ww=t,this.Vo(new Od(this)))}},{key:"ww",get:function(){return!!this.cw.selected},set:function(t){this.cw.selected=t}},{key:"al",get:function(){return this.hl||(this.hl=Zd(this)),this.hl}},{key:"Zl",get:function(){return this.fw}},{key:"Jl",get:function(){return this.dw}},{key:"$l",get:function(){return"main"}},{key:"Kl",get:function(){return this.vw},set:function(t){t!==this.vw&&(this.vw=t,this.Vo(new C_(this)))}},{key:"t_",get:function(){return this.cw.language}},{key:"h_",get:function(){return this.Yl?"enabled":"disabled"}},{key:"yw",get:function(){return this.cw}},{key:"n_",get:function(){return this.ow}},{key:"i_",get:function(){},set:function(t){}}]),n}(Ts),z_=function(t){function n(n){var i;return(i=t.call(this,Yo.Ja)||this).Yg=n,i}return F(n,t),n}(Ss);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(V_||(V_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(X_||(X_={})),function(t){t.mw="cue",t.kw="region",t.pw="stylesheet"}(W_||(W_={}));var G_,j_,Q_={"line-left":"start",center:"middle","line-right":"end"},Y_={start:"line-left",middle:"center",end:"line-right"};function Z_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function J_(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:w(i),y(e)?r:e;var i,r,e}!function(t){t.Aw="bw",t.Tw="Ew",t.Il="Wh"}(G_||(G_={})),function(t){t.Aw="enter",t.Tw="exit",t.Il="update"}(j_||(j_={}));var $_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Sw=i,r}return F(n,t),n}(Ed),K_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return F(n,t),n}(Sd);function tg(t){var n,i=[G_.Aw,G_.Tw,G_.Il],r={get track(){return t.fl.al},get id(){return t.Zl},get uid(){return t.Jl},get startTime(){return t.Rw},get endTime(){return t.Iw},get content(){return t.Nw},addEventListener:function(t,i){var r=Gd(t,zd);n.Xo(r,i)},removeEventListener:function(t,i){var r=Gd(t,zd);n.Go(r,i)}};return n=new Es(r),t.Xo(i,function(t){return n.Vo(t.al)}),r}function ng(){}function ig(t){return Md(tg(t),{get align(){return t.Cw},get line(){return t.Dw},get lineAlign(){return t.Ow},get position(){return t.xw},get positionAlign(){return t.Pw},get region(){return t.Bw?t.Bw.al:null},get size(){return t._h},get snapToLines(){return t.Lw},get text(){return t.Nw},get vertical(){return t.Mw}})}var rg=.02;function eg(t,n){return Gt(t.Rw,n.Rw,rg)&&Gt(t.Iw,n.Iw,rg)&&t.Zl===n.Zl}var sg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).dw=void 0,u.fw=void 0,u.Uw=void 0,u.Fw=void 0,u.hl=void 0,u.Hw=void 0,u.Vw=!1,u.Xw=void 0,u.Ww=void 0,u.qw="",u.zw=-1,u.dw=M_(),u.Uw=n,u.Fw=i,u.Xw=r,u.Ww=Boolean(e),u.fw=null!=s?s:"",u}F(n,t);var i=n.prototype;return i.cl=function(){return tg(this)},i.Gw=function(t){return this===t||Hd(this,t)&&eg(this,t)},i.qv=function(){this.zo()},M(n,[{key:"Rw",get:function(){return this.Uw},set:function(t){this.Uw=t}},{key:"Iw",get:function(){return this.Fw},set:function(t){this.Fw=t}},{key:"Zl",get:function(){return this.fw}},{key:"Jl",get:function(){return this.dw}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"jw",get:function(){return this.Vw},set:function(t){this.Vw=t}},{key:"fl",get:function(){return this.Hw},set:function(t){this.Hw=t}},{key:"Nw",get:function(){return this.Xw},set:function(t){this.Xw=t}},{key:"Qw",get:function(){return this.qw},set:function(t){this.qw=t}},{key:"Yw",get:function(){return this.Ww},set:function(t){this.Ww=t}}]),n}(Ts);function ug(t,n){return t.Nw===n.Nw&&t.Dw===n.Dw&&t.Ow===n.Ow&&t.xw===n.xw&&t.Pw===n.Pw&&t.Bw===n.Bw&&t.Lw===n.Lw&&t._h===n._h&&t.Cw===n.Cw&&t.Mw===n.Mw}var og=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).Dw="auto",u.Ow="start",u.xw="auto",u.Pw="auto",u.Bw=void 0,u.Lw=!0,u._h=100,u.Cw="center",u.Mw="",u}return F(n,t),n.prototype.Gw=function(n){return this===n||Hd(this,n)&&t.prototype.Gw.call(this,n)&&ug(this,n)},M(n,[{key:"al",get:function(){return this.hl||(this.hl=ig(this)),this.hl}},{key:"co",get:function(){return W_.mw}}]),n}(sg);function hg(t){var n="number"==typeof t.Dw?t.Dw:w(t.Dw);return y(n)||t.Lw||!(n<0||n>100)?y(n)?t.Lw?-1:100:n:100}function ag(t){return J_(t.xw,t.Cw)}function cg(t){return Z_(t.Pw,t.Cw)}function fg(t){var n=100,i=cg(t),r=ag(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t._h<n?t._h:n}function vg(t){return{get id(){return t.Zl},get identifier(){return t.Zl},get lines(){return t.Zw},get regionAnchorX(){return t.Jw},get regionAnchorY(){return t.$w},get scrollValue(){return t.Kw},get viewportAnchorX(){return t.ty},get viewportAnchorY(){return t.ny},get width(){return t.yu}}}var dg,lg=function(){function t(t,n,i,r,e,s,u,o){this.hl=void 0,this.Zl=t,this.yu=n,this.Zw=i,this.Jw=r,this.$w=e,this.ty=s,this.ny=u,this.Kw=o}return M(t,[{key:"al",get:function(){return this.hl||(this.hl=vg(this)),this.hl}},{key:"co",get:function(){return W_.kw}}]),t}();!function(t){t[t.iy=0]="iy",t[t.ey=1]="ey",t[t.sy=-1]="sy"}(dg||(dg={}));var _g=function(t,n){return(0|t)-(0|n)},gg=function(t,n){return t===n?dg.iy:t<n?dg.sy:t>n?dg.ey:y(t)?y(n)?dg.iy:dg.ey:dg.sy};function wg(t,n,i){return Gt(t,n,i)?dg.iy:gg(t,n)}var yg=function(t,n){return jt(t,n)?dg.iy:gg(t,n)};var mg=function(){function t(){}var n=t.prototype;return n.uy=function(t){return this.oy()*t},n.hy=function(t){return this.ay(t)>0},n.vy=function(t){return this.ay(t)>=0},n.ly=function(t,n){return this.gy(t)._y(n)},n.Gw=function(t){return 0===this.ay(t)},n.wy=function(t){return this.ay(t)<0},n._y=function(t){return this.ay(t)<=0},n.yy=function(){return this.my()?this.ky():this},n.py=function(t){return this.hw(t.ky())},n.gy=function(t){return this.py(t).yy()},t}();function kg(t,n){return t.Ay()?n.Ay()?dg.iy:dg.ey:n.Ay()?dg.sy:t.by()?n.by()&&t.my()===n.my()?dg.iy:t.my()?dg.sy:dg.ey:n.my()?dg.ey:dg.sy}var pg=function(){function t(t,n){this.Ty=void 0,this.Ey=void 0,this.Ty=t,this.Ey=n}t.Sy=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Ry=function(n){return n.unsigned?new t(n,Wt.UZERO):new t(n,n.isNegative()?Wt.NEG_ONE:Wt.ZERO)},t.Iy=function(n,i){if(y(n))return i?t.Ny:t.Cy;if(i){if(n<0)return t.Ny;if(n>=3.402823669209385e38)return t.Dy}else{if(n<=-1.7014118346046923e38)return t.Oy;if(n+1>=1.7014118346046923e38)return t.xy}return n<0?t.Iy(-n,i).ky():t.Sy(Wt.fromNumber(n%0x10000000000000000),Wt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Py=function(){return this.Ey.unsigned},n.By=function(){return this.Ty.isZero()&&this.Ey.isZero()},n.my=function(){return this.Ey.isNegative()},n.Ly=function(){return this.Py()?t.Sy(this.Ty,this.Ey,!1):this},n.My=function(){return this.Py()?this:t.Sy(this.Ty,this.Ey,!0)},n.Uy=function(){return this.Ty},n.oy=function(){return this.my()?-this.ky().oy():0x10000000000000000*this.Ey.toNumber()+this.Ty.toUnsigned().toNumber()},n.Fy=function(){return this.Ty.toInt()},n.Gw=function(t){return(this.Py()===t.Py()||this.Ey.getHighBits()>>>31!=1||t.Ey.getHighBits()>>>31!=1)&&(this.Ey.toUnsigned().eq(t.Ey.toUnsigned())&&this.Ty.toUnsigned().eq(t.Ty.toUnsigned()))},n.ay=function(t){if(this.Gw(t))return dg.iy;var n=this.my(),i=t.my();if(n&&!i)return dg.sy;if(!n&&i)return dg.ey;if(!this.Py())return this.py(t).my()?dg.sy:dg.ey;var r=this.My(),e=t.My(),s=e.Ey.comp(r.Ey);return s>0||0===s&&e.Ty.gt(r.Ty)?dg.sy:dg.ey},n.wy=function(t){return this.ay(t)<0},n._y=function(t){return this.ay(t)<=0},n.Hy=function(t){return this.ay(t)>0},n.Vy=function(t){return this.ay(t)>=0},n.Xy=function(){return new t(this.Ty.not(),this.Ey.not())},n.Wy=function(n){return new t(this.Ty.and(n.Ty),this.Ey.and(n.Ey))},n.qy=function(n){return new t(this.Ty.or(n.Ty),this.Ey.or(n.Ey))},n.zy=function(n){var i=127&n;return 0===i?this:i<64?t.Sy(this.Ty.shl(i),this.Ey.shl(i).or(this.Ty.shru(64-i)),this.Py()):t.Sy(Wt.ZERO,this.Ty.shl(i-64),this.Py())},n.Gy=function(n){var i=127&n;return 0===i?this:i<64?t.Sy(this.Ty.shru(i).or(this.Ey.shl(64-i)),this.Ey.shr(i),this.Py()):t.Sy(this.Ey.shr(i-64),this.Ey.isNegative()?Wt.NEG_ONE:Wt.ZERO,this.Py())},n.jy=function(n){var i=127&n;return 0===i?this:i<64?t.Sy(this.Ty.shru(i).or(this.Ey.shl(64-i)),this.Ey.shru(i),this.Py()):64===i?t.Sy(this.Ey,Wt.ZERO,this.Py()):t.Sy(this.Ey.shru(i-64),Wt.ZERO,this.Py())},n.hw=function(n){var i=this.Ey.high>>>16,r=65535&this.Ey.high,e=this.Ey.low>>>16,s=65535&this.Ey.low,u=this.Ty.high>>>16,o=65535&this.Ty.high,h=this.Ty.low>>>16,a=65535&this.Ty.low,c=n.Ey.high>>>16,f=65535&n.Ey.high,v=n.Ey.low>>>16,d=65535&n.Ey.low,l=n.Ty.high>>>16,_=65535&n.Ty.high,g=n.Ty.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.Ty.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.Py(),S=Wt.fromBits(m<<16|k,w<<16|y,E),R=Wt.fromBits(b<<16|T,p<<16|A,E);return t.Sy(R,S,E)},n.py=function(t){return this.hw(t.ky())},n.ky=function(){return this.Xy().hw(t.Qy)},n.Yy=function(n){if(this.By()||n.By())return this.Py()?t.Ny:t.Cy;if(this.my())return n.my()?this.ky().Yy(n.ky()):this.ky().Yy(n).ky();if(n.my())return this.Yy(n.ky()).ky();if(this.Ey.isZero()&&0===this.Ty.high&&n.Ey.isZero()&&0===n.Ty.high)return t.Ry(this.Ty.multiply(n.Ty));var i=Wt.fromBits(4294967295,0,!0),r=this.Ty.and(i),e=this.Ty.shru(32),s=this.Ey.and(i),u=this.Ey.shru(32),o=n.Ty.and(i),h=n.Ty.shru(32),a=n.Ey.and(i),c=n.Ey.shru(32),f=Wt.UZERO,v=Wt.UZERO,d=Wt.UZERO,l=Wt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=Wt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Wt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Sy(_,g,this.Py())},n.Zy=function(n){var i,r,e=n;if(e.By())throw new RangeError("division by zero");if(this.By())return this.Py()?[t.Ny,t.Ny]:[t.Cy,t.Cy];if(this.Py()){if(e.Py()||(e=e.My()),e.Hy(this))return[t.Ny,this];if(e.Hy(this.jy(1)))return[r=t.Jy,i=this.py(e)];r=t.Ny}else{if(this.Gw(t.Oy)){if(e.Gw(t.Qy)||e.Gw(t.$y))return[t.Oy,t.Cy];if(e.Gw(t.Oy))return[t.Qy,t.Cy];var s=this.Gy(1).Ky(e).zy(1);return s.Gw(t.Cy)?r=e.my()?t.Qy:t.$y:(i=this.py(e.Yy(s)),r=s.hw(i.Ky(e))),[r,i=this.py(e.Yy(r))]}if(e.Gw(t.Oy))return this.Py()?[t.Ny,this]:[t.Cy,this];if(this.my()){if(e.my())return this.ky().Zy(e.ky());var u=this.ky().Zy(e);return r=u[0],i=u[1],[r.ky(),i.ky()]}if(e.my()){var o=this.Zy(e.ky());return r=o[0],i=o[1],[r.ky(),i.ky()]}r=t.Cy}for(i=this;i.Vy(e);){for(var h=_.max(1,_.floor(i.oy()/e.oy())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Iy(h),v=f.Yy(e);v.my()||v.Hy(i);)h-=c,v=(f=t.Iy(h,this.Py())).Yy(e);f.By()&&(f=t.Qy),r=r.hw(f),i=i.py(v)}return[r,i]},n.Ky=function(t){return this.Zy(t)[0]},n.tm=function(t){return this.Zy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.By())return"0";if(this.my()){if(this.Gw(t.Oy)){var r=t.Iy(i),e=this.Ky(r),s=e.Yy(r).py(this);return e.toString(i)+s.Fy().toString(i)}return"-"+this.ky().toString(i)}for(var u=t.Iy(_.pow(i,6),this.Py()),o=this,h="";;){var a=o.Ky(u),c=(o.py(a.Yy(u)).Fy()>>>0).toString(i);if((o=a).By())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();pg.Cy=pg.Ry(Wt.ZERO),pg.Ny=pg.Ry(Wt.UZERO),pg.Qy=pg.Ry(Wt.ONE),pg.Jy=pg.Ry(Wt.UONE),pg.$y=pg.Ry(Wt.NEG_ONE),pg.xy=pg.Sy(Wt.NEG_ONE,Wt.MAX_VALUE,!1),pg.Dy=pg.Sy(Wt.MAX_UNSIGNED_VALUE,Wt.MAX_UNSIGNED_VALUE,!0),pg.Oy=pg.Sy(Wt.ZERO,Wt.MIN_VALUE,!1);var Ag=function(){function t(t,n){void 0===n&&(n=1),this.nm=void 0,this.im=void 0,this.nm=t,this.im=n}t.rm=function(n){return new t(_.ceil(n.nm),n.im)},t.sm=function(n){return new t(_.floor(n.nm),n.im)},t.um=function(t,n){return t.vy(n)?t:n},t.om=function(t,n){return t._y(n)?t:n};var n=t.prototype;return n.hw=function(n){return this.im>=n.im?new t(this.nm+n.hm(this.im).nm,this.im):new t(this.hm(n.im).nm+n.nm,n.im)},n.hy=function(t){return t.wy(this)},n.vy=function(t){return t._y(this)},n.gy=function(n){return this.im>=n.im?new t(_.abs(this.nm-n.hm(this.im).nm),this.im):n.gy(this)},n.ly=function(t,n){return this.gy(t)._y(n)},n.ay=function(t){return i=t,(n=this).im>=i.im?yg(n.nm,i.hm(n.im).nm):yg(n.hm(i.im).nm,i.nm);var n,i},n.Gw=function(t){return 0===this.ay(t)},n.wy=function(t){return this.ay(t)<0},n._y=function(t){return this.ay(t)<=0},n.hm=function(n){return new t(this.nm*(n/this.im),n)},n.py=function(n){return this.im>=n.im?new t(this.nm-n.hm(this.im).nm,this.im):new t(this.hm(n.im).nm-n.nm,n.im)},n.am=function(n){return new t(this.nm*n,this.im)},M(t,[{key:"by",get:function(){return!isFinite(this.nm)}},{key:"cm",get:function(){return this.nm/this.im}}]),t}();Ag.fm=new Ag(1/6,1),Ag.Cy=new Ag(0),Ag.vm=new Ag(1/0),Ag.dm=1e6;var bg=function(t){function n(n,i){var r;return(r=t.call(this)||this).gs=void 0,r.im=void 0,r.gs=n.toSigned(),r.im=i>>>0,r}F(n,t),n.lm=function(t,i){return void 0===i&&(i=1e6),n.Iy(t*i,i)},n.Iy=function(t,i){return y(t)?n._m:t===1/0?n.gm:t===-1/0?n.wm:new n(Wt.fromNumber(t),i)},n.Ry=function(t,i){return new n(t,i)},n.ym=function(t){return n.lm(t.cm,1e6)},n.mm=function(t){return new n(Wt.fromNumber(t.getTime()),1e3)},n.um=function(t,n){return t.vy(n)?t:n},n.om=function(t,n){return t._y(n)?t:n},n.km=function(t,i,r){return n.um(i,n.om(r,t))};var i=n.prototype;return i.my=function(){return this.gs.isNegative()},i.By=function(){return 0!==this.im&&this.gs.isZero()},i.by=function(){return 0===this.im&&!this.gs.isZero()},i.Ay=function(){return 0===this.im&&this.gs.isZero()},i.oy=function(){if(0===this.im)return this.gs.isZero()?NaN:this.gs.isNegative()?-1/0:1/0;var t=this.gs.divide(this.im),n=this.gs.subtract(t.multiply(this.im));return t.toNumber()+n.toNumber()/this.im},i.Uy=function(){if(0===this.im)throw new v("Failed to convert timestamp");return this.gs},i.pm=function(){return new Date(0===this.im?NaN:this.hm(1e3).gs.toNumber())},i.Am=function(){return new Ag(0===this.im?this.oy():this.gs.toNumber(),this.im)},i.hm=function(t,i){void 0===i&&(i=Sg.bm);var r=this.im;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t.Zy(n),e=r[0],s=r[1];if(s.By())return e;if(i===Sg.bm)return s.my()?e.py(pg.Qy):e;if(i===Sg.Tm)return s.my()?e:e.hw(pg.Qy);var u=s.Yy(pg.Iy(2));return u.my()?u.ky().wy(n)?e:e.py(pg.Qy):u.wy(n)?e:e.hw(pg.Qy)}(pg.Ry(this.gs).Yy(pg.Iy(t/e)),pg.Iy(r/e),i).Uy(),t)},i.ay=function(t){if(this===t)return dg.iy;if(0===this.im||0===t.im)return kg(this,t);if(this.By())return t.By()?dg.iy:t.my()?dg.ey:dg.sy;if(t.By())return this.my()?dg.sy:dg.ey;var n=_.min(this.im,t.im),i=this.hm(n,Sg.Em).gs,r=t.hm(n,Sg.Em).gs;return i.compare(r)},i.ky=function(){return 0===this.im?Tg(this):new n(this.gs.negate(),this.im)},i.hw=function(t){if(0===this.im||0===t.im)return Eg(this,t);if(this.By())return t;if(t.By())return this;var i=_.max(this.im,t.im),r=this.hm(i,Sg.Em),e=t.hm(i,Sg.Em);return new n(r.gs.add(e.gs),i)},i.Yy=function(t){if(this.Ay()||y(t))return n._m;if(this.by()||!isFinite(t)){if(this.By()||0===t)return n._m;var i=this.my()?n.wm:n.gm;return t<0?i.ky():i}return this.By()?this:new n(0===t?Wt.ZERO:this.gs.multiply(t),this.im)},i.Ky=function(t){if(this.Ay()||y(t))return n._m;if(this.by())return isFinite(t)?0===t?1/t<0?this.ky():this:t<0?this.ky():this:n._m;if(!isFinite(t))return new n(Wt.ZERO,this.im);if(this.By())return 0===t?n._m:new n(Wt.ZERO,this.im);if(0===t){var i=this.my()?n.wm:n.gm;return 1/t<0?i.ky():i}return new n(this.gs.divide(t),this.im)},i.Sm=function(){return[this.gs.low,this.gs.high,this.im]},n}(mg);function Tg(t){return t.Ay()?t:t.my()?bg.gm:bg.wm}function Eg(t,n){return t.Ay()||n.Ay()?bg._m:t.by()&&n.by()?t.my()===n.my()?t:bg._m:t.by()?t:n}bg.Cy=new bg(Wt.ZERO,1e6),bg._m=new bg(Wt.ZERO,0),bg.gm=new bg(Wt.ONE,0),bg.wm=new bg(Wt.NEG_ONE,0);var Sg,Rg=function(t){function n(n,i){var r;return(r=t.call(this)||this).gs=void 0,r.im=void 0,r.gs=BigInt.asIntN(64,n),r.im=i>>>0,r}F(n,t),n.lm=function(t,i){return void 0===i&&(i=1e6),n.Iy(t*i,i)},n.Iy=function(t,i){return y(t)?n._m:t===1/0?n.gm:t===-1/0?n.wm:new n(BigInt(_.floor(t)),i)},n.Ry=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.ym=function(t){return n.lm(t.cm,1e6)},n.mm=function(t){return n.Iy(t.getTime(),1e3)},n.um=function(t,n){return t.vy(n)?t:n},n.om=function(t,n){return t._y(n)?t:n},n.km=function(t,i,r){return n.um(i,n.om(r,t))};var i=n.prototype;return i.my=function(){return this.gs<BigInt(0)},i.By=function(){return 0!==this.im&&this.gs===BigInt(0)},i.by=function(){return 0===this.im&&this.gs!==BigInt(0)},i.Ay=function(){return 0===this.im&&this.gs===BigInt(0)},i.oy=function(){if(0===this.im)return this.gs===BigInt(0)?NaN:this.gs<BigInt(0)?-1/0:1/0;var t=this.gs/BigInt(this.im),n=this.gs-t*BigInt(this.im);return Number(t)+Number(n)/this.im},i.Uy=function(){if(0===this.im)throw new v("Failed to convert timestamp");return this.Rm()},i.Rm=function(){var t=this.gs&BigInt(4294967295),n=this.gs>>BigInt(32)&BigInt(4294967295);return Wt.fromBits(Number(t),Number(n))},i.pm=function(){return new Date(0===this.im?NaN:Number(this.hm(1e3).gs))},i.Am=function(){return new Ag(0===this.im?this.oy():Number(this.gs),this.im)},i.hm=function(t,i){void 0===i&&(i=Sg.bm);var r=this.im;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Sg.bm)return e<BigInt(0)?r-BigInt(1):r;if(i===Sg.Tm)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.gs*BigInt(t/e),BigInt(r/e),i),t)},i.ay=function(t){if(this===t)return dg.iy;if(0===this.im||0===t.im)return kg(this,t);if(this.By())return t.By()?dg.iy:t.my()?dg.ey:dg.sy;if(t.By())return this.my()?dg.sy:dg.ey;var n=_.min(this.im,t.im),i=this.hm(n,Sg.Em).gs,r=t.hm(n,Sg.Em).gs;return i>r?dg.ey:i<r?dg.sy:dg.iy},i.ky=function(){return 0===this.im?Ig(this):new n(-this.gs,this.im)},i.hw=function(t){if(0===this.im||0===t.im)return Ng(this,t);if(this.By())return t;if(t.By())return this;var i=_.max(this.im,t.im),r=this.hm(i,Sg.Em),e=t.hm(i,Sg.Em);return new n(r.gs+e.gs,i)},i.Yy=function(t){if(this.Ay()||y(t))return n._m;if(this.by()||!isFinite(t)){if(this.By()||0===t)return n._m;var i=this.my()?n.wm:n.gm;return t<0?i.ky():i}return this.By()?this:new n(0===t?BigInt(0):this.gs*BigInt(t),this.im)},i.Ky=function(t){if(this.Ay()||y(t))return n._m;if(this.by())return isFinite(t)?0===t?1/t<0?this.ky():this:t<0?this.ky():this:n._m;if(!isFinite(t))return new n(BigInt(0),this.im);if(this.By())return 0===t?n._m:new n(BigInt(0),this.im);if(0===t){var i=this.my()?n.wm:n.gm;return 1/t<0?i.ky():i}return new n(this.gs/BigInt(t),this.im)},i.Sm=function(){var t=this.Rm();return[t.low,t.high,this.im]},M(n,null,[{key:"Cy",get:function(){return n.Im||(n.Im=new n(BigInt(0),1e6)),n.Im}},{key:"_m",get:function(){return n.Nm||(n.Nm=new n(BigInt(0),0)),n.Nm}},{key:"gm",get:function(){return n.Cm||(n.Cm=new n(BigInt(1),0)),n.Cm}},{key:"wm",get:function(){return n.Dm||(n.Dm=new n(BigInt(-1),0)),n.Dm}}]),n}(mg);function Ig(t){return t.Ay()?t:t.my()?Rg.gm:Rg.wm}function Ng(t,n){return t.Ay()||n.Ay()?Rg._m:t.by()&&n.by()?t.my()===n.my()?t:Rg._m:t.by()?t:n}Rg.Im=void 0,Rg.Nm=void 0,Rg.Cm=void 0,Rg.Dm=void 0,function(t){t[t.bm=0]="bm",t[t.Tm=1]="Tm",t[t.Em=2]="Em"}(Sg||(Sg={}));var Cg=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Rg:bg;function Dg(t,n){return t.ay(n)}function Og(t){return Cg.Ry(Wt.fromBits(t[0],t[1],!1),t[2])}var xg=9e4,Pg=_.pow(2,33),Bg=Cg.Iy(Pg,xg),Lg=Bg.Ky(2);function Mg(t){return null!=t&&!t.Ay()}function Ug(t,n){return t.by()||n.by()?Cg.um(t,n):Vg(t,n).hy(Cg.Cy)?t:n}function Fg(t,n){var i=t.py(n);return i.wy(Cg.Cy)&&(i=i.hw(Bg)),i}function Hg(t,n){var i=t.hw(n);return i.vy(Bg)&&(i=i.py(Bg)),i}function Vg(t,n){var i=t.py(n);return t.by()||n.by()?i:(i.vy(Lg)?i=i.py(Bg):i.wy(Lg.ky())&&(i=i.hw(Bg)),i)}function Xg(t,n){if(t||n)return t?n?Cg.om(t,n):t:n}function Wg(t,n){if(t||n)return t?n?Cg.um(t,n):t:n}var qg,zg,Gg,jg,Qg={Om:0,xm:1/0,Pm:0},Yg=6,Zg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Jg=[" ","\t","\n","\f","\r"],$g=/^\d*$/,Kg=/.*[0-9]+.*/,tw=/^[\d.-]+$/,nw=/(^\.|\.$)/,iw=/(\D\.|\.\D)/;function rw(t,n){void 0===n&&(n=Qg);var i={c_:[],Bm:[],Lm:[]},r=ew(t),e=new Gu;if(lw(r),sw(r,function(t){return"\n"!==t},e),e.kh>=r.length)return i;(e.wh(1),"\n"!==r.charAt(e.kh))?aw(uw(r,e,!1,!0,i,n),i):e.wh(1);for(sw(r,function(t){return"\n"===t},e);e.kh<r.length;){aw(uw(r,e,!1,!1,i,n),i),sw(r,function(t){return"\n"===t},e)}return i}function ew(t){var n=Ie(t,"\0"," "),i=Ie(n,"\r\n","\n");return Ie(i,"\r","\n")}function sw(t,n,i){for(var r=i.kh;i.kh<t.length&&n(t.charAt(i.kh));)i.wh(1);return t.substring(r,i.kh)}function uw(t,n,i,r,e,s){for(var u,o=0,h=n.kh,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=sw(t,function(t){return"\n"!==t},n),o++,n.kh>=t.length?c=!0:n.wh(1),Ne(u,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.yh(h);break}f=!0,h=n.kh,v=new og(0,0,"",!1,a);try{cw(u,e.Bm,v,s),a=""}catch(t){T.Su(t),v=null}}else{if(""===u)break;r&&Ce(u,"X-TIMESTAMP-MAP")&&(e.Mm=ow(u)),r||2!==o||i||(Oe("STYLE",a.replace(/ /g,""))?(d={co:W_.pw},a=""):Oe("REGION",a.replace(/ /g,""))&&(l=new lg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n.kh}if(v)return v.Nw=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&Ne(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var s=e.indexOf(":"),u=e.substring(0,s),o=e.substring(s+1,e.length);switch(u.toUpperCase()){case"ID":Ew(o,n);break;case"WIDTH":Iw(o,n);break;case"LINES":Rw(o,n);break;case"REGIONANCHOR":var h=Tw(o);h&&(n.Jw=h[0],n.$w=h[1]);break;case"VIEWPORTANCHOR":var a=Tw(o);a&&(n.ty=a[0],n.ny=a[1]);break;case"SCROLL":Sw(o,n)}}}}(a,l),l;return null}function ow(t){var n,i,r=t.split("=")[1].trim().split(","),e=hw(r[0].trim(),"MPEGTS")?r[0]:r[1],s=hw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Um:(i=Number(e.split(/:(.*)/)[1].trim())||0,Cg.Iy(i,xg)),Fm:Cg.lm(null!=(n=dw(s.split(/:(.*)/)[1].trim(),new Gu))?n:0)}}function hw(t,n){return Ce(t,n)}function aw(t,n){t&&function(t){return t.co===W_.mw}(t)?n.c_.push(t):t&&function(t){return t.co===W_.kw}(t)?n.Bm.push(t):t&&function(t){return t.co===W_.pw}(t)&&n.Lm.push(t)}function cw(t,n,i,r){var e=new Gu;if(_w(t,e),i.Rw=fw(dw(t,e),r),_w(t,e),"--\x3e"!==t.substring(e.kh,e.kh+3))throw v("Something went wrong with parsing a WebVTT Cue");e.wh(3),_w(t,e),i.Iw=fw(dw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var s=r[e];if(0!==s.length&&Ne(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":kw(h,n,i);break;case"VERTICAL":Aw(h,n);break;case"D":bw(h,n);break;case"LINE":case"L":yw(h,n);break;case"POSITION":case"T":mw(h,n);break;case"SIZE":case"S":pw(h,n);break;case"ALIGN":case"A":ww(h,n)}}}}(t.substring(e.kh,t.length),i,n)}function fw(t,n){return t+n.Om}function vw(t){return/^[0-9]$/.test(t)}function dw(t,n){var i,r,e,s=Ie(t,",","."),u=!1;if(n.kh>=s.length||!vw(s.charAt(n.kh)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=sw(s,vw,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.kh>=s.length||":"!==s.charAt(n.kh))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.wh(1);var a=sw(s,vw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n.kh<s.length&&":"===s.charAt(n.kh)){if(n.kh>=s.length||":"!==s.charAt(n.kh))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.wh(1);var f=sw(s,vw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=g(f,10)}else i=0,r=h,e=c;if(n.kh>=s.length||"."!==s.charAt(n.kh))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.wh(1);var d=sw(s,vw,n),l=g(d,10);if(c>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function lw(t){if(t.length<Yg)return!1;for(var n=0;n<Zg.length;n++){if(Ce(t,Zg[n]))return!0}return!1}function _w(t,n){for(;n.kh<t.length&&(i=t.charAt(n.kh),Je(Jg,i));)n.wh(1);var i}function gw(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function ww(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Cw=i;break;case"middle":n.Cw="center"}}function yw(t,n){var i=t,r="";if(Ne(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Kg.test(i)){var e;if(De(i,"%")){var s=gw(i);if(null===s)return;e=s}else{if(!tw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!iw.test(t)||nw.test(t))return;if(e=w(t),y(e))return}switch(n.Dw=e,n.Lw=De(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Ow=r;break;case"middle":n.Ow="center"}}}function mw(t,n){var i=t,r="";Ne(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=gw(i);if(null!==e)switch(n.xw=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Pw=r;break;case"start":n.Pw="line-left";break;case"middle":n.Pw="center";break;case"end":n.Pw="line-right"}}function kw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Zl===t)return void(n.Bw=i[r])}function pw(t,n){var i=gw(t);null!==i&&(n._h=i)}function Aw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Mw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Mw="lr";break;default:n.Mw=""}}function bw(t,n){"VERTICAL"===t.toUpperCase()?n.Mw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Mw="lr")}function Tw(t){if(t.indexOf(",")>=0){var n=gw(t.substring(0,t.indexOf(","))),i=gw(t.substring(t.indexOf(",")+1,t.length));return[zt(n||0,0,100),zt(i||100,0,100)]}return null}function Ew(t,n){n.Zl=t}function Sw(t,n){"up"===t.toLowerCase()&&(n.Kw="up")}function Rw(t,n){$g.test(t)&&(n.Zw=g(t))}function Iw(t,n){var i=gw(t);null!==i&&(n.yu=i)}!function(t){t.Hm="moov",t.Vm="mvhd",t.Xm="trak",t.Wm="tkhd",t.qm="mdia",t.zm="mdhd",t.Gm="hdlr",t.jm="minf",t.Qm="stbl",t.Ym="stsd",t.Zm="stsc",t.Jm="mvex",t.$m="trex",t.Km="avc1",t.tk="avcC",t.nk="hev1",t.ik="hvc1",t.rk="hvcC",t.ek="pasp",t.sk="mp4a",t.uk="esds",t.hk="wvtt",t.ak="vttC",t.ck="vlab",t.fk="enca",t.vk="encv",t.dk="moof",t.lk="mfhd",t._k="traf",t.gk="tfhd",t.wk="trun",t.yk="tfdt",t.mk="mdat",t.kk="pssh",t.pk="emsg",t.Ak="sidx",t.bk="styp",t.Tk="ftyp",t.Ek="sinf",t.Sk="frma"}(qg||(qg={})),function(t){t.Bv="vide",t.Pv="soun",t.Rk="subt",t.Ik="hint",t.Nk="meta",t.Ck="auxv"}(zg||(zg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Gg||(Gg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(jg||(jg={}));var Nw=function(){function t(t,n){this.Ls=void 0,this.Dk=void 0,this.Ls=t,this.Dk=n}var n=t.prototype;return n.Ok=function(){return au(this.Ls,this.Dk)},n.xk=function(){return _u(this.Ls,this.Dk)},n.Pk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.kh,i);return n.wh(2),r}(this.Ls,this.Dk)},n.Bk=function(){return wu(this.Ls,this.Dk)},n.Lk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.kh,i);return n.wh(4),r}(this.Ls,this.Dk)},n.Mk=function(){return mu(this.Ls,this.Dk)},n.Uk=function(t){return fu(this.Ls,this.Dk,t)},n.Fk=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(wu(t,n));return r}(this.Ls,this.Dk,t)},n.Hk=function(t){return Au(this.Ls,this.Dk,t)},n.Vk=function(){return Bu(this.Ls,this.Dk)},n.Xk=function(t){this.Dk.wh(t)},n.mh=function(){return new t(this.Ls,this.Dk.mh())},t}();function Cw(t,n){return t.co===n}function Dw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Cw(r,n))return r}}function Ow(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Cw(e,n)&&i.push(e)}return i}var xw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wk=n,r.qk=i,r}return F(n,t),M(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Pw=function(){function t(){}return t.zk=function(n){var i=n.Ls,r=n.Dk,e=t.Gk(i,r,!1);if(!e.jk)throw new xw(r.kh,e.Rs);return e.Rs},t.Gk=function(n,i,r){for(var e=[];i.kh<n.byteLength;){var s=t.Qk(n,i,r);if(!s.jk)return{jk:!1,Rs:e};e.push(s.Yk)}return{jk:!0,Rs:e}},t.Zk=function(n,i){var r=t.Qk(n,i,!1);if(!r.jk)throw new xw(i.kh);return r.Yk},t.Jk=function(n,i){for(var r=n.Ls,e=n.Dk;e.kh<r.byteLength;){var s=t.Qk(r,e,!1);if(!s.jk)return;if(s.Yk.co===i)return s.Yk}},t.Qk=function(n,i,r){var e=i.kh,s=t.$k(n,i);if(!s.jk)return s;var u=s.Kk,o=u._h;if(0===o){if(r)return i.yh(e),{jk:!1,tp:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.yh(e),{jk:!1,tp:a}}var c={co:u.co,kh:e,Ls:new Nw(Fu(n,e,h),new Gu(u.np))};return i.yh(h),{jk:!0,Yk:c}},t.$k=function(t,n){var i=n.kh;if(!du(t,n,8))return{jk:!1,tp:n.kh+8};var r=wu(t,n),e=Au(t,n,4);if(1===r){if(!du(t,n,8)){var s=n.kh+8;return n.yh(i),{jk:!1,tp:s}}r=mu(t,n).toNumber()}if("uuid"===e){if(!du(t,n,16)){var u=n.kh+16;return n.yh(i),{jk:!1,tp:u}}e=Au(t,n,16)}return{jk:!0,Kk:{co:e,_h:r,np:n.kh-i}}},t.ip=function(t,n,i){var r=t.Ls,e=t.Dk,s=Uu(Vu(r),e.kh,r.byteLength);return i&&(s=zu(s)),e.wh(s.byteLength),{co:n,Ls:s}},t.rp=function(n,i,r){var e=Uw(n.Bk());return{co:i,ep:e.version,sp:e.flags,Ls:t.ip(n,i,r).Ls}},t}();function Bw(t,n){var i=Lw(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Lw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.co===n)return r.Ls}}function Mw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.co===n&&i.push(e.Ls)}return i}function Uw(t){return{version:t>>24,flags:new uu(16777215&t)}}var Fw=function(){function t(){}return t.op=function(n){for(var i=[],r=Pw.zk(new Nw(n,new Gu)),e=0;e<r.length;e++){var s=r[e],u=t.hp(s);u&&i.push(u)}return i},t.ap=function(t){return Pw.Gk(t,new Gu,!1).Rs.some(function(t){return t.co===qg.dk||t.co===qg.bk})},t.cp=function(n){return Mw(Pw.zk(new Nw(n,new Gu)),qg.kk).map(t.fp)},t.vp=function(n){return Mw(Pw.zk(n.Ls),qg.kk).map(t.fp)},t.hp=function(n){switch(n.co){case qg.Hm:return t.dp(n.Ls);case qg.dk:return t.lp(n.Ls,n.kh);case qg.mk:return t._p(n.Ls);case qg.Ak:return t.gp(n.Ls);case qg.pk:return t.wp(n.Ls)}},t.dp=function(n){var i=Pw.zk(n),r=Bw(i,qg.Vm),e=Mw(i,qg.Xm),s=Lw(i,qg.Jm),u=t.yp(r),o=e.map(t.mp),h=s?t.kp(s):void 0;return{co:qg.Hm,Kk:u,pp:o,Ap:h}},t.yp=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags,e=1===i?t.Mk():t.Bk(),s=1===i?t.Mk():t.Bk(),u=t.Bk(),o=1===i?t.Mk():t.Bk(),h=t.Bk(),a=t.xk()>>8;t.Xk(2),t.Xk(8);var c=t.Fk(9);t.Xk(24);var f=t.Bk();return{co:qg.Vm,ep:i,sp:r,bp:e,Tp:s,im:u,G_:o,Ep:h,ig:a,Sp:c,Rp:f}},t.mp=function(n){var i=Pw.zk(n),r=Bw(i,qg.Wm),e=Bw(i,qg.qm),s=t.Ip(r),u=t.Np(e);return{co:qg.Xm,Kk:s,Cp:u}},t.Ip=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags,e=1===i?t.Mk():t.Bk(),s=1===i?t.Mk():t.Bk(),u=t.Bk();t.Xk(4);var o=1===i?t.Mk():t.Bk();t.Xk(8);var h=t.Pk(),a=t.Pk(),c=t.Pk()/_.pow(2,8);t.Xk(2);var f=t.Fk(9),v=t.Bk()/_.pow(2,16),d=t.Bk()/_.pow(2,16);return{co:qg.Wm,Dp:r.Ah(1),Op:r.Ah(2),xp:r.Ah(4),bp:e,Tp:s,Pp:u,G_:o,Bp:h,Lp:a,ig:c,Sp:f,yu:v,Mp:d}},t.Np=function(n){var i=Pw.zk(n),r=Bw(i,qg.zm),e=Bw(i,qg.Gm),s=Bw(i,qg.jm),u=t.Up(r),o=t.Fp(e),h=t.Hp(s);return{co:qg.qm,Kk:u,Vp:o,Xp:h}},t.Up=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags,e=1===i?t.Mk():t.Bk(),s=1===i?t.Mk():t.Bk(),u=t.Bk(),o=1===i?t.Mk():t.Bk();t.xk();return t.Xk(2),{co:qg.zm,ep:i,sp:r,bp:e,Tp:s,im:u,G_:o}},t.Fp=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags;t.Xk(4);var e=t.Hk(4);t.Xk(12);var s=t.Vk();return{co:qg.Gm,ep:i,sp:r,Wp:e,ds:s}},t.Hp=function(n){var i=Bw(Pw.zk(n),qg.Qm),r=t.qp(i);return{co:qg.jm,zp:r}},t.qp=function(n){var i=Bw(Pw.zk(n),qg.Ym),r=t.Gp(i);return{co:qg.Qm,jp:r}},t.Gp=function(n){for(var i=Uw(n.Bk()),r=i.version,e=i.flags,s=(n.Bk(),[]),u=Pw.zk(n),o=0;o<u.length;o++){var h=u[o],a=t.Qp(h.Ls,h.co);a&&s.push(a)}return{co:qg.Ym,ep:r,sp:e,Yp:s}},t.Qp=function(n,i){var r=t.Zp(n,i);return r||((r=t.Jp(n,i))||(i===qg.hk?t.$p(n):void 0))},t.Zp=function(n,i){return i===qg.sk?t.Kp(n):i===qg.fk?t.tA(n):void 0},t.Jp=function(n,i){return i===qg.Km?t.nA(n):i===qg.nk||i===qg.ik?t.iA(n,i):i===qg.vk?t.rA(n):void 0},t.eA=function(t,n){return t.Xk(6),{co:n,sA:t.xk()}},t.uA=function(n,i){var r=t.eA(n,i);n.Xk(8);var e=n.xk(),s=n.xk();return n.Xk(2),n.Xk(2),ne({},r,{oA:e,hA:s,aA:n.Bk()>>>16})},t.cA=function(n,i){var r=t.eA(n,i);n.Xk(2),n.Xk(2),n.Xk(12);var e=n.xk(),s=n.xk(),u=n.Bk(),o=n.Bk();n.Xk(4);var h=n.xk();n.Xk(32);var a=n.xk();return n.Xk(2),ne({},r,{yu:e,Mp:s,fA:u,vA:o,dA:h,lA:a})},t.Kp=function(n){var i=t.uA(n,qg.sk),r=Bw(Pw.zk(n),qg.uk);return ne({},i,{_A:t.gA(r)})},t.$p=function(n){var i=t.eA(n,qg.hk),r=Pw.zk(n),e=Bw(r,qg.ak),s=t.wA(e),u=Lw(r,qg.ck);return ne({},i,{yA:s,mA:u?t.kA(u):u})},t.wA=function(t){return{co:qg.ak,Jh:t.Vk()}},t.kA=function(t){return{co:qg.ck,Kl:t.Vk()}},t.gA=function(t){return Pw.rp(t,qg.uk,!0)},t.nA=function(n){var i=t.cA(n,qg.Km),r=Pw.zk(n),e=Bw(r,qg.tk),s=Lw(r,qg.ek);return ne({},i,{pA:t.AA(e),bA:s?t.TA(s):void 0})},t.iA=function(n,i){var r=t.cA(n,i),e=Bw(Pw.zk(n),qg.rk);return ne({},r,{EA:t.SA(e)})},t.rA=function(n){var i=n.mh(),r=t.cA(n,qg.vk),e=Bw(Pw.zk(n),qg.Ek),s=t.RA(e);return ne({},r,{IA:t.Jp(i,s.CA.NA),DA:s})},t.tA=function(n){var i=n.mh(),r=t.uA(n,qg.fk),e=Bw(Pw.zk(n),qg.Ek),s=t.RA(e);return ne({},r,{IA:t.Zp(i,s.CA.NA),DA:s})},t.RA=function(n){var i=Bw(Pw.zk(n),qg.Sk),r=t.OA(i);return{co:qg.Ek,CA:r}},t.OA=function(t){var n=t.Hk(4);return{co:qg.Sk,NA:n}},t.AA=function(t){return Pw.ip(t,qg.tk,!0)},t.SA=function(t){return Pw.ip(t,qg.rk,!0)},t.TA=function(t){var n=t.Bk(),i=t.Bk();return{co:qg.ek,xA:n,PA:i}},t.kp=function(n){var i=Mw(Pw.zk(n),qg.$m).map(t.BA);return{co:qg.Jm,pp:i}},t.BA=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags,e=t.Bk(),s=t.Bk(),u=t.Bk(),o=t.Bk(),h=t.Bk();return{co:qg.$m,ep:i,sp:r,Pp:e,LA:s,MA:u,UA:o,FA:h}},t.lp=function(n,i){var r=Pw.zk(n),e=Bw(r,qg.lk),s=Mw(r,qg._k),u=t.HA(e),o=s.map(t.VA);return{co:qg.dk,XA:i,Kk:u,pp:o}},t.HA=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags,e=t.Bk();return{co:qg.lk,ep:i,sp:r,WA:e}},t.VA=function(n){var i=Pw.zk(n),r=Bw(i,qg.gk),e=Mw(i,qg.wk),s=Lw(i,qg.yk),u=t.qA(r),o=e.map(function(n){return t.zA(n,u)}),h=s?t.GA(s):void 0;return{co:qg._k,Kk:u,jA:o,QA:h}},t.qA=function(t){var n=Uw(t.Bk()),i=n.version,r=n.flags,e=t.Bk(),s=r.Ah(Gg.BASE_DATA_OFFSET_PRESENT)?t.Mk():void 0,u=r.Ah(Gg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Bk():void 0,o=r.Ah(Gg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Bk():void 0,h=r.Ah(Gg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Bk():void 0,a=r.Ah(Gg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Bk():void 0;return{co:qg.gk,ep:i,sp:r,Pp:e,YA:s,ZA:u,MA:o,UA:h,FA:a}},t.zA=function(n,i){for(var r=Uw(n.Bk()),e=r.version,s=r.flags,u=n.Bk(),o=s.Ah(jg.DATA_OFFSET_PRESENT)?n.Lk():void 0,h=s.Ah(jg.FIRST_SAMPLE_FLAGS_PRESENT)?n.Bk():void 0,a=[],c=0;c<u;c++){var f=t.JA(n,s,e,i);0===c&&void 0!==h&&(f.sp=h),a.push(f)}return{co:qg.wk,ep:e,sp:s,$A:u,XA:o,KA:h,nb:a}},t.JA=function(t,n,i,r){return{G_:n.Ah(jg.SAMPLE_DURATION_PRESENT)?t.Bk():r.MA,_h:n.Ah(jg.SAMPLE_SIZE_PRESENT)?t.Bk():r.UA,sp:n.Ah(jg.SAMPLE_FLAGS_PRESENT)?t.Bk():r.FA,ib:n.Ah(jg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Bk():t.Lk():void 0}},t.wp=function(t){var n=t.Ls,i=t.Dk,r=Uw(wu(n,i)),e=r.version,s=r.flags;if(1===e){var u=wu(n,i),o=mu(n,i),h=wu(n,i),a=wu(n,i),c=pu(n,i),f=pu(n,i),v=qu(Vu(n),i.kh,n.byteLength);return i.wh(v.byteLength),{co:qg.pk,ep:e,sp:s,rb:c,gs:f,im:u,eb:o,sb:h,Zl:a,ub:v}}var d=pu(n,i),l=pu(n,i),_=wu(n,i),g=wu(n,i),w=wu(n,i),y=wu(n,i),m=qu(Vu(n),i.kh,n.byteLength);return i.wh(m.byteLength),{co:qg.pk,sp:s,ep:e,rb:d,gs:l,im:_,ob:g,sb:w,Zl:y,ub:m}},t._p=function(t){return Pw.ip(t,qg.mk,!1)},t.fp=function(n){var i=n.Ls,r=n.Dk,e=zu(Vu(i)).buffer,s=Uw(wu(i,r)),u=s.version,o=s.flags,h=t.hb(i,r),a=[];if(u>0)for(var c=wu(i,r),f=0;f<c;f++){var v=fu(i,r,16);a.push(v)}var d=wu(i,r),l=new m(e,r.kh,d);return r.wh(i.byteLength),{co:qg.kk,ep:u,sp:o,ab:h,cb:a,fb:d,Ls:l,vb:e}},t.hb=function(t,n){for(var i="",r=0;r<4;r++){var e=au(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=au(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=au(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=au(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=au(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.gp=function(t){var n,i,r=t.Ls,e=t.Dk,s=Uw(wu(r,e)),u=s.version,o=s.flags,h=wu(r,e),a=wu(r,e);0===u?(n=Wt.fromBits(wu(r,e),0,!0),i=Wt.fromBits(wu(r,e),0,!0)):(n=mu(r,e),i=mu(r,e)),e.wh(2);for(var c=_u(r,e),f=[],v=0;v<c;v+=1){var d=wu(r,e),l=d>>31&1,_=2147483647&d,g=wu(r,e),w=wu(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({lb:l,_b:_,G_:g,gb:y,wb:m,yb:k})}return{co:qg.Ak,ep:u,sp:o,mb:h,im:a,kb:n,pb:i,Ab:c,bb:f}},t.GA=function(t){var n,i=t.Ls,r=t.Dk,e=Uw(wu(i,r)),s=e.version,u=e.flags;return n=0===s?Wt.fromBits(wu(i,r),0,!0):mu(i,r),{co:qg.yk,ep:s,sp:u,QA:n}},t}();function Hw(t){return t&&"Ss"in t?t.Ss:t}var Vw=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,r,e)||this).Tb=void 0,h.Eb=void 0,h.Sb=void 0,h.Tb=s,h.Eb=u,h.Sb=o||void 0,h}return F(n,t),n.prototype.Gw=function(n){return this===n||!!Hd(this,n)&&(!!t.prototype.Gw.call(this,n)&&(!!Fd(this.Rb,n.Rb)&&(!!Fd(this.Bm,n.Bm)&&(this.Ib&&n.Ib?!!this.Ib.cs(n.Ib)&&(this.Nw&&n.Nw?this.Nw.cs(n.Nw):this.Nw===n.Nw):this.Ib===n.Ib))))},M(n,[{key:"Rb",get:function(){return this.Tb}},{key:"Bm",get:function(){return this.Eb}},{key:"Ib",get:function(){return this.Sb}},{key:"al",get:function(){var t;return this.hl||(this.hl=Md(tg(t=this),{get styles(){return t.Rb},get regions(){return t.Bm},get metadata(){return Hw(t.Ib)},get content(){return Hw(t.Nw)}})),this.hl}}]),n}(sg),Xw=function(){function t(t,n,i){this.xf=void 0,this.Nb=void 0,this.Cb=void 0,this.Nb=t,this.Cb=n,rn(i)?this.xf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.Cs(s)}return i}(0,0,i):this.xf=i}return M(t,[{key:"Db",get:function(){return this.xf.fs(!0)}},{key:"Rw",get:function(){return this.Nb}},{key:"Iw",get:function(){return this.Cb}}]),t}();var Ww="http://www.w3.org/XML/1998/namespace";function qw(t,n,i,r){var e=t.Ts(i,n);return 0===e.length&&(e=t.ps(r+":"+n)),e}function zw(t,n){return function(t,n){var i=t.Rs.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Rs)}return r}(t,function(t){return t.bs===n})}function Gw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function jw(t,n){for(var i=t.Ps,r={},e=0;e<i.length;e++)r[Gw(i[e].ds,n)]=i[e].gs;return r}var Qw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Yw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Zw="http://www.w3.org/ns/ttml";function Jw(t,n,i){return void 0===i&&(i=Qg),function(t,n,i){var r,e=[];try{r=T.hs(t)}catch(t){return e}var s=r.Ms;if("tt"!==s.vs)return e;var u=s&&s.Ts(Zw,"head")[0],o=s&&s.Ts(Zw,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return e;for(var a=function(t,n){for(var i={},r=t.Ts(Zw,"styling")[0],e=r&&r.Ts(Zw,"style")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ns(Ww,"id");i[o]=jw(u,n)}return i}(u,h),c=function(t,n){var i=Ud(t),r=ny(n.Is("tts:extent"));if(!r)return i;for(var e=0,s=l.keys(i);e<s.length;e++){var u=s[e],o=ny(i[u].extent);if(o){var h=Kw(o[0],r[0]),a=Kw(o[1],r[1]);i[u].extent=h+" "+a}var c=ny(i[u].origin);if(c){var f=Kw(c[0],r[0]),v=Kw(c[1],r[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.Ts(Zw,"layout")[0],e=r&&r.Ts(Zw,"region")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ns(Ww,"id");if(o){i[o]=jw(u,n);var h=ey(u,n);for(var a in h)Z.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.Ts(Zw,"metadata")[0],v=function t(n,i,r,e){var s=i;var u;var o=r;var h=[];var a=[];if(rn(n)){var c,f;s=null!=(c=ry(n.Is("begin"),e))?c:s,u=ry(n.Is("dur"),0),o=null!=(f=ry(n.Is("end"),e))?f:void 0!==u?s+u:o;for(var v=n.As,d=0;d<v.length;d++)("body"===n.vs||"div"===n.vs)&&v[d].ts>1||(h=h.concat(t(v[d],s,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var s=i[e];r.push(s.Rw,s.Iw)}r.sort(gg);for(var u=r.length,o=0;o<u-1;o++)r[o+1]===r[o]&&(Ze(r,o+1),o--,u=r.length);return r}(s,o,h);for(var _=0;_<l.length-1;_++){var g=iy(l[_],l[_+1],h);if(g.length<=0&&sy(n)){var w=n.fs(!1);a.push(new Xw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.fs(!1);g.forEach(function(n){return t.Es(n.Db)}),a.push(new Xw(l[_],l[_+1],t))}()}return a}(o,i.Om,i.xm,i.Pm),d=0;d<v.length;d++){var _=v[d],g=$w(c,_);e.push(new Vw(_.Rw,_.Iw,_.Db,!1,a,g,f))}return e}(t,0,i)}function $w(t,n){for(var i=function t(n){var i=[];var r;if(rn(n)){(r=n.Is("region"))&&i.push(r);for(var e=n.As,s=0;s<e.length;s++)i=i.concat(t(e[s]))}return i}(n.Db),r={},e=0;e<i.length;e++){var s=i[e];r[s]=t[s]}return r}function Kw(t,n){var i=ty(t),r=ty(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-r.length));return y(e)||y(s)?t:e/s*100+"%"}return t}function ty(t){return De(t,"px")?"px":De(t,"em")?"em":De(t,"c")?"c":De(t,"%")?"%":void 0}function ny(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function iy(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].Rw,u=i[e].Iw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}function ry(t,n){if(t){if(Qw.test(t)){var i=Qw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*_.pow(.1,u.length):0)-n}if(Yw.test(t)){var o=Yw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function ey(t,n){for(var i={},r=t.ps("style")||[],e=0;e<r.length;e++){var s=jw(r[e],n);for(var u in s)Z.call(s,u)&&(i[u]=s[u])}return i}function sy(t){if(rn(t)){var n=t.vs.toUpperCase(),i=Boolean(t.Is("smpte:backgroundImage"));return"BR"===n||i}return t.ts===Kt.es}function uy(t){var n=function(t){try{return T.hs(t).Ms}catch(t){}}(t);return"tt"===(null==n?void 0:n.vs)}var oy,hy=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Bl=function(n){return t.prototype.Bl.call(this,n)},i.Ll=function(n){var i=t.prototype.Ll.call(this,n);return i&&(n.h_=Kd.r_),i},i.cl=function(){return ul(this)},n}(Dd),ay=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).pp=new hy,n.Ob=function(t){var i=t.fl;n.xb(i)},n}F(n,t);var i=n.prototype;return i.Bl=function(t){t.Xo(Td.Al,this.Ob),this.pp.Bl(t),this.xb(t)},i.Ll=function(t){t.Go(Td.Al,this.Ob),t.h_=Kd.r_,this.pp.Ll(t)},i.Pb=function(t){},i.Bb=function(t){},i.xb=function(t){t.h_!==Kd.r_?this.Pb(t):this.Bb(t)},i.Lb=function(){for(var t=0,n=this.pp.Fl;t<n.length;t++){var i=n[t];i.Go(Td.Al,this.Ob),i.qv()}},i.Ul=function(){return this.Lb(),this.pp.Ul(),E.resolve()},i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),t.next=3,this.Ul();case 3:this.pp.qv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Ts);!function(t){t.Rk="subtitles",t.Mb="captions",t.Ub="descriptions",t.Fb="chapters",t.Nk="metadata",t.Hb="thumbnails"}(oy||(oy={}));var cy=[oy.Rk,oy.Mb,oy.Ub,oy.Fb,oy.Nk,oy.Hb];function fy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Je(cy,t)}(n)?n:n?oy.Nk:oy.Rk}var vy,dy=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return F(n,t),n}(No);function ly(t){return t instanceof Vf}function _y(t){return Ne(t,vy.Vb)}function gy(t){return t.some(wy)}function wy(t){return Ne(t,vy.Xb)||Ne(t,vy.hk)}function yy(t,n){return so(t)&&gy(n)}function my(t,n){return!!t&&(so(t)?function(t){return t.some(_y)}(n)||gy(n):Ne(t,eo.APPLICATION_TTML_XML)||Ne(t,eo.TEXT_VTT)||Ne(t,eo.IMAGE_JPEG))}function ky(t,n){return t===oy.Hb||t===oy.Nk&&n===oy.Hb}function py(t,n,i,r){for(var e=0,s=t.c_.Fl;e<s.length;e++){var u=s[e];if(u.Rw>i)break;n<=u.Iw&&r.push(u)}}function Ay(t,n){return _g(t.Jl,n.Jl)}function by(t,i){var r=i,e=0;if(ly(t)&&t.name===Lf.$v)r=t.yv.kv;else if(t instanceof Wf){var s=t.ed;if(r=s.mv,0===(e=s.dv))return new dy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new dy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Ty(t,i,r,e){var s=function(t){switch(t){case X_.WEBVTT:return"WebVTT";case X_.SRT:return"SRT";case X_.TTML:return"TTML";default:return""}}(t);return new dy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,r,e)}function Ey(t){return lw(ew(t))?X_.WEBVTT:uy(t)?X_.TTML:X_.SRT}!function(t){t.Xb="vtt",t.hk="wvtt",t.Vb="stpp"}(vy||(vy={}));var Sy=function(t){function n(n){var i;return(i=t.call(this,tl.u_)||this).errorObject=n,i}return F(n,t),n.prototype.cl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ad),Ry=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wb=void 0,r.qb=void 0,r.zb=new ss,r.Wb=n,r.qb=i,r}F(n,t);var i=n.prototype;return i.Gb=function(t){if(t.src){var n=t.kind||oy.Rk,i=this.Wb.jb(n,t.id,t.label,t.srclang,t.default);return i.v_=Bf(t.src),this.Bl(i),i}},i.Qb=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.a_=V_.LOADING,r=new Df({kv:n.v_,_v:Zo.es,Mv:Sf.GET,Lo:i}),t.prev=2,t.next=5,this.qb.yv(r);case 5:return u=t.sent,s=u.dv,t.next=9,u.Zf();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),as(t.t0),n.a_=V_.ERROR,n.Vo(new Sy(by(t.t0,n.v_))),t.abrupt("return");case 18:for(t.prev=18,o=Ey(e),n.co=o,h=[],o===X_.WEBVTT||o===X_.SRT?(a=rw(e),h=a.c_):o===X_.TTML&&(h=Jw(e)),c=0,f=h;c<f.length;c++)v=f[c],n.Yb(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),as(t.t1),n.a_=V_.ERROR,n.Vo(new Sy(Ty(n.co,n.v_,s,t.t1))),t.abrupt("return");case 32:n.a_=V_.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Pb=function(t){Je(this.pp.Fl,t)&&t.a_===V_.NONE&&this.Qb(t,this.zb.Lo).catch(cs)},i.Vh=function(){},i.Ul=function(){var n=E.coroutine(te.mark(function n(){var i,r,e;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.zb.xo(),this.zb=new ss,i=0,r=this.pp.Fl;i<r.length;i++)e=r[i],this.Wb.Zb(e);return n.next=5,t.prototype.Ul.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(ay);function Iy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.$l===n&&r.Jb)return r}}function Ny(t,n){Cy(Iy(t.Fl,n))}function Cy(t){void 0!==t&&(t.h_=Kd.s_)}function Dy(t,n){Cy(Iy(t.Fl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.$l===n)return r}}(t.Fl,n))}function Oy(t){for(var n=0;n<cy.length;n++){var i=cy[n];i===oy.Fb?Dy(t,i):Ny(t,i)}}var xy,Py=function(t){function n(){return t.call(this,Yo.kc)||this}return F(n,t),n}(Ss);!function(t){t[t.$b=0]="$b",t[t.Kb=1]="Kb"}(xy||(xy={}));var By=t,Ly=By.MediaSource,My=By.WebKitMediaSource,Uy=By.TextTrack,Fy=s&&s.createElement("video"),Hy=(s&&s.documentElement.style,Y.ae&&Y.He&&Y.Ve<=26),Vy=(Y.Te,!!k),Xy=!(!Ly&&!My),Wy=!!Uy,qy=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||Y.pe,Y.Le&&Y.Me,Fy&&Fy.canPlayType&&(""!==Fy.canPlayType("application/vnd.apple.mpegURL")||Y.ve&&!Y.Le&&Y.de>=4)),zy=Fy&&Fy.canPlayType&&""!==Fy.canPlayType("video/mp4")&&!Hy,Gy=Xy&&!Y.Ue&&!Y.xe&&!Y.Oe&&((Ly||My).isTypeSupported?(Ly||My).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Fy&&Fy.canPlayType&&""!==Fy.canPlayType('audio/mp4; codecs="mp4a.40.34"')),jy=Xy&&!Y.Ue&&(Gy||((Ly||My).isTypeSupported?(Ly||My).isTypeSupported("audio/mpeg"):Fy&&Fy.canPlayType&&""!==Fy.canPlayType("audio/mpeg"))),Qy=Xy&&!(Y.Be&&Y.ae)&&((Ly||My).isTypeSupported?(Ly||My).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):zy),Yy=(Y.Ue||Y.xe||Y.Oe,Y.Pe),Zy=Yy&&!1,Jy=!Y.Ue,$y=Y.xe&&Y.ce&&Y.fe<=6.1,Ky=Fy&&"onresize"in Fy;try{e&&e.top!==e.self}catch(t){!0}var tm=.001,nm=1e4,im=3,rm=function(t){function n(n){var i;return(i=t.call(this,Ml.W_)||this).currentTime=n,i}return F(n,t),n}(Ss),em=function(t){function n(n){var i;return(i=t.call(this,Ml.q_)||this).currentTime=n,i}return F(n,t),n}(Ss),sm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).tT=ml.P_,r.nT=!0,r.iT=!1,r.rT=!1,r.eT=function(t){var n=t.readyState;n!==r.tT&&r.Vo(t),n===ml.P_&&(r.iT=!1,r.rT=!1),r.sT(n),r.uT(n),r.oT(n),r.maybeDispatchCanPlayThroughEvent(n),r.hT(n),r.aT(n),r.tT=n},r.cT=function(){r.aT(r.tT),r.hT(r.tT),r.nT=r.fT.Z_},r.vT=function(){r.nT=r.fT.Z_},r.fT=n,r.dT=i,r.fT.Xo(Ml.Tl,r.eT),r.fT.Xo(Yo.gc,r.cT),r.fT.Xo(Yo._c,r.vT),r.dT&&r.fT.Xo(Ml.q_,r.Ho),r}F(n,t);var i=n.prototype;return i.sT=function(t){!this.rT&&t>=ml.B_&&(this.rT=!0,this.Vo(new ql(this.fT.z_,t)))},i.uT=function(t){!this.iT&&t>=ml.L_&&(this.iT=!0,this.Vo(new Yl(this.fT.z_,t)))},i.hT=function(t){this.dT||(t>=ml.M_&&this.tT<ml.M_&&!this.fT.Z_||this.lT&&t>=ml.M_)&&this.Vo(new em(this.fT.z_))},i.aT=function(t){!this._T(t)||this.fT.j_||this.fT.ih||this.Vo(new rm(this.fT.z_))},i.oT=function(t){this.tT<=ml.L_&&t>=ml.M_&&this.Vo(new Kl(this.fT.z_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ml.U_&&this.Vo(new t_(this.fT.z_,t))},i._T=function(t){var n=!this.fT.Z_&&t<=ml.L_,i=!this.nT&&this.tT<=ml.L_;return n&&!i},i.Ul=function(){this.tT=ml.P_,this.nT=!0,this.iT=!1,this.rT=!1},i.qv=function(){this.zo(),this.dT&&this.fT.Go(Ml.q_,this.Ho),this.fT.Go(Yo.gc,this.cT),this.fT.Go(Yo._c,this.vT),this.fT.Go(Ml.Tl,this.eT)},M(n,[{key:"lT",get:function(){return!this.fT.Z_&&this.nT}}]),n}(Ts),um="titanium",om="conax",hm="ezdrm",am="irdeto",cm="vudrm",fm="verimatrix",vm="keyos",dm="drmtoday",lm="expressplay",_m="azure",gm="xstream",wm="vimond",ym="axinom",mm="uplynk",km="comcast",pm="custom",Am=function(){function t(t,n,i,r,e){this.Zh=void 0,this.gT=void 0,this.wT=void 0,this.yT=void 0,this.qb=void 0,this.mT=void 0,this.kT=void 0,this.Zh=t,this.gT=n,this.wT=i,this.qb=r,this.kT=e,this.yT=this.pT(n)}var i=t.prototype;return i.AT=function(){return this.mT},i.bT=function(t){this.mT=t},i.TT=function(){return this.yT.licenseAcquisitionURL||this.AT()},i.ET=function(t){return E.resolve()},i.ST=function(t,n){return E.resolve(void 0)},i.RT=function(){var t=E.coroutine(te.mark(function t(i,r,e,s){var u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.IT(i,r,e,s)).kv){t.next=3;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.nl.yv(u);case 6:return o=t.sent,t.next=9,o.Jf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),as(t.t0),t.next=17,this.NT(t.t0,u.kv,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.IT=function(t,n,i,r){var e=this.CT().Mc(),s=this.Vv,u={kv:this.DT(),_v:n,lv:e,nv:t,Vv:s,Mv:Sf.POST,Uv:0,Lo:r,co:Rf.Ev,Fv:i};return new Df(u)},i.OT=function(t,n){return E.resolve(t)},i.xT=function(t,n,i,r){return E.resolve(t)},i.CT=function(){return new Jo(this.yT.headers||{})},i.NT=function(){var t=E.coroutine(te.mark(function t(i,r,e){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.DT=function(t,n){var i=n,r=this.yT.queryParameters;if(!i){var e=this.TT();if(!e)return"";i=e}if(r||t){var s=T.Fu(i);t&&Pf(s,t),r&&Pf(s,r),i=s.href}return i},i.PT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return E.resolve(new m(bm(t,i)))}(t,this.yT)},i.BT=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.LT(n,r);case 2:return e=t.sent,t.next=5,this.RT(e,this.kT,i,r);case 5:return s=t.sent,t.next=8,this.PT(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qv=function(){},M(t,[{key:"nl",get:function(){return this.qb}},{key:"MT",get:function(){return!1}},{key:"UT",get:function(){var t=this.yT.certificate;if(t)return rt(t)?Vs(t):Wu(t)}},{key:"FT",get:function(){return!1}},{key:"Vv",get:function(){return Boolean(this.yT.useCredentials)}}]),t}();function bm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Tm(t,n){var i=zu(t).buffer,r=n.licenseRequestProcessor;return E.resolve(bm(i,r))}var Em,Sm,Rm=function(t){function n(n,i,r,e){return t.call(this,be,n,i,r,e)||this}F(n,t);var i=n.prototype;return i.pT=function(t){return t.widevine||{}},i.HT=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UT){t.next=2;break}return t.abrupt("return",this.UT);case 2:return t.abrupt("return",this.VT(new m(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VT=function(n,i){return t.prototype.BT.call(this,n,If.Nv,i)},n}(Am);function Im(t,n){if(null==t)return{};var i,r,e={},s=l.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Nm(t){return $(t.token&&t.deviceId)}function Cm(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&$(i.PreAuthorization)}function Dm(t){var n=t;return Nm(n)&&""!==n.token&&""!==n.deviceId&&!Cm(n)}(Sm=Em||(Em={})).XT=!1,Sm.WT=!1,Sm.qT=!1,Sm.zT=!1,Sm.LOG_ADS_DETAILS=!1,Sm.LOG_CHROMECAST_DETAILS=!1,Sm.LOG_CUSTOM_DRM=!1,Sm.LOG_BUFFERING_VIDEO_MAIN=!1,Sm.LOG_BUFFERING_VIDEO_SELECTION=!1,Sm.LOG_BUFFERING_AUDIO_MAIN=!1,Sm.LOG_BUFFERING_AUDIO_SELECTION=!1,Sm.GT=!1,Sm.jT=!1;var Om,xm=function(){function t(t,n,i){this.QT=t,this.Lh=n,this.YT=i}return t.prototype.ZT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.YT.build(t))},M(t,[{key:"JT",get:function(){return this.QT}},{key:"Zh",get:function(){return this.Lh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Om||(Om={}));var Pm=function(){function t(){this.$T=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.KT(t,i,r)){case Om.FAILED:throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Om.OVERRIDDEN:var e=Km(i);T.Su("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Om.SUCCEEDED:Km(i);0}},i.KT=function(t,n,i){var r=Km(n);if(!r)return Om.FAILED;for(var e=Om.SUCCEEDED,s=0,u=this.$T.slice();s<u.length;s++){var o=u[s];o.JT===t&&o.Zh===r&&(e=Om.OVERRIDDEN,Ye(this.$T,o))}return this.$T.push(new xm(t,r,i)),e},i.tE=function(t,n){return void 0!==this.nE(t,n)},i.iE=function(t,n,i){var r=this.nE(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.ZT(i)},i.nE=function(t,n){for(var i=0,r=this.$T;i<r.length;i++){var e=r[i];if(e.JT===t&&(!n||e.Zh===n))return e}},t}();Pm.rE=new Pm;var Bm=["customdata"],Lm={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Mm(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||s||u||o||h||a||c)}function Um(t){return t&&void 0!==t.licenseAcquisitionURL}var Fm,Hm=Um,Vm=Um;function Xm(t){if(!t)return!0;if(Gm(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return Mm(n)&&Mm(i)&&Mm(r)&&Mm(e)&&Mm(s)}function Wm(t){var n=Dm(t),i=function(t){var n,i=t;return Cm(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Nm(i)}(t);return(!n||!i)&&(n||i)}function qm(t){return t.integration===am}function zm(t){var n=t;if(!n)return!1;if(Xm(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(Gm(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Hm(r))return!1;if(e&&!Vm(e))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Pm.rE.tE(n.integration))return!0;switch(n.integration){case um:if(!function(t){return t.integration===um&&(jm(t)||Qm(t))}(t))return!1;break;case cm:if(!Ym(t))return!1;break;case fm:if(!function(t){return t.integration===fm}(t))return!1;break;case am:if(!qm(t))return!1;break;case om:if(!Wm(t))return!1;break;case hm:if(!function(t){return t.integration===hm}(t))return!1;break;case vm:if(!Gm(t))return!1;break;case dm:if(!function(t){var n=t;return n.integration===dm&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case lm:if(!function(t){return t.integration===lm}(t))return!1;break;case gm:if(!Zm(t))return!1;break;case wm:if(!function(t){return t.integration===wm}(t))return!1;break;case ym:if(!Jm(t))return!1;break;case _m:if(!function(t){var n=t;return n.integration===_m&&void 0!==n.token}(t))return!1;break;case mm:if(!function(t){return t.integration===mm}(t))return!1;break;case km:if(!function(t){var n=t;return n&&$(n.releasePid)&&$(n.accountId)&&$(n.token)}(t))return!1;break;case pm:return!0;default:return!1}}return!0}function Gm(t){return t.integration===vm}function jm(t){return void 0!==t.authToken}function Qm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Ym(t){var n=t;return n.integration===cm&&void 0!==n.token}function Zm(t){var n=t;return n&&n.integration===gm&&rt(n.ticketAcquisitionURL)&&rt(n.streamId)}function Jm(t){var n=t;return n.integration===ym&&void 0!==n.token}function $m(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Lm[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},a=ne({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return ne({},Im(c,Bm),{licenseAcquisitionURL:u,headers:a})}function Km(t){switch(t.toLowerCase()){case"widevine":case ye:return ye;case"playready":case ge:return ge;case"fairplay":case ke:return ke}}function tk(t,i){switch(t){case de:return function(t){for(var n={},i=Fw.cp(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.ab]=e.vb}return n}(i);case le:case _e:return function(t){var n;return(n={})[me]=t,n}(i);default:throw new No(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.uo="Widevine",t.so="PlayreadyV2",t.eE="PlayreadyV2",t.sE="PlayreadyV3",t.oo="Fairplay"}(Fm||(Fm={}));var nk={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function ik(t,n){var i,r,e,s,u=nk[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=T.Vu)?void 0:i.Xu,OSVersion:null==(r=T.Vu)?void 0:r.Qu,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=T.Vu)?void 0:e.Yu,DeviceModel:null==(s=T.Vu)?void 0:s.Zu}}}function rk(t,i){if(!t.accountName)throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function ek(t,n,i){var r;if(jm(t))r={AuthToken:t.authToken,Payload:n};else{if(!Qm(t))throw rk(t,i);r={LatensRegistration:ik(t,i),Payload:n}}return Js(JSON.stringify(r))}function sk(t,n,i){return uk.apply(this,arguments)}function uk(){return(uk=E.coroutine(te.mark(function t(i,r,e){var s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.ed){t.next=3;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return u=s,t.prev=4,t.next=7,u.Yf(e);case 7:o=t.sent,h=ok(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.yv.kv,u.dv,u.gv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function ok(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var hk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Bc)||this).uE=void 0,e}F(i,t),i.oE=function(){return T.Xu.du?"required":"optional"};var r=i.prototype;return r.NT=function(t,n,i){return sk(t,n,i)},r.ET=function(t){return this.uE?fs(this.uE.Th,t):(this.uE=new Qu,E.resolve())},r.LT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.gT){t.next=3;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=Ws(i),t.abrupt("return",ek(e,s,Fm.uo));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.PT=function(t){var i;if(!t.license)throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Vs(t.license),E.resolve(i)},r.hE=function(t){return E.resolve(new m(t))},r.HT=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aE(),t.next=3,this.LT(n,i);case 3:return r=t.sent,t.next=6,this.RT(r,Zo.Pc,If.Cv,i);case 6:return e=t.sent,t.next=9,this.hE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.VT=function(){var n=E.coroutine(te.mark(function n(i,r){var e;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.VT.call(this,i,r);case 2:return e=n.sent,this.aE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.aE=function(){this.uE||(this.uE=new Qu),this.uE.Eh()},r.qv=function(){this.uE&&this.uE.xo(),t.prototype.qv.call(this)},i}(Rm),ak=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Pc)||this).bT("https://widevine-proxy.drm.technology/proxy"),e}return F(i,t),i.prototype.LT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tm(i,this.yT);case 2:if(e=t.sent,s=this.wT,r=new m(e),u=[].slice.call(r),o=this.cE){t.next=8;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(i,[{key:"cE",get:function(){if(Ym(this.gT))return this.gT.token}}]),i}(Rm);function ck(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ne({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ne({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var fk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Pc)||this).bT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}F(n,t);var i=n.prototype;return i.LT=function(t,n){return Tm(t,this.yT)},i.DT=function(n,i){var r=n;return qm(this.gT)&&(r=ck(this.gT,r)),t.prototype.DT.call(this,r,i)},n}(Rm),vk="Conax-Custom-Data";function dk(t,n,i){var r=t&&Wm(t)&&t;if(r&&!i.has(vk)){var e=Dm(r)?r.token:void 0,s=Dm(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(vk,u)}return i}var lk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Pc)||this).bT("https://connect.conax.com:8094/license"),e}F(n,t);var i=n.prototype;return i.LT=function(t,n){return Tm(t,this.yT)},i.CT=function(){var n=t.prototype.CT.call(this);return dk(this.gT,"Widevine",n)},n}(Rm);function _k(t){var n=Du(new m(t));return Vs(JSON.parse(n).license)}function gk(t){return"string"==typeof t.token?t.token:Js(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function wk(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var yk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Pc)||this).bT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}F(n,t);var i=n.prototype;return i.LT=function(t,n){return Tm(t,this.yT)},i.PT=function(t){return E.resolve(_k(t))},i.CT=function(){return wk(t.prototype.CT.call(this),this.cE,this.gT)},M(n,[{key:"cE",get:function(){return gk(this.gT)}}]),n}(Rm),mk=function(t){function n(n,i,r){return t.call(this,n,i,r,Zo.Pc)||this}F(n,t);var i=n.prototype;return i.LT=function(t,n){return Tm(t,this.yT)},i.CT=function(){var n=t.prototype.CT.call(this),i=this.gT.token;return n.set("Authorization","Bearer "+i),n},n}(Rm);function kk(t,n,i,r){return pk.apply(this,arguments)}function pk(){return(pk=E.coroutine(te.mark(function t(i,r,e,s){var u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Zm(i)){t.next=2;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Jo).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={kv:i.ticketAcquisitionURL,_v:Zo.Bc,lv:u,Mv:Sf.POST,nv:JSON.stringify(c),Lo:s},t.next=13,e.yv(f);case 13:return v=t.sent,t.next=16,v.Yf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Ak=function(t){function n(n,i,r){return t.call(this,n,i,r,Zo.Bc)||this}F(n,t);var i=n.prototype;return i.CT=function(){var n=t.prototype.CT.call(this);return n.set("Content-Type","application/json"),n},i.LT=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Zs(n.buffer),e=this.gT,t.next=4,kk(e,"widevine_modular",this.nl,i);case 4:return s=t.sent,this.bT(s.licenseServerUrl),u=Ou(JSON.stringify({payload:r,ticket:s.ticket})),t.abrupt("return",Tm(u,this.yT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.PT=function(t){var n=t;return E.resolve(Vs(n.license))},n}(Rm),bk=function(t){function i(n,i,r){return t.call(this,n,i,r,Zo.Pc)||this}F(i,t);var r=i.prototype;return r.LT=function(t,n){return Tm(t,this.yT)},r.CT=function(){if(!Jm(this.gT))throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.CT.call(this);return i.set("X-AxDRM-Message",this.gT.token),i},i}(Rm);function Tk(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Ek=function(t){function n(n,i,r){var e;return(e=t.call(this,Ae,n,i,r,Zo.Pc)||this).fE=void 0,e}F(n,t);var i=n.prototype;return i.pT=function(t){return t.playready||{}},i.CT=function(){var n=new Jo(this.fE);return n.Fc(t.prototype.CT.call(this)),n},i.vE=function(t){return t.length>=1&&t[0].As.length>0},i.ST=function(n){var i=this.gT.playready.customData;if(i){var r=Tk(i),e=Tk('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ws(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return E.resolve({playready:{Aa:e}})}return t.prototype.ST.call(this,n)},i.LT=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tm(n,this.yT);case 2:return r=t.sent,t.abrupt("return",this.dE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.dE=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=Iu(o,new Gu,!0),t.prev=3,a=T.hs(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a.ps("PlayReadyKeyMessage")[0])?void 0:i.ps("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c.ps("Challenge"))?r:[],this.vE(f)&&(u=Ys(f[0].Bs)),v=new Jo,d=null!=(e=null==c?void 0:null==(s=c.ps("HttpHeaders")[0])?void 0:s.ps("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_.ps("name")[0].Bs,w=_.ps("value")[0].Bs,v.append(g,w);return this.fE=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.HT=function(t,n){return E.resolve(t)},i.VT=function(n,i){return t.prototype.BT.call(this,n,If.Dv,i)},n}(Am),Sk=function(){function t(n){this.lE=void 0,this._E=n,this.lE=t.gE(n)}return t.gE=function(t){return"3"===t.version?Fm.sE:Fm.eE},t.prototype.wE=function(){var t={};if(this.lE===Fm.sE){var n={LatensRegistration:ik(this._E,Fm.sE)};t["X-TITANIUM-DRM-CDATA"]=Js(JSON.stringify(n))}return t},M(t,[{key:"yE",get:function(){return this.lE}},{key:"ha",get:function(){return this.lE===Fm.eE}}]),t}();var Rk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).mE=void 0,e.mE=new Sk(e.gT),e}F(i,t);var r=i.prototype;return r.ST=function(t){var i=this.gT;if(!this.gT)throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Qm(i)){var r={};return r.playready={Aa:Ik(i,this.mE.yE)},E.resolve(r)}return E.reject(rk(i,Fm.so))},r.CT=function(){var n=new Jo(this.mE.wE());return n.Fc(t.prototype.CT.call(this)),n},r.NT=function(){var t=E.coroutine(te.mark(function t(i,r,e){var s,u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.ed){t.next=3;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.$f(e);case 6:h=t.sent,a=Du(new m(h)),(c=T.hs(a))&&(f=zw(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Bs),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.dv,s.gv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.vE=function(t){if(1!==t.length)throw new A_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Ek);function Ik(t,n){var i=ik(t,n),r=i.DeviceInfo.FormatVersion,e=Js('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Pu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Pu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ws(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Nk,Ck=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bT("https://playready-license.drm.technology/rightsmanager.asmx"),e}F(i,t);var r=i.prototype;return r.vE=function(t){if(1!==t.length)throw new A_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.DT=function(n,i){var r=ne({},n||{},{token:this.cE});return t.prototype.DT.call(this,r,i)},M(i,[{key:"cE",get:function(){if(Ym(this.gT))return this.gT.token}}]),i}(Ek),Dk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return F(n,t),n.prototype.DT=function(n,i){var r=n;return qm(this.gT)&&(r=ck(this.gT,r)),t.prototype.DT.call(this,r,i)},n}(Ek),Ok=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return F(n,t),n.prototype.CT=function(){var n=t.prototype.CT.call(this);return dk(this.gT,"PlayReady",n)},n}(Ek),xk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}F(n,t);var i=n.prototype;return i.PT=function(n){return(Ce(Du(new m(n)),"<?xml")?Nk.kE:Nk.Yf)===Nk.Yf?E.resolve(_k(n)):E.resolve(t.prototype.PT.call(this,new m(n)))},i.CT=function(){return wk(t.prototype.CT.call(this),this.cE,this.gT)},M(n,[{key:"cE",get:function(){return gk(this.gT)}}]),n}(Ek);!function(t){t[t.kE=0]="kE",t[t.Yf=1]="Yf"}(Nk||(Nk={}));var Pk,Bk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).pE=void 0,e}F(n,t);var i=n.prototype;return i.CT=function(){var n=t.prototype.CT.call(this);return this.pE&&n.set("Ticket",this.pE),n.set("Content-Type","text/xml"),n},i.LT=function(){var n=E.coroutine(te.mark(function n(i,r){var e,s;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.gT,n.next=3,kk(e,"playready",this.nl,r);case 3:return s=n.sent,this.bT(s.licenseServerUrl),this.pE=s.ticket,n.abrupt("return",t.prototype.LT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(Ek),Lk=function(t){function i(){return t.apply(this,arguments)||this}return F(i,t),i.prototype.CT=function(){if(!Jm(this.gT))throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.CT.call(this);return i.set("X-AxDRM-Message",this.gT.token),i},i}(Ek);!function(t){t.Bc="application/json",t.AE="application/x-www-form-urlencoded",t.bE="application/octet-stream",t.es="text/plain;charset=UTF-8"}(Pk||(Pk={}));var Mk=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.Zh,i,r,e,s)||this).TE="",u.EE=void 0,u.SE=void 0,u.SE=n.RE,u}F(n,t);var i=n.prototype;return i.IE=function(){return this.yT.certificateURL||this.EE},i.NE=function(t){this.EE=t},i.LT=function(t){return E.resolve(this.CE(t,this.TE))},i.CE=function(t,n){return"spc="+encodeURIComponent(Ws(t))+"&assetId="+encodeURIComponent(n)},i.pT=function(t){return t.fairplay||{}},i.DE=function(t){var n=t.indexOf("?");if(n>=0)return E.resolve(t.substr(n+1));var i=t.split("/");return E.resolve(i[i.length-1])},i.ST=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.SE)?i:Lu(new m(n)),t.next=3,this.DE(r);case 3:return e=t.sent,this.TE=e,(s={}).fairplay={Na:e},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.CT=function(){var n=t.prototype.CT.call(this);return n.set("Content-Type",this.OE),n},i.HT=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UT){t.next=2;break}return t.abrupt("return",this.UT);case 2:return t.next=4,this.xE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VT=function(n,i){return t.prototype.BT.call(this,n,If.Rv,i)},i.PE=function(t){var n=this.IE(),i=this.CT(),r={kv:n,_v:Zo.Pc,lv:i,Mv:Sf.GET,Vv:!1,nv:null,Uv:0,Lo:t,co:Rf.Ev,Fv:If.Iv};return new Df(r)},i.xE=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.PE(n),t.next=3,this.nl.yv(i);case 3:return r=t.sent,t.next=6,r.$f();case 6:return e=t.sent,t.abrupt("return",new m(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Vs(i)}else n=new m(t);return E.resolve(n)},i.DT=function(n,i){var r=t.prototype.DT.call(this,n,i);return Ce(r,"skd:")&&(r=r.substr("skd:".length)),r},M(n,[{key:"FT",get:function(){return!0}},{key:"OE",get:function(){return Pk.AE}}]),n}(Am),Uk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.Pc)||this}F(n,t);var i=n.prototype;return i.DE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return E.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return E.resolve(i)},i.LT=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(t){return E.resolve(new m(t))},i.DT=function(n,i){var r=n||{};return r.p1=Jt(),t.prototype.DT.call(this,r,i)},M(n,[{key:"OE",get:function(){return Pk.bE}}]),n}(Mk),Fk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Pc)||this).bT("https://fairplay-license.drm.technology/license"),s.NE("https://fairplay-license.drm.technology/certificate"),s}F(i,t);var r=i.prototype;return r.CE=function(t,n){var i={token:this.cE,contentId:n,payload:Ws(t)};return JSON.stringify(i)},r.PT=function(t){return E.resolve(new m(t))},r.CT=function(){var n=t.prototype.CT.call(this);return n.set("x-vudrm-token",this.cE),n},M(i,[{key:"OE",get:function(){return Pk.Bc}},{key:"cE",get:function(){if(!Ym(this.gT))throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.gT.token}}]),i}(Mk),Hk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Vk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Xk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Pc)||this}return F(i,t),i.prototype.PT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Hk)}if(!i)throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Vk);return i}(Du(new DataView(i)));return t.prototype.PT.call(this,r)},i}(Mk);var Wk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Bc)||this}F(i,t);var r=i.prototype;return r.LT=function(){var t=E.coroutine(te.mark(function t(i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.gT){t.next=3;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Ws(i),t.abrupt("return",ek(r,e,Fm.oo));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.PT=function(t){try{var i;if(rt(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Ys(i.license);return E.resolve(new m(e))}return E.reject(new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return E.reject(new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.NT=function(t,n,i){return sk(t,n,i)},M(i,[{key:"OE",get:function(){return Pk.Bc}}]),i}(Mk),qk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Pc)||this).bT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.NE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}F(n,t);var i=n.prototype;return i.IE=function(){var n=t.prototype.IE.call(this);if(!n)return n;var i=T.Fu(n),r=this.gT;return qm(r)&&Pf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.DE=function(n){return qm(this.gT)?E.resolve(this.gT.contentId):t.prototype.DE.call(this,n)},i.LT=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(t){return E.resolve(new m(t))},i.DT=function(n,i){var r=n;return qm(this.gT)&&(r=function(t,n){return ne({},ck(t,n),{KeyId:t.keyId})}(this.gT,r)),t.prototype.DT.call(this,r,i)},M(n,[{key:"OE",get:function(){return Pk.bE}}]),n}(Mk),zk=function(t){function i(i,r,e,s){var u;if(u=t.call(this,i,r,e,s,Zo.es)||this,!Wm(r))throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.bT("https://connect.conax.com:8097/license"),u}F(i,t);var r=i.prototype;return r.CT=function(){var n=t.prototype.CT.call(this);return dk(this.gT,"FairPlay",n)},r.xE=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IE(),r={kv:i,_v:Zo.Pc,lv:{},Mv:Sf.GET,Vv:!1,nv:null,Uv:0,Lo:n,co:Rf.Ev,Fv:If.Iv},t.next=4,this.nl.yv(r);case 4:return e=t.sent,t.next=7,e.$f();case 7:return s=t.sent,t.abrupt("return",new m(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.LT=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.DE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),E.resolve(Du(Vs(n)))):E.resolve("unknown")},r.PT=function(t){try{var n=JSON.parse(t);return E.resolve(new m(Ys(n.CkcMessage)))}catch(t){return E.reject("CFLRW-66")}},i}(Mk),Gk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.es)||this).bT(Lm[fe.oo]),s}F(i,t);var r=i.prototype;return r.DE=function(t){return Ce(t,"skd://")?E.resolve(t.substring("skd://".length,40)):E.reject(new A_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.CE=function(t,n){return"spc="+Ws(t)+"&assetId="+n},i}(Mk),jk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.es)||this).bT("https://lic.drmtoday.com/license-server-fairplay/"),s}F(n,t);var i=n.prototype;return i.CE=function(t,n){var i="spc="+encodeURIComponent(Ws(t))+"&"+encodeURI(n);return"persistent"===this.yT.licenseType?i+"&offline=true":i},i.CT=function(){return wk(t.prototype.CT.call(this),this.cE,this.gT)},M(n,[{key:"cE",get:function(){return gk(this.gT)}}]),n}(Mk),Qk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.Pc)||this}F(n,t);var i=n.prototype;return i.DE=function(t){var n=t;return Ce(n,"skd:")&&(n="http:"+n.substring(4)),Ce(n,"http:")||Ce(n,"https:")?E.resolve(T.Fu(n).hostname):E.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.LT=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(t){return E.resolve(new m(t))},M(n,[{key:"OE",get:function(){return Pk.bE}}]),n}(Mk),Yk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.es)||this}return F(n,t),n.prototype.CT=function(){var n=t.prototype.CT.call(this),i=this.gT.token;return n.set("Authorization","Bearer "+i),n},n}(Mk),Zk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Zo.Bc)||this,!Zm(i))throw new v("Invalid Xstream DRM configuration");return s}F(n,t);var i=n.prototype;return i.xE=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IE(),r=this.CT(),e={kv:i,_v:Zo.Bc,lv:r,Mv:Sf.POST,Lo:n,co:Rf.Ev,Fv:If.Iv},t.next=5,this.nl.yv(e);case 5:return s=t.sent,t.next=8,s.Yf();case 8:return u=t.sent,t.abrupt("return",new m(Vs(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.VT=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Zo.es),e=Ws(n),s=this.gT,t.next=5,kk(s,"fairplay",this.nl,i);case 5:return u=t.sent,o=Ou(JSON.stringify({spc:e,ticket:u.ticket})),h={kv:this.TT(),_v:Zo.Bc,lv:this.CT(),Mv:Sf.POST,nv:o,Uv:0,Lo:i,co:Rf.Ev,Fv:If.Rv},t.next=10,this.nl.yv(h);case 10:return a=t.sent,t.next=13,a.Yf();case 13:return c=t.sent,t.abrupt("return",Vs(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"OE",get:function(){return Pk.Bc}}]),n}(Mk),Jk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.es)||this}F(i,t);var r=i.prototype;return r.CE=function(t,n){return Ws(t)},r.PT=function(i){if(0===i.length)throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.PT.call(this,i)},r.CT=function(){var n=t.prototype.CT.call(this);return n.set("Content-Type","text/plain"),n},i}(Mk),$k=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Pc)||this}F(i,t);var r=i.prototype;return r.CE=function(t,n){return t},r.PT=function(t){return E.resolve(new m(t))},r.CT=function(){if(!Jm(this.gT))throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.CT.call(this);return i.set("X-AxDRM-Message",this.gT.token),i},M(i,[{key:"OE",get:function(){return Pk.Bc}}]),i}(Mk),Kk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Bc)||this).BE=void 0,s}F(i,t);var r=i.prototype;return r.CE=function(t,n){var i={spc:Ws(t)};return JSON.stringify(i)},r.DE=function(t){var i=T.Fu(t);return this.BE=t,i.searchParams.has("b")?E.resolve(i.searchParams.get("b")):E.reject(new A_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.DT=function(n,i){var r=this.TT();return!r&&this.BE&&(r=this.BE),r&&(r=r.replace("skd://","https://")),t.prototype.DT.call(this,n,i||r)},r.PT=function(){var t=E.coroutine(te.mark(function t(i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=rt(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Vs(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),M(i,[{key:"OE",get:function(){return Pk.es}}]),i}(Mk),tp=function(){function t(t,n){this.LE=t,this.ME=n}var n=t.prototype;return n.UE=function(t){return this.LE(t)},n.FE=function(t,n){throw new d(n+" must be "+this.ME+". (Received: "+t+")")},t}(),np=new tp(ot,"a number"),ip=new tp(rt,"a string"),rp=new tp(et,"a boolean");var ep,sp=(ep={responseCode:np,isException:rp,description:ip,title:ip,correlationId:ip},{UE:function(t){if(!nt(t))return!1;for(var n=0,i=l.keys(ep);n<i.length;n++){var r=i[n];if(!ep[r].UE(t[r]))return!1}return!0},FE:function(t,n){if(!nt(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(ep);i<r.length;i++){var e=r[i],s=ep[e];if(!s.UE(t[e]))return s.FE(t[e],n+"."+e)}throw new d}});function up(t,n,i,r,e){return op.apply(this,arguments)}function op(){return(op=E.coroutine(te.mark(function t(n,i,r,e,s){var u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=hp(n,i,r,s),t.next=3,ap(u,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=T.Fu(t);return Pf(i,n),i.toString()}(i,e)),u=new Jo({});u.append("Content-Type","application/json");var o=Ws(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{kv:s,_v:Zo.es,lv:u,Mv:Sf.POST,nv:JSON.stringify(h),Lo:r,co:Rf.Ev,Fv:If.Rv}}function ap(t,n){return cp.apply(this,arguments)}function cp(){return(cp=E.coroutine(te.mark(function t(i,r){var e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.yv(i);case 2:return e=t.sent,t.next=5,e.Yf();case 5:if(s=t.sent,!sp.UE(s)){t.next=8;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.kv,s.responseCode);case 8:return t.abrupt("return",Vs(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var fp=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Pc)||this).HE=void 0,s.HE=i,s}F(n,t);var i=n.prototype;return i.DE=function(n){var i=n.replace("FairPlay",this.HE.releasePid);return t.prototype.DE.call(this,i)},i.VT=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,up(n,this.HE,this.TT(),this.nl,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Mk),vp=function(t){function i(n,i,r){return t.call(this,Ee,n,i,r,Zo.Pc)||this}F(i,t);var r=i.prototype;return r.pT=function(t){return t.clearkey||{}},r.LT=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tm(n,this.yT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.RT=function(){var i=E.coroutine(te.mark(function i(r,e,s,u){var o,h;return te.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.yT,!this.TT()){i.next=5;break}return i.abrupt("return",t.prototype.RT.call(this,r,this.kT,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Ou(JSON.stringify(h)).buffer);case 10:throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.HT=function(t,n){return E.resolve(new m(0))},r.VT=function(n,i){return t.prototype.BT.call(this,n,If.Ov,i)},i}(Am),dp=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.LT=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tm(n,this.yT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Rm),lp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function _p(t,n,i){return gp.apply(this,arguments)}function gp(){return(gp=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Cp(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,fs(E.resolve(s.call(n,e)),r);case 8:if(!Xu(u=t.sent)){t.next=11;break}return t.abrupt("return",Wu(u));case 11:return t.abrupt("return",Np(ne({},lp,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r,e){return yp.apply(this,arguments)}function yp(){return(yp=E.coroutine(te.mark(function t(n,i,r,e,s){var u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=Ip(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,fs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Wu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mp(t,n,i,r){return kp.apply(this,arguments)}function kp(){return(kp=E.coroutine(te.mark(function t(n,i,r,e){var s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bp(n,i,r,e);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",Np(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r,e,s){return Ap.apply(this,arguments)}function Ap(){return(Ap=E.coroutine(te.mark(function t(n,i,r,e,s,u){var o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Rp(r,s),t.next=3,Ep(n,new m(i),o,e,u);case 3:return h=t.sent,t.abrupt("return",Wu(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bp(t,n,i,r){return Tp.apply(this,arguments)}function Tp(){return(Tp=E.coroutine(te.mark(function t(n,i,r,e){var s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=Rp(i,r),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(u));case 5:return t.next=8,fs(E.resolve(s.call(n,u)),e);case 8:if(!Xu(o=t.sent)){t.next=11;break}return t.abrupt("return",Wu(o).buffer);case 11:return t.abrupt("return",ne({fairplaySkdUrl:void 0},lp,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ep(t,n,i,r,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=E.coroutine(te.mark(function t(n,i,r,e,s){var u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=Ip(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,fs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Wu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rp(t,n){return ne({},Cp(t),{fairplaySkdUrl:n})}function Ip(t,n,i){return{url:i.mv,status:i.dv,statusText:i.gv,headers:i.lv.Mc(),body:t,request:n}}function Np(t){return new Df({kv:t.url,Mv:t.method,lv:t.headers,nv:t.body,Vv:t.useCredentials})}function Cp(t){var n;return{url:t.kv,body:null!=(n=Dp(t.nv))?n:null,headers:t.lv.Mc(),method:t.Mv,useCredentials:t.Vv}}function Dp(t){if(t)return"string"==typeof t?Ou(t):t instanceof ArrayBuffer?new m(t):zs(t)?Vu(t):void 0}var Op,xp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).VE=void 0,s.VE=e,s}F(i,t);var r=i.prototype;return r.HT=function(t,n){return E.resolve(t)},r.VT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dE(zu(i).buffer);case 2:return e=t.sent,s=this.IT(e,Zo.Pc,If.Dv,r),t.next=6,mp(this.VE,s,void 0,r);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new m(u));case 10:if(""!==u.kv){t.next=12;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.nl.yv(u);case 15:return o=t.sent,t.next=18,o.$f(r);case 18:return h=t.sent,t.t0=m,t.next=22,pp(this.VE,h,s,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),as(t.t2),new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Ek),Pp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,Zo.Pc)||this).VE=void 0,s.VE=e,s}F(i,t);var r=i.prototype;return r.HT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UT){t.next=2;break}return t.abrupt("return",this.UT);case 2:return e=this.IT(i,Zo.Pc,If.Cv,r),t.next=5,_p(this.VE,e,r);case 5:if(!((s=t.sent)instanceof m)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.kv){t.next=11;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.nl.yv(s);case 14:return u=t.sent,t.next=17,u.$f(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),as(t.t0),new A_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=Rp(e,void 0),t.next=27,wp(this.VE,new m(o),h,u,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.VT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.IT(i,Zo.Pc,If.Nv,r),t.next=3,mp(this.VE,e,void 0,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s.kv){t.next=9;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.nl.yv(s);case 12:return u=t.sent,t.next=15,u.$f(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),as(t.t0),new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=m,t.next=25,pp(this.VE,o,e,u,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(dp),Bp=function(t){function i(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,Zo.Pc)||this).VE=void 0,u.XE=void 0,u.VE=s,u}F(i,t);var r=i.prototype;return r.HT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UT){t.next=2;break}return t.abrupt("return",this.UT);case 2:return e=this.PE(r),t.next=5,_p(this.VE,e,r);case 5:if(s=t.sent,!zs(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.nl.yv(s);case 11:return u=t.sent,t.next=14,u.$f();case 14:return o=t.sent,h=Rp(e,void 0),t.next=18,wp(this.VE,new m(o),h,u,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),as(t.t0),new A_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.VT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.IT(i,Zo.Pc,If.Rv,r),t.next=3,mp(this.VE,e,this.XE,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s.kv){t.next=9;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.nl.yv(s);case 12:return u=t.sent,t.next=15,u.$f(r);case 15:return o=t.sent,t.t0=m,t.next=19,pp(this.VE,o,e,u,this.XE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),as(t.t2),new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.DE=function(n){var i;return this.XE=n,null!=(i=this.VE)&&i.extractFairplayContentId?E.resolve(this.VE.extractFairplayContentId(n)):t.prototype.DE.call(this,n)},i}(Mk),Lp=function(){function t(){}var n=t.prototype;return n.WE=function(t,n,i,r){switch(t.Zh.co){case fe.uo:return this.qE(n,i,r);case fe.so:return this.zE(n,i,r);case fe.oo:return this.GE(t,n,i,r);case fe.ho:default:return this.jE(n,i,r)}},n.qE=function(t,n,i){var r,e=(r=t).integration===pm&&rt(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Pm.rE.tE(e,ye)){var s=Pm.rE.iE(e,ye,t);return new Pp(t,n,i,s)}switch(e){case um:return new hk(t,n,i);case cm:return new ak(t,n,i);case am:return new fk(t,n,i);case om:return new lk(t,n,i);case dm:return new yk(t,n,i);case _m:return new mk(t,n,i);case gm:return new Ak(t,n,i);case ym:return new bk(t,n,i);case vm:default:return new dp(t,n,i,Zo.Pc)}},n.zE=function(t,n,i){var r=t.integration;if(r&&Pm.rE.tE(r,ge)){var e=Pm.rE.iE(r,ge,t);return new xp(t,n,i,e)}switch(r){case um:return new Rk(t,n,i);case cm:return new Ck(t,n,i);case am:return new Dk(t,n,i);case om:return new Ok(t,n,i);case dm:return new xk(t,n,i);case gm:return new Bk(t,n,i);case ym:return new Lk(t,n,i);case vm:default:return new Ek(t,n,i)}},n.GE=function(t,n,i,r){var e=n.integration;if(e&&Pm.rE.tE(e,ke)){var s=Pm.rE.iE(e,ke,n);return new Bp(t,n,i,r,s)}switch(e){case hm:return new Uk(t,n,i,r);case cm:return new Fk(t,n,i,r);case fm:return new Xk(t,n,i,r);case um:return new Wk(t,n,i,r);case am:return new qk(t,n,i,r);case om:return new zk(t,n,i,r);case vm:return new Gk(t,n,i,r);case dm:return new jk(t,n,i,r);case lm:return new Qk(t,n,i,r);case _m:return new Yk(t,n,i,r);case gm:return new Zk(t,n,i,r);case wm:return new Jk(t,n,i,r);case ym:return new $k(t,n,i,r);case mm:return new Kk(t,n,i,r);case km:return new fp(t,n,i,r);default:return new Mk(t,n,i,r,Zo.es)}},n.jE=function(t,n,i){return new vp(t,n,i)},n.QE=function(t){return t.co===fe.so||t.co===fe.uo||t.co===fe.oo||t.co===fe.ho},n.ha=function(t,n){var i;if(t.co!==fe.so)return!1;if($(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Pm.rE.tE(r,ke))&&(r===um&&new Sk(n).ha)},n.oE=function(t,n){if(t.co===fe.uo){var i=n.integration;if(!i||!Pm.rE.tE(i,ke))return i===um?hk.oE():void 0}},t}();!function(t){t[t.YE=0]="YE",t[t.ZE=1]="ZE",t[t.JE=2]="JE",t[t.$E=3]="$E",t[t.R_=4]="R_",t[t.KE=5]="KE",t[t.x_=6]="x_",t[t.tS=7]="tS",t[t.nS=8]="nS"}(Op||(Op={}));var Mp,Up=function(){function t(){}return t.prototype.iS=function(t){},M(t,[{key:"rS",get:function(){return 0}},{key:"eS",get:function(){return 0}}]),t}(),Fp=function(){function t(t,n){void 0===n&&(n=new Lp),this.qb=void 0,this.sS=void 0,this._E=void 0,this.qb=t,this.sS=n}var n=t.prototype;return n.uS=function(t){this._E=t},n.oE=function(t){var n=this._E;if(void 0!==n)return this.sS.oE(t,n)},n.ha=function(t){var n=this._E;return void 0!==n&&this.sS.ha(t,n)},n.oS=function(t){var n={Zh:t.Zh,hS:t.hS||[],RE:t.RE},i=this.sS.WE(n,this._E||{},t.wT,this.qb);return new Hp(i)},t}(),Hp=function(){function t(t){this.aS=void 0,this.aS=t}var n=t.prototype;return n.ET=function(t){return this.aS.ET(t)},n.ST=function(t,n,i){return this.aS.ST(n,i)},n.FT=function(){return this.aS.FT||void 0!==this.aS.UT},n.HT=function(t,n){return this.aS.HT(t,n)},n.VT=function(t,n,i){return n&&this.aS.bT(n),this.aS.VT(t,i)},n.Ro=function(){this.aS.qv()},t}(),Vp=function(t){function n(n){var i;(i=t.call(this)||this).cS=[],i.fS=function(t){i.Bl(t.fl)},i.vS=function(t){var n=t.fl;i.dS(n)||i.Ll(n)};for(var r=0;r<n.length;r++){var e=n[r];i.lS(e)}return i}F(n,t);var i=n.prototype;return i.lS=function(t){this.cS.push(t);for(var n=0,i=t.Fl;n<i.length;n++){var r=i[n];this.Bl(r)}this._S(t)},i.gS=function(t){Ye(this.cS,t),this.wS(t);for(var n=0,i=t.Fl;n<i.length;n++){var r=i[n];this.dS(r)||this.Ll(r)}},i.dS=function(t){for(var n=0,i=this.cS;n<i.length;n++){if(i[n].Ml(t))return!0}return!1},i._S=function(t){t.Xo(kd.il,this.fS),t.Xo(kd.ul,this.vS)},i.wS=function(t){t.Go(kd.il,this.fS),t.Go(kd.ul,this.vS)},i.qv=function(){for(;this.cS.length>0;)this.gS(this.cS[0]);t.prototype.qv.call(this)},i.cl=function(){return ul(this)},n}(Dd);function Xp(){return Mp||(Mp=kr&&kr.document&&kr.document.createElement("video")),Mp}var Wp=function(t){function n(n,i,r,e,s,u,o){var h;return void 0===u&&(u=new Lp),void 0===o&&(o=Wo()),(h=t.call(this)||this).yS=void 0,h.mS=void 0,h.kS=void 0,h._g=void 0,h.gg=void 0,h.wg=void 0,h.pS=void 0,h.AS=void 0,h.bS=void 0,h.TS=void 0,h.ES=void 0,h.qb=void 0,h.wo=void 0,h.SS=void 0,h.RS=void 0,h.IS=new Up,h.NS=function(t){var n=t.ih,i=n.code,r=new No(S_(i),"Something went wrong during native playback.",n),e=new b_(i,r.message,n.message);h.CS(r,e)},h.DS=function(){h.Vo(new jl(h.z_,h.jg))},h.OS=function(t){h.Z_||(h.RS=void 0),h.Vo(t)},h.xS=function(t){h.RS=void 0,h.Vo(t)},h.PS=function(){h.Vo(new z_(h.Yg))},h.LS=function(){h.ng>0&&h.tg>0&&h.Vo(new Py)},h.MS=function(t){h._g.Bl(new F_(t.track))},h.US=function(t){var n=Gp(h._g,t.track);n&&h._g.Ll(n)},h.FS=function(){h.HS(h._g)},h.VS=function(t){h.gg.Bl(new q_(t.track))},h.XS=function(t){var n=Gp(h.gg,t.track);n&&h.gg.Ll(n)},h.WS=function(){h.HS(h.gg)},h.qS=function(t){h.Vo(t),h.CS(t.errorObject,E_(t.errorObject))},h.yS=i,h.qb=r,h.wo=o,h.mS=h.yS.zS(R_.Bv),h.bS=h.mS.GS.preload,h.TS=new sm(h.mS,!0),h.TS.Xo(Wl,h.Ho),h.SS=new Fp(r,u),h.mS.jS=h.SS,h.QS(),h._g=new I_,h.gg=new I_,h.YS(),h.ES=new Ry(h.mS,h.qb),h.wg=new Vp([h.mS.bg]),h.Lg(),h}F(n,t);var i=n.prototype;return i.Mg=function(){this.mS.Mg()},i.Lg=function(){this.mS.Lg()},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(r),e={co:xy.$b,v_:n.src,tv:n.type,ZS:this.JS(n),ew:this.bS,$S:n.crossOrigin,KS:i.metadata&&i.metadata.title},this.SS.uS(n.contentProtection),t.next=5,this.mS.Vh(e);case 5:this.kS=t.sent,hs(r),i.textTracks&&this.tR(i.textTracks),Oy(this.bg);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.mS.nR()&&Y.pe&&Wy&&!ky(i.kind,i.label)&&this.iR(i)){var r,e=null!=(r=i.kind)?r:oy.Rk;this.mS.rR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.ES.Gb(i)}}},i.iR=function(t){return!t.format||"webvtt"===t.format},i.Eg=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.mS.Eg();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.eR){t.next=12;break}return t.next=10,this.mS.Zo(Yo.wc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Sg=function(){this.mS.Sg()},i.Cg=function(){return void 0!==this.mS.GS.webkitShowPlaybackTargetPicker},i.Dg=function(){this.mS.GS.webkitShowPlaybackTargetPicker&&this.mS.GS.webkitShowPlaybackTargetPicker()},i.Og=function(){this.mS.GS.webkitShowPlaybackTargetPicker&&this.mS.GS.webkitShowPlaybackTargetPicker()},i.Ug=function(){return this.mS.GS},i.Fg=function(){return this.mS.sR},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pS=void 0,this.AS=void 0,this.kS=void 0,t.next=5,this.ES.Ul();case 5:return this.mS.uR(),t.next=8,this.mS.Ul();case 8:this.TS.Ul(),this.ew=this.bS,this.pg.Ul(),this.Ag.Ul(),this.RS=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ul();case 2:return this.zo(),this.oR(),this.hR(),this.TS.qv(),this.mS.jS=void 0,t.next=9,this.yS.aR(this.mS);case 9:return this._g.qv(),this.gg.qv(),this.wg.qv(),t.next=14,this.ES.qv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QS=function(){this.mS.Xo(Yo.gc,this.Ho),this.mS.Xo(Yo._c,this.Ho),this.mS.Xo(Yo.Nc,this.DS),this.mS.Xo(Yo.wc,this.Ho),this.mS.Xo(Yo.cc,this.Ho),this.mS.Xo(Yo.Ac,this.Ho),this.mS.Xo(Yo.pc,this.OS),this.mS.Xo(Yo.oc,this.Ho),this.mS.Xo(Yo.yc,this.Ho),this.mS.Xo(Yo.Cc,this.Ho),this.mS.Xo(Yo.sc,this.Ho),this.mS.Xo(Yo.kc,this.LS),this.mS.Xo(Ml.q_,this.xS),this.mS.Xo(tl.u_,this.NS),this.mS.Xo(Yo.ic,this.Ho),this.mS.Xo(Yo.nc,this.qS),this.mS.GS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.PS)},i.oR=function(){this.mS.Go(Yo.gc,this.Ho),this.mS.Go(Yo._c,this.Ho),this.mS.Go(Yo.Nc,this.DS),this.mS.Go(Yo.wc,this.Ho),this.mS.Go(Yo.cc,this.Ho),this.mS.Go(Yo.Ac,this.Ho),this.mS.Go(Yo.pc,this.OS),this.mS.Go(Yo.oc,this.Ho),this.mS.Go(Yo.yc,this.Ho),this.mS.Go(Yo.Cc,this.Ho),this.mS.Go(Yo.sc,this.Ho),this.mS.Go(Yo.kc,this.LS),this.mS.Go(Ml.q_,this.xS),this.mS.Go(tl.u_,this.NS),this.mS.Go(Yo.ic,this.Ho),this.mS.Go(Yo.nc,this.qS),this.mS.GS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.PS)},i.JS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Zh:Te,cR:[{initDataTypes:[Te.vo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.YS=function(){var t=this.mS.GS.audioTracks,n=this.mS.GS.videoTracks;t&&(t.addEventListener("addtrack",this.MS),t.addEventListener("removetrack",this.US),t.addEventListener("change",this.FS)),n&&(n.addEventListener("addtrack",this.VS),n.addEventListener("removetrack",this.XS),n.addEventListener("change",this.WS))},i.hR=function(){var t=this.mS.GS.audioTracks,n=this.mS.GS.videoTracks;t&&(t.removeEventListener("addtrack",this.MS),t.removeEventListener("removetrack",this.US),t.removeEventListener("change",this.FS)),n&&(n.removeEventListener("addtrack",this.VS),n.removeEventListener("removetrack",this.XS),n.removeEventListener("change",this.WS))},i.HS=function(t){for(var n=0;n<t.Hl;n++){t.Pl(n)._w()}},i.zg=function(){this.mS.zg()},i.CS=function(t,n){this.pS||(this.pS=n,this.AS=t,this.Vo(new i_(t)))},M(n,[{key:"eR",get:function(){var t=this.mS.Gg,n=this.z_;return t.fR(n,.01)}},{key:"pg",get:function(){return this._g}},{key:"Gg",get:function(){return this.mS.Gg.vR()}},{key:"jg",get:function(){return this.mS.jg},set:function(t){t&&this.mS.dR(t)}},{key:"z_",get:function(){return void 0!==this.RS?this.RS:this.mS.z_},set:function(t){this.Yg&&(this.RS=t),this.mS.yh(t)}},{key:"G_",get:function(){return this.mS.G_}},{key:"j_",get:function(){return this.mS.j_}},{key:"ih",get:function(){return this.pS}},{key:"Q_",get:function(){return this.AS}},{key:"Tg",get:function(){}},{key:"Yg",get:function(){return this.mS.Yg}},{key:"ag",get:function(){return ne({},{Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.mS.lR())}},{key:"Y_",get:function(){return this.mS.Y_},set:function(t){this.mS.Y_=t}},{key:"iw",get:function(){return!0}},{key:"Z_",get:function(){return this.mS.Z_}},{key:"J_",get:function(){return this.mS.J_},set:function(t){this.mS.J_=t}},{key:"rw",get:function(){return this.mS.GS.played}},{key:"ew",get:function(){return this.bS},set:function(t){this.bS=t,this.kS&&(this.kS.ew=t)}},{key:"a_",get:function(){return this.mS.a_}},{key:"sw",get:function(){return this.mS.sw.vR()}},{key:"K_",get:function(){return this.mS.K_}},{key:"_R",get:function(){return this.mS._R}},{key:"bg",get:function(){return this.wg}},{key:"Ag",get:function(){return this.gg}},{key:"tg",get:function(){return this.mS.tg}},{key:"ng",get:function(){return this.mS.ng}},{key:"ig",get:function(){return this.mS.ig},set:function(t){this.mS.ig=t}},{key:"uw",get:function(){return this.mS.uw},set:function(t){this.mS.uw=t}},{key:"gR",get:function(){return this.IS}}]),n}(al);function qp(t){return!t.type||!(!Xp().canPlayType||!Xp().canPlayType(t.type))}var zp=function(){function t(){this.wR=Op.nS}var n=t.prototype;return n.ZT=function(t,n,i,r,e,s){return new Wp(t,n,i,r,e)},n.yR=function(t,n){return qp(t)},n.mR=function(){return!1},t}();function Gp(t,n){for(var i=0,r=t.Fl;i<r.length;i++){var e=r[i];if(e.yw===n)return e}}var jp=function(){function t(){this.kR=new zp,this.pR=[]}t.AR=function(){return this.$e};var n=t.prototype;return n.bR=function(t){this.pR.push(t)},n.ZT=function(t,n,i,r,e,s){for(var u=this.kR.ZT(t,n,i,r,e,s),o=0,h=this.pR;o<h.length;o++){u=(0,h[o])(u,i,r)}return u},n.yR=function(t,n){return this.kR.yR(t,n)},n.mR=function(){return!1},M(t,[{key:"wR",get:function(){return this.kR.wR}}]),t}();function Qp(t,n){return _g(t.wR,n.wR)}function Yp(t){Zp.$e.ER(t)}jp.$e=new jp;var Zp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).SR=jp.AR(),n}F(n,t);var i=n.prototype;return i.RR=function(t){this.SR=t},i.IR=function(){return this.SR},i.NR=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.DR(e,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{OR:e,xR:s});case 8:r++,t.next=1;break;case 11:u=this.SR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.yR(h,i)){t.next=17;break}return t.abrupt("return",{OR:h,xR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{OR:n[0],xR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.PR=[]}var n=t.prototype;return n.ER=function(t){this.PR.push(t),this.PR.sort(Qp)},n.DR=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.PR;case 1:if(!(r<e.length)){t.next=17;break}if(s=e[r],!st(u=s.yR(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Zp.$e=new Zp;var Jp,$p=function(){function t(t){this.LR=void 0,this.LR=kr&&kr.document&&kr.document.createElement("div"),Cr(this.LR),t.appendChild(this.LR)}return t.prototype.qv=function(){Sr(this.LR)},t}();function Kp(t){switch(t){case Jp.MR:case"":return Jp.MR;case Jp.Nk:return Jp.Nk;case Jp.UR:default:return Jp.UR}}!function(t){t.nS="",t.UR="none",t.Nk="metadata",t.MR="auto"}(Jp||(Jp={}));var tA=[tl.u_,Yo.uc,Yo.rh,Yo.xc,Yo.Ja,Yo.hc,Yo.dc,Yo.lc,Yo.Tc,Yo.Sc,Ml.F_,Ml.H_,Ml.V_,Ml.X_,Ml.Tl,Ml.W_,Ml.q_,Yo.nc,Yo.ic,Yo.sc,Yo.oc,Yo.cc,Yo.fc,Yo.gc,Yo.wc,Yo._c,Yo.yc,Yo.kc,Yo.Ac,Yo.pc,Yo.Nc,Yo.Cc,Yo.mc,Yo.vc,Yo.bc],nA=function(t){function n(n,i){var r;return(r=t.call(this)||this).FR=void 0,r.HR=void 0,r.XR=void 0,r.WR=void 0,r.bS=Jp.UR,r.qR=void 0,r.zR=!0,r._g=new nl,r.gg=new nl,r.wg=new hl,r.yg=new k_,r.FR=n,r.XR=i,r.XR.ew=r.ew,r.GR(),r}F(n,t);var i=n.prototype;return i.Sg=function(){this.XR.Sg()},i.Eg=function(){var t=this.XR.Eg();st(t)&&gs(t)},i.Rg=function(){return this.Ng(void 0)},i.xg=function(){},i.Vg=function(t){return!1},i.GR=function(){this._g.Gl=this.XR.pg,this.gg.Gl=this.XR.Ag,this.wg.Gl=this.XR.bg,this.yg.Gl=this.XR.Tg,this.XR.Xo(tA,this.Ho)},i.jR=function(){this.XR.Go(tA,this.Ho),this._g.Gl=void 0,this.gg.Gl=void 0,this.wg.Gl=void 0,this.yg.Gl=void 0},i.Ig=function(){return this.qR},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(i),this.qR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Dl(r=n.sources.filter(Ll))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.FR.NR(r,n);case 9:if(e=t.sent,hs(i),s=e.OR,u=e.xR,o=this.Fg(),h=s_(this),this.HR===u&&!this.ih){t.next=25;break}return this.jR(),t.next=19,this.XR.qv();case 19:hs(i),this.HR=u,this.XR=this.QR(u),iA(this.XR,h),o_(this,h,this),this.GR();case 25:return this.XR.ew=this.ew,this.zR?this.XR.Lg():this.XR.Mg(),t.next=29,this.XR.Ng(s,n,i);case 29:hs(i),this.YR(s),this.Fg()!==o&&this.Vo(new fl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YR=function(t){this.WR!==t&&(this.WR=t,this.Vo(new vl(t)))},i.Cg=function(){return this.XR.Cg()},i.Dg=function(){this.XR.Dg()},i.Og=function(){this.XR.Og()},i.Fg=function(){return this.XR.Fg()},i.zg=function(){this.XR.zg()},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qR=void 0,this.YR(void 0),t.next=4,this.XR.Ul();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),t.next=3,this.Ul();case 3:return t.next=5,this.XR.qv();case 5:this._g.qv(),this.gg.qv(),this.wg.qv(),this.yg.qv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lg=function(){this.zR=!0,this.XR.Lg()},i.Mg=function(){this.zR=!1,this.XR.Mg()},M(n,[{key:"pg",get:function(){return this._g}},{key:"Gg",get:function(){return this.XR.Gg}},{key:"ih",get:function(){return this.XR.ih}},{key:"Q_",get:function(){return this.XR.Q_}},{key:"jg",get:function(){return this.XR.jg},set:function(t){this.XR.jg=t}},{key:"qg",get:function(){return this.WR}},{key:"z_",get:function(){return this.XR.z_},set:function(t){this.XR.z_=t}},{key:"G_",get:function(){return this.XR.G_}},{key:"j_",get:function(){return this.XR.j_}},{key:"Tg",get:function(){return this.yg}},{key:"Yg",get:function(){return this.XR.Yg}},{key:"ag",get:function(){return this.XR.ag}},{key:"Y_",get:function(){return this.XR.Y_},set:function(t){this.XR.Y_=t}},{key:"iw",get:function(){return this.XR.iw}},{key:"Z_",get:function(){return this.XR.Z_}},{key:"J_",get:function(){return this.XR.J_},set:function(t){this.XR.J_=t}},{key:"rw",get:function(){return this.XR.rw}},{key:"ew",get:function(){return this.bS},set:function(t){this.bS=t,this.XR&&(this.XR.ew=this.bS)}},{key:"a_",get:function(){return this.XR.a_}},{key:"sw",get:function(){return this.XR.sw}},{key:"K_",get:function(){return this.XR.K_}},{key:"bg",get:function(){return this.wg}},{key:"tg",get:function(){return this.XR.tg}},{key:"Ag",get:function(){return this.gg}},{key:"ng",get:function(){return this.XR.ng}},{key:"ig",get:function(){return this.XR.ig},set:function(t){this.XR.ig=t}},{key:"gR",get:function(){return this.XR.gR}}]),n}(Ts);function iA(t,n){t.Y_!==n.Y_&&(t.Y_=n.Y_),t.ig!==n.ig&&(t.ig=n.ig),t.J_!==n.J_&&(t.J_=n.J_)}var rA,eA=function(t){function n(n,i){var r;return(r=t.call(this)||this).Hl=void 0,r.ZR=void 0,r.JR=void 0,r.Hl=n.length>>1,r.ZR=n,r.JR=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Hl),r}F(n,t);var i=n.prototype;return i.$R=function(t){return this.ZR[2*t]},i.KR=function(t){return this.JR[2*t]},i.tI=function(t){return this.ZR[2*t+1]},i.nI=function(t){return this.JR[2*t+1]},M(n,[{key:"iI",get:function(){return this.ZR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Gw=function(t,n){return 0===this.ay(t,n)},n.Hy=function(t,n){return this.ay(t,n)>0},n.Vy=function(t,n){return this.ay(t,n)>=0},n.wy=function(t,n){return this.ay(t,n)<0},n._y=function(t,n){return this.ay(t,n)<=0},n.om=function(t,n){return this.wy(t,n)?t:n},n.um=function(t,n){return this.Hy(t,n)?t:n},n.rI=function(t,n,i){return i?this._y(t,n):this.wy(t,n)},n.vR=function(){var t=this;return{get length(){return t.Hl},start:function(n){var i=0|n;return t.eI(i),t.sI(t.$R(i))},end:function(n){var i=0|n;return t.eI(i),t.sI(t.tI(i))}}},n.uI=function(){for(var t=new Array(2*this.Hl),n=new Array(2*this.Hl),i=0;i<this.Hl;i++)t[2*i]=this.$R(i),t[2*i+1]=this.tI(i),n[2*i]=!0,n[2*i+1]=!0;return this.oI(t,n)},n.eI=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Hl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Hl+")")},n.hI=function(t){if(0===this.Hl)return this.aI();if(this.fR(t))return t;if(this._y(t,this.$R(0)))return this.$R(0);if(this.Vy(t,this.tI(this.Hl-1)))return this.tI(this.Hl-1);for(var n,i=this.cI(),r=0;r<this.Hl;r++){var e=this.$R(r),s=this.gy(e,t);this.wy(s,i)&&(n=e,i=s);var u=this.tI(r),o=this.gy(this.tI(r),t);this.wy(o,i)&&(n=u,i=o)}return n},n.fI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Hl&&i<t.Hl;){var s=this.$R(n),u=this.tI(n),o=this.KR(n),h=this.nI(n),a=t.$R(i),c=t.tI(i),f=t.KR(i),v=t.nI(i),d=this.um(s,a),l=this.om(u,c),_=void 0;_=this.Gw(s,a)?o&&f:this.Gw(d,s)?o:f;var g=void 0;g=this.Gw(u,c)?h&&v:this.Gw(l,u)?h:v,(this.wy(d,l)||_&&g&&this.Gw(d,l))&&(r.push(d,l),e.push(_,g));var w=this.ay(this.tI(n),t.tI(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.oI(r,e)},n.vI=function(){var t=this.dI(),n=t.Hl;if(0===n)return this.oI([t.lI(),t.cI()],[!1,!1]);var i=[],r=[],e=t.$R(0);t.Gw(e,t.lI())||(i.push(t.lI(),e),r.push(!1,!t.KR(0)));for(var s=0;s<n-1;s++)i.push(t.tI(s),t.$R(s+1)),r.push(!t.nI(s),!t.KR(s+1));var u=t.tI(n-1);return t.Gw(u,t.cI())||(i.push(u,t.cI()),r.push(!t.nI(n-1),!1)),t.oI(i,r)},n._I=function(t){for(var n=0,i=0,r=this.Hl,e=t.Hl,s=new Array(2*(r+e)),u=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.$R(n),a=this.tI(n),c=t.$R(i),f=t.tI(i);this.wy(h,c)||this.Gw(h,c)&&this.wy(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.KR(n),u[o+1]=this.nI(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.KR(i),u[o+1]=t.nI(i),i++),o+=2}for(;n<r;)s[o]=this.$R(n),s[o+1]=this.tI(n),u[o]=this.KR(n),u[o+1]=this.nI(n),n++,o+=2;for(;i<e;)s[o]=t.$R(i),s[o+1]=t.tI(i),u[o]=t.KR(i),u[o+1]=t.nI(i),i++,o+=2;return this.oI(s,u)},n.gI=function(t){void 0===t&&(t=this.aI());var n=this.Hl;if(n<2)return this;for(var i=[],r=[],e=this.$R(0),s=this.tI(0),u=this.KR(0),o=this.nI(0),h=1;h<n;h++){var a=this.$R(h),c=this.tI(h),f=this.KR(h),v=this.nI(h);this.wy(e,a)&&this.Hy(s,c)||(this.Gw(e,a)&&(u=f=u||f),this.Gw(s,c)&&(o=v=o||v),this.rI(a,this.hw(s,t),o||f)?(s=c,o=v):(i.push(e,s),r.push(u,o),e=a,s=c,u=f,o=v))}return i.push(e,s),r.push(u,o),this.oI(i,r).dI()},n.dI=function(){for(var t=[],n=[],i=0;i<this.Hl;i++){var r=this.$R(i),e=this.tI(i),s=this.KR(i),u=this.nI(i);this.Gw(r,e)?(s||u)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(s,u))}return this.oI(t,n)},n.wI=function(t){return this.Hl?t.Hl?this._I(t).gI():this:t},n.yI=function(t){var n=this.dI(),i=t.dI(),r=n.vI(),e=i.vI(),s=r.fI(i),u=e.fI(n);return s.wI(u)},n.wh=function(t){if(this.Gw(t,this.aI()))return this;for(var n=[],i=[],r=0;r<this.Hl;r++){var e=this.hw(this.$R(r),t),s=this.hw(this.tI(r),t);n.push(e,s),i.push(this.KR(r),this.nI(r))}return this.oI(n,i)},n.mI=function(t){return 0===this.Hl||0===t.Hl?this:this.dI().fI(t.dI().vI())},n.fR=function(t,n){return this.kI(t,n)>=0},n.pI=function(t,n,i,r,e){return this.AI(t,n,i,r,e)>=0},n.bI=function(t,n,i,r,e){return this.TI(t,n,i,r,e)>=0},n.EI=function(t){if(t.Hl!==this.Hl)return!1;for(var n=0;n<this.Hl;n++)if(!this.Gw(this.$R(n),t.$R(n))||!this.Gw(this.tI(n),t.tI(n))||this.KR(n)!==t.KR(n)||this.nI(n)!==t.nI(n))return!1;return!0},n.SI=function(t){for(var n=[],i=[],r=0;r<this.Hl;r++){var e=this.$R(r),s=this.tI(r),u=this.KR(r),o=this.nI(r);t(e,s,u,o)&&(n.push(e,s),i.push(u,o))}return this.oI(n,i)},n.TI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.aI());for(var s=this.py(t,e),u=this.hw(n,e),o=0;o<this.Hl;o+=1)if(this.rI(this.$R(o),u,!r||this.KR(o))&&this.rI(s,this.tI(o),!i||this.nI(o)))return o;return-1},n.AI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.aI());for(var s=this.hw(t,e),u=this.py(n,e),o=0;o<this.Hl;o+=1)if(this.rI(this.$R(o),s,!i||this.KR(o))&&this.rI(u,this.tI(o),!r||this.nI(o)))return o;return-1},n.kI=function(t,n){return this.AI(t,t,!0,!0,n)},n.RI=function(t,n){void 0===n&&(n=this.aI());for(var i=this.hw(t,n),r=this.Hl-1;r>=0;r-=1)if(this.rI(this.$R(r),i,this.KR(r)))return r;return-1},n.II=function(t,n){void 0===n&&(n=this.aI());for(var i=this.py(t,n),r=0;r<this.Hl;r+=1)if(this.rI(i,this.tI(r),this.nI(r)))return r;return-1},n.NI=function(t){return this.eI(t),this.oI([this.$R(t),this.tI(t)],[this.KR(t),this.nI(t)])},n.CI=function(t,n){var i=this.kI(t,n);return i<0?void 0:this.NI(i)},M(t,[{key:"DI",get:function(){for(var t=this.aI(),n=0;n<this.Hl;n++){var i=this.py(this.tI(n),this.$R(n));t=this.hw(t,i)}return t}}]),t}()),sA=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.ay=function(t,n){return t<n?dg.sy:t===n?dg.iy:dg.ey},i.hw=function(t,n){return t+n},i.py=function(t,n){return t-n},i.gy=function(t,n){return _.abs(t-n)},i.aI=function(){return 0},i.cI=function(){return 1/0},i.lI=function(){return-1/0},n.OI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.xI=function(t){for(var i=[],r=[],e=0;e<t.Hl;e++)i.push(t.$R(e).cm),i.push(t.tI(e).cm),r.push(t.KR(e)),r.push(t.nI(e));return new n(i,r)},n.BI=function(t){return new n([t,t],[!0,!0])},i.oI=function(t,i){return new n(t,i)},i.sI=function(t){return t},n.LI=function(){return uA},n}(eA),uA=new sA([]);!function(t){t.Al="fullscreenchange",t.MI="fullscreensupportchange",t.u_="fullscreenerror"}(rA||(rA={}));var oA=function(t){function n(){return t.call(this,rA.u_)||this}return F(n,t),n}(Ss),hA=new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.bw=function(){this.Vo(new oA)},i.Ew=function(){},i.qv=function(){this.zo()},M(n,[{key:"UI",get:function(){return!1}},{key:"FI",get:function(){return!1}}]),n}(Ts)),aA=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).yS=void 0,n.mS=void 0,n}F(n,t);var i=n.prototype;return i.Ug=function(){var t;return null==(t=this.mS)?void 0:t.GS},i.qv=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.qv.call(this);case 2:if(!this.mS){n.next=6;break}return n.next=5,this.yS.aR(this.mS);case 5:this.mS=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"HI",set:function(t){this.yS=t,this.mS=t.zS(R_.Bv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).VI=0,n.XI=!1,n.WI=!0,n.qI=1,n.zI=!1,n.GI=1,n.pg=new I_,n.Gg=sA.LI().vR(),n.G_=NaN,n.j_=!1,n.ih=void 0,n.Q_=void 0,n.Tg=void 0,n.Yg=!1,n.iw=!0,n.rw=sA.LI().vR(),n.ew=Jp.UR,n.a_=ml.P_,n.sw=sA.LI().vR(),n._R=void 0,n.bg=new hy,n.tg=0,n.Ag=new I_,n.ng=0,n.IS=new Up,n}F(n,t);var i=n.prototype;return i.Lg=function(){},i.Mg=function(){},i.Eg=function(){this.WI&&(this.WI=!1,this.Vo(new Hl(this.z_)),this.Vo(new rm(this.z_)))},i.Sg=function(){this.WI||(this.WI=!0,this.Vo(new jl(this.z_,this.jg)),this.Vo(new Fl(this.z_)))},i.Ng=function(t,n){return E.resolve()},i.Cg=function(){return!1},i.Dg=function(){},i.Og=function(){},i.Fg=function(){return hA},i.zg=function(){},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.VI=0,this.zI=!1,this.Sg(),this.Vo(new Ul(this.VI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zo(),this.pg.qv(),this.bg.qv(),this.Ag.qv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"jg",get:function(){},set:function(t){}},{key:"z_",get:function(){return this.VI},set:function(t){this.VI!==t&&(this.VI=t,this.zI=!0,this.Vo(new Zl(this.z_)))}},{key:"ag",get:function(){return{Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Y_",get:function(){return this.XI},set:function(t){this.XI!==t&&(this.XI=t,this.Vo(new $l(this.z_,this.ig)))}},{key:"Z_",get:function(){return this.WI}},{key:"J_",get:function(){return this.qI},set:function(t){this.qI!==t&&(this.qI=t,this.Vo(new Gl(this.z_,this.J_)))}},{key:"K_",get:function(){return this.zI}},{key:"ig",get:function(){return this.GI},set:function(t){this.GI!==t&&(this.GI=t,this.Vo(new $l(this.z_,this.ig)))}},{key:"uw",get:function(){return!1},set:function(t){}},{key:"gR",get:function(){return this.IS}}]),n}(Ts)),cA=function(t){function n(n,i,r,e,s,u){var o,h=new aA;return(o=t.call(this,Zp.$e,h)||this).ba=void 0,o.jI=void 0,o.QI=void 0,o.YI=void 0,o.qb=void 0,o.ZI=void 0,o.JI=void 0,o.QI=n,o.ba=i,o.qb=r,o.ZI=e,o.YI=u,o.jI=new wr(s,o.YI),o.jI.$I(o.QI),h.HI=o.jI,o.JI=new $p(o.QI),o}F(n,t);var i=n.prototype;return i.xg=function(){t.prototype.xg.call(this),this.jI.KI()},i.Pg=function(t){u_(this,t)},i.Bg=function(){},i.QR=function(t){return t.ZT(this.QI,this.jI,this.qb,this.ba,this.ZI,this.YI)},i.Ug=function(){return this.XR.Ug()},i.Hg=function(){return this.jI.tN.map(function(t){return t.GS})},i.qo=function(n){t.prototype.qo.call(this,n)},i.Yo=function(n){t.prototype.Yo.call(this,n)},i.qv=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.qv.call(this);case 2:this.jI.qv(),this.JI.qv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"Qg",get:function(){return this.QI}},{key:"uw",get:function(){return this.XR.uw},set:function(t){this.XR.uw=t}}]),n}(nA),fA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).QI=void 0,e.nN=void 0,e.iN=void 0,e.rN=void 0,e.eN=void 0,e.QI=n,e.nN=i,e.rN=new I_,e.eN=new hy,e.iN=r,e}F(n,t);var i=n.prototype;return i.Vg=function(t){return!0},i.Mg=function(){},i.Eg=function(){throw this.Vo(new i_(this.iN)),this.nN},i.Sg=function(){},i.Ig=function(){},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw hs(i),this.Vo(new i_(this.iN)),this.nN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Lg=function(){},i.Rg=function(){return E.resolve()},i.Ug=function(){},i.Fg=function(){return hA},i.Hg=function(){return[]},i.xg=function(){},i.Pg=function(t){},i.Bg=function(){},i.Cg=function(){return!1},i.Dg=function(){},i.Og=function(){},i.zg=function(){},i.Ul=function(){return E.resolve()},i.qv=function(){return this.zo(),this.rN.qv(),this.eN.qv(),E.resolve()},M(n,[{key:"pg",get:function(){return this.rN}},{key:"Gg",get:function(){return sA.LI().vR()}},{key:"jg",get:function(){return new Date(NaN)},set:function(t){}},{key:"qg",get:function(){}},{key:"z_",get:function(){return 0},set:function(t){}},{key:"G_",get:function(){return 0}},{key:"Qg",get:function(){return this.QI}},{key:"j_",get:function(){return!0}},{key:"ih",get:function(){return this.nN}},{key:"Q_",get:function(){return this.iN}},{key:"Tg",get:function(){}},{key:"ag",get:function(){return{Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Y_",get:function(){return!1},set:function(t){}},{key:"iw",get:function(){return!0}},{key:"Z_",get:function(){return!0}},{key:"J_",get:function(){return 0},set:function(t){}},{key:"rw",get:function(){return sA.LI().vR()}},{key:"ew",get:function(){return Jp.UR},set:function(t){}},{key:"a_",get:function(){return ml.P_}},{key:"sw",get:function(){return sA.LI().vR()}},{key:"K_",get:function(){return!1}},{key:"bg",get:function(){return this.eN}},{key:"tg",get:function(){return 0}},{key:"Ag",get:function(){return this.rN}},{key:"ng",get:function(){return 0}},{key:"ig",get:function(){return 1},set:function(t){}},{key:"uw",get:function(){return!1},set:function(t){}},{key:"Yg",get:function(){return!1}}]),n}(cl);function vA(t){if(t&&nt(t))return ne({},t,{integration:dA(t.integration),fairplay:kA(t.fairplay),widevine:lA(t.widevine),playready:_A(t.playready),clearkey:pA(t.clearkey),aes128:AA(t.aes128),integrationParameters:bA(t.integrationParameters),preferredKeySystems:TA(t.preferredKeySystems)})}function dA(t){if(rt(t))return t}function lA(t){if(t&&nt(t))return{persistentState:gA(t.persistentState),distinctiveIdentifier:gA(t.distinctiveIdentifier),audioRobustness:wA(t.audioRobustness),videoRobustness:wA(t.videoRobustness),licenseAcquisitionURL:rt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:yA(t.licenseType),headers:t.headers,useCredentials:!!et(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:rt(t.certificate)||Xu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:mA(t.certificateRequestProcessor),certificateResponseProcessor:mA(t.certificateResponseProcessor),licenseRequestProcessor:mA(t.licenseRequestProcessor),licenseResponseProcessor:mA(t.licenseResponseProcessor)}}function _A(t){if(t){var n=lA(t);if(n)return ne({},n,{customData:rt(t.customData)?t.customData:void 0})}}function gA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function wA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function yA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function mA(t){if("function"==typeof t)return t}function kA(t){if(t){var n=lA(t);if(n)return ne({},n,{certificateURL:rt(t.certificateURL)?t.certificateURL:void 0})}}function pA(t){if(t){var n=lA(t);if(n)return ne({},n,{keys:K(t.keys)?t.keys.map(function(t){return function(t){if(!t||!nt(t))return;var n=t.id,i=t.value;if(!rt(n)||!rt(i))return;return{id:n,value:i}}(t)}).filter($):void 0})}}function AA(t){if(nt(t))return{useCredentials:et(t.useCredentials)?t.useCredentials:void 0}}function bA(t){if(nt(t))return t}function TA(t){return t&&K(t)?t.map(function(t){return Km(t)}).filter($):[ye,ge,ke]}var EA,SA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return F(n,t),n}(Ss),RA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).sN=[],r.uN=void 0,r.oN=function(t){_s(function(){r.Ho(t)})},r.uN=i?r.oN:r.Ho,r}F(n,t);var i=n.prototype;return i.hN=function(t){t.qo(this.uN),this.sN.push(t)},i.aN=function(t){t.Yo(this.uN),Ye(this.sN,t)},i.qv=function(){this.zo();for(var t=0,n=this.sN;t<n.length;t++){n[t].Yo(this.uN)}$e(this.sN)},n}(al),IA=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(RA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(EA||(EA={}));var NA,CA=function(t){function i(n){var i;return(i=t.call(this)||this).cN=void 0,i.fN=void 0,i.vN=!1,i.dN=!1,i.lN=void 0,i._N=void 0,i.gN=void 0,i.hl=void 0,i.wN=function(){return i.yN()},i.mN=function(){return i.kN()},i.gN=n,i.cN=i.fN=i.lN=i._N=EA.INLINE,i.gN.Xo(rA.Al,i.wN),i.gN.Xo(rA.u_,i.mN),i.pN(),i}F(i,t);var r=i.prototype;return r.cl=function(){return t=this,i={get currentMode(){return t.AN()},requestMode:function(n){var i=OA(n);i&&t.bN(i)},supportsMode:function(n){var i=OA(n);return!!i&&t.TN(i)},addEventListener:function(t,i){n.Xo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},(n=new RA(i,!0)).hN(t),i;var t,n,i},r.bN=function(t){this.EN(t,t)},r.EN=function(t,n){this.fN!==n&&(this.vN=!0,this.cN=t,this.SN(n,this.fN),t!==EA.FULLSCREEN&&(this.lN=t),this.vN=!1,this.pN())},r.AN=function(){return this.dN?EA.FULLSCREEN:EA.INLINE},r.TN=function(t){switch(t){case EA.FULLSCREEN:return this.gN.FI;case EA.INLINE:return!0}return!1},r.pN=function(){if(!this.vN){var t=this.fN,n=this.AN();this.fN=n,n!==EA.FULLSCREEN&&(this._N=n),t!==n&&this.Vo(new SA(n))}},r.SN=function(t,n){var i=t===EA.FULLSCREEN;this.dN=i,i!==this.gN.UI&&(i?this.gN.bw():this.gN.Ew())},r.yN=function(){if(!this.vN){var t=this.gN.UI;this.dN=t,t?this.EN(EA.FULLSCREEN,EA.FULLSCREEN):t||this.cN!==EA.FULLSCREEN?this.pN():this.EN(this.lN,this._N)}},r.kN=function(){this.yN(),this.Vo(new i_(new No(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.qv=function(){this.gN.qv(),this.zo()},M(i,[{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}}]),i}(al),DA={z_:0,G_:NaN,j_:!1,ih:void 0,Q_:void 0,Y_:!1,Z_:!0,J_:1,a_:ml.P_,K_:!1,tg:0,ng:0,ig:1};function OA(t){switch(t){case EA.INLINE:case EA.FULLSCREEN:case EA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(NA||(NA={}));var xA,PA,BA,LA,MA,UA,FA,HA,VA=function(){function t(){this.RN=[]}var n=t.prototype;return n.IN=function(t){var n=this.NN.filter(function(n){return n.CN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.DN=function(t){this.RN.push(t)},M(t,[{key:"NN",get:function(){return this.RN}}]),t}();VA.$e=new VA,function(t){t.q_="PLAYING",t.fg="PAUSED",t.ON="SEEK",t.xN="STALLED",t.PN="FAILED",t.BN="INITIAL_BUFFERING",t.LN="NO_ACCESS"}(xA||(xA={})),function(t){t.MN="HTTP_REQUEST_STATUS_CODE_1XX",t.UN="HTTP_REQUEST_STATUS_CODE_2XX",t.FN="HTTP_REQUEST_STATUS_CODE_3XX",t.HN="HTTP_REQUEST_STATUS_CODE_4XX",t.VN="HTTP_REQUEST_STATUS_CODE_5XX",t.XN="BUFFER_LENGTH",t.WN="BYTES_RECEIVED",t.qN="SEGMENT_READ_BITRATE",t.zN="SEGMENT_PROFILE_BITRATE",t.GN="NUMBER_OF_FRAMES_DROPPED",t.jN="PLAYBACK_POSITION",t.QN="NUMBER_OF_FRAMES_DECODED",t.YN="PLAYBACK_DELTA_TO_ORIGIN",t.ZN="STREAM_DELTA_TO_ORIGIN",t.JN="ORIGIN_TIMESTAMP"}(PA||(PA={})),function(t){t.$N="MANIFEST_URI",t.KN="ASSET_DURATION",t.tC="NUMBER_OF_CONTENT_PROFILES",t.nC="CDN",t.iC="CONTENT_TITLE",t.rC="SERVICE_NAME",t.eC="CONTENT_TYPE",t.sC="CONTENT_DESCRIPTION"}(BA||(BA={})),function(t){t.uC="shutdown_normal_shutdown"}(LA||(LA={})),function(t){t.oC="session/",t.hC="internalError/",t.aC="drmError/",t.cC="caError/",t.fC="networkError/"}(MA||(MA={})),function(t){t.vC="userAction",t.dC="endOfStreamReached"}(UA||(UA={})),function(t){t.PAUSE="lC",t.RESUME="_C"}(FA||(FA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(HA||(HA={}));var XA,WA,qA,zA,GA,jA="agama";function QA(t){return function(t){switch(t){case XA.NONE:case XA.HORIZONTAL:case XA.VERTICAL:return!0;default:return!1}}(t)?t:XA.NONE}function YA(t){switch(t){case"":return XA.NONE;case"horizontal":return XA.HORIZONTAL;case"vertical":return XA.VERTICAL;default:throw new d}}function ZA(t){return{useSeamlessPeriodSwitch:JA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function JA(t){if(!t||!rt(t))return WA.MR;switch(t){case"always":return WA.gC;case"never":return WA.wC;default:return WA.MR}}function $A(t){return{discontinuityAlignment:KA(null==t?void 0:t.discontinuityAlignment)}}function KA(t){if(!t||!rt(t))return qA.MR;switch(t){case"playlist":return qA.yC;case"media":return qA.mC;default:return qA.MR}}function tb(t,n,i){var r=function(t,n){var i=_l.C_;t.useCredentials?i=_l.N_:t.crossOrigin&&(i=bl(t.crossOrigin));i===_l.C_&&n&&n.vr&&n.vr[360]&&(i=_l.I_);return{useCredentials:i===_l.N_,crossOrigin:i}}(t,n),e=r.useCredentials,s=r.crossOrigin,u=t.liveOffset;$(u)||(u=i&&$(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;$(o)||(o=n&&$(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return $(h)||(h=i&&$(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:e,liveOffset:u,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:$(t.dash)?ZA(t.dash):void 0,hls:$(t.hls)?$A(t.hls):void 0}}function nb(t){if(null!==t)return t}function ib(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:nb(t.streamActivityMonitorID),adTagParameters:nt(t.adTagParameters)?t.adTagParameters:{},authToken:nb(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?ne({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void T.Su("A VOD DAI configuration was provided without valid contentSourceID which is required."):void T.Su("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?ne({},i,{availabilityType:"live",assetKey:s}):void T.Su("A Live DAI configuration was provided without valid assetKey which is required.")}T.Su("A DAI configuration was provided without a valid availabilityType which is required.")}function rb(t){switch(t.integration){case"google-dai":return ib(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function eb(t,n,i){var r=tb(t,n,i),e=nb(t.src),s=t.type;return s||(s=t.src?Al(t.src):void 0),ne({},r,{src:e,type:s,contentProtection:function(t,n){var i;i=$(t.contentProtection)?t.contentProtection:$(t.drm)?t.drm:$(n)&&$(n.contentProtection)?n.contentProtection:$(n)&&$(n.drm)?n.drm:void 0;return sb(i)}(t,n),ssai:$(t.ssai)?rb(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function sb(t){if(!zm(t)||!t.integration)return t;switch(t.integration){case vm:return n=t,i=$m(fe.uo,n),r=$m(fe.so,n),e=n[fe.oo]&&$m(fe.oo,n),ne({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function ub(t){if(!t)return!0;var n,i,r=!(Cl(n=t.sources)||tt(n)&&Cl(n[0]))||Dl(t.sources),e=!t.ads||(!(i=t.ads)||K(i)&&0===i.length),s=""!==t.poster&&!t.poster;return r&&e&&s}function ob(t){if(t&&t.sources)return function t(n){if(rt(n))return n;if(Nl(n))return n.src;if(tt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function hb(t,n,i){return Rl(t)?function(t,n,i){var r=ne({},Ol(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:zA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:GA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,rt(e)?e:tt(e)&&rt(e[0])?e:nt(s=e)&&rt(s.userId)&&(tt(s.externalId)||rt(s.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,s;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return GA.CHANNEL;case"event":return GA.EVENT;case"asset":default:return GA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Xd(t.contentProtected));t.assetInfo?r.assetInfo=Xd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(u=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!et(o.adImpressions)&&o.adImpressions,a=!!et(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=et(o.linearAdData)?o.linearAdData:u!==GA.ASSET):u!==GA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=cb(r=ab(r,t),n,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var r=xl(),e=n&&(n.contentProtection||n.drm);if(rt(t)){if(r.src=t,r.type=Al(t),e){var s=vA(e);r.contentProtection=sb(s)}}else if(Nl(t)||Sl(t)){r.src=t.src,r.type=t.type||Al(t.src),r.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===gl.O_||t.type===gl.x_}(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u);var o=t.contentProtection||t.drm||e,h=vA(o);r.contentProtection=sb(h),t.ssai&&(r.ssai=rb(t.ssai)),r=ab(r,t)}return r=cb(r,n,i)}(t,n,i)}function ab(t,n){n.useCredentials?t.crossOrigin=_l.N_:n.crossOrigin&&(t.crossOrigin=bl(n.crossOrigin)),rt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Xd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Xd(n.useNativePlayback)),n.dash&&(t.dash=ZA(n.dash)),n.hls&&(t.hls=$A(n.hls));var i=void 0!==n.experimentalRendering?Xd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Xd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function cb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!$(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!$(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===_l.C_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=_l.I_),t.useCredentials=t.crossOrigin===_l.N_,rt(e)&&!t.timeServer&&(t.timeServer=e),t}function fb(t){var n={src:""};if(t&&t.src){if(n.src=zd(t.src),"default"in t&&(n.default=Xd(t.default)),n.kind=fy(t.kind),function(t){switch(t){case X_.DEFAULT:case X_.SRT:case X_.TTML:case X_.WEBVTT:case X_.EMSG:case X_.EVENT_STREAM:case X_.ID3:case X_.CEA608:case X_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function vb(t,n){if(it(t))try{return n.IN(t).kC(t)}catch(t){return}}function db(t){return rt(t.sources)&&""!==t.sources||nt(t.sources)&&rt(t.sources.src)}function lb(t){return t.integration===NA.SPOTX&&!y(t.id)}function _b(t){return"freewheel"===t.integration}function gb(t,n,i){if(void 0===i&&(i=VA.$e),ub(t))return{sources:[xl()]};var r=Ud(t);if(r.sources=function(t,n,i){if(Cl(t))return[hb(t,n,i)];if(tt(t)&&Cl(t[0])){for(var r=[],e=0;e<t.length;e++){var s=t[e];r.push(hb(s,n,i))}return r}return[xl()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!tt(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var s=e[r];(s=vb(s,n))&&(db(s)||lb(s)||_b(s))&&i.push(s)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s,u,o,h=!Dl(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!tt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=fb(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=zd(r.poster)),"vr"in r&&(r.vr=(s=r.vr,(u=s||{}).stereoMode=QA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?YA(u.stereoMode):XA.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Bl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Ud(t),r=function(r){var e=n[r],s=!t.some(function(t){return t.integration===e.integration});s&&e.integration!==jA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=r_(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(XA||(XA={})),function(t){t.MR="auto",t.gC="always",t.wC="never"}(WA||(WA={})),function(t){t.MR="auto",t.yC="playlist",t.mC="media"}(qA||(qA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(zA||(zA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(GA||(GA={}));var wb=function(){function t(t){this.pC=t}return t.prototype.AC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.pC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.pC.indexOf(t.charAt(n))<<18|this.pC.indexOf(t.charAt(n+1))<<12|(s=this.pC.indexOf(t.charAt(n+2)))<<6|(u=this.pC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.bC=function(t,n){var i,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.pC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.pC.charAt(r)+this.pC.charAt(e)+this.pC.charAt(s)+this.pC.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Fm=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.TC=new t(t.Fm.AC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function yb(t){return"string"==typeof t}function mb(t){return"number"==typeof t}var kb={}.toString;var pb,Ab=Array.isArray||function(t){return"[object Array]"===kb.call(t)};function bb(t,n){return Ab(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(pb||(pb={}));var Tb,Eb=l.keys(pb).map(function(t){return pb[t]});function Sb(t){return-1!==Eb.indexOf(t)}function Rb(t){try{var n=wb.TC.AC(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=yb(t.key),r=yb(t.customer_id),e=mb(t.generation_date),s=mb(t.expiration_date),u=bb(t.domains_page,yb),o=bb(t.domains_source,yb),h=bb(t.sdks,Sb),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function Ib(){return Tb||(Tb={kv:pr.href,EC:kr.parent&&kr.parent!==e,SC:Db()}),Tb}var Nb,Cb=["http:","https:","ftp:","ws:","wss:"];function Db(){try{return kr.top.location.href}catch(t){return kr&&kr.document&&kr.document.referrer}}!function(t){t[t.RC=0]="RC",t[t.IC=1]="IC",t[t.NC=2]="NC"}(Nb||(Nb={}));var Ob,xb=function(t,n,i,r,e,s,u,o){void 0===e&&(e=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.DC=t,this.OC=n,this.xC=i,this.BC=r,this.LC=e,this.MC=s,this.UC=u,this.FC=o};!function(t){t.IC="expired",t.HC="invaliddomain",t.VC="invalidsource",t.u_="error"}(Ob||(Ob={}));var Pb=function(){function t(t,n,i){this.XC=void 0,this.WC=t,this.qC=n,this.zC=i,this.XC=Hb(this.zC)}var n=t.prototype;return n.GC=function(t,n){var i=this;if(!ub(t)&&0!==n.xC.length&&!Mb(n.xC)){var r=[];if(Cl(t.sources)?r=[t.sources]:tt(t.sources)&&(r=t.sources),!r.every(function(t){return i.jC(t,n)})){var e=Ob.VC,s=Xb.QC(e);throw new No(Bb(e),s)}}},n.YC=function(n){return this.ZC(n.UC)&&this.JC(n)?t.$C(n.BC)?Nb.RC:Nb.IC:Nb.NC},n.ZC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.KC(t)})},n.KC=function(t){return"ios"===function(t){switch(t){case pb.ANDROID:return B.dr;case pb.ANDROIDTV:case pb.FIRETV:return B._r;case pb.IOS:return B.gr;case pb.TVOS:return B.wr;case pb.CHROMECAST:case pb.CHROMECASTCAF:return B.yr;default:return B.cr}}(t)},t.$C=function(t){var n=Number(new Date);return!!t&&n<=t},n.JC=function(t){return!(this.XC&&0!==t.OC.length&&!Mb(t.OC))||!!(this.XC&&this.tD(t.OC)&&this.nD(t.OC))},n.tD=function(t){return Ub(this.zC.kv,t)},n.nD=function(t){if(!this.zC.EC)return!0;if(this.WC)return!0;var n=this.iD();return!!n&&Ub(n,t)},n.iD=function(){if(this.zC.EC){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.zC.SC?this.zC.SC:void 0}},n.jC=function(n,i){return!!t.rD(n,i.xC)},t.rD=function(t,n){return Ub(this.eD(t),n)},t.eD=function(t){return rt(t)?t:Nl(t)&&t.src||""},t}();function Bb(t){switch(t){case Ob.HC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ob.VC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ob.IC:return n.ErrorCode.LICENSE_EXPIRED;case Ob.u_:return n.ErrorCode.LICENSE_ERROR}}function Lb(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+e+u+e+u+e+u+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Mb(t){return t.some(function(t){return"*"===t})}function Ub(t,n){var i=T.Fu(t);if(!Fb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Lb(i.hostname,e))return!0;if(Lb(Ff(t),e))return!0}return!1}function Fb(t){return-1!==Cb.indexOf(t.protocol)}function Hb(t){var n=T.Fu(t.kv);return Fb(n)&&!Lb(n.hostname,"localhost")&&!function(t){return Lb(t.hostname,"theoplayer.doubleclick.net")}(n)}var Vb,Xb=function(){function t(){}return t.QC=function(t){return t===Ob.HC?this.sD:t===Ob.VC?this.uD:t===Ob.IC?this.oD:this.hD},t}();function Wb(t){var n=[t.WA,t.aD,t.cD];switch(t.aD){case Vb.fD:n.push(t.v_);break;case Vb.vD:n.push(t.z_),n.push(t.ih);break;case Vb.dD:n.push(t.ih)}return n}Xb.hD="The license for this player is invalid.",Xb.oD="The usage license for this video player has expired.",Xb.sD="The current domain is incompatible with the license for this player.",Xb.uD="The provided video source is incompatible with the license for this player.",function(t){t[t.fD=1]="fD",t[t.vD=4]="vD",t[t.dD=5]="dD"}(Vb||(Vb={}));for(var qb=new Array(256),zb=0;zb<256;zb+=1)qb[zb]=(zb<16?"0":"")+zb.toString(16);function Gb(){var t=Jt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,r=(4294967296*_.random()|0)+t&1130486254,e=(4294967296*_.random()|0)+t&1284287105;return qb[255&n]+qb[n>>>8&255]+qb[n>>>16&255]+qb[n>>>24&255]+"-"+qb[255&i]+qb[i>>>8&255]+"-"+qb[i>>>16&15|64]+qb[i>>>24&255]+"-"+qb[63&r|128]+qb[r>>>8&255]+"-"+qb[r>>>16&255]+qb[r>>>24&255]+qb[255&e]+qb[e>>>8&255]+qb[e>>>16&255]+qb[e>>>24&255]}var jb=function(){function t(t){this.pC=void 0,this.pC=t}var n=t.prototype;return n.AC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.pC.indexOf(t.charAt(n))<<18|this.pC.indexOf(t.charAt(n+1))<<12|(s=this.pC.indexOf(t.charAt(n+2)))<<6|(u=this.pC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.bC=function(t){var n,i,r,e,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.pC.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,r=n>>12&63,e=n>>6&63,s=63&n,h[u/3]=this.pC.charAt(i)+this.pC.charAt(r)+this.pC.charAt(e)+this.pC.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function Qb(){return T.ku()}jb.Fm=new jb(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),jb.TC=new jb(jb.Fm.AC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Yb,Zb="theoplayer-session-id";function Jb(){if(!Yb){var t=zo.fh(Zb);t?Yb=t:(Yb=Gb(),zo.Ya(Zb,Yb))}return Yb}var $b=/[^\x00-\x7E]/g;function Kb(t){return"\\u"+Pe(t.charCodeAt(0).toString(16),4,"0")}var tT=0,nT=1,iT=6e4;function rT(t){var n,i,r,e,s,u=(n=function(t){return[t.lD,t.Qh,t.DC,t.ep,t._D,t.gD,t.wD.map(Wb)]}(t),i=[],r=n,e=function(t,n){if(nt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,s).replace($b,Kb));return jb.TC.bC(u)}var eT=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=jb.Fm),void 0===e&&(e=tT),void 0===s&&(s=nT),this.yD=[],this.mD=null,this.kD=0,this.pD="unknown",this.bD=0,this.TD=function(){Qb()-u.kD>iT&&u.ar()},this.ED=function(){u.ar(!0)},this.lE=t,this.qb=n,this.SD=i,this.RD=r,this.ND=e,this.CD=s,mr.DD(this.ED),c(this.TD,iT)}var n=t.prototype;return n.OD=function(){return Boolean(this._D)},n.xD=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SD.PD();case 2:if(t.sent.FC){t.next=5;break}return t.abrupt("return");case 5:return i={aD:Vb.fD,cD:Jt(),v_:n},t.next=8,this.BD(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LD=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={aD:Vb.vD,cD:Jt(),z_:i,ih:n},t.next=3,this.BD(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.MD=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={aD:Vb.dD,cD:Jt(),ih:n},t.next=3,this.BD(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BD=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SD.PD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.RD.bC(i.DC)){t.next=6;break}if(n.aD===Vb.dD){t.next=6;break}return t.abrupt("return");case 6:if(n.aD===Vb.fD?this.UD():this.OD()||this.UD(),n.WA=this.bD++,this.yD.push(n),(r=n.aD)!==Vb.fD&&r!==Vb.dD){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.yD.length>this.ND)){t.next=19;break}return t.next=17,this.FD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.yD.length>0)){t.next=6;break}return t.next=4,this.FD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.HD=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SD.PD();case 2:return i=t.sent,t.abrupt("return",{lD:Jt(),Qh:Jb(),DC:this.RD.bC(i.DC)||"dev",ep:this.lE,_D:this.mD,gD:this.pD,wD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FD=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.yD.splice(0,this.CD),t.next=4,this.HD(i);case 4:r=t.sent,n?this.Wv(r):this.VD(r),this.kD=Qb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.VD=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=rT(n),r=new Df({kv:"https://license.theoplayer.com",nv:i,Vv:!1,_v:Zo.es,lv:{"Content-Type":Pk.AE},Uv:4e3,Mv:Sf.POST}),t.prev=2,t.next=5,this.qb.yv(r);case 5:return e=t.sent,t.next=8,e.$f();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Wv=function(t){var n=rT(t);this.qb.Wv({kv:"https://license.theoplayer.com",nv:n,tv:Pk.AE})},n.UD=function(){this.OD()&&this.ar(),this.mD=Gb(),this.bD=0},n.qv=function(){mr.XD(this.ED),this.ar()},M(t,[{key:"wD",get:function(){return this.yD}},{key:"_D",get:function(){return this.mD}}]),t}();var sT=Y.xe||Y.pe&&Y.Fe<13;function uT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var oT=function(){function t(t){this.xR=void 0,this.hl=void 0,this.WD=void 0,this.xR=t}var n=t.prototype;return n.qD=function(t){if(!t||!t.drawImage)return!1;var n=this.xR.Ug();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.zD=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.xR,h=o.Ug();if(!h)return!1;if(sT){this.WD||(this.WD=s.createElement("canvas"));var a=this.WD,c=a.getContext("2d"),f=o.ng,d=o.tg,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&uT(c,f-1,0)&&(a.width=l,g=!0),d>0&&uT(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,r,e,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},M(t,[{key:"al",get:function(){return this.hl||(this.hl=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.qD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,s,u){return t.zD(n,i,r,e,s,u)}}));var t}}]),t}(),hT=function(t){function n(n,i){var r;return(r=t.call(this,"GD")||this).yu=n,r.Mp=i,r}return F(n,t),n.prototype.cl=function(){return new aT(this.yu,this.Mp)},n}(Ad),aT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return F(n,t),n}(Ss),cT=function(t,n){this.Qg=void 0,this.jD=void 0,this.Qg=t,this.jD=n},fT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).QD=void 0,r.YD=0,r.ZD=0,r.JD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.ZD=n.width,r.YD=n.height,r.jD(r.ZD,r.YD)}},r.QD=new kr.ResizeObserver(r.JD),r.QD.observe(r.Qg),r}return F(n,t),n.prototype.qv=function(){this.QD.disconnect()},M(n,[{key:"$D",get:function(){return this.YD}},{key:"KD",get:function(){return this.ZD}}]),n}(cT),vT=0;function dT(t){var n=Qb(),i=_.max(0,16-(n-vT)),r=h(function(){return t(n+i)},i);return vT=n+i,r}var lT,_T=a,gT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,wT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function yT(){return lT||(lT=kr&&kr.document&&kr.document.createElement("span")),lT}gT&&wT||(gT=dT,wT=_T),gT=gT.bind(t),wT=wT.bind(t);var mT=["Webkit","Moz","O","ms"],kT=(function(){var t=!1;try{if(void 0!==kr&&"function"==typeof kr.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});kr.addEventListener("testPassiveEventSupport",R,n),kr.removeEventListener("testPassiveEventSupport",R,n)}}catch(t){}}(),re());function pT(t){return kT.has(t)||kT.set(t,function(t){var n=yT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<mT.length;r++){var e=mT[r],s=e+i;if(void 0!==n.style[s])return s}return t}(t)),kT.get(t)}function AT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function bT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[pT("transition")]="0s"}var TT=function(t){function n(n,i,r){var u;(u=t.call(this,n,i)||this).tO=void 0,u.nO=0,u.ZD=NaN,u.YD=NaN,u.iO=void 0,u.rO=void 0,u.eO=void 0,u.sO=void 0,u.uO=void 0,u.Ul=function(){u.rO.style.width=1e5+"px",u.rO.style.height=1e5+"px",u.iO.scrollLeft=1e5,u.iO.scrollTop=1e5,u.eO.scrollLeft=1e5,u.eO.scrollTop=1e5,0===u.eO.scrollTop&&gT(u.Ul)},u.oO=function(){var t=u.KD,n=u.$D;u.jD(t,n),u.ZD=t,u.YD=n,u.Ul(),u.nO=0},u.hO=function(){if(!u.nO){var t=u.KD,n=u.$D;t===u.ZD&&n===u.YD||(u.nO=gT(u.oO))}},u.aO=function(){u.uO||(u.uO=h(u.cO,66))},u.cO=function(){u.uO=void 0,u.fO()},u.fO=function(){u.hO()};var o=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.tO=c,u.iO=s.createElement("div"),u.rO=s.createElement("div"),u.eO=s.createElement("div"),u.sO=s.createElement("div"),AT(u.iO),AT(u.eO),bT(u.rO),bT(a=u.sO),a.style.width="200%",a.style.height="200%",c.appendChild(u.iO),c.appendChild(u.eO),u.iO.appendChild(u.rO),u.eO.appendChild(u.sO),n.appendChild(c),u.iO.addEventListener("scroll",u.hO),u.eO.addEventListener("scroll",u.hO),e&&e.addEventListener("resize",u.aO),u.hO(),u}return F(n,t),n.prototype.qv=function(){wT(this.nO),this.nO=0,this.iO.removeEventListener("scroll",this.hO),this.eO.removeEventListener("scroll",this.hO),Sr(this.tO),e&&e.removeEventListener("resize",this.aO)},M(n,[{key:"$D",get:function(){return this.Qg.getBoundingClientRect().height||this.YD||0}},{key:"KD",get:function(){return this.Qg.getBoundingClientRect().width||this.ZD||0}}]),n}(cT),ET=function(t){function n(n){var i;return(i=t.call(this)||this).Qg=void 0,i.QD=void 0,i.JD=function(t,n){i.Vo(new hT(t,n))},i.Qg=n,i}F(n,t);var i=n.prototype;return i.ta=function(t){this.QD||("function"==typeof kr.ResizeObserver?this.QD=new fT(this.Qg,this.JD):this.QD=new TT(this.Qg,this.JD,t))},i.qv=function(){this.zo(),this.QD&&(this.QD.qv(),this.QD=void 0)},M(n,[{key:"$D",get:function(){return this.QD?this.QD.$D:0}},{key:"KD",get:function(){return this.QD?this.QD.KD:0}}]),n}(Ts),ST=function(t){function n(){return t.call(this,rA.Al)||this}return F(n,t),n}(Ss);var RT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{vO:i[0],dO:i[1],lO:i[2],_O:i[3],gO:i[4],wO:i[5]}}}(),IT=function(t){function n(){return t.call(this,rA.MI)||this}return F(n,t),n}(Ss),NT=function(t){function n(i){var r;return(r=t.call(this)||this).Qg=void 0,r.FI=void 0,r.UI=!1,r.yO=function(){return r.wN()},r.mO=function(){return r.mN()},r.Qg=i,r.FI=n.kO(i),s.addEventListener(RT.gO,r.yO),r.wN(),r}F(n,t),n.kO=function(t){return Boolean(RT&&s[RT._O]&&RT.vO in t)};var i=n.prototype;return i.bw=function(){var t=this.Qg[RT.vO]();t&&t.then?t.then(this.yO,this.mO):(s.removeEventListener(RT.wO,this.mO),s.addEventListener(RT.wO,this.mO))},i.Ew=function(){var t=s[RT.dO]();t&&t.then?t.then(this.yO,this.mO):(s.removeEventListener(RT.wO,this.mO),s.addEventListener(RT.wO,this.mO))},i.wN=function(){var t=this.UI,n=this.Qg===s[RT.lO];this.UI=n,t!==n&&this.Vo(new ST)},i.mN=function(){this.Vo(new oA)},i.qv=function(){this.zo(),s.removeEventListener(RT.gO,this.yO),s.removeEventListener(RT.wO,this.mO)},n}(Ts),CT=function(t){function n(i){var r;return(r=t.call(this)||this).Qg=void 0,r.FI=void 0,r.UI=!1,r.yO=function(){return r.wN()},r.Qg=i,r.FI=n.kO(i),r.Qg.addEventListener("webkitbeginfullscreen",r.yO),r.Qg.addEventListener("webkitendfullscreen",r.yO),r.Qg.addEventListener("webkitpresentationmodechanged",r.yO),r.wN(),r}F(n,t),n.kO=function(t){return Y.pe&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.bw=function(){var t=this;this.Qg.webkitSupportsPresentationMode&&this.Qg.webkitSupportsPresentationMode("fullscreen")?Y.pe?requestAnimationFrame(function(){return t.Qg.webkitSetPresentationMode("fullscreen")}):this.Qg.webkitSetPresentationMode("fullscreen"):this.Qg.webkitEnterFullscreen()},i.Ew=function(){this.Qg.webkitSupportsPresentationMode&&this.Qg.webkitSupportsPresentationMode("inline")?this.Qg.webkitSetPresentationMode("inline"):this.Qg.webkitExitFullscreen()},i.wN=function(){var t,n=this.UI;t=this.Qg.webkitPresentationMode?"fullscreen"===this.Qg.webkitPresentationMode:!!this.Qg.webkitDisplayingFullscreen,this.UI=t,n!==t&&this.Vo(new ST)},i.qv=function(){this.zo(),this.Qg.removeEventListener("webkitbeginfullscreen",this.yO),this.Qg.removeEventListener("webkitendfullscreen",this.yO),this.Qg.removeEventListener("webkitpresentationmodechanged",this.yO)},n}(Ts),DT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).pO=[],n.AO=void 0,n.dN=!1,n.wN=function(){var t=n.dN,i=n.bO();t!==i&&(n.dN=i,n.Vo(new ST))},n}F(n,t);var i=n.prototype;return i.bw=function(){this.AO?this.AO.bw():this.Vo(new oA)},i.Ew=function(){for(var t=0,n=this.pO;t<n.length;t++){var i=n[t];i.UI&&i.Ew()}},i.TO=function(t){this.AO=t},i.EO=function(t){this.pO.push(t),t.Xo(rA.Al,this.wN),t.Xo(rA.u_,this.Ho),this.wN()},i.SO=function(t){Ye(this.pO,t),t.Go(rA.Al,this.wN),t.Go(rA.u_,this.Ho)},i.bO=function(){for(var t=0,n=this.pO;t<n.length;t++){if(n[t].UI)return!0}return!1},i.Ul=function(){this.AO=void 0,this.dN=!1;for(var t=this.pO.slice(),n=0;n<t.length;n++){var i=t[n];this.SO(i),i.qv()}this.wN()},i.qv=function(){this.zo(),this.Ul()},M(n,[{key:"FI",get:function(){return!!this.AO&&this.AO.FI}},{key:"UI",get:function(){return this.dN}}]),n}(Ts),OT=function(t){function n(n,i){var r;return(r=t.call(this)||this).xR=void 0,r.RO=void 0,r.IO=void 0,r.NO=!1,r.CO=function(){return r.Wh()},r.wN=function(t){r.NO||r.Vo(t)},r.xR=n,r.RO=i,r.IO=hA,r.DO(),r.xR.Xo(Yo.hc,r.CO),r.Wh(),r}F(n,t);var i=n.prototype;return i.bw=function(){this.RO&&this.IO.bw()},i.Ew=function(){this.IO.Ew()},i.DO=function(){this.IO.Xo(rA.Al,this.wN),this.IO.Xo(rA.u_,this.Ho)},i.OO=function(){this.IO.Go(rA.Al,this.wN),this.IO.Go(rA.u_,this.Ho)},i.Wh=function(){var t=this.IO,n=this.xR.Fg();if(t!==n){this.NO=!0;var i=this.UI,r=this.FI;i&&this.Ew(),this.OO(),this.IO=n,this.DO(),i&&!this.UI&&this.FI?this.bw():this.Ew(),this.NO=!1,r!==this.FI&&this.Vo(new IT),i!==this.UI&&this.Vo(new ST)}},i.qv=function(){this.zo(),this.OO(),this.xR.Go(Yo.hc,this.CO)},M(n,[{key:"FI",get:function(){return!!this.RO&&this.IO.FI}},{key:"UI",get:function(){return this.IO.UI}}]),n}(Ts);function xT(t){var n;return{get url(){return t.kv},get method(){return t.Mv},get headers(){return n||(n=t.lv.Mc()),n},get body(){return t.nv},get useCredentials(){return t.Vv},get type(){return UT(t.co)},get subType(){return HT(t.Fv)},get mediaType(){return XT(t.Hv)},get responseType(){return BT(t._v)}}}function PT(t){switch(t.toLowerCase()){case"arraybuffer":return Zo.Pc;case"json":return Zo.Bc;case"stream":return Zo.Lc;case"text":default:return Zo.es}}function BT(t){return t}function LT(t){switch(t.toUpperCase()){case"POST":return Sf.POST;case"PUT":return Sf.PUT;case"DELETE":return Sf.DELETE;case"HEAD":return Sf.HEAD;case"OPTIONS":return Sf.OPTIONS;case"GET":default:return Sf.GET}}function MT(t){switch(t.toLowerCase()){case"manifest":return Rf.bv;case"segment":return Rf.Tv;case"content-protection":return Rf.Ev;default:return Rf.Av}}function UT(t){return t}function FT(t){switch(t.toLowerCase()){case"initialization-segment":return If.Sv;case"fairplay-license":return If.Rv;case"fairplay-certificate":return If.Iv;case"widevine-license":return If.Nv;case"widevine-certificate":return If.Cv;case"playready-license":return If.Dv;case"clearkey-license":return If.Ov;case"aes128-key":return If.xv;default:return If.Av}}function HT(t){return t}function VT(t){switch(t.toLowerCase()){case"audio":return Nf.Pv;case"video":return Nf.Bv;case"text":return Nf.es;case"image":return Nf.Lv;case"":default:return Nf.Av}}function XT(t){return t}var WT=function(){function t(t,n){this.xO=new Qu,this.PO=[],this.hl=void 0,this.BO=!1,this.rd=void 0,this.LO=0,this.MO=t,this.UO=n}var n=t.prototype;return n.jk=function(){this.BO=!0,this.xO.Eh(null)},n.FO=function(){this.xO.Sh(new sf(this.PO))},n.HO=function(t){if(!this.VO)throw new d("Cannot respond more than once");if(!nt(t))throw new d("Expected valid response");this.rd=this.XO(t),this.jk()},n.WO=function(){try{var t=this.UO(this.al);t?this.qO(t):this.zO||this.GO||this.jk()}catch(t){this.PO.push(t),this.FO()}},n.qO=function(t){if(this.GO)throw new v("Request has been redirected or a response already exists");if(st(t))this.jO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Qu;try{var i=t(function(t){t?n.Sh(t):n.Eh(void 0)});st(i)&&n.Eh(i)}catch(t){n.Sh(t)}this.jO(n.Th)}},n.jO=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.LO++,t.next=4,n;case 4:this.LO--,this.zO||this.GO||(this.PO.length?this.FO():this.jk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.LO--,this.PO.push(t.t0),this.zO||this.GO||this.FO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"QO",get:function(){return this.xO.Th}},{key:"al",get:function(){return this.hl||(this.hl=this.YO()),this.hl}},{key:"GO",get:function(){return this.BO}},{key:"VO",get:function(){return!this.BO}},{key:"zO",get:function(){return this.LO>0}},{key:"ed",get:function(){return this.rd}}]),t}(),qT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).ZO=void 0,e.ZO=r,e.WO(),e}F(n,t),n.JO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Cf({Ls:r,yv:n.yv,_v:n.yv._v,lv:t.headers,dv:t.status,gv:t.statusText,mv:t.url,wv:!0},n)};var i=n.prototype;return i.YO=function(){return i=xT((t=this).yv),{get closed(){return!t.VO},get request(){return i},get url(){return t.kv},get status(){return t.dv},get statusText(){return t.gv},get headers(){return n||(n=t.lv.Mc()),n},get body(){return t.nv},respondWith:function(n){return t.HO(n)},waitUntil:function(n){return t.qO(n)}};var t,n,i},i.XO=function(t){return n.JO(t,this.MO,this.ZO)},M(n,[{key:"nv",get:function(){return this.ZO}},{key:"lv",get:function(){return this.MO.lv}},{key:"yv",get:function(){return this.MO.yv}},{key:"ed",get:function(){return this.rd}},{key:"dv",get:function(){return this.MO.dv}},{key:"gv",get:function(){return this.MO.gv}},{key:"kv",get:function(){return this.MO.mv}}]),n}(WT),zT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).$O=void 0,e.KO=void 0,e.KO=r,e.WO(),e}F(n,t);var i=n.prototype;return i.YO=function(){return t=this,{get url(){return t.kv},get method(){return t.Mv},get headers(){return n||(n=t.lv.Mc()),n},get body(){return t.nv},get closed(){return!t.VO},get useCredentials(){return t.Vv},get type(){return UT(t.co)},get subType(){return HT(t.Fv)},get mediaType(){return XT(t.Hv)},get responseType(){return BT(t._v)},redirect:function(n){return t.tx(n)},respondWith:function(n){return t.HO(n)},waitUntil:function(n){return t.qO(n)}};var t,n},i.XO=function(t){var n=this.MO.nv,i=new Cf({Ls:n,lv:{},yv:this.MO,mv:this.MO.kv,_v:this.MO._v,dv:200,gv:"OK"});return qT.JO(t,i,n)},i.tx=function(t){if(!this.VO)throw new d("Cannot redirect, already redirected or has a response");var n;n=rt(t)?{url:t}:t,this.$O=function(t,n){return new Df({kv:void 0===t.url?n.kv:t.url,Mv:void 0!==t.method?LT(t.method):void 0,lv:t.headers,nv:t.body,Vv:t.useCredentials,co:void 0!==t.type?MT(t.type):void 0,Fv:void 0!==t.subType?FT(t.subType):void 0,Hv:void 0!==t.mediaType?VT(t.mediaType):void 0,_v:void 0!==t.responseType?PT(t.responseType):void 0},n)}(n,this.MO),this.jk()},M(n,[{key:"nv",get:function(){return this.MO.nv}},{key:"VO",get:function(){return this.KO&&!this.BO}},{key:"lv",get:function(){return this.MO.lv}},{key:"Mv",get:function(){return this.MO.Mv}},{key:"nx",get:function(){return this.$O}},{key:"ed",get:function(){return this.rd}},{key:"_v",get:function(){return this.MO._v}},{key:"Uv",get:function(){return this.MO.Uv}},{key:"Lo",get:function(){return this.MO.Lo}},{key:"co",get:function(){return this.MO.co}},{key:"Fv",get:function(){return this.MO.Fv}},{key:"Hv",get:function(){return this.MO.Hv}},{key:"kv",get:function(){return this.MO.kv}},{key:"Vv",get:function(){return this.MO.Vv}},{key:"Xv",get:function(){return this.MO.Xv}}]),n}(WT);var GT,jT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new QT(n);return(r=t.call(this,e,i)||this).ix=void 0,r.ix=e,r}F(n,t);var i=n.prototype;return i.ex=function(t){this.ix.ex(t)},i.sx=function(t){this.ix.sx(t)},i.ux=function(t){this.ix.ux(t)},i.ox=function(t){this.ix.ox(t)},i.hx=function(t){this.ix.hx(t)},n}(xf),QT=function(){function t(t){this.zv=void 0,this.ax=[],this.vx=[],this.zv=t}var n=t.prototype;return n.yv=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.lx(n,n.Lo);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Vf)){t.next=12;break}return t.next=11,this._x(t.t0,n.Lo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.gx(i,n.Lo);case 15:if(!Ef(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Wf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Wv=function(t){return this.zv.Wv(t)},n.lx=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:hs(i),r=n,s=0,u=this.ax.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],hs(i),(h=new zT(r,o,!e)).GO){t.next=17;break}return t.prev=8,t.next=11,h.QO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.nx&&!e?r=h.nx:h.ed&&!e&&(e=h.ed);case 18:s++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.zv.yv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n._x=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Wf?n.ed:new Cf({Ls:null,yv:n.yv,dv:0,gv:""}),t.next=3,this.gx(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Ef(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Wf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.gx=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,s=this.vx.slice();case 2:if(!(e<s.length)){t.next=23;break}return u=s[e],hs(i),t.next=7,E.resolve(r.mh().Ls(i));case 7:if(o=t.sent,(h=new qT(r,u,o)).GO){t.next=19;break}return t.prev=10,t.next=13,h.QO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.ed||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.ex=function(t){this.ax.unshift(t)},n.sx=function(t){this.ax.push(t)},n.ux=function(t){Ye(this.ax,t)},n.ox=function(t){this.vx.unshift(t)},n.hx=function(t){Ye(this.vx,t)},n.qv=function(){this.zv.qv(),$e(this.ax),$e(this.vx)},t}(),YT=function(){function t(t){this.hl=void 0,this.qb=t}var n=t.prototype;return n.ex=function(t){this.qb.ex(t)},n.ux=function(t){this.qb.ux(t)},n.ox=function(t){this.qb.ox(t)},n.hx=function(t){this.qb.hx(t)},M(t,[{key:"al",get:function(){var t;return this.hl||(this.hl=(t=this,{addRequestInterceptor:function(n){t.ex(n)},removeRequestInterceptor:function(n){t.ux(n)},addResponseInterceptor:function(n){t.ox(n)},removeResponseInterceptor:function(n){t.hx(n)}})),this.hl}}]),t}(),ZT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).hl=void 0,e.wx=function(t){e.Vo(t)},e.yx=function(t){e.Vo(t)},e.mx=n,e.qb=i,e.ZI=r,e.mx.Xo(Yo.lc,e.wx),e.mx.Xo(Yo.dc,e.yx),e}F(n,t);var i=n.prototype;return i.kx=function(t){this.ZI.kx(t)},i.ex=function(t){this.qb.ex(t)},i.ux=function(t){this.qb.ux(t)},i.ox=function(t){this.qb.ox(t)},i.hx=function(t){this.qb.hx(t)},i.qv=function(){this.zo(),this.mx.Go(Yo.lc,this.wx),this.mx.Go(Yo.dc,this.yx)},M(n,[{key:"al",get:function(){var t;return this.hl||(this.hl=(t=this,{get online(){return t.iw},get estimator(){return n=t.Ax,{get bandwidth(){return n.rS},get roundTripTime(){return n.eS}};var n},setEstimator:function(n){t.kx(function(t){if(t)return{get rS(){return qd(t.bandwidth)},get eS(){return qd(t.roundTripTime)},iS:function(n){return function(t){if(t)return{bx:function(n){t.markRequestStart(n)},Tx:function(n){t.markResponseStart(n)},Ex:function(n,i){t.markResponseData(n,i)},Sx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(xT(n)))}}}(n))},addRequestInterceptor:function(n){t.ex(n)},removeRequestInterceptor:function(n){t.ux(n)},addResponseInterceptor:function(n){t.ox(n)},removeResponseInterceptor:function(n){t.hx(n)},addEventListener:function(n,i){t.Xo(n,i)},removeEventListener:function(n,i){t.Go(n,i)}})),this.hl}},{key:"iw",get:function(){return this.mx.iw}},{key:"Ax",get:function(){return this.ZI.Ax}}]),n}(Ts);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(GT||(GT={}));var JT=30,$T={type:GT.BANDWIDTH},KT=20,tE=60;function nE(t){var n,i,r,e=Ud($T);return rt(t)?e.type=iE(t):nt(t)&&function(t){switch(t){case GT.PERFORMANCE:case GT.QUALITY:case GT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=iE(t.type)),nt(t)&&nt(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Wd(n.bitrate),y(r)||(i.bitrate=r),i)),e}function iE(t){switch(t){case"bandwidth":return GT.BANDWIDTH;case"performance":return GT.PERFORMANCE;case"quality":return GT.QUALITY}}var rE=function(t){function n(n){var i;return(i=t.call(this,"Ix")||this).Rx=n,i}return F(n,t),n}(Ss),eE=function(t){function n(n){var i;return(i=t.call(this,"Cx")||this).Nx=n,i}return F(n,t),n}(Ss),sE=function(t){function n(n){var i;return(i=t.call(this,"Ox")||this).Dx=n,i}return F(n,t),n}(Ss),uE=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).hl=(i=sn(n),{get strategy(){return{metadata:(t=i.Nx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Nx=nE(t)},get targetBuffer(){return i.Rx},set targetBuffer(t){var n=Wd(t);y(n)||(i.Rx=n>tE?tE:n)},get bufferLookbackWindow(){return i.Dx},set bufferLookbackWindow(t){var n=Wd(t);y(n)||(i.Dx=n<=0?JT:n)}}),n.xx=$T,n.Px=KT,n.Bx=JT,n.Lx=void 0,n.Mx=void 0,n}F(n,t);var i=n.prototype;return i.Ux=function(t){this.Mx=t},i.kx=function(t){this.Lx=t},M(n,[{key:"Fx",get:function(){switch(this.xx.type){case GT.PERFORMANCE:return 0;case GT.QUALITY:return 1/0;case GT.BANDWIDTH:return this.xx.metadata&&void 0!==this.xx.metadata.bitrate?this.xx.metadata.bitrate:8*dl.T_();default:return 8*dl.T_()}}},{key:"al",get:function(){return this.hl}},{key:"Nx",get:function(){return this.xx},set:function(t){this.xx=t,this.Vo(new eE(t))}},{key:"Rx",get:function(){return this.Px},set:function(t){this.Px=t,this.Vo(new rE(t))}},{key:"Dx",get:function(){return this.Bx},set:function(t){this.Bx=t,this.Vo(new sE(t))}},{key:"Ax",get:function(){var t;return null!=(t=this.Lx)?t:this.Mx.gR}}]),n}(Ts),oE=function(t){function n(){return t.call(this,"bl")||this}return F(n,t),n.prototype.cl=function(){return new hE},n}(Ad),hE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Ss),aE=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Hx=void 0,e.yD=void 0,e.Vx=function(t){bd(t)&&_s(function(){e.Vo(t.al)})},e.Hx=n,e.yD=i;for(var s=0,u=e.yD;s<u.length;s++){var o=u[s];e.Hx.Xo(o,e.Vx)}return e}return F(n,t),n.prototype.qv=function(){this.zo();for(var t=0,n=this.yD;t<n.length;t++){var i=n[t];this.Hx.Go(i,this.Vx)}},n}(Ts),cE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Hx=void 0,r.Vx=function(t){bd(t)&&_s(function(){r.Vo(t.al)})},r.Hx=n,r.Hx.qo(r.Vx),r}return F(n,t),n.prototype.qv=function(){this.zo(),this.Hx.Yo(this.Vx)},n}(al),fE=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(cE);var vE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Uw=0,n.Fw=1/0,n.hl=void 0,n}F(n,t);var i=n.prototype;return i.Ul=function(){0===this.Uw&&this.Fw===1/0||(this.Uw=0,this.Fw=1/0,this.Vo(new oE))},i.Xx=function(){return new sA([this.Rw,this.Iw],[!0,!0])},M(n,[{key:"Rw",get:function(){return this.Uw},set:function(t){if(this.Iw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Uw!==t&&(this.Uw=t,this.Vo(new oE))}},{key:"Iw",get:function(){return this.Fw},set:function(t){if(t<=this.Rw)throw new v("End time of a clip should be larger than the start time.");this.Fw!==t&&(this.Fw=t,this.Vo(new oE))}},{key:"al",get:function(){var t,n,i;return this.hl||(this.hl=(i={get startTime(){return t.Rw},set startTime(n){t.Rw=n},get endTime(){return t.Iw},set endTime(n){t.Iw=n},addEventListener:function(t,i){n.Xo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},n=new cE(t=this,i),i)),this.hl}}]),n}(al),dE=function(t){function n(n){var i;return(i=t.call(this)||this).Wx=function(t){i.qx(t)||i.Vo(t)},i.zx=n,i.zx.qo(i.Wx),i}F(n,t);var i=n.prototype;return i.Gx=function(){return this.zx.pg},i.Hg=function(){return this.zx.Hg()},i.jx=function(){return this.zx.Gg},i.Qx=function(){return this.zx.qg},i.Yx=function(){return this.zx.jg},i.Zx=function(t){this.zx.jg=t},i.Jx=function(){return this.zx.z_},i.$x=function(t){this.zx.z_=t},i.Kx=function(){return this.zx.G_},i.tP=function(){return this.zx.Qg},i.nP=function(){return this.zx.j_},i.iP=function(){return this.zx.ih},i.rP=function(){return this.zx.Q_},i.eP=function(){return this.zx.Yg},i.sP=function(){return this.zx.Y_},i.uP=function(t){this.zx.Y_=t},i.oP=function(){return this.zx.iw},i.hP=function(){return this.zx.Z_},i.aP=function(){return this.zx.J_},i.cP=function(t){this.zx.J_=t},i.fP=function(){return this.zx.rw},i.vP=function(){return this.zx.ew},i.dP=function(t){this.zx.ew=t},i.lP=function(){return this.zx.a_},i._P=function(){return this.zx.sw},i.gP=function(){return this.zx.K_},i.Ig=function(){return this.zx.Ig()},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(i),t.next=3,this.zx.Ng(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wP=function(){return this.zx.bg},i.yP=function(){return this.zx.tg},i.mP=function(){return this.zx.Ag},i.kP=function(){return this.zx.ng},i.pP=function(){return this.zx.ig},i.AP=function(t){this.zx.ig=t},i.Fg=function(){return this.zx.Fg()},i.Ug=function(){return this.zx.Ug()},i.Pg=function(t){this.zx.Pg(t)},i.Bg=function(){this.zx.Bg()},i.Mg=function(){this.zx.Mg()},i.xg=function(){this.zx.xg()},i.Sg=function(){this.zx.Sg()},i.Eg=function(){this.zx.Eg()},i.Lg=function(){this.zx.Lg()},i.Rg=function(){return this.zx.Rg()},i.Cg=function(){return this.zx.Cg()},i.Dg=function(){this.zx.Dg()},i.Og=function(){this.zx.Og()},i.Ul=function(){return this.zx.Ul()},i.qv=function(){return this.zx.qv()},i.zg=function(){this.zx.zg()},i.Vg=function(t){return this.zx.Vg(t)},i.qx=function(t){return!1},M(n,[{key:"pg",get:function(){return this.Gx()}},{key:"Gg",get:function(){return this.jx()}},{key:"jg",get:function(){return this.Yx()},set:function(t){this.Zx(t)}},{key:"qg",get:function(){return this.Qx()}},{key:"z_",get:function(){return this.Jx()},set:function(t){this.$x(t)}},{key:"G_",get:function(){return this.Kx()}},{key:"Qg",get:function(){return this.tP()}},{key:"j_",get:function(){return this.nP()}},{key:"ih",get:function(){return this.iP()}},{key:"Q_",get:function(){return this.rP()}},{key:"Tg",get:function(){return this.zx.Tg}},{key:"Yg",get:function(){return this.eP()}},{key:"ag",get:function(){return this.zx.ag}},{key:"Y_",get:function(){return this.sP()},set:function(t){this.uP(t)}},{key:"iw",get:function(){return this.oP()}},{key:"Z_",get:function(){return this.hP()}},{key:"J_",get:function(){return this.aP()},set:function(t){this.cP(t)}},{key:"rw",get:function(){return this.fP()}},{key:"ew",get:function(){return this.vP()},set:function(t){this.dP(t)}},{key:"a_",get:function(){return this.lP()}},{key:"sw",get:function(){return this._P()}},{key:"K_",get:function(){return this.gP()}},{key:"bg",get:function(){return this.wP()}},{key:"tg",get:function(){return this.yP()}},{key:"Ag",get:function(){return this.mP()}},{key:"ng",get:function(){return this.kP()}},{key:"ig",get:function(){return this.pP()},set:function(t){this.AP(t)}},{key:"uw",get:function(){return this.zx.uw},set:function(t){this.zx.uw=t}}]),n}(cl),lE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).bP=void 0,e.TP=!1,e.EP=void 0,e.SP=!1,e.RP=function(){e.IP(),e.NP()},e.DS=function(){e.CP(),e.NP(),e.DP&&e.z_>=e.bP.Iw-n.OP&&!e.j_&&(e.EP=gT(e.DS))},e.xP=function(){e.SP=!0},e.PP=function(){e.SP&&(e.SP=!1,e.NP())},e.bP=r,e.bP.Xo("bl",e.RP),e.zx.Xo("timeupdate",e.DS),e}F(n,t);var i=n.prototype;return i.$x=function(n){var i=this.bP.Xx().hI(n);t.prototype.$x.call(this,i),this.NP()},i.nP=function(){return t.prototype.nP.call(this)||this.TP},i._P=function(){return sA.OI(t.prototype._P.call(this)).fI(this.bP.Xx()).vR()},i.Eg=function(){this.nP()?this.$x(this.BP.start(0)):this.IP(),t.prototype.Eg.call(this),this.NP()},i.Ng=function(){var n=E.coroutine(te.mark(function n(i,r){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return hs(r),this.TP=!1,this.bP.Ul(),n.next=5,t.prototype.Ng.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.qv=function(){return this.bP.Go("bl",this.RP),this.zx.Go("timeupdate",this.DS),this.CP(),t.prototype.qv.call(this)},i.qx=function(n){switch(n.type){case"seeking":return this.Vo(n),this.xP(),!0;case"seeked":case"emptied":return this.Vo(n),this.PP(),!0;case"ended":if(this.DP)return!0}return t.prototype.qx.call(this,n)},i.CP=function(){this.EP&&(wT(this.EP),this.EP=void 0)},i.NP=function(){var t=this.z_,i=this.DP&&t>=this.bP.Iw-n.fm;this.TP&&!i?(this.TP=!1,this.Z_&&this.Eg()):this.TP||!i||this.K_||this.SP||(this.TP=!0,this.Vo(new Ql(t)),this.Sg())},i.IP=function(){if(this.G_!==1/0){var t=this.BP,i=sA.OI(t).hI(this.z_);Gt(this.z_,i,n.fm)||this.$x(i)}},M(n,[{key:"BP",get:function(){return this._P().length?this._P():this.bP.Xx().vR()}},{key:"DP",get:function(){return this.bP.Iw<this.G_}}]),n}(dE);lE.OP=1,lE.fm=.001;var _E=function(){function t(){this.LP=void 0,this.LP=!1}return M(t,[{key:"MP",get:function(){return this.LP},set:function(t){this.LP=t}}]),t}(),gE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).LP=void 0,r.UP=!1,r.FP=!1,r.LP=i,r}F(n,t);var i=n.prototype;return i.nP=function(){return!this.LP.MP&&t.prototype.nP.call(this)},i.Sg=function(){this.FP=!0,t.prototype.Sg.call(this)},i.Eg=function(){this.FP=!1,t.prototype.Eg.call(this)},i.qx=function(n){if(this.LP.MP)switch(n.type){case"ended":return this.z_=0,this.FP||(this.K_?this.UP=!0:this.Eg()),!0;case"seeked":this.UP&&(this.UP=!1,this.Eg());break;case"pause":if(this.UP||t.prototype.nP.call(this))return!0}return t.prototype.qx.call(this,n)},n}(dE);var wE=function(){function t(t){var n;this.hl=(n=this,{get currentBandwidthEstimate(){return n.Kg},get corruptedVideoFrames(){return n.Jg},get droppedVideoFrames(){return n.Zg},get totalBytesLoaded(){return n.tw},get bufferedSegments(){return n.nw}}),this.XR=t}return M(t,[{key:"al",get:function(){return this.hl}},{key:"Jg",get:function(){return this.XR.HP.ag.Jg}},{key:"Kg",get:function(){return this.XR.HP.ag.Kg}},{key:"Zg",get:function(){return this.XR.HP.ag.Zg}},{key:"VP",get:function(){throw new v("Not implemented")}},{key:"XP",get:function(){throw new v("Not implemented")}},{key:"tw",get:function(){return this.XR.HP.ag.tw}},{key:"$g",get:function(){return this.XR.HP.ag.$g}},{key:"nw",get:function(){return this.XR.HP.ag.nw}}]),t}();function yE(t){if(!t||!Or(t))return{Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Zg:n.droppedVideoFrames,Jg:n.corruptedVideoFrames||0,$g:n.totalVideoFrames}}return{Zg:t.webkitDroppedFrameCount||0,Jg:0,$g:t.webkitDecodedFrameCount||0}}var mE=function(t){function n(){return t.call(this,"WP")||this}return F(n,t),n.prototype.cl=function(){return new kE},n}(Ad),kE=function(t){function n(){return t.call(this,"castingchange")||this}return F(n,t),n}(Ss);var pE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).qP=[],n.hl=void 0,n.zP=function(){return n.Vo(new mE)},n}F(n,t);var i=n.prototype;return i.GP=function(t){this.qP.push(t),t.Xo("statechange",this.zP)},i.qv=function(){var t=this;this.qP.forEach(function(n){n.Go("statechange",t.zP)}),$e(this.qP)},M(n,[{key:"jP",get:function(){return this.qP.some(function(t){return t.jP})}},{key:"al",get:function(){var t,n,i;return this.hl||(this.hl=(i={get casting(){return t.jP},addEventListener:function(t,i){n.Xo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},n=new fE(t=this,i),i)),this.hl}}]),n}(cl),AE=function(){function t(){}return t.QP=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Df({kv:n,_v:Zo.es,Mv:Sf.GET}),t.next=4,i.yv(r);case 4:return e=t.sent,t.next=7,e.Ls();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),os(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.YP=function(t){try{var i=Rb(t);return new xb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new No(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.ZP=function(t){void 0===t&&(t=jb.Fm),T.Su("The baked-in license is used. Please update the configuration with your license.");var n=t.AC(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.AC(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.AC(n)}),e=Number(new Date(Number(t.AC("COD|aHpHa:p3Ceo3Co\"\""))));return new xb(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new xb(t.DC,t.OC,t.xC,864e13,t.LC,Date.now(),t.UC,t.FC)},t}(),bE=function(){function t(){}return t.Za=function(){return t.$e||(t.$e=TE.aa()?new TE:new qo),t.$e},t.lh=function(n){t.Za().lh(n)},t.Qa=function(){t.Za().Qa()},t.fh=function(n){return t.Za().fh(n)},t.Ya=function(n,i){t.Za().Ya(n,i)},t.JP=function(n){var i=t.fh(n);if(void 0!==i)return w(i)},t.$P=function(n){return"true"===t.fh(n)},t}();bE.$e=void 0;var TE=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.aa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.lh=function(n){t.localStorage.removeItem(n)},r.Qa=function(){t.localStorage.clear()},r.fh=function(n){return t.localStorage[n]},r.Ya=function(n,i){t.localStorage[n]=i},i}(bE),EE=_.floor(14399999*_.random()-72e5),SE=function(){function t(t,n,i,r,e,s){this.XC=void 0,this.qb=t,this.KP=n,this.tB=i,this.SD=r,this.nB=e,this.zC=s,this.XC=Hb(s)}var i=t.prototype;return i.iB=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rB(this.nB.license,this.nB.licenseUrl);case 2:n=t.sent,this.SD.eB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rB=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s,u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?s=AE.YP(i):e||(s=AE.ZP()),e||(e="https://validate.theoplayer.com/1/"+s.DC),u=this.sB(),!s){t.next=14;break}if((o=this.KP.YC(s))!==Nb.RC){t.next=14;break}if(!this.uB(s.BC)||!this.uB(null==u?void 0:u.BC)){t.next=13;break}return t.next=10,this.oB(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.KP.YC(u)!==Nb.RC){t.next=24;break}if(!this.uB(null==u?void 0:u.BC)){t.next=23;break}return t.next=20,this.oB(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:bE.lh("THEOplayer.license");case 25:return t.next=27,AE.QP(e,this.qb);case 27:if(!(c=t.sent)){t.next=37;break}if(f=AE.YP(c),this.KP.YC(f)!==Nb.RC){t.next=34;break}return bE.Ya("THEOplayer.license",c),t.abrupt("return",f);case 34:bE.lh("THEOplayer.license"),t.next=39;break;case 37:if(this.XC||!s||o!==Nb.IC||e!=="https://validate.theoplayer.com/1/"+s.DC){t.next=39;break}return t.abrupt("return",AE.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this.hB(null!=(v=s)?v:f,new No(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new No(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.GC=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SD.PD();case 2:if(i=t.sent,!this.uB(i.BC)){t.next=9;break}return e=null!=(r=this.nB.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.DC,t.next=7,this.oB(e);case 7:(s=t.sent)&&(this.SD.eB(s),i=s);case 9:if(t.prev=9,(u=this.KP.YC(i))!==Nb.NC){t.next=16;break}throw o=Ob.HC,new No(Bb(o),Xb.QC(o));case 16:if(u!==Nb.IC){t.next=19;break}throw h=Ob.IC,new No(Bb(h),Xb.QC(h));case 19:this.KP.GC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.aB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.oB=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,AE.QP(n,this.qb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=AE.YP(i),this.KP.YC(r)!==Nb.RC){t.next=11;break}return bE.Ya("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.uB=function(t){return!t||Number(new Date)+2592e5+EE>=t},i.sB=function(){var t=bE.fh("THEOplayer.license");if(t)return AE.YP(t)},i.hB=function(t,n){this.SD.eB(t),this.aB(n)},i.aB=function(t){throw gt(t.message),this.tB.MD(t.message),t},t}(),RE=function(){function t(){this.cB=void 0,this.fB=new Qu}var n=t.prototype;return n.eB=function(t){this.cB=t,this.fB.Eh()},n.PD=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cB){t.next=2;break}return t.abrupt("return",E.resolve(this.cB));case 2:return t.next=4,this.fB.Th;case 4:return t.abrupt("return",this.cB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"vB",get:function(){return this.cB}}]),t}(),IE=function(t){function n(){return t.call(this,"bl")||this}return F(n,t),n.prototype.cl=function(){return new NE},n}(Ad),NE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Ss);function CE(t){var n,i={get fontFamily(){return t.dB},set fontFamily(n){t.dB=n},get fontColor(){return t.lB},set fontColor(n){t.lB=n},get fontSize(){return t._B},set fontSize(n){t._B=n},get backgroundColor(){return t.gB},set backgroundColor(n){t.gB=n},get windowColor(){return t.wB},set windowColor(n){t.wB=n},get edgeStyle(){return t.yB},set edgeStyle(n){t.yB=n},addEventListener:function(t,i){var r=Gd(t,zd);n.Xo(r,i)},removeEventListener:function(t,i){var r=Gd(t,zd);n.Go(r,i)}};return n=new Es(i),t.Xo(["bl"],function(t){return n.Vo(t.al)}),i}var DE,OE,xE={dB:void 0,lB:void 0,_B:void 0,gB:void 0,wB:void 0,yB:void 0,mB:void 0},PE="THEOplayer.textTrackStyle.",BE=function(t){function n(){var i;return(i=t.call(this)||this).kB=void 0,i.hl=void 0,i.kB=n.pB(),i}return F(n,t),n.prototype.Wh=function(t){this.kB=ne({},this.kB,t),n.AB(this.kB),this.Vo(new IE)},n.pB=function(){var t=ne({},xE);return t.dB=bE.fh(PE+"fontFamily")||t.dB,t.lB=bE.fh(PE+"fontColor")||t.lB,t._B=bE.fh(PE+"fontSize")||t._B,t.gB=bE.fh(PE+"backgroundColor")||t.gB,t.wB=bE.fh(PE+"windowColor")||t.wB,t.yB=bE.fh(PE+"edgeStyle")||t.yB,t},n.AB=function(t){bE.Ya(PE+"fontFamily",t.dB||""),bE.Ya(PE+"fontColor",t.lB||""),bE.Ya(PE+"fontSize",t._B||""),bE.Ya(PE+"backgroundColor",t.gB||""),bE.Ya(PE+"windowColor",t.wB||""),bE.Ya(PE+"edgeStyle",t.yB||"")},M(n,[{key:"bB",get:function(){return this.kB}},{key:"dB",get:function(){return this.kB.dB},set:function(t){this.Wh({dB:t})}},{key:"lB",get:function(){return this.kB.lB},set:function(t){this.Wh({lB:t})}},{key:"_B",get:function(){return this.kB._B},set:function(t){this.Wh({_B:t})}},{key:"gB",get:function(){return this.kB.gB},set:function(t){this.Wh({gB:t})}},{key:"wB",get:function(){return this.kB.wB},set:function(t){this.Wh({wB:t})}},{key:"yB",get:function(){return this.kB.yB},set:function(t){this.Wh({yB:t})}},{key:"mB",get:function(){return this.kB.mB}},{key:"al",get:function(){return this.hl||(this.hl=CE(this)),this.hl}}]),n}(Ts),LE=function(t){function n(n,i){var r;(r=t.call(this)||this).TB=void 0,r.Jh=void 0,r.HP=void 0,r.EB=void 0,r.nl=void 0,r.bP=void 0,r.LP=void 0,r.SB=void 0,r.RB=void 0,r.ZI=void 0,r.KP=void 0,r.IB=void 0,r.NB=void 0,r.YI=void 0,r.CB=!1,r.lg=!1,r.dw=void 0,r.DB=!1,r.OB=void 0,r.xB=void 0,r.PB=void 0,r.BB=void 0,r.LB=void 0,r.MB=function(t){if(!r.DB){r.DB=!0;var n=r.TB,i=E_(t);r.HP.Gl=new fA(r.Qg,i,t),gs(n.qv())}},r.UB=function(t){r.Vo(t.al)},r.FB=function(t){t.type!==Yo.lc&&t.type!==Yo.dc&&r.Vo(t)};var e=Wd(i.uid);y(e)?r.dw=P_++:r.dw=e,r.Jh=i;var s=T.nl,u=new RE;r.EB=new eT("3.0.0",s,u),r.nl=new jT(s,i.allowMixedContent),r.ZI=new uE,r.KP=new Pb(i.isEmbeddable,"3.0.0",Ib()),r.LB=new SE(s,r.KP,r.EB,u,i,Ib()),r.LB.iB().catch(r.MB),r.IB=new ET(n),r.IB.Xo("GD",r.UB),r.YI=new BE,r.bP=new vE,r.LP=new _E;var o=new cA(n,i,r.nl,r.ZI,r.IB,r.YI);r.ZI.Ux(o);var h=o;h=new lE(h,r.HB),h=new gE(h,r.MP),r.TB=h,r.HP=new p_(r.TB),r.HP.qo(r.FB),r.BB=new wE(sn(r)),r.xB=new ZT(r.HP,r.nl,r.ZI),r.SB=new oT(sn(r)),r.NB=new OT(r.HP,i.allowNativeFullscreen),r.RB=new CA(r.NB),r.IB.ta();var a=new wr(r.IB,r.YI,1,[R_.Bv]);return r.OB=new yr(a),r.PB=new pE,r}F(n,t);var i=n.prototype;return i.uP=function(t){this.HP.Y_=t,t||this.Z_||this.xg()},i.AP=function(t){this.HP.ig=t},i.VB=function(){o_(this,DA,this)},i.Eg=function(){this.HP.Eg()},i.Sg=function(){this.HP.Sg()},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.LB.GC(n).catch(this.MB),r=ME(n),t.next=5,this.HP.Ng(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xg=function(){this.lg||(this.HP.xg(),this.OB.xg(),this.lg=!0)},i.UI=function(){return this.RB.AN()===EA.FULLSCREEN},i.Lg=function(){this.HP.Lg()},i.Mg=function(){this.HP.Mg()},i.Ug=function(){return this.HP.Ug()},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HP.Rg();case 2:return t.next=4,this.HP.Ul();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),this.PB.qv(),this.nl.qv(),this.xB.qv(),this.NB.qv(),this.RB.qv(),this.IB.qv(),this.EB.qv(),this.OB.qv(),t.next=11,this.HP.qv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"XB",get:function(){return this.ZI}},{key:"mg",get:function(){return this.CB},set:function(t){this.CB=t,this.HP.mg=t}},{key:"WB",get:function(){return this.OB}},{key:"pg",get:function(){return this.HP.pg}},{key:"qB",get:function(){return this.PB}},{key:"zB",get:function(){return this.IB}},{key:"Tg",get:function(){return this.HP.Tg}},{key:"ag",get:function(){return this.BB}},{key:"GB",get:function(){return this.xB}},{key:"bg",get:function(){return this.HP.bg}},{key:"jB",get:function(){return this.YI}},{key:"Ag",get:function(){return this.HP.Ag}},{key:"Gg",get:function(){return this.HP.Gg}},{key:"HB",get:function(){return this.bP}},{key:"MP",get:function(){return this.LP}},{key:"z_",get:function(){return this.HP.z_},set:function(t){this.HP.z_=t}},{key:"jg",get:function(){return this.HP.jg},set:function(t){this.HP.jg=t}},{key:"qg",get:function(){return this.HP.qg}},{key:"G_",get:function(){return this.HP.G_}},{key:"Qg",get:function(){return this.HP.Qg}},{key:"j_",get:function(){return this.HP.j_}},{key:"ih",get:function(){return this.HP.ih}},{key:"Q_",get:function(){return this.HP.Q_}},{key:"Y_",get:function(){return this.HP.Y_},set:function(t){var n=Boolean(t);this.uP(n)}},{key:"Z_",get:function(){return this.HP.Z_}},{key:"J_",get:function(){return this.HP.J_},set:function(t){this.HP.J_=t}},{key:"rw",get:function(){return this.HP.rw}},{key:"ew",get:function(){return this.HP.ew},set:function(t){this.HP.ew=Kp(t)}},{key:"a_",get:function(){return this.HP.a_}},{key:"sw",get:function(){return this.HP.sw}},{key:"K_",get:function(){return this.HP.K_}},{key:"Jl",get:function(){return this.dw}},{key:"tg",get:function(){return this.HP.tg}},{key:"ng",get:function(){return this.HP.ng}},{key:"ig",get:function(){return this.HP.ig},set:function(t){var n=zt(Number(t),0,1)||0;this.AP(n)}}]),n}(cl);function ME(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.QB=0]="QB",t[t.YB=1]="YB"}(DE||(DE={})),function(t){t[t.ZB=0]="ZB"}(OE||(OE={}));var UE={};function FE(t,n){(UE[n]||(UE[n]=[])).push(t)}function HE(t,n){var i=t;if(UE[n])for(var r=0,e=UE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var VE=[];function XE(t){VE.push(t)}var WE=t.CustomEvent;var qE=function(){try{var t=new WE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},zE=function(){function t(t,n){var i=this;this.XR=void 0,this.JB=void 0,this.$B=!1,this.KB=function(t){i.JB.LD(t.error,i.z_)},this.tL=function(){i.JB.xD(i.nL),i.XR.removeEventListener("playing",i.tL),i.$B=!1},this.iL=function(){i.$B||(i.XR.addEventListener("playing",i.tL),i.$B=!0)},this.JB=n,this.XR=t,this.XR.addEventListener("error",this.KB),this.XR.addEventListener("sourcechange",this.iL),this.iL()}return t.prototype.Ul=function(){},M(t,[{key:"z_",get:function(){var t=this.XR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"nL",get:function(){return this.XR.src||""}}]),t}();XE(function(t){new zE(t.al,t.EB)});var GE="theoplayer-stored-volume",jE="theoplayer-stored-mutedstate";FE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=bE.JP(GE);(void 0===e||y(e))&&(e=1);var s=bE.$P(jE)||!1;r.ig=e,r.Y_=s}return r}F(n,t);var i=n.prototype;return i.uP=function(n){this.Jh.persistVolume&&bE.Ya(jE,""+Boolean(n)),t.prototype.uP.call(this,n)},i.AP=function(n){this.Jh.persistVolume&&bE.Ya(GE,""+Number(n)),t.prototype.AP.call(this,n)},n}(t)},DE.YB);var QE=new(function(){function t(){this.rL=[],this.hl=void 0}var n=t.prototype;return n.Pl=function(t){return this.rL[t]},n.eL=function(t){this.rL.push(t),this.al.push(t.al)},n.Xh=function(t){var n=this.rL.indexOf(t);n<0||(Ze(this.rL,n),this.hl&&Ze(this.hl,n))},n.sL=function(t){for(var n=0,i=this.rL;n<i.length;n++){var r=i[n];if(r.Jl===t)return r}},M(t,[{key:"Hl",get:function(){return this.rL.length}},{key:"al",get:function(){return this.hl||(this.hl=function(t){for(var n=[],i=0;i<t.Hl;i++)n[i]=t.Pl(i).al;return n.getPlayerByUID=function(n){var i=t.sL(n);return i&&i.al},n}(this)),this.hl}}]),t}()),YE=function(){function t(t){var n=this;this.uL=[],this.oL=void 0,this.Ud=new ss,this.hL=void 0,this.Cn=function(){return 0===n.uL.length?n.hL?ZE(n.hL,n.Ud.Lo).then(n.aL,n.aL):n.aL():n.uL.shift()().then(n.Cn)},this.aL=function(){if(0!==n.uL.length)return n.Cn();n.oL=void 0},this.hL=t}var n=t.prototype;return n.cL=function(t,n){var i=this;return new E(function(r){var e=new ss;e.Po(i.Ud.Lo),n&&e.Po(n);var s=function(){e.Ro()};i.uL.push(function(){var n=ZE(t,e.Lo);return r(n),n.then(s,s)}),i.oL||(i.oL=i.Cn())})},n.xo=function(){return this.fL(!0)},n.qv=function(){return this.hL=void 0,this.fL(!1)},n.fL=function(t){var n=this.oL;return this.Ud.xo(),t&&(this.Ud=new ss),E.resolve(n)},t}();function ZE(t,n){return new E(function(i){return i(t(n))})}var JE,$E=function(t){function n(n){var i;return(i=t.call(this,Yo.Ic)||this).source=n,i}return F(n,t),n}(Ss),KE=function(t){function n(){var n;return(n=t.call(this)||this).VI=void 0,n.WI=void 0,n.zI=void 0,n.qI=void 0,n.VI=0,n.WI=!0,n.zI=!1,n.qI=1,n}F(n,t);var i=n.prototype;return i.Eg=function(){this.WI&&(this.WI=!1,this.Vo(new Hl(this.z_)),this.Vo(new rm(this.z_)))},i.Sg=function(){this.WI||(this.WI=!0,this.Vo(new jl(this.z_,this.jg)),this.Vo(new Fl(this.z_)))},i.Ul=function(){this.VI=0,this.zI=!1,this.qI=1,this.Sg(),this.Vo(new Ul(this.VI))},i.qv=function(){this.zo()},i.Mg=function(){},i.Lg=function(){},M(n,[{key:"jg",get:function(){},set:function(t){}},{key:"z_",get:function(){return this.VI},set:function(t){this.zI&&this.VI===t||(this.VI=t,this.zI=!0,this.Vo(new Zl(this.z_)))}},{key:"Z_",get:function(){return this.WI}},{key:"J_",get:function(){return this.qI},set:function(t){this.qI!==t&&(this.qI=t,this.Vo(new Gl(this.z_,this.J_)))}},{key:"a_",get:function(){return ml.P_}},{key:"K_",get:function(){return this.zI}}]),n}(al),tS=function(t){function n(){return t.call(this,Yo.ec)||this}return F(n,t),n}(Ss),nS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},iS={visibility:"hidden"},rS={visibility:"visible"},eS=function(){function t(t){var n,i=this;this.LR=void 0,this.XR=void 0,this.vL=!1,this.dL=void 0,this.lL=void 0,this._L=function(t){var n;i.vL=!1,i.dL=null==(n=t.source)?void 0:n.poster,i.Wh()},this.cT=function(){i.vL=!0,i.Mg()},this.XR=t,this.GR(),this.LR=((n=kr&&kr.document&&kr.document.createElement("div")).className="theoplayer-poster",Nr(nS,n),n),t.Qg.appendChild(this.LR)}var n=t.prototype;return n.Wh=function(){var t=this.XR.Z_,n=this.vL;this.kv?this.LR.style.backgroundImage='url("'+this.kv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.LR.style.backgroundImage="",t&&this.kv&&!n?this.Lg():this.Mg()},n.Lg=function(){Nr(iS,this.XR.Qg),Nr(rS,this.LR)},n.Mg=function(){Nr(iS,this.LR),Nr(rS,this.XR.Qg)},n.GR=function(){this.XR.Xo("sourcechange",this._L),this.XR.Xo("play",this.cT)},n.qv=function(){this.XR.Go("sourcechange",this._L),this.XR.Go("play",this.cT),Sr(this.LR)},M(t,[{key:"kv",get:function(){return void 0!==this.dL?this.dL:void 0!==this.lL?this.lL:void 0}},{key:"gL",set:function(t){this.lL=t,this.Wh()}}]),t}();function sS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).XR=void 0,e.wL=void 0,e.yL=void 0,e.mL=void 0,e.kL=void 0,e.pL=void 0,e.AL=void 0,e.bL=void 0,e.zR=void 0,e.qR=void 0,e.hl=void 0,e.TL=function(t){t.type!==Yo.yc&&e.bL.push(t)},e.wL=new t(i,r),e.yL=new KE,e.XR=e.wL,e.mL=new eS(sn(e)),e.pL=new YE,e.AL=!1,e.bL=[],e.zR=!0,e.qR=void 0,e.GR(),e}F(i,n);var r=i.prototype;return r.cL=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pL.cL(n,i).catch(cs));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.EL=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(i),this.wL.qo(this.TL),t.next=4,this.wL.Ng(n,i);case 4:this.wL.Yo(this.TL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.SL=function(){var t=E.coroutine(te.mark(function t(){var n,i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Ig())&&!ub(n)&&this.mg&&this.Z_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Jh.mutedAutoplay,t.next=6,this.WB.RL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.IL(),t.abrupt("break",14);case 12:return(this.Y_||i===Vl.ALL)&&(this.Y_=!0,this.Eg()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ng=function(t){var n=this,i=this.qR;i&&!ub(i)&&this.Vo(new Ul(0,0)),this.Ul(),this.qR=t,gs(this.cL(function(){var i=E.coroutine(te.mark(function i(r){return te.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return hs(r),i.prev=1,i.next=4,n.EL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.qR=void 0,i.t0;case 10:return i.next=12,n.NL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.NL=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.CL(this.wL),this.Vo(new $E(this.Ig())),t.next=4,this.SL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.$x=function(t){this.XR.z_=t},r.iP=function(){return this.wL.ih},r.rP=function(){return this.wL.Q_},r.Eg=function(){this.XR.Eg()},r.IL=function(){this.Y_||this.xg(),this.Eg()},r.xg=function(){this.wL.xg()},r.Sg=function(){this.XR.Sg()},r.Rg=function(){this.Ng(void 0)},r.Lg=function(){this.zR=!0,this.XR.Lg()},r.Mg=function(){this.zR=!1,this.XR.Mg()},r.VB=function(){this.wL.VB()},r.AP=function(t){this.wL.AP(t)},r.uP=function(t){this.wL.uP(t)},r.DL=function(t){this.kL=t,t.eL(this)},r.UI=function(){return this.wL.UI()},r.Ig=function(){return this.qR},r.Ug=function(){return this.wL.Ug()},r.Jx=function(){return this.wL.z_},r.Kx=function(){return this.wL.G_},r.jx=function(){return this.wL.Gg},r.fP=function(){return this.wL.rw},r._P=function(){return this.wL.sw},r.Ul=function(){var t=this;this.qR=void 0,$e(this.bL),this.yL.Ul(),this.CL(this.yL),this.pL.xo(),gs(this.pL.cL(function(){var n=E.coroutine(te.mark(function n(i){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return hs(i),n.next=3,t.wL.Ul();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.qv=function(){var t=this;this.Vo(new tS),this.mL.qv(),this.jR(),this.Ul(),gs(this.cL(E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.wL.qv();case 2:t.kL&&(t.kL.Xh(t),t.kL=void 0),t.pL.qv();case 4:case"end":return n.stop()}},n)})))),this.zo()},r.CL=function(t){if(this.XR!==t){var n=this.XR.Z_,i=this.XR.z_,r=this.XR.J_,e=this.XR.K_;this.jR(),t===this.wL?((e||t.z_!==i)&&(t.z_=i),t.J_!==r&&(t.J_=r),n?t.Sg():t.Eg()):this.Jh.retainPlaybackRateOnSourceChange?t.J_=r:1!==r&&this.Vo(new Gl(this.Jx(),1)),this.XR=t,this.GR();for(var s=0,u=this.bL;s<u.length;s++){var o=u[s];this.Vo(o)}$e(this.bL),this.zR?t.Lg():t.Mg()}},r.GR=function(){this.XR.qo(this.Ho)},r.jR=function(){this.XR.Yo(this.Ho)},r.cl=function(){return t=this,r=function(n){i=n;var r=gb(n,t.Jh);t.Ng(r)},e={get abr(){return t.XB.al},get audioTracks(){return t.pg.al},get autoplay(){return t.mg},set autoplay(n){t.mg=Boolean(n)},get buffered(){return t.jx()},get canvas(){return t.SB.al},get clip(){return t.HB.al},get currentProgramDateTime(){var n;return null!=(n=t.jg)?n:null},set currentProgramDateTime(n){t.jg=null!=n?n:void 0},get currentTime(){return t.Jx()},set currentTime(n){t.$x(Number(n))},get duration(){return t.Kx()},get element(){return t.Qg},get ended(){return t.j_},get error(){return t.iP()},get errorObject(){return t.rP()},get loop(){return t.MP.MP},set loop(n){t.MP.MP=Boolean(n)},get metrics(){return t.ag.al},get muted(){return t.Y_},set muted(n){t.uP(n)},get network(){return t.GB.al},get paused(){return t.Z_},get playbackRate(){return t.J_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.J_=i},get played(){return t.fP()},get poster(){return t.OL},set poster(n){t.OL=zd(n)},get preload(){return t.ew},set preload(n){t.ew=n},get presentation(){return t.RB.al},get readyState(){return t.a_},get seekable(){return t._P()},get seeking(){return t.K_},get source(){return i},set source(t){r(t)},get src(){return ob(t.Ig())},set src(t){r({sources:t})},get textTracks(){return t.bg.al},get textTrackStyle(){return t.jB.al},get uid(){return t.Jl},get videoHeight(){return t.tg},get videoTracks(){return t.Ag.al},get videoWidth(){return t.ng},get volume(){return t.ig},set volume(n){t.AP(Number(n))},destroy:function(){t.qv(),t=null,i=void 0},play:function(){t.IL()},pause:function(){t.Sg()},stop:function(){i=void 0,t.Rg()},prepareWithUserAction:function(){t.xg()},addEventListener:function(t,i){n.Xo(t,i)},removeEventListener:function(t,i){n.Go(t,i)},setSource:function(t){r(t)}},(n=new IA(e,!0)).hN(t),e;var t,n,i,r,e},M(i,[{key:"EB",get:function(){return this.wL.EB}},{key:"SB",get:function(){return this.wL.SB}},{key:"Jh",get:function(){return this.wL.Jh}},{key:"TB",get:function(){return this.wL.TB}},{key:"nl",get:function(){return this.wL.nl}},{key:"sR",get:function(){return this.wL.NB}},{key:"RB",get:function(){return this.wL.RB}},{key:"IB",get:function(){return this.wL.IB}},{key:"HP",get:function(){return this.wL.HP}},{key:"XB",get:function(){return this.wL.XB}},{key:"mg",get:function(){return this.wL.mg},set:function(t){this.wL.mg=t,this.SL()}},{key:"WB",get:function(){return this.wL.WB}},{key:"pg",get:function(){return this.wL.pg}},{key:"qB",get:function(){return this.wL.qB}},{key:"zB",get:function(){return this.wL.IB}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"Tg",get:function(){return this.wL.Tg}},{key:"ag",get:function(){return this.wL.ag}},{key:"GB",get:function(){return this.wL.GB}},{key:"bg",get:function(){return this.wL.bg}},{key:"jB",get:function(){return this.wL.jB}},{key:"Ag",get:function(){return this.wL.Ag}},{key:"HB",get:function(){return this.wL.HB}},{key:"MP",get:function(){return this.wL.MP}},{key:"jg",get:function(){return this.XR.jg},set:function(t){this.XR.jg=t}},{key:"qg",get:function(){return this.wL.qg}},{key:"Qg",get:function(){return this.wL.Qg}},{key:"j_",get:function(){return this.wL.j_}},{key:"Y_",get:function(){return this.wL.Y_},set:function(t){this.wL.Y_=t}},{key:"Z_",get:function(){return this.XR.Z_}},{key:"OL",get:function(){return this.mL.kv||""},set:function(t){this.mL.gL=t}},{key:"J_",get:function(){return this.wL.J_},set:function(t){this.XR.J_=t}},{key:"ew",get:function(){return this.wL.ew},set:function(t){this.wL.ew=Kp(t)}},{key:"a_",get:function(){return this.XR.a_}},{key:"K_",get:function(){return this.XR.K_}},{key:"Jl",get:function(){return this.wL.Jl}},{key:"tg",get:function(){return this.wL.tg}},{key:"ng",get:function(){return this.wL.ng}},{key:"ig",get:function(){return this.wL.ig},set:function(t){this.wL.ig=t}}]),i}(cl)}function uS(t,n){var i=e_(n),r=new(JE||(JE=HE(JE=sS(LE),DE.QB),JE=HE(JE,DE.YB)),JE)(t,i),e=r.al;return r.VB(),r.DL(QE),l.defineProperty(e,"constructor",{value:uS}),e=Bd(e),function(t){for(var n=0;n<VE.length;n++)(0,VE[n])(t)}(r),e}_s(function(){t.dispatchEvent&&t.dispatchEvent(qE("theoplayerready"))});var oS,hS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ws(t)},n.decode=function(t){return Vs(t)},t}())},aS=QE.al,cS=Pm.rE.registerContentProtectionIntegration.bind(Pm.rE),fS=(Yo.gc,Yo._c,Ml.q_,Yo.Nc,Yo.wc,Yo.cc,Yo.Ac,Yo.pc,Yo.oc,Yo.yc,Yo.Cc,Yo.sc,Ml.Tl,Yo.kc,tl.u_,bs.rh,bs.sh,Yo.ic,Yo.nc,Yo.Dc,{xL:!1,PL:50}),vS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.dC="BL"}(oS||(oS={}));var dS,lS=function(t){function i(n,i,r,e){var s;(s=t.call(this)||this).ba=void 0,s.mS=void 0,s.Ba=void 0,s.LL=!1,s.ML=new Qu,s.UL=!1,s.pL=new YE,s.FL=void 0,s.wo=void 0,s.Yh=void 0,s.HL=function(){s.UL=!0},s.VL=function(){s.XL(!0)},s.ba=n,s.mS=i,s.Ba=i.GS,s.FL=r,s.wo=e,s.Ba.addEventListener("loadedmetadata",s.HL);for(var u=0;u<vS.length;u++){var o=vS[u];s.Ba.addEventListener(o,s.VL)}return s}F(i,t);var r=i.prototype;return r.WL=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wo.ko(n.fo,i);case 2:return r=t.sent,t.next=5,r.ea();case 5:return e=t.sent,t.next=8,this.qL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.zL=function(t){var n=this.Yh;return n?0!==t.ZS.length&&t.ZS.some(function(t){return t.Zh.fo===n.Zh}):0===t.ZS.length||!this.UL},r.GL=function(t){return this.FL.GL(t),this.ba=t,E.resolve()},r.Ro=function(){var t=E.coroutine(te.mark(function t(){var n,i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.zo(),this.Ba.removeEventListener("loadedmetadata",this.HL),n=0;n<vS.length;n++)i=vS[n],this.Ba.removeEventListener(i,this.VL);return t.next=5,this.pL.qv();case 5:return t.next=7,this.jL();case 7:return t.next=9,this.FL.Ul();case 9:return t.next=11,this.qL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.XL=function(t){t!==this.LL&&(this.LL=t,t?this.ML.Eh(void 0):this.ML=new Qu)},r.qL=function(t){var n=this;return this.pL.cL(function(){return n.QL(t)})},r.QL=function(){var t=E.coroutine(te.mark(function t(i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Ba.src){t.next=4;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Ba.src){t.next=6;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.LL){t.next=9;break}return t.next=9,this.ML.Th;case 9:if(!(r=this.Yh)){t.next=14;break}return t.next=13,r.na(this.Ba);case 13:this.Yh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.ta(this.Ba);case 17:this.Yh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Ng=function(t){var n=this;return this.pL.cL(function(){return n.YL(t)})},r.YL=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.XL(!1),i=this.mS.J_,this.Ba.src=n,this.mS.J_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Vh=function(){var t=this;return this.pL.cL(function(){return t.Hd()})},r.Hd=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ba.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.jL=function(){var t=this;return this.pL.cL(function(){return t.ZL()})},r.ZL=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.XL(!1),xr(this.Ba);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"pg",get:function(){throw new v("Not implemented")}},{key:"Jh",get:function(){return this.ba}},{key:"GS",get:function(){return this.Ba}},{key:"Ag",get:function(){throw new v("Not implemented")}}]),i}(Ts),_S=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Ux=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Jh,t.t0=n.$S,t.next=t.t0===_l.I_?4:t.t0===_l.N_?4:(t.t0,_l.C_,6);break;case 4:return this.Ba.setAttribute("crossorigin",n.$S),t.abrupt("break",8);case 6:return this.Ba.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.ew?this.Ba.preload=n.ew:this.Ba.preload=Jp.nS,void 0!==n.KS?this.Ba.title=n.KS:Dr(this.Ba),t.next=12,this.Ng(n.v_);case 12:this.FL.Vh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zL=function(t){return!1},i.GL=function(t){return E.resolve(void 0)},i.Ro=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Dr(this.Ba),n.next=3,t.prototype.Ro.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.JL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.tv))},M(n,[{key:"Gg",get:function(){return sA.OI(this.Ba.buffered)}},{key:"G_",get:function(){return this.Ba.duration}},{key:"$L",get:function(){var t=this.G_;if(!isFinite(t))return!1;var n=this.Gg;return 0!==n.Hl&&t-n.tI(n.Hl-1)<1/6}},{key:"ew",get:function(){return this.Ba.preload},set:function(t){this.Ba.preload=t}},{key:"sw",get:function(){return sA.OI(this.Ba.seekable)}},{key:"KL",get:function(){return this.Gg}},{key:"tM",get:function(){if(Or(this.Ba)&&(this.Ba.videoWidth>0||this.Ba.videoHeight>0))return this.Gg}}]),n}(lS),gS=function(t){function n(n){var i;return(i=t.call(this,Yo.wc)||this).currentTime=n,i}return F(n,t),n}(Ss),wS=function(t){function n(){return t.call(this,Yo.cc)||this}return F(n,t),n}(Ss);!function(t){t.nM="iM"}(dS||(dS={}));var yS,mS;dS.nM;!function(t){t[t.rM=0]="rM",t[t.Lc=1]="Lc",t[t.eM=2]="eM"}(yS||(yS={})),function(t){t.sM="uM"}(mS||(mS={}));var kS=function(t){function n(n){var i;return(i=t.call(this,mS.sM)||this).oM=n,i}return F(n,t),n}(Ss),pS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).hM=sA.LI(),n}F(n,t);var i=n.prototype;return i.aM=function(t,n){var i=new sA([t,n]);this.hM=this.hM.wI(i),this.Vo(new kS(i))},i.cM=function(t,n){this.hM=this.hM.mI(new sA([t,n]))},i.Ul=function(){this.hM=sA.LI()},i.qv=function(){this.zo()},M(n,[{key:"fM",get:function(){return this.hM}}]),n}(Ts);function AS(t,n){return void 0===n&&(n=new qc({highWaterMark:1/0})),new Bc(new TS(t,n),{highWaterMark:0})}var bS,TS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.jc=void 0,this.vM=void 0,this.dM=void 0,this.Fn=[],this.rf=0,this.fB=void 0,this.lM=!1,this._M=void 0,this.gM=function(t){return t.done?(i.Xn(),void i.fB.close()):(i.Fn.push(t.value),i.rf+=i.vM(t.value),i.lM&&i.Xn(),i.wM()?i.jc.read().then(i.gM):void 0)},this.Sd=function(t){i.Xn(),i.fB.error(t)},this.jc=t.getReader(),this.vM=e,this.dM=u}var n=t.prototype;return n.start=function(t){this.fB=t,this.wM()&&this.yM()},n.pull=function(){this.Fn.length>0?this.Xn():this.lM=!0,this.wM()&&this.yM()},n.cancel=function(t){return $e(this.Fn),this.rf=0,this.lM=!1,this.jc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.rf=0,this.lM=!1,this.fB.enqueue(t)}},n.wM=function(){return!!this.lM||this.dM-this.rf>0},n.yM=function(){var t=this;if(!this._M){var n=this.jc.read().then(this.gM).catch(this.Sd);this._M=n;var i=function(){t._M===n&&(t._M=void 0)};n.then(i,i)}},t}(),ES=function(){function t(){this.mM=[],this._h=0}var n=t.prototype;return n.eL=function(t){this.mM.push(t),this._h+=t.byteLength},n.kM=function(t){if(this._h<=t)return this.pM();for(var n=this.mM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var s=t-i;0,e.push(Uu(n[r],0,s)),i+=s}return{mM:e,_h:i}},n.AM=function(t){var n=this.kM(t);return 1===n.mM.length?n.mM[0]:Qs(n.mM,n._h)},n.pM=function(){return{mM:this.mM,_h:this._h}},n.bM=function(t){if(this._h<=t)return this.TM();for(var n=this.mM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var s=t-i;0,e.push(Uu(n[0],0,s)),n[0]=Uu(n[0],s),i+=s}return this._h-=i,{mM:e,_h:i}},n.EM=function(t){var n=this.bM(t);return 1===n.mM.length?n.mM[0]:Qs(n.mM,n._h)},n.TM=function(){var t=this.pM();return this.mM=[],this._h=0,t},n.SM=function(){var t=1===this.mM.length?this.mM[0]:Qs(this.mM,this._h);return this.mM=[],this._h=0,t},t}();!function(t){t[t.RM=0]="RM",t[t.IM=1]="IM",t[t.NM=2]="NM"}(bS||(bS={}));var SS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).fB=void 0,n.CM=1e5,n.DM=void 0,n.OM=void 0,n}F(n,t);var r=n.prototype;return r.start=function(t){this.fB=t},r.transform=function(t){this.xM(t)},r.flush=function(){this.PM()},r.BM=function(t){return t===qg.Hm||t===qg.dk||t===qg.Ak},r.LM=function(t){var n=this.MM(t);this.fB.enqueue(n)},r.UM=function(t){this.fB.enqueue(t)},r.MM=function(t){var n=Vu(t.Ls.Ls);switch(t.co){case"moov":return this.FM(n);case"sidx":return this.HM(n);case"moof":return this.VM(n)}return n},r.FM=function(t){for(var n=i.extractIsobmffMovieBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.MovieHeaderBoxV0?this.XM(s):s instanceof i.MovieHeaderBoxV1?this.WM(s):s instanceof i.TrackBox&&this.qM(s)}for(var u=0,o=n.boxes;u<o.length;u++){var h=o[u];h instanceof i.MovieExtendsBox&&this.zM(h)}return n.serialize().join()},r.XM=function(t){this.DM=t.timescale,t.timescale=this.CM,t.duration=t.duration/this.GM*this.CM},r.WM=function(t){this.DM=t.timescale,t.timescale=this.CM,t.duration=Wt.fromNumber(t.duration.toNumber()/this.GM*this.CM)},r.qM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackHeaderBoxV0?this.jM(e):e instanceof i.TrackHeaderBoxV1?this.QM(e):e instanceof i.MediaBox?this.YM(e):e instanceof i.EditBox&&this.ZM(e)}},r.jM=function(t){t.duration=t.duration/this.GM*this.CM},r.QM=function(t){t.duration=Wt.fromNumber(t.duration.toNumber()/this.GM*this.CM)},r.YM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.MediaHeaderBoxV0?this.JM(e):e instanceof i.MediaHeaderBoxV1&&this.$M(e)}},r.JM=function(t){this.OM=t.timescale,t.timescale=this.CM,t.duration=t.duration/this.KM*this.CM},r.$M=function(t){this.OM=t.timescale,t.timescale=this.CM,t.duration=Wt.fromNumber(t.duration.toNumber()/this.KM*this.CM)},r.ZM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.EditListBoxV0?this.tU(e):e instanceof i.EditListBoxV1&&this.nU(e)}},r.tU=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=r.mediaTime/this.GM*this.CM,r.segmentDuration=r.segmentDuration/this.GM*this.CM}},r.nU=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=Wt.fromNumber(r.mediaTime.toNumber()/this.GM*this.CM),r.segmentDuration=Wt.fromNumber(r.segmentDuration.toNumber()/this.GM*this.CM)}},r.zM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackExtendsBox?this.iU(e):e instanceof i.MovieExtendsHeaderBoxV0?this.rU(e):e instanceof i.MovieExtendsHeaderBoxV1&&this.eU(e)}},r.iU=function(t){t.defaultSampleDuration=t.defaultSampleDuration/this.KM*this.CM},r.rU=function(t){t.fragmentDuration=t.fragmentDuration/this.GM*this.CM},r.eU=function(t){t.fragmentDuration=Wt.fromNumber(t.fragmentDuration.toNumber()/this.GM*this.CM)},r.HM=function(t){var n=i.extractIsobmffSegmentIndexBox(t);return n instanceof i.SegmentIndexBoxV0?this.sU(n):this.uU(n),n.serialize().join()},r.sU=function(t){var n=t.timescale;t.timescale=this.CM,t.earliestPresentationTime=t.earliestPresentationTime/n*this.CM;for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.CM}},r.uU=function(t){var n=t.timescale;t.timescale=this.CM,t.earliestPresentationTime=Wt.fromNumber(t.earliestPresentationTime.toNumber()/n*this.CM);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.CM}},r.VM=function(t){for(var n=i.extractIsobmffMovieFragmentBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.TrackFragmentBox&&this.oU(s)}return n.serialize().join()},r.oU=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackFragmentHeaderBox?this.hU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV0?this.aU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV1?this.cU(e):e instanceof i.TrackRunBox&&this.fU(e)}},r.hU=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=t.defaultSampleDuration/this.KM*this.CM)},r.aU=function(t){t.baseMediaDecodeTime=t.baseMediaDecodeTime/this.KM*this.CM},r.cU=function(t){t.baseMediaDecodeTime=Wt.fromNumber(t.baseMediaDecodeTime.toNumber()/this.KM*this.CM)},r.fU=function(t){for(var n=0,i=0,r=0,e=t.samples;r<e.length;r++){var s=e[r];if(void 0!==s.duration){var u=(i+=s.duration)/this.KM*this.CM;s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=s.compositionTimeOffset/this.KM*this.CM)}},M(n,[{key:"GM",get:function(){if(void 0===this.DM)throw new v("Expected to have found a movie header timescale.");return this.DM}},{key:"KM",get:function(){if(void 0===this.OM)throw new v("Expected to have found a media header timescale.");return this.OM}}]),n}(function(){var t=n.prototype;function n(){this.Fn=new ES,this.Qc=bS.RM,this.vU=0,this.dU=0,this.lU()}return t._U=function(t,n){},t.gU=function(){},t.xM=function(t){this.Fn.eL(t),this.wU(!1)},t.PM=function(){this.wU(!0)},t.yU=function(){return this.Qc!==bS.RM||0!==this.Fn._h},t.wU=function(t){for(;0!==this.Fn._h;){if(!t&&this.vU>this.Fn._h)return;switch(this.Qc){case bS.RM:this.mU(t);break;case bS.IM:this.kU(t);break;case bS.NM:this.pU(t)}}},t.lU=function(){this.Qc=bS.RM,this.vU=8},t.mU=function(t){var n=Hu(this.Fn.AM(this.vU)),i=new Gu,r=Pw.$k(n,i);if(!r.jk)return this.vU=r.tp,void(t&&this.vU>this.Fn._h&&this.AU(this.Fn._h));var e=r.Kk.co,s=r.Kk._h;0===s&&(s=1/0),this._U(e,s),this.BM(e)?this.bU(s):this.AU(s)},t.bU=function(t){this.Qc=bS.IM,this.vU=t},t.kU=function(t){var n=Hu(this.Fn.EM(this.vU)),i=new Gu,r=Pw.Qk(n,i,!t);if(!r.jk)throw new xw(i.kh);this.gU(),this.LM(r.Yk),this.lU()},t.AU=function(t){this.Qc=bS.NM,this.vU=0,this.dU=t},t.pU=function(t){var n=this.Fn.bM(this.dU);this.dU-=n._h;for(var i=0,r=n.mM;i<r.length;i++){var e=r[i];this.UM(e)}(0===this.dU||t&&this.dU===1/0)&&(this.gU(),this.lU())},n}()),RS=function(){function t(){this.TU=void 0,this.TU=new SS}return t.prototype.EU=function(t){return t.pipeThrough(new zc(this.TU))},t}(),IS=20,NS=Y.Ne&&Y.Ce<3,CS=Y.Ue,DS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).SU=void 0,e.RU=void 0,e.IU=void 0,e.Px=IS,e.Bx=JT,e.NU=!1,e.CU=!1,e.DU=void 0,e.OU=new ss,e.xU=void 0,e.PU=!1,e.BU=void 0,e.LU=function(){e.NU=!1},e.SU=i,e.RU=n,e.IU=r,e.IU.addEventListener("updateend",e.LU),NS&&(e.xU=new RS),e}F(n,t);var i=n.prototype;return i.MU=function(t,n,i){var r=this;switch(t.co){case yS.rM:case yS.Lc:return this.UU(function(i){return r.FU(t,n,i)},i);case yS.eM:throw new v("Opaque segments are not supported on web.")}},i.HU=function(t,n){var i=this;switch(t.co){case yS.rM:return this.UU(function(n){return i.VU(t,n)},n);case yS.Lc:throw new v("Streaming initialization segments are not supported on web.");case yS.eM:throw new v("Opaque initialization segments are not supported on web.")}},i.VU=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XU(n,void 0,i);case 2:CS&&(this.PU=!1,this.BU=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FU=function(){var t=E.coroutine(te.mark(function t(n,i,r){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(CS&&this.PU&&this.BU)){t.next=3;break}return t.next=3,this.VU(this.BU,r);case 3:return t.prev=3,hs(r),t.next=7,this.XU(n,i,r);case 7:this.Vo(new Ss(dS.nM));case 8:return t.prev=8,n.co===yS.Lc&&n.Ls.cancel(new us).catch(R),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.XU=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:hs(r),i&&this.WU(i),t.t0=n.co,t.next=t.t0===yS.rM?5:t.t0===yS.Lc?13:21;break;case 5:if(!NS){t.next=10;break}return e=this.xU.EU(uf(n.Ls)),t.next=9,this.qU(e,r);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,this.zU(n.Ls);case 12:return t.abrupt("return",t.sent);case 13:if(!NS){t.next=18;break}return s=this.xU.EU(n.Ls),t.next=17,this.qU(s,r);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.qU(n.Ls,r);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qU=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h,a,c;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.RU.Gg,e=AS(n),s=e.getReader(),u=!1,t.prev=4;case 5:return t.next=8,fs(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return hs(i),h=js(o.value),u=!0,t.next=17,this.zU(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(R),!u){t.next=35;break}return t.next=27,this.GU();case 27:a=this.RU.Gg.fI(r.vI()),c=0;case 29:if(!(c<a.Hl)){t.next=35;break}return t.next=32,this.jU(a.$R(c),a.tI(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.QU=function(t,n){var i=this;return this.UU(function(){return i.YU(t,n)})},i.YU=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IU.appendWindowStart===n&&this.IU.appendWindowEnd===i){t.next=6;break}return t.next=3,this.GU();case 3:this.IU.appendWindowStart=0,this.IU.appendWindowEnd=i,this.IU.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WU=function(t){this.IU.timestampOffset!==t.Pm&&(this.IU.timestampOffset=t.Pm)},i.zU=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IU.appendBuffer(n),this.CU=!0,t.next=4,this.ZU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.JU=function(t,n,i){var r=this;return this.UU(function(i){return r.jU(t,n,i)},i)},i.jU=function(){var t=E.coroutine(te.mark(function t(n,i,r){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(r),this.IU.remove(n,i),t.next=4,this.ZU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ZU=function(){var t=this,n=this.RU.Gg;return new E(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?(n.EI(t.RU.Gg)||t.Vo(new Ss(dS.nM)),i()):r(new v(e))},c=function(){t.IU.removeEventListener("update",u),t.IU.removeEventListener("error",o),t.IU.removeEventListener("abort",h),t.IU.removeEventListener("updateend",a)};t.IU.addEventListener("update",u),t.IU.addEventListener("error",o),t.IU.addEventListener("abort",h),t.IU.addEventListener("updateend",a)})},i.$U=function(){var t=this;return this.UU(function(){return t.GU()})},i.GU=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.SU.a_===QS.$v){t.next=2;break}return t.abrupt("return");case 2:CS&&(this.PU=!0),this.IU.updating&&(this.NU=!0);try{this.IU.abort()}catch(t){0,this.NU=!1}if(!this.NO){t.next=8;break}return t.next=8,this.ZU().catch(R);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.KU=function(){return"function"==typeof this.IU.changeType},i.tF=function(t){this.nF(),this.SU.a_!==QS.iF&&this.IU.changeType(t)},i.rF=function(){this.SU.a_!==QS.oc||this.DU||this.NO||(this.IU.timestampOffset=this.IU.timestampOffset,this.SU.eF())},i.UU=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nF(),(r=new ss).Po(this.OU.Lo),i&&r.Po(i),t.prev=4,this.DU=n(r.Lo),t.next=8,this.DU;case 8:if(this.SU.eF(),!this.NO){t.next=12;break}return t.next=12,this.ZU();case 12:return t.prev=12,this.DU=void 0,r.Ro(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.nF=function(){if(this.DU)throw new v("Internal error")},i.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zo(),this.OU.xo(),!this.DU){t.next=6;break}return t.next=5,this.DU.catch(R);case 5:this.DU=void 0;case 6:this.IU.removeEventListener("updateend",this.LU);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Rx",get:function(){return this.Px},set:function(t){this.Px=t}},{key:"Dx",get:function(){return this.Bx},set:function(t){this.Bx=t}},{key:"NO",get:function(){return this.NU||this.IU.updating}}]),n}(Ts),OS=function(){function t(t,n){this.sF=void 0,this.IU=void 0,this.uF=void 0,this.sF=n,this.IU=t}var n=t.prototype;return n.$L=function(){return!!this.uF&&this.Gg.uI().fR(this.uF)},n.oF=function(){var t=this.Gg;this.uF=t.Hl>0?t.tI(t.Hl-1):0,this.sF.hF()},n.rF=function(){this.uF=void 0},M(t,[{key:"Gg",get:function(){if(this.sF.a_===QS.iF)return sA.LI();var t=sA.OI(this.IU.buffered).fI(new sA([0,1/0])),n=this.uF;return void 0!==n&&t.Hl>0&&t.tI(t.Hl-1)===n&&(t=t.wI(sA.BI(n))),t}}]),t}();function xS(t,n,i,r,e,s){var u=new OS(e,t),o=new DS(u,t,e);return new PS(t,n,i,r,u,o,s)}var PS=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).SU=void 0,h.ba=void 0,h.aF=void 0,h.mS=void 0,h.ka=void 0,h.cF=void 0,h.RU=void 0,h.fF=void 0,h.SU=n,h.ba=r,h.ka=r.tv,h.aF=e,h.mS=i,h.RU=s,h.fF=u,h.cF=o,h.fF.Xo(dS.nM,h.Ho),h}F(n,t);var i=n.prototype;return i.$L=function(){return this.RU.$L()},i.oF=function(){this.RU.oF()},i.rF=function(){this.RU.rF(),this.fF.rF()},i.vF=function(t,n){this.cF.aM(t,n)},i.dF=function(t,n){this.cF.cM(t,n)},i.lF=function(){return this.fF.$U()},i.MU=function(t,n,i){return this.fF.MU(t,n,i)},i.HU=function(t,n){return this.fF.HU(t,n)},i.QU=function(t,n){return this.fF.QU(t,n)},i.Xh=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dF(n,i),e=this.Gg,t.next=4,this.fF.JU(n,i,r);case 4:s=0!==e.Hl&&0===this.Gg.Hl,(Y.Xe||Y.De)&&s&&this.mS.yh(this.mS.z_);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zL=function(t){var n=t.tv;if(this.ka===n)return!0;if(!MediaSource.isTypeSupported(n))return!1;var i=oo(this.ka),r=oo(n),e=BS(i),s=BS(r);if(this.fF.KU()){if(!function(t,n){return rs(t,n,LS)}(e,s))return!1}else{if(i.co!==r.co)return!1;if(!function(t,n){return rs(t,n,FS)}(e,s))return!1}return!0},i.GL=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.tv,this.ka!==i&&(this.fF.KU()&&this.fF.tF(i),this.ka=i),this.ba=n,this.SU._F();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),this.cF.qv(),t.prev=2,this.fF.Go(dS.nM,this.Ho),t.next=6,this.fF.Ro();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Gg",get:function(){return this.RU.Gg}},{key:"Jh",get:function(){return this.ba}},{key:"tv",get:function(){return this.ka}},{key:"gF",get:function(){return this.cF.fM}},{key:"Rx",get:function(){return this.fF.Rx},set:function(t){this.fF.Rx=t}},{key:"Dx",get:function(){return this.fF.Dx},set:function(t){this.fF.Dx=t}},{key:"NO",get:function(){return this.fF.NO}}]),n}(Ts);function BS(t){var n=t.oa("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function LS(t,n){var i=MS(t)||US(t),r=MS(n)||US(n);return!i&&!r||t===n}function MS(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function US(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function FS(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var s=i[1],u=i[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}var HS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.wF=void 0,this.$R=t,this.tI=n,this.yF=i,this.mF=r,this.wF=Qb()}return t.prototype.kF=function(){var t=this.$R,n=this.tI;if(this.yF||this.mF){var i=.001*(Qb()-this.wF);this.yF&&(t+=i),this.mF&&(n+=i)}return t>=n?sA.LI():new sA([t,n])},t}(),VS=100,XS=1e3,WS=1e4,qS=.01,zS=[Yo.gc,Yo._c,Yo.Ac,Yo.pc,Yo.oc,Yo.yc,Ml.Tl,tl.u_],GS=function(){function t(t,n){var i=this;this.tT=ml.P_,this.pF=!1,this.AF=[],this.bF=void 0,this.TF=0,this.EF=0,this.SF=0,this.RF=0,this.IF=0,this.NF=XS,this.CF=function(t){var n=i.mS.z_;t.oM.fR(n)&&i.DF(n)},this.OF=N(function(){i.xF(Ml.Tl)},VS),this.PF=N(function(){i.xF(Yo.wc)},VS),this.BF=function(){i.LF()?i.MF():i.UF()},this.FF=function(){var t=i.TF,n=i.SF,r=i.mS.z_,e=T.ku(),s=t!==r;if(s||!i.LF())return i.TF=r,i.SF=e,void(s&&(i.IF=0,i.NF=XS));if(n>0&&e>n+i.NF){var u=r+i.IF*qS,o=i.RU.Gg;o.fR(u)||(u=i.HF(r,o)),i.TF=u,i.SF=e,i.IF++,i.NF=_.min(2*i.NF,WS),i.mS.yh(u)}},this.RU=t,this.mS=n,this.mS.Xo(Ml.Tl,this.OF),this.mS.Xo(Yo.wc,this.PF),this.mS.Xo(zS,this.BF)}var n=t.prototype;return n.VF=function(t){this.AF.push(t),t.Xo(mS.sM,this.CF)},n.qv=function(){var t=this;this.UF(),this.tT=ml.P_,this.mS.Go(Ml.Tl,this.OF),this.mS.Go(Yo.wc,this.PF),this.mS.Go(zS,this.BF),this.AF.forEach(function(n){return n.Go(mS.sM,t.CF)}),void 0!==this.bF&&(T.sr(this.bF),this.bF=void 0),this.pF=!0},n.xF=function(t){if(!this.pF){var n=this.mS.a_;if(n<=ml.L_){var i=this.mS.z_,r=this.RU.Gg,e=r.kI(i),s=r.tI(e);-1!==e&&(t===Ml.Tl&&n<this.tT||t===Yo.wc&&n===this.tT)&&s<i+.5&&(i=s),this.DF(i)}t===Ml.Tl&&(this.tT=n)}},n.DF=function(t){var n=this;if(!this.mS.j_){var i=this.fM.mI(this.RU.Gg).uI(),r=i.kI(t);if(-1!==r)if(!(_.abs(i.$R(r)-i.tI(r))<=.001))if(T.Qd){if(void 0!==this.bF)return;this.EF=this.mS.z_,this.bF=T.ur(function(){n.EF===n.mS.z_&&n.mS.yh(i.tI(r)),n.bF=void 0},1500)}else this.mS.yh(i.tI(r))}},n.MF=function(){0===this.RF&&(this.RF=T.Nu(this.FF,250))},n.UF=function(){0!==this.RF&&(T.Cu(this.RF),this.RF=0),this.mS.K_||(this.SF=0)},n.LF=function(){return!this.mS.Z_&&!this.mS.K_&&0!==this.mS.J_&&!this.mS.j_&&!this.mS.ih&&this.mS.a_>=ml.M_},n.HF=function(t,n){var i=n.kI(t);return i>-1?n.tI(i):t},M(t,[{key:"fM",get:function(){return this.AF.reduce(function(t,n){return t.wI(n.fM)},sA.LI())}}]),t}();function jS(t){var n=[];if(t.XF&&n.push(t.XF.Gg),t.WF&&n.push(t.WF.Gg),0===n.length)return sA.LI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Hl>0&&(i=_.max(i,e.tI(e.Hl-1)))}for(var s=t.$L,u=new sA([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Hl>0&&(h=h.wI(new sA([h.tI(h.Hl-1),i],[!0,!0]))),u=u.fI(h)}return u}var QS,YS=Y.Oe||Y.xe;!function(t){t.iF="closed",t.$v="open",t.oc="ended"}(QS||(QS={}));var ZS=function(){function t(){}return t.prototype.qF=function(){return new MediaSource},t}(),JS=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=new ZS),(u=t.call(this,n,i,r,e)||this).zF=void 0,u.GF=void 0,u.jF=void 0,u.QF=new HS(0,1/0),u.kS=void 0,u.YF=void 0,u.ZF=void 0,u.JF=!1,u.KF=function(){u.tH()},u.nH=function(){u.mS.nH()},u.zF=s,u.kS=u.zF.qF(),u.mS.Xo(Yo.Ac,u.KF),u.ZF=new GS(sn(u),u.mS),u}F(n,t);var i=n.prototype;return i.iH=function(t){if(y(t)||t<0)throw new v("Invalid duration");this.rH()?this.eH(t):this.YF=t},i.eH=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.kS.setLiveSeekableRange){var r=_.pow(2,39);this.kS.setLiveSeekableRange(0,r)}this.kS.duration=i,this.YF=void 0},i.sH=function(t,n,i,r){this.QF=new HS(t,n,!!i,!!r)},i.Ux=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.ba,i=je(n.uH,function(t){return Ce(t.tv,"audio")}),r=je(n.uH,function(t){return Ce(t.tv,"video")}),t.next=5,this.oH();case 5:i&&(e=new pS,this.ZF.VF(e),s=this.kS.addSourceBuffer(i.tv),this.GF=xS(this,this.mS,i,R_.Pv,s,e),this.GF.Xo(dS.nM,this.nH)),r&&(u=new pS,this.ZF.VF(u),o=this.kS.addSourceBuffer(r.tv),this.jF=xS(this,this.mS,r,R_.Bv,o,u),this.jF.Xo(dS.nM,this.nH)),this.FL.Vh(this,n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.oH=function(){var n=E.coroutine(te.mark(function n(){var i;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.kS),n.next=3,t.prototype.Ng.call(this,i);case 3:return n.next=5,t.prototype.Vh.call(this);case 5:if(this.a_===QS.$v){n.next=8;break}return n.next=8,yd(this.kS,"sourceopen");case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.rH=function(){if(this.a_!==QS.$v)return!1;var t=this.GF&&this.GF.NO,n=this.jF&&this.jF.NO;return!(t||n)},i.oF=function(){this.JF=!0,this.GF&&this.GF.oF(),this.jF&&this.jF.oF(),this.JF=!1,this.tH()},i.rF=function(){this.GF&&this.GF.rF(),this.jF&&this.jF.rF()},i.zL=function(n){var i=je(n.uH,function(t){return Ce(t.tv,"audio")}),r=je(n.uH,function(t){return Ce(t.tv,"video")});if(this.GF){if(!i)return!1;if(!this.GF.zL(i))return!1}else if(i)return!1;if(this.jF){if(!r)return!1;if(!this.jF.zL(r))return!1}else if(r)return!1;return!!t.prototype.zL.call(this,n)},i.GL=function(){var n=E.coroutine(te.mark(function n(i){var r,e,s;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=je(i.uH,function(t){return Ce(t.tv,"audio")}),e=je(i.uH,function(t){return Ce(t.tv,"video")}),s=[],this.GF&&s.push(this.GF.GL(r)),this.jF&&s.push(this.jF.GL(e)),n.next=7,E.all(s);case 7:return n.next=9,t.prototype.GL.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.Ro=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.GF){n.next=4;break}return n.next=3,this.GF.Ro();case 3:this.GF=void 0;case 4:if(!this.jF){n.next=8;break}return n.next=7,this.jF.Ro();case 7:this.jF=void 0;case 8:return this.Ba.src&&URL.revokeObjectURL(this.Ba.src),this.mS.Go(Yo.Ac,this.KF),this.ZF.qv(),n.next=13,t.prototype.Ro.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i._F=function(){var t=this,n=this.ba,i=n.uH.map(function(n){return Ce(n.tv,"audio")&&t.GF?t.GF.Jh:Ce(n.tv,"video")&&t.jF?t.jF.Jh:n});this.ba=ne({},n,{uH:i})},i.hF=function(){this.JF||this.tH()},i.tH=function(){this.hH&&this.rH()&&(this.kS.endOfStream(),this.YF=void 0,this.Vo(new Ss(oS.dC)),this.mS.nH())},i.eF=function(){this.rH()&&(this.$L?this.tH():void 0!==this.YF&&this.eH(this.YF))},n.JL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.uH;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.tv))return!1}return!0},M(n,[{key:"XF",get:function(){return this.GF}},{key:"WF",get:function(){return this.jF}},{key:"G_",get:function(){if(this.YF)return this.YF;var t=this.kS.duration;return 9007199254740991===t?1/0:t}},{key:"Gg",get:function(){return YS?jS(this):(t=this,n=sA.OI(this.Ba.buffered),(i=n).Hl>0&&t.$L&&(i=i.wI(sA.BI(i.tI(i.Hl-1)))),i);var t,n,i}},{key:"KL",get:function(){var t;return null==(t=this.GF)?void 0:t.Gg}},{key:"tM",get:function(){var t;return null==(t=this.jF)?void 0:t.Gg}},{key:"sw",get:function(){return this.QF.kF().fI(new sA([0,this.G_],[!0,!0]))}},{key:"$L",get:function(){return(!this.GF||this.GF.$L())&&(!this.jF||this.jF.$L())}},{key:"a_",get:function(){return this.kS.readyState}},{key:"hH",get:function(){if(!this.$L)return!1;var t=this.Gg;return 0!==t.Hl&&t.$R(t.Hl-1)<=this.mS.z_}}]),n}(lS),$S=[Yo.Cc,Yo.yc,Yo.Ac,Yo.gc,Yo._c],KS=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this)||this).VI=n,c.aH=i,c.cH=r,c.WI=e,c.zI=s,c.XI=u,c.qI=o,c.GI=h,c.fH=a,c}F(n,t);var i=n.prototype;return i.Sg=function(){this.WI||(this.WI=!0,this.Vo(new Fl(this.z_)))},i.Eg=function(){this.WI&&(this.WI=!1,this.Vo(new Hl(this.z_)))},i.Ro=function(){this.zo()},M(n,[{key:"z_",get:function(){return this.VI},set:function(t){this.z_!==t&&(this.VI=t,this.zI=!0,this.Vo(new Zl(this.z_)))}},{key:"G_",get:function(){return this.aH}},{key:"j_",get:function(){return this.cH}},{key:"Z_",get:function(){return this.WI}},{key:"a_",get:function(){return this.fH}},{key:"K_",get:function(){return this.zI}},{key:"Y_",get:function(){return this.XI},set:function(t){this.Y_!==t&&(this.XI=t,this.Vo(new $l(this.z_,this.ig)))}},{key:"J_",get:function(){return this.qI},set:function(t){this.J_!==t&&(this.qI=t,this.Vo(new Gl(this.z_,this.J_)))}},{key:"ig",get:function(){return this.GI},set:function(t){this.ig!==t&&(this.GI=t,this.Vo(new $l(this.z_,this.ig)))}}]),n}(Ts);var tR=function(t){function n(n){var i;return(i=t.call(this)||this).mS=void 0,i.tT=ml.P_,i.vH=function(){i.dH()},i.mS=n,i}F(n,t);var i=n.prototype;return i.lH=function(t){this.tT!==t&&(this.tT=t,this.Vo(new n_(this.mS.z_,t)))},i.dH=function(){this.lH(this.lP())},i.Ul=function(){this.lH(ml.P_)},i.Ro=function(){this.zo()},M(n,[{key:"a_",get:function(){return this.lP()}}]),n}(Ts),nR=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],iR=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<nR.length;r++){var e=nR[r];i.mS.GS.addEventListener(e,i.vH)}return i}F(n,t);var i=n.prototype;return i.lP=function(){var t=this.mS.GS.readyState;return t>ml.L_&&this.mS._H?ml.L_:(this.mS.GS.seeking&&t>ml.B_&&(t=ml.B_),t)},i.Ro=function(){for(var n=0;n<nR.length;n++){var i=nR[n];this.mS.GS.removeEventListener(i,this.vH)}t.prototype.Ro.call(this)},n}(tR),rR=function(t){function n(n){var i;(i=t.call(this,n)||this).mS.Xo(Yo.Ac,i.vH);for(var r=0;r<nR.length;r++){var e=nR[r];i.mS.GS.addEventListener(e,i.vH)}return i}F(n,t);var i=n.prototype;return i.lP=function(){if(this.mS.GS.readyState===ml.P_)return ml.P_;var t=this.gH(),n=t?t.tI-t.$R:0;if(!t)return ml.B_;var i=this.mS.J_;return this.wH()||n>=3*i?ml.U_:n>=3?ml.M_:ml.L_},i.gH=function(){var t=this.mS.z_,n=this.mS.Gg.gI(.04),i=n.kI(t);if(!(i<0))return{$R:t,tI:n.tI(i)}},i.wH=function(){if(this.mS.j_)return!0;var t=this.mS.G_,n=this.gH();return!!n&&t-n.tI<=1/6},i.Ro=function(){this.mS.Go(Yo.Ac,this.vH);for(var n=0;n<nR.length;n++){var i=nR[n];this.mS.GS.removeEventListener(i,this.vH)}t.prototype.Ro.call(this)},n}(tR),eR=[Ml.Tl,Yo.gc,Yo._c,Yo.Ac,Yo.pc,Yo.oc,tl.u_],sR=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ba=void 0,i.yH=!1,i.mH=function(){i.yH=!0,i.Wh()},i.Ba=n.GS,i.Ba.addEventListener(Ml.q_,i.mH),i}F(n,t);var i=n.prototype;return i.kH=function(){return this.yH&&t.prototype.kH.call(this)},i.Wh=function(){this.yH&&(this.Ba.paused||this.Ba.ended||this.Ba.error)&&(this.yH=!1),t.prototype.Wh.call(this)},i.Ul=function(){t.prototype.Ul.call(this),this.yH=!1},i.Ro=function(){this.Ba.removeEventListener(Ml.q_,this.mH),t.prototype.Ro.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).fT=void 0,i.pH=!1,i.CO=function(){i.Wh()},i.fT=n,i.fT.Xo(eR,i.CO),i}F(n,t);var i=n.prototype;return i.AH=function(){return this.fT.a_<ml.M_},i.kH=function(){return!this.fT.K_&&!(this.fT.Z_||this.fT.j_||this.fT.ih||this.AH())},i.Wh=function(){var t=this.pH;this.pH=this.kH(),!t&&this.pH&&this.Vo(new em(this.fT.z_))},i.Ul=function(){this.pH=!1},i.Ro=function(){this.zo(),this.fT.Go(eR,this.CO)},n}(Ts)),uR=function(t){function n(n){var i;return(i=t.call(this,tl.u_)||this).ih=void 0,i.ih=n,i}return F(n,t),n}(Ss);function oR(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function hR(t,n){return t.Rw<=n&&t.Iw>n}function aR(t,n){return function(t,n){return wg(t.Rw,n.Rw,rg)}(t,n)||function(t,n){return wg(t.Iw,n.Iw,rg)}(t,n)}function cR(t,n){var i=oR(t,n,I,aR,!0);if(i<0)return i;for(;i<t.length&&aR(n,t[i])===dg.iy;i++)if(t[i].Gw(n))return i;return-(i+1)}function fR(t){var n=t.fl;if(!n)return-1;if(t instanceof sg)return n.bH(t);var i=n.c_;if(!i)return-1;var r=cR(i.Fl,t);return r>=0?r:-1}function vR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{TH:o,EH:h}}(t,n,aR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var dR=function(){function t(t){this.SH=void 0,this.hl=void 0,this.SH=t}var n=t.prototype;return n.cl=function(){return function(t){for(var n=[],i=0;i<t.Hl;i++)n[i]=t.fh(i).al;return n.item=function(n){var i=0|n,r=t.fh(i);return r&&r.al||void 0},l.defineProperty(n,"constructor",{value:ng}),n}(this)},n.aw=function(t){for(var n=this.SH,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Gw(r))return!0}return!1},n.fh=function(t){return this.SH[t]},M(t,[{key:"Fl",get:function(){return this.SH}},{key:"Hl",get:function(){return this.SH.length}},{key:"al",get:function(){if(this.hl){var t=this.SH;this.hl.length=t.length;for(var n=0;n<t.length;n++)this.hl[n]=t[n].al}else this.hl=this.cl();return this.hl}}]),t}(),lR=function(t){function n(n,i){var r;return(r=t.call(this,Td.Tl)||this).fl=n,r.a_=i,r}return F(n,t),n.prototype.cl=function(){return new _R(this.fl.al,ol(this.a_))},n}(Ed),_R=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return F(n,t),n}(Sd),gR=function(t){function n(n){var i;return(i=t.call(this,Td.Sl)||this).fl=n,i}return F(n,t),n.prototype.cl=function(){return new wR(this.fl.al)},n}(Ed),wR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return F(n,t),n}(Sd),yR=function(t){function n(n){var i;return(i=t.call(this,Td.vl)||this).Sw=n,i}return F(n,t),n.prototype.cl=function(){return new mR(this.Sw.al)},n}(Ed),mR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return F(n,t),n}(Sd),kR=function(t){function n(n){var i;return(i=t.call(this,Td.ll)||this).Sw=n,i}return F(n,t),n.prototype.cl=function(){return new pR(this.Sw.al)},n}(Ed),pR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return F(n,t),n}(Sd),AR=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).hl=void 0,h.fw=void 0,h.dw=x_(),h.RH=!1,h.IH=void 0,h.NH=void 0,h.vw=void 0,h.CH=void 0,h.cN=Kd.r_,h.fH=V_.NONE,h.DH=void 0,h.Us=void 0,h.SH=[],h.OH=[],h.xH=void 0,h.PH=void 0,h.BH=0,h.LH=0,h.fw=i||"",h.IH=o||"",h.NH=n,h.CH=e||"",h.RH=Boolean(s),h.Us=u||X_.DEFAULT,h.vw=r||"",h.xH=new dR(h.SH),h.PH=new dR(h.OH),h}F(n,t);var i=n.prototype;return i.MH=function(t){return je(this.xH.Fl,function(n){return n.Zl===t})},i.cl=function(){return el(this)},i.EN=function(t){var n=il(t);n!==this.h_&&(this.cN=n,n===Kd.r_&&(this.OH.forEach(function(t){t.jw=!1}),$e(this.OH),this.LH=0),this.Vo(new Od(this)))},i.Yb=function(t){if(t&&!t.fl){var n=cR(this.c_.Fl,t);if(!(n>=0)){t.fl=this;var i=-(n+1);this.SH.splice(i,0,t),this.UH(i),t.zw=i,i<this.LH&&(this.LH=i),this.Vo(new yR(t))}}},i.FH=function(t){if(t&&t.fl===this){var n=this.bH(t);if(!(n<0)){t.jw=!1;var i=this.OH,r=cR(i,t);r>=0&&Ze(i,r),Ze(this.SH,n),this.UH(n),t.zw=-1,this.LH>n&&--this.LH,this.Vo(new kR(t))}}},i.HH=function(t,n){var i=this.OH,r=this.SH,e=this.LH,s=!1;n&&(e=0);for(var u=i.length-1;u>=0;u--){hR(i[u],t)||(s=!0,Ze(i,u))}for(;e<r.length&&r[e].Rw<=t;){var o=r[e];if(0===t)break;hR(o,t)&&!Je(i,o)&&(s=!0,i.push(o)),e++}s&&qe(i,aR),this.LH=e},i.bH=function(t){return(-1===t.zw||t.zw>=this.BH)&&this.VH(),t.zw},i.VH=function(){for(var t=this.SH,n=this.BH;n<t.length;n++)t[n].zw=n;this.BH=t.length},i.UH=function(t){t<this.BH&&(this.BH=t)},i.qv=function(){this.zo();for(var t=this.SH.slice(),n=0;n<t.length;n++){t[n].qv()}$e(this.SH),$e(this.OH)},M(n,[{key:"f_",get:function(){return this.PH}},{key:"c_",get:function(){return this.xH}},{key:"Jb",get:function(){return this.RH},set:function(t){this.RH=t}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"Zl",get:function(){return this.fw}},{key:"Jl",get:function(){return this.dw}},{key:"o_",get:function(){return this.IH},set:function(t){this.IH=t}},{key:"$l",get:function(){return this.NH}},{key:"Kl",get:function(){return this.vw},set:function(t){t!==this.vw&&(this.vw=t,this.Vo(new C_(this)))}},{key:"t_",get:function(){return this.CH}},{key:"h_",get:function(){return this.cN},set:function(t){this.EN(t)}},{key:"a_",get:function(){return this.fH},set:function(t){this.fH!==t&&(this.fH=t,this.Vo(new lR(this,this.fH)))}},{key:"v_",get:function(){return this.DH},set:function(t){this.DH=t}},{key:"co",get:function(){return this.Us},set:function(t){this.Us!==t&&(this.Us=t,this.Vo(new gR(this)))}}]),n}(Ts),bR=function(t){function n(n,i){var r;return(r=t.call(this,G_.Aw,n)||this).nm=i,r}return F(n,t),n.prototype.cl=function(){return new TR(this.Sw.al)},n}($_),TR=function(t){function n(n){return t.call(this,j_.Aw,n)||this}return F(n,t),n}(K_),ER=function(t){function n(n,i){var r;return(r=t.call(this,G_.Tw,n)||this).nm=i,r}return F(n,t),n.prototype.cl=function(){return new SR(this.Sw.al)},n}($_),SR=function(t){function n(n){return t.call(this,j_.Tw,n)||this}return F(n,t),n}(K_),RR=function(t){function n(n){var i;return(i=t.call(this,Td.gl)||this).Sw=n,i}return F(n,t),n.prototype.cl=function(){return new IR(this.Sw.al)},n}(Ed),IR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return F(n,t),n}(Sd),NR=function(t){function n(n){var i;return(i=t.call(this,Td.yl)||this).Sw=n,i}return F(n,t),n.prototype.cl=function(){return new CR(this.Sw.al)},n}(Ed),CR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return F(n,t),n}(Sd),DR=function(t){function n(n){var i;return(i=t.call(this)||this).XH=void 0,i.dw=void 0,i.Hw=void 0,i.hl=void 0,i.Vw=!1,i.qw="",i.WH=function(){i.jw=!0},i.qH=function(){i.jw=!1},i.dw=M_(),i.XH=n,i.XH.addEventListener("enter",i.WH),i.XH.addEventListener("exit",i.qH),i}F(n,t);var i=n.prototype;return i.cl=function(){return tg(this)},i.Gw=function(t){return this===t||Hd(this,t)&&eg(this,t)},i.qv=function(){this.zo(),this.XH.removeEventListener("enter",this.WH),this.XH.removeEventListener("exit",this.qH)},M(n,[{key:"Jl",get:function(){return this.dw}},{key:"Rw",get:function(){return this.XH.startTime},set:function(t){this.XH.startTime=t}},{key:"Iw",get:function(){return this.XH.endTime},set:function(t){this.XH.endTime=t}},{key:"Nw",get:function(){return this.XH.text},set:function(t){this.XH.text=t+""}},{key:"Yw",get:function(){return!!this.XH.pauseOnExit},set:function(t){this.XH.pauseOnExit=!!t}},{key:"fl",get:function(){return this.Hw},set:function(t){this.Hw=t}},{key:"Zl",get:function(){return this.XH.id||""}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"Qw",get:function(){return this.qw},set:function(t){this.qw=t}},{key:"jw",get:function(){return this.Vw},set:function(t){this.jw!==t&&(this.Vw=t,t?(this.Vo(new bR(this,this.Rw)),this.Hw&&this.Hw.Vo(new RR(this))):(this.Vo(new ER(this,this.Iw)),this.Hw&&this.Hw.Vo(new NR(this))))}}]),n}(al),OR=function(t){function n(n){var i;return(i=t.call(this,Td.kl)||this).fl=n,i}return F(n,t),n.prototype.cl=function(){return new xR(this.fl.al)},n}(Ed),xR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return F(n,t),n}(Sd);function PR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new BR(t),t.THEOplayerVTTRegion=n),n}}var BR=function(){function t(t){this.zH=void 0,this.hl=void 0,this.zH=t}return M(t,[{key:"GH",get:function(){return this.zH}},{key:"Zl",get:function(){return this.zH.id||""}},{key:"yu",get:function(){return+this.zH.width||0},set:function(t){this.zH.width=t||0}},{key:"Zw",get:function(){return+this.zH.lines||0},set:function(t){this.zH.lines=t||0}},{key:"Jw",get:function(){return+this.zH.regionAnchorX||0},set:function(t){this.zH.regionAnchorX=t||0}},{key:"$w",get:function(){return+this.zH.regionAnchorY||0},set:function(t){this.zH.regionAnchorY=t||0}},{key:"ty",get:function(){return+this.zH.viewportAnchorX||0},set:function(t){this.zH.viewportAnchorX=t||0}},{key:"ny",get:function(){return+this.zH.viewportAnchorY||0},set:function(t){this.zH.viewportAnchorY=t||0}},{key:"Kw",get:function(){return this.zH.scroll||""}},{key:"al",get:function(){return this.hl||(this.hl=vg(this)),this.hl}}]),t}(),LR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"Mw",get:function(){return this.XH.vertical||""},set:function(t){this.XH.vertical=t||""}},{key:"Lw",get:function(){return!!this.XH.snapToLines},set:function(t){this.XH.snapToLines=!!t}},{key:"Dw",get:function(){return this.XH.line},set:function(t){this.XH.line=t}},{key:"_h",get:function(){return+this.XH.size},set:function(t){this.XH.size=zt(t,0,100)}}]),n}(DR),MR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.Gw=function(n){return this===n||Hd(this,n)&&t.prototype.Gw.call(this,n)&&ug(this,n)},M(n,[{key:"Bw",get:function(){return PR(this.XH.region)}},{key:"Ow",get:function(){return this.XH.lineAlign||"start"},set:function(t){this.XH.lineAlign=t||"start"}},{key:"xw",get:function(){return this.XH.position},set:function(t){this.XH.position=t}},{key:"Pw",get:function(){return this.XH.positionAlign||"auto"},set:function(t){this.XH.positionAlign=t||"auto"}},{key:"Cw",get:function(){return this.XH.align||"center"},set:function(t){this.XH.align=t||"center"}},{key:"al",get:function(){return this.hl||(this.hl=ig(this)),this.hl}}]),n}(LR),UR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.Gw=function(n){return this===n||Hd(this,n)&&t.prototype.Gw.call(this,n)&&ug(this,n)},M(n,[{key:"Bw",get:function(){return PR(this.GH)}},{key:"GH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.XH.track,this.XH.regionId)}},{key:"Ow",get:function(){return"middle"===(t=this.XH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.XH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"xw",get:function(){return this.XH.position},set:function(t){var n,i;this.XH.position=(n=t,i=this.Cw,J_(n,i))}},{key:"Pw",get:function(){return t=this.XH.positionAlign||"middle",Y_[t];var t},set:function(t){var n,i;this.XH.positionAlign=(n=t||"center",i=this.Cw,Q_[Z_(n,i)])}},{key:"Cw",get:function(){return"middle"===(t=this.XH.align||"middle")?"center":t;var t},set:function(t){var n;this.XH.align="center"===(n=t||"center")?"middle":n}},{key:"al",get:function(){return this.hl||(this.hl=ig(this)),this.hl}}]),n}(LR);function FR(t,n){return t.Nw===n.Nw}function HR(t,n,i){for(var r=t[n].Rw,e=n;e>=0&&t[e].Rw===r;e--)t[e].Iw=i}function VR(t){return tg(t)}var XR,WR,qR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).jH=void 0,r.jH=i,r}return F(n,t),n.prototype.Gw=function(n){return this===n||Hd(this,n)&&t.prototype.Gw.call(this,n)&&FR(this,n)},M(n,[{key:"Nw",get:function(){return this.jH}},{key:"al",get:function(){return this.hl||(this.hl=VR(this)),this.hl}}]),n}(DR);function zR(t){switch(t){case XR.ISO_8859_1:case XR.UTF16_BOM:case XR.UTF16:case XR.UTF8:return!0}return!1}function GR(t){switch(t){case XR.ISO_8859_1:return Tu;case XR.UTF16_BOM:return Ru;case XR.UTF16:return Iu;case XR.UTF8:return Bu}}function jR(t,n){var i=n.kh,r=t.byteLength,e=Vu(t);return n.wh(r-i),qu(e,i,r).buffer}function QR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function YR(t,n,i){var r=au(t,n);if(zR(r)){var e=GR(r);return{id:i,language:Au(t,n,3),description:e(t,n),text:e(t,n)}}}function ZR(t,n,i){var r=au(t,n);if(zR(r)){var e=GR(r);return{id:i,mimeType:Tu(t,n),fileName:e(t,n),description:e(t,n),data:jR(t,n)}}}function JR(t,n,i){var r=au(t,n);if(zR(r)){for(var e=GR(r),s=[];n.kh<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function $R(t,n,i){var r=au(t,n);if(zR(r)){for(var e=GR(r),s=Au(t,n,3),u=au(t,n),o=au(t,n),h=e(t,n),a=!1,c=[];n.kh<t.byteLength;){var f=void 0;if(r===XR.UTF16_BOM){var v=Su(t,n);void 0===v?v=a:a=v,f=Iu(t,n,v)}else f=e(t,n);if(!f||n.kh+4>t.byteLength)break;c.push({text:f,timestamp:wu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function KR(t,n,i){return{id:i,ownerIdentifier:Tu(t,n),identifier:jR(t,n)}}function tI(t,n,i){var r=au(t,n);if(zR(r)){var e=GR(r);return{id:i,language:Au(t,n,3),description:e(t,n),text:e(t,n)}}}function nI(t,n,i){var r=au(t,n);if(zR(r))return{id:i,text:GR(r)(t,n)}}function iI(t,n,i){return{id:i,url:Tu(t,n)}}function rI(t,n,i){var r=au(t,n);if(zR(r)){var e=GR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function eI(t,n,i){var r=au(t,n);if(zR(r))return{id:i,description:GR(r)(t,n),url:Tu(t,n)}}function sI(t,n,i){switch(i){case"COM":return YR(t,n,i);case"GEO":return ZR(t,n,i);case"IPL":return JR(t,n,i);case"PIC":return function(t,n,i){var r=au(t,n);if(zR(r)){var e,s,u=GR(r),o=Au(t,n,3),h=au(t,n),a=u(t,n);return"--\x3e"===o?(e=o,s=Tu(t,n)):(e="image/"+o.toLowerCase(),s=jR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return $R(t,n,i);case"TXX":return rI(t,n,i);case"UFI":return KR(t,n,i);case"ULT":return tI(t,n,i);case"WXX":return eI(t,n,i);default:if("T"===i.charAt(0))return nI(t,n,i);if("W"===i.charAt(0))return iI(t,n,i)}}function uI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=au(t,n);if(zR(r)){var e=GR(r),s=Tu(t,n);return{id:i,mimeType:s,pictureType:au(t,n),description:e(t,n),data:"--\x3e"===s?Tu(t,n):jR(t,n)}}}(t,n,i);case"COMM":return YR(t,n,i);case"COMR":return function(t,n,i){var r=au(t,n);if(zR(r)){var e,s,u=GR(r),o=Tu(t,n),h=Au(t,n,8),a=Tu(t,n),c=au(t,n),f=u(t,n),v=u(t,n);return n.kh<t.byteLength&&(e=Tu(t,n)||"image/",s=jR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return ZR(t,n,i);case"IPLS":return JR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Tu(t,n),data:jR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:au(t,n),position:wu(t,n)}}(t,n,i);case"SYLT":return $R(t,n,i);case"TXXX":return rI(t,n,i);case"UFID":return KR(t,n,i);case"USER":return function(t,n,i){var r=au(t,n);if(zR(r)){var e=GR(r);return{id:i,language:Au(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return tI(t,n,i);case"WXXX":return eI(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return nI(t,n,i);default:var r=i.charAt(0);if("T"===r)return nI(t,n,i);if("W"===r)return iI(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(XR||(XR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(WR||(WR={}));var oI=10;function hI(t,n){return(127&au(t,n))<<21|(127&au(t,n))<<14|(127&au(t,n))<<7|127&au(t,n)}function aI(t,n){switch(t){case WR.V24:return{QH:hu(n,0),YH:hu(n,1),ZH:hu(n,2),JH:hu(n,3)};case WR.V23:return{QH:hu(n,0),YH:hu(n,1),ZH:hu(n,2)};case WR.V22:return{QH:hu(n,0),$H:hu(n,1)}}}function cI(t,n,i){switch(i.ep){case WR.V23:i.sp.YH&&function(t,n){var i=n.kh,r=wu(t,n)+4,e=32768&_u(t,n);n.yh(i+r),e&&wu(t,n)}(t,n);break;case WR.V24:i.sp.YH&&function(t,n){var i=n.kh,r=hI(t,n);n.yh(i+r)}(t,n)}}function fI(t,n){if(t.byteLength-n.kh<oI)return null;if(73!==au(t,n)||68!==au(t,n)||51!==au(t,n))return null;var i=au(t,n),r=au(t,n);if(!function(t){switch(t){case WR.V22:case WR.V23:case WR.V24:return!0}return!1}(i))return null;var e=au(t,n),s=hI(t,n);return{ep:i,KH:r,sp:aI(i,e),tV:s}}function vI(t,n,i){switch(i.ep){case WR.V22:return function(t,n,i){return{Zl:Au(t,n,3),_h:lu(t,n,3)}}(t,n);case WR.V23:return function(t,n,i){var r=Au(t,n,4),e=wu(t,n);au(t,n);var s=au(t,n);return{Zl:r,_h:e,sp:{$H:hu(s,0),nV:hu(s,1),groupingIdentity:hu(s,2)}}}(t,n);case WR.V24:return function(t,n,i){var r=Au(t,n,4),e=hI(t,n);au(t,n);var s=au(t,n);return{Zl:r,_h:e,sp:{groupingIdentity:hu(s,1),$H:hu(s,4),nV:hu(s,5),QH:hu(s,6),iV:hu(s,7)}}}(t,n)}}function dI(t){for(var n=new m(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function lI(t,n){var i=n||new Gu,r=fI(t,i);return r?{Kk:r,rV:function(t,n,i){var r=[],e=n.kh,s=Fu(t,e,e+i.tV),u=new Gu;switch(n.wh(i.tV),i.ep){case WR.V22:case WR.V23:i.sp.QH&&(s=dI(s))}cI(t,n,i);for(;u.kh<s.byteLength;)r.push(_I(s,u,i));return r}(t,i,r)}:null}function _I(t,n,i){var r,e,s=vI(t,n,i),u=n.kh,o=Fu(t,u,u+s._h);switch(n.wh(s._h),i.ep){case WR.V22:var h=s;r=sI(e=o,new Gu,h.Zl);break;case WR.V23:var a=s,c=new Gu;!function(t,n,i){var r,e,s,u=i.sp;u.$H&&(r=wu(t,n)),u.nV&&(e=au(t,n)),u.groupingIdentity&&(s=au(t,n))}(o,c,a),r=uI(e=Fu(o,c.kh,o.byteLength),new Gu,a.Zl);break;case WR.V24:var f=s,v=new Gu;f.sp.QH&&(o=dI(o)),function(t,n,i){var r,e,s,u,o=i.sp;o.groupingIdentity&&(r=au(t,n)),o.$H&&(e=wu(t,n)),o.nV&&(s=au(t,n)),o.iV&&(u=hI(t,n))}(o,v,f),r=uI(e=Fu(o,v.kh,o.byteLength),new Gu,f.Zl)}if(!r){var d=zu(Vu(e));r=QR(s.Zl,d.buffer)}return r}function gI(t){return function(t,n,i){return nI(t,n,i)}(new DataView(t.data),new Gu,t.key)}function wI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return gI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return QR(t.key,t.data)}(t)}var yI="org.id3";var mI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).cw=void 0,e.eV=void 0,e.SH=[],e.OH=[],e.xH=void 0,e.PH=void 0,e.dw=void 0,e.vw=void 0,e.cN=Kd.r_,e.fH=V_.NONE,e.hl=void 0,e.DH=void 0,e.Us=X_.DEFAULT,e.sV=void 0,e.uV=function(){e.oV(),e.cw.removeEventListener("cuechange",e.uV)},e.hV=function(){e.h_!==Kd.r_&&(e.aV(),e.HH(),e.SH.length&&e.cV(V_.LOADING))},e.fV=function(){e.cV(V_.LOADED)},e.vV=function(){e.cV(V_.ERROR)},e.cw=n,e.sV=r,e.cw.addEventListener("cuechange",e.uV),e.cw.addEventListener("cuechange",e.hV),e.eV=i,e.eV&&(e.DH=Bf(e.eV.src),e.eV.addEventListener("load",e.fV),e.eV.addEventListener("error",e.vV)),e.dw=x_(),e.vw=n.label||"",e.xH=new dR(e.SH),e.PH=new dR(e.OH),e.h_=e.dV,_s(function(){e.hV(),e.cV(V_.NONE)}),e}F(n,t);var i=n.prototype;return i.cl=function(){return el(this)},i.oV=function(){var t=this.h_;this.lV||t!==Kd.s_?this.dV=t:this.dV=Kd.e_},i._V=function(){var t=this.h_,n=this.dV;t!==n&&(this.lV||t!==Kd.s_||n!==Kd.e_)&&("metadata"===this.$l&&n===Kd.r_?this.h_=t:this.h_=n)},i.dH=function(t){this.fH!==t&&(this.fH=t,this.Vo(new lR(this,t)))},i.cV=function(t){var n=_.max(this.fH,this.gV,t);this.dH(n)},i.wV=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.yV=function(t){var n=this.wV(t);if(n)return n;if(tt(n=this.mV(t)))for(var i=0,r=n;i<r.length;i++){r[i].fl=this}else n.fl=this;return t.THEOplayerTextTrackCue=n,n},i.mV=function(t){return(n=t)&&n.type===yI&&n.value?(this.co=X_.ID3,function(t){var n;try{n=wI(t.value)}catch(t){n=QR("")}return new qR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.co=X_.ID3,function(t){var n=[];try{var i=lI(new DataView(t.data));if(i)for(var r=0,e=i.rV;r<e.length;r++){var s=e[r];n.push(new qR(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.co=X_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new UR(t):new MR(t)):new DR(t);var n},i.kV=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.yV(t[r]||t.item(r));if(tt(e))for(var s=0;s<e.length;s++){var u=e[s];n.push(u)}else n.push(e)}return n},i.aV=function(){for(var t=this.kV(this.cw.cues),n=vR(this.SH,t),i=0,r=n.EH;i<r.length;i++){var e=r[i];this.Vo(new kR(e))}for(var s=0,u=n.TH;s<u.length;s++){var o=u[s];this.Vo(new yR(o))}},i.HH=function(){for(var t=this.kV(this.cw.activeCues),n=vR(this.OH,t),i=0,r=n.EH;i<r.length;i++){r[i].jw=!1}for(var e=0,s=n.TH;e<s.length;e++){s[e].jw=!0}(n.TH.length||n.EH.length)&&this.Vo(new OR(this))},i.qv=function(){this.zo();for(var t=this.SH.slice(),n=0;n<t.length;n++){t[n].qv()}$e(this.SH),$e(this.OH),this.cw.removeEventListener("cuechange",this.hV),this.eV&&(this.cw.removeEventListener("load",this.fV),this.cw.removeEventListener("error",this.vV)),this.eV&&Sr(this.eV)},M(n,[{key:"f_",get:function(){return this.PH}},{key:"Jb",get:function(){return this.eV?this.eV.default:void 0}},{key:"c_",get:function(){return this.xH}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"Zl",get:function(){return this.cw.id||this.eV&&this.eV.id||""}},{key:"Jl",get:function(){return this.dw}},{key:"o_",get:function(){return this.cw.inBandMetadataTrackDispatchType||""}},{key:"$l",get:function(){return this.cw.kind||oy.Rk}},{key:"Kl",get:function(){return this.vw},set:function(t){t!==this.Kl&&(this.vw=t,this.Vo(new C_(this)))}},{key:"t_",get:function(){return this.cw.language||""}},{key:"h_",get:function(){return this.cN},set:function(t){var n=this.h_;this.cN=il(t),this.oV();var i=this.h_;n!==i&&this.Vo(new Od(this)),i!==Kd.r_&&this.cV(V_.LOADING)}},{key:"dV",get:function(){return il(this.cw.mode)},set:function(t){this.cw.mode=t}},{key:"yw",get:function(){return this.cw}},{key:"a_",get:function(){return this.fH}},{key:"gV",get:function(){return this.eV?+this.eV.readyState||V_.NONE:V_.LOADED}},{key:"v_",get:function(){return this.DH}},{key:"co",get:function(){return this.Us},set:function(t){this.Us!==t&&(this.Us=t,this.Vo(new gR(this)))}},{key:"lV",get:function(){return this.sV},set:function(t){this.sV=t,this.oV()}}]),n}(Ts);function kI(t){return t instanceof mI}function pI(t,n){return gg(t.nm,n.nm)||function(t,n){return t.fl===n.fl?_g(fR(t),fR(n)):Ay(t.fl,n.fl)}(t.Sw,n.Sw)||function(t,n){return t===n?dg.iy:t===G_.Aw?dg.sy:dg.ey}(t.type,n.type)}var AI=function(){function t(t,n){var i=this;this.XR=void 0,this.pV=void 0,this.wg=[],this.AV=0,this.bV=0,this.TV=[],this.EV=!1,this.SV=!1,this.RV=void 0,this.IV=function(){i.AV=0,i.NV(),i.CV()},this.DV=function(){i.NV(),i.CV()},this.OV=function(){i.SV=!0,i.RV=i.XR.z_,i.xV()},this.PV=function(){i.NV(),i.CV()},this.BV=function(){i.LV(),i.NV(),i.CV()},this.MV=function(){i.UV()},this.FV=function(t){Ye(i.TV,t.Sw),i.UV()},this.pV=n,this.XR=t,t.Xo(Yo.Nc,this.DV),t.Xo(Yo.gc,this.DV),t.Xo(Ml.q_,this.DV),t.Xo(Yo._c,this.DV),t.Xo(Yo.Ac,this.OV),t.Xo(Yo.pc,this.PV),this.UV()}var n=t.prototype;return n.Ul=function(){$e(this.TV);for(var t=0,n=this.wg.slice();t<n.length;t++){var i=n[t];this.Ll(i)}this.xV(),this.AV=0,this.bV=0,this.EV=!1,this.SV=!1,this.RV=void 0},n.Bl=function(t){Je(this.wg,t)||(this.wg.push(t),t.Xo(Td.vl,this.MV),t.Xo(Td.ll,this.FV),t.Xo(Td.Al,this.BV),t.c_.Hl&&this.UV(),this.LV())},n.Ll=function(t){if(Ye(this.wg,t)){if(t.Go(Td.vl,this.MV),t.Go(Td.ll,this.FV),t.Go(Td.Al,this.BV),t.c_.Hl){for(var n=0,i=t.c_.Fl;n<i.length;n++){var r=i[n];Ye(this.TV,r)}this.UV()}this.LV()}},n.LV=function(){this.EV=this.wg.some(function(t){return t.h_!==Kd.r_})},n.CV=function(){this.XR.K_||this.XR.Z_?this.xV():this.UV()},n.UV=function(){this.EV&&(this.AV||(this.AV=this.pV.hr(this.IV)))},n.xV=function(){this.AV&&(this.pV.HV(this.AV),this.AV=0)},n.NV=function(){var t;if(this.EV&&!this.XR.K_){var n=this.wg,i=this.bV,r=null!=(t=this.RV)?t:this.XR.z_,e=r-i<-.1,s=this.SV||e;s&&r>i&&r-i<.1&&(s=!1),this.SV=!1,this.RV=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.h_!==Kd.r_){a.HH(r,s);for(var c=0,f=a.f_.Fl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.TV;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.h_!==Kd.r_&&py(l,i-1/6,r,u)}}for(var g=u.length-1;g>=0;g--)Je(o,u[g])&&Ze(u,g);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Rw>=i&&m.Iw<=r&&(w.push(m),Ze(u,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.jw||k.push(new bR(b,b.Rw)),k.push(new ER(b,_.max(b.Rw,b.Iw)))}for(var T=0,E=u;T<E.length;T++){var S=E[T];S.jw&&(k.push(new ER(S,_.max(S.Rw,S.Iw))),S.jw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.jw||(k.push(new bR(I,I.Rw)),I.jw=!0)}k.sort(pI);for(var N=0;N<k.length;N++){var C=k[N],D=C.Sw;D.Vo(C);var O=D.fl;O&&(C.type===G_.Aw?O.Vo(new RR(D)):O.Vo(new NR(D)),Je(p,O)||p.push(O))}p.sort(Ay);for(var x=0;x<p.length;x++){var P=p[x];P.Vo(new OR(P))}this.bV=r,this.TV=o}},n.qv=function(){this.Ul(),this.XR.Go(Yo.Nc,this.DV),this.XR.Go(Yo.gc,this.DV),this.XR.Go(Ml.q_,this.DV),this.XR.Go(Yo._c,this.DV),this.XR.Go(Yo.Ac,this.OV),this.XR.Go(Yo.pc,this.PV)},t}(),bI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return gT(t)},n.HV=function(t){wT(t)},t}(),TI=new bI,EI=function(t){function n(n,i){return void 0===i&&(i=TI),t.call(this,n,i)||this}return F(n,t),n}(AI),SI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).VV=void 0,e}return F(n,t),n.prototype.Gw=function(n){return this===n||Hd(this,n)&&t.prototype.Gw.call(this,n)&&FR(this,n)},M(n,[{key:"al",get:function(){return this.hl||(this.hl=VR(this)),this.hl}}]),n}(sg),RI=function(t){function n(n,i,r){return void 0===r&&(r=X_.DEFAULT),t.call(this,oy.Nk,"",i||"","",!1,r,n)||this}return F(n,t),n}(AR),II=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).co=X_.ID3,r.VV=void 0,r}F(n,t);var i=n.prototype;return i.Yb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Rw<t.Rw)HR(n,i,t.Rw);else{var r=n[0];if(r.Rw>t.Rw)t.Iw=r.Rw;else{var e=cR(n,t);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0&&n[u].Rw<t.Rw&&HR(n,u,t.Rw),s<n.length){var o=n[s];t.Iw=o.Rw}}}}}}(n,this.SH),t.prototype.Yb.call(this,n)},i.cl=function(){return el(this)},n}(RI);function NI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=wI(t.value);return t.THEOplayerTextTrackCue=new SI(i,r),t.THEOplayerTextTrackCue}var CI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).cw=void 0,i.hV=function(){i.h_!==Kd.r_&&(i.aV(),i.cV(V_.LOADED))},i.cw=n,i.cw.addEventListener("cuechange",i.hV),i.h_=i.dV,_s(function(){i.hV()}),i}F(n,t);var i=n.prototype;return i.EN=function(n){t.prototype.EN.call(this,n),this.dV=this.h_},i.cV=function(t){this.a_=_.max(this.a_,t)},i.aV=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(NI(t[r]||t.item(r)));return qe(i,aR),i}(this.cw.cues),n=vR(this.c_.Fl.slice(),t),i=0,r=n.EH;i<r.length;i++){var e=r[i];this.FH(e)}for(var s=0,u=n.TH;s<u.length;s++){var o=u[s];this.Yb(o)}},i.qv=function(){this.cw.removeEventListener("cuechange",this.hV),t.prototype.qv.call(this)},M(n,[{key:"Zl",get:function(){return this.cw.id||""}},{key:"o_",get:function(){return this.cw.inBandMetadataTrackDispatchType||""}},{key:"t_",get:function(){return this.cw.language||""}},{key:"dV",get:function(){return il(this.cw.mode)},set:function(t){this.cw.mode=t}},{key:"yw",get:function(){return this.cw}}]),n}(II),DI=function(t){function n(n){var i;return(i=t.call(this,0,n.Nw)||this).XV=void 0,i.XV=n,i.Iw=i.XV.Rw,i}return F(n,t),M(n,[{key:"Zl",get:function(){return this.XV.Zl}},{key:"Yw",get:function(){return this.XV.Yw},set:function(t){this.XV.Yw=t}},{key:"Qw",get:function(){return this.XV.Qw},set:function(t){this.XV.Qw=t}}]),n}(SI);function OI(t){return void 0===t.VV&&(t.VV=new DI(t)),t.VV}var xI=function(t){function n(n,i){var r;(r=t.call(this,n.o_,n.Kl)||this).WV=void 0,r.qV=void 0,r.zV=void 0,r.co=X_.ID3,r.GV=function(t){r.jV(t.Sw)},r.QV=function(t){var n=t.Sw;if(void 0!==n.VV){var i=n.VV;n.VV=void 0,r.FH(i),i.qv()}},r.YV=function(t){var n=OI(t.Sw);n.jw||r.ZV(n),r.JV(n)},r.$V=function(t){var n=t.Sw,i=OI(n);r.qV.z_<n.Rw&&r.ZV(i)},r.KV=function(){var t=r.zV,n=r.h_;if(r.zV=n,n===Kd.r_)r.OH.forEach(function(t){return t.jw=!1}),$e(r.OH);else if(t===Kd.r_)for(var i=r.qV.z_,e=0,s=r.SH;e<s.length;e++){var u=s[e];i<u.Iw&&r.ZV(u)}},r.qV=i,r.WV=n,r.zV=n.h_,n.Xo(Td.vl,r.GV),n.Xo(Td.ll,r.QV),n.Xo(Td.gl,r.YV),n.Xo(Td.yl,r.$V),n.Xo(Td.Al,r.KV);for(var e=0,s=r.WV.c_.Fl;e<s.length;e++){var u=s[e];r.jV(u)}return r}F(n,t);var i=n.prototype;return i.ZV=function(t){var n=cR(this.OH,t);if(!(n>=0)){var i=-(n+1);this.OH.splice(i,0,t),t.jw=!0,t.Vo(new bR(t,this.qV.z_)),this.Vo(new RR(t)),this.Vo(new OR(this))}},i.JV=function(t){var n=cR(this.OH,t);n>=0&&Ze(this.OH,n),t.jw=!1,t.Vo(new ER(t,this.qV.z_)),this.Vo(new NR(t)),this.Vo(new OR(this))},i.qv=function(){this.WV.Go(Td.vl,this.GV),this.WV.Go(Td.ll,this.QV),this.WV.Go(Td.gl,this.YV),this.WV.Go(Td.yl,this.$V),this.WV.Go(Td.Al,this.KV),t.prototype.qv.call(this)},i.jV=function(t){var n=OI(t);(this.Yb(n),this.h_!==Kd.r_)&&(this.qV.z_<n.Iw&&this.ZV(n))},M(n,[{key:"$l",get:function(){return this.WV.$l}},{key:"Kl",get:function(){return this.WV.Kl},set:function(t){this.WV.Kl=t}},{key:"t_",get:function(){return this.WV.t_}},{key:"Zl",get:function(){return this.WV.Zl}},{key:"Jl",get:function(){return this.WV.Jl}},{key:"o_",get:function(){return this.WV.o_}},{key:"h_",get:function(){return this.WV.h_},set:function(t){this.WV.h_=t}},{key:"a_",get:function(){return this.WV.a_}},{key:"v_",get:function(){return this.WV.v_}}]),n}(RI),PI=function(t){function n(n){var i;return(i=t.call(this)||this).qV=void 0,i.qV=n,i}F(n,t);var i=n.prototype;return i.Bl=function(n){if(n.co===X_.ID3){var i=n;return i.VV||(i.VV=new xI(i,this.qV)),t.prototype.Bl.call(this,i.VV)}return t.prototype.Bl.call(this,n)},i.Ll=function(n){if(n.co===X_.ID3){var i=n;return!!i.VV&&t.prototype.Ll.call(this,i.VV)}return t.prototype.Ll.call(this,n)},n}(hl),BI=function(t){function n(n,i){var r;return(r=t.call(this)||this).tX=ee(),r.fS=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.fl).co){t.next=4;break}return t.next=4,i.Zo(Td.Sl);case 4:if(i.co===X_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.c_.Hl){t.next=11;break}return t.next=9,i.Zo(Td.vl);case 9:t.next=6;break;case 11:r.nX(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.vS=function(t){var n=t.fl;if(n.co===X_.ID3&&r.tX.has(n.Jl)){var i=r.tX.get(n.Jl);r.Ll(i),r.Wb.Zb(i),n.Go(Td.vl,r.jV)}},r.jV=function(t){LI(t.Sw)&&r.iX(t.Sw)},r.Wb=n,r.rX=i,r.eX(),r}F(n,t);var i=n.prototype;return i.eX=function(){this.rX.Xo(kd.il,this.fS),this.rX.Xo(kd.ul,this.vS)},i.sX=function(){this.rX.Go(kd.il,this.fS),this.rX.Go(kd.ul,this.vS)},i.nX=function(t){var n=t.c_.Fl[0];if(LI(n)){var i=function(t){var n=t.match(MI);if(!n)return;return{fl:n[1],t_:n[2]}}(n.Nw.description),r=i.fl,e=i.t_;if(!this.uX(r,e)){var s=this.Wb.jb(oy.Rk,t.Zl,r,e,!1,X_.TTML);this.Bl(s),this.tX.set(t.Jl,s);for(var u=0,o=t.c_.Fl;u<o.length;u++){var h=o[u];LI(h)&&this.iX(h)}t.Xo(Td.vl,this.jV)}}},i.uX=function(t,n){return!!je(this.pp.Fl,function(i){return i.Kl===t&&i.t_===n})},i.iX=function(t){if(t.fl)for(var n=this.tX.get(t.fl.Jl),i=Jw(t.Nw.text,0,{Om:0,xm:1/0,Pm:-t.Iw}),r=0;r<i.length;r++){var e=i[r];n.Yb(e)}},i.Ul=function(){var n=E.coroutine(te.mark(function n(){var i,r,e,s,u;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.rX.Fl;i<r.length;i++)r[i].Go(Td.vl,this.jV);for(e=0,s=this.pp.Fl;e<s.length;e++)u=s[e],this.Wb.Zb(u);return this.tX.clear(),n.next=5,t.prototype.Ul.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.qv=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.sX(),n.next=3,t.prototype.qv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(ay);function LI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Nw)&&MI.test(n.description);var n}var MI=/^Track:(.+),Lang:(.+)$/;var UI=function(t){function n(n){var i;return(i=t.call(this,Yo.nc)||this).errorObject=void 0,i.errorObject=n,i}return F(n,t),M(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ss),FI=function(t){function n(){return t.call(this,Yo.ic)||this}return F(n,t),n}(Ss),HI=function(t){function n(n){var i;return(i=t.call(this,"Oc")||this).oX=n,i}return F(n,t),n}(Ss),VI=new YE,XI=function(t){function i(i,r,e){var s;return(s=t.call(this)||this).zh=void 0,s.Wi=!1,s.hX=!1,s.Ud=new ss,s.Bh=function(t){switch(t.th){case"license-request":s.OT(t.Ko,t.nh).catch(function(t){return s.ga(t)});break;default:s.ga(new A_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.th))}},s.aX=function(t){s.cX.jh.vh(function(t,n){switch(t){case"usable":T.ur(function(){s.hX=!0,s.Vo(new FI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.Vo(new HI(n))}})},s.fX=function(t){s.ga(new A_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.cX=i,s.vX=r,s.dX=e,i.Xo("Ko",s.Bh),i.Xo("$o",s.aX),i.Xo("ih",s.fX),s.zh=i.zh.then(function(){return s.lX()}),s}F(i,t);var r=i.prototype;return r.Hh=function(){var t=this;return this.Wi=!0,VI.cL(function(n){return t._X(n)},this.Ud.Lo)},r._X=function(){var t=E.coroutine(te.mark(function t(i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,hs(i),t.next=4,this.vX.ET(i);case 4:return t.next=6,this.vX.ST(this.dX.vo,this.dX.oh,i);case 6:return r=t.sent,t.next=9,this.cX.Hh(this.dX.vo,this.dX.oh,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),as(t.t0),e=t.t0 instanceof Ku?t.t0.Ih:void 0,s=new A_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ga(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.OT=function(){var t=E.coroutine(te.mark(function t(i,r){var e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Zu(i)){t.next=7;break}return t.next=4,this.vX.HT(new m(i),this.Ud.Lo);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.vX.VT(new m(i),r,this.Ud.Lo);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!os(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.cX.Wh(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof Ku?t.t1.Ih:void 0,new A_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ga=function(t){var i=t instanceof A_?t:new A_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Vo(new UI(i)),this.Fh()},r.lX=function(){this.cX.Go("Ko",this.Bh),this.cX.Go("$o",this.aX),this.cX.Go("ih",this.fX),this.hX=!1,this.Ud.xo()},r.Fh=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),this.lX(),t.next=4,this.cX.Fh().catch(R);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Ts),WI=[Yo.ic,Yo.nc,Yo.Dc],qI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Lh=void 0,e.Yh=void 0,e.gX=void 0,e.wX=[],e.yX=void 0,e.mX=[],e.Lh=n,e.Yh=i,e.gX=r,e}F(n,t);var i=n.prototype;return i.FT=function(){return this.gX.FT()},i.kX=function(t){return this.yX||(this.yX=this.pX(t)),this.yX},i.pX=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(n),t.next=3,this.gX.HT(new m(Yu()),n);case 3:return i=t.sent,hs(n),t.next=7,this.Yh.Kh(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.AX=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.mX.push(n),t.next=4,this.Yh.$h("temporary");case 4:return i=t.sent,r=new XI(i,this.gX,n),this.wX.push(r),r.Xo(WI,this.Ho),r.zh.then(function(){return e.bX(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ye(this.mX,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.TX=function(t){if(t.EX)return!1;for(var n=0,i=this.wX;n<i.length;n++){if(zI(i[n].dX,t))return!0}for(var r=0,e=this.mX;r<e.length;r++){if(zI(e[r],t))return!0}return!1},i.bX=function(t){t.Go(WI,this.Ho),Ye(this.wX,t)},i.qv=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),n=this.wX.slice(),$e(this.wX),t.next=5,E.all(n.map(function(t){return t.Fh()}));case 5:this.gX.Ro();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Zh",get:function(){return this.Lh}}]),n}(Ts);function zI(t,n){return!t.EX&&t.vo===n.vo&&Gs(t.oh,n.oh)}var GI=function(t){function i(n){var i;return(i=t.call(this)||this).mS=void 0,i.Ud=new ss,i.pL=new YE,i.ba=void 0,i.gX=void 0,i.kS=void 0,i.Lh=void 0,i.SX=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.RX(n.vo,n.oh,i.Ud.Lo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),os(t.t0)||i.ga(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.mS=n,i.mS.Xo(bs.rh,i.SX),i}F(i,t);var r=i.prototype;return r.Vh=function(t,n){this.kS=t,this.GL(n)},r.GL=function(t){this.ba=t,this.IX(this.Ud.Lo).catch(cs)},r.IX=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!T.Xu.fu){t.next=5;break}return t.next=3,this.NX(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.ba||!this.ba.CX){t.next=9;break}return t.next=8,this.DX(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.NX=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.ba)?void 0:i.ZS){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,s=null!=(u=null==(o=this.ba)?void 0:o.ZS)?u:[];case 5:if(!(e<s.length)){t.next=27;break}h=s[e],a=0,c=null!=(f=h.hS)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.RX(h.Zh.vo,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),as(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.RX=function(){var t=E.coroutine(te.mark(function t(i,r,e){var s,u,o,h,a,c,f,v,d,l;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.ba&&this.ba.ZS.length){t.next=5;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===de||i===_e||i===le){t.next=8;break}return t.abrupt("return");case 8:s=tk(i,r),u=this.ba.ZS,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],hs(e),(c=s[a.Zh.do])&&a.Zh.vo===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.OX(a,e);case 20:if(!(f=t.sent).FT()){t.next=24;break}return t.next=24,f.kX();case 24:if(v=this.mS.Yg,d={vo:a.Zh.vo,oh:c,EX:v},!this.xX(f,d)){t.next=32;break}return t.next=29,f.AX(d);case 29:return l=t.sent,t.next=32,l.Hh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),as(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,T.Du();case 44:if(!t.sent){t.next=48;break}throw new A_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new A_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.DX=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.ba)?void 0:i.ZS){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return s=r[e],hs(n),t.prev=7,t.next=10,this.OX(s,n);case 10:if(!(u=t.sent).FT()){t.next=14;break}return t.next=14,u.kX();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),as(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.xX=function(t,n){return T.Xu.cu||!t.TX(n)},r.OX=function(t,n){var i=this;return this.pL.cL(function(n){return i.PX(t,n)},n)},r.PX=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(i),this.ba&&this.gX&&this.kS){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Lh){t.next=7;break}if(this.Lh.Zh===n.Zh){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Lh);case 7:return r=this.gX,e=ne({},n,{cR:n.cR.map(function(t){var i;return ne({},t,{persistentState:null!=(i=t.persistentState)?i:r.oE(n.Zh),ha:t.ha||r.ha(n.Zh)})})}),t.next=11,this.kS.WL(e.Zh,e.cR);case 11:return s=t.sent,u=r.oS(e),(o=new qI(e.Zh,s,u)).Xo([Yo.ic,Yo.nc,Yo.Dc],this.Ho),this.Lh=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ga=function(t){var i=t instanceof A_?t:new A_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Vo(new UI(i))},r.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kS=void 0,this.ba=void 0,this.Ud.xo(),this.Ud=new ss,t.next=6,this.BX();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.BX=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pL.xo();case 2:if(!(n=this.Lh)){t.next=8;break}return n.Go(Yo.Dc,this.Ho),this.Lh=void 0,t.next=8,n.qv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),this.mS.Go(bs.rh,this.SX),t.next=4,this.Ul();case 4:return t.next=6,this.pL.qv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"LX",get:function(){var t;return null==(t=this.Lh)?void 0:t.Zh}},{key:"jS",get:function(){return this.gX},set:function(t){this.gX=t}}]),i}(Ts),jI=Y.Oe||Y.xe,QI=Y.Je,YI=.5,ZI=5,JI=Y.Ue,$I=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Ba=void 0,s.MX=void 0,s.pS=void 0,s.zR=!0,s.kS=void 0,s.UX=new YE,s.FX=void 0,s.HX=void 0,s.VX=void 0,s.FL=void 0,s.wg=void 0,s.YI=void 0,s.XX=[],s.WX=void 0,s.qX=void 0,s.zX=void 0,s.GX=void 0,s.jX=void 0,s.QX=void 0,s.YX=void 0,s.ZX=NaN,s.JX=void 0,s.$X=void 0,s.zI=!1,s.KX=E.resolve(),s.tW=new ss,s.nW=[],s.iW=sA.LI(),s.rW=void 0,s.eW=1,s.sW=!1,s.uW=!1,s.oW=!1,s.hW=!1,s.wo=void 0,s.aW=!1,s.cW=!1,s.fW=!1,s.vW=!1,s.dW=0,s.lW=function(t){var n=t.track,i=s._W(n);s.gW(n,i)},s.wW=function(t){var n=iN(s.WX,t.track);n&&s.WX.Ll(n)},s.yW=function(){for(var t=0;t<s.wg.Hl;t++){var n=s.wg.Pl(t);n instanceof mI&&n._V()}},s.mW=function(){s.WX.Ul()},s.kW=function(){var t=s.kS,n=t.XF,i=t.WF;if(n&&i)if(t.$L)s.pW();else if(t.a_!==QS.iF){var r=n.Gg,e=i.Gg;if(0!==r.Hl&&0!==e.Hl){var u=s.z_;if(u<r.$R(0)||u<e.$R(0))s.pW();else if(r.fR(u)!==e.fR(u))s.AW();else if(s.pW(),!s.dW&&s.VX.kH())r.yI(e).bI(u,u+YI)&&(s.dW=gT(s.bW))}else s.pW()}},s.bW=function(){s.dW=0,s.kW()},s.TW=function(){if(!(s.K_||s.a_>=ml.M_)){0;var t=s.kS,n=t.XF,i=t.WF;if(n&&i){var r=s.z_,e=n.Gg,u=i.Gg;if(e.fR(r)&&u.fR(r))e.yI(u).bI(r-ZI,r)&&s.yh(r)}}},s.EW=function(){s.Vo(new Hl(s.z_))},s.SW=function(){s.RW(new us),s.Vo(new Fl(s.z_))},s.IW=function(){s.NW(),s.Vo(new em(s.z_))},s.DW=function(){s.OW(s.J_)},s.xW=function(){s.Vo(new zl(s.G_))},s.PW=function(){s.Vo(new gS(s.z_))},s.BW=function(){s.Vo(new wS)},s.LW=function(){var t=s.z_,n=s.K_,i=s.a_<ml.M_&&!s.j_,r=void 0!==s.$X,e=r&&s.$X!==t;(n||!r||e&&!i)&&(s.Vo(new jl(s.z_,void 0)),s.$X=t)},s.MW=function(){!s.sW&&s.j_&&(s.sW=!0,s.Vo(new Ql(s.z_)))},s.UW=function(){if(null!==s.Ba.error){var t,n=s.Ba.error;s.CS(new b_(null!=(t=n.code)?t:m_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.FW=function(){s.uW&&(s.HW(),s.oW=!0)},s.VW=function(){s.Vo(new $l(s.z_,s.ig))},s.XW=function(){s.ng>0&&s.tg>0&&s.Vo(new Py)},s.WW=function(t){s.Vo(new Os(t.initDataType,t.initData||new ArrayBuffer(0)))},s.qW=function(){s.Vo(new xs)},s.zW=function(t){var n=t.initData,i=n?zu(n).buffer:new ArrayBuffer(0);s.Vo(new Os(de,i))},s.GW=function(t){if(t.initData){var n=KI(t.initData);if(!n)return;s.Vo(new Os(_e,n))}else s.Vo(new Os(_e,new ArrayBuffer(0)))},s.jW=function(t){var n=t.initData,i=n?zu(n).buffer:new ArrayBuffer(0);s.Vo(new Os(de,i))},s.QW=function(){s.NW()},s.YW=function(t){s.RW(t)},s.ZW=function(t){s.Vo(t),t.type===Yo.nc&&s.CS(E_(t.errorObject))},s.Ba=n,s.wo=i,s.MX=r,s.YI=e,s.HX=new iR(sn(s)),s.HX.Xo(Ml.Tl,s.Ho),s.VX=new sR(sn(s)),s.VX.Xo(Ml.q_,s.IW),s.FL=new GI(sn(s)),s.FL.Xo([Yo.ic,Yo.nc,Yo.Dc],s.ZW),s.wg=new hy,s.WX=new hy,s.qX=new Vp([s.wg,s.WX]),s.zX=new PI(sn(s)),s.zX.Gl=s.qX,s.GX=new BI(sn(s),s.zX),s.jX=new Vp([s.qX,s.GX.pp]),s.QX=new EI(sn(s)),s.JW(),s.YS(),s}F(n,t);var i=n.prototype;return i.$W=function(){this.GS.ended||this.z_===this.G_||(this.sW=!1)},i.KW=function(){return void 0!==this.YX&&this.G_===this.YX},i.OW=function(t){this.eW!==t&&(this.eW=t,this.Vo(new Gl(this.z_,t)))},i.lR=function(){return yE(this.Ba)},i.Eg=function(){var t=this.tq();return this.nq(),t},i.nq=function(){this.aW?this.cW&&(this.cW=!1,this.Vo(new Hl(this.z_))):this.iq()},i.iq=function(){if(this.FX)this.FX.Eg();else{Y.Ue&&!Y.pe&&this.Ba.preload===Jp.UR&&(this.Ba.preload=Jp.Nk);var t=this.J_,n=this.Ba.play();t!==this.GS.playbackRate&&(this.J_=t),st(n)?n.then(this.QW,this.YW):this.VX.kH()&&this.NW()}},i.Sg=function(){this.aW?this.cW||(this.cW=!0,this.Vo(new Fl(this.z_))):this.rq()},i.rq=function(){this.FX?this.FX.Sg():(this.Ba.pause(),this.VX.Wh()),this.sq(new us)},i.tq=function(){var t=new Qu;return this.nW.push(t),t.Th},i.uq=function(){for(var t=0,n=this.nW;t<n.length;t++){n[t].Eh(void 0)}$e(this.nW)},i.sq=function(t){for(var n=0,i=this.nW;n<i.length;n++){i[n].Sh(t)}$e(this.nW)},i.NW=function(){this.aW||this.FX||this.uq()},i.RW=function(t){this.aW||this.FX||this.sq(t)},i.yh=function(t,n){this.FX?this.FX.z_=t:(this.tW.xo(),this.tW=new ss,this.KX=this.oq(t,this.KX,this.tW.Lo).catch(R))},i.dR=function(t){var n=this._R;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.yh(i)}},i.oq=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.YX=n,this.ZX=n,this.zI=!0,this.sW&&!this.KW()&&(this.sW=!1),this.Vo(new Zl(n)),t.next=8,i.catch(R);case 8:if(hs(r),this.hW&&this.hq(),this.a_!==ml.P_){t.next=13;break}return t.next=13,this.Zo(Ml.Tl,r);case 13:if(0!==this.Ba.seekable.length){t.next=19;break}return t.next=16,E.race([yd(this.Ba,"timeupdate",r),ms(100,r)]);case 16:hs(r),t.next=13;break;case 19:e=this.aq(n),s=this.sw,u=!0,o=!1;case 23:if((s=this.sw).Hl>0&&!s.fR(e)&&(e=s.hI(e),u=!0),JI&&void 0!==(h=this.cq())&&e>h&&(e=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.fq())&&e>a)){t.next=37;break}return o=!0,t.next=33,this.vq(a,r);case 33:return t.next=35,yd(this.Ba,"seeked",r);case 35:hs(r),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.vq(e,r);case 41:hs(r),c=this.z_,s=this.sw,e=s.hI(e),f=1;case 46:if(!(_.abs(e-c)>=1/6)){t.next=56;break}return s=this.sw,e=nN(e,s,f),t.next=51,this.vq(e,r);case 51:hs(r),c=this.z_,f++,t.next=46;break;case 56:if(this.Ba.seeking||this.a_<ml.L_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,ds(function(t){var n;return E.race([yd(v.Ba,"seeked",t),v.Zo([Yo.wc,Yo.sc,Ml.Tl],t),null==(n=v.kS)?void 0:n.Zo(oS.dC,t)].filter($))},r);case 60:hs(r),t.next=23;break;case 63:this.dq(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!os(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.vq=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(i),r=this.sw,n=r.hI(n),!this.hW){t.next=18;break}e=!0;case 5:if(!(e||this.a_<ml.M_)){t.next=17;break}if((r=this.sw).fR(n)||(n=r.hI(n),e=!0),!e){t.next=13;break}return e=!1,this.YX=n,this.lq(this.z_),t.abrupt("continue",5);case 13:return t.next=15,this.Zo([Ml.Tl,Yo.sc],i);case 15:t.next=5;break;case 17:hs(i);case 18:if(s=yd(this.Ba,"seeking",i),this.Ba.currentTime=n,this.YX=void 0,this.lq(this.z_),!this.Ba.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.aq=function(t){var n=this.Gg;if(n&&!n.fR(t)){var i=n.kI(t,.05);if(i>-1){var r=n.$R(i);if(t<r)return r}}return t},i.cq=function(){if(this.kS&&this.kS.$L){var t=this.kS.KL,n=this.kS.tM,i=t&&n?t.fI(n):t||n;if(i&&0!==i.Hl){var r=i.$R(i.Hl-1),e=i.tI(i.Hl-1);return _.max(r,e-.001)}}},i.fq=function(){if(this.kS&&this.kS.$L){var t=this.kS.tM;if(t&&0!==t.Hl){var n=t.$R(t.Hl-1),i=t.tI(t.Hl-1)-.02;return i-=.001,_.max(n,i)}}},i.lq=function(t){this.ZX!==t&&(this.ZX=t,this.Vo(new Zl(t)))},i.dq=function(){this.zI=!1,this.ZX=NaN,this.hW&&this._q(),this.Vo(new Jl(this.z_))},i.hq=function(){this.aW||(this.cW=this.Z_,this.aW=!0,this.rq())},i._q=function(){this.aW&&(this.aW=!1,this.cW||this.nq())},i.JL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.co===xy.$b&&_S.JL(i,this.Ba))return i;if(i.co===xy.Kb&&JS.JL(i))return i}},i.Mg=function(){this.zR=!1,Or(this.Ba)&&(this.Ba.style.display="none")},i.Lg=function(){this.zR=!0,Or(this.Ba)&&(this.Ba.style.display="block")},i.jb=function(t,n,i,r,e,s,u){var o=new AR(t,n,i,r,e,s,u);return this.wg.Bl(o),this.QX.Bl(o),o},i.nR=function(){return!0},i.rR=function(t,n,i,r){var e=s.createElement("track");e.src=Bf(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=Gb(),this.Ba.appendChild(e);var u=this.Ba.textTracks.getTrackById(e.id),o=new mI(u,e);return this.WX.Bl(o),this.XX.push(o),o},i.Zb=function(t){this.wg.Ll(t),this.QX.Ll(t)},i.uR=function(){for(var t=0,n=this.wg.Fl.slice();t<n.length;t++){n[t].qv()}this.wg.Ul();for(var i=0,r=this.XX.slice();i<r.length;i++){var e=r[i];this.WX.Ll(e),e.qv()}$e(this.XX)},i.YS=function(){var t=this.Ba.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.lW),t.addEventListener("removetrack",this.wW),t.addEventListener("change",this.yW)),this.Ba.addEventListener("emptied",this.mW)},i.hR=function(){var t=this.Ba.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.lW),t.removeEventListener("removetrack",this.wW),t.removeEventListener("change",this.yW)),this.Ba.removeEventListener("emptied",this.mW)},i.gW=function(t,n){if(Y.Ue){if(t.kind===oy.Nk)return void this.gq(t);if(t.kind===oy.Mb&&""===t.label&&""===t.language&&!rN(t))return void this.wq(t,n)}iN(this.WX,t)||this.WX.Bl(new mI(t,n))},i.gq=function(t){t.mode=Kd.e_;var n=new CI(t);this.WX.Bl(n),this.QX.Bl(n)},i.wq=function(t,n){var i=this;t.addEventListener("cuechange",function r(){rN(t)&&(t.removeEventListener("cuechange",r),i.WX.Bl(new mI(t,n)))}),t.mode=Kd.e_},i._W=function(t){for(var n=this.Ba.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Vh=function(t){var n=this;return this.UX.cL(function(){var i=E.coroutine(te.mark(function i(r){var e;return te.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(hs(r),!n.kS){i.next=3;break}throw new v("Already loaded a media source");case 3:if(t.co!==xy.$b){i.next=9;break}e=new _S(t,n,n.FL,n.wo),n.hW=!1,n.yq(new iR(n)),i.next=17;break;case 9:if(t.co!==xy.Kb){i.next=16;break}e=new JS(t,n,n.FL,n.wo),n.hW=jI,n.yq(n.hW?new rR(n):new iR(n)),QI&&(n.Xo(Yo.Nc,n.kW),n.Xo(Ml.Tl,n.TW)),i.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.kS=e,i.next=20,e.Ux();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.AW=function(){if(!this.fW){var t=this.J_;this.fW=!0,this.J_=t,this.Ba.playbackRate=0,this.HX&&this.HX.dH()}},i.pW=function(){if(this.fW){var t=this.J_;this.fW=!1,this.J_=t,this.Ba.currentTime=this.Ba.currentTime,this.HX&&this.HX.dH()}},i.yq=function(t){var n=this.a_;this.HX.Ro(),this.HX=t,this.HX.Xo(Ml.Tl,this.Ho);var i=this.a_;n!==i&&this.Vo(new n_(this.z_,i))},i.Ul=function(){var t=E.coroutine(te.mark(function t(){var n=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zI=!1,this.iW=sA.LI(),this.tW.xo(),this.YX=void 0,this.ZX=NaN,this.JX=void 0,this.hW=!1,this.aW=!1,this.pS=void 0,this.sW=!1,this.$X=void 0,this.uW=!1,this.oW&&(this.JW(),this.oW=!1),this.sq(new us),this.yq(new iR(this)),this.VX.Ul(),this.pW(),QI&&(wT(this.dW),this.dW=0,this.Go(Yo.Nc,this.kW),this.Go(Ml.Tl,this.TW)),t.next=20,this.UX.xo();case 20:return t.next=22,this.UX.cL(E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.kS){t.next=4;break}return t.next=3,n.kS.Ro();case 3:n.kS=void 0;case 4:case"end":return t.stop()}},t)})));case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oW=!1,this.HW(),this.hR(),t.next=5,this.Ul();case 5:return t.next=7,this.UX.qv();case 7:return this.VX.Ro(),this.HX.Ro(),t.next=11,this.FL.Ro();case 11:return this.uR(),this.wg.qv(),this.zX.qv(),this.WX.qv(),t.next=17,this.GX.qv();case 17:this.qX.qv(),this.jX.qv(),this.zo();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.JW=function(){this.GS.addEventListener("play",this.EW),this.GS.addEventListener("pause",this.SW),this.GS.addEventListener("timeupdate",this.LW),this.GS.addEventListener("progress",this.PW),this.GS.addEventListener("loadstart",this.BW),this.GS.addEventListener("ended",this.MW),this.GS.addEventListener("ratechange",this.DW),this.GS.addEventListener("volumechange",this.VW),this.GS.addEventListener("durationchange",this.xW),this.GS.addEventListener("resize",this.XW),this.GS.addEventListener("loadedmetadata",this.XW),this.GS.addEventListener("error",this.UW),this.GS.addEventListener("emptied",this.FW),He()?(this.Ba.addEventListener("encrypted",this.WW),this.Ba.addEventListener("waitingforkey",this.qW)):void 0!==kr.WebKitMediaKeys&&"function"==typeof kr.WebKitMediaKeys.isTypeSupported?this.Ba.addEventListener("webkitneedkey",this.GW):Ve()?this.Ba.addEventListener("webkitneedkey",this.jW):void 0!==kr.MSMediaKeys&&"function"==typeof kr.MSMediaKeys.isTypeSupported&&this.Ba.addEventListener("msneedkey",this.zW)},i.HW=function(){this.GS.removeEventListener("play",this.EW),this.GS.removeEventListener("pause",this.SW),this.GS.removeEventListener("timeupdate",this.LW),this.GS.removeEventListener("progress",this.PW),this.GS.removeEventListener("loadstart",this.BW),this.GS.removeEventListener("ended",this.MW),this.GS.removeEventListener("ratechange",this.DW),this.GS.removeEventListener("volumechange",this.VW),this.GS.removeEventListener("durationchange",this.xW),this.GS.removeEventListener("resize",this.XW),this.GS.removeEventListener("loadedmetadata",this.XW),this.GS.removeEventListener("error",this.UW),this.GS.removeEventListener("encrypted",this.WW),this.GS.removeEventListener("waitingforkey",this.qW),this.GS.removeEventListener("webkitneedkey",this.GW),this.GS.removeEventListener("webkitneedkey",this.jW),this.GS.removeEventListener("msneedkey",this.zW),this.GS.removeEventListener("emptied",this.FW)},i.mq=function(){var t;this.FX||(this.iW=this.rw,this.FX=new KS((t=this).z_,t.G_,t.j_,t.Z_,t.K_,t.Y_,t.J_,t.ig,t.a_),this.HW(),this.FX.Xo($S,this.Ho))},i.kq=function(){if(this.FX){var t,n,i=this.FX;this.FX=void 0,this.HX.dH(),t=this,(n=i).G_===t.G_||y(n.G_)&&y(t.G_)||t.Vo(new zl(t.G_)),t.Y_=n.Y_,t.ig=n.ig,t.J_=n.J_,n.Z_?t.Sg():t.Eg().catch(R),n.z_!==t.z_||n.a_>ml.P_&&t.a_===ml.P_?t.yh(n.z_):!n.K_&&t.K_?t.Vo(new Zl(t.z_)):n.K_&&!t.K_&&t.a_>=ml.L_&&t.Vo(new Jl(t.z_)),!n.j_&&t.j_&&t.Vo(new Ql(t.z_)),i.Ro(),this.JW()}},i.CS=function(t){this.pS=t,this.sq(this.pS),this.Vo(new uR(this.pS))},i.pq=function(){this.Aq||(XC(this.Ba,T.Xu),this.vW=!0)},i.bq=function(t){t.appendChild(this.Ba)},i.nH=function(){QI&&this.kW(),this.HX.dH()},i.zg=function(){this.FL.BX().catch(R)},M(n,[{key:"_H",get:function(){return this.fW}},{key:"Gg",get:function(){return this.kS?this.kS.Gg:sA.LI()}},{key:"jg",get:function(){var t=this._R;if(t&&!y(t.getTime())){var n=1e3*this.z_;return new Date(t.getTime()+n)}}},{key:"_R",get:function(){if(this.GS.getStartDate)return this.zI&&this.JX||(this.JX=this.GS.getStartDate()),this.JX}},{key:"z_",get:function(){return this.FX?this.FX.z_:void 0!==this.YX?this.YX:this.Ba.currentTime}},{key:"zB",get:function(){return this.MX}},{key:"G_",get:function(){return this.FX?this.FX.G_:this.kS?this.kS.G_:this.Ba.duration}},{key:"j_",get:function(){return this.K_?this.KW():this.FX?this.FX.j_:this.Ba.ended||this.sW}},{key:"ih",get:function(){return this.pS}},{key:"GS",get:function(){return this.Ba}},{key:"Z_",get:function(){return this.aW?this.cW:this.FX?this.FX.Z_:this.Ba.paused}},{key:"rw",get:function(){return this.iW.wI(sA.OI(this.Ba.played))}},{key:"Mp",get:function(){return this.Ba.offsetHeight*T.Xu.hu}},{key:"yu",get:function(){return this.Ba.offsetWidth*T.Xu.hu}},{key:"sR",get:function(){return hA}},{key:"a_",get:function(){return this.HX.a_}},{key:"sw",get:function(){return this.kS?this.kS.sw:sA.LI()}},{key:"K_",get:function(){return this.FX?this.FX.K_:this.zI}},{key:"Y_",get:function(){return this.FX?this.FX.Y_:this.Ba.muted},set:function(t){this.FX?this.FX.Y_=t:this.Ba.muted=t}},{key:"J_",get:function(){return this.FX?this.FX.J_:void 0!==this.rW?this.rW:this.Ba.playbackRate},set:function(t){this.FX?this.FX.J_=t:this.Z_||this.fW?(this.rW=t,this.OW(t)):(this.rW=void 0,this.Ba.playbackRate=t)}},{key:"Tq",get:function(){return this.zR}},{key:"ig",get:function(){return this.FX?this.FX.ig:this.Ba.volume},set:function(t){this.FX?this.FX.ig=t:this.Ba.volume=t}},{key:"bg",get:function(){return this.jX}},{key:"jB",get:function(){return this.YI}},{key:"Yg",get:function(){return!!this.Ba.webkitCurrentPlaybackTargetIsWireless}},{key:"Aq",get:function(){return this.vW}},{key:"Eq",get:function(){return ne({},fS)}},{key:"jS",get:function(){return this.FL.jS},set:function(t){this.FL.jS=t}},{key:"LX",get:function(){return this.FL.LX}},{key:"uw",get:function(){return this.uW},set:function(t){this.uW=t,this.oW&&!this.uW&&(this.oW=!1,this.JW())}}]),n}(Ts);function KI(t){try{var n=Hu(t),i=new Gu;return Ou(xu(fu(n,i,wu(n,i,!0)),!0))}catch(t){return}}var tN=.01;function nN(t,n,i){if(void 0===i&&(i=0),!n.Hl)return 0;var r=n.hI(t),e=tN*i;return r===n.$R(0)?r+=e:r===n.tI(n.Hl-1)&&(r-=e),r}function iN(t,n){for(var i=0,r=t.Fl;i<r.length;i++){var e=r[i];if(e.yw===n)return e}}function rN(t){return!!t.cues&&t.cues.length>0}var eN=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).hl=void 0,n}return F(n,t),M(n,[{key:"al",get:function(){return this.hl||(this.hl=CE(this)),this.hl}},{key:"dB",get:function(){}},{key:"lB",get:function(){}},{key:"_B",get:function(){}},{key:"gB",get:function(){}},{key:"wB",get:function(){}},{key:"yB",get:function(){}},{key:"mB",get:function(){}}]),n}(Ts),sN=(new eN,function(t){function n(n,i,r){return t.call(this,n,i,r,new eN)||this}return F(n,t),n.prototype.Ug=function(){},M(n,[{key:"tg",get:function(){return 0}},{key:"ng",get:function(){return 0}}]),n}($I)),uN="theoplayer-texttracks",oN=function(){function t(t){void 0===t&&(t=5),this.Sq=void 0;var n=kr.document.createElement("div");n.className=uN,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Sq=n,this.Lg()}var n=t.prototype;return n.Mg=function(){this.Sq.style.display="none"},n.Lg=function(){Ir(this.Sq.style,"flex")},n.bq=function(t){t.appendChild(this.Sq)},n.qv=function(){Sr(this.Sq)},M(t,[{key:"Qg",get:function(){return this.Sq}}]),t}();function hN(t,n){return t?ne({},n,Vd({gB:t.gB,_B:t._B,lB:t.lB,dB:t.dB,wB:t.wB,yB:t.yB,mB:t.mB})):n}function aN(t){return t._B&&Ne(t._B,"%")?Number(t._B.replace("%",""))/100:t._B&&Ne(t._B,"em")?Number(t._B.replace("em","")):1}var cN,fN,vN=function(){function t(t,n,i,r,e){var s=this;this.Rq=re(),this.Iq=!0,this.Nq=void 0,this.Hw=void 0,this.Ba=void 0,this.MX=void 0,this.Cq=void 0,this.Dq=function(t){return s.Rq.has(t.Qw)},this.Oq=function(t){return!s.Dq(t)},this.xq=function(t){return s.Yb(t.Sw)},this.Pq=function(t){return s.removeCue(t.Sw)},this.Bq=function(){return s.Lq()},this.Mq=function(t){return s.Uq(t.Sw)},this.Fq=function(t){return s.Hq(t.Sw)},this.Vq=function(t){s.Xq(t.yu,t.Mp)},this.Hw=t,this.Cq=this.Nq=e,this.Ba=this.Wq(i),this.MX=r,n.appendChild(this.Ba),this.qq(),this.Hw.c_.Fl.forEach(function(t){return s.Yb(t)}),this.zB.Xo("GD",this.Vq),this.Xq(this.zB.KD,this.zB.$D)}var n=t.prototype;return n.zq=function(t){this.Nq=hN(t,this.Cq),this.Nq.dB&&(this.GS.style.fontFamily=this.Nq.dB),this.Nq.mB&&(this.GS.style.visibility=this.Nq.mB),this.Xq(this.zB.KD,this.zB.$D),this.Gq()},n.jq=function(){return this.Nq},n.qq=function(){this.Hw.Xo(Td.vl,this.xq),this.Hw.Xo(Td.ll,this.Pq),this.Hw.Xo(Td.Al,this.Bq)},n.Qq=function(){var t=this;this.Hw.Go(Td.vl,this.xq),this.Hw.Go(Td.ll,this.Pq),this.Hw.Go(Td.Al,this.Bq),this.Hw.c_.Fl.forEach(function(n){return t.Yq(n)})},n.Zq=function(t){t.Xo(G_.Aw,this.Mq),t.Xo(G_.Tw,this.Fq)},n.Yq=function(t){t.Go(G_.Aw,this.Mq),t.Go(G_.Tw,this.Fq)},n.Yb=function(t){t.Qw||(t.Qw=this.Jq),this.Zq(t),t.jw&&this.Uq(t)},n.removeCue=function(t){this.Yq(t),this.Hq(t)},n.Lq=function(){this.Hw.h_===Kd.s_?this.$q():this.Kq()},n.$q=function(){var t=this,n=this.zB.KD,i=this.zB.$D,r=new hT(n,i);this.Vq(r),this.Iq=!1,this.tz.forEach(function(n){return t.Uq(n)})},n.Uq=function(t){this.Iq||this.Oq(t)&&(this.nz(t),this.Rq.set(t.Qw,t))},n.nz=function(t){var n=this.Ba,i=this.iz(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.Qw,n.appendChild(e)}},n.Kq=function(){var t=this;this.Iq=!0,this.Rq.forEach(function(n){return t.Hq(n)})},n.Hq=function(t){this.Dq(t)&&(this.rz(t),this.Rq.delete(t.Qw))},n.rz=function(t){for(var n=this.Ba,i=n.getElementsByClassName(t.Qw);i.length;)n.removeChild(i[0])},n.Gq=function(){for(var t=0,n=this.ez;t<n.length;t++){var i=n[t];this.rz(i),this.nz(i)}},n.qv=function(){Sr(this.GS),this.Qq(),this.zB.Go("GD",this.Vq)},M(t,[{key:"fl",get:function(){return this.Hw}},{key:"GS",get:function(){return this.Ba}},{key:"zB",get:function(){return this.MX}},{key:"sz",get:function(){return this.Nq}},{key:"ez",get:function(){return this.Hw.f_.Fl.filter(this.Dq)}},{key:"tz",get:function(){return this.Hw.f_.Fl.filter(this.Oq)}}]),t}();function dN(t){return lN[t||"none"]}!function(t){t.uz='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.oz='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.hz='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.az='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(cN||(cN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(fN||(fN={}));var lN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function _N(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var gN=se({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),wN=se({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),yN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=gN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){De(t,"px")?t=g(t)/24+"em":De(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=wN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(De(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},mN=0,kN={lB:fN.WHITE,dB:"Arial, Helvetica, Sans-Serif",_B:"100%",gB:fN.TRANSPARENT,wB:fN.TRANSPARENT,yB:"none",mB:"visible"},pN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,kN)||this}F(n,t);var i=n.prototype;return i.Wq=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Xq=function(t,n){var i=_.min(t,n)/15;this.GS.style.fontSize=i+"px"},i.iz=function(t){if(t.fl&&t.fl.co!==X_.TTML)return[];var n,i=[],r=t,e=r.Rb,u=r.Bm,o=r.Nw;if(0===l.keys(u).length){Rr(n=s.createElement("div"),r.Qw),IN(n);for(var h=AN(o,e,r.Ib,void 0,this.GS),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=l.keys(u);f<v.length;f++){var d=v[f],_=s.createElement("div");_.id=d,Rr(_,r.Qw);var g=AN(o,e,r.Ib,_,this.GS);if(g){IN(_),EN(_,u[d],e,this.GS);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.zq=function(t){},M(n,[{key:"Jq",get:function(){return"theoplayer-ttmlcue-"+mN++}}]),n}(vN);function AN(t,n,i,r,e){var s,u;if(rn(t)&&("SPAN"===(u=t).vs.toUpperCase()||"P"===u.vs.toUpperCase()||"BR"===u.vs.toUpperCase()||"DIV"===u.vs.toUpperCase()||"BODY"===u.vs.toUpperCase())){var o=function t(n){var i=n.Is("region");if("p"===n.vs.toLowerCase())return i;var r=[];for(var e=0,s=n.Rs;e<s.length;e++){var u=s[e];r.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.Is("style");RN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Ps).forEach(function(n){var r=Gw(n.ds,["ebutts","tts","xml"]);yN[r]&&yN[r](n.gs,t,i)})}(t,n,r)})(s="BODY"===t.vs.toUpperCase()?r:bN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.Is("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.Rs)for(var e=0,s=null==n?void 0:n.Rs;e<s.length;e++){var u=s[e];if(r=t(u,i))break}return r}(i,function(t){return t.Ps.some(function(t){return"id"===t.vs&&t.gs===r})});e&&SN(t,e,n,!0)}!function(t,n){var i=n.Rs[0];if(!i||"metadata"!==i.vs.toLowerCase())return;var r=i.Rs[0];SN(t,r,n)}(t,n)}(s,t,i);for(var h=[],a=t.As,c=0;c<a.length;c++){var f=AN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.vs.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else en(t)&&(s=bN(t));if(s)return[s]}function bN(t){var n,i;if(en(t))_N(n=s.createElement("text"),t.Ls);else if(rn(t))switch(t.vs.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",TN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),TN(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",TN(n,t)}return n}function TN(t,n){var i=n.Ns(Ww,"id");i&&(t.id=i)}function EN(t,n,i,r){RN(t,n.style,i,r),l.keys(n).forEach(function(i){yN[i]&&yN[i](n[i],t)})}function SN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.As.length>0?t.As[0]:null;return n&&en(n)?"data:image/png;base64,"+n.Ls:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Is("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.Is("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function RN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(e){var s=Gw(e,["ebutts","tts","xml"]);"style"===s.toLowerCase()?RN(t,i[n][e],i,r):yN[s]&&yN[s](i[n][e],t,r)})})}function IN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var NN,CN,DN=void 0;function ON(t,n){for(var i,r=NN.cz,e="",s=[],u=t.charAt(n.kh),o="",h={co:CN.fz,bs:"",vz:[]};n.kh<t.length+1;){switch(u=n.kh<t.length?t.charAt(n.kh):"EOF",r){case NN.cz:switch(u){case"&":var a=t.substr(n.kh).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],DN||(DN=kr.document.createElement("textarea")),DN.innerHTML=i,DN.value),n.wh(a[0].length-1)):e+="&";break;case"<":if(e)return{co:CN.dz,Nw:e};r=NN.lz;break;case"EOF":return{co:CN.dz,Nw:e};default:e+=u}break;case NN.lz:switch(u){case"\t":case"\n":case"\f":case" ":r=NN._z;break;case".":r=NN.gz;break;case"/":r=NN.wz;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=u,r=NN.yz;break;case">":return n.wh(1),h;case"EOF":return h;default:e=u,r=NN.mz}break;case NN.mz:switch(u){case"\t":case"\f":case" ":r=NN._z;break;case"\n":o=u,r=NN._z;break;case".":r=NN.gz;break;case">":return n.wh(1),{co:CN.fz,bs:e,vz:[]};case"EOF":return{co:CN.fz,bs:e,vz:[]};default:e+=u}break;case NN.gz:switch(u){case"\t":case"\f":case" ":s.push(o),o="",r=NN._z;break;case"\n":s.push(o),o=u,r=NN._z;break;case".":s.push(o),o="";break;case">":return n.wh(1),s.push(o),{co:CN.fz,bs:e,vz:s};case"EOF":return s.push(o),{co:CN.fz,bs:e,vz:s};default:o+=u}break;case NN._z:switch(u){case"&":r=NN.kz;break;case">":n.wh(1);var c=o.trim();return c=c.replace(/\s/," "),{co:CN.fz,bs:e,vz:s,pz:c};default:o+=u}break;case NN.kz:for(var f="",v=n.kh;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=NN._z;break;case NN.wz:switch(u){case">":return n.wh(1),{co:CN.Az,bs:e};case"EOF":return{co:CN.Az,bs:e};default:e+=u}break;case NN.yz:switch(u){case">":return n.wh(1),{co:CN.bz,Tz:e};case"EOF":return{co:CN.bz,Tz:e};default:e+=u}}n.wh(1)}}!function(t){t.cz="Data",t.lz="Tag",t.mz="StartTag",t.gz="StartTagClass",t._z="StartTagAnnotation",t.kz="CharRefInAnnotation",t.wz="EndTag",t.yz="TimestampTag"}(NN||(NN={})),function(t){t.dz="string",t.fz="starttag",t.Az="endtag",t.bz="timestamp"}(CN||(CN={}));var xN,PN,BN={lB:fN.WHITE,dB:"sans-serif",_B:"100%",gB:"rgba(0,0,0,0.8)",wB:fN.TRANSPARENT,yB:"none",mB:"visible"},LN="theoplayer-webvtt-region-",MN="theoplayer-webvtt-styling-",UN="theoplayer-webvtt-voice-",FN=5.23,HN=1.14,VN=0,XN=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,BN)||this).Ez={},s.Sz=jN(3),s}F(n,t);var i=n.prototype;return i.Wq=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Cr(n),Ir(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.sz.dB,n.style.whiteSpace="pre-line",n},i.Xq=function(t,n){for(var i=n/100,r=t/100,e=_.min(i,r),s=aN(this.sz),u=0,o=l.keys(this.Rz);u<o.length;u++){var h=o[u],a=this.Rz[h].Iz;this.Nz(a,e,s,this.Rz[h].Bw)}this.Nz(this.Cz,e,s),this.Dz()},i.Dz=function(){var t=aN(this.sz);this.Cz.style.padding=t>=1.5?"0":1/t+"em"},i.nz=function(t){var n=this.GS,i=this.zB.$D/100,r=this.Cz;t.Bw&&(this.Rz[t.Bw.Zl]||(this.Rz[t.Bw.Zl]={Bw:t.Bw,Iz:QN(t.Bw,i)}),r=this.Rz[t.Bw.Zl].Iz),n.querySelector("."+r.className)||n.appendChild(r);var e=this.iz(t);r.children.length>=1&&t.Bw&&"up"===t.Bw.Kw&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var s=0;s<e.length;s++){var u=e[s];u.className=t.Qw,r.appendChild(u)}},i.iz=function(t){var n=[];return t&&n.push(this.Oz(t)),n},i.Oz=function(t){for(var n=new Gu,i=t.Nw,r=this.xz(t),e=r,u="",o=[],h={};n.kh<i.length;){var a=ON(i,n);if(a.co===CN.dz){var c=this.Pz(a.Nw);WN(c,h),e.appendChild(c)}else if(a.co===CN.fz){switch(h[a.bs.toLowerCase()]||(h[a.bs.toLowerCase()]=[]),h[a.bs.toLowerCase()].push(a),a.bs.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(a.pz)}u=a.bs||""}else if(a.co===CN.Az){h[a.bs.toLowerCase()]&&h[a.bs.toLowerCase()].pop(),(!a.bs||"C"!==a.bs.toUpperCase()&&"V"!==a.bs.toUpperCase())&&("LANG"===a.bs.toUpperCase()?o.pop():"RUBY"===a.bs.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===a.bs.toUpperCase()&&(e=e.parentNode)),u=a.bs||""}else if(a.co===CN.bz){var g=a.Tz,w=new Gu;try{dw(g,w)}catch(t){gt("ERROR collecting timestamp",t)}}}return r},i.Pz=function(t){var n=s.createElement("span");return _N(n,t),n.style.background=this.sz.gB,n.style.color=this.sz.lB,n},i.Nz=function(t,n,i,r){if(r){var e=qN(r,n);t.style.height=e*i+"px",t.style.left=zN(r)+"%",t.style.top=GN(r,n)+"px"}t.style.fontSize=FN*n*i+"px"},i.xz=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Cw,function(t,n){"rl"===n.Mw?t.style.writingMode="vertical-rl":"lr"===n.Mw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=fg(n);YN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=cg(n),s=ag(n),u=fg(n);YN(n)?("line-left"===e?i=s:"center"===e?i=s-u/2:"line-right"===e&&(i=s-u),r=n.Lw?0:hg(n)):("line-left"===e?r=s:"center"===e?r=s-u/2:"line-right"===e&&(r=s-u),i=n.Lw?0:hg(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.sz.wB,n.style.color=this.sz.lB,n.style.textShadow=dN(this.sz.yB),n},i.rz=function(t){for(var n=t.Qw,i=this.GS,r=i.children,e=0;e<r.length;e++){for(var s=r[e].getElementsByClassName(n),u=0;u<s.length;u++)r[e].removeChild(s[u]);if(0===r[e].childNodes.length){for(var o=0,h=l.keys(this.Rz);o<h.length;o++){var a=h[o];if(Ne(r[e].className,LN+a)){delete this.Rz[a];break}}i.removeChild(r[e])}}},M(n,[{key:"Rz",get:function(){return this.Ez||(this.Ez={}),this.Ez}},{key:"Cz",get:function(){return this.Sz||(this.Sz=jN(3)),this.Sz}},{key:"Jq",get:function(){return"theoplayer-webvtt-cue-"+VN++}}]),n}(vN);function WN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.vz)for(var s=0,u=e.vz;s<u.length;s++){var o=u[s];Rr(t,MN+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.pz&&Rr(t,UN+c.pz)}}function qN(t,n){return t.Zw*(FN*n)*HN}function zN(t){return t.ty-t.Jw*t.yu/100}function GN(t,n){var i=t.ny,r=t.$w*qN(t,n)/100;return _.max(0,i-r)}function jN(t){var n=s.createElement("div");return n.className=LN+"default",Cr(n),Ir(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=FN*t+"px",n.style.lineHeight=HN+"em",n}function QN(t,n){var i=jN(n);i.className=LN+t.Zl;var r=t.yu,e=qN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=zN(t)+"%",i.style.top=GN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function YN(t){return""===t.Mw}!function(t){t[t.Bz=0]="Bz",t[t.Lz=1]="Lz",t[t.Mz=2]="Mz",t[t.Uz=3]="Uz",t[t.Fz=4]="Fz",t[t.Hz=5]="Hz"}(xN||(xN={})),function(t){t[t.Vz=0]="Vz",t[t.Xz=1]="Xz",t[t.Wz=2]="Wz",t[t.qz=3]="qz"}(PN||(PN={}));var ZN=15,JN=32,$N=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),KN=function(){function t(){this.zz=[],this.Gz=0,this.jz=void 0;for(var t=0;t<JN;t++)this.zz.push(null);this.jz=!1}var n=t.prototype;return n.Qz=function(t){for(var n=0;n<JN;n++)t&&(this.zz[n]=t.zz[n])},n.Gw=function(t){for(var n=0;n<JN;n++)if(this.zz[n]!==t.zz[n])return!1;return!0},n.Yz=function(){for(var t=0;t<JN;t++)if(null!==this.zz[t])return!1;return!0},n.Zz=function(t){this.Gz!==t&&(this.Gz=t),this.Gz<0?this.Gz=0:this.Gz>JN&&(this.Gz=JN-1)},n.Jz=function(t){var n=this.Gz+t;this.Zz(n)},n.$z=function(){this.Jz(-1),this.zz[this.Gz]=null},n.Kz=function(t){t>=144&&this.$z();var n,i=$N[n=t]?String.fromCharCode($N[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Gz>=JN||(32===Number(t)?(this.zz[this.Gz]=this.jz?"</i>":"<i>",this.jz=!this.jz):this.zz[this.Gz]=t,this.Jz(1))},n.tG=function(t){for(var n=t;n<JN;n++)this.zz[n]=null},n.lh=function(){this.tG(0),this.Gz=0},n.nG=function(){this.tG(this.Gz)},n.iG=function(t,n){for(var i=this.zz,r=null,e=0;e<JN;e++){var s=i[e];null===s?r=null:(r||(r={rG:e,eG:t,yu:0,Mp:1,zz:[[]]},n.push(r)),r.zz[0].push(s),r.yu++)}},n.Sm=function(t,n){return t.sG(this.zz,n)},t}();var tC=function(){function t(){this.uG=void 0,this.oG=void 0,this.hG=null,this.uG=[];for(var t=0;t<ZN;t++)this.uG.push(new KN);this.oG=ZN-1,this.Ul()}var n=t.prototype;return n.Qz=function(t){for(var n=0;n<ZN;n++)this.uG[n].Qz(t.uG[n])},n.Gw=function(t){for(var n=!0,i=0;i<ZN;i++)if(!this.uG[i].Gw(t.uG[i])){n=!1;break}return n},n.Yz=function(){for(var t=!0,n=0;n<ZN;n++)if(!this.uG[n].Yz()){t=!1;break}return t},n.Ul=function(){for(var t=0;t<ZN;t++)this.uG[t].lh();this.oG=ZN-1},n.Kz=function(t){this.uG[this.oG].Kz(t)},n.aG=function(){this.uG[this.oG].$z()},n.nG=function(){this.uG[this.oG].nG()},n.cG=function(){if(null!==this.hG){var t=this.oG+1-this.hG,n=this.uG[t];n&&(Ze(this.uG,t),n.lh(),this.uG.splice(this.oG,0,n))}},n.Jz=function(t){this.uG[this.oG].Jz(t)},n.fG=function(t){this.hG=t},n.vG=function(t){var n=t.dG;this.hG&&n<this.hG-1&&(n=this.hG-1),this.oG=n;var i=this.uG[this.oG];null!==t.lG&&i.Zz(t.lG)},n._G=function(){for(var t=this.uG,n=[],i=0;i<t.length;i++){t[i].iG(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,s=n[r],u=n.length-1;u>r;){var o=n[u];iC(s,o)&&(s=nC(s,o),Ze(n,u),e=!0),u--}e&&(n[r]=s,r--)}return n.map(rC)},n.Sm=function(t){return t.gG(this.uG)},t}();function nC(t,n){for(var i=_.min(t.rG,n.rG),r=_.min(t.eG,n.eG),e=_.max(t.rG+t.yu,n.rG+n.yu)-i,s=_.max(t.eG+t.Mp,n.eG+n.Mp)-r,u=new Array(s),o=0;o<s;o++){var h=new Array(e),a=t.zz[o+r-t.eG];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.rG]=a[c]);var f=n.zz[o+r-n.eG];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.rG]=f[v]);u[o]=h}return{rG:i,eG:r,yu:e,Mp:s,zz:u}}function iC(t,n){return t.rG<=n.rG+n.yu&&n.rG<=t.rG+t.yu&&t.eG<=n.eG+n.Mp&&n.eG<=t.eG+t.Mp}function rC(t){for(var n=new Array(t.Mp),i=t.zz,r=0;r<i.length;r++){for(var e=i[r],s=[],u=!1,o=0;o<e.length;o++){var h=e[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[r]=s.join("")}var a=n.join("\n");return{rG:t.rG,eG:t.eG,yu:t.yu,Mp:t.Mp,Nw:a}}var eC=function(){function t(t,n){this.dG=t,this.lG=n}return t.prototype.Gw=function(t){return this.dG===t.dG&&this.lG===t.lG},t}(),sC=function(){function t(t){this.wG=void 0,this.yG=void 0,this.mG=t,this.wG=this.kG(),this.yG=this.pG()}var n=t.prototype;return n.kG=function(){for(var t=new eC(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.AG;n<i.length;n++){var r=i[n],e=_.min(t.dG,r.bG.dG),s=_.min(t.lG,r.bG.lG);t=new eC(e,s)}return t},n.pG=function(){for(var t=new eC(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.AG;n<i.length;n++){var r=i[n],e=_.max(t.dG,r.TG.dG),s=_.max(t.lG,r.TG.lG);t=new eC(e,s)}return t},M(t,[{key:"bG",get:function(){return this.wG}},{key:"TG",get:function(){return this.yG}},{key:"AG",get:function(){return Ke(this.mG.map(function(t){return t.AG}))}}]),t}(),uC=function(){function t(t,n){this.EG="",this.kB=t,this.wG=n}var n=t.prototype;return n.Kz=function(t){this.EG+=t},n.SG=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Kz(i)}},M(t,[{key:"RG",get:function(){return this.EG}},{key:"AG",get:function(){return[this]}},{key:"IG",get:function(){return this.kB}},{key:"bG",get:function(){return this.wG}},{key:"TG",get:function(){return new eC(this.bG.dG,this.bG.lG+this.RG.length-1)}}]),t}(),oC=function(){function t(){}var n=t.prototype;return n.NG=function(t){return t.Sm(this)},n.gG=function(t){var n=this;return Ke(t.map(function(t,i){return t.Sm(n,i)}))},n.sG=function(t,n){return new hC(t,n).CG()},t}(),hC=function(){function t(t,n){this.DG=[],this.OG=null,this.dG=t,this.xG=n}var n=t.prototype;return n.CG=function(){if(this.PG)return[];for(var t=0;t<this.dG.length;t++)this.BG(t);return this.LG(),this.DG},n.MG=function(t){this.OG=new uC(gC,new eC(this.xG,t))},n.LG=function(){this.OG&&(this.DG.push(this.OG),this.OG=null)},n.BG=function(t){var n=this.dG[t];aC(n)?this.OG&&this.LG():(this.OG||this.MG(t),this.OG.Kz(n))},M(t,[{key:"PG",get:function(){return this.dG.every(aC)}}]),t}();function aC(t){return null==t}var cC,fC=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return F(n,t),n}(sg),vC=function(t){function n(n,i){var r;return(r=t.call(this,"FG")||this).UG=n,r.Sw=i,r}return F(n,t),n}(Ss);!function(t){t[t.UR=0]="UR",t[t.HG=1]="HG",t[t.VG=2]="VG",t[t.XG=3]="XG",t[t.es=4]="es"}(cC||(cC={}));var dC,lC=function(t){function n(){var n;return(n=t.call(this)||this).nm=0,n.Rw=0,n.WG=void 0,n.qG=void 0,n.zG=void 0,n.GG=void 0,n.h_=cC.UR,n.WG=new tC,n.qG=new tC,n.zG=new tC,n.GG=n.WG,n}F(n,t);var i=n.prototype;return i.Kz=function(t){this.GG.Kz(t),this.h_!==cC.HG&&this.h_!==cC.VG||this.jG()},i.EN=function(t){t!==this.h_&&(this.h_=t,this.h_===cC.XG?this.GG=this.qG:(this.GG=this.WG,this.GG.Ul()),this.h_!==cC.VG&&(this.WG.fG(null),this.qG.fG(null)))},i.vG=function(t){this.GG.vG(t)},i.QG=function(){this.EN(cC.XG)},i.YG=function(){this.h_!==cC.es&&(this.GG.aG(),this.GG===this.WG&&this.jG())},i.ZG=function(){},i.JG=function(){},i.$G=function(){this.GG.nG(),this.jG()},i.KG=function(t){this.GG=this.WG,this.EN(cC.VG),this.GG.fG(t)},i.tj=function(){},i.nj=function(){this.EN(cC.HG)},i.ij=function(){this.EN(cC.es)},i.rj=function(){this.EN(cC.es)},i.ej=function(){this.WG.Ul(),this.jG()},i.sj=function(){this.GG.cG(),this.jG()},i.uj=function(){this.qG.Ul()},i.oj=function(){if(this.h_===cC.XG){var t=this.WG;this.WG=this.qG,this.qG=t,this.GG=this.qG}this.jG()},i.hj=function(t){this.GG.Jz(t)},i.jG=function(){if(null!==this.nm){if((null===this.Rw||0===this.Rw)&&!this.WG.Yz())this.Rw=this.nm;else if(!this.WG.Gw(this.zG)){var t=this.aj();if(this.nm>this.Rw){var n=new fC(this.Rw,this.nm,t);this.Vo(new vC(1,n))}this.Rw=this.WG.Yz()?null:this.nm}this.zG.Qz(this.WG)}},i.aj=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return _.abs(t.TG.lG-n.bG.lG)<=1||_.abs(n.TG.lG-t.bG.lG)<=1||_.abs(t.TG.dG-n.bG.dG)<=1||_.abs(n.TG.dG-t.bG.dG)<=1}(o=r,h=u)||function(t,n){return _C(t.bG.dG,t.TG.dG,n.bG.dG,n.TG.dG)&&_C(t.bG.lG,t.TG.lG,n.bG.lG,n.TG.lG)}(o,h))&&(r=new sC([].concat(r.AG,u.AG)),Ye(i,u),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new oC).NG(this.zG))},i.Ul=function(){this.nm=0,this.Rw=0,this.WG.Ul(),this.WG.fG(null),this.qG.Ul(),this.qG.fG(null),this.zG.Ul(),this.zG.fG(null),this.GG=this.WG,this.h_=cC.UR},n}(Ts);function _C(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(dC||(dC={}));var gC={lB:fN.WHITE,dB:cN.hz,_B:"100%",gB:fN.BLACK,wB:"transparent",yB:"none",cj:dC.FONT_REGULAR,mB:"visible"},wC=[{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:0},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.GREEN,cj:dC.FONT_REGULAR,lG:0},{fj:fN.GREEN,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.BLUE,cj:dC.FONT_REGULAR,lG:0},{fj:fN.BLUE,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.CYAN,cj:dC.FONT_REGULAR,lG:0},{fj:fN.CYAN,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.RED,cj:dC.FONT_REGULAR,lG:0},{fj:fN.RED,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.YELLOW,cj:dC.FONT_REGULAR,lG:0},{fj:fN.YELLOW,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.MAGENTA,cj:dC.FONT_REGULAR,lG:0},{fj:fN.MAGENTA,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.WHITE,cj:dC.FONT_ITALICS,lG:0},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE_ITALICS,lG:0},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:0},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:0},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:4},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:4},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:8},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:8},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:12},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:12},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:16},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:16},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:20},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:20},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:24},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:24},{fj:fN.WHITE,cj:dC.FONT_REGULAR,lG:28},{fj:fN.WHITE,cj:dC.FONT_UNDERLINE,lG:28}],yC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],mC=function(t){function n(){var n;(n=t.call(this)||this).vj=void 0,n.dj=null,n.lj=null,n._j=0;var i=new lC;return n.vj=[i,new lC],i.Xo("FG",n.Ho),n}F(n,t);var i=n.prototype;return i.Ul=function(){for(var t=0,n=this.vj;t<n.length;t++){n[t].Ul()}},i.gj=function(t,n){if(n.co===PN.Vz&&n.wj){n.yj&&(this._j=0),this.vj[this._j].nm=t;var i=127&n.mj,r=127&n.kj;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.pj(),r>=48&&r<=63&&this.Aj(i,r);break;case 18:case 19:r>=32&&r<=63&&this.Aj(i,r);break;case 20:case 21:r>=32&&r<=47&&this.bj(i,r);break;case 23:r>=33&&r<=35&&this.bj(i,r),r>=46&&r<=47&&this.pj()}16===i&&r>=64&&r<=95?this.Tj(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.Tj(i,r),i>=32&&this.Aj(i,r)}}},i.bj=function(t,n){var i=null;if(t===this.dj&&n===this.lj)return this.dj=null,this.lj=null,!0;i=20===t||23===t?0:1;var r=this.vj[i];return 20===t||28===t?32===n?r.QG():33===n?r.YG():34===n?r.ZG():35===n?r.JG():36===n?r.$G():37===n?r.KG(2):38===n?r.KG(3):39===n?r.KG(4):40===n?r.tj():41===n?r.nj():42===n?r.ij():43===n?r.rj():44===n?r.ej():45===n?r.sj():46===n?r.uj():47===n&&r.oj():r.hj(n-32),this.dj=t,this.lj=n,this._j=i,!0},i.Tj=function(t,i){t===this.dj&&i===this.lj&&(this.dj=null,this.lj=null);var r=t<=23?0:1,e=yC[t<<1&14|i>>5&1]-1;if(!(e<0)){var s=n.Ej(e,i);this.vj[r].vG(s),this.dj=t,this.lj=i,this._j=r}},n.Ej=function(t,n){var i=n>95?n-96:n-64;return{fj:wC[i].fj,cj:wC[i].cj,lG:wC[i].lG,dG:t}},i.Aj=function(t,n){var i=t>=25?t-8:t,r=this.vj[this._j],e=!1;switch(i){case 17:r.Kz(n+80),e=!0;break;case 18:r.Kz(n+112),e=!0;break;case 19:r.Kz(n+144),e=!0;break;default:t>=32&&(r.Kz(t),n>=32&&r.Kz(n),e=!0)}e&&(this.dj=null,this.lj=null)},i.pj=function(){this.vj[this._j].GG.Jz(1)},i.qv=function(){this.zo()},M(n,[{key:"oA",get:function(){return this.vj.length}}]),n}(Ts),kC=function(){function t(t,n,i){this.Sj=void 0,this.Rj=t,this.Ij=n,this.Nq=i}var n=t.prototype;return n.Nj=function(){return this.Sj=this.Cj(),this.Dj(),this.Oj(),this.Sj},n.Cj=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.xj/JN*this.Ij.Pj*100+"%",t.style.height=1.2*this.Bj+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Ij.Lj?"calc(1em - 1ch)":"",t.style.fontFamily=this.Nq.dB,t.style.backgroundColor=this.Nq.wB,t},n.Dj=function(){var t=this.Mj.dG/ZN*100,n=this.Mj.lG/JN*100,i=(JN-this.Uj.lG-1)/JN*100,r=(ZN-this.Uj.dG-1)/ZN*100;this.Ij.Fj||(n=i=1,this.Sj.style.width="98%"),r<t?this.Sj.style.bottom=r*this.Ij.Pj+"%":this.Sj.style.top=t*this.Ij.Pj+"%",i<n?this.Sj.style.right=i+"%":this.Sj.style.left=n+"%"},n.Oj=function(){for(var t=this.Rj.AG.sort(pC),n=0;n<t.length;n++)this.Hj(t[n-1],t[n]),this.Vj(t[n]);this.Hj(t[t.length-1],null)},n.Vj=function(n){var i=hN(this.Nq,n.IG),r=t.Xj(i);_N(r,n.RG),this.Sj.appendChild(r)},t.Xj=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.cj!==dC.FONT_ITALICS&&t.cj!==dC.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.cj!==dC.FONT_UNDERLINE&&t.cj!==dC.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.lB,n.style.backgroundColor=t.gB,n.style.textShadow=dN(t.yB),n.style.height="1.2em",n},n.Hj=function(t,n){var i=t?t.TG.dG:this.Rj.bG.dG,r=n?n.bG.dG:this.Rj.TG.dG,e=t?t.TG.lG:this.Rj.bG.lG,s=n?n.bG.lG:this.Rj.TG.lG;i<r&&(!n||t&&t.bG.dG!==n.bG.dG?this.Wj():this.qj(this.Rj.TG.lG-e),e=this.Rj.bG.lG),e<s&&(n?this.qj(s-e):this.Wj())},n.Wj=function(){var t=s.createElement("br");this.Sj.appendChild(t)},n.qj=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",_N(n,xe(" ",t)),this.Sj.appendChild(n)}},M(t,[{key:"Mj",get:function(){return this.Rj.bG}},{key:"Uj",get:function(){return this.Rj.TG}},{key:"xj",get:function(){return this.Rj.TG.lG-this.Rj.bG.lG+1}},{key:"Bj",get:function(){return this.Rj.TG.dG-this.Rj.bG.dG+1}}]),t}();function pC(t,n){return function(t,n){if(t.dG!==n.dG)return t.dG-n.dG;return t.lG-n.lG}(t.bG,n.bG)}var AC=0;var bC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,gC)||this).zj=void 0,s.Gj=void 0,s}F(n,t);var i=n.prototype;return i.Wq=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.sz.dB&&(n.style.fontFamily=this.sz.dB),n},i.Xq=function(t,n){this.jj()},i.jj=function(){var t,n=aN(this.sz);this.Gj={Pj:(t=100*n)/100,Lj:t<=100,Fj:t<=150};var i=this.Qj/JN;this.zj=i*n,this.GS.style.fontSize=this.zj+"px"},i.iz=function(t){var n=this;return this.Gj&&this.Gj.Fj?this.Yj(80):this.Yj(100),this.jj(),t.Nw.map(function(t){return new kC(t,n.Gj,n.sz).Nj()})},i.Yj=function(t){var n=(100-t)/2;this.GS.style.left=n+"%",this.GS.style.width=t+"%"},M(n,[{key:"Qj",get:function(){var t=this.GS.offsetWidth;return this.Gj&&this.Gj.Fj||(t*=.8),t}},{key:"Jq",get:function(){return"theoplayer-cea608-texttrack-"+AC++}}]),n}(vN),TC=function(){function t(t,n,i,r,e){var s=this;this.Zj=void 0,this.MX=void 0,this.wg=void 0,this.Jj=void 0,this.$j=[],this.YI=void 0,this.Kj=function(t){var n=t.fl;n.Xo(Td.Tl,s.tQ),n.Xo(Td.Sl,s.tQ),n instanceof mI&&(n.lV=s.lV),s.nQ(n)},this.tQ=function(t){var n=t.fl;s.nQ(n)},this.iQ=function(t){var n=t.fl;n.Go(Td.Tl,s.tQ),n.Go(Td.Sl,s.tQ),s.rQ(n)},this.eQ=function(){for(var t=s.lV,n=0,i=s.wg.Fl;n<i.length;n++){var r=i[n];r instanceof mI&&(r.lV=t)}},this.sQ=function(){for(var t=0,n=s.$j;t<n.length;t++){n[t].zq(s.YI)}},this.uQ=function(){for(var t=0,n=s.$j;t<n.length;t++){var i=n[t];i.zq(ne({},i.jq(),{mB:"hidden"}))}},this.oQ=function(){for(var t=0,n=s.$j;t<n.length;t++){var i=n[t];i.zq(ne({},i.jq(),{mB:"visible"}))}},this.Zj=t,this.MX=n,this.wg=i,this.Jj=e,this.YI=r,this.wg.Xo(kd.il,this.Kj),this.wg.Xo(kd.ul,this.iQ),this.wg.Xo("bl",this.tQ),this.Jj.Xo(rA.Al,this.eQ),this.YI.Xo("bl",this.sQ),this.eQ()}var n=t.prototype;return n.hQ=function(t){for(var n=0,i=this.$j;n<i.length;n++){var r=i[n];if(r.fl===t)return r}},n.aQ=function(t){switch(t.co){case X_.TTML:case X_.SRT:case X_.WEBVTT:case X_.CEA608:return!0}return!1},n.cQ=function(t){switch(t.co){case X_.TTML:return new pN(t,this.Zj,t.Kl,this.MX);case X_.SRT:case X_.WEBVTT:return new XN(t,this.Zj,t.Kl,this.MX);case X_.CEA608:return new bC(t,this.Zj,t.Kl,this.MX)}},n.fQ=function(t){var n=this.hQ(t);n||((n=this.cQ(t)).zq(this.YI),this.$j.push(n),t.h_===Kd.s_&&n.$q())},n.rQ=function(t){for(var n=this.$j,i=n.length-1;i>=0;i-=1){var r=n[i];r.fl===t&&(r.qv(),Ze(n,i))}},n.nQ=function(t){var n;(n=t.$l)!==oy.Rk&&n!==oy.Mb||!this.aQ(t)||(t.a_===V_.ERROR?this.rQ(t):this.fQ(t))},n.Ul=function(){for(var t=0,n=this.$j;t<n.length;t++){var i=n[t];i.fl.Go(Td.Tl,this.tQ),i.fl.Go(Td.Sl,this.tQ),i.qv()}$e(this.$j)},n.qv=function(){this.Ul();for(var t=0,n=this.$j;t<n.length;t++){n[t].qv()}this.wg.Go(kd.il,this.Kj),this.wg.Go(kd.ul,this.iQ),this.wg.Go("bl",this.tQ),this.Jj.Go(rA.Al,this.eQ),this.YI.Go("bl",this.sQ)},M(t,[{key:"lV",get:function(){return this.Jj.UI}}]),t}();function EC(t){var n=new DT,i=function(t){var n=[];return NT.kO(t)&&n.push(new NT(t)),CT.kO(t)&&n.push(new CT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.EO(e)}n.TO(i[0])}return n}var SC,RC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e)||this).vQ=void 0,s.dQ=void 0,s.lQ=void 0,s.lQ=EC(n),s.vQ=new oN,s.dQ=new TC(s.vQ.Qg,s.zB,s.bg,s.jB,s.sR),s}F(n,t);var i=n.prototype;return i.Ug=function(){return this.Ba},i.Ro=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.lQ.qv(),this.vQ.qv(),this.dQ.qv(),n.next=5,t.prototype.Ro.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Mg=function(){t.prototype.Mg.call(this),this.vQ.Mg()},i.Lg=function(){t.prototype.Lg.call(this),this.vQ.Lg()},i.bq=function(n){t.prototype.bq.call(this,n),this.vQ.bq(n)},M(n,[{key:"GS",get:function(){return this.Ba}},{key:"tg",get:function(){return this.Ba.videoHeight}},{key:"ng",get:function(){return this.Ba.videoWidth}},{key:"sR",get:function(){return this.lQ}}]),n}($I);!function(t){t._Q="HELLO",t.gQ="HI_THERE",t.wQ="INITIALIZE",t.yQ="APPEND_INIT",t.mQ="APPEND_DATA",t.kQ="ACK",t.pQ="REMOVE",t.AQ="DESTROY_SESSION"}(SC||(SC={}));var IC=function(){function t(){this.$s=void 0,this.xa=void 0,this.pL=new YE}var n=t.prototype;return n.bQ=function(t){var n=this;return this.pL.cL(function(){var t=E.coroutine(te.mark(function t(i){var r,e,s,u,h,a;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(i),r=new MessageChannel,e=r.port1,s=r.port2,o.serviceWorker.controller){t.next=7;break}return t.next=7,yd(o.serviceWorker,"install",i);case 7:if("activated"===o.serviceWorker.controller.state){t.next=10;break}return t.next=10,yd(o.serviceWorker.controller,"activate",i);case 10:return u={kind:SC._Q,port:s},o.serviceWorker.controller.postMessage(u,[s]),e.start(),n.$s=e,t.prev=15,t.next=18,yd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===SC.gQ){t.next=23;break}throw new v("Could not set up message channel");case 23:n.xa=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),os(t.t0)&&n.TQ(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.EQ=function(t,n){var i=this;return this.$s,this.pL.cL(E.coroutine(te.mark(function r(){var e;return te.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.$s){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.$s.postMessage(t,n),r.next=7,yd(i.$s,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.SQ=function(){var t=this;return this.pL.cL(function(){return t.TQ()})},n.TQ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.$s){var t={kind:SC.AQ};this.$s.postMessage(t),this.$s.close(),this.$s=void 0}},t}(),NC=function(){function t(){this.RQ=Ag.vm}var n=t.prototype;return n.IQ=function(t,n){var i=t.py(n);this.RQ=i.hy(this.NQ)?this.RQ:i},n.CQ=function(t){this.RQ=t},M(t,[{key:"NQ",get:function(){return this.RQ}}]),t}(),CC=function(t){function n(n,i){var r;return(r=t.call(this)||this).DQ=void 0,r.OQ=void 0,r.xQ=void 0,r.pL=new YE,r.PQ=!1,r.BQ=!1,r.pD=n,r.LQ=i,r}F(n,t);var i=n.prototype;return i.vF=function(t,n){},i.dF=function(t,n){},i.$L=function(){return this.BQ},i.lF=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.QU=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.MU=function(){var t=E.coroutine(te.mark(function t(i,r,e){var s,u,o=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.co===yS.rM){t.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return s=i.Ls,u=function(){var t=E.coroutine(te.mark(function t(){var i,r,e,u,h,a,c;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Fw.op(new DataView(s.buffer)),(r=Ow(i,qg.dk)).length){t.next=4;break}throw new v("Moof boxes not found");case 4:return e=o.xQ,u=n.MQ(r,e),h=o.UQ(r,e),a=s.buffer,c={kind:SC.mQ,mimeType:o.pD,segment:s,startPts:Cg.ym(u).Sm(),totalDuration:Cg.ym(h).Sm()},t.next=11,o.LQ.EQ(c,[a]);case 11:void 0===o.DQ&&(o.DQ=u),void 0===o.OQ&&(o.OQ=u),o.OQ=o.OQ.hw(h),o.Vo(new Ss(dS.nM));case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.pL.cL(function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(n),t.prev=1,o.PQ=!0,t.next=5,u();case 5:return t.prev=5,o.PQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),e));case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.HU=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.co===yS.rM){t.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Ls,e=function(){var t=E.coroutine(te.mark(function t(){var n,i,e,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Fw.op(new DataView(r.buffer)),i=Dw(n,qg.Hm)){t.next=4;break}throw new v("Moov Box not found");case 4:if(0!==i.pp.length){t.next=6;break}throw new v("Tracks not found");case 6:return s.xQ=i.pp[0].Cp.Kk.im,e=r.buffer,u={kind:SC.yQ,mimeType:s.pD,segment:r},t.next=11,s.LQ.EQ(u,[e]);case 11:s.Vo(new Ss(dS.nM));case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.pL.cL(function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(n),t.prev=1,s.PQ=!0,t.next=5,e();case 5:return t.prev=5,s.PQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),i));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.oF=function(){this.BQ=!0},i.rF=function(){this.BQ=!1},i.Xh=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={kind:SC.pQ,mimeType:s.pD,endTime:Cg.lm(i).Sm()},t.next=3,s.LQ.EQ(n);case 3:s.DQ=void 0,s.OQ=void 0,s.Vo(new Ss(dS.nM));case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.pL.cL(function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(n),t.prev=1,s.PQ=!0,t.next=5,e();case 5:return t.prev=5,s.PQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zL=function(t){return this.pD===t.tv},i.GL=function(t){return this.pD=t.tv,E.resolve()},n.MQ=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.pp.length)throw new v("No tracks");if(!i.pp[0].QA)throw new v("No decode time");return new Ag(i.pp[0].QA.QA.toNumber(),n)},i.UQ=function(t,n){var i=0;return t.forEach(function(t){t.pp.forEach(function(t){t.jA.forEach(function(t){t.nb.forEach(function(t){var n;i+=null!=(n=t.G_)?n:0})})})}),new Ag(i,n)},i.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),t.next=3,this.pL.qv();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Gg",get:function(){return void 0===this.DQ||void 0===this.OQ?sA.LI():new sA([this.DQ.cm,this.OQ.cm])}},{key:"Jh",get:function(){return{tv:this.pD}}},{key:"gD",get:function(){return this.pD}},{key:"gF",get:function(){return sA.LI()}},{key:"Rx",get:function(){return 30},set:function(t){}},{key:"Dx",get:function(){return 30},set:function(t){}},{key:"NO",get:function(){return this.PQ}},{key:"FQ",get:function(){return this.DQ}},{key:"Iw",get:function(){return this.OQ}}]),n}(Ts),DC=function(){function t(t,n){this.ba=void 0,this.GF=void 0,this.jF=void 0,this.ba=t,this.jF=je(n,function(t){return Boolean(t.gD.match(/video/))}),this.GF=je(n,function(t){return Boolean(t.gD.match(/audio/))}),this.HQ()}t.VQ=function(n,i){for(var r=[],e=0;e<n.uH.length;e++){var s=n.uH[e].tv;r.push(new CC(s,i))}return new t(n,r)};var n=t.prototype;return n.HQ=function(){},n.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.all([this.GF,this.jF].filter($).map(function(t){return t.Ro()}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.iH=function(t){},n.sH=function(t,n,i,r){},n.oF=function(){var t,n;null==(t=this.GF)||t.oF(),null==(n=this.jF)||n.oF()},n.rF=function(){var t,n;null==(t=this.GF)||t.rF(),null==(n=this.jF)||n.rF()},n.zL=function(t){return t===this.ba},n.GL=function(t){return this.ba=t,E.resolve()},M(t,[{key:"XQ",get:function(){return[this.GF,this.jF].filter($)}},{key:"XF",get:function(){return this.GF}},{key:"Gg",get:function(){return jS(this)}},{key:"Jh",get:function(){return this.ba}},{key:"G_",get:function(){return 0}},{key:"$L",get:function(){var t,n,i,r,e=null==(t=null==(n=this.GF)?void 0:n.$L())||t,s=null==(i=null==(r=this.jF)?void 0:r.$L())||i;return e&&s}},{key:"sw",get:function(){return new sA([0,1/0])}},{key:"WF",get:function(){return this.jF}},{key:"Ag",get:function(){throw new v("Not implemented")}}]),t}(),OC=Ag.Cy,xC=new Ag(-1/0),PC=Ag.vm,BC=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.ay=function(t,n){return t.wy(n)?dg.sy:t.Gw(n)?dg.iy:dg.ey},i.hw=function(t,n){return t.hw(n)},i.py=function(t,n){return t.py(n)},i.gy=function(t,n){return t.gy(n)},i.aI=function(){return OC},i.cI=function(){return PC},i.lI=function(){return xC},n.OI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new Ag(t.start(r)),new Ag(t.end(r)));return new n(i)},n.WQ=function(t){for(var i=[],r=[],e=0;e<t.Hl;e++)i.push(new Ag(t.$R(e))),i.push(new Ag(t.tI(e))),r.push(t.KR(e)),r.push(t.nI(e));return new n(i,r)},n.BI=function(t){return new n([t,t],[!0,!0])},i.oI=function(t,i){return new n(t,i)},i.sI=function(t){return t.cm},n.LI=function(){return LC},n}(eA),LC=new BC([]),MC=function(t){function n(n){var i;return(i=t.call(this)||this).qQ=!0,i.LQ=new IC,i.zQ=new NC,i.kS=void 0,i.HX=void 0,i.GQ=!0,i.jQ=new Qu,i.zI=!1,i.KX=E.resolve(),i.tW=new ss,i.QQ=!0,i.iW=sA.LI(),i.lQ=void 0,i.YQ=void 0,i.vW=!1,i.SS=void 0,i.ZQ=function(){i.Z_||i.JQ.Hl<=0||i.Gg.Hl<=0||i.zQ.IQ(new Ag(i.Gg.tI(i.Gg.Hl-1)),i.JQ.tI(i.JQ.Hl-1))},i.$Q=function(){i.Vo(new Ql(i.z_))},i.KQ=function(){i.Vo(new jl(i.z_,i.jg))},i.tY=function(){i.Vo(new Gl(i.z_,i.J_))},i.nY=function(){i.Vo(new $l(i.z_,i.ig))},i.iY=function(){i.Vo(new zl(i.G_))},i.rY=function(){i.Vo(new em(i.z_))},i.eY=function(){i.yh(i.z_)},i.sY=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.QQ&&i.Vo(new Hl(i.z_)),i.GQ=!1,i.QQ=!0;case 3:case"end":return t.stop()}},t)})),i.uY=function(){i.GQ=!0,i.Vo(new Fl(i.z_))},i.YQ=n,i.HX=new iR(sn(i)),i.YQ.setAttribute("id","player_video"),i.YQ.setAttribute("x-webkit-airplay","deny"),i.YQ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.YQ.playsInline=!0,i.YQ.style.width="100%",i.YQ.style.height="100%",i.oY(),i.hY(),i.lQ=EC(i.YQ),i}F(n,t);var i=n.prototype;return i.oY=function(){this.YQ.addEventListener("timeupdate",this.ZQ),this.YQ.addEventListener("ended",this.$Q),this.YQ.addEventListener("timeupdate",this.KQ),this.YQ.addEventListener("ratechange",this.tY),this.YQ.addEventListener("volumechange",this.nY),this.YQ.addEventListener("durationchange",this.iY),this.YQ.addEventListener("playing",this.rY),this.YQ.addEventListener("seeking",this.eY),this.YQ.addEventListener("play",this.sY),this.YQ.addEventListener("pause",this.uY)},i.aY=function(){this.YQ.removeEventListener("timeupdate",this.ZQ),this.YQ.removeEventListener("ended",this.$Q),this.YQ.removeEventListener("timeupdate",this.KQ),this.YQ.removeEventListener("ratechange",this.tY),this.YQ.removeEventListener("volumechange",this.nY),this.YQ.removeEventListener("durationchange",this.iY),this.YQ.removeEventListener("playing",this.rY),this.YQ.removeEventListener("seeking",this.eY),this.YQ.removeEventListener("play",this.sY),this.YQ.removeEventListener("pause",this.uY)},i.hY=function(){this.HX.Xo(Ml.Tl,this.Ho)},i.cY=function(){this.HX.Go(Ml.Tl,this.Ho)},i.yh=function(t,n){this.tW.xo(),this.tW=new ss,this.KX=this.oq(t,this.KX,this.tW.Lo).catch(R)},i.oq=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.iW=this.rw,s=null==(e=this.kS)?void 0:e.XQ){t.next=4;break}return t.abrupt("return");case 4:return u=_.max.apply(_,s.map(function(t){return t.FQ?t.FQ.cm:1/0})),this.zI=!0,this.Vo(new Zl(n)),t.next=9,i.catch(R);case 9:if(hs(r),t.prev=10,this.qQ||this.fY(),this.YQ.load(),this.GQ){t.next=17;break}return this.QQ=!1,t.next=17,fs(this.YQ.play(),r);case 17:if(!(this.a_<ml.L_)){t.next=22;break}return t.next=20,this.HX.Zo(Ml.Tl,r);case 20:t.next=17;break;case 22:this.jQ.Eh(),this.qQ=!1,this.zI=!1,this.Vo(new Jl(this.z_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.jQ.Sh(t.t0),t.t0;case 32:return t.prev=32,this.vY(),this.zQ.CQ(new Ag(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Sg=function(){this.GQ=!0,this.YQ.pause()},i.Eg=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.GQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.YQ.src){t.next=9;break}return this.pq(),t.next=7,this.jQ.Th;case 7:t.next=11;break;case 9:return t.next=11,this.YQ.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.GQ=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.LQ&&this.LQ.SQ().catch(R),this.tW.xo(),this.aY(),this.cY(),this.HX.Ro(),this.zo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.LQ&&this.LQ.SQ().catch(R),this.tW.xo(),this.YQ.removeAttribute("src"),this.YQ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.YQ.removeAttribute("x-airplay-deny"),this.YQ.load(),this.HX.Ul(),this.iW=sA.LI();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pq=function(){this.Aq||(XC(this.YQ,T.Xu),this.vW=!0)},i.fY=function(){var t,n=this.YQ.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.YQ.videoWidth/this.YQ.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.YQ.style.width=i+"px",this.YQ.style.height=r+"px",this.YQ.style.marginLeft=(e-i)/2+"px",this.YQ.style.marginTop=(u-r)/2+"px",this.YQ.style.backgroundColor="black"}},i.vY=function(){this.YQ.style.width="100%",this.YQ.style.height="100%",this.YQ.style.marginLeft="",this.YQ.style.marginTop="",this.YQ.style.backgroundColor=""},i.rR=function(t,n,i,r){},i.jb=function(t,n,i,r,e,s){},i.JL=function(t){},i.lR=function(){return yE(this.YQ)},i.Lg=function(){this.YQ.style.display="block"},i.Mg=function(){this.YQ.style.display="none"},i.mq=function(){},i.Vh=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.co!==xy.$b){t.next=2;break}throw new v("Not yet implemented");case 2:return t.next=4,this.LQ.bQ();case 4:return i={kind:SC.wQ,mediaBufferConfigs:n.uH.map(function(t){return t.tv})},t.next=7,this.LQ.EQ(i);case 7:return this.kS=DC.VQ(n,this.LQ),this.YQ.preload="none",this.YQ.src="https://theo.proxy/"+this.LQ.xa+"/master.m3u8",t.abrupt("return",this.kS);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.kq=function(){},i.Zb=function(t){},i.uR=function(){},i.dR=function(t){},i.nR=function(){return!1},i.bq=function(t){t.appendChild(this.YQ)},i.Ug=function(){return this.YQ},i.$W=function(){},i.zg=function(){},M(n,[{key:"GS",get:function(){return this.YQ}},{key:"_H",get:function(){return!1}},{key:"z_",get:function(){return this.YQ.currentTime+this.zQ.NQ.cm}},{key:"Z_",get:function(){return this.YQ.paused}},{key:"ig",get:function(){return this.YQ.volume},set:function(t){this.YQ.volume=t}},{key:"J_",get:function(){return this.YQ.playbackRate},set:function(t){this.YQ.playbackRate=t}},{key:"dY",get:function(){return this.YQ.defaultPlaybackRate}},{key:"Gg",get:function(){var t,n;return null!=(t=null==(n=this.kS)?void 0:n.Gg)?t:sA.LI()}},{key:"JQ",get:function(){return BC.OI(this.YQ.buffered)}},{key:"rw",get:function(){var t=sA.xI(this.lY);return this.iW.wI(t.wh(this.zQ.NQ.cm))}},{key:"lY",get:function(){return BC.OI(this.YQ.played)}},{key:"K_",get:function(){return this.zI}},{key:"G_",get:function(){return this.YQ.duration}},{key:"Y_",get:function(){return this.YQ.muted},set:function(t){this.YQ.muted=t}},{key:"IG",get:function(){return this.YQ.style}},{key:"Eq",get:function(){return ne({},fS,{xL:!0,PL:300})}},{key:"a_",get:function(){return this.HX.a_}},{key:"tg",get:function(){return this.YQ.videoHeight}},{key:"ng",get:function(){return this.YQ.videoWidth}},{key:"j_",get:function(){return this.YQ.ended}},{key:"Mp",get:function(){return 0}},{key:"yu",get:function(){return 0}},{key:"Yg",get:function(){return!1}},{key:"Aq",get:function(){return this.vW}},{key:"jg",get:function(){}},{key:"zB",get:function(){}},{key:"ih",get:function(){}},{key:"sR",get:function(){return this.lQ}},{key:"sw",get:function(){return this.kS?this.kS.sw:sA.LI()}},{key:"_R",get:function(){}},{key:"bg",get:function(){}},{key:"jB",get:function(){}},{key:"uw",get:function(){return!1},set:function(t){}},{key:"Tq",get:function(){return"block"===this.YQ.style.display}},{key:"jS",get:function(){return this.SS},set:function(t){this.SS=t}},{key:"LX",get:function(){}}]),n}(Ts),UC=2,FC=[R_.Pv,R_.Bv];function HC(t){var n=s.createElement(t);return Or(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),VC(n),n}function VC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),xr(t),t.pause(),t.playbackRate=1,t.preload=Jp.MR,t.controls=!1,t.style.display="none",Or(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function XC(t,n){if(n.iu){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();st(r)&&gs(r),t.pause()}}var WC;wr=(WC={_Y:function(){function t(t,n,i,r,e){void 0===i&&(i=UC),void 0===r&&(r=FC),void 0===e&&(e=Wo()),this.gY=void 0,this.wY=void 0,this.wo=void 0,this.yY=void 0,this.MX=void 0,this.YI=void 0,this.mY=void 0,this.gY=i,this.wY=[].concat(r),this.wo=e,this.MX=t,this.YI=n,this.yY=re(),this.kY()}var n=t.prototype;return n.$I=function(t){for(var n=0,i=this.tN;n<i.length;n++){i[n].bq(t)}},n.zS=function(t){var n=je(this.yY.get(t),function(t){return t.pY});if(n)return n.pY=!1,n.AY},n.bY=function(t){if(!this.mY)throw new v("Error creating iOS Safari MediaController");return this.mY},n.aR=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.GS,r=i.tagName.toLowerCase(),t.next=4,n.Ul();case 4:VC(i),(e=je(this.yY.get(r)||[],function(t){return n===t.AY}))&&(e.pY=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.KI=function(){for(var t=0,n=this.tN;t<n.length;t++){n[t].pq()}},n.qv=function(){for(var t=0,n=this.tN;t<n.length;t++){var i=n[t],r=i.GS;i.Ro(),VC(r),Sr(r)}},n.kY=function(){for(var t=0,n=this.wY;t<n.length;t++){var i=n[t],r=[];this.yY.set(i,r);for(var e=0;e<this.gY;e++){var s=HC(i),u=i===R_.Pv?new sN(s,this.wo,this.MX):new RC(s,this.wo,this.MX,this.YI);r.push({AY:u,pY:!0})}}if(Y.Ue&&Y.pe){var o=HC(R_.Bv);this.mY=new MC(o)}},M(t,[{key:"tN",get:function(){for(var t=[],n=0,i=this.wY;n<i.length;n++){var r=i[n],e=this.yY.get(r).map(function(t){return t.AY});t.push.apply(t,e)}return this.mY&&t.push(this.mY),t}}]),t}(),TY:function(){function t(n){var i=this;this.EY=new YE,this.SY=E.coroutine(te.mark(function n(){var r,e,s;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.jI.zS(R_.Bv),e=r.GS,n.next=4,t.RY(e);case 4:return s=n.sent,n.next=7,i.jI.aR(r);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.jI=n}var n=t.prototype;return n.RL=function(){return this.EY.cL(this.SY)},n.xg=function(){this.jI.KI()},t.RY=function(){var n=E.coroutine(te.mark(function n(i){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Y.De&&!Y.Ne){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.IY();case 5:return n.next=7,t.NY(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.CY(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.NY=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,st(i)){t.next=4;break}return t.abrupt("return",!Y.Te);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.CY=function(){var n=E.coroutine(te.mark(function n(i){var r;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.NY(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.IY=function(){return new E(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.qv=function(){this.EY.qv()},t}(),DY:{DD:function(t){kr.addEventListener("beforeunload",t)},XD:function(t){kr.removeEventListener("beforeunload",t)}},OY:e})._Y,yr=WC.TY,mr=WC.DY,kr=WC.OY,pr=kr&&kr.location,Ar=kr&&kr.navigator;var qC=[];function zC(){qC.shift()()}function GC(t){qC.push(t),h(zC,0)}var jC=function(){function t(t){this.xY=void 0,this.PY=void 0,this.BY=void 0,this.BY=t}var n=t.prototype;return n.LY=function(t){return this.xY=this.xY||{},void 0===this.xY[t]&&(this.xY[t]=[]),this.xY[t]},n.addEventListener=function(t,n){var i=this.LY(t);-1===i.indexOf(n)&&i.push(n)},n.qo=function(t){(this.PY||(this.PY=[])).push(t)},n.removeEventListener=function(t,n){var i=this.LY(t);n?Ye(i,n):i.length=0},n.Yo=function(t){var n=this.PY;n&&Ye(n,t)},n.zo=function(){this.xY=void 0},n.dispatchEvent=function(t,n){if(n)return GC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.LY(t.type).slice(),r=this.PY&&this.PY.slice(),e=0;e<i.length;e++){i[e].call(this.BY||this,t)}if(r)for(var s=0;s<r.length;s++){r[s].call(this.BY||this,t)}},n.MY=function(t){return Boolean(this.xY&&this.xY[t]&&this.xY[t].length)},n.UY=function(){return this.xY?l.keys(this.xY):[]},t}(),QC=function(){function t(){this.FY=[]}var n=t.prototype;return n.VQ=function(t,n){var i=this.FY[t];return i?new i(n):null},n.DL=function(t,n){this.FY[t]=n},t}();QC.$e=new QC;var YC,ZC=function(t){function n(n,i){var r,e=$C[n];return(r=t.call(this,e?e.Ko:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.HY,r.helpLinkText=e&&e.VY,r}return F(n,t),M(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(on);!function(t){t.XY="LICENSE_INVALID",t.WY="MANIFEST_NOT_FOUND",t.qY="MANIFEST_CORS_ERROR",t.zY="INVALID_HLS_MANIFEST",t.GY="PLAYBACK_ISSUE",t.jY="AUDIO_ISSUE",t.QY="BROWSER_SUPPORT_ISSUE",t.YY="INVALID_KEY",t.ZY="DECRYPTION_ERROR",t.JY="AD_BLOCK_DETECTED",t.$Y="THEOPLAYER_NOT_INITIALIZED",t.u_="ERROR",t.KY="MANIFEST_SEQUENCE_RESET_ERROR",t.tZ="PLAYER_INCORRECTLY_CONFIGURED",t.nZ="UNSUPPORTED"}(YC||(YC={}));for(var JC=[{Rh:YC.XY,Ko:"The license for this player is invalid. Please contact your service provider for additional information."},{Rh:YC.WY,Ko:"Could not load the manifest file."},{Rh:YC.qY,Ko:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",HY:"https://www.theoplayer.com/documentation/cors.html",iZ:!1},{Rh:YC.zY,Ko:"The source of the player is an invalid HLS manifest.",HY:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Rh:YC.GY,Ko:"There appears to be a playback issue."},{Rh:YC.jY,Ko:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Rh:YC.QY,Ko:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Rh:YC.YY,Ko:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Rh:YC.ZY,Ko:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Rh:YC.JY,Ko:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Rh:YC.$Y,Ko:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Rh:YC.u_,Ko:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Rh:YC.KY,Ko:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Rh:YC.tZ,Ko:"The player is incorrectly configured.",HY:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Rh:YC.nZ,Ko:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],$C={},KC=0;KC<JC.length;KC++){var tD=JC[KC];$C[tD.Rh]=tD}function nD(t){return t.rZ}var iD=function(){function t(){this.Xc=[],this.eZ={},this.sZ=0}var n=t.prototype;return n.uZ=function(t){var n=this.eZ[t];return void 0===n?-1:n-this.sZ},n.oZ=function(t){return this.Xc[t]},n.hZ=function(t){return this.oZ(this.uZ(t))},n.aZ=function(t){return!!this.oZ(t)},n.cZ=function(t){return!!this.hZ(t)},n.fZ=function(){return this.Xc},n.hw=function(t){var n,i=this.Xc,r=i.length?i[i.length-1]:null;if(this.uZ(t.rZ)>=0)return!1;if(r&&t.rZ>r.rZ)n=i.length;else{var e=oR(this.Xc,t.rZ,nD,_g);if(e>=0)return!1;n=-(e+1)}return this.vZ(t,n),!0},n.Xh=function(t){var n=this.Xc,i=this.eZ,r=this.uZ(t.rZ);return!(r<0)&&(n.splice(r,0,t),delete i[t.rZ],this.dZ(r),!0)},n.lZ=function(t){var n=this.Xc,i=this.eZ;t=_.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].rZ];n.splice(0,t),this.sZ+=t},n.vZ=function(t,n){var i=this.Xc;n>=i.length?i.push(t):i.splice(n,0,t),this.dZ(n)},n.dZ=function(t){for(var n=this.Xc,i=this.eZ,r=this.sZ,e=n.length,s=t;s<e;s++)i[n[s].rZ]=s+r},M(t,[{key:"Hl",get:function(){return this.Xc.length}}]),t}(),rD=function(){function t(t,n,i){this._Z=void 0,this.gZ=void 0,this.wZ=void 0,this._Z=t,this.gZ=n,this.wZ=i}var n=t.prototype;return n.compute=function(){return this._Z.live?this._Z.yZ?this._Z.mZ:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.wZ&&(t+=this.kZ()),this.pZ()&&(t+=this.AZ(t)),t},n.pZ=function(){return void 0!==this.gZ.bZ.hZ(this._Z.fragments[0].rZ)},n.AZ=function(t){var n=this._Z.fragments[0];return this.gZ.bZ.hZ(n.rZ).TZ-(n.TZ+t)||0},n.kZ=function(){var t=eD(this._Z),n=eD(this.wZ.EZ),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.wZ)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-e]||0;s+=_.abs(o-h)}s<r&&(i=e,r=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.EZ.fragments.length?this.wZ.SZ(t.EZ.fragments[0].rZ).TZ:0},t}();function eD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var s=e[r];s.RZ&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var sD=function(t){function n(n){return t.call(this,G_.Il,n)||this}return F(n,t),n.prototype.cl=function(){return new uD(this.Sw.al)},n}($_),uD=function(t){function n(n){return t.call(this,j_.Il,n)||this}return F(n,t),n}(K_),oD=function(t){function n(n,i){var r,e=hD(i,n.G_,n._R,n.IZ);return(r=t.call(this,i,e,void 0,!1,n.Zl)||this).NZ=void 0,r.CZ=void 0,r.DZ=void 0,r.aH=void 0,r.OZ=void 0,r.xZ=void 0,r.PZ=void 0,r.BZ=void 0,r.LZ=void 0,r.MZ=void 0,r.NZ=n.UZ,r.CZ=n._R,r.DZ=n.IZ,r.aH=n.G_,r.OZ=n.FZ,r.xZ=Boolean(n.HZ),r.PZ=n.VZ||{},r.BZ=n.XZ,r.LZ=n.WZ,r.MZ=n.qZ,r.zZ(),r.GZ(),r}F(n,t);var i=n.prototype;return i.Wh=function(t){var n=!1;void 0===this.NZ&&void 0!==t.UZ&&(n=!0,this.NZ=t.UZ),void 0===this.DZ&&void 0!==t.IZ&&(n=!0,this.DZ=t.IZ),void 0===this.aH&&void 0!==t.G_&&(n=!0,this.aH=t.G_),void 0===this.OZ&&void 0!==t.FZ&&(n=!0,this.OZ=t.FZ),!this.xZ&&t.HZ&&(n=!0,this.xZ=t.HZ),n=this.updateCustomAttributes(t,n),void 0===this.BZ&&void 0!==t.XZ&&(n=!0,this.BZ=t.XZ),void 0===this.LZ&&void 0!==t.WZ&&(n=!0,this.LZ=t.WZ),void 0===this.MZ&&void 0!==t.qZ&&(n=!0,this.MZ=t.qZ),this.zZ(),this.GZ(),this.jZ(),n&&this.Vo(new sD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.VZ)for(var r=0,e=l.keys(t.VZ);r<e.length;r++){var s=e[r];void 0===this.PZ[s]&&(i=!0,this.PZ[s]=t.VZ[s])}return i},i.zZ=function(){this.aH&&!this.DZ&&(this.DZ=new Date(this.CZ.getTime()+1e3*this.aH))},i.GZ=function(){this.DZ&&!this.aH&&(this.aH=$t(this.DZ.getTime()-this.CZ.getTime()))},i.jZ=function(){this.Fw===1/0&&(this.DZ||this.aH)&&(this.Fw=hD(this.Uw,this.aH,this.CZ,this.DZ))},M(n,[{key:"al",get:function(){var t;return this.hl||(this.hl=Md(tg(t=this),{get content(){return t.Nw},get class(){return t.UZ},get startDate(){return t._R},get endDate(){return t.IZ},get duration(){return t.G_},get plannedDuration(){return t.FZ},get endOnNext(){return t.HZ},get scte35Cmd(){return t.XZ},get scte35Out(){return t.WZ},get scte35In(){return t.qZ},get customAttributes(){return t.VZ}})),this.hl}},{key:"UZ",get:function(){return this.NZ}},{key:"_R",get:function(){return this.CZ}},{key:"IZ",get:function(){return this.DZ}},{key:"G_",get:function(){return this.aH}},{key:"FZ",get:function(){return this.OZ}},{key:"HZ",get:function(){return this.xZ}},{key:"XZ",get:function(){return this.BZ}},{key:"WZ",get:function(){return this.LZ}},{key:"qZ",get:function(){return this.MZ}},{key:"VZ",get:function(){return this.PZ}}]),n}(sg);function hD(t,n,i,r){return $(n)?t+n:r?t+($t(r.getTime())-$t(i.getTime())):1/0}var aD,cD,fD,vD,dD,lD=function(t){function n(){return t.call(this,void 0,void 0,X_.DATE_RANGE)||this}F(n,t);var i=n.prototype;return i.Wh=function(t,n){for(var i=this,r=function(t){for(var n=re(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Zl)){var s=n.get(e.Zl),u=ne({},s,Vd(e),{VZ:ne({},s.VZ,e.VZ)});n.set(e.Zl,u)}else n.set(e.Zl,e),i.push(e.Zl)}return i.map(function(t){return n.get(t)})}(t),e=this.c_.Fl,s=function(t){var n=e[t],s=je(r,function(t){return t.Zl===n.Zl});s?n.Wh(s):i.FH(n)},u=e.length-1;u>=0;u--)s(u);for(var o=0;o<r.length;o++){var h=r[o],a=h._R;if(void 0!==a&&!this.MH(h.Zl)){var c=n(a);this.Yb(new oD(h,c))}}},i.Yb=function(n){this.QZ(n),t.prototype.Yb.call(this,n)},i.QZ=function(t){var n=this.SH.filter(function(n){return n.UZ===t.UZ}).pop();n&&n.HZ&&n.Wh({Zl:n.Zl,IZ:t._R})},n}(RI);function _D(t){return gD(t)?{kv:t.YZ,ZZ:[t.ZZ.$R,t.ZZ.tI],Vv:!0}:{kv:t.toString(),Vv:!0}}function gD(t){return void 0!==t.ZZ}function wD(t){return t&&t.JZ&&Mg(t.JZ)||!1}function yD(t){if(!t)return Cg.Cy;if(!wD(t))return Cg.lm(t.duration);var n=t.$Z||Cg.Cy,i=t.KZ||Cg.Cy,r=Cg.lm(t.duration);return n.By()||i.By()?n.By()?i.By()?r.By()?Cg.Cy:r:i:n:Cg.om(n,i)}function mD(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Jb)return i}return null}function kD(t){return mD(t)||function(t){return t.filter(function(t){return t.tJ})}(t)[0]||t[0]}function pD(t,n){for(var i=0;i<n.length;i++){var r=n[i];Je(t,r)||t.push(r)}return t}function AD(t){switch(t){case vD.Bv:case vD.nJ:return R_.Bv;case vD.Pv:return R_.Pv}}function bD(t){switch(t){case vD.Bv:case vD.nJ:return Nf.Bv;case vD.Pv:return Nf.Pv;default:return Nf.Av}}!function(t){t.iJ="alternative",t.rJ="main",t.eJ="commentary",t.sJ="",t.Ub="descriptions",t.uJ="main-desc",t.oJ="translation"}(aD||(aD={})),function(t){t.iJ="alternative",t.rJ="main",t.eJ="commentary",t.sJ="",t.Mb="captions",t.hJ="sign",t.Rk="subtitles"}(cD||(cD={})),function(t){t.Bv="video",t.Pv="audio",t.aJ="closedCaption",t.cJ="variant"}(fD||(fD={})),function(t){t[t.Av=-1]="Av",t[t.Pv=0]="Pv",t[t.Bv=1]="Bv",t[t.nJ=2]="nJ"}(vD||(vD={})),function(t){t[t.Av=-1]="Av",t[t.fJ=1]="fJ",t[t.vJ=2]="vJ",t[t.dJ=3]="dJ",t[t.lJ=4]="lJ"}(dD||(dD={})),function(t){t.eg=function(t){return t>=dD.vJ},t._J=function(t){return t===dD.vJ||t===dD.dJ}}(dD||(dD={}));var TD=function(t){function n(){var n;return(n=t.call(this)||this).gJ=[],n.wJ=function(){return n.dispatchEvent("yJ")},n.mJ=function(){return n.dispatchEvent("kJ")},n}F(n,t);var i=n.prototype;return i.hw=function(t){this.gJ.push(t),t.addEventListener("kJ",this.mJ),t.addEventListener("pJ",this.wJ),this.dispatchEvent("AJ"),t.disabled||this.dispatchEvent("yJ")},i.Xh=function(t){var n=this.gJ.indexOf(t);n<0||(Ze(this.gJ,n),t.removeEventListener("kJ",this.mJ),t.removeEventListener("pJ",this.wJ),this.dispatchEvent("AJ"),t.disabled||this.dispatchEvent("yJ"))},i.lh=function(){for(var t=!!this.bJ.length,n=!!this.TJ.length,i=0,r=this.gJ;i<r.length;i++){r[i].removeEventListener("pJ",this.wJ)}this.gJ.length=0,t&&this.dispatchEvent("AJ"),n&&this.dispatchEvent("yJ")},i.qv=function(){this.zo(),this.lh()},M(n,[{key:"bJ",get:function(){return this.gJ}},{key:"TJ",get:function(){return this.gJ.filter(function(t){return!t.disabled})}}]),n}(jC);function ED(t){if(!t)return null;for(var n={EJ:"",SJ:"",RJ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],s=e.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.EJ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.EJ="mp4a.40.2":"mp4a.40.29"===s?n.EJ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.EJ=s:"ec-3"===s?n.EJ=s:0===s.indexOf("avc")?n.SJ=e:n.RJ+=","+s}return n}var SD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).IJ=void 0,h.ME=void 0,h.fw=void 0,h.NJ=new iD,h.CJ=NaN,h.DJ=void 0,h.OJ=void 0,h.CH=void 0,h.xJ=void 0,h.PJ=void 0,h.BJ=!0,h.LJ=!0,h.MJ=!0,h.UJ=!1,h.FJ=null,h.HJ=!1,h.IJ=n,h.ME=i,h.fw=r||0===r?r:-1,h.OJ=e,h.xJ=Boolean(s),h.PJ=Boolean(u),h.CH=o,h}F(n,t);var i=n.prototype;return i.VJ=function(t,n){var i=Qb(),r=new rD(t,this,n).compute(),e=this.XJ(t.fragments),s=e.oldFragments,u=e.newFragments;this.WJ(s,i),this.qJ(u,i,r),this.DJ!==t&&this.zJ(!0),this.DJ=t,this.dispatchEvent({type:"GJ",jJ:this}),this.dispatchEvent("renditionUpdated")},i.SZ=function(t){return this.NJ.hZ(t)},i.QJ=function(){var t=this.BJ;this.BJ=this.LJ&&this.MJ,t!==this.BJ&&this.dispatchEvent("kJ")},i.zJ=function(t){this.LJ=t,this.QJ()},i.YJ=function(t){this.MJ=t,this.QJ()},i.ZJ=function(t){this.ME=t,this.dispatchEvent("renditionUpdated")},i.JJ=function(){null!==this.FJ&&a(this.FJ),this.dispatchEvent("pJ"),this.dispatchEvent("renditionUpdated")},i.$J=function(t){this.HJ=t,this.JJ()},i.KJ=function(){this.t$(3e4)},i.t$=function(t){var n=this;this.UJ=!0,this.JJ(),this.FJ=h(function(){n.UJ=!1,n.JJ()},t)},i.XJ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var s=e[r];this.NJ.cZ(s.rZ)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.WJ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.NJ.hZ(r.rZ);e.n$=pD(e.n$,r.n$),e.i$=r.i$||e.i$,e.r$=n}},i.qJ=function(t,n,i){var r=this.e$(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.bp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.TZ+=n}}(r,i),this.s$(r)},i.e$=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.jJ=this;var e=ne({},r);n.push(e)}return n},i.s$=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.NJ.hw(i),y(this.CJ)&&(this.CJ=i.rZ)}},i.qv=function(){this.zo(),null!==this.FJ&&a(this.FJ)},M(n,[{key:"disabled",get:function(){return this.UJ||this.HJ},set:function(t){this.UJ=t,this.JJ()}},{key:"Zl",get:function(){return this.fw}},{key:"iw",get:function(){return this.BJ}},{key:"uri",get:function(){return this.OJ||this.DJ&&this.DJ.uri},set:function(t){this.OJ=t,this.dispatchEvent("renditionUpdated")}},{key:"EZ",get:function(){return this.DJ}},{key:"bZ",get:function(){return this.NJ}},{key:"u$",get:function(){return this.DJ?this.DJ.live?this.DJ.duration<-60?dD.dJ:dD.lJ:dD.fJ:dD.Av}},{key:"ds",get:function(){return this.ME},set:function(t){this.ZJ(t)}},{key:"t_",get:function(){return this.CH}},{key:"Jb",get:function(){return this.xJ}},{key:"tJ",get:function(){return this.PJ||this.xJ}},{key:"o$",get:function(){return this.CJ}},{key:"h$",get:function(){return!!this.EZ}},{key:"Kf",get:function(){return this.IJ}}]),n}(jC),RD=function(t){function n(n,i,r,e,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=aD.rJ),(w=t.call(this,n,i,r,s,u,o,d)||this).a$=void 0,w.c$=void 0,w.f$=void 0,w.v$=void 0,w.d$=void 0,w.l$=void 0,w._$=void 0,w.g$=void 0,w.w$=void 0,w.NH=void 0,w.y$=void 0,w.m$=void 0,w.k$=void 0,w.p$=void 0,w.A$=void 0,w.b$=void 0,w.T$=null,w.E$=void 0,w.a$=Boolean(l),w.d$=e,w.c$=ED(h),w.f$=g,w._$=a,w.g$=c,w.l$=f,w.v$=v,w.NH=_,w}F(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.rZ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.S$[0]?t.S$[0].$l:aD.rJ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Ne(t.characteristics,"public.accessibility.describes-video")?aD.uJ:aD.rJ;if(t.characteristics&&Ne(t.characteristics,"public.accessibility.describes-video"))return aD.Ub;return aD.iJ}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.R$=function(t){this.c$="string"==typeof t?ED(t):t,this.dispatchEvent("renditionUpdated")},i.I$=function(t,n){return t?!n&&t.EJ&&t.SJ?vD.nJ:t.SJ?vD.Bv:t.EJ?vD.Pv:vD.Av:vD.Av},M(n,[{key:"N$",set:function(t){this.a$=t}},{key:"C$",get:function(){return this.c$}},{key:"bandwidth",get:function(){return this.v$},set:function(t){this.v$=t,this.dispatchEvent("renditionUpdated")}},{key:"$l",get:function(){return this.NH}},{key:"resolution",get:function(){return this.l$},set:function(t){this.l$=t,this.dispatchEvent("renditionUpdated")}},{key:"D$",get:function(){return void 0!==this.f$?this.f$:this.I$(this.c$,this.a$)}},{key:"rZ",get:function(){return this._$}},{key:"EJ",get:function(){return this.g$}},{key:"O$",get:function(){return this.d$}},{key:"x$",get:function(){return this.w$},set:function(t){var n=this.w$;this.w$=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(SD);var ID=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,n,i,r,e,s,u,o)||this).Us=void 0,c.P$=null,c.B$=void 0,c.L$=function(){return c.M$()},c.Us=h,c.B$=new AR(a,String(r),c.ds,c.t_,void 0,X_.WEBVTT),c.Jb&&(c.B$.h_=Kd.s_),c}F(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Ne(t.characteristics,"public.accessibility.describes-music-and-sound"))return oy.Mb;return oy.Rk}(i))};var i=n.prototype;return i.VJ=function(n){t.prototype.VJ.call(this,n),this.M$()},i.qv=function(){t.prototype.qv.call(this),this.bb=null},i.ZJ=function(n){t.prototype.ZJ.call(this,n),this.B$.Kl=n},i.M$=function(){this.P$&&this.P$.U$(this,this.bZ)},M(n,[{key:"F$",get:function(){return this.B$}},{key:"bb",get:function(){return this.P$},set:function(t){this.P$&&this.P$.removeEventListener("H$",this.L$),this.P$=t,this.M$(),this.P$&&this.P$.addEventListener("H$",this.L$)}},{key:"YZ",get:function(){return this.uri}},{key:"co",get:function(){return this.Us}}]),n}(SD),ND=function(t){function n(n,i){var r;(r=t.call(this)||this).ba=void 0,r.V$=void 0,r.X$=["renditionUpdated","GJ","W$"],r.q$=null,r.z$=null,r.G$=null,r.j$=null,r.Q$=new TD,r.Y$=new TD,r.Z$=new TD,r.wg={},r.J$=void 0,r.K$=void 0,r.tK=null,r.aH=NaN,r.nK=void 0,r.iK=void 0,r.Ho=function(t){return r.dispatchEvent(t)},r.ba=n,r.V$=i;var e=sn(r);return r.nK=function(){e.eH(this)},r.iK=function(t){e.rK(this,t)},r}F(n,t);var i=n.prototype;return i.eK=function(t,n){var i=new II(n);return i.h_=Kd.e_,this.wg[i.Zl]=i,this.dispatchEvent({type:"sK",fl:i}),i},i.uK=function(t,n,i){var r=new RI(i,"manifest");return r.h_=Kd.e_,this.wg[r.Zl]=r,this.dispatchEvent({type:"sK",fl:r}),r},i.oK=function(t,n){if(t){var i=t.c_,r=t.hK,e=t&&this.wg[r];e||(e=new II(t.o_),this.wg[r]=e,e.h_=Kd.e_,this.dispatchEvent({type:"sK",fl:e}));for(var s=0;s<i.length;s++){var u=i[s];e.Yb(u)}}},i.aK=function(t){t&&(this.J$||(this.J$=new AR(oy.Mb,void 0,"CC1","en",!0,X_.CEA608),this.wg.CC1=this.J$,this.dispatchEvent({type:"sK",fl:this.J$})),this.J$.Yb(t))},i.cK=function(t,n,i){var r=this.wg[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,s=t.c_.Fl;e<s.length;e++){var u=s[e];if(u.Rw>=i)break;n<u.Iw&&r.push(u)}}(r,n,i,e);for(var s=0;s<e.length;s++){var u=e[s];r.FH(u)}}},i.fK=function(t,n){return this.vK(t,n)},i.dK=function(t){var n;return(n=this.lK(t,this.Q$))?n:(n=this.lK(t,this.Y$))?n:n=this.lK(t,this.Z$)},i.qv=function(){this.Qo(this.Q$),this.Q$.qv(),this.Qo(this.Y$),this.Y$.qv(),this.Qo(this.Z$),this.Z$.qv(),this.wg={},this.J$=void 0,this.K$&&(this.K$.qv(),this.K$=void 0),this.tK=null,this.aH=NaN,this.q$=null,this.z$=null,this.G$=null,this.j$=null,this.dispatchEvent("qv")},i._K=function(t){var n=RD.createFromUri(this,t.uri);this.Qo(this.Y$),this.Y$.hw(n),n.addEventListener("renditionUpdated",this.nK)},i.eH=function(t){var n=t.EZ,i=t.u$;if(y(this.aH)||dD.eg(i)){if(dD.Av===i)return;if(!n)return;this.aH=n.duration,this.dispatchEvent("gK")}y(this.aH)||dD.fJ!==i||t.removeEventListener("renditionUpdated",this.nK)},i.wK=function(t){var n=this;this.Qo(this.Q$),this.Q$.lh(),this.Qo(this.Y$),this.Y$.lh(),this.Z$.lh(),this.tK=t;for(var i=t.streams.map(function(t){return RD.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.EJ&&!Ne(t.EJ,"mp4a")&&!Ne(t.EJ,"mp3"))return!1;if(t.SJ&&!Ne(t.SJ,"avc1"))return!1;return!0}(t.C$)}),r=i.some(function(t){return t.C$&&t.C$.EJ}),e=i.some(function(t){return t.C$&&t.C$.SJ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.C$&&u.C$.EJ),h=Boolean(u.C$&&u.C$.SJ);r&&!o||e&&!h||(this.Y$.hw(u),u.addEventListener("renditionUpdated",this.nK))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.V$){var e=ID.createFromPlaylistMedia(n,r);n.Z$.hw(e),n.dispatchEvent({type:"sK",fl:e.F$})}break;case"closed-captions":break;case"audio":var s=n.Y$.bJ.filter(function(t){return t.EJ===r["group-id"]});if(0===s.length)return"continue";r.uri&&s.forEach(function(t){return t.N$=!0});var u=r.uri?vD.Pv:vD.nJ,o=RD.createFromPlaylistMedia(n,r,!1,u);n.Q$.hw(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.yK=kD(this.S$.TJ)||null,this.dispatchEvent("mK")},i.lK=function(t,n){for(var i=0,r=n.bJ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.rK=function(t,n){this.dispatchEvent(ne({},n,{jJ:t}))},i.kK=function(t){for(var n=0,i=t.bJ;n<i.length;n++)for(var r=i[n],e=0,s=this.X$;e<s.length;e++){var u=s[e];r.addEventListener(u,this.iK)}},i.Qo=function(t){for(var n=0,i=t.bJ;n<i.length;n++){i[n].qv()}},i.pK=function(t,n){0!==t.length&&this.ba.hlsDateRange&&(this.K$||(this.K$=new lD,this.dispatchEvent({type:"sK",fl:this.K$})),this.K$.Wh(t,n))},i.AK=function(t,n){if(this.z$!==t){var i=this.z$;this.z$=t,this.dispatchEvent({type:"bK",D$:"EJ",jJ:this.z$,TK:i,EK:n})}},i.vK=function(t,n){if(this.G$!==t){var i=this.G$;this.G$=t,t&&this.dispatchEvent({type:"bK",D$:"SJ",jJ:this.G$,TK:i,EK:n})}},i.SK=function(t){for(var n=0,i=t.bJ;n<i.length;n++){var r=i[n];if(r.u$!==dD.Av)return r.u$}return null},M(n,[{key:"hg",get:function(){return this.q$},set:function(t){t&&(0===t.streams.length?this._K(t):this.wK(t),this.q$=t,this.kK(this.Y$),this.kK(this.Q$),this.dispatchEvent("RK"))}},{key:"IK",get:function(){return this.tK}},{key:"G_",get:function(){return this.aH}},{key:"bg",get:function(){var t=this,n=this.Z$.bJ.map(function(t){return t.F$}),i=l.keys(this.wg).map(function(n){return t.wg[n]});return this.J$&&i.push(this.J$),this.K$&&i.push(this.K$),n.concat(i)}},{key:"yK",get:function(){return this.z$},set:function(t){this.AK(t,!0)}},{key:"NK",get:function(){return this.G$},set:function(t){this.vK(t,!1)}},{key:"S$",get:function(){return this.Q$}},{key:"CK",get:function(){return this.Y$}},{key:"DK",get:function(){return this.Z$.bJ}},{key:"u$",get:function(){var t;return null!==(t=this.z$&&this.z$.u$)&&t!==dD.Av?t:null!==(t=this.G$&&this.G$.u$)&&t!==dD.Av?t:null!==(t=this.SK(this.Q$))?t:null!==(t=this.SK(this.Y$))?t:dD.Av}}]),n}(jC);var CD=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this)||this).pp=[],e.xK={},e.PK=void 0,e.BK=void 0,e.LK=void 0,e.al=void 0,e.Ho=function(t){return e.dispatchEvent(t)},e.MK=function(t){e.UK(t)},e.FK=function(t){e.handleRenditionUpdated(t)},e.HK=function(t){for(var n=0,i=e.pp;n<i.length;n++){i[n].VK.HK(t)}},e.PK=n,e.BK=i,e.LK=r,e.BK&&e.BK.addEventListener("bK",e.MK),e.LK&&(e.LK.addEventListener("renditionUpdated",e.FK),e.LK.addEventListener("XK",e.HK)),e.al=(s=sn(e),u=new jC,o={get length(){return s.pp.length},enable:function(t){s.Pb(s.WK(t&&t.id)||t)},disable:function(t){s.Bb(s.WK(t&&t.id)||t)},item:function(t){return s.pp[t]&&s.pp[t].al},getTrackByID:function(t){var n=s.WK(t);return n&&n.al},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),e}F(n,t);var i=n.prototype;return i.WK=function(t){return this.xK[t]},i.Bl=function(t){for(var n=0,i=t.VK.n_;n<i.length;n++){var r=i[n];r.Zl===this.qK()&&(r.jw=!0)}t.addEventListener("enabledtrack",this.Ho),t.addEventListener("disabledtrack",this.Ho),this.pp.push(t),this.xK[t.Zl]=t,this.dispatchEvent({type:"addtrack",track:t.al})},i.Pb=function(t){if(t){var n=this.xK[t.Zl];if(n&&!n.Yl){for(var i=this.pp.length-1;i>=0;i--)this.pp[i].Bg();n.Pg()}}},i.Bb=function(t){},M(n,[{key:"zK",get:function(){return this.qK()}}]),n}(jC);var DD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).GK=void 0,e.GK=NaN,e}F(n,t);var i=n.prototype;return i.qK=function(){return this.GK},i.UK=function(t){t.jK?this.QK(t.YK):t.ZK&&this.QK(t.ZK)},i.QK=function(t){t&&(this.GK=t.Zl),this.pp.forEach(function(n){return n.JK(t)})},i.handleRenditionUpdated=function(t){if(t.jJ&&t.jJ.D$===vD.Pv)for(var n=0,i=this.pp;n<i.length;n++){i[n].$K(t)}},i.Pb=function(n){var i=n;if(!i){var r=this.pp.filter(function(t){return t.Jb});r.length>0&&(i=r[0])}t.prototype.Pb.call(this,i)},M(n,[{key:"co",get:function(){return"audio"}}]),n}(CD),OD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).KK=void 0,e.KK=NaN,e}F(n,t);var i=n.prototype;return i.qK=function(){return this.KK},i.UK=function(t){(t.n0||t.YK)&&(t.YK&&(this.KK=t.YK.Zl),this.pp.forEach(function(n){return n.JK(t.YK)}))},i.handleRenditionUpdated=function(t){if(t.jJ&&(t.jJ.D$===vD.Bv||t.jJ.D$===vD.nJ))for(var n=0,i=this.pp;n<i.length;n++){i[n].$K(t)}},M(n,[{key:"co",get:function(){return"video"}}]),n}(CD);function xD(t,n){for(var i,r=n-(i=t?tt(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function PD(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var BD=function(t){function n(n){var i,r,e,s;return(i=t.call(this)||this).jJ=void 0,i.jw=!1,i.i0=!0,i.al=void 0,i.jJ=n,i.jw=!1,i.al=(r=sn(i),e=new jC,s={get bandwidth(){return r.jJ&&r.jJ.bandwidth},get averageBandwidth(){return r.jJ&&r.jJ.averageBandwidth},get codecs(){return r.C$},get resolution(){return r.r0},get frameRate(){return PD(r.e0,2)},get id(){return r.Zl},get uri(){return r.jJ&&r.jJ.uri},get name(){return r.ds},set name(t){r.ds=t},get enabled(){return r.Yl},set enabled(t){r.Yl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),s),i}F(n,t);var i=n.prototype;return i.s0=function(t){var n=!!t&&this.Zl===t.Zl;this.jw!==n&&(this.jw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.al}))},i.$K=function(t){return this.jJ.Zl===t.jJ.Zl&&(this.jJ=t.jJ,this.dispatchEvent({type:"qualityupdated",quality:this.al}),!0)},M(n,[{key:"Yl",get:function(){return this.i0},set:function(t){this.i0=t,this.jJ.$J(!t)}},{key:"$l",get:function(){return this.jJ.$l}},{key:"r0",get:function(){return this.jJ.resolution?{width:this.jJ.resolution.width,height:this.jJ.resolution.height}:{width:NaN,height:NaN}}},{key:"ds",get:function(){return this.jJ.ds},set:function(t){this.jJ.ds=t,this.dispatchEvent({type:"qualityupdated",quality:this.al})}},{key:"Zl",get:function(){return this.jJ.Zl}}]),n}(jC);var LD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"C$",get:function(){return this.jJ.C$&&this.jJ.C$.SJ||""}},{key:"e0",get:function(){return PD(Number(this.jJ.x$),2)}}]),n}(BD),MD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"C$",get:function(){return this.jJ.C$&&this.jJ.C$.EJ||""}},{key:"e0",get:function(){return PD(Number(this.jJ.E$),2)}}]),n}(BD),UD=function(t){function n(n,i){var r,e,s,u,o;(r=t.call(this)||this).n_=void 0,r.u0=null,r.o0={},r.LK=void 0,r.al=void 0,r.Ho=function(t){return r.dispatchEvent(t)},r.n_=n,r.LK=i;for(var h=r.n_.length-1;h>=0;h--){var a=r.n_[h];r.o0[a.Zl]=a}return r.n_.forEach(function(t){return t.addEventListener("activequalitychanged",r.Ho)}),r.al=(e=sn(r),s=new jC,u={item:function(t){var n=e.Pl(t);return n&&n.al},getQualitiesByIDs:function(t){return e.h0(t).map(function(t){return t.al})},get length(){return e.n_.length},get activeQuality(){return e.Ql&&e.Ql.al},get targetQuality(){return e.i_?1===e.i_.length?e.i_[0].al:e.i_.map(function(t){return t.al}):null},set targetQuality(t){if(t){var n=K(t)?t:[t];e.i_=e.h0(n.map(function(t){return t.id}))}else e.i_=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),u),r}F(n,t);var i=n.prototype;return i.a0=function(t){return!!t&&this.n_.some(function(n){return n.Zl===t.Zl})},i.c0=function(t,n){for(var i=0,r=this.n_;i<r.length;i++){r[i].s0(t)}},i.h0=function(t){var n=this;return t&&t.map(function(t){return n.o0[t]}).filter(function(t){return t})},i.f0=function(){for(var t=this.n_.length-1;t>=0;t--)this.n_[t].jw=!1},i.HK=function(t){var n=this.LK.v0,i=this.h0(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].al}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Pl=function(t){return this.n_[t]},M(n,[{key:"Ql",get:function(){for(var t=0,n=this.n_;t<n.length;t++){var i=n[t];if(i.jw)return i}return null}},{key:"i_",get:function(){return this.u0},set:function(t){this.u0=this.d0(t)}}]),n}(jC);var FD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Pg=function(){this.LK&&(this.LK.GK=this.n_[0].Zl)},i.Bg=function(t){this.LK&&(this.LK.GK=null)},i.d0=function(t){},n}(UD),HD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Pg=function(){if(this.d0(this.i_),this.LK){var t=this.LK.PK;if(!t)return;var n=je(t.l0.S$.bJ,function(t){return!t.uri});this.LK.GK=n?n.Zl:null}},i.c0=function(n,i){"video"===i&&t.prototype.c0.call(this,n,i)},i.Bg=function(t){"video"===t&&this.f0()},i.d0=function(t){if(!this.LK)return this.i_;var n=t?this.h0(t.map(function(t){return t.Zl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Zl});return this.LK.v0=i,n}return t?this.i_:(this.LK.v0=null,null)},n}(UD),VD=function(t){function n(n,i){var r,e,s;return(r=t.call(this)||this).co=void 0,r.VK=void 0,r.Zl=void 0,r.lw=void 0,r.ds=void 0,r.al=void 0,r.co=n,r.VK=i,r.Zl=i.Pl(0).Zl,r.lw=r.VK.n_.some(function(t){return t.jw}),r.ds=i.Pl(0).jJ.ds,r.al=(e=sn(r),s=new jC,{get id(){return e.Zl},get enabled(){return e.Yl},get qualities(){return e.VK&&e.VK.al},get language(){return e.t_},get default(){return e.Jb},get name(){return e.ds},set name(t){e.ds=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),r}F(n,t);var i=n.prototype;return i.JK=function(t){var n=this.VK.a0(t);this.gw(n),this.VK.c0(t,this.co)},i.gw=function(t){this.lw!==t&&(t?(this.lw=!0,this.dispatchEvent({type:"enabledtrack",track:this.al})):(this.lw=!1,this.dispatchEvent({type:"disabledtrack",track:this.al})))},i.Pg=function(){this.lw||this.VK.Pg()},i.Bg=function(){this.lw&&this.VK.Bg(this.co)},i.$K=function(t){t.jJ.Zl===this.Zl&&(this.ds=t.jJ.ds);for(var n=0,i=this.VK.n_;n<i.length;n++){i[n].$K(t)}},M(n,[{key:"Yl",get:function(){return this.lw}},{key:"t_",get:function(){return this._0()}},{key:"$l",get:function(){return this.g0()}},{key:"Jb",get:function(){var t="video"===this.co,n=this.VK.n_&&this.VK.n_[0].jJ.Jb;return t||n}}]),n}(jC);var XD=function(t){function n(n){return t.call(this,"video",n)||this}F(n,t);var i=n.prototype;return i.g0=function(){return cD.rJ},i._0=function(){return""},n}(VD),WD=function(t){function n(n){return t.call(this,"audio",n)||this}F(n,t);var i=n.prototype;return i.g0=function(){return this.VK.n_[0].jJ.$l},i._0=function(){return this.VK.n_[0].jJ.t_||""},n}(VD),qD=function(){function t(t,n,i){var r=this;this.w0=void 0,this.y0=void 0,this.m0=void 0,this.k0=void 0,this.p0=function(){var t=r.w0;t.removeEventListener("A0",r.p0);var n=t.l0.CK.bJ,i=t.l0.S$.bJ,e=n.map(function(t){return new LD(t)});if(e.length>0){var s=new HD(e,r.y0);r.k0.Bl(new XD(s));var u=je(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new WD(s);u&&(h.ds=u.ds),r.m0.Bl(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new MD(c),v=new FD([f],r.y0);r.m0.Bl(new WD(v))}}},this.w0=t,this.y0=i,this.m0=new DD(t,n,i),this.k0=new OD(t,n,i),t&&(t.A0?this.p0():t.addEventListener("A0",this.p0))}return M(t,[{key:"pg",get:function(){return this.m0}},{key:"Ag",get:function(){return this.k0}}]),t}(),zD=["loadedmetadata","durationchange","ih","Zv","iw","b0"],GD=["T0","bK","E0","ih"],jD=function(t){function n(n,i,r,e,s,u,o){var h;(h=t.call(this)||this).S0=null,h.OR=void 0,h.R0=void 0,h.I0=void 0,h.N0=void 0,h.BK=void 0,h.C0=void 0,h.PK=void 0,h.Ag=void 0,h.pg=void 0,h.D0=[],h.O0=[],h.x0=function(t){return h.dispatchEvent(t)},h.P0=function(t){return h.B0(t)},h.L0=function(t){return h.M0(t)},h.OR=n.src,h.R0=n.type,h.I0=i,h.N0=r,h.C0=e,h.PK=s,h.BK=u,h.PK&&(h.PK.addEventListener("U0",h.x0),h.PK.addEventListener("F0",h.x0));var a=new qD(h.PK,h.BK,o);return h.Ag=a.Ag,h.pg=a.pg,h.xR=null,h.OR&&(h.BK&&h.BK.Ul(),h.PK&&(h.PK.H0=h.OR)),h}F(n,t);var i=n.prototype;return i.V0=function(t){this.BK&&this.BK.Vh(t),this.PK&&this.PK.X0(),this.xR&&this.W0()},i.q0=function(){this.BK&&this.BK.q0(),this.PK&&this.PK.z0()},i.G0=function(){if(this.PK)for(var t=0;t<zD.length;t++){var n=zD[t];this.PK.addEventListener(n,this.P0)}if(this.BK)for(var i=0;i<GD.length;i++){var r=GD[i];this.BK.addEventListener(r,this.L0)}},i.j0=function(){if(this.PK)for(var t=0;t<zD.length;t++){var n=zD[t];this.PK.removeEventListener(n,this.P0)}if(this.BK)for(var i=0;i<GD.length;i++){var r=GD[i];this.BK.removeEventListener(r,this.L0)}},i.W0=function(){if(this.PK&&this.D0.length){var t=this.D0.slice();$e(this.D0);for(var n=0;n<t.length;n++){var i=t[n];this.PK.dispatchEvent(i)}}if(this.BK&&this.O0.length){var r=this.O0.slice();$e(this.O0);for(var e=0;e<r.length;e++){var s=r[e];this.BK.dispatchEvent(s)}}},i.B0=function(t){this.D0.push(t)},i.M0=function(t){this.O0.push(t)},i.qv=function(){this.dispatchEvent("qv"),this.zo(),this.BK&&this.BK.qv(),this.C0&&this.C0.qv(),this.PK&&this.PK.qv(),this.S0=null,$e(this.D0),$e(this.O0)},M(n,[{key:"xR",get:function(){return this.S0},set:function(t){this.j0(),this.S0=t,this.xR?this.dispatchEvent("ta"):this.G0()}}]),n}(jC),QD=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).w0=null,n.Ho=function(t){n.dispatchEvent(t,!0)},n}return F(n,t),M(n,[{key:"GK",get:function(){var t=this.w0&&this.w0.l0.yK;return t?t.Zl:null},set:function(t){var n;this.w0&&(n=null===t?kD(this.w0.l0.S$.bJ):this.w0.l0.S$.bJ.filter(function(n){return t===n.Zl}).shift(),this.w0.l0.yK=n||null)}},{key:"v0",get:function(){return this.w0&&this.w0.Q0||null},set:function(t){this.w0&&(this.w0.Y0(t),this.dispatchEvent("XK"))}},{key:"PK",get:function(){return this.w0},set:function(t){this.w0&&(this.w0.l0.removeEventListener("RK",this.Ho),this.w0.l0.removeEventListener("renditionUpdated",this.Ho),this.w0.l0.removeEventListener("mK",this.Ho)),this.w0=t,this.w0&&(this.w0.l0.addEventListener("RK",this.Ho),this.w0.l0.addEventListener("renditionUpdated",this.Ho),this.w0.l0.addEventListener("mK",this.Ho))}}]),n}(jC),YD=function(){function t(){}var n=t.prototype;return n.Z0=function(t){return E.resolve(!1)},n.J0=function(t){return E.reject(ZD)},n.$0=function(t){return E.reject(ZD)},n.ah=function(t){return E.resolve(!1)},n.fh=function(t){return E.resolve(void 0)},n.oZ=function(t,n){return E.resolve(void 0)},n.K0=function(t){return E.resolve([])},n.n1=function(){return E.resolve([])},n.i1=function(t){return E.resolve([])},n.e1=function(t,n){return E.resolve([])},n.Xh=function(t){return E.reject(ZD)},n.s1=function(t){return E.reject(ZD)},n.u1=function(){return E.reject(ZD)},t}(),ZD="Storage disabled",JD=function(){function t(){this.o1=void 0,this.h1=void 0,this.a1=void 0,this.c1=void 0,this.f1=void 0,this.o1=new YD,this.h1=new YD,this.a1=new YD,this.c1=new YD,this.f1=new YD}return t.VQ=function(){return E.resolve(new t)},t.prototype.v1=function(t){return E.reject($D)},t}(),$D="Storage disabled",KD=function(){function t(t){var n=this;this.Oo=new Qu,this.d1=void 0,this.Oo.Eh(t),this.Oo.Th.then(function(t){n.d1=t})}var n=t.prototype;return n.Z0=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Z0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.J0=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.J0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.$0=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.$0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ah=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.ah(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.fh=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.fh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oZ=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.oZ(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.K0=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.K0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.n1=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.n1());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.i1=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.i1(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.e1=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.e1(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Xh=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Xh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.s1=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.s1(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.u1=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.d1,t.t0){t.next=5;break}return t.next=4,this.l1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.u1());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"l1",get:function(){return this.Oo.Th}}]),t}(),tO=function(){function t(t){var n=this;this.Oo=new Qu,this._1=void 0,this.h1=void 0,this.o1=void 0,this.a1=void 0,this.c1=void 0,this.f1=void 0,this.Oo.Eh(t);var i=this.Oo.Th;i.then(function(t){n._1=t}),this.h1=new KD(i.then(function(t){return t.h1})),this.o1=new KD(i.then(function(t){return t.o1})),this.a1=new KD(i.then(function(t){return t.a1})),this.c1=new KD(i.then(function(t){return t.c1})),this.f1=new KD(i.then(function(t){return t.f1}))}return t.prototype.v1=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._1,t.t0){t.next=5;break}return t.next=4,this.g1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.v1(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"g1",get:function(){return this.Oo.Th}}]),t}(),nO=function(){function t(){this.w1=[]}var n=t.prototype;return n.Z0=function(t){return E.resolve("temporary"===t)},n.J0=function(t){return this.m1(t.key),this.w1.push(t),E.resolve()},n.$0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.m1(i.key)}for(var r=0;r<t.length;r++){var e=t[r];this.w1.push(e)}return E.resolve()},n.ah=function(t){return E.resolve(Boolean(this.A1(t)))},n.fh=function(t){return E.resolve(this.A1(t))},n.oZ=function(t,n){return E.resolve(this.b1(t,n))},n.K0=function(t){var n=this,i=t?t.map(function(t){return n.A1(t)}):this.w1;return E.resolve(i.filter($))},n.n1=function(){return E.resolve([].concat(this.w1))},n.i1=function(t){return this.e1(t,"key")},n.e1=function(t,n){var i=this.w1.filter(function(i){return i[n]===t});return E.resolve(i)},n.Xh=function(t){return this.m1(t),E.resolve()},n.s1=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.m1(i)}return E.resolve()},n.u1=function(){return $e(this.w1),E.resolve()},n.A1=function(t){return this.b1(t,"key")},n.b1=function(t,n){for(var i=0,r=this.w1;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.m1=function(t){var n=this.A1(t);n&&Ye(this.w1,n)},t}(),iO=function(){function t(){this.o1=void 0,this.h1=void 0,this.a1=void 0,this.c1=void 0,this.f1=void 0,this.o1=new nO,this.h1=new nO,this.a1=new nO,this.c1=new nO,this.f1=new nO}return t.VQ=function(){return E.resolve(new t)},t.prototype.v1=function(t){return t(this)},t}(),rO=function(){function t(t){this.T1=t}var n=t.prototype;return n.Z0=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.T1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.Z0(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.J0=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.T1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.Z0(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.J0(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.$0=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.T1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.Z0(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.$0(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ah=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.T1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.ah(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.fh=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.T1;case 1:if(!(i<r.length)){t.next=11;break}return e=r[i],t.next=5,e.fh(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oZ=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.T1;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,s.oZ(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.K0=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.T1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.K0(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.n1=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.T1;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.n1();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.i1=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.T1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.i1(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.e1=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,s=this.T1;case 2:if(!(e<s.length)){t.next=13;break}return u=s[e],t.t0=r.push,t.t1=r,t.next=8,u.e1(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Xh=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.T1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Xh(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.s1=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.T1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.s1(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.u1=function(){var t=E.coroutine(te.mark(function t(){var n,i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.T1;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.u1();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function eO(t){return E.coroutine(te.mark(function n(){var i;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",sO.VQ(i));case 4:case"end":return n.stop()}},n)}))}var sO=function(){function t(t){this.E1=void 0,this.S1=void 0,this.R1=void 0,this.I1=void 0,this.N1=void 0,this.C1=void 0,this.E1=t,this.S1=new rO(t.map(function(t){return t.c1})),this.R1=new rO(t.map(function(t){return t.f1})),this.I1=new rO(t.map(function(t){return t.a1})),this.N1=new rO(t.map(function(t){return t.o1})),this.C1=new rO(t.map(function(t){return t.h1}))}return t.VQ=function(n){return E.resolve(new t(n))},t.prototype.v1=function(n){var i=this;if(0===this.E1.length)return n(this);var r=[],e=0;return this.E1[e].v1(function s(u){return r.push(u),++e<i.E1.length?i.E1[e].v1(s):n(new t(r))})},M(t,[{key:"c1",get:function(){return this.S1}},{key:"f1",get:function(){return this.R1}},{key:"a1",get:function(){return this.I1}},{key:"o1",get:function(){return this.N1}},{key:"h1",get:function(){return this.C1}}]),t}(),uO=function(){function t(t){this.D1=void 0,this.O1=[],this.P1=!0,this.D1=t}var n=t.prototype;return n.VQ=function(){return new tO(this.B1())},n.B1=function(){var t=E.coroutine(te.mark(function t(){var n,i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.P1){t.next=4;break}return t.next=3,E.resolve();case 3:this.P1=!1;case 4:n=0,i=this.O1;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,eO([iO.VQ,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,eO([iO.VQ,this.D1])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.DL=function(t){if(!this.P1)throw new v("Registration overdue");this.O1.push(t)},t}(),oO=function(){function t(){}return t.DL=function(n){t.sS.DL(n)},M(t,null,[{key:"$e",get:function(){return t.L1||(t.L1=t.sS.VQ()),t.L1}}]),t}();function hO(t){return Bf(t)}function aO(t,n){var i=Bf(t);return n?""+i+n:""+i}function cO(t,n,i,r,e,s,u,o){var h=new Jo;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Df({kv:t,_v:i,lv:h,Vv:s,Mv:Sf.GET,co:Rf.Tv,Fv:r,Hv:e,Lo:u,Xv:o})}oO.sS=new uO(JD.VQ),oO.L1=void 0;var fO=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).Pp=void 0,a.YZ=void 0,a._v=void 0,a.Fv=void 0,a.Hv=void 0,a.M1=void 0,a.qb=void 0,a.U1=void 0,a.F1=void 0,a.jD=void 0,a.H1=void 0,a.ed=null,a.V1=void 0,a.rv=new ss,a.X1=function(t,n){return a.Xv(t,n)},a.Pp=n,a.YZ=i,a._v=r,a.Fv=e,a.Hv=s,a.M1=u,a.jD=o,a.H1=new dO,a.qb=h,a.U1=oO.$e.o1,a.F1=oO.$e.h1,a}F(n,t);var i=n.prototype;return i.$R=function(){return this.W1(this.rv.Lo)},i.W1=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return gD(i=this.YZ)?(r=i.YZ,e=[i.ZZ.$R,i.ZZ.tI]):(r=i,e=void 0),this.H1.q1(),t.prev=3,t.next=6,this.z1(r,e);case 6:if(s=t.sent,hs(n),s){t.next=12;break}return t.next=11,this.G1(r,e,n);case 11:s=t.sent;case 12:return t.next=14,s.Ls();case 14:u=t.sent,hs(n),this.j1(u,s.dv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!os(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Wf?t.t0.ed.dv:0,o=new v('Could not load fragment: "'+this.YZ+'", HTTP status '+h);case 27:return t.abrupt("return",this.Q1(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.z1=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=aO(n,i),t.next=4,this.U1.ah(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.F1.fh(r);case 7:return e=t.sent,s=cO(n,i,this._v,this.Fv,this.Hv,this.M1),u=e.data.buffer,t.abrupt("return",new Cf({Ls:u,lv:{},yv:s,mv:n,_v:this._v,dv:200,gv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.G1=function(t,n,i){var r=cO(t,n,this._v,this.Fv,this.Hv,this.M1,i,this.X1);return this.qb.yv(r)},i.Xv=function(t,n){var i={type:"b0",yv:this,Y1:t,Z1:n=void 0===n?NaN:n};this.H1.J1(t,n),this.dispatchEvent(i)},i.j1=function(t,n){var i=this._v===Zo.Pc?t.byteLength:0;this.H1.K1(i),this._v===Zo.es?this.ed=t:this.ed=new m(t),this.V1=n,t=null,this.Q1(),this.ed=null},i.xo=function(t){return this.rv.xo(),t||((t=new v('Aborted fragment load: "'+this.YZ+'"')).aborted=!0),this.Q1(t)},i.Q1=function(t){this.H1.n2();var n={type:"Rg",yv:this};return this.dispatchEvent(n),this.jD(t||null,this)},n}(jC);function vO(){return Qb()/1e3}var dO=function(t){function n(){var n;return(n=t.call(this)||this).i2=NaN,n.e2=NaN,n.s2=NaN,n.u2=NaN,n.o2=0,n.h2=NaN,n.i2=vO(),n}F(n,t);var i=n.prototype;return i.q1=function(){this.i2=vO(),this.dispatchEvent("Wh")},i.J1=function(t,n){this.s2=vO(),this.U0||(this.e2=this.s2),this.o2=t,this.h2=n||this.h2||NaN,this.dispatchEvent("Wh")},i.K1=function(t){this.J1(t,t)},i.n2=function(){this.u2=vO(),this.dispatchEvent("Wh")},M(n,[{key:"U0",get:function(){return!y(this.e2)}},{key:"a2",get:function(){return!y(this.u2)}},{key:"og",get:function(){return(this.e2||vO())-this.i2}},{key:"c2",get:function(){return(this.u2||this.s2)-this.e2}},{key:"f2",get:function(){return(this.u2||this.s2)-this.i2}}]),n}(jC),lO=function(t){function n(n,i){var r;return(r=t.call(this)||this).M1=void 0,r.v2=[],r.d2=null,r.l2=function(t){return r._2(t)},r.qb=void 0,r.M1=!(!i||i.crossOrigin!==_l.N_),r.qb=n,r}F(n,t);var i=n.prototype;return i.Vh=function(t,n,i,r,e,s){var u=new fO(t,n,i,r,e,this.M1,s,this.qb);return u.addEventListener("Rg",this.l2),this.v2.push(u),this.g2(),u},i.w2=function(t,n,i,r,e){var s=this;return new E(function(u,o){s.Vh(t,n,i,r,e,function(t,n){t?o(t):u(n.ed)})})},i.lh=function(t,n){var i=function(t){return!n||t.Pp===n},r=this.v2.filter(i);!t&&this.d2&&i(this.d2)&&r.push(this.d2);for(var e=0;e<r.length;e++){r[e].xo()}return r},i.g2=function(){if(!this.d2){var t=this.v2.shift();t&&(this.d2=t,t.$R())}},i._2=function(t){var n=t.yv,i=this.v2.indexOf(n);-1!==i&&Ze(this.v2,i),this.d2===n&&(this.d2=null,this.g2())},n}(jC);function _O(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function gO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function wO(t,n){return jo([t],{type:n})}var yO="iframe.html",mO=0,kO=k&&(k.bind&&k.bind(k)||k),pO=function(t){function n(n){var i;return(i=t.call(this)||this).m2=void 0,i.A2=[],i.b2=!1,i.Ho=function(t){return i.dispatchEvent(t)},n&&i.ta(n),i}F(n,t);var i=n.prototype;return i.postMessage=function(t){this.b2||(this.m2?this.m2.postMessage(t):this.A2.push(t))},i.ta=function(t){if(this.b2)t.terminate();else{this.m2=t,this.m2.addEventListener("message",this.Ho,!1),this.m2.addEventListener("error",this.Ho,!1);for(var n=0,i=this.A2;n<i.length;n++){var r=i[n];this.m2.postMessage(r)}this.A2.length=0}},i.terminate=function(){this.zo(),this.b2=!0,this.A2.length=0,this.m2&&(this.m2.removeEventListener("message",this.Ho,!1),this.m2.removeEventListener("error",this.Ho,!1),this.m2.terminate(),this.m2=void 0)},n}(jC);var AO=function(n){function i(i,r,e){var u,o,h;return(u=n.call(this)||this).Zl=void 0,u.T2=void 0,u.E2=void 0,u.S2=void 0,u.R2=void 0,u.I2=function(){return u.N2()},u.C2=function(t){return u.D2(t)},u.Zl=i,u.T2=r,u.E2=(o=e+yO,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.S2=u.E2.contentWindow,u.R2=Hf(e),u.E2.addEventListener("load",u.I2),t.addEventListener("message",u.C2),u}F(i,n);var r=i.prototype;return r.N2=function(){this.E2.removeEventListener("load",this.I2),this.S2.postMessage({type:"initialize",id:this.Zl,script:this.T2},"*")},r.D2=function(t){Hf(t.origin)===this.R2&&t.data.id===this.Zl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.S2.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.E2.removeEventListener("load",this.I2),t.removeEventListener("message",this.C2),this.S2.postMessage({type:"terminate"},"*"),this.E2.parentNode.removeChild(this.E2)},i}(jC);function bO(){return(bO=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=T.nl,t.prev=1,e=new Df({kv:n,Mv:Sf.GET,_v:Zo.es}),t.next=5,r.yv(e);case 5:return s=t.sent,t.next=8,s.Ls();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new v("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Wf?t.t0.ed.dv:-1,i({Rh:h,ih:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function TO(t,n){function i(i){return e(),it(r=i.data)&&"3.0.0"===r.O2?n(void 0,t):n(new v("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function EO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new kO(t)}catch(t){return n({message:t.message})}return TO(i,n)}var SO=!0;function RO(t,n){var i=mO++,r=t+n,e=new pO;function u(){!function(t,n,i,r){var e;function u(){h(),TO(e,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new AO(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.ta(n),i&&e.dispatchEvent(i))}return EO(r,function(t,n,i){t?function(t,n){bO.apply(this,arguments)}(r,function(t,n){t?t.Rh>=400?o(t.ih):u():n&&function(t,n){if(!SO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});EO(_O(wO(t,"application/javascript")),function(t,i,r){return t&&(SO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function IO(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function NO(t){return{get length(){return t.length},start:function(n){return IO(t,n|=0),t.start(n)},end:function(n){return IO(t,n|=0),t.end(n)}}}function CO(t,n){return t.$R-n.$R}var DO=function(){function t(t){this.P2=void 0,this.P2=t}var n=t.prototype;return n.start=function(t){return this.P2[t].$R},n.end=function(t){return this.P2[t].tI},n.B2=function(){return this.P2},M(t,[{key:"length",get:function(){return this.P2.length}}]),t}(),OO=new DO([]),xO=new DO([{$R:-1/0,tI:1/0}]);function PO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);e<=o&&s>=h||(s+n>=o?s=h:(r.push({$R:e,tI:s}),e=o,s=h))}return r.push({$R:e,tI:s}),new DO(r)}(function(t){var n=FO(t);return n.sort(CO),new DO(n)}(t),n)}function BO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var s=_.max(t.start(r),n.start(e)),u=_.min(t.end(r),n.end(e));s<u&&i.push({$R:s,tI:u}),t.end(r)<n.end(e)?r+=1:e+=1}return new DO(i)}function LO(t){var n=t.length;if(!n)return xO;var i=[],r=t.start(0);r!==-1/0&&i.push({$R:-1/0,tI:r});for(var e=0;e<n-1;e+=1)i.push({$R:t.end(e),tI:t.start(e+1)});var s=t.end(n-1);return s!==1/0&&i.push({$R:s,tI:1/0}),new DO(i)}function MO(t,n){return-1!==UO(t,n)}function UO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function FO(t){if(t instanceof DO)return t.B2();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({$R:t.start(i),tI:t.end(i)});return n}function HO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(FO)),PO(new DO(e));var i,r,e}var VO=.001;function XO(t,n,i){return i=+i||0,t.$R-i<=n.tI&&n.$R<=t.tI+i}function WO(t){var n={$R:NaN,tI:NaN,bZ:t};return qO(n),n}function qO(t){var n=t.bZ;n.length?(n.sort(CO),t.$R=n[0].$R,t.tI=n[n.length-1].tI):(t.$R=NaN,t.tI=NaN)}function zO(t){return void 0!==t.bZ}function GO(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=_.max(s.$R,n),o=_.min(s.tI,i);if(u<o){var h=void 0;h=s.$R===u&&s.tI===o?s:{$R:u,tI:o,Xp:s.Xp},r.push(h)}}return r}function jO(t,n){var i=_.min(t.$R,n.$R),r=_.max(t.tI,n.tI),e=t.bZ,s=n.bZ,u=e.concat(s),o=e.length?e[e.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.Xp===h.Xp&&XO(o,h,VO)&&u.splice(e.length-1,2,function(t,n){var i=t.Xp||n.Xp;return{$R:_.min(t.$R,n.$R),tI:_.max(t.tI,n.tI),Xp:i}}(o,h)),WO(u=GO(u,i,r))}var QO,YO,ZO,JO=function(){function t(t,n){this.P2=void 0,this.P2=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;zO(r)?qO(e=r):e=WO([r]),e.bZ.length&&e.$R<e.tI&&n.push(e)}return n}(t),n||this.L2()}var n=t.prototype;return n.start=function(t){return this.P2[t]&&this.P2[t].$R},n.end=function(t){return this.P2[t]&&this.P2[t].tI},n.bZ=function(t){return this.P2[t]&&this.P2[t].bZ},n.M2=function(t,n){return this.U2(t,t,n)},n.U2=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.F2=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.H2=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.V2=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.aw=function(t){return-1!==this.M2(t)},n.pI=function(t,n,i){return-1!==this.U2(t,n,i)},n.bI=function(t,n,i){return-1!==this.F2(t,n,i)},n.fI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=_.max(this.start(i),t.start(r)),s=_.min(this.end(i),t.end(r));if(e<s){var u=GO(this.bZ(i),e,s);n.push(WO(u))}this.end(i)<t.end(r)?i+=1:r+=1}return this.VQ(n,!0)},n.py=function(t){return this.length&&t.length?this.fI(LO(t)):this},n.wI=function(t){return this.length?t.length?this.VQ(this.P2.concat(t.P2)):this:t},n.X2=function(t){for(var n=[],i=0,r=this.P2;i<r.length;i++)for(var e=0,s=r[i].bZ;e<s.length;e++){var u=t(s[e]);u&&n.push(u)}return this.VQ(n)},n.SI=function(t){return this.X2(function(n){return t(n)?n:null})},n.W2=function(){if(!this.length)return this;for(var t=this.P2.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.q2(i,r)&&(t.splice(n,2,jO(i,r)),n-=1)}return this.VQ(t,!0)},n.q2=function(t,n){var i=t.bZ,r=n.bZ,e=i.length?i[i.length-1]:null,s=r.length?r[0]:null;return e&&s&&this.z2(e,s)},n.L2=function(){var t=this.P2;t.sort(CO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&XO(i,r,VO)&&(t.splice(n,2,jO(i,r)),n-=1)}},M(t,[{key:"length",get:function(){return this.P2.length}}]),t}(),$O=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.VQ=function(t,i){return new n(t,i)},i.z2=function(t,n){return n.Xp.jJ===t.Xp.jJ&&n.Xp.rZ===t.Xp.rZ+1},n}(JO);function KO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],s=t.G2(e),u=t.j2(e,s);i.push({$R:s.oy(),tI:u.oy(),Xp:e})}return new $O(i).W2()}function tx(t){return t.Q2!==QO.Y2}function nx(t){return 0===t.Q2}function ix(t){return t.Q2>=0}function rx(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,s=0,u=n.bZ(r);s<u.length;s++){var o=u[s];if(!e){var h=o.Xp;if(wD(h)&&tx(h)){if((e=ix(h))&&!nx(h)){var a=t.Z2(h,h.J2).oy();o={$R:_.max(o.$R,a),tI:o.tI,Xp:h}}}else e=!0;0}e&&i.push(o)}return new $O(i)}(YO=QO||(QO={})).Y2=-1,YO.K2=-2,function(t){t.t3="h.264",t.n3="mp3",t.i3="aac-lc",t.r3="he-aac"}(ZO||(ZO={}));var ex,sx,ux,ox,hx=function(){function t(){this.e3=0,this.P2=[],this.Ib={}}var n=t.prototype;return n.s3=function(t){this.P2=this.P2.concat(t.P2),this.e3+=t.Hl},n.u3=function(t,n,i){var r=this.e3,e=i-n;e>0&&(this.P2.push({o3:n,h3:i,a3:e,c3:r,f3:t}),this.e3+=e)},n.fh=function(t){for(var n=0,i=this.P2;n<i.length;n++){var r=i[n];if(r.c3<=t&&t<r.c3+r.a3)return r.f3[t+r.o3-r.c3]}},n.v3=function(t,n){for(var i=n,r=0,e=this.P2;r<e.length;r++)for(var s=e[r],u=s.h3,o=s.o3;o<u;o+=1,i+=1)t[i]=s.f3[o];return i},n.d3=function(){for(var t=new m(this.e3),n=0,i=0,r=this.P2;i<r.length;i++)for(var e=r[i],s=e.h3,u=e.o3;u<s;u+=1,n+=1)t[n]=e.f3[u];return t},n.mh=function(n){for(var i=new t,r=0,e=this.P2;r<e.length;r++){var s=e[r];i.u3(s.f3,s.o3,s.h3)}return i.Ib=n||ne({},this.Ib),i},M(t,[{key:"Hl",get:function(){return this.e3},set:function(t){var n=this.P2,i=this.e3-t;if(!(t>=this.e3))if(this.e3=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.a3)return e.h3-=i,e.a3-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.a3}else n.length=0}},{key:"Ls",get:function(){for(var t=new Array(this.e3),n=0,i=0,r=this.P2;i<r.length;i++)for(var e=r[i],s=e.h3,u=e.o3;u<s;u+=1,n+=1)t[n]=e.f3[u];return t}}]),t}();function ax(t,n){return{audio:t.audio?gx(t.audio,n):void 0,video:t.video?Ax(t.video,n):void 0,l3:t.l3?(i=t.l3,{_3:i._3,hK:i.hK,o_:i.o_,g3:i.g3,w3:i.w3,y3:i.y3,m3:i.m3.map(cx),c_:[]}):void 0,A3:t.A3?t.A3.map(vx):t.A3,b3:t.b3.Sm()};var i}function cx(t){return{Kk:t.Kk,Ib:{T3:t.Ib.T3,E3:t.Ib.S3.Sm()},rV:t.rV}}function fx(t){return{Kk:t.Kk,Ib:{T3:t.Ib.T3,S3:Og(t.Ib.E3)},rV:t.rV}}function vx(t){return{S3:t.S3.Sm(),WA:t.WA,yj:t.yj,wj:t.wj,co:t.co,R3:t.R3,mj:t.mj,kj:t.kj}}function dx(t){return{S3:Og(t.S3),WA:t.WA,yj:t.yj,wj:t.wj,co:t.co,R3:t.R3,mj:t.mj,kj:t.kj}}function lx(t){return{_3:t._3,rV:[],I3:t.I3,N3:t.N3,duration:t.duration,C3:t.C3,D3:t.D3.Sm(),O3:t.O3,x3:t.x3.Sm(),P3:t.P3,B3:t.B3.Sm(),L3:t.L3.Sm(),M3:t.M3.Sm(),U3:t.U3.Sm(),F3:t.F3.Sm(),H3:t.H3.Sm(),V3:t.V3.Sm()}}function _x(t){return{_3:t._3,rV:[],I3:t.I3,N3:t.N3,duration:t.duration,C3:t.C3,D3:Og(t.D3),O3:t.O3,x3:Og(t.x3),P3:t.P3,B3:Og(t.B3),L3:Og(t.L3),M3:Og(t.M3),U3:Og(t.U3),F3:Og(t.F3),H3:Og(t.H3),V3:Og(t.V3)}}function gx(t,n){switch(t.I3){case ZO.i3:case ZO.r3:return function(t,n){return ne({},yx(t),{I3:t.I3,rV:t.rV.map(function(t){return function(t,n){var i=(r=t.Ib,ne({},Ex(r),{X3:r.X3,W3:r.W3,q3:r.q3}));var r;return kx(t.mh(i),n)}(t,n)}),T$:t.T$,z3:t.z3})}(t,n);case ZO.n3:return function(t,n){return ne({},yx(t),{I3:t.I3,rV:t.rV.map(function(t){return function(t,n){var i=(r=t.Ib,ne({},Ex(r),{ep:r.ep,Bp:r.Bp,G3:r.G3,j3:r.j3,Q3:r.Q3}));var r;return kx(t.mh(i),n)}(t,n)})})}(t,n)}}function wx(t){switch(t.I3){case ZO.i3:case ZO.r3:return function(t){return ne({},mx(t),{I3:t.I3,rV:t.rV.map(function(t){return function(t){var n=px(t),i=(r=n.Ib,ne({},Sx(r),{X3:r.X3,W3:r.W3,q3:r.q3}));var r;return n.mh(i)}(t)}),T$:t.T$,z3:t.z3})}(t);case ZO.n3:return function(t){return ne({},mx(t),{I3:t.I3,rV:t.rV.map(function(t){return function(t){var n=px(t),i=(r=n.Ib,ne({},Sx(r),{ep:r.ep,Bp:r.Bp,G3:r.G3,j3:r.j3,Q3:r.Q3}));var r;return n.mh(i)}(t)})})}(t)}}function yx(t){return ne({},lx(t),{rV:[],I3:t.I3,Y3:t.Y3,Z3:t.Z3,J3:t.J3,K3:t.K3})}function mx(t){return ne({},_x(t),{rV:[],I3:t.I3,Y3:t.Y3,Z3:t.Z3,J3:t.J3,K3:t.K3})}function kx(t,n){var i=t.d3();return n.push(i.buffer),{t4:i,n4:t.Hl,i4:t.Ib}}function px(t){var n=new hx;return n.u3(t.t4,0,t.n4),n.Ib=t.i4,n}function Ax(t,n){return ne({},lx(t),{I3:t.I3,rV:t.rV.map(function(t){return function(t,n){var i=(r=t.Ib,ne({},bx(r),{G_:r.G_,r4:r.r4.Sm(),e4:r.e4,s4:r.s4,u4:r.u4&&r.u4.Sm(),o4:r.o4&&r.o4.Sm(),h4:r.h4,a4:r.a4,A3:r.A3,c4:r.c4}));var r;return kx(t.mh(i),n)}(t,n)}),f4:t.f4,v4:t.v4,pA:t.pA,width:t.width,height:t.height,d4:t.d4,l4:t.l4,_4:t._4,y$:t.y$,m$:t.m$,xA:t.xA,PA:t.PA})}function bx(t){var n;return ne({},{T3:(n=t).T3,E3:n.E3.Sm()},{g4:t.g4.Sm(),w4:t.w4.Sm()})}function Tx(t){var n;return ne({},{T3:(n=t).T3,E3:Og(n.E3)},{g4:Og(t.g4),w4:Og(t.w4)})}function Ex(t){return ne({},bx(t))}function Sx(t){return ne({},Tx(t))}function Rx(t){var n=t.video,i=n&&n.rV;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].Ib.h4)return r}return NaN}function Ix(t){var n=t.y4.video,i=n&&n.rV;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].Ib.h4)return r}return NaN}function Nx(t){if(!t)return null;switch(t.I3){case ZO.t3:return function(t){return t.pA?"avc1."+(t.d4<16?"0":"")+((t.d4<<16)+(t.l4<<8)+t._4).toString(16):null}(t);case ZO.n3:return"mp4a.40.34";case ZO.i3:return t.z3?"mp4a.40.5":"mp4a.40.2";case ZO.r3:return"mp4a.40.5";default:return null}}function Cx(t,n){var i=t.info,r=i.jJ,e=t.y4,s=r.SZ(t.info.rZ-1),u=e.audio||void 0,o=e.video||void 0,h=u&&Nx(u),a=o&&Nx(o),c=(!u||h)&&(!o||a)?{EJ:h,SJ:a}:null,f=u&&!y(u.P3)?u.P3:null,v=o&&!y(o.P3)?o.P3:null,d=Xg(u&&u.L3,o&&o.L3),l=Xg(u&&u.M3,o&&o.M3),g=Wg(u&&u.H3,o&&o.H3),w=Wg(u&&u.V3,o&&o.V3),m=o&&o.D3.hw(Cg.lm(o.duration)),k=u&&u.D3.hw(Cg.lm(u.duration)),p=wD(s),A=p&&s.width||r.resolution&&r.resolution.width,b=p&&s.width||r.resolution&&r.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),m4:i,duration:m&&k?Cg.om(m,k).oy():(m||k||Cg.Cy).oy(),A4:d,b4:l,T4:g,E4:w,audio:{start:_.max(0,f||0),duration:u&&u.C3||0,I3:h,e0:u&&u.O3,A4:u&&u.L3,b4:u&&u.M3,T4:u&&u.H3,E4:u&&u.V3},video:{start:_.max(0,v||0),duration:o&&o.C3||0,I3:a,e0:o&&o.O3,A4:o&&o.L3,b4:o&&o.M3,T4:o&&o.H3,E4:o&&o.V3},zB:o?{width:o.width||A,height:o.height||b}:null,rZ:i.rZ,size:n,quality:r,C$:c,S4:i.S4,R4:i.R4}}function Dx(t,n){var i,r,e,s,u={start:0,duration:0,I3:null,e0:null,A4:null,b4:null,T4:null,E4:null};return"EJ"===n?(r=u,e=i=ne({},u,t.video),s=t.zB):(r=i=ne({},u,t.audio),e=u,s=null),{start:i.start,m4:t.m4,duration:i.duration,A4:i.A4,b4:i.b4,T4:i.T4,E4:i.E4,audio:r,video:e,zB:s,rZ:t.rZ,size:t.size,quality:t.quality,C$:t.C$,S4:t.S4,R4:t.R4}}function Ox(t,n){return t+"I4"+n.rZ+"N4"+n.uri}!function(t){t.C4="D4",t.O4="x4"}(ex||(ex={})),function(t){t.P4="B4",t.ZY="L4"}(sx||(sx={})),function(t){t.M4="U4",t.O4="x4"}(ux||(ux={})),function(t){t.F4="H4",t.V4="X4"}(ox||(ox={}));var xx=function(t){function n(n){var i;return(i=t.call(this)||this).ba=void 0,i.W4=re(),i.q4=void 0,i.z4=void 0,i.G4=function(t){var n=t.data,r=n.j4;if(i.W4.get(r))switch(n.Q4){case sx.P4:0;var e=n.Y4;i.Z4(r,e);break;case sx.ZY:var s=n.J4;i.K4(r,new ZC(YC.GY,{code:s}));default:0}},i.t5=function(t){var n,r,e,s,u=t.data,o=u.n5;if(i.W4.get(o))switch(u.i5){case ox.F4:0;var h=u.r5;i.e5(o,{audio:(n=h).audio?wx(n.audio):void 0,video:n.video?(e=n.video,s=_x(e),ne({},s,{I3:e.I3,rV:e.rV.map(function(t){return function(t){var n,i=px(t),r=ne({},Tx(n=i.Ib),{G_:n.G_,r4:Og(n.r4),e4:n.e4,s4:n.s4,u4:n.u4&&Og(n.u4),o4:n.o4&&Og(n.o4),h4:n.h4,a4:n.a4,A3:n.A3,c4:n.c4});return i.mh(r)}(t)}),f4:e.f4,v4:e.v4,pA:e.pA,width:e.width,height:e.height,d4:e.d4,l4:e.l4,_4:e._4,y$:e.y$,m$:e.m$,xA:e.xA,PA:e.PA})):void 0,l3:n.l3?(r=n.l3,{_3:r._3,hK:r.hK,o_:r.o_,g3:r.g3,w3:r.w3,y3:r.y3,m3:r.m3.map(fx),c_:[]}):void 0,A3:n.A3?n.A3.map(dx):n.A3,b3:Og(n.b3)});break;case ox.V4:var a=u.s5;i.K4(o,new ZC(YC.GY,{code:a}));default:0}},i.u5=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"ih",ih:new ZC(YC.tZ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};gt(n.ih.info.code),i.dispatchEvent(n)}else 0},i.ba=n,i.z4=i.o5(),i}F(n,t);var i=n.prototype;return i.xo=function(t){var n=[];this.W4.forEach(function(i,r){t&&i.Pp!==t||n.push(r)}),this.h5(n)},i.h5=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.W4.delete(i)}if(t.length){if(this.q4){var r={a5:ex.O4,c5:t};this.q4.postMessage(r)}if(this.z4){var e={f5:ux.O4,v5:t};this.z4.postMessage(e)}}},i.K4=function(t,n){var i=this.W4.get(t);if(i){var r=i.jD;this.W4.delete(t),r(n)}},i.d5=function(t,n,i,r){this.q4||(this.q4=this.l5());var e={a5:ex.C4,_5:t,g5:n,w5:i,y5:r};this.q4.postMessage(e)},i.m5=function(t,n){this.z4||(this.z4=this.o5());var i={f5:ux.M4,k5:t,p5:n,A5:this.W4.get(t).b5};this.z4.postMessage(i)},i.Z4=function(t,n){this.m5(t,n)},i.l5=function(){var t=RO(this.ba.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.G4),t.addEventListener("error",this.u5),t},i.T5=function(t){var n=t.y4.video,i=n&&n.rV&&n.rV[0];i&&i.Ib.h4},i.e5=function(t,n){var i=this.W4.get(t),r=i.jD,e=i.E5,s={y4:n,info:i.S5,metadata:null};this.T5(s),function(t){var n=t.info.jJ.SZ(t.info.rZ-1),i=t.y4;t.info.R4=t.info.RZ,n&&(i.audio||i.video?i.video&&!i.video.v4&&!i.video.f4&&i.video.O3&&n.x$&&i.video.O3!==n.x$?t.info.R4=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.R4=!0):t.info.R4=!0)}(s),Cx(s,e),function(t){var n=t.info,i=n.jJ,r=t.metadata,e=t.y4;if(n.R5=Cg.lm(r.duration),n.$Z=e.audio&&e.audio.D3.hw(Cg.lm(e.audio.duration))||Cg.Cy,n.KZ=e.video&&e.video.D3.hw(Cg.lm(e.video.duration))||Cg.Cy,n.I5=e.audio&&e.audio.D3||Cg.Cy,n.N5=e.video&&e.video.D3||Cg.Cy,n.C5=r.audio.A4,n.D5=r.audio.b4,n.O5=r.video.A4,n.x5=r.video.b4,n.JZ=r.A4,n.P5=r.b4,n.B5=r.audio.T4,n.L5=r.audio.E4,n.M5=r.video.T4,n.U5=r.video.E4,n.T4=r.T4,n.E4=r.E4,e.video){var s=Rx(t.y4),u=e.video.rV&&e.video.rV[s];u?(n.Q2=s,n.J2=u.Ib.g4,n.F5=u.Ib.w4):n.Q2=QO.K2}else n.Q2=QO.Y2;n.x$=e.video&&e.video.O3||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"W$",S5:t.info}),!i.resolution&&r.zB&&(i.resolution=r.zB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.C$||i.C$&&!i.C$.EJ==!r.C$.EJ&&!i.C$.SJ==!r.C$.SJ||i.R$(r.C$),e.audio&&void 0!==e.audio.T$&&(i.T$=e.audio.T$),i.y$=e.video&&e.video.y$||i.y$,i.m$=e.video&&e.video.m$||i.m$,i.k$=e.audio&&e.audio._3||void 0,i.p$=e.video&&e.video._3||void 0,i.A$=e.audio&&e.audio.I3||void 0,i.b$=e.video&&e.video.I3||void 0,i.E$=e.audio&&e.audio.O3||void 0,i.x$=e.video&&e.video.O3||void 0}(s),this.W4.delete(t),r(null,s)},i.o5=function(){var t=RO(this.ba.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.t5),t.addEventListener("error",this.u5),t},i.H5=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var s=i;i=void 0,e.W4.has(n)&&e.d5(n,s,t,r.iv)}).catch(function(t){i=void 0,e.W4.has(n)&&e.K4(n,t)})},i.V5=function(t,n,i,r,e,s){var u=Ox(t,r),o=r.jJ;this.W4.set(u,{Pp:t,S5:r,b5:{X5:r.duration,C$:o.C$,y$:o.y$,m$:o.m$,k$:o.k$,p$:o.p$,A$:o.A$,b$:o.b$,T$:!this.ba.skipImplicitHEAACDetection&&o.T$,W5:e},E5:i.length,jD:s}),r.key?this.H5(n,u,i,r.key):this.m5(u,i)},i.q5=function(t){var n=[];return this.W4.forEach(function(i){i.Pp===t&&n.push(i.S5)}),n},i.z5=function(t,n){var i=Ox(t,n);return this.W4.has(i)},i.qv=function(){this.xo(),this.q4&&(this.q4.terminate(),this.q4=void 0),this.z4&&(this.z4.terminate(),this.z4=void 0)},n}(jC);function Px(t,n){return t+"G5"+n}function Bx(t){return Px(t.jJ.Zl,t.rZ)}function Lx(t){return!(!t||!t.y4)}var Mx=function(){function t(t,n,i){this.j5=void 0,this.bb=void 0,this.Q5=[],this.Y5=re(),this.Z5=1,this.J5=void 0,this.bb=t,this.j5=n,this.J5=i}var n=t.prototype;return n.K5=function(t){var n=Bx(t.info);if(this.Y5.has(n))this.t6(t.info,t);else{this.Q5.push(n),this.Y5.set(n,t);for(var i=this.j5.n6+10;this.Q5.length>8*this.i6&&this.r6>i*this.i6;){var r=this.Y5.get(this.Q5[0]),e=this.J5.e6,s=null==r?void 0:r.info;if(s){var u=s.start,o=u+s.duration,h=new sA([u,o]),a=e,c=a+this.j5.n6;if(new sA([a,c]).fI(h).Hl>0)break}this.Y5.delete(this.Q5.shift())}}},n.s6=function(t,n){var i=Px(t,n),r=this.Y5.get(i),e=this.Q5.indexOf(i);return!(!r||-1===e)&&(Ze(this.Q5,e),this.Y5.delete(i),!0)},n.lh=function(){this.Q5.length=0,this.Y5.clear()},n.u6=function(){for(var t={},n=0,i=this.Q5;n<i.length;n++){var r=i[n],e=this.Y5.get(r);Lx(e)&&(t[e.info.jJ.Zl]=(t[e.info.jJ.Zl]||0)+1)}return t},n.o6=function(t,n){var i=[],r=this.h6(t,n);if(!Lx(r))return i;do{i.push(r),n+=1,r=this.h6(t,n)}while(Lx(r));return i},n.a6=function(t,n){return!!this.h6(t,n)},n.c6=function(t,n){return Lx(this.h6(t,n))},n.h6=function(t,n){return this.Y5.get(Px(t,n))},n.t6=function(t,n){var i=Bx(t),r=this.Q5.indexOf(i);return-1!==r&&(Ze(this.Q5,r),this.Q5.push(i),n&&this.Y5.set(i,n),!0)},n.f6=function(){for(var t=[],n=0,i=this.Q5;n<i.length;n++){var r=i[n],e=this.Y5.get(r);t.push(e.info)}return t},n.v6=function(){for(var t=[],n=0,i=this.Q5;n<i.length;n++){var r=i[n],e=this.Y5.get(r);e&&Lx(e)&&t.push(e.info)}return t},M(t,[{key:"r6",get:function(){for(var t=KO(this.bb,this.f6()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"i6",get:function(){return this.Z5},set:function(t){t>0&&(this.Z5=_.max(t,1))}}]),t}();var Ux=Y.Ue?function(t,n){return Vg(t.g4,n.g4)}:function(t,n){return Vg(t.w4,n.w4)};function Fx(t,n,i,r){if(!t)return i;if(!i)return t;if(t.I3===i.I3){var e,s,u=t.f4||i.f4;if(u)s=1/(e=t.x3.hw(i.x3).Ky(2)).oy();else{if(t.O3!==i.O3)return;if(!t.x3.Gw(i.x3))return;e=t.x3,s=t.O3}if(t.width===i.width&&t.height===i.height){var o,h=t.v4||i.v4||!t.x3.Gw(i.x3);if(t.rV)if(i.rV)if(r)o=t.rV.concat(i.rV),Hx(t.rV,i.rV,Xx);else{!function(t,n,i){var r=t.length,e=Cg.Cy;t=We(t,function(t,n){return Ux(t.Ib,n.Ib).ay(Cg.Cy)});for(var s=1;s<r;s+=1){var u=t[s-1].Ib,o=t[s].Ib,h=Ux(o,u);h._y(Cg.Cy)&&(h=n),e=e.hw(h),u.r4=h,u.G_=h.oy()}if(r>0){var a=t[r-1].Ib,c=Cg.um(Cg.lm(_.round(i-e.oy())),n);a.r4=c,a.G_=c.oy()}}(n.rV.concat(i.rV),e,n.duration+i.duration),o=t.rV.concat(i.rV),Hx(t.rV,i.rV,Xx)}else o=t.rV;else o=i.rV;return{I3:t.I3,d4:t.d4,_4:t._4,l4:t.l4,O3:s,x3:e,f4:u,v4:h,width:t.width,height:t.height,y$:t.y$,m$:t.m$,pA:t.pA,duration:t.duration+i.duration,C3:t.C3+i.C3,D3:t.D3,P3:t.P3,B3:t.B3,L3:t.L3,M3:t.M3,U3:qx(i.U3,t.U3),F3:qx(i.F3,t.F3),H3:qx(i.H3,t.H3),V3:qx(i.V3,t.V3),rV:o,N3:t.N3||i.N3,xA:t.xA,PA:t.PA}}}}function Hx(t,n,i){var r=n[0].Ib.E3,e=t[t.length-1].Ib.E3,s=r.py(e),u=Vg(r,e).py(s);if(!u.By())for(var o=0;o<n.length;o++){i(n[o].Ib,u)}}function Vx(t,n){t.w4=t.w4.hw(n),t.g4=t.g4.hw(n),t.E3=t.E3.hw(n)}function Xx(t,n){Vx(t,n),t.r4=t.r4.hw(n),t.o4=Wx(t.o4,n),t.u4=Wx(t.u4,n)}function Wx(t,n){if(t)return t.hw(n)}function qx(t,n){return n.hw(Vg(t,n))}function zx(t,n){var i={audio:void 0,video:void 0,b3:t.b3};if("video"===n){if(!t.audio)return i;i.audio={I3:t.audio.I3,O3:t.audio.O3,x3:t.audio.x3,duration:t.audio.duration,C3:t.audio.C3,D3:Cg.Cy,P3:t.audio.P3,B3:t.audio.B3,L3:t.audio.L3,M3:t.audio.M3,U3:t.audio.U3,F3:t.audio.F3,H3:t.audio.H3,V3:t.audio.V3,rV:t.audio.rV,K3:t.audio.K3,J3:t.audio.J3,N3:t.audio.N3,Y3:t.audio.Y3,Z3:t.audio.Z3}}if("audio"===n){if(!t.video)return i;i.video={I3:t.video.I3,d4:t.video.d4,_4:t.video._4,l4:t.video.l4,O3:t.video.O3,x3:t.video.x3,f4:t.video.f4,v4:t.video.v4,width:t.video.width,height:t.video.height,y$:t.video.y$,m$:t.video.m$,xA:t.video.xA,PA:t.video.PA,pA:t.video.pA,duration:t.video.duration,C3:t.video.C3,D3:Cg.Cy,P3:t.video.P3,B3:t.video.B3,L3:t.video.L3,M3:t.video.M3,U3:t.video.U3,F3:t.video.F3,H3:t.video.H3,V3:t.video.V3,rV:t.video.rV,N3:t.video.N3}}return i}function Gx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.I3===n.I3||!t.I3||!n.I3)&&t.O3===n.O3&&t.x3.Gw(n.x3)&&t.J3===n.J3)return t.rV?n.rV?(i=t.rV.concat(n.rV),Hx(t.rV,n.rV,Vx)):i=t.rV:i=n.rV,{I3:t.I3,O3:t.O3,x3:t.x3,duration:t.duration+n.duration,C3:t.C3+n.C3,D3:t.D3,P3:t.P3,B3:t.B3,L3:t.L3,M3:t.M3,U3:qx(n.U3,t.U3),F3:qx(n.F3,t.F3),H3:qx(n.H3,t.H3),V3:qx(n.V3,t.V3),rV:i,J3:t.J3,K3:t.K3,N3:t.N3||n.N3,Y3:t.Y3,Z3:t.Z3}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var s=Fx(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||s)return{audio:e,video:s,b3:t.b3}}}function jx(t){return zx(t,"audio")}function Qx(t){return zx(t,"video")}var Yx,Zx,Jx,$x=function(){function t(t){this.d6=void 0,this.IQ=0,this.l6=0,this.d6=_.exp(_.log(.5)/t)}var n=t.prototype;return n._6=function(t,n){var i=_.pow(this.d6,t),r=n*(1-i)+i*this.IQ;y(r)||(this.IQ=r,this.l6+=t)},n.g6=function(){var t=1-_.pow(this.d6,this.l6);return this.IQ/t},t}(),Kx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.w6=void 0,this.y6=void 0,this.m6=0,this.k6=void 0,this.p6=5e5,this.w6=new $x(t),this.y6=new $x(n),this.k6=i}var n=t.prototype;return n._6=function(t,n){var i=8e3*n/t,r=t/1e3;this.m6+=n,this.w6._6(r,i),this.y6._6(r,i)},n.g6=function(){return this.A6()?_.min(this.w6.g6(),this.y6.g6()):this.p6},n.A6=function(){return this.m6>=this.k6},t}(),tP=function(){function t(){this.w6=new $x(2),this.y6=new $x(5),this.b6=0,this.T6=1,this.p6=100}var n=t.prototype;return n._6=function(t){this.b6+=1,this.w6._6(1,t),this.y6._6(1,t)},n.g6=function(){return this.A6()?_.min(this.w6.g6(),this.y6.g6()):this.p6},n.A6=function(){return this.b6>=this.T6},t}(),nP=function(){function t(t,n){var i=this;this.E6=void 0,this.yv=void 0,this.H1=void 0,this.S6=!1,this.R6=0,this.I6=0,this.N6=function(){return i.C6()},this.E6=t,this.yv=n,this.H1=n.H1,this.H1.addEventListener("Wh",this.N6)}return t.prototype.C6=function(){var t=this.H1.o2,n=1e3*this.H1.c2,i=1e3*this.H1.og;this.H1.U0&&(this.S6||(this.E6.D6(i),this.S6=!0),n>this.I6&&(this.E6.O6(n-this.I6,t-this.R6),this.R6=t,this.I6=n))},t}(),iP=function(){function t(){this.x6=void 0,this.P6=void 0,this.x6=new Kx,this.P6=new tP}var n=t.prototype;return n.B6=function(t){new nP(this,t)},n.O6=function(t,n){this.x6._6(t,n)},n.D6=function(t){this.P6._6(t)},n.qv=function(){},M(t,[{key:"L6",get:function(){return this.P6.g6()/1e3}},{key:"M6",get:function(){return this.x6.g6()}}]),t}(),rP=function(){function t(){this.U6=re()}var n=t.prototype;return n.F6=function(t,n){var i,r,e=this.U6.get(t);return void 0!==e&&(i=e.YZ,r=n,rt(i)?i===r:function(t,n){return t.YZ===n.YZ&&t.ZZ.$R===n.ZZ.$R&&t.ZZ.tI===n.ZZ.tI}(i,r))},n.H6=function(t,n){if(this.F6(t,n))return this.U6.get(t).Ls},n.V6=function(t,n,i){this.U6.set(t,{YZ:n,Ls:i})},n.lh=function(){this.U6.clear()},t}();!function(t){t[t.X6=0]="X6",t[t.W6=5]="W6",t[t.q6=13]="q6",t[t.z6=14]="z6",t[t.G6=15]="G6"}(Yx||(Yx={})),function(t){t[t.j6=0]="j6",t[t.Q6=1]="Q6",t[t.Y6=2]="Y6",t[t.Z6=11]="Z6",t[t.J6=13]="J6",t[t.K6=14]="K6"}(Zx||(Zx={})),function(t){t[t.t8=0]="t8",t[t.n8=1]="n8",t[t.i8=2]="i8",t[t.r8=3]="r8",t[t.e8=4]="e8",t[t.s8=5]="s8",t[t.u8=6]="u8",t[t.o8=7]="o8"}(Jx||(Jx={}));var eP=5,sP=5,uP=.5;function oP(t){if(!t.y4.video)return[];for(var n=[],i=0;i<t.y4.video.rV.length;i++){var r=t.y4.video.rV[i].Ib;r.h4&&n.push({h8:i,a8:r.g4})}return n}var hP=Cg.lm(.04),aP=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).j5=void 0,s.ba=void 0,s.c8=void 0,s.qb=void 0,s.f8=void 0,s.v8=void 0,s.d8=void 0,s.l8=re(),s._8=void 0,s.g8=re(),s.w8=1,s.ba=n,s.c8=i,s.qb=r,s.f8=new rP,s.j5=e,s.v8=new lO(r,n),s.d8=new iP,s._8=new xx(n),s._8.addEventListener("ih",function(t){s.dispatchEvent(t)}),s}F(n,t);var i=n.prototype;return i.y8=function(t){this._8.xo(t),this.v8.lh(!1,t)},i.lh=function(t){this.y8(t),t?this.l8.get(t).lh():this.l8.forEach(function(t){return t.lh()})},i.qv=function(){this.zo(),this.v8.lh(),this.l8.forEach(function(t){return t.lh()}),this.l8.clear(),this._8.qv()},i.Bl=function(t,n,i){if(!this.l8.has(t)){var r=new Mx(n,this.j5,i);r.i6=this.i6,this.l8.set(t,r)}},i.m8=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=String(i.Zl),!this.f8.F6(e,r)){t.next=3;break}return t.abrupt("return",this.f8.H6(e,r));case 3:return s=bD(i.D$),t.t0=m,t.next=7,this.v8.w2(n,r,Zo.Pc,If.Sv,s);case 7:return t.t1=t.sent,u=new t.t0(t.t1),this.f8.V6(e,r,u),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.k8=function(t,n,i,r){var e=this.l8.get(t),s=e.h6(n.jJ.Zl,n.rZ);if(e.c6(n.jJ.Zl,n.rZ))e.t6(n),this.dispatchEvent({type:"p8",Pp:t,A8:s});else{if(!s)return this.b8(t,n,i,r);e.t6(n),this.T8(t,n,i,s.E8)}return r&&r(),null},i.b8=function(t,n,i,r){var e=this,s=this.l8.get(t),u=function(t,n){return t+"S8"+n.rZ+"N4"+n.uri}(t,n);if(this.g8.has(u))return null;this.g8.set(u,!0);var o=bD(n.jJ.D$),h=this.v8.Vh(t,n.uri,Zo.Pc,If.Av,o,function(o,a){return e.g8.delete(u),o?r&&r(o):(e.dispatchEvent({type:"R8",Pp:t}),s.c6(n.jJ.Zl,n.rZ)||s.K5({info:n,E8:h.ed}),e.k8(t,n,i),r&&r(o,a))});return this.d8.B6(h),h},i.T8=function(t,n,i,r){var e=this,s=this.l8.get(t);this._8.z5(t,n)||(n&&n.key&&this.c8.getKey(n.key).catch(R),this._8.V5(t,this.c8,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"ih",ih:n});s.K5(i),e.dispatchEvent({type:"p8",Pp:t,A8:i})}))},i.I8=function(t,n,i){var r=i.length,e="EJ"===t?fP:vP;if(!cP(n,i))return null;if(r<=1)return i;for(var s=1;s<r;s+=1){var u=i[s],o=i[s-1];if(u.metadata.R4){if("N8"===this.ba.C8||e(u,o)){var h=i.splice(0,s);return cP(n,h)?h:this.I8(t,n,i)}0}}return i},i.D8=function(t,n,i,r){for(var e=this.l8.get(t).v6(),s=r.O8,u=function(t){var r=i[t],u=e.filter(function(t){return t.jJ===r}),o=KO(n,u),h=o.M2(s.oy(),hP.oy());if(h>=0&&Cg.lm(o.end(h)).py(s).vy(hP))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.x8=function(t,n,i,r,e){if(!Y.Pe)return!0;if(e.P8||this.D8(t,n,i,e))return!0;var s=Cg.um(r,e.B8);return e.O8.py(s).vy(Cg.lm(2))},i.L8=function(t,n,i,r,e,s,u,o){var h=n.o6(e.Zl,s),a=this.I8(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.G2(f.info),d=EP(t,r,f);if("SJ"!==t||function(t,n,i){return!!t&&t.Xp.jJ===n&&i.vy(Cg.lm(t.tI))&&i._y(Cg.lm(t.tI).hw(hP))}(i,e,d))return{bZ:a,M8:Cg.om(v,d)};f.y4.video&&(f=(a=yP(a,function(t,n,i,r){for(var e=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=oP(o),a=0;a<h.length;a++){var c=h[a];if(n.Z2(o.info,c.a8).hy(i.py(r)))return{U8:e,F8:s};e=u,s=c.h8}return{U8:e,F8:s}}(a,r,u,o)))[0]);if(d=EP(t,r,f),function(t){var n=t.y4.video,i=n&&n.rV,r=i&&i[0],e=r&&r.Ib.h4;if(!n)return!0;return!!e}(f))return{bZ:a,M8:Cg.om(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=Rx(t[n].y4);if(!y(i))return{U8:n,F8:i}}return null}(a),_=Cg.um(u,AP(t,r,e.SZ(s)));if(f.info.rZ===s){if(l&&(d=EP(t,r,(c=yP(a,l))[0]),_.py(d).vy(o)))return{bZ:c,M8:Cg.om(v,d)};for(var g=s-1;n.c6(e.Zl,g);){var w=n.o6(e.Zl,g);if((f=(c=this.I8(t,s,w))&&c[0]&&wP(c[0],Ix(c[0])))&&(d=EP(t,r,f),_.py(d).vy(o)))return c[0]=f,{bZ:c,M8:Cg.om(v,d)};g-=1}}return function(t){if(t.RZ)return!1;var n=t.jJ;if(n.EZ&&n.EZ.live)return!1;if(!n.SZ(t.rZ-1))return!1;return!0}(a[0].info)?null:l?{bZ:a=yP(a,l),M8:v}:null},i.H8=function(t,n,i,r,e,s,u,o,h,a,c){var f=s.V8(o,h,n),v=f&&f.Xp;if(!v)return null;var d=v.rZ;do{var l=d,_=o.SZ(l),g=AP(n,s,_);if(!bP(n,s,_).wy(h)||_.S4){if(g.hw(hP).hy(a))break;if(Cg.um(Cg.Cy,h.py(g)).wy(c)&&i.c6(o.Zl,l-1)&&i.c6(o.Zl,l))i.h6(o.Zl,l).metadata.R4||(l-=1);var w=this.X8(t,n,i,r,e,s,u,o,l,h,c);if(w&&(gP(w,h,a)||w.P8))return w}}while(i.c6(o.Zl,++d));return null},i.X8=function(t,n,i,r,e,s,u,o,h,a,c){var f=o.SZ(h),v=this.L8(n,i,r,s,o,h,a,c),d=v&&v.bZ,l=v&&v.M8,g=d&&d[d.length-1],w=g&&g.metadata.S4;if(!(d=function(t,n){if(!n||!n.length)return n;var i="EJ"===t?dP:lP;return n.map(i).filter(_P)}(n,d))||!d.length){if(w){var y=[],m=s.G2(g.info);return y.W8=m,y.q8=m,y.B8=m,y.z8=m,y.O8=m,y.P8=w,y}return null}var k=d="SJ"===n?function(t,n,i){var r=i[0].y4.video;return i[0].info.RZ?function(t,n,i,r){var e=Qe(r.rV,function(t){return t.Ib.h4});if(e<0)return i;var s=r.rV[e].Ib,u=n.Z2(i[0].info,s.g4),o=SP(t,u);if(o.Ay())return i;var h=u.py(o).hm(xg,Sg.Em);if(h._y(Cg.Cy))return i;var a=NP(r.rV.slice(e),h);return i[0]=kP(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.x3.Yy(eP),s=r.rV[0].Ib,u=n.Z2(i[0].info,s.w4),o=RP(t,u,e);if(o.Ay())return i;var h=u.py(o).hm(xg,Sg.Em);if(h._y(Cg.Cy)||h.hy(e))return i;var a=NP(r.rV,h);return i[0]=kP(i[0],a),i}(t,n,i,r)}(e,s,d):function(t,n,i){var r;if((null==(r=i[0].y4.audio)?void 0:r.I3)===ZO.n3)return i;var e=i[0].y4.audio,s=e.rV[0].Ib;return i[0].info.RZ?function(t,n,i,r,e){var s=n.Z2(i[0].info,e.g4),u=SP(t,s);if(u.Ay())return i;var o=s.py(u).oy(),h=_.floor(o/r.x3.oy());if(h<=0)return i;var a=IP(r,h);return i[0]=mP(i[0],a),i}(t,n,i,e,s):function(t,n,i,r,e){var s=n.Z2(i[0].info,e.w4),u=RP(t,s,r.x3.Yy(sP));if(u.Ay())return i;var o=s.py(u).oy(),h=_.round(o/r.x3.oy());if(0===h||_.abs(h)>sP)return i;var a=IP(r,h);return i[0]=mP(i[0],a),i}(t,n,i,e,s)}(e,s,d),p=k[0];if(f.rZ<p.info.rZ&&(l=s.G2(f)),k.W8=l,k.q8=function(t,n,i){return n.Z2(i.info,TP(t,i).b4)}(n,s,p),k.B8=EP(n,s,p),k.z8=function(t,n,i){return n.Z2(i.info,TP(t,i).E4)}(n,s,k[k.length-1]),k.O8=function(t,n,i){return n.Z2(i.info,TP(t,i).T4)}(n,s,k[k.length-1]),k.P8=w,!this.x8(t,s,u,a,k))return null;var A=p.y4.video;return!A||(A.y$=A.y$||o.y$,A.m$=A.m$||o.m$,A.y$&&A.m$)?k:null},i.G8=function(t,n,i,r,e,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.H8(t,n,i,r,e,s,u,v,o,h,a);d&&(c&&!d.B8.wy(c.B8)||(c=d))}return c},i.j8=function(t,n,i,r,e,s,u,o,h){for(var a=Cg.lm(u),c=Cg.lm(o),f=Cg.lm(h),v=this.l8.get(t),d=new DO([{$R:a.oy(),tI:a.hw(c).oy()}]),l=e.fI(d),_=function(t){if(0===t.length)return null;var n=t.bZ(t.length-1),i=n[n.length-1];if(!i.Xp.Q8)return null;return i}(e),g=BO(LO(l),d),w=0;w<g.length;w++){var y=Cg.lm(g.start(w)),m=Cg.lm(g.end(w)),k=CP(l,y,m),p=y.hw(k).hm(xg,Sg.Em),A=m.hm(xg,Sg.Em);if(p.wy(A)){if(_&&p.vy(Cg.lm(_.tI)))continue;var b=this.G8(t,n,v,s,e,i,r,p,A,f);if(b)return b}}return null},i.v6=function(t){return this.l8.get(t).v6()},i.q5=function(t){return this._8.q5(t)},M(n,[{key:"i6",get:function(){return this.w8},set:function(t){t>0&&(this.w8=t,this.l8.forEach(function(n){return n.i6=t}))}},{key:"L6",get:function(){return this.d8.L6}},{key:"M6",get:function(){return this.d8.M6}}]),n}(jC);function cP(t,n){for(var i=0;i<n.length;i++){if(n[i].info.rZ===t)return!0}return!1}function fP(t,n){return t.metadata.audio.I3!==n.metadata.audio.I3||(t.metadata.audio.e0!==n.metadata.audio.e0||(!(!t.y4.audio||!n.y4.audio||t.y4.audio.J3===n.y4.audio.J3)||!Fg(t.metadata.audio.A4,t.metadata.audio.b4).Gw(Fg(n.metadata.audio.T4,n.metadata.audio.E4))))}function vP(t,n){return t.metadata.video.I3!==n.metadata.video.I3||(!(!t.metadata.zB||!n.metadata.zB||t.metadata.zB.height===n.metadata.zB.height&&t.metadata.zB.width===n.metadata.zB.width)||(!(!n.y4.video||n.y4.video.v4||t.metadata.video.e0===n.metadata.video.e0)||Fg(t.metadata.video.A4,t.metadata.video.b4)!==Fg(n.metadata.video.T4,n.metadata.video.E4)))}function dP(t){return t.y4.video&&(t={y4:Qx(t.y4),info:t.info,metadata:Dx(t.metadata,"SJ")}),t}function lP(t){return t.y4.audio&&(t={y4:jx(t.y4),info:t.info,metadata:Dx(t.metadata,"EJ")}),t}function _P(t){return Boolean(t&&(t.y4.audio||t.y4.video))}function gP(t,n,i){var r=Cg.um(n,t.B8),e=Cg.om(i,t.O8),s=hP;return Y.Se&&(r._y(t.B8)?s=s.hw(t.B8).py(t.q8):e.vy(t.O8)&&(s=s.hw(t.O8).py(t.z8))),e.py(r).vy(s)}function wP(t,n){return y(n)?null:0===n?t:kP(t,t.y4.video.rV.slice(n))}function yP(t,n){return(t=t.slice(n.U8))[0]=wP(t[0],n.F8),t}function mP(t,n){var i={info:t.info,y4:{audio:Qx(t.y4).audio,video:null,b3:t.y4.b3},metadata:null},r=i.y4.audio;r.rV=n;var e=n[0].Ib;return r.B3=e.E3,r.P3=r.B3.oy(),pP(r,i.y4.b3,r.x3),Cx(i,t.metadata.size),i.metadata=Dx(i.metadata,"SJ"),i}function kP(t,n){var i={info:t.info,y4:{audio:null,video:jx(t.y4).video,b3:t.y4.b3},metadata:null},r=i.y4.video;r.rV=n;var e=n[0].Ib;r.B3=e.E3,r.P3=r.B3.oy();var s=n[n.length-1].Ib.r4;return pP(r,i.y4.b3,s),Cx(i,t.metadata.size),i.metadata=Dx(i.metadata,"EJ"),i}function pP(t,n,i){for(var r=Cg.gm,e=Cg.gm,s=Cg.wm,u=Cg.wm,o=0,h=t.rV;o<h.length;o++){var a=h[o].Ib;r=Cg.om(a.w4,r),e=Cg.om(a.g4,e),s=Cg.um(a.w4,s),u=Cg.um(a.g4,u)}t.L3=e,t.M3=r,t.U3=u,t.F3=s,t.D3=Cg.um(Vg(t.B3,n),Cg.Cy),t.H3=Hg(t.U3,i),t.V3=Hg(t.F3,i),t.C3=Fg(t.H3,t.L3).oy(),t.duration=t.C3}function AP(t,n,i){if(wD(i)){var r="EJ"===t?i.C5:i.O5;return Mg(r)||(r=i.JZ),n.Z2(i,r)}return i&&n.G2(i)}function bP(t,n,i){if(wD(i)){var r="EJ"===t?i.B5:i.M5;return Mg(r)||(r=i.JZ),n.Z2(i,r)}return i&&n.G2(i).hw("EJ"===t?function(t){return wD(t)?t.$Z||Cg.Cy:t&&Cg.lm(t.duration)||Cg.Cy}(i):function(t){return wD(t)?t.KZ||Cg.Cy:t&&Cg.lm(t.duration)||Cg.Cy}(i))}function TP(t,n){return"EJ"===t?n.metadata.audio:n.metadata.video}function EP(t,n,i){return n.Z2(i.info,TP(t,i).A4)}function SP(t,n){var i=t.H2(n.oy());if(-1!==i){var r=Cg.lm(t.end(i));if(n.py(r)._y(Cg.lm(uP)))return r}return Cg._m}function RP(t,n,i){var r=t.M2(n.oy(),i.oy());if(-1!==r)for(var e=t.bZ(r),s=e.length-1;s>=0;s--)for(var u=e[s],o=u.Xp.bZ.length-1;o>=0;o--){var h=u.Xp.bZ[o];if(n.py(Cg.lm(h.tI)).yy()._y(i))return Cg.lm(h.tI);if(n.py(Cg.lm(h.$R)).yy()._y(i))return Cg.lm(h.$R)}return Cg._m}function IP(t,n){var i;if(n<0)i=t.rV.slice(-n);else{0;var r=new hx,e=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.z3,t.J3);r.u3(e,0,e.length),i=t.rV.slice();for(var s=0;s<n;s++){var u=i[0].Ib,o=r.mh(ne({},r.Ib,{E3:Fg(u.E3,t.x3),T3:u.T3-t.x3.oy(),w4:Fg(u.w4,t.x3),g4:Fg(u.g4,t.x3)}));i.unshift(o)}}return i}function NP(t,n){var i=t[0].Ib,r=t.slice();return r[0]=t[0].mh(ne({},i,{E3:Cg.um(Cg.Cy,i.E3.py(n)),T3:_.max(i.T3-n.oy(),0),w4:Cg.um(Cg.Cy,i.w4.py(n)),s4:_.max(i.s4-n.oy(),0),g4:Cg.um(Cg.Cy,i.g4.py(n)),e4:_.max(i.e4-n.oy(),0),r4:Cg.um(Cg.Cy,i.r4.hw(n)),G_:_.max(0,i.G_+n.oy())})),r}function CP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.bZ(r),s=t.bZ(r+1);if(e.length&&s.length&&Cg.lm(e[0].$R)._y(n)&&Cg.lm(s[s.length-1].tI).vy(i)&&s[0].Xp.bZ[0].ph.m4.RZ)return hP.Yy(5)}return t.aw(n.oy())?hP:Cg.Cy}function DP(t){return new UP(t.tv,t.Ls)}var OP,xP,PP,BP,LP,MP,UP=function(){function t(t,n){this.tv=void 0,this.Y8=void 0,this.Y8=n,this.tv=t}return t.prototype.Z8=function(t){gO(t)},M(t,[{key:"Ls",get:function(){return this.Y8}},{key:"J8",get:function(){return _O(wO(this.Y8,this.tv))}}]),t}(),FP=function(){function t(t,n,i){this.YZ=void 0,this.YZ="data:"+t+";"+n+","+i}return t.prototype.Z8=function(t){},M(t,[{key:"J8",get:function(){return this.YZ}}]),t}();!function(t){t.n3="K8",t.E_="t9",t.n9="i9",t.r9="e9",t.s9="u9"}(OP||(OP={})),function(t){t.o9="h9",t.a9="c9"}(xP||(xP={})),function(t){t.f9="audio/mp4",t.v9="audio/mpeg",t.d9="video/mp4"}(PP||(PP={})),function(t){t[t.l9=0]="l9",t[t._9=1]="_9",t[t.u_=2]="u_",t[t.g9=3]="g9"}(BP||(BP={})),function(t){t.w9="y9",t.m9="k9"}(LP||(LP={})),function(t){t.p9="N8",t.m9="A9"}(MP||(MP={}));var HP=function(){function t(t,n,i,r,e,s,u,o,h,a){this.b9=void 0,this.T9=void 0,this.Pp=void 0,this.tv=void 0,this.A8=void 0,this.E9=void 0,this.kb=void 0,this.S9=void 0,this.R9=void 0,this.jD=void 0,this.I9=BP.l9,this.T9=t,this.b9=n,this.Pp=i,this.tv=r,this.A8=e,this.E9=s,this.kb=u,this.S9=o,this.R9=h,this.jD=a}return t.N9=function(t,n,i,r,e,s,u,o,h,a){switch(n){case LP.w9:return new VP(t,i,r,e,s,u,o,h,a);case LP.m9:return new XP(t,i,r,e,s,u,o,h,a)}},t}(),VP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,LP.w9,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.C9=function(){return{D9:"O9",x9:this.b9,P9:OP.s9,B9:xP.o9,L9:this.tv,M9:ax(this.A8,[]),U9:this.R9,F9:this.S9.Sm(),H9:this.E9.Sm(),V9:this.kb.Sm()}},n}(HP),XP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,LP.m9,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.C9=function(){return{D9:"O9",x9:this.b9,P9:this.tv===PP.v9?OP.n3:OP.E_,B9:Zy?xP.a9:xP.o9,L9:this.tv,M9:ax(this.A8,[])}},n}(HP),WP=function(){function t(){this.X9=void 0,this.W9=void 0,this.X9=re(),this.W9=1}var n=t.prototype;return n.q9=function(){return(this.W9++).toString()},n.N9=function(t,n,i,r,e,s,u,o,h){var a=this.q9(),c=HP.N9(a,n,t,i,r,e,s,u,o,h);return this.z9(c),c},n.G9=function(t){return this.X9.get(t)},n.z9=function(t){this.X9.set(t.b9,t)},n.j9=function(t){this.X9.delete(t)},n.Q9=function(t){this.G9(t).I9=BP._9,this.j9(t)},n.Y9=function(t,n){var i=this.G9(t).jD;this.G9(t).I9=BP.u_,this.j9(t),i(n)},n.Z9=function(t,n){var i=this.G9(t).jD;this.G9(t).I9=BP.g9,this.j9(t),i(null,n)},n.lh=function(t){var n=[];this.X9.forEach(function(i,r){t&&i.Pp!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.Q9(r)}},t}();var qP,zP=function(){function t(n){var i=this;this.X9=void 0,this.J9=void 0,this.ba=void 0,this.K9=void 0,this.t7=function(t){var n=t.data.n7,r=t.data.i7,e=t.data.r7,s=t.data.e7,u=i.X9.G9(r);if(u&&u.I9!==BP._9)switch(n){case"s7":i.u7(u,e);break;case"o7":i.X9.Y9(r,new ZC(YC.GY,{code:s}));break;default:0}},this.h7=function(t){0},this.X9=new WP,this.ba=n,this.K9=t.a7(n.C8),this.c7()}t.a7=function(t){switch(t){case MP.p9:return LP.w9;case MP.m9:return LP.m9}};var n=t.prototype;return n.O9=function(t,n,i,r,e,s,u){var o={metadata:null,EJ:null,SJ:null,ih:null};i&&i.length||u(new ZC(YC.GY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.rZ+1,f=h.info.jJ,v=h.metadata,d=v.audio.I3?v.audio:void 0,l=v.video.I3?v.video:void 0,_=a.metadata,g=_.audio.I3?_.audio:void 0,w=_.video.I3?_.video:void 0,m=r.hw(Vg(v.b4,v.A4)),k=r.hw(Vg(v.A4,v.A4)),p=r.hw(d?Vg(d.b4,v.A4):Cg.Cy),A=r.hw(d?Vg(d.A4,v.A4):Cg.Cy),b=r.hw(l?Vg(l.b4,v.A4):Cg.Cy),T=r.hw(l?Vg(l.A4,v.A4):Cg.Cy),E=r.hw(Vg(_.E4,v.A4)),S=r.hw(Vg(_.T4,v.A4)),R=r.hw(g?Vg(g.E4,v.A4):Cg.Cy),I=r.hw(g?Vg(g.T4,v.A4):Cg.Cy),N=r.hw(w?Vg(w.E4,v.A4):Cg.Cy),C=r.hw(w?Vg(w.T4,v.A4):Cg.Cy);p=Cg.um(Cg.Cy,p),b=Cg.um(Cg.Cy,b);var D,O,x,P,B,L=dD.eg(n.u$)?Cg.lm(100079991719):Cg.lm(n.G_),M=function(t){for(var n=t[0].y4,i=n,r=1;r<t.length;r++){if(!(n=Gx(i,t[r-1].y4,t[r].y4,t[r].info.R4)))return i;i=n}return i}(i);if(M.audio){O=(D=Qx(M)).audio.duration;x=this.X9.N9(t,this.K9,"mp3"===D.audio.I3?PP.v9:PP.f9,D,p,A,L,c,function(t,n){if(o.ih=o.ih||t,o.EJ=n,D=!0,P)return u(o.ih,o)}),this.f7(x),D=null}else D=!0;if(M.video){B=(P=jx(M)).video.duration;x=this.X9.N9(t,this.K9,PP.d9,P,b,T,L,c,function(t,n){if(o.ih=o.ih||t,o.SJ=n,P=!0,D)return u(o.ih,o)}),this.f7(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=Cg.lm(O),W=Cg.lm(B),q=h.y4.audio&&h.y4.video?Cg.om(h.y4.audio.D3.hw(X),h.y4.video.D3.hw(W)):h.y4.audio?h.y4.audio.D3.hw(X):h.y4.video?h.y4.video.D3.hw(W):Cg.Cy;if(q.By()&&_t("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=Rx(M);if(y(z))_t("Segment without keyframes detected",h.info.uri),U=Cg._m,F=Cg._m,H=q.Yy(1.5);else{var G=M.video.rV[z].Ib;U=r.hw(Vg(G.w4,v.A4)),F=r.hw(Vg(G.g4,v.A4)),H=Cg.lm(G.e4-h.metadata.start)}}else U=p,F=A,H=Cg.Cy;var j=Cg.um(H,Cg.um(h.y4.audio&&h.y4.audio.D3||Cg.Cy,h.y4.video&&h.y4.video.D3||Cg.Cy));o.metadata={rZ:c,$R:r.oy(),v7:m.oy(),W8:k.oy(),z8:E.oy(),O8:S.oy(),F5:U.oy(),J2:F.oy(),M8:Cg.om(r,e).oy(),G_:q.oy(),bZ:V,kh:j.oy(),EJ:d&&{$R:A.oy(),v7:p.oy(),tI:I.oy(),z8:R.oy(),G_:O,I3:d.I3},SJ:l&&{$R:T.oy(),v7:b.oy(),tI:C.oy(),z8:N.oy(),G_:B,I3:l.I3,yu:v.zB.width,Mp:v.zB.height},C$:v.C$,R4:v.R4,jJ:f,S4:s},i=null,M=null},n.qv=function(){this.X9.lh(),this.J9&&(this.J9.terminate(),this.J9=null)},n.xo=function(t){this.X9.lh(t)},n.u7=function(t,n){switch(t.T9){case LP.w9:var i=n;this.X9.Z9(t.b9,{initializer:DP(i.d7),m4s:DP(i.l7)});break;case LP.m9:var r=n;this.X9.Z9(t.b9,(e=r,Zy?new FP(e.tv,"base64",e.Ls):new UP(e.tv,e.Ls)));break;default:0}var e},n.c7=function(){this.J9||(this.J9=RO(this.ba.libraryLocation,"theoplayer.p.js"),this.J9.addEventListener("message",this.t7),this.J9.addEventListener("error",this.h7))},n.f7=function(t){this.J9||this.c7(),this.J9.postMessage(t.C9())},t}();function GP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function jP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function QP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function YP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],s=void 0;s=void 0!==r[6]?ju(r[6]):void 0!==r[7]?{width:w(r[8]),height:w(r[10])}:void 0!==r[12]?w(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=s,r=i.exec(t)}return n}var ZP,JP="x-";function $P(t,n,i,r){var e=t.split("@"),s=GP(n,i),u=g(e[0],10),o=e[1]?g(e[1],10):r;return{YZ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},ZZ:{$R:o,tI:o+u-1}}}function KP(t,n,i){var r,e,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],y=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new ZC(YC.zY,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),jP(T,"#EXT")){if(jP(T,"#EXTINF"))c=(c=w(QP(T)))||.5;else if(jP(T,"#EXT-X-BYTERANGE"))f=QP(T);else if(jP(T,"#EXT-X-KEY"))(s=YP(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=GP(s.uri,i);else if(jP(T,"#EXT-X-DISCONTINUITY")&&!jP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(jP(T,"#EXT-X-STREAM-INF"))(e=YP(T)).rZ=a++,(b+=1)<p.length&&(e.uri=GP(p[b].trim(),i),A.streams.push(e));else if(jP(T,"#EXT-X-MEDIA")&&!jP(T,"#EXT-X-MEDIA-"))(u=YP(T)).uri&&(u.uri=GP(u.uri,i)),A.media.push(u);else if(jP(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(QP(T));else if(jP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.yZ=!0,A.mZ=g(QP(T),10);else if(jP(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(QP(T),10),A._7=!0,A.g7=h;else if(jP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=g(QP(T),10),A.hasTargetDuration=!0;else if(jP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(jP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(jP(T,"#EXT-X-MAP")){var E=YP(T),S=E.uri,R=E.byterange;o=R?$P(R,S,i,0):GP(S,i)}else if(jP(T,"#EXT-X-VERSION"))A.version=g(QP(T),10);else if(jP(T,"#EXT-X-DATERANGE")){var I=tB(T);A.dateRanges.push(I)}}else if(jP(T,"#"));else if(0!==T.length){f?k=(r=$P(f,T,i,k)).ZZ.tI+1:r=GP(T,i);var N,C=s&&ne({},s);s&&void 0===s.iv&&(N=h%4294967295,C.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,rZ:h,RZ:d,TZ:v,key:C,i$:y,n$:l,S4:!1,w7:o}),h+=1,c=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].S4=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];e+=o.duration,i=_.min(i,o.duration),r=_.max(r,o.duration)}return{y7:i,m7:r,k7:n?t.fragments[n-1].duration:0,p7:e/n,A7:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.rZ-n.rZ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ze(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,s=t.media;e<s.length;e++)s[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],s=0;s<r;s++)if(i=t[s],n.call(e,i,s,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function tB(t){var n=YP(t),i=function(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i];Ce(e,JP)&&(n[e.substr(JP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Zl:n.id,UZ:n.class,_R:r,IZ:e,G_:n.duration,FZ:n["planned-duration"],HZ:s,VZ:i,XZ:u,WZ:o,qZ:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(ZP||(ZP={}));(qP={})[ZP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",qP[ZP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",qP[ZP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",qP[ZP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",qP[ZP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",qP[ZP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",qP[ZP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var nB=function(){function t(){}return t.prototype.op=function(t,n,i){return KP(t,n,i)},t}(),iB=3,rB=function(){function t(t,n,i){void 0===i&&(i=iB),this.qb=t,this.b7=n,this.T7=i}var n=t.prototype;return n.E7=function(t,n,i){return this.S7(t,n,!0,i)},n.R7=function(t,n,i){return this.S7(t,n,!1,i)},n.S7=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s,u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.T7)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,ms(u,e);case 6:u<1e4&&(u=_.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Df({kv:a,_v:Zo.es,lv:i,Vv:this.b7,Mv:Sf.GET,co:Rf.bv,Fv:If.Av,Lo:e}),t.next=14,this.qb.yv(c);case 14:return f=t.sent,t.next=17,f.Zf(e);case 17:return v=t.sent,t.abrupt("return",{I7:v,N7:a,mv:f.mv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),eB=function(){function t(t,n,i,r){this.C7=t,this.D7=n,this.O7=i,this.x7=r}var n=t.prototype;return n.P7=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C7.K0(n.map(hO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.B7=function(t,n){var i=aO(t,n);return this.D7.ah(i)},n.L7=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=aO(n,i),t.next=3,this.O7.fh(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.sB=function(t){return this.x7.fh(t)},t}(),sB=function(){function t(t){this.M7=void 0,this.M7=t}return t.prototype.U7=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),u=0,o=this.M7;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.U7(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),as(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),uB=function(){function t(t){this.F7=t}return t.prototype.U7=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.F7.P7(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{I7:s.data,N7:s.locationURL,mv:s.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),oB=function(){function t(t){this.H7=t}return t.prototype.U7=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.H7.E7(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.H7.R7(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function hB(t,n){return new sB([new uB(n),new oB(t)])}var aB=function(){function t(t,n,i){this.V7=t,this.X7=n,this.W7=i}var n=t.prototype;return n.U7=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.V7.U7(n,i,r,e);case 3:return s=t.sent,t.next=6,this.q7(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.q7=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.X7.J0({key:hO(n.N7),locationURL:Bf(n.N7),responseURL:Bf(n.mv),data:n.I7,references:[this.W7.Zl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function cB(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var fB=function(){function t(t,n,i){this.ba=void 0,this.qb=void 0,this.V7=void 0,this.z7=void 0,this.z7=new nB,this.ba=t,this.qb=i;var r=this.ba&&this.ba.crossOrigin===_l.N_,e=new rB(i,r,1);this.V7=hB(e,new eB(oO.$e.a1,oO.$e.o1,oO.$e.h1,oO.$e.f1))}var n=t.prototype;return n.Vh=function(t,n,i){var r=this.Hd(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Hd=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.V7.U7([n],i);case 3:return r=t.sent,n=r.mv,e=this.z7.op(r.I7,n,cB(n)),t.abrupt("return",{hg:e,G7:r.I7});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Xf)){t.next=16;break}throw new ZC(YC.WY,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Wf)){t.next=24;break}if(0!==t.t0.ed.dv){t.next=21;break}throw new ZC(YC.qY,{code:"MFL3900",uri:n,status:t.t0.ed.dv});case 21:throw new ZC(YC.WY,{code:"MFL4100",uri:n,status:t.t0.ed.dv});case 22:t.next=25;break;case 24:throw new ZC(YC.u_,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),vB=function(t){function n(n,i){var r;return(r=t.call(this)||this).j7=void 0,r.Q7=void 0,r.Y7=void 0,r.Z7=void 0,r.J7=void 0,r.tK=void 0,r.q$=void 0,r.pS=void 0,r.j7=new fB(i||{},oO.$e.a1,n),r}F(n,t);var i=n.prototype;return i.Rg=function(){void 0!==this.Z7&&(a(this.Z7),this.Z7=void 0),this.Y7&&this.Y7.yv&&(this.Y7=void 0)},i.K7=function(t){if(this.q$)for(var n=0,i=this.q$.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.ttt=function(t,n,i,r){var e,s=t.targetDuration,u=t.metadata;return e=t.fragments.length&&u&&(!s||u.A7<3*s)?1e3*u.y7:s?1e3*s:1e4,i===n&&(e/=2),e=_.max(e-r,1e3)},i.ntt=function(t){if(t.fragments.length>0)for(var n=this.K7(t.fragments[0].uri),i=n&&n.rZ||0,r=0,e=t.fragments;r<e.length;r++){e[r].rZ+=i}},i.itt=function(t,i,r,e,s,u){var o=this;if(this.Y7&&r===this.Y7.yv){var a=Qb()-i;if(e){this.Y7=void 0,this.pS=e;var c={type:"ih",ih:e};return this.dispatchEvent(c),s&&s(e)}this.Y7=void 0;var f=u.hg,v=u.G7;f._7||this.ntt(f),t===this.Q7&&(this.tK=f),this.q$=f;var d=n.ttt(f,v,this.J7,a);f.live?f.isMasterPlaylist||(this.Z7=h(function(){return o.Hd(t)},d)):this.Rg(),s&&s(e,u);var l={type:"rtt",manifest:f,manifestText:v};this.dispatchEvent(l),this.J7=v}},i.Hd=function(t,n){var i=this,r=Qb(),e=t;a(this.Z7),this.Z7=void 0;var s=this.j7.Vh(e,{},function(e,u){return i.itt(t,r,s,e,n,u)});this.Y7={yv:s,kv:t}},i.$R=function(t,n){var i,r,e,s=this,u=!1;(e=t||(this.q$?this.q$.uri:this.Q7))&&(this.Y7&&this.Y7.kv===t?n&&(i=function(t){s.removeEventListener("ih",r),s.removeEventListener("rtt",i);var e=t;n(null,{hg:e.manifest,G7:e.manifestText})},r=function(t){s.removeEventListener("ih",r),s.removeEventListener("rtt",i),n(t.ih)},this.addEventListener("ih",r),this.addEventListener("rtt",i)):(this.Rg(),this.Hd(e,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.ett=function(t){t&&(this.J7=void 0,this.tK&&this.tK.isMasterPlaylist?this.$R(t.uri):this.q$&&!this.stt()&&this.$R(this.q$.uri))},i.qv=function(){this.Rg(),this.zo()},i.stt=function(){return!!this.Y7||!!this.Z7||!(!this.q$||this.q$.live)},M(n,[{key:"hg",get:function(){return this.q$}},{key:"IK",get:function(){return this.tK}},{key:"H0",get:function(){return this.Q7},set:function(t){this.Rg(),this.J7=void 0,this.tK=void 0,this.q$=void 0,this.Q7=t}}]),n}(jC),dB=function(t){function n(n,i){var r;return(r=t.call(this)||this).ba=void 0,r.xl=void 0,r.Q7=void 0,r.utt=void 0,r.qb=void 0,r.ba=i,r.xl=re(),r.Q7=null,r.utt=null,r.qb=n,r}F(n,t);var i=n.prototype;return i.$R=function(){var t=this,n=this.H0;if(n&&!this.utt){var i=new vB(this.qb,this.ba);i.addEventListener("ih",function(i){var r=i.ih;t.dispatchEvent({type:"ott",ih:r}),t.xl.has(n)&&t.dispatchEvent({type:"ih",ih:r,htt:n})}),i.addEventListener("rtt",function n(r){i.removeEventListener("rtt",n),i===t.utt&&t.dispatchEvent({type:"att",hg:r.manifest})}),i.addEventListener("rtt",function(i){t.xl.has(n)&&t.dispatchEvent({type:n,hg:i.manifest})}),this.utt=i,i.$R(n)}},i.ctt=function(t,n){this.ftt(t),this.dtt(n)},i.dtt=function(t){var n,i=this;this.xl.has(t)||(t===this.H0?(this.$R(),(n=this.utt).hg&&this.dispatchEvent({type:t,hg:n.hg},!0)):((n=new vB(this.qb,this.ba)).addEventListener("ih",function(n){i.dispatchEvent({type:n.type,ih:n.ih,htt:t})}),n.addEventListener("rtt",function(n){i.dispatchEvent({type:t,hg:n.manifest})})),this.xl.set(t,n))},i.ftt=function(t){if(this.xl.has(t)){var n=this.xl.get(t);n!==this.utt&&n.qv(),this.xl.delete(t),this.removeEventListener(t)}},i.ltt=function(t){if(this.xl.has(t)){var n=this.xl.get(t);n.stt()||n.$R(t)}},i._tt=function(){var t=this;this.xl.forEach(function(n,i){return t.ltt(i)})},i.Ul=function(){this.xl.forEach(function(t){return t.qv()}),this.xl.clear(),this.utt&&(this.utt.qv(),this.utt=null),this.Q7=null},M(n,[{key:"H0",get:function(){return this.utt&&this.utt.hg?this.utt.hg.uri:this.Q7},set:function(t){this.Ul(),this.Q7=t}}]),n}(jC),lB=function(t){function n(){var n;return(n=t.call(this)||this).gtt=NaN,n}F(n,t);var i=n.prototype;return i.wtt=function(t,n){for(var i=t.length?_.min.apply(_,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].kh=Cg.lm(t[e]||0)}var s=t.length?_.max.apply(_,t):0;this.gtt=s,this.dispatchEvent({type:"ytt",mtt:s})},i.ktt=function(t,n){var i=[];if(n.length<2)return this.wtt(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var s=n[e];if(!s.ptt(t))return!1;i[e]=s.kh.hw(s.Att(r,t)).oy()}return this.wtt(i,n),!0},i.btt=function(t,n){return this.ktt(t.TZ,n)},i.Ttt=function(t,n){if(n.length<2)return this.wtt([],n),!0;var i=n[0].Ett(t);if(y(i))return!1;for(var r=0;r<n.length;r++){if(n[r].Ett(t)!==i)return!1}return this.ktt(i,n)},i.Ul=function(){this.gtt=NaN},i.qv=function(){this.zo()},M(n,[{key:"mtt",get:function(){return this.gtt}}]),n}(jC),_B=.001;function gB(t){return t.metadata.jJ.Zl+"Stt"+t.metadata.rZ+"Rtt"+t.metadata.$R+"Itt"+t.metadata.G_}var wB=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.VQ=function(t,i){return new n(t,i)},i.z2=function(t,n){return!1},n}(JO);function yB(t,n){var i=new wB([n]);return t.py(i).wI(i)}function mB(t,n){var i=function(t,n){var i=t.W8,r=t.J2;if(!y(r)&&r===i)return!0;return!t.R4&&!!n&&n.Xp.jJ===t.jJ&&i>=n.tI&&i<=n.tI+_B}(t,n);return i||!y(t.J2)?{$R:i?t.W8:t.J2,tI:t.O8,Xp:t}:null}var kB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ntt=void 0,r.bb=void 0,r.Ctt=null,r.Dtt=function(){return r.Ott()},r.xtt=[],r.Gg=[],r.Ptt=new wB([]),r.Btt=null,r.Ntt=n,r.bb=i,r}F(n,t);var i=n.prototype;return i.Ltt=function(t){var n=t.metadata,i=n&&n.bZ;if(!i||!i.length)return E.resolve();for(var r=[],e=n.$R,s=0;s<i.length;s++){var u=i[s],o=e+u.duration;r.push({$R:e,G_:u.duration,tI:o,rZ:u.rZ,ph:u}),e=o}var h={Zl:gB(t),$R:t.metadata.$R,v7:n.v7,W8:n.W8,Mtt:i[0].m4.i$?new Date(i[0].m4.i$.getTime()):null,G_:t.metadata.G_,tI:t.metadata.$R+t.metadata.G_,z8:n.z8,O8:n.O8,F5:n.F5,J2:n.J2,bZ:r,jJ:t.metadata.jJ,Q8:t.metadata.S4,R4:n.R4};return this.xtt.push(h),this.Utt(this.Ntt.Ltt(t),h)},i.Utt=function(t,n){var i=this;return t.then(function(){if(Ye(i.xtt,n)){i.Gg.push(n);var t=i.Btt,r=mB(n,t);r&&(i.Ptt=yB(i.Ptt,r)),i.Btt=r}i.Ott(),i.Ftt(n)}).catch(function(){Ye(i.xtt,n)})},i.Ftt=function(t){var n=t.bZ[0],i=t.bZ[t.bZ.length-1],r=t.jJ,e=r.SZ(n.rZ-1),s=dD.eg(r.u$);if(!e||s){var u=r.SZ(n.rZ),o=this.bb.G2(u).oy(),h=t.v7,a=_.min(o,h);a<n.$R&&this.Ntt.vF(a,n.$R)}for(var c=0,f=this.Gg;c<f.length;c++){var v=f[c];if(v.jJ===t.jJ){var d=v.bZ[0],l=v.bZ[v.bZ.length-1];l.rZ+1===n.rZ&&l.tI!==n.$R?this.Ntt.vF(l.tI,n.$R):d.rZ-1===i.rZ&&i.tI!==d.$R&&this.Ntt.vF(i.tI,d.$R)}}},i.lh=function(){this.xtt.length=0,this.Gg.length=0,this.Ptt=new wB([]),this.Btt=null},i.Ott=function(){if(this.Htt&&!this.Htt.NO){var t=this.Htt.Gg||OO;t=function(t,n){for(var i=FO(t),r=0;r<i.length;r++){var e=i[r],s=n.H2(e.tI,_B);if(s>=0){var u=n.bZ(s),o=u[u.length-1],h=o.Xp.z8,a=o.Xp.O8;h-_B<e.tI&&e.tI<a&&(e.tI=a)}}return new DO(i)}(t,this.Ptt),this.Gg=this.Gg.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.$R,n.tI)>=0}),this.Ptt=this.Ptt.fI(t)}},i.qv=function(){this.zo(),this.lh(),this.Htt=null},i.Vtt=function(t){var n=this.Xtt(t);if(n)for(var i=0,r=n.bZ;i<r.length;i++){var e=r[i];if(e.$R<=t&&e.tI>t)return e}return null},i.Xtt=function(t){for(var n=0,i=this.Gg;n<i.length;n++){var r=i[n];if(r.$R<=t&&r.tI>t)return r}return null},i.Wtt=function(t){for(var n=0,i=this.Gg;n<i.length;n++){var r=i[n];if(r.jJ.Zl===t.jJ.Zl)for(var e=0,s=r.bZ;e<s.length;e++){if(s[e].rZ===t.rZ)return!0}}return!1},i.qtt=function(){return this.ztt()[0]},i.ztt=function(){for(var t=this.Ptt,n=this.Btt,i=0,r=this.xtt;i<r.length;i++){var e=mB(r[i],n);e&&(t=yB(t,e)),n=e}return[t,n]},M(n,[{key:"Hl",get:function(){return this.xtt.length+this.Gg.length}},{key:"Htt",get:function(){return this.Ctt},set:function(t){this.Ctt&&this.Ctt.removeEventListener("updateend",this.Dtt),this.Ctt=t,this.Ctt&&(this.Ctt.addEventListener("updateend",this.Dtt),this.Ott())}}]),n}(jC);function pB(t,n,i){!function(t,n,i){for(var r=i.m3,e=[],s=0;s<r.length;s++)for(var u=r[s],o=n.Z2(t,u.Ib.S3).oy(),h=0,a=u.rV;h<a.length;h++){var c=a[h];e.push(new SI(o,c))}i.c_=e}(t,n,i)}function AB(t,n){return t&&n?_.abs(t.rZ-n.rZ)<=1?Cg.Cy:Cg.Iy(n.bp-t.bp,1e3):Cg.Cy}var bB=function(){function t(t,n,i,r,e){this.RZ=void 0,this.U8=void 0,this.Gtt=void 0,this.jtt=void 0,this.co=void 0,this.h8=void 0,this.kh=Cg.Cy,this.Qtt=!1,this.Ytt=null,this.RZ=t,this.U8=t.jJ.bZ.uZ(n.rZ),this.h8=this.U8,this.Gtt=i,this.jtt=r,this.co=e||null}var n=t.prototype;return n.Ztt=function(){if(this.Ytt)return this.Ytt;var t=this.Jtt();return(t.$tt||t.ih)&&(this.Ytt=t),t},n.Ktt=function(){return{$tt:!1,ih:!1,Qtt:this.Qtt,Rw:Cg._m}},n.$tt=function(t){return t.Ay()?{$tt:!1,ih:!0,Qtt:this.Qtt,Rw:Cg._m}:{$tt:!0,ih:!1,Qtt:this.Qtt,Rw:t}},t}();function TB(t,n){switch(n){case"EJ":return Mg(t.C5)?t.C5:t.JZ;case"SJ":return Mg(t.O5)?t.O5:t.JZ;default:return t.JZ}}var EB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Jtt=function(){var t=this.RZ,n=t.jJ,i=n.bZ,r=i.oZ(this.h8);if(t.aw(r)){if(this.jtt&&t.tnt&&wD(r)){var e=TB(r,this.co),s=t.nnt(e,r.int);return this.$tt(s.py(this.kh))}if(this.Gtt&&r===t.rnt){var u=t.Iw.py(yD(r));return this.$tt(u.py(this.kh))}this.h8+=1;var o=AB(r,i.oZ(this.h8));return this.Qtt=this.Qtt||o.hy(Cg.Cy),this.kh=this.kh.hw(o).hw(yD(r)),this.Ktt()}return this.$tt(Cg._m)},n}(bB),SB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Jtt=function(){var t=this.RZ,n=t.jJ,i=n.bZ,r=i.oZ(this.h8);if(t.aw(r)){if(this.jtt&&t.tnt&&wD(r)){var e=TB(r,this.co),s=t.nnt(e,r.int);return this.$tt(s.hw(this.kh))}if(this.Gtt&&r===t.ent){var u=t.Rw;return this.$tt(u.hw(this.kh))}this.h8-=1;var o=i.oZ(this.h8),h=AB(o,r);return this.Qtt=this.Qtt||h.hy(Cg.Cy),this.kh=this.kh.hw(h).hw(yD(o)),this.Ktt()}return this.$tt(Cg._m)},n}(bB);var RB=function(){function t(t,n,i){this.rZ=void 0,this.jJ=void 0,this.Rw=Cg.Cy,this.Iw=Cg.Cy,this.ent=null,this.rnt=null,this.snt=!1,this.unt=Cg._m,this.ont=Cg._m,this.hnt=!1,this.ant=void 0,this.rZ=t,this.jJ=n,this.ant=i}var n=t.prototype;return n.aw=function(t){return t&&t.TZ===this.rZ},n.nnt=function(t,n){var i=t.py(this.unt).hw(this.ont);if(void 0!==n){var r=i.py(n);if(r.yy().hy(Lg)){var e=_.round(r.oy()/Bg.oy());i=i.py(Bg.Yy(e))}}return i},n.cnt=function(t,n){var i=this.fnt(t);this.vnt(n);var r=this.dnt();return i||r||t===this.rnt&&this.lnt()},n.fnt=function(t){if(this.tnt&&Dg(t.P5,this.unt)>=0)return!1;var n;if(n=this.tnt?this._nt(t,!0,!1):this.gnt(t,!0,!1),this.unt.Ay())this.unt=t.P5;else{var i=Vg(t.P5,this.unt);this.unt=this.unt.hw(i)}return this.ont=n,!0},n.vnt=function(t){if(!t)return!1;if(this.ant)return!1;if(!this.wnt())return!1;var n=this.jJ.bZ,i=this.ent,r=n.hZ(i.rZ-1);if(wD(i)&&wD(r)){var e=function(t,n,i){var r=t.Z2(n,n.T4);if(!Mg(i.x5)||!Mg(i.O5))return r;var e,s=Mg(i.C5),u=Fg(i.O5,i.x5);if(s){var o=Ug(Fg(i.O5,i.C5),Cg.Cy);e=Ug(Fg(u,o),Cg.Cy)}else e=u;return Fg(r,e)}(t,r,i);return this.hnt=!0,this.ynt(e)}return!1},n.ynt=function(t){if(t.Gw(this.Rw))return!1;var n=t.py(this.Rw);return this.Rw=t,this.Iw=this.Iw.hw(n),this.ont=this.ont.hw(n),!0},n.dnt=function(){if(this.ant)return!1;var t=this.rnt;if(!t)return!1;var n,i=new SB(this,t,!1,!0);do{n=i.Ztt()}while(!n.$tt&&!n.ih&&!n.Qtt);if(n.$tt&&!n.Qtt){var r=n.Rw.hw(yD(t));if(!r.Gw(this.Iw))return this.Iw=r,!0}return!1},n.mnt=function(t){var n=!1;return n=this.vnt(t)||n,n=this.knt(t)||n},n.knt=function(t){if(!t)return!1;if(this.hnt)return!1;var n=t.Iw.hw(AB(t.rnt,this.ent));return this.ynt(n)},n.pnt=function(t){var n=!1;return(!this.ent||this.ent.rZ>t.rZ)&&(this.Rw=this.Rw.py(AB(t,this.ent)),this.ent=t,n=!0),(!this.rnt||this.rnt.rZ<t.rZ)&&(this.Iw=this.Iw.hw(AB(this.rnt,t)).hw(yD(t)),this.rnt=t,n=!0),n},n.Ant=function(t){if(!this.tnt||!t.tnt)return Cg._m;if(this.unt._y(t.unt)){var n=this.nnt(t.unt,t.ont);return t.ont.py(n)}return t.nnt(this.unt,this.ont).py(this.ont)},n.wnt=function(){var t=this.ent;return!!t&&function(t,n){return n.TZ===t&&n.RZ}(this.rZ,t)},n.lnt=function(){var t=this.rnt;if(!t)return!1;var n=this.jJ.bZ.hZ(t.rZ+1);return function(t,n,i){return n.TZ===t&&(!i||i.RZ)}(this.rZ,t,n)},n.bnt=function(t,n){return this._nt(t,!0,!0,n)},n.gnt=function(t,n,i){if(!this.aw(t))return Cg._m;var r,e=new SB(this,t,n,i);do{r=e.Ztt()}while(!r.$tt&&!r.ih);if(!r.$tt)return Cg._m;var s=r.Rw;return s.wy(this.Rw)?this.Rw:s},n._nt=function(t,n,i,r){if(!this.aw(t))return Cg._m;var e,s,u,o,h,a=new EB(this,t,n,i,r),c=new SB(this,t,n,i,r);do{e=a.Ztt(),s=c.Ztt()}while(!(e.$tt||s.$tt||e.ih&&s.ih));if(s.$tt)u=s,o=e,h=a;else{if(!e.$tt)return Cg._m;u=e,o=s,h=c}if(u.Rw.wy(this.Rw)){for(;!o.$tt&&!o.ih;)o=h.Ztt();return o.$tt?Cg.um(this.Rw,o.Rw):this.Rw}if(u.Qtt){for(;!o.Qtt&&!o.$tt&&!o.ih;)o=h.Ztt();if(o.$tt&&!o.Qtt&&this.Rw._y(o.Rw))return o.Rw}return u.Rw},n.Z2=function(t,n){return this.aw(t)&&this.tnt?this.nnt(n,t.int):Cg._m},n.ztt=function(){0},M(t,[{key:"tnt",get:function(){return!this.unt.Ay()}}]),t}();function IB(t,n){return n.wy(t.Rw)?dg.ey:n.vy(t.Iw)?dg.sy:dg.iy}var NB=function(){function t(){this.Tnt=new iD}var n=t.prototype;return n.hZ=function(t){return this.Tnt.hZ(t)},n.oZ=function(t){return this.Tnt.oZ(t)},n.Ent=function(t){var n=this.Tnt.uZ(t);return n<0?null:this.Tnt.oZ(n-1)},n.Ztt=function(t){var n=this.Tnt.uZ(t);return n<0?null:this.Tnt.oZ(n+1)},n.Snt=function(){return this.Tnt.oZ(0)},n.Rnt=function(){var t=this.Tnt.Hl;return 0===t?null:this.Tnt.oZ(t-1)},n.Int=function(t){var n=this.Tnt,i=this.Rnt();if(i&&function(t,n){return t.Rw._y(n)&&n.wy(t.Iw)}(i,t))return i;var r=oR(this.Tnt.fZ(),t,I,IB);return n.oZ(r)},n.hw=function(t){var n=this.Tnt.hw(t);if(n&&!this.Ztt(t.rZ)){t.snt=!0;var i=this.Ent(t.rZ);i&&(i.snt=!1)}return n},n.Xh=function(t){var n=this.Tnt.Xh(t);if(n&&t.snt){t.snt=!1;var i=this.Ent(t.rZ);i&&(i.snt=!0)}return n},n.lZ=function(t){this.Tnt.lZ(t)},n.ztt=function(){},M(t,[{key:"Hl",get:function(){return this.Tnt.Hl}}]),t}();var CB=Cg.lm(10),DB=function(){function t(t,n,i){this.jJ=void 0,this.Nnt=!1,this.Cnt=!1,this.Dnt=new NB,this.Ont=Cg.Cy,this.xnt=void 0,this.Pnt=null,this.Bnt=null,this.ant=void 0,this.jJ=t,this.xnt=n.liveOffset,this.ant=i}var n=t.prototype;return n.Lnt=function(t){var n=this.jJ,i=t?t.fragments:null,r=n.bZ;if(!t||!i||!i.length)return!1;this.Nnt=!0;var e,s=!1;if(!this.Dnt.Hl){var u=r.hZ(i[0].rZ).TZ,o=new RB(u,n,this.ant);o.ynt(this.kh),this.Dnt.hw(o),s=!0}if(this.Bnt){var h=r.uZ(this.Bnt.rZ);e=h<0?0:h+1}else e=0;for(var a=e,c=r.oZ(a),f=null,v=!1;c;){var d=c.TZ;if(f&&f.rZ===d||(f&&v&&this.Mnt(f),f=this.Dnt.hZ(d),s=s||v,v=!1),!f){f=new RB(d,n,this.ant),this.Dnt.hw(f);var l=this.Dnt.Ent(d);f.mnt(l||void 0)}v=f.pnt(c)||v,c=r.oZ(++a)}return f&&v&&this.Mnt(f),(s=s||v)&&this.Unt(),this.Dnt.Rnt()&&this.U$(n.bZ),this.Pnt=r.hZ(i[0].rZ),this.Bnt=r.hZ(i[i.length-1].rZ),s},n.cnt=function(t){var n=this.Dnt.hZ(t.TZ);if(!n)return!1;this.Cnt=!0;var i=this.Dnt.Ent(n.rZ),r=n.cnt(t,i);return r&&this.Mnt(n),r},n.Mnt=function(t){for(var n=t,i=this.Dnt.Ztt(t.rZ),r=!0;r&&i;)r=i.mnt(n),n=i,i=this.Dnt.Ztt(i.rZ)},n.Unt=function(){for(var t=!1,n=this.Dnt.Snt(),i=n&&this.Dnt.Ztt(n.rZ);n&&i;)n.Iw.hy(i.Rw)&&(i.ynt(n.Iw),t=!0),n=i,i=this.Dnt.Ztt(n.rZ);return t},n.Fnt=function(t){var n=this.Dnt.Rnt(),i=t.Dnt.Rnt();if(!this.ant){if(n&&this.Hnt(t,n.rZ))return!0;if(i&&this.Hnt(t,i.rZ))return!0}return this.Vnt?!(!n||!this.Xnt(t,n.rZ))||(!(!i||!this.Xnt(t,i.rZ))||(!(!n||!this.Wnt(t,n.rZ))||(!(!i||!this.Wnt(t,i.rZ))||this.qnt(t)))):this.znt(t)},n.znt=function(t){var n=this.Dnt.Snt(),i=t.Dnt.Snt();return!(!n||!i)&&(this.wh(i.Rw.py(n.Rw)),!0)},n.Hnt=function(t,n){var i=this.Dnt.hZ(n);if(!i||!i.tnt)return!1;var r=t.Dnt.hZ(n);return!(!r||!r.tnt)&&(this.wh(i.Ant(r)),!0)},n.Xnt=function(t,n){var i=this.Dnt.hZ(n);if(!i||!i.wnt())return!1;var r=t.Dnt.hZ(n);return!(!r||!r.wnt())&&(this.wh(r.Rw.py(i.Rw)),!0)},n.Wnt=function(t,n){var i=this.Dnt.hZ(n);if(!i)return!1;var r=this.Gnt(i.rnt.rZ);if(!r)return!1;var e=t.Dnt.hZ(n);if(!e)return!1;var s=t.Gnt(e.rnt.rZ);if(!s)return!1;var u=i.bnt(i.rnt),o=e.bnt(e.rnt),h=Cg.mm(r).py(Cg.mm(s)),a=u.py(o);return this.wh(h.py(a)),!0},n.qnt=function(t){if(!this.Cnt&&!t.Cnt)return!1;var n=this.Dnt.Rnt(),i=t.Dnt.Rnt();if(n&&n.rnt&&i&&i.rnt){var r=Cg.Iy(n.rnt.bp-i.rnt.bp,1e3),e=n.Iw.py(i.Iw);return this.wh(r.py(e)),!0}return!1},n.U$=function(t){var n=this.Dnt.Rnt();if(n)for(var i=n.Iw,r=t.Hl-1;r>=0;r--){var e=t.oZ(r);if(i=i.py(Cg.lm(e.duration)),void 0!==e.int){0;break}e.int=i}},n.Ett=function(t){var n=this.Dnt.Int(t);return n?n.rZ:NaN},n.G2=function(t,n){var i=this.Dnt.hZ(t.TZ);return i?i.bnt(t,n):Cg._m},n.j2=function(t,n){var i=this.jJ.bZ.hZ(t.rZ+1);if(i){var r=this.G2(i);return r}return n.hw(function(t){if(!t)return Cg.Cy;if(!wD(t))return Cg.lm(t.duration);var n=t.$Z||Cg.Cy,i=t.KZ||Cg.Cy,r=Cg.lm(t.duration);return n.By()||i.By()?n.By()?i.By()?r.By()?r:Cg.Cy:i:n:Cg.um(n,i)}(t))},n.Z2=function(t,n){var i=this.Dnt.hZ(t.TZ);return i&&i.tnt?i.Z2(t,n):Cg._m},n.V8=function(t,n){var i=this.jJ.bZ;return i.Hl?function(t,n,i,r,e){var s,u,o=t.jJ.bZ,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.G2(o.oZ(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.wy(f))return{Xp:s=o.oZ(c),jnt:f};if(n.vy(d)&&(s=o.oZ(v)).S4)return{Xp:s,jnt:d};for(;f._y(n)&&n._y(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n.py(f).oy()*(v-c)/d.py(f).oy())||0,g=a(l)),g.hy(n))d=a(v=l-1);else{if(s=o.oZ(l),!(w=(u=l)===r?a(u).hw(yD(o.oZ(u))):a(u+1))._y(n))return s&&n._y(g.hw(yD(s)))?{Xp:s,jnt:g}:(s=o.oZ(l+1))&&{Xp:s,jnt:w};c=l+1,f=w}}if(d._y(n)){if((s=o.oZ(v))&&n._y(d.hw(yD(s))))return{Xp:s,jnt:d};if(v<r&&(s=o.oZ(v+1),d=a(v+1),s&&n.wy(d)))return{Xp:s,jnt:d}}return null}(this,t,0,i.Hl-1,n):null},n.Gnt=function(t){var n=this.jJ.bZ,i=n.uZ(t),r=n.oZ(i),e=r,s=Cg.Cy;if(r.i$)return r.i$;for(var u=i-1;u>=0;u--){var o=n.oZ(u);if(s=s.hw(yD(o)).hw(AB(o,e)),o.i$)return new Date(o.i$.getTime()+1e3*s.oy());e=o}return null},n.Qnt=function(t){for(var n=this.jJ.bZ,i=void 0,r=0;r<n.Hl;r++){var e=n.oZ(r);if(e.i$){if(!(e.i$.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return Cg._m;var s=Cg.mm(t).py(Cg.mm(i.i$));return this.G2(i).hw(s)},n.wh=function(t){if(!t.Gw(Cg.Cy))for(var n=this.Dnt.Hl,i=0;i<n;i++){var r=this.Dnt.oZ(i);r.ynt(r.Rw.hw(t))}},n.ptt=function(t){var n=this.Dnt.hZ(t);return n&&n.tnt},n.Att=function(t,n){if(this===t)return Cg.Cy;var i=this.Dnt.hZ(n),r=t.Dnt.hZ(n);return i&&r?i.Ant(r):Cg._m},n.ztt=function(){0},M(t,[{key:"Vnt",get:function(){var t=this.jJ.EZ;return!!t&&t.live}},{key:"Ynt",get:function(){var t=this.jJ.EZ;return!!t&&t.isEvent}},{key:"Znt",get:function(){var t=this.Pnt;return t?this.G2(t):Cg.Cy}},{key:"Jnt",get:function(){var t=this.Dnt.Rnt();return t?t.Iw:Cg.Cy}},{key:"$nt",get:function(){if(!this.Vnt)return Cg.Cy;var t=this.Jnt.py(this.Knt);return Cg.um(this.Znt,t)}},{key:"Knt",get:function(){return this.xnt&&Cg.lm(this.xnt)||this.tit.Yy(3)}},{key:"nit",get:function(){return this.Vnt&&this.Bnt?Cg.Iy(Qb()-this.Bnt.bp,1e3):Cg.Cy}},{key:"tit",get:function(){var t=this.jJ.EZ;return t&&t.targetDuration?Cg.lm(t.targetDuration):CB}},{key:"kh",get:function(){return this.Ont},set:function(t){var n=t.py(this.Ont);this.Ont=t,this.wh(n)}}]),t}(),OB=function(t){function n(n){var i;return(i=t.call(this)||this).iit=[],i.rit={},i.eit=null,i.sit=null,i.Ont=Cg.Cy,i.ant=void 0,i.uit=void 0,i.uit=n,i}F(n,t);var i=n.prototype;return i.oit=function(t){return t&&this.rit[t.Zl]||null},i.hit=function(t){var n=this.oit(t);return n||((n=new DB(t,this.uit,!!this.ant)).kh=this.Ont,this.iit.push(n),this.rit[t.Zl]=n),n},i.ait=function(t){var n;switch(null==(n=this.uit.hls)?void 0:n.discontinuityAlignment){case qA.yC:return!0;case qA.mC:return!1;default:return t.isEvent||t.hasEnd}},i.Lnt=function(t,n){void 0===this.ant&&(this.ant=this.ait(n));var i=this.oit(this.eit),r=i?i.Znt:Cg.Cy,e=i?i.Jnt:Cg.Cy,s=this.hit(t),u=s.Nnt,o=s.Lnt(n);if(!u&&s.Nnt&&(s.wh(this.cit(t)),o=!0),o=this.fit(s)||o,this.vit(s,r,e)){var h=new ZC(YC.KY,{code:"MFU0166"});this.dispatchEvent({type:"ih",ih:h})}else this.eit=t,o&&this.dispatchEvent("H$")},i.cnt=function(t,n){if(wD(n)){0;var i=this.hit(t),r=i.cnt(n);r=this.fit(i)||r,this.sit=t,r&&this.dispatchEvent("H$")}},i.fit=function(t){var n=!1,i=!1,r=this.oit(this.sit);r&&(r===t?n=!0:i=(n=t.Fnt(r))||i);var e=this.oit(this.eit);return e&&e!==t&&(i=n?e.Fnt(t)||i:t.Fnt(e)||i),i},i.cit=function(t){var n=this.oit(t),i=!n.Vnt,r=t.EZ&&t.EZ.isEvent;return i||r?Cg.Cy:n.tit.Yy(3)},i.vit=function(t,n,i){if(!t.Vnt)return!1;var r=t.Znt,e=t.Jnt,s=Cg.om(e,i).py(Cg.um(r,n)),u=Cg.um(t.tit.Yy(3),s.Ky(2));return r.hw(u).wy(n)},i.U$=function(t,n){var i=this.oit(t)||this.oit(this.eit);return i&&i.U$(n)},i.Ett=function(t){var n=this.eit&&this.oit(this.eit);return n?n.Ett(t):NaN},i.dit=function(t,n){var i=t.SZ(n);return this.G2(i)},i.G2=function(t){if(!t)return Cg._m;var n=this.oit(t.jJ)||this.oit(this.eit);return n?n.G2(t):Cg._m},i.j2=function(t,n){if(!t)return Cg._m;var i=this.oit(t.jJ)||this.oit(this.eit);return i?i.j2(t,n):Cg._m},i.Z2=function(t,n){if(!t||!n)return Cg._m;var i=this.oit(t.jJ)||this.oit(this.eit);return i?i.Z2(t,n):Cg._m},i.V8=function(t,n,i){var r=this.oit(t);if(!r)return null;var e=r.V8(n,i);return e?{Xp:e.Xp,jnt:e.jnt}:null},i.Gnt=function(t,n){var i=this.oit(t)||this.oit(this.eit);return i?i.Gnt(n):null},i.Qnt=function(t,n){var i=this.oit(t)||this.oit(this.eit);return i?i.Qnt(n):Cg._m},i.ptt=function(t){return void 0!==this.lit(t)},i.Att=function(t,n){if(this===t)return Cg.Cy;var i=this.lit(n),r=t.lit(n);return i&&r?i.Att(r,n):Cg._m},i.lit=function(t){return je(this.iit,function(n){return n.ptt(t)})},i.qv=function(){this.zo(),this.iit.length=0,this.rit={},this.eit=null,this.sit=null,this.Ont=Cg.Cy},i.ztt=function(){0},M(n,[{key:"_it",get:function(){return this.Znt.py(this.tit.Yy(3))}},{key:"Knt",get:function(){var t=this.uit.liveOffset;return Cg.lm(t||3*this.tit.oy())}},{key:"Vnt",get:function(){var t=this.oit(this.eit);return!!t&&t.Vnt}},{key:"sw",get:function(){return this.eit?new DO([{$R:this.Znt.oy(),tI:this.Jnt.oy()}]):OO}},{key:"Znt",get:function(){if(!this.eit)return Cg.Cy;var t=this.oit(this.eit);return t.Ynt?t.Znt:t.Znt.hw(t.nit)}},{key:"Jnt",get:function(){if(!this.eit)return Cg.Cy;var t=this.oit(this.eit);return t.Jnt.hw(t.nit)}},{key:"$nt",get:function(){if(!this.eit)return Cg.Cy;var t=this.oit(this.eit);return t.$nt.hw(t.nit)}},{key:"tit",get:function(){return this.eit?this.oit(this.eit).tit:CB}},{key:"kh",get:function(){return this.Ont},set:function(t){if(!this.Ont.Gw(t)){this.Ont=t;for(var n=0,i=this.iit;n<i.length;n++){i[n].kh=t}this.dispatchEvent("H$")}}}]),n}(jC),xB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.cit=function(t){return Cg.Cy},n}(OB),PB=.25,BB=1/60;function LB(t,n){return wg(t,n,BB)}var MB,UB=function(t,n,i){this.jJ=void 0,this.Rw=void 0,this.G_=void 0,this.Iw=void 0,this.Xp=void 0,this.git=NaN,this.wit=NaN,this.yit=0,this.jJ=t.jJ,this.Rw=n,this.Iw=i,this.G_=i-n,this.Xp=t},FB=function(t,n,i){this.jJ=void 0,this.Rw=void 0,this.G_=void 0,this.Iw=void 0,this.git=NaN,this.wit=NaN,this.yit=0,this.jJ=t,this.Rw=n,this.Iw=i,this.G_=i-n};function HB(t){return!(!t||!t.Xp)}function VB(t,n,i){return r=n,e=i,s=t.Rw,u=t.Iw,LB(r,u)<=0&&LB(s,e)<=0;var r,e,s,u}function XB(t,n){return LB(t.Rw,n)<=0?t.Iw:t.Rw}function WB(t,n,i){return(t-n)/i-PB}function qB(t,n){return n.py(t).wI(t)}function zB(t,n){var i=_.min(BB,t.G_/2);return n.pI(t.Rw,t.Iw,i)}function GB(t,n){var i=n.M2(t);return-1===i?t:n.end(i)}function jB(t){return t.wit<=t.git}function QB(t,n){if(!jB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.yit+n.wit>r.git)return!1}return!0}function YB(t,n){for(var i=0;i<t.length;i++){t[i].yit+=n.wit}n.yit=n.wit,t.push(n)}!function(t){t[t.mit=0]="mit",t[t.kit=1]="kit",t[t.pit=2]="pit",t[t.g9=3]="g9"}(MB||(MB={}));var ZB=function(){function t(t,n,i,r){this.Pp=void 0,this.bb=void 0,this.Ait=void 0,this.bit=void 0,this.Tit=void 0,this.F1=void 0,this.Pp=t,this.bb=n,this.Ait=i,this.bit=r,this.Tit=oO.$e.a1,this.F1=oO.$e.h1}var n=t.prototype;return n.Eit=function(){return this.Ait.bJ.reduce(function(t,n){return _.max(t,n.EZ&&n.EZ.targetDuration||0)},0)},n.Sit=function(t,n){void 0===n&&(n=this.bb.G2(t).oy());var i=this.bb.j2(t,Cg.lm(n));return new UB(t,n,i.oy())},n.Rit=function(t,n){var i=t.bZ.oZ(n);return i&&this.Sit(i)||null},n.Iit=function(t){var n=t.jJ,i=n.bZ.uZ(t.rZ);return i>=0&&this.Rit(n,i-1)||null},n.Nit=function(t){var n=t.jJ,i=n.bZ.uZ(t.rZ);return i>=0&&this.Rit(n,i+1)||null},n.Cit=function(t,n){var i=this.bb.V8(t,Cg.lm(n));return i&&this.Sit(i.Xp,i.jnt.oy())||null},n.Dit=function(t){var n=t.bZ.Hl-1;return n>=0&&this.Rit(t,n)||null},n.Oit=function(t,n,i){var r=t.EZ&&t.EZ.targetDuration||this.Eit()||10,e=_.max(0,n-r),s=e+r;return i&&VB(i,e,s)&&(s=(e=i.Iw)+r),new FB(t,e,s)},n.xit=function(t,n,i){var r=this.bit.L6,e=.8*this.bit.M6,s=(n.bandwidth||0)*t.G_;return i&&i.U0?((s=8*i.h2||s)-8*i.o2)/e:r+s/e},n.Pit=function(){for(var t=this.bit.v6(this.Pp),n=this.bit.q5(this.Pp),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Bit=function(t,n){var i=n.filter(function(n){return n.jJ===t});return KO(this.bb,i).W2()},n.Lit=function(t){return"audio"===this.Pp&&t?[t]:this.Ait.bJ},n.Mit=function(t){for(var n=new $O([]),i=new $O([]),r=this.Pit(),e={Uit:{},Fit:{},Hit:{},Vit:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Bit(u,r),h=rx(this.bb,o);e.Uit[u.Zl]=o,e.Fit[u.Zl]=h,e.Hit[u.Zl]=n=qB(n,o),e.Vit[u.Zl]=i=qB(i,h)}return e},n.Xit=function(t,n,i,r,e){for(var s,u,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].Zl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({$R:d,tI:l})}return 0===(s=BO(s=PO(new DO(a)),new DO([{$R:t,tI:n}]))).length||LB(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,LB(u,t)<=0&&LB(h,o)<=0)?NaN:s.end(0)},n.Wit=function(t,n,i){var r=null,e=i.Uit[t.Zl],s=i.Hit[t.Zl],u=i.Vit[t.Zl],o=s.M2(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new DO([{$R:h,tI:a}]),f=s.fI(c).py(u),v=0;v<f.length;v++){var d=f.start(v),l=f.bZ(v)[0];if(l.Xp.jJ===t){if(r=this.Iit(l.Xp))return r}else{for(r=this.Cit(t,d);r&&zB(r,e);)r=this.Iit(r.Xp);if(r)return r}}var g=s.bZ(o),w=g[g.length-1];if(w.Xp.jJ===t&&(r=this.Nit(w.Xp)))return r}var y=this.Dit(t);if(!y||LB(y.Iw,n)<=0){if(!y||!y.Xp.S4)return r=this.Oit(t,n,y);r=y}for(r||(r=this.Cit(t,n));r&&zB(r,s);)r=this.Nit(r.Xp);return r},n.qit=function(t,n){var i=this.Dit(t);return i&&i.Xp.S4&&LB(i.Iw,n)<=0?i:this.Cit(t,n)},n.zit=function(t,n,i,r,e,s,u,o){var h=t.jJ,a=u.Hit[h.Zl],c=!zB(t,a),f=c?n:XB(t,r);t.git=WB(f,r,s),t.wit=this.xit(t,h);var v=o&&this.Sit(o);if(v&&!zB(v,a)){var d=XB(v,r);if(v.git=WB(d,r,s),v.wit=this.xit(v,h,i&&i.H1),jB(v)&&(!c||function(t,n){var i=[];return!!QB(i,n)&&(YB(i,n),!(!HB(t)||!HB(n)||t.Xp!==n.Xp)||!!QB(i,t))}(t,v)))return v}if(c&&!jB(t))return null;var l=this.Git(t,r,e,s,a);return l.length&&l[l.length-1]||null},n.Git=function(t,n,i,r,e){for(var s=[],u=t.jJ,o=t;o&&n<o.Iw&&i<=o.Rw;){if(!zB(o,e)){if(y(o.git)){var h=XB(o,n);o.git=WB(h,n,r),o.wit=this.xit(o,u)}QB(s,o)&&YB(s,o)}o=HB(o)&&this.Iit(o.Xp)}return s},n.jit=function(t,n){return t.Rw<n?{$l:MB.pit}:HB(t)?{$l:MB.mit,Xp:t.Xp,Rw:t.Rw}:{$l:MB.kit,jJ:t.jJ}},n.a6=function(t){if(gD(t.uri)){var n=t.uri,i=aO(n.YZ,[n.ZZ.$R,n.ZZ.tI]);return this.F1.ah(i)}var r=aO(t.uri);return this.F1.ah(r)},n.Qit=function(t){return this.Tit.ah(t.uri)},n.Yit=function(){var t=E.coroutine(te.mark(function t(n,i,r,e,s,u,o,h,a){var c,f,v,d,l,_,g,w,m,k,p,A,b;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.Lit(e),f=this.Mit(c),v=this.bb._it.oy(),d=this.Xit(n,i,s,c,f.Fit),g=null,m=!1,!y(d)){t.next=3;break}return t.abrupt("return",{$l:MB.g9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{$l:MB.pit});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=GB(d,f.Fit[l.Zl]),!(g=this.Wit(l,_,f))){t.next=24;break}if(p=!1,!HB(g)){t.next=18;break}return t.next=15,this.a6(g.Xp);case 15:p=t.sent,t.next=22;break;case 18:if(l.h$){t.next=22;break}return t.next=21,this.Qit(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.jit(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+PB&&a.length)){t.next=33;break}if(l=a[0],_=GB(d,f.Fit[l.Zl]),!(g=this.Wit(l,_,f))){t.next=33;break}return t.abrupt("return",this.jit(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=GB(d,f.Fit[l.Zl]),(g=this.Wit(l,_,f))?w=g:(m=!0,w=this.qit(l,_)),!w){t.next=45;break}if(!(b=this.zit(w,_,u,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.jit(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{$l:MB.g9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.jit(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{$l:MB.g9});case 54:if(l=h[0],_=GB(d,f.Fit[l.Zl]),!(g=this.Wit(l,_,f))){t.next=61;break}return t.abrupt("return",this.jit(g,v));case 61:return t.abrupt("return",{$l:MB.g9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),JB=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).Zit=i,o.Jit=r,o.WA=e,o.Pp=s,o.Hv=u,o}return F(n,t),n}(Ss),$B=function(t){function n(n,i,r,e,s){return t.call(this,Yo.Tc,n,i,r,e,s)||this}return F(n,t),n}(JB),KB=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,Yo.Sc,n,i,r,e,s)||this).$it=u,h.tw=o,h}return F(n,t),n}(JB),tL=Cg.lm(.1);function nL(t,n){return(t.A8===n.A8?Dg(t.S3,n.S3):Dg(t.Kit,n.Kit))||_g(t.WA,n.WA)}var iL,rL=function(){function t(){}return t.trt=function(t,n,i){if(!(n>=i)){var r=ts(t,function(t,n){return new hC(t.map(function(t){return t?t.nrt():null}),n).CG()});if(0!==r.length)return new fC(n,i,r)}},t}(),eL="black",sL="white",uL=function(){function t(t,n){this.irt=void 0,this.rrt=void 0,this.ert=void 0,this.urt=void 0,this.ort=void 0,this.hrt=void 0,this.art=void 0,this.crt=void 0,this.frt=void 0,this.irt=new Array(oL+1);for(var i=0;i<=oL;i++)this.irt[i]=new KN;this.rrt=1,this.ert=0,this.urt=t,this.ort=n,this.hrt=!1,this.art=!1,this.crt=sL,this.frt=eL,this.Ul()}var n=t.prototype;return n.vrt=function(t,n){var i="CC"+(this.urt<<1|this.ort+1);if(t>=n)return null;var r=(new oC).gG(this.irt.slice(1));return 0===r.length?null:{Sw:new fC(t,n,r),Kf:i,UG:this.urt<<1|this.ort+1}},n.Ul=function(){this.drt(),this.rrt=1},n.lrt=function(){return this.rrt},n._rt=function(t){this.rrt=t},n.Zz=function(t){this.irt[this.rrt].Zz(t)},n.Jz=function(t){this.irt[this.rrt].Jz(t)},n.grt=function(){return this.ert},n.wrt=function(t){this.ert=t},n.Kz=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case iL.yrt:i=void 0!==aL[n]?aL[n]:String.fromCharCode(n);break;case iL.mrt:i=cL[n];break;case iL.krt:this.prt(),i=fL[n];break;case iL.Art:this.prt(),i=vL[n]}i&&this.irt[this.rrt].addParsedChar(i)}},n.prt=function(){this.irt[this.rrt].$z()},n.brt=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.irt[t+r]=this.irt[n+r];else for(var e=0;e<i;e++)this.irt[t+e]=this.irt[n+e]},n.Trt=function(t,n){for(var i=0;i<=n;i++)this.irt[t+i]=new KN},n.drt=function(){this.Trt(0,oL)},n.Ert=function(){this.rrt=this.ert>0?this.ert:0,this.drt()},n.Srt=function(t){this.hrt=t},n.Rrt=function(t){this.art=t},n.Irt=function(t){this.crt=t},n.Nrt=function(t){this.frt=t},t}(),oL=15;!function(t){t[t.yrt=0]="yrt",t[t.mrt=1]="mrt",t[t.krt=2]="krt",t[t.Art=3]="Art"}(iL||(iL={}));var hL,aL={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},cL={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},fL={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},vL={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},dL=function(){function t(t,n){this.Us=void 0,this.Crt=void 0,this.Drt=void 0,this.Ort=void 0,this.xrt=void 0,this.Prt=void 0,this.Brt=void 0,this.Lrt=void 0,this.Us=hL.UR,this.Crt=new uL(t,n),this.Drt=new uL(t,n),this.Ort=new uL(t,n),this.xrt=this.Drt,this.Prt=0,this.Brt=void 0,this.Lrt=!1}var n=t.prototype;return n.Ul=function(){this.Lrt=!0,this.Prt=0,this.Us=hL.UR,this.xrt=this.Drt,this.Brt=void 0,this.Drt.Ul(),this.Ort.Ul(),this.Crt.Ul()},n.Mrt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Urt=function(t,n){var i=this.Mrt(t,n),r=(30&n)>>1,e=sL,s=!1;r<7?e=wL[r]:7===r&&(s=!0);var u=1==(1&n);if(this.Us!==hL.es){var o=this.xrt;if(this.Us===hL.Frt&&i!==o.lrt()){var h=1+o.lrt()-o.grt(),a=1+i-o.grt();o.brt(a,h,o.grt()),o.Trt(0,a-1),o.Trt(i+1,oL-i)}o._rt(i);var c=yC[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=mC.Ej(c,n);o.Zz(f.lG),this.xrt.Srt(u),this.xrt.Rrt(s),this.xrt.Irt(e),this.xrt.Nrt(eL)}}},n.Hrt=function(t,n){this.xrt.Srt(!1),this.xrt.Rrt(!1),this.xrt.Irt(sL);var i=this.Vrt(t,iL.yrt," ".charCodeAt(0)),r=sL,e=!1,s=1==(1&n);return"white_italics"===(r=wL[(14&n)>>1])&&(r="white",e=!0),this.xrt.Srt(s),this.xrt.Rrt(e),this.xrt.Irt(r),i},n.Vrt=function(t,n,i){if(this.xrt.Kz(n,i),this.Us===hL.Xrt||this.Us===hL.Frt){var r=this.Wrt(this.xrt,this.Prt,t);return this.Prt=t,r}return null},n.Wrt=function(t,n,i){return this.Lrt?null:t.vrt(n,i)},n.qrt=function(t,n){var i=eL;0==(7&t)&&(i=gL[(14&n)>>1]),this.xrt.Nrt(i)},n.zrt=function(t){var n=lL,i=t.Grt,r=t.a8,e=null;switch(i){case n.RCL:this.jrt();break;case n.BS:this.Qrt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Yrt(2,r);break;case n.RU3:e=this.Yrt(3,r);break;case n.RU4:e=this.Yrt(4,r);break;case n.FON:e=this.Zrt(r);break;case n.RDC:this.Jrt(r);break;case n.TR:this.$rt();break;case n.RTD:this.Krt();break;case n.EDM:e=this.tet(r);break;case n.CR:e=this.net(r);break;case n.ENM:this.iet();break;case n.EOC:e=this.ret(r)}return e},n.net=function(t){var n=this.xrt;if(this.Us!==hL.Frt)return null;var i=this.Wrt(n,this.Prt,t),r=n.lrt()-n.grt()+1;return n.brt(r-1,r,n.grt()),n.Trt(0,r-1),n.Trt(n.lrt(),oL-n.lrt()),this.Prt=t,i},n.Yrt=function(t,n){this.xrt=this.Drt;var i=this.xrt,r=null;return this.Us!==hL.Frt&&this.Us!==hL.es&&(r=this.Wrt(i,this.Prt,n),this.Drt.Ert(),this.Ort.Ert(),this.Lrt=!1,i._rt(oL)),this.Us=hL.Frt,i.wrt(t),r},n.Zrt=function(t){return this.Vrt(t,iL.yrt," ".charCodeAt(0))},n.tet=function(t){var n=this.Drt,i=null;return this.Us!==hL.es&&(i=this.Wrt(n,this.Prt,t)),n.drt(),this.Lrt=!1,i},n.Jrt=function(t){this.Us=hL.Xrt,this.xrt=this.Drt,this.xrt.wrt(0),this.Prt=t},n.iet=function(){this.Ort.drt()},n.ret=function(t){var n=null;this.Us!==hL.es&&(n=this.Wrt(this.Drt,this.Prt,t));var i=this.Ort;return this.Ort=this.Drt,this.Drt=i,this.jrt(),this.Prt=t,n},n.jrt=function(){this.Us=hL.eet,this.xrt=this.Ort,this.xrt.wrt(0)},n.Qrt=function(){this.xrt.prt()},n.$rt=function(){this.Crt.Ul(),this.Lrt=!1,this.Krt()},n.Krt=function(){this.xrt=this.Crt,this.Us=hL.es},n.uet=function(t,n,i){return this.xrt.Kz(iL.yrt,n),this.Vrt(t,iL.yrt,i)},n.oet=function(t,n,i){var r=1&n?iL.Art:iL.krt;return this.Vrt(t,r,i)},n.het=function(t){var n=t.aet,i=t.Grt,r=t.a8;if(this.Brt===(n<<8|i))return this.Brt=void 0,null;if(this.Brt=n<<8|i,this.cet(n,i))this.Urt(n,i);else{if(this.fet(n,i))return this.Hrt(r,i);if(this.vet(n,i))this.qrt(n,i);else{if(this.det(n,i))return this.Vrt(r,iL.mrt,i);if(this.let(n,i))return this.oet(r,n,i);if(this._et(n,i))return this.zrt(t);this.isTabOffset(n)&&this.xrt.Jz(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n._et=function(t,n){return 20==(246&t)&&32==(240&n)},n.cet=function(t,n){return 16==(240&t)&&64==(192&n)},n.fet=function(t,n){return 17==(247&t)&&32==(240&n)},n.vet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.det=function(t,n){return 17==(247&t)&&48==(240&n)},n.let=function(t,n){return 18==(246&t)&&32==(224&n)},t.wet=function(t){return 16==(112&t)},t}(),lL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.UR=0]="UR",t[t.eet=1]="eet",t[t.Xrt=2]="Xrt",t[t.Frt=3]="Frt",t[t.es=4]="es"}(hL||(hL={}));var _L,gL=["black","green","blue","cyan","red","yellow","magenta","black"],wL=["white","green","blue","cyan","red","yellow","magenta","white_italics"],yL=function(){function t(t,n,i,r,e){this.yet=void 0,this.hrt=void 0,this.art=void 0,this.frt=void 0,this.crt=void 0,this.yet=t,this.hrt=n,this.art=i,this.frt=r,this.crt=e}var n=t.prototype;return n.nrt=function(){return this.yet},n.met=function(){return this.hrt},n.ket=function(){return this.art},n.pet=function(){return this.frt},n.Aet=function(){return this.crt},t}(),mL=function(){function t(t){this.bet=void 0,this.zR=void 0,this.Tet=void 0,this.Eet=void 0,this.Ret=void 0,this.Iet=void 0,this.Net=void 0,this.Cet=void 0,this.Det=void 0,this.Oet=void 0,this.Uw=void 0,this.rrt=void 0,this.xet=void 0,this.art=void 0,this.hrt=void 0,this.crt=void 0,this.frt=void 0,this.bet=t,this.zR=!1,this.Tet=!1,this.Eet=0,this.Ret=0,this.Iet=0,this.Net=0,this.Cet=0,this.Det=_L.Pet,this.Oet=[],this.Uw=0,this.rrt=0,this.xet=0,this.art=!1,this.hrt=!1,this.crt=sL,this.frt=eL,this.Bet()}var n=t.prototype;return n.Let=function(t,n,i,r,e,s,u){this.zR=t,this.Ret=n,this.Eet=i,this.Iet=r,this.Tet=e,this.Net=s,this.Cet=u},n.Bet=function(){this.Oet=[];for(var t=0;t<pL;t++)this.Oet.push(this.Met())},n.Met=function(){for(var t=[],n=0;n<kL;n++)t.push(null);return t},n.Uet=function(t){this.Fet()&&(this.Oet[this.rrt][this.xet]=new yL(t,this.hrt,this.art,this.frt,this.crt),this.xet++)},n.aG=function(){this.Fet()&&(this.xet<=0&&this.rrt<=0||(this.xet<=0?(this.xet=this.Cet-1,this.rrt--):this.xet--,this.Oet[this.rrt][this.xet]=null))},n.Fet=function(){var t=this.rrt<this.Net&&this.rrt>=0,n=this.xet<this.Cet&&this.xet>=0;return t&&n},n.Het=function(){return this.zR},n.Vet=function(t){for(var n=0,i=t;i<pL;i++,n++)this.Oet[n]=this.Oet[i];for(var r=0;r<t;r++,n++)this.Oet[n]=this.Met()},n.Xet=function(){if(this.rrt+1>=this.Net)return this.Vet(1),void(this.xet=0);this.rrt++,this.xet=0},n.Wet=function(){this.Oet[this.rrt]=this.Met(),this.xet=0},n.vrt=function(t,n){if(this.Uw>=t)return null;var i=rL.trt(this.Oet,this.Uw,t);return i?(this.ynt(t),{Sw:i,Kf:"svc"+n,UG:n}):null},n.qet=function(t,n){this.rrt=t,this.xet=n},n.zet=function(t){this.frt=t},n.Get=function(t){this.crt=t},n.jet=function(t){this.hrt=t},n.Qet=function(t){this.art=t},n.Yet=function(){this.rrt=0,this.xet=0,this.hrt=!1,this.art=!1,this.crt=sL,this.frt=eL},n.Zet=function(t){this.Det=t},n.Jet=function(){this.zR=!0},n.Mg=function(){this.zR=!1},n.$et=function(){this.zR=!this.zR},n.ynt=function(t){this.Uw=t},t}();!function(t){t[t.Ket=0]="Ket",t[t.tst=1]="tst",t[t.Pet=2]="Pet",t[t.nst=3]="nst"}(_L||(_L={}));var kL=42,pL=15,AL=function(){function t(t){this.ist=void 0,this.rst=void 0,this.est=void 0,this.ist=t,this.rst=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.est=void 0}var n=t.prototype;return n.sst=function(t){var n=t.ust(),i=n.gs,r=n.a8;i===RL&&(i=i<<16|t.ust().gs);return i>=0&&i<=31?this.ost(i,r):i>=128&&i<=159?this.hst(t,i,r):(i>=4096&&i<=4127?this.ast(t,255&i):i>=4224&&i<=4255?this.cst(t,255&i):i>=32&&i<=127?this.fst(i):i>=160&&i<=255?this.vst(i):i>=4128&&i<=4223?this.dst(255&i):i>=4256&&i<=4351&&this.lst(255&i),null)},n.fst=function(t){this.est&&(127!==t?this.est.Uet(String.fromCharCode(t)):this.est.Uet("\u266a"))},n.vst=function(t){this.est&&this.est.Uet(String.fromCharCode(t))},n.dst=function(t){if(this.est)if(void 0!==IL[t]){var n=IL[t];this.est.Uet(n)}else this.est.Uet("_")},n.lst=function(t){this.est&&(160===t?this.est.Uet("[CC]"):this.est.Uet("_"))},n.ost=function(t,n){if(!this.est)return null;var i=this.est,r=null;switch(t){case bL:i.aG();break;case EL:i.Het()&&(r=i.vrt(n,this.ist)),i.Xet();break;case SL:i.Het()&&(r=i.vrt(n,this.ist)),i.Wet();break;case TL:i.Het()&&(r=i.vrt(n,this.ist)),i.Bet(),i.qet(0,0)}return r},n.hst=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this._st(r)}else{if(136===n){var e=t.ust().gs;return this.gst(e,i)}if(137===n){var s=t.ust().gs;this.wst(s,i)}else{if(138===n){var u=t.ust().gs;return this.yst(u,i)}if(139===n){var o=t.ust().gs;return this.mst(o,i)}if(140===n){var h=t.ust().gs;return this.kst(h,i)}if(143===n)return this.Ul(i);if(144===n)this.pst(t);else if(145===n)this.Ast(t);else if(146===n)this.qet(t);else if(151===n)this.bst(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Let(t,a,i)}}}return null},n.ast=function(t,n){n>=8&&n<=15?t.Xk(1):n>=16&&n<=23?t.Xk(2):n>=24&&n<=31&&t.Xk(3)},n.cst=function(t,n){n>=128&&n<=135?t.Xk(4):n>=136&&n<=143&&t.Xk(5)},n._st=function(t){this.rst[t]&&(this.est=this.rst[t])},n.Tst=te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.rst[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.gst=function(t,n){for(var i=null,r=0,e=this.Tst(t);r<e.length;r++){var s=e[r],u=this.rst[s];u.Het()&&(i=u.vrt(n,this.ist)),u.Bet()}return i},n.wst=function(t,n){for(var i=0,r=this.Tst(t);i<r.length;i++){var e=r[i],s=this.rst[e];s.Het()||s.ynt(n),s.Jet()}},n.yst=function(t,n){for(var i=null,r=0,e=this.Tst(t);r<e.length;r++){var s=e[r],u=this.rst[s];u.Het()&&(i=u.vrt(n,this.ist)),u.Mg()}return i},n.mst=function(t,n){for(var i=null,r=0,e=this.Tst(t);r<e.length;r++){var s=e[r],u=this.rst[s];u.Het()?i=u.vrt(n,this.ist):u.ynt(n),u.$et()}return i},n.kst=function(t,n){for(var i=null,r=0,e=this.Tst(t);r<e.length;r++){var s=e[r],u=this.rst[s];u.Het()&&(i=u.vrt(n,this.ist)),this.rst[s]=void 0}return i},n.Ul=function(t){var n=this.kst(255,t);return this.lh(),n},n.lh=function(){this.est=void 0,this.rst=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.pst=function(t){t.Xk(1);var n=t.ust().gs;if(this.est){var i=(128&n)>0,r=(64&n)>0;this.est.Qet(i),this.est.jet(r)}},n.Ast=function(t){var n=t.ust().gs,i=t.ust().gs;if(t.Xk(1),this.est){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.Est(s,e,r),c=this.Est(h,o,u);this.est.Get(a),this.est.zet(c)}},n.qet=function(t){var n=t.ust().gs,i=t.ust().gs;if(this.est){var r=15&n,e=63&i;this.est.qet(r,e)}},n.bst=function(t){t.Xk(1),t.Xk(1);var n=t.ust().gs;if(t.Xk(1),this.est){var i=3&n;this.est.Zet(i)}},n.Let=function(t,n,i){var r=void 0!==this.rst[n];if(!r){var e=new mL(n);e.ynt(i),this.rst[n]=e}var s=t.ust().gs,u=t.ust().gs,o=t.ust().gs,h=t.ust().gs,a=t.ust().gs,c=t.ust().gs,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);r&&0===(7&c)||this.rst[n].Yet(),this.rst[n].Let(f,v,l,g,d,_,w),this.est=this.rst[n]},n.Est=function(t,n,i){var r={0:0,1:0,2:1,3:1};return NL[r[t]<<2|r[n]<<1|r[i]]},t}(),bL=8,TL=12,EL=13,SL=14,RL=16,IL={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},NL=["black","blue","green","cyan","red","magenta","yellow","white"],CL=function(){function t(){this.Sst=void 0,this.Rst=void 0,this.Ist=void 0,this.Sst=[],this.Rst=null,this.Ist=0}var n=t.prototype;return n.Nst=function(t){if(t.co===PN.qz){var n=63&t.gs;return this.Ist=2*n-1,void(this.Rst=[])}if(this.Rst&&(this.Ist>0&&(this.Rst.push(t),this.Ist--),0===this.Ist)){var i=new DL(this.Rst);this.Sst.push(i),this.Rst=null,this.Ist=0}},n.Cst=function(){return this.Sst},n.Dst=function(){this.Sst=[]},n.lh=function(){this.Sst=[],this.Rst=[],this.Ist=0},t}(),DL=function(){function t(t){this.Ost=void 0,this.xst=void 0,this.Ost=0,this.xst=t}var i=t.prototype;return i.Pst=function(){return this.Ost<this.xst.length},i.Bst=function(){return this.Ost},i.ust=function(){if(!this.Pst())throw new No(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.xst[this.Ost++]},i.Xk=function(t){if(this.Ost+t>this.xst.length)throw new No(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Ost+=t},t}(),OL=function(){function t(){this.Lst=void 0,this.Mst=void 0,this.Ust=void 0,this.Fst=void 0,this.Hst=void 0,this.Vst=void 0,this.Xst=void 0,this.Wst=void 0,this.qst=!1,this.Lst=[],this.Mst=[],this.Ust=new CL,this.Fst=0,this.Hst=se({CC1:new dL(0,0),CC2:new dL(0,1),CC3:new dL(1,0),CC4:new dL(1,1)}),this.Vst=0,this.Xst=0,this.Wst=ee(),this.Ul()}var i=t.prototype;return i.lh=function(){this.Fst=0,this.Lst=[],this.Mst=[],this.Ust.lh(),this.Ul(),this.Wst.forEach(function(t){t.lh()})},i.Ul=function(){this.Vst=0,this.Xst=0,this.Hst.forEach(function(t){t.Ul()})},i.U4=function(t,n){if(t.wj){var i=t.mj,r=t.kj,e=t.co;e===PN.Vz||e===PN.Xz?this.Lst.push({a8:n,co:e,aet:i,Grt:r,zst:this.Lst.length}):this.qst&&(this.Mst.push({a8:n,co:e,gs:i,zst:this.Mst.length}),this.Mst.push({a8:n,co:PN.Wz,gs:r,zst:this.Mst.length}))}},i.AC=function(){var t=[];We(this.Lst,function(t,n){return t.a8-n.a8||t.zst-n.zst}),We(this.Mst,function(t,n){return t.a8-n.a8||t.zst-n.zst});for(var n=0,i=this.Lst;n<i.length;n++){var r=i[n],e=this.Gst(r);e&&t.push(e)}for(var s=0,u=this.Mst;s<u.length;s++){var o=u[s];this.Ust.Nst(o)}for(var h=this.Ust.Cst(),a=0;a<h.length;a++){var c=h[a],f=this.jst(c);t.push.apply(t,f)}return this.Ust.Dst(),this.Lst=[],this.Mst=[],t},i.Gst=function(t){var n=t.co;if(dL.wet(t.aet)){var i=t.aet>>3&1;0===n?this.Vst=i:this.Xst=i}var r="CC"+(n<<1|(n?this.Xst:this.Vst)+1),e=this.Hst.get(r);return 255===t.aet&&255===t.Grt||!t.aet&&!t.Grt||!this.Qst(t.aet)||!this.Qst(t.Grt)?(++this.Fst>=45&&this.Ul(),null):(this.Fst=0,t.aet&=127,t.Grt&=127,t.aet||t.Grt?dL.wet(t.aet)?e.het(t):e.uet(t.a8,t.aet,t.Grt):null)},i.jst=function(t){var i=[];try{for(;t.Pst();){var r=t.ust().gs,e=(224&r)>>5,s=31&r;if(7===e&&0!==s)e=63&t.ust().gs;if(0!==e){if(!this.Wst.has(e)){var u=new AL(e);this.Wst.set(e,u)}for(var o=this.Wst.get(e),h=t.Bst();t.Bst()-h<s;){var a=o.sst(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof No&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Qst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),xL=function(t){function n(n){var i;return(i=t.call(this)||this).P$=void 0,i.Yst=[],i.P$=n,i}F(n,t);var i=n.prototype;return i.Zst=function(t,n,i){var r=this.Jst(t),e=this.$st(r);this.Kst(e,n,i),this.AC()},i.Jst=function(t){if(0===t.length)return[];for(var n=t[0].A8,i=this.tut(t[0]),r=[],e=0;e<t.length;e++){var s=t[e];n!==s.A8&&(n=s.A8,i=this.tut(s)),r.push(ne({},s,{Kit:s.S3.hw(i)}))}return r},i.tut=function(t){var n=this.P$.Z2(t.A8,t.S3),i=n.py(t.S3);return Vg(n,t.S3).py(i)},i.$st=function(t){var n,i,r,e,s,u=t.slice().sort(nL),o=this.Yst;if(o.length)if(u.length){var h=1/u[0].A8.x$,a=u[0].Kit,c=o[0].Kit,f=o[o.length-1].Kit,v=(e=o[0].A8,s=u[0].A8,e.jJ===s.jJ);if(f.py(a).wy(Cg.lm(2.5*h))&&v)n=o.concat(u).sort(nL);else if(a.vy(c)){for(var d=0;d<o.length&&o[d].Kit.wy(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],r=u[w],i.S3.Gw(r.S3)&&i.co===r.co&&i.mj===r.kj?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(nL):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Ul())}else n=u,this.Ul()}else n=o;else n=u;return n},i.Kst=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.py(r.Kit),s=Vg(n,r.Kit).py(e),u=n.hw(s),o=tL.hm(u.im),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.py(a.Kit).wy(o))return void(this.Yst=t.slice(h));var c=this.P$.Z2(a.A8,a.S3);this.gj(a,c.oy())}this.Yst=[]}},M(n,[{key:"oA",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).nut=void 0,n.nut=new OL,n}F(n,t);var i=n.prototype;return i.gj=function(t,n){this.nut.U4(t,n)},i.AC=function(){for(var t=this.nut.AC(),n=0;n<t.length;n++){var i=t[n];this.Vo(new vC(i.UG,i.Sw))}},i.Ul=function(){this.nut.lh()},i.qv=function(){this.zo(),this.nut.lh()},n}(Ts)),PL=function(t){function n(n,i,r,e,s,u,o,h,a,c){var f;return(f=t.call(this)||this).iut=!1,f.rut=!1,f.j5=void 0,f.l0=void 0,f.eut=void 0,f.bit=void 0,f.sut=void 0,f.Ntt=void 0,f.Jh=void 0,f.bb=void 0,f.uut=void 0,f.out=!1,f.hut=void 0,f.aut=void 0,f.cut=!1,f.fut=!1,f.vut=null,f.ZI=void 0,f.z$=void 0,f.dut=void 0,f.lut=null,f.Iw=-1,f._ut=null,f.gut=!1,f.wut=!1,f.yut=1/0,f.mut=void 0,f.kut=null,f.Aut=0,f.but=void 0,f.Ho=function(t){f.dispatchEvent(t)},f.Tut=function(){!f.out&&!f.cut&&f.Eut&&f.iut&&(f.cut=f.Sut("EJ",f.hut,function(){f.cut=!1}))},f.Rut=function(){!f.out&&!f.fut&&f.Iut&&f.rut&&(f.fut=f.Sut("SJ",f.aut,function(){f.fut=!1}))},f.Nut=function(t){return f.Cut()},f.Dut=function(t){if(t.Pp===f.Pp){var n=t.A8,i=n.y4;i.l3&&f.Out(i.l3,n.info),i.A3&&f.xut(i.A3,n.info),f.Cut(f.j5.n6,!0)}},f.MK=function(t){var n=t;f.Put(n.D$,n.jJ)},f.But=function(t){if(1===t.UG){if(f.lut)for(var n=0;n<f.lut.oA;n++){var i="CC"+(n+1);f.l0.cK(i,t.Sw.Rw,t.Sw.Iw)}f.l0.aK(t.Sw)}},f.ZI=a,f.l0=i,f.eut=r,f.bit=e,f.sut=s,f.Ntt=u,f.Jh=o,f.j5=c,f.bb=new OB(o),f.uut=f.Lut(i),e.Bl(n,f.bb,f.Ntt),f.hut=new kB(u,f.bb),f.aut=new kB(u,f.bb),f.lut=f.Mut(f.bb),f.but=new ZB(n,f.bb,f.uut,e),e.addEventListener("p8",f.Dut),f.bb.addEventListener("ih",f.Ho),i.addEventListener("bK",f.MK),f}F(n,t);var i=n.prototype;return i.Sut=function(t,n,i){var r=this,e=this.Ntt.e6,s=5*this.Ntt.J_,u=this.Uut(),o="audio"===this.Pp?[this.Fut]:this.uut.bJ,h=n.ztt(),a=h[0],c=h[1],f=this.bit.j8(this.Pp,t,this.bb,o,a,c||void 0,e,s,u);return f&&!f.length&&f.P8?(this.Ntt.Hut("EJ"===t,"SJ"===t),!1):!(!f||!f.length)&&(this.sut.O9(this.Pp,this.l0,f,f.B8,f.W8,f.P8,function(t,e){if(i(),t)r.dispatchEvent({type:"ih",ih:t});else{var s=e;n.Ltt(s).then(function(){return r.dispatchEvent("b0")}).catch(function(t){0})}}),!0)},i.Vut=function(){this.sut.xo(this.Pp),this.cut=!1,this.fut=!1},i.Xut=function(){var t=this.Ntt.e6,n=this.hut.Vtt(t)||this.aut.Vtt(t);!n||this.vut&&this.vut.rZ===n.rZ||(this.Cut(this.j5.n6),this.vut=n,this.dispatchEvent({type:"Wut",Ib:this.vut.ph.m4}))},i.qut=function(){this.zut()},i.Gut=function(){this.qut()},i.jut=function(){this.Cut(this.j5.n6)},i.Qut=function(t,n){this.hut.Vtt(t)||this.aut.Vtt(t)||(this.vut=null)},i.Yut=function(t){var n=!1;this.hut.qtt().aw(t)||(this.Tut(),n=!0),this.aut.qtt().aw(t)||(this.Rut(),n=!0),n&&this.Cut(this.j5.n6,!0)},i.Zut=function(){this.hut.lh()},i.Jut=function(){this.aut.lh()},i.Uut=function(){return 0===this.hut.Hl+this.aut.Hl?0:"N8"===this.Jh.C8?0:1*this.bit.i6},i.zut=function(){this.Tut(),this.Rut()},i.a0=function(t){return-1!==this.uut.bJ.indexOf(t)},i.$ut=function(t){t&&this.a0(t)&&(this.M$(t),this.pK(t))},i.M$=function(t){this.bb.Lnt(t,t.EZ)},i.pK=function(t){var n=this;if(t&&t.EZ&&this.Jh.hlsDateRange){this.l0.pK(t.EZ.dateRanges,function(i){return n.bb.Qnt(t,i).oy()})}},i.Kut=function(t){this.a0(t.jJ)&&this.bb.cnt(t.jJ,t)},i.tot=function(t){var n,i,r,e=t,s=this.hut.Vtt(e)||this.aut.Vtt(e);if(s)i=s.ph.quality,r=s.rZ,n=s.$R;else{var u=this.Fut;if(!u)return null;var o=this.bb.V8(u,Cg.lm(e));if(!o)return null;i=u,r=o.Xp.rZ,n=o.jnt.oy()}var h=this.bb.Gnt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.Qnt=function(t){var n=this.Fut;return this.bb.Qnt(n,t).oy()},i.Cut=function(t,n){var i=this,r=this.iot(),e=this.Ntt.e6;t&&(this.Iw=e+t,n&&(this.kut=null,this.Aut=0)),this.iot()||e>=this.Iw?this.rot(r):this._ut||this.gut||!this.Yl||(this.eot(),this.sot(function(t){return i.uot(e,i.Ntt.J_,t)}))},i.oot=function(t){t&&this.eut.removeEventListener(t.uri,this.Nut)},i.hot=function(t){t&&this.eut.addEventListener(t.uri,this.Nut)},i.iot=function(){return-1===this.Iw},n.aot=function(t){return dD.eg(t.jJ.u$)&&Qb()-t.bp>2e3*t.jJ.EZ.metadata.A7},i.sot=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this._ut=new ss,r=this._ut,t.prev=3,t.next=6,n(r.Lo);case 6:i=t.sent,hs(r.Lo),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),cs(t.t0);case 13:return t.prev=13,this._ut===r&&(this._ut=null),t.finish(13);case 16:i&&this.Cut();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.eot=function(){this._ut&&(this._ut.xo(),this._ut=null)},i.cot=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.fot=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!HL.aot(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("vot"));case 2:if(i=_.min(16e3,1e3*_.pow(2,this.Aut)),this.Aut+=1,this.eot(),!(this.Aut>2)){t.next=8;break}return n.jJ.YJ(!1),t.abrupt("return",n.jJ.KJ());case 8:this.sot(function(t){return ms(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Out=function(t,n){var i,r;r=xD((i=t)._3,4),i.hK="0000.0000.0000."+r,function(t){var n=xD(t.g3,4),i=xD(t.w3,3),r=xD(t.y3,2*t.w3);t.o_=(n+i+r).toUpperCase()}(t),pB(n,this.bb,t),this.l0.oK(t,this.bb)},i.xut=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(ne({},e,{A8:n}))}this.lut&&this.lut.Zst(i,n.M5,n.S4)},i.dot=function(t){this.mut&&this.mut.A8===t&&this.Cut()},i.lot=function(t,n){if(n){if(n.aborted)return;if(this.kut===t)return this.fot(t)}else t.jJ.YJ(!0);return this.Cut()},i._ot=function(t){var n=AD(t.jJ.D$);n&&this.dispatchEvent(new $B(_D(t.uri),t.jJ.bandwidth||0,t.rZ,t.jJ.rZ,n))},i.got=function(t,n){var i=this.mut&&this.mut.yv.V1||200,r=AD(t.jJ.D$);r&&this.dispatchEvent(new KB(_D(t.uri),t.jJ.bandwidth||0,t.rZ,t.jJ.rZ,r,i,n&&n.H1.o2||0))},i.rot=function(t){this.Iw=-1,t||this.dispatchEvent("wot")},i.yot=function(t){this.wut=!0,this.rot(t),this.dispatchEvent("F0")},i.uot=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(r),e=this.Fut,s=this.iot(),this.oot(e||void 0),!(n>=this.Iw)){t.next=7;break}return this.rot(s),t.abrupt("return",!1);case 7:return t.next=9,this.but.Yit(n,this.Iw,i,e||void 0,this.Uut(),this.mut&&this.mut.yv,this.mut&&this.mut.A8,this.mot,this.kot);case 9:if(u=t.sent,dl.A_(this.bit.M6/8),hs(r),u.$l!==MB.pit){t.next=18;break}return this.eot(),this.dispatchEvent("vot"),t.abrupt("return",!1);case 18:if(u.$l!==MB.kit){t.next=29;break}if(u.jJ!==e){t.next=24;break}return this.hot(e),t.abrupt("return",!1);case 24:return t.next=26,this.cot(u.jJ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.$l!==MB.g9){t.next=33;break}return this.hot(e||void 0),!dD.eg(e.u$)&&e.EZ&&this.yot(s),t.abrupt("return",!1);case 33:if(o=u.Xp,!this.mut||this.mut.A8!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.jJ===e){t.next=40;break}return t.next=39,this.cot(o.jJ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.mut&&(this.mut.yv.xo(),this.mut=void 0),!(u.Rw>this.yut)){t.next=46;break}return this.yot(s),t.abrupt("return",!1);case 46:if(!(u.Rw>this.Iw)){t.next=49;break}return this.rot(s),t.abrupt("return",!1);case 49:if(this.wut=!1,this.mut=void 0,o!==this.kut&&(this.Aut=0),this.kut=o,this.dispatchEvent("U0"),this._ot(o),!o.w7){t.next=59;break}return t.next=58,this.bit.m8(this.Pp,o.jJ,o.w7);case 58:h=t.sent;case 59:return(a=this.bit.k8(this.Pp,o,h,function(t,n){c.eot(),c.got(o,n),c.mut=void 0,r&&r.Ao||c.lot(o,t)}))&&(this.mut={A8:o,yv:a},a.addEventListener("b0",function(){r&&r.Ao||c.dot(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.pot=function(t){this.Cut(t||this.j5.n6,!0)},i.Aot=function(){var t=this.iot();this.Iw=-1,this.mut&&this.mut.yv.xo(),this.mut=void 0,this.oot(),this.wut=!1,this.kut=null,this.Aut=0,this.eot(),this.rot(t),this.lut=this.Mut(this.bb)},i.bot=function(){this.gut=!0,this.oot(),this.eot()},i.Tot=function(){this.gut=!1,this.Cut()},i.Eot=function(){this.out=!0},i.Sot=function(){this.out=!1,this.zut()},i.qv=function(){this.zo(),this.Aot(),this.Vut(),this.Eut=null,this.Iut=null,this.hut.qv(),this.aut.qv(),this.sut.xo(this.Pp),this.bb.qv(),this.l0.removeEventListener("bK",this.MK),this.bit.removeEventListener("p8",this.Dut),this.uut=null,this.Rot()},i.Ul=function(){this.vut=null,this.z$=void 0,this.dut=void 0,this.Rot(),this.lut=this.Mut(this.bb)},i.Mut=function(t){var n=new xL(t);return n.Xo("FG",this.But),n},i.Rot=function(){this.lut&&(this.lut.Go("FG",this.But),this.lut.qv(),this.lut=null)},M(n,[{key:"z_",get:function(){return this.Ntt.e6}},{key:"Iot",get:function(){return this.iut}},{key:"Pp",get:function(){return this.Not()}},{key:"h$",get:function(){return this.Cot()}},{key:"mot",get:function(){return this.Dot()}},{key:"kot",get:function(){return this.Oot()}},{key:"Eut",get:function(){return this.hut.Htt},set:function(t){var n=this.hut.Htt;n&&n.removeEventListener("updateend",this.Tut),this.hut.Htt=t,t&&(t.addEventListener("updateend",this.Tut),this.Tut())}},{key:"Iut",get:function(){return this.aut.Htt},set:function(t){var n=this.aut.Htt;n&&n.removeEventListener("updateend",this.Rut),this.aut.Htt=t,t&&(t.addEventListener("updateend",this.Rut),this.Rut())}},{key:"wot",get:function(){return this.iot()}},{key:"F0",get:function(){return this.wut}},{key:"xot",get:function(){return this.yut},set:function(t){this.yut=t}},{key:"Fut",get:function(){return this.Pot()}},{key:"Bot",get:function(){return this.Lot()},set:function(t){this.Mot(t)}},{key:"Yl",get:function(){return this.Uot()}},{key:"iw",get:function(){return this.Fot()}}]),n}(jC);function BL(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function LL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,s=0;s<n.length;s++){BL(r,n[s])&&(e=!0)}e||n.push(r)}return n}function ML(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var s=n.indexOf(".aac",e-4);return 0<=s&&s<e}var UL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).l0=void 0,o.bb=void 0,o.bit=void 0,o.Jh=void 0,o.Hot=void 0,o.Vot=void 0,o.Xot=null,o.Wot=null,o.qot=null,o.zot=null,o.Got=null,o.jot=null,o.Qot=null,o.Yot=!1,o.lw=!0,o.BJ=!0,o.Zot=null,o.ZI=void 0,o.Jot=function(){o.Zot&&o.Zot.disabled&&o.$ot(o.Jh.initialRendition||"default"),o.Kot(!0)},o.tht=function(){var t=o.l0.CK.TJ.some(function(t){return t.iw});o.nht(t)},o.iht=function(t){"variant"===t.Pp&&(o.bit.removeEventListener("R8",o.iht),o.Zot&&(o.Zot=null,o.Kot(!1)))},o.ZI=u,o.l0=n,o.bb=i,o.bit=r,o.Jh=e,o.Hot=e.rht||[],o.Vot=new fB(e,oO.$e.a1,s),o.Xot=null,o.bit.addEventListener("R8",o.iht),o.eht(),o.sht(),o.$ot(e.initialRendition||"default"),o}F(n,t);var i=n.prototype;return i.uht=function(t,n){var i=mD(t);if(i&&!i.disabled)return i;var r=this.oht(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.rZ<=n.rZ?t:n});case"high":var e=LL(r);return e[e.length-1];case"low":default:return LL(t)[0]}},i.hht=function(t,n){var i=this.aht||this.Zot&&[this.Zot],r=i&&i.filter(function(n){return Je(t,n)});return r&&r.length>0?LL(r):LL(this.oht(t,n))},i.oht=function(t,n){var i=this.Jh,r=this.Hot,e=this.cht();return t.filter(function(t){for(var s=0;s<r.length;s++){if(!r[s].fht(t,n,e,i))return!1}return!0})},i.vht=function(t,n){var i=this.hht(t,n);return i.length?i[i.length-1]:t[0]},i.dht=function(t,n){var i=this.aht;return i&&i.length>0?i.filter(function(n){return Je(t,n)}):t},i._ht=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.zot,e=this.Got,!r||n!==this.jot||i!==this.Qot){t.next=4;break}return t.abrupt("return",r);case 4:return s=new ss,u=this.ght(n,i,s.Lo),r&&e&&e.xo(),this.zot=u,this.Got=s,this.Qot=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.zot&&(this.zot=null,this.Got=null,this.Qot=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.ght=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.l0,s=this.bb,u=e.NK,t.next=5,this.wht(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.dit(u,i.rZ),h=s.V8(n,o),dD.eg(u.u$)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.wht=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Wot,e=this.qot,!r||n!==this.jot){t.next=4;break}return t.abrupt("return",r);case 4:return(s=new ss).Po(i),u=this.yht(n,s.Lo),r&&e&&e.xo(),this.Wot=u,this.qot=s,this.jot=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.Wot&&(this.Wot=null,this.qot=null,this.jot=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.yht=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.l0,e=r.NK,!this.Yl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.mht(n)){t.next=8;break}s=n.EZ,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Vot.Vh(n.uri,{});case 11:u=t.sent,hs(i),s=u.hg,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.zJ(!1),n.KJ(),t.abrupt("return",!1);case 21:n.VJ(s,e);case 22:if(!ML(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.mht=function(t){var n=t.EZ;return!n||!!n.live&&(!t.bZ.Hl||t.bZ.oZ(t.bZ.Hl-1).bp+1e3*n.targetDuration<Qb())},i.gw=function(t){t?this.lw||(this.lw=!0,this.dispatchEvent("Yl")):this.lw&&(this.lw=!1)},i.nht=function(t){t&&!this.BJ?(this.BJ=!0,this.dispatchEvent("iw")):!t&&this.BJ&&(this.BJ=!1,this.dispatchEvent("Zv"))},i.Kot=function(t){var n=this,i=this.l0,r=i.NK,e=i.CK.TJ,s=this.dht(e,r),u=this.vht(s,r);u?this._ht(u,null).then(function(r){r&&(i.fK(u,t),n.gw(!0))}):this.gw(!1)},i.kht=function(){this.Zot=null,this.Kot(!0)},i.sht=function(){this.l0.CK.addEventListener("kJ",this.tht)},i.pht=function(){this.l0.CK.removeEventListener("kJ",this.tht)},i.eht=function(){this.l0.CK.addEventListener("yJ",this.Jot)},i.Aht=function(){this.l0.CK.removeEventListener("yJ",this.Jot)},i.$ot=function(t){var n=this.l0,i=n.CK.TJ;if(Boolean(n.NK&&!n.NK.disabled))this.Zot=null;else{if(i&&i.length){var r;switch(this.ZI.Nx.type){case GT.PERFORMANCE:r="low";break;case GT.QUALITY:r="high";break;case GT.BANDWIDTH:r=t}this.Zot=this.uht(i,r),this.Yot=!0}var e=this.dht(i,null),s=this.vht(e,null);s&&(n.NK=s)}},i.cht=function(){return this.Yot?{M6:this.bit.M6}:{M6:this.ZI.Fx}},i.xo=function(){this.zot&&this.Got&&(this.Got.xo(),this.zot=null,this.Got=null,this.Qot=null),this.Wot&&this.qot&&(this.qot.xo(),this.Wot=null,this.qot=null,this.jot=null)},i.qv=function(){this.bit.removeEventListener("R8",this.iht),this.Aht(),this.pht(),this.xo(),this.Xot=null,this.Zot=null},i.bht=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.l0,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this._ht(n,i);case 5:return(e=t.sent)&&(r.NK=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"Yl",get:function(){return this.lw}},{key:"iw",get:function(){return this.BJ}},{key:"kot",get:function(){var t=this.l0,n=t.NK,i=this.dht(t.CK.TJ,n);return this.hht(i,n)}},{key:"mot",get:function(){return this.dht(this.l0.CK.TJ,this.l0.NK)}},{key:"aht",get:function(){return this.Xot},set:function(t){this.Xot=t,this.kht()}}]),n}(jC),FL=function(){function t(t,n){this.fl=void 0,this.bb=void 0,this.Tht=-1,this.fl=t,this.bb=n}return t.prototype.Wh=function(t){for(var n=t.bZ,i=n.uZ(this.Tht),r=i<0?0:i+1;r<n.Hl;r++){var e=n.oZ(r);if(e.rZ>this.Tht){var s=this.bb.G2(e),u=this.bb.j2(e,s),o=new sg(s.oy(),u.oy(),[].concat(e.n$),!1,e.rZ.toString());this.fl.Yb(o),this.Tht=e.rZ}}},t}(),HL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,fD.cJ,n,i,r,e,s,u,o,h,a)||this).Eht=void 0,c.Sht=null,c.Rht=null,c.Eht=new UL(n,c.bb,r,u,o,h),c.Eht.addEventListener("Yl",c.Ho),c.Eht.addEventListener("iw",c.Ho),c.Eht.addEventListener("Zv",c.Ho),u.manifestMetadataTrack&&(c.Sht=n.uK("",c.bb,""),c.Rht=new FL(c.Sht,c.bb)),c.iut=!c.l0.yK||!c.l0.yK.uri,c.rut=Boolean(c.l0.NK),c}F(n,t);var i=n.prototype;return i.Put=function(t,n){if("EJ"===t){var i=n?n.uri:void 0;this.iut=!i}},i.Not=function(){return fD.cJ},i.Cot=function(){return this.Fut&&this.Fut.h$||!1},i.Pot=function(){return this.l0.NK},i.Dot=function(){return this.Eht.mot},i.Oot=function(){return this.Eht.kot},i.Lot=function(){var t=this.Eht.aht;return t&&t.map(function(t){return t.Zl})},i.Mot=function(t){if(t&&t.length>0){var n=this.uut.bJ.filter(function(n){return-1!==t.indexOf(n.Zl)});if(!(n.length>0))return void 0;this.Eht.aht=n}else this.Eht.aht=null},i.Uot=function(){return this.Eht.Yl},i.Fot=function(){return this.Eht.iw},i.cot=function(){var n=E.coroutine(te.mark(function n(i,r){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.Eht.bht(i,r);case 2:return n.abrupt("return",t.prototype.cot.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Aot=function(){t.prototype.Aot.call(this),this.Eht.xo()},i.M$=function(n){t.prototype.M$.call(this,n),this.Rht&&this.Rht.Wh(n)},i.qv=function(){t.prototype.qv.call(this),this.Eht.qv(),this.Eht.removeEventListener("iw",this.Ho),this.Eht.removeEventListener("Zv",this.Ho)},i.Lut=function(t){return t.CK},i.Iht=function(){var t=this.z_,n=this.Iot?this.hut.Xtt(t):void 0,i=n?n.jJ:void 0,r=this.aut.Xtt(t),e=r?r.jJ:void 0,s=this.z$;this.z$=i;var u=this.dut;return this.dut=e,!s&&i?{TK:s,Nht:i}:!u&&e?{TK:u,Nht:e}:u&&e&&u.Zl!==e.Zl?{TK:u,Nht:e}:void 0},n}(PL),VL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,fD.Pv,n,i,r,e,s,u,o,h,a)||this).iut=!!c.l0.yK&&!!c.l0.yK.uri,c.rut=!1,c}F(n,t);var i=n.prototype;return i.Put=function(t,n){if("EJ"===t){var i=n?n.uri:void 0;this.iut=!!i}},i.Not=function(){return fD.Pv},i.Cot=function(){return this.Fut&&this.Fut.h$||!1},i.Pot=function(){return this.l0.yK},i.Dot=function(){var t=this.Pot();return t?[t]:[]},i.Oot=function(){return this.Dot()},i.Lut=function(t){return t.S$},i.Lot=function(){return null},i.Mot=function(t){},i.Uot=function(){return!0},i.Fot=function(){return!0},i.Iht=function(){var t=this.Iot?this.hut.Xtt(this.z_):void 0,n=t?t.jJ:void 0,i=this.z$;return this.z$=n||void 0,!i&&n?{TK:i,Nht:n}:i&&n&&i.Zl!==n.Zl?{TK:i,Nht:n}:void 0},n}(PL),XL=function(){function t(t,i,r,e,s,u){var o=this;this.Cht=!1,this.gZ=void 0,this.Dht=void 0,this.J5=void 0,this.Oht=void 0,this.j5=void 0,this.xht=sA.LI(),this.Pht=[],this.Bht=void 0,this.Lht=[],this.L$=function(){return o.Mht()},this.Uht=function(t){t.hg.live||o.Dht.removeEventListener(o.gZ.YZ,o.Uht),o.gZ.VJ(t.hg)},this.Fht=function(){o.gZ.F$.h_===Kd.r_?o.Cht&&o.Hht():o.Cht||o.Vht()},this.ga=function(t){if(!os(t)){var i=t instanceof dy?t:new dy(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.gZ.YZ,0,t);o.gZ.F$.a_=V_.ERROR,o.gZ.F$.Vo(new Sy(i))}},this.gZ=t,this.Dht=i,this.J5=r,this.j5=u,this.Oht=new lO(e,s),this.Bht=new ss,t.F$.Xo(Td.Al,this.Fht),t.bb&&t.bb.addEventListener("H$",this.L$),this.Fht()}var i=t.prototype;return i.Vht=function(){this.Cht||this.gZ.F$.h_===Kd.r_||(this.Dht.removeEventListener(this.gZ.YZ,this.Uht),this.Dht.addEventListener(this.gZ.YZ,this.Uht),this.Dht.dtt(this.gZ.YZ),this.Dht.ltt(this.gZ.YZ),this.Cht=!0,this.Xht(this.Bht.Lo).catch(this.ga))},i.Xht=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(n),t.next=4,this.Wht(n);case 4:t.next=0;break;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wht=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.J5.e6,r=this.j5.n6,e=new sA([i,i+r]),(s=e.fI(this.xht.vI())).Hl){t.next=9;break}return t.next=8,ms(1e3,n);case 8:return t.abrupt("return");case 9:if(u=s.$R(0),o=this.qht(u)){t.next=15;break}return t.next=14,yd(this.gZ,"GJ",n);case 14:return t.abrupt("return");case 15:return h=o.Xp,a=o.jnt.oy(),c=a+h.duration,t.prev=18,t.next=21,this.Oht.w2("F$",h.uri,Zo.es,If.Av,Nf.es);case 21:f=t.sent,t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(18),as(t.t0),t.next=29,ms(1e3,n);case 29:return t.abrupt("return");case 30:t.prev=30,v=rw(f),t.next=37;break;case 34:throw t.prev=34,t.t1=t.catch(30),Ty(X_.WEBVTT,h.uri.toString(),0,t.t1);case 37:for(d=v.Mm||{Um:Cg.Cy,Fm:Cg.Cy},l=this.gZ.bZ.hZ(h.rZ),this.xht=this.xht.wI(new sA([a,c])),this.Pht.push(h.rZ),_=0,g=v.c_;_<g.length;_++)w=g[_],this.Lht.push({A8:l,jnt:WL(Cg.lm(w.Rw),d.Fm,d.Um),zht:WL(Cg.lm(w.Iw),d.Fm,d.Um),Sw:w});this.Mht();case 43:case"end":return t.stop()}},t,this,[[18,24],[30,34]])}));return function(n){return t.apply(this,arguments)}}(),i.Mht=function(){var t=this.gZ.bb;if(this.Lht.length&&t){for(var n=[],i=0,r=this.Lht;i<r.length;i++){var e=r[i],s=t.Z2(e.A8,e.jnt);if(s.Ay())n.push(e);else{var u=t.Z2(e.A8,e.zht),o=new og(s.oy(),u.oy(),e.Sw.Nw,!1,e.Sw.Zl);this.gZ.F$.Yb(o)}}this.Lht=n,this.gZ.F$.HH(this.J5.e6,!0)}},i.qht=function(t){var n=this.gZ.bb,i=this.gZ.bZ;if(n.Vnt)for(var r=n.Jnt.oy(),e=i.Hl-1;e>=0;e-=1){var s=i.oZ(e),u=r-s.duration;if(new sA([u,r]).fR(t,.5)){var o={Xp:s,jnt:Cg.lm(u)};return this.Ght(i,o,e)}r=u}else for(var h=0,a=0;a<i.Hl;a+=1){var c=i.oZ(a),f=h+c.duration;if(new sA([h,f]).fR(t,.5)){var v={Xp:c,jnt:Cg.lm(h)};return this.Ght(i,v,a)}h=f}},i.Ght=function(t,n,i){var r=n.Xp;if(-1===this.Pht.indexOf(r.rZ))return n;for(var e=n.jnt.oy()+r.duration,s=i+1;s<t.Hl;s+=1){var u=t.oZ(s);if(-1===this.Pht.indexOf(u.rZ))return{Xp:u,jnt:Cg.lm(e)};e+=u.duration}},i.Hht=function(){this.Cht=!1,this.Dht.ftt(this.gZ.YZ),this.Bht.xo(),this.Bht=new ss},i.Ul=function(){this.Hht(),this.xht=sA.LI(),this.Pht.length=0,this.gZ.F$.Go(Td.Al,this.Fht),this.gZ.bb&&this.gZ.bb.removeEventListener("H$",this.L$),this.Dht.removeEventListener(this.gZ.YZ,this.Uht)},t}();function WL(t,n,i){return Hg(i,t.py(n))}var qL=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Jh=void 0,s.C0=void 0,s.bit=void 0,s.sut=void 0,s.l0=void 0,s.eut=void 0,s.jht=void 0,s.Qht=NaN,s.Yht=!1,s.Zht=1/0,s.Jht=1/0,s.$ht=null,s.Kht=!0,s.tat=!0,s.Ntt=null,s.qb=void 0,s.ZI=void 0,s.nat=void 0,s.iat=void 0,s.rat=[],s.eH=function(){var t=s.l0.G_;y(t)||s.Qht===t||(s.Qht=t,s.dispatchEvent("durationchange"))},s.eat=function(){s.A0&&(s.l0.removeEventListener("renditionUpdated",s.eat),s.dispatchEvent("A0"))},s.sat=function(){s.wot&&s.dispatchEvent("wot")},s.uat=function(){s.F0&&s.dispatchEvent("F0")},s.Ho=function(t){s.dispatchEvent(t)},s.oat=function(t){var n=s.l0.dK(t.htt);n?n instanceof RD&&(n.zJ(!1),n.KJ()):s.dispatchEvent(t)},s.hat=function(t){s.l0.hg||(t.ih.code===YC.WY?(s.$ht||(s.$ht=h(s.aat,nm)),s.tat=!1,s.QJ()):s.dispatchEvent({type:"ih",ih:t.ih}))},s.fat=function(t){s.vat(),s.dat(t.hg),s.lat(),s.l0.removeEventListener("gK",s.eH),s.l0.addEventListener("gK",s.eH),s.eH(),s.Yht||(s.Yht=!0,s.dispatchEvent("loadedmetadata")),s.eat(),s.tat=!0,s.QJ()},s.aat=function(){s.vat();var t=s.H0;t&&(s.eut.Ul(),s.eut.H0=t,s.eut.$R())},s._at=function(){s.eut._tt()},s.gat=function(){s.wat.forEach(function(t){return t.Sot()})},s.yat=function(t){s.mat.forEach(function(n){return n.$ut(t.jJ)})},s.kat=function(t){s.wat.forEach(function(n){return n.Kut(t.S5)}),s.jht.btt(t.S5,s.wat.map(function(t){return t.bb}))},s.QJ=function(){var t=s.Kht,n=s.Fot();s.Kht=n,n&&!t?s.dispatchEvent("iw"):!n&&t&&s.dispatchEvent("Zv")},s.ZI=e,s.Jh=n,s.C0=i,s.qb=r,s.bit=new aP(n,i,r,sn(s)),s.sut=new zP(n),s.l0=new ND(n),s.eut=new dB(r,n),s.jht=new lB,s.eut.addEventListener("ih",s.oat),s.eut.addEventListener("ott",s.hat),s.eut.addEventListener("att",s.fat),s.bit.addEventListener("p8",s.Ho),s.bit.addEventListener("ih",s.Ho),s.l0.addEventListener("bK",s.Ho),s.l0.addEventListener("GJ",s.yat),s.l0.addEventListener("W$",s.kat),s.l0.addEventListener("EK",s.Ho),s.jht.addEventListener("ytt",s.Ho),s.jht.addEventListener("ytt",s.gat),s.addEventListener("iw",s._at),s}F(n,t);var i=n.prototype;return i.pat=function(t){t.xot=this.xot,t.addEventListener("Wut",this.Ho),t.addEventListener("Aat",this.Ho),t.addEventListener("ih",this.Ho),t.addEventListener("vot",this.Ho),t.addEventListener("U0",this.Ho),t.addEventListener("wot",this.sat),t.addEventListener("F0",this.uat),t.addEventListener("Zv",this.QJ),t.addEventListener("iw",this.QJ),t.addEventListener("Yl",this.Ho),t.addEventListener("b0",this.Ho),t.addEventListener(Yo.Tc,this.Ho),t.addEventListener(Yo.Sc,this.Ho)},i.lat=function(){this.bat();this.l0.CK.bJ;var t=this.l0.S$.bJ;this.nat=new HL(this.l0,this.eut,this.bit,this.sut,this.Ntt,this.Jh,this.qb,this.ZI,this),this.pat(this.nat),t.length&&(this.iat=new VL(this.l0,this.eut,this.bit,this.sut,this.Ntt,this.Jh,this.qb,this.ZI,this),this.pat(this.iat));for(var n=this.l0.DK,i=this.nat.bb,r=0;r<n.length;r++){var e=n[r];e.bb=i,this.rat.push(new XL(e,this.eut,this.Ntt,this.qb,this.Jh,this))}},i.bat=function(){this.nat&&(this.nat.qv(),this.nat=void 0),this.iat&&(this.iat.qv(),this.iat=void 0),this.rat.forEach(function(t){return t.Ul()}),this.rat.length=0,this.jht.Ul()},i.Tat=function(t){this.wat.forEach(function(n){return n.pot(t)})},i.dat=function(t){this.l0.hg=t},i.Eat=function(){this.eut.$R()},i.Sat=function(t){this.jht.Ttt(t,this.wat.map(function(t){return t.bb}))||this.wat.forEach(function(t){t.Vut(),t.Eot()})},i.Hht=function(){this.bit.y8(),this.wat.forEach(function(t){return t.Aot()})},i.z0=function(){this.bit.y8(),this.wat.forEach(function(t){return t.bot()})},i.X0=function(){this.wat.forEach(function(t){return t.Tot()})},i.qv=function(){this.zo(),this.vat(),this.bat(),this.bit.qv(),this.sut.qv(),this.l0.qv(),this.eut.Ul(),this.jht.qv()},i.Rat=function(t,n,i,r){var e=this.nat,s=this.iat;t&&(e.Aot(),this.bit.lh(e.Pp),e.pot(r)),n&&s&&(s.Aot(),this.bit.lh(s.Pp),i&&s.pot(r))},i.Iat=function(){if(!this.nat)return OO;var t=this.nat;return KO(t.bb,this.bit.v6(t.Pp))},i.ctt=function(t,n,i){var r=this,e=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.hg.live||r.eut.removeEventListener(s,t),i&&i.VJ(n.hg)};s&&(this.eut.removeEventListener(s,u),this.eut.addEventListener(s,u)),this.eut.ctt(e,s),this.eut.ltt(s)},i.vat=function(){null!==this.$ht&&a(this.$ht),this.$ht=null},i.Fot=function(){return!!this.tat&&(!this.nat||this.nat.iw)},i.Y0=function(t){this.nat&&(this.nat.Bot=t)},i.Ul=function(){this.mat.forEach(function(t){return t.Ul()}),this.rat.forEach(function(t){return t.Ul()})},M(n,[{key:"Nat",get:function(){return this.nat}},{key:"Cat",get:function(){return this.iat}},{key:"wat",get:function(){var t=[];return this.nat&&t.push(this.nat),this.iat&&this.iat.Iot&&t.push(this.iat),t}},{key:"mat",get:function(){return[this.nat,this.iat].filter($)}},{key:"n6",get:function(){return zt(this.ZI.Rx*this.bit.i6,1,this.Dat)}},{key:"H0",get:function(){return this.eut.H0},set:function(t){this.Qht=NaN,this.Zht=1/0,this.Yht=!1,this.Kht=!0,this.tat=!0,this.l0.removeEventListener("renditionUpdated",this.eat),this.l0.removeEventListener("gK",this.eH),this.vat(),this.bat(),this.bit.lh(),this.sut.xo(),this.l0.qv(),this.l0.addEventListener("renditionUpdated",this.eat),this.eut.H0=t,this.QJ()}},{key:"G_",get:function(){return this.Qht}},{key:"Vnt",get:function(){return this.l0&&dD.eg(this.l0.u$)}},{key:"iw",get:function(){return this.Kht}},{key:"A0",get:function(){var t=this.wat;return t.length>0&&t.every(function(t){return t.h$})}},{key:"i6",get:function(){return this.bit.i6},set:function(t){t>0&&(this.bit.i6=t)}},{key:"wot",get:function(){return this.wat.every(function(t){return t.wot})}},{key:"F0",get:function(){return this.wat.length>0&&this.wat.every(function(t){return t.F0})}},{key:"Dat",get:function(){return this.Jht},set:function(t){this.Jht=t}},{key:"xot",get:function(){return this.Zht},set:function(t){var n=this;this.Zht=t,this.mat.forEach(function(t){return t.xot=n.Zht})}},{key:"sw",get:function(){return this.A0?new DO([{$R:this.Znt,tI:this.Jnt}]):OO}},{key:"Znt",get:function(){if(!this.A0)return 0;for(var t=-1/0,n=0,i=this.wat;n<i.length;n++){var r=i[n];t=_.max(t,r.bb.Znt.oy())}return t}},{key:"Jnt",get:function(){if(!this.A0)return 0;for(var t=1/0,n=0,i=this.wat;n<i.length;n++){var r=i[n];t=_.min(t,r.bb.Jnt.oy())}return t}},{key:"$nt",get:function(){if(!this.A0)return 0;for(var t=1/0,n=0,i=this.wat;n<i.length;n++){var r=i[n];t=_.min(t,r.bb.$nt.oy())}return _.max(t,this.Znt)}},{key:"Q0",get:function(){return this.nat&&this.nat.Bot||void 0}}]),n}(jC),zL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Jh=void 0,r.Qht=NaN,r.Yht=!1,r.l0=void 0,r.bb=void 0,r.Oat=void 0,r.$ht=null,r.Kht=!0,r.Sht=null,r.Rht=null,r.Ho=function(t){r.dispatchEvent(t)},r.dat=function(t){if(r.l0.hg||(r.l0.hg=r.Oat.IK||null),!r.l0.NK){var n=r.l0.CK.bJ[0];n&&(r.l0.NK=n,r.Oat.ett(n),r.dispatchEvent({type:"xat",jJ:n}))}t.manifest.isMasterPlaylist||r.l0.NK.VJ(t.manifest),void 0!==t.manifest.duration&&r.Qht!==t.manifest.duration&&(r.Qht=t.manifest.duration,r.dispatchEvent("durationchange")),r.Yht||(r.Yht=!0,r.dispatchEvent("loadedmetadata")),r.nht(!0),r.dispatchEvent({type:"rtt",manifest:t.manifest})},r.hat=function(t){t.ih.code===YC.WY?(r.$ht||(r.$ht=h(r.aat,nm)),r.nht(!1)):r.dispatchEvent({type:"ih",ih:t.ih})},r.aat=function(){r.vat();var t=r.H0;t&&r.Oat.$R(t)},r.vat=function(){a(r.$ht),r.$ht=null},r.yat=function(t){var n=t.jJ;r.bb.Lnt(n,n.EZ),r.Jh.manifestMetadataTrack&&(r.Rht||(r.Sht=r.l0.uK("",r.bb,""),r.Rht=new FL(r.Sht,r.bb)),r.Rht.Wh(n))},r.Jh=n,r.l0=new ND(n,!0),r.bb=new xB(n),r.Oat=new vB(i,r.Jh),r.bb.addEventListener("ih",r.Ho),r.Oat.addEventListener("rtt",r.dat),r.Oat.addEventListener("ih",function(t){r.l0.hg?(r.$ht||(r.$ht=h(r.aat,nm)),r.nht(!1)):r.hat(t)}),r.l0.addEventListener("GJ",r.yat),r}F(n,t);var i=n.prototype;return i.Eat=function(){this.l0.hg||this.Oat.$R()},i.Iat=function(){return OO},i.nht=function(t){var n=this.Kht;this.Kht=t,t&&!n?this.dispatchEvent("iw"):!t&&n&&this.dispatchEvent("Zv")},i.qv=function(){this.zo(),this.vat(),this.l0.qv(),this.Oat.qv(),this.Rht=null,this.bb.qv()},i.z0=function(){},i.X0=function(){},i.Tat=function(t){},i.Y0=function(t){},M(n,[{key:"H0",get:function(){return this.Oat.H0},set:function(t){this.Qht=NaN,this.Yht=!1,this.vat(),this.l0.qv(),this.Rht=null,this.Oat.H0=t,this.nht(!0)}},{key:"G_",get:function(){return this.Qht}},{key:"Vnt",get:function(){return this.l0&&dD.eg(this.l0.u$)}},{key:"iw",get:function(){return this.Kht}},{key:"F0",get:function(){return!1}},{key:"wot",get:function(){return!1}},{key:"Q0",get:function(){return[]}}]),n}(jC),GL=1e3,jL="VEE3",QL=function(t){function n(n){var i;return(i=t.call(this,"Pat")||this).ptsOffset=n,i}return F(n,t),n}(Ss),YL=function(t){function n(n){var i;return(i=t.call(this)||this).PK=void 0,i.Bat=null,i.Lat=0,i.Mat="start",i.Uat=1,i.Fat=!1,i.Hat=!1,i.Vat=0,i.Xat=null,i.Wat=null,i.qat=null,i.zat=null,i.mtt=0,i.Gat=0,i.jat=new ss,i.Qat=new Qu,i.Yat=void 0,i.Zat={},i.Jat=!1,i.$at=null,i.Kat=NaN,i.Xut=function(){i.PK.wat.map(function(t){t.Xut()})},i.Iht=function(){for(var t,n,r,e=0,s=i.PK.mat;e<s.length;e++){var u=s[e],o=u.Iht();if(o){var h=o.Nht;h&&h.D$!==vD.Pv&&(i.$at=h)}u.Pp===fD.Pv?t=o:u.Pp===fD.cJ&&(n=o,r=u)}(t||n)&&i.dispatchEvent({type:"bK",tct:t&&t.TK,ZK:t&&t.Nht,n0:n&&n.TK,YK:n&&n.Nht,jK:!!r&&r.Iot})},i.qut=function(){null!==i.Xat&&a(i.Xat),i.Xat=h(i.qut,GL),i.PK.wat.forEach(function(t){return t.qut()})},i.jut=function(){null!==i.Wat&&a(i.Wat),i.Fat&&(i.Wat=h(i.jut,GL),i.PK.wat.forEach(function(t){return t.jut()}))},i.Gut=function(){i.PK.wat.forEach(function(t){return t.Gut()})},i.nct=function(){if(i.PK.Vnt&&i.J_>1){var t=i.PK.$nt;i.ict>t&&(i.J_=1,i.ict>=t+1&&(i.ict="start"))}},i.rct=function(){i.Bat&&(0===i.Bat.ect()?i.ict="start":i.ict=i.sct(i.e6))},i.uct=function(){i.Vat=i.e6},i.hct=function(t){i.act(),i.Bat.error&&(t.error.info.code===jL&&i.Gat<im?(i.Gat+=1,i.cct()):i.dispatchEvent({type:"ih",error:t.error}))},i.fct=function(){i.Gat=0},i.vct=function(){i.removeEventListener("dct",i.lct),i.Fat?i.lct():i.addEventListener("dct",i.lct)},i.lct=function(){var t=i.e6;i.PK.removeEventListener("A0",i.vct),i.PK.A0?i.PK.wat.forEach(function(n){return n.Yut(t)}):(i.PK.addEventListener("A0",i.vct),i.PK.Eat())},i._ct=function(){var t=i.e6;i.PK.mat.forEach(function(n){return n.Qut(t,i.PK.Vnt)})},i.gct=function(){null!==i.Xat&&a(i.Xat),i.Xat=null,null!==i.Wat&&a(i.Wat),i.Wat=null},i.wct=function(){i.yct(),i.PK.A0?i.V0():(i.PK.addEventListener("A0",i.wct),i.PK.Eat())},i.yct=function(){i.PK.removeEventListener("A0",i.wct)},i.UK=function(t){i.PK.ctt(t.D$,t.TK||void 0,t.jJ||void 0),t.EK&&i.mct(t.D$,t.TK,t.jJ)},i.kct=function(t){var n=t.mtt-i.mtt;_.abs(n)>tm&&(i.mtt=t.mtt,i.e6=i.e6+n)},i.pct=function(t){var n=t.A8.metadata;n.C$&&(i.Zat[t.Pp]=n.C$,i.Act())},i.Act=function(){if(i.PK.A0){var t=l.keys(i.Zat).length===i.PK.wat.length;i.Bat&&!i.Bat.bct&&!i.Yat&&t&&i.Tct(),i.Bat&&i.mtt&&(i.Bat.mtt=i.mtt)}},i.Ect=function(){if(y(i.Sct))if(i.PK.Vnt)i.Sct=0;else{var t=i.$at,n=t&&t.o$,r=t&&$(n)&&!y(n)&&t.SZ(n)||void 0;i.Sct=wD(r)?r.N5.oy():NaN}i.T0&&(i.removeEventListener("bK",i.Ect),i.PK.removeEventListener("p8",i.Ect),i.dispatchEvent("T0",!0))},i.PK=n,n.Ntt=sn(i),i}F(n,t);var i=n.prototype;return i.cct=function(){this.PK.Vnt?this.ict="start":(this.Vat+=.5,this.PK.wat.map(function(t){t.Vut(),t.Zut(),t.Jut()}),this.ict=this.Vat),this.Act(),this.Bat.play()},i.Rct=function(t){var n=this;this.qat&&(this.PK.removeEventListener("A0",this.qat),this.qat=null),this.PK.A0?(this.Hat=!0,this.Jat=!0,this.PK.Sat(t),this.Jat=!1):(this.qat=function(){return n.Rct(t)},this.PK.Eat())},i.Ict=function(t){this.Nct(),this.PK.Vnt&&(t="none"),"auto"===t&&this.wct()},i.Cct=function(t){var n=this;this.Nct(),"none"!==t&&(this.PK.A0?this.Ict(t):(this.zat=function(){return n.Ict(t)},this.PK.addEventListener("A0",this.zat),this.PK.Eat()))},i.Nct=function(){this.yct(),this.zat&&(this.PK.removeEventListener("A0",this.zat),this.zat=null)},i.V0=function(){this.Hat?this.PK.Tat():(this.ict=this.Mat,this.PK.Tat(22)),this.Fat||(this.Fat=!0,this.dispatchEvent("dct"))},i.Dct=function(){this.Bat&&(this.Bat.addEventListener("Oct",this._ct),this.Bat.addEventListener("seeking",this.vct),this.Bat.addEventListener("error",this.hct),this.Bat.addEventListener("playing",this.fct)),this.PK.addEventListener("bK",this.UK),this.PK.addEventListener("vot",this.rct),this.PK.addEventListener("A0",this.Act),this.PK.addEventListener("ytt",this.kct),this.PK.addEventListener("Yl",this.vct),this.G0()},i.xct=function(){this.Bat&&(this.Bat.removeEventListener("Oct",this._ct),this.Bat.removeEventListener("seeking",this.vct),this.Bat.removeEventListener("error",this.hct),this.Bat.removeEventListener("playing",this.fct)),this.PK.removeEventListener("bK",this.UK),this.PK.removeEventListener("vot",this.rct),this.PK.removeEventListener("A0",this.Act),this.PK.removeEventListener("ytt",this.kct),this.PK.removeEventListener("Yl",this.vct),this.j0()},i.G0=function(){this.Bat&&(this.Bat.addEventListener("loadstart",this.wct),this.Bat.addEventListener("timeupdate",this.Xut),this.Bat.addEventListener("playing",this.Iht),this.Bat.addEventListener("timeupdate",this.Iht),this.Bat.addEventListener("timeupdate",this.jut),this.Bat.addEventListener("timeupdate",this.qut),this.Bat.addEventListener("timeupdate",this.uct),this.Bat.addEventListener("timeupdate",this.nct),this.Bat.addEventListener("ended",this.gct)),this.PK.addEventListener("p8",this.pct),this.PK.addEventListener("p8",this.Gut)},i.j0=function(){null!==this.Xat&&a(this.Xat),null!==this.Wat&&a(this.Wat),this.Bat&&(this.Bat.removeEventListener("loadstart",this.wct),this.Bat.removeEventListener("timeupdate",this.Xut),this.Bat.removeEventListener("playing",this.Iht),this.Bat.removeEventListener("timeupdate",this.Iht),this.Bat.removeEventListener("timeupdate",this.jut),this.Bat.removeEventListener("timeupdate",this.qut),this.Bat.removeEventListener("timeupdate",this.uct),this.Bat.removeEventListener("timeupdate",this.nct),this.Bat.removeEventListener("ended",this.gct)),this.PK.removeEventListener("p8",this.pct),this.PK.removeEventListener("p8",this.Gut)},i.Ltt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Qat.Th;case 2:return i=this.Bat.Ltt(n),this.Bat.loading&&(this.Bat.loaded=!0,this.Bat.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.vF=function(t,n){this.Pct.vF(t,n)},i.Hut=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Qat.Th;case 3:return t.next=5,this.Bat.Hut(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),os(t.t0)||this.dispatchEvent({type:"ih",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Tct=function(){var t=this,n=this.Qat,i=this.Bct(this.Yat,this.jat.Lo);this.Yat=i,i.then(function(){t.Yat===i&&(t.Yat=void 0,n.Eh())},function(r){t.Yat===i&&(t.Yat=void 0,n.Sh(r))})},i.Bct=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(R);case 3:return hs(i),t.next=6,this.Bat.Tct(this.Zat,this.PK.G_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,s=this.PK.mat;e<s.length;e++)u=s[e],r.EJ&&(u.Eut=r.EJ),r.SJ&&(u.Iut=r.SJ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.act=function(){this.jat.xo(),this.jat=new ss,this.Yat=void 0,this.Qat=new Qu},i.sct=function(t){var n=this.sw;return n.length?zt(t,n.start(0),n.end(n.length-1)):0},i.tot=function(t){var n=this.PK.Nat;return n?n.tot(t):null},i.Qnt=function(t){var n=this.PK.Nat;return n?n.Qnt(t):NaN},i.Vh=function(t){var n=t||"none";this.xct(),this.Dct(),this.Cct(n)},i.q0=function(){this.Nct()},i.qv=function(){this.zo(),this.Zat={},this.Pct=null},i.Ul=function(){this.act(),this.Lct(),this.Zat={},this.Lat=0,this.Vat=0,this.Mat="start",this.mtt=0,this.Uat=1,this.Fat=!1,this.Hat=!1,this.$at=null,this.PK.Ul()},i.mct=function(t,n,i){if(n){this.dispatchEvent("E0"),this.j0();var r=!1,e=!1,s=!1;if("SJ"===t){e=!0;var u=this.PK.Nat;u&&u.Iot&&(r=!0)}else r=!0,s=!(!i||!i.uri);r&&this.Bat.EK("audio"),e&&this.Bat.EK("video"),this.PK.mat.forEach(function(t){t.Vut(),r&&t.Zut(),e&&t.Jut()}),this.PK.Rat(e,r,s,22),this.PK.mat.forEach(function(t){return t.zut()}),this.G0()}},i.Sg=function(){this.j0(),this.PK.Vnt&&this.PK.Hht()},i.Eg=function(){this.j0(),this.G0(),this.PK.X0()},i.Mct=function(t){var n=this.Sct||0;return this.x$?t-n<0?0:_.round((t-n)*this.x$-.5)||0:NaN},i.Uct=function(t){var n=this.Sct||0;return this.x$?n+(t+.5)/this.x$:NaN},i.Lct=function(){this.Sct=NaN,this.removeEventListener("bK",this.Ect),this.addEventListener("bK",this.Ect),this.PK.removeEventListener("p8",this.Ect),this.PK.addEventListener("p8",this.Ect)},M(n,[{key:"Pct",get:function(){return this.Bat},set:function(t){this.xct(),this.act(),this.fct(),this.Bat=t,this.Act()}},{key:"e6",get:function(){return this.Bat&&!this.Jat?this.Bat.ect():this.Lat},set:function(t){t=this.sct(t),this.Vat=this.Lat=t,this.Bat?this.Bat.Fct(t):(this._ct(),this.vct())}},{key:"ict",get:function(){return this.Bat&&!this.Jat?this.e6:this.Mat},set:function(t){"start"===t&&(t=this.PK.Vnt?1/0:0),t=this.sct(t),this.Mat=t,this.Vat=this.Lat=t,this.Rct(Cg.lm(this.Lat)),this.e6=t}},{key:"Iw",get:function(){return this.PK.xot},set:function(t){this.PK.xot=t}},{key:"J_",get:function(){return this.Bat?this.Bat.J_:this.Uat},set:function(t){var n=this.Uat;t>0&&(this.Uat=t,this.Bat&&(this.Bat.J_=t),this.PK.i6=t,this.Uat!==n&&this.dispatchEvent("Hct"))}},{key:"sw",get:function(){var t=this.PK.sw;if(!t.length||!this.PK.Vnt)return t;var n=t.start(0),i=this.PK.$nt;return i=_.max(this.e6,i),new DO([{$R:n,tI:i}])}},{key:"jg",get:function(){return this.tot(this.e6)}},{key:"x$",get:function(){var t=this.$at;return t&&t.x$||NaN}},{key:"Sct",get:function(){return this.Kat},set:function(t){this.Kat!==t&&(this.dispatchEvent(new QL(t)),this.Kat=t)}},{key:"T0",get:function(){return Boolean(this.x$)&&!y(this.Sct)}}]),n}(jC),ZL=function(t){function n(n){var i;return(i=t.call(this)||this).Vct=null,i.l0=void 0,i.Xct=[],i.Wct=function(t){return i.qct(t)},i.zct=function(){return i.Gct()},i.l0=n,i.Xct=[],i}F(n,t);var i=n.prototype;return i.jb=function(t){var n,i;"metadata"===t.kind&&(t.mode=Kd.e_,n=this.l0.eK(t.id,t.inBandMetadataTrackDispatchType),i=this.jct.bind(this,n),this.Xct.push({Qct:t,Yct:i,F$:n}),t.addEventListener("cuechange",i))},i.Ux=function(){for(var t=this.Vct.bg,n=t&&t.length,i=0;i<n;i+=1)this.jb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Wct),t.addEventListener("change",this.zct))},i.jct=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,s=0;s<r;s++){var u=wI(i[s].value),o=new SI(e,u);t.Yb(o)}},i.Gct=function(){for(var t=0,n=this.Xct;t<n.length;t++){var i=n[t].Qct;i.mode!==Kd.e_&&(i.mode=Kd.e_)}},i.qct=function(t){this.jb(t.track)},i.Zct=function(){for(var t=this.Vct,n=t&&t.bg,i=0,r=this.Xct;i<r.length;i++){var e=r[i];e.Qct.removeEventListener("cuechange",e.Yct)}this.Xct.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Wct),n.removeEventListener("change",this.zct))},i.qv=function(){this.Zct(),this.Vct=null,this.l0=null,this.Wct=null,this.zct=null},i.Ul=function(){this.Zct(),this.Vct&&this.Ux()},n}(jC),JL=function(t){function n(n){var i;return(i=t.call(this)||this).PK=void 0,i.Jct=void 0,i.Bat=null,i.Mat="start",i.Uat=1,i.Zv=!1,i.$ct=null,i.Kct=null,i.tft=NaN,i.nft=NaN,i.ift=null,i.rft=function(){i.Bat.removeEventListener("loadstart",i.rft),i.Bat.removeEventListener("play",i.rft),i.PK.Eat()},i.Xut=function(){var t=i.PK.l0.NK;if(t&&(!i.$ct||i.$ct.$R>i.e6||i.$ct.tI<i.e6)){var n=i.PK.bb.V8(t,Cg.lm(i.e6));if(!n)return void i.Bat.addEventListener("timeupdate",i.Xut);i.$ct={$R:n.jnt.oy(),tI:n.jnt.hw(Cg.lm(n.Xp.duration)).oy(),rZ:n.Xp.rZ,i$:null},i.dispatchEvent({type:"Wut",Ib:n.Xp})}},i.Iht=function(){var t=i.PK.l0,n=t.CK.bJ.length?t.CK.bJ:t.S$.bJ,r=i.Bat.ng,e=i.Bat.tg,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),u=s&&s.length?s[0]:null;u!==i.Kct&&(i.Kct=u,i.dispatchEvent({type:"bK",jJ:u}))},i.eft=function(t){i.dispatchEvent({type:"bK",jJ:t.jJ})},i.sft=function(){if(i.Bat){var t=i.Bat.sw,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.nft&&(i.nft=n,i.tft=Qb())}},i.uft=function(){i.Zv=!0},i.oft=function(){i.Zv&&(i.Zv=!1,i.hft())},i.PK=n,i.Jct=new ZL(n.l0),n.addEventListener("Zv",i.uft),n.addEventListener("iw",i.oft),i}F(n,t);var i=n.prototype;return i.sct=function(t){var n=this.Bat.sw;return n.length?zt(t,n.start(0),n.end(n.length-1)):0},i.hft=function(){if(this.Bat){var t=this.Bat.currentTime,n=this.Bat.paused;this.Bat.load(),this.Bat.currentTime=t,n||this.Bat.play()}},i.aft=function(){this.Bat&&(this.Bat.addEventListener("loadstart",this.rft),this.Bat.addEventListener("play",this.rft),this.Bat.addEventListener("timeupdate",this.Xut),this.Bat.addEventListener("timeupdate",this.Iht),f(this.ift),this.ift=c(this.sft,250))},i.cft=function(){f(this.ift),this.Bat&&(this.Bat.removeEventListener("loadstart",this.rft),this.Bat.removeEventListener("play",this.rft),this.Bat.removeEventListener("timeupdate",this.Xut),this.Bat.removeEventListener("timeupdate",this.Iht))},i.Vh=function(t){t=t||"none",this.cft(),this.aft(),this.PK.removeEventListener("xat",this.eft),this.PK.addEventListener("xat",this.eft),"none"!==t&&this.rft()},i.qv=function(){this.zo(),this.Jct.qv(),this.Pct=null,this.PK.removeEventListener("xat",this.eft)},i.Ul=function(){this.Mat="start",this.Uat=1,this.Zv=!1,this.$ct=null,this.Kct=null,this.tft=NaN,this.nft=NaN,f(this.ift),this.Jct.Ul()},i.Eg=function(){},i.Sg=function(){},i.q0=function(){},i.mct=function(){},i.Qnt=function(t){var n=this.PK.l0.NK;return this.PK.bb.Qnt(n,t).oy()},i.tot=function(t){var n,i,r=this.PK.l0.NK,e=this.PK.bb,s=t,u=this.$ct;if(u)u.i$||(u.i$=e.Gnt(r,u.rZ)),n=u.$R,i=u.i$;else{var o=e.V8(r,Cg.lm(s));if(!o)return null;n=o.jnt.oy(),i=e.Gnt(r,o.Xp.rZ)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Mct=function(t){return NaN},i.Uct=function(t){return NaN},M(n,[{key:"fft",get:function(){return null}},{key:"jg",get:function(){return this.tot(this.e6)}},{key:"Pct",get:function(){return this.Bat},set:function(t){this.cft(),this.Bat=t,this.Bat&&(this.Jct.Vct=this.Bat,this.Jct.Ux())}},{key:"ict",get:function(){return this.Bat?this.Bat.ect():this.Mat},set:function(t){"start"===t&&(t=this.PK.Vnt?1/0:0),t=this.sct(t),this.Mat=t,this.Bat&&this.Bat.Fct(t)}},{key:"e6",get:function(){return this.ict},set:function(t){t=this.sct(t),this.ict=t}},{key:"Iw",get:function(){return 1/0},set:function(t){}},{key:"J_",get:function(){return this.Bat?this.Bat.J_:this.Uat},set:function(t){t>0&&(this.Uat=t,this.Bat&&(this.Bat.J_=t))}},{key:"sw",get:function(){var t,n,i,r=this.Bat?this.Bat.sw:null,e=this.PK.bb.sw;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.nft||r.end(r.length-1))+this.PK.bb.Knt.oy(),isFinite(this.tft)&&(i+=(Qb()-this.tft)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.PK.bb.$nt.oy()}return i=_.min(n,i),i=_.max(this.e6,i),new DO([{$R:t,tI:i}])}},{key:"x$",get:function(){return NaN}},{key:"Sct",get:function(){return NaN}},{key:"T0",get:function(){return!1}}]),n}(jC),$L=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e)||this).vft=new ss,o.dft=void 0,o.qb=void 0,o.lft=function(){return o._ft()},o.co=X_.WEBVTT,o.a_=V_.NONE,o.v_=Bf(s),o.Xo(Td.Al,o.lft),o.qb=u,o}F(n,t);var i=n.prototype;return i.Vh=function(){this.v_&&!this.dft&&(this.dft=this.Hd(this.vft.Lo),this.dft.catch(cs))},i.Hd=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.v_,t.prev=1,this.a_=V_.LOADING,r=new Df({kv:i,Mv:Sf.GET,_v:Zo.es,Lo:n}),t.next=6,this.qb.yv(r);case 6:return e=t.sent,t.next=9,e.Ls();case 9:s=t.sent,this.K1(e,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),as(t.t0),this.CS(by(t.t0,this.v_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),i.q0=function(){this.a_!==V_.LOADED&&(this.a_=V_.NONE,this.vft.xo(),this.vft=new ss,this.dft=void 0)},i.CS=function(t){this.a_=V_.ERROR,this.Vo(new i_(t))},i.qv=function(){this.q0(),this.vft.Ro(),t.prototype.qv.call(this)},i._ft=function(){switch(this.h_){case Kd.s_:case Kd.e_:this.Vh();break;case Kd.r_:this.q0()}},i.K1=function(t,n){try{for(var i=rw(n).c_,r=0;r<i.length;r++){var e=i[r];this.Yb(e)}this.a_=V_.LOADED}catch(n){this.CS(Ty(this.co,this.v_,t.dv,n))}},n}(AR);function KL(t){return fy(t.kind)}var tM=function(){function t(t,n,i,r){this.gft=void 0,this.bg=void 0,this.wft=void 0,this.qb=void 0,this.gft=t,this.bg=i,this.wft=n,this.qb=r,this.Ul()}var n=t.prototype;return n.yft=function(t){if(this.mft(),t)if(this.wft)for(var n=0;n<t.length;n++){var i=t[n];this.rR(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.kft(e)}},n.rR=function(t){var n=KL(t);if(ky(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.gft.appendChild(i)}},n.kft=function(t){var n=KL(t),i=new $L(n,t.id,t.label,t.srclang,t.src,this.qb);t.default&&(i.h_=Kd.s_),this.bg.Bl(i)},n.mft=function(){for(var t=this.bg.Fl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.pft&&this.bg.Ll(i)}},n.Aft=function(){this.mft()},n.Ul=function(){this.mft()},t}(),nM=function(){function t(t){this.I0=void 0,this.I0=t}var n=t.prototype;return n.Xo=function(t,n){this.I0.addEventListener(t,n)},n.Go=function(t,n){this.I0.removeEventListener(t,n)},M(t,[{key:"z_",get:function(){return this.I0.currentTime}},{key:"Z_",get:function(){return this.I0.paused}},{key:"K_",get:function(){return this.I0.seeking}}]),t}(),iM=function(t){function n(n,i){var r;(r=t.call(this)||this).bft=void 0,r.bg=void 0,r.Tft=void 0,r.Eft=void 0,r.Bat=void 0,r.Sft=!0,r.Rft=function(t){return r.Ift(t)},r.Nft=function(){return r.Cft()},r.Dft=function(){return r.Oft()},r.xft=function(){return r.Pft()},r.Wct=function(t){return r.qct(t.fl)},r.Bft=function(t){return r.Lft(t.fl)},r.Mft=function(){return r.Uft()},r.bft=n,r.bg=i,r.bft.addEventListener("seeking",r.Mft),r.bft.addEventListener("seeked",r.Mft),r.Tft=new EI(new nM(n));for(var e=0,s=r.bg.Fl;e<s.length;e++){var u=s[e];r.qct(u)}return r.bg.Xo(kd.il,r.Wct),r.bg.Xo(kd.ul,r.Bft),r}F(n,t);var i=n.prototype;return i.Ift=function(t){this.bg.Bl(t.fl)},i.Cft=function(){for(var t=this.bg.Fl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.pft&&this.bg.Ll(i)}},i.Oft=function(){var t=this.Pct,n=[],i=t&&t.bg;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var s=e.THEOplayerTextTrack;if(!s){var u=this._W(e);s=new mI(e,u,this.lV),e.THEOplayerTextTrack=s,this.bg.Bl(s)}n.push(s)}}for(var o=0,h=this.bg.Fl;o<h.length;o++){var a=h[o];kI(a)&&-1===n.indexOf(a)&&this.bg.Ll(a)}},i._W=function(t){for(var n=this.Pct.Qg.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Pft=function(){for(var t=0,n=this.bg.Fl;t<n.length;t++){var i=n[t];kI(i)&&i._V()}},i.Uft=function(){this.Fft()},i.qct=function(t){t instanceof AR&&this.Tft.Bl(t)},i.Lft=function(t){t instanceof AR&&this.Tft.Ll(t)},i.Fft=function(){var t=this.bg.Fl;if(t.length)for(var n=this.bft.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof AR){for(var s=[],u=0,o=e.c_.Fl;u<o.length;u++){var h=o[u];if(!(h.Iw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];e.FH(c)}}}},i.qv=function(){this.bft.removeEventListener("seeking",this.Mft),this.bft.removeEventListener("seeked",this.Mft);for(var t=0,n=this.bg.Fl;t<n.length;t++){var i=n[t];this.Lft(i)}this.bg.Go(kd.il,this.Wct),this.bg.Go(kd.ul,this.Bft),this.Tft.qv(),this.l0=null,this.Pct=null},M(n,[{key:"l0",get:function(){return this.Eft},set:function(t){var n=this.Eft;if(n){for(var i=0,r=n.bg;i<r.length;i++){var e=r[i];this.bg.Ll(e)}n.removeEventListener("sK",this.Rft),n.removeEventListener("qv",this.Nft)}if(this.Eft=t,t){for(var s=0,u=t.bg;s<u.length;s++){var o=u[s];this.bg.Bl(o)}t.addEventListener("sK",this.Rft),t.addEventListener("qv",this.Nft)}}},{key:"Pct",get:function(){return this.Bat},set:function(t){var n=this.Bat;n&&n.bg&&n.bg.removeEventListener&&(n.bg.removeEventListener("addtrack",this.Dft),n.bg.removeEventListener("removetrack",this.Dft),n.bg.removeEventListener("change",this.xft)),this.Bat=t,t&&t.bg&&t.bg.addEventListener&&(t.bg.addEventListener("addtrack",this.Dft),t.bg.addEventListener("removetrack",this.Dft),t.bg.addEventListener("change",this.xft)),this.Oft(),this.Pft()}},{key:"lV",get:function(){return this.Sft},set:function(t){if(this.Sft!==t){this.Sft=t;for(var n=0,i=this.bg.Fl;n<i.length;n++){var r=i[n];kI(r)&&(r.lV=t)}}}}]),n}(jC),rM=function(){function t(t,n){this.Vv=void 0,this.nl=void 0,this.Hft=[],this.Vft=new Jo,this.Xft=re(),this.Wft=new ss,this.Vv=!(!t||t.crossOrigin!==_l.N_&&!t.qft),this.nl=n}var n=t.prototype;return n.zft=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h,a,c,f;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=T.Fu(n),e=0,s=this.Hft;e<s.length;e++)null===(u=s[e]).gs||void 0===u.gs?r.searchParams.delete(u.Gft):r.searchParams.set(u.Gft,u.gs);return t.prev=2,o=new Df({kv:r.href,_v:Zo.Pc,lv:this.Vft,Vv:this.Vv,Mv:Sf.GET,Lo:i,co:Rf.Ev,Fv:If.xv}),t.next=6,this.nl.yv(o);case 6:return h=t.sent,t.next=9,h.Ls();case 9:return a=t.sent,c=new m(a),f=new m(16),16!==c.length&&_t("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=qu(c,0,16)),f.set(c,16-c.length),t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t.catch(2),as(t.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return E.reject(new ZC(YC.YY,{code:"CAD1603"}));var i=this.Xft.get(n);return i||(i=this.zft(n,this.Wft.Lo),this.Xft.set(n,i)),i},n.qv=function(){this.Wft.xo(),this.Xft.clear()},n.jft=function(t,n){this.Hft.push({Gft:t,gs:n})},n.Qft=function(t,n){this.Vft.append(t,n)},t}(),eM=function(t){this.bft=void 0,this.bft=t},sM=s.createElement("video");var uM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.fht=function(t){return!!function(t){return sM.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(eM);QC.$e.DL("AvoidUnsupportedCodecsRule",uM);var oM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.fht=function(t,n,i,r){return!("A9"===r.C8)||t.bandwidth<2e6},n}(eM);QC.$e.DL("AvoidHighBitrateStreamsRule",oM);var hM=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Yft=function(t){if(!t.resolution)return!0;var n=this.bft.element.getBoundingClientRect(),i=e.innerWidth||s.documentElement.clientWidth,r=e.innerHeight||s.documentElement.clientHeight,u=_.max(0,_.min(n.right,i)-_.max(0,n.left)),o=_.max(0,_.min(n.bottom,r)-_.max(0,n.top)),h=T.Xu.hu;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.fht=function(t){return this.Yft(t)},n}(eM);QC.$e.DL("AvoidVideoResolutionGreaterThanDisplaySizeRule",hM);var aM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.fht=function(t,n,i){if(i.M6<=0)return!1;var r=i&&.8*i.M6;return!(r&&!y(r)&&t.bandwidth)||r>t.bandwidth*this.bft.playbackRate},n}(eM);QC.$e.DL("DownloadMetricRule",aM);var cM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.fht=function(t){return!0},n}(eM);QC.$e.DL("LimitVideoQualityToDisplaySizeRule",cM);var fM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.fht=function(t,n){return!n||(n.D$===vD.Av||t.D$===vD.Av||(n.D$===vD.nJ||t.D$===vD.nJ||n.D$===t.D$))},n}(eM);function vM(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function dM(t,n){var i=n;for(var r in t)it(t[r])?(i[r]=i[r]||{},dM(t[r],i[r])):Z.call(i,r)||(i[r]=t[r]);return i}function lM(t,n){var i=dM(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case _l.I_:case _l.N_:break;default:n=_l.C_}return t&&t.withCredentials&&(n=_l.N_),t&&t.vr&&t.vr[360]&&n===_l.C_&&(n=_l.I_),n}(i),i}function _M(t){st(t)&&t.then(R,R)}QC.$e.DL("OnlyAllowSameTrackTypeRenditionsRule",fM);var gM,wM=500,yM=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],mM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zft=void 0,r.mS=void 0,r.Jft=void 0,r.pS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.fX=function(){var t=r.mS.GS.error&&r.mS.GS.error.code;t&&r.CS(new ZC(YC.GY,{code:"VEE"+t}))},r.$ft=function(t){r.dispatchEvent({type:t.type,error:r.mS.GS.error})},r.Kft=function(){a(r.Jft),r.Jft=void 0,r.mS.GS.removeEventListener("timeupdate",r.Kft),r.mS.Go(Ml.q_,r.Kft)},r.tvt=function(){void 0!==r.Jft&&r.Kft(),r.Jft=h(function(){r.mS.GS.currentTime+=.1,r.Kft()},wM),r.mS.GS.addEventListener("timeupdate",r.Kft),r.mS.Xo(Ml.q_,r.Kft)},r.nvt=function(){switch(r.mS.GS.readyState){case ml.L_:case ml.M_:case ml.U_:r.tvt();break;case ml.B_:case ml.P_:}},r.Zft=n,r.mS=i,r}F(n,t);var i=n.prototype;return i.setup=function(){this.rK(),this.mS.GS.parentNode!==this.Zft&&this.Zft.appendChild(this.mS.GS),this.loaded=!1,this.mS.GS.preload="metadata",this.mS.GS.addEventListener("play",this.nvt),this.mS.GS.addEventListener("loadeddata",this.nvt),this.dispatchEvent("ivt")},i.rK=function(){for(var t=0;t<yM.length;t++){var n=yM[t];this.mS.GS.addEventListener(n,this.$ft,!0)}this.mS.GS.addEventListener("error",this.fX,!0),this.mS.Xo(Ml.Tl,this.$ft),this.mS.Xo(Ml.q_,this.$ft)},i.rvt=function(){for(var t=0;t<yM.length;t++){var n=yM[t];this.mS.GS.removeEventListener(n,this.$ft,!0)}this.mS.GS.removeEventListener("error",this.fX,!0),this.mS.Go(Ml.Tl,this.$ft),this.mS.Go(Ml.q_,this.$ft)},i.CS=function(t){this.pS=t,this.dispatchEvent({type:"error",error:t})},i.Ltt=function(){return E.resolve()},i.load=function(){this.mS.GS.load(),this.loaded=!0},i.unload=function(){return this.Kft(),this.zo(),this.rvt(),this.mS.GS.removeEventListener("play",this.nvt),this.mS.GS.removeEventListener("loadeddata",this.nvt),xr(this.mS.GS),this.mS.GS},i.play=function(){var t=this.J_;_M(this.mS.GS.play()),this.J_=t},i.pause=function(){this.mS.GS.pause()},i.Rg=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Fct(0)}catch(t){}this.dispatchEvent("reset")},i.Ug=function(){return this.mS.GS},i.ect=function(){return this.mS.GS.currentTime},i.Fct=function(t){this.mS.GS.currentTime=t},i.canPlayCodecs=function(t){return this.mS.GS.canPlayType('video/mp4; codecs="'+t+'"')},M(n,[{key:"bct",get:function(){return!0}},{key:"Qg",get:function(){return this.mS.GS}},{key:"Gg",get:function(){return this.mS.GS.buffered}},{key:"ig",get:function(){return this.mS.GS.volume},set:function(t){this.mS.GS.volume=t}},{key:"duration",get:function(){return this.mS.GS.duration}},{key:"muted",get:function(){return this.mS.GS.muted},set:function(t){this.mS.GS.muted=t}},{key:"paused",get:function(){return this.mS.GS.paused}},{key:"played",get:function(){return this.mS.GS.played}},{key:"poster",get:function(){return this.mS.GS.poster},set:function(t){t?this.mS.GS.poster=t:this.mS.GS.removeAttribute("poster")}},{key:"controls",get:function(){return this.mS.GS.controls},set:function(t){t?this.mS.GS.controls=t:this.mS.GS.removeAttribute("controls")}},{key:"ended",get:function(){return this.mS.GS.ended}},{key:"seeking",get:function(){return this.mS.GS.seeking}},{key:"error",get:function(){return this.mS.GS.error}},{key:"width",get:function(){return this.mS.GS.offsetWidth}},{key:"height",get:function(){return this.mS.GS.offsetHeight}},{key:"src",get:function(){return this.mS.GS.src},set:function(t){this.mS.GS.src=t}},{key:"ng",get:function(){return this.mS.GS.videoWidth}},{key:"tg",get:function(){return this.mS.GS.videoHeight}},{key:"bg",get:function(){return this.mS.GS.textTracks}},{key:"Vnt",get:function(){return this.mS.GS.duration===1/0}},{key:"sw",get:function(){var t=this.mS.GS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.ect()||0),new DO([{$R:n,tI:i}])}},{key:"J_",get:function(){return this.mS.GS.playbackRate},set:function(t){t>0&&(this.mS.GS.playbackRate=t)}},{key:"a_",get:function(){return this.mS.a_}},{key:"evt",get:function(){return void 0!==this.mS.GS.webkitSupportsPresentationMode&&this.mS.GS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"svt",get:function(){return"picture-in-picture"===this.mS.GS.webkitPresentationMode}},{key:"uvt",get:function(){return this.mS.GS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.mS.GS.webkitSetPresentationMode(t)}}]),n}(jC);!function(t){t[t.ovt=0]="ovt",t[t.avt=1]="avt",t[t.pQ=2]="pQ",t[t.cvt=3]="cvt",t[t.fvt=4]="fvt"}(gM||(gM={}));var kM=function(){function t(){this.vvt=!1,this.dvt=null,this.lvt=null,this._vt=null,this.cL=[],this.gvt=null}var n=t.prototype;return n.wvt=function(){if(!this.vvt)return!1;for(var t=this.dvt,n=this.lvt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.yvt=function(t){switch(t.co){case gM.ovt:return this.mvt(t.Ls,t.jnt,t.jD);case gM.avt:return this.kvt(t.pvt);case gM.pQ:return this.Avt(t.bvt,t.Tvt);case gM.cvt:return this.fL();case gM.fvt:return this.Evt(t.jD)}},n.mvt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.lvt,y(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.Svt();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.kvt=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.lvt,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),s=_.min(r.end(0),n),!((u=s-e)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(e,s),t.next=11,this.Svt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Avt=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.dvt,r=this.lvt,e=r.buffered,!((s=e.length)>0)){t.next=12;break}if(u=_.max(e.start(0),n),o=_.min(e.end(s-1),i),!(o-u>0)){t.next=12;break}return r.remove(u,o),t.next=12,this.Svt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.fL=function(){var t=E.coroutine(te.mark(function t(){var n,i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.dvt,i=this.lvt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,yd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.Evt=function(t){return E.resolve(t())},n.Rvt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tH(n)){t.next=5;break}return t.next=3,ms(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tH=function(t){var n=this.dvt;if(!n.open||"open"!==n.readyState||!this.wvt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Svt=function(){var t=this;return new E(function(n,i){var r,e=t.lvt,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?n():i(new v(r))},c=function(){e.removeEventListener("update",u),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",u),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.Ivt=function(){var t=this;this._vt||(0!==this.cL.length||this.gvt)&&this.wvt()&&(this._vt=this.Nvt().then(function(){t._vt=null}))},n.Nvt=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.cL.length>0)){t.next=9;break}if(this.wvt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.cL.shift(),t.next=7,this.yvt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.Rvt("decode").catch(R);case 16:if(!this.gvt){t.next=26;break}return t.prev=17,t.next=20,this.Rvt(this.gvt.ih);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.gvt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.Ux=function(t,n){this.vvt||(this.vvt=!0,this.dvt=t,this.lvt=n,this.Ivt())},n.hw=function(t,n,i){this.cL.push({co:gM.ovt,Ls:t,jnt:n,jD:i}),this.Ivt()},n.Cvt=function(t,n){this.cL.push({co:gM.pQ,bvt:t,Tvt:n}),this.Ivt()},n.Dvt=function(t){this.cL.push({co:gM.avt,pvt:t}),this.Ivt()},n.xo=function(){this.cL.push({co:gM.cvt}),this.Ivt()},n.Ovt=function(t){this.cL.push({co:gM.fvt,jD:t}),this.Ivt()},n.Hut=function(t){this.gvt={ih:t},this.Ivt()},n.lh=function(){this.cL.length=0,this.gvt=null},t}();var pM=function(t){function n(n){var i;return(i=t.call(this)||this).dvt=void 0,i.lvt=null,i.xvt=new kM,i.Iw=NaN,i.Pvt=null,i.Ho=function(t){return i.dispatchEvent(t)},i.Bvt=function(){return i.y8()},i.dvt=n,i.Ul(),i}F(n,t);var i=n.prototype;return i.Lvt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.Ltt=function(t,n,i,r){var e=this;if(!this.lvt||!n)return E.resolve();var s=n.initializer.Ls,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Pvt,s);if(r&&(Y.Ue||this.xvt.xo()),r)if(Y.Ue);else{var o=t&&t.$R,h=t&&t.$R+t.G_-.5;this.xvt.Cvt(o,h)}return u&&(this.xvt.hw(s,i,this.Lvt.bind(this)),this.Pvt=s),new E(function(t,r){e.xvt.hw(n.m4s.Ls,i,function(n){n?r(n):t()})})},i.oF=function(){var t=this;return new E(function(n){t.xvt.Ovt(function(){var i=t.Gg;i&&i.length&&(t.Iw=i.end(i.length-1)),n()})})},i.Mvt=function(t){if(!this.lvt){try{this.lvt=this.dvt.addSourceBuffer(t),this.lvt.addEventListener("updatestart",this.Ho),this.lvt.addEventListener("updateend",this.Ho)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.dvt.addEventListener("sourceclose",this.Bvt),this.xvt.Ux(this.dvt,this.lvt)}return!0},i.wvt=function(){for(var t=0;t<this.dvt.sourceBuffers.length;t++)if(this.dvt.sourceBuffers[t]===this.lvt)return!0;return!1},i.Xh=function(t){var n=this,i=this.Gg;if(!(this.lvt&&i&&i.length))return t&&t();this.lvt.remove(0,i.end(i.length-1)),t&&this.lvt.addEventListener("updateend",function i(r){n.lvt.removeEventListener("updateend",i),t()})},i.Ul=function(t){this.Pvt=null,this.Iw=NaN,this.y8(),this.Xh(t)},i.Dvt=function(t){this.lvt&&this.xvt.Dvt(t)},i.Hut=function(t){this.lvt&&this.xvt.Hut(t)},i.y8=function(){this.xvt.lh(),"open"===this.dvt.readyState&&this.lvt&&this.lvt.updating&&this.lvt.abort()},M(n,[{key:"Gg",get:function(){return this.lvt&&this.wvt()?new DO(FO(this.lvt.buffered)):null}},{key:"NO",get:function(){return this.lvt&&this.lvt.updating}},{key:"j_",get:function(){var t=this.Gg;return!t||!y(this.Iw)&&MO(t,this.Iw)}}]),n}(jC),AM="mp4a.40.34";var bM=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Uvt=!1,i.pN=function(){var t=i.Uvt;i.Uvt=i.NO,!t&&i.Uvt?i.dispatchEvent("updatestart"):t&&!i.Uvt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new pM(n),i.videoTrackBuffer=new pM(n),i.audioTrackBuffer.addEventListener("updatestart",i.pN),i.videoTrackBuffer.addEventListener("updatestart",i.pN),i.audioTrackBuffer.addEventListener("updateend",i.pN),i.videoTrackBuffer.addEventListener("updateend",i.pN),i.Ul(),i}F(n,t);var i=n.prototype;return i.Ltt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.EJ&&i.push(this.audioTrackBuffer.Ltt(n.metadata.EJ,n.EJ,n.metadata.EJ&&n.metadata.EJ.I3===AM?n.metadata.EJ.$R:NaN,n.metadata.R4)),n.SJ&&i.push(this.videoTrackBuffer.Ltt(n.metadata.SJ,n.SJ,NaN,n.metadata.R4)),t.next=7,E.all(i);case 7:this.j_&&(this.audioTrackBuffer.Hut(),this.videoTrackBuffer.Hut());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Hut=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.oF()),i&&r.push(this.videoTrackBuffer.oF()),t.next=5,E.all(r);case 5:this.j_&&(this.audioTrackBuffer.Hut(),this.videoTrackBuffer.Hut());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ux=function(t){var n,i={};for(var r in t)if(Z.call(t,r)){var e=t[r];if(e.SJ){var s='video/mp4; codecs="'+e.SJ+'"';this.videoTrackBuffer.Mvt(s),i.SJ=this.videoTrackBuffer}if(e.EJ){var u=(n=e.EJ)!==AM||Gy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Mvt(u),i.EJ=this.audioTrackBuffer}0}return i},i.Ul=function(t){var n=!1,i=!1;this.Uvt=!1,this.audioTrackBuffer.Ul(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Ul(function(){if(i=!0,n&&t)return t()})},i.Dvt=function(t){this.audioTrackBuffer.Dvt(t),this.videoTrackBuffer.Dvt(t)},i.y8=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.y8(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.y8()},M(n,[{key:"Gg",get:function(){var t=this.audioTrackBuffer.Gg,n=this.videoTrackBuffer.Gg;return t&&n?BO(t,n):t||n||OO}},{key:"KL",get:function(){return this.audioTrackBuffer.Gg||OO}},{key:"tM",get:function(){return this.videoTrackBuffer.Gg||OO}},{key:"NO",get:function(){return this.audioTrackBuffer.NO||this.videoTrackBuffer.NO}},{key:"j_",get:function(){return this.audioTrackBuffer.j_&&this.videoTrackBuffer.j_}}]),n}(jC),TM=1,EM=.05,SM=.01;function RM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function IM(t,n,i,r){var e=UO(n,t),s=t;if(!(!r&&e>=0&&t<n.end(e)-EM)){var u,o;do{if((u=RM(t,n))<0)return;t=(o=n.start(u)+SM)+EM}while(n.end(u)-o<EM);for(var h=o-s,a=BO(new DO([{$R:s,tI:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-s),h<TM?o:void 0}}var NM=100,CM=1e-4,DM=500,OM=Jy,xM=Y.Se,PM=5,BM=["resize","volumechange"],LM=function(n){function i(t,i){var r;return(r=n.call(this)||this).Fvt=void 0,r.mS=void 0,r.Hvt=!0,r.j_=!1,r.Vvt=!1,r.Xvt=!1,r.Wvt=null,r.ih=!1,r.dvt=null,r.lvt=null,r.qvt=null,r.vvt=!1,r.zvt=0,r.Gvt=sA.LI(),r.Uat=1,r.jvt=!1,r._H=!1,r.K_=!1,r.Qvt=new ss,r.Yvt=!1,r.Zvt=!1,r.Jvt=void 0,r.$vt=null,r.Kvt=null,r.tdt=ml.P_,r.ndt=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.idt=function(){r.ndt=!1,r.rdt(),r.edt(),r.sdt()},r.udt=function(){r.odt(),r.sdt(),r.hdt()},r.xS=function(){r.adt(),r.odt(),r.kH()?r.dispatchEvent("playing"):r.ndt=!0},r.cdt=function(){r.ndt=!1,r.rdt(),r.Rg()},r.KF=function(){r.fdt()},r.OS=function(){r.vdt(),r.hdt()},r.OF=function(){var t=r.tdt,n=r.a_;t!==n&&(r.tdt=n,r.dispatchEvent(new n_(r.ect(),n))),r.hdt()},r.edt=function(){r.zvt&&(f(r.zvt),r.zvt=0,xM&&(r.mS.GS.removeEventListener("timeupdate",r.kW),r.removeEventListener(Ml.Tl,r.TW)))},r.ddt=function(){r.zvt||(r.zvt=c(r.ldt,DM)),xM&&(r.mS.GS.addEventListener("timeupdate",r.kW),r.addEventListener(Ml.Tl,r.TW),r.kW()),r.ldt()},r._dt=function(){var t=r.ect(),n=MO(r.gdt,t);r.mS.Z_||r.K_&&!n||r.wdt()||r.ddt()},r.ldt=function(t){if(!(r.$vt||void 0===t&&r.Zvt)){var n,i=r.ect(),e=r.Gg;if(void 0===t){if(void 0===(n=IM(i,e,r.gdt,r.Vvt)))return}else{if(!MO(e,t))return;n=t}var s=function(){r.mS.GS.currentTime=n,r.ydt(n),r.edt(),r.Zvt=!0};jt(n,i)?r.$vt=h(function(){r.$vt=null,i=r.ect(),jt(n,i)&&(n+=1e3*DM,s())},DM):s()}},r.oq=function(){var t=r.qvt;if(r.mdt(),r.mS.GS.readyState===ml.P_)return r.qvt=t,void r.mS.GS.addEventListener("loadedmetadata",r.oq);_.abs(r.mS.GS.currentTime-t)<CM?r.OS():(r.mS.GS.currentTime=t,r.Zvt=!1,r.KF()),r.qvt=null,r.cP(r.Uat),r.mS.$W(),r.kdt(t)&&r.Rg()},r.pdt=function(){if(!r.Vvt){var t=r.mS.GS,n=r.Gg,i=t.currentTime;r.Adt(n,i)&&(r.Vvt=!0,r.odt(),i=t.currentTime,r.Adt(n,i)?r.Vvt=!0:r.Vvt=!1,r.OF()),r.Kvt=i}},r.adt=function(){r.rdt(),r.Wvt=c(r.pdt,NM)},r.rdt=function(){r.Vvt=!1,f(r.Wvt)},r.bdt=function(){r.Vvt&&(r.Vvt=!1,r.OF())},r.kW=function(){var t=r.lvt;if(t)if(t.j_)r.pW();else{var n=t.KL,i=t.tM;if(0!==n.length&&0!==i.length){var e=r.ect();if(e<n.start(0)||e<i.start(0))r.pW();else MO(n,e)!==MO(i,e)?r.AW():r.pW()}else r.pW()}},r.TW=function(){if(!(r.K_||r.Zvt||r.mS.GS.seeking||r.a_>=ml.M_)){var t=r.lvt;if(t){var n=r.ect(),i=sA.OI(t.KL),e=sA.OI(t.tM);if(i.fR(n)&&e.fR(n))i.yI(e).bI(n-PM,n)&&(r.mS.GS.currentTime=n,r.Zvt=!0)}}},r.Tdt=function(){r.dvt.open=!0,r.dvt.removeEventListener("sourceopen",r.Tdt),r.dvt.removeEventListener("webkitsourceopen",r.Tdt)},r.fX=function(t){var n=r.mS.GS.error&&r.mS.GS.error.code;n&&r.CS(new ZC(YC.GY,{code:"VEE"+n}))},r.Ho=function(t){r.dispatchEvent({type:t.type})},r.Edt=function(){r.lvt&&r.lvt.j_&&r.dispatchEvent("durationchange")},r.Sdt=function(){r.removeEventListener("Rdt",r.Sdt),r.Yvt=!1,r.Idt(r.Uat)},r.Fvt=t,r.mS=i,r}F(i,n);var r=i.prototype;return r.Idt=function(t){this._H&&(t=0),this.mS.J_=t,0!==t||OM?this.jvt&&(this.jvt=!1,_M(this.mS.Eg())):(this.jvt=!this.mS.Z_||this.jvt,this.mS.Sg()),this.sdt()},r.cP=function(t){this.Uat=t,this.Yvt||this.Idt(t)},r.Ndt=function(t){var n=UO(this.gdt,t);return-1===n?null:this.gdt.end(n)},r.fdt=function(){this.Zvt||this.K_||(this.K_=!0,this.dispatchEvent("seeking"))},r.vdt=function(){this.Zvt=!1,this.Cdt(),this.K_&&(this.K_=!1,this.dispatchEvent("seeked")),this._dt()},r.odt=function(){this.Zvt||this._dt()},r.Cdt=function(){this.Jvt&&(a(this.Jvt),this.Jvt=void 0)},r.ydt=function(t){var n=this;this.Jvt=h(function(){n.ldt(t+2)},750)},r.hdt=function(){this.ndt&&this.kH()&&(this.ndt=!1,this.dispatchEvent("playing"))},r.sdt=function(){var t=this.Hvt,n=this.paused;this.Hvt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.vF=function(t,n){if(!(t+.001>n)){var i=new sA([t,n]);this.Gvt=this.Gvt.wI(i).mI(sA.OI(this.Gg)),this.Gvt.fR(this.ect())&&this._dt()}},r.kdt=function(t){return t>=this.mS.GS.duration-(this.paused?0:.5)},r.Ddt=function(t){return y(this.mS.GS.duration)||(t=_.min(t,this.mS.GS.duration)),_.max(0,t)},r.mdt=function(){this.qvt=null,this.mS.GS.removeEventListener("loadedmetadata",this.oq)},r.AH=function(){return this.a_<ml.M_},r.kH=function(){return!(this.paused||this.ended||this.error||this.AH())},r.Adt=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-EM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Kvt&&this.Kvt===n){if(this.kdt(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.AW=function(){this._H||(this._H=!0,this.Idt(0),this.OF())},r.pW=function(){this._H&&(this._H=!1,this.cP(this.Uat),this.mS.GS.currentTime=this.mS.GS.currentTime,this.OF())},r.Odt=function(){var t=this.mS.GS;t.addEventListener("timeupdate",this.bdt),this.mS.Xo(Yo._c,this.idt),this.mS.Xo(Yo.gc,this.udt),this.mS.Xo(Yo.oc,this.cdt),t.addEventListener("seeking",this.KF),t.addEventListener("seeked",this.OS);for(var n=0;n<BM.length;n++){var i=BM[n];t.addEventListener(i,this.Ho)}t.addEventListener("error",this.fX),t.addEventListener("durationchange",this.Edt),this.mS.Xo(Yo.Nc,this.Ho),this.mS.Xo(Ml.Tl,this.OF),this.mS.Xo(Ml.q_,this.xS)},r.xdt=function(){var t=this.mS.GS;t.removeEventListener("timeupdate",this.bdt),this.mS.Go(Yo._c,this.idt),this.mS.Go(Yo.gc,this.udt),this.mS.Go(Yo.oc,this.cdt),t.removeEventListener("seeking",this.KF),t.removeEventListener("seeked",this.OS);for(var n=0;n<BM.length;n++){var i=BM[n];t.removeEventListener(i,this.Ho)}t.removeEventListener("error",this.fX),t.removeEventListener("durationchange",this.Edt),this.mS.Go(Yo.Nc,this.Ho),this.mS.Go(Ml.Tl,this.OF),this.mS.Go(Ml.q_,this.xS)},r.Pdt=function(){var n=this.mS.GS,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Bdt(),this.dvt=new i,this.dvt.addEventListener("sourceopen",this.Tdt),this.dvt.addEventListener("webkitsourceopen",this.Tdt),n.src=_O(this.dvt),n.load()):this.CS(new ZC(YC.QY,{code:"MVE2720"})):this.CS(new ZC(YC.QY,{code:"MVE2650"}))},r.Bdt=function(){if(this.vvt=!1,this.lvt&&(this.lvt.Ul(),this.lvt=null),this.dvt){this.Qvt.xo();var t=this.mS.GS;t.src&&(gO(t.src),xr(t)),this.dvt=null}},r.setup=function(){this.Pdt(),this.Odt(),this.mS.GS.parentNode!==this.Fvt&&this.Fvt.appendChild(this.mS.GS)},r.CS=function(t){this.ih=t,this.dispatchEvent({type:"error",error:t})},r.wdt=function(){return this.lvt&&this.lvt.NO},r.Ldt=function(t){var n=this.ect()-_.max(30,3*t.jJ.EZ.targetDuration);this.dispatchEvent("Rdt"),this.lvt&&!t.S4&&this.lvt.Dvt(n),this._dt()},r.Ltt=function(t){if(!this.dvt.open||"closed"===this.dvt.readyState)return E.reject("Mdt");if(!this.lvt)return E.reject("Udt");var n=this.Fdt(t);return this.Xvt||(this.Xvt=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.Fdt=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.lvt.Ltt(n)),i.S4&&r.push(this.Hut(!!n.EJ,!!n.SJ)),n=null,t.next=7,E.all(r);case 7:this.Ldt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Hut=function(t,n){return this.dvt.open&&"closed"!==this.dvt.readyState?this.lvt?this.lvt.Hut(t,n):E.reject("Udt"):E.reject("Mdt")},r.play=function(){var t=this.mS.J_;this.j_=!1,0!==this.mS.J_||OM?(_M(this.mS.Eg()),this.mS.$W(),this.mS.J_=t):this.jvt=!0,this.sdt()},r.pause=function(){0!==this.mS.J_||OM?this.mS.Sg():this.jvt=!1,this.sdt()},r.Rg=function(){this.j_||(this.j_=!0,this.mS.Sg(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return f(this.Wvt),this.Wvt=null,this.edt(),this.mdt(),this.Bdt(),this.xdt(),this.zo(),this.mS.GS},r.reset=function(){f(this.Wvt),this.Wvt=null,this.edt(),this.mdt(),this.Hvt=!0,this.j_=!1,this.Vvt=!1,this.Xvt=!1,this.ih=!1,this.K_=!1,this.ndt=!1,this.pW(),this.Pdt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.Ug=function(){return this.mS.GS},r.ect=function(){return null===this.qvt?this.mS.GS.currentTime:this.qvt},r.Fct=function(t){var n=this.Ndt(t);t=this.Ddt(t),this.Vvt=!1,this.mS.GS.error&&(this.Xvt=!1,this.ih=!1,this.Pdt()),this.j_&&(this.j_=this.kdt(t)),this.edt(),null!==n&&(t=n),this.mdt(),this.qvt=t,this.K_=!0,this.dispatchEvent("Oct"),this.dispatchEvent("seeking"),this.oq()},r.Hdt=function(t){return this.dvt.open?E.resolve(null):yd(this.dvt,"sourceopen",t)},r.Vdt=function(t,n,i){hs(i),n>0&&(this.dvt.duration=n),this.lvt=new bM(this.dvt);var r=this.lvt.Ux(t);return this.dispatchEvent("ivt"),this.lvt.addEventListener("updatestart",this.edt),this.lvt.addEventListener("updateend",this._dt),this.vvt=!0,this.dispatchEvent("vvt"),r},r.Tct=function(t,n,i){var r=this;this.Qvt.xo();var e=new ss;return e.Po(i),this.Qvt=e,this.lvt?E.resolve(null):this.Hdt(e.Lo).then(function(){return r.Vdt(t,n,i)})},r.EK=function(t){Y.Ue&&(this.Yvt=!0,this.Idt(0),this.removeEventListener("Rdt",this.Sdt),this.addEventListener("Rdt",this.Sdt),this.lvt&&this.lvt.y8(t))},r.canPlayCodecs=function(t){return this.mS.GS.canPlayType('video/mp4; codecs="'+t+'"')},M(i,[{key:"gdt",get:function(){return this.Gvt.vR()}},{key:"a_",get:function(){var t=this.mS.a_;return t>ml.L_&&(this.Vvt||this._H)?ml.L_:t}},{key:"Qg",get:function(){return this.mS.GS}},{key:"Gg",get:function(){return this.lvt?this.lvt.Gg:this.mS.GS.buffered}},{key:"KL",get:function(){return this.lvt?this.lvt.KL:OO}},{key:"tM",get:function(){return this.lvt?this.lvt.tM:OO}},{key:"volume",get:function(){return this.mS.GS.volume},set:function(t){this.mS.GS.volume=t}},{key:"duration",get:function(){return this.mS.GS.duration}},{key:"muted",get:function(){return this.mS.GS.muted},set:function(t){this.mS.GS.muted=t}},{key:"paused",get:function(){return this.mS.Z_&&!this.jvt}},{key:"played",get:function(){return this.mS.GS.played}},{key:"poster",get:function(){return this.mS.GS.poster},set:function(t){t?this.mS.GS.poster=t:this.mS.GS.removeAttribute("poster")}},{key:"controls",get:function(){return this.mS.GS.controls},set:function(t){t?this.mS.GS.controls=t:this.mS.GS.removeAttribute("controls")}},{key:"ended",get:function(){return this.j_}},{key:"seeking",get:function(){return this.K_}},{key:"error",get:function(){return this.ih||this.mS.GS.error}},{key:"width",get:function(){return this.mS.GS.offsetWidth||this.mS.GS.parentNode.offsetWidth}},{key:"height",get:function(){return this.mS.GS.offsetHeight||this.mS.GS.parentNode.offsetHeight}},{key:"J_",get:function(){return this.Uat},set:function(t){var n=this.Uat;t>0&&(this.cP(t),this.Uat!==n&&this.dispatchEvent("ratechange"))}},{key:"ng",get:function(){return this.mS.GS.videoWidth||0}},{key:"tg",get:function(){return this.mS.GS.videoHeight||0}},{key:"bct",get:function(){return this.vvt}}]),i}(jC),MM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Xdt","EK",Ml.Tl],UM=.04,FM=.25,HM=4,VM=.75,XM=1.5,WM=.25,qM=function(t){function n(){var n;return(n=t.call(this)||this).Wdt=null,n.qdt=null,n.XI=!1,n.GI=1,n.qI=1,n.zdt=null,n.Gdt=void 0,n.$ft=function(t){n.dispatchEvent(t)},n.jdt=function(t){n.qdt||n.dispatchEvent(t)},n.Qdt=function(t){var i=t.error||n.qdt.error;n.audioStream=null,n.zdt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.zdt})},n.Ydt=function(){n.qdt&&!n.qdt.loaded||n.Wdt&&!n.Wdt.loaded||(n.qdt&&(n.qdt.removeEventListener("loaded",n.Ydt),n.qdt.play()),n.Wdt&&(n.Wdt.removeEventListener("loaded",n.Ydt),n.Wdt.play()))},n.Zdt=function(){n.Jdt(),n.qdt&&n.Wdt&&(n.qdt.addEventListener("timeupdate",n.$dt),n.Wdt.addEventListener("timeupdate",n.$dt))},n.Jdt=function(){a(n.Gdt),n.qdt&&n.qdt.removeEventListener("timeupdate",n.$dt),n.Wdt&&(n.Wdt.J_=n.qI,n.Wdt.removeEventListener("timeupdate",n.$dt))},n.Kdt=function(){n.a_<ml.M_&&n.Jdt()},n.$dt=function(){if(a(n.Gdt),n.qdt&&n.Wdt){var t=n.qdt.J_,i=n.qdt.ect()-n.Wdt.ect(),r=_.max(HM,XM*t),e=_.min(FM,VM*t);if(_.abs(i)<UM)n.Wdt.J_!==t&&(n.Wdt.J_=t);else{var s=WM,u=t*(i/s+1);(u<e||u>r)&&(s=i/((u=i>0?r:e)/t-1)),n.Wdt.J_=u,n.Gdt=h(n.$dt,1e3*s)}}else n.Jdt()},n.addEventListener("playing",n.Zdt),n.addEventListener("ended",n.Jdt),n.addEventListener(Ml.Tl,n.Kdt),n}F(n,t);var i=n.prototype;return i.kK=function(t,n){n?(t.addEventListener("timeupdate",this.$ft),t.addEventListener("error",this.Qdt)):(t.addEventListener("timeupdate",this.jdt),t.addEventListener("error",this.$ft));for(var i=0;i<MM.length;i++){var r=MM[i];t.addEventListener(r,this.$ft)}},i.Qo=function(t){t.removeEventListener("timeupdate",this.$ft),t.removeEventListener("timeupdate",this.jdt),t.removeEventListener("timeupdate",this.$dt),t.removeEventListener("error",this.$ft),t.removeEventListener("error",this.Qdt),t.removeEventListener("loaded",this.Ydt);for(var n=0;n<MM.length;n++){var i=MM[n];t.removeEventListener(i,this.$ft)}},i.tlt=function(t){this.qdt&&this.qdt.tlt(t),this.Wdt&&this.Wdt.tlt(t)},i.play=function(){if(this.qdt&&!this.qdt.loaded||this.Wdt&&!this.Wdt.loaded)return this.qdt&&this.qdt.addEventListener("loaded",this.Ydt),void(this.Wdt&&this.Wdt.addEventListener("loaded",this.Ydt));this.Ydt()},i.pause=function(){this.qdt&&(this.qdt.removeEventListener("loaded",this.Ydt),this.qdt.pause()),this.Wdt&&(this.Wdt.removeEventListener("loaded",this.Ydt),this.Wdt.pause()),this.Jdt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.qdt&&this.qdt.load(),-1!==t.indexOf("video")&&this.Wdt&&this.Wdt.load()):(this.qdt&&this.qdt.load(),this.Wdt&&this.Wdt.load())},i.qv=function(t){this.zo(),this.zdt=null,t?(-1!==t.indexOf("audio")&&this.qdt&&(this.qdt.qv(),this.qdt=null),-1!==t.indexOf("video")&&this.Wdt&&(this.Wdt.qv(),this.Wdt=null)):(this.qdt&&(this.qdt.qv(),this.qdt=null),this.Wdt&&(this.Wdt.qv(),this.Wdt=null))},i.EK=function(t){this.qdt&&this.qdt.pause(),this.Wdt&&this.Wdt.pause(),this.Jdt(),t&&-1===t.indexOf("audio")||!this.qdt||this.qdt.EK(),t&&-1===t.indexOf("video")||!this.Wdt||this.Wdt.EK()},i.Ltt=function(t){this.qdt&&t.EJ&&this.qdt.Ltt(t),this.Wdt&&t.SJ&&this.Wdt.Ltt(t)},i.nlt=function(t){return this.Wdt?this.Wdt.nlt(t):""},i.ilt=function(){return this.Wdt?this.Wdt.ilt():0},i.rlt=function(){return this.Wdt?this.Wdt.rlt():0},i.Ug=function(){return this.Wdt&&this.Wdt.Ug()},i.ect=function(){return this.qdt?this.qdt.ect():this.Wdt?this.Wdt.ect():NaN},i.Fct=function(t,n){this.qdt&&this.qdt.Fct(t,n),this.Wdt&&this.Wdt.Fct(t,n)},M(n,[{key:"Gg",get:function(){return this.qdt&&this.Wdt?BO(this.qdt.Gg,this.Wdt.Gg):this.qdt?this.qdt.Gg:this.Wdt?this.Wdt.Gg:OO}},{key:"volume",get:function(){return this.GI},set:function(t){this.GI!==t&&(this.GI=t,this.qdt&&(this.qdt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.qdt&&this.qdt.duration||this.Wdt&&this.Wdt.duration||NaN}},{key:"muted",get:function(){return this.XI},set:function(t){this.XI!==t&&(this.XI=t,this.qdt&&(this.qdt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.qdt&&!this.Wdt)&&(!(this.qdt&&!this.qdt.loaded)&&!(this.Wdt&&!this.Wdt.loaded))}},{key:"paused",get:function(){return!this.qdt&&!this.Wdt||(this.qdt&&this.qdt.paused||this.Wdt&&this.Wdt.paused||!1)}},{key:"ended",get:function(){return this.qdt&&this.qdt.ended||this.Wdt&&this.Wdt.ended||!1}},{key:"seeking",get:function(){return this.qdt&&this.qdt.seeking||this.Wdt&&this.Wdt.seeking||!1}},{key:"error",get:function(){return this.qdt&&this.qdt.error||this.Wdt&&this.Wdt.error}},{key:"warning",get:function(){return this.zdt||this.qdt&&this.qdt.warning||this.Wdt&&this.Wdt.warning}},{key:"audioStream",get:function(){return this.qdt},set:function(t){this.qdt&&(this.Qo(this.qdt),this.qdt.qv()),this.qdt=t,this.qdt&&(this.qdt.volume=this.GI,this.qdt.muted=this.XI,this.qdt.J_=this.qI,this.kK(this.qdt,!0))}},{key:"videoStream",get:function(){return this.Wdt},set:function(t){this.Wdt&&(this.Qo(this.Wdt),this.Wdt.qv()),this.Wdt=t,this.Wdt&&(this.Wdt.J_=this.qI,this.kK(this.Wdt,!1))}},{key:"J_",get:function(){return this.qI},set:function(t){this.qI!==t&&(t<0||(this.qI=t,this.qdt&&(this.qdt.J_=t),this.Wdt&&(this.Wdt.J_=t),this.dispatchEvent("ratechange")))}},{key:"a_",get:function(){return this.qdt&&this.Wdt?_.min(this.qdt.a_,this.Wdt.a_):this.qdt?this.qdt.a_:this.Wdt?this.Wdt.a_:ml.P_}},{key:"ng",get:function(){return this.Wdt?this.Wdt.ng:0}},{key:"tg",get:function(){return this.Wdt?this.Wdt.tg:0}}]),n}(jC),zM=function(){function t(t,n,i,r){var e=this;this.elt=void 0,this.slt=void 0,this.G_=void 0,this.jD=void 0,this.ult=void 0,this.olt=void 0,this.Rw=void 0,this.yv=0,this.Uv=0,this.running=!1,this.hlt=function(t){return e.Wh(t)},this.elt=t,this.slt=n,this.G_=i,this.jD=r,this.ult=t.fh(),this.olt=(n-this.ult)/(i||1)}var n=t.prototype;return n.clt=function(){return this.elt.Ya(this.slt),this.running=!1,this.flt(),this.jD()},n.$R=function(){var t=this;this.running=!0,this.G_?this.vlt():GC(function(){t.running&&t.clt()})},n.Wh=function(t){if(this.flt(),this.running){void 0===this.Rw&&(this.Rw=t);var n=this.ult,i=this.olt,r=this.slt,e=this.elt,s=n+_.max(0,t-this.Rw)*i;if(n>=r&&s<=r||n<r&&s>=r)return this.clt();if(e.Ya(s))return this.clt();this.vlt()}},n.vlt=function(){this.yv=gT(this.hlt),this.Uv=dT(this.hlt)},n.flt=function(){wT(this.yv),_T(this.Uv)},t}();var GM=function(t){function n(n,i){var r;return(r=t.call(this)||this).dlt=void 0,r.Us=void 0,r.llt=null,r._lt=null,r.glt=NaN,r.wlt=!1,r.ylt=!1,r.mlt=1,r.klt=void 0,r.plt=void 0,r.Alt=function(t){r.blt(t)||r.dispatchEvent(t)},r.dlt=n,r.Us=i,r}F(n,t);var i=n.prototype;return i.pause=function(){this.dlt.pause()},i.play=function(){_M(this.dlt.play()),this.Tlt()},i.Elt=function(t){if(!(this.a_<ml.M_))return this.y8(),this.wlt=!0,this.Alt({type:"canplay"}),t&&t();this.klt=h(this.plt,100)},i.Vh=function(t){this.ylt=!0,this.wlt=!1,this.dlt.removeEventListener("canplay",this.plt),this.plt=this.Elt.bind(this,t),this.dlt.addEventListener("canplay",this.plt),this.dlt.load(),this.klt=h(this.plt,100)},i.y8=function(){this.ylt=!1,this.dlt.removeEventListener("canplay",this.plt),void 0!==this.klt&&(a(this.klt),this.klt=void 0)},i.Slt=function(t){if(this.pause(),this.y8(),null===t)return this.llt=null,void(this.wlt=!1);this.wlt=!1,this._lt&&this._lt.Z8(this.dlt.src),this._lt=t[this.Us],this.dlt.src=this._lt.J8,this.llt=t},i.Ug=function(){return this.dlt},i.Rlt=function(t){this.glt=_.max(t||0,0),this.dlt.currentTime=this.glt},i.Ilt=function(){return this.dlt.currentTime},i.Nlt=function(t){var n=this.llt&&this.llt.metadata,i=n&&n.$R,r=n&&n[this.Us].$R,e=n&&n[this.Us].G_;return!!this.Y1&&(!(t<i)&&t<r+_.min(e,this.dlt.duration))},i.Tlt=function(){this.mlt!==this.dlt.playbackRate&&(this.dlt.playbackRate=this.mlt,$y&&this.mlt>0&&this.a_!==ml.P_&&(this.dlt.currentTime=this.dlt.currentTime))},i.blt=function(t){return!!($y&&"seeked"===t.type&&_.abs(this.dlt.currentTime-this.glt)>.04)},i.addEventListener=function(n,i){this.MY(n)||this.dlt.addEventListener(n,this.Alt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.MY(n)||this.dlt.removeEventListener(n,this.Alt)},i.zo=function(){for(var n=0,i=this.UY();n<i.length;n++){var r=i[n];this.dlt.removeEventListener(r,this.Alt)}t.prototype.zo.call(this)},i.unload=function(){this._lt&&this._lt.Z8(this.dlt.src),this.zo()},M(n,[{key:"volume",get:function(){return this.dlt.volume},set:function(t){this.dlt.volume=t}},{key:"muted",get:function(){return this.dlt.muted},set:function(t){this.dlt.muted=t}},{key:"style",get:function(){return this.dlt.style}},{key:"$R",get:function(){return this.llt?this.llt.metadata[this.Us].$R:NaN}},{key:"tI",get:function(){return this.llt?this.$R+this.llt.metadata[this.Us].G_:NaN}},{key:"Clt",get:function(){return this.llt?this.$R+this.Dlt:NaN},set:function(t){this.llt?this.Dlt=t-this.$R:this.Dlt=0}},{key:"Dlt",get:function(){return this.Ilt()},set:function(t){this.Rlt(t)}},{key:"Olt",get:function(){return this.llt},set:function(t){this.Slt(t)}},{key:"Q8",get:function(){return this.llt&&this.llt.metadata.S4}},{key:"Y1",get:function(){return!(!this.wlt||!this.llt)}},{key:"xlt",get:function(){return!(!this.ylt||!this.llt)}},{key:"J_",get:function(){return this.mlt},set:function(t){t>=0&&this.mlt!==t&&(this.mlt=t,this.Tlt())}},{key:"Z_",get:function(){return this.dlt.paused}},{key:"j_",get:function(){return this.dlt.ended}},{key:"ih",get:function(){return this.dlt.error}},{key:"ng",get:function(){return this.dlt.videoWidth}},{key:"tg",get:function(){return this.dlt.videoHeight}},{key:"a_",get:function(){return this.dlt.readyState}}]),n}(jC);function jM(t,n){return i=t.Olt.metadata.jJ,r=n.Olt.metadata.jJ,i.bandwidth&&r.bandwidth&&gg(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&gg(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||_g(i.rZ,r.rZ)||gg(t.tI,n.tI);var i,r}function QM(t){return{$R:t.$R,tI:t.tI}}function YM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.$R<=n&&n<r.tI)return i}return-1}function ZM(t,n,i){return{$R:n?i.metadata.M8:i.metadata[t].$R,tI:i.metadata[t].$R+i.metadata[t].G_}}function JM(t,n,i){return new DO([ZM(t,n,i)])}function $M(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e];r.push(ZM(t,n,s))}return PO(new DO(r))}function KM(t,n,i){if(!n)return!1;var r=n.metadata[t].$R,e=r+n.metadata[t].G_;return r<=i&&i<=e}function tU(t,n){var i=UO(t,n);return i<0?n:t.end(i)}var nU=function(){function t(t){this.co=void 0,this.P2=[],this.Plt=OO,this.Blt=OO,this.co=t}var n=t.prototype;return n.Ltt=function(t){var n,i;this.P2=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Olt===t?e.tI=r:i.push({Olt:t,$R:n,tI:r})},e=0;e<t.length;e++){var s=t[e];if(s.tI<=n.$R)r(s.Olt,s.$R,s.tI);else if(s.$R>=n.tI)n.$R<n.tI&&(r(n.Olt,n.$R,n.tI),n.$R=n.tI),r(s.Olt,s.$R,s.tI);else{var u=void 0,o=void 0;jM(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.$R,a=o.$R,c=_.min(o.tI,s.tI),f=_.min(u.tI,s.tI);h<a&&r(u.Olt,h,a),a<c&&r(o.Olt,a,c),c<f&&r(u.Olt,c,f),n.$R=_.max(n.$R,s.tI)}}return n.$R<n.tI&&r(n.Olt,n.$R,n.tI),i}(this.P2,function(t,n){var i=n.metadata[t].$R;return{Olt:n,$R:i,tI:i+n.metadata[t].G_}}(this.co,t)),this.Plt=HO(this.Plt,JM(this.co,!1,t)),this.Blt=HO(this.Blt,JM(this.co,!0,t)),this.Blt=(n=this.Blt,i=this.Plt,BO(n,LO(i)))},n.Llt=function(t){t=this.Mlt(t);var n=YM(this.P2,t);return n>=0?this.P2[n].Olt:null},n.Ult=function(t,n,i,r){t=this.Mlt(t);var e=this.P2,s=YM(e,t);if(s<0)return null;var u=e[s];if(!i||!KM(this.co,i,t))return r&&KM(this.co,r,t)?null:u.Olt;if(i!==u.Olt){if(r&&r===u.Olt)return null;if(u.tI-t>n)return u.Olt}for(var o=s+1;o<e.length;o++){var h=e[o];if(r&&r===h.Olt)return null;if(h.tI-t>n)return h.Olt;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].Olt);var f=$M(this.co,!1,a);a.push(h.Olt);var v=$M(this.co,!1,a);if(tU(f,t)<tU(v,t))return h.Olt}return null},n.Flt=function(t,n){for(var i=this.P2,r=i.length-1;r>=0;r--){var e=i[r];(e.tI<=t||e.$R>=n)&&Ze(i,r)}},n.Ul=function(){this.P2.length=0,this.Plt=OO,this.Blt=OO},n.Mlt=function(t){var n=IM(t,this.Gg,this.Blt,!1);return void 0===n?t:n},M(t,[{key:"Gg",get:function(){var t=this.P2.map(QM);return PO(new DO(t))}}]),t}(),iU=5,rU=30,eU=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Hlt=void 0,r.Us=void 0,r.Vlt=void 0,r.Xlt=void 0,r.Wlt=void 0,r.ba={EJ:{qlt:100,zlt:100,Glt:100},SJ:{qlt:500,zlt:100,Glt:200}},r.GI=void 0,r.pS=null,r.zdt=null,r.jlt=null,r.Qlt=void 0,r.Ylt=void 0,r.Zlt=void 0,r.Jlt=void 0,r.$lt=null,r.Klt=void 0,r.t_t=void 0,r.n_t=0,r.i_t=null,r.r_t=!1,r.PQ=!1,r.e_t=0,r.s_t=0,r.u_t=ml.P_,r.Dvt=function(){var t=r.ect();r.Wlt.Flt(t-iU,t+rU)},r.o_t={h_t:(e=sn(r),{Vh:function(){e.Zlt.addEventListener("ended",this.a_t),e.Jlt.addEventListener("ended",this.c_t)},qv:function(){e.Zlt.removeEventListener("ended",this.a_t),e.Jlt.removeEventListener("ended",this.c_t)},f_t:function(){},a_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Zlt})},c_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Jlt})}}),Jb:{ds:"Jb",Vh:function(){},qv:function(){},f_t:function(){}},v_t:function(){var t=sn(r),n=function n(){t.Zlt.removeEventListener("play",n),t.Zlt.removeEventListener("timeupdate",i),t.Zlt.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Zlt.Z_||(!t.seeking&&t.Zlt.Olt?(i=t.Zlt,(r=t.Jlt).Y1&&sU(i,r)>=0&&t.d_t(t.o_t.l_t)):t.Zlt.removeEventListener("timeupdate",n))};return{ds:"v_t",Vh:function(){t.o_t.h_t.Vh.call(this),this.__t(),this.f_t()},qv:function(){t.o_t.h_t.qv.call(this),t.Zlt.removeEventListener("play",n),t.Zlt.removeEventListener("timeupdate",i)},f_t:function(){t.Zlt.Olt?t.f_t(t.Jlt,t.g_t):t.f_t(t.Zlt,t.g_t)},a_t:function(){var n=t.Jlt.Olt;if(n&&n.metadata.R4)return t.Jlt.Nlt(t.Zlt.Clt)&&(t.Jlt.Clt=t.Zlt.Clt),t.w_t(),void t.Zlt.play();t.o_t.h_t.a_t.call(this)},c_t:function(){0},__t:function(){t.Zlt.removeEventListener("play",n),t.Zlt.Z_?t.Zlt.addEventListener("play",n):n.call(t.Zlt)}}}(),l_t:function(){var t=sn(r),n=function(){r.d_t(r.o_t.y_t)};return{ds:"l_t",Vh:function(){t.o_t.h_t.Vh.call(this),t.Jlt.addEventListener("seeked",n);var i=sU(t.Zlt,t.Jlt),r=t.ba[t.Us].qlt/1e3,e=_.min(i+r,t.Jlt.tI);try{t.Jlt.Dlt=e}catch(n){t.d_t(t.o_t.v_t),t.m_t(n.message)}},qv:function(){t.o_t.h_t.qv.call(this),t.Jlt.removeEventListener("seeked",n)},f_t:function(){},a_t:function(){t.o_t.h_t.a_t.call(this)},c_t:function(){}}}(),y_t:function(){var t,n=sn(r),i=function(){s()},e=function(){s()},s=function(){wT(t),r.Jlt.Clt-r.Zlt.Clt-1/60>0?t=gT(i):r.d_t(r.o_t.k_t)};return{ds:"y_t",Vh:function(){n.o_t.h_t.Vh.call(this),n.Zlt.addEventListener("timeupdate",e),s()},qv:function(){n.o_t.h_t.qv.call(this),wT(t),n.Zlt.removeEventListener("timeupdate",e)},f_t:function(){},a_t:function(){n.o_t.h_t.a_t.call(this)},c_t:function(){n.o_t.h_t.c_t.call(this)}}}(),k_t:function(){var t,n=sn(r),i=function(){var t=r.p_t(r.Jlt),n=r.ba[r.Us].zlt/_.max(1,r.Zlt.J_);return function(t,n,i,r){return new zM(t,n,i,r)}(t,t.A_t,n,function(){r.d_t(r.o_t.b_t),r.o_t.b_t.T_t()})},e=function(){r.jlt.$R(),r.d_t(r.o_t.b_t)};return{ds:"k_t",Vh:function(){n.o_t.h_t.Vh.call(this);var r=n.ba[n.Us].Glt/_.max(1,n.Zlt.J_);n.jlt=i(),t=h(e,r),n.Jlt.play()},qv:function(){n.o_t.h_t.qv.call(this),a(t),t=0},f_t:function(){},a_t:function(){n.o_t.h_t.a_t.call(this)},c_t:function(){n.o_t.h_t.c_t.call(this)}}}(),b_t:function(){var t=sn(r);return{ds:"b_t",Vh:function(){t.o_t.h_t.Vh.call(this)},qv:function(){t.o_t.h_t.qv.call(this),t.jlt&&t.jlt.clt()},f_t:function(){},a_t:function(){t.o_t.h_t.a_t.call(this)},c_t:function(){t.o_t.h_t.c_t.call(this)},T_t:function(){t.jlt=null,t.w_t()}}}()},r.E_t={S_t:function(){var t=sn(r);return{Vh:function(){},qv:function(){},f_t:function(){t.Klt.f_t()},Fct:function(n,i,r,e){t.n_t=n,t.i_t=e,t.d_t(t.o_t.Jb);var s=t.Zlt===t.Qlt?i:r,u=t.Jlt===t.Qlt?i:r;s&&t.Zlt.Nlt(n)?t.R_t(t.E_t.I_t):u&&t.Jlt.Nlt(n)?t.R_t(t.E_t.N_t):t.R_t(t.E_t.C_t)}}}(),C_t:function(){var t=sn(r),n=function(){r.g_t(),r.Jlt.Y1?(r.Jlt.Nlt(r.n_t)||(r.D_t('Could not seek to exact timestamp "'+r.n_t+'", seeking instead to: "'+r.Jlt.$R+'"'),r.n_t=r.Jlt.$R),r.R_t(r.E_t.N_t)):r.R_t(r.E_t.S_t)};return{Vh:function(){t.O_t(),t.Zlt.Olt=null,t.Jlt.Olt=null,t.Jlt.style.display="none",t.g_t(),this.f_t()},qv:function(){t.Jlt.y8(),t.Jlt.style.display=""},f_t:function(){t.Jlt.Olt||t.f_t(t.Jlt,n)},Fct:function(n,i,r,e){t.x_t(),t.t_t.Fct(n,i,r,e)}}}(),I_t:function(){var t=sn(r),n=function(){r.R_t(r.E_t.S_t),r.d_t(r.o_t.v_t),r.dH(),r.i_t&&(r.i_t.call(t),r.i_t=null)};return{Vh:function(){t.Zlt.addEventListener("seeked",n);try{t.Zlt.Clt=t.n_t,t.dH()}catch(n){t.m_t(n.message)}},qv:function(){t.Zlt.removeEventListener("seeked",n)},f_t:function(){},Fct:function(n,i,r,e){t.x_t(),t.t_t.Fct(n,i,r,e)}}}(),N_t:function(){var t=sn(r),n=function(){r.R_t(r.E_t.S_t),r.w_t(),r.i_t&&(r.i_t.call(t),r.i_t=null)};return{Vh:function(){t.Jlt.style.display="none",t.Jlt.addEventListener("seeked",n);try{t.Jlt.Clt=t.n_t,t.dH()}catch(n){t.m_t(n.message)}},qv:function(){t.Jlt.style.display="",t.Jlt.removeEventListener("seeked",n)},f_t:function(){},Fct:function(n,i,r,e){t.x_t(),t.t_t.Fct(n,i,r,e)}}}()},r.g_t=function(){var t=r.PQ;r.PQ=r.Qlt.xlt||r.Ylt.xlt,t&&!r.PQ&&r.dispatchEvent("updateend"),r.P_t(),r.dH(),r.B_t()},r.dH=function(){var t=r.a_;t!==r.u_t&&(r.u_t=t,r.dispatchEvent(Ml.Tl))},r.Hlt=n,r.Us=i,r.Wlt=new nU(i),r.GI="SJ"===i?0:1;var s=function(t){switch(t){case"EJ":return"audio";case"SJ":return"video"}}(i);return r.Vlt=uU(s),r.Xlt=uU(s),n.appendChild(r.Vlt),n.appendChild(r.Xlt),r.Qlt=new GM(r.Vlt,r.Us),r.Ylt=new GM(r.Xlt,r.Us),r.Zlt=r.Qlt,r.Jlt=r.Ylt,r.Klt=r.o_t.v_t,r.t_t=r.E_t.S_t,r.Klt.Vh(),r.t_t.Vh(),r.rK(),r.ql(),r}F(n,t);var i=n.prototype;return i.L_t=function(t){return t===this.Qlt?this.Ylt:this.Qlt},i.D_t=function(t){this.zdt=t,this.dispatchEvent({type:"warning",warning:this.zdt})},i.m_t=function(t){this.pS=t,this.dispatchEvent({type:"error",error:t})},i.p_t=function(t){var n,i=this,r=this.L_t(t);return n="SJ"===this.Us?{fh:function(){if(i.$lt!==t)return 0;var n=w(t.style.opacity);return y(n)?1:n},Ya:function(n){n=zt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.$lt=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},A_t:1,M_t:function(){if(n.fh()!==n.A_t)return n.Ya(n.A_t)}}:{fh:function(){return t.volume},Ya:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.A_t-i}catch(t){e=t}return e},A_t:this.GI,M_t:function(){if(n.fh()!==n.A_t)return n.Ya(n.A_t)}}},i.f_t=function(t,n){var i=this.Wlt.Ult(this.ect(),1,this.Zlt.Olt,this.Jlt.Olt);return!!i&&(this.O_t(),t.Olt=i,t.Vh(n),t.Q8&&this.dispatchEvent("durationchange"),!0)},i.U_t=function(){this.O_t(),this.Wlt.Ul(),this.Qlt.y8(),this.Ylt.y8(),this.g_t()},i.Ug=function(){return this.Zlt.Ug()},i.ect=function(){return this.seeking?this.n_t:this.Zlt.Clt},i.Fct=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.t_t.Fct(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.w_t=function(){var t=this.Zlt;this.d_t(this.o_t.Jb),this.Zlt=this.Jlt,this.Jlt=t,this.p_t(this.Zlt).M_t(),this.O_t(),this.Jlt.pause(),this.Jlt.Olt=null,this.g_t(),this.d_t(this.o_t.v_t)},i.rK=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.m_t(new ZC(YC.GY,{code:"VEE"+i.error})):t.m_t(new ZC(YC.GY,{code:"VEE"+n.ih.code}));n===t.Zlt&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Qlt),e=i.bind(null,this.Ylt),s=0;s<n.length;s++){var u=n[s];this.Qlt.addEventListener(u,r),this.Ylt.addEventListener(u,e)}this.Qlt.addEventListener("error",r),this.Ylt.addEventListener("error",e);for(var o=0;o<nR.length;o++){var h=nR[o];this.Qlt.addEventListener(h,this.dH),this.Ylt.addEventListener(h,this.dH)}},i.ql=function(){this.addEventListener("seeking",this.Dvt),this.addEventListener("timeupdate",this.Dvt)},i.d_t=function(t){var n;if(this.Klt!==t){do{(n=this.Klt).qv()}while(n!==this.Klt);this.Klt=t,t.Vh()}},i.R_t=function(t){var n;if(this.t_t!==t){do{(n=this.t_t).qv()}while(n!==this.t_t);this.t_t=t,t.Vh()}},i.x_t=function(){this.i_t=null,this.R_t(this.E_t.S_t)},i.load=function(){this.pause(),this.x_t(),this.Zlt.Olt=null,this.Jlt.Olt=null,this.d_t(this.o_t.v_t)},i.qv=function(){this.x_t(),this.d_t(this.o_t.Jb),this.U_t(),this.Qlt.unload(),this.Ylt.unload(),this.Hlt.removeChild(this.Vlt),this.Hlt.removeChild(this.Xlt),this.pS=null,this.zdt=null},i.EK=function(){var t=this,n=this.ect();this.U_t(),this.t_t.Fct(n,!1,!1,function(){t.dispatchEvent("EK",!0)})},i.play=function(){this.p_t(this.Zlt).M_t(),this.Zlt.Y1&&this.Zlt.play()},i.pause=function(){this.Qlt.pause(),this.Ylt.pause()},i.tlt=function(t){var n=this,i=function(){n.dispatchEvent("Xdt",!0)};this.pause(),this.Zlt.j_?this.t_t.Fct(t,this.Jlt===this.Qlt,this.Jlt===this.Ylt,i):this.Jlt.j_?this.t_t.Fct(t,!1,!1,i):this.Jlt.Nlt(t)?this.t_t.Fct(t,this.Jlt===this.Qlt,this.Jlt===this.Ylt,i):i()},i.Ltt=function(t){this.O_t(),this.Wlt.Ltt(t),this.g_t(),this.t_t.f_t()},i.nlt=function(t){return this.Vlt.canPlayType('video/mp4; codecs="'+t+'"')},i.ilt=function(){return _.max(this.Vlt.offsetWidth,this.Xlt.offsetWidth)},i.rlt=function(){return _.max(this.Vlt.offsetHeight,this.Xlt.offsetHeight)},i.P_t=function(){!this.r_t&&this.loaded&&(this.r_t=!0,this.dispatchEvent("loaded"))},i.B_t=function(){if("SJ"===this.Us){var t=this.ng,n=this.tg;t>0&&n>0&&(this.e_t!==t||this.s_t!==n)&&(this.e_t=t,this.s_t=n,this.dispatchEvent("resize"))}},i.O_t=function(){var t=this.PQ;this.PQ=!0,t||this.dispatchEvent("updatestart")},M(n,[{key:"Gg",get:function(){var t=[];return y(this.Qlt.$R)||t.push({$R:this.Qlt.$R,tI:this.Qlt.tI}),y(this.Ylt.$R)||t.push({$R:this.Ylt.$R,tI:this.Ylt.tI}),HO(PO(new DO(t)),this.Wlt.Gg)}},{key:"duration",get:function(){return this.Zlt.Q8?this.Zlt.tI:this.Jlt.Q8?this.Jlt.tI:NaN}},{key:"paused",get:function(){return this.Zlt.Z_}},{key:"ended",get:function(){return this.Zlt.j_}},{key:"muted",get:function(){return this.Zlt.muted&&this.Jlt.muted},set:function(t){this.Zlt.muted=t,this.Jlt.muted=t}},{key:"volume",get:function(){return this.GI},set:function(t){this.GI=t,this.jlt&&this.jlt.clt(),this.Jlt.volume=0,this.Zlt.volume=this.GI}},{key:"error",get:function(){return this.pS}},{key:"warning",get:function(){return this.zdt}},{key:"seeking",get:function(){return this.t_t!==this.E_t.S_t}},{key:"loaded",get:function(){return this.Zlt.Y1}},{key:"J_",get:function(){return this.Zlt.J_},set:function(t){t>=0&&(this.Zlt.J_=t,this.Jlt.J_=t)}},{key:"ng",get:function(){return this.Zlt.ng}},{key:"tg",get:function(){return this.Zlt.tg}},{key:"NO",get:function(){return this.PQ}},{key:"a_",get:function(){var t;if(this.t_t===this.E_t.C_t||this.t_t===this.E_t.N_t)t=ml.B_;else{var n=this.Zlt.a_;if(n<=ml.L_)t=n;else{var i=sA.OI(this.Gg).uI(),r=this.duration,e=this.ect();y(r)||(e=_.min(e,r));var s=i.CI(e);if(s){var u=s.tI(0);t=u-e>=3*this.J_||!y(r)&&u>=r?ml.U_:ml.M_}else t=ml.L_}}return t===ml.P_&&this.r_t?ml.B_:t}}]),n}(jC);function sU(t,n){return t.Clt-n.$R}function uU(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Cr(n),n.controls=!1,n}var oU,hU=function(){function t(t){var n=this;this.xR=void 0,this.rw=void 0,this.F_t=void 0,this.H_t=void 0,this.V_t=void 0,this.X_t=function(){(y(n.H_t)||n.V_t)&&(n.H_t=n.Jx()),n.F_t=n.H_t,n.V_t=!1},this.W_t=function(){var t=n.Jx();n.q_t(t),n.H_t=t},this.z_t=function(){n.xR.a_<=ml.L_&&n.W_t()},this.G_t=function(){n.q_t(n.H_t),n.V_t=!0},this.j_t=function(){n.H_t=n.Jx()},this.xR=t,this.rw=sA.LI(),this.F_t=NaN,this.H_t=NaN,this.V_t=!1,t.addEventListener("playing",this.X_t),t.addEventListener("pause",this.W_t),t.addEventListener("seeking",this.G_t),t.addEventListener("timeupdate",this.j_t),t.addEventListener(Ml.Tl,this.z_t)}var n=t.prototype;return n.kF=function(){var t=this.rw,n=this.F_t;if(!y(n)){var i=this.Jx();n<i&&(t=t.wI(new sA([n,i])))}return t.vR()},n.Jx=function(){return this.xR.ect()},n.q_t=function(t){var n=this.F_t;n<t&&(this.rw=this.rw.wI(new sA([n,t]))),this.F_t=NaN},n.Oct=function(){var t=this.Jx();this.q_t(t),this.V_t=!0},n.Ul=function(){this.rw=sA.LI(),this.F_t=NaN,this.H_t=NaN,this.V_t=!1},n.Ro=function(){var t=this.xR;t.removeEventListener("playing",this.X_t),t.removeEventListener("pause",this.W_t),t.removeEventListener("seeking",this.G_t),t.removeEventListener("timeupdate",this.j_t),t.removeEventListener(Ml.Tl,this.z_t),this.xR=null},t}(),aU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Q_t=void 0,r.mS=void 0,r.Wi=!1,r.aH=NaN,r.Y_t=void 0,r.Qc=void 0,r.Hlt=void 0,r.Z_t=void 0,r.pS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.u_t=ml.P_,r.J_t=function(){r.Z_t.seeking||(r.Z_t.removeEventListener("seeked",r.J_t),r.dispatchEvent("seeked"),r.$_t.paused?r.Qc=r.K_t:r.tgt(),r.dH())},r.ngt=function(){r.Z_t.paused||(r.Z_t.removeEventListener("playing",r.ngt),r.dispatchEvent("playing"))},r.igt=function(t){r.Qc=r.rgt,r.pS=t,r.dispatchEvent({type:"error",error:r.pS})},r.egt={paused:!0,play:function(){r.removeEventListener("vvt",r.egt.sgt),r.Wi?(r.Qc=r.ugt,r.Z_t.removeEventListener("playing",r.ngt),r.Z_t.addEventListener("playing",r.ngt),r.Z_t.play(),r.dispatchEvent("play")):r.addEventListener("vvt",r.egt.sgt)},sgt:function(){r.removeEventListener("vvt",r.egt.sgt),r.Qc.play()},stall:function(){},pause:function(){r.egt.sgt&&r.removeEventListener("vvt",r.egt.sgt),r.Z_t.pause(),r.dispatchEvent("pause"),r.Qc=r.K_t},load:function(t){},ect:function(){return r.Wi?r.Z_t.ect():0},Fct:function(t,n){var i=MO(r.Gg,t);n=n||!i,r.Z_t.removeEventListener("seeked",r.J_t),r.Z_t.addEventListener("seeked",r.J_t),r.$_t.seekTime=t,r.Qc=r.$_t,r.dispatchEvent("Oct"),r.Z_t.Fct(t,n),r.dispatchEvent("seeking")},lP:function(){return r.Z_t.a_},EK:function(t){r.$_t.seekTime=r.ect(),r.Qc=r.ogt,r.Z_t.removeEventListener("EK",r.ogt.hgt),r.Z_t.addEventListener("EK",r.ogt.hgt),r.Z_t.EK(t),r.dH()},forwardEvent:function(t){"pause"===t.type&&r.Z_t.ended||r.dispatchEvent(t)}},r.K_t=ne({},r.egt,{pause:function(){r.removeEventListener("vvt",r.egt.sgt)},Fct:function(t){r.$_t.paused=!0,r.egt.Fct(t)},EK:function(t){r.$_t.paused=!0,r.egt.EK(t)}}),r.agt=ne({},r.K_t),r.cgt=ne({},r.K_t,{load:function(t,n){r.removeEventListener("vvt",r.cgt.fgt),n||r.dispatchEvent("loadstart"),r.Wi?r.Z_t.load(t):(r.cgt.vgt=t,r.addEventListener("vvt",r.cgt.fgt))},fgt:function(){r.removeEventListener("vvt",r.cgt.fgt),r.Qc.load(r.cgt.vgt,!0)},vgt:null,ect:function(){return r.Wi?r.Z_t.ect():r.cgt.dgt},Fct:function(t){r.removeEventListener("vvt",r.cgt.lgt),r.Wi?(r.Qc=r.K_t,r.Qc.Fct(t)):(r.cgt.dgt=t,r.addEventListener("vvt",r.cgt.lgt),r.dispatchEvent("seeking"))},lgt:function(){r.removeEventListener("vvt",r.cgt.lgt),r.Qc.Fct(r.cgt.dgt)},dgt:0,EK:function(t){}}),r.ugt=ne({},r.egt,{Fct:function(t){r.$_t.paused=!1,r.egt.Fct(t)},play:function(){},stall:function(){r.Qc=r._gt,r._gt.ggt=r.Z_t.ect(),r._gt.paused=!1,r.Z_t.addEventListener("Xdt",r._gt.wgt),r.Z_t.tlt(r._gt.ggt),r.dH()},EK:function(t){r.$_t.paused=!1,r.egt.EK(t)}}),r._gt=ne({},r.ugt,{paused:!1,ggt:0,Fct:function(t){r.Z_t.removeEventListener("Xdt",r._gt.wgt),r._gt.paused?r.Qc=r.K_t:r.Qc=r.ugt,r.Qc.Fct(t),r.dH()},ect:function(){return r._gt.ggt},lP:function(){return _.min(r.Z_t.a_,ml.L_)},forwardEvent:function(){},play:function(){r._gt.paused=!1,r.dispatchEvent("play")},pause:function(){r._gt.paused=!0,r.dispatchEvent("pause")},stall:function(){},wgt:function(){r.Z_t.seeking||(r.Z_t.removeEventListener("Xdt",r._gt.wgt),r._gt.paused?r.Qc=r.K_t:r.egt.play(),r.dH())}}),r.$_t=ne({},r.egt,{paused:!1,seekTime:0,ect:function(){return r.$_t.seekTime},play:function(){r.$_t.paused=!1},pause:function(){r.$_t.paused=!0,r.Z_t.pause(),r.dispatchEvent("pause")}}),r.ogt=ne({},r.$_t,{Fct:function(t){r.Z_t.removeEventListener("EK",r.ogt.hgt),r.$_t.paused?r.Qc=r.K_t:r.Qc=r.ugt,r.Qc.Fct(t)},lP:function(){return _.min(r.Z_t.a_,ml.L_)},forwardEvent:function(){},stall:function(){},hgt:function(){r.Z_t.seeking||(r.Z_t.removeEventListener("EK",r.ogt.hgt),r.$_t.paused?r.Qc=r.K_t:r.egt.play(),r.dH())}}),r.rgt=ne({},r.egt,{play:function(){},pause:function(){},load:function(){},ect:function(){return NaN},lP:function(){return ml.P_},Fct:function(t){r.egt.Fct(t,!0)},EK:function(t){}}),r.Ho=function(t){r.dispatchEvent(t)},r.ygt=function(t){r.Qc.forwardEvent(t)},r.mgt=function(t){r.igt(t.error)},r.kgt=function(t){if(t.origin&&t.origin.Q8)return r.Rg();r.Qc.stall()},r.Edt=function(){var t=r.Z_t.duration;t&&r.aH!==t&&(r.aH=t,r.dispatchEvent("durationchange"))},r.pgt=function(){r.Z_t.loaded&&(r.loaded=!0)},r.dH=function(){var t=r.a_;t!==r.u_t&&(r.u_t=t,r.dispatchEvent(Ml.Tl))},r.Q_t=n,r.mS=i,r.Y_t=new hU(sn(r)),r.Z_t=new qM,r.Qc=r.cgt,r.Hlt=s.createElement("div"),r.Hlt.style.position="absolute",r.Hlt.style.width="100%",r.Hlt.style.height="100%",r.Agt(),r}F(n,t);var i=n.prototype;return i.tgt=function(){this.egt.play()},i.Agt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Z_t.addEventListener(r,this.Ho)}for(var e=0;e<n.length;e++){var s=n[e];this.Z_t.addEventListener(s,this.ygt)}this.Z_t.addEventListener("ended",this.kgt),this.Z_t.addEventListener("error",this.mgt),this.Z_t.addEventListener("durationchange",this.Edt),this.Z_t.addEventListener("loaded",this.pgt),this.Z_t.addEventListener(Ml.Tl,this.dH)},i.setup=function(){this.mS.GS.parentNode===this.Q_t?this.Q_t.replaceChild(this.Hlt,this.mS.GS):(this.mS.GS.parentNode&&this.mS.GS.parentNode.removeChild(this.mS.GS),this.Q_t.appendChild(this.Hlt))},i.play=function(){this.Qc.play()},i.pause=function(){this.Qc.pause()},i.bgt=function(t){this.Z_t&&this.Z_t.qv(t),this.Wi=!1},i.Rg=function(){this.pause(),this.Qc=this.agt,this.pS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Qc.load(t)},i.unload=function(){return this.Z_t.qv(),this.Y_t.Ro(),this.Hlt.parentNode===this.Q_t?this.Q_t.replaceChild(this.mS.GS,this.Hlt):(this.Hlt.parentNode&&this.Hlt.parentNode.removeChild(this.Hlt),this.Q_t.appendChild(this.mS.GS)),this.zo(),this.mS.GS},i.reset=function(t){this.Wi=!1,this.Qc=this.cgt,this.pS=void 0,this.aH=NaN,this.u_t=ml.P_,this.Y_t.Ul(),this.bgt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.EK=function(t){this.Qc.EK(t)},i.Ltt=function(t){return this.Z_t.Ltt(t),E.resolve()},i.Ug=function(){return this.Z_t.Ug()},i.ect=function(){return this.Qc.ect()},i.Fct=function(t){this.Y_t.Oct(),this.Qc.Fct(t)},i.Hut=function(t,n){return E.resolve()},i.canPlayCodecs=function(t){return this.Z_t.nlt('video/mp4; codecs="'+t+'"')},i.Tct=function(t,n,i){var r={};for(var e in t)if(Z.call(t,e)){var s=t[e];!this.Z_t.videoStream&&s.SJ&&(this.Z_t.videoStream=new eU(this.Hlt,"SJ"),r.SJ=this.Z_t.videoStream),!this.Z_t.audioStream&&s.EJ&&(this.Z_t.audioStream=new eU(this.Hlt,"EJ"),r.EJ=this.Z_t.audioStream,this.dispatchEvent("ivt"))}return this.Wi=!0,this.dispatchEvent("vvt"),E.resolve(r)},M(n,[{key:"bct",get:function(){return this.Wi}},{key:"Qg",get:function(){return this.Hlt}},{key:"Gg",get:function(){return this.Z_t.Gg}},{key:"volume",get:function(){return this.Z_t.volume},set:function(t){this.Z_t.volume=t}},{key:"duration",get:function(){return this.aH}},{key:"muted",get:function(){return this.Z_t.muted},set:function(t){this.Z_t.muted=t}},{key:"paused",get:function(){return this.Qc.paused&&this.Z_t.paused}},{key:"played",get:function(){return this.Y_t.kF()}},{key:"ended",get:function(){return this.Qc===this.agt}},{key:"seeking",get:function(){return this.Qc===this.$_t}},{key:"error",get:function(){return this.pS||this.Z_t.error}},{key:"warning",get:function(){return this.Z_t.warning}},{key:"width",get:function(){return this.Z_t.ilt()}},{key:"height",get:function(){return this.Z_t.rlt()}},{key:"J_",get:function(){return this.Z_t.J_},set:function(t){this.Z_t.J_=t}},{key:"a_",get:function(){return this.Qc.lP()}},{key:"ng",get:function(){return this.Z_t.ng}},{key:"tg",get:function(){return this.Z_t.tg}}]),n}(jC);!function(t){t.nZ="unsupported",t.Tgt="native",t.Egt="hls-native",t.Sgt="hls-mse",t.Rgt="hls-switching-video"}(oU||(oU={}));var cU=function(){function t(){this.Igt={},this.Ngt(oU.Tgt,mM),this.Ngt(oU.Egt,mM),this.Ngt(oU.Sgt,LM),this.Ngt(oU.Rgt,aU)}return t.prototype.Ngt=function(t,n){this.Igt[t]=n},t.Ngt=function(n,i){t.L1.Ngt(n,i)},t.Cgt=function(n,i,r){var e=t.L1.Igt[n];return e?new e(i,r):void 0},t}();cU.L1=new cU;var fU=function(t){function n(n){var i;return(i=t.call(this)||this).Dgt=void 0,i.Ogt=function(t){i.Vo(t)},i.Dgt=n,i.xgt(),i}F(n,t);var i=n.prototype;return i.xgt=function(){this.Dgt.Xo("GD",this.Ogt)},i.Pgt=function(){this.Dgt.Go("GD",this.Ogt)},i.qv=function(){this.Pgt()},M(n,[{key:"$D",get:function(){return this.Dgt.$D}},{key:"KD",get:function(){return this.Dgt.KD}},{key:"Bgt",set:function(t){var n=this.Dgt;n.$D===t.$D&&n.KD===t.KD||(this.Pgt(),this.Dgt=t,this.xgt(),this.Vo(new hT(t.KD,t.$D)))}}]),n}(Ts);function vU(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function dU(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function lU(t,n){var i=t.type;return i?Vy?dU(i)?!Qy||n.useSwitchOverMSE||Y.Ue&&n.vr&&n.vr[360]?!qy||Y.Oe||Y.Le&&Y.ve?zy?oU.Rgt:oU.nZ:oU.Egt:oU.Sgt:oU.Tgt:oU.nZ:oU.Tgt}var _U=function(t,n,i,r,e){var s,u,o,c,f,d,g=this,m=null,k=null,p=null,A=!0,b=null,T=null,S=!1,R=null,I=null,N=null,C=hA,D=hA,O=!0,x=null,P={T3:0,slt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=ml.P_,Q=!1,Z=!1,J=NaN,$=null,K=null,nt=Y.pe&&Wy,it=!1,rt="",et=oU.nZ,st=null,ut=function(){var i=E.coroutine(te.mark(function i(){return te.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.bo=!0,g.zo(),B&&Pt(null),d&&(d.qv(),d=null),f&&(f.Ul(),f=null),en(),k&&(k.unload(),k=null),!I.GS){i.next=11;break}return i.next=10,n.aR(I);case 10:I=null;case 11:if(!N.GS){i.next=15;break}return i.next=14,n.aR(N);case 14:N=null;case 15:s.qv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new ZC(YC.nZ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.zS(R_.Pv)).GS:(r=n.zS(R_.Bv)).GS).preload="none",Cr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&S?"":"none"},ft=function(t){yt(t.PK),wt(t.BK),u&&(u.PK=o),pt()},vt=function(t,n){kt(t.PK,n),mt(t.BK),u&&(u.PK=o)},dt=function(){Xt(),Nt(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("ivt",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===oU.Tgt&&(G=!0,g.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Ml.Tl,nn),k.setup(),d.Pct=k,n(["timeupdate","playing","ratechange","resize"],t),et){case oU.Tgt:case oU.Egt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case oU.Sgt:n(["play","pause"],St)}k.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},_t=function(t){m&&m.Aft(),k&&(m=new tM(t,nt,f,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=lM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.qft=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){o&&(o.qv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener("durationchange",function(){J=o.G_,g.dispatchEvent("durationchange")}),o.addEventListener("ih",function(t){Zt(t.ih)}),o.addEventListener("Zv",At),o.addEventListener("iw",At),o.l0.addEventListener("renditionUpdated",function(){Gt()}),d.l0=o.l0)},mt=function(t){var n;c&&(c.qv(),c=null),k&&(c=t)&&(n=c.ict,c.addEventListener("bK",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.jJ,g.dispatchEvent(t),Ky&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("ih",function(t){Zt(t.error)}),c.addEventListener("Pat",function(t){g.dispatchEvent(t)}),c.Pct=k,y(n)||Ht(n))},kt=function(t,n){o&&(o.qv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener(Yo.Tc,function(t){g.dispatchEvent(t)}),o.addEventListener(Yo.Sc,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.G_,g.dispatchEvent("durationchange")}),o.addEventListener("ih",function(t){Zt(t.ih)}),o.addEventListener("Zv",At),o.addEventListener("iw",At),o.addEventListener("b0",function(){g.dispatchEvent("progress")}),o.l0.addEventListener("renditionUpdated",function(){Gt()}),o.l0.addEventListener("renditionUpdated",function(t){var i,r=t.jJ.C$&&t.jJ.C$.EJ;r&&-1!==r.indexOf("mp4a.40.3")&&("N8"!==n.C8||jy||(i=B,GC(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),d.l0=o.l0)},pt=function(){k.addEventListener("play",function(){g.play({fromNative:!0})}),k.addEventListener("pause",function(){g.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){g.volume=k.volume,g.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!o||o.iw;z=n,n&&!t?g.dispatchEvent(Yo.lc):!n&&t&&g.dispatchEvent(Yo.dc)},bt=function(){V=!1,X=!1,Q=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",Et),V&&(bt(),g.ended?Ht(0):jt(),k.play(),c&&c.Eg())},Et=function t(){g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?g.play({fromNative:!0}):!n&&X&&g.pause({fromNative:!0})},Rt=function(){Q=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.slt="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.KI()),P.Lgt=!1,!g.initialized||!k){if(t.onlyWhenInitialized){var i=new ZC(YC.$Y,{code:"MGB6720"});throw Zt(i),i}return g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),g.addEventListener("initialized",t.fromNative?Et:Tt),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(V){if(W&&g.ended)return Nt(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.Sg()),g.dispatchEvent("pause",!0))},Ct=function(t){return{type:vU(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ot=function(t){if(vM(t))return t.type?t:Ct(t.src);if(Dt(t))return Ct(t);if(tt(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(vU(i))return Ct(i)}return Ct(t[0])}if(tt(t)&&vM(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(dU(e.type)||!e.type&&vU(e.src))return e.type?e:Ct(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,s=lU(n,i);!function(t,n){switch(t){case oU.Tgt:case oU.Egt:n.C8=!1,n.Mgt=!1;break;case oU.Sgt:n.C8="N8",n.Mgt=!0;break;case oU.Rgt:n.C8="A9",n.Mgt=Y.ae}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case oU.Tgt:h=s=o=null;break;case oU.Egt:h=null;var c=new zL(a,r);s=c,o=new JL(c);break;case oU.Sgt:case oU.Rgt:h=new rM(a,r);var f=new qL(a,h,r,e);s=f,o=new YL(f);break;default:return null}return new jD(n,t,i,h,s,o,u)}(s,n,t);return o?(o.BK&&(o.BK.J_=g.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.GS,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.Ugt;K&&(K.qv(),K=null),en();var f=n&&n.N0||null;n&&n.R0||null,L=n&&n.OR||null,M=f&&f.configuration||null,et=n&&n.I0||oU.nZ,Jt();var v={type:"Fgt",Hgt:n,Jh:M,Vgt:i};if(g.dispatchEvent(v),et!==oU.nZ){if(k){g.pause();var d=h===et||h===oU.Egt&&et===oU.Tgt||h===oU.Tgt&&et===oU.Egt,l=i&&!Y.pe;if(d&&!l)k.reset(),m.Ul();else{if(l?(p=k,e=(r=at(r)).GS):e=k.unload(),!(u=cU.Cgt(et,t,r)))return void ot();k=u,lt(),_t(e)}Xt(),G=!1,j=ml.P_,Q=!1,Z=!1,J=NaN,x=null,g.dispatchEvent("durationchange"),P.slt=0,P.T3=0,P.Lgt=!0,g.dispatchEvent("timeupdate")}else{if(!(u=cU.Cgt(et,t,r)))return void ot();k=u,r.GS.removeAttribute("poster"),lt(),_t(r.GS)}switch(R=r,s.Bgt=R.zB,b=k.Qg,p?(T=p.Qg,S=!0):(T=at(r).GS,S=!1),ct(),M.crossOrigin){case _l.I_:case _l.N_:R.GS.setAttribute("crossorigin",M.crossOrigin);break;default:R.GS.removeAttribute("crossorigin")}if(c!==g.Ugt&&g.dispatchEvent(Yo.hc),Lt(),Mt(),!L)return B=null,void(g.initialized=!1);!function(t,n){switch(et){case oU.Tgt:case oU.Egt:ft(t);break;case oU.Sgt:case oU.Rgt:vt(t,n);break;default:return}t.xR=g,t.V0(H)}(K=n,M),k.src=L,m.yft(f&&f.textTracks),g.playbackRate=a,B=L;var _={type:"Xgt",Hgt:n,Jh:M,Vgt:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Y.pe&&o&&Yt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=g.uvt)!==t&&g.dispatchEvent("Wgt")},Mt=function(){d&&(d.lV=nt&&it)},Ut=function(){return k&&k.bct?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.Lgt)return P.slt;if(c){var t=c.ict;return"start"===t?0:t}return k.ect()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Kt(t),k){if(_.abs(P.slt-t)<.001&&Qb()-P.T3<50)return;Vt(),c?c.ict=t:k.Fct(t),k.seeking||Xt(),P={slt:t,T3:Qb()}}},Vt=function(){W=!0,qt(),st=h(Wt,100)},Xt=function(){W&&(W=!1,st&&Wt(),g.dispatchEvent("seeked"))},Wt=function(){qt(),g.dispatchEvent("seeking")},qt=function(){st&&(a(st),st=null)},Gt=function(){Z||(Z=!y(J)&&$t().length>0&&(Q||!g.live))&&g.dispatchEvent("Nlt")},jt=function t(){g.removeEventListener("Nlt",t),null!==x&&(Z?Ht(x):g.addEventListener("Nlt",t))},Qt=function(){return k&&k.bct?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===YC.KY)return n=!X,Pt(K.OR),void(n&&It());var n;Yt()||Nt(),q=t,g.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return NO(c?c.sw:J>0?new DO([{$R:0,tI:J}]):OO)},Kt=function(t){var n=$t();return n.length?zt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.a_:ml.P_;return G&&(t=_.max(ml.B_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,g.dispatchEvent(Ml.Tl))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,T=t||at(R).GS,ct()}};g.initialized=!1,g.warning=null,g.play=It,g.pause=Nt,g.load=function(){if(!g.initialized||!k){var t=new ZC(YC.$Y,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},g.qgt=xt,g.zgt=Bt,g.Ro=ut,g.Ng=rn,g.Lg=function(){A=!0,ct()},g.Mg=function(){A=!1,ct()},g.Ug=function(){return k&&k.Ug()},g.ag=function(){return ne({},{Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?yE(k.Pct):{Zg:0,Jg:0,$g:0},{Kg:8*dl.T_()})},l.defineProperty(g,"buffered",{get:function(){return NO(k?k.Gg:OO)}}),l.defineProperty(g,"played",{get:function(){return k?NO(k.played):OO}}),l.defineProperty(g,"seekable",{get:$t}),l.defineProperty(g,"live",{get:function(){return!(!o||!dD.eg(o.l0.u$))}}),l.defineProperty(g,"volume",{get:Ut,set:function(t){(t=w(t))!==Ut()&&(k&&(k.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ft,set:Ht}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.jg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&c&&(n=c.Qnt(t),y(n)||null===n||Ht(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Yt,set:function(t){t?Nt():It()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=Kp((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return k&&k.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return W}}),l.defineProperty(g,"error",{get:function(){return q||k&&k.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"Ugt",{get:function(){return M&&M.vr&&M.vr[360]?hA:R===I?C:D}}),l.defineProperty(g,"videoWidth",{get:function(){return k?k.ng:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return k?k.tg:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.x$}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&k&&k.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.Mct(Ft()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ht(c.Uct(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.J_||k&&k.J_||1},set:function(t){(t=w(t))>0&&(c?c.J_=t:k&&(k.J_=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.Ag.al||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.pg.al||null}}),l.defineProperty(g,"bg",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return z}}),l.defineProperty(g,"evt",{get:function(){return k&&k.evt}}),l.defineProperty(g,"svt",{get:function(){return k&&k.svt}}),l.defineProperty(g,"uvt",{get:function(){return k&&k.uvt||"inline"},set:function(t){k&&(k.uvt=t)}}),l.defineProperty(g,"Ggt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),l.defineProperty(g,"a_",{get:tn}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(Yo.lc,function(){g.live&&Ht("start")}),g.addEventListener("playing",en),f=new hy,d=new iM(g,f),g.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new QD),n=function(t){if("string"==typeof t)try{return QC.$e.VQ(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.rht=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),g.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.GS,T=N.GS,s=new fU(R.zB),C=I.sR,D=N.sR,ct(),Pt(null)}()};_U.prototype=new jC,_U.prototype.constructor=_U;var gU,wU=((gU={useSwitchOverMSE:!1,ManifestParser:"jgt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),gU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Yy&&gU.abrRules.push("AvoidHighBitrateStreamsRule"),Y.Te&&gU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),gU);var yU=function(t){function n(n,i,r){var e;return(e=t.call(this,Td.Nl)||this).Qgt=n,e.Ygt=i,e.Zgt=r,e}return F(n,t),n.prototype.cl=function(){return new mU(this.Qgt&&this.Qgt.al)},n}(Ad),mU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return F(n,t),n}(Ss),kU=function(t){function n(n,i){var r;return(r=t.call(this,Td.Dl)||this).n_=void 0,r.fl=void 0,r.n_=n||[],r.fl=i,r}return F(n,t),n.prototype.cl=function(){return new pU(this.n_.map(function(t){return t.al}))},n}(Ad),pU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return F(n,t),n}(Ss),AU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return F(n,t),n}(Ss);function bU(t){return{get bandwidth(){return t.rS},get codecs(){return t.C$},get id(){return t.Zl},get uid(){return t.Jl},get name(){return t.Kl},get averageBandwidth(){return t.rS},get label(){return t.Kl},set label(n){t.Kl=zd(n)},get height(){return t.Mp},get width(){return t.yu},get frameRate(){return t.e0},get firstFrame(){return t.Jgt},get available(){return t.pY},addEventListener:function(n,i){t.Xo(n,i)},removeEventListener:function(n,i){t.Go(n,i)}}}function TU(t){return{get bandwidth(){return t.rS},get codecs(){return t.C$},get id(){return t.Zl},get uid(){return t.Jl},get name(){return t.Kl},get averageBandwidth(){return t.rS},get label(){return t.Kl},set label(n){if(!rt(n))throw new v("Unexpected - The provided label is not a string");t.Kl=n},get audioSamplingRate(){return t.$gt},get available(){return t.pY},addEventListener:function(n,i){t.Xo(n,i)},removeEventListener:function(n,i){t.Go(n,i)}}}var EU=function(t){function n(n,i){var r;(r=t.call(this)||this).Kgt=void 0,r.twt=void 0,r.dw=void 0,r.ow=void 0,r.hl=void 0,r.nwt=void 0,r.u0=void 0,r.iwt=function(){return r.rwt()},r.ewt=function(){return r.swt()},r.uwt=function(){return r.Vo(new C_(sn(r)))},r.dw=x_(),r.Kgt=n,r.twt=i,r.ow=new N_;for(var e=r.Kgt.qualities,s=0;s<e.length;s++){var u=e.item(s),o=r.owt(u);o.Xo("update",r.uwt),r.ow.hw(o)}return r.Kgt.qualities.addEventListener("activequalitychanged",r.iwt),r.Kgt.qualities.addEventListener("targetqualitychanged",r.ewt),r.rwt(),r.swt(),r}F(n,t);var i=n.prototype;return i.hwt=function(t){t!==this.nwt&&(this.nwt=t,t&&this.Vo(new yU(t)))},i.awt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Je(n,t[i]))return!1;return!0}(t,n)},i.cwt=function(t){for(var n=0,i=this.ow.Fl;n<i.length;n++){var r=i[n];if(r.fwt===t)return r}},i.vwt=function(t){for(var n=[],i=0,r=this.ow.Fl;i<r.length;i++){var e=r[i];Je(t,e.fwt)&&n.push(e)}return n},i.rwt=function(){var t=this.Yl?this.Kgt.qualities.activeQuality:void 0,n=t&&this.cwt(t)||void 0;this.hwt(n)},i.swt=function(){var t=this.Kgt.qualities.targetQuality;t?K(t)?this.i_=this.vwt(t)||void 0:this.i_=this.vwt([t])||void 0:this.i_=void 0},i.gw=function(t){this.Yl=t},i.qv=function(){this.Kgt.qualities.removeEventListener("activequalitychanged",this.iwt),this.Kgt.qualities.removeEventListener("targetqualitychanged",this.ewt);for(var t=0,n=this.ow.Fl;t<n.length;t++){var i=n[t];i.Go("update",this.uwt),i.qv()}},M(n,[{key:"Ql",get:function(){return this.nwt}},{key:"Yl",get:function(){return this.Kgt.enabled},set:function(t){t?this.twt.enable(this.Kgt):this.twt.disable(this.Kgt)}},{key:"al",get:function(){return this.hl||(this.hl=Zd(this)),this.hl}},{key:"Zl",get:function(){return this.Kgt.id+""}},{key:"Jl",get:function(){return this.dw}},{key:"$l",get:function(){return this.Kgt.kind}},{key:"Kl",get:function(){var t;return null!=(t=this.Kgt.name)?t:""},set:function(t){t!==this.Kl&&(this.Kgt.name=t,this.Vo(new C_(this)))}},{key:"t_",get:function(){return this.Kgt.language}},{key:"h_",get:function(){return this.Yl?"enabled":"disabled"}},{key:"n_",get:function(){return this.ow}},{key:"i_",get:function(){return this.u0},set:function(t){var n=this,i=this.u0,r=t?t.filter(function(t){return T.Xu.su(n.Ql,t)}):void 0;r&&0===r.length||this.awt(r,i)||(this.u0=r,this.Kgt.qualities.targetQuality=r?r.map(function(t){return t.fwt}):null,this.Vo(new kU(r,this)))}}]),n}(Ts),SU=function(t){function n(n){var i,r,e;return(e=t.call(this)||this).fwt=void 0,e.hl=void 0,e.pN=function(){return e.Wh()},e.Zl=void 0,e.Jl=void 0,e.rS=void 0,e.C$=void 0,e.YZ=void 0,e.fwt=n,e.fwt.addEventListener("qualityupdated",e.pN),e.Zl=String(n.id),e.Jl=null!=(i=n.uid)?i:B_++,e.rS=null!=(r=n.bandwidth)?r:NaN,e.C$=n.codecs,e.YZ=n.uri,e}F(n,t);var i=n.prototype;return i.Wh=function(){this.dwt()&&this.Vo(new AU(this.al))},i.dwt=function(){var t,n,i=this.fwt,r=null!=(t=i.uid)?t:this.Jl,e=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.Jl!==r||!Yt(this.rS,e)||this.C$!==s||this.YZ!==u;return this.Jl=r,this.rS=e,this.C$=s,this.YZ=u,o},i.qv=function(){this.fwt.removeEventListener("qualityupdated",this.pN)},i.Bb=function(){},M(n,[{key:"Kl",get:function(){return this.fwt.name||""},set:function(t){this.Kl!==t&&(this.fwt.name=t,this.Vo(new AU(this.al)))}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}},{key:"pY",get:function(){return!0}}]),n}(Ts),RU=function(t){function n(n){var i;return(i=t.call(this,n)||this).$gt=void 0,i.$gt=NaN,i}return F(n,t),n.prototype.cl=function(){return TU(this)},n}(SU),IU=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).e0=void 0,r.yu=void 0,r.Mp=void 0,r.lwt=void 0,r.e0=n.frameRate,r.yu=n.resolution?n.resolution.width:NaN,r.Mp=n.resolution?n.resolution.height:NaN,r.lwt=i,r}F(n,t);var i=n.prototype;return i.dwt=function(){var n=t.prototype.dwt.call(this),i=this.fwt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Yt(this.e0,r)||!Yt(this.yu,e)||!Yt(this.Mp,s),this.e0=r,this.yu=e,this.Mp=s,n},i.cl=function(){return bU(this)},M(n,[{key:"Jgt",get:function(){return this.lwt},set:function(t){this.lwt!==t&&(this.lwt=t,this.Vo(new AU(this.al)))}}]),n}(SU),NU=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.owt=function(t){return new RU(t)},n}(EU),CU=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._wt=void 0,n}F(n,t);var i=n.prototype;return i.owt=function(t){return new IU(t,this._wt)},i.gwt=function(t){this._wt=t;for(var n=0,i=this.n_.Fl;n<i.length;n++){var r=i[n];void 0!==r.Jgt&&(r.Jgt=t)}},n}(EU),DU=function(t){function n(){return t.call(this,Yo.lc)||this}return F(n,t),n}(Ss),OU=function(t){function n(){return t.call(this,Yo.dc)||this}return F(n,t),n}(Ss),xU=function(){function t(t,n){this.wg=void 0,this.QX=void 0,this.wg=new hy,this.QX=new AI(t,n)}var n=t.prototype;return n.jb=function(t,n,i,r,e,s){var u=new AR(t,n,i,r,e,s);return this.wg.Bl(u),this.QX.Bl(u),u},n.Zb=function(t){this.wg.Ll(t),this.QX.Ll(t),t.qv()},n.Ul=function(){for(var t=0,n=this.wg.Fl.slice();t<n.length;t++){n[t].qv()}this.wg.Ul(),this.QX.Ul()},n.qv=function(){this.Ul(),this.wg.qv(),this.QX.qv()},M(t,[{key:"bg",get:function(){return this.wg}}]),t}();function PU(t,n){for(var i=0;i<t.Hl;i++){var r=t.Pl(i);if(r.Kgt===n)return r}}var BU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).jI=void 0,o.Zj=void 0,o.wwt=void 0,o.ywt=void 0,o.mwt=void 0,o._g=void 0,o.gg=void 0,o.zX=void 0,o.GX=void 0,o.wg=void 0,o.Wb=void 0,o.vQ=void 0,o.dQ=void 0,o.kwt=void 0,o.pS=void 0,o.AS=void 0,o.pwt=NaN,o.Awt=0,o.IS=new Up,o.bwt=function(){o.Vo(new Hl(o.z_))},o.Twt=function(){o.Vo(new Fl(o.z_))},o.Ewt=function(){o.Vo(new Zl(o.z_))},o.Swt=function(){o.Vo(new Jl(o.z_))},o.Rwt=function(){o.Vo(new Gl(o.z_,o.J_))},o.Iwt=function(){o.Vo(new $l(o.z_,o.ig))},o.Nwt=function(){o.Vo(new gS(o.z_))},o.Cwt=function(){o.Vo(new Ql(o.z_))},o.Dwt=function(){o.Vo(new wS)},o.Owt=function(){o.Vo(new DU)},o.xwt=function(){o.Vo(new OU)},o.Pwt=function(){o.Bwt(),o.mwt.Ul(),o.Lwt(),o.hR()},o.iL=function(){o.Lwt(),o.hR(),o.YS()},o.Bwt=function(){var t=o.pwt,n=o.G_;o.pwt=n,t===n||y(t)&&y(n)||o.Vo(new zl(n))},o.Mwt=function(t){var n=t.error||o.wwt.error;if(n){var i,r=m_.DECODE;n.code===YC.GY&&Ce(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.pS=new b_(r,n.message,i),o.Vo(new i_(function(t){return new No(S_(t.code),t.message,t)}(o.pS)))}},o.DS=function(){o.Vo(new jl(o.z_,o.jg))},o.Uwt=function(){o.ng>0&&o.tg>0&&o.Vo(new Py)},o.Fwt=function(){o.Vo(new fl)},o.Hwt=function(t){o.gg.Fl.forEach(function(n){return n.gwt(t.ptsOffset)})},o.Vwt=function(t){o.Awt+=t.tw,o.Vo(t)},o.Xwt=function(t){return o.Wwt(t.track)},o.qwt=function(t){return o.zwt(t.track)},o.Gwt=function(t){var n=PU(o._g,t.track);n&&n.Vo(new Od(n))},o.jwt=function(t){var n=PU(o.gg,t.track);n&&n.Vo(new Od(n))},o.Zj=n,o.jI=i,e=function(t){var n,i={};return i=dM(t,i),(i=dM(wU,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Y._e&&i.allowManualQualitySwitch,i.libraryLocation=Bf(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Z.call(n,t)?n[t]:t}),i}(e),o.wwt=new _U(o.Zj,o.jI,e,r,s),o.Qwt(),o.ywt=new LU(o.wwt),o.mwt=new sm(o.ywt,!0),o.mwt.Xo(Wl,o.Ho),o._g=new I_,o.gg=new I_,o.Wb=new xU(sn(o),new bI),o.zX=new PI(sn(o)),o.zX.Gl=o.wwt.bg,o.GX=new BI(o.Wb,o.zX),o.wg=new Vp([o.wwt.bg,o.GX.pp]),o.vQ=new oN,o.vQ.bq(n),o.dQ=new TC(o.vQ.Qg,o.wwt.dimensions,o.bg,u,o.wwt.Ugt),o.YS(),o}F(n,t);var i=n.prototype;return i.Mg=function(){this.wwt.Mg(),this.vQ.Mg()},i.Lg=function(){this.wwt.Lg(),this.vQ.Lg()},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kwt=n,this.wwt.Ng({sources:{src:n.src,type:gl.R_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:ne({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Eg=function(){this.wwt.play()},i.Sg=function(){this.wwt.pause()},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kwt=void 0,this.pS=void 0,this.AS=void 0,this.Awt=0,this.wwt.Ng({sources:null}),this.mwt.Ul(),this.Wb.Ul(),this.Lwt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cg=function(){return!1},i.Dg=function(){},i.Og=function(){},i.Ug=function(){return this.wwt.Ug()||void 0},i.Fg=function(){return this.wwt.Ugt},i.zg=function(){},i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ul();case 2:return this.zo(),this.mwt.qv(),this.ywt.qv(),this.Ywt(),t.next=8,this.wwt.Ro();case 8:return this._g.qv(),this.gg.qv(),this.zX.qv(),t.next=13,this.GX.qv();case 13:this.Wb.qv(),this.wg.qv(),this.dQ.qv(),this.vQ.qv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qwt=function(){this.wwt.addEventListener("Fgt",this.Pwt),this.wwt.addEventListener("Xgt",this.iL),this.wwt.addEventListener("durationchange",this.Bwt),this.wwt.addEventListener("error",this.Mwt),this.wwt.addEventListener("timeupdate",this.DS),this.wwt.addEventListener("resize",this.Uwt),this.wwt.addEventListener(Yo.hc,this.Fwt),this.wwt.addEventListener("Pat",this.Hwt),this.wwt.addEventListener(Yo.Sc,this.Vwt),this.wwt.addEventListener("play",this.bwt),this.wwt.addEventListener("pause",this.Twt),this.wwt.addEventListener("seeking",this.Ewt),this.wwt.addEventListener("seeked",this.Swt),this.wwt.addEventListener("ratechange",this.Rwt),this.wwt.addEventListener("volumechange",this.Iwt),this.wwt.addEventListener("progress",this.Nwt),this.wwt.addEventListener("ended",this.Cwt),this.wwt.addEventListener("loadstart",this.Dwt),this.wwt.addEventListener(Yo.lc,this.Owt),this.wwt.addEventListener(Yo.dc,this.xwt),this.wwt.addEventListener(Yo.Tc,this.Ho)},i.Ywt=function(){this.wwt.removeEventListener("Fgt",this.Pwt),this.wwt.removeEventListener("Xgt",this.iL),this.wwt.removeEventListener("durationchange",this.Bwt),this.wwt.removeEventListener("error",this.Mwt),this.wwt.removeEventListener("timeupdate",this.DS),this.wwt.removeEventListener("resize",this.Uwt),this.wwt.removeEventListener(Yo.hc,this.Fwt),this.wwt.removeEventListener("play",this.bwt),this.wwt.removeEventListener("pause",this.Twt),this.wwt.removeEventListener("seeking",this.Ewt),this.wwt.removeEventListener("seeked",this.Swt),this.wwt.removeEventListener("ratechange",this.Rwt),this.wwt.removeEventListener("volumechange",this.Iwt),this.wwt.removeEventListener("progress",this.Nwt),this.wwt.removeEventListener("ended",this.Cwt),this.wwt.removeEventListener("loadstart",this.Dwt),this.wwt.removeEventListener(Yo.lc,this.Owt),this.wwt.removeEventListener(Yo.dc,this.xwt),this.wwt.removeEventListener(Yo.Tc,this.Ho),this.wwt.removeEventListener(Yo.Sc,this.Vwt)},i.YS=function(){var t=this.wwt.audioTracks,n=this.wwt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Wwt(t.item(i));t.addEventListener("addtrack",this.Xwt),t.addEventListener("enabledtrack",this.Gwt),t.addEventListener("disabledtrack",this.Gwt)}if(n){for(var r=0;r<n.length;r++)this.zwt(n.item(r));n.addEventListener("addtrack",this.qwt),n.addEventListener("enabledtrack",this.jwt),n.addEventListener("disabledtrack",this.jwt)}},i.hR=function(){var t=this.wwt.audioTracks,n=this.wwt.videoTracks;t&&(t.removeEventListener("addtrack",this.Xwt),t.removeEventListener("enabledtrack",this.Gwt),t.removeEventListener("disabledtrack",this.Gwt)),n&&(n.removeEventListener("addtrack",this.qwt),n.removeEventListener("enabledtrack",this.jwt),n.removeEventListener("disabledtrack",this.jwt))},i.Lwt=function(){for(var t=0,n=this._g.Fl;t<n.length;t++){n[t].qv()}for(var i=0,r=this.gg.Fl;i<r.length;i++){r[i].qv()}this._g.Ul(),this.gg.Ul()},i.Wwt=function(t){PU(this._g,t)||this._g.Bl(new NU(t,this.wwt.audioTracks))},i.zwt=function(t){PU(this.gg,t)||this.gg.Bl(new CU(t,this.wwt.videoTracks))},M(n,[{key:"pg",get:function(){return this._g}},{key:"Gg",get:function(){return this.wwt.buffered}},{key:"jg",get:function(){var t;return null!=(t=this.wwt.currentProgramDateTime)?t:void 0},set:function(t){this.wwt.currentProgramDateTime=null!=t?t:null}},{key:"z_",get:function(){var t=this.wwt.currentTime;return t===1/0&&y(this.wwt.duration)&&(t=0),t},set:function(t){this.wwt.currentTime=t}},{key:"G_",get:function(){var t=this.wwt.duration;return t<0?1/0:t}},{key:"j_",get:function(){return this.wwt.ended}},{key:"ih",get:function(){return this.pS}},{key:"Q_",get:function(){return this.AS}},{key:"Tg",get:function(){}},{key:"Yg",get:function(){return!1}},{key:"ag",get:function(){return ne({},this.wwt.ag(),{tw:this.Awt})}},{key:"Y_",get:function(){return this.wwt.muted},set:function(t){this.wwt.muted=t}},{key:"iw",get:function(){return this.wwt.online}},{key:"Z_",get:function(){return this.wwt.paused}},{key:"J_",get:function(){return this.wwt.playbackRate},set:function(t){this.wwt.playbackRate=t}},{key:"rw",get:function(){return this.wwt.played}},{key:"ew",get:function(){return this.wwt.preload||Jp.UR},set:function(t){this.wwt.preload=t}},{key:"a_",get:function(){return this.wwt.a_}},{key:"sw",get:function(){return this.wwt.seekable}},{key:"K_",get:function(){return this.wwt.seeking}},{key:"_R",get:function(){}},{key:"bg",get:function(){return this.wg}},{key:"Ag",get:function(){return this.gg}},{key:"tg",get:function(){return this.wwt.videoHeight}},{key:"ng",get:function(){return this.wwt.videoWidth}},{key:"ig",get:function(){return this.wwt.volume},set:function(t){this.wwt.volume=t}},{key:"uw",get:function(){return!1},set:function(t){}},{key:"gR",get:function(){return this.IS}}]),n}(al),LU=function(t){function n(n){var i;return(i=t.call(this)||this).wwt=void 0,i.Zwt=function(){i.Vo(new n_(i.z_,i.wwt.a_))},i.Jwt=function(){i.Vo(new em(i.z_))},i.bwt=function(){i.Vo(new Hl(i.z_))},i.Twt=function(){i.Vo(new Fl(i.z_))},i.wwt=n,i.wwt.addEventListener(Ml.Tl,i.Zwt),i.wwt.addEventListener(Ml.q_,i.Jwt),i.wwt.addEventListener(Yo.gc,i.bwt),i.wwt.addEventListener(Yo._c,i.Twt),i}return F(n,t),n.prototype.qv=function(){this.zo(),this.wwt.removeEventListener(Ml.Tl,this.Zwt),this.wwt.removeEventListener(Ml.q_,this.Jwt),this.wwt.removeEventListener(Yo.gc,this.bwt),this.wwt.removeEventListener(Yo._c,this.Twt)},M(n,[{key:"z_",get:function(){var t=this.wwt.currentTime;return t===1/0&&y(this.wwt.duration)&&(t=0),t}},{key:"j_",get:function(){return this.wwt.ended}},{key:"ih",get:function(){return this.wwt.error||void 0}},{key:"Z_",get:function(){return this.wwt.paused}}]),n}(Ts);function MU(t,n){return UU.apply(this,arguments)}function UU(){return(UU=E.coroutine(te.mark(function t(n,i,r,e,s){var u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),as(t.t0),!(u<r)){t.next=20;break}return o=_.min(e*_.pow(2,u),s),u++,t.next=19,ms(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Yp(new(function(){function t(){this.wR=Op.R_}var n=t.prototype;return n.ZT=function(t,n,i,r,e,s){return new BU(t,n,i,r,e,s)},n.yR=function(n,i){if((Y.pe||Y.Qe)&&!i.manifestMetadataTrack)return!1;if(!El(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Xm(r)&&!t.$wt(r))&&!!function(t){return lU(t,{})!==oU.nZ}(n)},t.$wt=function(t){return!!t.aes128},n.mR=function(){return!0},t}()));var FU,HU=function(t){function n(){return t.call(this,"Kwt")||this}return F(n,t),n}(Ss),VU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).tyt=void 0,e.nyt=void 0,e.iyt=void 0,e.kwt=void 0,e.ryt=void 0,e.qb=void 0,e.Wi=void 0,e.eyt=void 0,e.syt=function(){e.Vo(new HU)},e.kwt=n,e.ryt=ne({},i,{crossOrigin:e.kwt.crossOrigin,withCredentials:e.kwt.useCredentials,liveOffset:e.kwt.liveOffset,hlsDateRange:e.kwt.hlsDateRange}),e.qb=r,e.nyt=[],e.Wi=!1,e}F(n,t);var i=n.prototype;return i.uyt=function(){if(this.iyt)return this.iyt.hg},i.$R=function(t){var n=this;gs(MU(function(){return n.V0()},t))},i.V0=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.oyt();case 2:if((n=t.sent).isMasterPlaylist)for(this.tyt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],s=new vB(this.qb,this.ryt),this.nyt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:s});else u=new vB(this.qb,this.ryt),this.nyt.push({stream:{uri:n.uri},updater:u});this.eyt&&(this.hyt(this.eyt.width,this.eyt.height),this.eyt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ayt=function(t,n){this.Wi?this.hyt(t,n):this.eyt={width:t,height:n}},i.hyt=function(t,n){this.cyt();var i=this.fyt(t,n);i&&(this.iyt=i.updater,this.iyt.addEventListener("rtt",this.syt),i.updater.$R(i.stream.uri))},i.cyt=function(){this.iyt&&(this.iyt.Rg(),this.iyt.removeEventListener("rtt",this.syt),this.iyt=void 0)},i.fyt=function(t,n){return 1===this.nyt.length?this.nyt[0]:je(this.nyt,function(i){return i.stream.width===t&&i.stream.height===n})},i.oyt=function(){var t=E.coroutine(te.mark(function t(){var n,i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new fB(this.ryt,oO.$e.a1,this.qb),t.next=3,n.Vh(this.kwt.src,{});case 3:return i=t.sent,t.abrupt("return",i.hg);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qv=function(){this.cyt();for(var t=0,n=this.nyt;t<n.length;t++){n[t].updater.qv()}$e(this.nyt)},n}(Ts),XU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).vyt=void 0,e.dyt=void 0,e.nB=void 0,e.lyt=!1,e.K$=void 0,e.QX=void 0,e.handleManifestUpdate=function(){var t=e.vyt.uyt();if(t){var n=e._R;if(n){var i=n.getTime(),r=e.K$;r||(r=new lD,e.K$=r),r.Wh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.lyt&&r.c_.Hl>0&&(e.bg.Bl(r),e.QX.Bl(r),e.lyt=!0)}}},e.Uwt=function(){e.vyt&&e.vyt.ayt(e.ng,e.tg)},e.dyt=i,e.nB=r,e.QX=new EI(sn(e)),e.Xo(Yo.kc,e.Uwt),e}F(n,t);var i=n.prototype;return i.Ng=function(){var n=E.coroutine(te.mark(function n(i,r,e){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Ng.call(this,i,r,e);case 2:i.hlsDateRange&&this._yt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i._yt=function(t,n,i){this.vyt&&(this.vyt.Go("Kwt",this.handleManifestUpdate),this.vyt.qv()),this.vyt=new VU(t,n,this.dyt),this.vyt.Xo("Kwt",this.handleManifestUpdate),this.vyt.$R(i)},i.Ul=function(){return this.K$&&(this.bg.Ll(this.K$),this.QX.Ll(this.K$),this.K$.qv(),this.K$=void 0,this.lyt=!1),this.QX.Ul(),t.prototype.Ul.call(this)},i.qv=function(){return this.Go(Yo.kc,this.Uwt),this.vyt&&(this.vyt.Go("Kwt",this.handleManifestUpdate),this.vyt.qv()),this.QX.qv(),t.prototype.qv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).gyt=void 0,i.gyt=n;for(var r=0;r<tA.length;r++){var e=tA[r];i.gyt.Xo(e,i.Ho)}return i}F(n,t);var i=n.prototype;return i.Cg=function(){return this.gyt.Cg()},i.Fg=function(){return this.gyt.Fg()},i.Ug=function(){return this.gyt.Ug()},i.Mg=function(){return this.gyt.Mg()},i.zg=function(){return this.gyt.zg()},i.Sg=function(){return this.gyt.Sg()},i.Eg=function(){return this.gyt.Eg()},i.Ul=function(){return this.gyt.Ul()},i.Ng=function(t,n,i){return this.gyt.Ng(t,n,i)},i.Lg=function(){return this.gyt.Lg()},i.Dg=function(){return this.gyt.Dg()},i.Og=function(){return this.gyt.Og()},i.qv=function(){this.zo();for(var t=0;t<tA.length;t++){var n=tA[t];this.gyt.Go(n,this.Ho)}return this.gyt.qv()},M(n,[{key:"pg",get:function(){return this.gyt.pg}},{key:"Gg",get:function(){return this.gyt.Gg}},{key:"jg",get:function(){return this.gyt.jg},set:function(t){this.gyt.jg=t}},{key:"z_",get:function(){return this.gyt.z_},set:function(t){this.gyt.z_=t}},{key:"G_",get:function(){return this.gyt.G_}},{key:"j_",get:function(){return this.gyt.j_}},{key:"Q_",get:function(){return this.gyt.Q_}},{key:"Tg",get:function(){return this.gyt.Tg}},{key:"ih",get:function(){return this.gyt.ih}},{key:"Yg",get:function(){return this.gyt.Yg}},{key:"ag",get:function(){return this.gyt.ag}},{key:"Y_",get:function(){return this.gyt.Y_},set:function(t){this.gyt.Y_=t}},{key:"iw",get:function(){return this.gyt.iw}},{key:"Z_",get:function(){return this.gyt.Z_}},{key:"J_",get:function(){return this.gyt.J_},set:function(t){this.gyt.J_=t}},{key:"rw",get:function(){return this.gyt.rw}},{key:"ew",get:function(){return this.gyt.ew},set:function(t){this.gyt.ew=t}},{key:"a_",get:function(){return this.gyt.a_}},{key:"sw",get:function(){return this.gyt.sw}},{key:"K_",get:function(){return this.gyt.K_}},{key:"_R",get:function(){return this.gyt._R}},{key:"bg",get:function(){return this.gyt.bg}},{key:"tg",get:function(){return this.gyt.tg}},{key:"Ag",get:function(){return this.gyt.Ag}},{key:"ng",get:function(){return this.gyt.ng}},{key:"ig",get:function(){return this.gyt.ig},set:function(t){this.gyt.ig=t}},{key:"uw",get:function(){return this.gyt.uw},set:function(t){this.gyt.uw=t}},{key:"gR",get:function(){return this.gyt.gR}}]),n}(al));FU=function(t,n,i){return new XU(t,n,i)},jp.AR().bR(FU);var WU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return F(n,t),n}(Ss);var qU=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).wyt=void 0,s.hl=void 0,s.yyt=void 0,s.myt=void 0,s.kyt=void 0,s.XR=void 0,s.pyt=void 0,s.mx=void 0,s.Qc=HA.UNAVAILABLE,s.Ayt=new ss,s.byt=function(){var t,n=null==(t=s.mx.Ig())?void 0:t.sources.filter(Ll);null!=n&&n.some(qp)?s.Tyt(HA.AVAILABLE):s.Tyt(HA.UNAVAILABLE)},s.handleAirplayChangedEvent=function(){s.XR&&s.XR.Yg?s.Eyt():s.R3===HA.CONNECTED&&s.Syt()},s.handleAirplayPlayerTimeUpdate=function(t){s.yyt=t.currentTime,s.myt=s.mx.jg},s.kyt=n,s.mx=i,s.wyt=e,s.wyt.Mg(),s.mx.kg(e),s.Ryt(),s.kyt.Xo("sourcechange",s.byt),T.Xu.au&&s.Tyt(HA.AVAILABLE),s}F(n,t);var i=n.prototype;return i.Ryt=function(){this.XR&&this.XR.Go(Yo.Ja,this.handleAirplayChangedEvent),this.Iyt?this.XR=this.mx:this.XR=this.wyt,this.XR.Xo(Yo.Ja,this.handleAirplayChangedEvent)},i.Eyt=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.XR){t.next=2;break}return t.abrupt("return");case 2:if(this.Iyt){t.next=24;break}return this.yyt=this.mx.z_,this.myt=this.mx.jg,this.wyt.Xo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.pyt=this.mx.Gl,this.mx.Gl=this.wyt,this.pyt.Sg(),this.pyt.Mg(),this.wyt.Lg(),this.wyt.Y_=this.pyt.Y_,this.wyt.J_=this.pyt.J_,this.wyt.ig=this.pyt.ig,n=this.wyt.Zo("seeked"),this.wyt.z_=this.pyt.z_,t.next=18,n;case 18:this.wyt.Eg(),this.wyt.Y_=this.pyt.Y_,this.wyt.J_=this.pyt.J_,this.wyt.ig=this.pyt.ig,t.next=28;break;case 24:if(this.XR.Z_){t.next=27;break}return t.next=27,this.XR.Zo(Yo._c,this.Ayt.Lo);case 27:this.XR.Eg();case 28:this.Tyt(HA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Syt=function(){this.pyt?(this.wyt.Go("timeupdate",this.handleAirplayPlayerTimeUpdate),this.pyt.Y_=this.wyt.Y_,this.pyt.J_=this.wyt.J_,this.pyt.ig=this.wyt.ig,Y.Ue&&!Y.pe&&this.mx.G_===1/0?this.myt?this.pyt.jg=this.myt:this.pyt.z_=1/0:this.pyt.z_=this.yyt,this.myt=void 0,this.yyt=void 0,this.pyt.Lg(),this.wyt.Mg(),this.wyt.Z_||this.pyt.Eg(),this.mx.Gl=this.pyt,this.wyt.Ul(),this.pyt=void 0):this.XR&&(this.XR.z_=this.XR.z_+1e-4);this.Tyt(HA.AVAILABLE)},i.preloadPlayer=function(t){if(hs(t),this.XR.a_<ml.B_){var n=this.XR.Zo("loadedmetadata",t);return this.XR.ew=Jp.Nk,n}return E.resolve()},i.Tyt=function(t){t!==this.Qc&&(this.Qc=t,this.Vo(new WU(this.Qc)))},i.Dg=function(){T.Xu.au&&(this.kyt.xg(),this.Ayt.xo(),this.Ayt=new ss,this.Iyt?gs(this.Nyt(this.Ayt.Lo)):gs(this.Cyt(this.Ayt.Lo)))},i.Nyt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.mx.Dg();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Cyt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wyt.Ul();case 3:return t.next=5,this.wyt.Ng(this.mx.Ig(),n);case 5:return i=this.wyt.Zo("playing",n),this.wyt.Eg(),t.next=9,ks(i,3e3);case 9:this.wyt.Sg(),hs(n),this.wyt.Dg(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!os(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Og=function(){T.Xu.au&&this.XR.Og()},i.qv=function(){var t;this.zo(),this.kyt.Go("sourcechange",this.byt),this.mx.Xg(this.wyt),this.Ayt.xo(),null==(t=this.wyt)||t.qv()},M(n,[{key:"jP",get:function(){return this.R3===HA.CONNECTED}},{key:"Iyt",get:function(){return this.mx.Cg()}},{key:"R3",get:function(){return this.Qc}},{key:"al",get:function(){var t;return this.hl||(this.hl=(t=this,{get casting(){return t.jP},get state(){return t.R3},start:function(){t.Dg()},stop:function(){t.Og()},addEventListener:function(n,i){var r=Gd(n,zd);t.Xo(r,i)},removeEventListener:function(n,i){var r=Gd(n,zd);t.Go(r,i)}})),this.hl}}]),n}(al);FE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.cl=function(){var n=this.qB.al;return Md(t.prototype.cl.call(this),{get cast(){return n}})},n}(t)},DE.QB);var zU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).LR=void 0,o.Dyt=void 0,o.Oyt=void 0,o.WR=void 0,o.kwt=void 0,o._g=new nl,o.gg=new nl,o.wg=new hl,o.LR=n,o.Dyt=new wr(s,u,1,[R_.Bv]),o.Dyt.$I(n),o.Oyt=new Wp(n,o.Dyt,i,r,e),o.Oyt.qo(o.Ho),o._g.Gl=o.Oyt.pg,o.gg.Gl=o.Oyt.Ag,o.wg.Gl=o.Oyt.bg,o}F(n,t);var i=n.prototype;return i.Cg=function(){return this.Oyt.Cg()},i.Dg=function(){this.Oyt.Dg()},i.Og=function(){this.Oyt.Og()},i.Eg=function(){gs(this.Oyt.Eg())},i.Sg=function(){this.Oyt.Sg()},i.Rg=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Ig=function(){return this.kwt},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(i),this.kwt=n,!Dl(n.sources)){t.next=6;break}r=eb({src:""}),t.next=16;break;case 6:e=n.sources.filter(Ll),s=0;case 8:if(!(s<e.length)){t.next=16;break}if(!qp(u=e[s])){t.next=13;break}return r=u,t.abrupt("break",16);case 13:s++,t.next=8;break;case 16:if(r){t.next=18;break}throw new v("Unsupported source.");case 18:return t.next=20,this.Oyt.Ng(r,n,i);case 20:this.YR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YR=function(t){this.WR!==t&&(this.WR=t,this.Vo(new vl(t)))},i.Ug=function(){},i.xyt=function(){},i.Hg=function(){return[]},i.xg=function(){this.Dyt.KI()},i.Pg=function(t){u_(this,t)},i.Bg=function(){},i.Vg=function(t){return!1},i.zg=function(){},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WR=void 0,this.kwt=void 0,t.next=4,this.Oyt.Ul();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lg=function(){this.Oyt.Lg()},i.Mg=function(){this.Oyt.Mg()},i.Fg=function(){return this.Oyt.Fg()},i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zo(),this.Dyt.qv(),t.next=4,this.Oyt.qv();case 4:this._g.qv(),this.gg.qv(),this.wg.qv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"pg",get:function(){return this.Oyt.pg}},{key:"Gg",get:function(){return this.Oyt.Gg}},{key:"qg",get:function(){return this.WR}},{key:"z_",get:function(){return this.Oyt.z_},set:function(t){this.Oyt.z_=t}},{key:"jg",get:function(){return this.Oyt.jg}},{key:"G_",get:function(){return this.Oyt.G_}},{key:"Qg",get:function(){return this.LR}},{key:"j_",get:function(){return this.Oyt.j_}},{key:"ih",get:function(){return this.Oyt.ih}},{key:"Yg",get:function(){return this.Oyt.Yg}},{key:"ag",get:function(){return{Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Y_",get:function(){return this.Oyt.Y_},set:function(t){this.Oyt.Y_=t}},{key:"iw",get:function(){return this.Oyt.iw}},{key:"Z_",get:function(){return this.Oyt.Z_}},{key:"J_",get:function(){return this.Oyt.J_},set:function(t){this.Oyt.J_=t}},{key:"rw",get:function(){return this.Oyt.rw}},{key:"ew",get:function(){return this.Oyt.ew},set:function(t){this.Oyt.ew=t}},{key:"a_",get:function(){return this.Oyt.a_}},{key:"sw",get:function(){return this.Oyt.sw}},{key:"K_",get:function(){return this.Oyt.K_}},{key:"bg",get:function(){return this.Oyt.bg}},{key:"tg",get:function(){return this.Oyt.tg}},{key:"ng",get:function(){return this.Oyt.ng}},{key:"Ag",get:function(){return this.Oyt.Ag}},{key:"ig",get:function(){return this.Oyt.ig},set:function(t){this.Oyt.ig=t}}]),n}(al);FE(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Pyt=void 0;var e=new zU(r.HP.Qg,r.nl,r.Jh,r.XB,r.IB,r.jB);return r.Pyt=new qU(sn(r),r.HP,r.nl,e),r.qB.GP(r.Pyt),r.Xo("currentsourcechange",function(){r.Pyt.Ryt()}),r}F(n,t);var i=n.prototype;return i.cl=function(){var n=this,i=t.prototype.cl.call(this);return Md(i.cast,{get airplay(){return n.Pyt.al}}),i},i.qv=function(){this.Pyt.qv(),t.prototype.qv.call(this)},n}(t)},DE.QB);var GU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},jU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),QU=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?r.splice(u,1/0,e):r.push(e),~i.indexOf(s)&&(s=n.call(this,e,s))}else i.push(s);return null==t?s:t.call(this,e,s)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function YU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function ZU(t){return JSON.stringify(t,QU.getSerialize(YU))}var JU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=s&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),$U=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),KU=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),tF=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=JU.isS,r=JU.isChar,e=JU.isNameStartChar,s=JU.isNameChar,u=JU.S_LIST,o=JU.NAME_RE,h=$U.isChar,a=KU.isNCNameStartChar,c=KU.isNCNameChar,f=KU.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:d,xmlns:_},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,C=9,D=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Ct=[34,39],Dt=[...Ct,Et,bt],Ot=[...Ct,pt,St],xt=[At,Tt,...u],Pt=[...u,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Da}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Da=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,s=e?dt:r;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Dt);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?D:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const s=this.getCode();switch(s){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(s)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),s={name:t,prefix:r,local:e,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Da=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=u,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),nF=function(){function t(){}return t.prototype.hs=function(t){var n=new tF.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new hF,r=[i];function e(t){r[r.length-1].Es(t)}return n.on("text",function(t){r.length>1&&e(new uF(t))}),n.on("cdata",function(t){e(new oF(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new eF({vs:n,ls:""===i?void 0:i,Byt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new iF({vs:v,gs:_,ls:""===d?void 0:d,Byt:""===f?void 0:f});u.Lyt(g)}e(u),r.push(u)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new hn(t)}),n.write(t).close(),i},t}(),iF=function(){function t(t){this.Myt=void 0,this.Uyt=void 0,this.Fyt=void 0,this.xn=void 0,this.Myt=t.vs,this.xn=t.gs,this.Uyt=t.ls,this.Fyt=t.Byt}var n=t.prototype;return n.cs=function(t){return this===t||!!cF(this,t)&&(this.Myt===t.Myt&&this.Uyt===t.Uyt&&this.Fyt===t.Fyt&&this.xn===t.xn)},n.fs=function(){return new t({vs:this.vs,gs:this.gs,ls:this.ls,Byt:this._s})},M(t,[{key:"ts",get:function(){return Kt.ss}},{key:"vs",get:function(){return this.Myt}},{key:"ds",get:function(){return void 0===this.Fyt?this.Myt:this.Fyt+":"+this.Myt}},{key:"ls",get:function(){return this.Uyt}},{key:"_s",get:function(){return this.Fyt}},{key:"gs",get:function(){return this.xn}}]),t}(),rF=function(){function t(){this.ks=[]}var n=t.prototype;return n.ps=function(t){return this.ks.filter(function(n){return aF(n)&&n.bs===t})},n.Ts=function(t,n){return this.ks.filter(function(i){return aF(i)&&i.vs===n&&i.ls===t})},n.Es=function(t){this.ks.push(t)},M(t,[{key:"As",get:function(){return this.ks}},{key:"Rs",get:function(){return this.ks.filter(aF)}}]),t}(),eF=function(t){function n(n){var i;return(i=t.call(this)||this).Myt=void 0,i.Uyt=void 0,i.Fyt=void 0,i.Hyt=[],i.Myt=n.vs,i.Uyt=n.ls,i.Fyt=n.Byt,i}F(n,t);var i=n.prototype;return i.Vyt=function(t){for(var n=0,i=this.As;n<i.length;n++){var r=i[n];aF(r)?r.Vyt(t):t.push(r.Ls)}},i.Ns=function(t,n){for(var i=0,r=this.Hyt;i<r.length;i++){var e=r[i];if(e.vs===n&&e.ls===t)return e.gs}},i.Is=function(t){for(var n=0,i=this.Hyt;n<i.length;n++){var r=i[n];if(r.ds===t)return r.gs}},i.Lyt=function(t){this.Hyt.push(t)},i.Cs=function(t){for(var n=0;n<this.Hyt.length;n++)if(this.Hyt[n].ds===t)return void this.Hyt.splice(n,1)},i.Ds=function(t,n){for(var i=0;i<this.Hyt.length;i++)if(this.Hyt[i].vs===n&&this.Hyt[i].ls===t)return void this.Hyt.splice(i,1)},i.Os=function(t,n){this.Cs(t),this.Lyt(new iF({vs:t,gs:n}))},i.xs=function(t,n,i){this.Cs(n);var r=n.split(":");this.Lyt(new iF({vs:r[r.length-1],gs:i,ls:t,Byt:r.length>1?r[0]:void 0}))},i.fs=function(t){var i=new n({vs:this.vs,ls:this.ls,Byt:this._s});return this.Ps.forEach(function(t){return i.Lyt(t.fs())}),t&&this.As.forEach(function(n){return i.Es(n.fs(t))}),i},i.cs=function(t){return this===t||!!cF(this,t)&&(this.Myt===t.Myt&&this.Fyt===t.Fyt&&this.Uyt===t.Uyt&&(fF(this.Ps,t.Ps)&&fF(this.As,t.As)))},M(n,[{key:"ts",get:function(){return Kt.rs}},{key:"Ps",get:function(){return this.Hyt}},{key:"vs",get:function(){return this.Myt}},{key:"ls",get:function(){return this.Uyt}},{key:"_s",get:function(){return this.Fyt}},{key:"bs",get:function(){return void 0===this.Fyt?this.Myt:this.Fyt+":"+this.Myt}},{key:"Bs",get:function(){var t=[];return this.Vyt(t),t.join("")}}]),n}(rF),sF=function(){function t(t){this.nr=void 0,this.nr=t}return M(t,[{key:"Ls",get:function(){return this.nr}}]),t}(),uF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.fs=function(){return new n(this.Ls)},i.cs=function(t){return this===t||!!cF(this,t)&&this.Ls===t.Ls},M(n,[{key:"ts",get:function(){return Kt.es}}]),n}(sF),oF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.fs=function(){return new n(this.Ls)},i.cs=function(t){return this===t||!!cF(this,t)&&this.Ls===t.Ls},M(n,[{key:"ts",get:function(){return Kt.us}}]),n}(sF),hF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.fs=function(t){var i=new n;return t&&this.As.forEach(function(n){return i.Es(n.fs(t))}),i},i.cs=function(t){return this===t||!!cF(this,t)&&fF(this.As,t.As)},M(n,[{key:"ts",get:function(){return Kt.os}},{key:"Ms",get:function(){return this.Rs[0]}}]),n}(rF);function aF(t){return rn(t)}function cF(t,n){return t.ts===n.ts}function fF(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].cs(n[i]))return!1;return!0}var vF,dF=["adBreak"],lF=["adBreak"];function _F(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:ne({},t,{adBreak:ne({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Im(t,dF)})})})}function gF(t){return void 0===t.ads?t:ne({},t,{ads:t.ads.map(function(t){t.adBreak;return Im(t,lF)})})}function wF(t){return"string"==typeof t.date?new Date(t.date):t.date}function yF(t){var n;return t.cue.track?(n=kF(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=kF(t.cue,""),n}function mF(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],s=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==s&&n.pop(e),[r,s]}))}return i}(t)}function kF(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new nF).hs(r.firstChild.outerHTML).Ms.Ps.forEach(function(t){e[t.vs]=t.gs}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=pF(o);s[u]={type:vF.Xyt,value:h}}else bF(o)?s[u]={type:vF.Wyt,value:o}:s[u]={type:vF.dz,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=pF(t.scte35Cmd),i.scte35Out=pF(t.scte35Out),i.scte35In=pF(t.scte35In),i.customAttributes=s}var a}(),i}function pF(t){if(void 0!==t)return Ws(t)}function AF(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(kF(e,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(kF(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function bF(t){return"number"==typeof t}!function(t){t.dz="daterange-ca-type_string",t.Wyt="daterange-ca-type_number",t.Xyt="daterange-ca-type_arraybuffer"}(vF||(vF={}));var TF={cue:function(t){var n={};switch(n.date=wF(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=yF(t)}return n},textTrack:function(t){var n={};switch(n.date=wF(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=IF().register(t.cue));var i=RF()[NF()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=yF(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var s=t.track.activeCues[e];r.push(kF(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=wF(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=IF().register(t)}),n.track=AF(t.track);case"removetrack":case"change":n.track=AF(t.track)}return n},default:function(t){var n={};switch(n.date=wF(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=ne({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=AF(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=gF(t.ad);break;case"adloaded":case"adimpression":n.ad=_F(t.ad);break;case"aderror":t.qyt&&(n.qyt=t.qyt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=_F(t.ad)}return mF(n)},minimizeCueHelper:function(t){var n={};return n.date=wF(t),n.type=t.type,n.cue=yF(t),n.track={uid:t.cue.track.uid},n},adReplacer:_F,adBreakReplacer:gF,removeCircularReferences:mF},EF=function(){this.stringify=ZU,this.minimize=TF};function SF(){return kr.self}function RF(){return SF().THEOplayerBridge}function IF(){return SF().THEOCueMirrorMap}function NF(){return SF().THEOplayerGlobalID}function CF(){var t=SF();if(t.THEOplayerBridge){var n=new GU;t.THEOplayerBridge=Md(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new GU;t.THEOplayerUtils||(t.THEOplayerUtils=new EF),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new jU)}CF();var DF,OF=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return F(n,t),n}(Ss),xF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Vo(new OF(t,n))},i.addEventListener=function(t,n){this.Xo(t,n)},i.removeEventListener=function(t,n){this.Go(t,n)},n}(cl),PF=function(t){function n(n,i){var r;return(r=t.call(this)||this).zyt=void 0,r.Gyt=void 0,r.jyt=function(t){r.zyt.EQ("THEOplayerABRSetTargetBuffer",t.Rx),r.Vo(t)},r.Qyt=function(t){r.zyt.EQ("THEOplayerABRSetStrategy",t.Nx),r.Vo(t)},r.zyt=n,r.Gyt=i,r.Gyt.Xo("Ix",r.jyt),r.Gyt.Xo("Cx",r.Qyt),r}return F(n,t),M(n,[{key:"Fx",get:function(){var t;switch(this.Nx.type){case GT.PERFORMANCE:return 1;case GT.QUALITY:return 0;case GT.BANDWIDTH:return null!=(t=this.Nx.metadata)&&t.bitrate&&!y(this.Nx.metadata.bitrate)?this.Nx.metadata.bitrate:0;default:return 0}}},{key:"al",get:function(){return this.Gyt.al}},{key:"Nx",get:function(){return this.Gyt.Nx},set:function(t){this.Gyt.Nx=t}},{key:"Rx",get:function(){return this.Gyt.Rx},set:function(t){this.Gyt.Rx=t}},{key:"Dx",get:function(){return this.Gyt.Dx},set:function(t){this.Gyt.Dx=t}}]),n}(Ts),BF=function(){function t(t,n,i){this.ba=void 0,this.wo=void 0,this.Ba=void 0,this.Yh=void 0,this.ba=t,this.wo=i,this.Ba=n}var n=t.prototype;return n.Zb=function(t){throw new v("Not implemented yet.")},n.WL=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wo.ko(n.fo,i);case 2:return r=t.sent,t.next=5,r.ea();case 5:return e=t.sent,t.next=8,this.qL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.zL=function(t){return!1},n.GL=function(t){return E.resolve(void 0)},n.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qL=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.QL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.QL=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Yh)){t.next=5;break}return t.next=4,i.na(this.Ba);case 4:this.Yh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.ta(this.Ba);case 8:this.Yh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jb=function(t,n,i){throw new v("Not implemented yet.")},M(t,[{key:"Jh",get:function(){return this.ba}},{key:"ew",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"sw",get:function(){return new sA([0,1/0])}},{key:"bg",get:function(){throw new v("Not implemented yet.")}},{key:"Yyt",get:function(){throw new v("Not implemented yet")}},{key:"Ag",get:function(){throw new v("Not implemented yet.")}},{key:"Zyt",get:function(){throw new v("Not implemented yet")}},{key:"Jyt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.$yt="webkitneedkey",t.Kyt="webkitkeymessage",t.tmt="webkitkeyerror"}(DF||(DF={}));var LF=function(t){function n(n,i){var r;return(r=t.call(this,DF.$yt)||this).initData=n,r.sessionId=i,r}return F(n,t),n}(Ss),MF=function(t){function n(n,i){var r;return(r=t.call(this,DF.Kyt)||this).message=n,r.destinationURL=i,r}return F(n,t),n}(Ss),UF=function(t){function n(){return t.call(this,DF.tmt)||this}return F(n,t),n}(Ss),FF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).ca=new Qu,u.Ta=void 0,u.da=new Bs,u.Sa=new Qu,u.nmt=function(t){u.Ta?(u.Ta.Sh(void 0),u.Ta=void 0):u.ya("internal-error"),u.Vo(new Ds)},u.imt=function(t){u.Ta&&(u.Ta.Eh(void 0),u.Ta=void 0),u.Vo(new Cs(sn(u),"license-request",zu(t.message).buffer,t.destinationURL||void 0))},u.ka=n,u.Lh=i,u.rmt=r,u.xa=e,u.Ia=s,u}F(n,t);var i=n.prototype;return i.Hh=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Na){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.emt(Wu(i),e);case 5:this.ya("usable"),this.Sa.Eh(),this.Sa=new Qu;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vh=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Wh=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Wu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Ta=new Qu,this.rmt.Wh(this.xa,i),t.next=7,this.Ta.Th;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fh=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Sa;case 2:return this.rmt.Go(DF.Kyt,this.imt),this.rmt.Go(DF.tmt,this.nmt),this.Sa.xo(),this.ca.Eh(void 0),t.abrupt("return",this.ca.Th);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Xh=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.emt=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Io(n,i,this.Ia),this.rmt.Xo(DF.Kyt,this.imt),this.rmt.Xo(DF.tmt,this.nmt),this.rmt.AX(this.xa,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ya=function(t){this.da.lh(),this.da.dh(Ps,t),this.Vo(new Ns(this))},M(n,[{key:"Qh",get:function(){return this.xa}},{key:"Gh",get:function(){return NaN}},{key:"zh",get:function(){return this.ca.Th}},{key:"jh",get:function(){return this.da}}]),n}(Ts),HF=function(){function t(t,n,i){this.smt=void 0,this.xa=void 0,this.Ia=void 0,this.rmt=void 0,this.Lh=void 0,this.ba=void 0,this.ka=void 0,this.rmt=t,this.Lh=n,this.ba=i;var r=vo(i)||"video/mp4";this.ka=ao(r)}var i=t.prototype;return i.$h=function(){var t=E.coroutine(te.mark(function t(i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ia){t.next=2;break}throw new No(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new FF(this.ka,this.Lh,this.rmt,this.xa,this.Ia),this.smt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kh=function(t){return this.Ia=Wu(t),E.resolve(!0)},i.ta=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.na=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},M(t,[{key:"Zh",get:function(){return this.Lh}},{key:"Jh",get:function(){return this.ba}},{key:"sessionId",set:function(t){this.xa=t}}]),t}(),VF=function(){function t(t,n,i){this.umt=t,this.Lh=n,this.ba=i}var n=t.prototype;return n.sa=function(){return this.ba},n.ea=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new HF(this.umt,this.Lh,this.ba));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"Zh",get:function(){return this.Lh}}]),t}(),XF=function(){function t(t){this.umt=void 0,this.umt=t}return t.prototype.ko=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(s=co(WF,Is,n,e))){t.next=6;break}return t.abrupt("return",new VF(this.umt,n,s));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function WF(t,n){return t===pe}var qF,zF=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.xX=function(t,n){return!0},n}(GI),GF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new XF(i)),(e=t.call(this)||this).kS=void 0,e.wo=void 0,e.FL=void 0,e.UX=new YE,e.omt=void 0,e.umt=void 0,e.hmt=!1,e.xa=void 0,e.Ra=null,e.amt={Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.cmt=function(t){"boolean"==typeof t.detail.casting&&(e.hmt=t.detail.casting,e.Vo(new z_(e.hmt)))},e.fmt=function(t){e.xa=t.sessionId,e.Ra&&(e.Ra.sessionId=e.xa);var n=t.initData;if(n){var i=KI(n);if(!i)return;e.Vo(new Os(_e,i))}else e.Vo(new Os(_e,new ArrayBuffer(0)))},e.omt=n,e.umt=i,e.umt.Xo(DF.$yt,e.fmt),e.wo=r,e.FL=new zF(sn(e)),e.vmt(),e}F(n,t);var i=n.prototype;return i.JL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.co===xy.$b)return i}},i.Ro=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ul();case 2:return this.zo(),this.dmt(),this.umt.Go(DF.$yt,this.fmt),t.next=7,this.FL.Ro();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Mg=function(){throw new v("Not implemented yet")},i.jb=function(t,n,i,r,e,s,u){throw new v("Not implemented yet")},i.nR=function(){return!1},i.rR=function(t,n,i,r){throw new v("Not implemented yet")},i.Zb=function(t){throw new v("Not implemented yet")},i.uR=function(){throw new v("Not implemented yet")},i.Vh=function(){var t=E.coroutine(te.mark(function t(n){var i=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.UX.cL(function(){var t=E.coroutine(te.mark(function t(r){var e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.co!==xy.$b){t.next=8;break}return hs(r),e=new BF(n,i,i.wo),i.kS=e,i.FL.Vh(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Sg=function(){throw new v("Not implemented yet")},i.Eg=function(){throw new v("Not implemented yet")},i.Ul=function(){var t=this;return this.UX.xo(),this.UX.cL(E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.kS){n.next=4;break}return n.next=3,t.kS.Ro();case 3:t.kS=void 0;case 4:return n.next=6,t.FL.Ul();case 6:case"end":return n.stop()}},n)})))},i.yh=function(t,n){throw new v("Not implemented yet")},i.dR=function(t){throw new v("Not implemented yet")},i.Lg=function(){throw new v("Not implemented yet")},i.lR=function(){return this.amt},i.vmt=function(){this.omt.addEventListener("airPlayIsCasting",this.cmt)},i.dmt=function(){this.omt.removeEventListener("airPlayIsCasting",this.cmt)},i.webkitSetMediaKeys=function(t){this.Ra=t||null,this.Ra&&(this.Ra.sessionId=this.xa)},i.pq=function(){},i.mq=function(){throw new v("Not implemented yet")},i.kq=function(){throw new v("Not implemented yet")},M(n,[{key:"jg",get:function(){throw new v("Not implemented yet")}},{key:"Gg",get:function(){throw new v("Not implemented yet")}},{key:"z_",get:function(){throw new v("Not implemented yet")}},{key:"zB",get:function(){throw new v("Not implemented yet")}},{key:"G_",get:function(){throw new v("Not implemented yet")}},{key:"j_",get:function(){throw new v("Not implemented yet")}},{key:"ih",get:function(){throw new v("Not implemented yet")}},{key:"Mp",get:function(){throw new v("Not implemented yet")}},{key:"Yg",get:function(){return this.hmt}},{key:"Y_",get:function(){throw new v("Not implemented yet")}},{key:"Z_",get:function(){throw new v("Not implemented yet")}},{key:"J_",get:function(){throw new v("Not implemented yet")}},{key:"rw",get:function(){throw new v("Not implemented yet")}},{key:"a_",get:function(){throw new v("Not implemented yet")}},{key:"sw",get:function(){throw new v("Not implemented yet")}},{key:"K_",get:function(){throw new v("Not implemented yet")}},{key:"Tq",get:function(){throw new v("Not implemented yet")}},{key:"ig",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"yu",get:function(){throw new v("Not implemented yet")}},{key:"sR",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ra}},{key:"Eq",get:function(){return fS}},{key:"bg",get:function(){throw new v("Not implemented yet")}},{key:"jB",get:function(){throw new v("Not implemented yet")}},{key:"_R",get:function(){throw new v("Not implemented yet")}},{key:"Aq",get:function(){return!0}},{key:"jS",get:function(){return this.FL.jS},set:function(t){this.FL.jS=t}},{key:"LX",get:function(){return this.FL.LX}}]),n}(al),jF=function(t){function n(n){var i;return(i=t.call(this,Yo.xc)||this).amt=n,i}return F(n,t),n}(Ss);function QF(t){switch(t.type){case qF.dz:return t.value;case qF.Wyt:return Wd(t.value);case qF.Xyt:return Vs(t.value);default:return}}function YF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.dz="daterange-ca-type_string",t.Wyt="daterange-ca-type_number",t.Xyt="daterange-ca-type_arraybuffer"}(qF||(qF={}));var ZF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,e,i,r)||this).ME=void 0,u.lmt=void 0,u.ME=n,u.lmt=s,u}return F(n,t),M(n,[{key:"name",get:function(){return this.ME}},{key:"timestamp",get:function(){return this.lmt}}]),n}(No),JF=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return F(n,t),n}(ZF),$F=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).VI=0,u.cH=!1,u.pS=void 0,u.AS=void 0,u._mt=void 0,u.WI=!0,u.qI=1,u._g=void 0,u.gg=void 0,u.WX=void 0,u.zX=void 0,u.GX=void 0,u.wg=void 0,u.Wb=void 0,u.aH=void 0,u.gmt=sA.LI(),u.QF=sA.LI(),u.XI=!1,u.iW=sA.LI(),u.zI=void 0,u.wmt=void 0,u.ymt=void 0,u.fH=ml.P_,u.tT=ml.P_,u.omt=void 0,u.QX=void 0,u.ES=void 0,u.zyt=void 0,u.kwt=void 0,u.ZI=void 0,u.mS=void 0,u.SS=void 0,u.umt=void 0,u.amt={Zg:0,Jg:0,$g:0,Kg:0,tw:0,nw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.kS=void 0,u.mmt=void 0,u.IS=new Up,u.setCurrentTime=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.sw.length){t.next=4;break}return u.VI=n,t.next=4,u.omt.Zo("seekablechange");case 4:u.VI=u.updateCurrentTime(n),u.zyt.EQ("THEOplayerSetCurrentTime",u.VI),u.zI=!0,u.Vo(new Zl(u.VI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.kmt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.gmt=new sA(i),u.Vo(new gS(u.z_))}},u.pmt=function(t){u.fH=t.detail.readyState,u.Vo(new Kl(+t.detail.currentTime,u.a_)),u.Amt()},u.bmt=function(t){u.fH=t.detail.readyState,u.Vo(new t_(+t.detail.currentTime,u.a_)),u.Amt()},u.Tmt=function(t){if(t.detail){var n=+t.detail.duration;u.aH=n,u.Vo(new zl(u.G_))}},u.Cwt=function(t){t.detail&&(u.cH=!0,u.Vo(new Ql(+t.detail.currentTime)))},u.NS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);YF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.AS=new JF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.pS=E_(u.AS),u.Vo(new i_(u.AS))):YF(i)&&(u.AS=new ZF(i.name,i.message,void 0,i.code,i.timestamp),u.pS=E_(u.AS),u.Vo(new i_(u.AS)))}},u.Dwt=function(t){u.Vo(new wS)},u.Emt=function(t){u.fH=t.detail.readyState,u.Vo(new Yl(+t.detail.currentTime,u.a_)),u.Amt()},u.Smt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.sw.length){t.next=3;break}return t.next=3,u.omt.Zo("seekablechange");case 3:u.fH=n.detail.readyState,u.Vo(new ql(+n.detail.currentTime,u.a_)),u.Amt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.bwt=function(t){t.detail&&u.WI&&(u.WI=!1,u.Vo(new Hl(+t.detail.currentTime)))},u.Twt=function(t){t.detail&&(u.WI||(u.WI=!0,u.Vo(new Fl(+t.detail.currentTime))))},u.Rmt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.iW=new sA(i).gI(.05)}},u.Jwt=function(t){t.detail&&u.Vo(new em(+t.detail.currentTime))},u.Rwt=function(t){t.detail&&(u.qI=t.detail.playbackRate,u.Vo(new Gl(+t.detail.currentTime,u.qI)))},u.Imt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.QF=new sA(i)}},u.Swt=function(t){t.detail&&(u.VI=+t.detail.currentTime,u.zI=!1,u.Vo(new jl(u.VI,u._mt)),u.Vo(new Jl(u.VI)))},u.Ewt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.aH&&(u.cH=!1),u.zI=!0,u.Vo(new Zl(n))}},u.Nmt=function(t){t.detail&&(t.detail.currentDate&&(u._mt=new Date(1e3*t.detail.currentDate)),u.VI=+t.detail.currentTime,u.Vo(new jl(u.VI,u._mt)))},u.Cmt=function(t){u.wmt=t.detail.height,u.ymt=t.detail.width},u.Dmt=function(t){t.detail&&u.Vo(new rm(+t.detail.currentTime))},u.Xwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.pg.Bl(new F_(n))},u.Omt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,s=0;s<u._g.Hl;s++){var o=u.pg.Pl(s);o.t_==r&&o.Kl==e?i=u._g.Pl(s):1==o.Yl&&(n=u._g.Pl(s))}i&&n&&(i.Yl=!0,n.Yl=!1)},u.qwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Ag.Bl(new q_(n))},u.Kj=function(t){var n,i=t.detail.kind,r=t.detail.type;i===oy.Nk&&r===X_.ID3?(n=new II("",t.detail.label)).h_=Kd.e_:i===oy.Nk&&r===X_.DATE_RANGE?(n=new lD,u.mmt=n):n=new AR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),u.WX.Bl(n),u.QX.Bl(n)},u.xmt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,s={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(s.description=r.Id3FrameDescription);var o=new SI(Wd(r.startTime),s,r.uid),h=u.Pmt();h&&h.Yb(o)}},u.Bmt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],s=new og(Wd(e.startTime),Wd(e.endTime),e.content,!1),o=null!=(r=u.Lmt(oy.Rk))?r:u.Lmt(oy.Mb);o&&(o.co=X_.WEBVTT,o.Yb(s))}},u.ZW=function(t){t.type===Yo.nc&&(u.pS=E_(t.errorObject)),u.Ho(t)},u.Mmt=function(t){t.detail&&(u.amt.Jg=t.detail.corruptedVideoFrames,u.amt.Zg=t.detail.droppedVideoFrames,u.Vo(new jF(u.ag)))},u.Umt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Zl:t.id};if(void 0!==t.startDate&&(n._R=new Date(t.startDate)),void 0!==t.endDate&&(n.IZ=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var s=QF(t.customAttributes[e]);void 0!==s&&(r[e]=s)}n.VZ=r}void 0!==t.scte35Cmd&&(n.XZ=Vs(t.scte35Cmd)),void 0!==t.scte35In&&(n.qZ=Vs(t.scte35In)),void 0!==t.scte35Out&&(n.WZ=Vs(t.scte35Out)),void 0!==t.startTime&&(n.Rw=t.startTime),n.UZ=t.class,n.G_=Wd(t.duration),n.FZ=Wd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Rw?t.Rw:(new Date).getTime(),r=new oD(t,i);u.mmt.Yb(r),u.mmt.Wh(n,i)})};var o=e.uid;u.zyt=u.getSdkBridge(o),u.omt=new xF,RF()[o].sdkEventBus=u.omt,u._g=new I_,u.gg=new I_;var h=u.Fmt(r);return u.Wb=new xU(sn(u),new bI),u.QX=new EI(sn(u)),u.ES=new Ry(u.Wb,h),u.WX=new hy,u.zX=new PI(sn(u)),u.zX.Gl=u.WX,u.GX=new BI(u.Wb,u.zX),u.wg=new Vp([u.WX,u.ES.pp,u.GX.pp]),u.umt=u.getFairPlayControllerBridge(u.zyt),u.mS=new GF(u.omt,u.umt),u.SS=new Fp(h),u.mS.jS=u.SS,u.observeMediaElement(),u.YS(),u.ZI=new PF(u.zyt,s),u.ZI.Xo("Ix",function(){u.zyt.EQ("THEOplayerSetPreferredForwardBufferDuration",u.ZI.Rx)}),u}F(n,t);var i=n.prototype;return i.Fg=function(){return hA},i.Lg=function(){this.zyt.EQ("THEOplayerShow",{})},i.Mg=function(){this.zyt.EQ("THEOplayerHide",{})},i.Hmt=function(){var t=this;this.zyt.EQ("THEOplayerSetInitialPreferredPeakBitRate",this.ZI.Fx);this.Xo("playing",function n(){t.zyt.EQ("THEOplayerSetInitialPreferredPeakBitRate",0),t.Go("playing",n)})},i.Ng=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kwt=n,r=ne({},i,{sources:{src:n.src,type:gl.R_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.zyt.EQ("THEOplayerSourceChange",r),e={co:xy.$b,v_:n.src,tv:n.type,ZS:this.JS(n),$S:n.crossOrigin,KS:i.metadata&&i.metadata.title},this.SS.uS(n.contentProtection),t.next=7,this.mS.Vh(e);case 7:this.kS=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==X_.WEBVTT})).length>0&&this.tR(s),Oy(this.bg),this.Hmt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.JS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Zh:Te,cR:[{initDataTypes:[Te.vo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Eg=function(){this.WI=!1,this.Vo(new Hl(this.z_)),this.zyt.EQ("THEOplayerPlay",{})},i.Sg=function(){this.WI=!0,this.Vo(new Fl(this.z_)),this.zyt.EQ("THEOplayerPause",{})},i.Ug=function(){},i.Ul=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.VI=0,this.cH=!1,this.pS=void 0,this.AS=void 0,this.WI=!0,this.qI=1,this.aH=void 0,this.QF=sA.LI(),this.gmt=sA.LI(),this.wmt=void 0,this.ymt=void 0,this.fH=ml.P_,this.tT=ml.P_,this._g.Ul(),this.gg.Ul(),this.WX.Ul(),this.wg.Ul(),t.next=19,this.GX.Ul();case 19:return this.zX.Ul(),t.next=22,this.ES.Ul();case 22:return this.Wb.Ul(),this.QX.Ul(),this.kwt=void 0,t.next=27,this.mS.Ul();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dg=function(){this.zyt.EQ("THEOplayerShowAirPlayPicker",{})},i.Og=function(){this.zyt.EQ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.ag.Jg=t.Jg,this.ag.Zg=t.Zg},i.qv=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ul();case 2:return this.zo(),this.unobserveMediaElement(),this.hR(),this.mS.jS=void 0,t.next=8,this.mS.Ro();case 8:return this._g.qv(),this.gg.qv(),this.WX.qv(),this.wg.qv(),this.zX.qv(),t.next=15,this.GX.qv();case 15:return t.next=17,this.ES.qv();case 17:this.Wb.qv(),this.QX.qv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.ES.Gb(i)}},i.Amt=function(){var t=this.tT,n=this.fH;t!==n&&(this.tT=n,this.Vo(new n_(this.z_,n)))},i.observeMediaElement=function(){this.mS.Xo(Yo.Ja,this.Ho),this.mS.Xo([Yo.ic,Yo.nc],this.ZW),this.omt.addEventListener("play",this.bwt),this.omt.addEventListener("pause",this.Twt),this.omt.addEventListener("seeking",this.Ewt),this.omt.addEventListener("seeked",this.Swt),this.omt.addEventListener("ratechange",this.Rwt),this.omt.addEventListener("durationchange",this.Tmt),this.omt.addEventListener("timeupdate",this.Nmt),this.omt.addEventListener("waiting",this.Dmt),this.omt.addEventListener("playing",this.Jwt),this.omt.addEventListener("ended",this.Cwt),this.omt.addEventListener("loadedmetadata",this.Smt),this.omt.addEventListener("loadeddata",this.Emt),this.omt.addEventListener("loadstart",this.Dwt),this.omt.addEventListener("canplay",this.pmt),this.omt.addEventListener("canplaythrough",this.bmt),this.omt.addEventListener("error",this.NS),this.omt.addEventListener("seekablechange",this.Imt),this.omt.addEventListener("videosizechange",this.Cmt),this.omt.addEventListener("bufferedchange",this.kmt),this.omt.addEventListener("playedchange",this.Rmt),this.omt.addEventListener("metricschange",this.Mmt),this.omt.addEventListener("addDateRangeCues",this.Umt)},i.unobserveMediaElement=function(){this.mS.Go(Yo.Ja,this.Ho),this.mS.Go([Yo.ic,Yo.nc],this.ZW),this.omt.removeEventListener("play",this.bwt),this.omt.removeEventListener("pause",this.Twt),this.omt.removeEventListener("seeking",this.Ewt),this.omt.removeEventListener("seeked",this.Swt),this.omt.removeEventListener("ratechange",this.Rwt),this.omt.removeEventListener("durationchange",this.Tmt),this.omt.removeEventListener("timeupdate",this.Nmt),this.omt.removeEventListener("waiting",this.Dmt),this.omt.removeEventListener("playing",this.Jwt),this.omt.removeEventListener("ended",this.Cwt),this.omt.removeEventListener("loadedmetadata",this.Smt),this.omt.removeEventListener("loadeddata",this.Emt),this.omt.removeEventListener("loadstart",this.Dwt),this.omt.removeEventListener("canplay",this.pmt),this.omt.removeEventListener("canplaythrough",this.bmt),this.omt.removeEventListener("error",this.NS),this.omt.removeEventListener("seekablechange",this.Imt),this.omt.removeEventListener("videosizechange",this.Cmt),this.omt.removeEventListener("bufferedchange",this.kmt),this.omt.removeEventListener("playedchange",this.Rmt),this.omt.removeEventListener("metricschange",this.Mmt),this.omt.removeEventListener("addDateRangeCues",this.Umt)},i.updateCurrentTime=function(t){var n=this.sw.start(0),i=this.sw.end(0);return _.min(_.max(t,n),i)},i.Pmt=function(){for(var t=0,n=this.wg.Fl;t<n.length;t++){var i=n[t];if(i.$l===oy.Nk&&i.co===X_.ID3)return i}},i.Lmt=function(t){for(var n=0,i=this.wg.Fl;n<i.length;n++){var r=i[n],e=r.h_===Kd.s_,s=r.$l===t;if(e&&s)return r}},i.YS=function(){this.omt.addEventListener("addaudiotrack",this.Xwt),this.omt.addEventListener("enableaudiotrack",this.Omt),this.omt.addEventListener("addvideotrack",this.qwt),this.omt.addEventListener("addtexttrack",this.Kj),this.omt.addEventListener("addtexttrackid3cues",this.xmt),this.omt.addEventListener("addtexttrackcues",this.Bmt)},i.hR=function(){this.omt.removeEventListener("addaudiotrack",this.Xwt),this.omt.removeEventListener("enableaudiotrack",this.Omt),this.omt.removeEventListener("addvideotrack",this.qwt),this.omt.removeEventListener("addtexttrack",this.Kj),this.omt.removeEventListener("addtexttrackid3cues",this.xmt),this.omt.removeEventListener("addtexttrackcues",this.Vmt)},i.zg=function(){},M(n,[{key:"pg",get:function(){return this._g}},{key:"Gg",get:function(){return this.gmt.vR()}},{key:"jg",get:function(){return this._mt?this._mt:null},set:function(t){this.zyt.EQ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this._mt=t}},{key:"z_",get:function(){return this.VI},set:function(t){this.setCurrentTime(t)}},{key:"G_",get:function(){return this.aH}},{key:"j_",get:function(){return this.cH}},{key:"ih",get:function(){return this.pS}},{key:"Q_",get:function(){return this.AS}},{key:"Tg",get:function(){}},{key:"Yg",get:function(){return this.mS.Yg}},{key:"ag",get:function(){return this.amt}},{key:"Y_",get:function(){return this.XI},set:function(t){this.XI!==t&&(this.zyt.EQ("THEOplayerSetMuted",t),this.XI=t,this.Vo(new $l(this.z_,t?0:1)))}},{key:"Z_",get:function(){return this.WI}},{key:"J_",get:function(){return this.qI},set:function(t){this.zyt.EQ("THEOplayerSetPlaybackRate",t),this.qI=t}},{key:"rw",get:function(){return this.iW.vR()}},{key:"ew",get:function(){return Jp.UR},set:function(t){}},{key:"a_",get:function(){return this.fH}},{key:"sw",get:function(){return this.QF.vR()}},{key:"K_",get:function(){return this.zI}},{key:"_R",get:function(){}},{key:"bg",get:function(){return this.wg}},{key:"tg",get:function(){return this.wmt}},{key:"ng",get:function(){return this.ymt}},{key:"ig",get:function(){return 1},set:function(t){}},{key:"Ag",get:function(){return this.gg}},{key:"gR",get:function(){return this.IS}},{key:"uw",get:function(){return!1},set:function(t){}},{key:"iw",get:function(){return!0}}]),n}(al),KF=function(){function t(){this.wR=Op.KE}var n=t.prototype;return n.yR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Tl(n.type))return!1;var r=n.contentProtection;if(r&&!Xm(r)){if(!zm(r))return!1;if(!t.$wt(r))return!1}return!0},t.$wt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.mR=function(){return!1},t}(),tH=function(){function t(){this.Xmt=e.webkit}return t.prototype.EQ=function(t,n){this.Xmt.messageHandlers[t]&&this.Xmt.messageHandlers[t].postMessage(n)},t}(),nH=function(t){function n(n){var i;return(i=t.call(this)||this).zyt=void 0,i.omt=void 0,i.Wmt=function(t){var n=Vs(t.detail.initData),r=t.detail.sessionId;i.Vo(new LF(n,r))},i.qmt=function(t){var n=new m(Ys(t.detail.message)),r=t.detail.destinationURL;i.Vo(new MF(n,r))},i.zmt=function(t){i.Vo(new UF)},i.zyt=n,i.omt=new xF,RF().fairplayController={sdkEventBus:i.omt},i.kK(),i}F(n,t);var i=n.prototype;return i.kK=function(){this.omt.addEventListener(DF.$yt,this.Wmt),this.omt.addEventListener(DF.Kyt,this.qmt),this.omt.addEventListener(DF.tmt,this.zmt)},i.AX=function(t,n){var i={playerId:NF(),data:Zs(n.buffer),sessionId:t};this.zyt.EQ("THEOplayerCreateKeySession",i)},i.Wh=function(t,n){var i={playerId:NF(),data:Zs(n.buffer),sessionId:t};this.zyt.EQ("THEOplayerUpdateKey",i)},n}(al),iH=function(t){var n=this;this.omt=void 0,this.Gmt=void 0,this.jmt=function(){n.Gmt.oQ()},this.Qmt=function(){n.Gmt.uQ()},this.omt=new xF,this.Gmt=t,this.omt.addEventListener("showTracks",this.jmt),this.omt.addEventListener("hideTracks",this.Qmt),RF().texttracks={sdkEventBus:this.omt}},rH=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this,n,i,r,e,s)||this).vQ=void 0,o.dQ=void 0,o.Ymt=void 0;var h=i.zS(R_.Bv);return o.vQ=new oN,o.vQ.bq(n),o.dQ=new TC(o.vQ.Qg,h.zB,o.bg,u,h.sR),o.Ymt=new iH(o.dQ),i.aR(h),kr.document.querySelector(".vjs-tech")?kr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):kr.document.querySelector(".player-div").style.background="transparent",o}F(n,t);var i=n.prototype;return i.Lg=function(){t.prototype.Lg.call(this),this.vQ.Lg()},i.Mg=function(){t.prototype.Mg.call(this),this.vQ.Mg()},i.Cg=function(){return!0},i.getSdkBridge=function(){return new tH},i.getFairPlayControllerBridge=function(){return sH},i.Fmt=function(t){return t},i.qv=function(){var n=E.coroutine(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return kr.document.querySelector(".vjs-tech")?kr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):kr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.qv.call(this);case 3:this.dQ.qv(),this.vQ.qv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}($F);Yp(new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.ZT=function(t,n,i,r,e,s){return new rH(t,n,i,r,e,s)},i.yR=function(n,i){if(n.type){var r=Br();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.yR.call(this,n,i)},n}(KF)));var eH,sH=new nH(new tH),uH=function(t){function n(){return t.call(this,"Zmt")||this}return F(n,t),n.prototype.cl=function(){return new oH},n}(Ad),oH=function(t){function n(){return t.call(this,"statechange")||this}return F(n,t),n}(Ss);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(eH||(eH={}));var hH=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Jmt=new al,n.Ho=function(t){n.Vo(t)},n}F(n,t);var i=n.prototype;return i.cl=function(){return n=function(t){var n=t.$mt.map(function(t){return t.al});return n.item=function(n){n|=0;var i=t.Pl(n);return i&&i.al||void 0},n}(t=this),i=new cE(t,n),n.addEventListener=function(t,n){i.Xo(t,n)},n.removeEventListener=function(t,n){i.Go(t,n)},n;var t,n,i},i.Xo=function(t,n){this.Jmt.Xo(t,n)},i.qo=function(t){this.Jmt.qo(t)},i.zo=function(){this.Jmt.zo()},i.Vo=function(t){this.Jmt.Vo(t)},i.Go=function(t,n){this.Jmt.Go(t,n)},i.Qo=function(t){this.Jmt.Qo(t)},i.Yo=function(t){this.Jmt.Yo(t)},i.Zo=function(t,n){return this.Jmt.Zo(t,n)},n}(function(){function t(){this.hh=[],this.hl=void 0}var n=t.prototype;return n.Pl=function(t){return this.hh[t]},n.hw=function(t){this.hh.push(t),this.hl&&this.hl.push(t.al),this.Kmt(t)},n.tkt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.hw(i)}},n.nkt=function(t,n){n>=0&&n<=this.hh.length&&(this.hh.splice(n,0,t),this.hl&&this.hl.splice(n,0,t.al),this.Kmt(t))},n.aw=function(t){return Je(this.hh,t)},n.Xh=function(t){this.ikt(this.hh.indexOf(t))},n.ikt=function(t){if(t>=0&&t<this.hh.length){var n=this.hh[t];Ze(this.hh,t),this.hl&&Ze(this.hl,t),this.rkt(n)}},n.lh=function(){var t=this.hh.slice();$e(this.hh),this.hl&&$e(this.hl);for(var n=0;n<t.length;n++){var i=t[n];this.rkt(i)}},M(t,[{key:"$mt",get:function(){return this.hh}},{key:"Hl",get:function(){return this.hh.length}},{key:"al",get:function(){return this.hl||(this.hl=this.cl()),this.hl}}]),t}());var aH,cH=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return F(n,t),n}(Ss),fH=function(t){function n(n){var i;return(i=t.call(this,"skt")||this).ekt=n,i}return F(n,t),n.prototype.cl=function(){return new cH(this.ekt.al)},n}(Ad),vH=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return F(n,t),n}(Ss),dH=function(t){function n(n){var i;return(i=t.call(this,"ukt")||this).task=n,i}return F(n,t),n.prototype.cl=function(){return new vH(this.task.al)},n}(Ad),lH=function(t){function n(){return t.call(this)||this}F(n,t);var i=n.prototype;return i.Kmt=function(t){this.Vo(new fH(t))},i.rkt=function(t){this.Vo(new dH(t))},n}(hH);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(aH||(aH={}));var _H=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).okt=aH.UNINITIALISED,e.uL=new lH,e.X7=void 0,e.hkt=void 0,e.akt=void 0,e.akt=i,e.hkt=r,e.X7=n,e.xg(),e}F(n,t);var i=n.prototype;return i.xg=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ckt();case 2:this.fkt(aH.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ckt=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.vkt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.vkt=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.X7.n1();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.akt.dkt(r.id,r.sourceDescription,r.parameters,this.hkt),this.lkt(e),this.uL.hw(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fkt=function(t){this.okt=t,this.Vo(new uH)},i.dkt=function(t,n,i){void 0===i&&(i="persistent");var r=this.akt._kt(t,n,i);return this.gkt(r,i),this.uL.hw(r),this.lkt(r),r},i.gkt=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wkt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),v("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.wkt=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.X7.J0({key:n.Zl,id:n.Zl,sourceDescription:n.OR,parameters:n.ua},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lkt=function(t){var n=this;t.Xo("Zmt",function(){t.dv===eH.EVICTED&&n.uL.Xh(t)})},M(n,[{key:"dv",get:function(){return this.okt}},{key:"ykt",get:function(){return this.uL}}]),n}(Ts);function gH(t,n){return function(t,n){var i=t.yu&&n.yu,r=t.Mp&&n.Mp;return i||r?i&&r?t.yu*t.Mp-n.yu*n.Mp:i?t.yu-n.yu:r?t.Mp-n.Mp:(t.yu||1)*(t.Mp||1)-(n.yu||1)*(n.Mp||1):0}(t,n)||function(t,n){return t.rS-n.rS}(t,n)}var wH=function(t){function n(){return t.call(this,"progress")||this}return F(n,t),n}(Ss),yH=function(t){function n(){return t.call(this,"b0")||this}return F(n,t),n.prototype.cl=function(){return new wH},n}(Ad),mH=function(){function t(t,n,i){if(this.mkt=void 0,this.kkt=t,this.ow=n,this.pkt=i,0===this.ow.size)this.mkt=sA.LI();else{var r=new sA([-1/0,1/0]);this.ow.forEach(function(t){r=r.fI(t.timeRanges)}),this.mkt=r}}return t.prototype.Gw=function(t){return!!Fd(this.ow,t.ow)&&(!!Yt(this.kkt,t.kkt)&&(!!Yt(this.DI,t.DI)&&(!!Yt(this.Akt,t.Akt)&&this.bkt.EI(t.bkt))))},t.Tkt=function(){return pH},M(t,[{key:"DI",get:function(){return this.pkt}},{key:"Ekt",get:function(){return this.kkt}},{key:"Akt",get:function(){return this.bkt.DI}},{key:"Skt",get:function(){var t=0,n=0;return this.ow.forEach(function(i){t+=i.timeRanges.DI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"bkt",get:function(){return this.mkt}}]),t}(),kH=re(),pH=new mH(0,kH,NaN);function AH(t,n){if(rt(t)){if(Ne(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var bH,TH=function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"Rkt"}}]),n}(on);function EH(t,n,i,r){var e=[],s=je(i,function(t){return t.Ikt===ve});if(void 0!==s){var u=s.gs?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.gs.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.Ikt!==ve)for(var a=0,c=Re(h.Ikt);a<c.length;a++){var f=c[a];e.push({Zh:f,hS:h.Nkt?[h.Nkt]:[],RE:void 0})}}if(e.length)return{gT:t,Ckt:{Dkt:u,wT:s.wT},Okt:e,xkt:n===R_.Pv?r.slice():[],Pkt:n===R_.Bv?r.slice():[],CX:!1}}}}function SH(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=re();return RH(r,e,t.Okt),RH(r,e,n.Okt),{gT:t.gT,Ckt:{Dkt:t.Ckt.Dkt,wT:null!=(i=t.Ckt.wT)?i:n.Ckt.wT},Okt:r,xkt:IH(t.xkt,n.xkt,Je),Pkt:IH(t.Pkt,n.Pkt,Je),CX:t.CX||n.CX||!1}}function RH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],s=e.Zh.lo,u=void 0;n.has(s)?(u=n.get(s)).hS=IH(u.hS,e.hS,NH):(u=ne({},e),t.push(u),n.set(s,u))}}function IH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var s=n[e];i(r,s)||r.push(s)}return r}function NH(t,n){for(var i=0;i<t.length;i++){if(Gs(t[i],n))return!0}return!1}function CH(t,n){var i,r=t.Bkt;if(r){for(var e=t.gD,s=[],u=0,o=t.C$;u<o.length;u++){var h=o[u];s.push(e+'; codecs="'+h+'"')}i=EH(n||{},t.co,r,s)}for(var a=0,c=t.Lkt;a<c.length;a++){i=SH(i,DH(c[a],n))}return i}function DH(t,n){return EH(n||{},t.co,t.Bkt||[],[t.tv])}function OH(t,n,i){return xH.apply(this,arguments)}function xH(){return(xH=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Mkt;s<u.length;s++)o=u[s],e.push(PH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{G_:n.Fkt.Ukt(),Hkt:[n.Vkt],Mkt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function PH(t,n,i){return BH.apply(this,arguments)}function BH(){return(BH=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Xkt;s<u.length;s++)o=u[s],e.push(LH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{Wkt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function LH(t,n,i){return MH.apply(this,arguments)}function MH(){return(MH=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.qkt;s<u.length;s++)UH(o=u[s])||e.push(VH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{pp:h,co:n.co});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function UH(t){return t.Lkt.every(HH)}!function(t){t[t.S_=0]="S_",t[t.R_=1]="R_"}(bH||(bH={}));var FH=1;function HH(t){return t.zkt!==FH&&Boolean(t.zkt)}function VH(t,n,i){return XH.apply(this,arguments)}function XH(){return(XH=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Lkt;s<u.length;s++)HH(o=u[s])||e.push(qH(o,r));return t.next=4,E.all(e);case 4:return h=t.sent,a=n.C$[0],c=n.Bkt,f=c?WH(a,c):void 0,v=CH(n,i),t.abrupt("return",{n_:h,t_:n.Gkt,co:n.co,ZS:f,jkt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function WH(t,n){for(var i=[],r=function(t){return t?Ne(t,"avc")?eo.VIDEO_H264:Ne(t,"hev")||Ne(t,"hvc")||Ne(t,"hvt")||Ne(t,"lhv")||Ne(t,"lhe")||Ne(t,"lht")?eo.VIDEO_H265:Ne(t,"mp4")?eo.VIDEO_MP4:Ne(t,"mpeg2")?eo.VIDEO_MPEG2:Ne(t,"mpeg")?eo.VIDEO_MPEG:eo.VIDEO_UNKNOWN:eo.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var s=n[e],u=s.Ikt.split(":").pop(),o=s.Nkt;i.push({mimeType:r,uuid:u,data:o})}return{type:bH.S_,schemeType:de,schemeDatas:i}}function qH(t,n){return zH.apply(this,arguments)}function zH(){return(zH=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GH(n,i);case 2:s=t.sent,u={Zl:YH(n),bb:s,d7:n.w7,rS:n.rS,mu:n.mu,Mp:n.Mp,co:n.co,yu:n.yu},t.t0=n.co,t.next=t.t0===R_.es?7:t.t0===R_.Bv?8:t.t0===R_.Pv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.e0=null!=(r=null==(e=n.e0)?void 0:e.oy())?r:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.$gt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function GH(t,n){return jH.apply(this,arguments)}function jH(){return(jH=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h,a,c;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Qkt,s=e.Ykt(),u=s;case 4:if(!u){t.next=16;break}if(!n.Zkt(u)){t.next=12;break}return t.next=8,n.Jkt(u,i,(new ss).Lo);case 8:for(o=t.sent,h=0;h<o.Hl;h++)r.push(QH(o.$kt(h),n));t.next=13;break;case 12:r.push(QH(u,n));case 13:u=e.Ult(u),t.next=4;break;case 16:return a=e.Kkt(),c=a.Iw-s.Rw,t.abrupt("return",{G_:c,h1:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function QH(t,n){return{Rw:t.Rw,G_:t.G_,tpt:n.npt(t)}}function YH(t){return t.ipt.$R+"-"+(""+t.Zl)}function ZH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var s in i[r]={},e){var u=[];i[r][s]=[];for(var o=e[s],h=0;h<o.length;h++){var a=o[h],c=JH(a,r,n);u.push(c)}i[r][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={co:r.type,Cp:[]}),n[r["group-id"]].Cp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],s=0,u=e.Cp;s<u.length;s++){var o=u[s];i[e.co]||(i[e.co]={}),i[e.co][o.name]||(i[e.co][o.name]=[]),i[e.co][o.name].push(o)}return i}(t),n)}function JH(t,n,i){for(var r=t["group-id"],e={jJ:t,CK:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===r&&e.CK.push(u)}return e}var $H,KH="und";function tV(t,n){return nV.apply(this,arguments)}function nV(){return(nV=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.U7([n],{});case 2:return r=t.sent,e=new nB,t.abrupt("return",e.op(r.I7,r.mv,cB(r.mv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function iV(t,n){return rV.apply(this,arguments)}function rV(){return(rV=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",eV(n,i));case 4:return t.abrupt("return",(e=void 0,e=mV(r=n),{G_:r.duration,Hkt:[r.uri],Mkt:[{Wkt:[{co:R_.Av,pp:[{co:R_.Av,t_:KH,n_:[{Zl:r.uri,bb:e,rS:0,mu:"",Mp:0,co:R_.Av,yu:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function eV(t,n){return sV.apply(this,arguments)}function sV(){return(sV=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ZH(n.media,n.streams),t.next=3,aV(r,i);case 3:return e=t.sent,t.next=6,oV(n.streams,i);case 6:return s=t.sent,e.push(s),t.abrupt("return",{G_:uV(e),Hkt:[n.uri],Mkt:[{Wkt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function uV(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].pp;r<e.length;r++){var s=e[r];n=_.max.apply(_,[n].concat(s.n_.map(function(t){return t.bb.G_})))}return n}function oV(t,n){return hV.apply(this,arguments)}function hV(){return(hV=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o,h,a,c;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return a=n[e],t.next=6,wV(a.uri,i);case 6:(c=t.sent).rS=a.bandwidth,c.mu=a.codecs,c.Mp=null!=(s=null==(u=a.resolution)?void 0:u.height)?s:0,c.yu=null!=(o=null==(h=a.resolution)?void 0:h.width)?o:0,r.push(c);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{co:R_.Av,pp:[{t_:KH,co:R_.Av,n_:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aV(t,n){return cV.apply(this,arguments)}function cV(){return(cV=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=te.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,fV(s,e,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fV(t,n,i){return vV.apply(this,arguments)}function vV(){return(vV=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=te.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,dV(u,r);case 7:o=t.sent,e.push(o),t.next=2;break;case 11:return t.abrupt("return",{co:_V(i),pp:e});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dV(t,n){return lV.apply(this,arguments)}function lV(){return(lV=E.coroutine(te.mark(function t(n,i){var r,e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n[0].jJ,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,gV(u,i);case 7:o=t.sent,r.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{t_:e.language||KH,co:_V(e.type),n_:r});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _V(t){switch(t.toUpperCase()){case"AUDIO":return R_.Pv;case"VIDEO":return R_.Bv;case"SUBTITLES":case"CLOSED-CAPTIONS":return R_.es;default:return R_.Av}}function gV(t,n){var i,r,e;return wV((r=(i=t).jJ.uri,e=i.CK.map(function(t){return t.uri}),r||(e.length?e[0]:void 0)),n)}function wV(t,n){return yV.apply(this,arguments)}function yV(){return(yV=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,tV(n,i);case 3:e=t.sent,r=mV(e),t.next=8;break;case 7:r={G_:0,h1:[]};case 8:return t.abrupt("return",{Zl:n||"default",rpt:n,bb:r,rS:0,mu:"",Mp:0,co:R_.Av,yu:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mV(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(kV(e))}return{G_:t.duration,h1:n}}function kV(t){return{Rw:t.start,G_:t.duration,tpt:pV(t.uri)}}function pV(t){return gD(t)?{kv:t.YZ,ZZ:[t.ZZ.$R,t.ZZ.tI],Vv:!1}:{kv:t.toString(),Vv:!1}}!function(t){t.$b="static",t.Kb="dynamic"}($H||($H={}));var AV,bV=31536e3,TV=2592e3,EV=86400,SV=3600,RV=60,IV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,NV=function(){function t(t){this.ept=void 0;var n=t.match(IV);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.ept=i*bV+r*TV+e*EV+s*SV+u*RV+o}var n=t.prototype;return n.Ukt=function(){return this.ept},n.spt=function(){return 1e3*this.ept},M(t,[{key:"T3",get:function(){return Cg.lm(this.ept,1e3)}}]),t}();!function(t){t.upt="progressive",t.hpt="interlaced",t.Av="unknown"}(AV||(AV={}));var CV=function(){function t(t,n){this.apt=t,this.cpt=n}return t.prototype.oy=function(){return this.apt/this.cpt},t}(),DV=/^(?:true|false)$/i,OV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function xV(t){if(void 0!==t)return new NV(t)}function PV(t){if(void 0!==t){var n=t.match(OV);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(r),g=Number(e)-1,w=Number(s),m=Number(u),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=_.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,m,k,p,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function BV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[MV(n[1]),MV(n[2])]}}function LV(t){if(void 0!==t){if(!y(Number(t)))try{return Wt.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function MV(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function UV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!y(i)&&!y(r))return new CV(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function FV(t){if(void 0!==t){if(DV.test(t))return"true"===t.toLowerCase();if(!y(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function HV(t){return{kv:t.Bs,fpt:FV(t.Is("availabilityTimeComplete")),vpt:MV(t.Is("availabilityTimeOffset"))}}function VV(t){return t.map(HV)}function XV(t){var n,i,r,e,s,u,o=KV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(s=(n=t).Ns(r,i))&&(s=n.Is(e+":"+i)),s),a=qw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Ys(a.Bs)),!u){var c=qw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Vs(t.Bs),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,s=new ArrayBuffer(e),u=new m(s),o=new DataView(s),h=new Gu;yu(o,h,e),yu(o,h,1886614376),yu(o,h,0),vu(o,h,i),yu(o,h,r),vu(o,h,n),0;return u.buffer}(c))}return{wT:h,Nkt:u,Ikt:o.Ikt,gs:o.gs}}function WV(t){return{dpt:t.Is("sourceURL"),ZZ:BV(t.Is("range"))}}function qV(t,n){var i=t.Is("d"),r=t.Is("t"),e=MV(t.Is("r"));n.push({G_:i,Rw:r,lpt:e})}function zV(t){return{h8:t.Is("index"),_pt:BV(t.Is("indexRange")),Cp:t.Is("media"),gpt:BV(t.Is("mediaRange"))}}function GV(t){var n,i;return ne({},YV(t),{wpt:(n=t.ps("SegmentURL"),(i=n.map(zV)).length>0?i:void 0),ypt:t.Is("xlink:href"),mpt:t.Is("xlink:actuate")})}function jV(t){var n=t.map(GV);return n.length>0?n:void 0}function QV(t){var n=FV(t.Is("availabilityTimeComplete")),i=MV(t.Is("availabilityTimeOffset")),r=BV(t.Is("indexRange")),e=FV(t.Is("indexRangeExact")),s=t.ps("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.bs+" element can not have more than one Initialization element.");var u=1===s.length?WV(s[0]):void 0,o=LV(t.Is("presentationTimeOffset")),h=t.ps("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.bs+" element can not have more than one RepresentationIndex element.");return{fpt:n,vpt:i,_pt:r,kpt:e,ppt:u,Apt:o,bpt:1===h.length?WV(h[0]):void 0,Tpt:xV(t.Is("timeShiftBufferDepth")),im:MV(t.Is("timescale"))}}function YV(t){var n=QV(t),i=t.ps("BitstreamSwitching"),r=i.length>0?WV(i[0]):void 0,e=MV(t.Is("duration")),s=t.ps("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.bs+" element can not have more than one SegmentTimeline element.");return ne({},n,{Ept:r,G_:e,Qkt:1===s.length?function(t){for(var n=[],i=t.ps("S"),r=0;r<i.length;r++)qV(i[r],n);return n}(s[0]):void 0,Spt:MV(t.Is("startNumber")),Rpt:MV(t.Is("endNumber"))})}function ZV(t){return ne({},YV(t),{Ipt:t.Is("bitstreamSwitching"),Npt:t.Is("index"),Cpt:t.Is("initialization"),Dpt:t.Is("media")})}function JV(t){return{$gt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(MV)):1===n.length?n.map(MV)[0]:void 0}}(t.Is("audioSamplingRate")),C$:t.Is("codecs"),Opt:FV(t.Is("codingDependency")),Bkt:function(t){if(0!==t.length)return t.map(XV)}(t.ps("ContentProtection")),xpt:t.ps("EssentialProperty").map(tX),e0:UV(t.Is("frameRate")),Mp:MV(t.Is("height")),zkt:MV(t.Is("maxPlayoutRate")),Ppt:MV(t.Is("maximumSAPPeriod")),gD:t.Is("mimeType"),Bpt:t.Is("profiles"),Lpt:t.Is("sar"),Mpt:function(t){switch(t){case AV.upt:case AV.hpt:case AV.Av:return t;default:return}}(t.Is("scanType")),Upt:t.Is("segmentProfiles"),Fpt:MV(t.Is("startWithSAP")),yu:MV(t.Is("width"))}}function $V(t){var n=JV(t),i=MV(t.Is("bandwidth")),r=VV(t.ps("BaseURL")),e=t.Is("dependencyId"),s=t.Is("id"),u=t.Is("mediaStreamStructureId"),o=MV(t.Is("qualityRanking")),h=t.ps("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?QV(h[0]):void 0,c=jV(t.ps("SegmentList")),f=t.ps("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return ne({},n,{rS:i,Hpt:r,Vpt:e,Zl:s,Xpt:u,Wpt:o,qpt:a,zpt:c,Gpt:1===f.length?ZV(f[0]):void 0})}function KV(t){return{Ikt:t.Is("schemeIdUri"),gs:t.Is("value")}}function tX(t){return KV(t)}function nX(t){return KV(t)}function iX(t){return KV(t)}function rX(t){var n,i=JV(t),r=function(t){return t.map(iX)}(t.ps("Accessibility")),e=VV(t.ps("BaseURL")),s=FV(t.Is("bitstreamSwitching")),u=t.Is("contentType"),o=MV(t.Is("group")),h=MV(t.Is("id")),a=(null==(n=t.ps("Label")[0])?void 0:n.Bs)||"",c=t.Is("lang"),f=MV(t.Is("maxBandwidth")),d=UV(t.Is("maxFrameRate")),l=MV(t.Is("maxHeight")),_=MV(t.Is("maxWidth")),g=MV(t.Is("minBandwidth")),w=UV(t.Is("minFrameRate")),y=MV(t.Is("minHeight")),m=MV(t.Is("minWidth")),k=t.Is("par"),p=t.ps("Representation").map($V);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A=function(t){return t.map(nX)}(t.ps("Role")),b=FV(t.Is("segmentAlignment"))||!1,T=t.ps("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var E=1===T.length?QV(T[0]):void 0,S=jV(t.ps("SegmentList")),R=t.ps("SegmentTemplate");if(R.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I=1===R.length?ZV(R[0]):void 0,N=MV(t.Is("selectionPriority"));return ne({},i,{jpt:r,Hpt:e,Ept:s,tv:u,Qpt:o,Zl:h,Kl:a,t_:c,Ypt:f,Zpt:d,Jpt:l,$pt:_,Kpt:g,tAt:w,nAt:y,iAt:m,rAt:k,Lkt:p,eAt:A,sAt:b,qpt:E,zpt:S,Gpt:I,wR:N||1,uAt:FV(t.Is("subsegmentAlignment"))||!1,oAt:MV(t.Is("subsegmentStartsWithSAP")),hAt:t.Is("xlink:actuate")||"onRequest",aAt:t.Is("xlink:href")})}function eX(t){var n=LV(t.Is("presentationTime"))||Wt.ZERO,i=LV(t.Is("duration")),r=MV(t.Is("id")),e=function(t){for(var n=t.Ps,i={},r=0;r<n.length;r++)i[n[r].ds]=n[r].gs;return i}(t),s=t.Bs;return{eb:n,G_:i,Zl:r,Ps:e,Ls:""!==s.trim()?s:t.Is("messageData")||""}}function sX(t){return{aAt:t.Is("xlink:href"),hAt:t.Is("xlink:actuate"),Ikt:t.Is("schemeIdUri"),gs:t.Is("value"),im:MV(t.Is("timescale")),Apt:LV(t.Is("presentationTimeOffset")),wD:t.ps("Event").map(eX)}}function uX(t,n){var i=t.ps("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?KV(i[0]):void 0,e=t.ps("AdaptationSet").map(rX),s=VV(t.ps("BaseURL")),u=FV(t.Is("bitstreamSwitching")),o=xV(t.Is("duration")),h=t.ps("EventStream").map(sX),a=t.Is("id"),c=n&&xV(n.Is("start")),f=t.ps("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?QV(f[0]):void 0,l=jV(t.ps("SegmentBase")),_=t.ps("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?ZV(_[0]):void 0,w=xV(t.Is("start")),y=(t.ps("Subset"),t.Is("xlink:href"));return{qkt:e,cAt:r,Hpt:s,Ept:u,G_:o,fAt:h,Zl:a,vAt:c,qpt:d,zpt:l,Gpt:g,$R:w,hAt:t.Is("xlink:actuate"),aAt:y}}function oX(t){var n=t.Is("schemeIdUri");if(n)return{Ikt:n,gs:t.Is("value")}}function hX(t,n){var i=PV(t.Is("availabilityEndTime")),r=PV(t.Is("availabilityStartTime")),e=VV(t.ps("BaseURL")),s=t.Is("id"),u=t.ps("Location").map(function(t){return""+t.Bs}),o=xV(t.Is("maxSegmentDuration")),h=xV(t.Is("maxSubsegmentDuration")),a=xV(t.Is("mediaPresentationDuration")),c=(t.ps("Metrics"),xV(t.Is("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=xV(t.Is("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(uX(t[i],t[i+1]));return n}(t.ps("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Is("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{dAt:i,lAt:r,Hpt:e,Zl:s,_At:u,gAt:n,wAt:o,yAt:h,Fkt:a,mAt:c,kAt:f,Mkt:d,Bpt:l,pAt:PV(t.Is("publishTime")),AAt:xV(t.Is("suggestedPresentationDelay")),Tpt:xV(t.Is("timeShiftBufferDepth")),co:function(t){switch(t){case $H.$b:case $H.Kb:return t;default:return}}(t.Is("type")),bAt:function(t){for(var n=[],i=0;i<t.length;i++){var r=oX(t[i]);r&&n.push(r)}return n}(t.ps("UTCTiming"))}}var aX,cX=function(){function t(){}return t.prototype._yt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return hX(t,n)}(T.hs(t).Ms,n)},t}(),fX=0,vX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Jl=void 0,u.vw=void 0,u.TAt=void 0,u.Zl=n,u.rS=i,u.C$=r,u.YZ=s,u.Jl=fX++,u.vw=e||"",u.TAt=!0,u}return F(n,t),n.prototype.Bb=function(){this.TAt=!1,this.Vo(new AU(this.al))},M(n,[{key:"Kl",get:function(){return this.vw},set:function(t){this.vw!==t&&(this.vw=t,this.Vo(new AU(this.al)))}},{key:"pY",get:function(){return this.TAt}}]),n}(Ts),dX=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,s)||this).hl=void 0,c.e0=u,c.yu=o,c.Mp=h,c.Jgt=a,c}return F(n,t),M(n,[{key:"al",get:function(){return this.hl||(this.hl=bU(this)),this.hl}}]),n}(vX),lX=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).hl=void 0,o.$gt=u,o}return F(n,t),M(n,[{key:"al",get:function(){return this.hl||(this.hl=TU(this)),this.hl}}]),n}(vX);!function(t){t.EAt="SAt",t.RAt="IAt"}(aX||(aX={}));var _X=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).NAt=function(t){n.Vo(t)},n}return F(n,t),M(n,[{key:"CAt",get:function(){var t=this.DAt();return null==t?void 0:t.$R}},{key:"OAt",get:function(){var t=this.DAt();return null==t?void 0:t.tI}}]),n}(Ts);function gX(t){return ot(t.xAt)}var wX=function(t){function n(n,i){var r;if((r=t.call(this)||this).PAt=void 0,r.hl=void 0,r.BAt=void 0,r.LAt=void 0,r.MAt=void 0,r.PAt=n,r.BAt=i,r.BAt.Xo(aX.EAt,r.NAt),r.co===R_.Bv){var e,s,u=null!=(e=null==(s=r.e0)?void 0:s.oy())?e:NaN;r.LAt=new dX(r.Zl,r.rS,r.mu,"","",u,r.yu,r.Mp)}else r.co===R_.Pv?r.LAt=new lX(r.Zl,r.rS,r.mu,"","",r.$gt):r.LAt=void 0;return r}F(n,t);var i=n.prototype;return i.npt=function(t){var n=gX(t)?this.BAt.UAt(t):this.BAt.npt(t);return{kv:n.kv,ZZ:n.ZZ,Vv:this.FAt.Vv}},i.HAt=function(){return this.BAt.HAt()},i.DAt=function(){return this.BAt.DAt()},i.VAt=function(){return this.BAt.VAt()},i.Zkt=function(t){return this.BAt.Zkt(t)},i.Jkt=function(t,n,i){return this.BAt.Jkt(t,this.FAt.Vv,n,i)},i.XAt=function(t){return gX(t)?this.Qkt.WAt(t):this.Qkt.XAt(t)},i.Q8=function(t){return gX(t)?this.Qkt.qAt(t):this.Qkt.Q8(t)},i.qv=function(){this.BAt.Go(aX.EAt,this.NAt)},M(n,[{key:"zAt",get:function(){return this.PAt}},{key:"$gt",get:function(){var t;return null!=(t=this.BAt.Ls.$gt)?t:this.zAt.$gt}},{key:"rS",get:function(){return this.BAt.Ls.rS||0}},{key:"C$",get:function(){var t=this.BAt.Ls;return t.C$?[t.C$]:this.zAt.C$}},{key:"GAt",get:function(){var t=this.BAt.Ls;return t.C$?[t.C$]:[]}},{key:"mu",get:function(){return this.BAt.Ls.C$||this.zAt.mu}},{key:"Opt",get:function(){return this.BAt.Ls.Opt||this.zAt.Opt}},{key:"Bkt",get:function(){return this.BAt.Ls.Bkt||this.zAt.Bkt}},{key:"tv",get:function(){return this.gD+'; codecs="'+this.mu+'"'}},{key:"xpt",get:function(){var t=this.BAt.Ls;return t.xpt.length?t.xpt:this.zAt.xpt}},{key:"al",get:function(){return this.hl||(this.hl=(t=this,{get id(){return t.Zl},get type(){return t.co},get bandwidth(){return t.rS},get width(){return t.yu},get height(){return t.Mp},get frameRate(){var n,i;return null!=(n=null==(i=t.e0)?void 0:i.oy())?n:NaN},get audioSamplingRate(){return t.$gt}}));var t}},{key:"e0",get:function(){var t;return null!=(t=this.BAt.Ls.e0)?t:this.zAt.e0}},{key:"Mp",get:function(){return this.BAt.Ls.Mp||this.zAt.Mp}},{key:"Zl",get:function(){return this.BAt.Ls.Zl||""}},{key:"W5",get:function(){return this.MAt},set:function(t){this.MAt=t}},{key:"w7",get:function(){var t=this.BAt.jAt();if(t)return{kv:t.kv,ZZ:t.ZZ,Vv:this.FAt.Vv}}},{key:"zkt",get:function(){return this.BAt.Ls.zkt||this.zAt.zkt||1}},{key:"Ppt",get:function(){return this.BAt.Ls.Ppt||this.zAt.Ppt}},{key:"FAt",get:function(){return this.ipt.FAt}},{key:"gD",get:function(){return this.BAt.Ls.gD||this.zAt.gD}},{key:"ipt",get:function(){return this.zAt.ipt}},{key:"Bpt",get:function(){return this.BAt.Ls.Bpt||this.zAt.Bpt}},{key:"Qgt",get:function(){return this.LAt}},{key:"Lpt",get:function(){return this.BAt.Ls.Lpt||this.zAt.Lpt}},{key:"Mpt",get:function(){return this.BAt.Ls.Mpt||this.zAt.Mpt}},{key:"QAt",get:function(){return this.BAt.QAt}},{key:"Upt",get:function(){return this.BAt.Ls.Upt||this.zAt.Upt}},{key:"Qkt",get:function(){return this.BAt.Qkt}},{key:"Fpt",get:function(){return this.BAt.Ls.Fpt||this.zAt.Fpt}},{key:"co",get:function(){var t=this.gD.split("/")[0];return"application"===t||"text"===t||yy(this.gD,this.C$)?R_.es:"video"===t?R_.Bv:"audio"===t?R_.Pv:"image"===t?R_.Lv:R_.Av}},{key:"yu",get:function(){return this.BAt.Ls.yu||this.zAt.yu}}]),n}(_X),yX=function(t){function n(n,i){var r;return(r=t.call(this)||this).YAt=[],r.BAt=void 0,r.ZAt=void 0,r.JAt=[],r.ZAt=n,r.BAt=i,r.BAt.Xo(aX.EAt,r.NAt),r}F(n,t);var i=n.prototype;return i.Wh=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.JAt.length){t.next=6;break}return this.JAt=[],r=this.BAt.Lkt.map(function(t){return e.$At(t,n,i)}),t.next=5,E.all(r);case 5:this.JAt=t.sent.filter($);case 6:this.KAt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$At=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new wX(this,n),t.next=3,i(e);case 3:if(s=t.sent,hs(r),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.KAt=function(){if(!this.JAt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.DAt=function(){return this.BAt.DAt()},i.VAt=function(){return this.BAt.VAt()},i.qv=function(){this.BAt.Go(aX.EAt,this.NAt);for(var t=0,n=this.JAt;t<n.length;t++){n[t].qv()}$e(this.JAt)},M(n,[{key:"jpt",get:function(){return this.BAt.Ls.jpt}},{key:"$gt",get:function(){var t;return null!=(t=this.BAt.Ls.$gt)?t:-1}},{key:"C$",get:function(){if(this.BAt.Ls.C$)return[this.BAt.Ls.C$];for(var t=[],n=0,i=this.Lkt;n<i.length;n++){var r=i[n];r.GAt.length&&-1===t.indexOf(r.mu)&&t.push(r.mu)}return t}},{key:"mu",get:function(){return this.C$.join()}},{key:"Opt",get:function(){return this.BAt.Ls.Opt}},{key:"Bkt",get:function(){return this.BAt.Ls.Bkt}},{key:"tv",get:function(){return this.gD+'; codecs="'+this.mu+'"'}},{key:"xpt",get:function(){return this.YAt}},{key:"e0",get:function(){return this.BAt.Ls.e0}},{key:"Qpt",get:function(){return this.BAt.Ls.Qpt}},{key:"Mp",get:function(){return this.BAt.Ls.Mp||0}},{key:"Zl",get:function(){return this.BAt.Ls.Zl}},{key:"Kl",get:function(){return this.BAt.Ls.Kl||""}},{key:"zkt",get:function(){return this.BAt.Ls.zkt}},{key:"Ppt",get:function(){return this.BAt.Ls.Ppt}},{key:"FAt",get:function(){return this.ipt.FAt}},{key:"gD",get:function(){return this.BAt.Ls.gD||this.JAt[0].gD}},{key:"ipt",get:function(){return this.ZAt}},{key:"Bpt",get:function(){return this.BAt.Ls.Bpt}},{key:"Lkt",get:function(){return this.JAt}},{key:"eAt",get:function(){return this.BAt.Ls.eAt||[]}},{key:"Lpt",get:function(){return this.BAt.Ls.Lpt}},{key:"Mpt",get:function(){return this.BAt.Ls.Mpt}},{key:"Upt",get:function(){return this.BAt.Ls.Upt}},{key:"wR",get:function(){return this.BAt.Ls.wR}},{key:"Fpt",get:function(){return this.BAt.Ls.Fpt}},{key:"co",get:function(){var t=(this.BAt.Ls.tv||this.gD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||yy(this.gD,this.C$)?R_.es:"video"===t?R_.Bv:"audio"===t?R_.Pv:"image"===t?R_.Lv:R_.Av}},{key:"yu",get:function(){return this.BAt.Ls.yu||0}},{key:"Gkt",get:function(){return this.BAt.Ls.t_||""}},{key:"tbt",get:function(){return this.CAt}},{key:"nbt",get:function(){var t=this.tbt,n=this.OAt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.FAt.ibt);return _.max(t,i)}}}]),n}(_X);function mX(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],s=0;s<t.length;s++){var u=t[s];i.push(T.Fu(u,e))}return i}var kX=function(){function t(t,n){this.ZAt=void 0,this.rbt=void 0,this.xQ=void 0,this.ebt=void 0,this.sbt=void 0,this.ZAt=t,this.rbt=n,this.xQ=n.im,this.ebt=n.vpt,this.sbt=n.Apt}var n=t.prototype;return n.ubt=function(t){var n=t-this.ZAt.$R;if(!(n<0||n>=this.ZAt.G_)){var i=this.obt();return void 0!==i&&Gt(i,n,1e-5)?this.Ykt():this.hbt(n)}},n.abt=function(t){var n=t-this.ZAt.$R;if(!(n<0))return this.cbt(_.min(n,this.ZAt.G_))},n.Ykt=function(){return this.fbt(0)},n.Kkt=function(){var t=this.ZAt.G_;if(isFinite(t))return this.cbt(t)},n.HAt=function(t){if(this.ZAt.vbt.co===$H.Kb){var n=this.dbt(t);if(!n)return;return{lbt:t,_bt:this.gbt(t),wbt:n}}var i=this.Ykt();if(i)return{lbt:t,_bt:i,wbt:this.Kkt()}},n.VAt=function(t,n){if(n){var i=this.ybt(n._bt),r=this.Ult(n.wbt);if(r){var e=this.mbt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.Ykt();if(s){var u=this.mbt(s);if(t.getTime()<u.getTime())return u}var o=this.ZAt.vbt.lAt;return t.getTime()<o.getTime()?o:void 0},n.dbt=function(t){var n=(t.getTime()-this.ZAt.vbt.lAt.getTime())/1e3-this.ZAt.$R+this.ebt,i=this.cbt(zt(n,0,this.ZAt.G_));if(i&&(i=this.kbt(i,t))){for(var r=this.Ult(i);r&&this.pbt(r,t);)i=r,r=this.Ult(i);return i}},n.gbt=function(t){var n,i=this.rbt.Tpt;if(i){var r=(t.getTime()-this.ZAt.vbt.lAt.getTime())/1e3-this.ZAt.$R-i.Ukt();(n=this.cbt(zt(r,0,this.ZAt.G_)))||(n=this.Ykt())}else n=this.Ykt();if(n&&(n=this.kbt(n,t))){for(var e=this.Abt(n);e&&this.pbt(e,t);)n=e,e=this.Abt(n);return n}},n.kbt=function(t,n){for(var i=t;i&&this.mbt(i).getTime()>n.getTime();)i=this.Abt(i);if(i){var r=this.ybt(i);if(r&&r.getTime()<=n.getTime()){var e=this.Abt(i);for(e&&this.pbt(e,n)&&(i=e);i;){if(this.mbt(i).getTime()>n.getTime())return;if(this.pbt(i,n))break;i=this.Ult(i)}if(!i)return}return i}},n.pbt=function(t,n){if(this.mbt(t).getTime()>n.getTime())return!1;var i=this.ybt(t);return!(i&&n.getTime()>=i.getTime())},n.bbt=function(t,n){if(this.Tbt(t).getTime()>n.getTime())return!1;var i=this.ybt(t);return!(i&&n.getTime()>=i.getTime())},n.Ebt=function(t,n,i){var r=nn(n,this.xQ)+this.ZAt.$R;return{h8:t,Sbt:n,Rw:r,G_:i,Iw:r+i}},n.Tbt=function(t){return this.ZAt.vbt.co===$H.Kb?new Date(this.ZAt.vbt.lAt.getTime()+1e3*(t.Rw+t.G_)):this.ZAt.vbt.lAt},n.mbt=function(t){var n=this.Tbt(t);return this.ZAt.vbt.co===$H.Kb?new Date(n.getTime()-1e3*this.ebt):n},n.ybt=function(t){var n=1/0;if(this.ZAt.vbt.co===$H.Kb){var i=this.rbt.Tpt;i&&(n=this.Tbt(t).getTime()+1e3*t.G_+i.spt())}var r=this.ZAt.vbt.dAt;return r&&(n=_.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Rbt=function(t,n){return t.h8+n},n.Zkt=function(t){return!1},n.Jkt=function(t,n,i,r,e){var s=this.Ibt(t);if(!s)return E.reject(new v("Invalid segment"));var u=this.Nbt(s.h8);return u?E.resolve(u):this.Cbt(s.h8,n,i,r,e)},n.Nbt=function(t){},n.Cbt=function(t,n,i,r,e){return E.reject(new v("Not supported"))},n.Abt=function(t){var n=this.Ibt(t);if(n)return this.fbt(n.h8-1)},n.Ult=function(t){var n=this.Ibt(t);if(n)return this.fbt(n.h8+1)},n.Ibt=function(t){var n=this.fbt(t.h8);if(n&&n.Rw===t.Rw)return n;var i=this.ubt(t.Rw);return i&&i.Rw===t.Rw?i:void 0},n.Dbt=function(t){var n=this.Obt(t);if(n&&this.Zkt(n.h8)){var i=this.Nbt(n.h8);if(i)return i.Dbt(t)}},n.Obt=function(t){return this.fbt(t.xbt)},n.XAt=function(t){var n=this.Ibt(t);return!!n&&0===n.h8},n.WAt=function(t){var n=this.Dbt(t);return!!n&&0===n.xAt},n.Q8=function(t){var n=this.Ibt(t);if(!n)return!1;var i=this.Kkt();return!!i&&n.h8===i.h8},n.qAt=function(t){var n=this.Dbt(t);if(!n)return!1;var i=this.Kkt();if(!i||n.xbt!==i.h8)return!1;var r=this.Nbt(n.xbt);return n.xAt+1===r.Hl},M(t,[{key:"Pm",get:function(){return nn(this.sbt,this.xQ)-this.ZAt.$R}},{key:"Apt",get:function(){return nn(this.sbt,this.xQ)}}]),t}(),pX=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).Pbt=void 0,r.Bbt=void 0;var e=n.Lbt,s=n.G_;if(void 0===e||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.Bbt=e,r.Pbt=s,r}F(n,t);var i=n.prototype;return i.fbt=function(t){if(!(t<0)){var n=this.Bbt.multiply(t),i=nn(n,this.xQ),r=this.ZAt.G_;if(!(i>=r)){var e=this.Mbt();if(void 0!==e){if(t>e)return;if(t===e)return this.Ebt(t,n,r-i)}return isFinite(r)&&i+this.Pbt>r?this.Ebt(t,n,r-i):this.Ebt(t,n,this.Pbt)}}},i.obt=function(){return 0},i.hbt=function(t){var n=_.floor(t/this.Pbt),i=this.Mbt();return void 0!==i&&n>=i?this.fbt(i):this.fbt(n)},i.cbt=function(t){if(t>=this.ZAt.G_){var n=_.ceil(this.ZAt.G_/this.Pbt)-1,i=this.Mbt();return void 0!==i&&n>=i?this.fbt(i):this.fbt(n)}return this.hbt(t)},i.Mbt=function(){var t,n=this.rbt.Rpt;if(void 0!==n)return n-(null!=(t=this.rbt.Spt)?t:1);if(isFinite(this.ZAt.G_)){var i=this.rbt.Ubt;if(void 0!==i&&i>0)return i-1}},i.Fbt=function(){if(isFinite(this.ZAt.G_))return this.Kkt()},i.Hbt=function(t,n){return this.Bbt.multiply(t.h8+(n-1))},i.Wh=function(){},n}(kX);function AX(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,s=t[r].Rw,u=t[e].Iw;r<=e&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=r+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(e-r)),h=t[o],a=h.Rw,c=o+1<i?t[o+1].Rw:h.Iw;if(c.lessThanOrEqual(n))r=o+1,s=c;else{if(!n.lessThan(a))return o;e=o-1,u=a}}return-1}var bX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Vbt=[],r.Xbt=void 0,r.Wbt=Wt.ZERO,r.Wh(),r}F(n,t);var i=n.prototype;return i.fbt=function(t){if(!(t<0))return t<this.Vbt.length?this.Vbt[t].Olt:this.qbt(t-this.Vbt.length)},i.obt=function(){if(this.Vbt.length>0)return nn(this.Vbt[0].Rw,this.xQ)},i.hbt=function(t){if(this.Xbt&&nn(this.Xbt.Rw,this.xQ)<=t){var n=nn(this.Xbt.Rw,this.xQ),i=nn(this.Xbt.G_,this.xQ),r=_.floor((t-n)/i);return this.qbt(r)}if(this.Vbt.length>0&&Gt(t,nn(this.Vbt[0].Rw,this.xQ),1e-5))return this.Vbt[0].Olt;var e=AX(this.Vbt,Wt.fromNumber(t*this.xQ));return e<0?void 0:this.Vbt[e].Olt},i.cbt=function(t){if(!this.Xbt&&this.Vbt.length>0){var n=this.Vbt[this.Vbt.length-1];if(i=t,r=nn(n.Iw,this.xQ),wg(i,r,1e-5)>=0)return n.Olt}var i,r,e=this.obt();return e&&t<e?this.Vbt[0].Olt:this.hbt(t)},i.Fbt=function(){return isFinite(this.ZAt.G_)?this.Kkt():this.fbt(this.Vbt.length-1)},i.Hbt=function(t){return this.zbt(t)},i.qbt=function(t){if(this.Xbt){var n=this.Xbt.Rw,i=this.Xbt.G_,r=n.add(i.multiply(t)),e=nn(r,this.xQ),s=this.ZAt.G_;if(!(e>=s)){var u=this.Vbt.length+t,o=_.min(nn(i,this.xQ),e+s);return this.Ebt(u,r,o)}}},i.zbt=function(t){return t.Sbt.add(this.sbt)},i.Wh=function(){var t=this.rbt.Ls.Qkt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Gbt(t)},i.Gbt=function(t){var n=this.sbt;this.jbt(t,n);var i=this.Qbt(t);this.Ybt(t,n,i.Zbt,i.xbt)},i.jbt=function(t,n){var i=this.Vbt;if(0===t.length)$e(i);else{for(var r=t[0],e=r.Rw?Wt.fromString(r.Rw,!1).subtract(n):Wt.ZERO,s=0;s<i.length&&i[s].Rw.lessThan(e);)s++;s>0&&i.splice(0,s)}},i.Qbt=function(t){for(var n=this.Vbt,i=this.Wbt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].lpt||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].Rw.greaterThanOrEqual(i))break;if(n[e].Olt.h8===e)e=u+1;else for(;e<=u;)n[e].Olt.h8=e,e++;0,r++}return{Zbt:r,xbt:e}},i.Ybt=function(t,n,i,r){for(var e,s=this.Vbt,u=i,o=r;u<t.length;){var h=t[u],a=Wt.fromString(h.G_,!1),c=h.lpt||0,f=void 0;if(h.Rw){if(f=Wt.fromString(h.Rw,!1).subtract(n),o>0){var v=s[o-1];v.Iw.greaterThan(f)&&(v.G_=f.subtract(v.Rw),v.Iw=v.Rw.add(v.G_))}}else f=o>0?s[o-1].Iw:Wt.ZERO;if(c<0){if(u+1===t.length){e={Rw:f,G_:a};break}for(var d=Wt.fromString(t[u+1].Rw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Jbt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.Jbt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Wbt=s[s.length-1].Rw),this.Xbt=e},i.Jbt=function(t,n,i,r,e){if(n<t.length){var s=t[n];0,s.G_.equals(r)?s.Olt.h8=n:t[n]={Rw:i,G_:r,Iw:e,Olt:this.Ebt(n,i,nn(r,this.xQ))}}else t.push({Rw:i,G_:r,Iw:e,Olt:this.Ebt(n,i,nn(r,this.xQ))})},n}(kX),TX=function(){function t(t,n,i){this.ipt=void 0,this.$bt=void 0,this.nr=void 0,this.Kbt=void 0,this.tTt=void 0,this.ipt=t,this.$bt=n,this.nr=i}var n=t.prototype;return n.nTt=function(){if(this.tTt=this.iTt(),this.tTt)return this.tTt;if(this.$bt)return this.$bt.Qkt;throw new v("Missing media segment information.")},n.jAt=function(t){var n=this.ppt;if(n)return{kv:(void 0!==n.dpt?T.Fu(n.dpt,t.Hpt[0]):t.Hpt[0]).href,ZZ:n.ZZ};var i=this._pt;return i?{kv:t.Hpt[0].href,ZZ:[0,i[0]-1]}:void 0},n.Wh=function(t){this.nr=t,this.tTt&&this.tTt.Wh()},M(t,[{key:"Ls",get:function(){return this.nr}},{key:"vpt",get:function(){return this.nr&&void 0!==this.nr.vpt?this.nr.vpt:this.$bt?this.$bt.vpt:0}},{key:"Apt",get:function(){return this.nr&&void 0!==this.nr.Apt?this.nr.Apt:this.$bt?this.$bt.Apt:Wt.ZERO}},{key:"Tpt",get:function(){return this.nr&&void 0!==this.nr.Tpt?this.nr.Tpt:this.$bt?this.$bt.Tpt:this.ipt.vbt.Tpt}},{key:"im",get:function(){return this.nr&&void 0!==this.nr.im?this.nr.im:this.$bt&&this.$bt.im?this.$bt.im:1}},{key:"_pt",get:function(){return this.nr&&void 0!==this.nr._pt?this.nr._pt:this.$bt?this.$bt._pt:void 0}},{key:"ppt",get:function(){return this.nr&&void 0!==this.nr.ppt?this.nr.ppt:this.$bt?this.$bt.ppt:void 0}},{key:"Qkt",get:function(){return this.Kbt||(this.Kbt=this.nTt()),this.Kbt}}]),t}(),EX=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.iTt=function(){return this.nr.Qkt?new bX(this,this.ipt):void 0!==this.nr.G_?new pX(this,this.ipt):void 0},M(n,[{key:"G_",get:function(){return void 0!==this.nr.G_?this.nr.G_/this.im:this.$bt&&this.$bt instanceof n?this.$bt.G_:void 0}},{key:"Lbt",get:function(){return void 0!==this.nr.G_?Wt.fromNumber(this.nr.G_):this.$bt&&this.$bt instanceof n?this.$bt.Lbt:void 0}},{key:"Spt",get:function(){return void 0!==this.nr.Spt?this.nr.Spt:this.$bt&&this.$bt instanceof n?this.$bt.Spt:void 0}},{key:"Rpt",get:function(){return void 0!==this.nr.Rpt?this.nr.Rpt:this.$bt&&this.$bt instanceof n?this.$bt.Rpt:void 0}}]),n}(TX),SX=function(){function t(t){this.rTt=void 0,this.rTt=t}return t.prototype.Eh=function(t){return this.rTt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=Pe(u,Number(r),"0")})},t}();var RX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).eTt=void 0,e.sTt=void 0,e.eTt=r.Cpt?new SX(r.Cpt):void 0,e.sTt=r.Dpt?new SX(r.Dpt):void 0,e}F(n,t);var i=n.prototype;return i.jAt=function(n){var i=this.Cpt;if(!i)return t.prototype.jAt.call(this,n);var r=i.Eh({Bandwidth:n.Ls.rS,RepresentationID:n.Ls.Zl});return{kv:T.Hu(r,n.Hpt[0])}},i.npt=function(t,n){var i,r=null!=(i=n.QAt.Spt)?i:1,e=this.Dpt.Eh({Bandwidth:n.Ls.rS,Number:n.Qkt.Rbt(t,r),RepresentationID:n.Ls.Zl,Time:n.Qkt.Hbt(t,r)});return{kv:T.Hu(e,n.Hpt[0])}},i.UAt=function(t,n){},M(n,[{key:"Cpt",get:function(){return this.eTt?this.eTt:this.$bt&&this.$bt instanceof n?this.$bt.Cpt:void 0}},{key:"Dpt",get:function(){return this.sTt?this.sTt:this.$bt&&this.$bt instanceof n?this.$bt.Dpt:void 0}},{key:"Ubt",get:function(){}}]),n}(EX),IX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.npt=function(t,n){var i=this.nr.wpt[t.h8],r=n.Hpt[0];return{kv:(i.Cp?T.Fu(i.Cp,r):r).href,ZZ:i.gpt}},i.UAt=function(t,n){},M(n,[{key:"Ubt",get:function(){return void 0!==this.nr.wpt?this.nr.wpt.length:this.$bt&&this.$bt instanceof EX?this.$bt.Ubt:void 0}}]),n}(EX),NX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).xbt=void 0,u.uTt=void 0,u.im=void 0,u.oTt=void 0,u.Apt=void 0,u.hTt=void 0,u.xbt=n,u.uTt=i,u.im=r.im,u.oTt=e,u.Apt=s,u.hTt=u.aTt(r),u}F(n,t);var i=n.prototype;return i.$kt=function(t){if(t>=0&&t<this.Hl)return this.cTt(this.hTt[t])},i.fTt=function(t){var n=this.vTt(t);if(this.hTt.length>0){var i=this.hTt[0];if(n<=nn(i.Rw,this.im))return this.cTt(i)}var r=AX(this.hTt,Wt.fromNumber(n*this.im));if(!(r<0))return this.cTt(this.hTt[r])},i.dTt=function(t){var n=this.vTt(t);if(this.hTt.length>0){var i=this.hTt[this.hTt.length-1];if(n>=nn(i.Iw,this.im))return this.cTt(i)}return this.fTt(t)},i.cTt=function(t){var n=nn(t.Rw,this.im)-this.Apt,i=n+this.oTt,r=nn(t.G_,this.im);return{xbt:this.xbt,xAt:t.h8,Rw:i,Sbt:Wt.fromNumber(n*this.im),G_:r,Iw:i+r,lTt:[this.uTt+t.uTt,this.uTt+t._Tt]}},i.aTt=function(t){for(var n=[],i=t.kb,r=t.pb.toNumber(),e=0,s=0,u=t.bb;s<u.length;s++){var o=u[s],h=o._b,a=Wt.fromNumber(o.G_),c=i.add(a);0===o.lb&&n.push({h8:e++,Rw:i,G_:a,Iw:c,uTt:r,_Tt:r+h-1}),r+=h,i=c}return n},i.vTt=function(t){return t-this.oTt+this.Apt},M(n,[{key:"Hl",get:function(){return this.hTt.length}}]),n}(function(){function t(){}return t.prototype.Dbt=function(t){var n=this.$kt(t.xAt);if(n&&n.Rw===t.Rw)return n;var i=this.fTt(t.Rw);return i&&i.Rw===t.Rw?i:void 0},t}()),CX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).gTt=void 0,r.llt=void 0,r.wTt=void 0,r.gTt=n._pt,r.llt=r.Ebt(0,Wt.ZERO,r.ZAt.G_),r}F(n,t);var i=n.prototype;return i.fbt=function(t){if(0===t)return this.llt},i.obt=function(){return 0},i.hbt=function(t){return this.llt},i.cbt=function(t){return this.hbt(t)},i.Fbt=function(){return this.llt},i.Hbt=function(t,n){return Wt.ZERO},i.HAt=function(t){var n=this.yTt(t);return n&&{lbt:t,_bt:n,wbt:n}},i.yTt=function(t){var n=this.llt;return this.pbt(n,t)?n:void 0},i.dbt=function(t){return this.yTt(t)},i.gbt=function(t){return this.yTt(t)},i.Wh=function(){},i.Zkt=function(t){return 0===t&&void 0!==this.gTt},i.Nbt=function(t){return this.wTt},i.Cbt=function(){var t=E.coroutine(te.mark(function t(n,i,r,e,s){var u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.Hpt[0].href,o=this.gTt,t.next=4,e.mTt(u,o,r,s);case 4:return h=t.sent,this.wTt=this.kTt(n,h),t.abrupt("return",this.wTt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s){return t.apply(this,arguments)}}(),i.kTt=function(t,n){var i=this.gTt,r=Pw.Zk(new DataView(n),new Gu);if(r.co!==qg.Ak)throw new v("Invalid segment index");var e=Fw.gp(r.Ls),s=i[1]+1;return new NX(t,s,e,this.ZAt.$R,nn(this.sbt,this.xQ))},n}(kX),DX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.npt=function(t,n){return{kv:n.Hpt[0].href}},i.UAt=function(t,n){return{kv:n.Hpt[0].href,ZZ:t.lTt}},i.iTt=function(){return new CX(this,this.ipt)},M(n,[{key:"Spt",get:function(){}}]),n}(TX),OX=function(t){function n(){return t.call(this,aX.EAt)||this}return F(n,t),n}(Ss);var xX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e.pTt=void 0,e.rbt=void 0,e.ATt=1/0,e.bTt=void 0,e.an=i,e.TTt(n,r),e}F(n,t);var i=n.prototype;return i.ETt=function(){return this.rbt||this.an&&this.an.ETt()},i.STt=function(t){var n=this.ipt,i=this.an&&this.an.ETt();this.nr.Gpt?this.rbt=new RX(n,i,this.nr.Gpt):this.nr.zpt?this.rbt=new IX(n,i,this.nr.zpt[0]):this.nr.qpt?this.rbt=new DX(n,i,this.nr.qpt):t&&!i&&(this.rbt=new DX(n,i,void 0))},i.TTt=function(t,n){this.nr=t,this.pTt=t.Hpt&&t.Hpt.length>0?mX(t.Hpt.map(function(t){return t.kv}),n):n.slice(),this.rbt&&(t.Gpt?this.rbt.Wh(t.Gpt):t.zpt?this.rbt.Wh(t.zpt[0]):t.qpt&&this.rbt.Wh(t.qpt))},i.DAt=function(){var t;return null==(t=this.bTt)?void 0:t.RTt},i.VAt=function(){var t;return null==(t=this.bTt)?void 0:t.ITt},i.NTt=function(t){var n=this.ATt,i=this.ipt.G_,r=this.bTt,e=this.CTt(t);r&&Gt(i,n,1e-5)&&MX(r,e)||(this.ATt=i,this.bTt=e,this.Vo(new OX))},i.Ro=function(){this.zo()},M(n,[{key:"Ls",get:function(){return this.nr}},{key:"Hpt",get:function(){return this.pTt}}]),n}(Ts);function PX(t){for(var n,i=0;i<t.length;i++){var r=t[i].DAt();if(r){n=r.$R;break}}if(void 0!==n){for(var e,s=t.length-1;s>=0;s--){var u=t[s].DAt();if(u){e=u.tI;break}}if(void 0!==e)return{$R:n,tI:e}}}function BX(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].DAt();if(!e)return;if((n=_.max(n,e.$R))>=(i=_.min(i,e.tI)))return}return{$R:n,tI:i}}}function LX(t){for(var n,i=0;i<t.length;i++){var r=t[i].VAt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function MX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.ITt,n.ITt)&&function(t,n){return t&&n?Gt(t.$R,n.$R,1e-5)&&Gt(t.tI,n.tI,1e-5):t===n}(t.RTt,n.RTt)}var UX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).ZAt=void 0,e.fw=void 0,e.DTt=void 0,e.ZAt=n,e.fw=i,e.DTt=r.slice();for(var s=0;s<r.length;s++){r[s].Xo(aX.EAt,e.NAt)}return e}F(n,t);var i=n.prototype;return i.DAt=function(){return BX(this.DTt)},i.VAt=function(){for(var t,n=0,i=this.DTt;n<i.length;n++){var r=i[n].VAt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.qv=function(){this.zo();for(var t=0,n=this.DTt;t<n.length;t++){n[t].Go(aX.EAt,this.NAt)}},M(n,[{key:"qkt",get:function(){return this.DTt}},{key:"C$",get:function(){return this.qkt.reduce(function(t,n){for(var i=0,r=n.C$;i<r.length;i++){var e=r[i];Je(t,e)||t.push(e)}return t},[])}},{key:"mu",get:function(){return this.C$.length>0?this.C$[0]:""}},{key:"co",get:function(){return this.DTt[0].co}},{key:"Zl",get:function(){return this.fw}},{key:"FAt",get:function(){return this.ZAt.FAt}},{key:"gD",get:function(){return this.DTt[0].gD}},{key:"ipt",get:function(){return this.ZAt}},{key:"Lkt",get:function(){return ts(this.qkt,function(t){return t.Lkt})}}]),n}(_X),FX=function(t){function n(){return t.call(this,aX.RAt)||this}return F(n,t),n}(Ss);function HX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,s=r.Qpt;void 0===s||(e=je(n,function(t){return t.Zl===s})),e||(e={Zl:s,qkt:[]},n.push(e)),e.qkt.push(r)},r=0;r<t.length;r++)i(r);return n}var VX,XX=function(t){function n(n,i){var r;return(r=t.call(this)||this).BAt=void 0,r.DTt=[],r.OTt=[],r.xTt=void 0,r.PTt=!1,r.xTt=n,r.BAt=i,r.BAt.Xo(aX.EAt,r.NAt),r}F(n,t);var i=n.prototype;return i.BTt=function(t,n){if(0!==this.OTt.length){for(var i=t,r=0,e=this.OTt;r<e.length;r++){var s=e[r],u=s.co;if(u===R_.Pv||u===R_.Bv){var o=s.OAt;if(void 0===o)return;i=n(i,o)}}return i}},i.LTt=function(){this.PTt||(this.PTt=!0,this.Vo(new FX),this.qv())},i.Wh=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.DTt.length){t.next=7;break}return t.next=3,this.MTt(this.BAt.qkt,n,i);case 3:this.UTt(this.DTt),hs(i),t.next=9;break;case 7:return t.next=9,this.FTt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.MTt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return s=n[e],u=new yX(this,s),t.prev=4,t.next=7,u.Wh(i,r);case 7:this.DTt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),as(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.UTt=function(t){for(var n=HX(t),i=0;i<n.length;i++){var r=n[i],e=new UX(this,r.Zl,r.qkt);this.OTt.push(e)}},i.FTt=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.DTt;case 1:if(!(r<e.length)){t.next=8;break}return s=e[r],t.next=5,s.Wh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.DAt=function(){return this.BAt.DAt()},i.VAt=function(){return this.BAt.VAt()},i.qv=function(){this.zo(),this.BAt.Go(aX.EAt,this.NAt);for(var t=0,n=this.OTt;t<n.length;t++){n[t].qv()}for(var i=0,r=this.DTt;i<r.length;i++){r[i].qv()}$e(this.DTt),$e(this.OTt)},M(n,[{key:"qkt",get:function(){return this.DTt}},{key:"Xkt",get:function(){return this.OTt}},{key:"cAt",get:function(){return this.BAt.Ls.cAt}},{key:"G_",get:function(){return this.BAt.G_}},{key:"tI",get:function(){return this.$R+this.G_}},{key:"fAt",get:function(){return this.BAt.Ls.fAt||[]}},{key:"Zl",get:function(){return this.BAt.Zl}},{key:"IAt",get:function(){return this.PTt}},{key:"FAt",get:function(){return this.xTt}},{key:"HTt",get:function(){return this.xTt.VTt(this)}},{key:"ipt",get:function(){return this}},{key:"XTt",get:function(){return this.xTt.WTt(this)}},{key:"qTt",get:function(){return this.BTt(1/0,_.min)}},{key:"zTt",get:function(){return this.BTt(0,_.max)}},{key:"$R",get:function(){return this.BAt.$R}},{key:"Vv",get:function(){return this.FAt.Vv}}]),n}(_X),WX=function(t){function n(){return t.call(this,Yo.fc)||this}return F(n,t),n}(Ss);!function(t){t.GTt="jTt"}(VX||(VX={}));var qX=function(t){function n(){return t.call(this,VX.GTt)||this}return F(n,t),n}(Ss),zX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Hpt)||this).PAt=void 0,r.QTt=void 0,r.PAt=i,r.STt(!0),r}F(n,t);var i=n.prototype;return i.Zkt=function(t){return!!so(this.gD)&&this.Qkt.Zkt(t.h8)},i.Jkt=function(t,n,i,r){return this.Qkt.Jkt(t,this,n,i,r)},i.jAt=function(){return this.QAt.jAt(this)},i.npt=function(t){return this.QAt.npt(t,this)},i.UAt=function(t){return this.QAt.UAt(t,this)},i.HAt=function(){return this.QTt},i.CTt=function(t){var n=this.Qkt,i=n.HAt(t),r=i&&function(t,n){var i,r=t._bt,e=t.wbt,s=t.lbt,u=r.Rw,o=n.Tbt(e);if(o.getTime()<=s.getTime())i=e.Iw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(e.G_-h,0);i=e.Rw+a}return{$R:u,tI:i}}(i,n),e=this.Qkt.VAt(t,i);return this.QTt=i,{lbt:t,RTt:r,ITt:e}},i.Wh=function(t){this.TTt(t,this.PAt.Hpt)},M(n,[{key:"zAt",get:function(){return this.PAt}},{key:"ipt",get:function(){return this.PAt.ipt}},{key:"vbt",get:function(){return this.PAt.vbt}},{key:"gD",get:function(){return this.nr.gD||this.PAt.gD}},{key:"QAt",get:function(){return this.ETt()}},{key:"Qkt",get:function(){return this.QAt.Qkt}}]),n}(xX),GX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Hpt)||this).ZAt=void 0,r.JAt=void 0,r.ZAt=i,r.STt(!1),r.JAt=n.Lkt.map(function(t){return new zX(t,sn(r))}),r}F(n,t);var i=n.prototype;return i.Wh=function(t){this.TTt(t,this.ZAt.Hpt);var n=t.Lkt||[];if(this.JAt.length!==n.length)throw new v("Expected "+this.JAt.length+' representations in adaptation set "'+t.Zl+'", found '+n.length);for(var i=0;i<n.length;i++)this.JAt[i].Wh(n[i])},i.NTt=function(n){for(var i=0,r=this.JAt;i<r.length;i++){r[i].NTt(n)}t.prototype.NTt.call(this,n)},i.CTt=function(t){return{lbt:t,RTt:BX(this.JAt),ITt:LX(this.JAt)}},i.Ro=function(){for(var n=0,i=this.JAt;n<i.length;n++){i[n].Ro()}t.prototype.Ro.call(this)},M(n,[{key:"Lkt",get:function(){return this.JAt}},{key:"ipt",get:function(){return this.ZAt}},{key:"vbt",get:function(){return this.ZAt.vbt}},{key:"Qpt",get:function(){return this.nr.Qpt}},{key:"gD",get:function(){var t;return this.nr.gD||(null==(t=this.JAt[0])?void 0:t.Ls.gD)||""}}]),n}(xX),jX=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.Hpt)||this).YTt=void 0,s.Nb=void 0,s.aH=void 0,s.DTt=void 0,s.OTt=[],s.YTt=n,s.Nb=r,s.aH=e,s.STt(!1),s.DTt=(i.qkt||[]).map(function(t){return new GX(t,sn(s))}),s.OTt=HX(s.DTt),s}F(n,t);var i=n.prototype;return i.Wh=function(t,n){this.TTt(t,this.YTt.Hpt),this.aH=n;var i=t.qkt||[];if(this.DTt.length!==i.length)throw new v("Expected "+this.DTt.length+' adaptation sets in period "'+t.Zl+'", found '+i.length);for(var r=0;r<i.length;r++)this.DTt[r].Wh(i[r])},i.NTt=function(n){for(var i=0,r=this.DTt;i<r.length;i++){r[i].NTt(n)}t.prototype.NTt.call(this,n)},i.CTt=function(t){return{lbt:t,RTt:BX(this.DTt),ITt:LX(this.DTt)}},i.Ro=function(){for(var n=0,i=this.DTt;n<i.length;n++){i[n].Ro()}t.prototype.Ro.call(this)},M(n,[{key:"qkt",get:function(){return this.DTt}},{key:"Xkt",get:function(){return this.OTt}},{key:"ipt",get:function(){return this}},{key:"vbt",get:function(){return this.YTt}},{key:"Zl",get:function(){return this.nr.Zl}},{key:"$R",get:function(){return this.Nb}},{key:"G_",get:function(){return this.aH}}]),n}(xX),QX=new Date("2000-01-01"),YX=function(t){function n(n,i,r,e){var s;if((s=t.call(this)||this).nr=void 0,s.ZTt=void 0,s.JTt=void 0,s.bV=void 0,s.$Tt=void 0,s.bTt=void 0,s.pTt=void 0,s.KTt=void 0,s.tEt=void 0,s.nEt=void 0,s.iEt=[],s.ZTt=i,s.Wh(n,r,e),n.co===$H.Kb){var u=s.Fbt();u&&u.dAt&&u.dAt.getTime()<QX.getTime()&&(s.nEt=new Date(s.pAt.getTime()-1e3*(u.Olt.Rw+u.Olt.G_)),s.NTt(e))}return s}F(n,t);var i=n.prototype;return i.DAt=function(){var t;return null==(t=this.bTt)?void 0:t.RTt},i.VAt=function(){var t;return null==(t=this.bTt)?void 0:t.ITt},i.Wh=function(t,n,i,r){var e;this.nr=t,this.JTt=n,this.$Tt=null!=r?r:i,this.bV=i;var s,u=[(s=n,T.Fu(".",s))];this.pTt=t.Hpt&&t.Hpt.length>0?mX(t.Hpt.map(function(t){return t.kv}),u):u,this.KTt=t._At&&t._At.length>0?mX(t._At,this.pTt):[];var o=this.KTt.map(function(t){return t.href}),h=n.href;Je(o,h)||(this.KTt.push(n),o.push(h));var a=this.ZTt.href;Je(o,a)||(this.KTt.push(this.ZTt),o.push(a)),this.tEt=null==(e=t.Fkt)?void 0:e.Ukt();var c=t.co===$H.Kb,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.$R)u=s.$R.Ukt();else if(e>0&&t[e-1].G_){var o=r[e-1],h=t[e-1].G_.Ukt();u=o+h}else{if(0!==e||n)break;u=0}r.push(u)}for(var a=[],c=0;c<r.length-1;c++)a.push({Ls:t[c],$R:r[c],G_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.G_?v.G_.Ukt():i-d),a.push({Ls:v,$R:d,G_:l})}return a}(t.Mkt,c,this.tEt);this.rEt(f),this.NTt(i)},i.rEt=function(t){var n=this.iEt;if(0!==t.length){for(var i=t[0].Ls.Zl,r=0;r<n.length&&n[r].Zl!==i;)r++;for(var e=n.splice(0,r),s=0;s<e.length;s++){e[s].Ro()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Wh(o.Ls,o.G_)}else n.push(new jX(this,o.Ls,o.$R,o.G_))}}else $e(n)},i.NTt=function(t){for(var n=0,i=this.iEt;n<i.length;n++){i[n].NTt(t)}var r=this.bTt,e=this.CTt(t);r&&MX(r,e)||(this.bTt=e,this.Vo(new OX))},i.CTt=function(t){return{lbt:t,RTt:PX(this.iEt),ITt:LX(this.iEt)}},i.Fbt=function(){if(0!==this.iEt.length){var t=this.iEt[this.iEt.length-1];if(!isFinite(t.G_)&&0!==t.qkt.length){var n=t.qkt[0];if(0!==n.Lkt.length){var i=n.Lkt[0].Qkt,r=i.Fbt();if(r)return{Olt:r,dAt:i.ybt(r)}}}}},i.Ro=function(){this.zo();for(var t=0,n=this.iEt;t<n.length;t++){n[t].Ro()}},M(n,[{key:"Ls",get:function(){return this.nr}},{key:"co",get:function(){return this.nr.co||$H.$b}},{key:"lAt",get:function(){return this.nEt||this.nr.lAt||this.pAt}},{key:"dAt",get:function(){return this.nr.dAt}},{key:"Fkt",get:function(){return this.tEt}},{key:"Hpt",get:function(){return this.pTt}},{key:"_At",get:function(){return this.KTt}},{key:"Mkt",get:function(){return this.iEt}},{key:"pAt",get:function(){return this.nr.pAt||this.bV}},{key:"Tpt",get:function(){return this.nr.Tpt}},{key:"eEt",get:function(){return this.$Tt}},{key:"sEt",get:function(){return this.bV}}]),n}(Ts);var ZX=function(){function t(t,n,i){this.uEt=0,this.qb=t,this.oEt=n,this.hEt=i}var n=t.prototype;return n.Ux=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aEt(n,this.qb,this.oEt,this.hEt).catch(cs);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.cEt=function(){return new Date(Jt()+this.uEt)},n.aEt=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.fEt(i,e,r);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}hs(r),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.vEt(i,o,r);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.uEt=void 0===s?0:s-Jt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.vEt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.Ikt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.gs)){t.next=9;break}return t.next=8,this.fEt(n,s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.gs)){t.next=15;break}if(o=new Date(u).getTime(),y(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.fEt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.yv({kv:i,Mv:Sf.GET,_v:Zo.es,Lo:r});case 3:return e=t.sent,t.next=6,e.Zf();case 6:if(s=t.sent,u=new Date(s).getTime(),y(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),as(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),JX=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).dEt=void 0,s.BAt=void 0,s.lEt=void 0,s.BJ=!0,s.iEt=[],s._Et=void 0,s.gEt=void 0,s.wEt=void 0,s.qb=void 0,s.yEt=void 0,s._Et=n,s.lEt=n.v_,s.gEt=i,s.qb=r,s.dEt=e,s.yEt=new ZX(s.qb,s.dEt,s._Et.mEt),s}F(n,t);var i=n.prototype;return i.nht=function(t){var n=this.iw;this.BJ=t,n!==this.iw&&this.Vo(new qX)},i.Wh=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v,d,l,_,g;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.gAt?T.Fu(n.gAt,this.lEt):this.lEt,void 0!==this.BAt){t.next=10;break}return t.next=6,this.yEt.Ux(n.bAt);case 6:this.BAt=new YX(n,this.lEt,o,this.cEt()),this.BAt.Xo(aX.EAt,this.Ho),t.next=11;break;case 10:this.BAt.Wh(n,o,this.cEt(),i);case 11:if(0===(h=this.BAt.Mkt).length)a=this.iEt.slice(),$e(this.iEt);else{for(c=h[0].Zl,f=0;f<this.iEt.length&&this.iEt[f].Zl!==c;)f++;for(a=this.iEt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.iEt.length?l=this.iEt[v]:(l=new XX(this,d),s.push(l)),u.push(l.Wh(this.gEt,r))}return t.next=15,E.all(u);case 15:for((e=this.iEt).push.apply(e,s),_=0,g=a;_<g.length;_++)g[_].LTt();this.Vo(new WX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.cEt=function(){return this.yEt.cEt()},i.WTt=function(t){var n=this.iEt.indexOf(t);if(n>0)return this.iEt[n-1]},i.VTt=function(t){var n=this.iEt.indexOf(t);if(n>=0&&n+1<this.iEt.length)return this.iEt[n+1]},i.DAt=function(){return this.BAt?this.BAt.DAt():void 0},i.VAt=function(){return this.BAt&&this.BAt.VAt()},i.NTt=function(t){this.BAt&&this.BAt.NTt(t)},i.qv=function(){this.zo(),this.wEt=void 0,this.nht(!1);for(var t=0,n=this.iEt;t<n.length;t++){n[t].qv()}$e(this.iEt),this.BAt&&this.BAt.Ro()},M(n,[{key:"dAt",get:function(){return this.BAt&&this.BAt.dAt}},{key:"lAt",get:function(){return this.BAt&&this.BAt.lAt}},{key:"Zl",get:function(){return this.BAt&&this.BAt.Ls.Zl}},{key:"eEt",get:function(){var t;return null==(t=this.BAt)?void 0:t.eEt}},{key:"kEt",get:function(){var t;return null==(t=this.BAt)?void 0:t.sEt}},{key:"_At",get:function(){return this.BAt?this.BAt._At.map(function(t){return t.href}):[this.Vkt]}},{key:"Vkt",get:function(){return this.lEt.href}},{key:"wAt",get:function(){return this.BAt&&this.BAt.Ls.wAt}},{key:"yAt",get:function(){return this.BAt&&this.BAt.Ls.yAt}},{key:"Fkt",get:function(){return this.BAt&&this.BAt.Ls.Fkt}},{key:"mAt",get:function(){return this.BAt&&this.BAt.Ls.mAt}},{key:"kAt",get:function(){var t,n,i=(null==(t=this.BAt)?void 0:null==(n=t.Ls.kAt)?void 0:n.spt())||0;return _.max(i,KX)}},{key:"iw",get:function(){return this.BJ}},{key:"Mkt",get:function(){return this.iEt}},{key:"pEt",get:function(){return this.co===$H.Kb?this.ibt:this.AEt}},{key:"bEt",get:function(){var t=this.pEt;if(void 0!==t)for(var n=0,i=this.Mkt;n<i.length;n++){var r=i[n];if(r.$R<=t&&r.tI>t)return r}}},{key:"Bpt",get:function(){return this.BAt&&this.BAt.Ls.Bpt}},{key:"pAt",get:function(){return this.BAt&&this.BAt.pAt}},{key:"qTt",get:function(){for(var t=this.iEt.length-1;t>=0;t-=1){var n=this.iEt[t].qTt;if(n)return n}}},{key:"ibt",get:function(){var t=this.qTt;if(void 0!==t){var n=t-this.TEt;return _.max(n,this.AEt)}}},{key:"AEt",get:function(){for(var t=0,n=this.iEt;t<n.length;t++){var i=n[t].CAt;if(void 0!==i)return i}}},{key:"Vv",get:function(){return Boolean(this._Et.Vv)}},{key:"TEt",get:function(){var t=this.BAt&&this.BAt.Ls.AAt;return t?t.Ukt():this.co===$H.Kb?this.Knt:0}},{key:"Knt",get:function(){return this._Et.Knt?this._Et.Knt:1.5*this.mAt.Ukt()}},{key:"Tpt",get:function(){return this.BAt&&this.BAt.Tpt}},{key:"co",get:function(){return this.BAt?this.BAt.co:void 0}}]),n}(Ts),$X=function(){function t(t,n,i,r){this.xTt=void 0,this.xTt=new JX(t,n,i,r)}return M(t,[{key:"FAt",get:function(){return this.xTt}}]),t}(),KX=1e3,tW=_.pow(2,31)-1,nW=function(){function t(t,n,i,r){var e=this;this.V7=void 0,this.BAt=void 0,this.EEt=void 0,this.SEt=void 0,this.REt=void 0,this.IEt=new ss,this.NEt=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.BAt.FAt.cEt(),t.next=4,e.CEt(e.BAt.FAt._At,n);case 4:return r=t.sent,t.next=7,e.BAt.FAt.Wh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),ly(t.t0)&&e.BAt.FAt.nht(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.V7=r,this.BAt=new $X(t,n,i,this.IEt.Lo)}var n=t.prototype;return n.Hd=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BAt.FAt.Vo(new wS),t.prev=1,t.next=4,MU(this.NEt,n);case 4:this.BAt.FAt.nht(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),as(t.t0),this.SEt=void 0,this.BAt.FAt.nht(!1),new v("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.EEt=this.DEt(this.IEt.Lo);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.DEt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.BAt.FAt.co!==$H.Kb){t.next=6;break}return t.next=4,fs(this.OEt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.xEt=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(n),!((i=this.PEt())>0)){t.next=6;break}return r=_.min(i,tW),t.next=6,ms(r,n);case 6:return t.prev=6,t.next=9,MU(this.NEt,n,1/0,KX,3e4);case 9:this.BAt.FAt.nht(!0);case 10:return t.prev=10,this.REt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.PEt=function(){var t=this.BAt.FAt.cEt().getTime()-this.BAt.FAt.eEt.getTime();return this.BAt.FAt.kAt-t},n.BEt=function(t){var n=this.BAt.FAt.VAt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.BAt.FAt.NTt(t);var r=this.BAt.FAt.VAt();return r?r.getTime()-t.getTime():NaN},n.LEt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.REt||(this.REt=this.xEt(n)),(i=new ss).Po(n),t.prev=3,t.next=6,E.race([this.REt,this.MEt(i.Lo)].filter($));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),cs(t.t0);case 11:return t.prev=11,i.xo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.MEt=function(t){var n=this.BAt.FAt.cEt(),i=this.BEt(n);if(!y(i))return this.UEt(i,t)},n.UEt=function(){var t=E.coroutine(te.mark(function t(n,i){var r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ms(n,i);case 2:r=this.BAt.FAt.cEt(),this.BAt.FAt.NTt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.CEt=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.V7.U7(n,{},i,!1);case 2:return r=t.sent,e=new cX,t.abrupt("return",e._yt(r.I7,r.mv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.qv=function(){return this.IEt.xo(),this.EEt=void 0,this.SEt=void 0,this.REt=void 0,this.BAt.FAt.qv(),E.resolve()},M(t,[{key:"FEt",get:function(){return this.BAt}},{key:"Y1",get:function(){return this.SEt||(this.SEt=this.Hd(this.IEt.Lo),gs(this.SEt)),this.SEt}},{key:"OEt",get:function(){return this.BAt.FAt.kEt&&this.BAt.FAt.co===$H.Kb?this.LEt(this.IEt.Lo):this.Y1}}]),t}(),iW=function(){function t(t,n,i){this.V7=t,this.HEt=n,this.VEt=i}var n=t.prototype;return n.XEt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new v("Invalid typed source");case 2:if(!El(i=n.type)){t.next=9;break}return t.next=6,this.WEt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!Tl(i)){t.next=15;break}return t.next=12,this.qEt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WEt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tV(n.src,this.V7);case 3:return i=t.sent,t.next=6,iV(i,this.V7);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.qEt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new nW({v_:T.Fu(n.src),Knt:n.liveOffset,mEt:n.timeServer,Vv:n.useCredentials},this.VEt,xf.Zv,this.V7),t.next=4,i.Y1;case 4:return t.next=6,OH(i.FEt.FAt,n.contentProtection,this.HEt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),rW=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.tv,MediaSource.isTypeSupported(r)||my(n.gD,n.C$)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!Y.De&&!Y.Ne||-1===(null==(i=n.mu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.Bkt){t.next=13;break}return e=n.Bkt,s=ts(e,function(t){return Re(t.Ikt)}).filter($),t.next=10,ns(s,function(t){return T.Mu(t,r)});case 10:if(t.sent){t.next=13;break}return t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),eW=function(){function t(t){this.zEt=void 0,this.GEt=[],this.jEt=0,this.zEt=t}var n=t.prototype;return n.QEt=function(){var t=new Qu;return this.GEt.push(t),this.YEt(),t.Th},n.ZEt=function(){var t=E.coroutine(te.mark(function t(n,i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.jEt-=1,this.YEt(),0===this.GEt.length&&0===this.jEt&&i.Eh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.YEt=function(){this.GEt.length>0&&this.jEt<this.zEt&&(this.GEt.shift().Eh(),this.jEt+=1)},t}();function sW(t,n){for(var i=0,r=0,e=t.bb.h1.map(function(t){return t.G_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var uW=function(t){function n(n,i,r,e,s,u,o,h){var a;void 0===h&&(h=rW),(a=t.call(this)||this).W7=void 0,a.JEt=void 0,a.$Et=new Qu,a.KEt=void 0,a.q$=void 0,a.tSt=mH.Tkt(),a.pkt=void 0,a.nSt=void 0,a.lg=void 0,a.iSt=void 0,a._1=void 0,a.V7=void 0,a.rSt=void 0,a.HEt=void 0,a.VEt=void 0,a.hkt=void 0,a.W7=n,a._1=i,a.V7=r,a.iSt=e,a.rSt=s,a.HEt=u,a.VEt=h,a.hkt=o,a.nSt=-1;var c=a.W7.OR.sources[0];return a.KEt=c,a.lg=a.xg(),a.JEt=new eW(a.W7.ua.parallelTasksThreshold),a}F(n,t);var i=n.prototype;return i.xg=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e,s,u,o,h,a,c,f,v,d,l,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new iW(this.V7,this.HEt,this.VEt),t.next=3,n.XEt(this.KEt);case 3:return this.q$=t.sent,i=this.W7.ua.amount,r=this.q$.G_,e=AH(i,r),this.pkt=e,u=hO(this.q$.Hkt[0]),t.next=11,this._1.o1.e1(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return Je(t.references,N.W7.Zl)}),h=[],a=this.W7.ua.bandwidth,c=0,f=this.q$.Mkt;c<f.length;c++)for(v=f[c],d=0,l=v.Wkt;d<l.length;d++)for(g=l[d],w=0,y=aW(g.pp);w<y.length;w++)for(m=y[w],k=0,p=cW(m.n_,a);k<p.length;k++)A=p[k],h.push(A);if(this.nSt=_.ceil(h.map(function(t){return t.rS*sW(t,e)/8}).reduce(function(t,n){return t+n},0)),b=re(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new sA(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.wI(r).gI(5e-4);else{var e,s=je(h,function(t){return t.Zl===i}),u=_.min(N.pkt,null!=(e=null==s?void 0:s.bb.G_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:u})}},S=0;S<o.length;S++)E(S);s=new mH(T,b,this.pkt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.Zl,{timeRanges:sA.LI(),totalQualityDurationToCache:_.min(I.bb.G_,this.pkt)});s=new mH(0,b,this.pkt)}this.eSt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sSt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lg;case 2:return t.next=4,this.uSt(this.q$,n);case 4:return t.next=6,this.$Et.Th;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.uSt=function(){var t=E.coroutine(te.mark(function t(n,i){var r,e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Hkt){t.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return t.next=4,this.oSt();case 4:for(r=[],e=0,s=n.Mkt;e<s.length;e++)u=s[e],r.push(this.hSt(u,n.Hkt[0],i));return t.abrupt("return",E.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.oSt=function(){var t=E.coroutine(te.mark(function t(){var n,i,r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iSt.n1();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this._1.a1.fh(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,oW(e,this.W7.Zl,this._1.a1,this.hkt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this._1.a1.J0(r,this.hkt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new TH("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.iSt.u1();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.hSt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Wkt;s<u.length;s++)for(o=u[s],h=aW(o.pp),a=0;a<h.length;a++)c=h[a],e.push(this.aSt(c,i,r));return t.abrupt("return",E.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.aSt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.W7.ua.bandwidth,s=cW(n.n_,e),n.co!==R_.Bv||!n.jkt||!n.jkt.gT.widevine||"persistent"!==n.jkt.gT.widevine.licenseType){t.next=6;break}return t.next=5,this.cSt(n.jkt);case 5:hs(r);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.fSt(h,i,r));return t.abrupt("return",E.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.fSt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(hs(r),!n.d7){t.next=7;break}return e={Rw:0,G_:0,tpt:n.d7},t.next=5,this.JEt.QEt();case 5:hs(r),gs(this.JEt.ZEt(this.vSt(e,n,i),this.$Et));case 7:s=n.bb.h1[0].Rw,u=s+this.pkt,o=0,h=n.bb.h1;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Rw>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.dSt(r);case 16:return t.next=18,this.JEt.QEt();case 18:gs(this.JEt.ZEt(this.vSt(a,n,i),this.$Et));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.dSt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.Ao){t.next=4;break}return t.next=3,this.$Et.Th;case 3:throw new us;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lSt=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lg;case 2:return t.abrupt("return",this.q$);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cSt=function(t){return E.resolve()},i._St=function(){var t=E.coroutine(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _t("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.vSt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u,o,h,a,c,f=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._1.o1,s=aO(n.tpt.kv,n.tpt.ZZ),t.next=4,e.fh(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,oW(u,this.W7.Zl,e,this.hkt);case 8:this.gSt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.wSt(n.tpt);case 14:return o=t.sent,h=this.ySt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this._1.v1(function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.o1.J0(a,f.hkt);case 2:return t.next=4,n.h1.J0(c,f.hkt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.gSt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new TH("Unable to store segment with url: "+n.tpt.kv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.wSt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rSt.mSt(n,!1);case 2:return i=t.sent,t.next=5,this.kSt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.kSt=function(){var t=E.coroutine(te.mark(function t(n){var i;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$f();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ySt=function(t,n,i,r){var e=aO(t.tpt.kv,t.tpt.ZZ),s=t.Rw,u=t.G_,o=this.pSt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:hO(i),qualityId:n.Zl,byteSize:o,startsAndEnds:new sA([s,s+u]).iI,references:[this.W7.Zl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:hO(i),data:r}}},i.pSt=function(t){return t.buffer.byteLength},i.gSt=function(t,n){var i=t.qualityId,r=this.tSt,e=r.ow;e.get(i).timeRanges=e.get(i).timeRanges.wI(new sA(t.startsAndEnds)).gI(5e-4),this.eSt=new mH(n?r.Ekt+t.byteSize:r.Ekt,e,this.pkt)},M(n,[{key:"ASt",get:function(){return this.nSt}},{key:"eSt",get:function(){return this.tSt},set:function(t){this.tSt.Gw(t)||(this.tSt=t,t.Gw(mH.Tkt())||this.Vo(new yH))}}]),n}(Ts);function oW(t,n,i,r){return hW.apply(this,arguments)}function hW(){return(hW=E.coroutine(te.mark(function t(n,i,r,e){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Je(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.J0(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aW(t){return t.length?[t[0]]:[]}function cW(t,n){if(!t.length)return[];var i=[].concat(t).sort(gH),r=i.filter(function(t){return t.rS<=n});return r.length>0?[r.pop()]:[i.shift()]}var fW=function(){function t(t){this.qb=void 0,this.pL=new YE,this.qb=t}var n=t.prototype;return n.yv=function(t){var n=this,i=new Qu;return this.pL.cL(function(r){return n.bSt(i,t,r)},t.Lo).catch(R),i.Th},n.Wv=function(t){return this.qb.Wv(t)},n.bSt=function(){var t=E.coroutine(te.mark(function t(n,i,r){var e,s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return hs(r),e=new Df({kv:i.kv,Lo:r},i),s=this.qb.yv(e),n.Eh(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.hv();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.qv=function(){this.pL.qv()},t}(),vW=function(){function t(t,n){this.qb=void 0,this.TSt=void 0,this.ESt=void 0,this.qb=t,this.TSt=new fW(t),this.ESt=n}var n=t.prototype;return n.mSt=function(t,n,i){return this.Sut(t,n,!0,!1,void 0,i)},n.SSt=function(t,n,i,r){return this.Sut(t,n,!1,!1,i,r)},n.RSt=function(t,n,i,r){return this.Sut(t,n,!1,!0,i,r)},n.Sut=function(){var n=E.coroutine(te.mark(function n(i,r,e,s,u,o){var h;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return hs(o),n.next=3,this.ISt(i,e,s,u,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.NSt(h));case 8:return n.abrupt("return",this.CSt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,s,u){return n.apply(this,arguments)}}(),n.CSt=function(t){return t},t.NSt=function(t){return t},n.ISt=function(t,n,i,r,e){var s=new Df({kv:t.kv,_v:Zo.Pc,lv:t.ZZ?{Range:"bytes="+t.ZZ[0]+"-"+t.ZZ[1]}:void 0,Vv:t.Vv,Mv:Sf.GET,co:Rf.Tv,Fv:i?If.Sv:If.Av,Hv:this.ESt,Uv:r,Lo:e});return n?this.TSt.yv(s):this.qb.yv(s)},t}(),dW=function(){function t(t){this.qb=void 0,this.qb=t}return t.prototype.mTt=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qb.yv({kv:n,_v:Zo.Pc,lv:{Range:"bytes="+i[0]+"-"+i[1]},Vv:r,Mv:Sf.GET,co:Rf.Av,Lo:e});case 2:return s=t.sent,t.next=5,s.$f();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),lW=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Olt=void 0,e.Olt=n,e}return F(n,t),n}(on),_W=function(){function t(t){this.F7=void 0,this.F7=t}return t.prototype.mTt=function(){var t=E.coroutine(te.mark(function t(n,i,r,e){var s,u;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.F7.L7(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.F7.L7(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",qu(new m(u.buffer),i[0],i[1]));case 10:throw new lW({kv:n,ZZ:i,Vv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),gW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new sA([0,0]).iI,references:[]},wW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},yW=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).DSt=void 0,u.OSt=void 0,u._1=void 0,u.hkt=void 0,u.DSt=new dW(i),u._1=r,u.OSt=e,u.hkt=s,u}F(n,t);var i=n.prototype;return i.mTt=function(){var n=E.coroutine(te.mark(function n(i,r,e,s){var u;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.mTt.call(this,i,r,e,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),as(n.t0);case 9:return n.next=11,this.DSt.mTt(i,r,e,s);case 11:return u=n.sent,n.next=14,this.xSt(i,r,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.xSt=function(){var t=E.coroutine(te.mark(function t(i,r,e){var s,u,o,h,a,c,f,v=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.OSt){t.next=2;break}return t.abrupt("return");case 2:return s=this._1.o1,u=aO(i,r),t.next=6,s.fh(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,oW(o,this.OSt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.ySt(u,h,this.OSt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this._1.v1(function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.o1.J0(c,v.hkt);case 2:return t.next=4,n.h1.J0(f,v.hkt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new TH("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.ySt=function(t,n,i){return{segmentMetadataEntry:ne({},gW,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ne({},wW,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(_W);var mW=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.PSt=function(t,n,i,r,e,s,u){return new uW(t,n,i,r,e,s,u)},n}(function(){function t(t){this.qb=t}return t.prototype.VQ=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.OR.sources[0].useCredentials),e=new vW(this.qb,Nf.Av),s=new rB(this.qb,r),u=new eB(n.a1,n.o1,n.h1,n.f1),o=function(t,n,i,r,e){return new yW(n,t,i,r,e)}(this.qb,u,n,t.Zl,i),h=new nO,a=new aB(hB(s,u),h,t);return this.PSt(t,n,a,h,e,o,i)},t}());function kW(t){var n,i={get id(){return t.Zl},get status(){return t.dv},get source(){return t.OR},get parameters(){return t.ua},get duration(){return t.G_},get cached(){return t.BSt.vR()},get secondsCached(){return t.LSt},get percentageCached(){return t.MSt},get bytes(){return t.USt},get bytesCached(){return t.FSt},get license(){return t.PD.al},start:function(){t.$R()},pause:function(){t.Sg()},remove:function(){t.Xh()},addEventListener:function(t,i){n.Xo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}};return n=new aE(t,["b0","Zmt"],i),i}var pW=function(){function t(t,n,i){this.W7=t,this._1=n,this.q$=i}var n=t.prototype;return n.HSt=function(){var t=E.coroutine(te.mark(function t(){var n=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._1.v1(function(){var t=E.coroutine(te.mark(function t(i){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.VSt(i);case 2:return t.next=4,n.XSt(i);case 4:return t.next=6,n.WSt(i);case 6:return t.next=8,n.qSt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.VSt=function(){var t=E.coroutine(te.mark(function t(n){var i,r;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.c1,r=this.W7.Zl,t.next=4,i.Xh(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XSt=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o,h,a=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.o1,r=n.h1,Nl(e=this.W7.OR.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=hO(e.src),t.next=8,i.e1(s,"manifestURL");case 8:u=t.sent.filter(function(t){return Je(t.references,a.W7.Zl)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(Ye((h=u[o]).references,this.W7.Zl),0!==h.references.length){t.next=20;break}return t.next=16,i.Xh(h.key);case 16:return t.next=18,r.Xh(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.J0(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WSt=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u,o=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.a1,r=this.zSt(),t.next=4,i.K0(r);case 4:e=t.sent.filter(function(t){return Je(t.references,o.W7.Zl)}),s=0;case 6:if(!(s<e.length)){t.next=19;break}if(Ye((u=e[s]).references,this.W7.Zl),0!==u.references.length){t.next=14;break}return t.next=12,i.Xh(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.J0(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zSt=function(){if(!this.q$)return[];var t=this.W7.OR.sources[0];if(!Nl(t))return[];var n=hO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Mkt;i<r.length;i++)for(var e=0,s=r[i].Wkt;e<s.length;e++)for(var u=0,o=s[e].pp;u<o.length;u++)for(var h=0,a=o[u].n_;h<a.length;h++){var c=a[h];c.rpt&&n.push(c.rpt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.q$).map(function(t){return{src:t}}).map(function(t){return hO(t.src)});return[n].concat(i)},n.qSt=function(){var t=E.coroutine(te.mark(function t(n){var i,r,e,s,u=this;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.f1,t.next=3,i.n1();case 3:r=t.sent.filter(function(t){return Je(t.references,u.W7.Zl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Ye((s=r[e]).references,this.W7.Zl),0!==s.references.length){t.next=14;break}return t.next=11,i.Xh(s.key);case 11:this.GSt(s),t.next=16;break;case 14:return t.next=16,i.J0(s);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GSt=function(t){},t}(),AW=new(function(){function t(){}return t.prototype.VQ=function(t,n,i){return new pW(t,n,i)},t}());var bW=function(){function t(t,n){this.hl=void 0,this.an=t,this.jSt=n}var n=t.prototype;return n.t6=function(t){this.QSt(t)},n.QSt=function(){var t=E.coroutine(te.mark(function t(n){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.jSt._St(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.fkt(eH.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"al",get:function(){var t;return this.hl||(this.hl=(t=this,{renew:function(n){t.t6(n)}})),this.hl}}]),t}(),TW=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this)||this).fw=void 0,o.okt=void 0,o.hl=void 0,o.kwt=void 0,o.YSt=void 0,o._1=void 0,o.jSt=void 0,o.ZSt=new ss,o.JSt=void 0,o.evictOnLoading=function(){o.Go("Zmt",o.evictOnLoading),o.$St()},o.fw=n,o.kwt=i,o.YSt=r,o._1=e,o.jSt=s.VQ(sn(o),o._1,u),o.JSt=new bW(sn(o),o.jSt),o.okt=1===o.jSt.eSt.Skt?eH.DONE:eH.IDLE,o.jSt.Xo("b0",function(t){o.Ho(t),1===o.MSt&&o.fkt(eH.DONE)});var a=new Date,c=o.YSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.$St()},c),o}F(n,t);var i=n.prototype;return i.fkt=function(t){this.okt!==t&&(this.okt=t,this.Vo(new uH))},i.$R=function(){this.okt===eH.EVICTED||this.okt===eH.DONE||this.KSt()},i.KSt=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.fkt(eH.LOADING),n=new ss,this.ZSt=n,t.next=6,this.jSt.sSt(n.Lo);case 6:this.fkt(eH.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),os(t.t0)?this.fkt(eH.IDLE):this.fkt(eH.ERROR);case 12:return t.prev=12,this.ZSt.Ro(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.Sg=function(){this.ZSt.xo()},i.Xh=function(){this.dv===eH.LOADING?(this.Xo("Zmt",this.evictOnLoading),this.Sg()):this.$St()},i.$St=function(){var t=E.coroutine(te.mark(function t(){var n;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.jSt.lSt();case 3:return n=t.sent,t.next=6,AW.VQ(this,this._1,n).HSt();case 6:this.jSt.eSt=mH.Tkt(),this.fkt(eH.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.fkt(eH.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"al",get:function(){return this.hl||(this.hl=kW(this)),this.hl}},{key:"Zl",get:function(){return this.fw}},{key:"PD",get:function(){return this.JSt}},{key:"dv",get:function(){return this.okt}},{key:"OR",get:function(){return this.kwt}},{key:"ua",get:function(){return this.YSt}},{key:"G_",get:function(){return this.jSt.eSt.DI}},{key:"BSt",get:function(){return this.jSt.eSt.bkt}},{key:"LSt",get:function(){return this.jSt.eSt.Akt}},{key:"MSt",get:function(){return this.jSt.eSt.Skt}},{key:"USt",get:function(){return this.jSt.ASt}},{key:"FSt",get:function(){return this.jSt.eSt.Ekt}}]),n}(al);var EW=function(){function t(t,n){this._1=t,this.tRt=n}var n=t.prototype;return n._kt=function(t,n,i){var r=Gb();return this.dkt(r,t,n,i)},n.dkt=function(t,n,i,r){return new TW(t,n,i,this._1,this.tRt,r)},t}(),SW=30,RW=5;function IW(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(rt(t)&&!Ne(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,rt(i)&&Ne(i,"%")){var n=w(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!rt(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+SW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ut(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return RW;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var NW=function(t){function n(n,i){var r;return(r=t.call(this)||this).hl=void 0,r.nRt=n,r.xB=i,r.nRt.Xo("Zmt",r.Ho),r}return F(n,t),n.prototype.iRt=function(t,n,i){var r,e;if(!t)throw new v("Unexpected - The source description is undefined");if(r=gb(t),e=IW(n),ub(r))throw new v("Invalid source description");return this.nRt.dkt(r,e).al},M(n,[{key:"al",get:function(){var t,n,i;return this.hl||(this.hl=(i={get status(){return t.dv},get tasks(){return t.ykt},get network(){return t.GB.al},createTask:function(n,i){return t.iRt(n,i)},addEventListener:function(t,i){n.Xo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},n=new cE(t=this,i),i)),this.hl}},{key:"dv",get:function(){return this.nRt.dv}},{key:"ykt",get:function(){return this.nRt.ykt.al}},{key:"GB",get:function(){return this.xB}}]),n}(al);(CW=new jT(T.nl,!1),DW=oO.$e,OW=new mW(CW),xW=new EW(DW,OW),PW=new YT(CW),BW=new _H(DW.c1,xW,"persistent"),new NW(BW,PW)).al;var CW,DW,OW,xW,PW,BW,LW=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).fw=void 0,s.okt=void 0,s.hl=void 0,s.kwt=void 0,s.YSt=void 0,s.aH=0,s.rRt=sA.LI(),s.eRt=0,s.sRt=0,s.nRt=void 0,s.fw=n,s.okt=eH.IDLE,s.kwt=i,s.YSt=r,s.nRt=e,s}F(n,t);var i=n.prototype;return i.$R=function(){this.nRt.startCachingTask(this)},i.Xh=function(){this.nRt.removeCachingTask(this)},M(n,[{key:"al",get:function(){return this.hl||(this.hl=kW(this)),this.hl}},{key:"Zl",get:function(){return this.fw}},{key:"dv",get:function(){return this.okt},set:function(t){this.okt!==t&&(this.okt=t,this.Vo(new uH))}},{key:"OR",get:function(){return this.kwt}},{key:"ua",get:function(){return this.YSt}},{key:"G_",get:function(){return this.aH},set:function(t){this.aH=t}},{key:"BSt",get:function(){return this.rRt},set:function(t){this.rRt=t}},{key:"LSt",get:function(){return this.eRt},set:function(t){this.eRt=t}},{key:"MSt",get:function(){return this.sRt},set:function(t){this.sRt=t,this.Vo(new yH)}}]),n}(cl),MW=30;function UW(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+MW),n&&((i=n)&&!(ut(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var FW=function(t){function n(){var n;return(n=t.call(this)||this).okt=aH.UNINITIALISED,n.uL=new lH,n.zyt=void 0,n.omt=void 0,n.uRt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.dv=eH.EVICTED,i.MSt=0,i.LSt=0,i.G_=0,i.BSt=sA.LI(),n.uL.Xh(i))}},n.oRt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.dv=r);var e=t.detail.percentage;e&&(i.MSt=e);var s=t.detail.duration;s&&(i.G_=s);var u=t.detail.seconds;u&&(i.LSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.BSt=new sA(h)}}}},n.hRt=function(t){if(t.detail){var i=gb(JSON.parse(t.detail.source));if(!n.aRt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var s=t.detail.uuid;n.dkt(i,UW(r),s)}}},n.cRt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.dkt(gb(e),UW(i),s);u.dv=t.detail.status,u.MSt=t.detail.percentage,u.G_=t.detail.duration,u.LSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.BSt=new sA(h)}},n.fRt=function(t){t.detail&&n.fkt(t.detail.status)},n.zyt=new tH,n.omt=new xF,RF().cache={sdkEventBus:n.omt},n.kK(),n}F(n,t);var i=n.prototype;return i.fkt=function(t){this.okt!==t&&(this.okt=t,this.Vo(new uH))},i.dkt=function(t,n,i){void 0===i&&(i=void 0);var r=new LW(i||Gb(),t,n,this);return this.uL.hw(r),i||this.zyt.EQ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Zl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.uL.$mt;n<i.length;n++){var r=i[n];if(r.Zl===t)return r}},i.aRt=function(t){for(var n=VW(t.sources),i=0,r=this.uL.$mt;i<r.length;i++){if(VW(r[i].OR.sources).src===n.src)return!0}return!1},i.kK=function(){this.omt.addEventListener("deleteTask",this.uRt),this.omt.addEventListener("updateValues",this.oRt),this.omt.addEventListener("newTask",this.hRt),this.omt.addEventListener("restoreTask",this.cRt),this.omt.addEventListener("setCacheStatus",this.fRt)},i.startCachingTask=function(t){this.zyt.EQ("THEOplayerCacheStartCachingTask",{id:t.Zl})},i.removeCachingTask=function(t){this.zyt.EQ("THEOplayerCacheRemoveCachingTask",{id:t.Zl})},M(n,[{key:"dv",get:function(){return this.okt}},{key:"ykt",get:function(){return this.uL}}]),n}(Ts),HW=function(t){function n(n){var i;return(i=t.call(this,n)||this).vRt=n,i.vRt.Xo("Zmt",i.Ho),i}return F(n,t),n.prototype.iRt=function(t,n){var i,r;if(!t)throw new v("Unexpected - The source description is undefined");if(i=gb(t),r=UW(n),ub(i))throw new v("Invalid source description");if(!VW(i.sources))throw new v("The provided sources can't be cached");return this.vRt.dkt(i,r).al},n}(NW);function VW(t){for(var n=0;n<t.length;n++){var i=t[n];if(El(i.type))return i}}var XW,WW,qW=function(){var t=new FW;return new HW(t)}().al;!function(t){t.dRt="any",t.lRt="natural",t._Rt="landscape",t.gRt="portrait",t.wRt="portrait-primary",t.yRt="portrait-secondary",t.mRt="landscape-primary",t.kRt="landscape-secondary"}(XW||(XW={})),function(t){t.wRt="portrait-primary",t.yRt="portrait-secondary",t.mRt="landscape-primary",t.kRt="landscape-secondary"}(WW||(WW={}));var zW,GW,jW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).zyt=new tH,n.pRt=XW.lRt,n.ARt=WW.wRt,n.bRt=WW.wRt,n.TRt=WW.wRt,n}F(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,r){n.pRt=t,n.zyt.EQ("THEOplayerOrientationLock",t),n.ERt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.pRt=XW.lRt,t.zyt.EQ("THEOplayerOrientationUnlock"),t.type=t.bRt,t.ERt(),n()})},i.ERt=function(){var t=this.TRt,n=this.type;t!==n&&(this.TRt=n,this.Vo(new Ss("change")))},i.addEventListener=function(t,n){this.Xo(t,n)},i.removeEventListener=function(t,n){this.Go(t,n)},n.SRt=function(t){switch(t){case XW.wRt:return[WW.wRt];case XW.yRt:return[WW.yRt];case XW.gRt:return[WW.wRt,WW.yRt];case XW.mRt:return[WW.mRt];case XW.kRt:return[WW.kRt];case XW._Rt:return[WW.mRt,WW.kRt];case XW.lRt:return[WW.wRt,WW.mRt,WW.kRt];case XW.dRt:return[WW.wRt,WW.yRt,WW.mRt,WW.kRt]}},n.RRt=function(t,i){return n.SRt(i).indexOf(t)>=0},M(n,[{key:"type",get:function(){return this.ARt},set:function(t){this.bRt=t,n.RRt(t,this.pRt)?(this.ARt=t,this.ERt()):(t===WW.mRt&&this.pRt===XW.kRt&&(this.ARt=WW.kRt,this.ERt()),t===WW.kRt&&this.pRt===XW.mRt&&(this.ARt=WW.mRt,this.ERt()))}},{key:"angle",get:function(){switch(this.type){case WW.mRt:return-90;case WW.kRt:return 90;case WW.wRt:return 0;case WW.yRt:return 180;default:return 0}}}]),n}(cl);jW.$e=new jW,e.screen.orientation=jW.$e,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.IRt="unavailable",t.NRt="available",t.CRt="presenting"}(zW||(zW={})),FE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),n.prototype.Ng=function(n){t.prototype.Ng.call(this,n);var i=this.al;this.al.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===zW.CRt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(XW.kRt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},DE.YB),function(t){t.il="addtrack",t.ul="removetrack",t.Al="change",t.Il="update"}(GW||(GW={}));var QW=function(t,n,i){this.type=GW.Al,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},YW=function(t,n){this.type=GW.il,this.mediaType=t,this.mediaTrack=n},ZW=function(t,n){this.type=GW.ul,this.mediaType=t,this.mediaTrack=n},JW=function(t,n){this.type=GW.Il,this.mediaType=t,this.mediaTrack=n},$W=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.DRt=function(t){var n=new QW(r.type,t.track,r.mediaTracks);r.messageDispatcher.ORt(n)},this.xRt=function(t){var n=new YW(r.type,t.track);r.messageDispatcher.ORt(n),t.track.addEventListener("update",r.PRt)},this.BRt=function(t){var n=new ZW(r.type,t.track);r.messageDispatcher.ORt(n)},this.PRt=function(t){var n=new JW(r.type,t.track);r.messageDispatcher.ORt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.kK()}return t.prototype.kK=function(){this.mediaTracks.addEventListener("change",this.DRt),this.mediaTracks.addEventListener("addtrack",this.xRt),this.mediaTracks.addEventListener("removetrack",this.BRt)},t}(),KW=function(){function t(){this.LRt=void 0,this.LRt=new tH}return t.prototype.ORt=function(t){this.LRt.EQ(t.type,ZU(t))},t}();XE(function(t){if(t.al.audioTracks){var n=new KW;new $W("audio",t.al.audioTracks,n)}if(t.al.videoTracks){var i=new KW;new $W("video",t.al.videoTracks,i)}});var tq,nq,iq=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case tq.MRt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Vo(new rq(i));break;default:0}},n}(xF),rq=function(t){function n(n){var i;return(i=t.call(this,tq.MRt)||this).detail=n,i}return F(n,t),n}(Ss);!function(t){t.MRt="registerContentProtectionIntegration"}(tq||(tq={})),function(t){t.URt="certifiateRequest",t.FRt="certifiateResponse",t.HRt="licenseRequest",t.VRt="licenseResponse",t.XRt="extractFairplayContentId",t.WRt="buildContentProtection",t.qRt="registerContentProtectionCallback"}(nq||(nq={}));var eq,sq=function(t,n){this.type=nq.qRt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(eq||(eq={}));var uq,oq=function(t,n){this.type=nq.WRt,this.value=t,this.integrationId=n},hq=function(t,n){this.type=nq.URt,this.value=t,this.integrationId=n},aq=function(t,n){this.type=nq.FRt,this.value=t,this.integrationId=n},cq=function(t,n){this.type=nq.XRt,this.value=t,this.integrationId=n},fq=function(t,n){this.type=nq.HRt,this.value=t,this.integrationId=n},vq=function(t,n){this.type=nq.VRt,this.value=t,this.integrationId=n},dq=function(){function t(t,n){this.zRt=void 0,this.JT=void 0,this.zRt=t,this.JT=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=E.coroutine(te.mark(function t(i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new hq(r,this.JT),t.prev=2,t.next=5,this.zRt.GRt(e);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.jRt(u)){t.next=13;break}return o=ne({},u),t.abrupt("return",o);case 13:if(!this.QRt(u)){t.next=16;break}return h=new m(u),t.abrupt("return",h);case 16:throw new A_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new A_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=E.coroutine(te.mark(function t(i){var r,e,s,u,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new aq(e,this.JT),t.next=5,this.zRt.GRt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new m(o));case 11:throw new A_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=E.coroutine(te.mark(function t(i){var r,e,s,u,o,h,a;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new fq(e,this.JT),t.prev=3,t.next=6,this.zRt.GRt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.jRt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new m(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.QRt(o)){t.next=17;break}return a=new m(o),t.abrupt("return",a);case 17:throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new A_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=E.coroutine(te.mark(function t(i){var r,e,s,u,o,h;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=ne({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new vq(s,this.JT),t.next=6,this.zRt.GRt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new m(h));case 12:throw new A_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=E.coroutine(te.mark(function t(i){var r,e;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new cq(i,this.JT),t.next=3,this.zRt.GRt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",E.reject(new A_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.jRt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.QRt=function(t){return!!new m(t)},t}(),lq=function(){function t(t){this.zRt=void 0,this.zRt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new dq(this.zRt,t.integration),i=new oq({drmConfiguration:t},t.integration);return this.zRt.GRt(i),n},t}(),_q=function(){var t=this;this.omt=void 0,this.YRt=function(n){var i=new lq(t.messageDispatcher),r=n.detail,e=r.integrationId,s=r.keySystem,u={state:Pm.rE.KT(e,s,i)};t.messageDispatcher.GRt(new sq(u,e))},this.omt=new iq,RF().contentProtectionIntegration={sdkEventBus:this.omt},this.omt.addEventListener(tq.MRt,this.YRt)},gq="nativePromiseCallback",wq=function(t){function n(n){var i;return(i=t.call(this,gq)||this).detail=n,i}return F(n,t),n}(Ss);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(uq||(uq={}));var yq=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Vo(new wq(n))},i.addEventListener=function(t,n){this.Xo(t,n)},i.removeEventListener=function(t,n){this.Go(t,n)},n}(xF),mq=function(){function t(){var t=this;this.LRt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case uq.RESOLVE:i.Eh(n.detail.data);break;case uq.REJECT:i.Sh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new yq;RF().nativePromise={sdkEventBus:n},n.addEventListener(gq,this.handleNativePromiseEvent)}return t.prototype.GRt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=ne({},n,{promiseId:r}),s=new Qu;return this.promisesMap[r]=s,null==(i=this.LRt)||i.EQ(n.type,QU(e)),s.Th},t}();mq.messageIdTracker=-1;var kq,pq=function(t){function n(){var n;return(n=t.call(this)||this).LRt=new tH,n}return F(n,t),n}(mq),Aq=function(t){function n(){var n;return(n=t.call(this)||this).zRt=new pq,n}return F(n,t),M(n,[{key:"messageDispatcher",get:function(){return this.zRt}}]),n}(_q);XE(function(t){new Aq}),function(t){t.ZRt="airplaystatechange"}(kq||(kq={}));var bq=function(t){this.type=kq.ZRt,this.state=t},Tq=function(t){function n(n){var i;return(i=t.call(this)||this).JRt=void 0,i.$Rt=function(t){var n=new bq(t.state);i.ORt(n)},i.JRt=n,i.kK(n),i}return F(n,t),n.prototype.kK=function(t){t.addEventListener("statechange",this.$Rt)},n}(KW);XE(function(t){var n;null!=(n=t.al.cast)&&n.airplay&&new Tq(t.al.cast.airplay)}),n.ChromelessPlayer=uS,n.Player=uS,n.cache=qW,n.createGlobals=CF,n.features=["hls","airplay"],n.getCueMirrorMap=IF,n.getGlobalId=NF,n.getSdkEventBridge=RF,n.playerSuiteVersion="2022.1.0",n.players=aS,n.registerContentProtectionIntegration=cS,n.utils=hS,n.version="3.0.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
