/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.2 (2.86.0)
 Created: 2021-07-06T08:47:21.749Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,a=t.clearTimeout,c=t.setInterval,h=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,g=t.parseFloat,w=t.isNaN,y=t.Uint8Array,m=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest),p="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function A(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T=A(function(n,u){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new f("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var v=r[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return u(i||t)},v,v.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new f}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function a(){this.g=!1,this.R=!1,this.I=new u(16),this.N=new u(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function c(t,n,i){this.I.push(t,n,i),this.H()}function h(t,n,i){this.N.push(t,n,i),this.H()}function v(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}a.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},a.prototype.hasCustomScheduler=function(){return this.g},a.prototype.enableTrampoline=function(){this.M=!0},a.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.M=!1)},a.prototype.haveItemsQueued=function(){return this.R||this.B},a.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},a.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(a.prototype.invokeLater=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){o(function(){t.call(n,i)},100)})},a.prototype.invoke=function(t,n,i){this.M?h.call(this,t,n,i):this.F(function(){t.call(n,i)})},a.prototype.settlePromises=function(t){this.M?v.call(this,t):this.F(function(){t.j()})}):(a.prototype.invokeLater=c,a.prototype.invoke=h,a.prototype.settlePromises=v),a.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},a.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},a.prototype.Y=function(){this.R=!1},n.exports=a,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.Z(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(u,u,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},a=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var c=i(u),h=new t(n);h.it(this,1);var f=this.ut();if(h.st(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.J(n,s,void 0,h,v),c.J(o,a,void 0,h,v),h.ot(c)}else h.nt(f);return h},t.prototype.st=function(t){void 0!==t?(this.K=2097152|this.K,this.at=t):this.K=-2097153&this.K},t.prototype.ct=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.ht;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),a.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Dt=function(){this.Ct=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.et());r===o&&(this.Pt(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Dt(),a.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Dt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.et();t:for(var h=0;h<t.length;++h){var v=t[h];if(v===f||null!=v&&v.prototype instanceof f){if(a instanceof v)return e(s).call(c,a)}else if("function"==typeof v){var d=e(v).call(c,a);if(d===u)return d;if(d)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(v),_=0;_<l.length;++_){var g=l[_];if(v[g]!=a[g])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,u=t.prototype.Ht,s=t.Vt,o=t.prototype.Vt,a=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=u,t.Vt=s,t.prototype.Vt=o,t.prototype.Ut=a,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,u,s,a=n.Xt,c=n.ht,h=t("./errors").Warning,l=t("./util"),g=t("./es5"),w=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==l.env("BLUEBIRD_DEBUG")),E=!(0==l.env("BLUEBIRD_WARNINGS")||!T&&!l.env("BLUEBIRD_WARNINGS")),S=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.ut();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;o(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",u,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=a();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=a();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),c.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),c.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var O={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){c.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){c.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?l.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Ct}function U(t){this.Ct=t}function F(){this.kt=void 0,this.Ct=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.ct()&&this.st(t.at)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(c.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.un=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.sn=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.an=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.an=P)),n},n.prototype.an=P,n.prototype.sn=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.un=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.ct()&&this.st(t.at)};function X(){var t=this.at;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.cn),void 0!==i)i.attachExtraTrace(t);else if(!t.hn){var r=Q(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"hn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.Pt(u);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&K(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof s?s(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){c.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:_(n[2],10)}}function it(t){this.cn=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.cn;for(var r=(t=this.Nt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].cn=void 0,n[o-1].Nt=1),n[r].cn=void 0,n[r].Nt=1;var a=r>0?n[r-1]:this;o<t-1?(a.cn=n[o+1],a.cn.uncycle(),a.Nt=a.cn.Nt+1):(a.cn=void 0,a.Nt=1);for(var c=a.Nt+1,h=r-2;h>=0;--h)n[h].Nt=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.hn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.cn;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"hn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,p=t,A=n;var i=f.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var r,e=new f;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof f.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var u="",s="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return a(i,f),i}var d=h("Warning","warning"),l=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(c(this,"message",t.message),c(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(k,f);var p=f.vn;p||(p=s({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),u.defineProperty(f,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.ut().Zt())}function d(t){if(!h(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(a===r)return a;if(void 0!==a){e.jt();var v=i(a,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Ot()){var l=new u("late cancellation observer");return e.Pt(l),s.e=l,s}v.isPending()&&v.rn(new c(this))}return v.J(f,d,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.dn(o(u,c,this),1,void 0,l)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,v=c.tryCatch,l=[];function _(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.ln=new n(r);this._n=o.lastly(function(){return a}),o.nn(),o.ot(this)}else{var c=this._n=new n(r);c.nn()}this.gn=u,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(l):l,this.pn=null,this.An=!1}c.inherits(_,u),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,s.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=v(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=v(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=v(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=v(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Dn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===h)return this.Tn(),this.An?i.cancel():i.Cn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var u=e(r,this._n);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Ft();var s=v(i[u])(t);if(r.Ht(),s===h){r.Ft();var o=n.reject(h.e);return r.Ht(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.kn,this._n))){var s=(u=u.ut()).K;0==(50397184&s)?(this.pn=u,u.On(this,null)):0!=(33554432&s)?n.ht.invoke(this.In,this,u.xn()):0!=(16777216&s)?n.ht.invoke(this.Nn,this,u.Pn()):this.Sn()}else this.Nn(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=_,e=(new f).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.mn=n,u.In(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Dn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Xt,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.ht;function d(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:a.domainBind(e,n),this.Ln=r===u?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,i,s,u).promise()}a.inherits(d,i),d.prototype.Hn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.In=function(t,i){var r=this.Vn,u=this.length(),o=this.Ln,a=this.Mn;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(a>=1&&this.Un>=a)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=c(v).call(d,t,i,u),_=f.Ht();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.ut()).K;if(0==(50397184&w))return a>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=u&&(null!==o?this.qn(r,o):this.zn(r),!0)},d.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},d.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.zn(r)},d.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),s=r.Ht();return u.checkForgottenReturns(e,s,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a.nn(),a.Ft(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.Ht();return u.checkForgottenReturns(r,f,"Promise.try",a),a.Gn(r),a},n.prototype.Gn=function(t){t===s.errorObj?this.Cn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.Pt(u),t.Z(u)}else if(n){var s=[].slice.call(arguments,1);t.En(s)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ht,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.et(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.et(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var s=e(n).call(this.et(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=s),this.J(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.ut())},e=function(t){return N.reject(new l(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"Xt",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"ht",{value:f});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+a.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.an("promiseCreated",this)}function D(t){this.promise.nt(t)}function C(t){this.promise.Cn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Cn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Cn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),c=this.ut(),h=c.K;u||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&h)?this.et():c===this?void 0:this.at),this.an("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,l,w=c.ii;0!=(33554432&h)?(l=c.Qn,d=t):0!=(16777216&h)?(l=c.jn,d=n,c.tn()):(w=c.ri,l=new _("late cancellation observer"),c.Pt(l),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:l})}else c.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.ui=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.an("promiseFulfilled",this)},N.prototype.si=function(){this.K=16777216|this.K,this.an("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.an("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.ai=function(){return(4194304&this.K)>0},N.prototype.ci=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.an("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.hi=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.ct()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.hi(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),u=t.hi(n);void 0===u&&(u=o),this.ei(i,r,e,u,null)},N.prototype.ei=function(t,n,i,r,e){var u=this.Nt();if(u>=65531&&(u=0,this.ui(0)),0===u)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.ui(u+1),u},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Cn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.ut();if(e!==this){var u=e.K;if(0==(50397184&u)){var s=this.Nt();s>0&&e.li(this);for(var o=1;o<s;++o)e._i(this,o);this.oi(),this.ui(0),this.gi(e)}else if(0!=(33554432&u))this.En(e.xn());else if(0!=(16777216&u))this.Z(e.Pn());else{var a=new _("late cancellation observer");e.Pt(a),this.Z(a)}}else this.Z(i())}},N.prototype.Cn=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.ft(u,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.sn(t,function(t){n.nt(t)},function(t){n.Cn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Cn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var u;r.Ft(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.et(),i):(u=R).e=new l("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.Ht();0==(65536&(e=r.K))&&(u===y?r.Z(i):u===R?r.Cn(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r.nt(u)))}},N.prototype.ut=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var s=t instanceof N,o=this.K,a=0!=(134217728&o);0!=(65536&o)?(s&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof u?i.Sn(t):s||t instanceof k?t.St():i.cancel()):"function"==typeof n?s?(a&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof u?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):s&&(a&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.hi(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.si(),this.jn=t,this.ai())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),u=this.hi(i);this.ki(i),this.yi(e,r,u,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),u=this.hi(i);this.ki(i),this.yi(e,r,u,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.ui(0)}this.un()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:D,reject:C}},a.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,u){var o=r(this.Vn,this._n);if(o instanceof n){var a=(o=o.ut()).K;if(this.Vn=o,0==(50397184&a))return this._n.ti(),o.J(t,this.Z,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=s.asArray(o)))0!==o.length?this.Ti(o):-5===u?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this._n.Cn(c,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.ut(),s=a.K):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.On(this,o),this.Vn[o]=a):u=0!=(33554432&s)?this.In(a.xn(),o):0!=(16777216&s)?this.Nn(a.Pn(),o):this.Sn(o):u=this.In(a,o)}u||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Cn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&_(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||_(h)||g(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c.nn();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.Cn(o(t),!0,!0)}return c.Kn()||c.ti(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=w(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=d(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(k(h.prototype,r,u,s,i),k(h,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.J(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.it(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.Vn);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.Vn[s+e]]=this.Vn[s]}return this.zn(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Di=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Ci(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Di(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Ci(r);var u=this.Ii-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Ci=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.it(o,3);for(var h=c.En,f=c.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Xt,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.xi=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===u?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,u=c(r.xi);e.Ft(),(i=void 0!==r.Li?u.call(e.et(),t,this.index,this.length):u.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return s.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==u&&this.Li.push(t)},h.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},h.prototype._init=function(){},h.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.zn=function(t){this._n.nt(t),this.Vn=null},h.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},h.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,u,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var u,s,a,c,h,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=p.setImmediate,_=process.nextTick;u=v.isRecentNode?function(t){l.call(p,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();u=function(t){g.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),a={attributes:!0},c=!1,h=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),c=!1}).observe(h,a),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,a),c||(c=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},s.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},s.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},c.prototype.init=function(){this.Wi=!0,this._init()},c.prototype.setUnwrap=function(){this.Xi=!0},c.prototype.howMany=function(){return this.Vi},c.prototype.setHowMany=function(t){this.Vi=t},c.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},c.prototype.Nn=function(t){return this.Qi(t),this.Yi()},c.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(a),this.Yi())},c.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new s,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==a&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},c.prototype.ji=function(){return this.Wn},c.prototype.Zi=function(){return this.Vn.length-this.length()},c.prototype.Qi=function(t){this.Vn.push(t)},c.prototype.Gi=function(t){this.Vn[this.Wn++]=t},c.prototype.qi=function(){return this.length()-this.Zi()},c.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new u(n)},c.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.l=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.ut(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},s=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.ut().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.ut().K)},t.prototype.isPending=function(){return s.call(this.ut())},t.prototype.isRejected=function(){return u.call(this.ut())},t.prototype.isFulfilled=function(){return e.call(this.ut())},t.prototype.isResolved=function(){return o.call(this.ut())},t.prototype.value=function(){return i.call(this.ut())},t.prototype.reason=function(){var t=this.ut();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.Ft();var c=n.reject(a.e);return o&&o.Ht(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"Yn")}catch(t){return!1}}(t)){var c=new n(i);return t.J(c.En,c.Z,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.Ft(),o.nn(),s&&s.Ht();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Cn(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.Cn(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){a(this.handle)};var c=function(t){return h(+this).thenReturn(t)},h=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).J(c,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.ot(e)):(u=new n(i),a=o(function(){u.En()},+t),r.cancellation()&&u.ot(new s(a)),u.nn()),u.ti(),u};function v(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return h(t,this)},n.prototype.timeout=function(t,n){var i,a,c=new s(o(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof f?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,a)},t=+t));return r.cancellation()?(a=this.then(),(i=a.J(v,d,void 0,c,void 0)).ot(c)):i=this.J(v,d,void 0,c,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var a=t("./util"),c=t("./errors").TypeError,h=t("./util").inherits,f=a.errorObj,v=a.tryCatch,d={};function l(t){o(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.En();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(a instanceof n&&a.$i()){try{a=r(a.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.J(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+a.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var k=new Array(c.length),h=0;h<k.length;++h)k[h]=n.resolve(c[h]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),u=v(u);var r=o?u.apply(void 0,t):u(t),e=A.Ht();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(c,t)});return c.promise=A,A.ot(c),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new c}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var u,o=n("./es5"),a=void 0===s,c={e:{}},h=void 0!==t?t:void 0!==r?r:void 0!==p?p:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var a=u[s];if(!e[a]){e[a]=!0;var c=d.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){return k(t)&&o.propertyIsWritable(t,"stack")}var b="stack"in new f?function(t){return A(t)?t:new f(m(t))}:function(t){if(A(t))return t;try{throw new f(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:E,notEnumerableProp:_,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:a,errorObj:c,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new f(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:A,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof f.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),D.isNode&&D.toFastProperties(process);try{throw new f}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var E,S=function(){},R=function(t){return t};function I(t,n,i){var r;return function(){for(var e=arguments.length,u=new Array(e),s=0;s<e;s++)u[s]=arguments[s];var o=this,a=i&&!r;void 0!==r&&b.ur(r),r=b.sr(function(){r=void 0,i||t.apply(o,u)},n),a&&t.apply(o,u)}}(E=T)&&E.config({warnings:!1,longStackTraces:!1});var N,D,C,O,x,P;E&&(O=E.setScheduler(S),N=O,x={ar:function(t){D=t,N(C)},cr:C=function(){var t=D;t&&(D=void 0,t())}},E.setScheduler(x.ar));function B(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function L(t,n,i){return n&&B(t.prototype,n),i&&B(t,i),t}function M(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}!function(t){t.hr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(P||(P={}));var U=s?s.userAgent:"",F=U.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),H=U.match(/Android ([0-9\.]+)/i),V=U.match(/Windows NT ([0-9\.]+)/i),X=U.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),W=U.match(/Firefox\/([0-9\.]+)/i),q=U.match(/OPR\/(\d+\.\d+)/i),z=U.match(/Tizen ([0-9\.]+)/i),G=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(U)||/(macintosh|mac(?=_powerpc)\s)/i.test(U),this.pr=/Windows NT/i.test(U),this.Ar=V?g(V[1]):0,this.Tr=/Android/i.test(U),this.Er=H?g(H[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(U),this.Rr=/iPhone/i.test(U),this.Ir=/iPad/i.test(U),this.Nr=this.kr&&this.mr&&!this.Ir,this.Dr=/iPod/i.test(U),this.Cr=/Mobile Safari/i.test(U),this.Or=(this.Rr||this.Ir||this.Nr||this.Dr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Cr,this.Pr=/CriOS/i.test(U),this.Br=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Pr,this.Lr=F?_(F[1],10):0,this.Mr=/SMART-TV.*Tizen/i.test(U),this.Ur=z?g(z[1]):0,this.Fr=/webos|web0s/i.test(U),this.Hr=/Edge\/\d+/i.test(U),this.Vr=/Trident/i.test(U),this.Xr=this.Vr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Wr=/Vivaldi/i.test(U),this.qr=/Firefox/i.test(U)&&!/Seamonkey/i.test(U),this.zr=W?g(W[1]):0,this.Gr=/Safari/i.test(U)&&!/Chrome/i.test(U)&&!this.Sr&&!this.Mr,this.jr=X?g(X[2]):0,this.Qr=Boolean(q),this.Yr=q?g(q[1]):0,this.Zr="ios"===P._r,this.Jr="ios"===P.dr,this.$r=this.Jr||this.Zr,this.Kr="ios"===P.gr,this.te="ios"===P.wr,this.ie="ios"===P.yr}return L(n,[{key:"re",get:function(){return this.mr}},{key:"ee",get:function(){return this.kr}},{key:"ue",get:function(){return this.pr}},{key:"se",get:function(){return this.Ar}},{key:"oe",get:function(){return this.Tr}},{key:"ae",get:function(){return this.Er}},{key:"ce",get:function(){return this.Sr}},{key:"he",get:function(){return this.Rr}},{key:"fe",get:function(){return this.Ir}},{key:"ve",get:function(){return this.Nr}},{key:"de",get:function(){return this.Dr}},{key:"_e",get:function(){return this.Or}},{key:"we",get:function(){return this.Cr}},{key:"ye",get:function(){return this.xr}},{key:"me",get:function(){return this.Pr}},{key:"ke",get:function(){return this.Br}},{key:"pe",get:function(){return this.Lr}},{key:"Ae",get:function(){return this.Mr}},{key:"be",get:function(){return this.Ur}},{key:"Te",get:function(){return this.Fr}},{key:"Ee",get:function(){return this.Hr}},{key:"Se",get:function(){return this.Vr}},{key:"Re",get:function(){return this.Xr}},{key:"Ie",get:function(){return this.Wr}},{key:"Ne",get:function(){return this.qr}},{key:"De",get:function(){return this.zr}},{key:"Ce",get:function(){return this.Gr}},{key:"Oe",get:function(){return this.jr}},{key:"xe",get:function(){return this.Qr}},{key:"Pe",get:function(){return this.Yr}},{key:"Be",get:function(){return this.Zr}},{key:"Le",get:function(){return this.Jr}},{key:"Me",get:function(){return this.$r}},{key:"Ue",get:function(){return this.Kr}},{key:"Fe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}}]),n}();G.Ve=new G;var j=G.Ve,Q={}.hasOwnProperty,Y={}.toString;function Z(t){return null!=t}var J=Array.isArray||function(t){return"[object Array]"===Y.call(t)};function $(t){return K(t)&&Q.call(t,"length")&&ut(t.length)}function K(t){return"object"==typeof t&&null!==t}function tt(t){return K(t)&&t.constructor&&t.constructor===d}function nt(t){return"string"==typeof t}function it(t){return"boolean"==typeof t}function rt(t){return Boolean(t)&&"function"==typeof t.then}function et(t){return"[object Date]"===Y.call(t)}function ut(t){return"number"==typeof t}var st=!(j.Se&&!j.Re),ot=t.console;function at(t){if(K(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(at).join(" ")}function ht(t){var n=ot&&ot[t];return n?n.bind&&st?n.bind(ot):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ot[t](ct(i))}:void 0}var ft,vt=ht("log")||S,dt=ht("warn")||vt.bind(void 0,"WARNING:"),lt=ht("error")||vt.bind(void 0,"ERROR:"),_t=(ft=ot&&ot.assert)?ft.bind&&st?ft.bind(ot):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ot.assert(t,ct(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];lt.apply(void 0,["Assertion failed:"].concat(i))}},gt=yt,wt=null;try{wt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function yt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function mt(t){return!0===(t&&t.Xe)}yt.prototype.Xe,d.defineProperty(yt.prototype,"Xe",{value:!0}),yt.isLong=mt;var kt={},pt={};function At(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=pt[t])?r:(i=Tt(t,(0|t)<0?-1:0,!0),e&&(pt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=kt[t])?r:(i=Tt(t,t<0?-1:0,!1),e&&(kt[t]=i),i)}function bt(t,n){if(w(t))return n?xt:Ot;if(n){if(t<0)return xt;if(t>=Nt)return Ut}else{if(t<=-Dt)return Ft;if(t+1>=Dt)return Mt}return t<0?bt(-t,n).neg():Tt(t%It|0,t/It|0,n)}function Tt(t,n,i){return new yt(t,n,i)}yt.fromInt=At,yt.fromNumber=bt,yt.fromBits=Tt;var Et=l.pow;function St(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ot;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return St(t.substring(1),n,i).neg();for(var e=bt(Et(i,8)),u=Ot,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),a=_(t.substring(s,s+o),i);if(o<8){var c=bt(Et(i,o));u=u.mul(c).add(bt(a))}else u=(u=u.mul(e)).add(bt(a))}return u.unsigned=n,u}function Rt(t,n){return"number"==typeof t?bt(t,n):"string"==typeof t?St(t,n):Tt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}yt.fromString=St,yt.fromValue=Rt;var It=4294967296,Nt=It*It,Dt=Nt/2,Ct=At(1<<24),Ot=At(0);yt.ZERO=Ot;var xt=At(0,!0);yt.UZERO=xt;var Pt=At(1);yt.ONE=Pt;var Bt=At(1,!0);yt.UONE=Bt;var Lt=At(-1);yt.NEG_ONE=Lt;var Mt=Tt(-1,2147483647,!1);yt.MAX_VALUE=Mt;var Ut=Tt(-1,-1,!0);yt.MAX_UNSIGNED_VALUE=Ut;var Ft=Tt(0,-2147483648,!1);yt.MIN_VALUE=Ft;var Ht=yt.prototype;Ht.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ht.toNumber=function(){return this.unsigned?(this.high>>>0)*It+(this.low>>>0):this.high*It+(this.low>>>0)},Ht.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ft)){var n=bt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=bt(Et(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Ht.getHighBits=function(){return this.high},Ht.getHighBitsUnsigned=function(){return this.high>>>0},Ht.getLowBits=function(){return this.low},Ht.getLowBitsUnsigned=function(){return this.low>>>0},Ht.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ft)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ht.isZero=function(){return 0===this.high&&0===this.low},Ht.eqz=Ht.isZero,Ht.isNegative=function(){return!this.unsigned&&this.high<0},Ht.isPositive=function(){return this.unsigned||this.high>=0},Ht.isOdd=function(){return 1==(1&this.low)},Ht.isEven=function(){return 0==(1&this.low)},Ht.equals=function(t){return mt(t)||(t=Rt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ht.eq=Ht.equals,Ht.notEquals=function(t){return!this.eq(t)},Ht.neq=Ht.notEquals,Ht.ne=Ht.notEquals,Ht.lessThan=function(t){return this.comp(t)<0},Ht.lt=Ht.lessThan,Ht.lessThanOrEqual=function(t){return this.comp(t)<=0},Ht.lte=Ht.lessThanOrEqual,Ht.le=Ht.lessThanOrEqual,Ht.greaterThan=function(t){return this.comp(t)>0},Ht.gt=Ht.greaterThan,Ht.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ht.gte=Ht.greaterThanOrEqual,Ht.ge=Ht.greaterThanOrEqual,Ht.compare=function(t){if(mt(t)||(t=Rt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ht.comp=Ht.compare,Ht.negate=function(){return!this.unsigned&&this.eq(Ft)?Ft:this.not().add(Pt)},Ht.neg=Ht.negate,Ht.add=function(t){mt(t)||(t=Rt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Tt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ht.subtract=function(t){return mt(t)||(t=Rt(t)),this.add(t.neg())},Ht.sub=Ht.subtract,Ht.multiply=function(t){if(this.isZero())return Ot;if(mt(t)||(t=Rt(t)),wt)return Tt(wt.mul(this.low,this.high,t.low,t.high),wt.get_high(),this.unsigned);if(t.isZero())return Ot;if(this.eq(Ft))return t.isOdd()?Ft:Ot;if(t.eq(Ft))return this.isOdd()?Ft:Ot;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ct)&&t.lt(Ct))return bt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Tt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Ht.mul=Ht.multiply,Ht.divide=function(t){if(mt(t)||(t=Rt(t)),t.isZero())throw f("division by zero");var n,i,r;if(wt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Tt((this.unsigned?wt.div_u:wt.div_s)(this.low,this.high,t.low,t.high),wt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?xt:Ot;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return xt;if(t.gt(this.shru(1)))return Bt;r=xt}else{if(this.eq(Ft))return t.eq(Pt)||t.eq(Lt)?Ft:t.eq(Ft)?Pt:(n=this.shr(1).div(t).shl(1)).eq(Ot)?t.isNegative()?Pt:Lt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ft))return this.unsigned?xt:Ot;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ot}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Et(2,e-48),s=bt(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=bt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Pt),r=r.add(s),i=i.sub(o)}return r},Ht.div=Ht.divide,Ht.modulo=function(t){return mt(t)||(t=Rt(t)),wt?Tt((this.unsigned?wt.rem_u:wt.rem_s)(this.low,this.high,t.low,t.high),wt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ht.mod=Ht.modulo,Ht.rem=Ht.modulo,Ht.not=function(){return Tt(~this.low,~this.high,this.unsigned)},Ht.and=function(t){return mt(t)||(t=Rt(t)),Tt(this.low&t.low,this.high&t.high,this.unsigned)},Ht.or=function(t){return mt(t)||(t=Rt(t)),Tt(this.low|t.low,this.high|t.high,this.unsigned)},Ht.xor=function(t){return mt(t)||(t=Rt(t)),Tt(this.low^t.low,this.high^t.high,this.unsigned)},Ht.shiftLeft=function(t){return mt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Tt(0,this.low<<t-32,this.unsigned)},Ht.shl=Ht.shiftLeft,Ht.shiftRight=function(t){return mt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Tt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ht.shr=Ht.shiftRight,Ht.shiftRightUnsigned=function(t){if(mt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Tt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Tt(32===t?n:n>>>t-32,0,this.unsigned)},Ht.shru=Ht.shiftRightUnsigned,Ht.shr_u=Ht.shiftRightUnsigned,Ht.toSigned=function(){return this.unsigned?Tt(this.low,this.high,!1):this},Ht.toUnsigned=function(){return this.unsigned?this:Tt(this.low,this.high,!0)},Ht.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ht.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ht.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},yt.fromBytes=function(t,n,i){return i?yt.fromBytesLE(t,n):yt.fromBytesBE(t,n)},yt.fromBytesLE=function(t,n){return new yt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},yt.fromBytesBE=function(t,n){return new yt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Vt=gt,Xt=l.pow(2,-52);function Wt(t,n,i){return l.min(l.max(t,n),i)}function qt(t,n,i){return t===n||l.abs(t-n)<=i}function zt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Xt||i<l.max(l.abs(t),l.abs(n))*Xt}function Gt(t){return t!=t}function jt(t,n){return t===n||Gt(t)&&Gt(n)}function Qt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Yt(){return Date.now()||(new Date).getTime()}function Zt(t){return t/1e3}var Jt,$t=Vt.fromNumber(9007199254740991);function Kt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual($t))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function tn(t){return t.We===Jt.qe}function nn(t){return t.We===Jt.ze}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.qe=1]="qe",t[t.Ge=2]="Ge",t[t.ze=3]="ze",t[t.je=4]="je",t[t.Qe=9]="Qe"}(Jt||(Jt={}));var en=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(en.prototype=d.create(f.prototype)).constructor=en;var un=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace(rn(r),r.constructor),r}return M(n,t),L(n,[{key:"name",get:function(){return"BaseError"}}]),n}(en),sn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return M(n,t),n}(un),on=function(){function t(){}return t.prototype.Ye=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new ln(n)},t}(),an=function(){function t(t){this.Ze=t}var n=t.prototype;return n.Je=function(t){return this.Ze.isEqualNode(t.Ze)},n.$e=function(n){return new t(this.Ze.cloneNode(n))},L(t,[{key:"We",get:function(){return Jt.Ge}},{key:"Ke",get:function(){var t;return null!==(t=this.Ze.localName)&&void 0!==t?t:wn(this.Ze.nodeName)}},{key:"tu",get:function(){return this.Ze.nodeName}},{key:"nu",get:function(){var t;return null!==(t=this.Ze.namespaceURI)&&void 0!==t?t:void 0}},{key:"iu",get:function(){var t;return null!==(t=this.Ze.prefix)&&void 0!==t?t:void 0}},{key:"ru",get:function(){return this.Ze.nodeValue}}]),t}(),cn=function(){function t(t){this.eu=void 0,this.uu=t}var n=t.prototype;return n.su=function(t){return this.ou.filter(function(n){return _n(n)&&n.au===t})},n.cu=function(t,n){return this.ou.filter(function(i){return _n(i)&&i.Ke===n&&i.nu===t})},n.hu=function(t){this.uu.appendChild(t.fu),this.eu&&this.eu.push(t)},n.Je=function(t){return this.uu.isEqualNode(t.fu)},L(t,[{key:"ou",get:function(){return void 0===this.eu&&(this.eu=function(t){for(var n=[],i=0;i<t.length;i++){var r=gn(t.item(i));r&&n.push(r)}return n}(this.uu.childNodes)),this.eu}},{key:"vu",get:function(){return this.ou.filter(_n)}},{key:"fu",get:function(){return this.uu}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}M(n,t);var i=n.prototype;return i.du=function(t){if(this.uu.hasAttribute(t))return this.uu.getAttribute(t)},i.lu=function(t,n){if(this.uu.hasAttributeNS(t,n))return this.uu.getAttributeNS(t,n)},i._u=function(t){this.uu.removeAttribute(t)},i.gu=function(t,n){this.uu.removeAttributeNS(t,n)},i.wu=function(t,n){this.uu.setAttribute(t,n)},i.yu=function(t,n,i){this.uu.setAttributeNS(t,n,i)},i.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.qe}},{key:"Ke",get:function(){var t;return null!==(t=this.uu.localName)&&void 0!==t?t:wn(this.uu.nodeName)}},{key:"nu",get:function(){var t;return null!==(t=this.uu.namespaceURI)&&void 0!==t?t:void 0}},{key:"iu",get:function(){var t;return null!==(t=this.uu.prefix)&&void 0!==t?t:void 0}},{key:"au",get:function(){return this.uu.nodeName}},{key:"mu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.uu.attributes)}},{key:"ku",get:function(){return this.uu.textContent}}]),n}(cn),fn=function(){function t(t){this.uu=t}return t.prototype.Je=function(t){return this.pu===t.pu},L(t,[{key:"pu",get:function(){return this.uu.nodeValue}},{key:"fu",get:function(){return this.uu}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.ze}}]),n}(fn),dn=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.je}}]),n}(fn),ln=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.Qe}},{key:"Au",get:function(){return new hn(this.uu.documentElement)}}]),n}(cn);function _n(t){return tn(t)}function gn(t){switch(t.nodeType){case Jt.qe:return new hn(t);case Jt.ze:return new vn(t);case Jt.je:return new dn(t)}}function wn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function yn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function mn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){kn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var pn=/[a-zA-Z]/,An=/[0-9]/,bn=/[0-9a-fA-F]/,Tn=/^0x/i,En=/^[0-9]+$/,Sn=/^[0-9a-fA-F]+$/,Rn=/^[0-7]+$/,In=d.prototype.toString,Nn=Array.isArray||function(t){return"[object Array]"===In.call(t)},Dn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Cn(t){return Nn(t)?t:Array.from(t)}function On(t){return t>=65&&t<=90}function xn(t){return On(t)||function(t){return t>=97&&t<=122}(t)}function Pn(t){return t>=48&&t<=57}function Bn(t){return Pn(t)||xn(t)}function Ln(t){return Pn(t)||t>=65&&t<=70||t>=97&&t<=102}function Mn(t){return On(t)?t+32:t}function Un(t){return Pn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Fn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Hn=l.min,Vn=String.fromCharCode,Xn=16384;function Wn(t){for(var n=t.length,i=[],r=0;r<n;r+=Xn){var e=Hn(r+Xn,n);i.push(Vn.apply(null,t.slice(r,e)))}return i.join("")}var qn=/[^\0-\x7E]/,zn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},jn=l.floor,Qn=String.fromCharCode;function Yn(t){throw new RangeError(Gn[t])}function Zn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Jn,$n,Kn,ti=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ni=function(t,n,i){var r=0;for(t=i?jn(t/700):t>>1,t+=jn(t/n);t>455;r+=36)t=jn(t/35);return jn(r+36*t/(t+38))},ii=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(zn,".")).split("."),n).join(".");return r+e}(t,function(t){return qn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Zn(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Qn(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>jn((2147483647-e)/_)&&Yn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Yn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(Qn(ti(p+A%b,0))),m=jn(A/b)}n.push(Qn(ti(m,0))),u=ni(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function ri(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Wn(n)}function ei(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ui(t,n){return t>>n&63|128}function si(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ei(t),n.push(t>>12&15|224),n.push(ui(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ui(t,12)),n.push(ui(t,6))),n.push(63&t|128)):n.push(t)}function oi(t){for(var n=[],i=0;i<t.length;i++){si(t[i],n)}return n}function ai(){if(Kn>=$n)throw new f("Invalid byte index");var t=255&Jn[Kn];if(Kn++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function ci(){var t,n;if(Kn>$n)throw new f("Invalid byte index");if(Kn===$n)return!1;if(t=255&Jn[Kn],Kn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ei(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function hi(t){return[37,Fn(t>>4),Fn(15&t)]}function fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function vi(t){return fi(t)||32===t||34===t||60===t||62===t||96===t}function di(t){return vi(t)||35===t||63===t||123===t||125===t}function li(t){return di(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function _i(t){return t<33||t>126||34===t||35===t||60===t||62===t}function gi(t){return _i(t)||39===t}function wi(t,n){if(!n(t))return[t];for(var i=oi([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,hi(u))}return r}function yi(t,n){for(var i=[],r=0,e=Zn(t);r<e.length;r++){var u=e[r];i.push.apply(i,wi(u,n))}return ri(i)}function mi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Ln(t[r+1])&&Ln(t[r+2])){var u=Un(t[r+1])<<4|Un(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(oi(t))}function ki(t){return ri(function(t){Jn=t.slice(),$n=Jn.length,Kn=0;for(var n,i=[];!1!==(n=ci());)i.push(n);return i}(mi(Zn(t))))}function pi(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new v;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new v("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&bn.test(t[c]);)h=h<<4|_(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new v;if(c-=f,o>6)throw new v;for(var d=0;c<u;){var l=null;if(d>0){if(!("."===t[c]&&d<4))throw new v;c+=1}if(!An.test(t[c]))throw new v;for(;c<u&&An.test(t[c]);){var g=_(t[c],10);if(null===l)l=g;else{if(0===l)throw new v;if((l=10*l+g)>255)throw new v}c+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[c]){if((c+=1)===u)throw new v}else if(c<u)throw new v;s[o]=h,o+=1}else{if(null!==a)throw new v("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var w=o-a;for(o=7;0!==o&&w>0;)r=a+w-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new v;return s}function Ai(t){var n=10,i=En;return Tn.test(t)?(t=t.slice(2),n=16,i=Sn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Rn),""===t?0:i.test(t)?_(t,n):void 0}var bi={bu:4},Ti=/[\0\t\n\r #%/:?@\[\\\]]/,Ei=/[\0\t\n\r #/:?@\[\\\]]/;function Si(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{bu:2,Tu:pi(t.slice(1,-1))}}if(!n)return function(t){if(Ei.test(t))throw new v("Invalid code point in opaque host");var n=yi(t,fi);return""===n?bi:{bu:3,nr:n}}(t);var i=function(t){return function(t){return ii(t.toLowerCase())}(t)}(ki(t));if(Ti.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ai(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*l.pow(256,3-a);return o}}(i);return void 0!==r?{bu:1,Tu:r}:""===i?bi:{bu:0,Eu:i}}function Ri(t){switch(t.bu){case 0:return t.Eu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Tu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Tu)+"]";case 3:return t.nr;case 4:return""}}var Ii=/\+/g;function Ni(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Ii," "),o=o.replace(Ii," ");var a=ki(s),c=ki(o);i.push([a,c])}}return i}function Di(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Ci(oi(Zn(r[0])))+"="+Ci(oi(Zn(r[1])))}return n}function Ci(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Bn(n)?i.push(e):i.push.apply(i,hi(e))}return Wn(i)}var Oi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function xi(t){var n=""+t,i=Oi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Bi(u))if(Li(u)||e===i-1)r.push(Pi);else{var s=t.charCodeAt(e+1);Li(s)?(r.push(u,s),e++):r.push(Pi)}else r.push(u)}return t.slice(0,n)+Wn(r)}(n,i.index):n}var Pi=65533,Bi=function(t){return 55296==(63488&t)},Li=function(t){return 0!=(1024&t)};function Mi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ui(t){t.Su.length=0}function Fi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Su,Ni(n))}function Hi(t){if(t.Ru){var n=Di(t.Su);""===n&&(n=null),t.Ru.Ru.Iu=n}}var Vi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ru=null,null==t)this.Su=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Vi&&Nn(u.Su)&&(!Dn||u[Symbol.iterator]===Xi))this.Su=t.Su.slice();else if(function(t){return null!=t&&(!!Nn(t)||!!Dn&&"function"==typeof t[Symbol.iterator])}(t)){this.Su=[];for(var n=0,i=Cn(t);n<i.length;n++){var r=Cn(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Su.push([xi(r[0]),xi(r[1])])}}else for(var e in this.Su=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Su.push([xi(e),xi(t[e])]);else(t=xi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Su=Ni(t);var u}var n=t.prototype;return n.append=function(t,n){t=xi(t),n=xi(n),this.Su.push([t,n]),Hi(this)},n.delete=function(t){t=xi(t);for(var n=this.Su,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Hi(this)},n.get=function(t){t=xi(t);for(var n=this.Su,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=xi(t);for(var n=this.Su,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=xi(t);for(var n=this.Su,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=xi(t),n=xi(n);for(var i=this.Su,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Hi(this)},n.sort=function(){mn(this.Su,Mi),Hi(this)},n.toString=function(){return Di(this.Su)},n.entries=function(){return new Gi(this.Su,Wi)},n.keys=function(){return new Gi(this.Su,qi)},n.values=function(){return new Gi(this.Su,zi)},n.forEach=function(t){var n=this;this.Su.forEach(function(i){return t(i[1],i[0],n)})},t}(),Xi=Vi.prototype.entries;Dn&&(Vi.prototype[Symbol.iterator]=Xi);var Wi=function(t){return[t[0],t[1]]},qi=function(t){return t[0]},zi=function(t){return t[1]},Gi=function(){function t(t,n){this.Nu=0,this.Su=t,this.Du=n}return t.prototype.next=function(){return this.Nu<this.Su.length?{done:!1,value:this.Du(this.Su[this.Nu++])}:{done:!0,value:void 0}},t}(),ji="null";var Qi=d.create(null);Qi.ftp=21,Qi.file=0,Qi.gopher=70,Qi.http=80,Qi.https=443,Qi.ws=80,Qi.wss=443;var Yi=/^(?:\.|%2e)$/i,Zi=/^(?:\.|%2e){2}$/i;function Ji(t){return Yi.test(t)}function $i(t){return Zi.test(t)}function Ki(t){return void 0!==Qi[t]}function tr(t){return Ki(t.Cu)}function nr(t){return""!==t.Ou||""!==t.xu}function ir(t){var n=t.length;if(!(n>=2))return!1;if(!er(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function rr(t){return 2===t.length&&pn.test(t[0])&&(":"===t[1]||"|"===t[1])}function er(t){return 2===t.length&&rr(Wn(t))}function ur(t){return rr(t)&&":"===t[1]}function sr(t){var n=t.Pu;0!==n.length&&("file"===t.Cu&&1===n.length&&ur(n[0])||n.pop())}function or(t){return null===t.Bu||bi===t.Bu||t.Lu||"file"===t.Cu}var ar=-1,cr=/\t|\n|\r/g,hr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function fr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new dr,t=t.replace(hr,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Zn(t=t.replace(cr,"")),h=c.length,f=0;f<=h;){var d=f<h?c[f]:ar;switch(e){case 0:if(!xn(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Mn(d)),e=1;break;case 1:if(Bn(d)||43===d||45===d||46===d)u.push(Mn(d));else{if(58!==d){if(null===r){u.length=0,e=2,f=0;continue}throw new v("Invalid scheme")}var l=ri(u);if(null!==r){if(Ki(i.Cu)&&!Ki(l))return;if(!Ki(i.Cu)&&Ki(l))return;if((nr(i)||null!==i.Mu)&&"file"===l)return;if("file"===i.Cu&&(i.Bu===bi||null===i.Bu))return}if(i.Cu=l,null!==r)return void(tr(i)&&i.Mu===Qi[i.Cu]&&(i.Mu=null));u.length=0,"file"===i.Cu?e=13:tr(i)&&n&&n.Cu===i.Cu?e=3:tr(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Lu=!0,i.Pu.push(""),e=18)}break;case 2:if(!n||n.Lu&&35!==d)throw new v("Invalid scheme");n.Lu&&35===d?(i.Cu=n.Cu,i.Pu=n.Pu.slice(),i.Iu=n.Iu,i.Uu="",i.Lu=!0,e=20):"file"!==n.Cu?(e=5,f-=1):(e=13,f-=1);break;case 3:47===d&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===d?e=9:(e=17,f-=1);break;case 5:i.Cu=n.Cu,ar===d?(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Iu=n.Iu):47===d?e=6:63===d?(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Iu="",e=19):35===d?(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Iu=n.Iu,i.Uu="",e=20):92===d&&tr(i)?e=6:(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Pu.pop(),e=17,f-=1);break;case 6:!tr(i)||47!==d&&92!==d?47===d?e=9:(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,e=17,f-=1):e=8;break;case 7:if(47!==d||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==d&&92!==d&&(e=9,f-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var w=u[g];if(58!==w||a){var y=ri(wi(w,li));a?i.xu+=y:i.Ou+=y}else a=!0}u.length=0}else if(ar===d||47===d||63===d||35===d||tr(i)&&92===d){if(s&&0===u.length)throw new v("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.Cu)f-=1,e=15;else if(58!==d||o)if(ar===d||47===d||63===d||35===d||tr(i)&&92===d){if(f-=1,tr(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(nr(i)||null!==i.Mu))return;var m=Si(ri(u),tr(i));if(i.Bu=m,u.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var k=Si(ri(u),tr(i));if(i.Bu=k,u.length=0,e=12,11===r)return}break;case 12:if(Pn(d))u.push(d);else{if(!(ar===d||47===d||63===d||35===d||tr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var p=_(ri(u),10);if(p>65535)throw new v("Invalid port");i.Mu=p===Qi[i.Cu]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Cu="file",47===d||92===d?e=14:n&&"file"===n.Cu?ar===d?(i.Bu=n.Bu,i.Pu=n.Pu.slice(),i.Iu=n.Iu):63===d?(i.Bu=n.Bu,i.Pu=n.Pu.slice(),i.Iu="",e=19):35===d?(i.Bu=n.Bu,i.Pu=n.Pu.slice(),i.Iu=n.Iu,i.Uu="",e=20):(ir(c.slice(f))||(i.Bu=n.Bu,i.Pu=n.Pu.slice(),sr(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Cu&&!ir(c.slice(f))&&(ur(n.Pu[0])?i.Pu.push(n.Pu[0]):i.Bu=n.Bu),e=17,f-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(f-=1,null===r&&er(u))e=17;else if(0===u.length){if(i.Bu=bi,null!==r)return;e=16}else{var A=Si(ri(u),tr(i));if(0===A.bu&&"localhost"===A.Eu&&(A=bi),i.Bu=A,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:tr(i)?(e=17,47!==d&&92!==d&&(f-=1)):null===r&&63===d?(i.Iu="",e=19):null===r&&35===d?(i.Uu="",e=20):ar!==d&&(e=17,47!==d&&(f-=1));break;case 17:if(ar===d||47===d||tr(i)&&92===d||null===r&&(63===d||35===d)){var b=ri(u);if($i(b)?(sr(i),47===d||tr(i)&&92===d||i.Pu.push("")):!Ji(b)||47===d||tr(i)&&92===d?Ji(b)||("file"===i.Cu&&0===i.Pu.length&&er(u)&&(bi!==i.Bu&&null!==i.Bu&&(i.Bu=bi),u[1]=58,b=ri(u)),i.Pu.push(b)):i.Pu.push(""),u.length=0,"file"===i.Cu&&(ar===d||63===d||35===d))for(;i.Pu.length>1&&""===i.Pu[0];)i.Pu.shift();63===d?(i.Iu="",e=19):35===d&&(i.Uu="",e=20)}else u.push.apply(u,wi(d,di));break;case 18:63===d?(i.Iu="",e=19):35===d?(i.Uu="",e=20):ar!==d&&(i.Pu[0]+=ri(wi(d,fi)));break;case 19:null===r&&35===d?(i.Uu="",e=20):ar!==d&&(i.Iu+=ri(wi(d,tr(i)?gi:_i)));break;case 20:ar===d||0===d||(i.Uu+=ri(wi(d,vi)))}f++}return i}function vr(t,n,i,r){try{fr(t,n,i,r)}catch(t){}}var dr=function(){this.Cu="",this.Ou="",this.xu="",this.Bu=null,this.Mu=null,this.Pu=[],this.Iu=null,this.Uu=null,this.Lu=!1};function lr(t){switch(t.Cu){case"blob":var n;try{n=fr(t.Pu[0],null)}catch(t){return ji}return lr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Cu,r=t.Bu,e=t.Mu,i+"://"+Ri(r)+(null===e?"":":"+e);case"file":default:return ji}var i,r,e}var _r=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof _r&&"object"==typeof i.Ru)e=n.Ru;else try{e=fr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=fr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=r.Iu;this.Ru=r,this.Iu=function(t){var n=new Vi;return null!==t&&Fi(n,t),n}(u),this.Iu.Ru=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Cu+":";if(null!==t.Bu?(i+="//",nr(t)&&(i+=t.Ou,""!==t.xu&&(i+=":"+t.xu),i+="@"),i+=Ri(t.Bu),null!==t.Mu&&(i+=":"+t.Mu)):null===t.Bu&&"file"===t.Cu&&(i+="//"),t.Lu)i+=t.Pu[0];else for(var r=0,e=t.Pu;r<e.length;r++)i+="/"+e[r];return null!==t.Iu&&(i+="?"+t.Iu),n||null===t.Uu||(i+="#"+t.Uu),i}(this.Ru)},set:function(t){var n;try{n=fr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Ru=n,Ui(this.Iu);var i=this.Ru.Iu;null!==i&&Fi(this.Iu,i)}},{key:"origin",get:function(){return lr(this.Ru)}},{key:"protocol",get:function(){return this.Ru.Cu+":"},set:function(t){vr(t+":",null,this.Ru,0)}},{key:"username",get:function(){return this.Ru.Ou},set:function(t){or(this.Ru)||(this.Ru.Ou=yi(t,li))}},{key:"password",get:function(){return this.Ru.xu},set:function(t){or(this.Ru)||(this.Ru.xu=yi(t,li))}},{key:"host",get:function(){var t=this.Ru,n=t.Bu;if(null===n)return"";var i=t.Mu,r=Ri(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ru.Lu||vr(t,null,this.Ru,10)}},{key:"hostname",get:function(){var t=this.Ru.Bu;return null===t?"":Ri(t)},set:function(t){this.Ru.Lu||vr(t,null,this.Ru,11)}},{key:"port",get:function(){var t=this.Ru.Mu;return null===t?"":""+t},set:function(t){or(this.Ru)||(""===t?this.Ru.Mu=null:vr(t,null,this.Ru,12))}},{key:"pathname",get:function(){var t=this.Ru.Pu;return this.Ru.Lu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ru.Lu||(this.Ru.Pu.length=0,vr(t,null,this.Ru,16))}},{key:"search",get:function(){var t=this.Ru.Iu;return null===t||""===t?"":"?"+t},set:function(t){t=xi(t);var n=this.Ru;if(""===t)return n.Iu=null,void Ui(this.Iu);"?"===t[0]&&(t=t.slice(1)),n.Iu="",vr(t,null,n,19),Fi(this.Iu,t)}},{key:"searchParams",get:function(){return this.Iu}},{key:"hash",get:function(){var t=this.Ru.Uu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ru.Uu="",vr(t,null,this.Ru,20)):this.Ru.Uu=null}}])&&yn(n.prototype,i),r&&yn(n,r),t}();function gr(t,n,i){return t.split(n).join(i)}function wr(t,n){return null!=t&&-1!==t.indexOf(n)}function yr(t,n){return null!=t&&t.substr(0,n.length)===n}function mr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function kr(t,n){return t.toUpperCase()===n.toUpperCase()}function pr(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function Ar(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=pr(r,e/r.length)),r.slice(0,e)+t)}function br(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Er(n)}var Tr=16384;function Er(t){var n=t.length;if(n<=Tr)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Tr)i.push(String.fromCharCode.apply(String,t.slice(r,r+Tr)));return i.join("")}function Sr(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Rr(t,n){var i=b.Fu(t);return n&&!mr(i,"/")&&(i+="/"),i}var Ir,Nr,Dr,Cr,Or,xr,Pr,Br=/cache:(.+)?(?=&|$)/,Lr="http://webcache.googleusercontent.com/search?q=cache:";function Mr(t){if(!yr(t,Lr))return"";var n=b.Hu(t).search.match(Br);return n&&n.length>1?n[1]:""}function Ur(t){return b.Hu(t).hostname}function Fr(t){return t.document&&t.document.baseURI||t.location.href||""}function Hr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Vr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Xr(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function Wr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function qr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function zr(t){t.removeAttribute("title")}function Gr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function jr(t){t.src&&(t.removeAttribute("src"),t.load())}function Qr(){return void 0!==e?e.createElement("video"):void 0}function Yr(){return Pr||(Pr=Qr()),Pr}var Zr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Jr=Yr(),$r=!(!Jr||!Jr.webkitShowPlaybackTargetPicker),Kr=function(){function t(){this.Vu=void 0,this.Xu=!1,this.re=Zr,this.ye=!1,this.Wu=!0}var n=t.prototype;return n.qu=function(){return 0},n.zu=function(t,n){return!0},n.Gu=function(t){return t>=1/6*2},L(t,[{key:"ju",get:function(){return void 0===this.Vu&&(this.Vu=this.qu()),this.Vu}},{key:"Qu",get:function(){return r.devicePixelRatio||1}},{key:"Yu",get:function(){return $r}},{key:"Zu",get:function(){return!1}},{key:"Ju",get:function(){return!0}},{key:"$u",get:function(){return j.Ce}}]),t}(),te=function(){var t=Qr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(j.ve)return!1;var t=Qr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ne=function(t){function n(n){var i;return(i=t.call(this)||this).Ku=n,i.Ku&&(i.Xu=i.Ku.Xu,i.re=i.Ku.re,i.Wu=te&&i.Ku.Wu),i}M(n,t);var i=n.prototype;return i.qu=function(){return this.Ku?this.Ku.ju:t.prototype.qu.call(this)},i.zu=function(n,i){return this.Ku?this.Ku.zu(n,i):t.prototype.zu.call(this,n,i)},i.Gu=function(n){return this.Ku?this.Ku.Gu(n):t.prototype.Gu.call(this,n)},n}(Kr),ie=function(t){function n(n){var i;return(i=t.call(this,n)||this).Xu=!0,i.ye=!0,i}return M(n,t),n}(ne),re=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.qu=function(){return Cr.MediaSource?t.prototype.qu.call(this):1},n}(ie),ee=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.zu=function(n,i){return!(i.ts>1920)&&t.prototype.zu.call(this,n,i)},L(n,[{key:"Zu",get:function(){return j.be<3}},{key:"Ju",get:function(){return j.be>=3}}]),n}(ne),ue=function(t){function n(){return t.call(this)||this}return M(n,t),n}(Kr),se=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.zu=function(t,n){if(t&&t.rs&&n&&n.rs){var i=oe(t.rs,"mp4a.40.2")&&oe(n.rs,"mp4a.40.5"),r=oe(t.rs,"mp4a.40.5")&&oe(n.rs,"mp4a.40.2"),e=oe(t.rs,"mp4a.40.2")&&oe(n.rs,"mp4a.40.34"),u=oe(t.rs,"mp4a.40.34")&&oe(n.rs,"mp4a.40.2"),s=oe(t.rs,"mp4a.40.5")&&oe(n.rs,"mp4a.40.34"),o=oe(t.rs,"mp4a.40.34")&&oe(n.rs,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(ue);function oe(t,n){return t.indexOf(n)>-1}var ae=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Gu=function(t){return t>=2},n}(ue),ce=function(t){function n(){var n;return(n=t.call(this)||this).Xu=j.Oe>=11,n.Wu=j.Ce&&!(j._e&&j.Oe<10),n}return M(n,t),n}(ue),he=function(){function n(){var n;this.es=new on,this.us=new fe,this.ss=(n=function(){if(j.Ne)return new se;if(j.Ee||j.Se)return new ae;if(j.Ce)return new ce;return new ue}(),j._e?new re(n):j.ye?new ie(n):j.Ae?new ee(n):new ne(n)),this.os=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.as=function(){return t.performance.now()}:this.as=Yt}var i=n.prototype;return i.cs=function(){vt.apply(void 0,arguments)},i.hs=function(){dt.apply(void 0,arguments)},i.fs=function(){lt.apply(void 0,arguments)},i.vs=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];_t.apply(void 0,[t].concat(i))},i.sr=function(t,n){return o(t,n)},i.ds=function(t,n){return c(t,n)},i.ur=function(t){a(t)},i.ls=function(t){h(t)},i.Ye=function(t){return this.es.Ye(t)},i._s=function(){return this.gs._s()},i.ys=function(){return this.gs.ys()},i.ks=function(){return this.gs.ks()},i.ps=function(){return this.gs.ps()},i.As=function(){return this.gs.As()},i.bs=function(t,n){return this.gs.bs(t,n)},i.Ts=function(t){return this.gs.Ts(t)},i.Hu=function(t,n){return void 0===n&&(n=Fr(Cr)),new _r(t,n)},i.Fu=function(n,i){if(void 0===i&&(i=Fr(Cr)),this.os){var r=nt(i)?i:i.toString();return new t.URL(n,r).href}return this.Hu(n,i).href},L(n,[{key:"Es",get:function(){return this.us}},{key:"Ss",get:function(){return this.ss}},{key:"Rs",get:function(){return{Is:s&&s.userAgent.match(/Android /i)?"Android":"other",Ns:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Ds",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),fe=function(){function t(){}return L(t,[{key:"Cs",get:function(){return s.oscpu}},{key:"Ss",get:function(){return s.platform}},{key:"Os",get:function(){return s.vendor}},{key:"xs",get:function(){return s.vendorSub}}]),t}();var ve=A(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,u=d.create(e.prototype),s=new C(r||[]);return u.Ps=function(t,n,i){var r=h;return function(e,u){if(r===_)throw new f("Generator is already running");if(r===g){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.Bs=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?g:l,a.arg===y)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=g,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",l="suspendedYield",_="executing",g="completed",y={};function m(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=d.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=m.prototype=d.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Ps(n,t)}})}function R(t){var n;this.Ps=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"Ls")?Promise.resolve(h.Ls).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,y;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!w(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{Ls:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Bs=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!w(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,y):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new f("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function de(){return(de=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function le(){var t=d.create(null);return t.Ms=void 0,delete t.Ms,t}function _e(){return new me}function ge(t){var n=_e();for(var i in t)Q.call(t,i)&&n.set(i,t[i]);return n}var we,ye="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,me=ye||(we=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=le(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=le(),this.size=0},n.keys=function(){return new we(this.data,function(t,n){return n})},n.values=function(){return new we(this.data,function(t,n){return t[n]})},n.entries=function(){return new we(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ke,pe=ye||(ke=function(){function t(t,n){this.Us=t,this.Fs=n}var n=t.prototype;return n.next=function(){var t=this.Us.next();return t.done?t:{value:this.Fs(t.value),done:!1}},t}(),function(){function t(){this.Hs=_e()}var n=t.prototype;return n.get=function(t){return this.Hs.get(""+t)},n.set=function(t,n){return this.Hs.set(""+t,n),this},n.has=function(t){return this.Hs.has(""+t)},n.delete=function(t){return this.Hs.delete(""+t)},n.clear=function(){this.Hs.clear()},n.keys=function(){return new ke(this.Hs.keys(),function(t){return Number(t)})},n.values=function(){return this.Hs.values()},n.entries=function(){return new ke(this.Hs.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Hs.forEach(function(n,i){t(n,Number(i))})},L(t,[{key:"size",get:function(){return this.Hs.size}}]),t}());var Ae,be="urn:mpeg:dash:mp4protection:2011",Te="cenc",Ee="sinf",Se="skd",Re="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Ie="com.microsoft.playready",Ne="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",De="urn:uuid:"+Ne,Ce="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Oe="urn:uuid:"+Ce,xe="com.apple.fps.1_0";!function(t){t.Vs="playready",t.Xs="widevine",t.Ws="fairplay",t.qs="clearkey",t.zs="aes128"}(Ae||(Ae={}));var Pe={Gs:Ae.Vs,js:Ie,Qs:"cenc",Ys:"9a04f079-9840-4286-ab92-e65be0885f95",Zs:Re,Js:"PlayReady"},Be={Gs:Ae.Xs,js:"com.widevine.alpha",Qs:"cenc",Ys:Ne,Zs:De,Js:"Widevine"},Le={Gs:Ae.Ws,js:xe,Qs:"skd",Ys:Ce,Zs:Oe,Js:"FairPlay"},Me=(Ae.Ws,{Gs:Ae.qs,js:"org.w3.clearkey",Qs:"cenc",Ys:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Zs:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Js:"ClearKey"}),Ue=[Pe,Be,Le,Me];function Fe(t){return Ue.filter(function(n){return n.Zs===t.toLowerCase()})}var He=j.ke&&j.pe>=42||j.Ne&&j.De>=38||j.Ee||j.Re||j.xe&&j.Pe>=29;function Ve(t,n){return wr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[de({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[de({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Xe(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess}function We(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var qe=function(){function t(t){this.$s=_e(),this.Ks=void 0,this.to=t}var n=t.prototype;return n.As=function(){return this.Ts(Be)},n.ys=function(){return this.Ts(Me)},n.ps=function(){return this.Ts(Pe)},n.ks=function(){return this.Ts(Le)},n.Ts=function(t){var n=t.Zs,i=this.$s.get(n);if(i)return i;var r=this.bs(t,'video/mp4; codecs="avc1.42000a"');return this.$s.set(n,r),r},n.bs=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.to.io(n.js,[Ve(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.to.io(n.js,[Ve(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n._s=function(){return this.Ks||(this.Ks=this.ro()),this.Ks},n.ro=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==Or.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(He){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.ys();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function ze(t,n){var i=Ge(t,n);return i!==t&&je(i,void 0,t.length,t),t}function Ge(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){je(i,n,u,e);var s=i;i=e,e=s}return i}function je(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function Qe(t,n,i){var r=Ye(t,n,i);return-1===r?void 0:t[r]}function Ye(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Ze(t,n){var i=t.indexOf(n);return-1!==i&&(Je(t,i),!0)}function Je(t,n){t.splice(n,1)}function $e(t,n){return-1!==t.indexOf(n)}function Ke(t,n){for(var i=0;i<n.length;i++){if(!$e(t,n[i]))return!1}return!0}function tu(t){t.length=0}function nu(t){var n;return(n=[]).concat.apply(n,t)}function iu(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var ru=function(){function t(){this.eo=!1,this.uo=!1,this.so=[],this.oo=[]}var n=t.prototype;return n.ao=function(){if(!this.eo&&!this.uo){this.eo=!0;for(var t=0,n=this.so.slice();t<n.length;t++){(0,n[t])()}this.co()}},n.co=function(){if(!this.uo){this.uo=!0;for(var t=0,n=this.oo.slice();t<n.length;t++){(0,n[t])()}tu(this.so),tu(this.oo)}},n.ho=function(t){this.uo||this.so.push(t)},n.fo=function(t){this.uo||Ze(this.so,t)},n.vo=function(t){this.uo||this.oo.push(t)},n.do=function(t){this.uo||Ze(this.oo,t)},t}(),eu=function(){function t(){this.lo=new ru}var n=t.prototype;return n._o=function(){this.lo.ao()},n.co=function(){this.lo.co()},n.wo=function(t){var n=this.lo;if(!n.eo)if(t.eo)n.ao();else if(!n.uo&&!t.uo){var i=function(){r(),n.ao()},r=function r(){t.fo(i),t.do(r),n.fo(i),n.do(r)};t.ho(i),t.vo(r),n.ho(i),n.vo(r)}},n.yo=function(){var n=new t,i=new t,r=n.mo,e=i.mo,u=this.lo,s=function(){r.eo&&e.uo||e.eo&&r.uo?u.ao():r.uo&&e.uo&&u.co()};r.ho(s),e.ho(s),r.vo(s),e.vo(s),n.wo(u),i.wo(u);return u.vo(function(){r.fo(s),e.fo(s),r.do(s),e.do(s)}),[n,i]},L(t,[{key:"mo",get:function(){return this.lo}}]),t}(),uu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return M(n,t),L(n,[{key:"name",get:function(){return"AbortError"}}]),n}(un);function su(t){return t instanceof f&&"AbortError"===t.name}function ou(t){if(t&&t.eo)throw new uu}function au(t){if(su(t))throw t}function cu(t){if(!su(t))throw t}function hu(t,n){return n?new T(function(i,r){if(n.eo)return t.catch(S),r(new uu);var e=function t(){n.fo(t),r(new uu)};n.ho(e),t.then(function(t){n.fo(e),i(t)},function(t){n.fo(e),r(t)})}):t}function fu(t,n){return t.then(function(t){return n.co(),t},function(t){throw n.co(),t})}function vu(t,n){var i=new eu;return n&&i.wo(n),t(i.mo).then(function(t){return i._o(),t},function(t){throw i._o(),t})}var du=T.resolve();function lu(t){du.then(t)}function _u(t){t.then(S,S)}function gu(t){return wu.apply(this,arguments)}function wu(){return(wu=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,T.all(n.map(function(t){return t.catch(S)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function yu(t,n){return new T(function(i,r){if(void 0!==n&&n.eo)r(new uu);else{var e=b.sr(function(){void 0!==n&&n.fo(u),i()},t),u=function(){b.ur(e),r(new uu)};void 0!==n&&n.ho(u)}})}function mu(t,n){var i=new eu;return T.race([t,yu(n,i.mo).then(function(){throw new f("Timeout")})]).then(function(t){return i._o(),t},function(t){throw i._o(),t})}function ku(t){return t&&"function"!=typeof t?t.slice():t}function pu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Au,bu=function(){function t(t){var n=this;this.ko=le(),this.po=void 0,this.Ao=function(t){n.bo(t)},this.To=t||this}var n=t.prototype;return n.Eo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.So(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.So(r,n)}},n.So=function(t,n){var i=this.ko[t];i?"function"==typeof i?this.ko[t]=[i,n]:i.push(n):this.ko[t]=n},n.Ro=function(t){if("function"==typeof t){var n=this.po;n?"function"==typeof n?this.po=[n,t]:n.push(t):this.po=t}},n.Io=function(){this.ko=le(),this.po=void 0},n.bo=function(t){var n=ku(this.ko[t.type]),i=ku(this.po);pu(this.To,t,n),pu(this.To,t,i)},n.No=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Do(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Do(r,n)}},n.Do=function(t,n){var i=this.ko[t];i&&("function"==typeof i?i===n&&(this.ko[t]=void 0):Ze(i,n))},n.Co=function(t){if("string"==typeof t)this.ko[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.ko[i]=void 0}},n.Oo=function(t){var n=this.po;n&&("function"==typeof n?n===t&&(this.po=void 0):Ze(n,t))},n.xo=function(t,n){var i=this;return new T(function(r,e){if(n&&n.eo)return e(new uu);var u=function(t){o(),r(t)},s=function(){o(),e(new uu)},o=function(){i.No(t,u),n&&n.fo(s)};i.Eo(t,u),n&&n.ho(s)})},t}(),Tu=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.bo=function(n){var i=this;lu(function(){t.prototype.bo.call(i,n)})},n}(bu),Eu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Su=["cenc"],Ru=["cbcs","cbcs-1-9"],Iu=function(t){function n(n){var i;return(i=t.call(this,"Bo")||this).Po=n,i}return M(n,t),n}(Eu),Nu=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Lo")||this).Po=n,u.Mo=i,u.Lo=r,u.Uo=e,u}return M(n,t),n}(Eu),Du=function(t){function n(){return t.call(this,"Fo")||this}return M(n,t),n}(Eu);!function(t){t.Ho="Vo",t.Xo="Wo"}(Au||(Au={}));var Cu=function(t){function n(n,i){var r;return(r=t.call(this,Au.Ho)||this).Qs=n,r.qo=i,r}return M(n,t),n}(Eu),Ou=function(t){function n(){return t.call(this,Au.Xo)||this}return M(n,t),n}(Eu),xu=new y([0]).buffer,Pu=function(){function t(){this.zo=[]}var n=t.prototype;return n.Go=function(t){for(var n=0,i=this.zo;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.jo=function(t){for(var n=0,i=this.zo;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Qo=function(t,n){this.zo.forEach(function(n){return t(n[1],n[0])},n)},n.Yo=function(t,n){this.zo.push([t,n])},n.Zo=function(){tu(this.zo)},L(t,[{key:"Jo",get:function(){return this.zo.length}}]),t}(),Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Lu=16383,Mu=/[\t\n\f\r ]/g;function Uu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Fu()}function Fu(){throw new f("Invalid base64 input")}function Hu(t){var n=t;Mu.test(n)&&(n=n.replace(Mu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Fu();for(var e,u=0===r?0:4-r,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Uu(n.charCodeAt(a))<<18|Uu(n.charCodeAt(a+1))<<12|Uu(n.charCodeAt(a+2))<<6|Uu(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Uu(n.charCodeAt(a))<<2|Uu(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Uu(n.charCodeAt(a))<<10|Uu(n.charCodeAt(a+1))<<4|Uu(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Vu(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],Bu[r>>2]+Bu[(3&r)<<4|e>>4]+Bu[(15&e)<<2|u>>6]+Bu[63&u]));return s.join("")}function Xu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Lu)r.push(Vu(t,u,l.min(e,u+Lu)));if(1===i){var s=t[n-1];r.push(Bu[s>>2]+Bu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(Bu[o>>2]+Bu[(3&o)<<4|a>>4]+Bu[(15&a)<<2]+"=")}return r.join("")}var Wu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],qu=ArrayBuffer.isView||function(t){return t&&$e(Wu,Y.call(t))};function zu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Gu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function ju(t){return Hu(t).buffer}function Qu(t){return Xu(new y(t))}function Yu(t){return Xu(Ds(t))}var Zu=function(){function t(t){void 0===t&&(t=0),this.$o=t}var n=t.prototype;return n.Ko=function(t){this.$o+=t},n.ta=function(t){this.$o=t},n.na=function(){return new t(this.ia)},L(t,[{key:"ia",get:function(){return this.$o}}]),t}();function Ju(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $u(t,n){return t>>n&63|128}function Ku(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ju(t),n.push(t>>12&15|224),n.push($u(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($u(t,12)),n.push($u(t,6))),n.push(63&t|128)):n.push(t)}function ts(t,n){if(n.ia>=t.length)throw new f("Invalid byte index");var i=255&t[n.ia];if(n.Ko(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function ns(t,n){var i=n.ia;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Ko(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|ts(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|ts(t,n)<<6|ts(t,n);if(u>=2048)return Ju(u),u;throw new f("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|ts(t,n)<<12|ts(t,n)<<6|ts(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var is=65279;var rs=[128,64,32,16,8,4,2,1],es=function(){function t(t){this.ra=t}return t.prototype.ea=function(t){return us(this.ra,t)},t}();function us(t,n){return(t&n)===n}function ss(t,n){return us(t,rs[n])}function os(t,n){var i=t.getUint8(n.ia);return n.Ko(1),i}function as(t,n,i){t.setUint8(n.ia,i),n.Ko(1)}function cs(t,n,i){var r=Ls(Fs(t),n.ia,n.ia+i);return n.Ko(r.byteLength),r}function hs(t,n,i){Fs(t).set(Fs(i),n.ia),n.Ko(i.byteLength)}function fs(t,n,i){return n.ia+i<=t.byteLength}function vs(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=os(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+os(t,n);return r}(t,n,i)}function ds(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.ia,i);return n.Ko(2),r}function ls(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.ia,i,r),n.Ko(2)}function _s(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.ia,i);return n.Ko(4),r}function gs(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.ia,i,r),n.Ko(4)}function ws(t,n,i){void 0===i&&(i=!1);var r=_s(t,n,i),e=_s(t,n,i),u=i?e:r,s=i?r:e;return Vt.fromBits(s,u,!0)}function ys(t,n){var i=os(t,n);if(i)return String.fromCharCode(i)}function ms(t,n){return As(t,n)}function ks(t,n,i){for(var r="",e=0;e<i;e++)r+=ys(t,n);return r}function ps(t,n){var i,r=os(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&os(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&os(t,n))+(63&os(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&os(t,n))+64*(63&os(t,n))+(63&os(t,n))),i}function As(t,n){return bs(t,n,!0)}function bs(t,n,i){for(var r=[];n.ia<t.byteLength;){var e=os(t,n);if(i&&!e)break;r.push(e)}return Er(r)}function Ts(t,n){if(n.ia+2<=t.byteLength){var i=t.getUint8(n.ia),r=t.getUint8(n.ia+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Es(t,n){var i=Ts(t,n);return void 0!==i&&n.Ko(2),Ss(t,n,!0===i)}function Ss(t,n,i){return void 0===i&&(i=!1),Rs(t,n,i,!0)}function Rs(t,n,i,r){for(var e=[];n.ia+2<=t.byteLength;){var u=ds(t,n,i);if(r&&!u)break;e.push(u)}return Er(e)}function Is(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){ls(t,n,i.charCodeAt(u),r)}}function Ns(t){return bs(Us(t),new qs,!1)}function Ds(t){var n=new y(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)as(t,n,i.charCodeAt(e))}(Us(n),new qs,t),n}function Cs(t,n){return void 0===n&&(n=!1),Rs(Us(t),new qs,n,!1)}function Os(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Is(Us(i),new qs,t,n),i}function xs(t,n){return function(t,n,i){var r=[];(function(t,n){return n.ia+3<=t.byteLength&&239===t.getUint8(n.ia)&&187===t.getUint8(n.ia+1)&&191===t.getUint8(n.ia+2)})(t,n)&&n.Ko(3);for(;n.ia<t.byteLength;){var e=ps(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return br(r)}(t,n,!0)}function Ps(t){return br(function(t,n){var i,r=[],e=new qs;if(!n){if(!1===(i=ns(t,e)))return r;i===is||r.push(i)}for(;!1!==(i=ns(t,e));)r.push(i);return r}(Fs(t)))}function Bs(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Ku(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Ls(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ms(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Us(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Hs(t){return t instanceof ArrayBuffer||qu(t)}function Vs(t){return t instanceof ArrayBuffer?new y(t):Fs(t)}function Xs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Ws(Ls(t,n,i))}function Ws(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var qs=function(){function t(t){void 0===t&&(t=0),this.$o=t}var n=t.prototype;return n.Ko=function(t){this.$o+=t},n.ta=function(t){this.$o=t},n.na=function(){return new t(this.ia)},n.ua=function(){return new Zu(this.ia<<3)},L(t,[{key:"ia",get:function(){return this.$o}}]),t}();function zs(t){var n=t,i=0,r=0;yr(n,"0x")&&(n=n.substring(2));var e=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=_(n[0],16));i<n.length;i+=2)e[r++]=_(n.substr(i,2),16);return e}var Gs=function(){function t(){var t=this;this.sa=new T(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.oa=function(t){this.zn&&(this.zn(t),this.co())},n.aa=function(t){this.Z&&(this.Z(t),this.co())},n._o=function(){this.sa.catch(S),this.aa(new uu)},n.co=function(){this.zn=void 0,this.Z=void 0},t}();function js(){return new y([8,4]).buffer}function Qs(t){return zu(t,js())}function Ys(t,n){return t===Ie?function(t){if(t.byteLength<2*Zs.length)return t;if(Cs(new DataView(t,0,2*Zs.length),!0)===Zs)return t;return n=t,Os('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Qu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Zs="<PlayReady";var Js=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).ca=i,u.ha=r,u}return M(n,t),n}(un),$s=function(t){function n(n,i){var r;(r=t.call(this)||this).fa=n,r.va=i,r.da=!1,r.la=function(){r._a()},r.ga=function(t){r.bo(new Nu(rn(r),t.messageType,Ys(r.va,t.message)))},r.wa=function(){r.da=!0,r.ya.Jo>0&&(r.ya.Zo(),r.bo(new Iu(rn(r)))),r.fa.removeEventListener("keystatuseschange",r.la),r.fa.removeEventListener("message",r.ga)},r.fa.addEventListener("keystatuseschange",r.la),r.fa.addEventListener("message",r.ga),r.ya=new Pu;var e=[];return r.fa.closed&&e.push(T.resolve(r.fa.closed)),r.ma=new Gs,e.push(r.ma.sa),r.ka=T.race(e).then(r.wa),r._a(),r}M(n,t);var i=n.prototype;return i.pa=function(){if(this.da)return this.ka;var t=[];return t.push(T.resolve(this.fa.close())),t.push(yu(1e3)),this.ma.oa(T.race(t).catch(Ks)),this.da=!0,this.ka},i.Aa=function(t,n,i){return T.resolve(this.fa.generateRequest(t,n)).catch(Ks)},i.ba=function(t){return T.resolve(this.fa.load(t)).catch(Ks)},i.Ta=function(){return T.resolve(this.fa.remove()).catch(Ks)},i.Ea=function(t){return T.resolve(this.fa.update(t)).catch(Ks)},i._a=function(){var t=this;this.ya.Zo(),this.fa.keyStatuses.forEach(function(n,i){t.Sa(i,n)}),this.bo(new Iu(this))},i.Sa=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Vs(t);if(this.va===Ie&&16===r.byteLength){var e=Us(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.va===Ie&&"status-pending"===n&&(n="usable"),this.ya.Yo(r,n)},L(n,[{key:"Ra",get:function(){return this.ka}},{key:"Ia",get:function(){return this.fa.expiration}},{key:"Na",get:function(){return this.ya}},{key:"Da",get:function(){return this.fa.sessionId}}]),n}(bu);function Ks(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Js(t.message,void 0,n,t)}var to=function(){function t(t,n){this.Ca=t,this.va=n}var n=t.prototype;return n.Oa=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new $s(this.Ca.createSession(n),this.va));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xa=function(t){return T.resolve(this.Ca.setServerCertificate(t))},n.Pa=function(t){return T.resolve(t.setMediaKeys(this.Ca))},n.Ba=function(t){return T.resolve(t.setMediaKeys(null))},t}(),no=function(){function t(t,n,i){this.La=t,this.va=n,this.Ma=i}var n=t.prototype;return n.Ua=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.La.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new to(n,this.va));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Fa=function(){return this.Ma},L(t,[{key:"Ha",get:function(){return this.La.keySystem}}]),t}(),io=function(){function t(){}return t.prototype.io=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.Va}),t.next=3,s.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,e=r.getConfiguration(),t.abrupt("return",new no(r,n,e));case 6:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Xa=function(){return Xe()},t}(),ro=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wa=n,r.qa=i,r.da=!1,r.za=void 0,r.Ga=void 0,r.ja=void 0,r.wa=function(){r.da=!0,r.Qa.oa(void 0),r.ja&&(r.ja.removeEventListener("mskeyclose",r.wa),r.ja.removeEventListener("mskeymessage",r.Ya),r.ja.removeEventListener("mskeyerror",r.Za),r.ja.removeEventListener("mskeyadded",r.Ja))},r.Ya=function(t){r.Ga&&(r.Ga.oa(void 0),r.Ga=void 0),r.bo(new Nu(rn(r),"license-request",Ws(t.message).buffer,t.destinationURL||void 0))},r.Za=function(){var t=r.ja&&r.ja.error;if(t){var n=new Js("Unknown CDM error",t.code,t.systemCode);if(r.Ga)r.Ga.aa(n),r.Ga=void 0;else if(r.za)r.za.aa(n),r.za=void 0;else switch(n.ca){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.$a("output-not-allowed");break;default:r.$a("internal-error")}}},r.Ja=function(){r.Ga&&(r.$a("usable"),r.Ga.oa(void 0),r.Ga=void 0),r.za&&(r.$a("usable"),r.za.oa(void 0),r.za=void 0)},r.Qa=new Gs,r.Ka=new Pu,r}M(n,t);var i=n.prototype;return i.Aa=function(){var t=T.coroutine(ve.mark(function t(n,i,r){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tc(),this.Ga=new Gs,this.Oa(Vs(i),r),t.next=5,this.Ga.sa;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Oa=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.nc;return(i=n?this.Wa.createSession(this.qa,t,r):this.Wa.createSession(this.qa,t)).addEventListener("mskeyclose",this.wa),i.addEventListener("mskeymessage",this.Ya),i.addEventListener("mskeyerror",this.Za),i.addEventListener("mskeyadded",this.Ja),this.ja=i,this.$a("status-pending"),i},i.ba=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ea=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.za=new Gs,this.tc(),this.ja){t.next=4;break}return t.abrupt("return",T.resolve());case 4:if(0!==(i=Vs(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.ja.update(i),t.next=10,this.za.sa;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pa=function(){return!this.da&&this.ja&&(this.da=!0,this.ja.close()),this.Qa.sa},i.Ta=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tc(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tc=function(){if(this.da)throw new v("Already closing or closed.")},i.$a=function(t){this.Ka.Zo(),this.Ka.Yo(xu,t),this.bo(new Iu(this))},L(n,[{key:"Da",get:function(){return this.ja&&this.ja.sessionId||""}},{key:"Ia",get:function(){return NaN}},{key:"Ra",get:function(){return this.Qa.sa}},{key:"Na",get:function(){return this.Ka}}]),n}(bu),eo=function(){function t(t,n){this.Wa=t,this.qa=n}var n=t.prototype;return n.Oa=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ro(this.Wa,this.qa));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xa=function(t){return T.resolve(!1)},n.Pa=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Wa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Wa),t.removeEventListener("loadedmetadata",i)}),T.resolve()},n.Ba=function(t){return T.resolve()},t}(),uo={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function so(t){return wr(t,uo.APPLICATION_MP4)||wr(t,uo.VIDEO_MP4)||wr(t,uo.AUDIO_MP4)}var oo=function(){function t(t,n){this.Gs=t,this.ic=n}return t.prototype.rc=function(t){for(var n=0,i=this.ic;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function ao(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new oo(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=co(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=co(e.substr(s));f&&u.push(f)}return new oo(r,u)}function co(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function ho(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function fo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Va:r.Va},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(r){return vo(t,n,i,r)}),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(u.videoCapabilities=a.filter(function(r){return vo(t,n,i,r)}),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function vo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!$e(n,r.encryptionScheme))&&(!r.robustness&&t(i,ho(r.contentType))))}function lo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}var _o=function(){function t(t,n){this.va=t,this.ec=n;var i=lo(n)||"video/mp4";this.qa=ho(i)}var n=t.prototype;return n.Fa=function(){return this.ec},n.Ua=function(){return T.resolve(new eo(new Cr.MSMediaKeys(this.va),this.qa))},L(t,[{key:"Ha",get:function(){return this.va}}]),t}(),go=function(){function t(){}return t.prototype.io=function(t,n){try{return T.resolve(function(t,n){if(!wo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=fo(yo,Su,t,r);if(e)return new _o(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Xa=function(){return wo()},t}();function wo(){return void 0!==Cr.MSMediaKeys&&"function"==typeof Cr.MSMediaKeys.isTypeSupported}function yo(t,n){return Cr.MSMediaKeys.isTypeSupported(t,n)}var mo,ko,po=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).uc=n,e.qa=i,e.sc=r,e.Qa=new Gs,e.oc=void 0,e.Ka=new Pu,e.ac=void 0,e.cc=new Gs,e.Za=function(){var t=e.ac&&e.ac.error;if(t){var n=new Js("Unknown CDM error",t.code,t.systemCode);e.oc?(e.oc.aa(n),e.oc=void 0):n.ca===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.$a("output-not-allowed"):e.$a("internal-error"),e.bo(new Du)}},e.Ya=function(t){e.oc&&(e.oc.oa(void 0),e.oc=void 0),e.bo(new Nu(rn(e),"license-request",Ws(t.message).buffer,t.destinationURL||void 0))},e}M(n,t);var i=n.prototype;return i.Aa=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.hc;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=Ao(Vs(n),r,this.sc);return this.ac=this.uc.createSession(this.qa,e),this.ac.addEventListener("webkitkeymessage",this.Ya,!1),this.ac.addEventListener("webkitkeyerror",this.Za,!1),this.$a("usable"),this.cc.oa(this.ac),this.cc=new Gs,T.resolve()},i.ba=function(t){return T.resolve(!0)},i.Ea=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Vs(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.oc=new Gs,t.t0=this.ac,t.t0){t.next=9;break}return t.next=8,this.cc.sa;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.oc.sa;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pa=function(){var t=this.ac;return t&&(t.removeEventListener("webkitkeymessage",this.Ya,!1),t.removeEventListener("webkitkeyerror",this.Za,!1),t.close()),this.cc._o(),this.Qa.oa(void 0),this.Qa.sa},i.Ta=function(){return T.resolve(void 0)},i.$a=function(t){this.Ka.Zo(),this.Ka.Yo(xu,t),this.bo(new Iu(this))},L(n,[{key:"Da",get:function(){return this.ac?this.ac.sessionId:""}},{key:"Ia",get:function(){return NaN}},{key:"Ra",get:function(){return this.Qa.sa}},{key:"Na",get:function(){return this.Ka}}]),n}(bu);function Ao(t,n,i){var r=Ps(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new qs;return gs(o,a,e,!0),Is(o,a,r,!0),gs(o,a,u,!0),Is(o,a,n,!0),gs(o,a,i.byteLength,!0),hs(o,a,i),new y(s)}(mo=n.ErrorCode||(n.ErrorCode={}))[mo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",mo[mo.LICENSE_ERROR=2e3]="LICENSE_ERROR",mo[mo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",mo[mo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",mo[mo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",mo[mo.SOURCE_INVALID=3e3]="SOURCE_INVALID",mo[mo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",mo[mo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",mo[mo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",mo[mo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",mo[mo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",mo[mo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",mo[mo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",mo[mo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",mo[mo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",mo[mo.NETWORK_ERROR=6e3]="NETWORK_ERROR",mo[mo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",mo[mo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",mo[mo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",mo[mo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",mo[mo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",mo[mo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",mo[mo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",mo[mo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",mo[mo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",mo[mo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",mo[mo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",mo[mo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",mo[mo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",mo[mo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",mo[mo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",mo[mo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",mo[mo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",mo[mo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",mo[mo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",mo[mo.AD_ERROR=1e4]="AD_ERROR",mo[mo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",mo[mo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(ko=n.ErrorCategory||(n.ErrorCategory={}))[ko.CONFIGURATION=1]="CONFIGURATION",ko[ko.LICENSE=2]="LICENSE",ko[ko.SOURCE=3]="SOURCE",ko[ko.MANIFEST=4]="MANIFEST",ko[ko.MEDIA=5]="MEDIA",ko[ko.NETWORK=6]="NETWORK",ko[ko.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",ko[ko.SUBTITLE=8]="SUBTITLE",ko[ko.VR=9]="VR",ko[ko.AD=10]="AD",ko[ko.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=l.floor(n/1e3);if(i in t)return i;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var bo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return M(i,t),L(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(un),To=function(){function t(t,n){this.uc=t,this.qa=n,this.sc=void 0}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.uc},i.Oa=function(){var t=T.coroutine(ve.mark(function t(i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sc){t.next=2;break}throw new bo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new po(this.uc,this.qa,this.sc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xa=function(t){return this.sc=Vs(t),T.resolve(!0)},i.Pa=function(t){return t.webkitSetMediaKeys(this.uc),T.resolve()},i.Ba=function(t){return t.webkitSetMediaKeys(null),T.resolve()},t}(),Eo=function(){function t(t,n){this.va=t,this.ec=n;var i=lo(n)||"video/mp4";this.qa=ho(i)}var n=t.prototype;return n.Fa=function(){return this.ec},n.Ua=function(){return T.resolve(new To(new Cr.WebKitMediaKeys(this.va),this.qa))},L(t,[{key:"Ha",get:function(){return this.va}}]),t}(),So=function(){function t(){}return t.prototype.io=function(t,n){try{return T.resolve(function(t,n){if(t!==xe)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Ro())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=fo(Io,Ru,t,r);if(e)return new Eo(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Xa=function(){return Ro()},t}();function Ro(){return void 0!==Cr.WebKitMediaKeys&&"function"==typeof Cr.WebKitMediaKeys.isTypeSupported}function Io(t,n){return Cr.WebKitMediaKeys.isTypeSupported(t,n)}var No,Do=function(){function t(t){this.fc=t}return t.prototype.io=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.fc;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.io(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Co=function(t){function n(n){var i;return(i=t.call(this)||this).va=n,i.Ga=void 0,i.oc=void 0,i.vc=!1,i.dc=void 0,i.lc=void 0,i.Qa=new Gs,i._c="",i.gc=new Gs,i.wc=new Pu,i}M(n,t);var i=n.prototype;return i.yc=function(){this.oc&&(this.$a("usable"),this.oc.oa(void 0),this.oc=void 0)},i.mc=function(t){var n=new Js("Unknown CDM error",t.errorCode,t.systemCode);this.oc?(this.oc.aa(n),this.oc=void 0):this.Ga?(this.Ga.aa(n),this.Ga=void 0):n.ca===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.$a("output-restricted"):1===n.ha?this.$a("expired"):this.$a("internal-error")},i.kc=function(t){0!==t.message.byteLength&&(this.Ga&&(this.Ga.oa(void 0),this.Ga=void 0),this.bo(new Nu(this,"license-request",Ys(this.va,Ws(t.message).buffer),t.defaultURL||void 0)))},i.pc=function(t){this.lc||(this.lc=t,this.gc.oa(t))},i.pa=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.vc=!0,this.Qa.oa(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Aa=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ga=new Gs,this.dc=Vs(i),t.t0=this.lc,t.t0){t.next=8;break}return t.next=7,this.gc.sa;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.va,this.dc),t.next=12,this.Ga.sa;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ba=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ta=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ea=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.oc=new Gs,t.t0=this.lc,t.t0){t.next=7;break}return t.next=6,this.gc.sa;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.va,Vs(n),this.dc,this.Da),t.next=11,this.oc.sa;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.vc)throw new v("Already closing or closed.")},i.$a=function(t){this.wc.Zo(),this.wc.Yo(xu,t),this.bo(new Iu(this))},L(n,[{key:"Na",get:function(){return this.wc}},{key:"Da",get:function(){return this._c},set:function(t){this._c=t}},{key:"Ra",get:function(){return this.Qa.sa}},{key:"Ia",get:function(){return NaN}}]),n}(bu),Oo=function(){function t(t){var n=this;this.va=t,this.lc=void 0,this.Ac=_e(),this.bc=[],this.Ja=function(t){var i=n.Tc(t.sessionId);i&&i.yc()},this.Ec=function(t){var i=n.Tc(t.sessionId);i&&i.mc(t)},this.Sc=function(t){var i=n.Tc(t.sessionId);i&&i.kc(t)}}var n=t.prototype;return n.Pa=function(t){return this.lc=t,this.lc.addEventListener("webkitkeyadded",this.Ja),this.lc.addEventListener("webkitkeyerror",this.Ec),this.lc.addEventListener("webkitkeymessage",this.Sc),this.Ac.forEach(function(n,i){return n.pc(t)}),this.bc.forEach(function(n){return n.pc(t)}),T.resolve()},n.Ba=function(t){return t.removeEventListener("webkitkeyadded",this.Ja),t.removeEventListener("webkitkeyerror",this.Ec),t.removeEventListener("webkitkeymessage",this.Sc),this.lc=void 0,T.resolve()},n.Oa=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Co(this.va),this.lc&&e.pc(this.lc),this.bc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.xa=function(t){return T.resolve(!1)},n.Tc=function(t){if(t){var n=this.Ac.get(t);return n||((n=this.bc.shift())?(n.Da=t,this.Ac.set(t,n),n):void 0)}},t}(),xo=function(){function t(t,n){this.Ha=t,this.Rc=n}var n=t.prototype;return n.Ua=function(){return T.resolve(new Oo(this.Ha))},n.Fa=function(){return this.Rc},t}(),Po=function(){function t(){}return t.prototype.io=function(t,n){try{return T.resolve(Bo(t,n))}catch(t){return T.reject(t)}},t.Xa=function(){return We()},t}();function Bo(t,n){if(!Po.Xa())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=fo(Lo,Su,t,r);if(e)return new xo(t,e)}throw new v("Unsupported key system configuration for "+t)}function Lo(t,n){var i=Yr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Mo(){return No||(No=function(){var t=[];So.Xa()&&t.push(new So);io.Xa()&&t.push(new io);go.Xa()&&t.push(new go);Po.Xa()&&t.push(new Po);return new Do(t)}()),No}var Uo=function(){function t(){this.Ic=_e()}var n=t.prototype;return n.Zo=function(t){this.Ic.delete(t)},n.Nc=function(){this.Ic.clear()},n.jo=function(t){return this.Ic.get(t)},n.Dc=function(t,n){this.Ic.set(t,n)},t}(),Fo=function(){function t(){}return t.Cc=function(){return t.Ve||(t.Ve=Ho.Xa()?new Ho:new Uo),t.Ve},t.Zo=function(n){t.Cc().Zo(n)},t.Nc=function(){t.Cc().Nc()},t.jo=function(n){return t.Cc().jo(n)},t.Dc=function(n,i){t.Cc().Dc(n,i)},t}();Fo.Ve=void 0;var Ho=function(n){function i(){return n.apply(this,arguments)||this}M(i,n),i.Xa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Zo=function(n){t.sessionStorage.removeItem(n)},r.Nc=function(){t.sessionStorage.clear()},r.jo=function(n){return t.sessionStorage[n]},r.Dc=function(n,i){t.sessionStorage[n]=i},i}(Fo);var Vo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Xo(t,n,i){var r=Vo([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Wo,qo;!function(t){t.Oc="xc",t.Pc="Bc",t.Lc="contentprotectionerror",t.Mc="contentprotectionsuccess",t.Uc="currentsourcechange",t.Fc="destroy",t.Hc="durationchange",t.Vc="emptied",t.Ho="encrypted",t.Xc="ended",t.Wc="qc",t.zc="loadstart",t.Gc="manifestupdate",t.jc="nosupportedrepresentationfound",t.Qc="offline",t.Yc="online",t.Zc="pause",t.Jc="play",t.$c="progress",t.Kc="ratechange",t.th="representationchange",t.nh="resize",t.ih="seeked",t.rh="seeking",t.eh="segmentnotfound",t.uh="sh",t.oh="ah",t.hh="sourcechange",t.fh="timeupdate",t.vh="volumechange",t.dh="lh",t._h="metricschange"}(Wo||(Wo={})),function(t){t.gh="arraybuffer",t.wh="json",t.yh="stream",t.ze="text"}(qo||(qo={}));var zo=function(){function t(n){var i=this;this.Hs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Go(i),r=jo(r);var e=i.toLowerCase();if(this.Hs.hasOwnProperty(e)){var u=this.Hs[e],s=u[1];u[1]=s?s+", "+r:r}else this.Hs[e]=[i,r]},n.delete=function(t){var n=Go(t).toLowerCase();delete this.Hs[n]},n.get=function(t){var n=Go(t).toLowerCase();return this.Hs.hasOwnProperty(n)?this.Hs[n][1]:null},n.has=function(t){var n=Go(t).toLowerCase();return this.Hs.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Go(i)).toLowerCase();this.Hs[r]=[i,jo(n)]},n.forEach=function(t,n){for(var i in this.Hs)this.Hs.hasOwnProperty(i)&&t.call(n,this.Hs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Hs)if(this.Hs.hasOwnProperty(n)){var i=this.Hs[n],r=i[0],e=i[1];t.push([r,e])}return t},n.mh=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.kh=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.ph=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Go(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function jo(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Yo(){}var Zo=Number.isNaN||function(t){return t!=t},Jo=Yo;function $o(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Ko(t){return t.slice()}function ta(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Zo(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function na(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ia(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return ea(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ea(e,t,i)}}}return function(){return da(void 0)}}function ra(t,n,i){var r=t[n];if(void 0!==r)return na(r,t,i)}function ea(t,n,i){try{return da(na(t,n,i))}catch(t){return la(t)}}function ua(t){return t}function sa(t){if(t=Number(t),Zo(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function oa(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var aa=T,ca=T.prototype.then,ha=T.resolve.bind(aa),fa=T.reject.bind(aa);function va(t){return new aa(t)}function da(t){return ha(t)}function la(t){return fa(t)}function _a(t,n,i){return ca.call(t,n,i)}function ga(t,n,i){_a(_a(t,n,i),void 0,Jo)}function wa(t,n){ga(t,n)}function ya(t,n){ga(t,void 0,n)}function ma(t,n,i){return _a(t,n,i)}function ka(t){_a(t,void 0,Jo)}var pa=function(){function t(){this.Ah=0,this.bh=0,this.Ni={Th:[],Eh:void 0},this.Sh=this.Ni,this.Ah=0,this.bh=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.bh},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Sh,i=n;16383===n.Th.length&&(i={Th:[],Eh:void 0}),n.Th.push(t),i!==n&&(this.Sh=i,n.Eh=i),++this.bh},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Ah,r=i+1,e=t.Th,u=e[i];return 16384===r&&(n=t.Eh,r=0),--this.bh,this.Ah=r,t!==n&&(this.Ni=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Ah,i=this.Ni,r=i.Th;!(n===r.length&&void 0===i.Eh||n===r.length&&(n=0,0===(r=(i=i.Eh).Th).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Ah;return t.Th[n]},t}();function Aa(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function ba(t,n){t.Rh=!0,t.Ih=n,n.Nh=t,"readable"===n.Dh?Ra(t):"closed"===n.Dh?function(t){Ra(t),Da(t)}(t):Ia(t,n.Ch)}function Ta(t,n){return Ph(t.Ih,n)}function Ea(t){"readable"===t.Ih.Dh?Na(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ia(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Ih.Nh=void 0,t.Ih=void 0}function Sa(t){return new v("Cannot "+t+" a stream using a released reader")}function Ra(t){t.ka=va(function(n,i){t.Oh=n,t.xh=i})}function Ia(t,n){Ra(t),Na(t,n)}function Na(t,n){ka(t.ka),t.xh(n),t.Oh=void 0,t.xh=void 0}function Da(t){t.Oh(void 0),t.Oh=void 0,t.xh=void 0}var Ca=Qo("[[CancelSteps]]"),Oa=Qo("[[PullSteps]]");function xa(t,n){void 0===n&&(n=!1);var i=new Ha(t);return i.Rh=n,i}function Pa(t){return va(function(n,i){var r={zn:n,Z:i};t.Nh.Ph.push(r)})}function Ba(t,n,i){var r=t.Nh;r.Ph.shift().zn(Aa(n,i,r.Rh))}function La(t){return t.Nh.Ph.length}function Ma(t){var n=t.Nh;return void 0!==n&&!!Va(n)}var Ua,Fa,Ha=function(){function t(t){if(!1===Oh(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===xh(t))throw new v("This stream has already been locked for exclusive reading by another reader");ba(this,t),this.Ph=new pa}return d.defineProperty(t.prototype,"closed",{get:function(){return Va(this)?this.ka:la(Wa("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Va(this)?void 0===this.Ih?la(Sa("cancel")):Ta(this,t):la(Wa("cancel"))},t.prototype.read=function(){return Va(this)?void 0===this.Ih?la(Sa("read from")):Xa(this):la(Wa("read"))},t.prototype.releaseLock=function(){if(!Va(this))throw Wa("releaseLock");if(void 0!==this.Ih){if(this.Ph.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Ea(this)}},t}();function Va(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"Ph")}function Xa(t){var n=t.Ih;return n.Bh=!0,"closed"===n.Dh?da(Aa(void 0,!0,t.Rh)):"errored"===n.Dh?la(n.Ch):n.Lh[Oa]()}function Wa(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Qo.asyncIterator&&((Ua={})[Qo.asyncIterator]=function(){return this},Fa=Ua,d.defineProperty(Fa,Qo.asyncIterator,{enumerable:!1}));var qa={next:function(){if(!1===za(this))return la(Ga("next"));var t=this.Mh;return void 0===t.Ih?la(Sa("iterate")):ma(Xa(t),function(n){var i=n.done;return i&&Ea(t),Aa(n.value,i,!0)})},return:function(t){if(!1===za(this))return la(Ga("next"));var n=this.Mh;if(void 0===n.Ih)return la(Sa("finish iterating"));if(n.Ph.length>0)return la(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Uh){var i=Ta(n,t);return Ea(n),ma(i,function(){return Aa(t,!0,!0)})}return Ea(n),da(Aa(t,!0,!0))}};function za(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"Mh")}function Ga(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ja(t){var n=t.Fn.shift();return t.Fh-=n.size,t.Fh<0&&(t.Fh=0),n.value}function Qa(t,n,i){if(!ta(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.Fh+=i}function Ya(t){t.Fn=new pa,t.Fh=0}void 0!==Fa&&d.setPrototypeOf(qa,Fa),d.defineProperty(qa,"next",{enumerable:!1}),d.defineProperty(qa,"return",{enumerable:!1});var Za=Qo("[[AbortSteps]]"),Ja=Qo("[[ErrorSteps]]"),$a=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),tc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=oa(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(yc.prototype);var u=ia(n,"write",1,[e]),s=ia(n,"close",0,[]),o=ia(n,"abort",1,[]);mc(t,e,function(){return ra(n,"start",[e])},u,s,o,i,r)}(this,t,r=sa(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===nc(this))throw Sc("locked");return ic(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===nc(this)?la(Sc("abort")):!0===ic(this)?la(new v("Cannot abort a stream that already has a writer")):rc(this,t)},t.prototype.close=function(){return!1===nc(this)?la(Sc("close")):!0===ic(this)?la(new v("Cannot close a stream that already has a writer")):!0===ac(this)?la(new v("Cannot close an already-closing stream")):ec(this)},t.prototype.getWriter=function(){if(!1===nc(this))throw Sc("getWriter");return Ka(this)},t}();function Ka(t){return new fc(t)}function tc(t){t.Dh="writable",t.Ch=void 0,t.Hh=void 0,t.Vh=void 0,t.Xh=new pa,t.Wh=void 0,t.qh=void 0,t.zh=void 0,t.Gh=void 0,t.jh=!1}function nc(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"Vh")}function ic(t){return void 0!==t.Hh}function rc(t,n){var i=t.Dh;if("closed"===i||"errored"===i)return da(void 0);if(void 0!==t.Gh)return t.Gh._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=va(function(i,e){t.Gh={_n:void 0,zn:i,Z:e,Pn:n,Qh:r}});return t.Gh._n=e,!1===r&&sc(t,n),e}function ec(t){var n=t.Dh;if("closed"===n||"errored"===n)return la(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=va(function(n,i){var r={zn:n,Z:i};t.qh=r}),e=t.Hh;return void 0!==e&&!0===t.jh&&"writable"===n&&Mc(e),Qa(i=t.Vh,"close",0),Ac(i),r}function uc(t,n){"writable"!==t.Dh?oc(t):sc(t,n)}function sc(t,n){var i=t.Vh;t.Dh="erroring",t.Ch=n;var r=t.Hh;void 0!==r&&_c(r,n),!1===function(t){if(void 0===t.Wh&&void 0===t.zh)return!1;return!0}(t)&&!0===i.Yh&&oc(t)}function oc(t){t.Dh="errored",t.Vh[Ja]();var n=t.Ch;if(t.Xh.forEach(function(t){t.Z(n)}),t.Xh=new pa,void 0!==t.Gh){var i=t.Gh;if(t.Gh=void 0,!0===i.Qh)return i.Z(n),void cc(t);ga(t.Vh[Za](i.Pn),function(){i.zn(),cc(t)},function(n){i.Z(n),cc(t)})}else cc(t)}function ac(t){return void 0!==t.qh||void 0!==t.zh}function cc(t){void 0!==t.qh&&(t.qh.Z(t.Ch),t.qh=void 0);var n=t.Hh;void 0!==n&&Cc(n,t.Ch)}function hc(t,n){var i=t.Hh;void 0!==i&&n!==t.jh&&(!0===n?function(t){xc(t)}(i):Mc(i)),t.jh=n}var fc=function(){function t(t){if(!1===nc(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ic(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Zh=t,t.Hh=this;var n,i=t.Dh;if("writable"===i)!1===ac(t)&&!0===t.jh?xc(this):Bc(this),Nc(this);else if("erroring"===i)Pc(this,t.Ch),Nc(this);else if("closed"===i)Bc(this),Nc(n=this),Oc(n);else{var r=t.Ch;Pc(this,r),Dc(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===vc(this)?la(Rc("closed")):this.ka},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===vc(this))throw Rc("desiredSize");if(void 0===this.Zh)throw Ic("desiredSize");return function(t){var n=t.Zh,i=n.Dh;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return pc(n.Vh)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===vc(this)?la(Rc("ready")):this.Jh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===vc(this)?la(Rc("abort")):void 0===this.Zh?la(Ic("abort")):function(t,n){return rc(t.Zh,n)}(this,t)},t.prototype.close=function(){if(!1===vc(this))return la(Rc("close"));var t=this.Zh;return void 0===t?la(Ic("close")):!0===ac(t)?la(new v("Cannot close an already-closing stream")):dc(this)},t.prototype.releaseLock=function(){if(!1===vc(this))throw Rc("releaseLock");void 0!==this.Zh&&gc(this)},t.prototype.write=function(t){return!1===vc(this)?la(Rc("write")):void 0===this.Zh?la(Ic("write to")):wc(this,t)},t}();function vc(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"Zh")}function dc(t){return ec(t.Zh)}function lc(t,n){"pending"===t.$h?Cc(t,n):function(t,n){Dc(t,n)}(t,n)}function _c(t,n){"pending"===t.Kh?Lc(t,n):function(t,n){Pc(t,n)}(t,n)}function gc(t){var n=t.Zh,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");_c(t,i),lc(t,i),n.Hh=void 0,t.Zh=void 0}function wc(t,n){var i=t.Zh,r=i.Vh,e=function(t,n){try{return t.tf(n)}catch(n){return bc(t,n),1}}(r,n);if(i!==t.Zh)return la(Ic("write to"));var u=i.Dh;if("errored"===u)return la(i.Ch);if(!0===ac(i)||"closed"===u)return la(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return la(i.Ch);var s=function(t){return va(function(n,i){var r={zn:n,Z:i};t.Xh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Qa(t,r,i)}catch(n){return void bc(t,n)}var e=t.nf;if(!1===ac(e)&&"writable"===e.Dh){var u=Tc(t);hc(e,u)}Ac(t)}(r,n,e),s}var yc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!$o(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"nf"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.nf.Dh&&Ec(this,t)},t.prototype[Za]=function(t){var n=this.if(t);return kc(this),n},t.prototype[Ja]=function(){Ya(this)},t}();function mc(t,n,i,r,e,u,s,o){n.nf=t,t.Vh=n,n.Fn=void 0,n.Fh=void 0,Ya(n),n.Yh=!1,n.tf=o,n.rf=s,n.ef=r,n.uf=e,n.if=u;var a=Tc(n);hc(t,a),ga(da(i()),function(){n.Yh=!0,Ac(n)},function(i){n.Yh=!0,uc(t,i)})}function kc(t){t.ef=void 0,t.uf=void 0,t.if=void 0,t.tf=void 0}function pc(t){return t.rf-t.Fh}function Ac(t){var n=t.nf;if(!1!==t.Yh&&void 0===n.Wh)if("erroring"!==n.Dh){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.nf;(function(t){t.zh=t.qh,t.qh=void 0})(n),ja(t);var i=t.uf();kc(t),ga(i,function(){!function(t){t.zh.zn(void 0),t.zh=void 0,"erroring"===t.Dh&&(t.Ch=void 0,void 0!==t.Gh&&(t.Gh.zn(),t.Gh=void 0)),t.Dh="closed";var n=t.Hh;void 0!==n&&Oc(n)}(n)},function(t){!function(t,n){t.zh.Z(n),t.zh=void 0,void 0!==t.Gh&&(t.Gh.Z(n),t.Gh=void 0),uc(t,n)}(n,t)})}(t):function(t,n){var i=t.nf;(function(t){t.Wh=t.Xh.shift()})(i),ga(t.ef(n),function(){!function(t){t.Wh.zn(void 0),t.Wh=void 0}(i);var n=i.Dh;if(ja(t),!1===ac(i)&&"writable"===n){var r=Tc(t);hc(i,r)}Ac(t)},function(n){"writable"===i.Dh&&kc(t),function(t,n){t.Wh.Z(n),t.Wh=void 0,uc(t,n)}(i,n)})}(t,i.chunk)}}else oc(n)}function bc(t,n){"writable"===t.nf.Dh&&Ec(t,n)}function Tc(t){return pc(t)<=0}function Ec(t,n){var i=t.nf;kc(t),sc(i,n)}function Sc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Rc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ic(t){return new v("Cannot "+t+" a stream using a released writer")}function Nc(t){t.ka=va(function(n,i){t.Oh=n,t.xh=i,t.$h="pending"})}function Dc(t,n){Nc(t),Cc(t,n)}function Cc(t,n){ka(t.ka),t.xh(n),t.Oh=void 0,t.xh=void 0,t.$h="rejected"}function Oc(t){t.Oh(void 0),t.Oh=void 0,t.xh=void 0,t.$h="resolved"}function xc(t){t.Jh=va(function(n,i){t.sf=n,t.af=i}),t.Kh="pending"}function Pc(t,n){xc(t),Lc(t,n)}function Bc(t){xc(t),Mc(t)}function Lc(t,n){ka(t.Jh),t.af(n),t.sf=void 0,t.af=void 0,t.Kh="rejected"}function Mc(t){t.sf(void 0),t.sf=void 0,t.af=void 0,t.Kh="fulfilled"}function Uc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Fc="undefined"!=typeof DOMException?DOMException:void 0;var Hc,Vc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Fc)?Fc:((Hc=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(Hc.prototype,"constructor",{value:Hc,writable:!0,configurable:!0}),Hc);function Xc(t,n,i,r,e,u){var s=xa(t),o=Ka(n);t.Bh=!0;var a=!1,c=da(void 0);return va(function(h,f){var d,l,_,g;if(void 0!==u){if(d=function(){var i=new Vc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.Dh?rc(n,i):da(void 0)}),!1===e&&u.push(function(){return"readable"===t.Dh?Ph(t,i):da(void 0)}),k(function(){return T.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(m(t,s.ka,function(t){!1===r?k(function(){return rc(n,t)},!0,t):p(!0,t)}),m(n,o.ka,function(n){!1===e?k(function(){return Ph(t,n)},!0,n):p(!0,n)}),l=t,_=s.ka,g=function(){!1===i?k(function(){return function(t){var n=t.Zh,i=n.Dh;return!0===ac(n)||"closed"===i?da(void 0):"errored"===i?la(n.Ch):dc(t)}(o)}):p()},"closed"===l.Dh?g():wa(_,g),!0===ac(n)||"closed"===n.Dh){var w=new v("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Ph(t,w)},!0,w):p(!0,w)}function y(){var t=c;return _a(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.Dh?i(t.Ch):ya(n,i)}function k(t,i,r){function e(){ga(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.Dh&&!1===ac(n)?wa(y(),e):e())}function p(t,i){!0!==a&&(a=!0,"writable"===n.Dh&&!1===ac(n)?wa(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){gc(o),Ea(s),void 0!==u&&u.removeEventListener("abort",d),t?f(n):h(void 0)}ka(va(function(t,n){!function i(r){r?t():_a(!0===a?da(!0):_a(o.Jh,function(){return _a(Xa(s),function(t){return!0===t.done||(c=_a(wc(o,t.value),void 0,Yo),!1)})}),i,n)}(!1)}))})}var Wc=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===qc(this))throw th("desiredSize");return Jc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===qc(this))throw th("close");if(!1===$c(this))throw new v("The stream is not in a state that permits close");Qc(this)},t.prototype.enqueue=function(t){if(!1===qc(this))throw th("enqueue");if(!1===$c(this))throw new v("The stream is not in a state that permits enqueue");return Yc(this,t)},t.prototype.error=function(t){if(!1===qc(this))throw th("error");Zc(this,t)},t.prototype[Ca]=function(t){Ya(this);var n=this.cf(t);return jc(this),n},t.prototype[Oa]=function(){var t=this.hf;if(this.Fn.length>0){var n=ja(this);return!0===this.ff&&0===this.Fn.length?(jc(this),Bh(t)):zc(this),da(Aa(n,!1,t.Nh.Rh))}var i=Pa(t);return zc(this),i},t}();function qc(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"hf")}function zc(t){!1!==Gc(t)&&(!0!==t.vf?(t.vf=!0,ga(t.df(),function(){t.vf=!1,!0===t.lf&&(t.lf=!1,zc(t))},function(n){Zc(t,n)})):t.lf=!0)}function Gc(t){var n=t.hf;return!1!==$c(t)&&(!1!==t.Yh&&(!0===xh(n)&&La(n)>0||Jc(t)>0))}function jc(t){t.df=void 0,t.cf=void 0,t.tf=void 0}function Qc(t){var n=t.hf;t.ff=!0,0===t.Fn.length&&(jc(t),Bh(n))}function Yc(t,n){var i=t.hf;if(!0===xh(i)&&La(i)>0)Ba(i,n,!1);else{var r=void 0;try{r=t.tf(n)}catch(n){throw Zc(t,n),n}try{Qa(t,n,r)}catch(n){throw Zc(t,n),n}}zc(t)}function Zc(t,n){var i=t.hf;"readable"===i.Dh&&(Ya(t),jc(t),Lh(i,n))}function Jc(t){var n=t.hf.Dh;return"errored"===n?null:"closed"===n?0:t.rf-t.Fh}function $c(t){var n=t.hf.Dh;return!1===t.ff&&"readable"===n}function Kc(t,n,i,r,e,u,s){n.hf=t,n.Fn=void 0,n.Fh=void 0,Ya(n),n.Yh=!1,n.ff=!1,n.lf=!1,n.vf=!1,n.tf=s,n.rf=u,n.df=r,n.cf=e,t.Lh=n,ga(da(i()),function(){n.Yh=!0,zc(n)},function(t){Zc(n,t)})}function th(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var nh=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},ih=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===uh(this))throw ph("view");return this._f},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===uh(this))throw ph("respond");if(void 0===this.gf)throw new v("This BYOB request has been invalidated");this._f.buffer,function(t,n){if(!1===ta(n=Number(n)))throw new RangeError("bytesWritten must be a finite");_h(t,n)}(this.gf,t)},t.prototype.respondWithNewView=function(t){if(!1===uh(this))throw ph("respond");if(void 0===this.gf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.wf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,_h(t,n.byteLength)}(this.gf,t)},t}(),rh=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===eh(this))throw Ah("byobRequest");if(void 0===this.yf&&this.wf.length>0){var t=this.wf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(ih.prototype);!function(t,n,i){t.gf=n,t._f=i}(i,this,n),this.yf=i}return this.yf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===eh(this))throw Ah("desiredSize");return mh(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===eh(this))throw Ah("close");if(!0===this.ff)throw new v("The stream has already been closed; do not close it again!");var t=this.mf.Dh;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.mf;if(t.Fh>0)return void(t.ff=!0);if(t.wf.length>0){var i=t.wf.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw yh(t,r),r}}wh(t),Bh(n)}(this)},t.prototype.enqueue=function(t){if(!1===eh(this))throw Ah("enqueue");if(!0===this.ff)throw new v("stream is closed or draining");var n=this.mf.Dh;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.mf,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=ua(r);if(!0===Ma(i))if(0===La(i))ch(t,s,e,u);else{var o=new y(s,e,u);Ba(i,o,!1)}else!0===Eh(i)?(ch(t,s,e,u),lh(t)):ch(t,s,e,u);sh(t)}(this,t)},t.prototype.error=function(t){if(!1===eh(this))throw Ah("error");yh(this,t)},t.prototype[Ca]=function(t){this.wf.length>0&&(this.wf.peek().bytesFilled=0);Ya(this);var n=this.cf(t);return wh(this),n},t.prototype[Oa]=function(){var t=this.mf;if(this.Fh>0){var n=this.Fn.shift();this.Fh-=n.byteLength,vh(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return la(t)}return da(Aa(i,!1,t.Nh.Rh))}var r=this.kf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return la(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.wf.push(u)}var s=Pa(t);return sh(this),s},t}();function eh(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"mf")}function uh(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"gf")}function sh(t){!1!==function(t){var n=t.mf;if("readable"!==n.Dh)return!1;if(!0===t.ff)return!1;if(!1===t.Yh)return!1;if(!0===Ma(n)&&La(n)>0)return!0;if(!0===Eh(n)&&Th(n)>0)return!0;if(mh(t)>0)return!0;return!1}(t)&&(!0!==t.vf?(t.vf=!0,ga(t.df(),function(){t.vf=!1,!0===t.lf&&(t.lf=!1,sh(t))},function(n){yh(t,n)})):t.lf=!0)}function oh(t,n){var i=!1;"closed"===t.Dh&&(i=!0);var r=ah(n);"default"===n.readerType?Ba(t,r,i):function(t,n,i){var r=t.Nh;r.pf.shift().zn(Aa(n,i,r.Rh))}(t,r,i)}function ah(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function ch(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.Fh+=r}function hh(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.Fh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,_=t.Fn;o>0;){var g=_.peek(),w=l.min(o,g.byteLength),m=n.byteOffset+n.bytesFilled;c=n.buffer,h=m,f=g.buffer,v=g.byteOffset,d=w,new y(c).set(new y(f,v,d),h),g.byteLength===w?_.shift():(g.byteOffset+=w,g.byteLength-=w),t.Fh-=w,fh(t,w,n),o-=w}return a}function fh(t,n,i){dh(t),i.bytesFilled+=n}function vh(t){0===t.Fh&&!0===t.ff?(wh(t),Bh(t.mf)):sh(t)}function dh(t){void 0!==t.yf&&(t.yf.gf=void 0,t.yf._f=void 0,t.yf=void 0)}function lh(t){for(;t.wf.length>0;){if(0===t.Fh)return;var n=t.wf.peek();!0===hh(t,n)&&(gh(t),oh(t.mf,n))}}function _h(t,n){var i=t.wf.peek();if("closed"===t.mf.Dh){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ua(n.buffer);var i=t.mf;if(!0===Eh(i))for(;Th(i)>0;)oh(i,gh(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(fh(t,n,i),!(i.bytesFilled<i.elementSize)){gh(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);ch(t,u,0,u.byteLength)}i.buffer=ua(i.buffer),i.bytesFilled-=r,oh(t.mf,i),lh(t)}}(t,n,i);sh(t)}function gh(t){var n=t.wf.shift();return dh(t),n}function wh(t){t.df=void 0,t.cf=void 0}function yh(t,n){var i=t.mf;"readable"===i.Dh&&(!function(t){dh(t),t.wf=new pa}(t),Ya(t),wh(t),Lh(i,n))}function mh(t){var n=t.mf.Dh;return"errored"===n?null:"closed"===n?0:t.rf-t.Fh}function kh(t,n,i){var r=d.create(rh.prototype);var e=ia(n,"pull",0,[r]),u=ia(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===nh(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.mf=t,n.lf=!1,n.vf=!1,n.yf=void 0,n.Fn=n.Fh=void 0,Ya(n),n.ff=!1,n.Yh=!1,n.rf=sa(u),n.df=r,n.cf=e,n.kf=s,n.wf=new pa,t.Lh=n,ga(da(i()),function(){n.Yh=!0,sh(n)},function(t){yh(n,t)})}(t,r,function(){return ra(n,"start",[r])},e,u,i,s)}function ph(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Ah(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function bh(t){return va(function(n,i){var r={zn:n,Z:i};t.Nh.pf.push(r)})}function Th(t){return t.Nh.pf.length}function Eh(t){var n=t.Nh;return void 0!==n&&!!Rh(n)}var Sh=function(){function t(t){if(!Oh(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===eh(t.Lh))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(xh(t))throw new v("This stream has already been locked for exclusive reading by another reader");ba(this,t),this.pf=new pa}return d.defineProperty(t.prototype,"closed",{get:function(){return Rh(this)?this.ka:la(Ih("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Rh(this)?void 0===this.Ih?la(Sa("cancel")):Ta(this,t):la(Ih("cancel"))},t.prototype.read=function(t){return Rh(this)?void 0===this.Ih?la(Sa("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?la(new v("view must have non-zero byteLength")):function(t,n){var i=t.Ih;if(i.Bh=!0,"errored"===i.Dh)return la(i.Ch);return function(t,n){var i=t.mf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:ua(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.wf.length>0)return t.wf.push(u),bh(i);if("closed"===i.Dh)return da(Aa(new e(u.buffer,u.byteOffset,0),!0,i.Nh.Rh));if(t.Fh>0){if(!0===hh(t,u)){var s=ah(u);return vh(t),da(Aa(s,!1,i.Nh.Rh))}if(!0===t.ff){var o=new v("Insufficient bytes to fill elements in the given buffer");return yh(t,o),la(o)}}t.wf.push(u);var a=bh(i);return sh(t),a}(i.Lh,n)}(this,t)):la(new v("view must be an array buffer view")):la(Ih("read"))},t.prototype.releaseLock=function(){if(!Rh(this))throw Ih("releaseLock");if(void 0!==this.Ih){if(this.pf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Ea(this)}},t}();function Rh(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"pf")}function Ih(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Nh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ch(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),kh(this,t,r=sa(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=oa(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Wc.prototype),u=ia(n,"pull",0,[e]),s=ia(n,"cancel",1,[]);Kc(t,e,function(){return ra(n,"start",[e])},u,s,i,r)}(this,t,r=sa(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Oh(this))throw Mh("locked");return xh(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Oh(this)?la(Mh("cancel")):!0===xh(this)?la(new v("Cannot cancel a stream that already has a reader")):Ph(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Oh(this))throw Mh("getReader");if(void 0===n)return xa(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Sh(t);return i.Rh=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Oh(this))throw Mh("pipeThrough");if(!1===nc(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Oh(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!Uc(a))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===xh(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ic(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ka(Xc(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Oh(this)?la(Mh("pipeTo")):!1===nc(t)?la(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Uc(s)?!0===xh(this)?la(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ic(t)?la(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xc(this,t,r,e,u,s):la(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Oh(this))throw Mh("tee");var t=function(t,n){var i,r,e,u,s,o=xa(t),a=!1,c=!1,h=!1,f=va(function(t){s=t});function v(){return!0===a?da(void 0):(a=!0,ka(ma(Xa(o),function(t){if(a=!1,!0===t.done)return!1===c&&Qc(e.Lh),void(!1===h&&Qc(u.Lh));var n=t.value,i=n,r=n;!1===c&&Yc(e.Lh,i),!1===h&&Yc(u.Lh,r)})),da(void 0))}function d(){}return e=Dh(d,v,function(n){if(c=!0,i=n,!0===h){var e=Ko([i,r]),u=Ph(t,e);s(u)}return f}),u=Dh(d,v,function(n){if(h=!0,r=n,!0===c){var e=Ko([i,r]),u=Ph(t,e);s(u)}return f}),ya(o.ka,function(t){Zc(e.Lh,t),Zc(u.Lh,t)}),[e,u]}(this);return Ko(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Oh(this))throw Mh("getIterator");return function(t,n){void 0===n&&(n=!1);var i=xa(t),r=d.create(qa);return r.Mh=i,r.Uh=Boolean(n),r}(this,i)},t}();function Dh(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(Nh.prototype);return Ch(u),Kc(u,d.create(Wc.prototype),t,n,i,r,e),u}function Ch(t){t.Dh="readable",t.Nh=void 0,t.Ch=void 0,t.Bh=!1}function Oh(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"Lh")}function xh(t){return void 0!==t.Nh}function Ph(t,n){return t.Bh=!0,"closed"===t.Dh?da(void 0):"errored"===t.Dh?la(t.Ch):(Bh(t),ma(t.Lh[Ca](n),Yo))}function Bh(t){t.Dh="closed";var n=t.Nh;void 0!==n&&(Va(n)&&(n.Ph.forEach(function(t){t.zn(Aa(void 0,!0,n.Rh))}),n.Ph=new pa),Da(n))}function Lh(t,n){t.Dh="errored",t.Ch=n;var i=t.Nh;void 0!==i&&(Va(i)?(i.Ph.forEach(function(t){t.Z(n)}),i.Ph=new pa):(i.pf.forEach(function(t){t.Z(n)}),i.pf=new pa),Na(i,n))}function Mh(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Qo.asyncIterator&&d.defineProperty(Nh.prototype,Qo.asyncIterator,{value:Nh.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Uh=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Fh=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=oa(r);if(void 0===e&&(e=1),e=sa(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=oa(u);void 0===s&&(s=0),s=sa(s),function(t,n,i,r,e,u){function s(){return n}t.Af=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create($a.prototype);return tc(s),mc(s,d.create(yc.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.bf;if(!0===t.jh){var r=t.Tf;return ma(r,function(){var r=t.Af,e=r.Dh;if("erroring"===e)throw r.Ch;return Qh(i,n)})}return Qh(i,n)}(t,n)},function(){return function(t){var n=t.Ef,i=t.bf,r=i.Sf();return Gh(i),ma(r,function(){if("errored"===n.Dh)throw n.Ch;var t=n.Lh;!0===$c(t)&&Qc(t)},function(i){throw Vh(t,i),n.Ch})}(t)},function(n){return function(t,n){return Vh(t,n),da(void 0)}(t,n)},i,r),t.Ef=Dh(s,function(){return function(t){return Wh(t,!1),t.Tf}(t)},function(n){return Xh(t,n),da(void 0)},e,u),t.jh=void 0,t.Tf=void 0,t.Rf=void 0,Wh(t,!0),t.bf=void 0}(this,va(function(t){a=t}),e,o,s,c),function(t,n){var i=d.create(qh.prototype),r=function(t){try{return jh(i,t),da(void 0)}catch(t){return la(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return ea(e,n,[t,i])}}var u=ia(n,"flush",0,[i]);!function(t,n,i,r){n.If=t,t.bf=n,n.Nf=i,n.Sf=r}(t,i,r,u)}(this,t);var h=ra(t,"start",[this.bf]);a(h)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Hh(this))throw Zh("readable");return this.Ef},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Hh(this))throw Zh("writable");return this.Af},enumerable:!0,configurable:!0}),t}();function Hh(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"bf")}function Vh(t,n){Zc(t.Ef.Lh,n),Xh(t,n)}function Xh(t,n){Gh(t.bf),bc(t.Af.Vh,n),!0===t.jh&&Wh(t,!1)}function Wh(t,n){void 0!==t.Tf&&t.Rf(),t.Tf=va(function(n){t.Rf=n}),t.jh=n}var qh=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===zh(this))throw Yh("desiredSize");return Jc(this.If.Ef.Lh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===zh(this))throw Yh("enqueue");jh(this,t)},t.prototype.error=function(t){if(!1===zh(this))throw Yh("error");var n;n=t,Vh(this.If,n)},t.prototype.terminate=function(){if(!1===zh(this))throw Yh("terminate");!function(t){var n=t.If,i=n.Ef.Lh;!0===$c(i)&&Qc(i);var r=new v("TransformStream terminated");Xh(n,r)}(this)},t}();function zh(t){return!!$o(t)&&!!d.prototype.hasOwnProperty.call(t,"If")}function Gh(t){t.Nf=void 0,t.Sf=void 0}function jh(t,n){var i=t.If,r=i.Ef.Lh;if(!1===$c(r))throw new v("Readable side is not in a state that permits enqueue");try{Yc(r,n)}catch(t){throw Xh(i,t),i.Ef.Ch}(function(t){return!0!==Gc(t)})(r)!==i.jh&&Wh(i,!0)}function Qh(t,n){return ma(t.Nf(n),void 0,function(n){throw Vh(t.If,n),n})}function Yh(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Zh(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Jh,$h=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return M(n,t),L(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(un);function Kh(t){return n=[t],new Nh({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function tf(t){return Kh(new y(t))}function nf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Gs,u=function(){s();var t=new uu;r.cancel(t).catch(S),e.aa(t)},s=function(){i&&(i.fo(u),i=void 0)};i&&(i.eo?u():i.ho(u));var o=[];return T.resolve(r.read()).then(function t(n){return n.done?(s(),T.resolve(o)):(o.push(n.value),T.resolve(r.read()).then(t))}).then(function(t){s(),e.oa(t)},function(t){s(),e.aa(t)}),e.sa}(t,n).then(function(t){return Gu(t).buffer})}function rf(t,n){var i=n,r=new Fh,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i._o()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(S)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(S)}),e}function ef(t){var n=new Fh,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=J(t)?t[0]===t[1]||su(t[0])&&su(t[1])?t[0]:new $h(t):t,r.abort(n).catch(S)}),i.tee()}function uf(t){return Ps(new y(t))}function sf(t){return Bs(t).buffer}!function(t){t[t.yh=0]="yh",t[t.Df=1]="Df"}(Jh||(Jh={}));var of="content-type",af="text/plain;charset=UTF-8",cf=function(){function t(){}var n=t.prototype;return n.Cf=function(t){return this.Of(t).then(JSON.parse)},n.xf=function(t,n){switch(t){case qo.gh:return this.Pf(n);case qo.wh:return this.Cf(n);case qo.yh:return this.Bf();case qo.ze:return this.Of(n);default:throw new v}},t}();function hf(t,n,i){if(t instanceof cf)return t;if(t instanceof Nh)return function(t,n){return new vf({Gs:Jh.yh,Bf:t,Lf:ff(n)})}(t,i);var r=ff(i),e=T.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Gs:qo.ze,Mf:t,Lf:n||af};if(t instanceof ArrayBuffer||qu(t))return{Gs:qo.gh,Mf:mf(t),Lf:n};if(tt(t)||J(t))return{Gs:qo.wh,Mf:t,Lf:n};throw new v("Unsupported BodyInit type")}return{Gs:qo.ze,Mf:null,Lf:n}}(t,r)});return new vf({Gs:Jh.Df,sa:e,Uf:n})}function ff(t){return(t.get(of)||"").toLowerCase()}var vf=function(t){function n(n){var i;return(i=t.call(this)||this).Ff=!1,i.Hf=new Gs,i.Hf.sa.catch(S),i.Vf(n),i}M(n,t);var i=n.prototype;return i.Xf=function(){return this.Hf.sa},i.Of=function(t){return this.Wf(df,t)},i.Cf=function(t){return this.Wf(_f,t)},i.Pf=function(t){return this.Wf(wf,t)},i.Bf=function(){return this.qf((t=this.zf).Gs===Jh.yh?t.Bf:rf(t.sa.then(yf).then(tf),t.Uf));var t},i.Wf=function(t,n){if(this.Ff)return T.reject(new v("Already used"));this.Ff=!0;var i=t(this.zf,n);return this.Hf.oa(i.then(S)),i},i.qf=function(t){if(this.Ff)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Ff=!0;var n=new Fh,i=T.resolve(t.pipeTo(n.writable));return this.Hf.oa(i),n.readable},i.Vf=function(t){this.zf=t,t.Gs===Jh.Df&&t.sa.catch(S)},i.Gf=function(){if(this.Ff)throw new v("Already used");var t=function(t){if(t.Gs===Jh.yh){var n=t.Bf.tee(),i=n[0],r=n[1];return[{Gs:t.Gs,Bf:i,Lf:t.Lf},{Gs:t.Gs,Bf:r,Lf:t.Lf}]}var e=t.Uf.yo(),u=e[0],s=e[1];return[{Gs:t.Gs,sa:t.sa,Uf:u},{Gs:t.Gs,sa:t.sa,Uf:s}]}(this.zf),i=t[0],r=t[1];return this.Vf(i),new n(r)},L(n,[{key:"jf",get:function(){return this.Ff}}]),n}(cf);function df(t,n){return t.Gs===Jh.yh?nf(t.Bf,n).then(uf):(n&&t.Uf.wo(n),fu(t.sa.then(lf),t.Uf))}function lf(t){switch(t.Gs){case qo.ze:return T.resolve(t.Mf||"");case qo.gh:return T.resolve(t.Mf).then(uf);case qo.wh:return T.resolve(t.Mf).then(JSON.stringify)}}function _f(t,n){return t.Gs===Jh.yh?df(t,n).then(JSON.parse):(n&&t.Uf.wo(n),fu(t.sa.then(gf),t.Uf))}function gf(t){return t.Gs===qo.wh?T.resolve(t.Mf):lf(t).then(JSON.parse)}function wf(t,n){return t.Gs===Jh.yh?nf(t.Bf,n):(n&&t.Uf.wo(n),fu(t.sa.then(yf),t.Uf))}function yf(t){switch(t.Gs){case qo.gh:return T.resolve(t.Mf);case qo.ze:case qo.wh:return lf(t).then(sf)}}function mf(t){return t instanceof ArrayBuffer?t:Ws(Fs(t)).buffer}function kf(t){return t.Qf>=200&&t.Qf<=299||304===t.Qf}var pf,Af,bf,Tf,Ef=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.Yf,u=i.Zf,s=i.Qf,o=i.Jf,a=i.$f):(e=[],u=qo.ze,s=200,o="OK",a=!1);var c=n.Kf,h=new zo(n.Yf||e),f=n.Zf||u,v=n.tv||(i&&i.Kf===c?i.tv:c.nv),d=i?i.rv:null,l=hf(void 0!==n.pu?n.pu:d,n.Uf||new eu,h);return(r=t.call(this,l)||this).Yf=h,r.Kf=c,r.tv=v,r.Zf=f,r.Qf=void 0!==n.Qf?n.Qf:s,r.Jf=void 0!==n.Jf?String(n.Jf):o,r.$f=n.$f||a,r}M(n,t);var i=n.prototype;return i.pu=function(t){return this.xf(this.Zf,t)},i.na=function(){return new n({pu:this.Gf(),Kf:this.Kf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).rv=n,i}M(n,t);var i=n.prototype;return i.Xf=function(){return this.rv.Xf()},i.Of=function(t){return this.rv.Of(t)},i.Cf=function(t){return this.rv.Cf(t)},i.Pf=function(t){return this.rv.Pf(t)},i.Bf=function(){return this.rv.Bf()},i.Gf=function(){return this.rv.Gf()},L(n,[{key:"jf",get:function(){return this.rv.jf}}]),n}(cf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(pf||(pf={})),function(t){t.ev="",t.uv="manifest",t.sv="segment",t.ov="content-protection"}(Af||(Af={})),function(t){t.ev="",t.av="initialization-segment",t.cv="fairplay-license",t.hv="fairplay-certificate",t.fv="widevine-license",t.vv="widevine-certificate",t.dv="playready-license",t.lv="clearkey-license",t._v="aes128-key"}(bf||(bf={})),function(t){t.ev="",t.gv="audio",t.wv="video",t.ze="text",t.yv="image"}(Tf||(Tf={}));var Sf=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.nv;n?(i=n.Mf,r=n.Yf,e=n.mv,u=n.Zf,s=n.kv,o=n.mo,a=n.Gs,c=n.pv,h=n.Av,f=n.bv,v=n.Tv):(i=null,r={},e=pf.GET,u=qo.ze,s=0,a=Af.ev,c=bf.ev,h=Tf.ev,f=!1),this.nv=d,this.Mf=t.Mf||i,this.Yf=new zo(t.Yf||r),this.mv=t.mv||e,this.Zf=t.Zf||u,this.kv=void 0!==t.kv?Number(t.kv)||0:s,this.mo=t.mo||o||(new eu).mo,this.Gs=t.Gs||a,this.pv=t.pv||c,this.Av=t.Av||h,this.bv=void 0!==t.bv?Boolean(t.bv):f,this.Tv=t.Tv||v},Rf=function(){function t(){}var n=t.prototype;return n.Kf=function(t){var n=function(t){return new Ef({pu:null,Yf:{},Kf:t,tv:t.nv,Zf:t.Zf,Qf:0,Jf:Wo.Qc})}(new Sf(t));return T.resolve(n)},n.Ev=function(t){},n.Sv=function(){},t}();var If,Nf=function(){function t(t,n){void 0===n&&(n=!0),this.Rv=t,this.Iv=n}var n=t.prototype;return n.Kf=function(t){var n=this.Nv(t);return this.Rv.Kf(n)},n.Ev=function(t){return this.Rv.Ev(this.Dv(t))},n.Nv=function(n){var i=new Sf(n);if(!this.Iv){var r=t.Cv(i.nv);i=new Sf({nv:r},i)}return i},n.Dv=function(n){var i=n.nv;return this.Iv||(i=t.Cv(i)),{nv:i,Mf:n.Mf}},t.Cv=function(t){return b.Ds&&yr(t,"http://")?t.replace(":","s:"):t},n.Sv=function(){this.Rv.Sv()},L(t,null,[{key:"Ov",get:function(){return t.xv||(t.xv=new t(new Rf)),t.xv}}]),t}();Nf.xv=void 0,function(t){t.Pv="HttpOpenError",t.Bv="HttpResponseError",t.Lv="HttpTimeoutError"}(If||(If={}));var Df=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Mv=n,e}return M(n,t),L(n,[{key:"Kf",get:function(){return this.Mv}}]),n}(un);var Cf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.nv+". Invalid URL.",i)||this}return M(n,t),L(n,[{key:"name",get:function(){return If.Pv}}]),n}(Df);var Of=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Kf,null!=r?r:function(t){return"Error while loading "+t.Kf.nv+", status code "+t.Qf}(n),i)||this).Uv=n,e}return M(n,t),L(n,[{key:"name",get:function(){return If.Bv}},{key:"Fv",get:function(){return this.Uv}}]),n}(Df);var xf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.nv+" timed out after "+t.kv+" seconds."}(n),i)||this}return M(n,t),L(n,[{key:"name",get:function(){return If.Lv}}]),n}(Df),Pf=function(t,n){return(Pf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Bf(t,n){function i(){this.constructor=t}Pf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Lf="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Mf=function(){var t=Lf.Blob;if(t)try{return new t,function(t,n){return new Lf.Blob(t,n)}}catch(t){}var n,i=Lf.BlobBuilder||Lf.WebKitBlobBuilder||Lf.MozBlobBuilder||Lf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),Uf="function"==typeof Nh?Nh:void 0;function Ff(t){return t&&"function"==typeof t.getReader}function Hf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Ff(i)}catch(t){return!1}}var Vf=function(){function t(t,n){this.Nh=t,this.Hv=n}return t.prototype.pull=function(t){var n=this;return this.Nh.read().then(function(i){n.Hv&&n.Hv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Nh.cancel(t)},t}();function Xf(t,n){return n.constructor===t?n:new t(new Vf(n.getReader()),{highWaterMark:0})}var Wf=function(){function t(t,n){this.Vv=t,this.St=n}return t.prototype.pull=function(t){return this.Vv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function qf(t,n,i){return new t(new Wf(n,i),{highWaterMark:0})}var zf={searchParams:"URLSearchParams"in Lf,iterable:"Symbol"in Lf&&"iterator"in Symbol,blob:"FileReader"in Lf&&!!Mf,formData:"FormData"in Lf,arrayBuffer:"ArrayBuffer"in Lf,stream:Hf(Uf),streamRequest:"Request"in Lf&&"body"in Lf.Request.prototype,streamResponse:"Response"in Lf&&"body"in Lf.Response.prototype,abort:"AbortController"in Lf&&"Request"in Lf&&"signal"in Lf.Request.prototype,encoding:"TextEncoder"in Lf&&"TextDecoder"in Lf,url:"URL"in Lf&&function(t){try{return new Lf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Lf&&/Firefox\//.test(Lf.navigator.userAgent)};function Gf(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function jf(t){return"string"!=typeof t&&(t=String(t)),t}function Qf(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return zf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Yf=function(){function t(n){var i,r=this;this.Hs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,zf.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=Gf(t),n=jf(n);var i=t.toLowerCase();if(this.Hs.hasOwnProperty(i)){var r=this.Hs[i],e=r[1];r[1]=e?e+", "+n:n}else this.Hs[i]=[t,n]},t.prototype.delete=function(t){var n=Gf(t).toLowerCase();delete this.Hs[n]},t.prototype.get=function(t){var n=Gf(t).toLowerCase();return this.Hs.hasOwnProperty(n)?this.Hs[n][1]:null},t.prototype.has=function(t){var n=Gf(t).toLowerCase();return this.Hs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Gf(t)).toLowerCase();this.Hs[i]=[t,jf(n)]},t.prototype.forEach=function(t,n){for(var i in this.Hs)this.Hs.hasOwnProperty(i)&&t.call(n,this.Hs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Qf(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Qf(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Qf(t)},t.prototype.asList=function(){var t=[];for(var n in this.Hs)if(this.Hs.hasOwnProperty(n)){var i=this.Hs[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function Zf(){}zf.iterable&&(Yf.prototype[Symbol.iterator]=Yf.prototype.entries);var Jf,$f,Kf,tv=l.min,nv=String.fromCharCode,iv=16384;function rv(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=iv){var e=tv(r+iv,n);i.push(nv.apply(null,t.slice(r,e)))}return i.join("")}(n)}function ev(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function uv(t,n){return t>>n&63|128}function sv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ev(t),n.push(t>>12&15|224),n.push(uv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(uv(t,12)),n.push(uv(t,6))),n.push(63&t|128)):n.push(t)}function ov(){if(Kf>=$f)throw new f("Invalid byte index");var t=255&Jf[Kf];if(Kf++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function av(){var t,n;if(Kf>$f)throw new f("Invalid byte index");if(Kf===$f)return!1;if(t=255&Jf[Kf],Kf++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ov())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ov()<<6|ov())>=2048)return ev(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ov()<<12|ov()<<6|ov())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var cv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function hv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function fv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function vv(t){return t&&DataView.prototype.isPrototypeOf(t)}var dv,lv=ArrayBuffer.isView||function(t){return t&&(cv.indexOf(d.prototype.toString.call(t))>-1||vv(t))};function _v(t){if(t.bodyUsed)return T.reject(new v("Already used"));t.bodyUsed=!0}function gv(t){return new T(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function wv(t){return zf.encoding?new Lf.TextDecoder("utf-8").decode(new y(t)):rv(function(t){$f=(Jf=t).length,Kf=0;for(var n,i=[];!1!==(n=av());)i.push(n);return i}(new y(t)))}function yv(t){return zf.encoding?(new Lf.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,r=t;i<r.length;i++)sv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function mv(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?T.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function kv(t){return mv(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new y(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function pv(t){return t.slice?t.slice(0):Av(new y(t))}function Av(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function bv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Tv(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Xv===dv.Wv){if(!n.qv.tee)throw new f("could not clone ReadableStream body");var i=n.qv.tee(),r=i[0],e=i[1];return n.body=r,n.qv=r,n.zv=r,e}return n.Xv===dv.gh?pv(n.qv):n.Xv===dv.Df?n.qv.then(Tv):n.zv}!function(t){t[t.ze=0]="ze",t[t.Gv=1]="Gv",t[t.jv=2]="jv",t[t.gh=3]="gh",t[t.Wv=4]="Wv",t[t.Df=5]="Df"}(dv||(dv={}));var Ev=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.zv=n||null,n)if("string"==typeof n)this.Xv=dv.ze,this.qv=n;else if((u=n)&&"function"==typeof u.then)this.Xv=dv.Df,this.qv=T.resolve(n).then(function(n){return new t(n,i)}),this.qv.catch(Zf);else if(zf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Xv=dv.Gv,this.qv=n;else if(zf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Xv=dv.jv,this.qv=n;else if(zf.searchParams&&hv(n))this.Xv=dv.ze,this.qv=n.toString();else if(zf.arrayBuffer&&(fv(n)||lv(n)))vv(n)&&(this.zv=new y((e=n).buffer,e.byteOffset,e.byteLength)),this.Xv=dv.gh,this.qv=fv(r=n)?pv(r):Av(r);else{if(!zf.stream||!Ff(n))throw new f("unsupported BodyInit type");n=Xf(Uf,n),this.Xv=dv.Wv,this.qv=n,this.zv=n}else this.Xv=dv.ze,this.qv="";this.Qv="",i.has("content-type")?this.Qv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Qv="text/plain;charset=UTF-8":s.Xv===dv.Gv&&s.qv.type?this.Qv=s.qv.type:zf.searchParams&&hv(n)&&(this.Qv="application/x-www-form-urlencoded;charset=UTF-8"),this.Qv&&i.set("content-type",this.Qv)),zf.stream&&(null==n?this.body=null:s.Xv===dv.Wv?this.body=s.qv:this.body=qf(Uf,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=_v(this);return r||(this.Xv===dv.Gv?(t=this.qv,n=new FileReader,i=gv(n),n.readAsText(t),i):this.Xv===dv.gh?T.resolve(this.qv).then(wv):this.Xv===dv.Wv?kv(this.qv).then(wv):this.Xv===dv.Df?this.qv.then(function(t){return t.text()}):this.Xv===dv.jv?T.reject(new f("could not read FormData body as text")):T.resolve(this.qv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();zf.blob&&(Ev.prototype.blob=function(){var t,n,i=_v(this);return i||(this.Xv===dv.Gv?T.resolve(this.qv):this.Xv===dv.gh?T.resolve(Mf([this.qv],{type:this.Qv})):this.Xv===dv.Wv?(t=this.qv,n=this.Qv,mv(t).then(function(t){return Mf(t,{type:n||""})})):this.Xv===dv.Df?this.qv.then(function(t){return t.blob()}):this.Xv===dv.jv?T.reject(new f("could not read FormData body as Blob")):T.resolve(Mf([this.qv],{type:this.Qv})))}),zf.arrayBuffer&&(Ev.prototype.arrayBuffer=function(){var t,n,i;return this.Xv===dv.gh?_v(this)||T.resolve(this.qv):this.Xv===dv.Gv?_v(this)||(t=this.qv,n=new FileReader,i=gv(n),n.readAsArrayBuffer(t),i):this.Xv===dv.Wv?kv(this.qv):this.Xv===dv.Df?_v(this)||this.qv.then(function(t){return t.arrayBuffer()}):this.Xv===dv.jv?T.reject(new f("could not read FormData body as ArrayBuffer")):T.resolve(this.qv).then(yv)}),zf.formData&&(Ev.prototype.formData=function(){return this.Xv===dv.jv?_v(this)||T.resolve(this.qv):this.text().then(bv)});var Sv=[301,302,303,307,308],Rv=function(t){function n(n,i){var r=this,e=new Yf((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Bf(n,t),n.prototype.clone=function(){return new n(Tv(this),{status:this.status,statusText:this.statusText,headers:new Yf(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Sv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Ev);var Iv,Nv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function a(t,n){return(a=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?c(r):e).listeners||f.call(c(t)),d.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,f),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_});(Iv=Nv)&&Iv.__esModule&&d.prototype.hasOwnProperty.call(Iv,"default")&&Iv.default;Nv.AbortSignal;var Dv=Nv.AbortController,Cv=Lf.DOMException;try{new Cv}catch(t){(Cv=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Cv.prototype.constructor=Cv}var Ov=Dv;function xv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Pv(t,n,i){return new T(function(r,e){if(n.signal.aborted)return t.catch(Zf),e(Bv());var u=function(){n.signal.removeEventListener("abort",u),e(Bv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Bv(){return new Cv("Aborted","AbortError")}var Lv,Mv="moz-chunked-arraybuffer";function Uv(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Lv||(Lv={}));var Fv=function(){function t(t,n){var i=this;this.Yv=!1,this.Mv=t,this.Zv=n,this.Jv=new k,this.$v=new T(function(t,n){i.Kv=t,i.td=n})}return t.prototype.send=function(){var t=this;return this.nd().then(function(n){return t.rd(n,t.Zv),t.$v})},t.prototype.nd=function(){var t=this.Mv;return t.Xv===dv.Wv?t.arrayBuffer():T.resolve(t.zv)},t.prototype.ed=function(t){this.Mv.onprogress&&this.Mv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ud=function(t){this.td(t)},t.prototype.sd=function(){this.ud(new v("Network request failed"))},t.prototype.od=function(){this.ud(new v("Network request failed"))},t.prototype.hd=function(){this.ud(Bv())},t.prototype.rd=function(t,n){var i=this,r=this.Mv,e=this.Jv,u=function(){return i.fd()};if(r.signal.aborted)return this.hd();e.onreadystatechange=function(){if(e.readyState>=Lv.HEADERS_RECEIVED&&!i.Yv){var t=function(t){var n=new Yf;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.Yv=!0,i.vd(n)}},e.onprogress=function(t){return i.ed(t)},e.onload=function(){return i.dd()},e.onerror=function(){return i.sd()},e.ontimeout=function(){return i.od()},e.onabort=function(){return i.hd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.fd=function(){this.Jv.abort()},t}(),Hv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.ld=void 0,r._d=void 0,r}return Bf(n,t),n.prototype.vd=function(t){var n=this;this.ld=new T(function(t,i){n._d=t,n.gd=i}),this.Kv(new Rv(this.ld,t))},n.prototype.dd=function(){var t=this.Jv.response||this.Jv.responseText;this._d(t)},n.prototype.ud=function(n){t.prototype.ud.call(this,n),this.gd&&this.gd(n)},n}(Fv),Vv=function(t){function n(n){var i=t.call(this,n,Mv)||this;return i.wd=void 0,i.yd=void 0,i.md=!1,i}return Bf(n,t),n.prototype.vd=function(t){var n=this;this.wd=new Uf({start:function(t){n.yd=t},cancel:function(){n.md=!0,n.fd()}}),this.Kv(new Rv(this.wd,t))},n.prototype.ed=function(n){this.md||this.yd.enqueue(new y(this.Jv.response)),t.prototype.ed.call(this,n)},n.prototype.dd=function(){this.yd.close()},n.prototype.ud=function(n){t.prototype.ud.call(this,n),this.yd&&!this.md&&(this.md=!0,this.yd.error(n))},n}(Fv),Xv=function(){var t=zf.firefox&&Uv(Mv);return Xv=function(){return t},t},Wv=function(){var t;return t=zf.arrayBuffer&&Uv("arraybuffer")?"arraybuffer":zf.blob&&Uv("blob")?"blob":"",Wv=function(){return t},t};function qv(t){return(zf.stream&&Xv()?new Vv(t):new Hv(t,Wv())).send()}var zv=Lf.fetch,Gv=Lf.Request,jv=(Lf.Response,Lf.AbortController);var Qv=["http:","https:"];var Yv=function(){try{if(zf.streamRequest){var t=new Gv("about:blank",{body:"",method:"POST"}).body;if(t&&Hf(t.constructor))return t.constructor}}catch(t){}}();function Zv(t,n,i){var r;if(zf.stream){var e=void 0;if(zf.streamResponse){var u=t.body;e=u&&Xf(Uf,u)}else e=qf(Uf,function(){return Pv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Vf(n.getReader(),i),{highWaterMark:0})}(Uf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,Jv(t.headers))),r=e}else{var s=Pv(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return T.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,Jv(t.headers))),r=s}return new Rv(r,t)}function Jv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function $v(t){var n=new Ov;return t.signal&&xv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.Xv===dv.Wv?zf.streamRequest&&Yv?T.resolve(Xf(Yv,e.qv)):Pv(t.arrayBuffer(),n,!1):Pv(T.resolve(t.zv),n,!1),zf.abort){var u=new jv;xv(u,n.signal),r=u.signal}return i.then(function(n){return new Gv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Yf?i:new Yf(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(zv).then(function(i){return Zv(i,n,t.onprogress)})}var Kv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var td=function(t){function n(i,r){var e,u,s,o,a,c,h,f,d,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(s=new Yf(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.zv||(_=i.zv,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,d=null;if(!r.headers&&s||(s=new Yf(r.headers)),r&&(c="about:client",h=""),(l=t.call(this,_,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return Kv.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||a,l.signal=r.signal||f||(new Ov).signal,l.referrer=void 0!==r.referrer?r.referrer:c,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Bf(n,t),n.prototype.clone=function(){return new n(this,{body:Tv(this)})},n}(Ev),nd="function"==typeof zv&&zf.stream&&zf.streamResponse&&zf.url;function id(t,n){return new T(function(i){var r=new td(t,n);i((nd&&function(t){try{return Qv.indexOf(new Lf.URL(t,Lf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?$v:qv)(r))})}id.polyfill=!0;var rd=function(){function t(t){this.kd=new eu,this.Uv=void 0,this.pd=!1,this.Mv=t,this.kd.wo(t.mo),this.Fv=this.Ad()}var n=t.prototype;return n.Ad=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e,u,s,a,c,h=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Mv).kv&&o(function(){h.pd=!0,h.kd._o()},n.kv),t.prev=2,i=id(n.nv,{method:n.mv,headers:n.Yf.mh(),body:n.Mf,credentials:n.bv?"include":"same-origin",signal:sd(this.kd.mo),onprogress:n.Tv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Cf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),su(e=this.bd(t.t1))&&this.kd._o(),e;case 20:if(u=r.url||n.nv,s=0===r.status&&"file:"===(f=u,b.Hu(f).protocol)?200:r.status,a=new ed(this,r,this.kd),c=new Ef({pu:a,Kf:n,Zf:n.Zf,Yf:new zo(r.headers.asList()),Qf:s,Jf:r.statusText,tv:u}),this.Uv=c,!kf(c)){t.next=29;break}return t.abrupt("return",c);case 29:throw new Of(c);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.bd=function(t){return su(t)?this.pd?new xf(this.Mv):new uu(t.message,t):this.Uv?new Of(this.Uv,t):new Cf(this.Mv,t)},t}(),ed=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Hf=new Gs,e.cn=n,e.Td=i,e.kd=r,e.Hf.sa.catch(S),e}M(n,t);var i=n.prototype;return i.Xf=function(){return this.Hf.sa},i.Of=function(t){return this.Wf(this.Td.text(),t)},i.Pf=function(t){return this.Wf(this.Td.arrayBuffer(),t)},i.Bf=function(){var t=this.Td.body;return t?this.qf(t):rf(this.Pf().then(tf),this.kd)},i.Gf=function(){var t=this.Td.clone(),i=this.kd.yo(),r=i[0],e=i[1];return this.kd=r,new n(this.cn,t,e)},i.Wf=function(t,n){var i=this;n&&this.kd.wo(n);var r=T.resolve(t).catch(function(t){throw i.cn.bd(t)});return r=fu(r,this.kd),this.Hf.oa(r.then(S)),r},i.qf=function(t){var n=this,i=new Fh,r=T.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.cn.bd(t);throw i.writable.abort(r).catch(S),r});return r=fu(r,this.kd),this.Hf.oa(r.then(S)),i.readable},L(n,[{key:"jf",get:function(){return this.Td.bodyUsed}}]),n}(cf),ud="abort";function sd(t){var n=new Ov;if(t.eo)n.abort();else if(!t.uo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(ud,i),t.fo(i),t.fo(r)};n.signal.addEventListener(ud,i),t.ho(i),t.vo(r)}return n.signal}function od(t,n,i){return new T(function(r,e){if(i&&i.eo)return e(new uu);var u=function(t){o(),r(t)},s=function(){o(),e(new uu)},o=function(){t.removeEventListener(n,u),i&&i.fo(s)};t.addEventListener(n,u),i&&i.ho(s)})}var ad,cd,hd=function(){function t(){}var n=t.prototype;return n.Kf=function(t){return new rd(t).Fv},n.Ev=function(t){if(xr&&xr.sendBeacon)xr.sendBeacon(t.nv,Vo([t.Mf],{type:t.Lf}));else{var n=t.Lf?{"Content-type":t.Lf}:void 0;_u(this.Kf(new Sf({mv:pf.POST,nv:t.nv,Mf:t.Mf,Yf:n})))}},n.Sv=function(){},t}();ad=new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ed=void 0,n.Sd=function(){if(j.Te||j.Ae){var t=j.pe;if(void 0===t||Number(t)<42)return!1}return!0}(),n.Rd=void 0,n}return M(n,t),L(n,[{key:"gs",get:function(){return this.Ed||(this.Ed=new qe(Mo())),this.Ed}},{key:"Id",get:function(){return this.Sd}},{key:"Nd",get:function(){return!1}},{key:"Dd",get:function(){return Fo.Cc()}},{key:"Cd",get:function(){return{Od:Xo}}},{key:"xd",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Pd",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Bd",get:function(){return this.Rd||(this.Rd=new Nf(new hd)),this.Rd}}]),n}(he)),b=ad,function(t){t.Ld="Md",t.Ud="Fd"}(cd||(cd={}));cd.Ld,cd.Ud;var fd=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Hd=void 0,r}return M(n,t),L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}}]),n}(Eu);var vd,dd=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n}(fd),ld=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n}(Eu),_d=function(t){function n(n){var i;return(i=t.call(this,cd.Ld)||this).Wd=n,i}return M(n,t),n.prototype.Xd=function(){return new gd(this.Wd.Vd)},n}(dd),gd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return M(n,t),n}(ld),wd=function(t){function n(n){var i;return(i=t.call(this,cd.Ud)||this).Wd=n,i}return M(n,t),n.prototype.Xd=function(){return new yd(this.Wd.Vd)},n}(dd),yd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return M(n,t),n}(ld);!function(t){t.qd="zd",t.Gd="jd",t.Qd="Yd",t.Zd="Jd",t.$d="Kd",t.tl="nl",t.il="ul",t.sl="ol",t.al="Ea",t.cl="hl",t.fl="vl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(vd||(vd={}));var md=function(t){function n(){var n;return(n=t.call(this)||this).dl=[],n.Hd=void 0,n}M(n,t);var i=n.prototype;return i.ll=function(t){return this.dl[t]},i._l=function(t){return!(!t||$e(this.dl,t))&&(this.dl.push(t),this.Hd&&this.Hd.push(t.Vd),t.Eo(vd.tl,this.Ao),this.bo(new _d(t)),!0)},i.gl=function(t){if(!t)return!1;var n=this.dl.indexOf(t);return!(n<0)&&(Je(this.dl,n),this.Hd&&Je(this.Hd,n),t.No(vd.tl,this.Ao),this.bo(new wd(t)),!0)},i.wl=function(t){return $e(this.dl,t)},i.yl=function(){for(var t=this.dl,n=t.length-1;n>=0;n-=1)this.gl(t[n])},i.Sv=function(){this.yl(),this.Io()},L(n,[{key:"ml",get:function(){return this.dl}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"kl",get:function(){return this.dl.length}}]),n}(bu),kd=function(t){function n(n){var i;return(i=t.call(this,vd.tl)||this).Wd=n,i}return M(n,t),n.prototype.Xd=function(){return new pd(this.Wd.Vd)},n}(dd),pd=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return M(n,t),n}(ld),Ad=function(t){function n(){var n;return(n=t.call(this)||this).pl=void 0,n.Al=function(t){var i=t.Wd;n._l(i)},n.bl=function(t){var i=t.Wd;n.gl(i)},n}M(n,t);var i=n.prototype;return i.Tl=function(t){t.Eo(cd.Ld,this.Al),t.Eo(cd.Ud,this.bl)},i.El=function(t){t.No(cd.Ld,this.Al),t.No(cd.Ud,this.bl)},i.Sv=function(){this.pl&&this.pl.Sv(),t.prototype.Sv.call(this)},L(n,[{key:"Sl",get:function(){return this.pl},set:function(t){var n=this.pl;if(t!==n){if(n){this.El(n);for(var i=0,r=n.ml;i<r.length;i++){var e=r[i];t&&t.wl(e)||this.gl(e)}}if(this.pl=t,t){for(var u=[],s=0,o=t.ml;s<o.length;s++){var a=o[s];this._l(a),this.Rl(a)&&u.push(a)}this.Tl(t);for(var c=0;c<u.length;c++){var h=u[c];h.bo(new kd(h))}}}}}]),n}(md),bd=d.freeze||R;function Td(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ed(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Sd(t){if(tt(t)){var n={};for(var i in t)Q.call(t,i)&&(n[i]=Sd(t[i]));return n}if(J(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Sd(t[e]));return r}return t}function Rd(t,n){return t===n||!(!t||!n)&&(!(!K(t)||!K(n))&&($(t)?!!$(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Rd(t[e],n[e]))return!1;return!0}(t,n):!$(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Q.call(n,u)||!Rd(t[u],n[u]))return!1}return!0}(t,n)))}function Id(t,n){return t.constructor===n.constructor}function Nd(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Dd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Cd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Od(t){var n=Cd(t);if(w(n))throw new f("Expected a valid number.");return n}function xd(t){return"string"==typeof t?t:""}function Pd(t,n){return $(t)?function(t,n){if(!$(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Bd=[cd.Ld,cd.Ud,vd.tl];function Ld(t){var n,i=t.ml.map(function(t){return t.Vd});return i.item=function(n){var i=0|n,r=t.ll(i);return r&&r.Vd||void 0},i.addEventListener=function(t,i){n.Eo(t,i)},i.removeEventListener=function(t,i){n.No(t,i)},n=new Tu(i),t.Eo(Bd,function(t){return n.bo(t.Vd)}),i}function Md(){}function Ud(t){var n,i=[vd.al,vd.tl,vd.cl,vd.fl,vd.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Il&&t.Il.Vd},get enabled(){return t.Nl},set enabled(n){t.Nl=Dd(n)},get id(){return t.Dl},get uid(){return t.Cl},get kind(){return t.Ol},get label(){return t.xl},set label(n){t.xl=xd(n)},get language(){return t.Pl},get qualities(){return t.Bl.Vd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Bl.ml;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.Vd===o&&i.push(u)}return i}(t,J(n)?n:[n]):[]).length>0?t.Ll=i:t.Ll=void 0},get targetQuality(){if(t.Ll)return 1===t.Ll.length?t.Ll[0].Vd:t.Ll.map(function(t){return t.Vd})},addEventListener:function(t,i){var r=Pd(t,xd);n.Eo(r,i)},removeEventListener:function(t,i){var r=Pd(t,xd);n.No(r,i)}};return n=new Tu(r),t.Eo(i,function(t){return n.bo(t.Vd)}),d.defineProperty(r,"constructor",{value:Md}),r}function Fd(){}function Hd(t){var n=Ld(t);return d.defineProperty(n,"constructor",{value:Fd}),n}var Vd,Xd,Wd=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Xd=function(){return Hd(this)},i.Rl=function(t){return t.Nl},n}(Ad);function qd(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Vd.Ml:case Vd.Ul:case Vd.Fl:return n}}else if("number"==typeof t)switch(t){case 0:return Vd.Ml;case 1:return Vd.Ul;case 2:return Vd.Fl}return Vd.Ml}function zd(){}function Gd(t){var n,i=[vd.tl,vd.al,vd.qd,vd.Gd,vd.Qd,vd.Zd,vd.$d,vd.il,vd.sl],r=[Xd.Hl],e={get kind(){return t.Ol},get label(){return t.xl},set label(n){t.xl=xd(n)},get language(){return t.Pl},get id(){return t.Dl},get uid(){return t.Cl},get inBandMetadataTrackDispatchType(){return t.Vl},get mode(){return t.Xl},set mode(n){n!==Vd.Fl&&n!==Vd.Ul&&n!==Vd.Ml||(t.Xl=n)},get type(){return t.Gs},get readyState(){return Yd(t.Wl)},get cues(){return t.Xl===Vd.Ml?null:t.ql.Vd},get activeCues(){return t.Xl===Vd.Ml?null:t.zl.Vd},get src(){return t.Gl||""},addEventListener:function(t,i){var r=Pd(t,xd);n.Eo(r,i)},removeEventListener:function(t,i){var r=Pd(t,xd);n.No(r,i)}};return n=new Tu(t),t.Eo(i,function(t){return n.bo(t.Vd)}),t.Eo(r,function(t){return n.bo(t)}),d.defineProperty(e,"constructor",{value:zd}),e}function jd(){}function Qd(t){var n=Ld(t);return d.defineProperty(n,"constructor",{value:jd}),n}function Yd(t){return t}!function(t){t.Ml="disabled",t.Ul="hidden",t.Fl="showing"}(Vd||(Vd={})),function(t){t.Hl="error"}(Xd||(Xd={}));var Zd=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Xd=function(){return Qd(this)},i.Rl=function(t){return t.Xl===Vd.Fl},n}(Ad),Jd=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Ro=function(n){t.prototype.Ro.call(this,n)},i.Oo=function(n){t.prototype.Oo.call(this,n)},n}(bu),$d=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n}(Jd),Kd=function(t){function n(){return t.call(this,Wo.Wc)||this}return M(n,t),n}(Eu),tl=function(t){function n(n){var i;return(i=t.call(this,Wo.Uc)||this).currentSource=n,i}return M(n,t),n}(Eu),nl=function(){function t(){}return t.jl=function(n,i){var r=t.Ql(n,i);return r?t.Yl(r):0},t.Zl=function(){return b.xd||"default"},t.Jl=function(){return b.Pd||"unknown"},t.Ql=function(n,i){var r,e=null===(r=b.Dd)||void 0===r?void 0:r.jo(i),u=e&&JSON.parse(e);if(u&&u[n])return t.$l(u,n,i)},t.Yl=function(t){var n=t.availableBandwidth;return n||0},t.$l=function(n,i,r){if(!t.Kl(n,i))return n[i];t.t_(n,i,r)},t.t_=function(t,n,i){var r;delete t[n],null===(r=b.Dd)||void 0===r||r.Dc(i,JSON.stringify(t))},t.Kl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.n_=function(t,n,i,r){var e;return de(de({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.i_=function(n){var i=t.Zl();t.r_(i,"theoplayer-stored-network-info",n,Yt())},t.r_=function(n,i,r,e){var u,s,o=null===(u=b.Dd)||void 0===u?void 0:u.jo(i),a=o?JSON.parse(o):void 0,c=t.n_(a,n,r,e);null===(s=b.Dd)||void 0===s||s.Dc(i,JSON.stringify(c))},t.e_=function(){var n=t.Zl();return t.jl(n,"theoplayer-stored-network-info")},t}();var il,rl,el,ul,sl,ol,al="1ADD53F3";function cl(t){return{chromecast:function(t){return{appID:t&&t.appID?xd(t.appID):al}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return il.AUTO;case"manual":return il.MANUAL;case"disabled":return il.DISABLED;default:return il.MANUAL}}(t?t.strategy:void 0)}}function hl(t){var n,i=el.u_;return(n=t)&&wr(n,"mpd")&&(i=el.s_),function(t){return!!t&&wr(t,"m3u8")}(t)&&(i=el.o_),i}function fl(t){switch(t){case rl.a_:case rl.c_:return t;default:return rl.h_}}function vl(t){return!!t&&yr(t.toLowerCase(),el.s_)}function dl(t){if(!t)return!1;var n=t.toLowerCase();return yr(n,el.o_)||yr(n,el.f_)}function ll(t){return K(t)&&K(t.ssai)&&"google-dai"===t.ssai.integration}function _l(t){return K(t)&&nt(t.integration)&&"verizon-media"===t.integration}function gl(t){if(nt(t))return!t;if(_l(t))return!t.id;if(ll(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function wl(t){return Boolean(K(t)&&nt(t.src))}function yl(t){return nt(t)||wl(t)||ll(t)||_l(t)}function ml(t){if(t){if(yl(t))return gl(t);for(var n=0;n<t.length;n++){if(!gl(t[n]))return!1}return!0}return!0}function kl(){return{crossOrigin:rl.h_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function pl(){return de(de({},kl()),{src:void 0,type:el.u_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Al(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ul.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return sl.NONE;case"midroll-and-postroll":default:return sl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Dd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ul.INSECURE;case"disabled":return ul.DISABLED;case"enabled":default:return ul.ENABLED}}(t.vpaidMode)),J(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(nt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Dd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function bl(t){if(!$(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];tt(r)&&n.push(r)}return n}function Tl(t){return nt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(il||(il={})),function(t){t.h_="",t.a_="anonymous",t.c_="use-credentials"}(rl||(rl={})),function(t){t.s_="application/dash+xml",t.o_="application/vnd.apple.mpegurl",t.f_="application/x-mpegurl",t.u_="video/mp4",t.v_="application/vnd.theoplayer.hesp+json",t.d_="application/vnd.theo.hesp+json"}(el||(el={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(ul||(ul={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(sl||(sl={})),function(t){t[t.l_=0]="l_",t[t.__=1]="__",t[t.g_=2]="g_",t[t.w_=3]="w_",t[t.y_=4]="y_"}(ol||(ol={}));var El,Sl=function(t){function n(n,i){var r;return void 0===i&&(i=ol.l_),(r=t.call(this,Wo.Vc)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Eu),Rl=function(t){function n(n){var i;return(i=t.call(this,Wo.Zc)||this).currentTime=n,i}return M(n,t),n}(Eu),Il=function(t){function n(n){var i;return(i=t.call(this,Wo.Jc)||this).currentTime=n,i}return M(n,t),n}(Eu);!function(t){t.m_="canplay",t.k_="canplaythrough",t.p_="loadeddata",t.A_="loadedmetadata",t.il="readystatechange",t.b_="waiting",t.T_="playing"}(El||(El={}));var Nl,Dl=[El.m_,El.k_,El.p_,El.A_,El.il,El.b_,El.T_],Cl=function(t){function n(n,i){var r;return void 0===i&&(i=ol.__),(r=t.call(this,El.A_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Eu),Ol=function(t){function n(n){var i;return(i=t.call(this,Wo.Hc)||this).duration=n,i}return M(n,t),n}(Eu),xl=function(t){function n(n,i){var r;return(r=t.call(this,Wo.Kc)||this).currentTime=n,r.playbackRate=i,r}return M(n,t),n}(Eu),Pl=function(t){function n(n,i){var r;return(r=t.call(this,Wo.fh)||this).currentTime=n,r.currentProgramDateTime=i,r}return M(n,t),n}(Eu),Bl=function(t){function n(n){var i;return(i=t.call(this,Wo.Xc)||this).currentTime=n,i}return M(n,t),n}(Eu),Ll=function(t){function n(n,i){var r;return void 0===i&&(i=ol.g_),(r=t.call(this,El.p_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Eu),Ml=function(t){function n(n){var i;return(i=t.call(this,Wo.rh)||this).currentTime=n,i}return M(n,t),n}(Eu),Ul=function(t){function n(n){var i;return(i=t.call(this,Wo.ih)||this).currentTime=n,i}return M(n,t),n}(Eu),Fl=function(t){function n(n,i){var r;return(r=t.call(this,Wo.vh)||this).currentTime=n,r.volume=i,r}return M(n,t),n}(Eu),Hl=function(t){function n(n,i){var r;return void 0===i&&(i=ol.w_),(r=t.call(this,El.m_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Eu),Vl=function(t){function n(n,i){var r;return void 0===i&&(i=ol.y_),(r=t.call(this,El.k_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Eu),Xl=function(t){function n(n,i){var r;return(r=t.call(this,El.il)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Eu),Wl=function(t){function n(n){var i;return(i=t.call(this,Xd.Hl)||this).errorObject=n,i}return M(n,t),n.prototype.Xd=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fd);function ql(t){switch(t){case Nl.ALL:case Nl.CONTENT:return t;default:return Nl.NONE}}function zl(t){var n,i,r,e=Sd(t||{});return e.libraryLocation&&(e.libraryLocation=Rr(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=cl(e.cast),e.ads=Al(e.ads),e.analytics=bl(e.analytics),e.mutedAutoplay=ql(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=nt(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Rr(t)}catch(t){return void b.hs("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function Gl(t){return{E_:t.E_,S_:t.S_,R_:t.R_,Fo:t.Fo,I_:t.I_,N_:t.N_,D_:t.D_,C_:t.C_,Wl:t.Wl,O_:t.O_,x_:t.x_,P_:t.P_,B_:t.B_}}function jl(t,n){var i=n.B_,r=n.N_;t.B_=i,t.N_=r}function Ql(t,n,i){if(n!==i){var r=n.E_,e=n.S_,u=n.N_,s=n.D_,o=n.C_,a=n.Wl,c=n.O_,h=(n.P_,n.x_,n.B_),f=i.E_,v=i.S_,d=i.R_,l=i.I_,_=i.N_,g=i.D_,y=i.C_,m=i.Wl,k=i.O_,p=(i.P_,i.x_,i.B_);a!==ol.l_&&t.bo(new Sl(f,m)),g&&!s?t.bo(new Rl(f)):!g&&s&&t.bo(new Il(f)),m>=ol.__&&t.bo(new Cl(f,m)),v===e||w(v)&&w(e)||t.bo(new Ol(v)),y!==o&&t.bo(new xl(f,y)),f!==r&&t.bo(new Pl(f,void 0)),d&&t.bo(new Bl(f)),m>=ol.g_&&t.bo(new Ll(f,m)),k&&!c?t.bo(new Ml(f)):!k&&c&&t.bo(new Ul(f)),p===h&&_===u||t.bo(new Fl(f,p)),m>=ol.w_&&t.bo(new Hl(f,m)),m>=ol.y_&&t.bo(new Vl(f,m)),m!==a&&t.bo(new Xl(f,m)),l&&t.bo(new Wl(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Nl||(Nl={}));var Yl=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function Zl(t){var n=Pd(t,xd);return(nt(n)?[n]:n).filter(function(t){return n=t,-1!==Yl.indexOf(n);var n})}var Jl=400,$l={windowStart:.4,target:.4+.2,windowEnd:.8,maxOffset:3,targetAbrOffset:1},Kl=t_(.5,$l);function t_(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd),targetAbrOffset:i*n.targetAbrOffset}}function n_(){var t;return t="Android"===b.Rs.Is?Kl:$l,b.Rs.Ns?function(t){var n=t;b.Rs.Ns&&(n=t_((Jl+250)/1e3,n));return n}(t):t}var i_,r_=function(t){function n(){var n;return(n=t.call(this)||this).pl=void 0,n.Hd=void 0,n.L_=n_(),n.pl=void 0,n}M(n,t);var i=n.prototype;return i.Tl=function(t){t.Eo(Yl,this.Ao)},i.El=function(t){t.No(Yl,this.Ao)},i.M_=function(){return this.pl?this.pl.M_():T.resolve()},i.Sv=function(){this.Io(),this.pl&&this.El(this.pl),this.pl=void 0},L(n,[{key:"Sl",get:function(){return this.pl},set:function(t){var n=this.pl;t!==n&&(n&&this.El(n),t&&this.Tl(t),this.pl=t,this.pl&&(this.pl.U_=this.L_))}},{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=(t=this,{goLive:function(){return t.M_()},get isLive(){return t.F_},get currentServerLiveTime(){return t.H_},get currentLatency(){return t.V_},get latency(){return t.U_},set latency(n){t.U_=n},get manifest(){return t.X_},get metrics(){return t.W_},addEventListener:function(n,i){t.Eo(Zl(n),i)},removeEventListener:function(n,i){t.No(Zl(n),i)}})),this.Hd}},{key:"H_",get:function(){var t;return null===(t=this.pl)||void 0===t?void 0:t.H_}},{key:"V_",get:function(){var t;return null===(t=this.pl)||void 0===t?void 0:t.V_}},{key:"F_",get:function(){return!!this.pl&&this.pl.F_}},{key:"U_",get:function(){return this.L_},set:function(t){this.pl&&(this.pl.U_=t),this.L_=t}},{key:"X_",get:function(){var t;return null===(t=this.pl)||void 0===t?void 0:t.X_}},{key:"W_",get:function(){var t;return null===(t=this.pl)||void 0===t?void 0:t.W_}}]),n}(bu),e_=function(t){function n(n){var i;return(i=t.call(this)||this).q_=[],i.z_=!1,i.G_=new Wd,i.j_=new Wd,i.Q_=new Zd,i.Y_=new r_,i.Z_=!1,i.J_(n),n.Ro(i.Ao),i.pl=n,i.G_.Sl=n.K_,i.j_.Sl=n.tg,i.Q_.Sl=n.ng,i.Y_.Sl=n.ig,i}M(n,t);var i=n.prototype;return i.rg=function(){this.pl.rg()},i.eg=function(){this.pl.eg()},i.ug=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gu(this.q_.map(function(t){return t.ug()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sg=function(){return this.pl.sg()},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(i),t.next=3,this.pl.og(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ag=function(){return this.Sl.ag()},i.cg=function(){this.Sl.cg()},i.hg=function(){this.Sl.hg()},i.fg=function(){if(!this.z_){for(var t=0,n=this.q_;t<n.length;t++){n[t].fg()}this.z_=!0}},i.vg=function(t){this.pl.vg(t)},i.dg=function(){this.pl.dg()},i.lg=function(){this.pl.lg()},i._g=function(){this.pl._g()},i.gg=function(){return this.pl.gg()},i.wg=function(){return this.pl.wg()},i.yg=function(){for(var t=[],n=0,i=this.q_;n<i.length;n++){var r=i[n];t.push.apply(t,r.yg())}return t},i.mg=function(t){for(var n=!1,i=0,r=this.q_;i<r.length;i++){n=r[i].mg(t)||n}return n},i.bo=function(n){this.mg(n)||t.prototype.bo.call(this,n)},i.J_=function(t){this.q_.push(t)},i.kg=function(t){Ze(this.q_,t)},i.pg=function(t){if(t!==this.pl){var n=this.pl;n.dg(),n.Oo(this.Ao);var i=Gl(this),r=this.Ag,e=this.wg();this.pl=t,this.G_.Sl=t.K_,this.j_.Sl=t.tg,this.Q_.Sl=t.ng,this.Y_.Sl=t.ig,Ql(this,i,this);var u=this.Ag;u!==r&&this.bo(new tl(u)),this.wg()!==e&&this.bo(new Kd),t.Ro(this.Ao),t.vg(n)}},i.bg=function(){},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Io(),this.pl.dg(),n=0,i=this.q_;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Sv();case 7:n++,t.next=3;break;case 10:this.G_.Sv(),this.j_.Sv(),this.Q_.Sv(),this.Y_.Sv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gu(this.q_.map(function(t){return t.yl()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"K_",get:function(){return this.G_}},{key:"ng",get:function(){return this.Q_}},{key:"tg",get:function(){return this.j_}},{key:"Tg",get:function(){return this.pl.Tg}},{key:"Eg",get:function(){return this.pl.Eg},set:function(t){this.pl.Eg=t}},{key:"Ag",get:function(){return this.pl.Ag}},{key:"E_",get:function(){return this.pl.E_},set:function(t){this.pl.E_=t}},{key:"S_",get:function(){return this.pl.S_}},{key:"Sg",get:function(){return this.pl.Sg}},{key:"R_",get:function(){return this.pl.R_}},{key:"Fo",get:function(){return this.pl.Fo}},{key:"I_",get:function(){return this.pl.I_}},{key:"ig",get:function(){return this.Y_}},{key:"Rg",get:function(){return this.pl.Rg}},{key:"W_",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Ig,i+=a.Ng,r+=a.Dg,e+=a.Cg,u+=a.Og,s.amountOfBufferedAudioSegments+=a.xg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.xg.amountOfBufferedVideoSegments}return{Ig:n,Ng:i,Dg:r,Cg:e,Og:u,xg:s}}(this.q_.map(function(t){return t.W_}))}},{key:"N_",get:function(){return this.pl.N_},set:function(t){this.pl.N_=t}},{key:"Pg",get:function(){return this.pl.Pg}},{key:"D_",get:function(){return this.pl.D_}},{key:"C_",get:function(){return this.pl.C_},set:function(t){this.pl.C_=t}},{key:"Bg",get:function(){return this.pl.Bg}},{key:"Lg",get:function(){return this.pl.Lg},set:function(t){this.pl.Lg=t}},{key:"Wl",get:function(){return this.pl.Wl}},{key:"Mg",get:function(){return this.pl.Mg}},{key:"O_",get:function(){return this.pl.O_}},{key:"x_",get:function(){return this.pl.x_}},{key:"P_",get:function(){return this.pl.P_}},{key:"B_",get:function(){return this.pl.B_},set:function(t){this.pl.B_=t}},{key:"Sl",get:function(){return this.pl},set:function(t){this.pg(t)}}]),n}($d),u_=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return M(n,t),L(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(bo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(i_||(i_={}));var s_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,f.captureStackTrace&&f.captureStackTrace(rn(u),u.constructor),u}return M(n,t),L(n,[{key:"name",get:function(){return"MediaError"}}]),n}(en);function o_(t){Td(t,"MEDIA_ERR_ABORTED",i_.ABORTED),Td(t,"MEDIA_ERR_NETWORK",i_.NETWORK),Td(t,"MEDIA_ERR_DECODE",i_.DECODE),Td(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",i_.SRC_NOT_SUPPORTED),Td(t,"MEDIA_ERR_ENCRYPTED",i_.ENCRYPTED)}function a_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new s_(i_.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new s_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return i_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return i_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return i_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return i_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return i_.NETWORK;if(i===n.ErrorCategory.SOURCE)return i_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return i_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return i_.ENCRYPTED;if(i===n.ErrorCategory.AD)return i_.ADVERTISEMENT_ERROR;return i_.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function c_(t){switch(t){case i_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case i_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case i_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case i_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case i_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case i_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case i_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}o_(s_),o_(s_.prototype);var h_,f_=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i._l=function(n){return t.prototype._l.call(this,n)},i.Xd=function(){return Hd(this)},n}(md);!function(t){t.gv="audio",t.wv="video",t.ze="text",t.yv="image",t.ev="unknown"}(h_||(h_={}));var v_=function(){function t(){this.Ug=[],this.Hd=void 0}var n=t.prototype;return n.Fg=function(t){this.Ug.push(t),this.Hd&&this.Hd.push(t.Vd)},n.ll=function(t){return this.Ug[t]},n.Hg=function(t){return J(t)?Ke(this.Ug,t):$e(this.Ug,t)},L(t,[{key:"ml",get:function(){return this.Ug}},{key:"kl",get:function(){return this.Ug.length}},{key:"Vd",get:function(){var t,n;return this.Hd||(this.Hd=((n=(t=this).ml.map(function(t){return t.Vd})).item=function(n){var i=0|n,r=t.ll(i);return r&&r.Vd||void 0},n)),this.Hd}}]),t}(),d_=function(t){function n(n){var i;return(i=t.call(this,vd.al)||this).Wd=n,i}return M(n,t),n.prototype.Xd=function(){return new l_(this.Wd.Vd)},n}(dd),l_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return M(n,t),n}(ld),__=0;function g_(){return __++}var w_=0;var y_=0;var m_=0;var k_=function(t){function n(n){var i;return(i=t.call(this)||this).Gs=h_.gv,i.Vg=!1,i.Hd=void 0,i.Xg=n,i.Wg=g_(),i.qg=m_+++"",i.zg=n.label,i.Ug=new v_,i.Gg(),i}M(n,t);var i=n.prototype;return i.jg=function(t){this.Nl=t},i.Gg=function(){this.Nl=this.Qg},L(n,[{key:"Il",get:function(){}},{key:"Nl",get:function(){return this.Vg},set:function(t){this.Vg!==t&&(this.Vg=t,this.Qg=t,this.bo(new kd(this)))}},{key:"Qg",get:function(){return!!this.Xg.enabled},set:function(t){this.Xg.enabled=t}},{key:"Vd",get:function(){return this.Hd||(this.Hd=Ud(this)),this.Hd}},{key:"Dl",get:function(){return this.qg}},{key:"Cl",get:function(){return this.Wg}},{key:"Ol",get:function(){return this.Xg.kind}},{key:"xl",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.bo(new d_(this)))}},{key:"Pl",get:function(){return this.Xg.language}},{key:"Xl",get:function(){return this.Nl?"enabled":"disabled"}},{key:"Yg",get:function(){return this.Xg}},{key:"Bl",get:function(){return this.Ug}},{key:"Ll",get:function(){},set:function(t){}}]),n}(bu),p_=0;var A_,b_,T_,E_=function(t){function n(n){var i;return(i=t.call(this)||this).Gs=h_.wv,i.Vg=!1,i.Hd=void 0,i.Xg=n,i.Wg=g_(),i.qg=p_+++"",i.Ug=new v_,i.zg=n.label,i.Gg(),i}M(n,t);var i=n.prototype;return i.Gg=function(){this.Nl=this.Qg},i.jg=function(t){this.Nl=t},L(n,[{key:"Il",get:function(){}},{key:"Nl",get:function(){return this.Vg},set:function(t){this.Vg!==t&&(this.Vg=t,this.Qg=t,this.bo(new kd(this)))}},{key:"Qg",get:function(){return!!this.Xg.selected},set:function(t){this.Xg.selected=t}},{key:"Vd",get:function(){return this.Hd||(this.Hd=Ud(this)),this.Hd}},{key:"Dl",get:function(){return this.qg}},{key:"Cl",get:function(){return this.Wg}},{key:"Ol",get:function(){return"main"}},{key:"xl",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.bo(new d_(this)))}},{key:"Pl",get:function(){return this.Xg.language}},{key:"Xl",get:function(){return this.Nl?"enabled":"disabled"}},{key:"Yg",get:function(){return this.Xg}},{key:"Bl",get:function(){return this.Ug}},{key:"Ll",get:function(){},set:function(t){}}]),n}(bu),S_=function(t){function n(n){var i;return(i=t.call(this,Wo.Oc)||this).Rg=n,i}return M(n,t),n}(Eu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(A_||(A_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(b_||(b_={})),function(t){t.Zg="cue",t.Jg="region",t.$g="stylesheet"}(T_||(T_={}));var R_,I_,N_={"line-left":"start",center:"middle","line-right":"end"},D_={start:"line-left",middle:"center",end:"line-right"};function C_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function O_(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:g(i),w(e)?r:e;var i,r,e}!function(t){t.Kg="tw",t.nw="iw",t.al="Ea"}(R_||(R_={})),function(t){t.Kg="enter",t.nw="exit",t.al="update"}(I_||(I_={}));var x_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).rw=i,r}return M(n,t),n}(dd),P_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return M(n,t),n}(ld);function B_(t){var n,i=[R_.Kg,R_.nw,R_.al],r={get track(){return t.Wd.Vd},get id(){return t.Dl},get startTime(){return t.ew},get endTime(){return t.uw},get content(){return t.sw},addEventListener:function(t,i){var r=Pd(t,xd);n.Eo(r,i)},removeEventListener:function(t,i){var r=Pd(t,xd);n.No(r,i)}};return n=new Tu(r),t.Eo(i,function(t){return n.bo(t.Vd)}),r}function L_(){}function M_(t){return Ed(B_(t),{get align(){return t.ow},get line(){return t.aw},get lineAlign(){return t.cw},get position(){return t.hw},get positionAlign(){return t.fw},get region(){return t.vw?t.vw.Vd:null},get size(){return t.Jo},get snapToLines(){return t.dw},get text(){return t.sw},get vertical(){return t.lw}})}var U_=.02;function F_(t,n){return qt(t.ew,n.ew,U_)&&qt(t.uw,n.uw,U_)&&t.Dl===n.Dl}var H_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Hd=void 0,s._w=void 0,s.gw=!1,s.ww="",s.yw=-1,s.mw=n,s.kw=i,s.pw=r,s.Aw=Boolean(e),s.qg=u||(y_++).toString(),s}M(n,t);var i=n.prototype;return i.Xd=function(){return B_(this)},i.bw=function(t){return this===t||Id(this,t)&&F_(this,t)},i.Sv=function(){this.Io()},L(n,[{key:"ew",get:function(){return this.mw},set:function(t){this.mw=t}},{key:"uw",get:function(){return this.kw},set:function(t){this.kw=t}},{key:"Dl",get:function(){return this.qg},set:function(t){this.qg=t}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"Tw",get:function(){return this.gw},set:function(t){this.gw=t}},{key:"Wd",get:function(){return this._w},set:function(t){this._w=t}},{key:"sw",get:function(){return this.pw},set:function(t){this.pw=t}},{key:"Ew",get:function(){return this.ww},set:function(t){this.ww=t}},{key:"Sw",get:function(){return this.Aw},set:function(t){this.Aw=t}}]),n}(bu);function V_(t,n){return t.sw===n.sw&&t.aw===n.aw&&t.cw===n.cw&&t.hw===n.hw&&t.fw===n.fw&&t.vw===n.vw&&t.dw===n.dw&&t.Jo===n.Jo&&t.ow===n.ow&&t.lw===n.lw}var X_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).aw="auto",s.cw="start",s.hw="auto",s.fw="auto",s.vw=void 0,s.dw=!0,s.Jo=100,s.ow="center",s.lw="",s}return M(n,t),n.prototype.bw=function(n){return this===n||Id(this,n)&&t.prototype.bw.call(this,n)&&V_(this,n)},L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=M_(this)),this.Hd}},{key:"Gs",get:function(){return T_.Zg}}]),n}(H_);function W_(t){var n="number"==typeof t.aw?t.aw:g(t.aw);return w(n)||t.dw||!(n<0||n>100)?w(n)?t.dw?-1:100:n:100}function q_(t){return O_(t.hw,t.ow)}function z_(t){return C_(t.fw,t.ow)}function G_(t){var n=100,i=z_(t),r=q_(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.Jo<n?t.Jo:n}function j_(t){return{get id(){return t.Dl},get identifier(){return t.Dl},get lines(){return t.Rw},get regionAnchorX(){return t.Iw},get regionAnchorY(){return t.Nw},get scrollValue(){return t.Dw},get viewportAnchorX(){return t.Cw},get viewportAnchorY(){return t.Ow},get width(){return t.ts}}}var Q_,Y_=function(){function t(t,n,i,r,e,u,s,o){this.Dl=t,this.ts=n,this.Rw=i,this.Iw=r,this.Nw=e,this.Cw=u,this.Ow=s,this.Dw=o}return L(t,[{key:"Vd",get:function(){return this.Hd||(this.Hd=j_(this)),this.Hd}},{key:"Gs",get:function(){return T_.Jg}}]),t}();!function(t){t[t.xw=0]="xw",t[t.Pw=1]="Pw",t[t.Bw=-1]="Bw"}(Q_||(Q_={}));var Z_=function(t,n){return(0|t)-(0|n)},J_=function(t,n){return t===n?Q_.xw:t<n?Q_.Bw:t>n?Q_.Pw:w(t)?w(n)?Q_.xw:Q_.Pw:Q_.Bw};function $_(t,n,i){return qt(t,n,i)?Q_.xw:J_(t,n)}var K_=function(t,n){return zt(t,n)?Q_.xw:J_(t,n)};var tg=function(){function t(){}var n=t.prototype;return n.Lw=function(t){return this.Mw()*t},n.Uw=function(t){return this.Fw(t)>0},n.Hw=function(t){return this.Fw(t)>=0},n.Vw=function(t,n){return this.Ww(t).Xw(n)},n.bw=function(t){return 0===this.Fw(t)},n.qw=function(t){return this.Fw(t)<0},n.Xw=function(t){return this.Fw(t)<=0},n.zw=function(){return this.Gw()?this.jw():this},n.Qw=function(t){return this.Fg(t.jw())},n.Ww=function(t){return this.Qw(t).zw()},t}();function ng(t,n){return t.Yw()?n.Yw()?Q_.xw:Q_.Pw:n.Yw()?Q_.Bw:t.Zw()?n.Zw()&&t.Gw()===n.Gw()?Q_.xw:t.Gw()?Q_.Bw:Q_.Pw:n.Gw()?Q_.Pw:Q_.Bw}var ig=function(){function t(t,n){this.Jw=t,this.$w=n}t.Kw=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.ty=function(n){return n.unsigned?new t(n,Vt.UZERO):new t(n,n.isNegative()?Vt.NEG_ONE:Vt.ZERO)},t.ny=function(n,i){if(w(n))return i?t.iy:t.ey;if(i){if(n<0)return t.iy;if(n>=3.402823669209385e38)return t.uy}else{if(n<=-1.7014118346046923e38)return t.sy;if(n+1>=1.7014118346046923e38)return t.oy}return n<0?t.ny(-n,i).jw():t.Kw(Vt.fromNumber(n%0x10000000000000000),Vt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.ay=function(){return this.$w.unsigned},n.hy=function(){return this.Jw.isZero()&&this.$w.isZero()},n.Gw=function(){return this.$w.isNegative()},n.vy=function(){return this.ay()?t.Kw(this.Jw,this.$w,!1):this},n.ly=function(){return this.ay()?this:t.Kw(this.Jw,this.$w,!0)},n._y=function(){return this.Jw},n.Mw=function(){return this.Gw()?-this.jw().Mw():0x10000000000000000*this.$w.toNumber()+this.Jw.toUnsigned().toNumber()},n.gy=function(){return this.Jw.toInt()},n.bw=function(t){return(this.ay()===t.ay()||this.$w.getHighBits()>>>31!=1||t.$w.getHighBits()>>>31!=1)&&(this.$w.toUnsigned().eq(t.$w.toUnsigned())&&this.Jw.toUnsigned().eq(t.Jw.toUnsigned()))},n.Fw=function(t){if(this.bw(t))return Q_.xw;var n=this.Gw(),i=t.Gw();if(n&&!i)return Q_.Bw;if(!n&&i)return Q_.Pw;if(!this.ay())return this.Qw(t).Gw()?Q_.Bw:Q_.Pw;var r=this.ly(),e=t.ly(),u=e.$w.comp(r.$w);return u>0||0===u&&e.Jw.gt(r.Jw)?Q_.Bw:Q_.Pw},n.qw=function(t){return this.Fw(t)<0},n.Xw=function(t){return this.Fw(t)<=0},n.wy=function(t){return this.Fw(t)>0},n.yy=function(t){return this.Fw(t)>=0},n.my=function(){return new t(this.Jw.not(),this.$w.not())},n.ky=function(n){return new t(this.Jw.and(n.Jw),this.$w.and(n.$w))},n.py=function(n){return new t(this.Jw.or(n.Jw),this.$w.or(n.$w))},n.Ay=function(n){var i=127&n;return 0===i?this:i<64?t.Kw(this.Jw.shl(i),this.$w.shl(i).or(this.Jw.shru(64-i)),this.ay()):t.Kw(Vt.ZERO,this.Jw.shl(i-64),this.ay())},n.by=function(n){var i=127&n;return 0===i?this:i<64?t.Kw(this.Jw.shru(i).or(this.$w.shl(64-i)),this.$w.shr(i),this.ay()):t.Kw(this.$w.shr(i-64),this.$w.isNegative()?Vt.NEG_ONE:Vt.ZERO,this.ay())},n.Ty=function(n){var i=127&n;return 0===i?this:i<64?t.Kw(this.Jw.shru(i).or(this.$w.shl(64-i)),this.$w.shru(i),this.ay()):64===i?t.Kw(this.$w,Vt.ZERO,this.ay()):t.Kw(this.$w.shru(i-64),Vt.ZERO,this.ay())},n.Fg=function(n){var i=this.$w.high>>>16,r=65535&this.$w.high,e=this.$w.low>>>16,u=65535&this.$w.low,s=this.Jw.high>>>16,o=65535&this.Jw.high,a=this.Jw.low>>>16,c=65535&this.Jw.low,h=n.$w.high>>>16,f=65535&n.$w.high,v=n.$w.low>>>16,d=65535&n.$w.low,l=n.Jw.high>>>16,_=65535&n.Jw.high,g=n.Jw.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.Jw.low))>>>16,T&=65535,A+=(b+=a+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var E=this.ay(),S=Vt.fromBits(m<<16|k,w<<16|y,E),R=Vt.fromBits(b<<16|T,p<<16|A,E);return t.Kw(R,S,E)},n.Qw=function(t){return this.Fg(t.jw())},n.jw=function(){return this.my().Fg(t.Ey)},n.Sy=function(n){if(this.hy()||n.hy())return this.ay()?t.iy:t.ey;if(this.Gw())return n.Gw()?this.jw().Sy(n.jw()):this.jw().Sy(n).jw();if(n.Gw())return this.Sy(n.jw()).jw();if(this.$w.isZero()&&0===this.Jw.high&&n.$w.isZero()&&0===n.Jw.high)return t.ty(this.Jw.multiply(n.Jw));var i=Vt.fromBits(4294967295,0,!0),r=this.Jw.and(i),e=this.Jw.shru(32),u=this.$w.and(i),s=this.$w.shru(32),o=n.Jw.and(i),a=n.Jw.shru(32),c=n.$w.and(i),h=n.$w.shru(32),f=Vt.UZERO,v=Vt.UZERO,d=Vt.UZERO,l=Vt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=Vt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Vt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Kw(_,g,this.ay())},n.Ry=function(n){var i,r,e=n;if(e.hy())throw new RangeError("division by zero");if(this.hy())return this.ay()?[t.iy,t.iy]:[t.ey,t.ey];if(this.ay()){if(e.ay()||(e=e.ly()),e.wy(this))return[t.iy,this];if(e.wy(this.Ty(1)))return[r=t.Iy,i=this.Qw(e)];r=t.iy}else{if(this.bw(t.sy)){if(e.bw(t.Ey)||e.bw(t.Ny))return[t.sy,t.ey];if(e.bw(t.sy))return[t.Ey,t.ey];var u=this.by(1).Dy(e).Ay(1);return u.bw(t.ey)?r=e.Gw()?t.Ey:t.Ny:(i=this.Qw(e.Sy(u)),r=u.Fg(i.Dy(e))),[r,i=this.Qw(e.Sy(r))]}if(e.bw(t.sy))return this.ay()?[t.iy,this]:[t.ey,this];if(this.Gw()){if(e.Gw())return this.jw().Ry(e.jw());var s=this.jw().Ry(e);return r=s[0],i=s[1],[r.jw(),i.jw()]}if(e.Gw()){var o=this.Ry(e.jw());return r=o[0],i=o[1],[r.jw(),i.jw()]}r=t.ey}for(i=this;i.yy(e);){for(var a=l.max(1,l.floor(i.Mw()/e.Mw())),c=l.ceil(l.log(a)/l.LN2),h=c<=48?1:l.pow(2,c-48),f=t.ny(a),v=f.Sy(e);v.Gw()||v.wy(i);)a-=h,v=(f=t.ny(a,this.ay())).Sy(e);f.hy()&&(f=t.Ey),r=r.Fg(f),i=i.Qw(v)}return[r,i]},n.Dy=function(t){return this.Ry(t)[0]},n.Cy=function(t){return this.Ry(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.hy())return"0";if(this.Gw()){if(this.bw(t.sy)){var r=t.ny(i),e=this.Dy(r),u=e.Sy(r).Qw(this);return e.toString(i)+u.gy().toString(i)}return"-"+this.jw().toString(i)}for(var s=t.ny(l.pow(i,6),this.ay()),o=this,a="";;){var c=o.Dy(s),h=(o.Qw(c.Sy(s)).gy()>>>0).toString(i);if((o=c).hy())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();ig.ey=ig.ty(Vt.ZERO),ig.iy=ig.ty(Vt.UZERO),ig.Ey=ig.ty(Vt.ONE),ig.Iy=ig.ty(Vt.UONE),ig.Ny=ig.ty(Vt.NEG_ONE),ig.oy=ig.Kw(Vt.NEG_ONE,Vt.MAX_VALUE,!1),ig.uy=ig.Kw(Vt.MAX_UNSIGNED_VALUE,Vt.MAX_UNSIGNED_VALUE,!0),ig.sy=ig.Kw(Vt.ZERO,Vt.MIN_VALUE,!1);var rg=function(){function t(t,n){void 0===n&&(n=1),this.Oy=t,this.xy=n}t.Py=function(n){return new t(l.ceil(n.Oy),n.xy)},t.By=function(n){return new t(l.floor(n.Oy),n.xy)},t.Ly=function(t,n){return t.Hw(n)?t:n},t.My=function(t,n){return t.Xw(n)?t:n};var n=t.prototype;return n.Fg=function(n){return this.xy>=n.xy?new t(this.Oy+n.Uy(this.xy).Oy,this.xy):new t(this.Uy(n.xy).Oy+n.Oy,n.xy)},n.Uw=function(t){return t.qw(this)},n.Hw=function(t){return t.Xw(this)},n.Ww=function(n){return this.xy>=n.xy?new t(l.abs(this.Oy-n.Uy(this.xy).Oy),this.xy):n.Ww(this)},n.Vw=function(t,n){return this.Ww(t).Xw(n)},n.Fw=function(t){return i=t,(n=this).xy>=i.xy?K_(n.Oy,i.Uy(n.xy).Oy):K_(n.Uy(i.xy).Oy,i.Oy);var n,i},n.bw=function(t){return 0===this.Fw(t)},n.qw=function(t){return this.Fw(t)<0},n.Xw=function(t){return this.Fw(t)<=0},n.Uy=function(n){return new t(this.Oy*(n/this.xy),n)},n.Qw=function(n){return this.xy>=n.xy?new t(this.Oy-n.Uy(this.xy).Oy,this.xy):new t(this.Uy(n.xy).Oy-n.Oy,n.xy)},n.Fy=function(n){return new t(this.Oy*n,this.xy)},L(t,[{key:"Zw",get:function(){return!isFinite(this.Oy)}},{key:"Hy",get:function(){return this.Oy/this.xy}}]),t}();rg.Vy=new rg(1/6,1),rg.ey=new rg(0),rg.Xy=new rg(1/0),rg.Wy=1e6;var eg=function(t){function n(n,i){var r;return(r=t.call(this)||this).ru=n.toSigned(),r.xy=i>>>0,r}M(n,t),n.qy=function(t,i){return void 0===i&&(i=1e6),n.ny(t*i,i)},n.ny=function(t,i){return w(t)?n.zy:t===1/0?n.Gy:t===-1/0?n.jy:new n(Vt.fromNumber(t),i)},n.ty=function(t,i){return new n(t,i)},n.Qy=function(t){return n.qy(t.Hy,1e6)},n.Yy=function(t){return new n(Vt.fromNumber(t.getTime()),1e3)},n.Ly=function(t,n){return t.Hw(n)?t:n},n.My=function(t,n){return t.Xw(n)?t:n},n.Zy=function(t,i,r){return n.Ly(i,n.My(r,t))};var i=n.prototype;return i.Gw=function(){return this.ru.isNegative()},i.hy=function(){return 0!==this.xy&&this.ru.isZero()},i.Zw=function(){return 0===this.xy&&!this.ru.isZero()},i.Yw=function(){return 0===this.xy&&this.ru.isZero()},i.Mw=function(){if(0===this.xy)return this.ru.isZero()?NaN:this.ru.isNegative()?-1/0:1/0;var t=this.ru.divide(this.xy),n=this.ru.subtract(t.multiply(this.xy));return t.toNumber()+n.toNumber()/this.xy},i._y=function(){if(0===this.xy)throw new f("Failed to convert timestamp");return this.ru},i.Jy=function(){return new Date(0===this.xy?NaN:this.Uy(1e3).ru.toNumber())},i.$y=function(){return new rg(0===this.xy?this.Mw():this.ru.toNumber(),this.xy)},i.Uy=function(t,i){void 0===i&&(i=og.Ky);var r=this.xy;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t.Ry(n),e=r[0],u=r[1];if(u.hy())return e;if(i===og.Ky)return u.Gw()?e.Qw(ig.Ey):e;if(i===og.tm)return u.Gw()?e:e.Fg(ig.Ey);var s=u.Sy(ig.ny(2));return s.Gw()?s.jw().qw(n)?e:e.Qw(ig.Ey):s.qw(n)?e:e.Fg(ig.Ey)}(ig.ty(this.ru).Sy(ig.ny(t/e)),ig.ny(r/e),i)._y(),t)},i.Fw=function(t){if(this===t)return Q_.xw;if(0===this.xy||0===t.xy)return ng(this,t);if(this.hy())return t.hy()?Q_.xw:t.Gw()?Q_.Pw:Q_.Bw;if(t.hy())return this.Gw()?Q_.Bw:Q_.Pw;var n=l.min(this.xy,t.xy),i=this.Uy(n,og.nm).ru,r=t.Uy(n,og.nm).ru;return i.compare(r)},i.jw=function(){return 0===this.xy?ug(this):new n(this.ru.negate(),this.xy)},i.Fg=function(t){if(0===this.xy||0===t.xy)return sg(this,t);if(this.hy())return t;if(t.hy())return this;var i=l.max(this.xy,t.xy),r=this.Uy(i,og.nm),e=t.Uy(i,og.nm);return new n(r.ru.add(e.ru),i)},i.Sy=function(t){if(this.Yw()||w(t))return n.zy;if(this.Zw()||!isFinite(t)){if(this.hy()||0===t)return n.zy;var i=this.Gw()?n.jy:n.Gy;return t<0?i.jw():i}return this.hy()?this:new n(0===t?Vt.ZERO:this.ru.multiply(t),this.xy)},i.Dy=function(t){if(this.Yw()||w(t))return n.zy;if(this.Zw())return isFinite(t)?0===t?1/t<0?this.jw():this:t<0?this.jw():this:n.zy;if(!isFinite(t))return new n(Vt.ZERO,this.xy);if(this.hy())return 0===t?n.zy:new n(Vt.ZERO,this.xy);if(0===t){var i=this.Gw()?n.jy:n.Gy;return 1/t<0?i.jw():i}return new n(this.ru.divide(t),this.xy)},i.im=function(){return[this.ru.low,this.ru.high,this.xy]},n}(tg);function ug(t){return t.Yw()?t:t.Gw()?eg.Gy:eg.jy}function sg(t,n){return t.Yw()||n.Yw()?eg.zy:t.Zw()&&n.Zw()?t.Gw()===n.Gw()?t:eg.zy:t.Zw()?t:n}eg.ey=new eg(Vt.ZERO,1e6),eg.zy=new eg(Vt.ZERO,0),eg.Gy=new eg(Vt.ONE,0),eg.jy=new eg(Vt.NEG_ONE,0);var og,ag=function(t){function n(n,i){var r;return(r=t.call(this)||this).ru=BigInt.asIntN(64,n),r.xy=i>>>0,r}M(n,t),n.qy=function(t,i){return void 0===i&&(i=1e6),n.ny(t*i,i)},n.ny=function(t,i){return w(t)?n.zy:t===1/0?n.Gy:t===-1/0?n.jy:new n(BigInt(l.floor(t)),i)},n.ty=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Qy=function(t){return n.qy(t.Hy,1e6)},n.Yy=function(t){return n.ny(t.getTime(),1e3)},n.Ly=function(t,n){return t.Hw(n)?t:n},n.My=function(t,n){return t.Xw(n)?t:n},n.Zy=function(t,i,r){return n.Ly(i,n.My(r,t))};var i=n.prototype;return i.Gw=function(){return this.ru<BigInt(0)},i.hy=function(){return 0!==this.xy&&this.ru===BigInt(0)},i.Zw=function(){return 0===this.xy&&this.ru!==BigInt(0)},i.Yw=function(){return 0===this.xy&&this.ru===BigInt(0)},i.Mw=function(){if(0===this.xy)return this.ru===BigInt(0)?NaN:this.ru<BigInt(0)?-1/0:1/0;var t=this.ru/BigInt(this.xy),n=this.ru-t*BigInt(this.xy);return Number(t)+Number(n)/this.xy},i._y=function(){if(0===this.xy)throw new f("Failed to convert timestamp");return this.rm()},i.rm=function(){var t=this.ru&BigInt(4294967295),n=this.ru>>BigInt(32)&BigInt(4294967295);return Vt.fromBits(Number(t),Number(n))},i.Jy=function(){return new Date(0===this.xy?NaN:Number(this.Uy(1e3).ru))},i.$y=function(){return new rg(0===this.xy?this.Mw():Number(this.ru),this.xy)},i.Uy=function(t,i){void 0===i&&(i=og.Ky);var r=this.xy;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===og.Ky)return e<BigInt(0)?r-BigInt(1):r;if(i===og.tm)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.ru*BigInt(t/e),BigInt(r/e),i),t)},i.Fw=function(t){if(this===t)return Q_.xw;if(0===this.xy||0===t.xy)return ng(this,t);if(this.hy())return t.hy()?Q_.xw:t.Gw()?Q_.Pw:Q_.Bw;if(t.hy())return this.Gw()?Q_.Bw:Q_.Pw;var n=l.min(this.xy,t.xy),i=this.Uy(n,og.nm).ru,r=t.Uy(n,og.nm).ru;return i>r?Q_.Pw:i<r?Q_.Bw:Q_.xw},i.jw=function(){return 0===this.xy?cg(this):new n(-this.ru,this.xy)},i.Fg=function(t){if(0===this.xy||0===t.xy)return hg(this,t);if(this.hy())return t;if(t.hy())return this;var i=l.max(this.xy,t.xy),r=this.Uy(i,og.nm),e=t.Uy(i,og.nm);return new n(r.ru+e.ru,i)},i.Sy=function(t){if(this.Yw()||w(t))return n.zy;if(this.Zw()||!isFinite(t)){if(this.hy()||0===t)return n.zy;var i=this.Gw()?n.jy:n.Gy;return t<0?i.jw():i}return this.hy()?this:new n(0===t?BigInt(0):this.ru*BigInt(t),this.xy)},i.Dy=function(t){if(this.Yw()||w(t))return n.zy;if(this.Zw())return isFinite(t)?0===t?1/t<0?this.jw():this:t<0?this.jw():this:n.zy;if(!isFinite(t))return new n(BigInt(0),this.xy);if(this.hy())return 0===t?n.zy:new n(BigInt(0),this.xy);if(0===t){var i=this.Gw()?n.jy:n.Gy;return 1/t<0?i.jw():i}return new n(this.ru/BigInt(t),this.xy)},i.im=function(){var t=this.rm();return[t.low,t.high,this.xy]},L(n,null,[{key:"ey",get:function(){return n.um||(n.um=new n(BigInt(0),1e6)),n.um}},{key:"zy",get:function(){return n.sm||(n.sm=new n(BigInt(0),0)),n.sm}},{key:"Gy",get:function(){return n.om||(n.om=new n(BigInt(1),0)),n.om}},{key:"jy",get:function(){return n.am||(n.am=new n(BigInt(-1),0)),n.am}}]),n}(tg);function cg(t){return t.Yw()?t:t.Gw()?ag.Gy:ag.jy}function hg(t,n){return t.Yw()||n.Yw()?ag.zy:t.Zw()&&n.Zw()?t.Gw()===n.Gw()?t:ag.zy:t.Zw()?t:n}ag.um=void 0,ag.sm=void 0,ag.om=void 0,ag.am=void 0,function(t){t[t.Ky=0]="Ky",t[t.tm=1]="tm",t[t.nm=2]="nm"}(og||(og={}));var fg=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?ag:eg;function vg(t,n){return t.Fw(n)}function dg(t){return fg.ty(Vt.fromBits(t[0],t[1],!1),t[2])}var lg=9e4,_g=l.pow(2,33),gg=fg.ny(_g,lg),wg=gg.Dy(2);function yg(t){return null!=t&&!t.Yw()}function mg(t,n){return t.Zw()||n.Zw()?fg.Ly(t,n):Ag(t,n).Uw(fg.ey)?t:n}function kg(t,n){var i=t.Qw(n);return i.qw(fg.ey)&&(i=i.Fg(gg)),i}function pg(t,n){var i=t.Fg(n);return i.Hw(gg)&&(i=i.Qw(gg)),i}function Ag(t,n){var i=t.Qw(n);return t.Zw()||n.Zw()?i:(i.Hw(wg)?i=i.Qw(gg):i.qw(wg.jw())&&(i=i.Fg(gg)),i)}function bg(t,n){if(t||n)return t?n?fg.My(t,n):t:n}function Tg(t,n){if(t||n)return t?n?fg.Ly(t,n):t:n}var Eg,Sg,Rg,Ig,Ng={cm:0,hm:1/0,fm:0},Dg=6,Cg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Og=[" ","\t","\n","\f","\r"],xg=/^\d*$/,Pg=/.*[0-9]+.*/,Bg=/^[\d.-]+$/,Lg=/(^\.|\.$)/,Mg=/(\D\.|\.\D)/;function Ug(t,n){void 0===n&&(n=Ng);var i={ql:[],vm:[],dm:[]},r=Fg(t),e=new qs;if(Yg(r),Hg(r,function(t){return"\n"!==t},e),e.ia>=r.length)return i;(e.Ko(1),"\n"!==r.charAt(e.ia))?qg(Vg(r,e,!1,!0,i,n),i):e.Ko(1);for(Hg(r,function(t){return"\n"===t},e);e.ia<r.length;){qg(Vg(r,e,!1,!1,i,n),i),Hg(r,function(t){return"\n"===t},e)}return i}function Fg(t){var n=gr(t,"\0"," "),i=gr(n,"\r\n","\n");return gr(i,"\r","\n")}function Hg(t,n,i){for(var r=i.ia;i.ia<t.length&&n(t.charAt(i.ia));)i.Ko(1);return t.substring(r,i.ia)}function Vg(t,n,i,r,e,u){for(var s,o=0,a=n.ia,c="",h=!1,f=!1,v=null,d=null,l=null;!h;)if(s=Hg(t,function(t){return"\n"!==t},n),o++,n.ia>=t.length?h=!0:n.Ko(1),wr(s,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.ta(a);break}f=!0,a=n.ia,v=new X_(0,0,"",!1,c);try{zg(s,e.vm,v,u),c=""}catch(t){b.hs(t),v=null}}else{if(""===s)break;r&&yr(s,"X-TIMESTAMP-MAP")&&(e.lm=Xg(s)),r||2!==o||i||(kr("STYLE",c.replace(/ /g,""))?(d={Gs:T_.$g},c=""):kr("REGION",c.replace(/ /g,""))&&(l=new Y_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=s,a=n.ia}if(v)return v.sw=c,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&wr(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":sw(o,n);break;case"WIDTH":cw(o,n);break;case"LINES":aw(o,n);break;case"REGIONANCHOR":var a=uw(o);a&&(n.Iw=a[0],n.Nw=a[1]);break;case"VIEWPORTANCHOR":var c=uw(o);c&&(n.Cw=c[0],n.Ow=c[1]);break;case"SCROLL":ow(o,n)}}}}(c,l),l;return null}function Xg(t){var n,i,r=t.split("=")[1].trim().split(","),e=Wg(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Wg(r[0].trim(),"LOCAL")?r[0]:r[1];return{_m:(i=Number(e.split(/:(.*)/)[1].trim())||0,fg.ny(i,lg)),gm:fg.qy(null!==(n=Qg(u.split(/:(.*)/)[1].trim(),new qs))&&void 0!==n?n:0)}}function Wg(t,n){return yr(t,n)}function qg(t,n){t&&function(t){return t.Gs===T_.Zg}(t)?n.ql.push(t):t&&function(t){return t.Gs===T_.Jg}(t)?n.vm.push(t):t&&function(t){return t.Gs===T_.$g}(t)&&n.dm.push(t)}function zg(t,n,i,r){var e=new qs;if(Zg(t,e),i.ew=Gg(Qg(t,e),r),Zg(t,e),"--\x3e"!==t.substring(e.ia,e.ia+3))throw f("Something went wrong with parsing a WebVTT Cue");e.Ko(3),Zg(t,e),i.uw=Gg(Qg(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&wr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":nw(a,n,i);break;case"VERTICAL":rw(a,n);break;case"D":ew(a,n);break;case"LINE":case"L":Kg(a,n);break;case"POSITION":case"T":tw(a,n);break;case"SIZE":case"S":iw(a,n);break;case"ALIGN":case"A":$g(a,n)}}}}(t.substring(e.ia,t.length),i,n)}function Gg(t,n){return t+n.cm}function jg(t){return/^[0-9]$/.test(t)}function Qg(t,n){var i,r,e,u=gr(t,",","."),s=!1;if(n.ia>=u.length||!jg(u.charAt(n.ia)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Hg(u,jg,n),a=_(o,10);if((o.length>2||a>59)&&(s=!0),n.ia>=u.length||":"!==u.charAt(n.ia))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ko(1);var c=Hg(u,jg,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=_(c,10);if(s||n.ia<u.length&&":"===u.charAt(n.ia)){if(n.ia>=u.length||":"!==u.charAt(n.ia))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ko(1);var v=Hg(u,jg,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=_(v,10)}else i=0,r=a,e=h;if(n.ia>=u.length||"."!==u.charAt(n.ia))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ko(1);var d=Hg(u,jg,n),l=_(d,10);if(h>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Yg(t){if(t.length<Dg)return!1;for(var n=0;n<Cg.length;n++){if(yr(t,Cg[n]))return!0}return!1}function Zg(t,n){for(;n.ia<t.length&&(i=t.charAt(n.ia),$e(Og,i));)n.Ko(1);var i}function Jg(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function $g(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ow=i;break;case"middle":n.ow="center"}}function Kg(t,n){var i=t,r="";if(wr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Pg.test(i)){var e;if(mr(i,"%")){var u=Jg(i);if(null===u)return;e=u}else{if(!Bg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Mg.test(t)||Lg.test(t))return;if(e=g(t),w(e))return}switch(n.aw=e,n.dw=mr(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.cw=r;break;case"middle":n.cw="center"}}}function tw(t,n){var i=t,r="";wr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Jg(i);if(null!==e)switch(n.hw=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.fw=r;break;case"start":n.fw="line-left";break;case"middle":n.fw="center";break;case"end":n.fw="line-right"}}function nw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Dl===t)return void(n.vw=i[r])}function iw(t,n){var i=Jg(t);null!==i&&(n.Jo=i)}function rw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.lw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.lw="lr";break;default:n.lw=""}}function ew(t,n){"VERTICAL"===t.toUpperCase()?n.lw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.lw="lr")}function uw(t){if(t.indexOf(",")>=0){var n=Jg(t.substring(0,t.indexOf(","))),i=Jg(t.substring(t.indexOf(",")+1,t.length));return[Wt(n||0,0,100),Wt(i||100,0,100)]}return null}function sw(t,n){n.Dl=t}function ow(t,n){"up"===t.toLowerCase()&&(n.Dw="up")}function aw(t,n){xg.test(t)&&(n.Rw=_(t))}function cw(t,n){var i=Jg(t);null!==i&&(n.ts=i)}!function(t){t.wm="moov",t.ym="mvhd",t.mm="trak",t.km="tkhd",t.pm="mdia",t.Am="mdhd",t.bm="hdlr",t.Tm="minf",t.Em="stbl",t.Sm="stsd",t.Rm="stsc",t.Im="mvex",t.Nm="trex",t.Dm="avc1",t.Cm="avcC",t.Om="hev1",t.xm="hvc1",t.Pm="hvcC",t.Bm="pasp",t.Lm="mp4a",t.Mm="esds",t.Um="wvtt",t.Fm="vttC",t.Hm="vlab",t.Vm="enca",t.Xm="encv",t.Wm="moof",t.qm="mfhd",t.zm="traf",t.Gm="tfhd",t.jm="trun",t.Qm="tfdt",t.Ym="mdat",t.Zm="pssh",t.Jm="emsg",t.$m="sidx",t.Km="styp",t.tk="ftyp",t.nk="sinf",t.ik="frma"}(Eg||(Eg={})),function(t){t.wv="vide",t.gv="soun",t.rk="hint",t.ek="meta",t.uk="auxv"}(Sg||(Sg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Rg||(Rg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Ig||(Ig={}));var hw=function(){function t(t,n){this.pu=t,this.sk=n}var n=t.prototype;return n.ak=function(){return os(this.pu,this.sk)},n.ck=function(){return ds(this.pu,this.sk)},n.hk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.ia,i);return n.Ko(2),r}(this.pu,this.sk)},n.fk=function(){return _s(this.pu,this.sk)},n.vk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.ia,i);return n.Ko(4),r}(this.pu,this.sk)},n.dk=function(){return ws(this.pu,this.sk)},n.lk=function(t){return cs(this.pu,this.sk,t)},n._k=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(_s(t,n));return r}(this.pu,this.sk,t)},n.gk=function(t){return ks(this.pu,this.sk,t)},n.wk=function(){return xs(this.pu,this.sk)},n.yk=function(t){this.sk.Ko(t)},n.na=function(){return new t(this.pu,this.sk.na())},t}();function fw(t,n){return t.Gs===n}function vw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(fw(r,n))return r}}function dw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];fw(e,n)&&i.push(e)}return i}var lw=function(t){function n(n,i){var r;return(r=t.call(this)||this).mk=n,r.kk=i,r}return M(n,t),L(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(un),_w=function(){function t(){}return t.pk=function(n){var i=n.pu,r=n.sk,e=t.Ak(i,r,!1);if(!e.bk)throw new lw(r.ia,e.vu);return e.vu},t.Ak=function(n,i,r){for(var e=[];i.ia<n.byteLength;){var u=t.Tk(n,i,r);if(!u.bk)return{bk:!1,vu:e};e.push(u.Ek)}return{bk:!0,vu:e}},t.Sk=function(n,i){var r=t.Tk(n,i,!1);if(!r.bk)throw new lw(i.ia);return r.Ek},t.Rk=function(n,i){for(var r=n.pu,e=n.sk;e.ia<r.byteLength;){var u=t.Tk(r,e,!1);if(!u.bk)return;if(u.Ek.Gs===i)return u.Ek}},t.Tk=function(n,i,r){var e=i.ia,u=t.Ik(n,i);if(!u.bk)return u;var s=u.Nk,o=s.Jo;if(0===o){if(r)return i.ta(e),{bk:!1,Dk:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.ta(e),{bk:!1,Dk:c}}var h={Gs:s.Gs,ia:e,pu:new hw(Ms(n,e,a),new qs(s.Ck))};return i.ta(a),{bk:!0,Ek:h}},t.Ik=function(t,n){var i=n.ia;if(!fs(t,n,8))return{bk:!1,Dk:n.ia+8};var r=_s(t,n),e=ks(t,n,4);if(1===r){if(!fs(t,n,8)){var u=n.ia+8;return n.ta(i),{bk:!1,Dk:u}}r=ws(t,n).toNumber()}if("uuid"===e){if(!fs(t,n,16)){var s=n.ia+16;return n.ta(i),{bk:!1,Dk:s}}e=ks(t,n,16)}return{bk:!0,Nk:{Gs:e,Jo:r,Ck:n.ia-i}}},t.Ok=function(t,n,i){var r=t.pu,e=t.sk,u=Ls(Fs(r),e.ia,r.byteLength);return i&&(u=Ws(u)),e.Ko(u.byteLength),{Gs:n,pu:u}},t.xk=function(n,i,r){var e=mw(n.fk());return{Gs:i,Pk:e.version,Bk:e.flags,pu:t.Ok(n,i,r).pu}},t}();function gw(t,n){var i=ww(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function ww(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Gs===n)return r.pu}}function yw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Gs===n&&i.push(e.pu)}return i}function mw(t){return{version:t>>24,flags:new es(16777215&t)}}var kw=function(){function t(){}return t.Lk=function(n){for(var i=[],r=_w.pk(new hw(n,new qs)),e=0;e<r.length;e++){var u=r[e],s=t.Mk(u);s&&i.push(s)}return i},t.Uk=function(t){return _w.Ak(t,new qs,!1).vu.some(function(t){return t.Gs===Eg.Wm||t.Gs===Eg.Km})},t.Fk=function(n){return yw(_w.pk(new hw(n,new qs)),Eg.Zm).map(t.Hk)},t.Mk=function(n){switch(n.Gs){case Eg.wm:return t.Vk(n.pu);case Eg.Wm:return t.Xk(n.pu,n.ia);case Eg.Ym:return t.Wk(n.pu);case Eg.$m:return t.qk(n.pu);case Eg.Jm:return t.zk(n.pu)}},t.Vk=function(n){var i=_w.pk(n),r=gw(i,Eg.ym),e=yw(i,Eg.mm),u=ww(i,Eg.Im),s=t.Gk(r),o=e.map(t.jk),a=u?t.Qk(u):void 0;return{Gs:Eg.wm,Nk:s,Yk:o,Zk:a}},t.Gk=function(t){var n=mw(t.fk()),i=n.version,r=n.flags,e=1===i?t.dk():t.fk(),u=1===i?t.dk():t.fk(),s=t.fk(),o=1===i?t.dk():t.fk(),a=t.fk(),c=t.ck()>>8;t.yk(2),t.yk(8);var h=t._k(9);t.yk(24);var f=t.fk();return{Gs:Eg.ym,Pk:i,Bk:r,Jk:e,$k:u,xy:s,S_:o,Kk:a,B_:c,tp:h,np:f}},t.jk=function(n){var i=_w.pk(n),r=gw(i,Eg.km),e=gw(i,Eg.pm),u=t.ip(r),s=t.rp(e);return{Gs:Eg.mm,Nk:u,ep:s}},t.ip=function(t){var n=mw(t.fk()),i=n.version,r=n.flags,e=1===i?t.dk():t.fk(),u=1===i?t.dk():t.fk(),s=t.fk();t.yk(4);var o=1===i?t.dk():t.fk();t.yk(8);var a=t.hk(),c=t.hk(),h=t.hk()/l.pow(2,8);t.yk(2);var f=t._k(9),v=t.fk()/l.pow(2,16),d=t.fk()/l.pow(2,16);return{Gs:Eg.km,sp:r.ea(1),op:r.ea(2),ap:r.ea(4),Jk:e,$k:u,cp:s,S_:o,hp:a,fp:c,B_:h,tp:f,ts:v,vp:d}},t.rp=function(n){var i=_w.pk(n),r=gw(i,Eg.Am),e=gw(i,Eg.bm),u=gw(i,Eg.Tm),s=t.dp(r),o=t.lp(e),a=t._p(u);return{Gs:Eg.pm,Nk:s,gp:o,wp:a}},t.dp=function(t){var n=mw(t.fk()),i=n.version,r=n.flags,e=1===i?t.dk():t.fk(),u=1===i?t.dk():t.fk(),s=t.fk(),o=1===i?t.dk():t.fk();t.ck();return t.yk(2),{Gs:Eg.Am,Pk:i,Bk:r,Jk:e,$k:u,xy:s,S_:o}},t.lp=function(t){var n=mw(t.fk()),i=n.version,r=n.flags;t.yk(4);var e=t.gk(4);t.yk(12);var u=t.wk();return{Gs:Eg.bm,Pk:i,Bk:r,yp:e,tu:u}},t._p=function(n){var i=gw(_w.pk(n),Eg.Em),r=t.mp(i);return{Gs:Eg.Tm,kp:r}},t.mp=function(n){var i=gw(_w.pk(n),Eg.Sm),r=t.pp(i);return{Gs:Eg.Em,Ap:r}},t.pp=function(n){for(var i=mw(n.fk()),r=i.version,e=i.flags,u=(n.fk(),[]),s=_w.pk(n),o=0;o<s.length;o++){var a=s[o],c=t.bp(a.pu,a.Gs);c&&u.push(c)}return{Gs:Eg.Sm,Pk:r,Bk:e,Tp:u}},t.bp=function(n,i){var r=t.Ep(n,i);return r||((r=t.Sp(n,i))||(i===Eg.Um?t.Rp(n):void 0))},t.Ep=function(n,i){return i===Eg.Lm?t.Ip(n):i===Eg.Vm?t.Np(n):void 0},t.Sp=function(n,i){return i===Eg.Dm?t.Dp(n):i===Eg.Om||i===Eg.xm?t.Cp(n,i):i===Eg.Xm?t.Op(n):void 0},t.xp=function(t,n){return t.yk(6),{Gs:n,Pp:t.ck()}},t.Bp=function(n,i){var r=t.xp(n,i);n.yk(8);var e=n.ck(),u=n.ck();n.yk(2),n.yk(2);var s=n.fk()>>>16;return de(de({},r),{Lp:e,Mp:u,Up:s})},t.Fp=function(n,i){var r=t.xp(n,i);n.yk(2),n.yk(2),n.yk(12);var e=n.ck(),u=n.ck(),s=n.fk(),o=n.fk();n.yk(4);var a=n.ck();n.yk(32);var c=n.ck();return n.yk(2),de(de({},r),{ts:e,vp:u,Hp:s,Vp:o,Xp:a,Wp:c})},t.Ip=function(n){var i=t.Bp(n,Eg.Lm),r=gw(_w.pk(n),Eg.Mm),e=t.qp(r);return de(de({},i),{zp:e})},t.Rp=function(n){var i=t.xp(n,Eg.Um),r=_w.pk(n),e=gw(r,Eg.Fm),u=t.Gp(e),s=ww(r,Eg.Hm),o=s?t.jp(s):s;return de(de({},i),{Qp:u,Yp:o})},t.Gp=function(t){return{Gs:Eg.Fm,Zp:t.wk()}},t.jp=function(t){return{Gs:Eg.Hm,xl:t.wk()}},t.qp=function(t){return _w.xk(t,Eg.Mm,!0)},t.Dp=function(n){var i=t.Fp(n,Eg.Dm),r=_w.pk(n),e=gw(r,Eg.Cm),u=ww(r,Eg.Bm),s=t.Jp(e),o=u?t.$p(u):void 0;return de(de({},i),{Kp:s,tA:o})},t.Cp=function(n,i){var r=t.Fp(n,i),e=gw(_w.pk(n),Eg.Pm),u=t.nA(e);return de(de({},r),{iA:u})},t.Op=function(n){var i=n.na(),r=t.Fp(n,Eg.Xm),e=gw(_w.pk(n),Eg.nk),u=t.rA(e),s=t.Sp(i,u.uA.eA);return de(de({},r),{sA:s,oA:u})},t.Np=function(n){var i=n.na(),r=t.Bp(n,Eg.Vm),e=gw(_w.pk(n),Eg.nk),u=t.rA(e),s=t.Ep(i,u.uA.eA);return de(de({},r),{sA:s,oA:u})},t.rA=function(n){var i=gw(_w.pk(n),Eg.ik),r=t.aA(i);return{Gs:Eg.nk,uA:r}},t.aA=function(t){var n=t.gk(4);return{Gs:Eg.ik,eA:n}},t.Jp=function(t){return _w.Ok(t,Eg.Cm,!0)},t.nA=function(t){return _w.Ok(t,Eg.Pm,!0)},t.$p=function(t){var n=t.fk(),i=t.fk();return{Gs:Eg.Bm,cA:n,hA:i}},t.Qk=function(n){var i=yw(_w.pk(n),Eg.Nm).map(t.fA);return{Gs:Eg.Im,Yk:i}},t.fA=function(t){var n=mw(t.fk()),i=n.version,r=n.flags,e=t.fk(),u=t.fk(),s=t.fk(),o=t.fk(),a=t.fk();return{Gs:Eg.Nm,Pk:i,Bk:r,cp:e,vA:u,dA:s,lA:o,_A:a}},t.Xk=function(n,i){var r=_w.pk(n),e=gw(r,Eg.qm),u=yw(r,Eg.zm),s=t.gA(e),o=u.map(t.wA);return{Gs:Eg.Wm,yA:i,Nk:s,Yk:o}},t.gA=function(t){var n=mw(t.fk()),i=n.version,r=n.flags,e=t.fk();return{Gs:Eg.qm,Pk:i,Bk:r,mA:e}},t.wA=function(n){var i=_w.pk(n),r=gw(i,Eg.Gm),e=yw(i,Eg.jm),u=ww(i,Eg.Qm),s=t.kA(r),o=e.map(function(n){return t.pA(n,s)}),a=u?t.AA(u):void 0;return{Gs:Eg.zm,Nk:s,bA:o,TA:a}},t.kA=function(t){var n=mw(t.fk()),i=n.version,r=n.flags,e=t.fk(),u=r.ea(Rg.BASE_DATA_OFFSET_PRESENT)?t.dk():void 0,s=r.ea(Rg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.fk():void 0,o=r.ea(Rg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.fk():void 0,a=r.ea(Rg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.fk():void 0,c=r.ea(Rg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.fk():void 0;return{Gs:Eg.Gm,Pk:i,Bk:r,cp:e,EA:u,SA:s,dA:o,lA:a,_A:c}},t.pA=function(n,i){for(var r=mw(n.fk()),e=r.version,u=r.flags,s=n.fk(),o=u.ea(Ig.DATA_OFFSET_PRESENT)?n.vk():void 0,a=u.ea(Ig.FIRST_SAMPLE_FLAGS_PRESENT)?n.fk():void 0,c=[],h=0;h<s;h++){var f=t.RA(n,u,e,i);0===h&&void 0!==a&&(f.Bk=a),c.push(f)}return{Gs:Eg.jm,Pk:e,Bk:u,IA:s,yA:o,NA:a,DA:c}},t.RA=function(t,n,i,r){return{S_:n.ea(Ig.SAMPLE_DURATION_PRESENT)?t.fk():r.dA,Jo:n.ea(Ig.SAMPLE_SIZE_PRESENT)?t.fk():r.lA,Bk:n.ea(Ig.SAMPLE_FLAGS_PRESENT)?t.fk():r._A,CA:n.ea(Ig.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.fk():t.vk():void 0}},t.zk=function(t){var n=t.pu,i=t.sk,r=mw(_s(n,i)),e=r.version,u=r.flags;if(1===e){var s=_s(n,i),o=ws(n,i),a=_s(n,i),c=_s(n,i),h=ms(n,i),f=ms(n,i),v=Xs(Fs(n),i.ia,n.byteLength);return i.Ko(v.byteLength),{Gs:Eg.Jm,Pk:e,Bk:u,OA:h,ru:f,xy:s,xA:o,PA:a,Dl:c,BA:v}}var d=ms(n,i),l=ms(n,i),_=_s(n,i),g=_s(n,i),w=_s(n,i),y=_s(n,i),m=Xs(Fs(n),i.ia,n.byteLength);return i.Ko(m.byteLength),{Gs:Eg.Jm,Bk:u,Pk:e,OA:d,ru:l,xy:_,LA:g,PA:w,Dl:y,BA:m}},t.Wk=function(t){return _w.Ok(t,Eg.Ym,!1)},t.Hk=function(n){var i=n.pu,r=n.sk,e=Ws(Fs(i)).buffer,u=mw(_s(i,r)),s=u.version,o=u.flags,a=t.MA(i,r),c=[];if(s>0)for(var h=_s(i,r),f=0;f<h;f++){var v=cs(i,r,16);c.push(v)}var d=_s(i,r),l=new y(e,r.ia,d);return r.Ko(i.byteLength),{Gs:Eg.Zm,Pk:s,Bk:o,UA:a,FA:c,HA:d,pu:l,VA:e}},t.MA=function(t,n){for(var i="",r=0;r<4;r++){var e=os(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=os(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=os(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=os(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=os(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.qk=function(t){var n,i,r=t.pu,e=t.sk,u=mw(_s(r,e)),s=u.version,o=u.flags,a=_s(r,e),c=_s(r,e);0===s?(n=Vt.fromBits(_s(r,e),0,!0),i=Vt.fromBits(_s(r,e),0,!0)):(n=ws(r,e),i=ws(r,e)),e.Ko(2);for(var h=ds(r,e),f=[],v=0;v<h;v+=1){var d=_s(r,e),l=d>>31&1,_=2147483647&d,g=_s(r,e),w=_s(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({XA:l,WA:_,S_:g,qA:y,zA:m,GA:k})}return{Gs:Eg.$m,Pk:s,Bk:o,jA:a,xy:c,QA:n,YA:i,ZA:h,JA:f}},t.AA=function(t){var n,i=t.pu,r=t.sk,e=mw(_s(i,r)),u=e.version,s=e.flags;return n=0===u?Vt.fromBits(_s(i,r),0,!0):ws(i,r),{Gs:Eg.Qm,Pk:u,Bk:s,TA:n}},t}();function pw(t){return t&&"fu"in t?t.fu:t}var Aw=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).$A=u,a.KA=s,a.nb=o||void 0,a}return M(n,t),n.prototype.bw=function(n){return this===n||!!Id(this,n)&&(!!t.prototype.bw.call(this,n)&&(!!Rd(this.ib,n.ib)&&(!!Rd(this.vm,n.vm)&&(this.rb&&n.rb?!!this.rb.Je(n.rb)&&(this.sw&&n.sw?this.sw.Je(n.sw):this.sw===n.sw):this.rb===n.rb))))},L(n,[{key:"ib",get:function(){return this.$A}},{key:"vm",get:function(){return this.KA}},{key:"rb",get:function(){return this.nb}},{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=Ed(B_(t=this),{get styles(){return t.ib},get regions(){return t.vm},get metadata(){return pw(t.rb)},get content(){return pw(t.sw)}})),this.Hd}}]),n}(H_),bw=function(){function t(t,n,i){this.eb=t,this.ub=n,tn(i)?this._f=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i._u(u)}return i}(0,0,i):this._f=i}return L(t,[{key:"sb",get:function(){return this._f.$e(!0)}},{key:"ew",get:function(){return this.eb}},{key:"uw",get:function(){return this.ub}}]),t}();var Tw="http://www.w3.org/XML/1998/namespace";function Ew(t,n,i,r){var e=t.cu(i,n);return 0===e.length&&(e=t.su(r+":"+n)),e}function Sw(t,n){return function(t,n){var i=t.vu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.vu)}return r}(t,function(t){return t.au===n})}function Rw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Iw(t,n){for(var i=t.mu,r={},e=0;e<i.length;e++)r[Rw(i[e].tu,n)]=i[e].ru;return r}var Nw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Dw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Cw="http://www.w3.org/ns/ttml";function Ow(t,n,i){return void 0===i&&(i=Ng),function(t,n,i){var r=[],e=b.Ye(t);if(!e)return r;var u=e.Au;if("tt"!==u.Ke)return r;var s=u&&u.cu(Cw,"head")[0],o=u&&u.cu(Cw,"body")[0],a=["ebutts","tts","xml"];if(!o||!s)return r;for(var c=function(t,n){for(var i={},r=t.cu(Cw,"styling")[0],e=r&&r.cu(Cw,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.lu(Tw,"id");i[o]=Iw(s,n)}return i}(s,a),h=function(t,n){var i=Sd(t),r=Lw(n.du("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var s=u[e],o=Lw(i[s].extent);if(o){var a=Pw(o[0],r[0]),c=Pw(o[1],r[1]);i[s].extent=a+" "+c}var h=Lw(i[s].origin);if(h){var f=Pw(h[0],r[0]),v=Pw(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.cu(Cw,"layout")[0],e=r&&r.cu(Cw,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.lu(Tw,"id");if(o){i[o]=Iw(s,n);var a=Fw(s,n);for(var c in a)Q.call(a,c)&&(i[o][c]=a[c])}}return i}(s,a),u),f=s.cu(Cw,"metadata")[0],v=function t(n,i,r,e){var u,s;var o=i;var a;var c=r;var h=[];var f=[];if(tn(n)){o=null!==(u=Uw(n.du("begin"),e))&&void 0!==u?u:o,a=Uw(n.du("dur"),0),c=null!==(s=Uw(n.du("end"),e))&&void 0!==s?s:void 0!==a?o+a:c;for(var v=n.ou,d=0;d<v.length;d++)("body"===n.Ke||"div"===n.Ke)&&v[d].We>1||(h=h.concat(t(v[d],o,c,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.ew,u.uw)}r.sort(J_);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(Je(r,o+1),o--,s=r.length);return r}(o,c,h);for(var _=0;_<l.length-1;_++){var g=Mw(l[_],l[_+1],h);if(g.length<=0&&Hw(n)){var w=n.$e(!1);f.push(new bw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.$e(!1);g.forEach(function(n){return t.hu(n.sb)}),f.push(new bw(l[_],l[_+1],t))}()}return f}(o,i.cm,i.hm,i.fm),l=0;l<v.length;l++){var _=v[l],g=xw(h,_);r.push(new Aw(_.ew,_.uw,_.sb,!1,c,g,f))}return r}(t,0,i)}function xw(t,n){for(var i=function t(n){var i=[];var r;if(tn(n)){(r=n.du("region"))&&i.push(r);for(var e=n.ou,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.sb),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Pw(t,n){var i=Bw(t),r=Bw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return w(e)||w(u)?t:e/u*100+"%"}return t}function Bw(t){return mr(t,"px")?"px":mr(t,"em")?"em":mr(t,"c")?"c":mr(t,"%")?"%":void 0}function Lw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Mw(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].ew,s=i[e].uw;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}function Uw(t,n){if(t){if(Nw.test(t)){var i=Nw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if(Dw.test(t)){var o=Dw.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a-n}}}function Fw(t,n){for(var i={},r=t.su("style")||[],e=0;e<r.length;e++){var u=Iw(r[e],n);for(var s in u)Q.call(u,s)&&(i[s]=u[s])}return i}function Hw(t){if(tn(t)){var n=t.Ke.toUpperCase(),i=Boolean(t.du("smpte:backgroundImage"));return"BR"===n||i}return t.We===Jt.ze}function Vw(t){var n=function(t){var n=b.Ye(t);if(n)return n.Au}(t);return"tt"===(null==n?void 0:n.Ke)}var Xw,Ww=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i._l=function(n){return t.prototype._l.call(this,n)},i.gl=function(n){var i=t.prototype.gl.call(this,n);return i&&(n.Xl=Vd.Ml),i},i.Xd=function(){return Qd(this)},n}(md),qw=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Yk=new Ww,n.ob=function(t){t.Wd.Xl!==Vd.Ml?n.ab(t.Wd):n.cb(t.Wd)},n}M(n,t);var i=n.prototype;return i._l=function(t){t.Eo(vd.tl,this.ob),this.Yk._l(t)},i.gl=function(t){t.No(vd.tl,this.ob),t.Xl=Vd.Ml,this.Yk.gl(t)},i.ab=function(t){},i.cb=function(t){},i.hb=function(){for(var t=0,n=this.Yk.ml;t<n.length;t++){var i=n[t];i.No(vd.tl,this.ob),i.Sv()}},i.yl=function(){return this.hb(),this.Yk.yl(),T.resolve()},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),t.next=3,this.yl();case 3:this.Yk.Sv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(bu);!function(t){t.fb="subtitles",t.vb="captions",t.lb="descriptions",t._b="chapters",t.ek="metadata",t.gb="thumbnails"}(Xw||(Xw={}));var zw=[Xw.fb,Xw.vb,Xw.lb,Xw._b,Xw.ek,Xw.gb];function Gw(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&$e(zw,t)}(n)?n:n?Xw.ek:Xw.fb}var jw,Qw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return M(n,t),n}(bo);function Yw(t){return t instanceof Df}function Zw(t){return wr(t,jw.wb)}function Jw(t){return t.some($w)}function $w(t){return wr(t,jw.yb)||wr(t,jw.Um)}function Kw(t,n){return so(t)&&Jw(n)}function ty(t,n){return!!t&&(so(t)?function(t){return t.some(Zw)}(n)||Jw(n):wr(t,uo.APPLICATION_TTML_XML)||wr(t,uo.TEXT_VTT)||wr(t,uo.IMAGE_JPEG))}function ny(t,n){return t===Xw.gb||t===Xw.ek&&n===Xw.gb}function iy(t,n,i,r){for(var e=0,u=t.ql.ml;e<u.length;e++){var s=u[e];if(s.ew>i)break;n<=s.uw&&r.push(s)}}function ry(t,n){return Z_(t.Cl,n.Cl)}function ey(t,i){var r=i,e=0;if(Yw(t)&&t.name===If.Pv)r=t.Kf.nv;else if(t instanceof Of){var u=t.Fv;if(r=u.tv,0===(e=u.Qf))return new Qw(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Qw(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function uy(t){switch(t){case b_.WEBVTT:return"WebVTT";case b_.SRT:return"SRT";case b_.TTML:return"TTML";default:return""}}function sy(t){return Yg(Fg(t))?b_.WEBVTT:Vw(t)?b_.TTML:b_.SRT}!function(t){t.yb="vtt",t.Um="wvtt",t.wb="stpp"}(jw||(jw={}));var oy=function(t){function n(n){var i;return(i=t.call(this,Xd.Hl)||this).errorObject=n,i}return M(n,t),n.prototype.Xd=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fd),ay=function(t){function i(n,i){var r;return(r=t.call(this)||this).mb=new eu,r.kb=n,r.pb=i,r}M(i,t);var r=i.prototype;return r.Ab=function(t){if(t.src){var n=t.kind||Xw.fb,i=this.kb.bb(n,t.label,t.srclang,t.default);return i.Gl=Rr(t.src),this._l(i),i}},r.Tb=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.Wl=A_.LOADING,e=new Sf({nv:i.Gl,Zf:qo.ze,mv:pf.GET,mo:r}),t.prev=2,t.next=5,this.pb.Kf(e);case 5:return o=t.sent,s=o.Qf,t.next=9,o.Of();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),au(t.t0),i.Wl=A_.ERROR,i.bo(new oy(ey(t.t0,i.Gl))),t.abrupt("return");case 18:for(t.prev=18,a=sy(u),i.Gs=a,c=[],a===b_.WEBVTT||a===b_.SRT?(h=Ug(u),c=h.ql):a===b_.TTML&&(c=Ow(u)),f=0,v=c;f<v.length;f++)d=v[f],i.Eb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),au(t.t1),i.Wl=A_.ERROR,l=uy(i.Gs),i.bo(new oy(new Qw(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.Gl,s,t.t1))),t.abrupt("return");case 33:i.Wl=A_.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ab=function(t){$e(this.Yk.ml,t)&&t.Wl===A_.NONE&&this.Tb(t,this.mb.mo).catch(cu)},r.ba=function(){},r.yl=function(){var n=T.coroutine(ve.mark(function n(){var i,r,e;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.mb._o(),this.mb=new eu,i=0,r=this.Yk.ml;i<r.length;i++)e=r[i],this.kb.Sb(e);return n.next=5,t.prototype.yl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(qw);function cy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ol===n&&r.Rb)return r}}function hy(t,n){fy(cy(t.ml,n))}function fy(t){void 0!==t&&(t.Xl=Vd.Fl)}function vy(t,n){fy(cy(t.ml,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ol===n)return r}}(t.ml,n))}function dy(t){for(var n=0;n<zw.length;n++){var i=zw[n];i===Xw._b?vy(t,i):hy(t,i)}}var ly=function(t){function n(){return t.call(this,Wo.nh)||this}return M(n,t),n}(Eu),_y=function(){function t(t){var n=this;this.Ib=[],this.Nb=void 0,this.kd=new eu,this.Dn=function(){return 0===n.Ib.length?n.Db?gy(n.Db,n.kd.mo).then(n.Cb,n.Cb):n.Cb():n.Ib.shift()().then(n.Dn)},this.Cb=function(){if(0!==n.Ib.length)return n.Dn();n.Nb=void 0},this.Db=t}var n=t.prototype;return n.Ob=function(t,n){var i=this;return new T(function(r){var e=new eu;e.wo(i.kd.mo),n&&e.wo(n);var u=function(){e.co()};i.Ib.push(function(){var n=gy(t,e.mo);return r(n),n.then(u,u)}),i.Nb||(i.Nb=i.Dn())})},n._o=function(){return this.xb(!0)},n.Sv=function(){return this.Db=void 0,this.xb(!1)},n.xb=function(t){var n=this.Nb;return this.kd._o(),t&&(this.kd=new eu),T.resolve(n)},t}();function gy(t,n){return new T(function(i){return i(t(n))})}var wy=function(t){function n(n){var i;return(i=t.call(this,Wo.Lc)||this).errorObject=n,i}return M(n,t),L(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Eu);function yy(t,n){var i={};for(var r in t)d.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var e=0;for(r=d.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&d.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}var my,ky="titanium",py="conax",Ay="ezdrm",by="irdeto",Ty="vudrm",Ey="verimatrix",Sy="keyos",Ry="drmtoday",Iy="expressplay",Ny="azure",Dy="xstream",Cy="vimond",Oy="axinom",xy="uplynk",Py="comcast",By="custom";function Ly(t){return Z(t.token&&t.deviceId)}function My(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&Z(i.PreAuthorization)}function Uy(t){var n=t;return Ly(n)&&""!==n.token&&""!==n.deviceId&&!My(n)}!function(t){t.Pb=!1,t.Bb=!1,t.Lb=!1,t.Mb=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Ub=!1}(my||(my={}));var Fy,Hy=function(){function t(t,n,i){this.Fb=t,this.va=n,this.Hb=i}return t.prototype.Vb=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Hb.build(t))},L(t,[{key:"Xb",get:function(){return this.Fb}},{key:"Ha",get:function(){return this.va}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Fy||(Fy={}));var Vy=function(){function t(){this.Wb=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.qb(t,i,r)){case Fy.FAILED:throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Fy.OVERRIDDEN:var e=em(i);b.hs("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Fy.SUCCEEDED:em(i);0}},i.qb=function(t,n,i){var r=em(n);if(!r)return Fy.FAILED;for(var e=Fy.SUCCEEDED,u=0,s=this.Wb.slice();u<s.length;u++){var o=s[u];o.Xb===t&&o.Ha===r&&(e=Fy.OVERRIDDEN,Ze(this.Wb,o))}return this.Wb.push(new Hy(t,r,i)),e},i.zb=function(t,n){return void 0!==this.Gb(t,n)},i.jb=function(t,n,i){var r=this.Gb(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Vb(i)},i.Gb=function(t,n){for(var i=0,r=this.Wb;i<r.length;i++){var e=r[i];if(e.Xb===t&&(!n||e.Ha===n))return e}},t}();Vy.Qb=new Vy;var Xy={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Wy(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function qy(t){return t&&void 0!==t.licenseAcquisitionURL}var zy=qy,Gy=qy;function jy(t){if(!t)return!0;if(Jy(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Wy(n)&&Wy(i)&&Wy(r)&&Wy(e)&&Wy(u)}function Qy(t){var n=Uy(t),i=function(t){var n,i=t;return My(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!Ly(i)}(t);return(!n||!i)&&(n||i)}function Yy(t){return t.integration===by}function Zy(t){var n=t;if(!n)return!1;if(jy(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Jy(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!zy(r))return!1;if(e&&!Gy(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Vy.Qb.zb(n.integration))return!0;switch(n.integration){case ky:if(!function(t){return t.integration===ky&&($y(t)||Ky(t))}(t))return!1;break;case Ty:if(!tm(t))return!1;break;case Ey:if(!function(t){return t.integration===Ey}(t))return!1;break;case by:if(!Yy(t))return!1;break;case py:if(!Qy(t))return!1;break;case Ay:if(!function(t){return t.integration===Ay}(t))return!1;break;case Sy:if(!Jy(t))return!1;break;case Ry:if(!function(t){var n=t;return n.integration===Ry&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Iy:if(!function(t){return t.integration===Iy}(t))return!1;break;case Dy:if(!nm(t))return!1;break;case Cy:if(!function(t){return t.integration===Cy}(t))return!1;break;case Oy:if(!im(t))return!1;break;case Ny:if(!function(t){var n=t;return n.integration===Ny&&void 0!==n.token}(t))return!1;break;case xy:if(!function(t){return t.integration===xy}(t))return!1;break;case Py:if(!function(t){var n=t;return n&&Z(n.releasePid)&&Z(n.accountId)&&Z(n.token)}(t))return!1;break;case By:return!0;default:return!1}}return!0}function Jy(t){return t.integration===Sy}function $y(t){return void 0!==t.authToken}function Ky(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function tm(t){var n=t;return n.integration===Ty&&void 0!==n.token}function nm(t){var n=t;return n&&n.integration===Dy&&nt(n.ticketAcquisitionURL)&&nt(n.streamId)}function im(t){var n=t;return n.integration===Oy&&void 0!==n.token}function rm(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:Xy[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=de(de({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return de(de({},yy(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function em(t){switch(t.toLowerCase()){case"widevine":case De:return De;case"playready":case Re:return Re;case"fairplay":case Oe:return Oe}}function um(t,i){switch(t){case Te:return function(t){for(var n={},i=kw.Fk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.UA]=e.VA}return n}(i);case Ee:case Se:return function(t){var n;return(n={})[Ce]=t,n}(i);default:throw new bo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var sm=function(t){function n(n){var i;return(i=t.call(this)||this).Yb=void 0,i.kd=new eu,i.Zb=n,i}M(n,t);var i=n.prototype;return i.Jb=function(t){t&&(this.Yb=t,this.$b(this.kd.mo).catch(cu))},i.$b=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Yb,!b.Ss.Ju){t.next=6;break}return t.next=4,this.Kb(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!i.tT){t.next=10;break}return t.next=9,this.nT(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kb=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o,a,c;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.Yb,r=!1,e=0,u=i.iT;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,a=s.rT;case 6:if(!(o<a.length)){t.next=20;break}return c=a[o],t.prev=8,t.next=11,this.eT(s.Ha.Qs,c,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),au(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.uT=function(t,n){return this.eT(t,n,this.kd.mo)},i.yl=function(){return this.Yb=void 0,this.kd._o(),this.kd=new eu,this.sT()},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),t.next=3,this.yl();case 3:this.kd.co();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.oT=function(t,n){if(!this.Yb)return!1;var i=um(t,n);return Boolean(i[Ne])},L(n,[{key:"Ha",get:function(){return this.aT()}}]),n}(bu),om=function(t){function n(){return t.call(this,Wo.Mc)||this}return M(n,t),n}(Eu),am=function(t){function n(n){var i;return(i=t.call(this,"lh")||this).cT=n,i}return M(n,t),n}(Eu),cm=new _y,hm=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).hT=i,u.fT=r,u.vT=e,u.Wi=!1,u.dT=!1,u.kd=new eu,u.ga=function(t){switch(t.Mo){case"license-request":u.lT(t.Lo,t.Uo).catch(function(t){return u.Za(t)});break;default:u.Za(new u_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Mo))}},u._T=function(t){u.hT.Na.Qo(function(t,n){switch(t){case"usable":b.sr(function(){u.dT=!0,u.bo(new om)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.bo(new am(n))}})},u.gT=function(t){u.Za(new u_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.Eo("Lo",u.ga),i.Eo("Bo",u._T),i.Eo("Fo",u.gT),u.Ra=i.Ra.then(function(){return u.wT()}),u}M(i,t);var r=i.prototype;return r.Aa=function(){var t=this;return this.Wi=!0,cm.Ob(function(n){return t.yT(n)},this.kd.mo)},r.yT=function(){var t=T.coroutine(ve.mark(function t(i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ou(i),t.next=4,this.fT.mT(this.vT.qo);case 4:return r=t.sent,t.next=7,this.hT.Aa(this.vT.Qs,this.vT.qo,r);case 7:if(!this.fT.kT){t.next=10;break}return t.next=10,this.fT.xo("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),au(t.t0),e=t.t0 instanceof Js?t.t0.ha:void 0,u=new u_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.Za(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),r.lT=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.fT.pT(r),t.prev=1,!Qs(i)){t.next=8;break}return t.next=5,this.fT.AT(new y(i),this.kd.mo);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.fT.bT(new y(i),this.kd.mo);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!su(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.hT.Ea(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Js?t.t1.ha:void 0,new u_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Za=function(t){var i=t instanceof u_?t:new u_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.bo(new wy(i)),this.pa()},r.wT=function(){this.hT.No("Lo",this.ga),this.hT.No("Bo",this._T),this.hT.No("Fo",this.gT),this.dT=!1,this.kd._o()},r.pa=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),this.wT(),t.next=4,this.hT.pa().catch(S);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(bu),fm=[Wo.Mc,Wo.Lc,Wo.dh],vm=function(t){function n(n,i,r){var e;(e=t.call(this)||this).TT=[],e.ET=[],e.Ca=n,e.Zb=r,e.ST=i;var u=i.RT;return u&&_u(n.xa(u)),e}M(n,t);var i=n.prototype;return i.IT=function(){return this.NT||(this.NT=this.DT()),this.NT},i.DT=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ST.AT(new y(js()));case 2:return n=t.sent,t.next=5,this.Ca.xa(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.CT=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ET.push(n),t.next=4,this.Ca.Oa("temporary");case 4:return i=t.sent,r=new hm(i,this.ST,n),this.TT.push(r),r.Eo(fm,this.Ao),r.Ra.then(function(){return e.OT(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ze(this.ET,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.xT=function(t){if(t.PT)return!1;for(var n=0,i=this.TT;n<i.length;n++){if(dm(i[n].vT,t))return!0}for(var r=0,e=this.ET;r<e.length;r++){if(dm(e[r],t))return!0}return!1},i.OT=function(t){t.No(fm,this.Ao),Ze(this.TT,t)},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),n=this.TT.slice(),this.TT.length=0,t.next=5,T.all(n.map(function(t){return t.pa()}));case 5:this.ST.Sv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"BT",get:function(){return this.ST.BT}},{key:"Ha",get:function(){return this.ST.Ha}},{key:"LT",get:function(){return this.ST.LT}},{key:"MT",get:function(){return this.ST.MT}},{key:"UT",get:function(){return this.ST.UT}}]),n}(bu);function dm(t,n){return!t.PT&&t.Qs===n.Qs&&zu(t.qo,n.qo)}var lm=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return M(n,t),n}(Eu),_m=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).FT=void 0,s.Ha=n,s.BT=i,s.MT=r,s.pb=e,s.HT=u,s.LT=s.VT(i),s}M(i,t);var r=i.prototype;return r.XT=function(){return this.FT},r.pT=function(t){this.FT=t},r.WT=function(){return this.LT.licenseAcquisitionURL||this.XT()},r.mT=function(t){return T.resolve(void 0)},r.qT=function(){var t=T.coroutine(ve.mark(function t(i,r,e,u){var s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.zT(i,r,e,u)).nv){t.next=3;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Bd.Kf(s);case 6:return o=t.sent,t.next=9,o.xf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),au(t.t0),t.next=17,this.GT(t.t0,s.nv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.zT=function(t,n,i,r){var e=this.jT().mh(),u=this.bv,s={nv:this.QT(),Zf:n,Yf:e,Mf:t,bv:u,mv:pf.POST,kv:0,mo:r,Gs:Af.ov,pv:i};return new Sf(s)},r.lT=function(t,n){return T.resolve(t)},r.YT=function(t,n,i,r){return T.resolve(t)},r.jT=function(){return new zo(this.LT.headers||{})},r.GT=function(){var t=T.coroutine(ve.mark(function t(i,r,e){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.QT=function(t,n){var i=n,r=this.LT.queryParameters;if(!i){var e=this.WT();if(!e)return"";i=e}if(r||t){var u=b.Hu(i);t&&Sr(u,t),r&&Sr(u,r),i=u.href}return i},r.ZT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return T.resolve(new y(gm(t,i)))}(t,this.LT)},r.JT=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$T(n,r);case 2:return e=t.sent,t.next=5,this.qT(e,this.HT,i,r);case 5:return u=t.sent,t.next=8,this.ZT(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.Sv=function(){this.Io()},L(i,[{key:"Bd",get:function(){return this.pb}},{key:"kT",get:function(){return!1}},{key:"RT",get:function(){var t=this.LT.certificate;if(t)return nt(t)?Hu(t):Vs(t)}},{key:"KT",get:function(){return"optional"}},{key:"Va",get:function(){return!1}},{key:"UT",get:function(){return!1}},{key:"bv",get:function(){return Boolean(this.LT.useCredentials)}}]),i}(bu);function gm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function wm(t,n){var i=Ws(t).buffer,r=n.licenseRequestProcessor;return T.resolve(gm(i,r))}var ym,mm=function(t){function n(n,i,r,e){return t.call(this,Be,n,i,r,e)||this}M(n,t);var i=n.prototype;return i.VT=function(t){return t.widevine||{}},i.AT=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.RT){t.next=2;break}return t.abrupt("return",this.RT);case 2:return t.abrupt("return",this.bT(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bT=function(n,i){return t.prototype.JT.call(this,n,bf.fv,i)},n}(_m);!function(t){t.Xs="Widevine",t.Vs="PlayreadyV2",t.tE="PlayreadyV2",t.nE="PlayreadyV3",t.Ws="Fairplay"}(ym||(ym={}));var km={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function pm(t,n){var i,r,e,u,s=km[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=b.Es)||void 0===i?void 0:i.Ss,OSVersion:null===(r=b.Es)||void 0===r?void 0:r.Cs,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null===(e=b.Es)||void 0===e?void 0:e.Os,DeviceModel:null===(u=b.Es)||void 0===u?void 0:u.xs}}}function Am(t,i){if(!t.accountName)throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function bm(t,n,i){var r;if($y(t))r={AuthToken:t.authToken,Payload:n};else{if(!Ky(t))throw Am(t,i);r={LatensRegistration:pm(t,i),Payload:n}}return Yu(JSON.stringify(r))}function Tm(t,n,i){return Em.apply(this,arguments)}function Em(){return(Em=T.coroutine(ve.mark(function t(i,r,e){var u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Fv){t.next=3;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.Cf(e);case 7:o=t.sent,a=Sm(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.Kf.nv,s.Qf,s.Jf,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Sm(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Rm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,qo.wh)||this).iE=!0,e}M(i,t);var r=i.prototype;return r.GT=function(t,n,i){return Tm(t,n,i)},r.$T=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.BT){t.next=3;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=Xu(i),t.abrupt("return",bm(e,u,ym.Xs));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ZT=function(t){var i;if(!t.license)throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Hu(t.license),T.resolve(i)},r.rE=function(t){return T.resolve(new y(t))},r.AT=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eE(),t.next=3,this.$T(n,i);case 3:return r=t.sent,t.next=6,this.qT(r,qo.gh,bf.vv,i);case 6:return e=t.sent,t.next=9,this.rE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.bT=function(){var n=T.coroutine(ve.mark(function n(i,r){var e;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.bT.call(this,i,r);case 2:return e=n.sent,this.eE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.eE=function(){this.bo(new lm),this.iE=!1},L(i,[{key:"kT",get:function(){return this.iE}},{key:"KT",get:function(){return"required"}}]),i}(mm),Im=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,qo.gh)||this).pT("https://widevine-proxy.drm.technology/proxy"),e}return M(i,t),i.prototype.$T=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wm(i,this.LT);case 2:if(e=t.sent,u=this.MT,r=new y(e),s=[].slice.call(r),o=this.uE){t.next=8;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(i,[{key:"uE",get:function(){if(tm(this.BT))return this.BT.token}}]),i}(mm);function Nm(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=de(de({},i),{SessionId:t.sessionId,Ticket:t.ticket})),de(de({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Dm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,qo.gh)||this).pT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}M(n,t);var i=n.prototype;return i.$T=function(t,n){return wm(t,this.LT)},i.QT=function(n,i){var r=n;return Yy(this.BT)&&(r=Nm(this.BT,r)),t.prototype.QT.call(this,r,i)},n}(mm),Cm="Conax-Custom-Data";function Om(t,n,i){var r=t&&Qy(t)&&t;if(r&&!i.has(Cm)){var e=Uy(r)?r.token:void 0,u=Uy(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Cm,s)}return i}var xm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,qo.gh)||this).pT("https://connect.conax.com:8094/license"),e}M(n,t);var i=n.prototype;return i.$T=function(t,n){return wm(t,this.LT)},i.jT=function(){var n=t.prototype.jT.call(this);return Om(this.BT,"Widevine",n)},n}(mm);function Pm(t){var n=Ns(new y(t));return Hu(JSON.parse(n).license)}function Bm(t){return"string"==typeof t.token?t.token:Yu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Lm(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var Mm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,qo.gh)||this).pT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}M(n,t);var i=n.prototype;return i.$T=function(t,n){return wm(t,this.LT)},i.ZT=function(t){return T.resolve(Pm(t))},i.jT=function(){return Lm(t.prototype.jT.call(this),this.uE,this.BT)},L(n,[{key:"uE",get:function(){return Bm(this.BT)}}]),n}(mm),Um=function(t){function n(n,i,r){return t.call(this,n,i,r,qo.gh)||this}M(n,t);var i=n.prototype;return i.$T=function(t,n){return wm(t,this.LT)},i.jT=function(){var n=t.prototype.jT.call(this),i=this.BT.token;return n.set("Authorization","Bearer "+i),n},n}(mm);function Fm(t,n,i,r){return Hm.apply(this,arguments)}function Hm(){return(Hm=T.coroutine(ve.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(nm(i)){t.next=2;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new zo).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={nv:i.ticketAcquisitionURL,Zf:qo.wh,Yf:s,mv:pf.POST,Mf:JSON.stringify(h),mo:u},t.next=13,e.Kf(f);case 13:return v=t.sent,t.next=16,v.Cf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Vm=function(t){function n(n,i,r){return t.call(this,n,i,r,qo.wh)||this}M(n,t);var i=n.prototype;return i.jT=function(){var n=t.prototype.jT.call(this);return n.set("Content-Type","application/json"),n},i.$T=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Qu(n.buffer),e=this.BT,t.next=4,Fm(e,"widevine_modular",this.Bd,i);case 4:return u=t.sent,this.pT(u.licenseServerUrl),s=Ds(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",wm(s,this.LT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZT=function(t){var n=t;return T.resolve(Hu(n.license))},n}(mm),Xm=function(t){function i(n,i,r){return t.call(this,n,i,r,qo.gh)||this}M(i,t);var r=i.prototype;return r.$T=function(t,n){return wm(t,this.LT)},r.jT=function(){if(!im(this.BT))throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.jT.call(this);return i.set("X-AxDRM-Message",this.BT.token),i},i}(mm);function Wm(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var qm=function(t){function n(n,i,r){var e;return(e=t.call(this,Pe,n,i,r,qo.gh)||this).sE=void 0,e}M(n,t);var i=n.prototype;return i.VT=function(t){return t.playready||{}},i.jT=function(){var n=new zo(this.sE);return n.ph(t.prototype.jT.call(this)),n},i.oE=function(t){return t.length>=1&&t[0].ou.length>0},i.mT=function(n){var i=this.BT.playready.customData;if(i){var r=Wm(i),e=Wm('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return T.resolve({playready:{nc:e}})}return t.prototype.mT.call(this,n)},i.$T=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wm(n,this.LT);case 2:return r=t.sent,t.abrupt("return",this.aE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.aE=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v,d,l,_,g,w;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),a=Ss(o,new qs,!0),t.prev=3,c=b.Ye(a),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(h=null===(i=c.su("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.su("LicenseAcquisition")[0],f=null!==(r=null==h?void 0:h.su("Challenge"))&&void 0!==r?r:[],this.oE(f)&&(s=ju(f[0].ku)),v=new zo,d=null!==(u=null===(e=null==h?void 0:h.su("HttpHeaders")[0])||void 0===e?void 0:e.su("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)_=d[l],g=_.su("name")[0].ku,w=_.su("value")[0].ku,v.append(g,w);return this.sE=v,t.abrupt("return",s);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.AT=function(t,n){return T.resolve(t)},i.bT=function(n,i){return t.prototype.JT.call(this,n,bf.dv,i)},L(n,[{key:"Va",get:function(){return Boolean(this.BT.playready.customData)}}]),n}(_m),zm=function(){function t(n){this.cE=n,this.hE=t.fE(n)}return t.fE=function(t){return"3"===t.version?ym.nE:ym.tE},t.prototype.vE=function(){var t={};if(this.hE===ym.nE){var n={LatensRegistration:pm(this.cE,ym.nE)};t["X-TITANIUM-DRM-CDATA"]=Yu(JSON.stringify(n))}return t},L(t,[{key:"dE",get:function(){return this.hE}},{key:"Va",get:function(){return this.hE===ym.tE}}]),t}();var Gm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lE=new zm(e.BT),e}M(i,t);var r=i.prototype;return r.mT=function(t){var i=this.BT;if(!this.BT)throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Ky(i)){var r={};return r.playready={nc:jm(i,this.lE.dE)},T.resolve(r)}return T.reject(Am(i,ym.Vs))},r.jT=function(){var n=new zo(this.lE.vE());return n.ph(t.prototype.jT.call(this)),n},r.GT=function(){var t=T.coroutine(ve.mark(function t(i,r,e){var u,s,o,a,c,h,f,v;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.Fv){t.next=3;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.Pf(e);case 6:c=t.sent,h=Ns(new y(c)),(f=b.Ye(h))&&(v=Sw(f,"CustomData")).length>0&&(o=JSON.parse(v[0].ku),a=null===(u=o.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.Qf,s.Jf,a);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.oE=function(t){if(1!==t.length)throw new u_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},L(i,[{key:"Va",get:function(){return this.lE.Va}}]),i}(qm);function jm(t,n){var i=pm(t,n),r=i.DeviceInfo.FormatVersion,e=Yu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Os(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Os('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Qm,Ym=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).pT("https://playready-license.drm.technology/rightsmanager.asmx"),e}M(i,t);var r=i.prototype;return r.oE=function(t){if(1!==t.length)throw new u_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.QT=function(n,i){var r=de(de({},n||{}),{token:this.uE});return t.prototype.QT.call(this,r,i)},L(i,[{key:"uE",get:function(){if(tm(this.BT))return this.BT.token}}]),i}(qm),Zm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).pT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return M(n,t),n.prototype.QT=function(n,i){var r=n;return Yy(this.BT)&&(r=Nm(this.BT,r)),t.prototype.QT.call(this,r,i)},n}(qm),Jm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).pT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return M(n,t),n.prototype.jT=function(){var n=t.prototype.jT.call(this);return Om(this.BT,"PlayReady",n)},n}(qm),$m=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).pT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}M(n,t);var i=n.prototype;return i.ZT=function(n){return(yr(Ns(new y(n)),"<?xml")?Qm._E:Qm.Cf)===Qm.Cf?T.resolve(Pm(n)):T.resolve(t.prototype.ZT.call(this,new y(n)))},i.jT=function(){return Lm(t.prototype.jT.call(this),this.uE,this.BT)},L(n,[{key:"uE",get:function(){return Bm(this.BT)}}]),n}(qm);!function(t){t[t._E=0]="_E",t[t.Cf=1]="Cf"}(Qm||(Qm={}));var Km,tk=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}M(n,t);var i=n.prototype;return i.jT=function(){var n=t.prototype.jT.call(this);return this.gE&&n.set("Ticket",this.gE),n.set("Content-Type","text/xml"),n},i.$T=function(){var n=T.coroutine(ve.mark(function n(i,r){var e,u;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.BT,n.next=3,Fm(e,"playready",this.Bd,r);case 3:return u=n.sent,this.pT(u.licenseServerUrl),this.gE=u.ticket,n.abrupt("return",t.prototype.$T.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(qm),nk=function(t){function i(){return t.apply(this,arguments)||this}return M(i,t),i.prototype.jT=function(){if(!im(this.BT))throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.jT.call(this);return i.set("X-AxDRM-Message",this.BT.token),i},i}(qm);!function(t){t.wh="application/json",t.wE="application/x-www-form-urlencoded",t.yE="application/octet-stream",t.ze="text/plain;charset=UTF-8"}(Km||(Km={}));var ik=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Ha,i,r,e,u)||this).mE="",s.kE=void 0,s.pE=n.hc,s}M(n,t);var i=n.prototype;return i.AE=function(){return this.LT.certificateURL||this.kE},i.bE=function(t){this.kE=t},i.$T=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.TE(n,this.mE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.TE=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(Xu(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.VT=function(t){return t.fairplay||{}},i.EE=function(t){var n=t.indexOf("?");if(n>=0)return T.resolve(t.substr(n+1));var i=t.split("/");return T.resolve(i[i.length-1])},i.mT=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(i=this.pE)&&void 0!==i?i:Ps(new y(n)),t.next=3,this.EE(r);case 3:return e=t.sent,this.mE=e,(u={}).fairplay={hc:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jT=function(){var n=t.prototype.jT.call(this);return n.set("Content-Type",this.SE),n},i.AT=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.RT){t.next=2;break}return t.abrupt("return",this.RT);case 2:return t.next=4,this.RE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bT=function(n,i){return t.prototype.JT.call(this,n,bf.cv,i)},i.IE=function(t){var n=this.AE(),i=this.jT(),r={nv:n,Zf:qo.gh,Yf:i,mv:pf.GET,bv:!1,Mf:null,kv:0,mo:t,Gs:Af.ov,pv:bf.hv};return new Sf(r)},i.RE=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IE(n),t.next=3,this.Bd.Kf(i);case 3:return r=t.sent,t.next=6,r.Pf();case 6:return e=t.sent,t.abrupt("return",new y(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ZT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hu(i)}else n=new y(t);return T.resolve(n)},i.QT=function(n,i){var r=t.prototype.QT.call(this,n,i);return yr(r,"skd:")&&(r=r.substr("skd:".length)),r},L(n,[{key:"UT",get:function(){return!0}},{key:"SE",get:function(){return Km.wE}}]),n}(_m),rk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,qo.gh)||this}M(n,t);var i=n.prototype;return i.EE=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.$T=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ZT=function(t){return T.resolve(new y(t))},i.QT=function(n,i){var r=n||{};return r.p1=Yt(),t.prototype.QT.call(this,r,i)},L(n,[{key:"SE",get:function(){return Km.yE}}]),n}(ik),ek=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,qo.gh)||this).pT("https://fairplay-license.drm.technology/license"),u.bE("https://fairplay-license.drm.technology/certificate"),u}M(i,t);var r=i.prototype;return r.TE=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.uE,contentId:i,payload:Xu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ZT=function(t){return T.resolve(new y(t))},r.jT=function(){var n=t.prototype.jT.call(this);return n.set("x-vudrm-token",this.uE),n},L(i,[{key:"SE",get:function(){return Km.wh}},{key:"uE",get:function(){if(!tm(this.BT))throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.BT.token}}]),i}(ik),uk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",sk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",ok=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,qo.gh)||this}return M(i,t),i.prototype.ZT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,uk)}if(!i)throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,sk);return i}(Ns(new DataView(i)));return t.prototype.ZT.call(this,r)},i}(ik);var ak=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,qo.wh)||this}M(i,t);var r=i.prototype;return r.$T=function(){var t=T.coroutine(ve.mark(function t(i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.BT){t.next=3;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xu(i),t.abrupt("return",bm(r,e,ym.Ws));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ZT=function(t){try{var i;if(nt(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=ju(i.license);return T.resolve(new y(e))}return T.reject(new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return T.reject(new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.GT=function(t,n,i){return Tm(t,n,i)},L(i,[{key:"SE",get:function(){return Km.wh}}]),i}(ik),ck=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,qo.gh)||this).pT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.bE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}M(n,t);var i=n.prototype;return i.AE=function(){var n=t.prototype.AE.call(this);if(!n)return n;var i=b.Hu(n),r=this.BT;return Yy(r)&&Sr(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.EE=function(){var n=T.coroutine(ve.mark(function n(i){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Yy(this.BT)){n.next=2;break}return n.abrupt("return",this.BT.contentId);case 2:return n.abrupt("return",t.prototype.EE.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.$T=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ZT=function(t){return T.resolve(new y(t))},i.QT=function(n,i){var r=n;return Yy(this.BT)&&(r=function(t,n){return de(de({},Nm(t,n)),{KeyId:t.keyId})}(this.BT,r)),t.prototype.QT.call(this,r,i)},L(n,[{key:"SE",get:function(){return Km.yE}}]),n}(ik),hk=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,qo.ze)||this,!Qy(r))throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.pT("https://connect.conax.com:8097/license"),s}M(i,t);var r=i.prototype;return r.jT=function(){var n=t.prototype.jT.call(this);return Om(this.BT,"FairPlay",n)},r.RE=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AE(),r={nv:i,Zf:qo.gh,Yf:{},mv:pf.GET,bv:!1,Mf:null,kv:0,mo:n,Gs:Af.ov,pv:bf.hv},t.next=4,this.Bd.Kf(r);case 4:return e=t.sent,t.next=7,e.Pf();case 7:return u=t.sent,t.abrupt("return",new y(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.$T=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.EE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),T.resolve(Ns(Hu(n)))):T.resolve("unknown")},r.ZT=function(t){try{var n=JSON.parse(t);return T.resolve(new y(ju(n.CkcMessage)))}catch(t){return T.reject("CFLRW-66")}},i}(ik),fk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,qo.ze)||this).pT(Xy[Ae.Ws]),u}M(i,t);var r=i.prototype;return r.EE=function(t){return 0===t.indexOf("skd://")?T.resolve(t.substring("skd://".length,40)):T.reject(new u_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.TE=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+Xu(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(ik),vk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,qo.ze)||this).pT("https://lic.drmtoday.com/license-server-fairplay/"),u}M(n,t);var i=n.prototype;return i.TE=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(Xu(n))+"&"+encodeURI(i),"persistent"!==this.LT.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jT=function(){return Lm(t.prototype.jT.call(this),this.uE,this.BT)},L(n,[{key:"uE",get:function(){return Bm(this.BT)}}]),n}(ik),dk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,qo.gh)||this}M(n,t);var i=n.prototype;return i.EE=function(t){var n=t;return yr(n,"skd:")&&(n="http:"+n.substring(4)),yr(n,"http:")||yr(n,"https:")?T.resolve(b.Hu(n).hostname):T.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.$T=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ZT=function(t){return T.resolve(new y(t))},L(n,[{key:"SE",get:function(){return Km.yE}}]),n}(ik),lk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,qo.ze)||this}return M(n,t),n.prototype.jT=function(){var n=t.prototype.jT.call(this),i=this.BT.token;return n.set("Authorization","Bearer "+i),n},n}(ik),_k=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,qo.wh)||this,!nm(i))throw new f("Invalid Xstream DRM configuration");return u}M(n,t);var i=n.prototype;return i.RE=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AE(),r=this.jT(),e={nv:i,Zf:qo.wh,Yf:r,mv:pf.POST,mo:n,Gs:Af.ov,pv:bf.hv},t.next=5,this.Bd.Kf(e);case 5:return u=t.sent,t.next=8,u.Cf();case 8:return s=t.sent,t.abrupt("return",new y(Hu(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bT=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=qo.ze),e=Xu(n),u=this.BT,t.next=5,Fm(u,"fairplay",this.Bd,i);case 5:return s=t.sent,o=Ds(JSON.stringify({spc:e,ticket:s.ticket})),a={nv:this.WT(),Zf:qo.wh,Yf:this.jT(),mv:pf.POST,Mf:o,kv:0,mo:i,Gs:Af.ov,pv:bf.cv},t.next=10,this.Bd.Kf(a);case 10:return c=t.sent,t.next=13,c.Cf();case 13:return h=t.sent,t.abrupt("return",Hu(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"SE",get:function(){return Km.wh}}]),n}(ik),gk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,qo.ze)||this}M(i,t);var r=i.prototype;return r.TE=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Xu(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.ZT=function(i){if(0===i.length)throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.ZT.call(this,i)},r.jT=function(){var n=t.prototype.jT.call(this);return n.set("Content-Type","text/plain"),n},i}(ik),wk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,qo.gh)||this}M(i,t);var r=i.prototype;return r.TE=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.ZT=function(t){return T.resolve(new y(t))},r.jT=function(){if(!im(this.BT))throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.jT.call(this);return i.set("X-AxDRM-Message",this.BT.token),i},L(i,[{key:"SE",get:function(){return Km.wh}}]),i}(ik),yk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,qo.wh)||this).NE=void 0,u}M(i,t);var r=i.prototype;return r.TE=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:Xu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.EE=function(t){var i=b.Hu(t);return this.NE=t,i.searchParams.has("b")?T.resolve(i.searchParams.get("b")):T.reject(new u_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.QT=function(n,i){var r=this.WT();return!r&&this.NE&&(r=this.NE),r&&(r=r.replace("skd://","https://")),t.prototype.QT.call(this,n,i||r)},r.ZT=function(){var t=T.coroutine(ve.mark(function t(i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=nt(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Hu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),L(i,[{key:"SE",get:function(){return Km.ze}}]),i}(ik),mk=function(){function t(t,n){this.DE=t,this.CE=n}var n=t.prototype;return n.OE=function(t){return this.DE(t)},n.xE=function(t,n){throw new v(n+" must be "+this.CE+". (Received: "+t+")")},t}(),kk=new mk(ut,"a number"),pk=new mk(nt,"a string"),Ak=new mk(it,"a boolean");var bk,Tk=(bk={responseCode:kk,isException:Ak,description:pk,title:pk,correlationId:pk},{OE:function(t){if(!K(t))return!1;for(var n=0,i=d.keys(bk);n<i.length;n++){var r=i[n];if(!bk[r].OE(t[r]))return!1}return!0},xE:function(t,n){if(!K(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(bk);i<r.length;i++){var e=r[i],u=bk[e];if(!u.OE(t[e]))return u.xE(t[e],n+"."+e)}throw new v}});function Ek(t,n,i,r,e){return Sk.apply(this,arguments)}function Sk(){return(Sk=T.coroutine(ve.mark(function t(n,i,r,e,u){var s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Rk(n,i,r,u),t.next=3,Ik(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rk(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=b.Hu(t);return Sr(i,n),i.toString()}(i,e)),s=new zo({});s.append("Content-Type","application/json");var o=Xu(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{nv:u,Zf:qo.ze,Yf:s,mv:pf.POST,Mf:JSON.stringify(a),mo:r,Gs:Af.ov,pv:bf.cv}}function Ik(t,n){return Nk.apply(this,arguments)}function Nk(){return(Nk=T.coroutine(ve.mark(function t(i,r){var e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Kf(i);case 2:return e=t.sent,t.next=5,e.Cf();case 5:if(u=t.sent,!Tk.OE(u)){t.next=8;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.nv,u.responseCode);case 8:return t.abrupt("return",Hu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Dk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,qo.gh)||this).PE=i,u}M(n,t);var i=n.prototype;return i.EE=function(n){var i=n.replace("FairPlay",this.PE.releasePid);return t.prototype.EE.call(this,i)},i.bT=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ek(n,this.PE,this.WT(),this.Bd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(ik),Ck=function(t){function i(n,i,r){return t.call(this,Me,n,i,r,qo.gh)||this}M(i,t);var r=i.prototype;return r.VT=function(t){return t.clearkey||{}},r.$T=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wm(n,this.LT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.qT=function(){var i=T.coroutine(ve.mark(function i(r,e,u,s){var o,a;return ve.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.LT,!this.WT()){i.next=5;break}return i.abrupt("return",t.prototype.qT.call(this,r,this.HT,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Ds(JSON.stringify(a)).buffer);case 10:throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.AT=function(t,n){return T.resolve(new y(0))},r.bT=function(n,i){return t.prototype.JT.call(this,n,bf.lv,i)},i}(_m),Ok=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.$T=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wm(n,this.LT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(mm),xk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Pk(t,n,i){return Bk.apply(this,arguments)}function Bk(){return(Bk=T.coroutine(ve.mark(function t(n,i,r){var e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Yk(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,hu(T.resolve(u.call(n,e)),r);case 8:if(!Hs(s=t.sent)){t.next=11;break}return t.abrupt("return",Vs(s));case 11:return t.abrupt("return",Qk(de(de({},xk),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Lk(t,n,i,r,e){return Mk.apply(this,arguments)}function Mk(){return(Mk=T.coroutine(ve.mark(function t(n,i,r,e,u){var s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=jk(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,hu(T.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Vs(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Uk(t,n,i,r){return Fk.apply(this,arguments)}function Fk(){return(Fk=T.coroutine(ve.mark(function t(n,i,r,e){var u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xk(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Qk(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Hk(t,n,i,r,e,u){return Vk.apply(this,arguments)}function Vk(){return(Vk=T.coroutine(ve.mark(function t(n,i,r,e,u,s){var o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Gk(r,u),t.next=3,qk(n,new y(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",Vs(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Xk(t,n,i,r){return Wk.apply(this,arguments)}function Wk(){return(Wk=T.coroutine(ve.mark(function t(n,i,r,e){var u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=Gk(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(s));case 5:return t.next=8,hu(T.resolve(u.call(n,s)),e);case 8:if(!Hs(o=t.sent)){t.next=11;break}return t.abrupt("return",Vs(o).buffer);case 11:return t.abrupt("return",de(de({fairplaySkdUrl:void 0},xk),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qk(t,n,i,r,e){return zk.apply(this,arguments)}function zk(){return(zk=T.coroutine(ve.mark(function t(n,i,r,e,u){var s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=jk(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,hu(T.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Vs(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Gk(t,n){return de(de({},Yk(t)),{fairplaySkdUrl:n})}function jk(t,n,i){return{url:i.tv,status:i.Qf,statusText:i.Jf,headers:i.Yf.mh(),body:t,request:n}}function Qk(t){return new Sf({nv:t.url,mv:t.method,Yf:t.headers,Mf:t.body,bv:t.useCredentials})}function Yk(t){var n;return{url:t.nv,body:null!==(n=Zk(t.Mf))&&void 0!==n?n:null,headers:t.Yf.mh(),method:t.mv,useCredentials:t.bv}}function Zk(t){if(t)return"string"==typeof t?Ds(t):t instanceof ArrayBuffer?new y(t):qu(t)?Fs(t):void 0}var Jk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).BE=e,u}M(i,t);var r=i.prototype;return r.AT=function(t,n){return T.resolve(t)},r.bT=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aE(Ws(i).buffer);case 2:return e=t.sent,u=this.zT(e,qo.gh,bf.dv,r),t.next=6,Uk(this.BE,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(s));case 10:if(""!==s.nv){t.next=12;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Bd.Kf(s);case 15:return o=t.sent,t.next=18,o.Pf(r);case 18:return a=t.sent,t.t0=y,t.next=22,Hk(this.BE,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),au(t.t2),new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(qm),$k=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,qo.gh)||this).BE=e,u}M(i,t);var r=i.prototype;return r.AT=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.RT){t.next=2;break}return t.abrupt("return",this.RT);case 2:return e=this.zT(i,qo.gh,bf.vv,r),t.next=5,Pk(this.BE,e,r);case 5:if(!((u=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.nv){t.next=11;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Bd.Kf(u);case 14:return s=t.sent,t.next=17,s.Pf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),au(t.t0),new u_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=Gk(e,void 0),t.next=27,Lk(this.BE,new y(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.bT=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.zT(i,qo.gh,bf.fv,r),t.next=3,Uk(this.BE,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(u));case 7:if(""!==u.nv){t.next=9;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Bd.Kf(u);case 12:return s=t.sent,t.next=15,s.Pf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),au(t.t0),new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,Hk(this.BE,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Ok),Kk=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,qo.gh)||this).BE=u,s}M(i,t);var r=i.prototype;return r.AT=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.RT){t.next=2;break}return t.abrupt("return",this.RT);case 2:return e=this.IE(r),t.next=5,Pk(this.BE,e,r);case 5:if(u=t.sent,!qu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Bd.Kf(u);case 11:return s=t.sent,t.next=14,s.Pf();case 14:return o=t.sent,a=Gk(e,void 0),t.next=18,Lk(this.BE,new y(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),au(t.t0),new u_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.bT=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.zT(i,qo.gh,bf.cv,r),t.next=3,Uk(this.BE,e,this.LE,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(u));case 7:if(""!==u.nv){t.next=9;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Bd.Kf(u);case 12:return s=t.sent,t.next=15,s.Pf(r);case 15:return o=t.sent,t.t0=y,t.next=19,Hk(this.BE,o,e,s,this.LE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),au(t.t2),new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.EE=function(){var n=T.coroutine(ve.mark(function n(i){var r;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.LE=i,!(null===(r=this.BE)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",T.resolve(this.BE.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.EE.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(ik),tp=function(){function t(){}var n=t.prototype;return n.ME=function(t,n){return new vm(t,n,this)},n.UE=function(t,n,i,r){switch(t.Ha.Gs){case Ae.Xs:return this.FE(n,i,r);case Ae.Vs:return this.HE(n,i,r);case Ae.Ws:return this.VE(t,n,i,r);case Ae.qs:default:return this.XE(n,i,r)}},n.FE=function(t,n,i){var r,e=(r=t).integration===By&&nt(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Vy.Qb.zb(e,De)){var u=Vy.Qb.jb(e,De,t);return new $k(t,n,i,u)}switch(e){case ky:return new Rm(t,n,i);case Ty:return new Im(t,n,i);case by:return new Dm(t,n,i);case py:return new xm(t,n,i);case Ry:return new Mm(t,n,i);case Ny:return new Um(t,n,i);case Dy:return new Vm(t,n,i);case Oy:return new Xm(t,n,i);case Sy:default:return new Ok(t,n,i,qo.gh)}},n.HE=function(t,n,i){var r=t.integration;if(r&&Vy.Qb.zb(r,Re)){var e=Vy.Qb.jb(r,Re,t);return new Jk(t,n,i,e)}switch(r){case ky:return new Gm(t,n,i);case Ty:return new Ym(t,n,i);case by:return new Zm(t,n,i);case py:return new Jm(t,n,i);case Ry:return new $m(t,n,i);case Dy:return new tk(t,n,i);case Oy:return new nk(t,n,i);case Sy:default:return new qm(t,n,i)}},n.VE=function(t,n,i,r){var e=n.integration;if(e&&Vy.Qb.zb(e,Oe)){var u=Vy.Qb.jb(e,Oe,n);return new Kk(t,n,i,r,u)}switch(e){case Ay:return new rk(t,n,i,r);case Ty:return new ek(t,n,i,r);case Ey:return new ok(t,n,i,r);case ky:return new ak(t,n,i,r);case by:return new ck(t,n,i,r);case py:return new hk(t,n,i,r);case Sy:return new fk(t,n,i,r);case Ry:return new vk(t,n,i,r);case Iy:return new dk(t,n,i,r);case Ny:return new lk(t,n,i,r);case Dy:return new _k(t,n,i,r);case Cy:return new gk(t,n,i,r);case Oy:return new wk(t,n,i,r);case xy:return new yk(t,n,i,r);case Py:return new Dk(t,n,i,r);default:return new ik(t,n,i,r,qo.ze)}},n.XE=function(t,n,i){return new Ck(t,n,i)},n.WE=function(t){return t.Gs===Ae.Vs||t.Gs===Ae.Xs||t.Gs===Ae.Ws||t.Gs===Ae.qs},t}();function np(t,n){switch(n){case Ae.Xs:return t.widevine;case Ae.Vs:return t.playready;case Ae.Ws:return t.fairplay;default:return}}var ip,rp=function(t){function i(n,i,r){var e;return void 0===r&&(r=new tp),(e=t.call(this,r)||this).qE=void 0,e.va=void 0,e.zE=new _y,e.GE=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.uT(n.Qs,n.qo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),su(t.t0)||e.Za(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.jE=function(t){e.bo(t)},e.QE=function(t){e.bo(t),e.bo(new Wl(t.errorObject))},e.YE=n,e.pb=i,e.YE.Eo(Au.Ho,e.GE),e}M(i,t);var r=i.prototype;return r.aT=function(){var t;return null===(t=this.va)||void 0===t?void 0:t.Ha},r.Pa=function(t){if(this.qE)throw new f("Invalid state");this.qE=t},r.Jb=function(n){if(!this.qE)throw new f("Invalid state");t.prototype.Jb.call(this,n)},r.eT=function(){var t=T.coroutine(ve.mark(function t(i,r,e){var u,s,o,a,c,h,f,v,d,l,_;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Yb&&this.Yb.iT.length){t.next=5;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.Yb,i===Te||i===Se||i===Ee){t.next=9;break}return t.abrupt("return");case 9:s=um(i,r),a=0,c=u.iT;case 11:if(!(a<c.length)){t.next=42;break}if(h=c[a],ou(e),(f=s[h.Ha.Ys])&&h.Ha.Qs===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.ZE(h.Ha,e);case 20:if(!(v=t.sent).UT){t.next=24;break}return t.next=24,v.IT();case 24:if(d=this.YE.Rg,l={Qs:h.Ha.Qs,qo:f,PT:d},!this.JE(v,l)){t.next=32;break}return t.next=29,v.CT(l);case 29:return _=t.sent,t.next=32,_.Aa();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),au(t.t0),o=t.t0;case 39:a++,t.next=11;break;case 42:return t.next=44,b._s();case 44:if(!t.sent){t.next=48;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new u_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.JE=function(t,n){return b.Ss.Zu||!t.xT(n)},r.nT=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Yb){t.next=3;break}return t.abrupt("return");case 3:r=0,e=i.iT;case 4:if(!(r<e.length)){t.next=23;break}return u=e[r],ou(n),t.prev=7,t.next=10,this.ZE(u.Ha,n);case 10:if(!(s=t.sent).UT){t.next=14;break}return t.next=14,s.IT();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),au(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.ZE=function(t,n){var i=this;return this.zE.Ob(function(n){return i.$E(t,n)},n)},r.$E=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(i),this.Yb){t.next=3;break}throw new f("Not initialized");case 3:if(!this.va){t.next=7;break}if(this.va.Ha===n){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.va);case 7:if(this.Zb.WE(n)){t.next=9;break}throw new f("Unsupported "+n.Js+" key system");case 9:if(r=this.KE(n)){t.next=12;break}throw new f("Missing configuration for "+n.Js+" key system");case 12:return e=this.Yb,u=this.Zb.UE(r,e.BT,e.tS.MT,this.pb),t.next=16,this.Ua(n,r,u,i);case 16:return s=t.sent,(o=this.Zb.ME(s,u)).Eo(Wo.Mc,this.jE),o.Eo(Wo.Lc,this.QE),o.Eo(Wo.dh,this.Ao),this.va=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Ua=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v,d;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.Yb,s=n.Qs,o=np(u.BT,i.Ha.Gs),a=(null==o?void 0:o.persistentState)||r.KT,c=(null==o?void 0:o.distinctiveIdentifier)||void 0,h=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),f=i.Ha.Gs===Ae.Xs,t.prev=7,ou(e),v=ep(u,s,a,c,r.Va,u.tS.nS,(null==o?void 0:o.audioRobustness)||(f?"SW_SECURE_CRYPTO":void 0),(null==o?void 0:o.videoRobustness)||(f?"SW_SECURE_CRYPTO":void 0)),t.next=12,this.qE.iS(n,[v]);case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(7),au(t.t0),ou(e),f){t.next=21;break}throw t.t0;case 21:if(!h){t.next=23;break}throw t.t0;case 23:return d=ep(u,s,a,c,r.Va,u.tS.nS,void 0,void 0),t.next=26,this.qE.iS(n,[d]);case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}},t,this,[[7,15]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.KE=function(t){if(this.Yb)for(var n=0,i=this.Yb.iT;n<i.length;n++){var r=i[n];if(r.Ha===t)return r}},r.Za=function(t){var i=t instanceof u_?t:new u_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.QE(new wy(i))},r.rS=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zE._o();case 2:if(!(n=this.va)){t.next=8;break}return n.No(Wo.dh,this.Ao),this.va=void 0,t.next=8,n.Sv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sT=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qE=void 0,t.next=3,this.rS();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Sv=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.YE.No(Au.Ho,this.GE),n.next=3,t.prototype.Sv.call(this);case 3:return n.next=5,this.zE.Sv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(sm);function ep(t,n,i,r,e,u,s,o){return{initDataTypes:[n],audioCapabilities:up(t.eS,u,s),videoCapabilities:up(t.uS,u,o),persistentState:i,distinctiveIdentifier:r,Va:e}}function up(t,n,i){if(0!==t.length){var r=t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}});return n&&(r=r.concat(t.map(function(t){return{contentType:t,robustness:i}}))),r}}!function(t){t[t.sS=0]="sS",t[t.oS=1]="oS"}(ip||(ip={}));var sp=t,op=sp.MediaSource,ap=sp.WebKitMediaSource,cp=sp.TextTrack,hp=e&&e.createElement("video"),fp=(e&&e.documentElement.style,j.ee&&j.xe&&j.Pe<=26),vp=(j.ye,!!m),dp=!(!op&&!ap),lp=!!cp,_p=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||j._e,j.Ne&&j.De,hp&&hp.canPlayType&&(""!==hp.canPlayType("application/vnd.apple.mpegURL")||j.oe&&!j.Ne&&j.ae>=4)),gp=hp&&hp.canPlayType&&""!==hp.canPlayType("video/mp4")&&!fp,wp=dp&&!j.Ce&&!j.Se&&!j.Ee&&((op||ap).isTypeSupported?(op||ap).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):hp&&hp.canPlayType&&""!==hp.canPlayType('audio/mp4; codecs="mp4a.40.34"')),yp=dp&&!j.Ce&&(wp||((op||ap).isTypeSupported?(op||ap).isTypeSupported("audio/mpeg"):hp&&hp.canPlayType&&""!==hp.canPlayType("audio/mpeg"))),mp=dp&&!(j.Ie&&j.ee)&&((op||ap).isTypeSupported?(op||ap).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):gp),kp=(j.Ce||j.Se||j.Ee,j.Re),pp=kp&&!1,Ap=!j.Ce,bp=j.Se&&j.ue&&j.se<=6.1,Tp=hp&&"onresize"in hp;try{r&&r.top!==r.self}catch(t){!0}var Ep,Sp=.001,Rp=1e4,Ip=3,Np=function(t){function n(n){var i;return(i=t.call(this,El.b_)||this).currentTime=n,i}return M(n,t),n}(Eu),Dp=function(t){function n(n){var i;return(i=t.call(this,El.T_)||this).currentTime=n,i}return M(n,t),n}(Eu),Cp=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).aS=n,r.cS=i,r.hS=ol.l_,r.fS=!0,r.vS=!1,r.dS=!1,r.lS=function(t){var n=t.readyState;n!==r.hS&&r.bo(t),n===ol.l_&&(r.vS=!1,r.dS=!1),r._S(n),r.gS(n),r.wS(n),r.maybeDispatchCanPlayThroughEvent(n),r.yS(n),r.mS(n),r.hS=n},r.kS=function(){r.mS(r.hS),r.yS(r.hS),r.fS=r.aS.D_},r.pS=function(){r.fS=r.aS.D_},r.aS.Eo(El.il,r.lS),r.aS.Eo(Wo.Jc,r.kS),r.aS.Eo(Wo.Zc,r.pS),r.cS&&r.aS.Eo(El.T_,r.Ao),r}M(n,t);var i=n.prototype;return i._S=function(t){!this.dS&&t>=ol.__&&(this.dS=!0,this.bo(new Cl(this.aS.E_,t)))},i.gS=function(t){!this.vS&&t>=ol.g_&&(this.vS=!0,this.bo(new Ll(this.aS.E_,t)))},i.yS=function(t){this.cS||(t>=ol.w_&&this.hS<ol.w_&&!this.aS.D_||this.AS&&t>=ol.w_)&&this.bo(new Dp(this.aS.E_))},i.mS=function(t){!this.bS(t)||this.aS.R_||this.aS.Fo||this.bo(new Np(this.aS.E_))},i.wS=function(t){this.hS<=ol.g_&&t>=ol.w_&&this.bo(new Hl(this.aS.E_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ol.y_&&this.bo(new Vl(this.aS.E_,t))},i.bS=function(t){var n=!this.aS.D_&&t<=ol.g_,i=!this.fS&&this.hS<=ol.g_;return n&&!i},i.yl=function(){this.hS=ol.l_,this.fS=!0,this.vS=!1,this.dS=!1},i.Sv=function(){this.Io(),this.cS&&this.aS.No(El.T_,this.Ao),this.aS.No(Wo.Jc,this.kS),this.aS.No(Wo.Zc,this.pS),this.aS.No(El.il,this.lS)},L(n,[{key:"AS",get:function(){return!this.aS.D_&&this.fS}}]),n}(bu);!function(t){t.TS="nokey",t.ES="keyexpired",t.SS="sessionnotopened",t.RS="insufficientoutputprotection",t.IS="insufficientsecurity",t.NS="frametoolarge",t.DS="loststate",t.CS="resourcebusy",t.OS="unsupportedoperation"}(Ep||(Ep={}));var Op,xp,Pp=[Ep.OS,Ep.CS,Ep.DS,Ep.NS,Ep.IS,Ep.RS,Ep.SS,Ep.ES,Ep.TS],Bp=[Wo.Mc,Wo.Lc,Xd.Hl];[].concat(fm,[Xd.Hl],Pp);!function(t){t.wv="video",t.gv="audio"}(Op||(Op={})),function(t){t[t.xS=0]="xS",t[t.PS=1]="PS",t[t.BS=2]="BS",t[t.LS=3]="LS",t[t.o_=4]="o_",t[t.MS=5]="MS",t[t.d_=6]="d_",t[t.US=7]="US",t[t.FS=8]="FS"}(xp||(xp={}));var Lp,Mp=function(){function t(){}return t.prototype.HS=function(t){},L(t,[{key:"VS",get:function(){return 0}},{key:"XS",get:function(){return 0}}]),t}();function Up(){return Lp||(Lp=Cr&&Cr.document&&Cr.document.createElement("video")),Lp}var Fp=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new tp),void 0===o&&(o=Mo()),(a=t.call(this)||this).qE=void 0,a.WS=void 0,a.qS=void 0,a.zS=void 0,a.GS=new Mp,a.jS=function(t){var n=t.Fo,i=n.code,r=new bo(c_(i),"Something went wrong during native playback.",n);a.WS=new s_(i,r.message,n.message),a.qS=r,a.bo(new Wl(r))},a.QS=function(){a.bo(new Pl(a.E_,a.Eg))},a.YS=function(t){a.D_||(a.zS=void 0),a.bo(t)},a.ZS=function(t){a.zS=void 0,a.bo(t)},a.JS=function(){a.bo(new S_(a.Rg))},a.$S=function(){a.P_>0&&a.x_>0&&a.bo(new ly)},a.KS=function(t){a.G_._l(new k_(t.track))},a.tR=function(t){var n=Xp(a.G_,t.track);n&&a.G_.gl(n)},a.nR=function(){a.iR(a.G_)},a.rR=function(t){a.j_._l(new E_(t.track))},a.eR=function(t){var n=Xp(a.j_,t.track);n&&a.j_.gl(n)},a.uR=function(){a.iR(a.j_)},a.sR=function(t){t.type===Wo.Lc&&(a.WS=a_(t.errorObject),a.qS=t.errorObject),a.Ao(t)},a.oR=i,a.pb=r,a.to=o,a.YE=a.oR.aR(h_.wv),a.cR=a.YE.hR.preload,a.Zb=s,a.fR=new Cp(a.YE,!0),a.fR.Eo(Dl,a.Ao),a.vR=new rp(a.YE,a.pb,a.Zb),a.vR.Eo(Bp,a.sR),a.dR(),a.G_=new f_,a.j_=new f_,a.lR(),a._R=new ay(a.YE,a.pb),a.Q_=new Zd,a.lg(),a}M(n,t);var i=n.prototype;return i._g=function(){this.YE._g()},i.lg=function(){this.YE.lg()},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(r),e={Gs:ip.sS,Gl:n.src,Lf:n.type,gR:[],Lg:this.cR,wR:n.crossOrigin,yR:i.metadata&&i.metadata.title},t.next=4,this.YE.ba(e);case 4:return this.qE=t.sent,ou(r),t.next=8,this.vR.yl();case 8:this.vR.Pa(this.qE),this.vR.Jb(this.mR(n)),this.Q_.Sl=this.YE.ng,i.textTracks&&this.kR(i.textTracks),dy(this.ng);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.kR=function(t){for(var n,i=0;i<t.length;i++){var r=t[i];if(this.YE.pR()&&j._e&&lp&&!ny(r.kind,r.label)&&this.AR(r)){var e=null!==(n=r.kind)&&void 0!==n?n:Xw.fb;this.YE.bR(r.src,e,r.label,r.srclang)}else{if(void 0===r.src)continue;this._R.Ab(r)}}},i.AR=function(t){return!t.format||"webvtt"===t.format},i.rg=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.YE.rg();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.TR){t.next=12;break}return t.next=10,this.YE.xo(Wo.$c);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.eg=function(){this.YE.eg()},i.ag=function(){return void 0!==this.YE.hR.webkitShowPlaybackTargetPicker},i.cg=function(){this.YE.hR.webkitShowPlaybackTargetPicker&&this.YE.hR.webkitShowPlaybackTargetPicker()},i.hg=function(){this.YE.hR.webkitShowPlaybackTargetPicker&&this.YE.hR.webkitShowPlaybackTargetPicker()},i.gg=function(){return this.YE.hR},i.wg=function(){return this.YE.ER},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WS=void 0,this.qS=void 0,this.qE&&(this.qE=void 0),t.next=5,this._R.yl();case 5:return this.Q_.yl(),this.YE.SR(),t.next=9,this.YE.yl();case 9:return this.fR.yl(),t.next=12,this.vR.yl();case 12:this.Lg=this.cR,this.K_.yl(),this.tg.yl(),this.zS=void 0;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yl();case 2:return this.Io(),this.RR(),this.IR(),t.next=7,this.vR.Sv();case 7:return this.fR.Sv(),t.next=10,this.oR.NR(this.YE);case 10:return this.G_.Sv(),this.j_.Sv(),this.Q_.Sv(),t.next=15,this._R.Sv();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.dR=function(){this.YE.Eo(Wo.Jc,this.Ao),this.YE.Eo(Wo.Zc,this.Ao),this.YE.Eo(Wo.fh,this.QS),this.YE.Eo(Wo.$c,this.Ao),this.YE.Eo(Wo.zc,this.Ao),this.YE.Eo(Wo.rh,this.Ao),this.YE.Eo(Wo.ih,this.YS),this.YE.Eo(Wo.Xc,this.Ao),this.YE.Eo(Wo.Kc,this.Ao),this.YE.Eo(Wo.vh,this.Ao),this.YE.Eo(Wo.Hc,this.Ao),this.YE.Eo(Wo.nh,this.$S),this.YE.Eo(El.T_,this.ZS),this.YE.Eo(Xd.Hl,this.jS),this.YE.hR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.JS)},i.RR=function(){this.YE.No(Wo.Jc,this.Ao),this.YE.No(Wo.Zc,this.Ao),this.YE.No(Wo.fh,this.QS),this.YE.No(Wo.$c,this.Ao),this.YE.No(Wo.zc,this.Ao),this.YE.No(Wo.rh,this.Ao),this.YE.No(Wo.ih,this.YS),this.YE.No(Wo.Xc,this.Ao),this.YE.No(Wo.Kc,this.Ao),this.YE.No(Wo.vh,this.Ao),this.YE.No(Wo.Hc,this.Ao),this.YE.No(Wo.nh,this.$S),this.YE.No(El.T_,this.ZS),this.YE.No(Xd.Hl,this.jS),this.YE.hR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.JS)},i.mR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{BT:t.contentProtection||{},tS:{nS:"cbcs"},iT:[{Ha:Le,rT:[],hc:void 0}],eS:[],uS:["video/mp4"]}}},i.lR=function(){var t=this.YE.hR.audioTracks,n=this.YE.hR.videoTracks;t&&(t.addEventListener("addtrack",this.KS),t.addEventListener("removetrack",this.tR),t.addEventListener("change",this.nR)),n&&(n.addEventListener("addtrack",this.rR),n.addEventListener("removetrack",this.eR),n.addEventListener("change",this.uR))},i.IR=function(){var t=this.YE.hR.audioTracks,n=this.YE.hR.videoTracks;t&&(t.removeEventListener("addtrack",this.KS),t.removeEventListener("removetrack",this.tR),t.removeEventListener("change",this.nR)),n&&(n.removeEventListener("addtrack",this.rR),n.removeEventListener("removetrack",this.eR),n.removeEventListener("change",this.uR))},i.iR=function(t){for(var n=0;n<t.kl;n++){t.ll(n).Gg()}},i.bg=function(){this.vR.rS().then(S)},L(n,[{key:"TR",get:function(){var t=this.YE.Tg,n=this.E_;return t.DR(n,.01)}},{key:"K_",get:function(){return this.G_}},{key:"Tg",get:function(){return this.YE.Tg.CR()}},{key:"Eg",get:function(){return this.YE.Eg},set:function(t){t&&this.YE.OR(t)}},{key:"E_",get:function(){return void 0!==this.zS?this.zS:this.YE.E_},set:function(t){this.Rg&&(this.zS=t),this.YE.ta(t)}},{key:"S_",get:function(){return this.YE.S_}},{key:"R_",get:function(){return this.YE.R_}},{key:"Fo",get:function(){return this.WS}},{key:"I_",get:function(){return this.qS}},{key:"ig",get:function(){}},{key:"Rg",get:function(){return this.YE.Rg}},{key:"W_",get:function(){return de(de({},{Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.YE.xR())}},{key:"N_",get:function(){return this.YE.N_},set:function(t){this.YE.N_=t}},{key:"Pg",get:function(){return!0}},{key:"D_",get:function(){return this.YE.D_}},{key:"C_",get:function(){return this.YE.C_},set:function(t){this.YE.C_=t}},{key:"Bg",get:function(){return this.YE.hR.played}},{key:"Lg",get:function(){return this.cR},set:function(t){this.cR=t,this.qE&&(this.qE.Lg=t)}},{key:"Wl",get:function(){return this.YE.Wl}},{key:"Mg",get:function(){return this.YE.Mg.CR()}},{key:"O_",get:function(){return this.YE.O_}},{key:"PR",get:function(){return this.YE.PR}},{key:"ng",get:function(){return this.Q_}},{key:"tg",get:function(){return this.j_}},{key:"x_",get:function(){return this.YE.x_}},{key:"P_",get:function(){return this.YE.P_}},{key:"B_",get:function(){return this.YE.B_},set:function(t){this.YE.B_=t}},{key:"LR",get:function(){return this.GS}}]),n}(Jd);function Hp(t){return!t.type||!(!Up().canPlayType||!Up().canPlayType(t.type))}var Vp=function(){function t(){this.MR=xp.FS}var n=t.prototype;return n.Vb=function(t,n,i,r,e,u){return new Fp(t,n,i,r,e)},n.UR=function(t,n){return Hp(t)},n.FR=function(){return!1},t}();function Xp(t,n){for(var i=0,r=t.ml;i<r.length;i++){var e=r[i];if(e.Yg===n)return e}}var Wp=function(){function t(){this.HR=new Vp,this.XR=[]}t.WR=function(){return this.Ve};var n=t.prototype;return n.qR=function(t){this.XR.push(t)},n.Vb=function(t,n,i,r,e,u){for(var s=this.HR.Vb(t,n,i,r,e,u),o=0,a=this.XR;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.UR=function(t,n){return this.HR.UR(t,n)},n.FR=function(){return!1},L(t,[{key:"MR",get:function(){return this.HR.MR}}]),t}();function qp(t,n){return Z_(t.MR,n.MR)}function zp(t){Gp.Ve.zR(t)}Wp.Ve=new Wp;var Gp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).GR=Wp.WR(),n}M(n,t);var i=n.prototype;return i.jR=function(t){this.GR=t},i.QR=function(){return this.GR},i.YR=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.ZR(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{JR:e,$R:u});case 8:r++,t.next=1;break;case 11:s=this.GR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.UR(a,i)){t.next=17;break}return t.abrupt("return",{JR:a,$R:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{JR:n[0],$R:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.KR=[]}var n=t.prototype;return n.zR=function(t){this.KR.push(t),this.KR.sort(qp)},n.ZR=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.KR;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!rt(s=u.UR(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Gp.Ve=new Gp;var jp,Qp=function(){function t(t){this.tI=Cr&&Cr.document&&Cr.document.createElement("div"),qr(this.tI),t.appendChild(this.tI)}return t.prototype.Sv=function(){Hr(this.tI)},t}();function Yp(t){switch(t){case jp.nI:case"":return jp.nI;case jp.ek:return jp.ek;case jp.iI:default:return jp.iI}}!function(t){t.FS="",t.iI="none",t.ek="metadata",t.nI="auto"}(jp||(jp={}));var Zp=[Xd.Hl,Wo.Vc,Wo.Ho,Wo._h,Wo.Oc,Wo.Wc,Wo.Qc,Wo.Yc,Wo.uh,Wo.oh,El.m_,El.k_,El.p_,El.A_,El.il,El.b_,El.T_,Wo.Lc,Wo.Mc,Wo.Hc,Wo.Xc,Wo.zc,Wo.Gc,Wo.Jc,Wo.$c,Wo.Zc,Wo.Kc,Wo.nh,Wo.rh,Wo.ih,Wo.fh,Wo.vh,Wo.th,Wo.jc,Wo.eh],Jp=function(t){function n(n,i){var r;return(r=t.call(this)||this).rI=void 0,r.eI=void 0,r.cR=jp.iI,r.uI=void 0,r.sI=!0,r.G_=new Wd,r.j_=new Wd,r.Q_=new Zd,r.Y_=new r_,r.oI=n,r.aI=i,r.aI.Lg=r.Lg,r.cI(),r}M(n,t);var i=n.prototype;return i.eg=function(){this.aI.eg()},i.rg=function(){this.aI.rg()},i.ug=function(){return this.og(void 0)},i.fg=function(){},i.mg=function(t){return!1},i.cI=function(){this.G_.Sl=this.aI.K_,this.j_.Sl=this.aI.tg,this.Q_.Sl=this.aI.ng,this.Y_.Sl=this.aI.ig,this.aI.Eo(Zp,this.Ao)},i.hI=function(){this.aI.No(Zp,this.Ao),this.G_.Sl=void 0,this.j_.Sl=void 0,this.Q_.Sl=void 0,this.Y_.Sl=void 0},i.sg=function(){return this.uI},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(i),this.uI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!ml(r=n.sources.filter(Tl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.oI.YR(r,n);case 9:if(e=t.sent,ou(i),u=e.JR,s=e.$R,o=this.wg(),a=Gl(this),this.rI===s&&!this.Fo){t.next=25;break}return this.hI(),t.next=19,this.aI.Sv();case 19:ou(i),this.rI=s,this.aI=this.fI(s),$p(this.aI,a),Ql(this,a,this),this.cI();case 25:return this.aI.Lg=this.Lg,this.sI?this.aI.lg():this.aI._g(),t.next=29,this.aI.og(u,n,i);case 29:ou(i),this.vI(u),this.wg()!==o&&this.bo(new Kd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.vI=function(t){this.eI!==t&&(this.eI=t,this.bo(new tl(t)))},i.ag=function(){return this.aI.ag()},i.cg=function(){this.aI.cg()},i.hg=function(){this.aI.hg()},i.wg=function(){return this.aI.wg()},i.bg=function(){this.aI.bg()},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uI=void 0,this.vI(void 0),t.next=4,this.aI.yl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),t.next=3,this.yl();case 3:return t.next=5,this.aI.Sv();case 5:this.G_.Sv(),this.j_.Sv(),this.Q_.Sv(),this.Y_.Sv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lg=function(){this.sI=!0,this.aI.lg()},i._g=function(){this.sI=!1,this.aI._g()},L(n,[{key:"K_",get:function(){return this.G_}},{key:"Tg",get:function(){return this.aI.Tg}},{key:"Fo",get:function(){return this.aI.Fo}},{key:"I_",get:function(){return this.aI.I_}},{key:"Eg",get:function(){return this.aI.Eg},set:function(t){this.aI.Eg=t}},{key:"Ag",get:function(){return this.eI}},{key:"E_",get:function(){return this.aI.E_},set:function(t){this.aI.E_=t}},{key:"S_",get:function(){return this.aI.S_}},{key:"R_",get:function(){return this.aI.R_}},{key:"ig",get:function(){return this.Y_}},{key:"Rg",get:function(){return this.aI.Rg}},{key:"W_",get:function(){return this.aI.W_}},{key:"N_",get:function(){return this.aI.N_},set:function(t){this.aI.N_=t}},{key:"Pg",get:function(){return this.aI.Pg}},{key:"D_",get:function(){return this.aI.D_}},{key:"C_",get:function(){return this.aI.C_},set:function(t){this.aI.C_=t}},{key:"Bg",get:function(){return this.aI.Bg}},{key:"Lg",get:function(){return this.cR},set:function(t){this.cR=t,this.aI&&(this.aI.Lg=this.cR)}},{key:"Wl",get:function(){return this.aI.Wl}},{key:"Mg",get:function(){return this.aI.Mg}},{key:"O_",get:function(){return this.aI.O_}},{key:"ng",get:function(){return this.Q_}},{key:"x_",get:function(){return this.aI.x_}},{key:"tg",get:function(){return this.j_}},{key:"P_",get:function(){return this.aI.P_}},{key:"B_",get:function(){return this.aI.B_},set:function(t){this.aI.B_=t}},{key:"LR",get:function(){return this.aI.LR}}]),n}(bu);function $p(t,n){t.N_!==n.N_&&(t.N_=n.N_),t.B_!==n.B_&&(t.B_=n.B_),t.C_!==n.C_&&(t.C_=n.C_)}var Kp,tA=function(t){function n(n,i){var r;return(r=t.call(this)||this).kl=n.length>>1,r.dI=n,r.lI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.kl),r}M(n,t);var i=n.prototype;return i._I=function(t){return this.dI[2*t]},i.gI=function(t){return this.lI[2*t]},i.wI=function(t){return this.dI[2*t+1]},i.yI=function(t){return this.lI[2*t+1]},L(n,[{key:"mI",get:function(){return this.dI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.bw=function(t,n){return 0===this.Fw(t,n)},n.wy=function(t,n){return this.Fw(t,n)>0},n.yy=function(t,n){return this.Fw(t,n)>=0},n.qw=function(t,n){return this.Fw(t,n)<0},n.Xw=function(t,n){return this.Fw(t,n)<=0},n.My=function(t,n){return this.qw(t,n)?t:n},n.Ly=function(t,n){return this.wy(t,n)?t:n},n.kI=function(t,n,i){return i?this.Xw(t,n):this.qw(t,n)},n.CR=function(){var t=this;return{get length(){return t.kl},start:function(n){var i=0|n;return t.pI(i),t.AI(t._I(i))},end:function(n){var i=0|n;return t.pI(i),t.AI(t.wI(i))}}},n.bI=function(){for(var t=new Array(2*this.kl),n=new Array(2*this.kl),i=0;i<this.kl;i++)t[2*i]=this._I(i),t[2*i+1]=this.wI(i),n[2*i]=!0,n[2*i+1]=!0;return this.TI(t,n)},n.pI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.kl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.kl+")")},n.EI=function(t){if(0===this.kl)return this.SI();if(this.DR(t))return t;if(this.Xw(t,this._I(0)))return this._I(0);if(this.yy(t,this.wI(this.kl-1)))return this.wI(this.kl-1);for(var n,i=this.RI(),r=0;r<this.kl;r++){var e=this._I(r),u=this.Ww(e,t);this.qw(u,i)&&(n=e,i=u);var s=this.wI(r),o=this.Ww(this.wI(r),t);this.qw(o,i)&&(n=s,i=o)}return n},n.II=function(t){for(var n=0,i=0,r=[],e=[];n<this.kl&&i<t.kl;){var u=this._I(n),s=this.wI(n),o=this.gI(n),a=this.yI(n),c=t._I(i),h=t.wI(i),f=t.gI(i),v=t.yI(i),d=this.Ly(u,c),l=this.My(s,h),_=void 0;_=this.bw(u,c)?o&&f:this.bw(d,u)?o:f;var g=void 0;g=this.bw(s,h)?a&&v:this.bw(l,s)?a:v,(this.qw(d,l)||_&&g&&this.bw(d,l))&&(r.push(d,l),e.push(_,g));var w=this.Fw(this.wI(n),t.wI(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.TI(r,e)},n.NI=function(){var t=this.DI(),n=t.kl;if(0===n)return this.TI([t.CI(),t.RI()],[!1,!1]);var i=[],r=[],e=t._I(0);t.bw(e,t.CI())||(i.push(t.CI(),e),r.push(!1,!t.gI(0)));for(var u=0;u<n-1;u++)i.push(t.wI(u),t._I(u+1)),r.push(!t.yI(u),!t.gI(u+1));var s=t.wI(n-1);return t.bw(s,t.RI())||(i.push(s,t.RI()),r.push(!t.yI(n-1),!1)),t.TI(i,r)},n.OI=function(t){for(var n=0,i=0,r=this.kl,e=t.kl,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this._I(n),c=this.wI(n),h=t._I(i),f=t.wI(i);this.qw(a,h)||this.bw(a,h)&&this.qw(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.gI(n),s[o+1]=this.yI(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.gI(i),s[o+1]=t.yI(i),i++),o+=2}for(;n<r;)u[o]=this._I(n),u[o+1]=this.wI(n),s[o]=this.gI(n),s[o+1]=this.yI(n),n++,o+=2;for(;i<e;)u[o]=t._I(i),u[o+1]=t.wI(i),s[o]=t.gI(i),s[o+1]=t.yI(i),i++,o+=2;return this.TI(u,s)},n.xI=function(t){void 0===t&&(t=this.SI());var n=this.kl;if(n<2)return this;for(var i=[],r=[],e=this._I(0),u=this.wI(0),s=this.gI(0),o=this.yI(0),a=1;a<n;a++){var c=this._I(a),h=this.wI(a),f=this.gI(a),v=this.yI(a);this.qw(e,c)&&this.wy(u,h)||(this.bw(e,c)&&(s=f=s||f),this.bw(u,h)&&(o=v=o||v),this.kI(c,this.Fg(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.TI(i,r).DI()},n.DI=function(){for(var t=[],n=[],i=0;i<this.kl;i++){var r=this._I(i),e=this.wI(i),u=this.gI(i),s=this.yI(i);this.bw(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.TI(t,n)},n.BI=function(t){return this.kl?t.kl?this.OI(t).xI():this:t},n.LI=function(t){var n=this.DI(),i=t.DI(),r=n.NI(),e=i.NI(),u=r.II(i),s=e.II(n);return u.BI(s)},n.Ko=function(t){if(this.bw(t,this.SI()))return this;for(var n=[],i=[],r=0;r<this.kl;r++){var e=this.Fg(this._I(r),t),u=this.Fg(this.wI(r),t);n.push(e,u),i.push(this.gI(r),this.yI(r))}return this.TI(n,i)},n.MI=function(t){return this.DI().II(t.DI().NI())},n.DR=function(t,n){return this.UI(t,n)>=0},n.FI=function(t,n,i,r,e){return this.HI(t,n,i,r,e)>=0},n.VI=function(t,n,i,r,e){return this.XI(t,n,i,r,e)>=0},n.WI=function(t){if(t.kl!==this.kl)return!1;for(var n=0;n<this.kl;n++)if(!this.bw(this._I(n),t._I(n))||!this.bw(this.wI(n),t.wI(n))||this.gI(n)!==t.gI(n)||this.yI(n)!==t.yI(n))return!1;return!0},n.qI=function(t){for(var n=[],i=[],r=0;r<this.kl;r++)t(this._I(r),this.wI(r))&&(n.push(this._I(r),this.wI(r)),i.push(this.gI(r),this.yI(r)));return this.TI(n,i)},n.XI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.SI());for(var u=this.Qw(t,e),s=this.Fg(n,e),o=0;o<this.kl;o+=1)if(this.kI(this._I(o),s,!r||this.gI(o))&&this.kI(u,this.wI(o),!i||this.yI(o)))return o;return-1},n.HI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.SI());for(var u=this.Fg(t,e),s=this.Qw(n,e),o=0;o<this.kl;o+=1)if(this.kI(this._I(o),u,!i||this.gI(o))&&this.kI(s,this.wI(o),!r||this.yI(o)))return o;return-1},n.UI=function(t,n){return this.HI(t,t,!0,!0,n)},n.zI=function(t,n){void 0===n&&(n=this.SI());for(var i=this.Fg(t,n),r=this.kl-1;r>=0;r-=1)if(this.kI(this._I(r),i,this.gI(r)))return r;return-1},n.GI=function(t,n){void 0===n&&(n=this.SI());for(var i=this.Qw(t,n),r=0;r<this.kl;r+=1)if(this.kI(i,this.wI(r),this.yI(r)))return r;return-1},n.jI=function(t){return this.pI(t),this.TI([this._I(t),this.wI(t)],[this.gI(t),this.yI(t)])},n.QI=function(t,n){var i=this.UI(t,n);return i<0?void 0:this.jI(i)},L(t,[{key:"YI",get:function(){for(var t=this.SI(),n=0;n<this.kl;n++){var i=this.Qw(this.wI(n),this._I(n));t=this.Fg(t,i)}return t}}]),t}()),nA=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.Fw=function(t,n){return t<n?Q_.Bw:t===n?Q_.xw:Q_.Pw},i.Fg=function(t,n){return t+n},i.Qw=function(t,n){return t-n},i.Ww=function(t,n){return l.abs(t-n)},i.SI=function(){return 0},i.RI=function(){return 1/0},i.CI=function(){return-1/0},n.ZI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.JI=function(t){for(var i=[],r=[],e=0;e<t.kl;e++)i.push(t._I(e).Hy),i.push(t.wI(e).Hy),r.push(t.gI(e)),r.push(t.yI(e));return new n(i,r)},n.$I=function(t){return new n([t,t],[!0,!0])},i.TI=function(t,i){return new n(t,i)},i.AI=function(t){return t},n.KI=function(){return iA},n}(tA),iA=new nA([]);!function(t){t.tl="fullscreenchange",t.tN="fullscreensupportchange",t.Hl="fullscreenerror"}(Kp||(Kp={}));var rA=function(t){function n(){return t.call(this,Kp.Hl)||this}return M(n,t),n}(Eu),eA=new(function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.tw=function(){this.bo(new rA)},i.iw=function(){},i.Sv=function(){this.Io()},L(n,[{key:"nN",get:function(){return!1}},{key:"iN",get:function(){return!1}}]),n}(bu)),uA=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.gg=function(){},n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rN=0,n.eN=!1,n.uN=!0,n.sN=1,n.oN=!1,n.aN=1,n.K_=new f_,n.Tg=nA.KI().CR(),n.S_=NaN,n.R_=!1,n.Fo=void 0,n.I_=void 0,n.ig=void 0,n.Rg=!1,n.Pg=!0,n.Bg=nA.KI().CR(),n.Lg=jp.iI,n.Wl=ol.l_,n.Mg=nA.KI().CR(),n.PR=void 0,n.ng=new Ww,n.x_=0,n.tg=new f_,n.P_=0,n.GS=new Mp,n}M(n,t);var i=n.prototype;return i.lg=function(){},i._g=function(){},i.rg=function(){this.uN&&(this.uN=!1,this.bo(new Il(this.E_)),this.bo(new Np(this.E_)))},i.eg=function(){this.uN||(this.uN=!0,this.bo(new Pl(this.E_,this.Eg)),this.bo(new Rl(this.E_)))},i.og=function(t,n){return T.resolve()},i.ag=function(){return!1},i.cg=function(){},i.hg=function(){},i.wg=function(){return eA},i.bg=function(){},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.rN=0,this.oN=!1,this.eg(),this.bo(new Sl(this.rN));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Io(),this.K_.Sv(),this.ng.Sv(),this.tg.Sv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Eg",get:function(){},set:function(t){}},{key:"E_",get:function(){return this.rN},set:function(t){this.rN!==t&&(this.rN=t,this.oN=!0,this.bo(new Ml(this.E_)))}},{key:"W_",get:function(){return{Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"N_",get:function(){return this.eN},set:function(t){this.eN!==t&&(this.eN=t,this.bo(new Fl(this.E_,this.B_)))}},{key:"D_",get:function(){return this.uN}},{key:"C_",get:function(){return this.sN},set:function(t){this.sN!==t&&(this.sN=t,this.bo(new xl(this.E_,this.C_)))}},{key:"O_",get:function(){return this.oN}},{key:"B_",get:function(){return this.aN},set:function(t){this.aN!==t&&(this.aN=t,this.bo(new Fl(this.E_,this.B_)))}},{key:"LR",get:function(){return this.GS}}]),n}(bu)),sA=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,Gp.Ve,new uA)||this).cN=n,o.ec=i,o.pb=r,o.hN=e,o.fN=s,o.vN=new Ir(u,o.fN),o.vN.dN(o.cN),o.lN=new Qp(o.cN),o}M(n,t);var i=n.prototype;return i.fg=function(){t.prototype.fg.call(this),this.vN._N()},i.vg=function(t){jl(this,t)},i.dg=function(){},i.fI=function(t){return t.Vb(this.cN,this.vN,this.pb,this.ec,this.hN,this.fN)},i.gg=function(){return this.aI.gg()},i.yg=function(){return this.vN.gN.map(function(t){return t.hR})},i.Ro=function(n){t.prototype.Ro.call(this,n)},i.Oo=function(n){t.prototype.Oo.call(this,n)},i.Sv=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Sv.call(this);case 2:this.vN.Sv(),this.lN.Sv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"Sg",get:function(){return this.cN}}]),n}(Jp),oA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).cN=n,e.wN=i,e.yN=new f_,e.mN=new Ww,e.kN=r,e}M(n,t);var i=n.prototype;return i.mg=function(t){return!0},i._g=function(){},i.rg=function(){throw this.bo(new Wl(this.kN)),this.wN},i.eg=function(){},i.sg=function(){},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw ou(i),this.bo(new Wl(this.kN)),this.wN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lg=function(){},i.ug=function(){return T.resolve()},i.gg=function(){},i.wg=function(){return eA},i.yg=function(){return[]},i.fg=function(){},i.vg=function(t){},i.dg=function(){},i.ag=function(){return!1},i.cg=function(){},i.hg=function(){},i.bg=function(){},i.yl=function(){return T.resolve()},i.Sv=function(){return this.Io(),this.yN.Sv(),this.mN.Sv(),T.resolve()},L(n,[{key:"K_",get:function(){return this.yN}},{key:"Tg",get:function(){return nA.KI().CR()}},{key:"Eg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Ag",get:function(){}},{key:"E_",get:function(){return 0},set:function(t){}},{key:"S_",get:function(){return 0}},{key:"Sg",get:function(){return this.cN}},{key:"R_",get:function(){return!0}},{key:"Fo",get:function(){return this.wN}},{key:"I_",get:function(){return this.kN}},{key:"ig",get:function(){}},{key:"W_",get:function(){return{Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"N_",get:function(){return!1},set:function(t){}},{key:"Pg",get:function(){return!0}},{key:"D_",get:function(){return!0}},{key:"C_",get:function(){return 0},set:function(t){}},{key:"Bg",get:function(){return nA.KI().CR()}},{key:"Lg",get:function(){return jp.iI},set:function(t){}},{key:"Wl",get:function(){return ol.l_}},{key:"Mg",get:function(){return nA.KI().CR()}},{key:"O_",get:function(){return!1}},{key:"ng",get:function(){return this.mN}},{key:"x_",get:function(){return 0}},{key:"tg",get:function(){return this.yN}},{key:"P_",get:function(){return 0}},{key:"B_",get:function(){return 1},set:function(t){}},{key:"Rg",get:function(){return!1}}]),n}($d);function aA(t){if(t&&K(t))return de(de({},t),{integration:cA(t.integration),fairplay:gA(t.fairplay),widevine:hA(t.widevine),playready:fA(t.playready),clearkey:wA(t.clearkey),aes128:yA(t.aes128),integrationParameters:mA(t.integrationParameters),preferredKeySystems:kA(t.preferredKeySystems)})}function cA(t){if(nt(t))return t}function hA(t){if(t&&K(t))return{persistentState:vA(t.persistentState),distinctiveIdentifier:vA(t.distinctiveIdentifier),audioRobustness:dA(t.audioRobustness),videoRobustness:dA(t.videoRobustness),licenseAcquisitionURL:nt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:lA(t.licenseType),headers:t.headers,useCredentials:!!it(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:nt(t.certificate)||Hs(t.certificate)?t.certificate:void 0,certificateRequestProcessor:_A(t.certificateRequestProcessor),certificateResponseProcessor:_A(t.certificateResponseProcessor),licenseRequestProcessor:_A(t.licenseRequestProcessor),licenseResponseProcessor:_A(t.licenseResponseProcessor)}}function fA(t){if(t){var n=hA(t);if(n){var i=nt(t.customData)?t.customData:void 0;return de(de({},n),{customData:i})}}}function vA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function dA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function lA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function _A(t){if("function"==typeof t)return t}function gA(t){if(t){var n=hA(t);if(n){var i=nt(t.certificateURL)?t.certificateURL:void 0;return de(de({},n),{certificateURL:i})}}}function wA(t){if(t){var n=hA(t);if(n){var i=J(t.keys)?t.keys.map(function(t){return function(t){if(!t||!K(t))return;var n=t.id,i=t.value;if(!nt(n)||!nt(i))return;return{id:n,value:i}}(t)}).filter(Z):void 0;return de(de({},n),{keys:i})}}}function yA(t){if(K(t))return{useCredentials:it(t.useCredentials)?t.useCredentials:void 0}}function mA(t){if(K(t))return t}function kA(t){return t&&J(t)?t.map(function(t){return em(t)}).filter(Z):[De,Re,Oe]}var pA,AA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return M(n,t),n}(Eu),bA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).pN=[],r.AN=function(t){lu(function(){r.Ao(t)})},r.bN=i?r.AN:r.Ao,r}M(n,t);var i=n.prototype;return i.TN=function(t){t.Ro(this.bN),this.pN.push(t)},i.EN=function(t){t.Oo(this.bN),Ze(this.pN,t)},i.Sv=function(){this.Io();for(var t=0,n=this.pN;t<n.length;t++){n[t].Oo(this.bN)}tu(this.pN)},n}(Jd),TA=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n}(bA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(pA||(pA={}));var EA,SA=function(t){function i(n){var i;return(i=t.call(this)||this).SN=!1,i.RN=!1,i.Hd=void 0,i.IN=function(){return i.NN()},i.DN=function(){return i.CN()},i.ON=n,i.xN=i.PN=i.BN=i.LN=pA.INLINE,i.ON.Eo(Kp.tl,i.IN),i.ON.Eo(Kp.Hl,i.DN),i.MN(),i}M(i,t);var r=i.prototype;return r.Xd=function(){return t=this,i={get currentMode(){return t.UN()},requestMode:function(n){var i=IA(n);i&&t.FN(i)},supportsMode:function(n){var i=IA(n);return!!i&&t.HN(i)},addEventListener:function(t,i){n.Eo(t,i)},removeEventListener:function(t,i){n.No(t,i)}},(n=new bA(i,!0)).TN(t),i;var t,n,i},r.FN=function(t){this.VN(t,t)},r.VN=function(t,n){this.PN!==n&&(this.SN=!0,this.xN=t,this.XN(n,this.PN),t!==pA.FULLSCREEN&&(this.BN=t),this.SN=!1,this.MN())},r.UN=function(){return this.RN?pA.FULLSCREEN:pA.INLINE},r.HN=function(t){switch(t){case pA.FULLSCREEN:return this.ON.iN;case pA.INLINE:return!0}return!1},r.MN=function(){if(!this.SN){var t=this.PN,n=this.UN();this.PN=n,n!==pA.FULLSCREEN&&(this.LN=n),t!==n&&this.bo(new AA(n))}},r.XN=function(t,n){var i=t===pA.FULLSCREEN;this.RN=i,i!==this.ON.nN&&(i?this.ON.tw():this.ON.iw())},r.NN=function(){if(!this.SN){var t=this.ON.nN;this.RN=t,t?this.VN(pA.FULLSCREEN,pA.FULLSCREEN):t||this.xN!==pA.FULLSCREEN?this.MN():this.VN(this.BN,this.LN)}},r.CN=function(){this.NN(),this.bo(new Wl(new bo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Sv=function(){this.ON.Sv(),this.Io()},L(i,[{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}}]),i}(Jd),RA={E_:0,S_:NaN,R_:!1,Fo:void 0,I_:void 0,N_:!1,D_:!0,C_:1,Wl:ol.l_,O_:!1,x_:0,P_:0,B_:1};function IA(t){switch(t){case pA.INLINE:case pA.FULLSCREEN:case pA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(EA||(EA={}));var NA,DA,CA,OA,xA,PA,BA,LA,MA=function(){function t(){this.WN=[]}var n=t.prototype;return n.qN=function(t){var n=this.zN.filter(function(n){return n.GN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.jN=function(t){this.WN.push(t)},L(t,[{key:"zN",get:function(){return this.WN}}]),t}();MA.Ve=new MA,function(t){t.T_="PLAYING",t.QN="PAUSED",t.YN="SEEK",t.ZN="STALLED",t.JN="FAILED",t.$N="INITIAL_BUFFERING",t.KN="NO_ACCESS"}(NA||(NA={})),function(t){t.tD="HTTP_REQUEST_STATUS_CODE_1XX",t.nD="HTTP_REQUEST_STATUS_CODE_2XX",t.iD="HTTP_REQUEST_STATUS_CODE_3XX",t.rD="HTTP_REQUEST_STATUS_CODE_4XX",t.eD="HTTP_REQUEST_STATUS_CODE_5XX",t.uD="BUFFER_LENGTH",t.sD="BYTES_RECEIVED",t.oD="SEGMENT_READ_BITRATE",t.aD="SEGMENT_PROFILE_BITRATE",t.cD="NUMBER_OF_FRAMES_DROPPED",t.hD="PLAYBACK_POSITION",t.fD="NUMBER_OF_FRAMES_DECODED",t.vD="PLAYBACK_DELTA_TO_ORIGIN",t.dD="STREAM_DELTA_TO_ORIGIN",t.lD="ORIGIN_TIMESTAMP"}(DA||(DA={})),function(t){t._D="MANIFEST_URI",t.gD="ASSET_DURATION",t.wD="NUMBER_OF_CONTENT_PROFILES",t.yD="CDN",t.mD="CONTENT_TITLE",t.kD="SERVICE_NAME",t.pD="CONTENT_TYPE",t.bD="CONTENT_DESCRIPTION"}(CA||(CA={})),function(t){t.TD="shutdown_normal_shutdown"}(OA||(OA={})),function(t){t.ED="session/",t.SD="internalError/",t.RD="drmError/",t.ND="caError/",t.DD="networkError/"}(xA||(xA={})),function(t){t.CD="userAction",t.OD="endOfStreamReached"}(PA||(PA={})),function(t){t.PAUSE="xD",t.RESUME="PD"}(BA||(BA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(LA||(LA={}));var UA,FA,HA,VA,XA,WA="agama";function qA(t){return function(t){switch(t){case UA.NONE:case UA.HORIZONTAL:case UA.VERTICAL:return!0;default:return!1}}(t)?t:UA.NONE}function zA(t){switch(t){case"":return UA.NONE;case"horizontal":return UA.HORIZONTAL;case"vertical":return UA.VERTICAL;default:throw new v}}function GA(t){return{useSeamlessPeriodSwitch:jA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function jA(t){if(!t||!nt(t))return FA.nI;switch(t){case"always":return FA.BD;case"never":return FA.LD;default:return FA.nI}}function QA(t){return{discontinuityAlignment:YA(null==t?void 0:t.discontinuityAlignment)}}function YA(t){if(!t||!nt(t))return HA.nI;switch(t){case"playlist":return HA.MD;case"media":return HA.UD;default:return HA.nI}}function ZA(t,n,i){var r=function(t,n){var i=rl.h_;t.useCredentials?i=rl.c_:t.crossOrigin&&(i=fl(t.crossOrigin));i===rl.h_&&n&&n.vr&&n.vr[360]&&(i=rl.a_);return{useCredentials:i===rl.c_,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;Z(s)||(s=i&&Z(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;Z(o)||(o=n&&Z(n.timeServer)?n.timeServer:void 0);var a=Boolean(t.hlsDateRange);return Z(t.hlsDateRange)||(a=!(!i||!Z(i.hlsDateRange))&&Boolean(i.hlsDateRange)),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:Z(t.dash)?GA(t.dash):void 0,hls:Z(t.hls)?QA(t.hls):void 0}}function JA(t){if(null!==t)return t}function $A(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:JA(t.streamActivityMonitorID),adTagParameters:K(t.adTagParameters)?t.adTagParameters:{},authToken:JA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?de(de({},i),{availabilityType:"vod",videoID:r,contentSourceID:e}):void b.hs("A VOD DAI configuration was provided without valid contentSourceID which is required."):void b.hs("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?de(de({},i),{availabilityType:"live",assetKey:u}):void b.hs("A Live DAI configuration was provided without valid assetKey which is required.")}b.hs("A DAI configuration was provided without a valid availabilityType which is required.")}function KA(t){switch(t.integration){case"google-dai":return $A(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}function tb(t,n,i){var r=ZA(t,n,i),e=JA(t.src),u=t.type;u||(u=t.src?hl(t.src):void 0);var s=function(t,n){var i;i=Z(t.contentProtection)?t.contentProtection:Z(t.drm)?t.drm:Z(n)&&Z(n.contentProtection)?n.contentProtection:Z(n)&&Z(n.drm)?n.drm:void 0;return nb(i)}(t,n),o=Z(t.ssai)?KA(t.ssai):void 0;return de(de({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function nb(t){if(!Zy(t)||!t.integration)return t;switch(t.integration){case Sy:return n=t,i=rm(Ae.Xs,n),r=rm(Ae.Vs,n),e=n[Ae.Ws]&&rm(Ae.Ws,n),de({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function ib(t){if(!t)return!0;var n,i,r=!(yl(n=t.sources)||$(n)&&yl(n[0]))||ml(t.sources),e=!t.ads||(!(i=t.ads)||J(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function rb(t){if(t&&t.sources)return function t(n){if(nt(n))return n;if(wl(n))return n.src;if($(n)&&n.length>0)return t(n[0]);return}(t.sources)}function eb(t,n,i){return _l(t)?function(t,n,i){var r=de(de({},kl()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:VA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:XA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,nt(e)?e:$(e)&&nt(e[0])?e:K(u=e)&&nt(u.userId)&&($(u.externalId)||nt(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return XA.CHANNEL;case"event":return XA.EVENT;case"asset":default:return XA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Dd(t.contentProtected));t.assetInfo?r.assetInfo=Dd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!it(o.adImpressions)&&o.adImpressions,c=!!it(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=it(o.linearAdData)?o.linearAdData:s!==XA.ASSET):s!==XA.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=sb(r=ub(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=pl(),e=n&&(n.contentProtection||n.drm);if(nt(t)){if(r.src=t,r.type=hl(t),e){var u=aA(e);r.contentProtection=nb(u)}}else if(wl(t)||ll(t)){r.src=t.src,r.type=t.type||hl(t.src),r.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===el.v_||t.type===el.d_}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,a=aA(o);r.contentProtection=nb(a),t.ssai&&(r.ssai=KA(t.ssai)),r=ub(r,t)}return r=sb(r,n,i)}(t,n,i)}function ub(t,n){n.useCredentials?t.crossOrigin=rl.c_:n.crossOrigin&&(t.crossOrigin=fl(n.crossOrigin)),nt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Dd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Dd(n.useNativePlayback)),n.dash&&(t.dash=GA(n.dash)),n.hls&&(t.hls=QA(n.hls));var i=void 0!==n.experimentalRendering?Dd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Dd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function sb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Z(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Z(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===rl.h_&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=rl.a_),t.useCredentials=t.crossOrigin===rl.c_,nt(e)&&!t.timeServer&&(t.timeServer=e),t}function ob(t){var n={src:""};if(t&&t.src){if(n.src=xd(t.src),"default"in t&&(n.default=Dd(t.default)),n.kind=Gw(t.kind),function(t){switch(t){case b_.DEFAULT:case b_.SRT:case b_.TTML:case b_.WEBVTT:case b_.EMSG:case b_.EVENT_STREAM:case b_.ID3:case b_.CEA608:case b_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ab(t,n){if(tt(t))try{return n.qN(t).FD(t)}catch(t){return}}function cb(t){return nt(t.sources)&&""!==t.sources||K(t.sources)&&nt(t.sources.src)}function hb(t){return t.integration===EA.SPOTX&&!w(t.id)}function fb(t){return"freewheel"===t.integration}function vb(t,n,i){if(void 0===i&&(i=MA.Ve),ib(t))return{sources:[pl()]};var r=Sd(t);if(r.sources=function(t,n,i){if(yl(t))return[eb(t,n,i)];if($(t)&&yl(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(eb(u,n,i))}return r}return[pl()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!$(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=ab(e,n))&&(cb(e)||hb(e)||fb(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,a=!ml(r.sources),c=r.ads&&r.ads.length>0;if(a&&!c?delete r.ads:c&&!a&&(r.sources=[]),"textTracks"in r){var h=function(t){if(!$(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=ob(r)).src&&n.push(r)}return n}(r.textTracks);0===h.length?delete r.textTracks:r.textTracks=h}if("poster"in r&&(r.poster=xd(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=qA(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?zA(s.stereoMode):UA.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=bl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Sd(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==WA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=ql(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(UA||(UA={})),function(t){t.nI="auto",t.BD="always",t.LD="never"}(FA||(FA={})),function(t){t.nI="auto",t.MD="playlist",t.UD="media"}(HA||(HA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(VA||(VA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(XA||(XA={}));var db=function(){function t(t){this.HD=t}return t.prototype.VD=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.HD.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.HD.indexOf(t.charAt(n))<<18|this.HD.indexOf(t.charAt(n+1))<<12|(u=this.HD.indexOf(t.charAt(n+2)))<<6|(s=this.HD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.XD=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.HD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.HD.charAt(r)+this.HD.charAt(e)+this.HD.charAt(u)+this.HD.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.gm=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.WD=new t(t.gm.VD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function lb(t){return"string"==typeof t}function _b(t){return"number"==typeof t}var gb={}.toString;var wb,yb=Array.isArray||function(t){return"[object Array]"===gb.call(t)};function mb(t,n){return yb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(wb||(wb={}));var kb,pb=d.keys(wb).map(function(t){return wb[t]});function Ab(t){return-1!==pb.indexOf(t)}function bb(t){try{var n=db.WD.VD(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=lb(t.key),r=lb(t.customer_id),e=_b(t.generation_date),u=_b(t.expiration_date),s=mb(t.domains_page,lb),o=mb(t.domains_source,lb),a=mb(t.sdks,Ab),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function Tb(){return kb||(kb={nv:Or.href,qD:Cr.parent&&Cr.parent!==r,zD:Rb()}),kb}var Eb,Sb=["http:","https:","ftp:","ws:","wss:"];function Rb(){try{return Cr.top.location.href}catch(t){return Cr&&Cr.document&&Cr.document.referrer}}!function(t){t[t.GD=0]="GD",t[t.jD=1]="jD",t[t.QD=2]="QD"}(Eb||(Eb={}));var Ib,Nb=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.YD=t,this.ZD=n,this.JD=i,this.$D=r,this.KD=e,this.tC=u,this.nC=s,this.iC=o};!function(t){t.jD="expired",t.rC="invaliddomain",t.eC="invalidsource",t.Hl="error"}(Ib||(Ib={}));var Db=function(){function t(t,n,i){this.uC=t,this.sC=n,this.oC=i,this.aC=Lb(this.oC)}var n=t.prototype;return n.cC=function(t,n){var i=this;if(!ib(t)&&0!==n.JD.length&&!xb(n.JD)){var r=[];if(yl(t.sources)?r=[t.sources]:$(t.sources)&&(r=t.sources),!r.every(function(t){return i.hC(t,n)})){var e=Ib.eC,u=Ub.fC(e);throw new bo(Cb(e),u)}}},n.vC=function(n){return this.dC(n.nC)&&this.lC(n)?t._C(n.$D)?Eb.GD:Eb.jD:Eb.QD},n.dC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.gC(t)})},n.gC=function(t){return"ios"===function(t){switch(t){case wb.ANDROID:return P.dr;case wb.ANDROIDTV:case wb.FIRETV:return P._r;case wb.IOS:return P.gr;case wb.TVOS:return P.wr;case wb.CHROMECAST:case wb.CHROMECASTCAF:return P.yr;default:return P.hr}}(t)},t._C=function(t){var n=Number(new Date);return!!t&&n<=t},n.lC=function(t){return!(this.aC&&0!==t.ZD.length&&!xb(t.ZD))||!!(this.aC&&this.wC(t.ZD)&&this.yC(t.ZD))},n.wC=function(t){return Pb(this.oC.nv,t)},n.yC=function(t){if(!this.oC.qD)return!0;if(this.uC)return!0;var n=this.mC();return!!n&&Pb(n,t)},n.mC=function(){if(this.oC.qD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.oC.zD?this.oC.zD:void 0}},n.hC=function(n,i){return!!t.kC(n,i.JD)},t.kC=function(t,n){return Pb(this.pC(t),n)},t.pC=function(t){return nt(t)?t:wl(t)&&t.src||""},t}();function Cb(t){switch(t){case Ib.rC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ib.eC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ib.jD:return n.ErrorCode.LICENSE_EXPIRED;case Ib.Hl:return n.ErrorCode.LICENSE_ERROR}}function Ob(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function xb(t){return t.some(function(t){return"*"===t})}function Pb(t,n){var i=b.Hu(t);if(!Bb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Ob(i.hostname,e))return!0;if(Ob(Mr(t),e))return!0}return!1}function Bb(t){return-1!==Sb.indexOf(t.protocol)}function Lb(t){var n=b.Hu(t.nv);return Bb(n)&&!Ob(n.hostname,"localhost")&&!function(t){return Ob(t.hostname,"theoplayer.doubleclick.net")}(n)}var Mb,Ub=function(){function t(){}return t.fC=function(t){return t===Ib.rC?this.AC:t===Ib.eC?this.bC:t===Ib.jD?this.TC:this.EC},t}();function Fb(t){var n=[t.mA,t.SC,t.RC];switch(t.SC){case Mb.IC:n.push(t.Gl);break;case Mb.NC:n.push(t.E_),n.push(t.Fo);break;case Mb.DC:n.push(t.Fo)}return n}Ub.EC="The license for this player is invalid.",Ub.TC="The usage license for this video player has expired.",Ub.AC="The current domain is incompatible with the license for this player.",Ub.bC="The provided video source is incompatible with the license for this player.",function(t){t[t.IC=1]="IC",t[t.NC=4]="NC",t[t.DC=5]="DC"}(Mb||(Mb={}));for(var Hb=new Array(256),Vb=0;Vb<256;Vb+=1)Hb[Vb]=(Vb<16?"0":"")+Vb.toString(16);function Xb(){var t=Yt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Hb[255&n]+Hb[n>>>8&255]+Hb[n>>>16&255]+Hb[n>>>24&255]+"-"+Hb[255&i]+Hb[i>>>8&255]+"-"+Hb[i>>>16&15|64]+Hb[i>>>24&255]+"-"+Hb[63&r|128]+Hb[r>>>8&255]+"-"+Hb[r>>>16&255]+Hb[r>>>24&255]+Hb[255&e]+Hb[e>>>8&255]+Hb[e>>>16&255]+Hb[e>>>24&255]}var Wb=function(){function t(t){this.HD=t}var n=t.prototype;return n.VD=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.HD.indexOf(t.charAt(n))<<18|this.HD.indexOf(t.charAt(n+1))<<12|(u=this.HD.indexOf(t.charAt(n+2)))<<6|(s=this.HD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.XD=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.HD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.HD.charAt(i)+this.HD.charAt(r)+this.HD.charAt(e)+this.HD.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function qb(){return b.as()}Wb.gm=new Wb(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Wb.WD=new Wb(Wb.gm.VD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var zb,Gb="theoplayer-session-id";function jb(){if(!zb){var t=Fo.jo(Gb);t?zb=t:(zb=Xb(),Fo.Dc(Gb,zb))}return zb}var Qb=/[^\x00-\x7E]/g;function Yb(t){return"\\u"+Ar(t.charCodeAt(0).toString(16),4,"0")}var Zb=0,Jb=1,$b=6e4;function Kb(t){var n,i,r,e,u,s=(n=function(t){return[t.OC,t.Da,t.YD,t.Pk,t.xC,t.BC,t.LC.map(Fb)]}(t),i=[],r=n,e=function(t,n){if(K(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Qb,Yb));return Wb.WD.XD(s)}var tT=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=Wb.gm),void 0===e&&(e=Zb),void 0===u&&(u=Jb),this.hE=t,this.pb=n,this.MC=i,this.UC=r,this.FC=e,this.HC=u,this.VC=[],this.XC=null,this.WC=0,this.qC="unknown",this.zC=0,this.GC=function(){qb()-s.WC>$b&&s.cr()},this.jC=function(){s.cr(!0)},Dr.QC(this.jC),c(this.GC,$b)}var n=t.prototype;return n.YC=function(){return Boolean(this.xC)},n.ZC=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.MC.JC();case 2:if(t.sent.iC){t.next=5;break}return t.abrupt("return");case 5:return i={SC:Mb.IC,RC:Yt(),Gl:n},t.next=8,this.$C(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.KC=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={SC:Mb.NC,RC:Yt(),E_:i,Fo:n},t.next=3,this.$C(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.tO=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={SC:Mb.DC,RC:Yt(),Fo:n},t.next=3,this.$C(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$C=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.MC.JC();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.UC.XD(i.YD)){t.next=6;break}if(n.SC===Mb.DC){t.next=6;break}return t.abrupt("return");case 6:if(n.SC===Mb.IC?this.nO():this.YC()||this.nO(),n.mA=this.zC++,this.VC.push(n),(r=n.SC)!==Mb.IC&&r!==Mb.DC){t.next=14;break}return t.next=12,this.cr();case 12:t.next=19;break;case 14:if(!(this.VC.length>this.FC)){t.next=19;break}return t.next=17,this.iO();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.cr=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.VC.length>0)){t.next=6;break}return t.next=4,this.iO(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.rO=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.MC.JC();case 2:return i=t.sent,t.abrupt("return",{OC:Yt(),Da:jb(),YD:this.UC.XD(i.YD)||"dev",Pk:this.hE,xC:this.XC,BC:this.qC,LC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.iO=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.VC.splice(0,this.HC),t.next=4,this.rO(i);case 4:r=t.sent,n?this.Ev(r):this.eO(r),this.WC=qb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.eO=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Kb(n),r=new Sf({nv:"https://license.theoplayer.com",Mf:i,bv:!1,Zf:qo.ze,Yf:{"Content-Type":Km.wE},kv:4e3,mv:pf.POST}),t.prev=2,t.next=5,this.pb.Kf(r);case 5:return e=t.sent,t.next=8,e.Pf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Ev=function(t){var n=Kb(t);this.pb.Ev({nv:"https://license.theoplayer.com",Mf:n,Lf:Km.wE})},n.nO=function(){this.YC()&&this.cr(),this.XC=Xb(),this.zC=0},n.Sv=function(){Dr.uO(this.jC),this.cr()},L(t,[{key:"LC",get:function(){return this.VC}},{key:"xC",get:function(){return this.XC}}]),t}();var nT=!j._e&&!j.Se;function iT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var rT=function(){function t(t){this.Hd=void 0,this.sO=void 0,this.$R=t}var n=t.prototype;return n.oO=function(t){if(!t||!t.drawImage)return!1;var n=this.$R.gg();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.aO=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.$R,a=o.gg();if(!a)return!1;if(!nT){this.sO||(this.sO=e.createElement("canvas"));var c=this.sO,h=c.getContext("2d"),v=o.P_,d=o.x_,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===v&&_===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var g=!1;v>0&&iT(h,v-1,0)&&(c.width=l,g=!0),d>0&&iT(h,0,d-1)&&(c.height=_,g=!0),g&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,i,r,u,s,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},L(t,[{key:"Vd",get:function(){return this.Hd||(this.Hd=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.oO.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.aO(n,i,r,e,u,s)}}));var t}}]),t}(),eT=function(t){function n(n,i){var r;return(r=t.call(this,"cO")||this).ts=n,r.vp=i,r}return M(n,t),n.prototype.Xd=function(){return new uT(this.ts,this.vp)},n}(fd),uT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return M(n,t),n}(Eu),sT=function(t,n){this.Sg=t,this.hO=n},oT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).fO=0,r.vO=0,r.dO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.vO=n.width,r.fO=n.height,r.hO(r.vO,r.fO)}},r.lO=new Cr.ResizeObserver(r.dO),r.lO.observe(r.Sg),r}return M(n,t),n.prototype.Sv=function(){this.lO.disconnect()},L(n,[{key:"_O",get:function(){return this.fO}},{key:"gO",get:function(){return this.vO}}]),n}(sT),aT=0;function cT(t){var n=qb(),i=l.max(0,16-(n-aT)),r=o(function(){return t(n+i)},i);return aT=n+i,r}var hT,fT=a,vT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,dT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function lT(){return hT||(hT=Cr&&Cr.document&&Cr.document.createElement("span")),hT}vT&&dT||(vT=cT,dT=fT),vT=vT.bind(t),dT=dT.bind(t);var _T=["Webkit","Moz","O","ms"],gT=(function(){var t=!1;try{if(void 0!==Cr&&"function"==typeof Cr.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Cr.addEventListener("testPassiveEventSupport",S,n),Cr.removeEventListener("testPassiveEventSupport",S,n)}}catch(t){}}(),_e());function wT(t){return gT.has(t)||gT.set(t,function(t){var n=lT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<_T.length;r++){var e=_T[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),gT.get(t)}function yT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function mT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[wT("transition")]="0s"}var kT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).wO=void 0,e.yO=0,e.vO=NaN,e.fO=NaN,e.mO=void 0,e.yl=function(){e.kO.style.width=1e5+"px",e.kO.style.height=1e5+"px",e.pO.scrollLeft=1e5,e.pO.scrollTop=1e5,e.AO.scrollLeft=1e5,e.AO.scrollTop=1e5,0===e.AO.scrollTop&&vT(e.yl)},e.bO=function(){var t=e.gO,n=e._O;e.hO(t,n),e.vO=t,e.fO=n,e.yl(),e.yO=0},e.TO=function(){if(!e.yO){var t=e.gO,n=e._O;t===e.vO&&n===e.fO||(e.yO=vT(e.bO))}},e.EO=function(){e.mO||(e.mO=o(e.SO,66))},e.SO=function(){e.mO=void 0,e.RO()},e.RO=function(){e.TO()},e.Pa(r),e}M(n,t);var i=n.prototype;return i.IO=function(){var t,n=this.Sg,i=e.createElement("div");return this.pO=e.createElement("div"),this.kO=e.createElement("div"),this.AO=e.createElement("div"),this.NO=e.createElement("div"),yT(this.pO),yT(this.AO),mT(this.kO),mT(t=this.NO),t.style.width="200%",t.style.height="200%",i.appendChild(this.pO),i.appendChild(this.AO),this.pO.appendChild(this.kO),this.AO.appendChild(this.NO),n&&n.appendChild(i),this.TO(),this.pO.addEventListener("scroll",this.TO),this.AO.addEventListener("scroll",this.TO),i},i.Pa=function(t){var n=this.Sg,i=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.wO=this.IO(),r&&r.addEventListener("resize",this.EO)},i.Sv=function(){this.wO&&(dT(this.yO),this.yO=0,this.pO.removeEventListener("scroll",this.TO),this.AO.removeEventListener("scroll",this.TO),Hr(this.wO),this.wO=void 0,r&&r.removeEventListener("resize",this.EO))},L(n,[{key:"_O",get:function(){return this.Sg&&this.Sg.getBoundingClientRect().height||this.fO||0}},{key:"gO",get:function(){return this.Sg&&this.Sg.getBoundingClientRect().width||this.vO||0}}]),n}(sT),pT=function(t){function n(n){var i;return(i=t.call(this)||this).lO=void 0,i.dO=function(t,n){i.bo(new eT(t,n))},i.Sg=n,i}M(n,t);var i=n.prototype;return i.Pa=function(t){this.lO||("function"==typeof Cr.ResizeObserver?this.lO=new oT(this.Sg,this.dO):this.lO=new kT(this.Sg,this.dO,t))},i.Sv=function(){this.Io(),this.lO&&(this.lO.Sv(),this.lO=void 0)},L(n,[{key:"_O",get:function(){return this.lO?this.lO._O:0}},{key:"gO",get:function(){return this.lO?this.lO.gO:0}}]),n}(bu),AT=function(t){function n(){return t.call(this,Kp.tl)||this}return M(n,t),n}(Eu);var bT=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{DO:i[0],CO:i[1],OO:i[2],xO:i[3],PO:i[4],BO:i[5]}}}(),TT=function(t){function n(){return t.call(this,Kp.tN)||this}return M(n,t),n}(Eu),ET=function(t){function n(i){var r;return(r=t.call(this)||this).nN=!1,r.LO=function(){return r.IN()},r.MO=function(){return r.DN()},r.Sg=i,r.iN=n.UO(i),e.addEventListener(bT.PO,r.LO),r.IN(),r}M(n,t),n.UO=function(t){return Boolean(bT&&e[bT.xO]&&bT.DO in t)};var i=n.prototype;return i.tw=function(){var t=this.Sg[bT.DO]();t&&t.then?t.then(this.LO,this.MO):(e.removeEventListener(bT.BO,this.MO),e.addEventListener(bT.BO,this.MO))},i.iw=function(){var t=e[bT.CO]();t&&t.then?t.then(this.LO,this.MO):(e.removeEventListener(bT.BO,this.MO),e.addEventListener(bT.BO,this.MO))},i.IN=function(){var t=this.nN,n=this.Sg===e[bT.OO];this.nN=n,t!==n&&this.bo(new AT)},i.DN=function(){this.bo(new rA)},i.Sv=function(){this.Io(),e.removeEventListener(bT.PO,this.LO),e.removeEventListener(bT.BO,this.MO)},n}(bu),ST=function(t){function n(i){var r;return(r=t.call(this)||this).nN=!1,r.LO=function(){return r.IN()},r.Sg=i,r.iN=n.UO(i),r.Sg.addEventListener("webkitbeginfullscreen",r.LO),r.Sg.addEventListener("webkitendfullscreen",r.LO),r.Sg.addEventListener("webkitpresentationmodechanged",r.LO),r.IN(),r}M(n,t),n.UO=function(t){return j._e&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.tw=function(){var t=this;this.Sg.webkitSupportsPresentationMode&&this.Sg.webkitSupportsPresentationMode("fullscreen")?j._e?requestAnimationFrame(function(){return t.Sg.webkitSetPresentationMode("fullscreen")}):this.Sg.webkitSetPresentationMode("fullscreen"):this.Sg.webkitEnterFullscreen()},i.iw=function(){this.Sg.webkitSupportsPresentationMode&&this.Sg.webkitSupportsPresentationMode("inline")?this.Sg.webkitSetPresentationMode("inline"):this.Sg.webkitExitFullscreen()},i.IN=function(){var t,n=this.nN;t=this.Sg.webkitPresentationMode?"fullscreen"===this.Sg.webkitPresentationMode:!!this.Sg.webkitDisplayingFullscreen,this.nN=t,n!==t&&this.bo(new AT)},i.Sv=function(){this.Io(),this.Sg.removeEventListener("webkitbeginfullscreen",this.LO),this.Sg.removeEventListener("webkitendfullscreen",this.LO),this.Sg.removeEventListener("webkitpresentationmodechanged",this.LO)},n}(bu),RT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).FO=[],n.HO=void 0,n.RN=!1,n.IN=function(){var t=n.RN,i=n.VO();t!==i&&(n.RN=i,n.bo(new AT))},n}M(n,t);var i=n.prototype;return i.tw=function(){this.HO?this.HO.tw():this.bo(new rA)},i.iw=function(){for(var t=0,n=this.FO;t<n.length;t++){var i=n[t];i.nN&&i.iw()}},i.XO=function(t){this.HO=t},i.WO=function(t){this.FO.push(t),t.Eo(Kp.tl,this.IN),t.Eo(Kp.Hl,this.Ao),this.IN()},i.qO=function(t){Ze(this.FO,t),t.No(Kp.tl,this.IN),t.No(Kp.Hl,this.Ao)},i.VO=function(){for(var t=0,n=this.FO;t<n.length;t++){if(n[t].nN)return!0}return!1},i.yl=function(){this.HO=void 0,this.RN=!1;for(var t=this.FO.slice(),n=0;n<t.length;n++){var i=t[n];this.qO(i),i.Sv()}this.IN()},i.Sv=function(){this.Io(),this.yl()},L(n,[{key:"iN",get:function(){return!!this.HO&&this.HO.iN}},{key:"nN",get:function(){return this.RN}}]),n}(bu),IT=function(t){function n(n,i){var r;return(r=t.call(this)||this).zO=!1,r.GO=function(){return r.Ea()},r.IN=function(t){r.zO||r.bo(t)},r.$R=n,r.jO=i,r.QO=eA,r.YO(),r.$R.Eo(Wo.Wc,r.GO),r.Ea(),r}M(n,t);var i=n.prototype;return i.tw=function(){this.jO&&this.QO.tw()},i.iw=function(){this.QO.iw()},i.YO=function(){this.QO.Eo(Kp.tl,this.IN),this.QO.Eo(Kp.Hl,this.Ao)},i.ZO=function(){this.QO.No(Kp.tl,this.IN),this.QO.No(Kp.Hl,this.Ao)},i.Ea=function(){var t=this.QO,n=this.$R.wg();if(t!==n){this.zO=!0;var i=this.nN,r=this.iN;i&&this.iw(),this.ZO(),this.QO=n,this.YO(),i&&!this.nN&&this.iN?this.tw():this.iw(),this.zO=!1,r!==this.iN&&this.bo(new TT),i!==this.nN&&this.bo(new AT)}},i.Sv=function(){this.Io(),this.ZO(),this.$R.No(Wo.Wc,this.GO)},L(n,[{key:"iN",get:function(){return!!this.jO&&this.QO.iN}},{key:"nN",get:function(){return this.QO.nN}}]),n}(bu);function NT(t){var n;return{get url(){return t.nv},get method(){return t.mv},get headers(){return n||(n=t.Yf.mh()),n},get body(){return t.Mf},get useCredentials(){return t.bv},get type(){return PT(t.Gs)},get subType(){return LT(t.pv)},get mediaType(){return UT(t.Av)},get responseType(){return CT(t.Zf)}}}function DT(t){switch(t.toLowerCase()){case"arraybuffer":return qo.gh;case"json":return qo.wh;case"stream":return qo.yh;case"text":default:return qo.ze}}function CT(t){return t}function OT(t){switch(t.toUpperCase()){case"POST":return pf.POST;case"PUT":return pf.PUT;case"DELETE":return pf.DELETE;case"HEAD":return pf.HEAD;case"OPTIONS":return pf.OPTIONS;case"GET":default:return pf.GET}}function xT(t){switch(t.toLowerCase()){case"manifest":return Af.uv;case"segment":return Af.sv;case"content-protection":return Af.ov;default:return Af.ev}}function PT(t){return t}function BT(t){switch(t.toLowerCase()){case"initialization-segment":return bf.av;case"fairplay-license":return bf.cv;case"fairplay-certificate":return bf.hv;case"widevine-license":return bf.fv;case"widevine-certificate":return bf.vv;case"playready-license":return bf.dv;case"clearkey-license":return bf.lv;case"aes128-key":return bf._v;default:return bf.ev}}function LT(t){return t}function MT(t){switch(t.toLowerCase()){case"audio":return Tf.gv;case"video":return Tf.wv;case"text":return Tf.ze;case"image":return Tf.yv;case"":default:return Tf.ev}}function UT(t){return t}var FT=function(){function t(t,n){this.JO=t,this.$O=n,this.KO=new Gs,this.tx=[],this.Hd=void 0,this.nx=!1,this.Uv=void 0,this.ix=0}var n=t.prototype;return n.bk=function(){this.nx=!0,this.KO.oa(null)},n.ex=function(){this.KO.aa(this.tx)},n.ux=function(t){if(!this.sx)throw new v("Cannot respond more than once");if(!K(t))throw new v("Expected valid response");this.Uv=this.ox(t),this.bk()},n.ax=function(){try{var t=this.$O(this.Vd);t?this.hx(t):this.vx||this.lx||this.bk()}catch(t){this.ex()}},n.hx=function(t){if(this.lx)throw new f("Request has been redirected or a response already exists");if(rt(t))this._x(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new Gs;try{var i=t(function(t){t?n.aa(t):n.oa(void 0)});rt(i)&&n.oa(i)}catch(t){n.aa(t)}this._x(n.sa)}},n._x=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ix++,t.next=4,n;case 4:this.ix--,this.vx||this.lx||(this.tx.length?this.ex():this.bk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.ix--,this.tx.push(t.t0),this.vx||this.lx||this.ex();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"gx",get:function(){return this.KO.sa}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.wx()),this.Hd}},{key:"lx",get:function(){return this.nx}},{key:"sx",get:function(){return!this.nx}},{key:"vx",get:function(){return this.ix>0}},{key:"Fv",get:function(){return this.Uv}}]),t}(),HT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).yx=r,e.ax(),e}M(n,t),n.mx=function(t,n,i){var r=void 0===t.body?i:t.body;return new Ef({pu:r,Kf:n.Kf,Zf:n.Kf.Zf,Yf:t.headers,Qf:t.status,Jf:t.statusText,tv:t.url,$f:!0},n)};var i=n.prototype;return i.wx=function(){return i=NT((t=this).Kf),{get closed(){return!t.sx},get request(){return i},get url(){return t.nv},get status(){return t.Qf},get statusText(){return t.Jf},get headers(){return n||(n=t.Yf.mh()),n},get body(){return t.Mf},respondWith:function(n){return t.ux(n)},waitUntil:function(n){return t.hx(n)}};var t,n,i},i.ox=function(t){return n.mx(t,this.JO,this.yx)},L(n,[{key:"Mf",get:function(){return this.yx}},{key:"Yf",get:function(){return this.JO.Yf}},{key:"Kf",get:function(){return this.JO.Kf}},{key:"Fv",get:function(){return this.Uv}},{key:"Qf",get:function(){return this.JO.Qf}},{key:"Jf",get:function(){return this.JO.Jf}},{key:"nv",get:function(){return this.JO.tv}}]),n}(FT),VT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).kx=void 0,e.Ax=r,e.ax(),e}M(n,t);var i=n.prototype;return i.wx=function(){return t=this,{get url(){return t.nv},get method(){return t.mv},get headers(){return n||(n=t.Yf.mh()),n},get body(){return t.Mf},get closed(){return!t.sx},get useCredentials(){return t.bv},get type(){return PT(t.Gs)},get subType(){return LT(t.pv)},get mediaType(){return UT(t.Av)},get responseType(){return CT(t.Zf)},redirect:function(n){return t.bx(n)},respondWith:function(n){return t.ux(n)},waitUntil:function(n){return t.hx(n)}};var t,n},i.ox=function(t){var n=this.JO.Mf,i=new Ef({pu:n,Yf:{},Kf:this.JO,tv:this.JO.nv,Zf:this.JO.Zf,Qf:200,Jf:"OK"});return HT.mx(t,i,n)},i.bx=function(t){if(!this.sx)throw new v("Cannot redirect, already redirected or has a response");var n;n=nt(t)?{url:t}:t,this.kx=function(t,n){return new Sf({nv:void 0===t.url?n.nv:t.url,mv:void 0!==t.method?OT(t.method):void 0,Yf:t.headers,Mf:t.body,bv:t.useCredentials,Gs:void 0!==t.type?xT(t.type):void 0,pv:void 0!==t.subType?BT(t.subType):void 0,Av:void 0!==t.mediaType?MT(t.mediaType):void 0,Zf:void 0!==t.responseType?DT(t.responseType):void 0},n)}(n,this.JO),this.bk()},L(n,[{key:"Mf",get:function(){return this.JO.Mf}},{key:"sx",get:function(){return this.Ax&&!this.nx}},{key:"Yf",get:function(){return this.JO.Yf}},{key:"mv",get:function(){return this.JO.mv}},{key:"Tx",get:function(){return this.kx}},{key:"Fv",get:function(){return this.Uv}},{key:"Zf",get:function(){return this.JO.Zf}},{key:"kv",get:function(){return this.JO.kv}},{key:"mo",get:function(){return this.JO.mo}},{key:"Gs",get:function(){return this.JO.Gs}},{key:"pv",get:function(){return this.JO.pv}},{key:"Av",get:function(){return this.JO.Av}},{key:"nv",get:function(){return this.JO.nv}},{key:"bv",get:function(){return this.JO.bv}},{key:"Tv",get:function(){return this.JO.Tv}}]),n}(FT);var XT,WT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new qT(n);return(r=t.call(this,e,i)||this).Ex=e,r}M(n,t);var i=n.prototype;return i.Sx=function(t){this.Ex.Sx(t)},i.Rx=function(t){this.Ex.Rx(t)},i.Ix=function(t){this.Ex.Ix(t)},i.Nx=function(t){this.Ex.Nx(t)},i.Dx=function(t){this.Ex.Dx(t)},n}(Nf),qT=function(){function t(t){this.Cx=[],this.Ox=[],this.Rv=t}var n=t.prototype;return n.Kf=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.xx(n,n.mo);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Df)){t.next=12;break}return t.next=11,this.Px(t.t0,n.mo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.Bx(i,n.mo);case 15:if(!kf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Of(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Ev=function(t){return this.Rv.Ev(t)},n.xx=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ou(i),r=n,u=0,s=this.Cx.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],ou(i),(a=new VT(r,o,!e)).lx){t.next=17;break}return t.prev=8,t.next=11,a.gx;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:a.Tx&&!e?r=a.Tx:a.Fv&&!e&&(e=a.Fv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Rv.Kf(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Px=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Of?n.Fv:new Ef({pu:null,Kf:n.Kf,Qf:0,Jf:""}),t.next=3,this.Bx(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!kf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Of(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Bx=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.Ox.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],ou(i),t.next=7,T.resolve(r.na().pu(i));case 7:if(o=t.sent,(a=new HT(r,s,o)).lx){t.next=19;break}return t.prev=10,t.next=13,a.gx;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=a.Fv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Sx=function(t){this.Cx.unshift(t)},n.Rx=function(t){this.Cx.push(t)},n.Ix=function(t){Ze(this.Cx,t)},n.Nx=function(t){this.Ox.unshift(t)},n.Dx=function(t){Ze(this.Ox,t)},n.Sv=function(){this.Rv.Sv(),tu(this.Cx),tu(this.Ox)},t}(),zT=function(){function t(t){this.pb=t}var n=t.prototype;return n.Sx=function(t){this.pb.Sx(t)},n.Ix=function(t){this.pb.Ix(t)},n.Nx=function(t){this.pb.Nx(t)},n.Dx=function(t){this.pb.Dx(t)},L(t,[{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=(t=this,{addRequestInterceptor:function(n){t.Sx(n)},removeRequestInterceptor:function(n){t.Ix(n)},addResponseInterceptor:function(n){t.Nx(n)},removeResponseInterceptor:function(n){t.Dx(n)}})),this.Hd}}]),t}(),GT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Lx=n,e.pb=i,e.hN=r,e.Lx.Eo(Wo.Yc,e.Ao),e.Lx.Eo(Wo.Qc,e.Ao),e}M(n,t);var i=n.prototype;return i.Mx=function(t){this.hN.Mx(t)},i.Sx=function(t){this.pb.Sx(t)},i.Ix=function(t){this.pb.Ix(t)},i.Nx=function(t){this.pb.Nx(t)},i.Dx=function(t){this.pb.Dx(t)},i.Sv=function(){this.Io(),this.Lx.No(Wo.Yc,this.Ao),this.Lx.No(Wo.Qc,this.Ao)},L(n,[{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=(t=this,{get online(){return t.Pg},get estimator(){return n=t.Ux,{get bandwidth(){return n.VS},get roundTripTime(){return n.XS}};var n},setEstimator:function(n){t.Mx(function(t){if(t)return{get VS(){return Od(t.bandwidth)},get XS(){return Od(t.roundTripTime)},HS:function(n){return function(t){if(t)return{Fx:function(n){t.markRequestStart(n)},Hx:function(n){t.markResponseStart(n)},Vx:function(n,i){t.markResponseData(n,i)},Xx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(NT(n)))}}}(n))},addRequestInterceptor:function(n){t.Sx(n)},removeRequestInterceptor:function(n){t.Ix(n)},addResponseInterceptor:function(n){t.Nx(n)},removeResponseInterceptor:function(n){t.Dx(n)},addEventListener:function(n,i){t.Eo(n,i)},removeEventListener:function(n,i){t.No(n,i)}})),this.Hd}},{key:"Pg",get:function(){return this.Lx.Pg}},{key:"Ux",get:function(){return this.hN.Ux}}]),n}(Jd);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(XT||(XT={}));var jT=30,QT=1,YT=5;function ZT(t,n,i,r,e,u){var s=[],o=t-l.max(u,QT),a=t+e;if(n&&i){var c=Wt(i,QT,YT),h=n-c;o=l.min(o,h);var f=n+i+c;a=l.max(a,f)}return 0!==o&&r.VI(0,o)&&s.push([0,o]),r.VI(a,1/0)&&s.push([a,1/0]),s}var JT={type:XT.BANDWIDTH},$T=20,KT=60;function tE(t){var n,i,r,e=Sd(JT);return nt(t)?e.type=nE(t):K(t)&&function(t){switch(t){case XT.PERFORMANCE:case XT.QUALITY:case XT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=nE(t.type)),K(t)&&K(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Cd(n.bitrate),w(r)||(i.bitrate=r),i)),e}function nE(t){switch(t){case"bandwidth":return XT.BANDWIDTH;case"performance":return XT.PERFORMANCE;case"quality":return XT.QUALITY}}var iE=function(t){function n(n){var i;return(i=t.call(this,"qx")||this).Wx=n,i}return M(n,t),n}(Eu),rE=function(t){function n(n){var i;return(i=t.call(this,"Gx")||this).zx=n,i}return M(n,t),n}(Eu),eE=function(t){function n(n){var i;return(i=t.call(this,"Qx")||this).jx=n,i}return M(n,t),n}(Eu),uE=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).Hd=(i=rn(n),{get strategy(){return{metadata:(t=i.zx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.zx=tE(t)},get targetBuffer(){return i.Wx},set targetBuffer(t){var n=Cd(t);w(n)||(i.Wx=n>KT?KT:n)},get bufferLookbackWindow(){return i.jx},set bufferLookbackWindow(t){var n=Cd(t);w(n)||(i.jx=n<=0?jT:n)}}),n.Yx=JT,n.Zx=$T,n.Jx=jT,n.$x=void 0,n}M(n,t);var i=n.prototype;return i.Jb=function(t){this.Kx=t},i.Mx=function(t){this.$x=t},L(n,[{key:"tP",get:function(){switch(this.Yx.type){case XT.PERFORMANCE:return 0;case XT.QUALITY:return 1/0;case XT.BANDWIDTH:return this.Yx.metadata&&void 0!==this.Yx.metadata.bitrate?this.Yx.metadata.bitrate:8*nl.e_();default:return 8*nl.e_()}}},{key:"Vd",get:function(){return this.Hd}},{key:"zx",get:function(){return this.Yx},set:function(t){this.Yx=t,this.bo(new rE(t))}},{key:"Wx",get:function(){return this.Zx},set:function(t){this.Zx=t,this.bo(new iE(t))}},{key:"jx",get:function(){return this.Jx},set:function(t){this.Jx=t,this.bo(new eE(t))}},{key:"Ux",get:function(){var t;return null!==(t=this.$x)&&void 0!==t?t:this.Kx.LR}}]),n}(bu),sE=function(t){function n(){return t.call(this,"nl")||this}return M(n,t),n.prototype.Xd=function(){return new oE},n}(fd),oE=function(t){function n(){return t.call(this,"change")||this}return M(n,t),n}(Eu),aE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).nP=function(t){var n;n=t,Boolean(n&&n.Vd)&&lu(function(){r.bo(t.Vd)})},r.iP=n,r.iP.Ro(r.nP),r}return M(n,t),n.prototype.Sv=function(){this.Io(),this.iP.Oo(this.nP)},n}(Jd),cE=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n}(aE);var hE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mw=0,n.kw=1/0,n}M(n,t);var i=n.prototype;return i.yl=function(){0===this.mw&&this.kw===1/0||(this.mw=0,this.kw=1/0,this.bo(new sE))},i.rP=function(){return new nA([this.ew,this.uw],[!0,!0])},L(n,[{key:"ew",get:function(){return this.mw},set:function(t){if(this.uw<=t)throw new f("Start time of a clip should be smaller than the end time.");this.mw!==t&&(this.mw=t,this.bo(new sE))}},{key:"uw",get:function(){return this.kw},set:function(t){if(t<=this.ew)throw new f("End time of a clip should be larger than the start time.");this.kw!==t&&(this.kw=t,this.bo(new sE))}},{key:"Vd",get:function(){var t,n,i;return this.Hd||(this.Hd=(i={get startTime(){return t.ew},set startTime(n){t.ew=n},get endTime(){return t.uw},set endTime(n){t.uw=n},addEventListener:function(t,i){n.Eo(t,i)},removeEventListener:function(t,i){n.No(t,i)}},n=new aE(t=this,i),i)),this.Hd}}]),n}(Jd),fE=function(t){function n(n){var i;return(i=t.call(this)||this).eP=n,i.uP=function(t){i.sP(t)||i.bo(t)},i.eP.Ro(i.uP),i}M(n,t);var i=n.prototype;return i.oP=function(){return this.eP.K_},i.yg=function(){return this.eP.yg()},i.aP=function(){return this.eP.Tg},i.cP=function(){return this.eP.Ag},i.hP=function(){return this.eP.Eg},i.fP=function(t){this.eP.Eg=t},i.vP=function(){return this.eP.E_},i.dP=function(t){this.eP.E_=t},i.lP=function(){return this.eP.S_},i._P=function(){return this.eP.Sg},i.gP=function(){return this.eP.R_},i.wP=function(){return this.eP.Fo},i.yP=function(){return this.eP.I_},i.mP=function(){return this.eP.Rg},i.kP=function(){return this.eP.N_},i.pP=function(t){this.eP.N_=t},i.AP=function(){return this.eP.Pg},i.bP=function(){return this.eP.D_},i.TP=function(){return this.eP.C_},i.EP=function(t){this.eP.C_=t},i.SP=function(){return this.eP.Bg},i.RP=function(){return this.eP.Lg},i.IP=function(t){this.eP.Lg=t},i.NP=function(){return this.eP.Wl},i.DP=function(){return this.eP.Mg},i.CP=function(){return this.eP.O_},i.sg=function(){return this.eP.sg()},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(i),t.next=3,this.eP.og(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.OP=function(){return this.eP.ng},i.xP=function(){return this.eP.x_},i.PP=function(){return this.eP.tg},i.BP=function(){return this.eP.P_},i.LP=function(){return this.eP.B_},i.MP=function(t){this.eP.B_=t},i.wg=function(){return this.eP.wg()},i.gg=function(){return this.eP.gg()},i.vg=function(t){this.eP.vg(t)},i.dg=function(){this.eP.dg()},i._g=function(){this.eP._g()},i.fg=function(){this.eP.fg()},i.eg=function(){this.eP.eg()},i.rg=function(){this.eP.rg()},i.lg=function(){this.eP.lg()},i.ug=function(){return this.eP.ug()},i.ag=function(){return this.eP.ag()},i.cg=function(){this.eP.cg()},i.hg=function(){this.eP.hg()},i.yl=function(){return this.eP.yl()},i.Sv=function(){return this.eP.Sv()},i.bg=function(){this.eP.bg()},i.mg=function(t){return this.eP.mg(t)},i.sP=function(t){return!1},L(n,[{key:"K_",get:function(){return this.oP()}},{key:"Tg",get:function(){return this.aP()}},{key:"Eg",get:function(){return this.hP()},set:function(t){this.fP(t)}},{key:"Ag",get:function(){return this.cP()}},{key:"E_",get:function(){return this.vP()},set:function(t){this.dP(t)}},{key:"S_",get:function(){return this.lP()}},{key:"Sg",get:function(){return this._P()}},{key:"R_",get:function(){return this.gP()}},{key:"Fo",get:function(){return this.wP()}},{key:"I_",get:function(){return this.yP()}},{key:"ig",get:function(){return this.eP.ig}},{key:"Rg",get:function(){return this.mP()}},{key:"W_",get:function(){return this.eP.W_}},{key:"N_",get:function(){return this.kP()},set:function(t){this.pP(t)}},{key:"Pg",get:function(){return this.AP()}},{key:"D_",get:function(){return this.bP()}},{key:"C_",get:function(){return this.TP()},set:function(t){this.EP(t)}},{key:"Bg",get:function(){return this.SP()}},{key:"Lg",get:function(){return this.RP()},set:function(t){this.IP(t)}},{key:"Wl",get:function(){return this.NP()}},{key:"Mg",get:function(){return this.DP()}},{key:"O_",get:function(){return this.CP()}},{key:"ng",get:function(){return this.OP()}},{key:"x_",get:function(){return this.xP()}},{key:"tg",get:function(){return this.PP()}},{key:"P_",get:function(){return this.BP()}},{key:"B_",get:function(){return this.LP()},set:function(t){this.MP(t)}}]),n}($d),vE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).UP=!1,e.FP=void 0,e.HP=!1,e.VP=function(){e.XP(),e.WP()},e.QS=function(){e.qP(),e.WP(),e.zP&&e.E_>=e.GP.uw-n.jP&&!e.R_&&(e.FP=vT(e.QS))},e.QP=function(){e.HP=!0},e.YP=function(){e.HP&&(e.HP=!1,e.WP())},e.GP=r,e.GP.Eo("nl",e.VP),e.eP.Eo("timeupdate",e.QS),e}M(n,t);var i=n.prototype;return i.dP=function(n){var i=this.GP.rP().EI(n);t.prototype.dP.call(this,i),this.WP()},i.gP=function(){return t.prototype.gP.call(this)||this.UP},i.DP=function(){return nA.ZI(t.prototype.DP.call(this)).II(this.GP.rP()).CR()},i.rg=function(){this.gP()?this.dP(this.ZP.start(0)):this.XP(),t.prototype.rg.call(this),this.WP()},i.og=function(){var n=T.coroutine(ve.mark(function n(i,r){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ou(r),this.UP=!1,this.GP.yl(),n.next=5,t.prototype.og.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Sv=function(){return this.GP.No("nl",this.VP),this.eP.No("timeupdate",this.QS),this.qP(),t.prototype.Sv.call(this)},i.sP=function(n){switch(n.type){case"seeking":return this.bo(n),this.QP(),!0;case"seeked":case"emptied":return this.bo(n),this.YP(),!0;case"ended":if(this.zP)return!0}return t.prototype.sP.call(this,n)},i.qP=function(){this.FP&&(dT(this.FP),this.FP=void 0)},i.WP=function(){var t=this.E_,i=this.zP&&t>=this.GP.uw-n.Vy;this.UP&&!i?(this.UP=!1,this.D_&&this.rg()):this.UP||!i||this.O_||this.HP||(this.UP=!0,this.bo(new Bl(t)),this.eg())},i.XP=function(){if(this.S_!==1/0){var t=this.ZP,i=nA.ZI(t).EI(this.E_);qt(this.E_,i,n.Vy)||this.dP(i)}},L(n,[{key:"ZP",get:function(){return this.DP().length?this.DP():this.GP.rP().CR()}},{key:"zP",get:function(){return this.GP.uw<this.S_}}]),n}(fE);vE.jP=1,vE.Vy=.001;var dE=function(){function t(){this.JP=!1}return L(t,[{key:"$P",get:function(){return this.JP},set:function(t){this.JP=t}}]),t}(),lE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).KP=!1,r.tB=!1,r.JP=i,r}M(n,t);var i=n.prototype;return i.gP=function(){return!this.JP.$P&&t.prototype.gP.call(this)},i.eg=function(){this.tB=!0,t.prototype.eg.call(this)},i.rg=function(){this.tB=!1,t.prototype.rg.call(this)},i.sP=function(n){if(this.JP.$P)switch(n.type){case"ended":return this.E_=0,this.tB||(this.O_?this.KP=!0:this.rg()),!0;case"seeked":this.KP&&(this.KP=!1,this.rg());break;case"pause":if(this.KP||t.prototype.gP.call(this))return!0}return t.prototype.sP.call(this,n)},n}(fE);var _E=function(){function t(t){var n;this.aI=t,this.Hd=(n=this,{get currentBandwidthEstimate(){return n.Cg},get corruptedVideoFrames(){return n.Ng},get droppedVideoFrames(){return n.Ig},get totalBytesLoaded(){return n.Og},get bufferedSegments(){return n.xg}})}return L(t,[{key:"Vd",get:function(){return this.Hd}},{key:"Ng",get:function(){return this.aI.nB.W_.Ng}},{key:"Cg",get:function(){return this.aI.nB.W_.Cg}},{key:"Ig",get:function(){return this.aI.nB.W_.Ig}},{key:"iB",get:function(){throw new f("Not implemented")}},{key:"rB",get:function(){throw new f("Not implemented")}},{key:"Og",get:function(){return this.aI.nB.W_.Og}},{key:"Dg",get:function(){return this.aI.nB.W_.Dg}},{key:"xg",get:function(){return this.aI.nB.W_.xg}}]),t}();function gE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function wE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function yE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function mE(t){return t&&Gr(t)?{Ig:gE(t),Ng:wE(t),Dg:yE(t)}:{Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var kE=function(t){function n(){return t.call(this,"eB")||this}return M(n,t),n.prototype.Xd=function(){return new pE},n}(fd),pE=function(t){function n(){return t.call(this,"castingchange")||this}return M(n,t),n}(Eu);var AE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=[],n.Hd=void 0,n.sB=function(){return n.bo(new kE)},n}M(n,t);var i=n.prototype;return i.oB=function(t){this.uB.push(t),t.Eo("statechange",this.sB)},i.Sv=function(){var t=this;this.uB.forEach(function(n){n.No("statechange",t.sB)}),tu(this.uB)},L(n,[{key:"aB",get:function(){return this.uB.some(function(t){return t.aB})}},{key:"Vd",get:function(){var t,n,i;return this.Hd||(this.Hd=(i={get casting(){return t.aB},addEventListener:function(t,i){n.Eo(t,i)},removeEventListener:function(t,i){n.No(t,i)}},n=new cE(t=this,i),i)),this.Hd}}]),n}($d),bE=function(){function t(){}return t.cB=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Sf({nv:n,Zf:qo.ze,mv:pf.GET}),t.next=4,i.Kf(r);case 4:return e=t.sent,t.next=7,e.pu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),su(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.hB=function(t){try{var i=bb(t);return new Nb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new bo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.fB=function(t){void 0===t&&(t=Wb.gm),b.hs("The baked-in license is used. Please update the configuration with your license.");var n=t.VD(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.VD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.VD(n)}),e=Number(new Date(Number(t.VD("COD|aHpHa:p3Ceo3Co\"\""))));return new Nb(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Nb(t.YD,t.ZD,t.JD,864e13,t.KD,Date.now(),t.nC,t.iC)},t}(),TE=function(){function t(){}return t.Cc=function(){return t.Ve||(t.Ve=EE.Xa()?new EE:new Uo),t.Ve},t.Zo=function(n){t.Cc().Zo(n)},t.Nc=function(){t.Cc().Nc()},t.jo=function(n){return t.Cc().jo(n)},t.Dc=function(n,i){t.Cc().Dc(n,i)},t.vB=function(n){var i=t.jo(n);if(void 0!==i)return g(i)},t.dB=function(n){return"true"===t.jo(n)},t}();TE.Ve=void 0;var EE=function(n){function i(){return n.apply(this,arguments)||this}M(i,n),i.Xa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Zo=function(n){t.localStorage.removeItem(n)},r.Nc=function(){t.localStorage.clear()},r.jo=function(n){return t.localStorage[n]},r.Dc=function(n,i){t.localStorage[n]=i},i}(TE),SE=l.floor(14399999*l.random()-72e5),RE=function(){function t(t,n,i,r,e,u){this.pb=t,this.lB=n,this._B=i,this.MC=r,this.gB=e,this.oC=u,this.aC=Lb(u)}var i=t.prototype;return i.wB=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yB(this.gB.license,this.gB.licenseUrl);case 2:n=t.sent,this.MC.mB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yB=function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o,a,c,h,f;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=bE.hB(i):e||(u=bE.fB()),e||(e="https://validate.theoplayer.com/1/"+u.YD),s=this.kB(),!u){t.next=14;break}if((o=this.lB.vC(u))!==Eb.GD){t.next=14;break}if(!this.pB(u.$D)||!this.pB(null==s?void 0:s.$D)){t.next=13;break}return t.next=10,this.AB(e);case 10:if(!(a=t.sent)){t.next=13;break}return t.abrupt("return",a);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.lB.vC(s)!==Eb.GD){t.next=24;break}if(!this.pB(null==s?void 0:s.$D)){t.next=23;break}return t.next=20,this.AB(e);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",s);case 24:TE.Zo("THEOplayer.license");case 25:return t.next=27,bE.cB(e,this.pb);case 27:if(!(h=t.sent)){t.next=37;break}if(f=bE.hB(h),this.lB.vC(f)!==Eb.GD){t.next=34;break}return TE.Dc("THEOplayer.license",h),t.abrupt("return",f);case 34:TE.Zo("THEOplayer.license"),t.next=39;break;case 37:if(this.aC||!u||o!==Eb.jD||e!=="https://validate.theoplayer.com/1/"+u.YD){t.next=39;break}return t.abrupt("return",bE.convertLicenseToDummyLicense(u));case 39:if(!u&&!f){t.next=43;break}this.bB(null!=u?u:f,new bo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new bo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cC=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.MC.JC();case 2:if(r=t.sent,!this.pB(r.$D)){t.next=9;break}return e=null!==(i=this.gB.licenseUrl)&&void 0!==i?i:"https://validate.theoplayer.com/1/"+r.YD,t.next=7,this.AB(e);case 7:(u=t.sent)&&(this.MC.mB(u),r=u);case 9:if(t.prev=9,(s=this.lB.vC(r))!==Eb.QD){t.next=16;break}throw o=Ib.rC,new bo(Cb(o),Ub.fC(o));case 16:if(s!==Eb.jD){t.next=19;break}throw a=Ib.jD,new bo(Cb(a),Ub.fC(a));case 19:this.lB.cC(n,r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.TB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.AB=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bE.cB(n,this.pb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=bE.hB(i),this.lB.vC(r)!==Eb.GD){t.next=11;break}return TE.Dc("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.pB=function(t){return!t||Number(new Date)+2592e5+SE>=t},i.kB=function(){var t=TE.jo("THEOplayer.license");if(t)return bE.hB(t)},i.bB=function(t,n){this.MC.mB(t),this.TB(n)},i.TB=function(t){throw lt(t.message),this._B.tO(t.message),t},t}(),IE=function(){function t(){this.EB=new Gs}var n=t.prototype;return n.mB=function(t){this.SB=t,this.EB.oa()},n.JC=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.SB){t.next=2;break}return t.abrupt("return",T.resolve(this.SB));case 2:return t.next=4,this.EB.sa;case 4:return t.abrupt("return",this.SB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"RB",get:function(){return this.SB}}]),t}(),NE=function(t){function n(){return t.call(this,"nl")||this}return M(n,t),n.prototype.Xd=function(){return new DE},n}(fd),DE=function(t){function n(){return t.call(this,"change")||this}return M(n,t),n}(Eu);var CE,OE,xE={IB:void 0,NB:void 0,DB:void 0,CB:void 0,OB:void 0,xB:void 0},PE="THEOplayer.textTrackStyle.",BE=function(t){function n(){var i;return(i=t.call(this)||this).Hd=void 0,i.PB=n.BB(),i}return M(n,t),n.prototype.Ea=function(t){this.PB=de(de({},this.PB),t),n.LB(this.PB),this.bo(new NE)},n.BB=function(){var t=de({},xE);return t.IB=TE.jo(PE+"fontFamily")||t.IB,t.NB=TE.jo(PE+"fontColor")||t.NB,t.DB=TE.jo(PE+"fontSize")||t.DB,t.CB=TE.jo(PE+"backgroundColor")||t.CB,t.OB=TE.jo(PE+"windowColor")||t.OB,t.xB=TE.jo(PE+"edgeStyle")||t.xB,t},n.LB=function(t){TE.Dc(PE+"fontFamily",t.IB||""),TE.Dc(PE+"fontColor",t.NB||""),TE.Dc(PE+"fontSize",t.DB||""),TE.Dc(PE+"backgroundColor",t.CB||""),TE.Dc(PE+"windowColor",t.OB||""),TE.Dc(PE+"edgeStyle",t.xB||"")},L(n,[{key:"MB",get:function(){return this.PB}},{key:"IB",get:function(){return this.PB.IB},set:function(t){this.Ea({IB:t})}},{key:"NB",get:function(){return this.PB.NB},set:function(t){this.Ea({NB:t})}},{key:"DB",get:function(){return this.PB.DB},set:function(t){this.Ea({DB:t})}},{key:"CB",get:function(){return this.PB.CB},set:function(t){this.Ea({CB:t})}},{key:"OB",get:function(){return this.PB.OB},set:function(t){this.Ea({OB:t})}},{key:"xB",get:function(){return this.PB.xB},set:function(t){this.Ea({xB:t})}},{key:"Vd",get:function(){var t,n,i;return this.Hd||(this.Hd=(t=this,i={get fontFamily(){return t.IB},set fontFamily(n){t.IB=n},get fontColor(){return t.NB},set fontColor(n){t.NB=n},get fontSize(){return t.DB},set fontSize(n){t.DB=n},get backgroundColor(){return t.CB},set backgroundColor(n){t.CB=n},get windowColor(){return t.OB},set windowColor(n){t.OB=n},get edgeStyle(){return t.xB},set edgeStyle(n){t.xB=n},addEventListener:function(t,i){var r=Pd(t,xd);n.Eo(r,i)},removeEventListener:function(t,i){var r=Pd(t,xd);n.No(r,i)}},n=new Tu(i),t.Eo(["nl"],function(t){return n.bo(t.Vd)}),i)),this.Hd}}]),n}(bu),LE=function(t){function n(n,i){var r;(r=t.call(this)||this).UB=!1,r.z_=!1,r.FB=!1,r.HB=function(t){if(!r.FB){r.FB=!0;var n=r.VB,i=a_(t);r.nB.Sl=new oA(r.Sg,i,t),_u(n.Sv())}},r.XB=function(t){r.bo(t.Vd)},r.WB=function(t){t.type!==Wo.Yc&&t.type!==Wo.Qc&&r.bo(t)};var e=Cd(i.uid);w(e)?r.Wg=w_++:r.Wg=e,r.Zp=i;var u=b.Bd,s=new IE;r.qB=new tT("2.86.0",u,s),r.Bd=new WT(u,i.allowMixedContent),r.hN=new uE,r.lB=new Db(i.isEmbeddable,"2.86.0",Tb()),r.zB=new RE(u,r.lB,r.qB,s,i,Tb()),r.zB.wB().catch(r.HB),r.GB=new pT(n),r.GB.Eo("cO",r.XB),r.fN=new BE,r.GP=new hE,r.JP=new dE;var o=new sA(n,i,r.Bd,r.hN,r.GB,r.fN);r.hN.Jb(o);var a=o;a=new vE(a,r.jB),a=new lE(a,r.$P),r.VB=a,r.nB=new e_(r.VB),r.nB.Ro(r.WB),r.QB=new _E(rn(r)),r.YB=new GT(r.nB,r.Bd,r.hN),r.ZB=new rT(rn(r)),r.JB=new IT(r.nB,i.allowNativeFullscreen),r.$B=new SA(r.JB),r.GB.Pa();var c=new Ir(r.GB,r.fN,1,[h_.wv]);return r.KB=new Nr(c),r.tL=new AE,r}M(n,t);var i=n.prototype;return i.pP=function(t){this.nB.N_=t,t||this.D_||this.fg()},i.MP=function(t){this.nB.B_=t},i.nL=function(){Ql(this,RA,this)},i.rg=function(){this.nB.rg()},i.eg=function(){this.nB.eg()},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.zB.cC(n).catch(this.HB),r=ME(n),t.next=5,this.nB.og(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fg=function(){this.z_||(this.nB.fg(),this.KB.fg(),this.z_=!0)},i.nN=function(){return this.$B.UN()===pA.FULLSCREEN},i.lg=function(){this.nB.lg()},i._g=function(){this.nB._g()},i.gg=function(){return this.nB.gg()},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nB.ug();case 2:return t.next=4,this.nB.yl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),this.tL.Sv(),this.Bd.Sv(),this.YB.Sv(),this.JB.Sv(),this.$B.Sv(),this.GB.Sv(),this.qB.Sv(),this.KB.Sv(),t.next=11,this.nB.Sv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"iL",get:function(){return this.hN}},{key:"Z_",get:function(){return this.UB},set:function(t){this.UB=t,this.nB.Z_=t}},{key:"rL",get:function(){return this.KB}},{key:"K_",get:function(){return this.nB.K_}},{key:"eL",get:function(){return this.tL}},{key:"uL",get:function(){return this.GB}},{key:"ig",get:function(){return this.nB.ig}},{key:"W_",get:function(){return this.QB}},{key:"sL",get:function(){return this.YB}},{key:"ng",get:function(){return this.nB.ng}},{key:"oL",get:function(){return this.fN}},{key:"tg",get:function(){return this.nB.tg}},{key:"Tg",get:function(){return this.nB.Tg}},{key:"jB",get:function(){return this.GP}},{key:"$P",get:function(){return this.JP}},{key:"E_",get:function(){return this.nB.E_},set:function(t){this.nB.E_=t}},{key:"Eg",get:function(){return this.nB.Eg},set:function(t){this.nB.Eg=t}},{key:"Ag",get:function(){return this.nB.Ag}},{key:"S_",get:function(){return this.nB.S_}},{key:"Sg",get:function(){return this.nB.Sg}},{key:"R_",get:function(){return this.nB.R_}},{key:"Fo",get:function(){return this.nB.Fo}},{key:"I_",get:function(){return this.nB.I_}},{key:"N_",get:function(){return this.nB.N_},set:function(t){var n=Boolean(t);this.pP(n)}},{key:"D_",get:function(){return this.nB.D_}},{key:"C_",get:function(){return this.nB.C_},set:function(t){this.nB.C_=t}},{key:"Bg",get:function(){return this.nB.Bg}},{key:"Lg",get:function(){return this.nB.Lg},set:function(t){this.nB.Lg=Yp(t)}},{key:"Wl",get:function(){return this.nB.Wl}},{key:"Mg",get:function(){return this.nB.Mg}},{key:"O_",get:function(){return this.nB.O_}},{key:"Cl",get:function(){return this.Wg}},{key:"x_",get:function(){return this.nB.x_}},{key:"P_",get:function(){return this.nB.P_}},{key:"B_",get:function(){return this.nB.B_},set:function(t){var n=Wt(Number(t),0,1)||0;this.MP(n)}}]),n}($d);function ME(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.aL=0]="aL",t[t.cL=1]="cL"}(CE||(CE={})),function(t){t[t.hL=0]="hL"}(OE||(OE={}));var UE={};function FE(t,n){(UE[n]||(UE[n]=[])).push(t)}function HE(t,n){var i=t;if(UE[n])for(var r=0,e=UE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var VE=[];function XE(t){VE.push(t)}var WE=t.CustomEvent;var qE=function(){try{var t=new WE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i},zE=function(){function t(t,n){var i=this;this.fL=!1,this.vL=function(t){i.dL.KC(t.error,i.E_)},this.lL=function(){i.dL.ZC(i._L),i.aI.removeEventListener("playing",i.lL),i.fL=!1},this.gL=function(){i.fL||(i.aI.addEventListener("playing",i.lL),i.fL=!0)},this.dL=n,this.aI=t,this.aI.addEventListener("error",this.vL),this.aI.addEventListener("sourcechange",this.gL),this.gL()}return t.prototype.yl=function(){},L(t,[{key:"E_",get:function(){var t=this.aI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"_L",get:function(){return this.aI.src||""}}]),t}();XE(function(t){new zE(t.Vd,t.qB)});var GE="theoplayer-stored-volume",jE="theoplayer-stored-mutedstate";FE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=TE.vB(GE);(void 0===e||w(e))&&(e=1);var u=TE.dB(jE)||!1;r.B_=e,r.N_=u}return r}M(n,t);var i=n.prototype;return i.pP=function(n){this.Zp.persistVolume&&TE.Dc(jE,n),t.prototype.pP.call(this,n)},i.MP=function(n){this.Zp.persistVolume&&TE.Dc(GE,n),t.prototype.MP.call(this,n)},n}(t)},CE.cL);var QE=new(function(){function t(){this.wL=[],this.Hd=void 0}var n=t.prototype;return n.ll=function(t){return this.wL[t]},n.yL=function(t){this.wL.push(t),this.Vd.push(t.Vd)},n.Ta=function(t){var n=this.wL.indexOf(t);n<0||(Je(this.wL,n),this.Hd&&Je(this.Hd,n))},n.mL=function(t){for(var n=0,i=this.wL;n<i.length;n++){var r=i[n];if(r.Cl===t)return r}},L(t,[{key:"kl",get:function(){return this.wL.length}},{key:"Vd",get:function(){return this.Hd||(this.Hd=function(t){for(var n=[],i=0;i<t.kl;i++)n[i]=t.ll(i).Vd;return n.getPlayerByUID=function(n){var i=t.mL(n);return i&&i.Vd},n}(this)),this.Hd}}]),t}());var YE,ZE=function(t){function n(n){var i;return(i=t.call(this,Wo.hh)||this).source=n,i}return M(n,t),n}(Eu),JE=function(t){function n(){var n;return(n=t.call(this)||this).rN=0,n.uN=!0,n.oN=!1,n.sN=1,n}M(n,t);var i=n.prototype;return i.rg=function(){this.uN&&(this.uN=!1,this.bo(new Il(this.E_)),this.bo(new Np(this.E_)))},i.eg=function(){this.uN||(this.uN=!0,this.bo(new Pl(this.E_,this.Eg)),this.bo(new Rl(this.E_)))},i.yl=function(){this.rN=0,this.oN=!1,this.sN=1,this.eg(),this.bo(new Sl(this.rN))},i.Sv=function(){this.Io()},i._g=function(){},i.lg=function(){},L(n,[{key:"Eg",get:function(){},set:function(t){}},{key:"E_",get:function(){return this.rN},set:function(t){this.oN&&this.rN===t||(this.rN=t,this.oN=!0,this.bo(new Ml(this.E_)))}},{key:"D_",get:function(){return this.uN}},{key:"C_",get:function(){return this.sN},set:function(t){this.sN!==t&&(this.sN=t,this.bo(new xl(this.E_,this.C_)))}},{key:"Wl",get:function(){return ol.l_}},{key:"O_",get:function(){return this.oN}}]),n}(Jd),$E=function(t){function n(){return t.call(this,Wo.Fc)||this}return M(n,t),n}(Eu),KE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},tS={visibility:"hidden"},nS={visibility:"visible"},iS=function(){function t(t){var n,i=this;this.kL=!1,this.pL=function(t){i.kL=!1,i.AL=t.source&&t.source.poster,i.Ea()},this.kS=function(){i.kL=!0,i._g()},this.aI=t,this.cI(),this.tI=((n=Cr&&Cr.document&&Cr.document.createElement("div")).className="theoplayer-poster",Wr(KE,n),n),t.Sg.appendChild(this.tI)}var n=t.prototype;return n.Ea=function(){var t=this.aI.D_,n=this.kL;this.nv?this.tI.style.backgroundImage='url("'+this.nv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.tI.style.backgroundImage="",t&&this.nv&&!n?this.lg():this._g()},n.lg=function(){Wr(tS,this.aI.Sg),Wr(nS,this.tI)},n._g=function(){Wr(tS,this.tI),Wr(nS,this.aI.Sg)},n.cI=function(){this.aI.Eo("sourcechange",this.pL),this.aI.Eo("play",this.kS)},n.Sv=function(){this.aI.No("sourcechange",this.pL),this.aI.No("play",this.kS),Hr(this.tI)},L(t,[{key:"nv",get:function(){return void 0!==this.AL?this.AL:void 0!==this.bL?this.bL:void 0}},{key:"TL",set:function(t){this.bL=t,this.Ea()}}]),t}();function rS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).EL=function(t){t.type!==Wo.Kc&&e.SL.push(t)},e.RL=new t(i,r),e.IL=new JE,e.aI=e.RL,e.NL=new iS(rn(e)),e.zE=new _y,e.DL=!1,e.SL=[],e.sI=!0,e.uI=void 0,e.cI(),e}M(i,n);var r=i.prototype;return r.Ob=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.zE.Ob(n,i).catch(cu));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.CL=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(i),this.RL.Ro(this.EL),t.next=4,this.RL.og(n,i);case 4:this.RL.Oo(this.EL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.OL=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.sg())&&!ib(n)&&this.Z_&&this.D_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Zp.mutedAutoplay,t.next=6,this.rL.xL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.PL(),t.abrupt("break",14);case 12:return(this.N_||i===Nl.ALL)&&(this.N_=!0,this.rg()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.og=function(t){var n=this,i=this.uI;i&&!ib(i)&&this.bo(new Sl(0,0)),this.yl(),this.uI=t,_u(this.Ob(function(){var i=T.coroutine(ve.mark(function i(r){return ve.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return ou(r),i.prev=1,i.next=4,n.CL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.uI=void 0,i.t0;case 10:return i.next=12,n.BL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.BL=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.LL(this.RL),this.bo(new ZE(this.sg())),t.next=4,this.OL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.dP=function(t){this.aI.E_=t},r.wP=function(){return this.RL.Fo},r.yP=function(){return this.RL.I_},r.rg=function(){this.aI.rg()},r.PL=function(){this.N_||this.fg(),this.rg()},r.fg=function(){this.RL.fg()},r.eg=function(){this.aI.eg()},r.ug=function(){this.og(void 0)},r.lg=function(){this.sI=!0,this.aI.lg()},r._g=function(){this.sI=!1,this.aI._g()},r.nL=function(){this.RL.nL()},r.MP=function(t){this.RL.MP(t)},r.pP=function(t){this.RL.pP(t)},r.ML=function(t){this.UL=t,t.yL(this)},r.nN=function(){return this.RL.nN()},r.sg=function(){return this.uI},r.gg=function(){return this.RL.gg()},r.vP=function(){return this.RL.E_},r.lP=function(){return this.RL.S_},r.aP=function(){return this.RL.Tg},r.SP=function(){return this.RL.Bg},r.DP=function(){return this.RL.Mg},r.yl=function(){var t=this;this.uI=void 0,tu(this.SL),this.IL.yl(),this.LL(this.IL),this.zE._o(),_u(this.zE.Ob(function(){var n=T.coroutine(ve.mark(function n(i){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ou(i),n.next=3,t.RL.yl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Sv=function(){var t=this;this.bo(new $E),this.NL.Sv(),this.hI(),this.yl(),_u(this.Ob(T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.RL.Sv();case 2:t.UL&&(t.UL.Ta(t),t.UL=void 0),t.zE.Sv();case 4:case"end":return n.stop()}},n)})))),this.Io()},r.LL=function(t){if(this.aI!==t){var n=this.aI.D_,i=this.aI.E_,r=this.aI.C_,e=this.aI.O_;this.hI(),t===this.RL?((e||t.E_!==i)&&(t.E_=i),t.C_!==r&&(t.C_=r),n?t.eg():t.rg()):this.Zp.retainPlaybackRateOnSourceChange?t.C_=r:1!==r&&this.bo(new xl(this.vP(),1)),this.aI=t,this.cI();for(var u=0,s=this.SL;u<s.length;u++){var o=s[u];this.bo(o)}tu(this.SL),this.sI?t.lg():t._g()}},r.cI=function(){this.aI.Ro(this.Ao)},r.hI=function(){this.aI.Oo(this.Ao)},r.Xd=function(){return t=this,r=function(n){i=n;var r=vb(n,t.Zp);t.og(r)},e={get abr(){return t.iL.Vd},get audioTracks(){return t.K_.Vd},get autoplay(){return t.Z_},set autoplay(n){t.Z_=Boolean(n)},get buffered(){return t.aP()},get canvas(){return t.ZB.Vd},get clip(){return t.jB.Vd},get currentProgramDateTime(){var n;return null!==(n=t.Eg)&&void 0!==n?n:null},set currentProgramDateTime(n){t.Eg=null!=n?n:void 0},get currentTime(){return t.vP()},set currentTime(n){t.dP(Number(n))},get duration(){return t.lP()},get element(){return t.Sg},get ended(){return t.R_},get error(){return t.wP()},get errorObject(){return t.yP()},get loop(){return t.$P.$P},set loop(n){t.$P.$P=Boolean(n)},get metrics(){return t.W_.Vd},get muted(){return t.N_},set muted(n){t.pP(n)},get network(){return t.sL.Vd},get paused(){return t.D_},get playbackRate(){return t.C_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.C_=i},get played(){return t.SP()},get poster(){return t.FL},set poster(n){t.FL=xd(n)},get preload(){return t.Lg},set preload(n){t.Lg=n},get presentation(){return t.$B.Vd},get readyState(){return t.Wl},get seekable(){return t.DP()},get seeking(){return t.O_},get source(){return i},set source(t){r(t)},get src(){return rb(t.sg())},set src(t){r({sources:t})},get textTracks(){return t.ng.Vd},get textTrackStyle(){return t.oL.Vd},get uid(){return t.Cl},get videoHeight(){return t.x_},get videoTracks(){return t.tg.Vd},get videoWidth(){return t.P_},get volume(){return t.B_},set volume(n){t.MP(Number(n))},destroy:function(){t.Sv(),t=null,i=void 0},play:function(){t.PL()},pause:function(){t.eg()},stop:function(){i=void 0,t.ug()},prepareWithUserAction:function(){t.fg()},addEventListener:function(t,i){n.Eo(t,i)},removeEventListener:function(t,i){n.No(t,i)},setSource:function(t){r(t)}},(n=new TA(e,!0)).TN(t),e;var t,n,i,r,e},L(i,[{key:"qB",get:function(){return this.RL.qB}},{key:"ZB",get:function(){return this.RL.ZB}},{key:"Zp",get:function(){return this.RL.Zp}},{key:"VB",get:function(){return this.RL.VB}},{key:"Bd",get:function(){return this.RL.Bd}},{key:"ER",get:function(){return this.RL.JB}},{key:"$B",get:function(){return this.RL.$B}},{key:"GB",get:function(){return this.RL.GB}},{key:"nB",get:function(){return this.RL.nB}},{key:"iL",get:function(){return this.RL.iL}},{key:"Z_",get:function(){return this.RL.Z_},set:function(t){this.RL.Z_=t,this.OL()}},{key:"rL",get:function(){return this.RL.rL}},{key:"K_",get:function(){return this.RL.K_}},{key:"eL",get:function(){return this.RL.eL}},{key:"uL",get:function(){return this.RL.GB}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"ig",get:function(){return this.RL.ig}},{key:"W_",get:function(){return this.RL.W_}},{key:"sL",get:function(){return this.RL.sL}},{key:"ng",get:function(){return this.RL.ng}},{key:"oL",get:function(){return this.RL.oL}},{key:"tg",get:function(){return this.RL.tg}},{key:"jB",get:function(){return this.RL.jB}},{key:"$P",get:function(){return this.RL.$P}},{key:"Eg",get:function(){return this.aI.Eg},set:function(t){this.aI.Eg=t}},{key:"Ag",get:function(){return this.RL.Ag}},{key:"Sg",get:function(){return this.RL.Sg}},{key:"R_",get:function(){return this.RL.R_}},{key:"N_",get:function(){return this.RL.N_},set:function(t){this.RL.N_=t}},{key:"D_",get:function(){return this.aI.D_}},{key:"FL",get:function(){return this.NL.nv||""},set:function(t){this.NL.TL=t}},{key:"C_",get:function(){return this.RL.C_},set:function(t){this.aI.C_=t}},{key:"Lg",get:function(){return this.RL.Lg},set:function(t){this.RL.Lg=Yp(t)}},{key:"Wl",get:function(){return this.aI.Wl}},{key:"O_",get:function(){return this.aI.O_}},{key:"Cl",get:function(){return this.RL.Cl}},{key:"x_",get:function(){return this.RL.x_}},{key:"P_",get:function(){return this.RL.P_}},{key:"B_",get:function(){return this.RL.B_},set:function(t){this.RL.B_=t}}]),i}($d)}function eS(t,n){var i=zl(n),r=new(YE||(YE=HE(YE=rS(LE),CE.aL),YE=HE(YE,CE.cL)),YE)(t,i),e=r.Vd;return r.nL(),r.ML(QE),d.defineProperty(e,"constructor",{value:eS}),e=bd(e),function(t){for(var n=0;n<VE.length;n++)(0,VE[n])(t)}(r),e}lu(function(){t.dispatchEvent&&t.dispatchEvent(qE("theoplayerready"))});var uS,sS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xu(t)},n.decode=function(t){return Hu(t)},t}())},oS=QE.Vd,aS=Vy.Qb.registerContentProtectionIntegration.bind(Vy.Qb),cS=(Wo.Jc,Wo.Zc,El.T_,Wo.fh,Wo.$c,Wo.zc,Wo.rh,Wo.ih,Wo.Xc,Wo.Kc,Wo.vh,Wo.Hc,El.il,Wo.nh,Xd.Hl,Au.Ho,Au.Xo,{HL:!1,VL:50}),hS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.OD="XL"}(uS||(uS={}));var fS,vS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).WL=!1,e.qL=new Gs,e.zE=new _y,e.Ca=void 0,e.zL=function(){e.GL(!0)},e.ec=n,e.YE=i,e.lc=i.hR,e.to=r;for(var u=0;u<hS.length;u++){var s=hS[u];e.lc.addEventListener(s,e.zL)}return e}M(i,t);var r=i.prototype;return r.iS=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.to.io(n.js,i);case 2:return r=t.sent,t.next=5,r.Ua();case 5:return e=t.sent,t.next=8,this.jL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.co=function(){var t=T.coroutine(ve.mark(function t(){var n,i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Io(),n=0;n<hS.length;n++)i=hS[n],this.lc.removeEventListener(i,this.zL);return t.next=4,this.zE.Sv();case 4:return t.next=6,this.QL();case 6:return t.next=8,this.jL(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.GL=function(t){t!==this.WL&&(this.WL=t,t?this.qL.oa(void 0):this.qL=new Gs)},r.jL=function(t){var n=this;return this.zE.Ob(function(){return n.YL(t)})},r.YL=function(){var t=T.coroutine(ve.mark(function t(i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.lc.src){t.next=4;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.lc.src){t.next=6;break}throw new u_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.WL){t.next=9;break}return t.next=9,this.qL.sa;case 9:if(!(r=this.Ca)){t.next=14;break}return t.next=13,r.Ba(this.lc);case 13:this.Ca=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Pa(this.lc);case 17:this.Ca=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.og=function(t){var n=this;return this.zE.Ob(function(){return n.ZL(t)})},r.ZL=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.GL(!1),i=this.YE.C_,this.lc.src=n,this.YE.C_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ba=function(){var t=this;return this.zE.Ob(function(){return t.Ad()})},r.Ad=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lc.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.QL=function(){var t=this;return this.zE.Ob(function(){return t.JL()})},r.JL=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.GL(!1),jr(this.lc);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"K_",get:function(){throw new f("Not implemented")}},{key:"Zp",get:function(){return this.ec}},{key:"hR",get:function(){return this.lc}},{key:"tg",get:function(){throw new f("Not implemented")}}]),i}(bu),dS=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Jb=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Zp,t.t0=n.wR,t.next=t.t0===rl.a_?4:t.t0===rl.c_?4:(t.t0,rl.h_,6);break;case 4:return this.lc.setAttribute("crossorigin",n.wR),t.abrupt("break",8);case 6:return this.lc.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Lg?this.lc.preload=n.Lg:this.lc.preload=jp.FS,void 0!==n.yR?this.lc.title=n.yR:zr(this.lc),t.next=12,this.og(n.Gl);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.co=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return zr(this.lc),n.next=3,t.prototype.co.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.$L=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Lf))},L(n,[{key:"Tg",get:function(){return nA.ZI(this.lc.buffered)}},{key:"S_",get:function(){return this.lc.duration}},{key:"KL",get:function(){var t=this.S_;if(!isFinite(t))return!1;var n=this.Tg;return 0!==n.kl&&t-n.wI(n.kl-1)<1/6}},{key:"Lg",get:function(){return this.lc.preload},set:function(t){this.lc.preload=t}},{key:"Mg",get:function(){return nA.ZI(this.lc.seekable)}},{key:"tM",get:function(){return this.Tg}},{key:"nM",get:function(){if(Gr(this.lc)&&(this.lc.videoWidth>0||this.lc.videoHeight>0))return this.Tg}}]),n}(vS),lS=function(t){function n(n){var i;return(i=t.call(this,Wo.$c)||this).currentTime=n,i}return M(n,t),n}(Eu),_S=function(t){function n(){return t.call(this,Wo.zc)||this}return M(n,t),n}(Eu);!function(t){t.iM="rM"}(fS||(fS={}));var gS,wS;fS.iM;!function(t){t[t.eM=0]="eM",t[t.yh=1]="yh",t[t.uM=2]="uM"}(gS||(gS={})),function(t){t.sM="oM"}(wS||(wS={}));var yS=function(t){function n(n){var i;return(i=t.call(this,wS.sM)||this).aM=n,i}return M(n,t),n}(Eu),mS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cM=nA.KI(),n}M(n,t);var i=n.prototype;return i.hM=function(t,n){var i=new nA([t,n]);this.cM=this.cM.BI(i),this.bo(new yS(i))},i.fM=function(t,n){this.cM=this.cM.MI(new nA([t,n]))},i.yl=function(){this.cM=nA.KI()},i.Sv=function(){this.Io()},L(n,[{key:"vM",get:function(){return this.cM}}]),n}(bu),kS=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.dM=function(t,n,i){return T.reject(new f("Invalid state"))},i.lM=function(){return T.reject(new f("Invalid state"))},i._M=function(t,n){return T.reject(new f("Invalid state"))},i.KL=function(){return!1},i.gM=function(){},i.wM=function(t,n){},i.yM=function(t,n){},i.Ta=function(t,n,i){return T.resolve()},i.mM=function(t,n){return T.reject(new f("Invalid state"))},i.kM=function(t){},i.pM=function(t){},i.AM=function(t){return!1},i.bM=function(t){return T.reject(new f("Invalid state"))},i.Sv=function(){return T.resolve()},L(n,[{key:"Tg",get:function(){return nA.KI()}},{key:"TM",get:function(){return!1}},{key:"EM",get:function(){return nA.KI()}},{key:"SM",get:function(){return!1}},{key:"zO",get:function(){return!1}}]),n}(bu),pS=function(){function t(t,n){this.RM=void 0,this.IM=n,this.NM=t}var n=t.prototype;return n.KL=function(){return!!this.RM&&this.Tg.bI().DR(this.RM)},n.gM=function(){var t=this.Tg;this.RM=t.kl>0?t.wI(t.kl-1):0,this.IM.DM()},L(t,[{key:"Tg",get:function(){if(this.IM.Wl===FS.CM)return nA.KI();var t=nA.ZI(this.NM.buffered).II(new nA([0,1/0])),n=this.RM;return void 0!==n&&t.kl>0&&t.wI(t.kl-1)===n&&(t=t.BI(nA.$I(n))),t}}]),t}(),AS="QuotaExceededError";function bS(t){return t&&t.name===AS}function TS(t,n){return void 0===n&&(n=new Uh({highWaterMark:1/0})),new Nh(new ES(t,n),{highWaterMark:0})}var ES=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Fn=[],this.Fh=0,this.EB=void 0,this.OM=!1,this.xM=void 0,this.PM=function(t){return t.done?(i.Xn(),void i.EB.close()):(i.Fn.push(t.value),i.Fh+=i.BM(t.value),i.OM&&i.Xn(),i.LM()?i.Nh.read().then(i.PM):void 0)},this.sd=function(t){i.Xn(),i.EB.error(t)},this.Nh=t.getReader(),this.BM=e,this.MM=s}var n=t.prototype;return n.start=function(t){this.EB=t,this.LM()&&this.UM()},n.pull=function(){this.Fn.length>0?this.Xn():this.OM=!0,this.LM()&&this.UM()},n.cancel=function(t){return tu(this.Fn),this.Fh=0,this.OM=!1,this.Nh.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.Fh=0,this.OM=!1,this.EB.enqueue(t)}},n.LM=function(){return!!this.OM||this.MM-this.Fh>0},n.UM=function(){var t=this;if(!this.xM){var n=this.Nh.read().then(this.PM).catch(this.sd);this.xM=n;var i=function(){t.xM===n&&(t.xM=void 0)};n.then(i,i)}},t}(),SS=20,RS=j.Ce,IS=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Zx=SS,u.Jx=jT,u.FM=!1,u.HM=!1,u.VM=void 0,u.XM=new eu,u.WM=!1,u.qM=void 0,u.zM=function(){u.FM=!1},u.YE=n,u.GM=r,u.jM=i,u.NM=e,u.NM.addEventListener("updateend",u.zM),u}M(n,t);var i=n.prototype;return i.dM=function(t,n,i){var r=this;switch(t.Gs){case gS.eM:case gS.yh:return this.QM(function(i){return r.YM(t,n,i)},i);case gS.uM:throw new f("Opaque segments are not supported on web.")}},i._M=function(t,n){var i=this;switch(t.Gs){case gS.eM:return this.QM(function(n){return i.ZM(t,n)},n);case gS.yh:throw new f("Streaming initialization segments are not supported on web.");case gS.uM:throw new f("Opaque initialization segments are not supported on web.")}},i.ZM=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.JM(n.pu,void 0,i);case 2:RS&&(this.WM=!1,this.qM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YM=function(){var t=T.coroutine(ve.mark(function t(n,i,r){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(RS&&this.WM&&this.qM)){t.next=3;break}return t.next=3,this.ZM(this.qM,r);case 3:return t.prev=3,ou(r),t.next=7,this.JM(n.pu,i,r);case 7:this.bo(new Eu(fS.iM));case 8:return t.prev=8,n.Gs===gS.yh&&n.pu.cancel(new uu).catch(S),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.JM=function(t,n,i){return this.$M(t,n,i)},i.$M=function(){var t=T.coroutine(ve.mark(function t(n,i,r){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(r),t.next=3,this.KM(this.YE.E_,null==i?void 0:i.tU,null==i?void 0:i.S_);case 3:if(ou(r),!(n instanceof Nh)){t.next=9;break}return t.next=7,this.nU(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.iU(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nU=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=ef(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.rU(n,i,r);case 8:return e.cancel(new uu).catch(S),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!bS(t.t0)){t.next=21;break}return t.next=17,this.KM(this.YE.E_,i?i.tU:void 0,i?i.S_:void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(S),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rU=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.jM.Tg,u=TS(n),s=u.getReader(),o=!1,t.prev=4,i&&this.eU(i);case 6:return t.next=9,hu(s.read(),r);case 9:if(!(a=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return ou(r),c=Gu(a.value),o=!0,t.next=18,this.uU(c);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(S),!o){t.next=36;break}return t.next=28,this.sU();case 28:h=this.jM.Tg.II(e.NI()),f=0;case 30:if(!(f<h.kl)){t.next=36;break}return t.next=33,this.oU(h._I(f),h.wI(f));case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.iU=function(){var t=T.coroutine(ve.mark(function t(n,i,r){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,ou(r),i&&this.eU(i),t.next=6,this.uU(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!bS(t.t0)){t.next=17;break}return t.next=14,this.KM(this.YE.E_,i?i.tU:void 0,i?i.S_:void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.mM=function(t,n){var i=this;return this.QM(function(){return i.aU(t,n)})},i.aU=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.NM.appendWindowStart===n&&this.NM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.sU();case 3:this.NM.appendWindowStart=0,this.NM.appendWindowEnd=i,this.NM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eU=function(t){this.NM.timestampOffset!==t.fm&&(this.NM.timestampOffset=t.fm)},i.uU=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NM.appendBuffer(n),this.HM=!0,t.next=4,this.cU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.KM=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u,s,o,a,c;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=ZT(n,i,r,this.jM.Tg,this.Zx,this.Jx),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.oU(a,c,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.hU=function(t,n,i){var r=this;return this.QM(function(i){return r.oU(t,n,i)},i)},i.oU=function(){var t=T.coroutine(ve.mark(function t(n,i,r){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(r),this.NM.remove(n,i),t.next=4,this.cU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.cU=function(){var t=this,n=this.jM.Tg;return new T(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.WI(t.jM.Tg)||t.bo(new Eu(fS.iM)),i()):r(new f(e))},h=function(){t.NM.removeEventListener("update",s),t.NM.removeEventListener("error",o),t.NM.removeEventListener("abort",a),t.NM.removeEventListener("updateend",c)};t.NM.addEventListener("update",s),t.NM.addEventListener("error",o),t.NM.addEventListener("abort",a),t.NM.addEventListener("updateend",c)})},i.fU=function(){var t=this;return this.QM(function(){return t.sU()})},i.sU=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.GM.Wl===FS.Pv){t.next=2;break}return t.abrupt("return");case 2:RS&&(this.WM=!0),this.NM.updating&&(this.FM=!0);try{this.NM.abort()}catch(t){0,this.FM=!1}if(!this.zO){t.next=8;break}return t.next=8,this.cU().catch(S);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.AM=function(t){return!!MediaSource.isTypeSupported(t)&&"function"==typeof this.NM.changeType},i.bM=function(t){var n=this;return this.QM(function(){return n.vU(t)})},i.vU=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.GM.Wl===FS.Pv){t.next=2;break}return t.abrupt("return");case 2:this.NM.changeType&&this.NM.changeType(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.QM=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.VM){t.next=2;break}throw new f("Internal error");case 2:return(r=new eu).wo(this.XM.mo),i&&r.wo(i),t.prev=5,this.VM=n(r.mo),t.next=9,this.VM;case 9:if(this.GM.dU(),!this.zO){t.next=13;break}return t.next=13,this.cU();case 13:return t.prev=13,this.VM=void 0,r.co(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.co=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Io(),this.XM._o(),!this.VM){t.next=6;break}return t.next=5,this.VM.catch(S);case 5:this.VM=void 0;case 6:this.NM.removeEventListener("updateend",this.zM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"SM",get:function(){return this.HM}},{key:"Wx",get:function(){return this.Zx},set:function(t){this.Zx=t}},{key:"jx",set:function(t){this.Jx=t}},{key:"zO",get:function(){return this.FM||this.NM.updating}}]),n}(bu);function NS(t,n,i,r,e){var u=new pS(t,n),s=new IS(r,u,n,t);return new DS(u,s,e)}var DS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jM=n,e.lU=i,e._U=r,e.lU.Eo(fS.iM,e.Ao),e}M(n,t);var i=n.prototype;return i.KL=function(){return this.jM.KL()},i.gM=function(){this.jM.gM()},i.wM=function(t,n){this._U.hM(t,n)},i.yM=function(t,n){this._U.fM(t,n)},i.lM=function(){return this.lU.fU()},i.dM=function(t,n,i){return this.lU.dM(t,n,i)},i._M=function(t,n){return this.lU._M(t,n)},i.Ta=function(t,n,i){return this.yM(t,n),this.lU.hU(t,n,i)},i.mM=function(t,n){return this.lU.mM(t,n)},i.kM=function(t){this.lU.Wx=t},i.pM=function(t){this.lU.jx=t},i.AM=function(t){return this.lU.AM(t)},i.bM=function(t){return this.lU.bM(t)},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lU.No(fS.iM,this.Ao),t.next=3,this.lU.co();case 3:this._U.Sv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Tg",get:function(){return this.jM.Tg}},{key:"TM",get:function(){return!0}},{key:"EM",get:function(){return this._U.vM}},{key:"SM",get:function(){return this.lU.SM}},{key:"zO",get:function(){return this.lU.zO}}]),n}(bu),CS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).NM=void 0,s.GM=n,s.ec=r,s.qa=r.Lf,s.gU=e,s.YE=i,s.Dh=new kS,s.Dh.Eo(fS.iM,s.Ao),s.Zx=SS,s.Jx=jT,s._U=u,s}M(n,t);var i=n.prototype;return i.KL=function(){return this.Dh.KL()},i.gM=function(){return this.Dh.gM()},i.wM=function(t,n){this.Dh.wM(t,n)},i.yM=function(t,n){this.Dh.yM(t,n)},i.lM=function(){return this.Dh.lM()},i.dM=function(t,n,i){return this.Dh.dM(t,n,i)},i._M=function(t,n){return this.Dh._M(t,n)},i.mM=function(t,n){return this.Dh.mM(t,n)},i.Ta=function(){var t=T.coroutine(ve.mark(function t(n,i,r){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Dh.Ta(n,i,r);case 2:(j.He||j.Te)&&this.YE.ta(this.YE.E_);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jg=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.ab(i);case 5:t.next=9;break;case 7:return t.next=9,this.cb(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ab=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ou(n),OS(this.NM,!0),t.next=5,this.wU(this.NM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),ou(n),t.next=12,this.GM.yU(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.cb=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.NM,t.prev=1,ou(n),t.next=5,this.yl();case 5:OS(i,!1),this.NM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),ou(n),t.next=14,this.GM.mU(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.Dh).No(fS.iM,this.Ao),t.next=4,i.Sv();case 4:this.Dh=n,this.Dh.kM(this.Zx),this.Dh.pM(this.Jx),this.Dh.Eo(fS.iM,this.Ao);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wU=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NM=n,t.next=3,this.setState(NS(n,this.GM,this.gU,this.YE,this._U));case 3:this.bo(new Eu("Nl"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.kU=function(t){var n=t.Lf;if(this.qa!==n){if(!MediaSource.isTypeSupported(n))return!1;if(!this.Dh.AM(n)){if(this.gU!==h_.wv)return!1;var i=ao(this.qa),r=ao(n);if(i.Gs!==r.Gs)return!1;if(!function(t,n){var i=t.rc("codecs"),r=n.rc("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(i,r))return!1}}return!0},i.pU=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Lf,this.qa===i){t.next=6;break}if(!this.Dh.AM(i)){t.next=5;break}return t.next=5,this.Dh.bM(i);case 5:this.qa=i;case 6:this.ec=n,this.GM.AU();case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._U.yl(),this.NM=void 0,t.next=4,this.setState(new kS);case 4:this.bo(new Eu("bU"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.co=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Io(),t.next=4,this.yl();case 4:this.Dh.No(fS.iM,this.Ao),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Tg",get:function(){return this.Dh.Tg}},{key:"Zp",get:function(){return this.ec}},{key:"Lf",get:function(){return this.qa}},{key:"EM",get:function(){return this.Dh.EM}},{key:"SM",get:function(){return this.Dh.SM}},{key:"Wx",get:function(){return this.Zx},set:function(t){this.Zx=t,this.Dh.kM(t)}},{key:"jx",set:function(t){this.Jx=t,this.Dh.pM(t)}},{key:"zO",get:function(){return this.Dh.zO}},{key:"TM",get:function(){return this.Dh.TM}}]),n}(bu);function OS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new f("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var xS=100,PS=1e3,BS=1e4,LS=.01,MS=[Wo.Jc,Wo.Zc,Wo.rh,Wo.ih,Wo.Xc,Wo.Kc,El.il,Xd.Hl],US=function(){function t(t,n){var i=this;this.jM=t,this.YE=n,this.hS=ol.l_,this.TU=!1,this.EU=[],this.SU=0,this.RU=0,this.IU=0,this.NU=0,this.DU=PS,this.CU=function(t){var n=i.YE.E_;t.aM.DR(n)&&i.OU(n)},this.xU=I(function(){i.PU(El.il)},xS),this.BU=I(function(){i.PU(Wo.$c)},xS),this.LU=function(){i.MU()?i.UU():i.FU()},this.HU=function(){var t=i.SU,n=i.RU,r=i.YE.E_,e=b.as(),u=t!==r;if(u||!i.MU())return i.SU=r,i.RU=e,void(u&&(i.NU=0,i.DU=PS));if(n>0&&e>n+i.DU){var s=r+i.NU*LS;i.jM.Tg.DR(s)&&(i.SU=s,i.RU=e,i.NU++,i.DU=l.max(2*i.DU,BS),i.YE.ta(s))}},this.YE.Eo(El.il,this.xU),this.YE.Eo(Wo.$c,this.BU),this.YE.Eo(MS,this.LU)}var n=t.prototype;return n.VU=function(t){this.EU.push(t),t.Eo(wS.sM,this.CU)},n.Sv=function(){var t=this;this.FU(),this.hS=ol.l_,this.YE.No(El.il,this.xU),this.YE.No(Wo.$c,this.BU),this.YE.No(MS,this.LU),this.EU.forEach(function(n){return n.No(wS.sM,t.CU)}),this.TU=!0},n.PU=function(t){if(!this.TU){var n=this.YE.Wl;if(n<=ol.g_){var i=this.YE.E_,r=this.jM.Tg,e=r.UI(i),u=r.wI(e);-1!==e&&(t===El.il&&n<this.hS||t===Wo.$c&&n===this.hS)&&u<i+.5&&(i=u),this.OU(i)}t===El.il&&(this.hS=n)}},n.OU=function(t){if(!this.YE.R_){var n=this.vM.MI(this.jM.Tg).bI(),i=n.UI(t);if(-1!==i)l.abs(n._I(i)-n.wI(i))<=.001||this.YE.ta(n.wI(i))}},n.UU=function(){0===this.IU&&(this.IU=b.ds(this.HU,250))},n.FU=function(){0!==this.IU&&(b.ls(this.IU),this.IU=0),this.RU=0},n.MU=function(){return!this.YE.D_&&!this.YE.O_&&0!==this.YE.C_&&!this.YE.R_&&!this.YE.Fo&&this.YE.Wl>=ol.w_},L(t,[{key:"vM",get:function(){return this.EU.reduce(function(t,n){return t.BI(n.vM)},nA.KI())}}]),t}();var FS,HS=j.Ee||j.Se,VS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.eb=t,this.ub=n,this.XU=i,this.WU=r,this.qU=qb()}return t.prototype.zU=function(){var t=this.eb,n=this.ub;if(this.XU||this.WU){var i=.001*(qb()-this.qU);this.XU&&(t+=i),this.WU&&(n+=i)}return t>=n?nA.KI():new nA([t,n])},L(t,[{key:"GU",get:function(){return this.XU}},{key:"jU",get:function(){return this.WU}}]),t}();!function(t){t.CM="closed",t.Pv="open",t.Xc="ended"}(FS||(FS={}));var XS=function(){function t(){}return t.prototype.QU=function(){return new MediaSource},t}(),WS=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new XS),(u=t.call(this,n,i,r)||this).YU=void 0,u.ZU=void 0,u.JU=new VS(0,1/0),u.$U=void 0,u.KU=!1,u.tF=function(){u.nF()},u.iF=function(){u.YE.iF()},u.rF=e,u.qE=u.rF.QU(),u.YE.Eo(Wo.rh,u.tF),u.eF=new US(rn(u),u.YE),u}M(n,t);var i=n.prototype;return i.uF=function(t){if(w(t)||t<0)throw new f("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.qE.setLiveSeekableRange){var r=l.pow(2,39);this.qE.setLiveSeekableRange(0,r)}this.sF()?this.qE.duration=i:this.$U=i},i.oF=function(t,n,i,r){this.JU=new VS(t,n,!!i,!!r)},i.Jb=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Qe(this.ec.aF,function(t){return yr(t.Lf,"audio")}),i=Qe(this.ec.aF,function(t){return yr(t.Lf,"video")}),n&&(r=new mS,this.eF.VU(r),this.YU=new CS(this,this.YE,n,h_.gv,r),this.YU.Eo(fS.iM,this.iF)),i&&(e=new mS,this.eF.VU(e),this.ZU=new CS(this,this.YE,i,h_.wv,e),this.ZU.Eo(fS.iM,this.iF)),t.next=6,this.cF();case 6:if(!this.YU){t.next=12;break}return t.next=9,this.hF(this.YU.Lf);case 9:return u=t.sent,t.next=12,this.YU.wU(u);case 12:if(!this.ZU){t.next=18;break}return t.next=15,this.hF(this.ZU.Lf);case 15:return s=t.sent,t.next=18,this.ZU.wU(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cF=function(){var n=T.coroutine(ve.mark(function n(){var i;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.qE),n.next=3,t.prototype.og.call(this,i);case 3:return n.next=5,t.prototype.ba.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.hF=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wl===FS.Pv){t.next=3;break}return t.next=3,od(this.qE,"sourceopen");case 3:if(!(this.YU&&this.YU.SM||this.ZU&&this.ZU.SM)){t.next=6;break}throw new f("fF");case 6:return t.abrupt("return",this.qE.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sF=function(){if(this.Wl!==FS.Pv)return!1;var t=this.YU&&this.YU.zO,n=this.ZU&&this.ZU.zO;return!(t||n)},i.gM=function(){this.KU=!0,this.YU&&this.YU.gM(),this.ZU&&this.ZU.gM(),this.KU=!1,this.nF()},i.kU=function(t){var n=Qe(t.aF,function(t){return yr(t.Lf,"audio")}),i=Qe(t.aF,function(t){return yr(t.Lf,"video")});if(this.YU){if(!n)return!1;if(!this.YU.kU(n))return!1}else if(n)return!1;if(this.ZU){if(!i)return!1;if(!this.ZU.kU(i))return!1}else if(i)return!1;return!0},i.pU=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Qe(n.aF,function(t){return yr(t.Lf,"audio")}),r=Qe(n.aF,function(t){return yr(t.Lf,"video")}),e=[],this.YU&&e.push(this.YU.pU(i)),this.ZU&&e.push(this.ZU.pU(r)),t.next=7,T.all(e);case 7:this.ec=n;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.co=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.YU){n.next=4;break}return n.next=3,this.YU.co();case 3:this.YU=void 0;case 4:if(!this.ZU){n.next=8;break}return n.next=7,this.ZU.co();case 7:this.ZU=void 0;case 8:return this.lc.src&&URL.revokeObjectURL(this.lc.src),this.YE.No(Wo.rh,this.tF),this.eF.Sv(),n.next=13,t.prototype.co.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.AU=function(){var t=this,n=this.ec,i=n.aF.map(function(n){return yr(n.Lf,"audio")&&t.YU?t.YU.Zp:yr(n.Lf,"video")&&t.ZU?t.ZU.Zp:n});this.ec=de(de({},n),{aF:i})},i.DM=function(){this.KU||this.nF()},i.nF=function(){this.vF&&this.sF()&&(this.qE.endOfStream(),this.$U=void 0,this.bo(new Eu(uS.OD)))},i.yU=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hF(n.Lf);case 3:return i=t.sent,t.next=6,n.wU(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.dF).push(n),t.next=14,this.lF(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.mU=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!j.Ne){t.next=3;break}throw new f("Not supported in Firefox");case 3:this.qE.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.dF.filter(function(t){return t!==n}),t.next=11,this.lF(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.lF=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.YE._F(),i=0,r=this.dF;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.yl();case 7:i++,t.next=2;break;case 10:return this.qE=this.rF.QU(),t.next=13,this.cF();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.hF(s.Lf);case 18:return o=t.sent,t.next=21,s.wU(o);case 21:u++,t.next=14;break;case 24:this.YE.gF();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.dU=function(){this.sF()&&(this.KL?this.nF():void 0!==this.$U&&(this.qE.duration=this.$U,this.$U=void 0))},n.$L=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.aF;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.Lf))return!1}return!0},L(n,[{key:"wF",get:function(){return this.YU}},{key:"yF",get:function(){return this.ZU}},{key:"dF",get:function(){var t=[];return this.YU&&this.YU.TM&&t.push(this.YU),this.ZU&&this.ZU.TM&&t.push(this.ZU),t}},{key:"S_",get:function(){if(this.$U)return this.$U;var t=this.qE.duration;return 9007199254740991===t?1/0:t}},{key:"Tg",get:function(){return HS?function(t){var n=[];if(t.wF&&t.wF.TM&&n.push(t.wF.Tg),t.yF&&t.yF.TM&&n.push(t.yF.Tg),0===n.length)return nA.KI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.kl>0&&(i=l.max(i,e.wI(e.kl-1)))}for(var u=t.KL,s=new nA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.kl>0&&(a=a.BI(new nA([a.wI(a.kl-1),i],[!0,!0]))),s=s.II(a)}return s}(this):nA.ZI(this.lc.buffered)}},{key:"tM",get:function(){if(this.YU&&this.YU.TM)return this.YU.Tg}},{key:"nM",get:function(){if(this.ZU&&this.ZU.TM)return this.ZU.Tg}},{key:"Mg",get:function(){return this.JU.zU().II(new nA([0,this.S_],[!0,!0]))}},{key:"KL",get:function(){return(!this.YU||!this.YU.TM||this.YU.KL())&&(!this.ZU||!this.ZU.TM||this.ZU.KL())}},{key:"Wl",get:function(){return this.qE.readyState}},{key:"vF",get:function(){if(!this.KL)return!1;var t=this.Tg;return 0!==t.kl&&t._I(t.kl-1)<=this.YE.E_}}]),n}(vS),qS=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).rN=n,c.mF=i,c.kF=r,c.uN=e,c.oN=u,c.eN=s,c.sN=o,c.aN=a,c}M(n,t);var i=n.prototype;return i.eg=function(){this.uN||(this.uN=!0,this.bo(new Rl(this.E_)))},i.rg=function(){this.uN&&(this.uN=!1,this.bo(new Il(this.E_)))},L(n,[{key:"E_",get:function(){return this.rN},set:function(t){this.E_!==t&&(this.rN=t,this.oN=!0,this.bo(new Ml(this.E_)))}},{key:"S_",get:function(){return this.mF}},{key:"R_",get:function(){return this.kF}},{key:"D_",get:function(){return this.uN}},{key:"O_",get:function(){return this.oN}},{key:"N_",get:function(){return this.eN},set:function(t){this.N_!==t&&(this.eN=t,this.bo(new Fl(this.E_,this.B_)))}},{key:"C_",get:function(){return this.sN},set:function(t){this.C_!==t&&(this.sN=t,this.bo(new xl(this.E_,this.C_)))}},{key:"B_",get:function(){return this.aN},set:function(t){this.B_!==t&&(this.aN=t,this.bo(new Fl(this.E_,this.B_)))}}]),n}(bu),zS=function(t){function n(n){var i;return(i=t.call(this)||this).hS=ol.l_,i.pF=function(){i.AF()},i.YE=n,i}M(n,t);var i=n.prototype;return i.bF=function(t){this.hS!==t&&(this.hS=t,this.bo(new Xl(this.YE.E_,t)))},i.AF=function(){this.bF(this.NP())},i.yl=function(){this.bF(ol.l_)},i.co=function(){this.Io()},L(n,[{key:"Wl",get:function(){return this.NP()}}]),n}(bu),GS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],jS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<GS.length;r++){var e=GS[r];i.YE.hR.addEventListener(e,i.pF)}return i}M(n,t);var i=n.prototype;return i.NP=function(){var t=this.YE.hR.readyState;return t>ol.g_&&this.YE.TF?ol.g_:(this.YE.hR.seeking&&t>ol.__&&(t=ol.__),t)},i.co=function(){for(var n=0;n<GS.length;n++){var i=GS[n];this.YE.hR.removeEventListener(i,this.pF)}t.prototype.co.call(this)},n}(zS),QS=function(t){function n(n){var i;(i=t.call(this,n)||this).YE.Eo(Wo.rh,i.pF);for(var r=0;r<GS.length;r++){var e=GS[r];i.YE.hR.addEventListener(e,i.pF)}return i}M(n,t);var i=n.prototype;return i.NP=function(){if(this.YE.hR.readyState===ol.l_)return ol.l_;var t=this.EF(),n=t?t.wI-t._I:0;if(!t)return ol.__;var i=this.YE.C_;return this.SF()||n>=3*i?ol.y_:n>=3?ol.w_:ol.g_},i.EF=function(){var t=this.YE.E_,n=this.YE.Tg.xI(.04),i=n.UI(t);if(!(i<0))return{_I:t,wI:n.wI(i)}},i.SF=function(){if(this.YE.R_)return!0;var t=this.YE.S_,n=this.EF();return!!n&&t-n.wI<=1/6},i.co=function(){this.YE.No(Wo.rh,this.pF);for(var n=0;n<GS.length;n++){var i=GS[n];this.YE.hR.removeEventListener(i,this.pF)}t.prototype.co.call(this)},n}(zS),YS=[El.il,Wo.Jc,Wo.Zc,Wo.rh,Wo.ih,Wo.Xc,Xd.Hl],ZS=function(t){function n(n){var i;return(i=t.call(this,n)||this).RF=!1,i.IF=function(){i.RF=!0,i.Ea()},i.lc=n.hR,i.lc.addEventListener(El.T_,i.IF),i}M(n,t);var i=n.prototype;return i.NF=function(){return this.RF&&t.prototype.NF.call(this)},i.Ea=function(){this.RF&&(this.lc.paused||this.lc.ended||this.lc.error)&&(this.RF=!1),t.prototype.Ea.call(this)},i.yl=function(){t.prototype.yl.call(this),this.RF=!1},i.co=function(){this.lc.removeEventListener(El.T_,this.IF),t.prototype.co.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).DF=!1,i.GO=function(){i.Ea()},i.aS=n,i.aS.Eo(YS,i.GO),i}M(n,t);var i=n.prototype;return i.CF=function(){return this.aS.Wl<ol.w_},i.NF=function(){return!this.aS.O_&&!(this.aS.D_||this.aS.R_||this.aS.Fo||this.CF())},i.Ea=function(){var t=this.DF;this.DF=this.NF(),!t&&this.DF&&this.bo(new Dp(this.aS.E_))},i.yl=function(){this.DF=!1},i.co=function(){this.Io(),this.aS.No(YS,this.GO)},n}(bu)),JS=function(t){function n(n){var i;return(i=t.call(this,Xd.Hl)||this).Fo=n,i}return M(n,t),n}(Eu);function $S(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function KS(t,n){return t.ew<=n&&t.uw>n}function tR(t,n){return function(t,n){return $_(t.ew,n.ew,U_)}(t,n)||function(t,n){return $_(t.uw,n.uw,U_)}(t,n)}function nR(t,n){var i=$S(t,n,R,tR,!0);if(i<0)return i;for(;i<t.length&&tR(n,t[i])===Q_.xw;i++)if(t[i].bw(n))return i;return-(i+1)}function iR(t){var n=t.Wd;if(!n)return-1;if(t instanceof H_)return n.OF(t);var i=n.ql;if(!i)return-1;var r=nR(i.ml,t);return r>=0?r:-1}function rR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{xF:o,PF:a}}(t,n,tR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var eR=function(){function t(t){this.Hd=void 0,this.BF=t}var n=t.prototype;return n.Xd=function(){return function(t){for(var n=[],i=0;i<t.kl;i++)n[i]=t.jo(i).Vd;return n.item=function(n){var i=0|n,r=t.jo(i);return r&&r.Vd||void 0},d.defineProperty(n,"constructor",{value:L_}),n}(this)},n.Hg=function(t){for(var n=this.BF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.bw(r))return!0}return!1},n.jo=function(t){return this.BF[t]},L(t,[{key:"ml",get:function(){return this.BF}},{key:"kl",get:function(){return this.BF.length}},{key:"Vd",get:function(){if(this.Hd){var t=this.BF;this.Hd.length=t.length;for(var n=0;n<t.length;n++)this.Hd[n]=t[n].Vd}else this.Hd=this.Xd();return this.Hd}}]),t}(),uR=function(t){function n(n,i){var r;return(r=t.call(this,vd.il)||this).Wd=n,r.Wl=i,r}return M(n,t),n.prototype.Xd=function(){return new sR(this.Wd.Vd,Yd(this.Wl))},n}(dd),sR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return M(n,t),n}(ld),oR=function(t){function n(n){var i;return(i=t.call(this,vd.sl)||this).Wd=n,i}return M(n,t),n.prototype.Xd=function(){return new aR(this.Wd.Vd)},n}(dd),aR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return M(n,t),n}(ld),cR=function(t){function n(n){var i;return(i=t.call(this,vd.qd)||this).rw=n,i}return M(n,t),n.prototype.Xd=function(){return new hR(this.rw.Vd)},n}(dd),hR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return M(n,t),n}(ld),fR=function(t){function n(n){var i;return(i=t.call(this,vd.Gd)||this).rw=n,i}return M(n,t),n.prototype.Xd=function(){return new vR(this.rw.Vd)},n}(dd),vR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return M(n,t),n}(ld),dR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).qg=String(lR++),o.Wg=g_(),o.LF=!1,o.xN=Vd.Ml,o.MF=A_.NONE,o.UF=void 0,o.BF=[],o.FF=[],o.HF=0,o.VF=0,o.XF=s||"",o.WF=n,o.qF=r||"",o.LF=Boolean(e),o.bu=u||b_.DEFAULT,o.zg=i||"",o.zF=new eR(o.BF),o.GF=new eR(o.FF),o}M(n,t);var i=n.prototype;return i.jF=function(t){return Qe(this.zF.ml,function(n){return n.Dl===t})},i.Xd=function(){return Gd(this)},i.VN=function(t){var n=qd(t);n!==this.Xl&&(this.xN=n,n===Vd.Ml&&(this.FF.forEach(function(t){t.Tw=!1}),tu(this.FF),this.VF=0))},i.Eb=function(t){if(t&&!t.Wd){var n=nR(this.ql.ml,t);if(!(n>=0)){t.Wd=this;var i=-(n+1);this.BF.splice(i,0,t),this.QF(i),t.yw=i,i<this.VF&&(this.VF=i),this.bo(new cR(t))}}},i.YF=function(t){if(t&&t.Wd===this){var n=this.OF(t);if(!(n<0)){t.Tw=!1;var i=this.FF,r=nR(i,t);r>=0&&Je(i,r),Je(this.BF,n),this.QF(n),t.yw=-1,this.VF>n&&--this.VF,this.bo(new fR(t))}}},i.ZF=function(t,n){var i=this.FF,r=this.BF,e=this.VF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){KS(i[s],t)||(u=!0,Je(i,s))}for(;e<r.length&&r[e].ew<=t;){var o=r[e];KS(o,t)&&!$e(i,o)&&(u=!0,i.push(o)),e++}u&&ze(i,tR),this.VF=e},i.OF=function(t){return(-1===t.yw||t.yw>=this.HF)&&this.JF(),t.yw},i.JF=function(){for(var t=this.BF,n=this.HF;n<t.length;n++)t[n].yw=n;this.HF=t.length},i.QF=function(t){t<this.HF&&(this.HF=t)},i.Sv=function(){this.Io();for(var t=this.BF.slice(),n=0;n<t.length;n++){t[n].Sv()}tu(this.BF),tu(this.FF)},L(n,[{key:"zl",get:function(){return this.GF}},{key:"ql",get:function(){return this.zF}},{key:"Rb",get:function(){return this.LF},set:function(t){this.LF=t}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"Dl",get:function(){return this.qg}},{key:"Cl",get:function(){return this.Wg}},{key:"Vl",get:function(){return this.XF},set:function(t){this.XF=t}},{key:"Ol",get:function(){return this.WF}},{key:"xl",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.bo(new d_(this)))}},{key:"Pl",get:function(){return this.qF}},{key:"Xl",get:function(){return this.xN},set:function(t){this.VN(t),this.bo(new kd(this))}},{key:"Wl",get:function(){return this.MF},set:function(t){this.MF!==t&&(this.MF=t,this.bo(new uR(this,this.MF)))}},{key:"Gl",get:function(){return this.UF},set:function(t){this.UF=t}},{key:"Gs",get:function(){return this.bu},set:function(t){this.bu!==t&&(this.bu=t,this.bo(new oR(this)))}}]),n}(bu),lR=0;var _R=function(t){function n(n){var i;(i=t.call(this)||this).KF=[],i.tH=function(t){i._l(t.Wd)},i.nH=function(t){var n=t.Wd;i.iH(n)||i.gl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.rH(e)}return i}M(n,t);var i=n.prototype;return i.rH=function(t){this.KF.push(t);for(var n=0,i=t.ml;n<i.length;n++){var r=i[n];this._l(r)}this.eH(t)},i.uH=function(t){Ze(this.KF,t),this.sH(t);for(var n=0,i=t.ml;n<i.length;n++){var r=i[n];this.iH(r)||this.gl(r)}},i.iH=function(t){for(var n=0,i=this.KF;n<i.length;n++){if(i[n].wl(t))return!0}return!1},i.eH=function(t){t.Eo(cd.Ld,this.tH),t.Eo(cd.Ud,this.nH)},i.sH=function(t){t.No(cd.Ld,this.tH),t.No(cd.Ud,this.nH)},i.Sv=function(){for(;this.KF.length>0;)this.uH(this.KF[0]);t.prototype.Sv.call(this)},i.Xd=function(){return Qd(this)},n}(md),gR=function(t){function n(n,i){var r;return(r=t.call(this,R_.Kg,n)||this).Oy=i,r}return M(n,t),n.prototype.Xd=function(){return new wR(this.rw.Vd)},n}(x_),wR=function(t){function n(n){return t.call(this,I_.Kg,n)||this}return M(n,t),n}(P_),yR=function(t){function n(n,i){var r;return(r=t.call(this,R_.nw,n)||this).Oy=i,r}return M(n,t),n.prototype.Xd=function(){return new mR(this.rw.Vd)},n}(x_),mR=function(t){function n(n){return t.call(this,I_.nw,n)||this}return M(n,t),n}(P_),kR=function(t){function n(n){var i;return(i=t.call(this,vd.Qd)||this).rw=n,i}return M(n,t),n.prototype.Xd=function(){return new pR(this.rw.Vd)},n}(dd),pR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return M(n,t),n}(ld),AR=function(t){function n(n){var i;return(i=t.call(this,vd.Zd)||this).rw=n,i}return M(n,t),n.prototype.Xd=function(){return new bR(this.rw.Vd)},n}(dd),bR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return M(n,t),n}(ld),TR=function(t){function n(n){var i;return(i=t.call(this)||this)._w=void 0,i.Hd=void 0,i.gw=!1,i.ww="",i.oH=function(){i.Tw=!0},i.aH=function(){i.Tw=!1},i.cH=n,i.cH.addEventListener("enter",i.oH),i.cH.addEventListener("exit",i.aH),i}M(n,t);var i=n.prototype;return i.Xd=function(){return B_(this)},i.bw=function(t){return this===t||Id(this,t)&&F_(this,t)},i.Sv=function(){this.Io(),this.cH.removeEventListener("enter",this.oH),this.cH.removeEventListener("exit",this.aH)},L(n,[{key:"ew",get:function(){return this.cH.startTime},set:function(t){this.cH.startTime=t}},{key:"uw",get:function(){return this.cH.endTime},set:function(t){this.cH.endTime=t}},{key:"sw",get:function(){return this.cH.text},set:function(t){this.cH.text=t+""}},{key:"Sw",get:function(){return!!this.cH.pauseOnExit},set:function(t){this.cH.pauseOnExit=!!t}},{key:"Wd",get:function(){return this._w},set:function(t){this._w=t}},{key:"Dl",get:function(){return this.cH.id||""},set:function(t){this.cH.id=t||""}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"Ew",get:function(){return this.ww},set:function(t){this.ww=t}},{key:"Tw",get:function(){return this.gw},set:function(t){this.Tw!==t&&(this.gw=t,t?(this.bo(new gR(this,this.ew)),this._w&&this._w.bo(new kR(this))):(this.bo(new yR(this,this.uw)),this._w&&this._w.bo(new AR(this))))}}]),n}(Jd),ER=function(t){function n(n){var i;return(i=t.call(this,vd.$d)||this).Wd=n,i}return M(n,t),n.prototype.Xd=function(){return new SR(this.Wd.Vd)},n}(dd),SR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return M(n,t),n}(ld);function RR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new IR(t),t.THEOplayerVTTRegion=n),n}}var IR=function(){function t(t){this.Hd=void 0,this.hH=t}return L(t,[{key:"fH",get:function(){return this.hH}},{key:"Dl",get:function(){return this.hH.id||""}},{key:"ts",get:function(){return+this.hH.width||0},set:function(t){this.hH.width=t||0}},{key:"Rw",get:function(){return+this.hH.lines||0},set:function(t){this.hH.lines=t||0}},{key:"Iw",get:function(){return+this.hH.regionAnchorX||0},set:function(t){this.hH.regionAnchorX=t||0}},{key:"Nw",get:function(){return+this.hH.regionAnchorY||0},set:function(t){this.hH.regionAnchorY=t||0}},{key:"Cw",get:function(){return+this.hH.viewportAnchorX||0},set:function(t){this.hH.viewportAnchorX=t||0}},{key:"Ow",get:function(){return+this.hH.viewportAnchorY||0},set:function(t){this.hH.viewportAnchorY=t||0}},{key:"Dw",get:function(){return this.hH.scroll||""}},{key:"Vd",get:function(){return this.Hd||(this.Hd=j_(this)),this.Hd}}]),t}(),NR=function(t){function n(n){return t.call(this,n)||this}return M(n,t),L(n,[{key:"lw",get:function(){return this.cH.vertical||""},set:function(t){this.cH.vertical=t||""}},{key:"dw",get:function(){return!!this.cH.snapToLines},set:function(t){this.cH.snapToLines=!!t}},{key:"aw",get:function(){return this.cH.line},set:function(t){this.cH.line=t}},{key:"Jo",get:function(){return+this.cH.size},set:function(t){this.cH.size=Wt(t,0,100)}}]),n}(TR),DR=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.bw=function(n){return this===n||Id(this,n)&&t.prototype.bw.call(this,n)&&V_(this,n)},L(n,[{key:"vw",get:function(){return RR(this.cH.region)}},{key:"cw",get:function(){return this.cH.lineAlign||"start"},set:function(t){this.cH.lineAlign=t||"start"}},{key:"hw",get:function(){return this.cH.position},set:function(t){this.cH.position=t}},{key:"fw",get:function(){return this.cH.positionAlign||"auto"},set:function(t){this.cH.positionAlign=t||"auto"}},{key:"ow",get:function(){return this.cH.align||"center"},set:function(t){this.cH.align=t||"center"}},{key:"Vd",get:function(){return this.Hd||(this.Hd=M_(this)),this.Hd}}]),n}(NR),CR=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.bw=function(n){return this===n||Id(this,n)&&t.prototype.bw.call(this,n)&&V_(this,n)},L(n,[{key:"vw",get:function(){return RR(this.fH)}},{key:"fH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.cH.track,this.cH.regionId)}},{key:"cw",get:function(){return"middle"===(t=this.cH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.cH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"hw",get:function(){return this.cH.position},set:function(t){var n,i;this.cH.position=(n=t,i=this.ow,O_(n,i))}},{key:"fw",get:function(){return t=this.cH.positionAlign||"middle",D_[t];var t},set:function(t){var n,i;this.cH.positionAlign=(n=t||"center",i=this.ow,N_[C_(n,i)])}},{key:"ow",get:function(){return"middle"===(t=this.cH.align||"middle")?"center":t;var t},set:function(t){var n;this.cH.align="center"===(n=t||"center")?"middle":n}},{key:"Vd",get:function(){return this.Hd||(this.Hd=M_(this)),this.Hd}}]),n}(NR);function OR(t,n){return t.sw===n.sw}function xR(t,n,i){for(var r=t[n].ew,e=n;e>=0&&t[e].ew===r;e--)t[e].uw=i}function PR(t){return B_(t)}var BR,LR,MR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).vH=i,r}return M(n,t),n.prototype.bw=function(n){return this===n||Id(this,n)&&t.prototype.bw.call(this,n)&&OR(this,n)},L(n,[{key:"sw",get:function(){return this.vH}},{key:"Vd",get:function(){return this.Hd||(this.Hd=PR(this)),this.Hd}}]),n}(TR);function UR(t){switch(t){case BR.ISO_8859_1:case BR.UTF16_BOM:case BR.UTF16:case BR.UTF8:return!0}return!1}function FR(t){switch(t){case BR.ISO_8859_1:return As;case BR.UTF16_BOM:return Es;case BR.UTF16:return Ss;case BR.UTF8:return xs}}function HR(t,n){var i=n.ia,r=t.byteLength,e=Fs(t);return n.Ko(r-i),Xs(e,i,r).buffer}function VR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function XR(t,n,i){var r=os(t,n);if(UR(r)){var e=FR(r);return{id:i,language:ks(t,n,3),description:e(t,n),text:e(t,n)}}}function WR(t,n,i){var r=os(t,n);if(UR(r)){var e=FR(r);return{id:i,mimeType:As(t,n),fileName:e(t,n),description:e(t,n),data:HR(t,n)}}}function qR(t,n,i){var r=os(t,n);if(UR(r)){for(var e=FR(r),u=[];n.ia<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function zR(t,n,i){var r=os(t,n);if(UR(r)){for(var e=FR(r),u=ks(t,n,3),s=os(t,n),o=os(t,n),a=e(t,n),c=!1,h=[];n.ia<t.byteLength;){var f=void 0;if(r===BR.UTF16_BOM){var v=Ts(t,n);void 0===v?v=c:c=v,f=Ss(t,n,v)}else f=e(t,n);if(!f||n.ia+4>t.byteLength)break;h.push({text:f,timestamp:_s(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function GR(t,n,i){return{id:i,ownerIdentifier:As(t,n),identifier:HR(t,n)}}function jR(t,n,i){var r=os(t,n);if(UR(r)){var e=FR(r);return{id:i,language:ks(t,n,3),description:e(t,n),text:e(t,n)}}}function QR(t,n,i){var r=os(t,n);if(UR(r))return{id:i,text:FR(r)(t,n)}}function YR(t,n,i){return{id:i,url:As(t,n)}}function ZR(t,n,i){var r=os(t,n);if(UR(r)){var e=FR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function JR(t,n,i){var r=os(t,n);if(UR(r))return{id:i,description:FR(r)(t,n),url:As(t,n)}}function $R(t,n,i){switch(i){case"COM":return XR(t,n,i);case"GEO":return WR(t,n,i);case"IPL":return qR(t,n,i);case"PIC":return function(t,n,i){var r=os(t,n);if(UR(r)){var e,u,s=FR(r),o=ks(t,n,3),a=os(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=As(t,n)):(e="image/"+o.toLowerCase(),u=HR(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return zR(t,n,i);case"TXX":return ZR(t,n,i);case"UFI":return GR(t,n,i);case"ULT":return jR(t,n,i);case"WXX":return JR(t,n,i);default:if("T"===i.charAt(0))return QR(t,n,i);if("W"===i.charAt(0))return YR(t,n,i)}}function KR(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=os(t,n);if(UR(r)){var e=FR(r),u=As(t,n);return{id:i,mimeType:u,pictureType:os(t,n),description:e(t,n),data:"--\x3e"===u?As(t,n):HR(t,n)}}}(t,n,i);case"COMM":return XR(t,n,i);case"COMR":return function(t,n,i){var r=os(t,n);if(UR(r)){var e,u,s=FR(r),o=As(t,n),a=ks(t,n,8),c=As(t,n),h=os(t,n),f=s(t,n),v=s(t,n);return n.ia<t.byteLength&&(e=As(t,n)||"image/",u=HR(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return WR(t,n,i);case"IPLS":return qR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:As(t,n),data:HR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:os(t,n),position:_s(t,n)}}(t,n,i);case"SYLT":return zR(t,n,i);case"TXXX":return ZR(t,n,i);case"UFID":return GR(t,n,i);case"USER":return function(t,n,i){var r=os(t,n);if(UR(r)){var e=FR(r);return{id:i,language:ks(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return jR(t,n,i);case"WXXX":return JR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return QR(t,n,i);default:var r=i.charAt(0);if("T"===r)return QR(t,n,i);if("W"===r)return YR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(BR||(BR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(LR||(LR={}));var tI=10;function nI(t,n){return(127&os(t,n))<<21|(127&os(t,n))<<14|(127&os(t,n))<<7|127&os(t,n)}function iI(t,n){switch(t){case LR.V24:return{dH:ss(n,0),lH:ss(n,1),_H:ss(n,2),gH:ss(n,3)};case LR.V23:return{dH:ss(n,0),lH:ss(n,1),_H:ss(n,2)};case LR.V22:return{dH:ss(n,0),wH:ss(n,1)}}}function rI(t,n,i){switch(i.Pk){case LR.V23:i.Bk.lH&&function(t,n){var i=n.ia,r=_s(t,n)+4,e=32768&ds(t,n);n.ta(i+r),e&&_s(t,n)}(t,n);break;case LR.V24:i.Bk.lH&&function(t,n){var i=n.ia,r=nI(t,n);n.ta(i+r)}(t,n)}}function eI(t,n){if(t.byteLength-n.ia<tI)return null;if(73!==os(t,n)||68!==os(t,n)||51!==os(t,n))return null;var i=os(t,n),r=os(t,n);if(!function(t){switch(t){case LR.V22:case LR.V23:case LR.V24:return!0}return!1}(i))return null;var e=os(t,n),u=nI(t,n);return{Pk:i,yH:r,Bk:iI(i,e),mH:u}}function uI(t,n,i){switch(i.Pk){case LR.V22:return function(t,n,i){return{Dl:ks(t,n,3),Jo:vs(t,n,3)}}(t,n);case LR.V23:return function(t,n,i){var r=ks(t,n,4),e=_s(t,n);os(t,n);var u=os(t,n);return{Dl:r,Jo:e,Bk:{wH:ss(u,0),kH:ss(u,1),groupingIdentity:ss(u,2)}}}(t,n);case LR.V24:return function(t,n,i){var r=ks(t,n,4),e=nI(t,n);os(t,n);var u=os(t,n);return{Dl:r,Jo:e,Bk:{groupingIdentity:ss(u,1),wH:ss(u,4),kH:ss(u,5),dH:ss(u,6),pH:ss(u,7)}}}(t,n)}}function sI(t){for(var n=new y(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function oI(t,n){var i=n||new qs,r=eI(t,i);return r?{Nk:r,AH:function(t,n,i){var r=[],e=n.ia,u=Ms(t,e,e+i.mH),s=new qs;switch(n.Ko(i.mH),i.Pk){case LR.V22:case LR.V23:i.Bk.dH&&(u=sI(u))}rI(t,n,i);for(;s.ia<u.byteLength;)r.push(aI(u,s,i));return r}(t,i,r)}:null}function aI(t,n,i){var r,e,u=uI(t,n,i),s=n.ia,o=Ms(t,s,s+u.Jo);switch(n.Ko(u.Jo),i.Pk){case LR.V22:var a=u;r=$R(e=o,new qs,a.Dl);break;case LR.V23:var c=u,h=new qs;!function(t,n,i){var r,e,u,s=i.Bk;s.wH&&(r=_s(t,n)),s.kH&&(e=os(t,n)),s.groupingIdentity&&(u=os(t,n))}(o,h,c),r=KR(e=Ms(o,h.ia,o.byteLength),new qs,c.Dl);break;case LR.V24:var f=u,v=new qs;f.Bk.dH&&(o=sI(o)),function(t,n,i){var r,e,u,s,o=i.Bk;o.groupingIdentity&&(r=os(t,n)),o.wH&&(e=_s(t,n)),o.kH&&(u=os(t,n)),o.pH&&(s=nI(t,n))}(o,v,f),r=KR(e=Ms(o,v.ia,o.byteLength),new qs,f.Dl)}if(!r){var d=Ws(Fs(e));r=VR(u.Dl,d.buffer)}return r}function cI(t){return function(t,n,i){return QR(t,n,i)}(new DataView(t.data),new qs,t.key)}function hI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return cI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return VR(t.key,t.data)}(t)}var fI="org.id3";var vI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).BF=[],e.FF=[],e.xN=Vd.Ml,e.MF=A_.NONE,e.UF=void 0,e.bu=b_.DEFAULT,e.bH=function(){e.TH(),e.Xg.removeEventListener("cuechange",e.bH)},e.EH=function(){e.Xl!==Vd.Ml&&(e.SH(),e.ZF(),e.BF.length&&e.RH(A_.LOADING))},e.IH=function(){e.RH(A_.LOADED)},e.NH=function(){e.RH(A_.ERROR)},e.Xg=n,e.DH=r,e.Xg.addEventListener("cuechange",e.bH),e.Xg.addEventListener("cuechange",e.EH),e.CH=i,e.CH&&(e.UF=Rr(e.CH.src),e.CH.addEventListener("load",e.IH),e.CH.addEventListener("error",e.NH)),e.Wg=g_(),e.zg=n.label||"",e.zF=new eR(e.BF),e.GF=new eR(e.FF),e.Xl=e.OH,lu(function(){e.EH(),e.RH(A_.NONE)}),e}M(n,t);var i=n.prototype;return i.Xd=function(){return Gd(this)},i.TH=function(){var t=this.Xl;this.xH||t!==Vd.Fl?this.OH=t:this.OH=Vd.Ul},i.PH=function(){var t=this.Xl,n=this.OH;t!==n&&(this.xH||t!==Vd.Fl||n!==Vd.Ul)&&("metadata"===this.Ol&&n===Vd.Ml?this.Xl=t:this.Xl=n)},i.AF=function(t){this.MF!==t&&(this.MF=t,this.bo(new uR(this,t)))},i.RH=function(t){var n=l.max(this.MF,this.BH,t);this.AF(n)},i.LH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.MH=function(t){var n=this.LH(t);if(n)return n;if($(n=this.UH(t)))for(var i=0,r=n;i<r.length;i++){r[i].Wd=this}else n.Wd=this;return t.THEOplayerTextTrackCue=n,n},i.UH=function(t){return(n=t)&&n.type===fI&&n.value?(this.Gs=b_.ID3,function(t){var n;try{n=hI(t.value)}catch(t){n=VR("")}return new MR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Gs=b_.ID3,function(t){var n=[];try{var i=oI(new DataView(t.data));if(i)for(var r=0,e=i.AH;r<e.length;r++){var u=e[r];n.push(new MR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Gs=b_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new CR(t):new DR(t)):new TR(t);var n},i.FH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.MH(t[r]||t.item(r));if($(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.SH=function(){for(var t=this.FH(this.Xg.cues),n=rR(this.BF,t),i=0,r=n.PF;i<r.length;i++){var e=r[i];this.bo(new fR(e))}for(var u=0,s=n.xF;u<s.length;u++){var o=s[u];this.bo(new cR(o))}},i.ZF=function(){for(var t=this.FH(this.Xg.activeCues),n=rR(this.FF,t),i=0,r=n.PF;i<r.length;i++){r[i].Tw=!1}for(var e=0,u=n.xF;e<u.length;e++){u[e].Tw=!0}(n.xF.length||n.PF.length)&&this.bo(new ER(this))},i.Sv=function(){this.Io();for(var t=this.BF.slice(),n=0;n<t.length;n++){t[n].Sv()}tu(this.BF),tu(this.FF),this.Xg.removeEventListener("cuechange",this.EH),this.CH&&(this.Xg.removeEventListener("load",this.IH),this.Xg.removeEventListener("error",this.NH)),this.CH&&Hr(this.CH)},L(n,[{key:"zl",get:function(){return this.GF}},{key:"Rb",get:function(){return this.CH?this.CH.default:void 0}},{key:"ql",get:function(){return this.zF}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"Dl",get:function(){return this.Xg.id||this.CH&&this.CH.id||""}},{key:"Cl",get:function(){return this.Wg}},{key:"Vl",get:function(){return this.Xg.inBandMetadataTrackDispatchType||""}},{key:"Ol",get:function(){return this.Xg.kind||Xw.fb}},{key:"xl",get:function(){return this.zg},set:function(t){t!==this.xl&&(this.zg=t,this.bo(new d_(this)))}},{key:"Pl",get:function(){return this.Xg.language||""}},{key:"Xl",get:function(){return this.xN},set:function(t){var n=this.Xl;this.xN=qd(t),this.TH();var i=this.Xl;n!==i&&this.bo(new kd(this)),i!==Vd.Ml&&this.RH(A_.LOADING)}},{key:"OH",get:function(){return qd(this.Xg.mode)},set:function(t){this.Xg.mode=t}},{key:"Yg",get:function(){return this.Xg}},{key:"Wl",get:function(){return this.MF}},{key:"BH",get:function(){return this.CH?+this.CH.readyState||A_.NONE:A_.LOADED}},{key:"Gl",get:function(){return this.UF}},{key:"Gs",get:function(){return this.bu},set:function(t){this.bu!==t&&(this.bu=t,this.bo(new oR(this)))}},{key:"xH",get:function(){return this.DH},set:function(t){this.DH=t,this.TH()}}]),n}(bu);function dI(t){return t instanceof vI}function lI(t,n){return J_(t.Oy,n.Oy)||function(t,n){return t.Wd===n.Wd?Z_(iR(t),iR(n)):ry(t.Wd,n.Wd)}(t.rw,n.rw)||function(t,n){return t===n?Q_.xw:t===R_.Kg?Q_.Bw:Q_.Pw}(t.type,n.type)}var _I=function(){function t(t,n){var i=this;this.Q_=[],this.HH=0,this.VH=0,this.XH=[],this.WH=!1,this.qH=!1,this.zH=void 0,this.GH=function(){i.HH=0,i.jH(),i.QH()},this.YH=function(){i.jH(),i.QH()},this.ZH=function(){i.qH=!0,i.zH=i.aI.E_,i.JH()},this.$H=function(){i.jH(),i.QH()},this.KH=function(){i.tV(),i.jH(),i.QH()},this.nV=function(){i.iV()},this.rV=function(t){Ze(i.XH,t.rw),i.iV()},this.eV=n,this.aI=t,t.Eo(Wo.fh,this.YH),t.Eo(Wo.Jc,this.YH),t.Eo(El.T_,this.YH),t.Eo(Wo.Zc,this.YH),t.Eo(Wo.rh,this.ZH),t.Eo(Wo.ih,this.$H),this.iV()}var n=t.prototype;return n.yl=function(){tu(this.XH);for(var t=0,n=this.Q_.slice();t<n.length;t++){var i=n[t];this.gl(i)}this.JH(),this.HH=0,this.VH=0,this.WH=!1,this.qH=!1,this.zH=void 0},n._l=function(t){$e(this.Q_,t)||(this.Q_.push(t),t.Eo(vd.qd,this.nV),t.Eo(vd.Gd,this.rV),t.Eo(vd.tl,this.KH),t.ql.kl&&this.iV(),this.tV())},n.gl=function(t){if(Ze(this.Q_,t)){if(t.No(vd.qd,this.nV),t.No(vd.Gd,this.rV),t.No(vd.tl,this.KH),t.ql.kl){for(var n=0,i=t.ql.ml;n<i.length;n++){var r=i[n];Ze(this.XH,r)}this.iV()}this.tV()}},n.tV=function(){this.WH=this.Q_.some(function(t){return t.Xl!==Vd.Ml})},n.QH=function(){this.aI.O_||this.aI.D_?this.JH():this.iV()},n.iV=function(){this.WH&&(this.HH||(this.HH=this.eV.ar(this.GH)))},n.JH=function(){this.HH&&(this.eV.uV(this.HH),this.HH=0)},n.jH=function(){var t;if(this.WH&&!this.aI.O_){var n=this.Q_,i=this.VH,r=null!==(t=this.zH)&&void 0!==t?t:this.aI.E_,e=r-i<-.1,u=this.qH||e;u&&r>i&&r-i<.1&&(u=!1),this.qH=!1,this.zH=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.Xl!==Vd.Ml){c.ZF(r,u);for(var h=0,f=c.zl.ml;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.XH;else{s=[];for(var d=0;d<n.length;d++){var _=n[d];_.Xl!==Vd.Ml&&iy(_,i-1/6,r,s)}}for(var g=s.length-1;g>=0;g--)$e(o,s[g])&&Je(s,g);var w=[];if(!u)for(var y=s.length-1;y>=0;y--){var m=s[y];m.ew>=i&&m.uw<=r&&(w.push(m),Je(s,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.Tw||k.push(new gR(b,b.ew)),k.push(new yR(b,l.max(b.ew,b.uw)))}for(var T=0,E=s;T<E.length;T++){var S=E[T];S.Tw&&(k.push(new yR(S,l.max(S.ew,S.uw))),S.Tw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.Tw||(k.push(new gR(I,I.ew)),I.Tw=!0)}k.sort(lI);for(var N=0;N<k.length;N++){var D=k[N],C=D.rw;C.bo(D);var O=C.Wd;O&&(D.type===R_.Kg?O.bo(new kR(C)):O.bo(new AR(C)),$e(p,O)||p.push(O))}p.sort(ry);for(var x=0;x<p.length;x++){var P=p[x];P.bo(new ER(P))}this.VH=r,this.XH=o}},n.Sv=function(){this.yl(),this.aI.No(Wo.fh,this.YH),this.aI.No(Wo.Jc,this.YH),this.aI.No(El.T_,this.YH),this.aI.No(Wo.Zc,this.YH),this.aI.No(Wo.rh,this.ZH),this.aI.No(Wo.ih,this.$H)},t}(),gI=function(){function t(){}var n=t.prototype;return n.ar=function(t){return vT(t)},n.uV=function(t){dT(t)},t}(),wI=new gI,yI=function(t){function n(n,i){return void 0===i&&(i=wI),t.call(this,n,i)||this}return M(n,t),n}(_I),mI=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return M(n,t),n.prototype.bw=function(n){return this===n||Id(this,n)&&t.prototype.bw.call(this,n)&&OR(this,n)},L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=PR(this)),this.Hd}}]),n}(H_),kI=function(t){function n(n,i,r){return void 0===r&&(r=b_.DEFAULT),t.call(this,Xw.ek,i||"","",!1,r,n)||this}return M(n,t),n}(dR),pI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Gs=b_.ID3,r}M(n,t);var i=n.prototype;return i.Eb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ew<t.ew)xR(n,i,t.ew);else{var r=n[0];if(r.ew>t.ew)t.uw=r.ew;else{var e=nR(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].ew<t.ew&&xR(n,s,t.ew),u<n.length){var o=n[u];t.uw=o.ew}}}}}}(n,this.BF),t.prototype.Eb.call(this,n)},i.Xd=function(){return Gd(this)},n}(kI);function AI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=hI(t.value);return t.THEOplayerTextTrackCue=new mI(i,r),t.THEOplayerTextTrackCue}var bI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).EH=function(){i.Xl!==Vd.Ml&&(i.SH(),i.RH(A_.LOADED))},i.Xg=n,i.Xg.addEventListener("cuechange",i.EH),i.Xl=i.OH,lu(function(){i.EH()}),i}M(n,t);var i=n.prototype;return i.VN=function(n){t.prototype.VN.call(this,n),this.OH=this.Xl},i.RH=function(t){this.Wl=l.max(this.Wl,t)},i.SH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(AI(t[r]||t.item(r)));return ze(i,tR),i}(this.Xg.cues),n=rR(this.ql.ml.slice(),t),i=0,r=n.PF;i<r.length;i++){var e=r[i];this.YF(e)}for(var u=0,s=n.xF;u<s.length;u++){var o=s[u];this.Eb(o)}},i.Sv=function(){this.Xg.removeEventListener("cuechange",this.EH),t.prototype.Sv.call(this)},L(n,[{key:"Dl",get:function(){return this.Xg.id||""}},{key:"Vl",get:function(){return this.Xg.inBandMetadataTrackDispatchType||""}},{key:"Pl",get:function(){return this.Xg.language||""}},{key:"OH",get:function(){return qd(this.Xg.mode)},set:function(t){this.Xg.mode=t}},{key:"Yg",get:function(){return this.Xg}}]),n}(pI),TI=function(t){function n(n){var i;return(i=t.call(this,0,n.sw)||this).sV=n,i.uw=i.sV.ew,i}return M(n,t),L(n,[{key:"Dl",get:function(){return this.sV.Dl},set:function(t){this.sV.Dl=t}},{key:"Sw",get:function(){return this.sV.Sw},set:function(t){this.sV.Sw=t}},{key:"Ew",get:function(){return this.sV.Ew},set:function(t){this.sV.Ew=t}}]),n}(mI);function EI(t){return void 0===t.oV&&(t.oV=new TI(t)),t.oV}var SI=function(t){function n(n,i){var r;(r=t.call(this,n.Vl,n.xl)||this).Gs=b_.ID3,r.aV=function(t){r.cV(t.rw)},r.hV=function(t){var n=t.rw;if(void 0!==n.oV){var i=n.oV;n.oV=void 0,r.YF(i),i.Sv()}},r.fV=function(t){var n=EI(t.rw);n.Tw||r.vV(n),r.dV(n)},r.lV=function(t){var n=t.rw,i=EI(n);r._V.E_<n.ew&&r.vV(i)},r.gV=function(){var t=r.wV,n=r.Xl;if(r.wV=n,n===Vd.Ml)r.FF.forEach(function(t){return t.Tw=!1}),tu(r.FF);else if(t===Vd.Ml)for(var i=r._V.E_,e=0,u=r.BF;e<u.length;e++){var s=u[e];i<s.uw&&r.vV(s)}},r._V=i,r.yV=n,r.wV=n.Xl,n.Eo(vd.qd,r.aV),n.Eo(vd.Gd,r.hV),n.Eo(vd.Qd,r.fV),n.Eo(vd.Zd,r.lV),n.Eo(vd.tl,r.gV);for(var e=0,u=r.yV.ql.ml;e<u.length;e++){var s=u[e];r.cV(s)}return r}M(n,t);var i=n.prototype;return i.vV=function(t){var n=nR(this.FF,t);if(!(n>=0)){var i=-(n+1);this.FF.splice(i,0,t),t.Tw=!0,t.bo(new gR(t,this._V.E_)),this.bo(new kR(t)),this.bo(new ER(this))}},i.dV=function(t){var n=nR(this.FF,t);n>=0&&Je(this.FF,n),t.Tw=!1,t.bo(new yR(t,this._V.E_)),this.bo(new AR(t)),this.bo(new ER(this))},i.Sv=function(){this.yV.No(vd.qd,this.aV),this.yV.No(vd.Gd,this.hV),this.yV.No(vd.Qd,this.fV),this.yV.No(vd.Zd,this.lV),this.yV.No(vd.tl,this.gV),t.prototype.Sv.call(this)},i.cV=function(t){var n=EI(t);(this.Eb(n),this.Xl!==Vd.Ml)&&(this._V.E_<n.uw&&this.vV(n))},L(n,[{key:"Ol",get:function(){return this.yV.Ol}},{key:"xl",get:function(){return this.yV.xl},set:function(t){this.yV.xl=t}},{key:"Pl",get:function(){return this.yV.Pl}},{key:"Dl",get:function(){return this.yV.Dl}},{key:"Cl",get:function(){return this.yV.Cl}},{key:"Vl",get:function(){return this.yV.Vl}},{key:"Xl",get:function(){return this.yV.Xl},set:function(t){this.yV.Xl=t}},{key:"Wl",get:function(){return this.yV.Wl}},{key:"Gl",get:function(){return this.yV.Gl}}]),n}(kI),RI=function(t){function n(n){var i;return(i=t.call(this)||this)._V=n,i}M(n,t);var i=n.prototype;return i._l=function(n){if(n.Gs===b_.ID3){var i=n;return i.oV||(i.oV=new SI(i,this._V)),t.prototype._l.call(this,i.oV)}return t.prototype._l.call(this,n)},i.gl=function(n){if(n.Gs===b_.ID3){var i=n;return!!i.oV&&t.prototype.gl.call(this,i.oV)}return t.prototype.gl.call(this,n)},n}(Zd),II=function(t){function n(n,i){var r;return(r=t.call(this)||this).kb=n,r.mV=i,r.kV=new pe,r.tH=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Wd).Gs){t.next=4;break}return t.next=4,i.xo(vd.sl);case 4:if(i.Gs===b_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.ql.kl){t.next=11;break}return t.next=9,i.xo(vd.qd);case 9:t.next=6;break;case 11:r.pV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.nH=function(t){var n=t.Wd;if(n.Gs===b_.ID3&&r.kV.has(n.Cl)){var i=r.kV.get(n.Cl);r.gl(i),r.kb.Sb(i),n.No(vd.qd,r.cV)}},r.cV=function(t){NI(t.rw)&&r.AV(t.rw)},r.bV(),r}M(n,t);var i=n.prototype;return i.bV=function(){this.mV.Eo(cd.Ld,this.tH),this.mV.Eo(cd.Ud,this.nH)},i.TV=function(){this.mV.No(cd.Ld,this.tH),this.mV.No(cd.Ud,this.nH)},i.pV=function(t){var n=t.ql.ml[0];if(NI(n)){var i=function(t){var n=t.match(DI);if(!n)return;return{Wd:n[1],Pl:n[2]}}(n.sw.description),r=i.Wd,e=i.Pl;if(!this.EV(r,e)){var u=this.kb.bb(Xw.fb,r,e,!1,b_.TTML);this._l(u),this.kV.set(t.Cl,u);for(var s=0,o=t.ql.ml;s<o.length;s++){var a=o[s];NI(a)&&this.AV(a)}t.Eo(vd.qd,this.cV)}}},i.EV=function(t,n){return!!Qe(this.Yk.ml,function(i){return i.xl===t&&i.Pl===n})},i.AV=function(t){if(t.Wd)for(var n=this.kV.get(t.Wd.Cl),i=Ow(t.sw.text,0,{cm:0,hm:1/0,fm:-t.uw}),r=0;r<i.length;r++){var e=i[r];n.Eb(e)}},i.yl=function(){var n=T.coroutine(ve.mark(function n(){var i,r,e,u,s;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.mV.ml;i<r.length;i++)r[i].No(vd.qd,this.cV);for(e=0,u=this.Yk.ml;e<u.length;e++)s=u[e],this.kb.Sb(s);return this.kV.clear(),n.next=5,t.prototype.yl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Sv=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.TV(),n.next=3,t.prototype.Sv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(qw);function NI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.sw)&&DI.test(n.description);var n}var DI=/^Track:(.+),Lang:(.+)$/;var CI=j.Ee||j.Se,OI=j.ke,xI=.5,PI=5,BI=j.Ce,LI=[Wo.vh,Wo.Kc,Wo.rh,Wo.Jc,Wo.Zc],MI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).WS=void 0,e.sI=!0,e.qE=void 0,e.SV=new _y,e.RV=void 0,e.IV=void 0,e.NV=void 0,e.DV=void 0,e.oN=!1,e.CV=T.resolve(),e.OV=new eu,e.xV=[],e.PV=nA.KI(),e.BV=void 0,e.LV=1,e.MV=!1,e.UV=!1,e.FV=!1,e.HV=!1,e.VV=!1,e.XV=!1,e.WV=0,e.qV=function(t){var n=t.track,i=e.zV(n);e.GV(n,i)},e.jV=function(t){var n=function(t,n){for(var i=0,r=t.ml;i<r.length;i++){var e=r[i];if(e.Yg===n)return e}return}(e.QV,t.track);n&&e.QV.gl(n)},e.YV=function(){for(var t=0;t<e.Q_.kl;t++){var n=e.Q_.ll(t);n instanceof vI&&n.PH()}},e.ZV=function(){for(var t=e.QV.ml,n=0;n<t.length;n++){var i=t[n];e.QV.gl(i)}},e.JV=function(){var t=e.qE,n=t.wF,i=t.yF;if(n&&i)if(t.KL)e.$V();else if(t.Wl!==FS.CM){var r=n.Tg,u=i.Tg;if(0!==r.kl&&0!==u.kl){var s=e.E_;if(s<r._I(0)||s<u._I(0))e.$V();else if(r.DR(s)!==u.DR(s))e.KV();else if(e.$V(),!e.WV&&e.tX.NF())r.LI(u).VI(s,s+xI)&&(e.WV=vT(e.nX))}else e.$V()}},e.nX=function(){e.WV=0,e.JV()},e.iX=function(){if(!(e.O_||e.Wl>=ol.w_)){0;var t=e.qE,n=t.wF,i=t.yF;if(n&&i){var r=e.E_,u=n.Tg,s=i.Tg;if(u.DR(r)&&s.DR(r))u.LI(s).VI(r-PI,r)&&e.ta(r)}}},e.rX=function(){e.bo(new Il(e.E_))},e.eX=function(){e.uX(new uu),e.bo(new Rl(e.E_))},e.sX=function(){e.oX(),e.bo(new Dp(e.E_))},e.aX=function(){e.cX(e.C_)},e.hX=function(){e.bo(new Ol(e.S_))},e.fX=function(){e.bo(new lS(e.E_))},e.vX=function(){e.bo(new _S)},e.dX=function(){var t=e.E_,n=e.O_,i=e.Wl<ol.w_&&!e.R_,r=void 0!==e.DV,u=r&&e.DV!==t;(n||!r||u&&!i)&&(e.bo(new Pl(e.E_,void 0)),e.DV=t)},e.lX=function(){!e.MV&&e.R_&&(e.MV=!0,e.bo(new Bl(e.E_)))},e._X=function(){var t;if(null!==e.lc.error){var n=e.lc.error;e.WS=new s_(null!==(t=n.code)&&void 0!==t?t:i_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.gX(e.WS),e.bo(new JS(e.WS))}else e.WS=void 0},e.wX=function(){e.bo(new Fl(e.E_,e.B_))},e.yX=function(){e.P_>0&&e.x_>0&&e.bo(new ly)},e.mX=function(t){e.bo(new Cu(t.initDataType,t.initData||new ArrayBuffer(0)))},e.kX=function(){e.bo(new Ou)},e.pX=function(t){var n=t.initData,i=n?Ws(n).buffer:new ArrayBuffer(0);e.bo(new Cu(Te,i))},e.AX=function(t){if(t.initData){var n=UI(t.initData);if(!n)return;e.bo(new Cu(Se,n))}else e.bo(new Cu(Se,new ArrayBuffer(0)))},e.bX=function(t){var n=t.initData,i=n?Ws(n).buffer:new ArrayBuffer(0);e.bo(new Cu(Te,i))},e.TX=function(){e.oX()},e.EX=function(t){e.uX(t)},e.lc=n,e.to=i,e.SX=r,e.RX=new jS(rn(e)),e.RX.Eo(El.il,e.Ao),e.tX=new ZS(rn(e)),e.tX.Eo(El.T_,e.sX),e.Q_=new Ww,e.IX=new Ww,e.QV=new Ww,e.NX=new _R([e.Q_,e.IX,e.QV]),e.DX=new RI(rn(e)),e.DX.Sl=e.NX,e.CX=new II(rn(e),e.DX),e.OX=new _R([e.NX,e.CX.Yk]),e.xX=new yI(rn(e)),e.PX(),e.lR(),e}M(n,t);var i=n.prototype;return i.BX=function(){this.hR.ended||this.E_===this.S_||(this.MV=!1)},i.LX=function(){return void 0!==this.IV&&this.S_===this.IV},i.cX=function(t){this.LV!==t&&(this.LV=t,this.bo(new xl(this.E_,t)))},i.xR=function(){return mE(this.lc)},i.rg=function(){var t=this.MX();return this.UX(),t},i.UX=function(){this.FV?this.HV&&(this.HV=!1,this.bo(new Il(this.E_))):this.FX()},i.FX=function(){if(this.RV)this.RV.rg();else{j.Ce&&!j._e&&this.lc.preload===jp.iI&&(this.lc.preload=jp.ek);var t=this.C_,n=this.lc.play();t!==this.hR.playbackRate&&(this.C_=t),rt(n)?n.then(this.TX,this.EX):this.tX.NF()&&this.oX()}},i.eg=function(){this.FV?this.HV||(this.HV=!0,this.bo(new Rl(this.E_))):this.HX()},i.HX=function(){this.RV?this.RV.eg():(this.lc.pause(),this.tX.Ea()),this.gX(new uu)},i.MX=function(){var t=new Gs;return this.xV.push(t),t.sa},i.VX=function(){for(var t=0,n=this.xV;t<n.length;t++){n[t].oa(void 0)}tu(this.xV)},i.gX=function(t){for(var n=0,i=this.xV;n<i.length;n++){i[n].aa(t)}tu(this.xV)},i.oX=function(){this.FV||this.RV||this.VX()},i.uX=function(t){this.FV||this.RV||this.gX(t)},i.ta=function(t,n){this.RV?this.RV.E_=t:(this.OV._o(),this.OV=new eu,this.CV=this.XX(t,this.CV,this.OV.mo).catch(S))},i.OR=function(t){if(this.lc.getStartDate){var n=this.lc.getStartDate();if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ta(i)}}},i.XX=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.IV=n,this.oN=!0,this.MV&&!this.LX()&&(this.MV=!1),this.bo(new Ml(n)),t.next=7,i.catch(S);case 7:if(ou(r),this.UV&&this.WX(),this.Wl!==ol.l_){t.next=12;break}return t.next=12,this.xo(El.il,r);case 12:if(0!==this.lc.seekable.length){t.next=18;break}return t.next=15,T.race([od(this.lc,"timeupdate",r),yu(100,r)]);case 15:ou(r),t.next=12;break;case 18:e=this.qX(n),u=this.Mg,s=!0,o=!1;case 22:if((u=this.Mg).kl>0&&!u.DR(e)&&(e=u.EI(e),s=!0),BI&&void 0!==(a=this.zX())&&e>a&&(e=a,s=!0),o){t.next=36;break}if(!(void 0!==(c=this.GX())&&e>c)){t.next=36;break}return o=!0,t.next=32,this.jX(c,r);case 32:return t.next=34,od(this.lc,"seeked",r);case 34:ou(r),s=!0;case 36:if(!s){t.next=55;break}return s=!1,t.next=40,this.jX(e,r);case 40:ou(r),h=this.E_,u=this.Mg,e=u.EI(e),f=1;case 45:if(!(l.abs(e-h)>=1/6)){t.next=55;break}return u=this.Mg,e=HI(e,u,f),t.next=50,this.jX(e,r);case 50:ou(r),h=this.E_,f++,t.next=45;break;case 55:if(this.lc.seeking||this.Wl<ol.g_){t.next=57;break}return t.abrupt("break",62);case 57:return t.next=59,vu(function(t){var n;return T.race([od(v.lc,"seeked",t),v.xo([Wo.$c,Wo.Hc,El.il],t),null===(n=v.qE)||void 0===n?void 0:n.xo(uS.OD,t)].filter(Z))},r);case 59:ou(r),t.next=22;break;case 62:this.QX(),t.next=70;break;case 65:if(t.prev=65,t.t0=t.catch(0),!su(t.t0)){t.next=69;break}return t.abrupt("return");case 69:0;case 70:case"end":return t.stop()}},t,this,[[0,65]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jX=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(i),r=this.Mg,n=r.EI(n),!this.UV){t.next=18;break}e=!0;case 5:if(!(e||this.Wl<ol.w_)){t.next=17;break}if((r=this.Mg).DR(n)||(n=r.EI(n),e=!0),!e){t.next=13;break}return e=!1,this.IV=n,this.bo(new Ml(this.E_)),t.abrupt("continue",5);case 13:return t.next=15,this.xo([El.il,Wo.Hc],i);case 15:t.next=5;break;case 17:ou(i);case 18:if(u=od(this.lc,"seeking",i),this.lc.currentTime=n,this.IV=void 0,this.bo(new Ml(this.E_)),!this.lc.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qX=function(t){var n=this.Tg;if(n&&!n.DR(t)){var i=n.UI(t,.05);if(i>-1){var r=n._I(i);if(t<r)return r}}return t},i.zX=function(){if(this.qE&&this.qE.KL){var t=this.qE.tM,n=this.qE.nM,i=t&&n?t.II(n):t||n;if(i&&0!==i.kl){var r=i._I(i.kl-1),e=i.wI(i.kl-1);return l.max(r,e-.001)}}},i.GX=function(){if(this.qE&&this.qE.KL){var t=this.qE.nM;if(t&&0!==t.kl){var n=t._I(t.kl-1),i=t.wI(t.kl-1)-.02;return i-=.001,l.max(n,i)}}},i.QX=function(){this.oN=!1,this.UV&&this.YX(),this.bo(new Ul(this.E_))},i.WX=function(){this.FV||(this.HV=this.D_,this.FV=!0,this.HX())},i.YX=function(){this.FV&&(this.FV=!1,this.HV||this.UX())},i.$L=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).Gs!==ip.sS||!dS.$L(r,this.lc)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.Gs!==ip.oS||!WS.$L(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i._g=function(){this.sI=!1,Gr(this.lc)&&(this.lc.style.display="none")},i.lg=function(){this.sI=!0,Gr(this.lc)&&(this.lc.style.display="block")},i.bb=function(t,n,i,r,e,u){var s=new dR(t,n,i,r,e,u);return this.Q_._l(s),this.xX._l(s),s},i.pR=function(){return!0},i.bR=function(t,n,i,r){var u=e.createElement("track");u.src=Rr(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.id=Xb(),this.lc.appendChild(u);var s=this.lc.textTracks.getTrackById(u.id),o=new vI(s,u);return this.IX._l(o),o},i.Sb=function(t){this.Q_.gl(t),this.xX.gl(t)},i.SR=function(){this.Q_.yl(),this.IX.ml.forEach(function(t){return t.Sv()}),this.IX.yl()},i.lR=function(){var t=this.lc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.qV),t.addEventListener("removetrack",this.jV),t.addEventListener("change",this.YV)),this.lc.addEventListener("emptied",this.ZV)},i.IR=function(){var t=this.lc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.qV),t.removeEventListener("removetrack",this.jV),t.removeEventListener("change",this.YV)),this.lc.removeEventListener("emptied",this.ZV)},i.GV=function(t,n){if(j.Ce){if(t.kind===Xw.ek)return void this.ZX(t);if(t.kind===Xw.vb&&!VI(t))return void this.JX(t,n)}this.IX.ml.map(function(t){return t.Dl}).indexOf(t.id)<0&&this.QV._l(new vI(t,n))},i.ZX=function(t){t.mode=Vd.Ul;var n=new bI(t);this.QV._l(n),this.xX._l(n)},i.JX=function(t,n){var i=this;t.addEventListener("cuechange",function r(){VI(t)&&(t.removeEventListener("cuechange",r),i.QV._l(new vI(t,n)))}),t.mode=Vd.Ul},i.zV=function(t){for(var n=this.lc.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.ba=function(t){var n=this;return this.SV.Ob(function(){var i=T.coroutine(ve.mark(function i(r){var e;return ve.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(ou(r),!n.qE){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.Gs!==ip.sS){i.next=9;break}e=new dS(t,n,n.to),n.UV=!1,n.$X(new jS(n)),i.next=17;break;case 9:if(t.Gs!==ip.oS){i.next=16;break}e=new WS(t,n,n.to),n.UV=CI,n.$X(n.UV?new QS(n):new jS(n)),OI&&(n.Eo(Wo.fh,n.JV),n.Eo(El.il,n.iX)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.qE=e,i.next=20,e.Jb();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.KV=function(){if(!this.VV){var t=this.C_;this.VV=!0,this.C_=t,this.lc.playbackRate=0,this.RX&&this.RX.AF()}},i.$V=function(){if(this.VV){var t=this.C_;this.VV=!1,this.C_=t,this.lc.currentTime=this.lc.currentTime,this.RX&&this.RX.AF()}},i.$X=function(t){var n=this.Wl;this.RX.co(),this.RX=t,this.RX.Eo(El.il,this.Ao);var i=this.Wl;n!==i&&this.bo(new Xl(this.E_,i))},i.yl=function(){var t=T.coroutine(ve.mark(function t(){var n=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oN=!1,this.PV=nA.KI(),this.OV._o(),this.IV=void 0,this.NV=void 0,this.UV=!1,this.FV=!1,this.WS=void 0,this.MV=!1,this.DV=void 0,this.gX(new uu),this.$X(new jS(this)),this.tX.yl(),this.$V(),OI&&(dT(this.WV),this.WV=0,this.No(Wo.fh,this.JV),this.No(El.il,this.iX)),t.next=17,this.SV._o();case 17:return t.next=19,this.SV.Ob(T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.qE){t.next=4;break}return t.next=3,n.qE.co();case 3:n.qE=void 0;case 4:case"end":return t.stop()}},t)})));case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.co=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KX(),this.IR(),t.next=4,this.yl();case 4:return t.next=6,this.SV.Sv();case 6:return this.tX.co(),this.RX.co(),this.SR(),this.Q_.Sv(),this.DX.Sv(),this.QV.Sv(),this.IX.Sv(),t.next=15,this.CX.Sv();case 15:this.NX.Sv(),this.OX.Sv(),this.Io();case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.PX=function(){this.hR.addEventListener("play",this.rX),this.hR.addEventListener("pause",this.eX),this.hR.addEventListener("timeupdate",this.dX),this.hR.addEventListener("progress",this.fX),this.hR.addEventListener("loadstart",this.vX),this.hR.addEventListener("ended",this.lX),this.hR.addEventListener("ratechange",this.aX),this.hR.addEventListener("volumechange",this.wX),this.hR.addEventListener("durationchange",this.hX),this.hR.addEventListener("resize",this.yX),this.hR.addEventListener("loadedmetadata",this.yX),this.hR.addEventListener("error",this._X),Xe()?(this.lc.addEventListener("encrypted",this.mX),this.lc.addEventListener("waitingforkey",this.kX)):void 0!==Cr.WebKitMediaKeys&&"function"==typeof Cr.WebKitMediaKeys.isTypeSupported?this.lc.addEventListener("webkitneedkey",this.AX):We()?this.lc.addEventListener("webkitneedkey",this.bX):void 0!==Cr.MSMediaKeys&&"function"==typeof Cr.MSMediaKeys.isTypeSupported&&this.lc.addEventListener("msneedkey",this.pX)},i.KX=function(){this.hR.removeEventListener("play",this.rX),this.hR.removeEventListener("pause",this.eX),this.hR.removeEventListener("timeupdate",this.dX),this.hR.removeEventListener("progress",this.fX),this.hR.removeEventListener("loadstart",this.vX),this.hR.removeEventListener("ended",this.lX),this.hR.removeEventListener("ratechange",this.aX),this.hR.removeEventListener("volumechange",this.wX),this.hR.removeEventListener("durationchange",this.hX),this.hR.removeEventListener("resize",this.yX),this.hR.removeEventListener("loadedmetadata",this.yX),this.hR.removeEventListener("error",this._X),this.hR.removeEventListener("encrypted",this.mX),this.hR.removeEventListener("waitingforkey",this.kX),this.hR.removeEventListener("webkitneedkey",this.AX),this.hR.removeEventListener("webkitneedkey",this.bX),this.hR.removeEventListener("msneedkey",this.pX)},i._F=function(){this.RV||(this.PV=this.Bg,this.RV=new qS(this.E_,this.S_,this.R_,this.D_,this.O_,this.N_,this.C_,this.B_),this.KX(),this.RV.Eo(LI,this.Ao))},i.gF=function(){if(this.RV){var t=this.RV;this.RV=void 0,t.S_===this.S_||w(t.S_)&&w(this.S_)||this.bo(new Ol(this.S_)),this.C_=t.C_,t.D_?this.eg():this.UX(),t.E_!==this.E_?this.ta(t.E_):!t.O_&&this.O_?this.bo(new Ml(this.E_)):t.O_&&!this.O_&&this.bo(new Ul(this.E_)),!t.R_&&this.R_&&this.bo(new Bl(this.E_)),t.No(LI,this.Ao),this.PX()}},i.tW=function(){this.nW||(ID(this.lc,b.Ss),this.XV=!0)},i.iW=function(t){t.appendChild(this.lc)},i.iF=function(){OI&&this.JV(),this.RX.AF()},L(n,[{key:"TF",get:function(){return this.VV}},{key:"Tg",get:function(){return this.qE?this.qE.Tg:nA.KI()}},{key:"Eg",get:function(){var t=this.PR;if(t&&!w(t.getTime())){var n=1e3*this.E_;return new Date(t.getTime()+n)}}},{key:"PR",get:function(){if(this.hR.getStartDate)return this.oN&&this.NV||(this.NV=this.hR.getStartDate()),this.NV}},{key:"E_",get:function(){return this.RV?this.RV.E_:void 0!==this.IV?this.IV:this.lc.currentTime}},{key:"uL",get:function(){return this.SX}},{key:"S_",get:function(){return this.RV?this.RV.S_:this.qE?this.qE.S_:this.lc.duration}},{key:"R_",get:function(){return this.O_?this.LX():this.RV?this.RV.R_:this.lc.ended||this.MV}},{key:"Fo",get:function(){return this.WS}},{key:"hR",get:function(){return this.lc}},{key:"D_",get:function(){return this.FV?this.HV:this.RV?this.RV.D_:this.lc.paused}},{key:"Bg",get:function(){return this.PV.BI(nA.ZI(this.lc.played))}},{key:"vp",get:function(){return this.lc.offsetHeight*b.Ss.Qu}},{key:"ts",get:function(){return this.lc.offsetWidth*b.Ss.Qu}},{key:"ER",get:function(){return eA}},{key:"Wl",get:function(){return this.RX.Wl}},{key:"Mg",get:function(){return this.qE?this.qE.Mg:nA.KI()}},{key:"O_",get:function(){return this.RV?this.RV.O_:this.oN}},{key:"N_",get:function(){return this.RV?this.RV.N_:this.lc.muted},set:function(t){this.RV?this.RV.N_=t:this.lc.muted=t}},{key:"C_",get:function(){return this.RV?this.RV.C_:void 0!==this.BV?this.BV:this.lc.playbackRate},set:function(t){this.RV?this.RV.C_=t:this.D_||this.VV?(this.BV=t,this.cX(t)):(this.BV=void 0,this.lc.playbackRate=t)}},{key:"rW",get:function(){return this.sI}},{key:"B_",get:function(){return this.RV?this.RV.B_:this.lc.volume},set:function(t){this.RV?this.RV.B_=t:this.lc.volume=t}},{key:"ng",get:function(){return this.OX}},{key:"Rg",get:function(){return!!this.lc.webkitCurrentPlaybackTargetIsWireless}},{key:"nW",get:function(){return this.XV}},{key:"eW",get:function(){return de({},cS)}}]),n}(bu);function UI(t){try{var n=Us(t),i=new qs;return Ds(Cs(cs(n,i,_s(n,i,!0)),!0))}catch(t){return}}var FI=.01;function HI(t,n,i){if(void 0===i&&(i=0),!n.kl)return 0;var r=n.EI(t),e=FI*i;return r===n._I(0)?r+=e:r===n.wI(n.kl-1)&&(r-=e),r}function VI(t){return!!t.cues&&t.cues.length>0}var XI=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.gg=function(){},L(n,[{key:"x_",get:function(){return 0}},{key:"P_",get:function(){return 0}}]),n}(MI),WI="theoplayer-texttracks",qI=function(){function t(t){void 0===t&&(t=5);var n=Cr.document.createElement("div");n.className=WI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.uW=n,this.lg()}var n=t.prototype;return n._g=function(){this.uW.style.display="none"},n.lg=function(){Xr(this.uW.style,"flex","-ms-flexbox")},n.iW=function(t){t.appendChild(this.uW)},n.Sv=function(){Hr(this.uW)},L(t,[{key:"Sg",get:function(){return this.uW}}]),t}();function zI(t,n){return t?de(de({},n),Nd(t)):n}function GI(t){return t.DB&&wr(t.DB,"%")?Number(t.DB.replace("%",""))/100:t.DB&&wr(t.DB,"em")?Number(t.DB.replace("em","")):1}var jI,QI,YI=function(){function t(t,n,i,r,e){var u=this;this.sW=_e(),this.oW=!0,this.aW=function(t){return u.sW.has(t.Ew)},this.cW=function(t){return!u.aW(t)},this.hW=function(t){return u.Eb(t.rw)},this.fW=function(t){return u.removeCue(t.rw)},this.vW=function(){return u.dW()},this.lW=function(t){return u._W(t.rw)},this.gW=function(t){return u.wW(t.rw)},this.yW=function(t){u.mW(t.ts,t.vp)},this._w=t,this.kW=this.pW=e,this.lc=this.AW(i),this.SX=r,n.appendChild(this.lc),this.bW(),this._w.ql.ml.forEach(function(t){return u.Eb(t)}),this.uL.Eo("cO",this.yW),this.mW(this.uL.gO,this.uL._O)}var n=t.prototype;return n.TW=function(t){this.pW=zI(t,this.kW),this.pW.IB&&(this.hR.style.fontFamily=this.pW.IB),this.pW.EW&&(this.hR.style.visibility=this.pW.EW),this.mW(this.uL.gO,this.uL._O),this.SW()},n.RW=function(){return this.pW},n.bW=function(){this._w.Eo(vd.qd,this.hW),this._w.Eo(vd.Gd,this.fW),this._w.Eo(vd.tl,this.vW)},n.IW=function(){var t=this;this._w.No(vd.qd,this.hW),this._w.No(vd.Gd,this.fW),this._w.No(vd.tl,this.vW),this._w.ql.ml.forEach(function(n){return t.NW(n)})},n.DW=function(t){t.Eo(R_.Kg,this.lW),t.Eo(R_.nw,this.gW)},n.NW=function(t){t.No(R_.Kg,this.lW),t.No(R_.nw,this.gW)},n.Eb=function(t){t.Ew||(t.Ew=this.OW),this.DW(t),t.Tw&&this._W(t)},n.removeCue=function(t){this.NW(t),this.wW(t)},n.dW=function(){this._w.Xl===Vd.Fl?this.xW():this.PW()},n.xW=function(){var t=this,n=this.uL.gO,i=this.uL._O,r=new eT(n,i);this.yW(r),this.oW=!1,this.BW.forEach(function(n){return t._W(n)})},n._W=function(t){this.oW||this.cW(t)&&(this.LW(t),this.sW.set(t.Ew,t))},n.LW=function(t){var n=this.lc,i=this.MW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.Ew,n.appendChild(e)}},n.PW=function(){var t=this;this.oW=!0,this.sW.forEach(function(n){return t.wW(n)})},n.wW=function(t){this.aW(t)&&(this.UW(t),this.sW.delete(t.Ew))},n.UW=function(t){for(var n=this.lc,i=n.getElementsByClassName(t.Ew);i.length;)n.removeChild(i[0])},n.SW=function(){for(var t=0,n=this.FW;t<n.length;t++){var i=n[t];this.UW(i),this.LW(i)}},n.Sv=function(){Hr(this.hR),this.IW(),this.uL.No("cO",this.yW)},L(t,[{key:"Wd",get:function(){return this._w}},{key:"hR",get:function(){return this.lc}},{key:"uL",get:function(){return this.SX}},{key:"HW",get:function(){return this.pW}},{key:"FW",get:function(){return this._w.zl.ml.filter(this.aW)}},{key:"BW",get:function(){return this._w.zl.ml.filter(this.cW)}}]),t}();function ZI(t){return JI[t||"none"]}!function(t){t.VW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.XW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.WW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.qW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(jI||(jI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(QI||(QI={}));var JI={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function $I(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var KI=ge({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),tN=ge({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),nN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=KI.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){mr(t,"px")?t=_(t)/24+"em":mr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(n.style.position="absolute",void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=tN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(mr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},iN=0,rN={NB:QI.WHITE,IB:"Arial, Helvetica, Sans-Serif",DB:"100%",CB:QI.TRANSPARENT,OB:QI.TRANSPARENT,xB:"none"},eN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,rN)||this}M(n,t);var i=n.prototype;return i.AW=function(t){var n=e.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.mW=function(t,n){var i=n/15;this.hR.style.fontSize=i+"px"},i.MW=function(t){if(t.Wd&&t.Wd.Gs!==b_.TTML)return[];var n,i=[],r=t,u=r.ib,s=r.vm,o=r.sw;if(0===d.keys(s).length){Vr(n=e.createElement("div"),r.Ew),fN(n);for(var a=uN(o,u,r.rb,void 0,this.hR),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=d.keys(s);f<v.length;f++){var l=v[f],_=e.createElement("div");_.id=l,Vr(_,r.Ew);var g=uN(o,u,r.rb,_,this.hR);if(g){fN(_),aN(_,s[l],u,this.hR);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.TW=function(t){},L(n,[{key:"OW",get:function(){return"theoplayer-ttmlcue-"+iN++}}]),n}(YI);function uN(t,n,i,r,e){var u,s;if(tn(t)&&("SPAN"===(s=t).Ke.toUpperCase()||"P"===s.Ke.toUpperCase()||"BR"===s.Ke.toUpperCase()||"DIV"===s.Ke.toUpperCase()||"BODY"===s.Ke.toUpperCase())){var o=function t(n){var i;var r=n.du("region");if("p"===n.Ke.toLowerCase())return r;var e=[];for(var u=0,s=n.vu;u<s.length;u++){var o=s[u];e.push(t(o))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(e);return 0===e.length?r:1===e.length?null!==(i=e[0])&&void 0!==i?i:r:void 0}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.du("style");hN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.mu).forEach(function(n){var r=Rw(n.tu,["ebutts","tts","xml"]);nN[r]&&nN[r](n.ru,t,i)})}(t,n,r)})(u="BODY"===t.Ke.toUpperCase()?r:sN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.du("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null==n?void 0:n.vu)for(var e=0,u=null==n?void 0:n.vu;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.mu.some(function(t){return"id"===t.Ke&&t.ru===r})});e&&cN(t,e,n,!0)}!function(t,n){var i=n.vu[0];if(!i||"metadata"!==i.Ke.toLowerCase())return;var r=i.vu[0];cN(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.ou,h=0;h<c.length;h++){var f=uN(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.Ke.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else nn(t)&&(u=sN(t));if(u)return[u]}function sN(t){var n,i;if(nn(t))$I(n=e.createElement("text"),t.pu);else if(tn(t))switch(t.Ke.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":n=e.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",oN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=e.createElement("p")),oN(n,t);break;case"DIV":oN(n=e.createElement("div"),t)}return n}function oN(t,n){var i=n.lu(Tw,"id");i&&(t.id=i)}function aN(t,n,i,r){hN(t,n.style,i,r),d.keys(n).forEach(function(i){nN[i]&&nN[i](n[i],t)})}function cN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var u=e.createElement("img");u.src=function(t){var n=t&&t.ou.length>0?t.ou[0]:null;return n&&nn(n)?"data:image/png;base64,"+n.pu:""}(n),u.id=t.id,u.style.height="100%",u.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.du("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.du("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(u)}function hN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(e){var u=Rw(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?hN(t,i[n][e],i,r):nN[u]&&nN[u](i[n][e],t,r)})})}function fN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var vN,dN,lN=void 0;function _N(t,n){for(var i,r=vN.zW,e="",u=[],s=t.charAt(n.ia),o="",a={Gs:dN.GW,au:"",jW:[]};n.ia<t.length+1;){switch(s=n.ia<t.length?t.charAt(n.ia):"EOF",r){case vN.zW:switch(s){case"&":var c=t.substr(n.ia).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],lN||(lN=Cr.document.createElement("textarea")),lN.innerHTML=i,lN.value),n.Ko(c[0].length-1)):e+="&";break;case"<":if(e)return{Gs:dN.QW,sw:e};r=vN.YW;break;case"EOF":return{Gs:dN.QW,sw:e};default:e+=s}break;case vN.YW:switch(s){case"\t":case"\n":case"\f":case" ":r=vN.ZW;break;case".":r=vN.JW;break;case"/":r=vN.$W;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=vN.KW;break;case">":return n.Ko(1),a;case"EOF":return a;default:e=s,r=vN.tq}break;case vN.tq:switch(s){case"\t":case"\f":case" ":r=vN.ZW;break;case"\n":o=s,r=vN.ZW;break;case".":r=vN.JW;break;case">":return n.Ko(1),{Gs:dN.GW,au:e,jW:[]};case"EOF":return{Gs:dN.GW,au:e,jW:[]};default:e+=s}break;case vN.JW:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=vN.ZW;break;case"\n":u.push(o),o=s,r=vN.ZW;break;case".":u.push(o),o="";break;case">":return n.Ko(1),u.push(o),{Gs:dN.GW,au:e,jW:u};case"EOF":return u.push(o),{Gs:dN.GW,au:e,jW:u};default:o+=s}break;case vN.ZW:switch(s){case"&":r=vN.nq;break;case">":n.Ko(1);var h=o.trim();return h=h.replace(/\s/," "),{Gs:dN.GW,au:e,jW:u,iq:h};default:o+=s}break;case vN.nq:for(var f="",v=n.ia;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=vN.ZW;break;case vN.$W:switch(s){case">":return n.Ko(1),{Gs:dN.rq,au:e};case"EOF":return{Gs:dN.rq,au:e};default:e+=s}break;case vN.KW:switch(s){case">":return n.Ko(1),{Gs:dN.uq,sq:e};case"EOF":return{Gs:dN.uq,sq:e};default:e+=s}}n.Ko(1)}}!function(t){t.zW="Data",t.YW="Tag",t.tq="StartTag",t.JW="StartTagClass",t.ZW="StartTagAnnotation",t.nq="CharRefInAnnotation",t.$W="EndTag",t.KW="TimestampTag"}(vN||(vN={})),function(t){t.QW="string",t.GW="starttag",t.rq="endtag",t.uq="timestamp"}(dN||(dN={}));var gN,wN,yN={NB:QI.WHITE,IB:"sans-serif",DB:"100%",CB:"rgba(0,0,0,0.8)",OB:QI.TRANSPARENT,xB:"none"},mN="theoplayer-webvtt-region-",kN="theoplayer-webvtt-styling-",pN="theoplayer-webvtt-voice-",AN=5.23,bN=1.14,TN=0,EN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,yN)||this).oq={},u.aq=DN(3),u}M(n,t);var i=n.prototype;return i.AW=function(t){var n=e.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,qr(n),Xr(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.HW.IB,n.style.whiteSpace="pre-line",n},i.mW=function(t,n){for(var i=n/100,r=t/100,e=l.min(i,r),u=GI(this.HW),s=0,o=d.keys(this.cq);s<o.length;s++){var a=o[s],c=this.cq[a].hq;this.fq(c,e,u,this.cq[a].vw)}this.fq(this.vq,e,u),this.dq()},i.dq=function(){var t=GI(this.HW);this.vq.style.padding=t>=1.5?"0":1/t+"em"},i.LW=function(t){var n=this.hR,i=this.uL._O/100,r=this.vq;t.vw&&(this.cq[t.vw.Dl]||(this.cq[t.vw.Dl]={vw:t.vw,hq:CN(t.vw,i)}),r=this.cq[t.vw.Dl].hq),n.querySelector("."+r.className)||n.appendChild(r);var e=this.MW(t);r.children.length>=1&&t.vw&&"up"===t.vw.Dw&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.Ew,r.appendChild(s)}},i.MW=function(t){var n=[];return t&&n.push(this.lq(t)),n},i.lq=function(t){for(var n=new qs,i=t.sw,r=this._q(t),u=r,s="",o=[],a={};n.ia<i.length;){var c=_N(i,n);if(c.Gs===dN.QW){var h=this.gq(c.sw);SN(h,a),u.appendChild(h)}else if(c.Gs===dN.GW){switch(a[c.au.toLowerCase()]||(a[c.au.toLowerCase()]=[]),a[c.au.toLowerCase()].push(c),c.au.toLowerCase()){case"c":break;case"i":var f=e.createElement("i");u.appendChild(f),u=f;break;case"b":var v=e.createElement("b");u.appendChild(v),u=v;break;case"u":var d=e.createElement("u");u.appendChild(d),u=d;break;case"ruby":var l=e.createElement("ruby");u.appendChild(l),u=l;break;case"rt":if("ruby"===s){var _=e.createElement("rt");u.appendChild(_)}break;case"v":break;case"lang":o.push(c.iq)}s=c.au||""}else if(c.Gs===dN.rq){a[c.au.toLowerCase()]&&a[c.au.toLowerCase()].pop(),(!c.au||"C"!==c.au.toUpperCase()&&"V"!==c.au.toUpperCase())&&("LANG"===c.au.toUpperCase()?o.pop():"RUBY"===c.au.toUpperCase()&&"RUBY"===u.tagName?u=u.parentNode.parentNode:u.tagName&&u.tagName.toUpperCase()===c.au.toUpperCase()&&(u=u.parentNode)),s=c.au||""}else if(c.Gs===dN.uq){var g=c.sq,w=new qs;try{Qg(g,w)}catch(t){lt("ERROR collecting timestamp",t)}}}return r},i.gq=function(t){var n=e.createElement("span");return $I(n,t),n.style.background=this.HW.CB,n},i.fq=function(t,n,i,r){if(r){var e=RN(r,n);t.style.height=e*i+"px",t.style.left=IN(r)+"%",t.style.top=NN(r,n)+"px"}t.style.fontSize=AN*n*i+"px"},i._q=function(t){var n=e.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.ow,function(t,n){"rl"===n.lw?t.style.writingMode="vertical-rl":"lr"===n.lw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=G_(n);ON(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=z_(n),u=q_(n),s=G_(n);ON(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.dw?0:W_(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.dw?0:W_(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.HW.OB,n.style.color=this.HW.NB,n.style.textShadow=ZI(this.HW.xB),n},i.UW=function(t){for(var n=t.Ew,i=this.hR,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=d.keys(this.cq);o<a.length;o++){var c=a[o];if(wr(r[e].className,mN+c)){delete this.cq[c];break}}i.removeChild(r[e])}}},L(n,[{key:"cq",get:function(){return this.oq||(this.oq={}),this.oq}},{key:"vq",get:function(){return this.aq||(this.aq=DN(3)),this.aq}},{key:"OW",get:function(){return"theoplayer-webvtt-cue-"+TN++}}]),n}(YI);function SN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.jW)for(var u=0,s=e.jW;u<s.length;u++){var o=s[u];Vr(t,kN+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.iq&&Vr(t,pN+h.iq)}}function RN(t,n){return t.Rw*(AN*n)*bN}function IN(t){return t.Cw-t.Iw*t.ts/100}function NN(t,n){var i=t.Ow,r=t.Nw*RN(t,n)/100;return l.max(0,i-r)}function DN(t){var n=e.createElement("div");return n.className=mN+"default",qr(n),Xr(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=AN*t+"px",n.style.lineHeight=bN+"em",n}function CN(t,n){var i=DN(n);i.className=mN+t.Dl;var r=t.ts,e=RN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=IN(t)+"%",i.style.top=NN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function ON(t){return""===t.lw}!function(t){t[t.wq=0]="wq",t[t.yq=1]="yq",t[t.mq=2]="mq",t[t.kq=3]="kq",t[t.pq=4]="pq",t[t.Aq=5]="Aq"}(gN||(gN={})),function(t){t[t.bq=0]="bq",t[t.Tq=1]="Tq",t[t.Eq=2]="Eq",t[t.Sq=3]="Sq"}(wN||(wN={}));var xN=15,PN=32,BN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),LN=function(){function t(){this.Rq=[],this.Iq=0;for(var t=0;t<PN;t++)this.Rq.push(null);this.Nq=!1}var n=t.prototype;return n.Dq=function(t){for(var n=0;n<PN;n++)t&&(this.Rq[n]=t.Rq[n])},n.bw=function(t){for(var n=0;n<PN;n++)if(this.Rq[n]!==t.Rq[n])return!1;return!0},n.Cq=function(){for(var t=0;t<PN;t++)if(null!==this.Rq[t])return!1;return!0},n.Oq=function(t){this.Iq!==t&&(this.Iq=t),this.Iq<0?this.Iq=0:this.Iq>PN&&(this.Iq=PN-1)},n.xq=function(t){var n=this.Iq+t;this.Oq(n)},n.Pq=function(){this.xq(-1),this.Rq[this.Iq]=null},n.Bq=function(t){t>=144&&this.Pq();var n,i=BN[n=t]?String.fromCharCode(BN[n]):String.fromCharCode(n);this.Iq>=PN||(32===Number(i)?(this.Rq[this.Iq]=this.Nq?"</i>":"<i>",this.Nq=!this.Nq):this.Rq[this.Iq]=i,this.xq(1))},n.Lq=function(t){for(var n=t;n<PN;n++)this.Rq[n]=null},n.Zo=function(){this.Lq(0),this.Iq=0},n.Mq=function(){this.Lq(this.Iq)},n.Uq=function(t,n){for(var i=this.Rq,r=null,e=0;e<PN;e++){var u=i[e];null===u?r=null:(r||(r={Fq:e,Hq:t,ts:0,vp:1,Rq:[[]]},n.push(r)),r.Rq[0].push(u),r.ts++)}},n.im=function(t,n){return t.Vq(this.Rq,n)},t}();var MN=function(){function t(){this.Xq=null,this.Wq=[];for(var t=0;t<xN;t++)this.Wq.push(new LN);this.qq=xN-1,this.yl()}var n=t.prototype;return n.Dq=function(t){for(var n=0;n<xN;n++)this.Wq[n].Dq(t.Wq[n])},n.bw=function(t){for(var n=!0,i=0;i<xN;i++)if(!this.Wq[i].bw(t.Wq[i])){n=!1;break}return n},n.Cq=function(){for(var t=!0,n=0;n<xN;n++)if(!this.Wq[n].Cq()){t=!1;break}return t},n.yl=function(){for(var t=0;t<xN;t++)this.Wq[t].Zo();this.qq=xN-1},n.Bq=function(t){this.Wq[this.qq].Bq(t)},n.zq=function(){this.Wq[this.qq].Pq()},n.Mq=function(){this.Wq[this.qq].Mq()},n.Gq=function(){if(null!==this.Xq){var t=this.qq+1-this.Xq,n=this.Wq[t];n&&(Je(this.Wq,t),n.Zo(),this.Wq.splice(this.qq,0,n))}},n.xq=function(t){this.Wq[this.qq].xq(t)},n.jq=function(t){this.Xq=t},n.Qq=function(t){var n=t.Yq;this.Xq&&n<this.Xq-1&&(n=this.Xq-1),this.qq=n;var i=this.Wq[this.qq];null!==t.Zq&&i.Oq(t.Zq)},n.Jq=function(){for(var t=this.Wq,n=[],i=0;i<t.length;i++){t[i].Uq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];FN(u,o)&&(u=UN(u,o),Je(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(HN)},n.im=function(t){return t.$q(this.Wq)},t}();function UN(t,n){for(var i=l.min(t.Fq,n.Fq),r=l.min(t.Hq,n.Hq),e=l.max(t.Fq+t.ts,n.Fq+n.ts)-i,u=l.max(t.Hq+t.vp,n.Hq+n.vp)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t.Rq[o+r-t.Hq];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.Fq]=c[h]);var f=n.Rq[o+r-n.Hq];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.Fq]=f[v]);s[o]=a}return{Fq:i,Hq:r,ts:e,vp:u,Rq:s}}function FN(t,n){return t.Fq<=n.Fq+n.ts&&n.Fq<=t.Fq+t.ts&&t.Hq<=n.Hq+n.vp&&n.Hq<=t.Hq+t.vp}function HN(t){for(var n=new Array(t.vp),i=t.Rq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{Fq:t.Fq,Hq:t.Hq,ts:t.ts,vp:t.vp,sw:c}}var VN=function(){function t(t,n){this.Yq=t,this.Zq=n}return t.prototype.bw=function(t){return this.Yq===t.Yq&&this.Zq===t.Zq},t}(),XN=function(){function t(t){this.Kq=t,this.tz=this.nz(),this.iz=this.rz()}var n=t.prototype;return n.nz=function(){for(var t=new VN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.ez;n<i.length;n++){var r=i[n],e=l.min(t.Yq,r.uz.Yq),u=l.min(t.Zq,r.uz.Zq);t=new VN(e,u)}return t},n.rz=function(){for(var t=new VN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.ez;n<i.length;n++){var r=i[n],e=l.max(t.Yq,r.sz.Yq),u=l.max(t.Zq,r.sz.Zq);t=new VN(e,u)}return t},L(t,[{key:"uz",get:function(){return this.tz}},{key:"sz",get:function(){return this.iz}},{key:"ez",get:function(){return nu(this.Kq.map(function(t){return t.ez}))}}]),t}(),WN=function(){function t(t,n){this.PB=t,this.tz=n,this.oz=""}var n=t.prototype;return n.Bq=function(t){this.oz+=t},n.az=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Bq(i)}},L(t,[{key:"cz",get:function(){return this.oz}},{key:"ez",get:function(){return[this]}},{key:"hz",get:function(){return this.PB}},{key:"uz",get:function(){return this.tz}},{key:"sz",get:function(){return new VN(this.uz.Yq,this.uz.Zq+this.cz.length-1)}}]),t}(),qN=function(){function t(){}var n=t.prototype;return n.fz=function(t){return t.im(this)},n.$q=function(t){var n=this;return nu(t.map(function(t,i){return t.im(n,i)}))},n.Vq=function(t,n){return new zN(t,n).vz()},t}(),zN=function(){function t(t,n){this.Yq=t,this.dz=n,this.lz=[],this._z=null}var n=t.prototype;return n.vz=function(){if(this.gz)return[];for(var t=0;t<this.Yq.length;t++)this.wz(t);return this.yz(),this.lz},n.mz=function(t){this._z=new WN(KN,new VN(this.dz,t))},n.yz=function(){this._z&&(this.lz.push(this._z),this._z=null)},n.wz=function(t){var n=this.Yq[t];GN(n)?this._z&&this.yz():(this._z||this.mz(t),this._z.Bq(n))},L(t,[{key:"gz",get:function(){return this.Yq.every(GN)}}]),t}();function GN(t){return null==t}var jN,QN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return M(n,t),n}(H_),YN=function(t){function n(n){var i;return(i=t.call(this,"kz")||this).cue=n,i}return M(n,t),n}(Eu);!function(t){t[t.iI=0]="iI",t[t.pz=1]="pz",t[t.Az=2]="Az",t[t.bz=3]="bz",t[t.ze=4]="ze"}(jN||(jN={}));var ZN,JN=function(t){function n(){var n;return(n=t.call(this)||this).Oy=fg.ey,n.ew=fg.ey,n.Xl=jN.iI,n.Tz=new MN,n.Ez=new MN,n.Sz=new MN,n.Rz=n.Tz,n}M(n,t);var i=n.prototype;return i.Bq=function(t){this.Rz.Bq(t),this.Xl!==jN.pz&&this.Xl!==jN.Az||this.Iz()},i.VN=function(t){t!==this.Xl&&(this.Xl=t,this.Xl===jN.bz?this.Rz=this.Ez:(this.Rz=this.Tz,this.Rz.yl()),this.Xl!==jN.Az&&(this.Tz.jq(null),this.Ez.jq(null)))},i.Qq=function(t){this.Rz.Qq(t)},i.Nz=function(){this.VN(jN.bz)},i.Dz=function(){this.Xl!==jN.ze&&(this.Rz.zq(),this.Rz===this.Tz&&this.Iz())},i.Cz=function(){},i.Oz=function(){},i.xz=function(){this.Rz.Mq(),this.Iz()},i.Pz=function(t){this.Rz=this.Tz,this.VN(jN.Az),this.Rz.jq(t)},i.Bz=function(){},i.Lz=function(){this.VN(jN.pz)},i.Mz=function(){this.VN(jN.ze)},i.Uz=function(){this.VN(jN.ze)},i.Fz=function(){this.Tz.yl(),this.Iz()},i.Hz=function(){this.Rz.Gq(),this.Iz()},i.Vz=function(){this.Ez.yl()},i.Xz=function(){if(this.Xl===jN.bz){var t=this.Tz;this.Tz=this.Ez,this.Ez=t,this.Rz=this.Ez}this.Iz()},i.Wz=function(t){this.Rz.xq(t)},i.Iz=function(){if(null!==this.Oy){if((!this.ew||this.ew.hy())&&!this.Tz.Cq())this.ew=this.Oy;else if(!this.Tz.bw(this.Sz)){var t=this.qz();if(this.Oy.Uw(this.ew)){var n=new QN(this.ew.Mw(),this.Oy.Mw(),t);this.bo(new YN(n))}this.ew=this.Tz.Cq()?null:this.Oy}this.Sz.Dq(this.Tz)}},i.qz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return l.abs(t.sz.Zq-n.uz.Zq)<=1||l.abs(n.sz.Zq-t.uz.Zq)<=1||l.abs(t.sz.Yq-n.uz.Yq)<=1||l.abs(n.sz.Yq-t.uz.Yq)<=1}(o=r,a=s)||function(t,n){return $N(t.uz.Yq,t.sz.Yq,n.uz.Yq,n.sz.Yq)&&$N(t.uz.Zq,t.sz.Zq,n.uz.Zq,n.sz.Zq)}(o,a))&&(r=new XN([].concat(r.ez,s.ez)),Ze(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new qN).fz(this.Sz))},i.yl=function(){this.Oy=fg.ey,this.ew=fg.ey,this.Tz.yl(),this.Tz.jq(null),this.Ez.yl(),this.Ez.jq(null),this.Sz.yl(),this.Sz.jq(null),this.Rz=this.Tz,this.Xl=jN.iI},n}(bu);function $N(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(ZN||(ZN={}));var KN={NB:QI.WHITE,IB:jI.WW,DB:"100%",CB:QI.BLACK,OB:"transparent",xB:"none",zz:ZN.FONT_REGULAR,EW:"visible"},tD=[{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.GREEN,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.GREEN,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.BLUE,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.BLUE,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.CYAN,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.CYAN,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.RED,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.RED,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.YELLOW,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.YELLOW,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.MAGENTA,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.MAGENTA,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.WHITE,zz:ZN.FONT_ITALICS,Zq:0},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE_ITALICS,Zq:0},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:0},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:0},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:4},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:4},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:8},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:8},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:12},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:12},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:16},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:16},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:20},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:20},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:24},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:24},{Gz:QI.WHITE,zz:ZN.FONT_REGULAR,Zq:28},{Gz:QI.WHITE,zz:ZN.FONT_UNDERLINE,Zq:28}],nD=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],iD=function(t){function n(){var n;(n=t.call(this)||this).jz=null,n.Qz=null,n.Yz=0;var i=new JN;return n.Zz=[i,new JN],i.Eo("kz",n.Ao),n}M(n,t);var i=n.prototype;return i.yl=function(){for(var t=0,n=this.Zz;t<n.length;t++){n[t].yl()}},i.Jz=function(t,n){if(n.Gs===wN.bq&&n.$z){n.Kz&&(this.Yz=0),this.Zz[this.Yz].Oy=t;var i=127&n.tG,r=127&n.nG;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.iG(),r>=48&&r<=63&&this.rG(i,r);break;case 18:case 19:r>=32&&r<=63&&this.rG(i,r);break;case 20:case 21:r>=32&&r<=47&&this.eG(i,r);break;case 23:r>=33&&r<=35&&this.eG(i,r),r>=46&&r<=47&&this.iG()}16===i&&r>=64&&r<=95?this.uG(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.uG(i,r),i>=32&&this.rG(i,r)}}},i.eG=function(t,n){var i=null;if(t===this.jz&&n===this.Qz)return this.jz=null,this.Qz=null,!0;i=20===t||23===t?0:1;var r=this.Zz[i];return 20===t||28===t?32===n?r.Nz():33===n?r.Dz():34===n?r.Cz():35===n?r.Oz():36===n?r.xz():37===n?r.Pz(2):38===n?r.Pz(3):39===n?r.Pz(4):40===n?r.Bz():41===n?r.Lz():42===n?r.Mz():43===n?r.Uz():44===n?r.Fz():45===n?r.Hz():46===n?r.Vz():47===n&&r.Xz():r.Wz(n-32),this.jz=t,this.Qz=n,this.Yz=i,!0},i.uG=function(t,i){t===this.jz&&i===this.Qz&&(this.jz=null,this.Qz=null);var r=t<=23?0:1,e=nD[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.sG(e,i);this.Zz[r].Qq(u),this.jz=t,this.Qz=i,this.Yz=r}},n.sG=function(t,n){var i=n>95?n-96:n-64;return{Gz:tD[i].Gz,zz:tD[i].zz,Zq:tD[i].Zq,Yq:t}},i.rG=function(t,n){var i=t>=25?t-8:t,r=this.Zz[this.Yz],e=!1;switch(i){case 17:r.Bq(n+80),e=!0;break;case 18:r.Bq(n+112),e=!0;break;case 19:r.Bq(n+144),e=!0;break;default:t>=32&&(r.Bq(t),n>=32&&r.Bq(n),e=!0)}e&&(this.jz=null,this.Qz=null)},i.iG=function(){this.Zz[this.Yz].Rz.xq(1)},i.Sv=function(){this.Io()},L(n,[{key:"Lp",get:function(){return this.Zz.length}}]),n}(bu),rD=function(){function t(t,n,i){this.oG=t,this.aG=n,this.pW=i}var n=t.prototype;return n.cG=function(){return this.hG=this.fG(),this.vG(),this.dG(),this.hG},n.fG=function(){var t=e.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.lG/PN*this.aG._G*100+"%",t.style.height=1.2*this.gG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.aG.wG?"calc(1em - 1ch)":"",t.style.fontFamily=this.pW.IB,t.style.backgroundColor=this.pW.OB,t},n.vG=function(){var t=this.yG.Yq/xN*100,n=this.yG.Zq/PN*100,i=(PN-this.mG.Zq-1)/PN*100,r=(xN-this.mG.Yq-1)/xN*100;this.aG.kG||(n=i=1,this.hG.style.width="98%"),r<t?this.hG.style.bottom=r*this.aG._G+"%":this.hG.style.top=t*this.aG._G+"%",i<n?this.hG.style.right=i+"%":this.hG.style.left=n+"%"},n.dG=function(){for(var t=this.oG.ez.sort(eD),n=0;n<t.length;n++)this.pG(t[n-1],t[n]),this.AG(t[n]);this.pG(t[t.length-1],null)},n.AG=function(n){var i=zI(this.pW,n.hz),r=t.bG(i);$I(r,n.cz),this.hG.appendChild(r)},t.bG=function(t){var n=e.createElement("span");return n.style.display="inline-block",t.zz!==ZN.FONT_ITALICS&&t.zz!==ZN.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.zz!==ZN.FONT_UNDERLINE&&t.zz!==ZN.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.NB,n.style.backgroundColor=t.CB,n.style.textShadow=ZI(t.xB),n.style.height="1.2em",n},n.pG=function(t,n){var i=t?t.sz.Yq:this.oG.uz.Yq,r=n?n.uz.Yq:this.oG.sz.Yq,e=t?t.sz.Zq:this.oG.uz.Zq,u=n?n.uz.Zq:this.oG.sz.Zq;i<r&&(!n||t&&t.uz.Yq!==n.uz.Yq?this.TG():this.EG(this.oG.sz.Zq-e),e=this.oG.uz.Zq),e<u&&(n?this.EG(u-e):this.TG())},n.TG=function(){var t=e.createElement("br");this.hG.appendChild(t)},n.EG=function(t){if(!(t<=0)){var n=e.createElement("span");n.style.display="inline-block",$I(n,pr(" ",t)),this.hG.appendChild(n)}},L(t,[{key:"yG",get:function(){return this.oG.uz}},{key:"mG",get:function(){return this.oG.sz}},{key:"lG",get:function(){return this.oG.sz.Zq-this.oG.uz.Zq+1}},{key:"gG",get:function(){return this.oG.sz.Yq-this.oG.uz.Yq+1}}]),t}();function eD(t,n){return function(t,n){if(t.Yq!==n.Yq)return t.Yq-n.Yq;return t.Zq-n.Zq}(t.uz,n.uz)}var uD=0;var sD=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,KN)||this}M(n,t);var i=n.prototype;return i.AW=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.HW.IB&&(n.style.fontFamily=this.HW.IB),n},i.mW=function(t,n){this.SG()},i.SG=function(){var t,n=GI(this.HW);this.RG={_G:(t=100*n)/100,wG:t<=100,kG:t<=150};var i=this.IG/PN;this.NG=i*n,this.hR.style.fontSize=this.NG+"px"},i.MW=function(t){var n=this;return this.RG&&this.RG.kG?this.DG(80):this.DG(100),this.SG(),t.sw.map(function(t){return new rD(t,n.RG,n.HW).cG()})},i.DG=function(t){var n=(100-t)/2;this.hR.style.left=n+"%",this.hR.style.width=t+"%"},L(n,[{key:"IG",get:function(){var t=this.hR.offsetWidth;return this.RG&&this.RG.kG||(t*=.8),t}},{key:"OW",get:function(){return"theoplayer-cea608-texttrack-"+uD++}}]),n}(YI),oD=function(){function t(t,n,i,r,e){var u=this;this.CG=[],this.OG=function(t){var n=t.Wd;n.Eo(vd.il,u.xG),n.Eo(vd.sl,u.xG),n instanceof vI&&(n.xH=u.xH),u.PG(n)},this.xG=function(t){var n=t.Wd;u.PG(n)},this.BG=function(t){var n=t.Wd;n.No(vd.il,u.xG),n.No(vd.sl,u.xG),u.LG(n)},this.MG=function(){for(var t=u.xH,n=0,i=u.Q_.ml;n<i.length;n++){var r=i[n];r instanceof vI&&(r.xH=t)}},this.UG=function(){for(var t=0,n=u.CG;t<n.length;t++){n[t].TW(u.fN)}},this.FG=function(){for(var t=0,n=u.CG;t<n.length;t++){var i=n[t];i.TW(de(de({},i.RW()),{EW:"hidden"}))}},this.HG=function(){for(var t=0,n=u.CG;t<n.length;t++){var i=n[t];i.TW(de(de({},i.RW()),{EW:"visible"}))}},this.VG=t,this.SX=n,this.Q_=i,this.XG=e,this.fN=r,this.Q_.Eo(cd.Ld,this.OG),this.Q_.Eo(cd.Ud,this.BG),this.Q_.Eo("nl",this.xG),this.XG.Eo(Kp.tl,this.MG),this.fN.Eo("nl",this.UG),this.MG()}var n=t.prototype;return n.WG=function(t){for(var n=0,i=this.CG;n<i.length;n++){var r=i[n];if(r.Wd===t)return r}},n.qG=function(t){switch(t.Gs){case b_.TTML:case b_.SRT:case b_.WEBVTT:case b_.CEA608:return!0}return!1},n.zG=function(t){switch(t.Gs){case b_.TTML:return new eN(t,this.VG,t.xl,this.SX);case b_.SRT:case b_.WEBVTT:return new EN(t,this.VG,t.xl,this.SX);case b_.CEA608:return new sD(t,this.VG,t.xl,this.SX)}},n.GG=function(t){var n=this.WG(t);n||((n=this.zG(t)).TW(this.fN),this.CG.push(n),t.Xl===Vd.Fl&&n.xW())},n.LG=function(t){for(var n=this.CG,i=n.length-1;i>=0;i-=1){var r=n[i];r.Wd===t&&(r.Sv(),Je(n,i))}},n.PG=function(t){var n;(n=t.Ol)!==Xw.fb&&n!==Xw.vb||!this.qG(t)||(t.Wl===A_.ERROR?this.LG(t):this.GG(t))},n.yl=function(){for(var t=0,n=this.CG;t<n.length;t++){var i=n[t];i.Wd.No(vd.il,this.xG),i.Wd.No(vd.sl,this.xG),i.Sv()}tu(this.CG)},n.Sv=function(){this.yl();for(var t=0,n=this.CG;t<n.length;t++){n[t].Sv()}this.Q_.No(cd.Ld,this.OG),this.Q_.No(cd.Ud,this.BG),this.Q_.No("nl",this.xG),this.XG.No(Kp.tl,this.MG),this.fN.No("nl",this.UG)},L(t,[{key:"xH",get:function(){return this.XG.nN}}]),t}();function aD(t){var n=new RT,i=function(t){var n=[];return ET.UO(t)&&n.push(new ET(t)),ST.UO(t)&&n.push(new ST(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.WO(e)}n.XO(i[0])}return n}var cD,hD=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).jG=aD(n),u.fN=e,u.QG=new qI,u.YG=new oD(u.QG.Sg,u.uL,u.ng,u.fN,u.ER),u}M(n,t);var i=n.prototype;return i.gg=function(){return this.lc},i.co=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.jG.Sv(),this.QG.Sv(),this.YG.Sv(),n.next=5,t.prototype.co.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i._g=function(){t.prototype._g.call(this),this.QG._g()},i.lg=function(){t.prototype.lg.call(this),this.QG.lg()},i.iW=function(n){t.prototype.iW.call(this,n),this.QG.iW(n)},L(n,[{key:"hR",get:function(){return this.lc}},{key:"x_",get:function(){return this.lc.videoHeight}},{key:"P_",get:function(){return this.lc.videoWidth}},{key:"ER",get:function(){return this.jG}}]),n}(MI),fD=function(t){function n(){return t.call(this,"nativeseeking")||this}return M(n,t),n}(Eu),vD=function(t){function n(){return t.call(this,"nativeseeked")||this}return M(n,t),n}(Eu);!function(t){t.ZG="HELLO",t.JG="HI_THERE",t.$G="INITIALIZE",t.KG="APPEND_INIT",t.tj="APPEND_DATA",t.nj="ACK",t.ij="REMOVE",t.rj="DESTROY_SESSION"}(cD||(cD={}));var dD=function(){function t(){this.zE=new _y}var n=t.prototype;return n.ej=function(t){var n=this;return this.zE.Ob(function(){var t=T.coroutine(ve.mark(function t(i){var r,e,u,o,a,c;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(i),r=new MessageChannel,e=r.port1,u=r.port2,s.serviceWorker.controller){t.next=7;break}return t.next=7,od(s.serviceWorker,"install",i);case 7:if("activated"===s.serviceWorker.controller.state){t.next=10;break}return t.next=10,od(s.serviceWorker.controller,"activate",i);case 10:return o={kind:cD.ZG,port:u},s.serviceWorker.controller.postMessage(o,[u]),e.start(),n.Mu=e,t.prev=15,t.next=18,od(e,"message",i);case 18:if(a=t.sent,(c=a.data).kind===cD.JG){t.next=23;break}throw new f("Could not set up message channel");case 23:n._c=c.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),su(t.t0)&&n.uj(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.sj=function(t,n){var i=this;return this.Mu,this.zE.Ob(T.coroutine(ve.mark(function r(){var e;return ve.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Mu){r.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Mu.postMessage(t,n),r.next=7,od(i.Mu,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.oj=function(){var t=this;return this.zE.Ob(function(){return t.uj()})},n.uj=function(){if(s.serviceWorker.controller&&"activated"===s.serviceWorker.controller.state&&this.Mu){var t={kind:cD.rj};this.Mu.postMessage(t),this.Mu.close(),this.Mu=void 0}},t}(),lD=function(){function t(){this.aj=rg.Xy}var n=t.prototype;return n.cj=function(t,n){var i=t.Qw(n);this.aj=i.Uw(this.hj)?this.aj:i},n.fj=function(t){this.aj=t},L(t,[{key:"hj",get:function(){return this.aj}}]),t}(),_D=function(){function t(){this.Nb=T.resolve()}return t.prototype.vj=function(t){var n=this.Nb.then(t);return this.Nb=n.then(S,S),n},t}(),gD=function(t){function n(n,i){var r;return(r=t.call(this)||this).qC=n,r.dj=i,r.lj=void 0,r._j=void 0,r.gj=!0,r.zE=new _D,r.wj=new eu,r.yj=!1,r.mj=!1,r}M(n,t);var i=n.prototype;return i.jg=function(t,n){if(this.TM!==t){this.gj=t;var i=new Eu(t?"Nl":"bU");this.bo(i)}return T.resolve()},i.wM=function(t,n){},i.yM=function(t,n){},i.KL=function(){return this.mj},i._o=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.wj._o(),this.wj=new eu;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lM=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.mM=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.dM=function(){var t=T.coroutine(ve.mark(function t(i,r,e){var u,s,o,a=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.Gs===gS.eM){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return u=i.pu,s=this.kj(e),o=function(){var t=T.coroutine(ve.mark(function t(){var i,r,e,o,c,h,v;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(s.mo),i=kw.Lk(new DataView(u.buffer)),(r=dw(i,Eg.Wm)).length){t.next=5;break}throw new f("Moof boxes not found");case 5:return e=a.pj,o=n.Aj(r,e),c=a.bj(r,e),h=u.buffer,v={kind:cD.tj,mimeType:a.qC,segment:u,startPts:fg.Qy(o).im(),totalDuration:fg.Qy(c).im()},t.next=12,a.dj.sj(v,[h]);case 12:void 0===a.lj&&(a.lj=o),void 0===a._j&&(a._j=o),a._j=a._j.Fg(c),a.bo(new Eu(fS.iM));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.zE.vj(T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.yj=!0,t.next=4,o();case 4:return t.prev=4,s.co(),a.yj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i._M=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Gs===gS.eM){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.pu,e=this.kj(i),u=function(){var t=T.coroutine(ve.mark(function t(){var n,i,u,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(e.mo),n=kw.Lk(new DataView(r.buffer)),i=vw(n,Eg.wm)){t.next=5;break}throw new f("Moov Box not found");case 5:if(0!==i.Yk.length){t.next=7;break}throw new f("Tracks not found");case 7:return s.pj=i.Yk[0].ep.Nk.xy,u=r.buffer,o={kind:cD.KG,mimeType:s.qC,segment:r},t.next=12,s.dj.sj(o,[u]);case 12:s.bo(new Eu(fS.iM));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.zE.vj(T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.yj=!0,t.next=4,u();case 4:return t.prev=4,e.co(),s.yj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gM=function(){this.mj=!0},i.Ta=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.kj(r),u=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(e.mo),n={kind:cD.ij,mimeType:s.qC,endTime:fg.qy(i).im()},t.next=4,s.dj.sj(n);case 4:s.lj=void 0,s._j=void 0,s.bo(new Eu(fS.iM));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.zE.vj(T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.yj=!0,t.next=4,u();case 4:return t.prev=4,e.co(),s.yj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.kU=function(t){return!1},i.pU=function(t){return T.resolve()},n.Aj=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.Yk.length)throw new f("No tracks");if(!i.Yk[0].TA)throw new f("No decode time");return new rg(i.Yk[0].TA.TA.toNumber(),n)},i.kj=function(t){var n=new eu;return n.wo(this.wj.mo),t&&n.wo(t),n},i.bj=function(t,n){var i=0;return t.forEach(function(t){t.Yk.forEach(function(t){t.bA.forEach(function(t){t.DA.forEach(function(t){var n;i+=null!==(n=t.S_)&&void 0!==n?n:0})})})}),new rg(i,n)},L(n,[{key:"Tg",get:function(){return void 0===this.lj||void 0===this._j?nA.KI():new nA([this.lj.Hy,this._j.Hy])}},{key:"Zp",get:function(){return{Lf:this.qC}}},{key:"BC",get:function(){return this.qC}},{key:"EM",get:function(){return nA.KI()}},{key:"Wx",get:function(){return 30},set:function(t){}},{key:"jx",get:function(){return 30},set:function(t){}},{key:"TM",get:function(){return this.gj}},{key:"zO",get:function(){return this.yj}},{key:"Tj",get:function(){return this.lj}},{key:"uw",get:function(){return this._j}}]),n}(bu),wD=function(){function t(t,n){this.ec=t,this.ZU=Qe(n,function(t){return Boolean(t.BC.match(/video/))}),this.YU=Qe(n,function(t){return Boolean(t.BC.match(/audio/))}),this.Ej()}t.Sj=function(n,i){for(var r=[],e=0;e<n.aF.length;e++){var u=n.aF[e].Lf;r.push(new gD(u,i))}return new t(n,r)};var n=t.prototype;return n.Ej=function(){},n.iS=function(t,n){return T.resolve(void 0)},n.co=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.YU,this.ZU].filter(Z);n<i.length;n++)(r=i[n]).Io(),r.lM().catch(S);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.uF=function(t){},n.oF=function(t,n,i,r){},n.gM=function(){var t,n;null===(t=this.YU)||void 0===t||t.gM(),null===(n=this.ZU)||void 0===n||n.gM()},n.kU=function(t){return!1},n.pU=function(t){return T.resolve()},L(t,[{key:"Rj",get:function(){return[this.YU,this.ZU].filter(Z).filter(function(t){return t.TM})}},{key:"wF",get:function(){return this.YU}},{key:"Zp",get:function(){return this.ec}},{key:"S_",get:function(){return 0}},{key:"KL",get:function(){var t,n,i,r,e=null===(n=null===(t=this.YU)||void 0===t?void 0:t.KL())||void 0===n||n,u=null===(r=null===(i=this.ZU)||void 0===i?void 0:i.KL())||void 0===r||r;return e&&u}},{key:"Mg",get:function(){return new nA([0,1/0])}},{key:"yF",get:function(){return this.ZU}},{key:"tg",get:function(){throw new f("Not implemented")}}]),t}(),yD=rg.ey,mD=new rg(-1/0),kD=rg.Xy,pD=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.Fw=function(t,n){return t.qw(n)?Q_.Bw:t.bw(n)?Q_.xw:Q_.Pw},i.Fg=function(t,n){return t.Fg(n)},i.Qw=function(t,n){return t.Qw(n)},i.Ww=function(t,n){return t.Ww(n)},i.SI=function(){return yD},i.RI=function(){return kD},i.CI=function(){return mD},n.ZI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new rg(t.start(r)),new rg(t.end(r)));return new n(i)},n.Ij=function(t){for(var i=[],r=[],e=0;e<t.kl;e++)i.push(new rg(t._I(e))),i.push(new rg(t.wI(e))),r.push(t.gI(e)),r.push(t.yI(e));return new n(i,r)},n.$I=function(t){return new n([t,t],[!0,!0])},i.TI=function(t,i){return new n(t,i)},i.AI=function(t){return t.Hy},n.KI=function(){return AD},n}(tA),AD=new pD([]),bD=function(t){function n(n){var i;return(i=t.call(this)||this).Nj=!0,i.dj=new dD,i.Dj=new lD,i.Cj=!0,i.Oj=new T(function(t,n){i.xj=t,i.Pj=n}),i.oN=!1,i.CV=T.resolve(),i.OV=new eu,i.Bj=!0,i.PV=nA.KI(),i.XV=!1,i.Lj=function(){i.D_||i.Mj.kl<=0||i.Tg.kl<=0||i.Dj.cj(new rg(i.Tg.wI(i.Tg.kl-1)),i.Mj.wI(i.Mj.kl-1))},i.Uj=function(){i.bo(new Bl(i.E_))},i.Fj=function(){i.bo(new Pl(i.E_,i.Eg))},i.Hj=function(){i.bo(new xl(i.E_,i.C_))},i.Vj=function(){i.bo(new Fl(i.E_,i.B_))},i.Xj=function(){i.bo(new Ol(i.S_))},i.Wj=function(){i.bo(new Dp(i.E_))},i.qj=function(){i.bo(new fD)},i.zj=function(){i.bo(new vD)},i.Gj=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.Bj&&i.bo(new Il(i.E_)),i.Cj=!1,i.Bj=!0;case 3:case"end":return t.stop()}},t)})),i.jj=function(){i.Cj=!0,i.bo(new Rl(i.E_))},i.Qj=n,i.RX=new jS(rn(i)),i.Qj.setAttribute("id","player_video"),i.Qj.playsInline=!0,i.Qj.style.width="100%",i.Qj.style.height="100%",i.Yj(),i.Zj(),i.jG=aD(i.Qj),i}M(n,t);var i=n.prototype;return i.Yj=function(){this.Qj.addEventListener("timeupdate",this.Lj),this.Qj.addEventListener("ended",this.Uj),this.Qj.addEventListener("timeupdate",this.Fj),this.Qj.addEventListener("ratechange",this.Hj),this.Qj.addEventListener("volumechange",this.Vj),this.Qj.addEventListener("durationchange",this.Xj),this.Qj.addEventListener("playing",this.Wj),this.Qj.addEventListener("seeking",this.qj),this.Qj.addEventListener("seeked",this.zj),this.Qj.addEventListener("play",this.Gj),this.Qj.addEventListener("pause",this.jj)},i.Jj=function(){this.Qj.removeEventListener("timeupdate",this.Lj),this.Qj.removeEventListener("ended",this.Uj),this.Qj.removeEventListener("timeupdate",this.Fj),this.Qj.removeEventListener("ratechange",this.Hj),this.Qj.removeEventListener("volumechange",this.Vj),this.Qj.removeEventListener("durationchange",this.Xj),this.Qj.removeEventListener("playing",this.Wj),this.Qj.removeEventListener("seeking",this.qj),this.Qj.removeEventListener("seeked",this.zj),this.Qj.removeEventListener("play",this.Gj),this.Qj.removeEventListener("pause",this.jj)},i.Zj=function(){this.RX.Eo(El.il,this.Ao)},i.$j=function(){this.RX.No(El.il,this.Ao)},i.ta=function(t,n){this.OV._o(),this.OV=new eu,this.CV=this.XX(t,this.CV,this.OV.mo).catch(S)},i.XX=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.PV=this.Bg,u=null===(e=this.qE)||void 0===e?void 0:e.Rj){t.next=4;break}return t.abrupt("return");case 4:return s=l.max.apply(l,u.map(function(t){return t.Tj?t.Tj.Hy:1/0})),this.oN=!0,this.bo(new Ml(n)),t.next=9,i.catch(S);case 9:if(ou(r),t.prev=10,this.Nj||this.Kj(),this.Qj.load(),this.Cj){t.next=17;break}return this.Bj=!1,t.next=17,hu(this.Qj.play(),r);case 17:if(!(this.Wl<ol.g_)){t.next=22;break}return t.next=20,this.RX.xo(El.il,r);case 20:t.next=17;break;case 22:this.xj(),this.Nj=!1,this.oN=!1,this.bo(new Ul(this.E_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.Pj(),t.t0;case 32:return t.prev=32,this.tQ(),this.Dj.fj(new rg(s)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eg=function(){this.Cj=!0,this.Qj.pause()},i.rg=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Cj){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.Qj.src){t.next=9;break}return this.tW(),t.next=7,this.Oj;case 7:t.next=11;break;case 9:return t.next=11,this.Qj.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.Cj=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.co=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.dj&&this.dj.oj().catch(S),this.OV._o(),this.Jj(),this.$j(),this.RX.co(),this.Io();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.dj&&this.dj.oj().catch(S),this.OV._o(),this.Qj.removeAttribute("src"),this.Qj.load(),this.RX.yl(),this.PV=nA.KI();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tW=function(){this.nW||(ID(this.Qj,b.Ss),this.XV=!0)},i.Kj=function(){var t,n=this.Qj.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Qj.videoWidth/this.Qj.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Qj.style.width=i+"px",this.Qj.style.height=r+"px",this.Qj.style.marginLeft=(e-i)/2+"px",this.Qj.style.marginTop=(s-r)/2+"px",this.Qj.style.backgroundColor="black"}},i.tQ=function(){this.Qj.style.width="100%",this.Qj.style.height="100%",this.Qj.style.marginLeft="",this.Qj.style.marginTop="",this.Qj.style.backgroundColor=""},i.bR=function(t,n,i,r){},i.bb=function(t,n,i,r,e){},i.$L=function(t){return T.resolve(void 0)},i.xR=function(){var t=this.nQ();return{Ng:0,Ig:t.droppedVideoFrames,Dg:t.totalVideoFrames}},i.nQ=function(){var t={droppedVideoFrames:0,totalVideoFrames:0};return void 0!==this.Qj.webkitDroppedFrameCount?t.droppedVideoFrames=this.Qj.webkitDroppedFrameCount:t.droppedVideoFrames="function"==typeof this.Qj.getVideoPlaybackQuality?this.Qj.getVideoPlaybackQuality().droppedVideoFrames:0,void 0!==this.Qj.webkitTotalFrameCount?t.totalVideoFrames=this.Qj.webkitTotalFrameCount:t.totalVideoFrames="function"==typeof this.Qj.getVideoPlaybackQuality?this.Qj.getVideoPlaybackQuality().totalVideoFrames:0,t},i.lg=function(){this.Qj.style.display="block"},i._g=function(){this.Qj.style.display="none"},i._F=function(){},i.ba=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Gs!==ip.sS){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.dj.ej();case 4:return i={kind:cD.$G,mediaBufferConfigs:n.aF.map(function(t){return t.Lf})},t.next=7,this.dj.sj(i);case 7:return this.qE=wD.Sj(n,this.dj),this.Qj.preload="none",this.Qj.src="https://theo.proxy/"+this.dj._c+"/master.m3u8",t.abrupt("return",this.qE);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gF=function(){},i.Sb=function(t){},i.SR=function(){},i.OR=function(t){},i.pR=function(){return!1},i.iW=function(t){t.appendChild(this.Qj)},i.gg=function(){return this.Qj},i.BX=function(){},L(n,[{key:"hR",get:function(){return this.Qj}},{key:"TF",get:function(){return!1}},{key:"E_",get:function(){return this.Qj.currentTime+this.Dj.hj.Hy}},{key:"D_",get:function(){return this.Qj.paused}},{key:"B_",get:function(){return this.Qj.volume},set:function(t){this.Qj.volume=t}},{key:"C_",get:function(){return this.Qj.playbackRate},set:function(t){this.Qj.playbackRate=t}},{key:"iQ",get:function(){return this.Qj.defaultPlaybackRate}},{key:"Tg",get:function(){var t,n,i=null!==(n=null===(t=this.qE)||void 0===t?void 0:t.Rj)&&void 0!==n?n:[];return 0===i.length?nA.KI():i.reduce(function(t,n){return t.II(n.Tg)},new nA([0,1/0]))}},{key:"Mj",get:function(){return pD.ZI(this.Qj.buffered)}},{key:"Bg",get:function(){var t=nA.JI(this.rQ);return this.PV.BI(t.Ko(this.Dj.hj.Hy))}},{key:"rQ",get:function(){return pD.ZI(this.Qj.played)}},{key:"O_",get:function(){return this.oN}},{key:"S_",get:function(){return this.Qj.duration}},{key:"N_",get:function(){return this.Qj.muted},set:function(t){this.Qj.muted=t}},{key:"hz",get:function(){return this.Qj.style}},{key:"eW",get:function(){return de(de({},cS),{HL:!0,VL:300})}},{key:"Wl",get:function(){return this.RX.Wl}},{key:"x_",get:function(){return this.Qj.videoHeight}},{key:"P_",get:function(){return this.Qj.videoWidth}},{key:"R_",get:function(){return this.Qj.ended}},{key:"vp",get:function(){return 0}},{key:"ts",get:function(){return 0}},{key:"Rg",get:function(){return!1}},{key:"nW",get:function(){return this.XV}},{key:"Eg",get:function(){}},{key:"uL",get:function(){}},{key:"Fo",get:function(){}},{key:"ER",get:function(){return this.jG}},{key:"Mg",get:function(){return this.qE?this.qE.Mg:nA.KI()}},{key:"PR",get:function(){}},{key:"ng",get:function(){}},{key:"rW",get:function(){return"block"===this.Qj.style.display}}]),n}(bu),TD=2,ED=[h_.gv,h_.wv];function SD(t){var n=e.createElement(t);return Gr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),RD(n),n}function RD(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),jr(t),t.pause(),t.playbackRate=1,t.preload=jp.nI,t.controls=!1,t.style.display="none",Gr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function ID(t,n){if(n.Wu){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();rt(r)&&_u(r),t.pause()}}var ND;Ir=(ND={eQ:function(){function t(t,n,i,r,e){void 0===i&&(i=TD),void 0===r&&(r=ED),void 0===e&&(e=Mo()),this.uQ=i,this.sQ=[].concat(r),this.to=e,this.SX=t,this.fN=n,this.oQ=_e(),this.aQ()}var n=t.prototype;return n.dN=function(t){for(var n=0,i=this.gN;n<i.length;n++){i[n].iW(t)}},n.aR=function(t){var n=Qe(this.oQ.get(t),function(t){return t.cQ});if(n)return n.cQ=!1,n.hQ},n.fQ=function(t){if(!this.vQ)throw new f("Error creating iOS Safari MediaController");return this.vQ},n.NR=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.hR,r=i.tagName.toLowerCase(),t.next=4,n.yl();case 4:RD(i),(e=Qe(this.oQ.get(r)||[],function(t){return n===t.hQ}))&&(e.cQ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._N=function(){for(var t=0,n=this.gN;t<n.length;t++){n[t].tW()}},n.Sv=function(){for(var t=0,n=this.gN;t<n.length;t++){var i=n[t],r=i.hR;i.co(),RD(r),Hr(r)}},n.aQ=function(){for(var t=0,n=this.sQ;t<n.length;t++){var i=n[t],r=[];this.oQ.set(i,r);for(var e=0;e<this.uQ;e++){var u=SD(i),s=i===h_.gv?new XI(u,this.to,this.SX):new hD(u,this.to,this.SX,this.fN);r.push({hQ:s,cQ:!0})}}if(j.Ce&&j._e){var o=SD(h_.wv);this.vQ=new bD(o)}},L(t,[{key:"gN",get:function(){for(var t=[],n=0,i=this.sQ;n<i.length;n++){var r=i[n],e=this.oQ.get(r).map(function(t){return t.hQ});t.push.apply(t,e)}return this.vQ&&t.push(this.vQ),t}}]),t}(),dQ:function(){function t(n){var i=this;this.vN=n,this.lQ=new _y,this._Q=T.coroutine(ve.mark(function n(){var r,e,u;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.vN.aR(h_.wv),e=r.hR,n.next=4,t.gQ(e);case 4:return u=n.sent,n.next=7,i.vN.NR(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.xL=function(){return this.lQ.Ob(this._Q)},n.fg=function(){this.vN._N()},t.gQ=function(){var n=T.coroutine(ve.mark(function n(i){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.wQ();case 3:return n.next=5,t.yQ(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t.mQ(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.yQ=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,rt(i)){t.next=4;break}return t.abrupt("return",!j.ye);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.mQ=function(){var n=T.coroutine(ve.mark(function n(i){var r;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.yQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.wQ=function(){return new T(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.Sv=function(){this.lQ.Sv()},t}(),kQ:{QC:function(t){Cr.addEventListener("beforeunload",t)},uO:function(t){Cr.removeEventListener("beforeunload",t)}},pQ:r}).eQ,Nr=ND.dQ,Dr=ND.kQ,Cr=ND.pQ,Or=Cr&&Cr.location,xr=Cr&&Cr.navigator;var DD=[];function CD(){DD.shift()()}function OD(t){DD.push(t),o(CD,0)}var xD=function(){function t(t){this.AQ=t}var n=t.prototype;return n.bQ=function(t){return this.TQ=this.TQ||{},void 0===this.TQ[t]&&(this.TQ[t]=[]),this.TQ[t]},n.addEventListener=function(t,n){var i=this.bQ(t);-1===i.indexOf(n)&&i.push(n)},n.Ro=function(t){(this.EQ||(this.EQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.bQ(t);n?Ze(i,n):i.length=0},n.Oo=function(t){var n=this.EQ;n&&Ze(n,t)},n.Io=function(){this.TQ=void 0},n.dispatchEvent=function(t,n){if(n)return OD(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.bQ(t.type).slice(),r=this.EQ&&this.EQ.slice(),e=0;e<i.length;e++){i[e].call(this.AQ||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.AQ||this,t)}},n.SQ=function(t){return Boolean(this.TQ&&this.TQ[t]&&this.TQ[t].length)},n.RQ=function(){return this.TQ?d.keys(this.TQ):[]},t}(),PD=function(){function t(){this.IQ=[]}var n=t.prototype;return n.Sj=function(t,n){var i=this.IQ[t];return i?new i(n):null},n.ML=function(t,n){this.IQ[t]=n},t}();PD.Ve=new PD;var BD,LD=function(t){function n(n,i){var r,e=UD[n];return(r=t.call(this,e?e.Lo:"")||this).code=n,r.info=i,r.helpLink=e&&e.NQ,r.helpLinkText=e&&e.DQ,r}return M(n,t),L(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(un);!function(t){t.CQ="LICENSE_INVALID",t.OQ="MANIFEST_NOT_FOUND",t.xQ="MANIFEST_CORS_ERROR",t.PQ="INVALID_HLS_MANIFEST",t.BQ="PLAYBACK_ISSUE",t.LQ="AUDIO_ISSUE",t.MQ="BROWSER_SUPPORT_ISSUE",t.UQ="INVALID_KEY",t.FQ="DECRYPTION_ERROR",t.HQ="AD_BLOCK_DETECTED",t.VQ="THEOPLAYER_NOT_INITIALIZED",t.Hl="ERROR",t.XQ="MANIFEST_SEQUENCE_RESET_ERROR",t.WQ="PLAYER_INCORRECTLY_CONFIGURED",t.qQ="UNSUPPORTED"}(BD||(BD={}));for(var MD=[{ca:BD.CQ,Lo:"The license for this player is invalid. Please contact your service provider for additional information."},{ca:BD.OQ,Lo:"Could not load the manifest file."},{ca:BD.xQ,Lo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",NQ:"https://www.theoplayer.com/documentation/cors.html",zQ:!1},{ca:BD.PQ,Lo:"The source of the player is an invalid HLS manifest.",NQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{ca:BD.BQ,Lo:"There appears to be a playback issue."},{ca:BD.LQ,Lo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{ca:BD.MQ,Lo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{ca:BD.UQ,Lo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{ca:BD.FQ,Lo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{ca:BD.HQ,Lo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{ca:BD.VQ,Lo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{ca:BD.Hl,Lo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{ca:BD.XQ,Lo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{ca:BD.WQ,Lo:"The player is incorrectly configured.",NQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{ca:BD.qQ,Lo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],UD={},FD=0;FD<MD.length;FD++){var HD=MD[FD];UD[HD.ca]=HD}function VD(t){return t.GQ}var XD=function(){function t(){this.Th=[],this.jQ={},this.QQ=0}var n=t.prototype;return n.YQ=function(t){var n=this.jQ[t];return void 0===n?-1:n-this.QQ},n.ZQ=function(t){return this.Th[t]},n.JQ=function(t){return this.ZQ(this.YQ(t))},n.$Q=function(t){return!!this.ZQ(t)},n.KQ=function(t){return!!this.JQ(t)},n.tY=function(){return this.Th},n.Fg=function(t){var n,i=this.Th,r=i.length?i[i.length-1]:null;if(this.YQ(t.GQ)>=0)return!1;if(r&&t.GQ>r.GQ)n=i.length;else{var e=$S(this.Th,t.GQ,VD,Z_);if(e>=0)return!1;n=-(e+1)}return this.nY(t,n),!0},n.Ta=function(t){var n=this.Th,i=this.jQ,r=this.YQ(t.GQ);return!(r<0)&&(n.splice(r,0,t),delete i[t.GQ],this.iY(r),!0)},n.rY=function(t){var n=this.Th,i=this.jQ;t=l.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].GQ];n.splice(0,t),this.QQ+=t},n.nY=function(t,n){var i=this.Th;n>=i.length?i.push(t):i.splice(n,0,t),this.iY(n)},n.iY=function(t){for(var n=this.Th,i=this.jQ,r=this.QQ,e=n.length,u=t;u<e;u++)i[n[u].GQ]=u+r},L(t,[{key:"kl",get:function(){return this.Th.length}}]),t}(),WD=function(){function t(t,n,i){this.eY=t,this.uY=n,this.sY=i}var n=t.prototype;return n.compute=function(){return this.eY.live?this.eY.oY?this.eY.aY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.sY&&(t+=this.cY()),this.hY()&&(t+=this.fY(t)),t},n.hY=function(){return void 0!==this.uY.vY.JQ(this.eY.fragments[0].GQ)},n.fY=function(t){var n=this.eY.fragments[0];return this.uY.vY.JQ(n.GQ).dY-(n.dY+t)||0},n.cY=function(){var t=qD(this.eY),n=qD(this.sY.lY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.sY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=l.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.lY.fragments.length?this.sY._Y(t.lY.fragments[0].GQ).dY:0},t}();function qD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.gY&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var zD=function(t){function n(n){return t.call(this,R_.al,n)||this}return M(n,t),n.prototype.Xd=function(){return new GD(this.rw.Vd)},n}(x_),GD=function(t){function n(n){return t.call(this,I_.al,n)||this}return M(n,t),n}(P_),jD=function(t){function n(n,i){var r,e=QD(i,n.S_,n.PR,n.wY);return(r=t.call(this,i,e,void 0,!1,n.Dl)||this).yY=n.mY,r.kY=n.PR,r.pY=n.wY,r.mF=n.S_,r.AY=n.bY,r.TY=Boolean(n.EY),r.SY=n.RY||{},r.IY=n.NY,r.DY=n.CY,r.OY=n.xY,r.PY(),r.BY(),r}M(n,t);var i=n.prototype;return i.Ea=function(t){var n=!1;void 0===this.yY&&void 0!==t.mY&&(n=!0,this.yY=t.mY),void 0===this.pY&&void 0!==t.wY&&(n=!0,this.pY=t.wY),void 0===this.mF&&void 0!==t.S_&&(n=!0,this.mF=t.S_),void 0===this.AY&&void 0!==t.bY&&(n=!0,this.AY=t.bY),!this.TY&&t.EY&&(n=!0,this.TY=t.EY),n=this.updateCustomAttributes(t,n),void 0===this.IY&&void 0!==t.NY&&(n=!0,this.IY=t.NY),void 0===this.DY&&void 0!==t.CY&&(n=!0,this.DY=t.CY),void 0===this.OY&&void 0!==t.xY&&(n=!0,this.OY=t.xY),this.PY(),this.BY(),this.LY(),n&&this.bo(new zD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.RY)for(var r=0,e=d.keys(t.RY);r<e.length;r++){var u=e[r];void 0===this.SY[u]&&(i=!0,this.SY[u]=t.RY[u])}return i},i.PY=function(){this.mF&&!this.pY&&(this.pY=new Date(this.kY.getTime()+1e3*this.mF))},i.BY=function(){this.pY&&!this.mF&&(this.mF=Zt(this.pY.getTime()-this.kY.getTime()))},i.LY=function(){this.kw===1/0&&(this.pY||this.mF)&&(this.kw=QD(this.mw,this.mF,this.kY,this.pY))},L(n,[{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=Ed(B_(t=this),{get content(){return t.sw},get class(){return t.mY},get startDate(){return t.PR},get endDate(){return t.wY},get duration(){return t.S_},get plannedDuration(){return t.bY},get endOnNext(){return t.EY},get scte35Cmd(){return t.NY},get scte35Out(){return t.CY},get scte35In(){return t.xY},get customAttributes(){return t.RY}})),this.Hd}},{key:"mY",get:function(){return this.yY}},{key:"PR",get:function(){return this.kY}},{key:"wY",get:function(){return this.pY}},{key:"S_",get:function(){return this.mF}},{key:"bY",get:function(){return this.AY}},{key:"EY",get:function(){return this.TY}},{key:"NY",get:function(){return this.IY}},{key:"CY",get:function(){return this.DY}},{key:"xY",get:function(){return this.OY}},{key:"RY",get:function(){return this.SY}}]),n}(H_);function QD(t,n,i,r){return Z(n)?t+n:r?t+(Zt(r.getTime())-Zt(i.getTime())):1/0}var YD,ZD,JD,$D,KD,tC=function(t){function n(){return t.call(this,void 0,void 0,b_.DATE_RANGE)||this}M(n,t);var i=n.prototype;return i.Ea=function(t,n){var i=this;t=function(t){for(var n=_e(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Dl)){var u=n.get(e.Dl),s=de(de(de({},u),Nd(e)),{RY:de(de({},u.RY),e.RY)});n.set(e.Dl,s)}else n.set(e.Dl,e),i.push(e.Dl)}return i.map(function(t){return n.get(t)})}(t);for(var r=this.ql.ml,e=function(n){var e=r[n],u=Qe(t,function(t){return t.Dl===e.Dl});u?e.Ea(u):i.YF(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.PR;if(void 0!==c&&!this.jF(a.Dl)){var h=n(c);this.Eb(new jD(a,h))}}},i.Eb=function(n){this.MY(n),t.prototype.Eb.call(this,n)},i.MY=function(t){var n=this.BF.filter(function(n){return n.mY===t.mY}).pop();n&&n.EY&&n.Ea({Dl:n.Dl,wY:t.PR})},n}(kI);function nC(t){return iC(t)?{nv:t.UY,FY:[t.FY._I,t.FY.wI],bv:!0}:{nv:t.toString(),bv:!0}}function iC(t){return void 0!==t.FY}function rC(t){return t&&t.HY&&yg(t.HY)||!1}function eC(t){if(!t)return fg.ey;if(!rC(t))return fg.qy(t.duration);var n=t.VY||fg.ey,i=t.XY||fg.ey,r=fg.qy(t.duration);return n.hy()||i.hy()?n.hy()?i.hy()?r.hy()?fg.ey:r:i:n:fg.My(n,i)}function uC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Rb)return i}return null}function sC(t){return uC(t)||function(t){return t.filter(function(t){return t.WY})}(t)[0]||t[0]}function oC(t,n){for(var i=0;i<n.length;i++){var r=n[i];$e(t,r)||t.push(r)}return t}function aC(t){switch(t){case $D.wv:case $D.qY:return h_.wv;case $D.gv:return h_.gv}}!function(t){t.zY="alternative",t.GY="main",t.jY="commentary",t.QY="",t.lb="descriptions",t.YY="main-desc",t.ZY="translation"}(YD||(YD={})),function(t){t.zY="alternative",t.GY="main",t.jY="commentary",t.QY="",t.vb="captions",t.JY="sign",t.fb="subtitles"}(ZD||(ZD={})),function(t){t.wv="video",t.gv="audio",t.$Y="closedCaption",t.KY="variant"}(JD||(JD={})),function(t){t[t.ev=-1]="ev",t[t.gv=0]="gv",t[t.wv=1]="wv",t[t.qY=2]="qY"}($D||($D={})),function(t){t[t.ev=-1]="ev",t[t.tZ=1]="tZ",t[t.nZ=2]="nZ",t[t.iZ=3]="iZ",t[t.rZ=4]="rZ"}(KD||(KD={})),function(t){t.F_=function(n){return n>=t.nZ},t.eZ=function(n){return n===t.nZ||n===t.iZ}}(KD||(KD={}));var cC=function(t){function n(){var n;return(n=t.call(this)||this).uZ=[],n.sZ=function(){return n.dispatchEvent("oZ")},n.aZ=function(){return n.dispatchEvent("cZ")},n}M(n,t);var i=n.prototype;return i.Fg=function(t){this.uZ.push(t),t.addEventListener("cZ",this.aZ),t.addEventListener("hZ",this.sZ),this.dispatchEvent("fZ"),t.disabled||this.dispatchEvent("oZ")},i.Ta=function(t){var n=this.uZ.indexOf(t);n<0||(Je(this.uZ,n),t.removeEventListener("cZ",this.aZ),t.removeEventListener("hZ",this.sZ),this.dispatchEvent("fZ"),t.disabled||this.dispatchEvent("oZ"))},i.Zo=function(){for(var t=!!this.vZ.length,n=!!this.dZ.length,i=0,r=this.uZ;i<r.length;i++){r[i].removeEventListener("hZ",this.sZ)}this.uZ.length=0,t&&this.dispatchEvent("fZ"),n&&this.dispatchEvent("oZ")},i.Sv=function(){this.Io(),this.Zo()},L(n,[{key:"vZ",get:function(){return this.uZ}},{key:"dZ",get:function(){return this.uZ.filter(function(t){return!t.disabled})}}]),n}(xD);function hC(t){if(!t)return null;for(var n={lZ:"",_Z:"",gZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.lZ="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.lZ="mp4a.40.2":"mp4a.40.29"===u?n.lZ="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.lZ=u:"ec-3"===u?n.lZ=u:0===u.indexOf("avc")?n._Z=e:n.gZ+=","+u}return n}var fC=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).wZ=new XD,a.yZ=NaN,a.mZ=void 0,a.qF=void 0,a.kZ=!0,a.pZ=!0,a.AZ=!0,a.bZ=!1,a.TZ=null,a.EZ=!1,a.SZ=n,a.CE=i,a.qg=r||0===r?r:-1,a.RZ=e,a.IZ=Boolean(u),a.NZ=Boolean(s),a.qF=o,a}M(n,t);var i=n.prototype;return i.DZ=function(t,n){var i=qb(),r=new WD(t,this,n).compute(),e=this.CZ(t.fragments),u=e.oldFragments,s=e.newFragments;this.OZ(u,i),this.xZ(s,i,r),this.mZ!==t&&this.PZ(!0),this.mZ=t,this.dispatchEvent({type:"BZ",LZ:this}),this.dispatchEvent("renditionUpdated")},i._Y=function(t){return this.wZ.JQ(t)},i.MZ=function(){var t=this.kZ;this.kZ=this.pZ&&this.AZ,t!==this.kZ&&this.dispatchEvent("cZ")},i.PZ=function(t){this.pZ=t,this.MZ()},i.UZ=function(t){this.AZ=t,this.MZ()},i.FZ=function(t){this.CE=t,this.dispatchEvent("renditionUpdated")},i.HZ=function(){null!==this.TZ&&a(this.TZ),this.dispatchEvent("hZ"),this.dispatchEvent("renditionUpdated")},i.VZ=function(t){this.EZ=t,this.HZ()},i.XZ=function(){this.WZ(3e4)},i.WZ=function(t){var n=this;this.bZ=!0,this.HZ(),this.TZ=o(function(){n.bZ=!1,n.HZ()},t)},i.CZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.wZ.KQ(u.GQ)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.OZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.wZ.JQ(r.GQ);e.qZ=oC(e.qZ,r.qZ),e.zZ=r.zZ||e.zZ,e.GZ=n}},i.xZ=function(t,n,i){var r=this.jZ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.Jk=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.dY+=n}}(r,i),this.QZ(r)},i.jZ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.LZ=this;var e=de({},r);n.push(e)}return n},i.QZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.wZ.Fg(i),w(this.yZ)&&(this.yZ=i.GQ)}},i.Sv=function(){this.Io(),null!==this.TZ&&a(this.TZ)},L(n,[{key:"disabled",get:function(){return this.bZ||this.EZ},set:function(t){this.bZ=t,this.HZ()}},{key:"Dl",get:function(){return this.qg}},{key:"Pg",get:function(){return this.kZ}},{key:"uri",get:function(){return this.RZ||this.mZ&&this.mZ.uri},set:function(t){this.RZ=t,this.dispatchEvent("renditionUpdated")}},{key:"lY",get:function(){return this.mZ}},{key:"vY",get:function(){return this.wZ}},{key:"YZ",get:function(){return this.mZ?this.mZ.live?this.mZ.duration<-60?KD.iZ:KD.rZ:KD.tZ:KD.ev}},{key:"tu",get:function(){return this.CE},set:function(t){this.FZ(t)}},{key:"Pl",get:function(){return this.qF}},{key:"Rb",get:function(){return this.IZ}},{key:"WY",get:function(){return this.NZ||this.IZ}},{key:"ZZ",get:function(){return this.yZ}},{key:"JZ",get:function(){return!!this.lY}},{key:"Bf",get:function(){return this.SZ}}]),n}(xD),vC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g){var w;return void 0===_&&(_=YD.GY),(w=t.call(this,n,i,r,u,s,o,d)||this).$Z=void 0,w.KZ=void 0,w.tJ=void 0,w.nJ=void 0,w.iJ=void 0,w.rJ=void 0,w.eJ=void 0,w.uJ=void 0,w.sJ=void 0,w.oJ=null,w.aJ=void 0,w.cJ=Boolean(l),w.hJ=e,w.fJ=hC(a),w.vJ=g,w.dJ=c,w.KZ=h,w.lJ=f,w.$Z=v,w.WF=_,w}M(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.GQ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t._J[0]?t._J[0].Ol:YD.GY)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&wr(t.characteristics,"public.accessibility.describes-video")?YD.YY:YD.GY;if(t.characteristics&&wr(t.characteristics,"public.accessibility.describes-video"))return YD.lb;return YD.zY}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.gJ=function(t){this.fJ="string"==typeof t?hC(t):t,this.dispatchEvent("renditionUpdated")},i.wJ=function(t,n){return t?!n&&t.lZ&&t._Z?$D.qY:t._Z?$D.wv:t.lZ?$D.gv:$D.ev:$D.ev},L(n,[{key:"yJ",set:function(t){this.cJ=t}},{key:"mJ",get:function(){return this.fJ}},{key:"bandwidth",get:function(){return this.$Z},set:function(t){this.$Z=t,this.dispatchEvent("renditionUpdated")}},{key:"Ol",get:function(){return this.WF}},{key:"resolution",get:function(){return this.lJ},set:function(t){this.lJ=t,this.dispatchEvent("renditionUpdated")}},{key:"kJ",get:function(){return void 0!==this.vJ?this.vJ:this.wJ(this.fJ,this.cJ)}},{key:"GQ",get:function(){return this.dJ}},{key:"lZ",get:function(){return this.KZ}},{key:"pJ",get:function(){return this.hJ}},{key:"AJ",get:function(){return this.tJ},set:function(t){var n=this.tJ;this.tJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(fC);var dC=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i,r,e,u,s,o)||this).bJ=null,h.TJ=function(){return h.EJ()},h.bu=a,h.SJ=new dR(c,h.tu,h.Pl,void 0,b_.WEBVTT),h.Rb&&(h.SJ.Xl=Vd.Fl),h}M(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(wr(t.characteristics,"public.accessibility.describes-music-and-sound"))return Xw.vb;return Xw.fb}(i))};var i=n.prototype;return i.DZ=function(n){t.prototype.DZ.call(this,n),this.EJ()},i.Sv=function(){t.prototype.Sv.call(this),this.JA=null},i.FZ=function(n){t.prototype.FZ.call(this,n),this.SJ.xl=n},i.EJ=function(){this.bJ&&this.bJ.RJ(this,this.vY)},L(n,[{key:"IJ",get:function(){return this.SJ}},{key:"JA",get:function(){return this.bJ},set:function(t){this.bJ&&this.bJ.removeEventListener("NJ",this.TJ),this.bJ=t,this.EJ(),this.bJ&&this.bJ.addEventListener("NJ",this.TJ)}},{key:"UY",get:function(){return this.uri}},{key:"Gs",get:function(){return this.bu}}]),n}(fC),lC=function(t){function n(n,i){var r;(r=t.call(this)||this).DJ=["renditionUpdated","BZ","CJ"],r.OJ=null,r.xJ=null,r.PJ=null,r.BJ=null,r.LJ=new cC,r.MJ=new cC,r.UJ=new cC,r.Q_={},r.FJ=null,r.mF=NaN,r.Ao=function(t){return r.dispatchEvent(t)},r.ec=n,r.HJ=i;var e=rn(r);return r.VJ=function(){e.XJ(this)},r.WJ=function(t){e.qJ(this,t)},r}M(n,t);var i=n.prototype;return i.zJ=function(t,n){var i=new pI(n);return i.Xl=Vd.Ul,this.Q_[i.Dl]=i,this.dispatchEvent({type:"GJ",Wd:i}),i},i.jJ=function(t,n,i){var r=new kI(i,"manifest");return r.Xl=Vd.Ul,this.Q_[r.Dl]=r,this.dispatchEvent({type:"GJ",Wd:r}),r},i.QJ=function(t,n){if(t){var i=t.ql,r=t.YJ,e=t&&this.Q_[r];e||(e=new pI(t.Vl),this.Q_[r]=e,e.Xl=Vd.Ul,this.dispatchEvent({type:"GJ",Wd:e}));for(var u=0;u<i.length;u++){var s=i[u];e.Eb(s)}}},i.ZJ=function(t){t&&(this.JJ||(this.JJ=new dR(Xw.vb,"CC1","en",!0,b_.CEA608),this.Q_.CC1=this.JJ,this.dispatchEvent({type:"GJ",Wd:this.JJ})),this.JJ.Eb(t))},i.$J=function(t,n,i){var r=this.Q_[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.ql.ml;e<u.length;e++){var s=u[e];if(s.ew>=i)break;n<s.uw&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.YF(s)}}},i.KJ=function(t,n){return this.t$(t,n)},i.n$=function(t){var n;return(n=this.i$(t,this.LJ))?n:(n=this.i$(t,this.MJ))?n:n=this.i$(t,this.UJ)},i.Sv=function(){this.Co(this.LJ),this.LJ.Sv(),this.Co(this.MJ),this.MJ.Sv(),this.Co(this.UJ),this.UJ.Sv(),this.Q_={},this.JJ=void 0,this.r$&&(this.r$.Sv(),this.r$=void 0),this.FJ=null,this.mF=NaN,this.OJ=null,this.xJ=null,this.PJ=null,this.BJ=null,this.dispatchEvent("Sv")},i.e$=function(t){var n=vC.createFromUri(this,t.uri);this.Co(this.MJ),this.MJ.Fg(n),n.addEventListener("renditionUpdated",this.VJ)},i.XJ=function(t){var n=t.lY,i=t.YZ;if(w(this.mF)||KD.F_(i)){if(KD.ev===i)return;if(!n)return;this.mF=n.duration,this.dispatchEvent("u$")}w(this.mF)||KD.tZ!==i||t.removeEventListener("renditionUpdated",this.VJ)},i.s$=function(t){var n=this;this.Co(this.LJ),this.LJ.Zo(),this.Co(this.MJ),this.MJ.Zo(),this.UJ.Zo(),this.FJ=t;for(var i=t.streams.map(function(t){return vC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.lZ&&!wr(t.lZ,"mp4a")&&!wr(t.lZ,"mp3"))return!1;if(t._Z&&!wr(t._Z,"avc1"))return!1;return!0}(t.mJ)}),r=i.some(function(t){return t.mJ&&t.mJ.lZ}),e=i.some(function(t){return t.mJ&&t.mJ._Z}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.mJ&&s.mJ.lZ),a=Boolean(s.mJ&&s.mJ._Z);r&&!o||e&&!a||(this.MJ.Fg(s),s.addEventListener("renditionUpdated",this.VJ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.HJ){var e=dC.createFromPlaylistMedia(n,r);n.UJ.Fg(e),n.dispatchEvent({type:"GJ",Wd:e.IJ})}break;case"closed-captions":break;case"audio":var u=n.MJ.vZ.filter(function(t){return t.lZ===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.yJ=!0});var s=r.uri?$D.gv:$D.qY,o=vC.createFromPlaylistMedia(n,r,!1,s);n.LJ.Fg(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.o$=sC(this._J.dZ)||null,this.dispatchEvent("a$")},i.i$=function(t,n){for(var i=0,r=n.vZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.qJ=function(t,n){this.dispatchEvent(de(de({},n),{LZ:t}))},i.c$=function(t){for(var n=0,i=t.vZ;n<i.length;n++)for(var r=i[n],e=0,u=this.DJ;e<u.length;e++){var s=u[e];r.addEventListener(s,this.WJ)}},i.Co=function(t){for(var n=0,i=t.vZ;n<i.length;n++){i[n].Sv()}},i.h$=function(t,n){0!==t.length&&this.ec.hlsDateRange&&(this.r$||(this.r$=new tC,this.dispatchEvent({type:"GJ",Wd:this.r$})),this.r$.Ea(t,n))},i.f$=function(t,n){if(this.xJ!==t){var i=this.xJ;this.xJ=t,this.dispatchEvent({type:"v$",kJ:"lZ",LZ:this.xJ,d$:i,l$:n})}},i.t$=function(t,n){if(this.PJ!==t){var i=this.PJ;this.PJ=t,t&&this.dispatchEvent({type:"v$",kJ:"_Z",LZ:this.PJ,d$:i,l$:n})}},i._$=function(t){for(var n=0,i=t.vZ;n<i.length;n++){var r=i[n];if(r.YZ!==KD.ev)return r.YZ}return null},L(n,[{key:"X_",get:function(){return this.OJ},set:function(t){t&&(0===t.streams.length?this.e$(t):this.s$(t),this.OJ=t,this.c$(this.MJ),this.c$(this.LJ),this.dispatchEvent("g$"))}},{key:"w$",get:function(){return this.FJ}},{key:"S_",get:function(){return this.mF}},{key:"ng",get:function(){var t=this,n=this.UJ.vZ.map(function(t){return t.IJ}),i=d.keys(this.Q_).map(function(n){return t.Q_[n]});return this.JJ&&i.push(this.JJ),this.r$&&i.push(this.r$),n.concat(i)}},{key:"o$",get:function(){return this.xJ},set:function(t){this.f$(t,!0)}},{key:"y$",get:function(){return this.PJ},set:function(t){this.t$(t,!1)}},{key:"_J",get:function(){return this.LJ}},{key:"m$",get:function(){return this.MJ}},{key:"k$",get:function(){return this.UJ.vZ}},{key:"YZ",get:function(){var t;return null!==(t=this.xJ&&this.xJ.YZ)&&t!==KD.ev?t:null!==(t=this.PJ&&this.PJ.YZ)&&t!==KD.ev?t:null!==(t=this._$(this.LJ))?t:null!==(t=this._$(this.MJ))?t:KD.ev}}]),n}(xD);var _C=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).Yk=[],e.p$={},e.Ao=function(t){return e.dispatchEvent(t)},e.A$=function(t){e.b$(t)},e.T$=function(t){e.handleRenditionUpdated(t)},e.E$=function(t){for(var n=0,i=e.Yk;n<i.length;n++){i[n].S$.E$(t)}},e.R$=n,e.I$=i,e.N$=r,e.I$&&e.I$.addEventListener("v$",e.A$),e.N$&&(e.N$.addEventListener("renditionUpdated",e.T$),e.N$.addEventListener("D$",e.E$)),e.Vd=(u=rn(e),s=new xD,o={get length(){return u.Yk.length},enable:function(t){u.ab(u.C$(t&&t.id)||t)},disable:function(t){u.cb(u.C$(t&&t.id)||t)},item:function(t){return u.Yk[t]&&u.Yk[t].Vd},getTrackByID:function(t){var n=u.C$(t);return n&&n.Vd},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}M(n,t);var i=n.prototype;return i.C$=function(t){return this.p$[t]},i._l=function(t){for(var n=0,i=t.S$.Bl;n<i.length;n++){var r=i[n];r.Dl===this.O$()&&(r.Tw=!0)}t.addEventListener("enabledtrack",this.Ao),t.addEventListener("disabledtrack",this.Ao),this.Yk.push(t),this.p$[t.Dl]=t,this.dispatchEvent({type:"addtrack",track:t.Vd})},i.ab=function(t){if(t){var n=this.p$[t.Dl];if(n&&!n.Nl){for(var i=this.Yk.length-1;i>=0;i--)this.Yk[i].dg();n.vg()}}},i.cb=function(t){},L(n,[{key:"x$",get:function(){return this.O$()}}]),n}(xD);var gC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).P$=NaN,e}M(n,t);var i=n.prototype;return i.O$=function(){return this.P$},i.b$=function(t){t.B$?this.L$(t.M$):t.U$&&this.L$(t.U$)},i.L$=function(t){t&&(this.P$=t.Dl),this.Yk.forEach(function(n){return n.F$(t)})},i.handleRenditionUpdated=function(t){if(t.LZ&&t.LZ.kJ===$D.gv)for(var n=0,i=this.Yk;n<i.length;n++){i[n].H$(t)}},i.ab=function(n){var i=n;if(!i){var r=this.Yk.filter(function(t){return t.Rb});r.length>0&&(i=r[0])}t.prototype.ab.call(this,i)},L(n,[{key:"Gs",get:function(){return"audio"}}]),n}(_C),wC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).V$=NaN,e}M(n,t);var i=n.prototype;return i.O$=function(){return this.V$},i.b$=function(t){(t.X$||t.M$)&&(t.M$&&(this.V$=t.M$.Dl),this.Yk.forEach(function(n){return n.F$(t.M$)}))},i.handleRenditionUpdated=function(t){if(t.LZ&&(t.LZ.kJ===$D.wv||t.LZ.kJ===$D.qY))for(var n=0,i=this.Yk;n<i.length;n++){i[n].H$(t)}},L(n,[{key:"Gs",get:function(){return"video"}}]),n}(_C);function yC(t,n){for(var i,r=n-(i=t?$(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function mC(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var kC=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).Tw=!1,i.W$=!0,i.LZ=n,i.Tw=!1,i.Vd=(r=rn(i),e=new xD,u={get bandwidth(){return r.LZ&&r.LZ.bandwidth},get averageBandwidth(){return r.LZ&&r.LZ.averageBandwidth},get codecs(){return r.mJ},get resolution(){return r.q$},get frameRate(){return mC(r.z$,2)},get id(){return r.Dl},get uri(){return r.LZ&&r.LZ.uri},get name(){return r.tu},set name(t){r.tu=t},get enabled(){return r.Nl},set enabled(t){r.Nl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}M(n,t);var i=n.prototype;return i.G$=function(t){var n=!!t&&this.Dl===t.Dl;this.Tw!==n&&(this.Tw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Vd}))},i.H$=function(t){return this.LZ.Dl===t.LZ.Dl&&(this.LZ=t.LZ,this.dispatchEvent({type:"qualityupdated",quality:this.Vd}),!0)},L(n,[{key:"Nl",get:function(){return this.W$},set:function(t){this.W$=t,this.LZ.VZ(!t)}},{key:"Ol",get:function(){return this.LZ.Ol}},{key:"q$",get:function(){return this.LZ.resolution?{width:this.LZ.resolution.width,height:this.LZ.resolution.height}:{width:NaN,height:NaN}}},{key:"tu",get:function(){return this.LZ.tu},set:function(t){this.LZ.tu=t,this.dispatchEvent({type:"qualityupdated",quality:this.Vd})}},{key:"Dl",get:function(){return this.LZ.Dl}}]),n}(xD);var pC=function(t){function n(n){return t.call(this,n)||this}return M(n,t),L(n,[{key:"mJ",get:function(){return this.LZ.mJ&&this.LZ.mJ._Z||""}},{key:"z$",get:function(){return mC(Number(this.LZ.AJ),2)}}]),n}(kC),AC=function(t){function n(n){return t.call(this,n)||this}return M(n,t),L(n,[{key:"mJ",get:function(){return this.LZ.mJ&&this.LZ.mJ.lZ||""}},{key:"z$",get:function(){return mC(Number(this.LZ.aJ),2)}}]),n}(kC),bC=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).j$=null,r.Q$={},r.Ao=function(t){return r.dispatchEvent(t)},r.Bl=n,r.N$=i;for(var a=r.Bl.length-1;a>=0;a--){var c=r.Bl[a];r.Q$[c.Dl]=c}return r.Bl.forEach(function(t){return t.addEventListener("activequalitychanged",r.Ao)}),r.Vd=(e=rn(r),u=new xD,s={item:function(t){var n=e.ll(t);return n&&n.Vd},getQualitiesByIDs:function(t){return e.Y$(t).map(function(t){return t.Vd})},get length(){return e.Bl.length},get activeQuality(){return e.Il&&e.Il.Vd},get targetQuality(){return e.Ll?1===e.Ll.length?e.Ll[0].Vd:e.Ll.map(function(t){return t.Vd}):null},set targetQuality(t){if(t){var n=J(t)?t:[t];e.Ll=e.Y$(n.map(function(t){return t.id}))}else e.Ll=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}M(n,t);var i=n.prototype;return i.Z$=function(t){return!!t&&this.Bl.some(function(n){return n.Dl===t.Dl})},i.J$=function(t,n){for(var i=0,r=this.Bl;i<r.length;i++){r[i].G$(t)}},i.Y$=function(t){var n=this;return t&&t.map(function(t){return n.Q$[t]}).filter(function(t){return t})},i.K$=function(){for(var t=this.Bl.length-1;t>=0;t--)this.Bl[t].Tw=!1},i.E$=function(t){var n=this.N$.tK,i=this.Y$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Vd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.ll=function(t){return this.Bl[t]},L(n,[{key:"Il",get:function(){for(var t=0,n=this.Bl;t<n.length;t++){var i=n[t];if(i.Tw)return i}return null}},{key:"Ll",get:function(){return this.j$},set:function(t){this.j$=this.nK(t)}}]),n}(xD);var TC=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.vg=function(){this.N$&&(this.N$.P$=this.Bl[0].Dl)},i.dg=function(t){this.N$&&(this.N$.P$=null)},i.nK=function(t){},n}(bC),EC=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.vg=function(){if(this.nK(this.Ll),this.N$){var t=this.N$.R$;if(!t)return;var n=Qe(t.iK._J.vZ,function(t){return!t.uri});this.N$.P$=n?n.Dl:null}},i.J$=function(n,i){"video"===i&&t.prototype.J$.call(this,n,i)},i.dg=function(t){"video"===t&&this.K$()},i.nK=function(t){if(!this.N$)return this.Ll;var n=t?this.Y$(t.map(function(t){return t.Dl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Dl});return this.N$.tK=i,n}return t?this.Ll:(this.N$.tK=null,null)},n}(bC),SC=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).Gs=n,r.S$=i,r.Dl=i.ll(0).Dl,r.Vg=r.S$.Bl.some(function(t){return t.Tw}),r.tu=i.ll(0).LZ.tu,r.Vd=(e=rn(r),u=new xD,{get id(){return e.Dl},get enabled(){return e.Nl},get qualities(){return e.S$&&e.S$.Vd},get language(){return e.Pl},get default(){return e.Rb},get name(){return e.tu},set name(t){e.tu=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}M(n,t);var i=n.prototype;return i.F$=function(t){var n=this.S$.Z$(t);this.jg(n),this.S$.J$(t,this.Gs)},i.jg=function(t){this.Vg!==t&&(t?(this.Vg=!0,this.dispatchEvent({type:"enabledtrack",track:this.Vd})):(this.Vg=!1,this.dispatchEvent({type:"disabledtrack",track:this.Vd})))},i.vg=function(){this.Vg||this.S$.vg()},i.dg=function(){this.Vg&&this.S$.dg(this.Gs)},i.H$=function(t){t.LZ.Dl===this.Dl&&(this.tu=t.LZ.tu);for(var n=0,i=this.S$.Bl;n<i.length;n++){i[n].H$(t)}},L(n,[{key:"Nl",get:function(){return this.Vg}},{key:"Pl",get:function(){return this.rK()}},{key:"Ol",get:function(){return this.eK()}},{key:"Rb",get:function(){var t="video"===this.Gs,n=this.S$.Bl&&this.S$.Bl[0].LZ.Rb;return t||n}}]),n}(xD);var RC=function(t){function n(n){return t.call(this,"video",n)||this}M(n,t);var i=n.prototype;return i.eK=function(){return ZD.GY},i.rK=function(){return""},n}(SC),IC=function(t){function n(n){return t.call(this,"audio",n)||this}M(n,t);var i=n.prototype;return i.eK=function(){return this.S$.Bl[0].LZ.Ol},i.rK=function(){return this.S$.Bl[0].LZ.Pl||""},n}(SC),NC=function(){function t(t,n,i){var r=this;this.uK=function(){var t=r.sK;t.removeEventListener("oK",r.uK);var n=t.iK.m$.vZ,i=t.iK._J.vZ,e=n.map(function(t){return new pC(t)});if(e.length>0){var u=new EC(e,r.aK);r.cK._l(new RC(u));var s=Qe(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new IC(u);s&&(a.tu=s.tu),r.hK._l(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new AC(h),v=new TC([f],r.aK);r.hK._l(new IC(v))}}},this.sK=t,this.aK=i,this.hK=new gC(t,n,i),this.cK=new wC(t,n,i),t&&(t.oK?this.uK():t.addEventListener("oK",this.uK))}return L(t,[{key:"K_",get:function(){return this.hK}},{key:"tg",get:function(){return this.cK}}]),t}(),DC=["loadedmetadata","durationchange","Fo","Ov","Pg","fK"],CC=["vK","v$","dK","Fo"],OC=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).lK=null,a._K=[],a.gK=[],a.wK=function(t){return a.dispatchEvent(t)},a.yK=function(t){return a.mK(t)},a.kK=function(t){return a.pK(t)},a.JR=n.src,a.AK=n.type,a.bK=i,a.TK=r,a.EK=e,a.R$=u,a.I$=s,a.R$&&(a.R$.addEventListener("SK",a.wK),a.R$.addEventListener("RK",a.wK));var c=new NC(a.R$,a.I$,o);return a.tg=c.tg,a.K_=c.K_,a.$R=null,a.JR&&(a.I$&&a.I$.yl(),a.R$&&(a.R$.IK=a.JR)),a}M(n,t);var i=n.prototype;return i.NK=function(t){this.I$&&this.I$.ba(t),this.R$&&this.R$.DK(),this.$R&&this.CK()},i.xK=function(){this.I$&&this.I$.xK(),this.R$&&this.R$.PK()},i.BK=function(){if(this.R$)for(var t=0;t<DC.length;t++){var n=DC[t];this.R$.addEventListener(n,this.yK)}if(this.I$)for(var i=0;i<CC.length;i++){var r=CC[i];this.I$.addEventListener(r,this.kK)}},i.LK=function(){if(this.R$)for(var t=0;t<DC.length;t++){var n=DC[t];this.R$.removeEventListener(n,this.yK)}if(this.I$)for(var i=0;i<CC.length;i++){var r=CC[i];this.I$.removeEventListener(r,this.kK)}},i.CK=function(){if(this.R$&&this._K.length){var t=this._K.slice();tu(this._K);for(var n=0;n<t.length;n++){var i=t[n];this.R$.dispatchEvent(i)}}if(this.I$&&this.gK.length){var r=this.gK.slice();tu(this.gK);for(var e=0;e<r.length;e++){var u=r[e];this.I$.dispatchEvent(u)}}},i.mK=function(t){this._K.push(t)},i.pK=function(t){this.gK.push(t)},i.Sv=function(){this.dispatchEvent("Sv"),this.Io(),this.I$&&this.I$.Sv(),this.EK&&this.EK.Sv(),this.R$&&this.R$.Sv(),this.lK=null,tu(this._K),tu(this.gK)},L(n,[{key:"$R",get:function(){return this.lK},set:function(t){this.LK(),this.lK=t,this.$R?this.dispatchEvent("Pa"):this.BK()}}]),n}(xD),xC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sK=null,n.Ao=function(t){n.dispatchEvent(t,!0)},n}return M(n,t),L(n,[{key:"P$",get:function(){var t=this.sK&&this.sK.iK.o$;return t?t.Dl:null},set:function(t){var n;this.sK&&(n=null===t?sC(this.sK.iK._J.vZ):this.sK.iK._J.vZ.filter(function(n){return t===n.Dl}).shift(),this.sK.iK.o$=n||null)}},{key:"tK",get:function(){return this.sK&&this.sK.MK||null},set:function(t){this.sK&&(this.sK.UK(t),this.dispatchEvent("D$"))}},{key:"R$",get:function(){return this.sK},set:function(t){this.sK&&(this.sK.iK.removeEventListener("g$",this.Ao),this.sK.iK.removeEventListener("renditionUpdated",this.Ao),this.sK.iK.removeEventListener("a$",this.Ao)),this.sK=t,this.sK&&(this.sK.iK.addEventListener("g$",this.Ao),this.sK.iK.addEventListener("renditionUpdated",this.Ao),this.sK.iK.addEventListener("a$",this.Ao))}}]),n}(xD),PC=function(){function t(){}var n=t.prototype;return n.FK=function(t){return T.resolve(!1)},n.HK=function(t){return T.reject(BC)},n.VK=function(t){return T.reject(BC)},n.Go=function(t){return T.resolve(!1)},n.jo=function(t,n){return T.resolve(void 0)},n.XK=function(t){return T.resolve([])},n.WK=function(){return T.resolve([])},n.qK=function(t,n){return T.resolve([])},n.Ta=function(t){return T.reject(BC)},n.zK=function(t){return T.reject(BC)},n.GK=function(){return T.reject(BC)},t}(),BC="Storage disabled",LC=function(){function t(){this.jK=new PC,this.QK=new PC,this.YK=new PC,this.ZK=new PC,this.JK=new PC}return t.Sj=function(){return T.resolve(new t)},t.prototype.$K=function(t){return T.reject(MC)},t}(),MC="Storage disabled",UC=function(){function t(t){var n=this;this.lo=new Gs,this.KK=void 0,this.lo.oa(t),this.lo.sa.then(function(t){n.KK=t})}var n=t.prototype;return n.FK=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.FK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HK=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.HK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.VK=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.VK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Go=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Go(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jo=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.jo(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XK=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.XK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WK=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.WK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qK=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.qK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ta=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ta(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.zK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.KK,t.t0){t.next=5;break}return t.next=4,this.n0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.GK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"n0",get:function(){return this.lo.sa}}]),t}(),FC=function(){function t(t){var n=this;this.lo=new Gs,this.i0=void 0,this.lo.oa(t);var i=this.lo.sa;i.then(function(t){n.i0=t}),this.QK=new UC(i.then(function(t){return t.QK})),this.jK=new UC(i.then(function(t){return t.jK})),this.YK=new UC(i.then(function(t){return t.YK})),this.ZK=new UC(i.then(function(t){return t.ZK})),this.JK=new UC(i.then(function(t){return t.JK}))}return t.prototype.$K=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.i0,t.t0){t.next=5;break}return t.next=4,this.r0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.$K(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"r0",get:function(){return this.lo.sa}}]),t}();function HC(t){return void 0!==t}var VC=function(){function t(){this.e0=[]}var n=t.prototype;return n.FK=function(t){return T.resolve("temporary"===t)},n.HK=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ta(n.key);case 2:this.e0.push(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VK=function(){var t=T.coroutine(ve.mark(function t(n){var i,r=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map(function(t){return r.HK(t)}),t.next=3,T.all(i);case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.Go=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T.resolve(Boolean(this.u0(n))));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jo=function(t,n){return T.resolve(this.u0(t,n))},n.XK=function(t){var n=this,i=t?t.map(function(t){return n.u0(t)}):this.e0;return T.resolve(i.filter(HC))},n.WK=function(){return T.resolve([].concat(this.e0))},n.qK=function(t,n){var i=n||"key",r=this.e0.filter(function(n){return n[i]===t});return T.resolve(r)},n.Ta=function(t){var n=this.u0(t);return n&&Ze(this.e0,n),T.resolve()},n.zK=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}return r=n[i],t.next=5,this.Ta(r);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){return tu(this.e0),T.resolve()},n.u0=function(t,n){n=n||"key";for(var i=0,r=this.e0;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),XC=function(){function t(){this.jK=new VC,this.QK=new VC,this.YK=new VC,this.ZK=new VC,this.JK=new VC}return t.Sj=function(){return T.resolve(new t)},t.prototype.$K=function(t){return t(this)},t}(),WC=function(){function t(t){this.s0=t}var n=t.prototype;return n.FK=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.s0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.FK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HK=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.s0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.FK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.HK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.VK=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.s0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.FK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.VK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Go=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.s0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.Go(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jo=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.s0;case 1:if(!(r<e.length)){t.next=11;break}return u=e[r],t.next=5,u.jo(n,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XK=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.s0;case 2:if(!(r<e.length)){t.next=13;break}return u=e[r],t.t0=i.push,t.t1=i,t.next=8,u.XK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WK=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.s0;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.WK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qK=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,u=this.s0;case 2:if(!(e<u.length)){t.next=13;break}return s=u[e],t.t0=r.push,t.t1=r,t.next=8,s.qK(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ta=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.s0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Ta(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.s0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.zK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.s0;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.GK();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function qC(t){return T.coroutine(ve.mark(function n(){var i;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",zC.Sj(i));case 4:case"end":return n.stop()}},n)}))}var zC=function(){function t(t){this.o0=t,this.a0=new WC(t.map(function(t){return t.ZK})),this.c0=new WC(t.map(function(t){return t.JK})),this.h0=new WC(t.map(function(t){return t.YK})),this.f0=new WC(t.map(function(t){return t.jK})),this.v0=new WC(t.map(function(t){return t.QK}))}return t.Sj=function(n){return T.resolve(new t(n))},t.prototype.$K=function(n){var i=this;if(0===this.o0.length)return n(this);var r=[],e=0;return this.o0[e].$K(function u(s){return r.push(s),++e<i.o0.length?i.o0[e].$K(u):n(new t(r))})},L(t,[{key:"ZK",get:function(){return this.a0}},{key:"JK",get:function(){return this.c0}},{key:"YK",get:function(){return this.h0}},{key:"jK",get:function(){return this.f0}},{key:"QK",get:function(){return this.v0}}]),t}(),GC=function(){function t(t){this.d0=[],this.l0=!0,this._0=t}var n=t.prototype;return n.Sj=function(){return new FC(this.g0())},n.g0=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.l0){t.next=4;break}return t.next=3,T.resolve();case 3:this.l0=!1;case 4:n=0,i=this.d0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,qC([XC.Sj,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,qC([XC.Sj,this._0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.ML=function(t){if(!this.l0)throw new f("Registration overdue");this.d0.push(t)},t}(),jC=function(){function t(){}return t.ML=function(n){t.w0.ML(n)},L(t,null,[{key:"Ve",get:function(){return t.y0||(t.y0=t.w0.Sj()),t.y0}}]),t}();function QC(t){return Rr(t)}function YC(t,n){var i=Rr(t);return n?""+i+n:""+i}function ZC(t,n,i,r,e,u){var s=new zo;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new Sf({nv:t,Zf:i,Yf:s,bv:r,mv:pf.GET,Gs:Af.sv,mo:e,Tv:u})}jC.w0=new GC(LC.Sj),jC.y0=void 0;var JC=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Fv=null,o.Uf=new eu,o.m0=function(t,n){return o.Tv(t,n)},o.cp=n,o.UY=i,o.Zf=r,o.k0=e,o.hO=u,o.p0=new KC,o.pb=s,o.A0=jC.Ve.jK,o.b0=jC.Ve.QK,o}M(n,t);var i=n.prototype;return i._I=function(){return this.T0(this.Uf.mo)},i.T0=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return iC(i=this.UY)?(r=i.UY,e=[i.FY._I,i.FY.wI]):(r=i,e=void 0),this.p0.E0(),t.prev=3,t.next=6,this.S0(r,e);case 6:if(u=t.sent,ou(n),u){t.next=12;break}return t.next=11,this.R0(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.pu();case 14:s=t.sent,ou(n),this.I0(s,u.Qf),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!su(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof Of?t.t0.Fv.Qf:0,o=new f('Could not load fragment: "'+this.UY+'", HTTP status '+a);case 27:return t.abrupt("return",this.N0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.S0=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=YC(n,i),t.next=4,this.A0.Go(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.b0.jo(r);case 7:return e=t.sent,u=ZC(n,i,this.Zf,this.k0),s=e.data.buffer,t.abrupt("return",new Ef({pu:s,Yf:{},Kf:u,tv:n,Zf:this.Zf,Qf:200,Jf:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.R0=function(t,n,i){var r=ZC(t,n,this.Zf,this.k0,i,this.m0);return this.pb.Kf(r)},i.Tv=function(t,n){var i={type:"fK",Kf:this,D0:t,C0:n=void 0===n?NaN:n};this.p0.O0(t,n),this.dispatchEvent(i)},i.I0=function(t,n){var i=this.Zf===qo.gh?t.byteLength:0;this.p0.x0(i),this.Zf===qo.ze?this.Fv=t:this.Fv=new y(t),this.P0=n,t=null,this.N0(),this.Fv=null},i._o=function(t){return this.Uf._o(),t||((t=new f('Aborted fragment load: "'+this.UY+'"')).aborted=!0),this.N0(t)},i.N0=function(t){this.p0.B0();var n={type:"ug",Kf:this};return this.dispatchEvent(n),this.hO(t||null,this)},n}(xD);function $C(){return qb()/1e3}var KC=function(t){function n(){var n;return(n=t.call(this)||this).L0=NaN,n.M0=NaN,n.U0=NaN,n.F0=NaN,n.H0=0,n.V0=NaN,n.L0=$C(),n}M(n,t);var i=n.prototype;return i.E0=function(){this.L0=$C(),this.dispatchEvent("Ea")},i.O0=function(t,n){this.U0=$C(),this.SK||(this.M0=this.U0),this.H0=t,this.V0=n||this.V0||NaN,this.dispatchEvent("Ea")},i.x0=function(t){this.O0(t,t)},i.B0=function(){this.F0=$C(),this.dispatchEvent("Ea")},L(n,[{key:"SK",get:function(){return!w(this.M0)}},{key:"X0",get:function(){return!w(this.F0)}},{key:"U_",get:function(){return(this.M0||$C())-this.L0}},{key:"W0",get:function(){return(this.F0||this.U0)-this.M0}},{key:"q0",get:function(){return(this.F0||this.U0)-this.L0}}]),n}(xD),tO=function(t){function n(n,i){var r;return(r=t.call(this)||this).z0=[],r.G0=null,r.j0=function(t){return r.Q0(t)},r.k0=!(!i||i.crossOrigin!==rl.c_),r.pb=n,r}M(n,t);var i=n.prototype;return i.ba=function(t,n,i,r){var e=new JC(t,n,i,this.k0,r,this.pb);return e.addEventListener("ug",this.j0),this.z0.push(e),this.Y0(),e},i.Zo=function(t,n){var i=function(t){return!n||t.cp===n},r=this.z0.filter(i);!t&&this.G0&&i(this.G0)&&r.push(this.G0);for(var e=0;e<r.length;e++){r[e]._o()}return r},i.Y0=function(){if(!this.G0){var t=this.z0.shift();t&&(this.G0=t,t._I())}},i.Q0=function(t){var n=t.Kf,i=this.z0.indexOf(n);-1!==i&&Je(this.z0,i),this.G0===n&&(this.G0=null,this.Y0())},n}(xD);function nO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function iO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function rO(t,n){return Vo([t],{type:n})}var eO="iframe.html",uO=0,sO=m&&(m.bind&&m.bind(m)||m),oO=function(t){function n(n){var i;return(i=t.call(this)||this).Z0=void 0,i.J0=[],i.$0=!1,i.Ao=function(t){return i.dispatchEvent(t)},n&&i.Pa(n),i}M(n,t);var i=n.prototype;return i.postMessage=function(t){this.$0||(this.Z0?this.Z0.postMessage(t):this.J0.push(t))},i.Pa=function(t){if(this.$0)t.terminate();else{this.Z0=t,this.Z0.addEventListener("message",this.Ao,!1),this.Z0.addEventListener("error",this.Ao,!1);for(var n=0,i=this.J0;n<i.length;n++){var r=i[n];this.Z0.postMessage(r)}this.J0.length=0}},i.terminate=function(){this.Io(),this.$0=!0,this.J0.length=0,this.Z0&&(this.Z0.removeEventListener("message",this.Ao,!1),this.Z0.removeEventListener("error",this.Ao,!1),this.Z0.terminate(),this.Z0=void 0)},n}(xD);var aO=function(n){function i(i,r,u){var s,o,a;return(s=n.call(this)||this).K0=function(){return s.n1()},s.i1=function(t){return s.e1(t)},s.Dl=i,s.u1=r,s.s1=(o=u+eO,(a=e.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,e.body.appendChild(a),a),s.o1=s.s1.contentWindow,s.a1=Ur(u),s.s1.addEventListener("load",s.K0),t.addEventListener("message",s.i1),s}M(i,n);var r=i.prototype;return r.n1=function(){this.s1.removeEventListener("load",this.K0),this.o1.postMessage({type:"initialize",id:this.Dl,script:this.u1},"*")},r.e1=function(t){Ur(t.origin)===this.a1&&t.data.id===this.Dl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.o1.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.s1.removeEventListener("load",this.K0),t.removeEventListener("message",this.i1),this.o1.postMessage({type:"terminate"},"*"),this.s1.parentNode.removeChild(this.s1)},i}(xD);function cO(){return(cO=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.Bd,t.prev=1,e=new Sf({nv:n,mv:pf.GET,Zf:qo.ze}),t.next=5,r.Kf(e);case 5:return u=t.sent,t.next=8,u.pu();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),a=t.t0 instanceof Of?t.t0.Fv.Qf:-1,i({ca:a,Fo:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function hO(t,n){function i(i){return e(),tt(r=i.data)&&"2.86.0"===r.c1?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function fO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new sO(t)}catch(t){return n({message:t.message})}return hO(i,n)}var vO=!0;function dO(t,n){var i=uO++,r=t+n,u=new oO;function s(){!function(t,n,i,r){var u;function s(){a(),hO(u,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),u.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){u.removeEventListener("initialized",s),u.removeEventListener("error",o)}if(!e)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(u=new aO(t,n,i)).addEventListener("initialized",s),u.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?u.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(u.Pa(n),i&&u.dispatchEvent(i))}return fO(r,function(t,n,i){t?function(t,n){cO.apply(this,arguments)}(r,function(t,n){t?t.ca>=400?o(t.Fo):s():n&&function(t,n){if(!vO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});fO(nO(rO(t,"application/javascript")),function(t,i,r){return t&&(vO=!1),n(t,i,r)})}(n,function(t,n,i){t?s():o(t,n,i)})}):o(t,n,i)}),u}function lO(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function _O(t){return{get length(){return t.length},start:function(n){return lO(t,n|=0),t.start(n)},end:function(n){return lO(t,n|=0),t.end(n)}}}function gO(t,n){return t._I-n._I}var wO=function(){function t(t){this.h1=t}var n=t.prototype;return n.start=function(t){return this.h1[t]._I},n.end=function(t){return this.h1[t].wI},n.f1=function(){return this.h1},L(t,[{key:"length",get:function(){return this.h1.length}}]),t}(),yO=new wO([]),mO=new wO([{_I:-1/0,wI:1/0}]);function kO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({_I:e,wI:u}),e=o,u=a))}return r.push({_I:e,wI:u}),new wO(r)}(function(t){var n=EO(t);return n.sort(gO),new wO(n)}(t),n)}function pO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=l.max(t.start(r),n.start(e)),s=l.min(t.end(r),n.end(e));u<s&&i.push({_I:u,wI:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new wO(i)}function AO(t){var n=t.length;if(!n)return mO;var i=[],r=t.start(0);r!==-1/0&&i.push({_I:-1/0,wI:r});for(var e=0;e<n-1;e+=1)i.push({_I:t.end(e),wI:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({_I:u,wI:1/0}),new wO(i)}function bO(t,n){return-1!==TO(t,n)}function TO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function EO(t){if(t instanceof wO)return t.f1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({_I:t.start(i),wI:t.end(i)});return n}function SO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(EO)),kO(new wO(e));var i,r,e}var RO=.001;function IO(t,n,i){return i=+i||0,t._I-i<=n.wI&&n._I<=t.wI+i}function NO(t){var n={_I:NaN,wI:NaN,vY:t};return DO(n),n}function DO(t){var n=t.vY;n.length?(n.sort(gO),t._I=n[0]._I,t.wI=n[n.length-1].wI):(t._I=NaN,t.wI=NaN)}function CO(t){return void 0!==t.vY}function OO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=l.max(u._I,n),o=l.min(u.wI,i);if(s<o){var a=void 0;a=u._I===s&&u.wI===o?u:{_I:s,wI:o,wp:u.wp},r.push(a)}}return r}function xO(t,n){var i=l.min(t._I,n._I),r=l.max(t.wI,n.wI),e=t.vY,u=n.vY,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o.wp===a.wp&&IO(o,a,RO)&&s.splice(e.length-1,2,function(t,n){var i=t.wp||n.wp;return{_I:l.min(t._I,n._I),wI:l.max(t.wI,n.wI),wp:i}}(o,a)),NO(s=OO(s,i,r))}var PO,BO,LO=function(){function t(t,n){this.h1=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;CO(r)?DO(e=r):e=NO([r]),e.vY.length&&e._I<e.wI&&n.push(e)}return n}(t),n||this.v1()}var n=t.prototype;return n.start=function(t){return this.h1[t]&&this.h1[t]._I},n.end=function(t){return this.h1[t]&&this.h1[t].wI},n.vY=function(t){return this.h1[t]&&this.h1[t].vY},n.d1=function(t,n){return this.l1(t,t,n)},n.l1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n._1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.g1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.w1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Hg=function(t){return-1!==this.d1(t)},n.FI=function(t,n,i){return-1!==this.l1(t,n,i)},n.VI=function(t,n,i){return-1!==this._1(t,n,i)},n.II=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=l.max(this.start(i),t.start(r)),u=l.min(this.end(i),t.end(r));if(e<u){var s=OO(this.vY(i),e,u);n.push(NO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.Sj(n,!0)},n.Qw=function(t){return this.length&&t.length?this.II(AO(t)):this},n.BI=function(t){return this.length?t.length?this.Sj(this.h1.concat(t.h1)):this:t},n.m1=function(t){for(var n=[],i=0,r=this.h1;i<r.length;i++)for(var e=0,u=r[i].vY;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.Sj(n)},n.qI=function(t){return this.m1(function(n){return t(n)?n:null})},n.A1=function(){if(!this.length)return this;for(var t=this.h1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.b1(i,r)&&(t.splice(n,2,xO(i,r)),n-=1)}return this.Sj(t,!0)},n.b1=function(t,n){var i=t.vY,r=n.vY,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.T1(e,u)},n.v1=function(){var t=this.h1;t.sort(gO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&IO(i,r,RO)&&(t.splice(n,2,xO(i,r)),n-=1)}},L(t,[{key:"length",get:function(){return this.h1.length}}]),t}(),MO=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.Sj=function(t,i){return new n(t,i)},i.T1=function(t,n){return n.wp.LZ===t.wp.LZ&&n.wp.GQ===t.wp.GQ+1},n}(LO);function UO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.E1(e),s=t.S1(e,u);i.push({_I:u.Mw(),wI:s.Mw(),wp:e})}return new MO(i).A1()}function FO(t){return t.R1!==PO.I1}function HO(t){return 0===t.R1}function VO(t){return t.R1>=0}function XO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.vY(r);u<s.length;u++){var o=s[u];if(!e){var a=o.wp;if(rC(a)&&FO(a)){if((e=VO(a))&&!HO(a)){var c=t.N1(a,a.D1).Mw();o={_I:l.max(o._I,c),wI:o.wI,wp:a}}}else e=!0;0}e&&i.push(o)}return new MO(i)}!function(t){t.I1=-1,t.C1=-2}(PO||(PO={})),function(t){t.O1="h.264",t.P1="mp3",t.B1="aac-lc",t.L1="he-aac"}(BO||(BO={}));var WO,qO,zO,GO,jO=function(){function t(){this.M1=0,this.h1=[],this.rb={}}var n=t.prototype;return n.U1=function(t){this.h1=this.h1.concat(t.h1),this.M1+=t.kl},n.F1=function(t,n,i){var r=this.M1,e=i-n;e>0&&(this.h1.push({H1:n,V1:i,X1:e,W1:r,q1:t}),this.M1+=e)},n.jo=function(t){for(var n=0,i=this.h1;n<i.length;n++){var r=i[n];if(r.W1<=t&&t<r.W1+r.X1)return r.q1[t+r.H1-r.W1]}},n.z1=function(t,n){for(var i=n,r=0,e=this.h1;r<e.length;r++)for(var u=e[r],s=u.V1,o=u.H1;o<s;o+=1,i+=1)t[i]=u.q1[o];return i},n.G1=function(){for(var t=new y(this.M1),n=0,i=0,r=this.h1;i<r.length;i++)for(var e=r[i],u=e.V1,s=e.H1;s<u;s+=1,n+=1)t[n]=e.q1[s];return t},n.na=function(n){for(var i=new t,r=0,e=this.h1;r<e.length;r++){var u=e[r];i.F1(u.q1,u.H1,u.V1)}return i.rb=n||de({},this.rb),i},L(t,[{key:"kl",get:function(){return this.M1},set:function(t){var n=this.h1,i=this.M1-t;if(!(t>=this.M1))if(this.M1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.X1)return e.V1-=i,e.X1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.X1}else n.length=0}},{key:"pu",get:function(){for(var t=new Array(this.M1),n=0,i=0,r=this.h1;i<r.length;i++)for(var e=r[i],u=e.V1,s=e.H1;s<u;s+=1,n+=1)t[n]=e.q1[s];return t}}]),t}();function QO(t,n){return{audio:t.audio?nx(t.audio,n):void 0,video:t.video?ox(t.video,n):void 0,j1:t.j1?(i=t.j1,{Q1:i.Q1,YJ:i.YJ,Vl:i.Vl,Y1:i.Y1,Z1:i.Z1,J1:i.J1,K1:i.K1.map(YO),ql:[]}):void 0,n2:t.n2?t.n2.map(JO):t.n2,i2:t.i2.im()};var i}function YO(t){return{Nk:t.Nk,rb:{e2:t.rb.e2,u2:t.rb.s2.im()},AH:t.AH}}function ZO(t){return{Nk:t.Nk,rb:{e2:t.rb.e2,s2:dg(t.rb.u2)},AH:t.AH}}function JO(t){return{s2:t.s2.im(),mA:t.mA,Kz:t.Kz,$z:t.$z,Gs:t.Gs,o2:t.o2,tG:t.tG,nG:t.nG}}function $O(t){return{s2:dg(t.s2),mA:t.mA,Kz:t.Kz,$z:t.$z,Gs:t.Gs,o2:t.o2,tG:t.tG,nG:t.nG}}function KO(t){return{Q1:t.Q1,AH:[],a2:t.a2,c2:t.c2,duration:t.duration,h2:t.h2,f2:t.f2.im(),v2:t.v2,d2:t.d2.im(),l2:t.l2,_2:t._2.im(),g2:t.g2.im(),w2:t.w2.im(),m2:t.m2.im(),A2:t.A2.im(),b2:t.b2.im(),T2:t.T2.im()}}function tx(t){return{Q1:t.Q1,AH:[],a2:t.a2,c2:t.c2,duration:t.duration,h2:t.h2,f2:dg(t.f2),v2:t.v2,d2:dg(t.d2),l2:t.l2,_2:dg(t._2),g2:dg(t.g2),w2:dg(t.w2),m2:dg(t.m2),A2:dg(t.A2),b2:dg(t.b2),T2:dg(t.T2)}}function nx(t,n){switch(t.a2){case BO.B1:case BO.L1:return function(t,n){return de(de({},rx(t)),{a2:t.a2,AH:t.AH.map(function(t){return function(t,n){var i=(r=t.rb,de(de({},hx(r)),{E2:r.E2,S2:r.S2,R2:r.R2}));var r;return ux(t.na(i),n)}(t,n)}),oJ:t.oJ,I2:t.I2})}(t,n);case BO.P1:return function(t,n){return de(de({},rx(t)),{a2:t.a2,AH:t.AH.map(function(t){return function(t,n){var i=(r=t.rb,de(de({},hx(r)),{Pk:r.Pk,hp:r.hp,N2:r.N2,D2:r.D2,C2:r.C2}));var r;return ux(t.na(i),n)}(t,n)})})}(t,n)}}function ix(t){switch(t.a2){case BO.B1:case BO.L1:return function(t){return de(de({},ex(t)),{a2:t.a2,AH:t.AH.map(function(t){return function(t){var n=sx(t),i=(r=n.rb,de(de({},fx(r)),{E2:r.E2,S2:r.S2,R2:r.R2}));var r;return n.na(i)}(t)}),oJ:t.oJ,I2:t.I2})}(t);case BO.P1:return function(t){return de(de({},ex(t)),{a2:t.a2,AH:t.AH.map(function(t){return function(t){var n=sx(t),i=(r=n.rb,de(de({},fx(r)),{Pk:r.Pk,hp:r.hp,N2:r.N2,D2:r.D2,C2:r.C2}));var r;return n.na(i)}(t)})})}(t)}}function rx(t){return de(de({},KO(t)),{AH:[],a2:t.a2,O2:t.O2,P2:t.P2,B2:t.B2,L2:t.L2})}function ex(t){return de(de({},tx(t)),{AH:[],a2:t.a2,O2:t.O2,P2:t.P2,B2:t.B2,L2:t.L2})}function ux(t,n){var i=t.G1();return n.push(i.buffer),{M2:i,U2:t.kl,F2:t.rb}}function sx(t){var n=new jO;return n.F1(t.M2,0,t.U2),n.rb=t.F2,n}function ox(t,n){return de(de({},KO(t)),{a2:t.a2,AH:t.AH.map(function(t){return function(t,n){var i=(r=t.rb,de(de({},ax(r)),{S_:r.S_,H2:r.H2.im(),V2:r.V2,X2:r.X2,W2:r.W2&&r.W2.im(),q2:r.q2&&r.q2.im(),z2:r.z2,G2:r.G2,n2:r.n2,j2:r.j2}));var r;return ux(t.na(i),n)}(t,n)}),Q2:t.Q2,Y2:t.Y2,Kp:t.Kp,width:t.width,height:t.height,Z2:t.Z2,J2:t.J2,K2:t.K2,nJ:t.nJ,iJ:t.iJ,cA:t.cA,hA:t.hA})}function ax(t){var n;return de(de({},{e2:(n=t).e2,u2:n.u2.im()}),{t3:t.t3.im(),n3:t.n3.im()})}function cx(t){var n;return de(de({},{e2:(n=t).e2,u2:dg(n.u2)}),{t3:dg(t.t3),n3:dg(t.n3)})}function hx(t){return de({},ax(t))}function fx(t){return de({},cx(t))}function vx(t){var n=t.video,i=n&&n.AH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].rb.z2)return r}return NaN}function dx(t){var n=t.i3.video,i=n&&n.AH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].rb.z2)return r}return NaN}function lx(t){if(!t)return null;switch(t.a2){case BO.O1:return function(t){return t.Kp?"avc1."+(t.Z2<16?"0":"")+((t.Z2<<16)+(t.J2<<8)+t.K2).toString(16):null}(t);case BO.P1:return"mp4a.40.34";case BO.B1:return t.I2?"mp4a.40.5":"mp4a.40.2";case BO.L1:return"mp4a.40.5";default:return null}}function _x(t,n){var i=t.info,r=i.LZ,e=t.i3,u=r._Y(t.info.GQ-1),s=e.audio||void 0,o=e.video||void 0,a=s&&lx(s),c=o&&lx(o),h=(!s||a)&&(!o||c)?{lZ:a,_Z:c}:null,f=s&&!w(s.l2)?s.l2:null,v=o&&!w(o.l2)?o.l2:null,d=bg(s&&s.g2,o&&o.g2),_=bg(s&&s.w2,o&&o.w2),g=Tg(s&&s.b2,o&&o.b2),y=Tg(s&&s.T2,o&&o.T2),m=o&&o.f2.Fg(fg.qy(o.duration)),k=s&&s.f2.Fg(fg.qy(s.duration)),p=rC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),r3:i,duration:m&&k?fg.My(m,k).Mw():(m||k||fg.ey).Mw(),e3:d,u3:_,s3:g,o3:y,audio:{start:l.max(0,f||0),duration:s&&s.h2||0,a2:a,z$:s&&s.v2,e3:s&&s.g2,u3:s&&s.w2,s3:s&&s.b2,o3:s&&s.T2},video:{start:l.max(0,v||0),duration:o&&o.h2||0,a2:c,z$:o&&o.v2,e3:o&&o.g2,u3:o&&o.w2,s3:o&&o.b2,o3:o&&o.T2},uL:o?{width:o.width||A,height:o.height||b}:null,GQ:i.GQ,size:n,quality:r,mJ:h,a3:i.a3,c3:i.c3}}function gx(t,n){var i,r,e,u,s={start:0,duration:0,a2:null,z$:null,e3:null,u3:null,s3:null,o3:null};return"lZ"===n?(r=s,e=i=de(de({},s),t.video),u=t.uL):(r=i=de(de({},s),t.audio),e=s,u=null),{start:i.start,r3:t.r3,duration:i.duration,e3:i.e3,u3:i.u3,s3:i.s3,o3:i.o3,audio:r,video:e,uL:u,GQ:t.GQ,size:t.size,quality:t.quality,mJ:t.mJ,a3:t.a3,c3:t.c3}}function wx(t,n){return t+"h3"+n.GQ+"f3"+n.uri}!function(t){t.v3="d3",t.l3="_3"}(WO||(WO={})),function(t){t.g3="w3",t.FQ="y3"}(qO||(qO={})),function(t){t.m3="A3",t.l3="_3"}(zO||(zO={})),function(t){t.b3="T3",t.E3="S3"}(GO||(GO={}));var yx=function(t){function n(n){var i;return(i=t.call(this)||this).R3=_e(),i.I3=void 0,i.N3=void 0,i.D3=function(t){var n=t.data,r=n.C3;if(i.R3.get(r))switch(n.O3){case qO.g3:0;var e=n.x3;i.P3(r,e);break;case qO.FQ:var u=n.B3;i.L3(r,new LD(BD.BQ,{code:u}));default:0}},i.M3=function(t){var n,r,e,u,s=t.data,o=s.U3;if(i.R3.get(o))switch(s.F3){case GO.b3:0;var a=s.H3;i.V3(o,{audio:(n=a).audio?ix(n.audio):void 0,video:n.video?(e=n.video,u=tx(e),de(de({},u),{a2:e.a2,AH:e.AH.map(function(t){return function(t){var n,i=sx(t),r=de(de({},cx(n=i.rb)),{S_:n.S_,H2:dg(n.H2),V2:n.V2,X2:n.X2,W2:n.W2&&dg(n.W2),q2:n.q2&&dg(n.q2),z2:n.z2,G2:n.G2,n2:n.n2,j2:n.j2});return i.na(r)}(t)}),Q2:e.Q2,Y2:e.Y2,Kp:e.Kp,width:e.width,height:e.height,Z2:e.Z2,J2:e.J2,K2:e.K2,nJ:e.nJ,iJ:e.iJ,cA:e.cA,hA:e.hA})):void 0,j1:n.j1?(r=n.j1,{Q1:r.Q1,YJ:r.YJ,Vl:r.Vl,Y1:r.Y1,Z1:r.Z1,J1:r.J1,K1:r.K1.map(ZO),ql:[]}):void 0,n2:n.n2?n.n2.map($O):n.n2,i2:dg(n.i2)});break;case GO.E3:var c=s.X3;i.L3(o,new LD(BD.BQ,{code:c}));default:0}},i.W3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Fo",Fo:new LD(BD.WQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};lt(n.Fo.info.code),i.dispatchEvent(n)}else 0},i.ec=n,i.N3=i.q3(),i}M(n,t);var i=n.prototype;return i._o=function(t){var n=[];this.R3.forEach(function(i,r){t&&i.cp!==t||n.push(r)}),this.z3(n)},i.z3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.R3.delete(i)}if(t.length){if(this.I3){var r={G3:WO.l3,j3:t};this.I3.postMessage(r)}if(this.N3){var e={Q3:zO.l3,Y3:t};this.N3.postMessage(e)}}},i.L3=function(t,n){var i=this.R3.get(t);if(i){var r=i.hO;this.R3.delete(t),r(n)}},i.Z3=function(t,n,i,r){this.I3||(this.I3=this.J3());var e={G3:WO.v3,K3:t,t4:n,n4:i,i4:r};this.I3.postMessage(e)},i.r4=function(t,n){this.N3||(this.N3=this.q3());var i={Q3:zO.m3,e4:t,u4:n,s4:this.R3.get(t).o4};this.N3.postMessage(i)},i.P3=function(t,n){this.r4(t,n)},i.J3=function(){var t=dO(this.ec.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.D3),t.addEventListener("error",this.W3),t},i.a4=function(t){var n=t.i3.video,i=n&&n.AH&&n.AH[0];i&&i.rb.z2},i.V3=function(t,n){var i=this.R3.get(t),r=i.hO,e=i.c4,u={i3:n,info:i.h4,metadata:null};this.a4(u),function(t){var n=t.info.LZ._Y(t.info.GQ-1),i=t.i3;t.info.c3=t.info.gY,n&&(i.audio||i.video?i.video&&!i.video.Y2&&!i.video.Q2&&i.video.v2&&n.AJ&&i.video.v2!==n.AJ?t.info.c3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.c3=!0):t.info.c3=!0)}(u),_x(u,e),function(t){var n=t.info,i=n.LZ,r=t.metadata,e=t.i3;if(n.f4=fg.qy(r.duration),n.VY=e.audio&&e.audio.f2.Fg(fg.qy(e.audio.duration))||fg.ey,n.XY=e.video&&e.video.f2.Fg(fg.qy(e.video.duration))||fg.ey,n.v4=e.audio&&e.audio.f2||fg.ey,n.d4=e.video&&e.video.f2||fg.ey,n.l4=r.audio.e3,n._4=r.audio.u3,n.g4=r.video.e3,n.w4=r.video.u3,n.HY=r.e3,n.y4=r.u3,n.m4=r.audio.s3,n.A4=r.audio.o3,n.b4=r.video.s3,n.T4=r.video.o3,n.s3=r.s3,n.o3=r.o3,e.video){var u=vx(t.i3),s=e.video.AH&&e.video.AH[u];s?(n.R1=u,n.D1=s.rb.t3,n.E4=s.rb.n3):n.R1=PO.C1}else n.R1=PO.I1;n.AJ=e.video&&e.video.v2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"CJ",h4:t.info}),!i.resolution&&r.uL&&(i.resolution=r.uL),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.mJ||i.mJ&&!i.mJ.lZ==!r.mJ.lZ&&!i.mJ._Z==!r.mJ._Z||i.gJ(r.mJ),e.audio&&void 0!==e.audio.oJ&&(i.oJ=e.audio.oJ),i.nJ=e.video&&e.video.nJ||i.nJ,i.iJ=e.video&&e.video.iJ||i.iJ,i.rJ=e.audio&&e.audio.Q1||void 0,i.eJ=e.video&&e.video.Q1||void 0,i.uJ=e.audio&&e.audio.a2||void 0,i.sJ=e.video&&e.video.a2||void 0,i.aJ=e.audio&&e.audio.v2||void 0,i.AJ=e.video&&e.video.v2||void 0}(u),this.R3.delete(t),r(null,u)},i.q3=function(){var t=dO(this.ec.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.M3),t.addEventListener("error",this.W3),t},i.S4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.R3.has(n)&&e.Z3(n,u,t,r.iv)}).catch(function(t){i=void 0,e.R3.has(n)&&e.L3(n,t)})},i.R4=function(t,n,i,r,e,u){var s=wx(t,r),o=r.LZ;this.R3.set(s,{cp:t,h4:r,o4:{I4:r.duration,mJ:o.mJ,nJ:o.nJ,iJ:o.iJ,rJ:o.rJ,eJ:o.eJ,uJ:o.uJ,sJ:o.sJ,oJ:!this.ec.skipImplicitHEAACDetection&&o.oJ,N4:e},c4:i.length,hO:u}),r.key?this.S4(n,s,i,r.key):this.r4(s,i)},i.D4=function(t){var n=[];return this.R3.forEach(function(i){i.cp===t&&n.push(i.h4)}),n},i.C4=function(t,n){var i=wx(t,n);return this.R3.has(i)},i.Sv=function(){this._o(),this.I3&&(this.I3.terminate(),this.I3=void 0),this.N3&&(this.N3.terminate(),this.N3=void 0)},n}(xD);function mx(t,n){return t+"O4"+n}function kx(t){return mx(t.LZ.Dl,t.GQ)}function px(t){return!(!t||!t.i3)}var Ax=function(){function t(t,n,i){this.x4=[],this.P4=_e(),this.B4=1,this.JA=t,this.L4=n,this.M4=i}var n=t.prototype;return n.U4=function(t){var n=kx(t.info);if(this.P4.has(n))this.F4(t.info,t);else{this.x4.push(n),this.P4.set(n,t);for(var i=this.L4.H4+10;this.x4.length>8*this.V4&&this.X4>i*this.V4;){var r=this.P4.get(this.x4[0]),e=this.M4.W4,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new nA([s,o]),c=e,h=c+this.L4.H4;if(new nA([c,h]).II(a).kl>0)break}this.P4.delete(this.x4.shift())}}},n.q4=function(t,n){var i=mx(t,n),r=this.P4.get(i),e=this.x4.indexOf(i);return!(!r||-1===e)&&(Je(this.x4,e),this.P4.delete(i),!0)},n.Zo=function(){this.x4.length=0,this.P4.clear()},n.z4=function(){for(var t={},n=0,i=this.x4;n<i.length;n++){var r=i[n],e=this.P4.get(r);px(e)&&(t[e.info.LZ.Dl]=(t[e.info.LZ.Dl]||0)+1)}return t},n.G4=function(t,n){var i=[],r=this.j4(t,n);if(!px(r))return i;do{i.push(r),n+=1,r=this.j4(t,n)}while(px(r));return i},n.Q4=function(t,n){return!!this.j4(t,n)},n.Y4=function(t,n){return px(this.j4(t,n))},n.j4=function(t,n){return this.P4.get(mx(t,n))},n.F4=function(t,n){var i=kx(t),r=this.x4.indexOf(i);return-1!==r&&(Je(this.x4,r),this.x4.push(i),n&&this.P4.set(i,n),!0)},n.Z4=function(){for(var t=[],n=0,i=this.x4;n<i.length;n++){var r=i[n],e=this.P4.get(r);t.push(e.info)}return t},n.J4=function(){for(var t=[],n=0,i=this.x4;n<i.length;n++){var r=i[n],e=this.P4.get(r);e&&px(e)&&t.push(e.info)}return t},L(t,[{key:"X4",get:function(){for(var t=UO(this.JA,this.Z4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"V4",get:function(){return this.B4},set:function(t){t>0&&(this.B4=l.max(t,1))}}]),t}();var bx=j.Ce?function(t,n){return Ag(t.t3,n.t3)}:function(t,n){return Ag(t.n3,n.n3)};function Tx(t,n,i){var r,e=t.length,u=fg.ey;r=function(t,n){return bx(t.rb,n.rb).Fw(fg.ey)},t=Ge(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].rb,a=t[s].rb,c=bx(a,o);c.Xw(fg.ey)&&(c=n),u=u.Fg(c),o.H2=c,o.S_=c.Mw()}if(e>0){var h=t[e-1].rb,f=fg.Ly(fg.qy(l.round(i-u.Mw())),n);h.H2=f,h.S_=f.Mw()}}function Ex(t,n,i){var r=n[0].rb.u2,e=t[t.length-1].rb.u2,u=r.Qw(e),s=Ag(r,e).Qw(u);if(!s.hy())for(var o=0;o<n.length;o++){i(n[o].rb,s)}}function Sx(t,n){t.n3=t.n3.Fg(n),t.t3=t.t3.Fg(n),t.u2=t.u2.Fg(n)}function Rx(t,n){Sx(t,n),t.H2=t.H2.Fg(n),t.q2=Ix(t.q2,n),t.W2=Ix(t.W2,n)}function Ix(t,n){if(t)return t.Fg(n)}function Nx(t,n){return n.Fg(Ag(t,n))}function Dx(t,n){var i={audio:void 0,video:void 0,i2:t.i2};if("video"===n){if(!t.audio)return i;i.audio={a2:t.audio.a2,v2:t.audio.v2,d2:t.audio.d2,duration:t.audio.duration,h2:t.audio.h2,f2:fg.ey,l2:t.audio.l2,_2:t.audio._2,g2:t.audio.g2,w2:t.audio.w2,m2:t.audio.m2,A2:t.audio.A2,b2:t.audio.b2,T2:t.audio.T2,AH:t.audio.AH,L2:t.audio.L2,B2:t.audio.B2,c2:t.audio.c2,O2:t.audio.O2,P2:t.audio.P2}}if("audio"===n){if(!t.video)return i;i.video={a2:t.video.a2,Z2:t.video.Z2,K2:t.video.K2,J2:t.video.J2,v2:t.video.v2,d2:t.video.d2,Q2:t.video.Q2,Y2:t.video.Y2,width:t.video.width,height:t.video.height,nJ:t.video.nJ,iJ:t.video.iJ,cA:t.video.cA,hA:t.video.hA,Kp:t.video.Kp,duration:t.video.duration,h2:t.video.h2,f2:fg.ey,l2:t.video.l2,_2:t.video._2,g2:t.video.g2,w2:t.video.w2,m2:t.video.m2,A2:t.video.A2,b2:t.video.b2,T2:t.video.T2,AH:t.video.AH,c2:t.video.c2}}return i}function Cx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.a2===n.a2||!t.a2||!n.a2)&&t.v2===n.v2&&t.d2.bw(n.d2)&&t.B2===n.B2)return t.AH?n.AH?(i=t.AH.concat(n.AH),Ex(t.AH,n.AH,Sx)):i=t.AH:i=n.AH,{a2:t.a2,v2:t.v2,d2:t.d2,duration:t.duration+n.duration,h2:t.h2+n.h2,f2:t.f2,l2:t.l2,_2:t._2,g2:t.g2,w2:t.w2,m2:Nx(n.m2,t.m2),A2:Nx(n.A2,t.A2),b2:Nx(n.b2,t.b2),T2:Nx(n.T2,t.T2),AH:i,B2:t.B2,L2:t.L2,c2:t.c2||n.c2,O2:t.O2,P2:t.P2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.a2===i.a2){var e,u,s=t.Q2||i.Q2;if(s)u=1/(e=t.d2.Fg(i.d2).Dy(2)).Mw();else{if(t.v2!==i.v2)return;if(!t.d2.bw(i.d2))return;e=t.d2,u=t.v2}if(t.width===i.width&&t.height===i.height){var o,a=t.Y2||i.Y2||!t.d2.bw(i.d2);return t.AH?i.AH?r?(o=t.AH.concat(i.AH),Ex(t.AH,i.AH,Rx)):(Tx(n.AH.concat(i.AH),e,n.duration+i.duration),o=t.AH.concat(i.AH),Ex(t.AH,i.AH,Rx)):o=t.AH:o=i.AH,{a2:t.a2,Z2:t.Z2,K2:t.K2,J2:t.J2,v2:u,d2:e,Q2:s,Y2:a,width:t.width,height:t.height,nJ:t.nJ,iJ:t.iJ,Kp:t.Kp,duration:t.duration+i.duration,h2:t.h2+i.h2,f2:t.f2,l2:t.l2,_2:t._2,g2:t.g2,w2:t.w2,m2:Nx(i.m2,t.m2),A2:Nx(i.A2,t.A2),b2:Nx(i.b2,t.b2),T2:Nx(i.T2,t.T2),AH:o,c2:t.c2||i.c2,cA:t.cA,hA:t.hA}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,i2:t.i2}}}function Ox(t){return Dx(t,"audio")}function xx(t){return Dx(t,"video")}var Px,Bx,Lx,Mx=function(){function t(t){this.cj=0,this.K4=0,this.t5=l.exp(l.log(.5)/t)}var n=t.prototype;return n.n5=function(t,n){var i=l.pow(this.t5,t),r=n*(1-i)+i*this.cj;w(r)||(this.cj=r,this.K4+=t)},n.i5=function(){var t=1-l.pow(this.t5,this.K4);return this.cj/t},t}(),Ux=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.r5=0,this.e5=5e5,this.u5=new Mx(t),this.s5=new Mx(n),this.o5=i}var n=t.prototype;return n.n5=function(t,n){var i=8e3*n/t,r=t/1e3;this.r5+=n,this.u5.n5(r,i),this.s5.n5(r,i)},n.i5=function(){return this.a5()?l.min(this.u5.i5(),this.s5.i5()):this.e5},n.a5=function(){return this.r5>=this.o5},t}(),Fx=function(){function t(){this.u5=new Mx(2),this.s5=new Mx(5),this.c5=0,this.h5=1,this.e5=100}var n=t.prototype;return n.n5=function(t){this.c5+=1,this.u5.n5(1,t),this.s5.n5(1,t)},n.i5=function(){return this.a5()?l.min(this.u5.i5(),this.s5.i5()):this.e5},n.a5=function(){return this.c5>=this.h5},t}(),Hx=function(){function t(t,n){var i=this;this.f5=!1,this.v5=0,this.d5=0,this.l5=function(){return i._5()},this.g5=t,this.Kf=n,this.p0=n.p0,this.p0.addEventListener("Ea",this.l5)}return t.prototype._5=function(){var t=this.p0.H0,n=1e3*this.p0.W0,i=1e3*this.p0.U_;this.p0.SK&&(this.f5||(this.g5.w5(i),this.f5=!0),n>this.d5&&(this.g5.y5(n-this.d5,t-this.v5),this.v5=t,this.d5=n))},t}(),Vx=function(){function t(){this.m5=new Ux,this.k5=new Fx}var n=t.prototype;return n.p5=function(t){new Hx(this,t)},n.y5=function(t,n){this.m5.n5(t,n)},n.w5=function(t){this.k5.n5(t)},n.Sv=function(){},L(t,[{key:"A5",get:function(){return this.k5.i5()/1e3}},{key:"b5",get:function(){return this.m5.i5()}}]),t}(),Xx=function(){function t(){this.T5=_e()}var n=t.prototype;return n.E5=function(t,n){var i,r,e=this.T5.get(t);return Boolean(e&&(i=e.UY,r=n,nt(i)?i===r:function(t,n){return t.UY===n.UY&&t.FY._I===n.FY._I&&t.FY.wI===n.FY.wI}(i,r)))},n.S5=function(t,n){if(this.E5(t,n))return this.T5.get(t).pu},n.R5=function(t,n,i){this.T5.set(t,{UY:n,pu:i})},n.Zo=function(){this.T5.clear()},t}();!function(t){t[t.I5=0]="I5",t[t.N5=5]="N5",t[t.D5=13]="D5",t[t.C5=14]="C5",t[t.O5=15]="O5"}(Px||(Px={})),function(t){t[t.x5=0]="x5",t[t.P5=1]="P5",t[t.B5=2]="B5",t[t.L5=11]="L5",t[t.M5=13]="M5",t[t.U5=14]="U5"}(Bx||(Bx={})),function(t){t[t.F5=0]="F5",t[t.H5=1]="H5",t[t.V5=2]="V5",t[t.X5=3]="X5",t[t.W5=4]="W5",t[t.q5=5]="q5",t[t.z5=6]="z5",t[t.G5=7]="G5"}(Lx||(Lx={}));var Wx=5,qx=5,zx=.5;function Gx(t){if(!t.i3.video)return[];for(var n=[],i=0;i<t.i3.video.AH.length;i++){var r=t.i3.video.AH[i].rb;r.z2&&n.push({j5:i,Q5:r.t3})}return n}var jx=fg.qy(.04),Qx=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Y5=_e(),u.Z5=_e(),u.J5=1,u.ec=n,u.K5=i,u.pb=r,u.t6=new Xx,u.L4=e,u.n6=new tO(r,n),u.i6=new Vx,u.r6=new yx(n),u.r6.addEventListener("Fo",function(t){u.dispatchEvent(t)}),u}M(n,t);var i=n.prototype;return i.e6=function(t){this.r6._o(t),this.n6.Zo(!1,t)},i.Zo=function(t){this.e6(t),t?this.Y5.get(t).Zo():this.Y5.forEach(function(t){return t.Zo()})},i.Sv=function(){this.Io(),this.n6.Zo(),this.Y5.forEach(function(t){return t.Zo()}),this.Y5.clear(),this.r6.Sv()},i._l=function(t,n,i){if(!this.Y5.has(t)){var r=new Ax(n,this.L4,i);r.V4=this.V4,this.Y5.set(t,r)}},i.u6=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.t6.E5(i,r)){t.next=2;break}return t.abrupt("return",this.t6.S5(i,r));case 2:return t.next=4,this.s6(n,r);case 4:return e=t.sent,this.t6.R5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.s6=function(t,n){var i=this;return new T(function(r,e){i.n6.ba(t,n,qo.gh,function(t,n){t&&e(t),r(new y(n.Fv))})})},i.o6=function(t,n,i,r){var e=this.Y5.get(t),u=e.j4(n.LZ.Dl,n.GQ);if(e.Y4(n.LZ.Dl,n.GQ))e.F4(n),this.dispatchEvent({type:"a6",cp:t,c6:u});else{if(!u)return this.h6(t,n,i,r);e.F4(n),this.f6(t,n,i,u.v6)}return r&&r(),null},i.h6=function(t,n,i,r){var e=this,u=this.Y5.get(t),s=function(t,n){return t+"d6"+n.GQ+"f3"+n.uri}(t,n);if(this.Z5.has(s))return null;this.Z5.set(s,!0);var o=this.n6.ba(t,n.uri,qo.gh,function(a,c){return e.Z5.delete(s),a?r&&r(a):(e.dispatchEvent({type:"l6",cp:t}),u.Y4(n.LZ.Dl,n.GQ)||u.U4({info:n,v6:o.Fv}),e.o6(t,n,i),r&&r(a,c))});return this.i6.p5(o),o},i.f6=function(t,n,i,r){var e=this,u=this.Y5.get(t);this.r6.C4(t,n)||(n&&n.key&&this.K5.getKey(n.key).catch(S),this.r6.R4(t,this.K5,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Fo",Fo:n});u.U4(i),e.dispatchEvent({type:"a6",cp:t,c6:i})}))},i._6=function(t,n,i){var r=i.length,e="lZ"===t?Zx:Jx;if(!Yx(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.c3){if("g6"===this.ec.w6||e(s,o)){var a=i.splice(0,u);return Yx(n,a)?a:this._6(t,n,i)}0}}return i},i.y6=function(t,n,i,r){for(var e=this.Y5.get(t).J4(),u=r.m6,s=function(t){var r=i[t],s=e.filter(function(t){return t.LZ===r}),o=UO(n,s),a=o.d1(u.Mw(),jx.Mw());if(a>=0&&fg.qy(o.end(a)).Qw(u).Hw(jx))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.k6=function(t,n,i,r,e){if(!j.Re)return!0;if(e.p6||this.y6(t,n,i,e))return!0;var u=fg.Ly(r,e.A6);return e.m6.Qw(u).Hw(fg.qy(2))},i.b6=function(t,n,i,r,e,u,s,o){var a=n.G4(e.Dl,u),c=this._6(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.E1(f.info),d=hP(t,r,f);if("_Z"!==t||function(t,n,i){return!!t&&t.wp.LZ===n&&i.Hw(fg.qy(t.wI))&&i.Xw(fg.qy(t.wI).Fg(jx))}(i,e,d))return{vY:c,T6:fg.My(v,d)};f.i3.video&&(f=(c=rP(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=Gx(o),c=0;c<a.length;c++){var h=a[c];if(n.N1(o.info,h.Q5).Uw(i.Qw(r)))return{E6:e,S6:u};e=s,u=h.j5}return{E6:e,S6:u}}(c,r,s,o)))[0]);if(d=hP(t,r,f),function(t){var n=t.i3.video,i=n&&n.AH,r=i&&i[0],e=r&&r.rb.z2;if(!n)return!0;return!!e}(f))return{vY:c,T6:fg.My(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=vx(t[n].i3);if(!w(i))return{E6:n,S6:i}}return null}(c),_=fg.Ly(s,oP(t,r,e._Y(u)));if(f.info.GQ===u){if(l&&(d=hP(t,r,(h=rP(c,l))[0]),_.Qw(d).Hw(o)))return{vY:h,T6:fg.My(v,d)};for(var g=u-1;n.Y4(e.Dl,g);){var y=n.G4(e.Dl,g);if((f=(h=this._6(t,u,y))&&h[0]&&iP(h[0],dx(h[0])))&&(d=hP(t,r,f),_.Qw(d).Hw(o)))return h[0]=f,{vY:h,T6:fg.My(v,d)};g-=1}}return function(t){if(t.gY)return!1;var n=t.LZ;if(n.lY&&n.lY.live)return!1;if(!n._Y(t.GQ-1))return!1;return!0}(c[0].info)?null:l?{vY:c=rP(c,l),T6:v}:null},i.R6=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.I6(o,a,n),v=f&&f.wp;if(!v)return null;var d=v.GQ;do{var l=d,_=o._Y(l),g=oP(n,u,_);if(!aP(n,u,_).qw(a)||_.a3){if(g.Fg(jx).Uw(c))break;if(fg.Ly(fg.ey,a.Qw(g)).qw(h)&&i.Y4(o.Dl,l-1)&&i.Y4(o.Dl,l))i.j4(o.Dl,l).metadata.c3||(l-=1);var w=this.N6(t,n,i,r,e,u,s,o,l,a,h);if(w&&(nP(w,a,c)||w.p6))return w}}while(i.Y4(o.Dl,++d));return null},i.N6=function(t,n,i,r,e,u,s,o,a,c,h){var f=o._Y(a),v=this.b6(n,i,r,u,o,a,c,h),d=v&&v.vY,_=v&&v.T6,g=d&&d[d.length-1],w=g&&g.metadata.a3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="lZ"===t?$x:Kx;return n.map(i).filter(tP)}(n,d))||!d.length){if(w){var y=[],m=u.E1(g.info);return y.tU=m,y.D6=m,y.A6=m,y.C6=m,y.m6=m,y.p6=w,y}return null}var k=d="_Z"===n?function(t,n,i){var r=i[0].i3.video;return i[0].info.gY?function(t,n,i,r){var e=Ye(r.AH,function(t){return t.rb.z2});if(e<0)return i;var u=r.AH[e].rb,s=n.N1(i[0].info,u.t3),o=fP(t,s);if(o.Yw())return i;var a=s.Qw(o).Uy(lg,og.nm);if(a.Xw(fg.ey))return i;var c=lP(r.AH.slice(e),a);return i[0]=uP(i[0],c),i}(t,n,i,r):function(t,n,i,r){var e=r.d2.Sy(Wx),u=r.AH[0].rb,s=n.N1(i[0].info,u.n3),o=vP(t,s,e);if(o.Yw())return i;var a=s.Qw(o).Uy(lg,og.nm);if(a.Xw(fg.ey)||a.Uw(e))return i;var c=lP(r.AH,a);return i[0]=uP(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null===(r=i[0].i3.audio)||void 0===r?void 0:r.a2)===BO.P1)return i;var e=i[0].i3.audio,u=e.AH[0].rb;return i[0].info.gY?function(t,n,i,r,e){var u=n.N1(i[0].info,e.t3),s=fP(t,u);if(s.Yw())return i;var o=u.Qw(s).Mw(),a=l.floor(o/r.d2.Mw());if(a<=0)return i;var c=dP(r,a);return i[0]=eP(i[0],c),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.N1(i[0].info,e.n3),s=vP(t,u,r.d2.Sy(qx));if(s.Yw())return i;var o=u.Qw(s).Mw(),a=l.round(o/r.d2.Mw());if(0===a||l.abs(a)>qx)return i;var c=dP(r,a);return i[0]=eP(i[0],c),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.GQ<p.info.GQ&&(_=u.E1(f)),k.tU=_,k.D6=function(t,n,i){return n.N1(i.info,cP(t,i).u3)}(n,u,p),k.A6=hP(n,u,p),k.C6=function(t,n,i){return n.N1(i.info,cP(t,i).o3)}(n,u,k[k.length-1]),k.m6=function(t,n,i){return n.N1(i.info,cP(t,i).s3)}(n,u,k[k.length-1]),k.p6=w,!this.k6(t,u,s,c,k))return null;var A=p.i3.video;return!A||(A.nJ=A.nJ||o.nJ,A.iJ=A.iJ||o.iJ,A.nJ&&A.iJ)?k:null},i.O6=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.R6(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d.A6.qw(h.A6)||(h=d))}return h},i.x6=function(t,n,i,r,e,u,s,o,a){for(var c=fg.qy(s),h=fg.qy(o),f=fg.qy(a),v=this.Y5.get(t),d=new wO([{_I:c.Mw(),wI:c.Fg(h).Mw()}]),l=e.II(d),_=function(t){if(0===t.length)return null;var n=t.vY(t.length-1),i=n[n.length-1];if(!i.wp.P6)return null;return i}(e),g=pO(AO(l),d),w=0;w<g.length;w++){var y=fg.qy(g.start(w)),m=fg.qy(g.end(w)),k=_P(l,y,m),p=y.Fg(k).Uy(lg,og.nm),A=m.Uy(lg,og.nm);if(p.qw(A)){if(_&&p.Hw(fg.qy(_.wI)))continue;var b=this.O6(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.J4=function(t){return this.Y5.get(t).J4()},i.D4=function(t){return this.r6.D4(t)},L(n,[{key:"V4",get:function(){return this.J5},set:function(t){t>0&&(this.J5=t,this.Y5.forEach(function(n){return n.V4=t}))}},{key:"A5",get:function(){return this.i6.A5}},{key:"b5",get:function(){return this.i6.b5}}]),n}(xD);function Yx(t,n){for(var i=0;i<n.length;i++){if(n[i].info.GQ===t)return!0}return!1}function Zx(t,n){return t.metadata.audio.a2!==n.metadata.audio.a2||(t.metadata.audio.z$!==n.metadata.audio.z$||(!(!t.i3.audio||!n.i3.audio||t.i3.audio.B2===n.i3.audio.B2)||!kg(t.metadata.audio.e3,t.metadata.audio.u3).bw(kg(n.metadata.audio.s3,n.metadata.audio.o3))))}function Jx(t,n){return t.metadata.video.a2!==n.metadata.video.a2||(!(!t.metadata.uL||!n.metadata.uL||t.metadata.uL.height===n.metadata.uL.height&&t.metadata.uL.width===n.metadata.uL.width)||(!(!n.i3.video||n.i3.video.Y2||t.metadata.video.z$===n.metadata.video.z$)||kg(t.metadata.video.e3,t.metadata.video.u3)!==kg(n.metadata.video.s3,n.metadata.video.o3)))}function $x(t){return t.i3.video&&(t={i3:xx(t.i3),info:t.info,metadata:gx(t.metadata,"_Z")}),t}function Kx(t){return t.i3.audio&&(t={i3:Ox(t.i3),info:t.info,metadata:gx(t.metadata,"lZ")}),t}function tP(t){return Boolean(t&&(t.i3.audio||t.i3.video))}function nP(t,n,i){var r=fg.Ly(n,t.A6),e=fg.My(i,t.m6),u=jx;return j.ke&&(r.Xw(t.A6)?u=u.Fg(t.A6).Qw(t.D6):e.Hw(t.m6)&&(u=u.Fg(t.m6).Qw(t.C6))),e.Qw(r).Hw(u)}function iP(t,n){return w(n)?null:0===n?t:uP(t,t.i3.video.AH.slice(n))}function rP(t,n){return(t=t.slice(n.E6))[0]=iP(t[0],n.S6),t}function eP(t,n){var i={info:t.info,i3:{audio:xx(t.i3).audio,video:null,i2:t.i3.i2},metadata:null},r=i.i3.audio;r.AH=n;var e=n[0].rb;return r._2=e.u2,r.l2=r._2.Mw(),sP(r,i.i3.i2,r.d2),_x(i,t.metadata.size),i.metadata=gx(i.metadata,"_Z"),i}function uP(t,n){var i={info:t.info,i3:{audio:null,video:Ox(t.i3).video,i2:t.i3.i2},metadata:null},r=i.i3.video;r.AH=n;var e=n[0].rb;r._2=e.u2,r.l2=r._2.Mw();var u=n[n.length-1].rb.H2;return sP(r,i.i3.i2,u),_x(i,t.metadata.size),i.metadata=gx(i.metadata,"lZ"),i}function sP(t,n,i){for(var r=fg.Gy,e=fg.Gy,u=fg.jy,s=fg.jy,o=0,a=t.AH;o<a.length;o++){var c=a[o].rb;r=fg.My(c.n3,r),e=fg.My(c.t3,e),u=fg.Ly(c.n3,u),s=fg.Ly(c.t3,s)}t.g2=e,t.w2=r,t.m2=s,t.A2=u,t.f2=fg.Ly(Ag(t._2,n),fg.ey),t.b2=pg(t.m2,i),t.T2=pg(t.A2,i),t.h2=kg(t.b2,t.g2).Mw(),t.duration=t.h2}function oP(t,n,i){if(rC(i)){var r="lZ"===t?i.l4:i.g4;return yg(r)||(r=i.HY),n.N1(i,r)}return i&&n.E1(i)}function aP(t,n,i){if(rC(i)){var r="lZ"===t?i.m4:i.b4;return yg(r)||(r=i.HY),n.N1(i,r)}return i&&n.E1(i).Fg("lZ"===t?function(t){return rC(t)?t.VY||fg.ey:t&&fg.qy(t.duration)||fg.ey}(i):function(t){return rC(t)?t.XY||fg.ey:t&&fg.qy(t.duration)||fg.ey}(i))}function cP(t,n){return"lZ"===t?n.metadata.audio:n.metadata.video}function hP(t,n,i){return n.N1(i.info,cP(t,i).e3)}function fP(t,n){var i=t.g1(n.Mw());if(-1!==i){var r=fg.qy(t.end(i));if(n.Qw(r).Xw(fg.qy(zx)))return r}return fg.zy}function vP(t,n,i){var r=t.d1(n.Mw(),i.Mw());if(-1!==r)for(var e=t.vY(r),u=e.length-1;u>=0;u--)for(var s=e[u],o=s.wp.vY.length-1;o>=0;o--){var a=s.wp.vY[o];if(n.Qw(fg.qy(a.wI)).zw().Xw(i))return fg.qy(a.wI);if(n.Qw(fg.qy(a._I)).zw().Xw(i))return fg.qy(a._I)}return fg.zy}function dP(t,n){var i;if(n<0)i=t.AH.slice(-n);else{0;var r=new jO,e=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.I2,t.B2);r.F1(e,0,e.length),i=t.AH.slice();for(var u=0;u<n;u++){var s=i[0].rb,o=r.na(de(de({},r.rb),{u2:kg(s.u2,t.d2),e2:s.e2-t.d2.Mw(),n3:kg(s.n3,t.d2),t3:kg(s.t3,t.d2)}));i.unshift(o)}}return i}function lP(t,n){var i=t[0].rb,r=t.slice();return r[0]=t[0].na(de(de({},i),{u2:kg(i.u2,n),e2:i.e2-n.Mw(),n3:kg(i.n3,n),X2:i.X2-n.Mw(),t3:kg(i.t3,n),V2:i.V2-n.Mw(),H2:fg.Ly(fg.ey,i.H2.Fg(n)),S_:l.max(0,i.S_+n.Mw())})),r}function _P(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.vY(r),u=t.vY(r+1);if(e.length&&u.length&&fg.qy(e[0]._I).Xw(n)&&fg.qy(u[u.length-1].wI).Hw(i)&&u[0].wp.vY[0].ra.r3.gY)return jx.Sy(5)}return t.Hg(n.Mw())?jx:fg.ey}function gP(t){return new bP(t.Lf,t.pu)}var wP,yP,mP,kP,pP,AP,bP=function(){function t(t,n){this.B6=n,this.Lf=t}return t.prototype.L6=function(t){iO(t)},L(t,[{key:"pu",get:function(){return this.B6}},{key:"M6",get:function(){return nO(rO(this.B6,this.Lf))}}]),t}(),TP=function(){function t(t,n,i){this.UY="data:"+t+";"+n+","+i}return t.prototype.L6=function(t){},L(t,[{key:"M6",get:function(){return this.UY}}]),t}();!function(t){t.P1="U6",t.u_="F6",t.H6="V6",t.X6="W6",t.q6="z6"}(wP||(wP={})),function(t){t.G6="j6",t.Q6="Y6"}(yP||(yP={})),function(t){t.Z6="audio/mp4",t.J6="audio/mpeg",t.K6="video/mp4"}(mP||(mP={})),function(t){t[t.t9=0]="t9",t[t.n9=1]="n9",t[t.Hl=2]="Hl",t[t.i9=3]="i9"}(kP||(kP={})),function(t){t.r9="e9",t.u9="s9"}(pP||(pP={})),function(t){t.o9="g6",t.u9="a9"}(AP||(AP={}));var EP=function(){function t(t,n,i,r,e,u,s,o,a,c){this.c9=kP.t9,this.h9=t,this.f9=n,this.cp=i,this.Lf=r,this.c6=e,this.v9=u,this.QA=s,this.d9=o,this.l9=a,this.hO=c}return t._9=function(t,n,i,r,e,u,s,o,a,c){switch(n){case pP.r9:return new SP(t,i,r,e,u,s,o,a,c);case pP.u9:return new RP(t,i,r,e,u,s,o,a,c)}},t}(),SP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,pP.r9,n,i,r,e,u,s,o,a,c)||this}return M(n,t),n.prototype.g9=function(){return{w9:"y9",m9:this.f9,k9:wP.q6,p9:yP.G6,A9:this.Lf,b9:QO(this.c6,[]),T9:this.l9,E9:this.d9.im(),S9:this.v9.im(),R9:this.QA.im()}},n}(EP),RP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,pP.u9,n,i,r,e,u,s,o,a,c)||this}return M(n,t),n.prototype.g9=function(){return{w9:"y9",m9:this.f9,k9:this.Lf===mP.J6?wP.P1:wP.u_,p9:pp?yP.Q6:yP.G6,A9:this.Lf,b9:QO(this.c6,[])}},n}(EP),IP=function(){function t(){this.I9=_e(),this.N9=1}var n=t.prototype;return n.D9=function(){return(this.N9++).toString()},n._9=function(t,n,i,r,e,u,s,o,a){var c=this.D9(),h=EP._9(c,n,t,i,r,e,u,s,o,a);return this.C9(h),h},n.O9=function(t){return this.I9.get(t)},n.C9=function(t){this.I9.set(t.f9,t)},n.x9=function(t){this.I9.delete(t)},n.P9=function(t){this.O9(t).c9=kP.n9,this.x9(t)},n.B9=function(t,n){var i=this.O9(t).hO;this.O9(t).c9=kP.Hl,this.x9(t),i(n)},n.L9=function(t,n){var i=this.O9(t).hO;this.O9(t).c9=kP.i9,this.x9(t),i(null,n)},n.Zo=function(t){var n=[];this.I9.forEach(function(i,r){t&&i.cp!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.P9(r)}},t}();var NP,DP=function(){function t(n){var i=this;this.M9=function(t){var n=t.data.U9,r=t.data.F9,e=t.data.H9,u=t.data.V9,s=i.I9.O9(r);if(s&&s.c9!==kP.n9)switch(n){case"X9":i.W9(s,e);break;case"q9":i.I9.B9(r,new LD(BD.BQ,{code:u}));break;default:0}},this.z9=function(t){0},this.I9=new IP,this.ec=n,this.G9=t.j9(n.w6),this.Q9()}t.j9=function(t){switch(t){case AP.o9:return pP.r9;case AP.u9:return pP.u9}};var n=t.prototype;return n.y9=function(t,n,i,r,e,u,s){var o={metadata:null,lZ:null,_Z:null,Fo:null};i&&i.length||s(new LD(BD.BQ,{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.GQ+1,f=a.info.LZ,v=a.metadata,d=v.audio.a2?v.audio:void 0,l=v.video.a2?v.video:void 0,_=c.metadata,g=_.audio.a2?_.audio:void 0,y=_.video.a2?_.video:void 0,m=r.Fg(Ag(v.u3,v.e3)),k=r.Fg(Ag(v.e3,v.e3)),p=r.Fg(d?Ag(d.u3,v.e3):fg.ey),A=r.Fg(d?Ag(d.e3,v.e3):fg.ey),b=r.Fg(l?Ag(l.u3,v.e3):fg.ey),T=r.Fg(l?Ag(l.e3,v.e3):fg.ey),E=r.Fg(Ag(_.o3,v.e3)),S=r.Fg(Ag(_.s3,v.e3)),R=r.Fg(g?Ag(g.o3,v.e3):fg.ey),I=r.Fg(g?Ag(g.s3,v.e3):fg.ey),N=r.Fg(y?Ag(y.o3,v.e3):fg.ey),D=r.Fg(y?Ag(y.s3,v.e3):fg.ey);p=fg.Ly(fg.ey,p),b=fg.Ly(fg.ey,b);var C,O,x,P,B,L=KD.F_(n.YZ)?fg.qy(100079991719):fg.qy(n.S_),M=function(t){for(var n=t[0].i3,i=n,r=1;r<t.length;r++){if(!(n=Cx(i,t[r-1].i3,t[r].i3,t[r].info.c3)))return i;i=n}return i}(i);if(M.audio){O=(C=xx(M)).audio.duration;x=this.I9._9(t,this.G9,"mp3"===C.audio.a2?mP.J6:mP.Z6,C,p,A,L,h,function(t,n){if(o.Fo=o.Fo||t,o.lZ=n,C=!0,P)return s(o.Fo,o)}),this.Y9(x),C=null}else C=!0;if(M.video){B=(P=Ox(M)).video.duration;x=this.I9._9(t,this.G9,mP.K6,P,b,T,L,h,function(t,n){if(o.Fo=o.Fo||t,o._Z=n,P=!0,C)return s(o.Fo,o)}),this.Y9(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=fg.qy(O),W=fg.qy(B),q=a.i3.audio&&a.i3.video?fg.My(a.i3.audio.f2.Fg(X),a.i3.video.f2.Fg(W)):a.i3.audio?a.i3.audio.f2.Fg(X):a.i3.video?a.i3.video.f2.Fg(W):fg.ey;if(q.hy()&&dt("Segment with no valid audio or video track detected",a.info.uri),M.video){var z=vx(M);if(w(z))dt("Segment without keyframes detected",a.info.uri),U=fg.zy,F=fg.zy,H=q.Sy(1.5);else{var G=M.video.AH[z].rb;U=r.Fg(Ag(G.n3,v.e3)),F=r.Fg(Ag(G.t3,v.e3)),H=fg.qy(G.V2-a.metadata.start)}}else U=p,F=A,H=fg.ey;var j=fg.Ly(H,fg.Ly(a.i3.audio&&a.i3.audio.f2||fg.ey,a.i3.video&&a.i3.video.f2||fg.ey));o.metadata={GQ:h,_I:r.Mw(),Z9:m.Mw(),tU:k.Mw(),C6:E.Mw(),m6:S.Mw(),E4:U.Mw(),D1:F.Mw(),T6:fg.My(r,e).Mw(),S_:q.Mw(),vY:V,ia:j.Mw(),lZ:d&&{_I:A.Mw(),Z9:p.Mw(),wI:I.Mw(),C6:R.Mw(),S_:O,a2:d.a2},_Z:l&&{_I:T.Mw(),Z9:b.Mw(),wI:D.Mw(),C6:N.Mw(),S_:B,a2:l.a2,ts:v.uL.width,vp:v.uL.height},mJ:v.mJ,c3:v.c3,LZ:f,a3:u},i=null,M=null},n.Sv=function(){this.I9.Zo(),this.J9&&(this.J9.terminate(),this.J9=null)},n._o=function(t){this.I9.Zo(t)},n.W9=function(t,n){switch(t.h9){case pP.r9:var i=n;this.I9.L9(t.f9,{initializer:gP(i.K9),m4s:gP(i.t8)});break;case pP.u9:var r=n;this.I9.L9(t.f9,(e=r,pp?new TP(e.Lf,"base64",e.pu):new bP(e.Lf,e.pu)));break;default:0}var e},n.Q9=function(){this.J9||(this.J9=dO(this.ec.libraryLocation,"theoplayer.p.js"),this.J9.addEventListener("message",this.M9),this.J9.addEventListener("error",this.z9))},n.Y9=function(t){this.J9||this.Q9(),this.J9.postMessage(t.g9())},t}();function CP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function OP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function xP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function PP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?zs(r[6]):void 0!==r[7]?{width:g(r[8]),height:g(r[10])}:void 0!==r[12]?g(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var BP,LP="x-";function MP(t,n,i,r){var e=t.split("@"),u=CP(n,i),s=_(e[0],10),o=e[1]?_(e[1],10):r;return{UY:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},FY:{_I:o,wI:o+s-1}}}function UP(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,w=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new LD(BD.PQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(w.push(T+""),OP(T,"#EXT")){if(OP(T,"#EXTINF"))h=(h=g(xP(T)))||.5;else if(OP(T,"#EXT-X-BYTERANGE"))f=xP(T);else if(OP(T,"#EXT-X-KEY"))(u=PP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=CP(u.uri,i);else if(OP(T,"#EXT-X-DISCONTINUITY")&&!OP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(OP(T,"#EXT-X-STREAM-INF"))(e=PP(T)).GQ=c++,(b+=1)<p.length&&(e.uri=CP(p[b].trim(),i),A.streams.push(e));else if(OP(T,"#EXT-X-MEDIA")&&!OP(T,"#EXT-X-MEDIA-"))(s=PP(T)).uri&&(s.uri=CP(s.uri,i)),A.media.push(s);else if(OP(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(xP(T));else if(OP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.oY=!0,A.aY=_(xP(T),10);else if(OP(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(xP(T),10),A.n8=!0,A.i8=a;else if(OP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(xP(T),10),A.hasTargetDuration=!0;else if(OP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(OP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(OP(T,"#EXT-X-MAP")){var E=PP(T),S=E.uri,R=E.byterange;o=R?MP(R,S,i,0):CP(S,i)}else if(OP(T,"#EXT-X-VERSION"))A.version=_(xP(T),10);else if(OP(T,"#EXT-X-DATERANGE")){var I=FP(T);A.dateRanges.push(I)}}else if(OP(T,"#"));else if(0!==T.length){f?k=(r=MP(f,T,i,k)).FY.wI+1:r=CP(T,i);var N,D=u&&de({},u);u&&void 0===u.iv&&(N=a%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,GQ:a,gY:d,dY:v,key:D,zZ:m,qZ:w,a3:!1,r8:o}),a+=1,h=0,f=null,d=!1,m=null,w=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].a3=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=l.min(i,o.duration),r=l.max(r,o.duration)}return{e8:i,u8:r,s8:n?t.fragments[n-1].duration:0,o8:e/n,a8:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.GQ-n.GQ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||Je(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function FP(t){var n=PP(t),i=function(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i];yr(e,LP)&&(n[e.substr(LP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Dl:n.id,mY:n.class,PR:r,wY:e,S_:n.duration,bY:n["planned-duration"],EY:u,RY:i,NY:s,CY:o,xY:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(BP||(BP={}));(NP={})[BP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",NP[BP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",NP[BP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",NP[BP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",NP[BP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",NP[BP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",NP[BP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var HP=function(){function t(){}return t.prototype.Lk=function(t,n,i){return UP(t,n,i)},t}(),VP=3,XP=function(){function t(t,n,i){void 0===i&&(i=VP),this.pb=t,this.c8=n,this.h8=i}var n=t.prototype;return n.f8=function(t,n,i){return this.v8(t,n,!0,i)},n.d8=function(t,n,i){return this.v8(t,n,!1,i)},n.v8=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.h8)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,yu(s,e);case 6:s<1e4&&(s=l.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new Sf({nv:c,Zf:qo.ze,Yf:i,bv:this.c8,mv:pf.GET,Gs:Af.uv,pv:bf.ev,mo:e}),t.next=14,this.pb.Kf(h);case 14:return f=t.sent,t.next=17,f.Of(e);case 17:return v=t.sent,t.abrupt("return",{l8:v,_8:c,tv:f.tv});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),WP=function(){function t(t,n,i,r){this.g8=t,this.w8=n,this.y8=i,this.m8=r}var n=t.prototype;return n.k8=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.g8.XK(n.map(QC));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.p8=function(t,n){var i=YC(t,n);return this.w8.Go(i)},n.A8=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=YC(n,i),t.next=3,this.y8.jo(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.kB=function(t){return this.m8.jo(t)},t}(),qP=function(){function t(t){this.b8=t}return t.prototype.T8=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.b8;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.T8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),au(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),zP=function(){function t(t){this.E8=t}return t.prototype.T8=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.E8.k8(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{l8:u.data,_8:u.locationURL,tv:u.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),GP=function(){function t(t){this.S8=t}return t.prototype.T8=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.S8.f8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.S8.d8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function jP(t,n){return new qP([new zP(n),new GP(t)])}var QP=function(){function t(t,n,i){this.R8=t,this.I8=n,this.N8=i}var n=t.prototype;return n.T8=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.R8.T8(n,i,r,e);case 3:return u=t.sent,t.next=6,this.D8(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.D8=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I8.HK({key:QC(n._8),locationURL:Rr(n._8),responseURL:Rr(n.tv),data:n.l8,references:[this.N8.Dl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function YP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var ZP=function(){function t(t,n,i){this.C8=new HP,this.ec=t,this.pb=i;var r=this.ec&&this.ec.crossOrigin===rl.c_,e=new XP(i,r,1);this.R8=jP(e,new WP(jC.Ve.YK,jC.Ve.jK,jC.Ve.QK,jC.Ve.JK))}var n=t.prototype;return n.ba=function(t,n,i){var r=this.Ad(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Ad=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.R8.T8([n],i);case 3:return r=t.sent,n=r.tv,e=this.C8.Lk(r.l8,n,YP(n)),t.abrupt("return",{X_:e,O8:r.l8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Cf)){t.next=16;break}throw new LD(BD.OQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Of)){t.next=24;break}if(0!==t.t0.Fv.Qf){t.next=21;break}throw new LD(BD.xQ,{code:"MFL3900",uri:n,status:t.t0.Fv.Qf});case 21:throw new LD(BD.OQ,{code:"MFL4100",uri:n,status:t.t0.Fv.Qf});case 22:t.next=25;break;case 24:throw new LD(BD.Hl,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),JP=function(t){function n(n,i){var r;return(r=t.call(this)||this).x8=new ZP(i||{},jC.Ve.YK,n),r}M(n,t);var i=n.prototype;return i.ug=function(){void 0!==this.P8&&(a(this.P8),this.P8=void 0),this.B8&&this.B8.Kf&&(this.B8=void 0)},i.L8=function(t){if(this.OJ)for(var n=0,i=this.OJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.M8=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.a8<3*u)?1e3*s.e8:u?1e3*u:1e4,i===n&&(e/=2),e=l.max(e-r,1e3)},i.U8=function(t){if(t.fragments.length>0)for(var n=this.L8(t.fragments[0].uri),i=n&&n.GQ||0,r=0,e=t.fragments;r<e.length;r++){e[r].GQ+=i}},i.F8=function(t,i,r,e,u,s){var a=this;if(this.B8&&r===this.B8.Kf){var c=qb()-i;if(e){this.B8=void 0,this.WS=e;var h={type:"Fo",Fo:e};return this.dispatchEvent(h),u&&u(e)}this.B8=void 0;var f=s.X_,v=s.O8;f.n8||this.U8(f),t===this.H8&&(this.FJ=f),this.OJ=f;var d=n.M8(f,v,this.V8,c);f.live?f.isMasterPlaylist||(this.P8=o(function(){return a.Ad(t)},d)):this.ug(),u&&u(e,s);var l={type:"X8",manifest:f,manifestText:v};this.dispatchEvent(l),this.V8=v}},i.Ad=function(t,n){var i=this,r=qb(),e=t;a(this.P8),this.P8=void 0;var u=this.x8.ba(e,{},function(e,s){return i.F8(t,r,u,e,n,s)});this.B8={Kf:u,nv:t}},i._I=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.OJ?this.OJ.uri:this.H8))&&(this.B8&&this.B8.nv===t?n&&(i=function(t){u.removeEventListener("Fo",r),u.removeEventListener("X8",i);var e=t;n(null,{X_:e.manifest,O8:e.manifestText})},r=function(t){u.removeEventListener("Fo",r),u.removeEventListener("X8",i),n(t.Fo)},this.addEventListener("Fo",r),this.addEventListener("X8",i)):(this.ug(),this.Ad(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.W8=function(t){t&&(this.V8=void 0,this.FJ&&this.FJ.isMasterPlaylist?this._I(t.uri):this.OJ&&!this.q8()&&this._I(this.OJ.uri))},i.Sv=function(){this.ug(),this.Io()},i.q8=function(){return!!this.B8||!!this.P8||!(!this.OJ||this.OJ.live)},L(n,[{key:"X_",get:function(){return this.OJ}},{key:"w$",get:function(){return this.FJ}},{key:"IK",get:function(){return this.H8},set:function(t){this.ug(),this.V8=void 0,this.FJ=void 0,this.OJ=void 0,this.H8=t}}]),n}(xD),$P=function(t){function n(n,i){var r;return(r=t.call(this)||this).ec=i,r.dl=_e(),r.H8=null,r.z8=null,r.pb=n,r}M(n,t);var i=n.prototype;return i._I=function(){var t=this,n=this.IK;if(n&&!this.z8){var i=new JP(this.pb,this.ec);i.addEventListener("Fo",function(i){var r=i.Fo;t.dispatchEvent({type:"G8",Fo:r}),t.dl.has(n)&&t.dispatchEvent({type:"Fo",Fo:r,j8:n})}),i.addEventListener("X8",function n(r){i.removeEventListener("X8",n),i===t.z8&&t.dispatchEvent({type:"Q8",X_:r.manifest})}),i.addEventListener("X8",function(i){t.dl.has(n)&&t.dispatchEvent({type:n,X_:i.manifest})}),this.z8=i,i._I(n)}},i.Y8=function(t,n){this.Z8(t),this.J8(n)},i.J8=function(t){var n,i=this;this.dl.has(t)||(t===this.IK?(this._I(),(n=this.z8).X_&&this.dispatchEvent({type:t,X_:n.X_},!0)):((n=new JP(this.pb,this.ec)).addEventListener("Fo",function(n){i.dispatchEvent({type:n.type,Fo:n.Fo,j8:t})}),n.addEventListener("X8",function(n){i.dispatchEvent({type:t,X_:n.manifest})})),this.dl.set(t,n))},i.Z8=function(t){if(this.dl.has(t)){var n=this.dl.get(t);n!==this.z8&&n.Sv(),this.dl.delete(t),this.removeEventListener(t)}},i.K8=function(t){if(this.dl.has(t)){var n=this.dl.get(t);n.q8()||n._I(t)}},i.t7=function(){var t=this;this.dl.forEach(function(n,i){return t.K8(i)})},i.yl=function(){this.dl.forEach(function(t){return t.Sv()}),this.dl.clear(),this.z8&&(this.z8.Sv(),this.z8=null),this.H8=null},L(n,[{key:"IK",get:function(){return this.z8&&this.z8.X_?this.z8.X_.uri:this.H8},set:function(t){this.yl(),this.H8=t}}]),n}(xD),KP=function(t){function n(){var n;return(n=t.call(this)||this).n7=NaN,n}M(n,t);var i=n.prototype;return i.i7=function(t,n){for(var i=t.length?l.min.apply(l,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].ia=fg.qy(t[e]||0)}var u=t.length?l.max.apply(l,t):0;this.n7=u,this.dispatchEvent({type:"r7",e7:u})},i.u7=function(t,n){var i=[];if(n.length<2)return this.i7(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.s7(t))return!1;i[e]=u.ia.Fg(u.o7(r,t)).Mw()}return this.i7(i,n),!0},i.a7=function(t,n){return this.u7(t.dY,n)},i.c7=function(t,n){if(n.length<2)return this.i7([],n),!0;var i=n[0].h7(t);if(w(i))return!1;for(var r=0;r<n.length;r++){if(n[r].h7(t)!==i)return!1}return this.u7(i,n)},i.yl=function(){this.n7=NaN},i.Sv=function(){this.Io()},L(n,[{key:"e7",get:function(){return this.n7}}]),n}(xD),tB=.001;function nB(t){return t.metadata.LZ.Dl+"f7"+t.metadata.GQ+"v7"+t.metadata._I+"d7"+t.metadata.S_}var iB=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Sj=function(t,i){return new n(t,i)},i.T1=function(t,n){return!1},n}(LO);function rB(t,n){var i=new iB([n]);return t.Qw(i).BI(i)}function eB(t,n){var i=function(t,n){var i=t.tU,r=t.D1;if(!w(r)&&r===i)return!0;return!t.c3&&!!n&&n.wp.LZ===t.LZ&&i>=n.wI&&i<=n.wI+tB}(t,n);return i||!w(t.D1)?{_I:i?t.tU:t.D1,wI:t.m6,wp:t}:null}var uB=function(t){function n(n,i){var r;return(r=t.call(this)||this).l7=null,r._7=function(){return r.g7()},r.w7=[],r.Tg=[],r.y7=new iB([]),r.m7=null,r.k7=n,r.JA=i,r}M(n,t);var i=n.prototype;return i.p7=function(t){var n=t.metadata,i=n&&n.vY;if(!i||!i.length)return T.resolve();for(var r=[],e=n._I,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({_I:e,S_:s.duration,wI:o,GQ:s.GQ,ra:s}),e=o}var a={Dl:nB(t),_I:t.metadata._I,Z9:n.Z9,tU:n.tU,A7:i[0].r3.zZ?new Date(i[0].r3.zZ.getTime()):null,S_:t.metadata.S_,wI:t.metadata._I+t.metadata.S_,C6:n.C6,m6:n.m6,E4:n.E4,D1:n.D1,vY:r,LZ:t.metadata.LZ,P6:t.metadata.a3,c3:n.c3};return this.w7.push(a),this.b7(this.k7.p7(t),a)},i.b7=function(t,n){var i=this;return t.then(function(){if(Ze(i.w7,n)){i.Tg.push(n);var t=i.m7,r=eB(n,t);r&&(i.y7=rB(i.y7,r)),i.m7=r}i.g7(),i.T7(n)}).catch(function(){Ze(i.w7,n)})},i.T7=function(t){var n=t.vY[0],i=t.vY[t.vY.length-1],r=t.LZ,e=r._Y(n.GQ-1),u=KD.F_(r.YZ);if(!e||u){var s=r._Y(n.GQ),o=this.JA.E1(s).Mw(),a=t.Z9,c=l.min(o,a);c<n._I&&this.k7.wM(c,n._I)}for(var h=0,f=this.Tg;h<f.length;h++){var v=f[h];if(v.LZ===t.LZ){var d=v.vY[0],_=v.vY[v.vY.length-1];_.GQ+1===n.GQ&&_.wI!==n._I?this.k7.wM(_.wI,n._I):d.GQ-1===i.GQ&&i.wI!==d._I&&this.k7.wM(i.wI,d._I)}}},i.Zo=function(){this.w7.length=0,this.Tg.length=0,this.y7=new iB([]),this.m7=null},i.g7=function(){if(this.E7&&!this.E7.zO){var t=this.E7.Tg||yO;t=function(t,n){for(var i=EO(t),r=0;r<i.length;r++){var e=i[r],u=n.g1(e.wI,tB);if(u>=0){var s=n.vY(u),o=s[s.length-1],a=o.wp.C6,c=o.wp.m6;a-tB<e.wI&&e.wI<c&&(e.wI=c)}}return new wO(i)}(t,this.y7),this.Tg=this.Tg.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n._I,n.wI)>=0}),this.y7=this.y7.II(t)}},i.Sv=function(){this.Io(),this.Zo(),this.E7=null},i.S7=function(t){var n=this.R7(t);if(n)for(var i=0,r=n.vY;i<r.length;i++){var e=r[i];if(e._I<=t&&e.wI>t)return e}return null},i.R7=function(t){for(var n=0,i=this.Tg;n<i.length;n++){var r=i[n];if(r._I<=t&&r.wI>t)return r}return null},i.I7=function(t){for(var n=0,i=this.Tg;n<i.length;n++){var r=i[n];if(r.LZ.Dl===t.LZ.Dl)for(var e=0,u=r.vY;e<u.length;e++){if(u[e].GQ===t.GQ)return!0}}return!1},i.N7=function(){return this.D7()[0]},i.D7=function(){for(var t=this.y7,n=this.m7,i=0,r=this.w7;i<r.length;i++){var e=eB(r[i],n);e&&(t=rB(t,e)),n=e}return[t,n]},L(n,[{key:"kl",get:function(){return this.w7.length+this.Tg.length}},{key:"E7",get:function(){return this.l7},set:function(t){this.l7&&this.l7.removeEventListener("updateend",this._7),this.l7=t,this.l7&&(this.l7.addEventListener("updateend",this._7),this.g7())}}]),n}(xD);function sB(t,n,i){!function(t,n,i){for(var r=i.K1,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.N1(t,s.rb.s2).Mw(),a=0,c=s.AH;a<c.length;a++){var h=c[a];e.push(new mI(o,h))}i.ql=e}(t,n,i)}function oB(t,n){return t&&n?l.abs(t.GQ-n.GQ)<=1?fg.ey:fg.ny(n.Jk-t.Jk,1e3):fg.ey}var aB=function(){function t(t,n,i,r,e){this.ia=fg.ey,this.C7=!1,this.O7=null,this.gY=t,this.E6=t.LZ.vY.YQ(n.GQ),this.j5=this.E6,this.x7=i,this.P7=r,this.Gs=e||null}var n=t.prototype;return n.B7=function(){if(this.O7)return this.O7;var t=this.L7();return(t.M7||t.Fo)&&(this.O7=t),t},n.U7=function(){return{M7:!1,Fo:!1,C7:this.C7,ew:fg.zy}},n.M7=function(t){return t.Yw()?{M7:!1,Fo:!0,C7:this.C7,ew:fg.zy}:{M7:!0,Fo:!1,C7:this.C7,ew:t}},t}();function cB(t,n){switch(n){case"lZ":return yg(t.l4)?t.l4:t.HY;case"_Z":return yg(t.g4)?t.g4:t.HY;default:return t.HY}}var hB=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.L7=function(){var t=this.gY,n=t.LZ,i=n.vY,r=i.ZQ(this.j5);if(t.Hg(r)){if(this.P7&&t.F7&&rC(r)){var e=cB(r,this.Gs),u=t.H7(e,r.V7);return this.M7(u.Qw(this.ia))}if(this.x7&&r===t.X7){var s=t.uw.Qw(eC(r));return this.M7(s.Qw(this.ia))}this.j5+=1;var o=oB(r,i.ZQ(this.j5));return this.C7=this.C7||o.Uw(fg.ey),this.ia=this.ia.Fg(o).Fg(eC(r)),this.U7()}return this.M7(fg.zy)},n}(aB),fB=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.L7=function(){var t=this.gY,n=t.LZ,i=n.vY,r=i.ZQ(this.j5);if(t.Hg(r)){if(this.P7&&t.F7&&rC(r)){var e=cB(r,this.Gs),u=t.H7(e,r.V7);return this.M7(u.Fg(this.ia))}if(this.x7&&r===t.W7){var s=t.ew;return this.M7(s.Fg(this.ia))}this.j5-=1;var o=i.ZQ(this.j5),a=oB(o,r);return this.C7=this.C7||a.Uw(fg.ey),this.ia=this.ia.Fg(a).Fg(eC(o)),this.U7()}return this.M7(fg.zy)},n}(aB);var vB=function(){function t(t,n,i){this.ew=fg.ey,this.uw=fg.ey,this.W7=null,this.X7=null,this.q7=!1,this.z7=fg.zy,this.G7=fg.zy,this.j7=!1,this.GQ=t,this.LZ=n,this.Q7=i}var n=t.prototype;return n.Hg=function(t){return t&&t.dY===this.GQ},n.H7=function(t,n){var i=t.Qw(this.z7).Fg(this.G7);if(void 0!==n){var r=i.Qw(n);if(r.zw().Uw(wg)){var e=l.round(r.Mw()/gg.Mw());i=i.Qw(gg.Sy(e))}}return i},n.Y7=function(t,n){return this.Z7(t),this.J7(n),this.K7()||t===this.X7&&this.ttt()},n.Z7=function(t){if(this.F7&&vg(t.y4,this.z7)>=0)return!1;var n;if(n=this.F7?this.ntt(t,!0,!1):this.itt(t,!0,!1),this.z7.Yw())this.z7=t.y4;else{var i=Ag(t.y4,this.z7);this.z7=this.z7.Fg(i)}return this.G7=n,!0},n.J7=function(t){if(!t)return!1;if(this.Q7)return!1;if(!this.rtt())return!1;var n=this.LZ.vY,i=this.W7,r=n.JQ(i.GQ-1);if(rC(i)&&rC(r)){var e=function(t,n,i){var r=t.N1(n,n.s3);if(!yg(i.w4)||!yg(i.g4))return r;var e,u=yg(i.l4),s=kg(i.g4,i.w4);if(u){var o=mg(kg(i.g4,i.l4),fg.ey);e=mg(kg(s,o),fg.ey)}else e=s;return kg(r,e)}(t,r,i);return this.j7=!0,this.ett(e)}return!1},n.ett=function(t){if(t.bw(this.ew))return!1;var n=t.Qw(this.ew);return this.ew=t,this.uw=this.uw.Fg(n),this.G7=this.G7.Fg(n),!0},n.K7=function(){if(this.Q7)return!1;var t=this.X7;if(!t)return!1;var n,i=new fB(this,t,!1,!0);do{n=i.B7()}while(!n.M7&&!n.Fo&&!n.C7);if(n.M7&&!n.C7){var r=n.ew.Fg(eC(t));if(!r.bw(this.uw))return this.uw=r,!0}return!1},n.utt=function(t){var n=!1;return n=this.J7(t)||n,n=this.stt(t)||n},n.stt=function(t){if(!t)return!1;if(this.j7)return!1;var n=t.uw.Fg(oB(t.X7,this.W7));return this.ett(n)},n.ott=function(t){var n=!1;return(!this.W7||this.W7.GQ>t.GQ)&&(this.ew=this.ew.Qw(oB(t,this.W7)),this.W7=t,n=!0),(!this.X7||this.X7.GQ<t.GQ)&&(this.uw=this.uw.Fg(oB(this.X7,t)).Fg(eC(t)),this.X7=t,n=!0),n},n.att=function(t){if(!this.F7||!t.F7)return fg.zy;if(this.z7.Xw(t.z7)){var n=this.H7(t.z7,t.G7);return t.G7.Qw(n)}return t.H7(this.z7,this.G7).Qw(this.G7)},n.rtt=function(){var t=this.W7;return!!t&&function(t,n){return n.dY===t&&n.gY}(this.GQ,t)},n.ttt=function(){var t=this.X7;if(!t)return!1;var n=this.LZ.vY.JQ(t.GQ+1);return function(t,n,i){return n.dY===t&&(!i||i.gY)}(this.GQ,t,n)},n.ctt=function(t,n){return this.ntt(t,!0,!0,n)},n.itt=function(t,n,i){if(!this.Hg(t))return fg.zy;var r,e=new fB(this,t,n,i);do{r=e.B7()}while(!r.M7&&!r.Fo);if(!r.M7)return fg.zy;var u=r.ew;return u.qw(this.ew)?this.ew:u},n.ntt=function(t,n,i,r){if(!this.Hg(t))return fg.zy;var e,u,s,o,a,c=new hB(this,t,n,i,r),h=new fB(this,t,n,i,r);do{e=c.B7(),u=h.B7()}while(!(e.M7||u.M7||e.Fo&&u.Fo));if(u.M7)s=u,o=e,a=c;else{if(!e.M7)return fg.zy;s=e,o=u,a=h}if(s.ew.qw(this.ew)){for(;!o.M7&&!o.Fo;)o=a.B7();return o.M7?fg.Ly(this.ew,o.ew):this.ew}if(s.C7){for(;!o.C7&&!o.M7&&!o.Fo;)o=a.B7();if(o.M7&&!o.C7&&this.ew.Xw(o.ew))return o.ew}return s.ew},n.N1=function(t,n){return this.Hg(t)&&this.F7?this.H7(n,t.V7):fg.zy},n.D7=function(){0},L(t,[{key:"F7",get:function(){return!this.z7.Yw()}}]),t}();function dB(t,n){return n.qw(t.ew)?Q_.Pw:n.Hw(t.uw)?Q_.Bw:Q_.xw}var lB=function(){function t(){this.htt=new XD}var n=t.prototype;return n.JQ=function(t){return this.htt.JQ(t)},n.ZQ=function(t){return this.htt.ZQ(t)},n.ftt=function(t){var n=this.htt.YQ(t);return n<0?null:this.htt.ZQ(n-1)},n.B7=function(t){var n=this.htt.YQ(t);return n<0?null:this.htt.ZQ(n+1)},n.dtt=function(){return this.htt.ZQ(0)},n.ltt=function(){var t=this.htt.kl;return 0===t?null:this.htt.ZQ(t-1)},n._tt=function(t){var n=this.htt,i=this.ltt();if(i&&function(t,n){return t.ew.Xw(n)&&n.qw(t.uw)}(i,t))return i;var r=$S(this.htt.tY(),t,R,dB);return n.ZQ(r)},n.Fg=function(t){var n=this.htt.Fg(t);if(n&&!this.B7(t.GQ)){t.q7=!0;var i=this.ftt(t.GQ);i&&(i.q7=!1)}return n},n.Ta=function(t){var n=this.htt.Ta(t);if(n&&t.q7){t.q7=!1;var i=this.ftt(t.GQ);i&&(i.q7=!0)}return n},n.rY=function(t){this.htt.rY(t)},n.D7=function(){},L(t,[{key:"kl",get:function(){return this.htt.kl}}]),t}();var _B=fg.qy(10),gB=function(){function t(t,n,i){this.gtt=!1,this.wtt=!1,this.ytt=new lB,this.mtt=fg.ey,this.ktt=void 0,this.ptt=null,this.Att=null,this.LZ=t,this.ktt=n.liveOffset,this.Q7=i}var n=t.prototype;return n.btt=function(t){var n=this.LZ,i=t?t.fragments:null,r=n.vY;if(!t||!i||!i.length)return!1;this.gtt=!0;var e,u=!1;if(!this.ytt.kl){var s=r.JQ(i[0].GQ).dY,o=new vB(s,n,this.Q7);o.ett(this.ia),this.ytt.Fg(o),u=!0}if(this.Att){var a=r.YQ(this.Att.GQ);e=a<0?0:a+1}else e=0;for(var c=e,h=r.ZQ(c),f=null,v=!1;h;){var d=h.dY;if(f&&f.GQ===d||(f&&v&&this.Ttt(f),f=this.ytt.JQ(d),u=u||v,v=!1),!f){f=new vB(d,n,this.Q7),this.ytt.Fg(f);var l=this.ytt.ftt(d);f.utt(l||void 0)}v=f.ott(h)||v,h=r.ZQ(++c)}return f&&v&&this.Ttt(f),(u=u||v)&&this.Ett(),this.ytt.ltt()&&this.RJ(n.vY),this.ptt=r.JQ(i[0].GQ),this.Att=r.JQ(i[i.length-1].GQ),u},n.Y7=function(t){var n=this.ytt.JQ(t.dY);if(!n)return!1;this.wtt=!0;var i=this.ytt.ftt(n.GQ),r=n.Y7(t,i);return r&&this.Ttt(n),r},n.Ttt=function(t){for(var n=t,i=this.ytt.B7(t.GQ),r=!0;r&&i;)r=i.utt(n),n=i,i=this.ytt.B7(i.GQ)},n.Ett=function(){for(var t=!1,n=this.ytt.dtt(),i=n&&this.ytt.B7(n.GQ);n&&i;)n.uw.Uw(i.ew)&&(i.ett(n.uw),t=!0),n=i,i=this.ytt.B7(n.GQ);return t},n.Stt=function(t){var n=this.ytt.ltt(),i=t.ytt.ltt();if(!this.Q7){if(n&&this.Rtt(t,n.GQ))return!0;if(i&&this.Rtt(t,i.GQ))return!0}return this.Itt?!(!n||!this.Ntt(t,n.GQ))||(!(!i||!this.Ntt(t,i.GQ))||(!(!n||!this.Dtt(t,n.GQ))||(!(!i||!this.Dtt(t,i.GQ))||this.Ctt(t)))):this.Ott(t)},n.Ott=function(t){var n=this.ytt.dtt(),i=t.ytt.dtt();return!(!n||!i)&&(this.Ko(i.ew.Qw(n.ew)),!0)},n.Rtt=function(t,n){var i=this.ytt.JQ(n);if(!i||!i.F7)return!1;var r=t.ytt.JQ(n);return!(!r||!r.F7)&&(this.Ko(i.att(r)),!0)},n.Ntt=function(t,n){var i=this.ytt.JQ(n);if(!i||!i.rtt())return!1;var r=t.ytt.JQ(n);return!(!r||!r.rtt())&&(this.Ko(r.ew.Qw(i.ew)),!0)},n.Dtt=function(t,n){var i=this.ytt.JQ(n);if(!i)return!1;var r=this.xtt(i.X7.GQ);if(!r)return!1;var e=t.ytt.JQ(n);if(!e)return!1;var u=t.xtt(e.X7.GQ);if(!u)return!1;var s=i.ctt(i.X7),o=e.ctt(e.X7),a=fg.Yy(r).Qw(fg.Yy(u)),c=s.Qw(o);return this.Ko(a.Qw(c)),!0},n.Ctt=function(t){if(!this.wtt&&!t.wtt)return!1;var n=this.ytt.ltt(),i=t.ytt.ltt();if(n&&n.X7&&i&&i.X7){var r=fg.ny(n.X7.Jk-i.X7.Jk,1e3),e=n.uw.Qw(i.uw);return this.Ko(r.Qw(e)),!0}return!1},n.RJ=function(t){var n=this.ytt.ltt();if(n)for(var i=n.uw,r=t.kl-1;r>=0;r--){var e=t.ZQ(r);if(i=i.Qw(fg.qy(e.duration)),void 0!==e.V7){0;break}e.V7=i}},n.h7=function(t){var n=this.ytt._tt(t);return n?n.GQ:NaN},n.E1=function(t,n){var i=this.ytt.JQ(t.dY);return i?i.ctt(t,n):fg.zy},n.S1=function(t,n){var i=this.LZ.vY.JQ(t.GQ+1);if(i){var r=this.E1(i);return r}return n.Fg(function(t){if(!t)return fg.ey;if(!rC(t))return fg.qy(t.duration);var n=t.VY||fg.ey,i=t.XY||fg.ey,r=fg.qy(t.duration);return n.hy()||i.hy()?n.hy()?i.hy()?r.hy()?r:fg.ey:i:n:fg.Ly(n,i)}(t))},n.N1=function(t,n){var i=this.ytt.JQ(t.dY);return i&&i.F7?i.N1(t,n):fg.zy},n.I6=function(t,n){var i=this.LZ.vY;return i.kl?function(t,n,i,r,e){var u,s,o=t.LZ.vY,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.E1(o.ZQ(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.qw(f))return{wp:u=o.ZQ(h),Ptt:f};if(n.Hw(d)&&(u=o.ZQ(v)).a3)return{wp:u,Ptt:d};for(;f.Xw(n)&&n.Xw(d);){var _=void 0,g=void 0,w=void 0;if(h===v?(_=h,g=f):(_=h+l.round(n.Qw(f).Mw()*(v-h)/d.Qw(f).Mw())||0,g=c(_)),g.Uw(n))d=c(v=_-1);else{if(u=o.ZQ(_),!(w=(s=_)===r?c(s).Fg(eC(o.ZQ(s))):c(s+1)).Xw(n))return u&&n.Xw(g.Fg(eC(u)))?{wp:u,Ptt:g}:(u=o.ZQ(_+1))&&{wp:u,Ptt:w};h=_+1,f=w}}if(d.Xw(n)){if((u=o.ZQ(v))&&n.Xw(d.Fg(eC(u))))return{wp:u,Ptt:d};if(v<r&&(u=o.ZQ(v+1),d=c(v+1),u&&n.qw(d)))return{wp:u,Ptt:d}}return null}(this,t,0,i.kl-1,n):null},n.xtt=function(t){var n=this.LZ.vY,i=n.YQ(t),r=n.ZQ(i),e=r,u=fg.ey;if(r.zZ)return r.zZ;for(var s=i-1;s>=0;s--){var o=n.ZQ(s);if(u=u.Fg(eC(o)).Fg(oB(o,e)),o.zZ)return new Date(o.zZ.getTime()+1e3*u.Mw());e=o}return null},n.Btt=function(t){for(var n=this.LZ.vY,i=void 0,r=0;r<n.kl;r++){var e=n.ZQ(r);if(e.zZ){if(!(e.zZ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return fg.zy;var u=fg.Yy(t).Qw(fg.Yy(i.zZ));return this.E1(i).Fg(u)},n.Ko=function(t){if(!t.bw(fg.ey))for(var n=this.ytt.kl,i=0;i<n;i++){var r=this.ytt.ZQ(i);r.ett(r.ew.Fg(t))}},n.s7=function(t){var n=this.ytt.JQ(t);return n&&n.F7},n.o7=function(t,n){if(this===t)return fg.ey;var i=this.ytt.JQ(n),r=t.ytt.JQ(n);return i&&r?i.att(r):fg.zy},n.D7=function(){0},L(t,[{key:"Itt",get:function(){var t=this.LZ.lY;return!!t&&t.live}},{key:"Ltt",get:function(){var t=this.LZ.lY;return!!t&&t.isEvent}},{key:"Mtt",get:function(){var t=this.ptt;return t?this.E1(t):fg.ey}},{key:"Utt",get:function(){var t=this.ytt.ltt();return t?t.uw:fg.ey}},{key:"Ftt",get:function(){if(!this.Itt)return fg.ey;var t=this.Utt.Qw(this.Htt);return fg.Ly(this.Mtt,t)}},{key:"Htt",get:function(){return this.ktt&&fg.qy(this.ktt)||this.Vtt.Sy(3)}},{key:"Xtt",get:function(){return this.Itt&&this.Att?fg.ny(qb()-this.Att.Jk,1e3):fg.ey}},{key:"Vtt",get:function(){var t=this.LZ.lY;return t&&t.targetDuration?fg.qy(t.targetDuration):_B}},{key:"ia",get:function(){return this.mtt},set:function(t){var n=t.Qw(this.mtt);this.mtt=t,this.Ko(n)}}]),t}(),wB=function(t){function n(n){var i;return(i=t.call(this)||this).Wtt=[],i.qtt={},i.ztt=null,i.Gtt=null,i.mtt=fg.ey,i.Q7=void 0,i.jtt=n,i}M(n,t);var i=n.prototype;return i.Qtt=function(t){return t&&this.qtt[t.Dl]||null},i.Ytt=function(t){var n=this.Qtt(t);return n||((n=new gB(t,this.jtt,!!this.Q7)).ia=this.mtt,this.Wtt.push(n),this.qtt[t.Dl]=n),n},i.Ztt=function(t){var n;switch(null===(n=this.jtt.hls)||void 0===n?void 0:n.discontinuityAlignment){case HA.MD:return!0;case HA.UD:return!1;default:return t.isEvent||t.hasEnd}},i.btt=function(t,n){void 0===this.Q7&&(this.Q7=this.Ztt(n));var i=this.Qtt(this.ztt),r=i?i.Mtt:fg.ey,e=i?i.Utt:fg.ey,u=this.Ytt(t),s=u.gtt,o=u.btt(n);if(!s&&u.gtt&&(u.Ko(this.Jtt(t)),o=!0),o=this.$tt(u)||o,this.Ktt(u,r,e)){var a=new LD(BD.XQ,{code:"MFU0166"});this.dispatchEvent({type:"Fo",Fo:a})}else this.ztt=t,o&&this.dispatchEvent("NJ")},i.Y7=function(t,n){if(rC(n)){0;var i=this.Ytt(t),r=i.Y7(n);r=this.$tt(i)||r,this.Gtt=t,r&&this.dispatchEvent("NJ")}},i.$tt=function(t){var n=!1,i=!1,r=this.Qtt(this.Gtt);r&&(r===t?n=!0:i=(n=t.Stt(r))||i);var e=this.Qtt(this.ztt);return e&&e!==t&&(i=n?e.Stt(t)||i:t.Stt(e)||i),i},i.Jtt=function(t){var n=this.Qtt(t),i=!n.Itt,r=t.lY&&t.lY.isEvent;return i||r?fg.ey:n.Vtt.Sy(3)},i.Ktt=function(t,n,i){if(!t.Itt)return!1;var r=t.Mtt,e=t.Utt,u=fg.My(e,i).Qw(fg.Ly(r,n)),s=fg.Ly(t.Vtt.Sy(3),u.Dy(2));return r.Fg(s).qw(n)},i.RJ=function(t,n){var i=this.Qtt(t)||this.Qtt(this.ztt);return i&&i.RJ(n)},i.h7=function(t){var n=this.ztt&&this.Qtt(this.ztt);return n?n.h7(t):NaN},i.tnt=function(t,n){var i=t._Y(n);return this.E1(i)},i.E1=function(t){if(!t)return fg.zy;var n=this.Qtt(t.LZ)||this.Qtt(this.ztt);return n?n.E1(t):fg.zy},i.S1=function(t,n){if(!t)return fg.zy;var i=this.Qtt(t.LZ)||this.Qtt(this.ztt);return i?i.S1(t,n):fg.zy},i.N1=function(t,n){if(!t||!n)return fg.zy;var i=this.Qtt(t.LZ)||this.Qtt(this.ztt);return i?i.N1(t,n):fg.zy},i.I6=function(t,n,i){var r=this.Qtt(t);if(!r)return null;var e=r.I6(n,i);return e?{wp:e.wp,Ptt:e.Ptt}:null},i.xtt=function(t,n){var i=this.Qtt(t)||this.Qtt(this.ztt);return i?i.xtt(n):null},i.Btt=function(t,n){var i=this.Qtt(t)||this.Qtt(this.ztt);return i?i.Btt(n):fg.zy},i.s7=function(t){return void 0!==this.nnt(t)},i.o7=function(t,n){if(this===t)return fg.ey;var i=this.nnt(n),r=t.nnt(n);return i&&r?i.o7(r,n):fg.zy},i.nnt=function(t){return Qe(this.Wtt,function(n){return n.s7(t)})},i.Sv=function(){this.Io(),this.Wtt.length=0,this.qtt={},this.ztt=null,this.Gtt=null,this.mtt=fg.ey},i.D7=function(){0},L(n,[{key:"int",get:function(){return this.Mtt.Qw(this.Vtt.Sy(3))}},{key:"Htt",get:function(){var t=this.jtt.liveOffset;return fg.qy(t||3*this.Vtt.Mw())}},{key:"Itt",get:function(){var t=this.Qtt(this.ztt);return!!t&&t.Itt}},{key:"Mg",get:function(){return this.ztt?new wO([{_I:this.Mtt.Mw(),wI:this.Utt.Mw()}]):yO}},{key:"Mtt",get:function(){if(!this.ztt)return fg.ey;var t=this.Qtt(this.ztt);return t.Ltt?t.Mtt:t.Mtt.Fg(t.Xtt)}},{key:"Utt",get:function(){if(!this.ztt)return fg.ey;var t=this.Qtt(this.ztt);return t.Utt.Fg(t.Xtt)}},{key:"Ftt",get:function(){if(!this.ztt)return fg.ey;var t=this.Qtt(this.ztt);return t.Ftt.Fg(t.Xtt)}},{key:"Vtt",get:function(){return this.ztt?this.Qtt(this.ztt).Vtt:_B}},{key:"ia",get:function(){return this.mtt},set:function(t){if(!this.mtt.bw(t)){this.mtt=t;for(var n=0,i=this.Wtt;n<i.length;n++){i[n].ia=t}this.dispatchEvent("NJ")}}}]),n}(xD),yB=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Jtt=function(t){return fg.ey},n}(wB),mB=.25,kB=1/60;function pB(t,n){return $_(t,n,kB)}var AB,bB=function(t,n,i){this.rnt=NaN,this.ent=NaN,this.unt=0,this.LZ=t.LZ,this.ew=n,this.uw=i,this.S_=i-n,this.wp=t},TB=function(t,n,i){this.rnt=NaN,this.ent=NaN,this.unt=0,this.LZ=t,this.ew=n,this.uw=i,this.S_=i-n};function EB(t){return!(!t||!t.wp)}function SB(t,n,i){return r=n,e=i,u=t.ew,s=t.uw,pB(r,s)<=0&&pB(u,e)<=0;var r,e,u,s}function RB(t,n){return pB(t.ew,n)<=0?t.uw:t.ew}function IB(t,n,i){return(t-n)/i-mB}function NB(t,n){return n.Qw(t).BI(t)}function DB(t,n){var i=l.min(kB,t.S_/2);return n.FI(t.ew,t.uw,i)}function CB(t,n){var i=n.d1(t);return-1===i?t:n.end(i)}function OB(t){return t.ent<=t.rnt}function xB(t,n){if(!OB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.unt+n.ent>r.rnt)return!1}return!0}function PB(t,n){for(var i=0;i<t.length;i++){t[i].unt+=n.ent}n.unt=n.ent,t.push(n)}!function(t){t[t.snt=0]="snt",t[t.ont=1]="ont",t[t.ant=2]="ant",t[t.i9=3]="i9"}(AB||(AB={}));var BB=function(){function t(t,n,i,r){this.cp=t,this.JA=n,this.cnt=i,this.hnt=r,this.fnt=jC.Ve.YK,this.b0=jC.Ve.QK}var n=t.prototype;return n.vnt=function(){return this.cnt.vZ.reduce(function(t,n){return l.max(t,n.lY&&n.lY.targetDuration||0)},0)},n.dnt=function(t,n){void 0===n&&(n=this.JA.E1(t).Mw());var i=this.JA.S1(t,fg.qy(n));return new bB(t,n,i.Mw())},n.lnt=function(t,n){var i=t.vY.ZQ(n);return i&&this.dnt(i)||null},n._nt=function(t){var n=t.LZ,i=n.vY.YQ(t.GQ);return i>=0&&this.lnt(n,i-1)||null},n.gnt=function(t){var n=t.LZ,i=n.vY.YQ(t.GQ);return i>=0&&this.lnt(n,i+1)||null},n.wnt=function(t,n){var i=this.JA.I6(t,fg.qy(n));return i&&this.dnt(i.wp,i.Ptt.Mw())||null},n.ynt=function(t){var n=t.vY.kl-1;return n>=0&&this.lnt(t,n)||null},n.mnt=function(t,n,i){var r=t.lY&&t.lY.targetDuration||this.vnt()||10,e=l.max(0,n-r),u=e+r;return i&&SB(i,e,u)&&(u=(e=i.uw)+r),new TB(t,e,u)},n.knt=function(t,n,i){var r=this.hnt.A5,e=.8*this.hnt.b5,u=(n.bandwidth||0)*t.S_;return i&&i.SK?((u=8*i.V0||u)-8*i.H0)/e:r+u/e},n.pnt=function(){for(var t=this.hnt.J4(this.cp),n=this.hnt.D4(this.cp),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Ant=function(t,n){var i=n.filter(function(n){return n.LZ===t});return UO(this.JA,i).A1()},n.bnt=function(t){return"audio"===this.cp&&t?[t]:this.cnt.vZ},n.Tnt=function(t){for(var n=new MO([]),i=new MO([]),r=this.pnt(),e={Ent:{},Snt:{},Rnt:{},Int:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.Ant(s,r),a=XO(this.JA,o);e.Ent[s.Dl]=o,e.Snt[s.Dl]=a,e.Rnt[s.Dl]=n=NB(n,o),e.Int[s.Dl]=i=NB(i,a)}return e},n.Nnt=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].Dl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({_I:d,wI:l})}return 0===(u=pO(u=kO(new wO(c)),new wO([{_I:t,wI:n}]))).length||pB(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,pB(s,t)<=0&&pB(a,o)<=0)?NaN:u.end(0)},n.Dnt=function(t,n,i){var r=null,e=i.Ent[t.Dl],u=i.Rnt[t.Dl],s=i.Int[t.Dl],o=u.d1(n);if(-1!==o){for(var a=l.max(n,u.start(o)),c=u.end(o),h=new wO([{_I:a,wI:c}]),f=u.II(h).Qw(s),v=0;v<f.length;v++){var d=f.start(v),_=f.vY(v)[0];if(_.wp.LZ===t){if(r=this._nt(_.wp))return r}else{for(r=this.wnt(t,d);r&&DB(r,e);)r=this._nt(r.wp);if(r)return r}}var g=u.vY(o),w=g[g.length-1];if(w.wp.LZ===t&&(r=this.gnt(w.wp)))return r}var y=this.ynt(t);if(!y||pB(y.uw,n)<=0){if(!y||!y.wp.a3)return r=this.mnt(t,n,y);r=y}for(r||(r=this.wnt(t,n));r&&DB(r,u);)r=this.gnt(r.wp);return r},n.Cnt=function(t,n){var i=this.ynt(t);return i&&i.wp.a3&&pB(i.uw,n)<=0?i:this.wnt(t,n)},n.Ont=function(t,n,i,r,e,u,s,o){var a=t.LZ,c=s.Rnt[a.Dl],h=!DB(t,c),f=h?n:RB(t,r);t.rnt=IB(f,r,u),t.ent=this.knt(t,a);var v=o&&this.dnt(o);if(v&&!DB(v,c)){var d=RB(v,r);if(v.rnt=IB(d,r,u),v.ent=this.knt(v,a,i&&i.p0),OB(v)&&(!h||function(t,n){var i=[];return!!xB(i,n)&&(PB(i,n),!(!EB(t)||!EB(n)||t.wp!==n.wp)||!!xB(i,t))}(t,v)))return v}if(h&&!OB(t))return null;var l=this.xnt(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.xnt=function(t,n,i,r,e){for(var u=[],s=t.LZ,o=t;o&&n<o.uw&&i<=o.ew;){if(!DB(o,e)){if(w(o.rnt)){var a=RB(o,n);o.rnt=IB(a,n,r),o.ent=this.knt(o,s)}xB(u,o)&&PB(u,o)}o=EB(o)&&this._nt(o.wp)}return u},n.Pnt=function(t,n){return t.ew<n?{Ol:AB.ant}:EB(t)?{Ol:AB.snt,wp:t.wp,ew:t.ew}:{Ol:AB.ont,LZ:t.LZ}},n.Q4=function(t){if(iC(t.uri)){var n=t.uri,i=YC(n.UY,[n.FY._I,n.FY.wI]);return this.b0.Go(i)}var r=YC(t.uri);return this.b0.Go(r)},n.Bnt=function(t){return this.fnt.Go(t.uri)},n.Lnt=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,g,y,m,k,p,A,b;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.bnt(e),f=this.Tnt(h),v=this.JA.int.Mw(),d=this.Nnt(n,i,u,h,f.Snt),g=null,m=!1,!w(d)){t.next=3;break}return t.abrupt("return",{Ol:AB.i9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{Ol:AB.ant});case 5:k=a.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=a[k],_=CB(d,f.Snt[l.Dl]),!(g=this.Dnt(l,_,f))){t.next=24;break}if(p=!1,!EB(g)){t.next=18;break}return t.next=15,this.Q4(g.wp);case 15:p=t.sent,t.next=22;break;case 18:if(l.JZ){t.next=22;break}return t.next=21,this.Bnt(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Pnt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+mB&&c.length)){t.next=33;break}if(l=c[0],_=CB(d,f.Snt[l.Dl]),!(g=this.Dnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.Pnt(g,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=CB(d,f.Snt[l.Dl]),(g=this.Dnt(l,_,f))?y=g:(m=!0,y=this.Cnt(l,_)),!y){t.next=45;break}if(!(b=this.Ont(y,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Pnt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{Ol:AB.i9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Pnt(g,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{Ol:AB.i9});case 54:if(l=a[0],_=CB(d,f.Snt[l.Dl]),!(g=this.Dnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.Pnt(g,v));case 61:return t.abrupt("return",{Ol:AB.i9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),LB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Mnt=i,o.Unt=r,o.mA=e,o.cp=u,o.Av=s,o}return M(n,t),n}(Eu),MB=function(t){function n(n,i,r,e,u){return t.call(this,Wo.uh,n,i,r,e,u)||this}return M(n,t),n}(LB),UB=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Wo.oh,n,i,r,e,u)||this).Fnt=s,a.Og=o,a}return M(n,t),n}(LB),FB=fg.qy(.1),HB=function(t){function n(n){var i;return(i=t.call(this)||this).Hnt=[],i.bJ=n,i}M(n,t);var i=n.prototype;return i.Vnt=function(t,n,i){var r=this.Xnt(t),e=this.Wnt(r);this.qnt(e,n,i)},i.Xnt=function(t){if(0===t.length)return[];for(var n=t[0].c6,i=this.znt(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.c6&&(n=u.c6,i=this.znt(u)),r.push(de(de({},u),{Gnt:u.s2.Fg(i)}))}return r},i.znt=function(t){var n=this.bJ.N1(t.c6,t.s2),i=n.Qw(t.s2);return Ag(n,t.s2).Qw(i)},i.Wnt=function(t){var n,i,r,e,u,s=t.slice().sort(VB),o=this.Hnt;if(o.length)if(s.length){var a=1/s[0].c6.AJ,c=s[0].Gnt,h=o[0].Gnt,f=o[o.length-1].Gnt,v=(e=o[0].c6,u=s[0].c6,e.LZ===u.LZ);if(f.Qw(c).qw(fg.qy(2.5*a))&&v)n=o.concat(s).sort(VB);else if(c.Hw(h)){for(var d=0;d<o.length&&o[d].Gnt.qw(c);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.s2.bw(r.s2)&&i.Gs===r.Gs&&i.tG===r.nG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(VB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.yl())}else n=s,this.yl()}else n=o;else n=s;return n},i.qnt=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Qw(r.Gnt),u=Ag(n,r.Gnt).Qw(e),s=n.Fg(u),o=FB.Uy(s.xy),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Qw(c.Gnt).qw(o))return void(this.Hnt=t.slice(a));var h=this.bJ.N1(c.c6,c.s2);this.Jz(h,c)}this.Hnt=[]}},n}(iD);function VB(t,n){return(t.c6===n.c6?vg(t.s2,n.s2):vg(t.Gnt,n.Gnt))||Z_(t.mA,n.mA)}var XB=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).jnt=!1,f.Qnt=!1,f.Ynt=!1,f.Znt=!1,f.Jnt=!1,f.$nt=null,f.xJ=void 0,f.Knt=void 0,f.tit=null,f.uw=-1,f.nit=null,f.iit=!1,f.rit=!1,f.eit=1/0,f.uit=void 0,f.sit=null,f.oit=0,f.Ao=function(t){f.dispatchEvent(t)},f.ait=function(){!f.Ynt&&!f.Znt&&f.cit&&f.jnt&&(f.Znt=f.hit("lZ",f.fit,function(){f.Znt=!1}))},f.vit=function(){!f.Ynt&&!f.Jnt&&f.dit&&f.Qnt&&(f.Jnt=f.hit("_Z",f.lit,function(){f.Jnt=!1}))},f._it=function(t){return f.git()},f.wit=function(t){if(t.cp===f.cp){var n=t.c6,i=n.i3;i.j1&&f.yit(i.j1,n.info),i.n2&&f.mit(i.n2,n.info),f.git(f.L4.H4,!0)}},f.A$=function(t){var n=t;f.kit(n.kJ,n.LZ)},f.pit=function(t){if(f.tit)for(var n=0;n<f.tit.Lp;n++){var i="CC"+(n+1);f.iK.$J(i,t.cue.ew,t.cue.uw)}f.iK.ZJ(t.cue)},f.hN=c,f.iK=i,f.Ait=r,f.hnt=e,f.bit=u,f.k7=s,f.Zp=o,f.L4=h,f.JA=new wB(o),f.Tit=f.Eit(i),e._l(n,f.JA,f.k7),f.fit=new uB(s,f.JA),f.lit=new uB(s,f.JA),f.tit=f.Sit(f.JA),f.Rit=new BB(n,f.JA,f.Tit,e),e.addEventListener("a6",f.wit),f.JA.addEventListener("Fo",f.Ao),i.addEventListener("v$",f.A$),f}M(n,t);var i=n.prototype;return i.hit=function(t,n,i){var r=this,e=this.k7.W4,u=5*this.k7.C_,s=this.Iit(),o="audio"===this.cp?[this.Nit]:this.Tit.vZ,a=n.D7(),c=a[0],h=a[1],f=this.hnt.x6(this.cp,t,this.JA,o,c,h||void 0,e,u,s);return f&&!f.length&&f.p6?(this.k7.Dit("lZ"===t,"_Z"===t),!1):!(!f||!f.length)&&(this.bit.y9(this.cp,this.iK,f,f.A6,f.tU,f.p6,function(t,e){if(i(),t)r.dispatchEvent({type:"Fo",Fo:t});else{var u=e;n.p7(u).then(function(){return r.dispatchEvent("fK")}).catch(function(t){0})}}),!0)},i.Cit=function(){this.bit._o(this.cp),this.Znt=!1,this.Jnt=!1},i.Oit=function(){var t=this.k7.W4,n=this.fit.S7(t)||this.lit.S7(t);!n||this.$nt&&this.$nt.GQ===n.GQ||(this.git(this.L4.H4),this.$nt=n,this.dispatchEvent({type:"xit",rb:this.$nt.ra.r3}))},i.Pit=function(){this.Bit()},i.Lit=function(){this.Pit()},i.Mit=function(){this.git(this.L4.H4)},i.Uit=function(t,n){this.fit.S7(t)||this.lit.S7(t)||(this.$nt=null)},i.Fit=function(t){var n=!1;this.fit.N7().Hg(t)||(this.ait(),n=!0),this.lit.N7().Hg(t)||(this.vit(),n=!0),n&&this.git(this.L4.H4,!0)},i.Hit=function(){this.fit.Zo()},i.Vit=function(){this.lit.Zo()},i.Iit=function(){return 0===this.fit.kl+this.lit.kl?0:"g6"===this.Zp.w6?0:1*this.hnt.V4},i.Bit=function(){this.ait(),this.vit()},i.Z$=function(t){return-1!==this.Tit.vZ.indexOf(t)},i.Xit=function(t){t&&this.Z$(t)&&(this.EJ(t),this.h$(t))},i.EJ=function(t){this.JA.btt(t,t.lY)},i.h$=function(t){var n=this;if(t&&t.lY&&this.Zp.hlsDateRange){this.iK.h$(t.lY.dateRanges,function(i){return n.JA.Btt(t,i).Mw()})}},i.Wit=function(t){this.Z$(t.LZ)&&this.JA.Y7(t.LZ,t)},i.qit=function(t){var n,i,r,e=t,u=this.fit.S7(e)||this.lit.S7(e);if(u)i=u.ra.quality,r=u.GQ,n=u._I;else{var s=this.Nit;if(!s)return null;var o=this.JA.I6(s,fg.qy(e));if(!o)return null;i=s,r=o.wp.GQ,n=o.Ptt.Mw()}var a=this.JA.xtt(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.Btt=function(t){var n=this.Nit;return this.JA.Btt(n,t).Mw()},i.git=function(t,n){var i=this,r=this.zit(),e=this.k7.W4;t&&(this.uw=e+t,n&&(this.sit=null,this.oit=0)),this.zit()||e>=this.uw?this.Git(r):this.nit||this.iit||!this.Nl||(this.jit(),this.Qit(function(t){return i.Yit(e,i.k7.C_,t)}))},i.Zit=function(t){t&&this.Ait.removeEventListener(t.uri,this._it)},i.Jit=function(t){t&&this.Ait.addEventListener(t.uri,this._it)},i.zit=function(){return-1===this.uw},n.$it=function(t){return KD.F_(t.LZ.YZ)&&qb()-t.Jk>2e3*t.LZ.lY.metadata.a8},i.Qit=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.nit=new eu,r=this.nit,t.prev=3,t.next=6,n(r.mo);case 6:i=t.sent,ou(r.mo),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),cu(t.t0);case 13:return t.prev=13,this.nit===r&&(this.nit=null),t.finish(13);case 16:i&&this.git();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.jit=function(){this.nit&&(this.nit._o(),this.nit=null)},i.Kit=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.trt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!QB.$it(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("nrt"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.oit)),this.oit+=1,this.jit(),!(this.oit>2)){t.next=8;break}return n.LZ.UZ(!1),t.abrupt("return",n.LZ.XZ());case 8:this.Qit(function(t){return yu(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.yit=function(t,n){var i,r;r=yC((i=t).Q1,4),i.YJ="0000.0000.0000."+r,function(t){var n=yC(t.Y1,4),i=yC(t.Z1,3),r=yC(t.J1,2*t.Z1);t.Vl=(n+i+r).toUpperCase()}(t),sB(n,this.JA,t),this.iK.QJ(t,this.JA)},i.mit=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(de(de({},e),{c6:n}))}this.tit&&this.tit.Vnt(i,n.b4,n.a3)},i.irt=function(t){this.uit&&this.uit.c6===t&&this.git()},i.rrt=function(t,n){if(n){if(n.aborted)return;if(this.sit===t)return this.trt(t)}else t.LZ.UZ(!0);return this.git()},i.ert=function(t){var n=aC(t.LZ.kJ);n&&this.dispatchEvent(new MB(nC(t.uri),t.LZ.bandwidth||0,t.GQ,t.LZ.GQ,n))},i.urt=function(t,n){var i=this.uit&&this.uit.Kf.P0||200,r=aC(t.LZ.kJ);r&&this.dispatchEvent(new UB(nC(t.uri),t.LZ.bandwidth||0,t.GQ,t.LZ.GQ,r,i,n&&n.p0.H0||0))},i.Git=function(t){this.uw=-1,t||this.dispatchEvent("ort")},i.art=function(t){this.rit=!0,this.Git(t),this.dispatchEvent("RK")},i.Yit=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(r),e=this.Nit,u=this.zit(),this.Zit(e||void 0),!(n>=this.uw)){t.next=7;break}return this.Git(u),t.abrupt("return",!1);case 7:return t.next=9,this.Rit.Lnt(n,this.uw,i,e||void 0,this.Iit(),this.uit&&this.uit.Kf,this.uit&&this.uit.c6,this.crt,this.hrt);case 9:if(s=t.sent,nl.i_(this.hnt.b5/8),ou(r),s.Ol!==AB.ant){t.next=18;break}return this.jit(),this.dispatchEvent("nrt"),t.abrupt("return",!1);case 18:if(s.Ol!==AB.ont){t.next=29;break}if(s.LZ!==e){t.next=24;break}return this.Jit(e),t.abrupt("return",!1);case 24:return t.next=26,this.Kit(s.LZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.Ol!==AB.i9){t.next=33;break}return this.Jit(e||void 0),!KD.F_(e.YZ)&&e.lY&&this.art(u),t.abrupt("return",!1);case 33:if(o=s.wp,!this.uit||this.uit.c6!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.LZ===e){t.next=40;break}return t.next=39,this.Kit(o.LZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.uit&&(this.uit.Kf._o(),this.uit=void 0),!(s.ew>this.eit)){t.next=46;break}return this.art(u),t.abrupt("return",!1);case 46:if(!(s.ew>this.uw)){t.next=49;break}return this.Git(u),t.abrupt("return",!1);case 49:if(this.rit=!1,this.uit=void 0,o!==this.sit&&(this.oit=0),this.sit=o,this.dispatchEvent("SK"),this.ert(o),!o.r8){t.next=59;break}return t.next=58,this.hnt.u6(this.cp,String(o.LZ.Dl),o.r8);case 58:a=t.sent;case 59:return(c=this.hnt.o6(this.cp,o,a,function(t,n){h.jit(),h.urt(o,n),h.uit=void 0,r&&r.eo||h.rrt(o,t)}))&&(this.uit={c6:o,Kf:c},c.addEventListener("fK",function(){r&&r.eo||h.irt(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.frt=function(t){this.git(t||this.L4.H4,!0)},i.vrt=function(){var t=this.zit();this.uw=-1,this.uit&&this.uit.Kf._o(),this.uit=void 0,this.Zit(),this.rit=!1,this.sit=null,this.oit=0,this.jit(),this.Git(t),this.tit=this.Sit(this.JA)},i.drt=function(){this.iit=!0,this.Zit(),this.jit()},i.lrt=function(){this.iit=!1,this.git()},i._rt=function(){this.Ynt=!0},i.grt=function(){this.Ynt=!1,this.Bit()},i.Sv=function(){this.Io(),this.vrt(),this.Cit(),this.cit=null,this.dit=null,this.fit.Sv(),this.lit.Sv(),this.bit._o(this.cp),this.JA.Sv(),this.iK.removeEventListener("v$",this.A$),this.hnt.removeEventListener("a6",this.wit),this.Tit=null,this.wrt()},i.yl=function(){this.$nt=null,this.xJ=void 0,this.Knt=void 0,this.wrt(),this.tit=this.Sit(this.JA)},i.Sit=function(t){var n=new HB(t);return n.Eo("kz",this.pit),n},i.wrt=function(){this.tit&&(this.tit.No("kz",this.pit),this.tit.Sv(),this.tit=null)},L(n,[{key:"E_",get:function(){return this.k7.W4}},{key:"yrt",get:function(){return this.jnt}},{key:"cp",get:function(){return this.mrt()}},{key:"JZ",get:function(){return this.krt()}},{key:"crt",get:function(){return this.prt()}},{key:"hrt",get:function(){return this.Art()}},{key:"cit",get:function(){return this.fit.E7},set:function(t){var n=this.fit.E7;n&&n.removeEventListener("updateend",this.ait),this.fit.E7=t,t&&(t.addEventListener("updateend",this.ait),this.ait())}},{key:"dit",get:function(){return this.lit.E7},set:function(t){var n=this.lit.E7;n&&n.removeEventListener("updateend",this.vit),this.lit.E7=t,t&&(t.addEventListener("updateend",this.vit),this.vit())}},{key:"ort",get:function(){return this.zit()}},{key:"RK",get:function(){return this.rit}},{key:"brt",get:function(){return this.eit},set:function(t){this.eit=t}},{key:"Nit",get:function(){return this.Trt()}},{key:"Ert",get:function(){return this.Srt()},set:function(t){this.Rrt(t)}},{key:"Nl",get:function(){return this.TM()}},{key:"Pg",get:function(){return this.Irt()}}]),n}(xD);function WB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function qB(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){WB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function zB(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var GB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Nrt=null,o.Drt=null,o.Crt=null,o.Ort=null,o.xrt=null,o.Prt=null,o.Brt=null,o.Lrt=!1,o.Vg=!0,o.kZ=!0,o.Mrt=null,o.Urt=function(){o.Mrt&&o.Mrt.disabled&&o.Frt(o.Zp.initialRendition||"default"),o.Hrt(!0)},o.Vrt=function(){var t=o.iK.m$.dZ.some(function(t){return t.Pg});o.Xrt(t)},o.Wrt=function(t){"variant"===t.cp&&(o.hnt.removeEventListener("l6",o.Wrt),o.Mrt&&(o.Mrt=null,o.Hrt(!1)))},o.hN=s,o.iK=n,o.JA=i,o.hnt=r,o.Zp=e,o.qrt=e.zrt||[],o.Grt=new ZP(e,jC.Ve.YK,u),o.Nrt=null,o.hnt.addEventListener("l6",o.Wrt),o.jrt(),o.Qrt(),o.Frt(e.initialRendition||"default"),o}M(n,t);var i=n.prototype;return i.Yrt=function(t,n){var i=uC(t);if(i&&!i.disabled)return i;var r=this.Zrt(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.GQ<=n.GQ?t:n});case"high":var e=qB(r);return e[e.length-1];case"low":default:return qB(t)[0]}},i.Jrt=function(t,n){var i=this.$rt||this.Mrt&&[this.Mrt],r=i&&i.filter(function(n){return $e(t,n)});return r&&r.length>0?qB(r):qB(this.Zrt(t,n))},i.Zrt=function(t,n){var i=this.Zp,r=this.qrt,e=this.Krt();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].tet(t,n,e,i))return!1}return!0})},i.net=function(t,n){var i=this.Jrt(t,n);return i.length?i[i.length-1]:t[0]},i.iet=function(t,n){var i=this.$rt;return i&&i.length>0?i.filter(function(n){return $e(t,n)}):t},i.ret=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Ort,e=this.xrt,!r||n!==this.Prt||i!==this.Brt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new eu,s=this.eet(n,i,u.mo),r&&e&&e._o(),this.Ort=s,this.xrt=u,this.Brt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.Ort&&(this.Ort=null,this.xrt=null,this.Brt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.eet=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.iK,u=this.JA,s=e.y$,t.next=5,this.uet(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.tnt(s,i.GQ),a=u.I6(n,o),KD.F_(s.YZ)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.uet=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Drt,e=this.Crt,!r||n!==this.Prt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new eu).wo(i),s=this.oet(n,u.mo),r&&e&&e._o(),this.Drt=s,this.Crt=u,this.Prt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.Drt&&(this.Drt=null,this.Crt=null,this.Prt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.oet=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.iK,e=r.y$,!this.Nl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.aet(n)){t.next=8;break}u=n.lY,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Grt.ba(n.uri,{});case 11:s=t.sent,ou(i),u=s.X_,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.PZ(!1),n.XZ(),t.abrupt("return",!1);case 21:n.DZ(u,e);case 22:if(!zB(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.aet=function(t){var n=t.lY;return!n||!!n.live&&(!t.vY.kl||t.vY.ZQ(t.vY.kl-1).Jk+1e3*n.targetDuration<qb())},i.jg=function(t){t?this.Vg||(this.Vg=!0,this.dispatchEvent("Nl")):this.Vg&&(this.Vg=!1)},i.Xrt=function(t){t&&!this.kZ?(this.kZ=!0,this.dispatchEvent("Pg")):!t&&this.kZ&&(this.kZ=!1,this.dispatchEvent("Ov"))},i.Hrt=function(t){var n=this,i=this.iK,r=i.y$,e=i.m$.dZ,u=this.iet(e,r),s=this.net(u,r);s?this.ret(s,null).then(function(r){r&&(i.KJ(s,t),n.jg(!0))}):this.jg(!1)},i.cet=function(){this.Mrt=null,this.Hrt(!0)},i.Qrt=function(){this.iK.m$.addEventListener("cZ",this.Vrt)},i.het=function(){this.iK.m$.removeEventListener("cZ",this.Vrt)},i.jrt=function(){this.iK.m$.addEventListener("oZ",this.Urt)},i.fet=function(){this.iK.m$.removeEventListener("oZ",this.Urt)},i.Frt=function(t){var n=this.iK,i=n.m$.dZ;if(Boolean(n.y$&&!n.y$.disabled))this.Mrt=null;else{if(i&&i.length){var r;switch(this.hN.zx.type){case XT.PERFORMANCE:r="low";break;case XT.QUALITY:r="high";break;case XT.BANDWIDTH:r=t}this.Mrt=this.Yrt(i,r),this.Lrt=!0}var e=this.iet(i,null),u=this.net(e,null);u&&(n.y$=u)}},i.Krt=function(){return this.Lrt?{b5:this.hnt.b5}:{b5:this.hN.tP}},i._o=function(){this.Ort&&this.xrt&&(this.xrt._o(),this.Ort=null,this.xrt=null,this.Brt=null),this.Drt&&this.Crt&&(this.Crt._o(),this.Drt=null,this.Crt=null,this.Prt=null)},i.Sv=function(){this.hnt.removeEventListener("l6",this.Wrt),this.fet(),this.het(),this._o(),this.Nrt=null,this.Mrt=null},i.vet=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.iK,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.ret(n,i);case 5:return(e=t.sent)&&(r.y$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"Nl",get:function(){return this.Vg}},{key:"Pg",get:function(){return this.kZ}},{key:"hrt",get:function(){var t=this.iK,n=t.y$,i=this.iet(t.m$.dZ,n);return this.Jrt(i,n)}},{key:"crt",get:function(){return this.iet(this.iK.m$.dZ,this.iK.y$)}},{key:"$rt",get:function(){return this.Nrt},set:function(t){this.Nrt=t,this.cet()}}]),n}(xD),jB=function(){function t(t,n){this.det=-1,this.Wd=t,this.JA=n}return t.prototype.Ea=function(t){for(var n=t.vY,i=n.YQ(this.det),r=i<0?0:i+1;r<n.kl;r++){var e=n.ZQ(r);if(e.GQ>this.det){var u=this.JA.E1(e),s=this.JA.S1(e,u),o=new H_(u.Mw(),s.Mw(),[].concat(e.qZ),!1);o.Dl=""+e.GQ,this.Wd.Eb(o),this.det=e.GQ}}},t}(),QB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,JD.KY,n,i,r,e,u,s,o,a,c)||this).let=null,h._et=null,h.wet=new GB(n,h.JA,r,s,o,a),h.wet.addEventListener("Nl",h.Ao),h.wet.addEventListener("Pg",h.Ao),h.wet.addEventListener("Ov",h.Ao),s.manifestMetadataTrack&&(h.let=n.jJ("",h.JA,""),h._et=new jB(h.let,h.JA)),h.jnt=!h.iK.o$||!h.iK.o$.uri,h.Qnt=Boolean(h.iK.y$),h}M(n,t);var i=n.prototype;return i.kit=function(t,n){if("lZ"===t){var i=n?n.uri:void 0;this.jnt=!i}},i.mrt=function(){return JD.KY},i.krt=function(){return this.Nit&&this.Nit.JZ||!1},i.Trt=function(){return this.iK.y$},i.prt=function(){return this.wet.crt},i.Art=function(){return this.wet.hrt},i.Srt=function(){var t=this.wet.$rt;return t&&t.map(function(t){return t.Dl})},i.Rrt=function(t){if(t&&t.length>0){var n=this.Tit.vZ.filter(function(n){return-1!==t.indexOf(n.Dl)});if(!(n.length>0))return void 0;this.wet.$rt=n}else this.wet.$rt=null},i.TM=function(){return this.wet.Nl},i.Irt=function(){return this.wet.Pg},i.Kit=function(){var n=T.coroutine(ve.mark(function n(i,r){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.wet.vet(i,r);case 2:return n.abrupt("return",t.prototype.Kit.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.vrt=function(){t.prototype.vrt.call(this),this.wet._o()},i.EJ=function(n){t.prototype.EJ.call(this,n),this._et&&this._et.Ea(n)},i.Sv=function(){t.prototype.Sv.call(this),this.wet.Sv(),this.wet.removeEventListener("Pg",this.Ao),this.wet.removeEventListener("Ov",this.Ao)},i.Eit=function(t){return t.m$},i.yet=function(){var t=this.E_,n=this.yrt?this.fit.R7(t):void 0,i=n?n.LZ:void 0,r=this.lit.R7(t),e=r?r.LZ:void 0,u=this.xJ;this.xJ=i;var s=this.Knt;return this.Knt=e,!u&&i?{d$:u,met:i}:!s&&e?{d$:s,met:e}:s&&e&&s.Dl!==e.Dl?{d$:s,met:e}:void 0},n}(XB),YB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,JD.gv,n,i,r,e,u,s,o,a,c)||this).jnt=!!h.iK.o$&&!!h.iK.o$.uri,h.Qnt=!1,h}M(n,t);var i=n.prototype;return i.kit=function(t,n){if("lZ"===t){var i=n?n.uri:void 0;this.jnt=!!i}},i.mrt=function(){return JD.gv},i.krt=function(){return this.Nit&&this.Nit.JZ||!1},i.Trt=function(){return this.iK.o$},i.prt=function(){var t=this.Trt();return t?[t]:[]},i.Art=function(){return this.prt()},i.Eit=function(t){return t._J},i.Srt=function(){return null},i.Rrt=function(t){},i.TM=function(){return!0},i.Irt=function(){return!0},i.yet=function(){var t=this.yrt?this.fit.R7(this.E_):void 0,n=t?t.LZ:void 0,i=this.xJ;return this.xJ=n||void 0,!i&&n?{d$:i,met:n}:i&&n&&i.Dl!==n.Dl?{d$:i,met:n}:void 0},n}(XB),ZB=function(){function t(t,n,i,r,e,u){var s=this;this.ket=!1,this.pet=nA.KI(),this.Aet=[],this.bet=[],this.TJ=function(){return s.Tet()},this.Eet=function(t){t.X_.live||s.Ret.removeEventListener(s.uY.UY,s.Eet),s.uY.DZ(t.X_)},this.Iet=function(){s.uY.IJ.Xl===Vd.Ml?s.ket&&s.Net():s.ket||s.Det()},this.uY=t,this.Ret=n,this.M4=i,this.L4=u,this.Cet=new tO(r,e),this.Oet=new eu,t.IJ.Eo(vd.tl,this.Iet),t.JA&&t.JA.addEventListener("NJ",this.TJ),this.Iet()}var n=t.prototype;return n.Det=function(){this.ket||this.uY.IJ.Xl===Vd.Ml||(this.Ret.removeEventListener(this.uY.UY,this.Eet),this.Ret.addEventListener(this.uY.UY,this.Eet),this.Ret.J8(this.uY.UY),this.Ret.K8(this.uY.UY),this.ket=!0,_u(this.xet(this.Oet.mo)))},n.xet=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.M4.W4,r=this.L4.H4,e=new nA([i,i+r]),(u=e.II(this.pet.NI())).kl){t.next=16;break}return t.prev=6,t.next=9,yu(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),cu(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.xet(n));case 16:if(s=u._I(0),o=this.Pet(s)){t.next=30;break}return a=this.uY,t.prev=20,t.next=23,od(a,"BZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),cu(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.xet(n));case 30:c=o.wp,h=o.Ptt.Mw(),f=h+c.duration,this.Cet.ba("IJ",c.uri,qo.ze,function(){var t=T.coroutine(ve.mark(function t(i,r){var e,u,s,o,a,d;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw yu(1e3,n).then(function(){return v.xet(n)}),i;case 3:for(v.pet=v.pet.BI(new nA([h,f])),v.Aet.push(c.GQ),e=Ug(r.Fv),u=e.lm||{_m:fg.ey,gm:fg.ey},s=v.uY.vY.JQ(c.GQ),o=0,a=e.ql;o<a.length;o++)d=a[o],v.bet.push({c6:s,Ptt:JB(fg.qy(d.ew),u.gm,u._m),Bet:JB(fg.qy(d.uw),u.gm,u._m),rw:d});return v.Tet(),t.next=12,v.xet(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.Tet=function(){var t=this.uY.JA;if(this.bet.length&&t){for(var n=[],i=0,r=this.bet;i<r.length;i++){var e=r[i],u=t.N1(e.c6,e.Ptt);if(u.Yw())n.push(e);else{var s=t.N1(e.c6,e.Bet),o=new X_(u.Mw(),s.Mw(),e.rw.sw,!1,e.rw.Dl);this.uY.IJ.Eb(o)}}this.bet=n,this.uY.IJ.ZF(this.M4.W4,!0)}},n.Pet=function(t){var n=this.uY.JA,i=this.uY.vY;if(n.Itt)for(var r=n.Utt.Mw(),e=i.kl-1;e>=0;e-=1){var u=i.ZQ(e),s=r-u.duration;if(new nA([s,r]).DR(t,.5)){var o={wp:u,Ptt:fg.qy(s)};return this.Let(i,o,e)}r=s}else for(var a=0,c=0;c<i.kl;c+=1){var h=i.ZQ(c),f=a+h.duration;if(new nA([a,f]).DR(t,.5)){var v={wp:h,Ptt:fg.qy(a)};return this.Let(i,v,c)}a=f}},n.Let=function(t,n,i){var r=n.wp;if(-1===this.Aet.indexOf(r.GQ))return n;for(var e=n.Ptt.Mw()+r.duration,u=i+1;u<t.kl;u+=1){var s=t.ZQ(u);if(-1===this.Aet.indexOf(s.GQ))return{wp:s,Ptt:fg.qy(e)};e+=s.duration}},n.Net=function(){this.ket=!1,this.Ret.Z8(this.uY.UY),this.Oet._o(),this.Oet=new eu},n.yl=function(){this.Net(),this.pet=nA.KI(),this.Aet.length=0,this.uY.IJ.No(vd.tl,this.Iet),this.uY.JA&&this.uY.JA.removeEventListener("NJ",this.TJ),this.Ret.removeEventListener(this.uY.UY,this.Eet)},t}();function JB(t,n,i){return pg(i,t.Qw(n))}var $B=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Met=NaN,u.Uet=!1,u.Fet=1/0,u.Het=1/0,u.Vet=null,u.Xet=!0,u.Wet=!0,u.k7=null,u.qet=void 0,u.zet=void 0,u.Get=[],u.XJ=function(){var t=u.iK.S_;w(t)||u.Met===t||(u.Met=t,u.dispatchEvent("durationchange"))},u.jet=function(){u.oK&&(u.iK.removeEventListener("renditionUpdated",u.jet),u.dispatchEvent("oK"))},u.Qet=function(){u.ort&&u.dispatchEvent("ort")},u.Yet=function(){u.RK&&u.dispatchEvent("RK")},u.Ao=function(t){u.dispatchEvent(t)},u.Zet=function(t){var n=u.iK.n$(t.j8);n?n instanceof vC&&(n.PZ(!1),n.XZ()):u.dispatchEvent(t)},u.Jet=function(t){u.iK.X_||(t.Fo.code===BD.OQ?(u.Vet||(u.Vet=o(u.$et,Rp)),u.Wet=!1,u.MZ()):u.dispatchEvent({type:"Fo",Fo:t.Fo}))},u.Ket=function(t){u.tut(),u.nut(t.X_),u.iut(),u.iK.removeEventListener("u$",u.XJ),u.iK.addEventListener("u$",u.XJ),u.XJ(),u.Uet||(u.Uet=!0,u.dispatchEvent("loadedmetadata")),u.jet(),u.Wet=!0,u.MZ()},u.$et=function(){u.tut();var t=u.IK;t&&(u.Ait.yl(),u.Ait.IK=t,u.Ait._I())},u.rut=function(){u.Ait.t7()},u.eut=function(){u.uut.forEach(function(t){return t.grt()})},u.sut=function(t){u.out.forEach(function(n){return n.Xit(t.LZ)})},u.aut=function(t){u.uut.forEach(function(n){return n.Wit(t.h4)}),u.cut.a7(t.h4,u.uut.map(function(t){return t.JA}))},u.MZ=function(){var t=u.Xet,n=u.Irt();u.Xet=n,n&&!t?u.dispatchEvent("Pg"):!n&&t&&u.dispatchEvent("Ov")},u.hN=e,u.Zp=n,u.EK=i,u.pb=r,u.hnt=new Qx(n,i,r,rn(u)),u.bit=new DP(n),u.iK=new lC(n),u.Ait=new $P(r,n),u.cut=new KP,u.Ait.addEventListener("Fo",u.Zet),u.Ait.addEventListener("G8",u.Jet),u.Ait.addEventListener("Q8",u.Ket),u.hnt.addEventListener("a6",u.Ao),u.hnt.addEventListener("Fo",u.Ao),u.iK.addEventListener("v$",u.Ao),u.iK.addEventListener("BZ",u.sut),u.iK.addEventListener("CJ",u.aut),u.iK.addEventListener("l$",u.Ao),u.cut.addEventListener("r7",u.Ao),u.cut.addEventListener("r7",u.eut),u.addEventListener("Pg",u.rut),u}M(n,t);var i=n.prototype;return i.hut=function(t){t.brt=this.brt,t.addEventListener("xit",this.Ao),t.addEventListener("fut",this.Ao),t.addEventListener("Fo",this.Ao),t.addEventListener("nrt",this.Ao),t.addEventListener("SK",this.Ao),t.addEventListener("ort",this.Qet),t.addEventListener("RK",this.Yet),t.addEventListener("Ov",this.MZ),t.addEventListener("Pg",this.MZ),t.addEventListener("Nl",this.Ao),t.addEventListener("fK",this.Ao),t.addEventListener(Wo.uh,this.Ao),t.addEventListener(Wo.oh,this.Ao)},i.iut=function(){this.vut();this.iK.m$.vZ;var t=this.iK._J.vZ;this.qet=new QB(this.iK,this.Ait,this.hnt,this.bit,this.k7,this.Zp,this.pb,this.hN,this),this.hut(this.qet),t.length&&(this.zet=new YB(this.iK,this.Ait,this.hnt,this.bit,this.k7,this.Zp,this.pb,this.hN,this),this.hut(this.zet));for(var n=this.iK.k$,i=this.qet.JA,r=0;r<n.length;r++){var e=n[r];e.JA=i,this.Get.push(new ZB(e,this.Ait,this.k7,this.pb,this.Zp,this))}},i.vut=function(){this.qet&&(this.qet.Sv(),this.qet=void 0),this.zet&&(this.zet.Sv(),this.zet=void 0),this.Get.forEach(function(t){return t.yl()}),this.Get.length=0,this.cut.yl()},i.dut=function(t){this.uut.forEach(function(n){return n.frt(t)})},i.nut=function(t){this.iK.X_=t},i.lut=function(){this.Ait._I()},i._ut=function(t){this.cut.c7(t,this.uut.map(function(t){return t.JA}))||this.uut.forEach(function(t){t.Cit(),t._rt()})},i.Net=function(){this.hnt.e6(),this.uut.forEach(function(t){return t.vrt()})},i.PK=function(){this.hnt.e6(),this.uut.forEach(function(t){return t.drt()})},i.DK=function(){this.uut.forEach(function(t){return t.lrt()})},i.Sv=function(){this.Io(),this.tut(),this.vut(),this.hnt.Sv(),this.bit.Sv(),this.iK.Sv(),this.Ait.yl(),this.cut.Sv()},i.gut=function(t,n,i,r){var e=this.qet,u=this.zet;t&&(e.vrt(),this.hnt.Zo(e.cp),e.frt(r)),n&&u&&(u.vrt(),this.hnt.Zo(u.cp),i&&u.frt(r))},i.wut=function(){if(!this.qet)return yO;var t=this.qet;return UO(t.JA,this.hnt.J4(t.cp))},i.Y8=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.X_.live||r.Ait.removeEventListener(u,t),i&&i.DZ(n.X_)};u&&(this.Ait.removeEventListener(u,s),this.Ait.addEventListener(u,s)),this.Ait.Y8(e,u),this.Ait.K8(u)},i.tut=function(){null!==this.Vet&&a(this.Vet),this.Vet=null},i.Irt=function(){return!!this.Wet&&(!this.qet||this.qet.Pg)},i.UK=function(t){this.qet&&(this.qet.Ert=t)},i.yl=function(){this.out.forEach(function(t){return t.yl()}),this.Get.forEach(function(t){return t.yl()})},L(n,[{key:"yut",get:function(){return this.qet}},{key:"mut",get:function(){return this.zet}},{key:"uut",get:function(){var t=[];return this.qet&&t.push(this.qet),this.zet&&this.zet.yrt&&t.push(this.zet),t}},{key:"out",get:function(){return[this.qet,this.zet].filter(Z)}},{key:"H4",get:function(){return Wt(this.hN.Wx*this.hnt.V4,1,this.kut)}},{key:"IK",get:function(){return this.Ait.IK},set:function(t){this.Met=NaN,this.Fet=1/0,this.Uet=!1,this.Xet=!0,this.Wet=!0,this.iK.removeEventListener("renditionUpdated",this.jet),this.iK.removeEventListener("u$",this.XJ),this.tut(),this.vut(),this.hnt.Zo(),this.bit._o(),this.iK.Sv(),this.iK.addEventListener("renditionUpdated",this.jet),this.Ait.IK=t,this.MZ()}},{key:"S_",get:function(){return this.Met}},{key:"Itt",get:function(){return this.iK&&KD.F_(this.iK.YZ)}},{key:"Pg",get:function(){return this.Xet}},{key:"oK",get:function(){var t=this.uut;return t.length>0&&t.every(function(t){return t.JZ})}},{key:"V4",get:function(){return this.hnt.V4},set:function(t){t>0&&(this.hnt.V4=t)}},{key:"ort",get:function(){return this.uut.every(function(t){return t.ort})}},{key:"RK",get:function(){return this.uut.length>0&&this.uut.every(function(t){return t.RK})}},{key:"kut",get:function(){return this.Het},set:function(t){this.Het=t}},{key:"brt",get:function(){return this.Fet},set:function(t){var n=this;this.Fet=t,this.out.forEach(function(t){return t.brt=n.Fet})}},{key:"Mg",get:function(){return this.oK?new wO([{_I:this.Mtt,wI:this.Utt}]):yO}},{key:"Mtt",get:function(){if(!this.oK)return 0;for(var t=-1/0,n=0,i=this.uut;n<i.length;n++){var r=i[n];t=l.max(t,r.JA.Mtt.Mw())}return t}},{key:"Utt",get:function(){if(!this.oK)return 0;for(var t=1/0,n=0,i=this.uut;n<i.length;n++){var r=i[n];t=l.min(t,r.JA.Utt.Mw())}return t}},{key:"Ftt",get:function(){if(!this.oK)return 0;for(var t=1/0,n=0,i=this.uut;n<i.length;n++){var r=i[n];t=l.min(t,r.JA.Ftt.Mw())}return l.max(t,this.Mtt)}},{key:"MK",get:function(){return this.qet&&this.qet.Ert||void 0}}]),n}(xD),KB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Met=NaN,r.Uet=!1,r.Vet=null,r.Xet=!0,r.let=null,r._et=null,r.Ao=function(t){r.dispatchEvent(t)},r.nut=function(t){if(r.iK.X_||(r.iK.X_=r.Aut.w$||null),!r.iK.y$){var n=r.iK.m$.vZ[0];n&&(r.iK.y$=n,r.Aut.W8(n),r.dispatchEvent({type:"but",LZ:n}))}t.manifest.isMasterPlaylist||r.iK.y$.DZ(t.manifest),void 0!==t.manifest.duration&&r.Met!==t.manifest.duration&&(r.Met=t.manifest.duration,r.dispatchEvent("durationchange")),r.Uet||(r.Uet=!0,r.dispatchEvent("loadedmetadata")),r.Xrt(!0),r.dispatchEvent({type:"X8",manifest:t.manifest})},r.Jet=function(t){t.Fo.code===BD.OQ?(r.Vet||(r.Vet=o(r.$et,Rp)),r.Xrt(!1)):r.dispatchEvent({type:"Fo",Fo:t.Fo})},r.$et=function(){r.tut();var t=r.IK;t&&r.Aut._I(t)},r.tut=function(){a(r.Vet),r.Vet=null},r.sut=function(t){var n=t.LZ;r.JA.btt(n,n.lY),r.Zp.manifestMetadataTrack&&(r._et||(r.let=r.iK.jJ("",r.JA,""),r._et=new jB(r.let,r.JA)),r._et.Ea(n))},r.Zp=n,r.iK=new lC(n,!0),r.JA=new yB(n),r.Aut=new JP(i,r.Zp),r.JA.addEventListener("Fo",r.Ao),r.Aut.addEventListener("X8",r.nut),r.Aut.addEventListener("Fo",function(t){r.iK.X_?(r.Vet||(r.Vet=o(r.$et,Rp)),r.Xrt(!1)):r.Jet(t)}),r.iK.addEventListener("BZ",r.sut),r}M(n,t);var i=n.prototype;return i.lut=function(){this.iK.X_||this.Aut._I()},i.wut=function(){return yO},i.Xrt=function(t){var n=this.Xet;this.Xet=t,t&&!n?this.dispatchEvent("Pg"):!t&&n&&this.dispatchEvent("Ov")},i.Sv=function(){this.Io(),this.tut(),this.iK.Sv(),this.Aut.Sv(),this._et=null,this.JA.Sv()},i.PK=function(){},i.DK=function(){},i.dut=function(t){},i.UK=function(t){},L(n,[{key:"IK",get:function(){return this.Aut.IK},set:function(t){this.Met=NaN,this.Uet=!1,this.tut(),this.iK.Sv(),this._et=null,this.Aut.IK=t,this.Xrt(!0)}},{key:"S_",get:function(){return this.Met}},{key:"Itt",get:function(){return this.iK&&KD.F_(this.iK.YZ)}},{key:"Pg",get:function(){return this.Xet}},{key:"RK",get:function(){return!1}},{key:"ort",get:function(){return!1}},{key:"MK",get:function(){return[]}}]),n}(xD),tL=1e3,nL="VEE3",iL=function(t){function n(n){var i;return(i=t.call(this,"Tut")||this).ptsOffset=n,i}return M(n,t),n}(Eu),rL=function(t){function n(n){var i;return(i=t.call(this)||this).Eut=null,i.Sut=0,i.Rut="start",i.Iut=1,i.Nut=!1,i.Dut=!1,i.Cut=0,i.Out=null,i.xut=null,i.Put=null,i.But=null,i.e7=0,i.Lut=0,i.Mut=new eu,i.Uut=new Gs,i.Fut=void 0,i.Hut={},i.Vut=!1,i.Xut=null,i.Wut=NaN,i.Oit=function(){i.R$.uut.map(function(t){t.Oit()})},i.yet=function(){for(var t,n,r,e=0,u=i.R$.out;e<u.length;e++){var s=u[e],o=s.yet();if(o){var a=o.met;a&&a.kJ!==$D.gv&&(i.Xut=a)}s.cp===JD.gv?t=o:s.cp===JD.KY&&(n=o,r=s)}(t||n)&&i.dispatchEvent({type:"v$",qut:t&&t.d$,U$:t&&t.met,X$:n&&n.d$,M$:n&&n.met,B$:!!r&&r.yrt})},i.Pit=function(){null!==i.Out&&a(i.Out),i.Out=o(i.Pit,tL),i.R$.uut.forEach(function(t){return t.Pit()})},i.Mit=function(){null!==i.xut&&a(i.xut),i.Nut&&(i.xut=o(i.Mit,tL),i.R$.uut.forEach(function(t){return t.Mit()}))},i.Lit=function(){i.R$.uut.forEach(function(t){return t.Lit()})},i.zut=function(){if(i.R$.Itt&&i.C_>1){var t=i.R$.Ftt;i.Gut>t&&(i.C_=1,i.Gut>=t+1&&(i.Gut="start"))}},i.jut=function(){i.Eut&&(0===i.Eut.Qut()?i.Gut="start":i.Gut=i.Yut(i.W4))},i.Zut=function(){i.Cut=i.W4},i.Jut=function(t){i.$ut(),i.Eut.error&&(t.error.info.code===nL&&i.Lut<Ip?(i.Lut+=1,i.Kut()):i.dispatchEvent({type:"Fo",error:t.error}))},i.tst=function(){i.Lut=0},i.nst=function(){i.removeEventListener("ist",i.rst),i.Nut?i.rst():i.addEventListener("ist",i.rst)},i.rst=function(){var t=i.W4;i.R$.removeEventListener("oK",i.nst),i.R$.oK?i.R$.uut.forEach(function(n){return n.Fit(t)}):(i.R$.addEventListener("oK",i.nst),i.R$.lut())},i.est=function(){var t=i.W4;i.R$.out.forEach(function(n){return n.Uit(t,i.R$.Itt)})},i.ust=function(){null!==i.Out&&a(i.Out),i.Out=null,null!==i.xut&&a(i.xut),i.xut=null},i.sst=function(){i.ost(),i.R$.oK?i.NK():(i.R$.addEventListener("oK",i.sst),i.R$.lut())},i.ost=function(){i.R$.removeEventListener("oK",i.sst)},i.b$=function(t){i.R$.Y8(t.kJ,t.d$||void 0,t.LZ||void 0),t.l$&&i.ast(t.kJ,t.d$,t.LZ)},i.cst=function(t){var n=t.e7-i.e7;l.abs(n)>Sp&&(i.e7=t.e7,i.W4=i.W4+n)},i.hst=function(t){var n=t.c6.metadata;n.mJ&&(i.Hut[t.cp]=n.mJ,i.fst())},i.fst=function(){if(i.R$.oK){var t=d.keys(i.Hut).length===i.R$.uut.length;i.Eut&&!i.Eut.vst&&!i.Fut&&t&&i.dst(),i.Eut&&i.e7&&(i.Eut.e7=i.e7)}},i.lst=function(){if(w(i._st))if(i.R$.Itt)i._st=0;else{var t=i.Xut,n=t&&t.ZZ,r=t&&Z(n)&&!w(n)&&t._Y(n)||void 0;i._st=rC(r)?r.d4.Mw():NaN}i.vK&&(i.removeEventListener("v$",i.lst),i.R$.removeEventListener("a6",i.lst),i.dispatchEvent("vK",!0))},i.R$=n,n.k7=rn(i),i}M(n,t);var i=n.prototype;return i.Kut=function(){this.R$.Itt?this.Gut="start":(this.Cut+=.5,this.R$.uut.map(function(t){t.Cit(),t.Hit(),t.Vit()}),this.Gut=this.Cut),this.fst(),this.Eut.play()},i.gst=function(t){var n=this;this.Put&&(this.R$.removeEventListener("oK",this.Put),this.Put=null),this.R$.oK?(this.Dut=!0,this.Vut=!0,this.R$._ut(t),this.Vut=!1):(this.Put=function(){return n.gst(t)},this.R$.lut())},i.wst=function(t){this.yst(),this.R$.Itt&&(t="none"),"auto"===t&&this.sst()},i.mst=function(t){var n=this;this.yst(),"none"!==t&&(this.R$.oK?this.wst(t):(this.But=function(){return n.wst(t)},this.R$.addEventListener("oK",this.But),this.R$.lut()))},i.yst=function(){this.ost(),this.But&&(this.R$.removeEventListener("oK",this.But),this.But=null)},i.NK=function(){this.Dut?this.R$.dut():(this.Gut=this.Rut,this.R$.dut(22)),this.Nut||(this.Nut=!0,this.dispatchEvent("ist"))},i.kst=function(){this.Eut&&(this.Eut.addEventListener("pst",this.est),this.Eut.addEventListener("seeking",this.nst),this.Eut.addEventListener("error",this.Jut),this.Eut.addEventListener("playing",this.tst)),this.R$.addEventListener("v$",this.b$),this.R$.addEventListener("nrt",this.jut),this.R$.addEventListener("oK",this.fst),this.R$.addEventListener("r7",this.cst),this.R$.addEventListener("Nl",this.nst),this.BK()},i.Ast=function(){this.Eut&&(this.Eut.removeEventListener("pst",this.est),this.Eut.removeEventListener("seeking",this.nst),this.Eut.removeEventListener("error",this.Jut),this.Eut.removeEventListener("playing",this.tst)),this.R$.removeEventListener("v$",this.b$),this.R$.removeEventListener("nrt",this.jut),this.R$.removeEventListener("oK",this.fst),this.R$.removeEventListener("r7",this.cst),this.R$.removeEventListener("Nl",this.nst),this.LK()},i.BK=function(){this.Eut&&(this.Eut.addEventListener("loadstart",this.sst),this.Eut.addEventListener("timeupdate",this.Oit),this.Eut.addEventListener("playing",this.yet),this.Eut.addEventListener("timeupdate",this.yet),this.Eut.addEventListener("timeupdate",this.Mit),this.Eut.addEventListener("timeupdate",this.Pit),this.Eut.addEventListener("timeupdate",this.Zut),this.Eut.addEventListener("timeupdate",this.zut),this.Eut.addEventListener("ended",this.ust)),this.R$.addEventListener("a6",this.hst),this.R$.addEventListener("a6",this.Lit)},i.LK=function(){null!==this.Out&&a(this.Out),null!==this.xut&&a(this.xut),this.Eut&&(this.Eut.removeEventListener("loadstart",this.sst),this.Eut.removeEventListener("timeupdate",this.Oit),this.Eut.removeEventListener("playing",this.yet),this.Eut.removeEventListener("timeupdate",this.yet),this.Eut.removeEventListener("timeupdate",this.Mit),this.Eut.removeEventListener("timeupdate",this.Pit),this.Eut.removeEventListener("timeupdate",this.Zut),this.Eut.removeEventListener("timeupdate",this.zut),this.Eut.removeEventListener("ended",this.ust)),this.R$.removeEventListener("a6",this.hst),this.R$.removeEventListener("a6",this.Lit)},i.p7=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uut.sa;case 2:return i=this.Eut.p7(n),this.Eut.loading&&(this.Eut.loaded=!0,this.Eut.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wM=function(t,n){this.bst.wM(t,n)},i.Dit=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Uut.sa;case 3:return t.next=5,this.Eut.Dit(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),su(t.t0)||this.dispatchEvent({type:"Fo",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.dst=function(){var t=this,n=this.Uut,i=this.Tst(this.Fut,this.Mut.mo);this.Fut=i,i.then(function(){t.Fut===i&&(t.Fut=void 0,n.oa())},function(r){t.Fut===i&&(t.Fut=void 0,n.aa(r))})},i.Tst=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(S);case 3:return ou(i),t.next=6,this.Eut.dst(this.Hut,this.R$.S_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,u=this.R$.out;e<u.length;e++)s=u[e],r.lZ&&(s.cit=r.lZ),r._Z&&(s.dit=r._Z);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$ut=function(){this.Mut._o(),this.Mut=new eu,this.Fut=void 0,this.Uut=new Gs},i.Yut=function(t){var n=this.Mg;return n.length?Wt(t,n.start(0),n.end(n.length-1)):0},i.qit=function(t){var n=this.R$.yut;return n?n.qit(t):null},i.Btt=function(t){var n=this.R$.yut;return n?n.Btt(t):NaN},i.ba=function(t){var n=t||"none";this.Ast(),this.kst(),this.mst(n)},i.xK=function(){this.yst()},i.Sv=function(){this.Io(),this.Hut={},this.bst=null},i.yl=function(){this.$ut(),this.Est(),this.Hut={},this.Sut=0,this.Cut=0,this.Rut="start",this.e7=0,this.Iut=1,this.Nut=!1,this.Dut=!1,this.Xut=null,this.R$.yl()},i.ast=function(t,n,i){if(n){this.dispatchEvent("dK"),this.LK();var r=!1,e=!1,u=!1;if("_Z"===t){e=!0;var s=this.R$.yut;s&&s.yrt&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.Eut.l$("audio"),e&&this.Eut.l$("video"),this.R$.out.forEach(function(t){t.Cit(),r&&t.Hit(),e&&t.Vit()}),this.R$.gut(e,r,u,22),this.R$.out.forEach(function(t){return t.Bit()}),this.BK()}},i.eg=function(){this.LK(),this.R$.Itt&&this.R$.Net()},i.rg=function(){this.LK(),this.BK(),this.R$.DK()},i.Sst=function(t){var n=this._st||0;return this.AJ?t-n<0?0:l.round((t-n)*this.AJ-.5)||0:NaN},i.Rst=function(t){var n=this._st||0;return this.AJ?n+(t+.5)/this.AJ:NaN},i.Est=function(){this._st=NaN,this.removeEventListener("v$",this.lst),this.addEventListener("v$",this.lst),this.R$.removeEventListener("a6",this.lst),this.R$.addEventListener("a6",this.lst)},L(n,[{key:"bst",get:function(){return this.Eut},set:function(t){this.Ast(),this.$ut(),this.tst(),this.Eut=t,this.fst()}},{key:"W4",get:function(){return this.Eut&&!this.Vut?this.Eut.Qut():this.Sut},set:function(t){t=this.Yut(t),this.Cut=this.Sut=t,this.Eut?this.Eut.Ist(t):(this.est(),this.nst())}},{key:"Gut",get:function(){return this.Eut&&!this.Vut?this.W4:this.Rut},set:function(t){"start"===t&&(t=this.R$.Itt?1/0:0),t=this.Yut(t),this.Rut=t,this.Cut=this.Sut=t,this.gst(fg.qy(this.Sut)),this.W4=t}},{key:"uw",get:function(){return this.R$.brt},set:function(t){this.R$.brt=t}},{key:"C_",get:function(){return this.Eut?this.Eut.C_:this.Iut},set:function(t){var n=this.Iut;t>0&&(this.Iut=t,this.Eut&&(this.Eut.C_=t),this.R$.V4=t,this.Iut!==n&&this.dispatchEvent("Nst"))}},{key:"Mg",get:function(){var t=this.R$.Mg;if(!t.length||!this.R$.Itt)return t;var n=t.start(0),i=this.R$.Ftt;return i=l.max(this.W4,i),new wO([{_I:n,wI:i}])}},{key:"Eg",get:function(){return this.qit(this.W4)}},{key:"AJ",get:function(){var t=this.Xut;return t&&t.AJ||NaN}},{key:"_st",get:function(){return this.Wut},set:function(t){this.Wut!==t&&(this.dispatchEvent(new iL(t)),this.Wut=t)}},{key:"vK",get:function(){return Boolean(this.AJ)&&!w(this._st)}}]),n}(xD),eL=function(t){function n(n){var i;return(i=t.call(this)||this).Dst=null,i.Cst=[],i.Ost=function(t){return i.xst(t)},i.Pst=function(){return i.Bst()},i.iK=n,i.Cst=[],i}M(n,t);var i=n.prototype;return i.bb=function(t){var n,i;"metadata"===t.kind&&(t.mode=Vd.Ul,n=this.iK.zJ(t.id,t.inBandMetadataTrackDispatchType),i=this.Lst.bind(this,n),this.Cst.push({Mst:t,Ust:i,IJ:n}),t.addEventListener("cuechange",i))},i.Jb=function(){for(var t=this.Dst.ng,n=t&&t.length,i=0;i<n;i+=1)this.bb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Ost),t.addEventListener("change",this.Pst))},i.Lst=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=hI(i[u].value),o=new mI(e,s);t.Eb(o)}},i.Bst=function(){for(var t=0,n=this.Cst;t<n.length;t++){var i=n[t].Mst;i.mode!==Vd.Ul&&(i.mode=Vd.Ul)}},i.xst=function(t){this.bb(t.track)},i.Fst=function(){for(var t=this.Dst,n=t&&t.ng,i=0,r=this.Cst;i<r.length;i++){var e=r[i];e.Mst.removeEventListener("cuechange",e.Ust)}this.Cst.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Ost),n.removeEventListener("change",this.Pst))},i.Sv=function(){this.Fst(),this.Dst=null,this.iK=null,this.Ost=null,this.Pst=null},i.yl=function(){this.Fst(),this.Dst&&this.Jb()},n}(xD),uL=function(t){function n(n){var i;return(i=t.call(this)||this).Eut=null,i.Rut="start",i.Iut=1,i.Ov=!1,i.Hst=null,i.Vst=null,i.Xst=NaN,i.Wst=NaN,i.qst=null,i.zst=function(){i.Eut.removeEventListener("loadstart",i.zst),i.Eut.removeEventListener("play",i.zst),i.R$.lut()},i.Oit=function(){var t=i.R$.iK.y$;if(t&&(!i.Hst||i.Hst._I>i.W4||i.Hst.wI<i.W4)){var n=i.R$.JA.I6(t,fg.qy(i.W4));if(!n)return void i.Eut.addEventListener("timeupdate",i.Oit);i.Hst={_I:n.Ptt.Mw(),wI:n.Ptt.Fg(fg.qy(n.wp.duration)).Mw(),GQ:n.wp.GQ,zZ:null},i.dispatchEvent({type:"xit",rb:n.wp})}},i.yet=function(){var t=i.R$.iK,n=t.m$.vZ.length?t.m$.vZ:t._J.vZ,r=i.Eut.P_,e=i.Eut.x_,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Vst&&(i.Vst=s,i.dispatchEvent({type:"v$",LZ:s}))},i.Gst=function(t){i.dispatchEvent({type:"v$",LZ:t.LZ})},i.jst=function(){if(i.Eut){var t=i.Eut.Mg,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Wst&&(i.Wst=n,i.Xst=qb())}},i.Qst=function(){i.Ov=!0},i.Yst=function(){i.Ov&&(i.Ov=!1,i.Zst())},i.R$=n,i.Jst=new eL(n.iK),n.addEventListener("Ov",i.Qst),n.addEventListener("Pg",i.Yst),i}M(n,t);var i=n.prototype;return i.Yut=function(t){var n=this.Eut.Mg;return n.length?Wt(t,n.start(0),n.end(n.length-1)):0},i.Zst=function(){if(this.Eut){var t=this.Eut.currentTime,n=this.Eut.paused;this.Eut.load(),this.Eut.currentTime=t,n||this.Eut.play()}},i.$st=function(){this.Eut&&(this.Eut.addEventListener("loadstart",this.zst),this.Eut.addEventListener("play",this.zst),this.Eut.addEventListener("timeupdate",this.Oit),this.Eut.addEventListener("timeupdate",this.yet),h(this.qst),this.qst=c(this.jst,250))},i.Kst=function(){h(this.qst),this.Eut&&(this.Eut.removeEventListener("loadstart",this.zst),this.Eut.removeEventListener("play",this.zst),this.Eut.removeEventListener("timeupdate",this.Oit),this.Eut.removeEventListener("timeupdate",this.yet))},i.ba=function(t){t=t||"none",this.Kst(),this.$st(),this.R$.removeEventListener("but",this.Gst),this.R$.addEventListener("but",this.Gst),"none"!==t&&this.zst()},i.Sv=function(){this.Io(),this.Jst.Sv(),this.bst=null,this.R$.removeEventListener("but",this.Gst)},i.yl=function(){this.Rut="start",this.Iut=1,this.Ov=!1,this.Hst=null,this.Vst=null,this.Xst=NaN,this.Wst=NaN,h(this.qst),this.Jst.yl()},i.rg=function(){},i.eg=function(){},i.xK=function(){},i.ast=function(){},i.Btt=function(t){var n=this.R$.iK.y$;return this.R$.JA.Btt(n,t).Mw()},i.qit=function(t){var n,i,r=this.R$.iK.y$,e=this.R$.JA,u=t,s=this.Hst;if(s)s.zZ||(s.zZ=e.xtt(r,s.GQ)),n=s._I,i=s.zZ;else{var o=e.I6(r,fg.qy(u));if(!o)return null;n=o.Ptt.Mw(),i=e.xtt(r,o.wp.GQ)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.Sst=function(t){return NaN},i.Rst=function(t){return NaN},L(n,[{key:"tot",get:function(){return null}},{key:"Eg",get:function(){return this.qit(this.W4)}},{key:"bst",get:function(){return this.Eut},set:function(t){this.Kst(),this.Eut=t,this.Eut&&(this.Jst.Dst=this.Eut,this.Jst.Jb())}},{key:"Gut",get:function(){return this.Eut?this.Eut.Qut():this.Rut},set:function(t){"start"===t&&(t=this.R$.Itt?1/0:0),t=this.Yut(t),this.Rut=t,this.Eut&&this.Eut.Ist(t)}},{key:"W4",get:function(){return this.Gut},set:function(t){t=this.Yut(t),this.Gut=t}},{key:"uw",get:function(){return 1/0},set:function(t){}},{key:"C_",get:function(){return this.Eut?this.Eut.C_:this.Iut},set:function(t){t>0&&(this.Iut=t,this.Eut&&(this.Eut.C_=t))}},{key:"Mg",get:function(){var t,n,i,r=this.Eut?this.Eut.Mg:null,e=this.R$.JA.Mg;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Wst||r.end(r.length-1))+this.R$.JA.Htt.Mw(),isFinite(this.Xst)&&(i+=(qb()-this.Xst)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.R$.JA.Ftt.Mw()}return i=l.min(n,i),i=l.max(this.W4,i),new wO([{_I:t,wI:i}])}},{key:"AJ",get:function(){return NaN}},{key:"_st",get:function(){return NaN}},{key:"vK",get:function(){return!1}}]),n}(xD),sL=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).iot=new eu,s.rot=void 0,s.eot=function(){return s.uot()},s.Gs=b_.WEBVTT,s.Wl=A_.NONE,s.Gl=Rr(e),s.Eo(vd.tl,s.eot),s.pb=u,s}M(i,t);var r=i.prototype;return r.ba=function(){this.Gl&&!this.rot&&(this.rot=this.Ad(this.iot.mo),this.rot.catch(cu))},r.Ad=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Gl,t.prev=1,this.Wl=A_.LOADING,r=new Sf({nv:i,mv:pf.GET,Zf:qo.ze,mo:n}),t.next=6,this.pb.Kf(r);case 6:return e=t.sent,t.next=9,e.pu();case 9:u=t.sent,this.x0(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),au(t.t0),this.sot(ey(t.t0,this.Gl));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.xK=function(){this.Wl!==A_.LOADED&&(this.Wl=A_.NONE,this.iot._o(),this.iot=new eu,this.rot=void 0)},r.sot=function(t){this.Wl=A_.ERROR,this.bo(new Wl(t))},r.Sv=function(){this.xK(),this.iot.co(),t.prototype.Sv.call(this)},r.uot=function(){switch(this.Xl){case Vd.Fl:case Vd.Ul:this.ba();break;case Vd.Ml:this.xK()}},r.x0=function(t,i){try{for(var r=Ug(i).ql,e=0;e<r.length;e++){var u=r[e];this.Eb(u)}this.Wl=A_.LOADED}catch(i){this.sot(new Qw(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+uy(this.Gs)+" subtitle file.",this.Gl,t.Qf,i))}},i}(dR);function oL(t){return Gw(t.kind)}var aL=function(){function t(t,n,i,r){this.oot=t,this.ng=i,this.aot=n,this.pb=r,this.yl()}var n=t.prototype;return n.cot=function(t){if(this.hot(),t)if(this.aot)for(var n=0;n<t.length;n++){var i=t[n];this.bR(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.fot(e)}},n.bR=function(t){var n=oL(t);if(ny(n,t.label||""));else{var i=e.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.oot.appendChild(i)}},n.fot=function(t){var n=oL(t),i=new sL(n,t.label,t.srclang,t.src,this.pb);t.default&&(i.Xl=Vd.Fl),this.ng._l(i)},n.hot=function(){for(var t=this.ng.ml,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.vot&&this.ng.gl(i)}},n.dot=function(){this.hot()},n.yl=function(){this.hot()},t}(),cL=function(){function t(t){this.bK=t}var n=t.prototype;return n.Eo=function(t,n){this.bK.addEventListener(t,n)},n.No=function(t,n){this.bK.removeEventListener(t,n)},L(t,[{key:"E_",get:function(){return this.bK.currentTime}},{key:"D_",get:function(){return this.bK.paused}},{key:"O_",get:function(){return this.bK.seeking}}]),t}(),hL=function(t){function n(n,i){var r;(r=t.call(this)||this).lot=!0,r._ot=function(t){return r.got(t)},r.wot=function(){return r.yot()},r.mot=function(){return r.kot()},r.pot=function(){return r.Aot()},r.Ost=function(t){return r.xst(t.Wd)},r.bot=function(t){return r.Tot(t.Wd)},r.Eot=function(){return r.Sot()},r.Rot=n,r.ng=i,r.Rot.addEventListener("seeking",r.Eot),r.Rot.addEventListener("seeked",r.Eot),r.Iot=new yI(new cL(n));for(var e=0,u=r.ng.ml;e<u.length;e++){var s=u[e];r.xst(s)}return r.ng.Eo(cd.Ld,r.Ost),r.ng.Eo(cd.Ud,r.bot),r}M(n,t);var i=n.prototype;return i.got=function(t){this.ng._l(t.Wd)},i.yot=function(){for(var t=this.ng.ml,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.vot&&this.ng.gl(i)}},i.kot=function(){var t=this.bst,n=[],i=t&&t.ng;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.zV(e);u=new vI(e,s,this.xH),e.THEOplayerTextTrack=u,this.ng._l(u)}n.push(u)}}for(var o=0,a=this.ng.ml;o<a.length;o++){var c=a[o];dI(c)&&-1===n.indexOf(c)&&this.ng.gl(c)}},i.zV=function(t){for(var n=this.bst.Sg.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Aot=function(){for(var t=0,n=this.ng.ml;t<n.length;t++){var i=n[t];dI(i)&&i.PH()}},i.Sot=function(){this.Not()},i.xst=function(t){t instanceof dR&&this.Iot._l(t)},i.Tot=function(t){t instanceof dR&&this.Iot.gl(t)},i.Not=function(){var t=this.ng.ml;if(t.length)for(var n=this.Rot.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof dR){for(var u=[],s=0,o=e.ql.ml;s<o.length;s++){var a=o[s];if(!(a.uw<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.YF(h)}}}},i.Sv=function(){this.Rot.removeEventListener("seeking",this.Eot),this.Rot.removeEventListener("seeked",this.Eot);for(var t=0,n=this.ng.ml;t<n.length;t++){var i=n[t];this.Tot(i)}this.ng.No(cd.Ld,this.Ost),this.ng.No(cd.Ud,this.bot),this.Iot.Sv(),this.iK=null,this.bst=null},L(n,[{key:"iK",get:function(){return this.Dot},set:function(t){var n=this.Dot;if(n){for(var i=0,r=n.ng;i<r.length;i++){var e=r[i];this.ng.gl(e)}n.removeEventListener("GJ",this._ot),n.removeEventListener("Sv",this.wot)}if(this.Dot=t,t){for(var u=0,s=t.ng;u<s.length;u++){var o=s[u];this.ng._l(o)}t.addEventListener("GJ",this._ot),t.addEventListener("Sv",this.wot)}}},{key:"bst",get:function(){return this.Eut},set:function(t){var n=this.Eut;n&&n.ng&&n.ng.removeEventListener&&(n.ng.removeEventListener("addtrack",this.mot),n.ng.removeEventListener("removetrack",this.mot),n.ng.removeEventListener("change",this.pot)),this.Eut=t,t&&t.ng&&t.ng.addEventListener&&(t.ng.addEventListener("addtrack",this.mot),t.ng.addEventListener("removetrack",this.mot),t.ng.addEventListener("change",this.pot)),this.kot(),this.Aot()}},{key:"xH",get:function(){return this.lot},set:function(t){if(this.lot!==t){this.lot=t;for(var n=0,i=this.ng.ml;n<i.length;n++){var r=i[n];dI(r)&&(r.xH=t)}}}}]),n}(xD),fL=function(){function t(t,n){this.Cot=[],this.Oot=new zo,this.xot=_e(),this.Pot=new eu,this.bv=!(!t||t.crossOrigin!==rl.c_&&!t.Bot),this.Bd=n}var n=t.prototype;return n.Lot=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a,c,h,v;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.Hu(n),e=0,u=this.Cot;e<u.length;e++)null===(s=u[e]).ru||void 0===s.ru?r.searchParams.delete(s.Mot):r.searchParams.set(s.Mot,s.ru);return t.prev=2,o=new Sf({nv:r.href,Zf:qo.gh,Yf:this.Oot,bv:this.bv,mv:pf.GET,mo:i,Gs:Af.ov,pv:bf._v}),t.next=6,this.Bd.Kf(o);case 6:return a=t.sent,t.next=9,a.pu();case 9:return c=t.sent,h=new y(c),v=new y(16),16!==h.length&&dt("AES-128 decryption key length must be 16 bytes, but was "+h.length+" bytes. URL: ",r.href),h.length>16&&(h=Xs(h,0,16)),v.set(h,16-h.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),au(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return T.reject(new LD(BD.UQ,{code:"CAD1603"}));var i=this.xot.get(n);return i||(i=this.Lot(n,this.Pot.mo),this.xot.set(n,i)),i},n.Sv=function(){this.Pot._o(),this.xot.clear()},n.Uot=function(t,n){this.Cot.push({Mot:t,ru:n})},n.Fot=function(t,n){this.Oot.append(t,n)},t}(),vL=function(t){this.Rot=t},dL=e.createElement("video");var lL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.tet=function(t){return!!function(t){return dL.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(vL);PD.Ve.ML("AvoidUnsupportedCodecsRule",lL);var _L=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.tet=function(t,n,i,r){return!("a9"===r.w6)||t.bandwidth<2e6},n}(vL);PD.Ve.ML("AvoidHighBitrateStreamsRule",_L);var gL=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Hot=function(t){if(!t.resolution)return!0;var n=this.Rot.element.getBoundingClientRect(),i=r.innerWidth||e.documentElement.clientWidth,u=r.innerHeight||e.documentElement.clientHeight,s=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,u)-l.max(0,n.top)),a=b.Ss.Qu;return t.resolution.width<=s*a&&t.resolution.height<=o*a},i.tet=function(t){return this.Hot(t)},n}(vL);PD.Ve.ML("AvoidVideoResolutionGreaterThanDisplaySizeRule",gL);var wL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.tet=function(t,n,i){if(i.b5<=0)return!1;var r=i&&.8*i.b5;return!(r&&!w(r)&&t.bandwidth)||r>t.bandwidth*this.Rot.playbackRate},n}(vL);PD.Ve.ML("DownloadMetricRule",wL);var yL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.tet=function(t){return!0},n}(vL);PD.Ve.ML("LimitVideoQualityToDisplaySizeRule",yL);var mL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.tet=function(t,n){return!n||(n.kJ===$D.ev||t.kJ===$D.ev||(n.kJ===$D.qY||t.kJ===$D.qY||n.kJ===t.kJ))},n}(vL);function kL(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function pL(t,n){var i=n;for(var r in t)tt(t[r])?(i[r]=i[r]||{},pL(t[r],i[r])):Q.call(i,r)||(i[r]=t[r]);return i}function AL(t,n){var i=pL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case rl.a_:case rl.c_:break;default:n=rl.h_}return t&&t.withCredentials&&(n=rl.c_),t&&t.vr&&t.vr[360]&&n===rl.h_&&(n=rl.a_),n}(i),i}function bL(t){rt(t)&&t.then(S,S)}PD.Ve.ML("OnlyAllowSameTrackTypeRenditionsRule",mL);var TL,EL=500,SL=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],RL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Vot=void 0,r.WS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.gT=function(){var t=r.YE.hR.error&&r.YE.hR.error.code;t&&r.sot(new LD(BD.BQ,{code:"VEE"+t}))},r.Xot=function(t){r.dispatchEvent({type:t.type,error:r.YE.hR.error})},r.Wot=function(){a(r.Vot),r.Vot=void 0,r.YE.hR.removeEventListener("timeupdate",r.Wot),r.YE.No(El.T_,r.Wot)},r.qot=function(){void 0!==r.Vot&&r.Wot(),r.Vot=o(function(){r.YE.hR.currentTime+=.1,r.Wot()},EL),r.YE.hR.addEventListener("timeupdate",r.Wot),r.YE.Eo(El.T_,r.Wot)},r.zot=function(){switch(r.YE.hR.readyState){case ol.g_:case ol.w_:case ol.y_:r.qot();break;case ol.__:case ol.l_:}},r.Got=n,r.YE=i,r}M(n,t);var i=n.prototype;return i.setup=function(){this.qJ(),this.YE.hR.parentNode!==this.Got&&this.Got.appendChild(this.YE.hR),this.loaded=!1,this.YE.hR.preload="metadata",this.YE.hR.addEventListener("play",this.zot),this.YE.hR.addEventListener("loadeddata",this.zot),this.dispatchEvent("jot")},i.qJ=function(){for(var t=0;t<SL.length;t++){var n=SL[t];this.YE.hR.addEventListener(n,this.Xot,!0)}this.YE.hR.addEventListener("error",this.gT,!0),this.YE.Eo(El.il,this.Xot),this.YE.Eo(El.T_,this.Xot)},i.Qot=function(){for(var t=0;t<SL.length;t++){var n=SL[t];this.YE.hR.removeEventListener(n,this.Xot,!0)}this.YE.hR.removeEventListener("error",this.gT,!0),this.YE.No(El.il,this.Xot),this.YE.No(El.T_,this.Xot)},i.sot=function(t){this.WS=t,this.dispatchEvent({type:"error",error:t})},i.p7=function(){return T.resolve()},i.load=function(){this.YE.hR.load(),this.loaded=!0},i.unload=function(){return this.Wot(),this.Io(),this.Qot(),this.YE.hR.removeEventListener("play",this.zot),this.YE.hR.removeEventListener("loadeddata",this.zot),jr(this.YE.hR),this.YE.hR},i.play=function(){var t=this.C_;bL(this.YE.hR.play()),this.C_=t},i.pause=function(){this.YE.hR.pause()},i.ug=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Ist(0)}catch(t){}this.dispatchEvent("reset")},i.gg=function(){return this.YE.hR},i.Qut=function(){return this.YE.hR.currentTime},i.Ist=function(t){this.YE.hR.currentTime=t},i.canPlayCodecs=function(t){return this.YE.hR.canPlayType('video/mp4; codecs="'+t+'"')},L(n,[{key:"vst",get:function(){return!0}},{key:"Sg",get:function(){return this.YE.hR}},{key:"Tg",get:function(){return this.YE.hR.buffered}},{key:"B_",get:function(){return this.YE.hR.volume},set:function(t){this.YE.hR.volume=t}},{key:"duration",get:function(){return this.YE.hR.duration}},{key:"muted",get:function(){return this.YE.hR.muted},set:function(t){this.YE.hR.muted=t}},{key:"paused",get:function(){return this.YE.hR.paused}},{key:"played",get:function(){return this.YE.hR.played}},{key:"poster",get:function(){return this.YE.hR.poster},set:function(t){t?this.YE.hR.poster=t:this.YE.hR.removeAttribute("poster")}},{key:"controls",get:function(){return this.YE.hR.controls},set:function(t){t?this.YE.hR.controls=t:this.YE.hR.removeAttribute("controls")}},{key:"ended",get:function(){return this.YE.hR.ended}},{key:"seeking",get:function(){return this.YE.hR.seeking}},{key:"error",get:function(){return this.YE.hR.error}},{key:"width",get:function(){return this.YE.hR.offsetWidth}},{key:"height",get:function(){return this.YE.hR.offsetHeight}},{key:"src",get:function(){return this.YE.hR.src},set:function(t){this.YE.hR.src=t}},{key:"P_",get:function(){return this.YE.hR.videoWidth}},{key:"x_",get:function(){return this.YE.hR.videoHeight}},{key:"ng",get:function(){return this.YE.hR.textTracks}},{key:"Itt",get:function(){return this.YE.hR.duration===1/0}},{key:"Mg",get:function(){var t=this.YE.hR.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Qut()||0),new wO([{_I:n,wI:i}])}},{key:"C_",get:function(){return this.YE.hR.playbackRate},set:function(t){t>0&&(this.YE.hR.playbackRate=t)}},{key:"Wl",get:function(){return this.YE.Wl}},{key:"Yot",get:function(){return void 0!==this.YE.hR.webkitSupportsPresentationMode&&this.YE.hR.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Zot",get:function(){return"picture-in-picture"===this.YE.hR.webkitPresentationMode}},{key:"Jot",get:function(){return this.YE.hR.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.YE.hR.webkitSetPresentationMode(t)}}]),n}(xD);!function(t){t[t.$ot=0]="$ot",t[t.Kot=1]="Kot",t[t.ij=2]="ij",t[t.tat=3]="tat",t[t.nat=4]="nat"}(TL||(TL={}));var IL=function(){function t(){this.iat=!1,this.rat=null,this.eat=null,this.uat=null,this.Ob=[],this.sat=null}var n=t.prototype;return n.oat=function(){if(!this.iat)return!1;for(var t=this.rat,n=this.eat,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.aat=function(t){switch(t.Gs){case TL.$ot:return this.hat(t.pu,t.Ptt,t.hO);case TL.Kot:return this.fat(t.vat);case TL.ij:return this.dat(t.lat,t._at);case TL.tat:return this.xb();case TL.nat:return this.gat(t.hO)}},n.hat=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.eat,w(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.wat();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.fat=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.eat,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=l.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.wat();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dat=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rat,r=this.eat,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=l.max(e.start(0),n),o=l.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.wat();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.xb=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.rat,i=this.eat,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,od(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.gat=function(t){return T.resolve(t())},n.yat=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nF(n)){t.next=5;break}return t.next=3,yu(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nF=function(t){var n=this.rat;if(!n.open||"open"!==n.readyState||!this.oat())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.wat=function(){var t=this;return new T(function(n,i){var r,e=t.eat,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new f(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.mat=function(){var t=this;this.uat||(0!==this.Ob.length||this.sat)&&this.oat()&&(this.uat=this.kat().then(function(){t.uat=null}))},n.kat=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.Ob.length>0)){t.next=9;break}if(this.oat()){t.next=4;break}return t.abrupt("return");case 4:return n=this.Ob.shift(),t.next=7,this.aat(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.yat("decode").catch(S);case 16:if(!this.sat){t.next=26;break}return t.prev=17,t.next=20,this.yat(this.sat.Fo);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.sat=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.Jb=function(t,n){this.iat||(this.iat=!0,this.rat=t,this.eat=n,this.mat())},n.Fg=function(t,n,i){this.Ob.push({Gs:TL.$ot,pu:t,Ptt:n,hO:i}),this.mat()},n.pat=function(t,n){this.Ob.push({Gs:TL.ij,lat:t,_at:n}),this.mat()},n.Aat=function(t){this.Ob.push({Gs:TL.Kot,vat:t}),this.mat()},n._o=function(){this.Ob.push({Gs:TL.tat}),this.mat()},n.bat=function(t){this.Ob.push({Gs:TL.nat,hO:t}),this.mat()},n.Dit=function(t){this.sat={Fo:t},this.mat()},n.Zo=function(){this.Ob.length=0,this.sat=null},t}();var NL=function(t){function n(n){var i;return(i=t.call(this)||this).eat=null,i.Tat=new IL,i.uw=NaN,i.Eat=null,i.Ao=function(t){return i.dispatchEvent(t)},i.Sat=function(){return i.e6()},i.rat=n,i.yl(),i}M(n,t);var i=n.prototype;return i.Rat=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.p7=function(t,n,i,r){var e=this;if(!this.eat||!n)return T.resolve();var u=n.initializer.pu,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Eat,u);if(r&&(j.Ce||this.Tat._o()),r)if(j.Ce);else{var o=t&&t._I,a=t&&t._I+t.S_-.5;this.Tat.pat(o,a)}return s&&(this.Tat.Fg(u,i,this.Rat.bind(this)),this.Eat=u),new T(function(t,r){e.Tat.Fg(n.m4s.pu,i,function(n){n?r(n):t()})})},i.gM=function(){var t=this;return new T(function(n){t.Tat.bat(function(){var i=t.Tg;i&&i.length&&(t.uw=i.end(i.length-1)),n()})})},i.hF=function(t){if(!this.eat){try{this.eat=this.rat.addSourceBuffer(t),this.eat.addEventListener("updatestart",this.Ao),this.eat.addEventListener("updateend",this.Ao)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.rat.addEventListener("sourceclose",this.Sat),this.Tat.Jb(this.rat,this.eat)}return!0},i.oat=function(){for(var t=0;t<this.rat.sourceBuffers.length;t++)if(this.rat.sourceBuffers[t]===this.eat)return!0;return!1},i.Ta=function(t){var n=this,i=this.Tg;if(!(this.eat&&i&&i.length))return t&&t();this.eat.remove(0,i.end(i.length-1)),t&&this.eat.addEventListener("updateend",function i(r){n.eat.removeEventListener("updateend",i),t()})},i.yl=function(t){this.Eat=null,this.uw=NaN,this.e6(),this.Ta(t)},i.Aat=function(t){this.eat&&this.Tat.Aat(t)},i.Dit=function(t){this.eat&&this.Tat.Dit(t)},i.e6=function(){this.Tat.Zo(),"open"===this.rat.readyState&&this.eat&&this.eat.updating&&this.eat.abort()},L(n,[{key:"Tg",get:function(){return this.eat&&this.oat()?new wO(EO(this.eat.buffered)):null}},{key:"zO",get:function(){return this.eat&&this.eat.updating}},{key:"R_",get:function(){var t=this.Tg;return!t||!w(this.uw)&&bO(t,this.uw)}}]),n}(xD),DL="mp4a.40.34";var CL=function(t){function n(n){var i;return(i=t.call(this)||this).Iat=!1,i.MN=function(){var t=i.Iat;i.Iat=i.zO,!t&&i.Iat?i.dispatchEvent("updatestart"):t&&!i.Iat&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new NL(n),i.videoTrackBuffer=new NL(n),i.audioTrackBuffer.addEventListener("updatestart",i.MN),i.videoTrackBuffer.addEventListener("updatestart",i.MN),i.audioTrackBuffer.addEventListener("updateend",i.MN),i.videoTrackBuffer.addEventListener("updateend",i.MN),i.yl(),i}M(n,t);var i=n.prototype;return i.p7=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.lZ&&i.push(this.audioTrackBuffer.p7(n.metadata.lZ,n.lZ,n.metadata.lZ&&n.metadata.lZ.a2===DL?n.metadata.lZ._I:NaN,n.metadata.c3)),n._Z&&i.push(this.videoTrackBuffer.p7(n.metadata._Z,n._Z,NaN,n.metadata.c3)),t.next=7,T.all(i);case 7:this.R_&&(this.audioTrackBuffer.Dit(),this.videoTrackBuffer.Dit());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dit=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.gM()),i&&r.push(this.videoTrackBuffer.gM()),t.next=5,T.all(r);case 5:this.R_&&(this.audioTrackBuffer.Dit(),this.videoTrackBuffer.Dit());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Jb=function(t){var n,i={};for(var r in t)if(Q.call(t,r)){var e=t[r];if(e._Z){var u='video/mp4; codecs="'+e._Z+'"';this.videoTrackBuffer.hF(u),i._Z=this.videoTrackBuffer}if(e.lZ){var s=(n=e.lZ)!==DL||wp?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.hF(s),i.lZ=this.audioTrackBuffer}0}return i},i.yl=function(t){var n=!1,i=!1;this.Iat=!1,this.audioTrackBuffer.yl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.yl(function(){if(i=!0,n&&t)return t()})},i.Aat=function(t){this.audioTrackBuffer.Aat(t),this.videoTrackBuffer.Aat(t)},i.e6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.e6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.e6()},L(n,[{key:"Tg",get:function(){var t=this.audioTrackBuffer.Tg,n=this.videoTrackBuffer.Tg;return t&&n?pO(t,n):t||n||yO}},{key:"tM",get:function(){return this.audioTrackBuffer.Tg||yO}},{key:"nM",get:function(){return this.videoTrackBuffer.Tg||yO}},{key:"zO",get:function(){return this.audioTrackBuffer.zO||this.videoTrackBuffer.zO}},{key:"R_",get:function(){return this.audioTrackBuffer.R_&&this.videoTrackBuffer.R_}}]),n}(xD),OL=1,xL=.05,PL=.01;function BL(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function LL(t,n,i,r){var e=TO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-xL)){var s,o;do{if((s=BL(t,n))<0)return;t=(o=n.start(s)+PL)+xL}while(n.end(s)-o<xL);for(var a=o-u,c=pO(new wO([{_I:u,wI:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<OL?o:void 0}}var ML=100,UL=1e-4,FL=500,HL=Ap,VL=j.ke,XL=5,WL=["resize","volumechange"],qL=function(n){function i(t,i){var r;return(r=n.call(this)||this).Nat=!0,r.R_=!1,r.Dat=!1,r.Cat=!1,r.Oat=null,r.Fo=!1,r.rat=null,r.eat=null,r.xat=null,r.iat=!1,r.Pat=0,r.Bat=nA.KI(),r.Iut=1,r.Lat=!1,r.TF=!1,r.O_=!1,r.Mat=new eu,r.Uat=!1,r.Fat=!1,r.Hat=void 0,r.Vat=null,r.Xat=null,r.Wat=ol.l_,r.qat=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.zat=function(){r.qat=!1,r.Gat(),r.jat(),r.Qat()},r.Yat=function(){r.Zat(),r.Qat(),r.Jat()},r.ZS=function(){r.$at(),r.Zat(),r.NF()?r.dispatchEvent("playing"):r.qat=!0},r.Kat=function(){r.qat=!1,r.Gat(),r.ug()},r.tF=function(){r.tct()},r.YS=function(){r.nct(),r.Jat()},r.xU=function(){var t=r.Wat,n=r.Wl;t!==n&&(r.Wat=n,r.dispatchEvent(new Xl(r.Qut(),n))),r.Jat()},r.jat=function(){r.Pat&&(h(r.Pat),r.Pat=0,VL&&(r.YE.hR.removeEventListener("timeupdate",r.JV),r.removeEventListener(El.il,r.iX)))},r.ict=function(){r.Pat||(r.Pat=c(r.rct,FL)),VL&&(r.YE.hR.addEventListener("timeupdate",r.JV),r.addEventListener(El.il,r.iX),r.JV()),r.rct()},r.ect=function(){var t=r.Qut(),n=bO(r.uct,t);r.YE.D_||r.O_&&!n||r.sct()||r.ict()},r.rct=function(t){if(!(r.Vat||void 0===t&&r.Fat)){var n,i=r.Qut(),e=r.Tg;if(void 0===t){if(void 0===(n=LL(i,e,r.uct,r.Dat)))return}else{if(!bO(e,t))return;n=t}var u=function(){r.YE.hR.currentTime=n,r.act(n),r.jat(),r.Fat=!0};zt(n,i)?r.Vat=o(function(){r.Vat=null,i=r.Qut(),zt(n,i)&&(n+=1e3*FL,u())},FL):u()}},r.XX=function(){var t=r.xat;if(r.cct(),r.YE.hR.readyState===ol.l_)return r.xat=t,void r.YE.hR.addEventListener("loadedmetadata",r.XX);l.abs(r.YE.hR.currentTime-t)<UL?r.YS():(r.YE.hR.currentTime=t,r.Fat=!1,r.tF()),r.xat=null,r.EP(r.Iut),r.YE.BX(),r.hct(t)&&r.ug()},r.fct=function(){if(!r.Dat){var t=r.YE.hR,n=r.Tg,i=t.currentTime;r.vct(n,i)&&(r.Dat=!0,r.Zat(),i=t.currentTime,r.vct(n,i)?r.Dat=!0:r.Dat=!1,r.xU()),r.Xat=i}},r.$at=function(){r.Gat(),r.Oat=c(r.fct,ML)},r.Gat=function(){r.Dat=!1,h(r.Oat)},r.dct=function(){r.Dat&&(r.Dat=!1,r.xU())},r.JV=function(){var t=r.eat;if(t)if(t.R_)r.$V();else{var n=t.tM,i=t.nM;if(0!==n.length&&0!==i.length){var e=r.Qut();if(e<n.start(0)||e<i.start(0))r.$V();else bO(n,e)!==bO(i,e)?r.KV():r.$V()}else r.$V()}},r.iX=function(){if(!(r.O_||r.Fat||r.YE.hR.seeking||r.Wl>=ol.w_)){var t=r.eat;if(t){var n=r.Qut(),i=nA.ZI(t.tM),e=nA.ZI(t.nM);if(i.DR(n)&&e.DR(n))i.LI(e).VI(n-XL,n)&&(r.YE.hR.currentTime=n,r.Fat=!0)}}},r.lct=function(){r.rat.open=!0,r.rat.removeEventListener("sourceopen",r.lct),r.rat.removeEventListener("webkitsourceopen",r.lct)},r.gT=function(t){var n=r.YE.hR.error&&r.YE.hR.error.code;n&&r.sot(new LD(BD.BQ,{code:"VEE"+n}))},r.Ao=function(t){r.dispatchEvent({type:t.type})},r._ct=function(){r.eat&&r.eat.R_&&r.dispatchEvent("durationchange")},r.gct=function(){r.removeEventListener("wct",r.gct),r.Uat=!1,r.yct(r.Iut)},r.mct=t,r.YE=i,r}M(i,n);var e=i.prototype;return e.yct=function(t){this.TF&&(t=0),this.YE.C_=t,0!==t||HL?this.Lat&&(this.Lat=!1,bL(this.YE.rg())):(this.Lat=!this.YE.D_||this.Lat,this.YE.eg()),this.Qat()},e.EP=function(t){this.Iut=t,this.Uat||this.yct(t)},e.kct=function(t){var n=TO(this.uct,t);return-1===n?null:this.uct.end(n)},e.tct=function(){this.Fat||this.O_||(this.O_=!0,this.dispatchEvent("seeking"))},e.nct=function(){this.Fat=!1,this.pct(),this.O_&&(this.O_=!1,this.dispatchEvent("seeked")),this.ect()},e.Zat=function(){this.Fat||this.ect()},e.pct=function(){this.Hat&&(a(this.Hat),this.Hat=void 0)},e.act=function(t){var n=this;this.Hat=o(function(){n.rct(t+2)},750)},e.Jat=function(){this.qat&&this.NF()&&(this.qat=!1,this.dispatchEvent("playing"))},e.Qat=function(){var t=this.Nat,n=this.paused;this.Nat=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.wM=function(t,n){if(!(t+.001>n)){var i=new nA([t,n]);this.Bat=this.Bat.BI(i).MI(nA.ZI(this.Tg)),this.Bat.DR(this.Qut())&&this.ect()}},e.hct=function(t){return t>=this.YE.hR.duration-(this.paused?0:.5)},e.Act=function(t){return w(this.YE.hR.duration)||(t=l.min(t,this.YE.hR.duration)),l.max(0,t)},e.cct=function(){this.xat=null,this.YE.hR.removeEventListener("loadedmetadata",this.XX)},e.CF=function(){return this.Wl<ol.w_},e.NF=function(){return!(this.paused||this.ended||this.error||this.CF())},e.vct=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-xL)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Xat&&this.Xat===n){if(this.hct(n))return!1;if(e>n||r-n<1/6)return!0}return!1},e.KV=function(){this.TF||(this.TF=!0,this.yct(0),this.xU())},e.$V=function(){this.TF&&(this.TF=!1,this.EP(this.Iut),this.YE.hR.currentTime=this.YE.hR.currentTime,this.xU())},e.bct=function(){var t=this.YE.hR;t.addEventListener("timeupdate",this.dct),this.YE.Eo(Wo.Zc,this.zat),this.YE.Eo(Wo.Jc,this.Yat),this.YE.Eo(Wo.Xc,this.Kat),t.addEventListener("seeking",this.tF),t.addEventListener("seeked",this.YS);for(var n=0;n<WL.length;n++){var i=WL[n];t.addEventListener(i,this.Ao)}t.addEventListener("error",this.gT),t.addEventListener("durationchange",this._ct),this.YE.Eo(Wo.fh,this.Ao),this.YE.Eo(El.il,this.xU),this.YE.Eo(El.T_,this.ZS)},e.Tct=function(){var t=this.YE.hR;t.removeEventListener("timeupdate",this.dct),this.YE.No(Wo.Zc,this.zat),this.YE.No(Wo.Jc,this.Yat),this.YE.No(Wo.Xc,this.Kat),t.removeEventListener("seeking",this.tF),t.removeEventListener("seeked",this.YS);for(var n=0;n<WL.length;n++){var i=WL[n];t.removeEventListener(i,this.Ao)}t.removeEventListener("error",this.gT),t.removeEventListener("durationchange",this._ct),this.YE.No(Wo.fh,this.Ao),this.YE.No(El.il,this.xU),this.YE.No(El.T_,this.ZS)},e.Ect=function(){var n=this.YE.hR,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Sct(),this.rat=new i,this.rat.addEventListener("sourceopen",this.lct),this.rat.addEventListener("webkitsourceopen",this.lct),n.src=nO(this.rat),n.load()):this.sot(new LD(BD.MQ,{code:"MVE2720"})):this.sot(new LD(BD.MQ,{code:"MVE2650"}))},e.Sct=function(){if(this.iat=!1,this.eat&&(this.eat.yl(),this.eat=null),this.rat){this.Mat._o();var t=this.YE.hR;t.src&&(iO(t.src),jr(t)),this.rat=null}},e.setup=function(){this.Ect(),this.bct(),this.YE.hR.parentNode!==this.mct&&this.mct.appendChild(this.YE.hR)},e.sot=function(t){this.Fo=t,this.dispatchEvent({type:"error",error:t})},e.sct=function(){return this.eat&&this.eat.zO},e.Rct=function(t){var n=this.Qut()-l.max(30,3*t.LZ.lY.targetDuration);this.dispatchEvent("wct"),this.eat&&!t.a3&&this.eat.Aat(n),this.ect()},e.p7=function(t){if(!this.rat.open||"closed"===this.rat.readyState)return T.reject("Ict");if(!this.eat)return T.reject("Nct");var n=this.Dct(t);return this.Cat||(this.Cat=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.Dct=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.eat.p7(n)),i.a3&&r.push(this.Dit(!!n.lZ,!!n._Z)),n=null,t.next=7,T.all(r);case 7:this.Rct(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.Dit=function(t,n){return this.rat.open&&"closed"!==this.rat.readyState?this.eat?this.eat.Dit(t,n):T.reject("Nct"):T.reject("Ict")},e.play=function(){var t=this.YE.C_;this.R_=!1,0!==this.YE.C_||HL?(bL(this.YE.rg()),this.YE.BX(),this.YE.C_=t):this.Lat=!0,this.Qat()},e.pause=function(){0!==this.YE.C_||HL?this.YE.eg():this.Lat=!1,this.Qat()},e.ug=function(){this.R_||(this.R_=!0,this.YE.eg(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return h(this.Oat),this.Oat=null,this.jat(),this.cct(),this.Sct(),this.Tct(),this.Io(),this.YE.hR},e.reset=function(){h(this.Oat),this.Oat=null,this.jat(),this.cct(),this.Nat=!0,this.R_=!1,this.Dat=!1,this.Cat=!1,this.Fo=!1,this.O_=!1,this.qat=!1,this.$V(),this.Ect(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.gg=function(){return this.YE.hR},e.Qut=function(){return null===this.xat?this.YE.hR.currentTime:this.xat},e.Ist=function(t){var n=this.kct(t);t=this.Act(t),this.Dat=!1,this.YE.hR.error&&(this.Cat=!1,this.Fo=!1,this.Ect()),this.R_&&(this.R_=this.hct(t)),this.jat(),null!==n&&(t=n),this.cct(),this.xat=t,this.O_=!0,this.dispatchEvent("pst"),this.dispatchEvent("seeking"),this.XX()},e.Cct=function(t){return this.rat.open?T.resolve(null):od(this.rat,"sourceopen",t)},e.Oct=function(t,n,i){ou(i),n>0&&(this.rat.duration=n),this.eat=new CL(this.rat);var r=this.eat.Jb(t);return this.dispatchEvent("jot"),this.eat.addEventListener("updatestart",this.jat),this.eat.addEventListener("updateend",this.ect),this.iat=!0,this.dispatchEvent("iat"),r},e.dst=function(t,n,i){var r=this;this.Mat._o();var e=new eu;return e.wo(i),this.Mat=e,this.eat?T.resolve(null):this.Cct(e.mo).then(function(){return r.Oct(t,n,i)})},e.l$=function(t){j.Ce&&(this.Uat=!0,this.yct(0),this.removeEventListener("wct",this.gct),this.addEventListener("wct",this.gct),this.eat&&this.eat.e6(t))},e.canPlayCodecs=function(t){return this.YE.hR.canPlayType('video/mp4; codecs="'+t+'"')},L(i,[{key:"uct",get:function(){return this.Bat.CR()}},{key:"Wl",get:function(){var t=this.YE.Wl;return t>ol.g_&&(this.Dat||this.TF)?ol.g_:t}},{key:"Sg",get:function(){return this.YE.hR}},{key:"Tg",get:function(){return this.eat?this.eat.Tg:this.YE.hR.buffered}},{key:"tM",get:function(){return this.eat?this.eat.tM:yO}},{key:"nM",get:function(){return this.eat?this.eat.nM:yO}},{key:"volume",get:function(){return this.YE.hR.volume},set:function(t){this.YE.hR.volume=t}},{key:"duration",get:function(){return this.YE.hR.duration}},{key:"muted",get:function(){return this.YE.hR.muted},set:function(t){this.YE.hR.muted=t}},{key:"paused",get:function(){return this.YE.D_&&!this.Lat}},{key:"played",get:function(){return this.YE.hR.played}},{key:"poster",get:function(){return this.YE.hR.poster},set:function(t){t?this.YE.hR.poster=t:this.YE.hR.removeAttribute("poster")}},{key:"controls",get:function(){return this.YE.hR.controls},set:function(t){t?this.YE.hR.controls=t:this.YE.hR.removeAttribute("controls")}},{key:"ended",get:function(){return this.R_}},{key:"seeking",get:function(){return this.O_}},{key:"error",get:function(){return this.Fo||this.YE.hR.error}},{key:"width",get:function(){return this.YE.hR.offsetWidth||this.YE.hR.parentNode.offsetWidth}},{key:"height",get:function(){return this.YE.hR.offsetHeight||this.YE.hR.parentNode.offsetHeight}},{key:"C_",get:function(){return this.Iut},set:function(t){var n=this.Iut;t>0&&(this.EP(t),this.Iut!==n&&this.dispatchEvent("ratechange"))}},{key:"P_",get:function(){return this.YE.hR.videoWidth||0}},{key:"x_",get:function(){return this.YE.hR.videoHeight||0}},{key:"vst",get:function(){return this.iat}}]),i}(xD),zL=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","xct","l$",El.il],GL=.04,jL=.25,QL=4,YL=.75,ZL=1.5,JL=.25,$L=function(t){function n(){var n;return(n=t.call(this)||this).Pct=null,n.Bct=null,n.eN=!1,n.aN=1,n.sN=1,n.Lct=null,n.Mct=void 0,n.Xot=function(t){n.dispatchEvent(t)},n.Uct=function(t){n.Bct||n.dispatchEvent(t)},n.Fct=function(t){var i=t.error||n.Bct.error;n.audioStream=null,n.Lct=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Lct})},n.Hct=function(){n.Bct&&!n.Bct.loaded||n.Pct&&!n.Pct.loaded||(n.Bct&&(n.Bct.removeEventListener("loaded",n.Hct),n.Bct.play()),n.Pct&&(n.Pct.removeEventListener("loaded",n.Hct),n.Pct.play()))},n.Vct=function(){n.Xct(),n.Bct&&n.Pct&&(n.Bct.addEventListener("timeupdate",n.Wct),n.Pct.addEventListener("timeupdate",n.Wct))},n.Xct=function(){a(n.Mct),n.Bct&&n.Bct.removeEventListener("timeupdate",n.Wct),n.Pct&&(n.Pct.C_=n.sN,n.Pct.removeEventListener("timeupdate",n.Wct))},n.qct=function(){n.Wl<ol.w_&&n.Xct()},n.Wct=function(){if(a(n.Mct),n.Bct&&n.Pct){var t=n.Bct.C_,i=n.Bct.Qut()-n.Pct.Qut(),r=l.max(QL,ZL*t),e=l.min(jL,YL*t);if(l.abs(i)<GL)n.Pct.C_!==t&&(n.Pct.C_=t);else{var u=JL,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.Pct.C_=s,n.Mct=o(n.Wct,1e3*u)}}else n.Xct()},n.addEventListener("playing",n.Vct),n.addEventListener("ended",n.Xct),n.addEventListener(El.il,n.qct),n}M(n,t);var i=n.prototype;return i.c$=function(t,n){n?(t.addEventListener("timeupdate",this.Xot),t.addEventListener("error",this.Fct)):(t.addEventListener("timeupdate",this.Uct),t.addEventListener("error",this.Xot));for(var i=0;i<zL.length;i++){var r=zL[i];t.addEventListener(r,this.Xot)}},i.Co=function(t){t.removeEventListener("timeupdate",this.Xot),t.removeEventListener("timeupdate",this.Uct),t.removeEventListener("timeupdate",this.Wct),t.removeEventListener("error",this.Xot),t.removeEventListener("error",this.Fct),t.removeEventListener("loaded",this.Hct);for(var n=0;n<zL.length;n++){var i=zL[n];t.removeEventListener(i,this.Xot)}},i.zct=function(t){this.Bct&&this.Bct.zct(t),this.Pct&&this.Pct.zct(t)},i.play=function(){if(this.Bct&&!this.Bct.loaded||this.Pct&&!this.Pct.loaded)return this.Bct&&this.Bct.addEventListener("loaded",this.Hct),void(this.Pct&&this.Pct.addEventListener("loaded",this.Hct));this.Hct()},i.pause=function(){this.Bct&&(this.Bct.removeEventListener("loaded",this.Hct),this.Bct.pause()),this.Pct&&(this.Pct.removeEventListener("loaded",this.Hct),this.Pct.pause()),this.Xct()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Bct&&this.Bct.load(),-1!==t.indexOf("video")&&this.Pct&&this.Pct.load()):(this.Bct&&this.Bct.load(),this.Pct&&this.Pct.load())},i.Sv=function(t){this.Io(),this.Lct=null,t?(-1!==t.indexOf("audio")&&this.Bct&&(this.Bct.Sv(),this.Bct=null),-1!==t.indexOf("video")&&this.Pct&&(this.Pct.Sv(),this.Pct=null)):(this.Bct&&(this.Bct.Sv(),this.Bct=null),this.Pct&&(this.Pct.Sv(),this.Pct=null))},i.l$=function(t){this.Bct&&this.Bct.pause(),this.Pct&&this.Pct.pause(),this.Xct(),t&&-1===t.indexOf("audio")||!this.Bct||this.Bct.l$(),t&&-1===t.indexOf("video")||!this.Pct||this.Pct.l$()},i.p7=function(t){this.Bct&&t.lZ&&this.Bct.p7(t),this.Pct&&t._Z&&this.Pct.p7(t)},i.Gct=function(t){return this.Pct?this.Pct.Gct(t):""},i.jct=function(){return this.Pct?this.Pct.jct():0},i.Qct=function(){return this.Pct?this.Pct.Qct():0},i.gg=function(){return this.Pct&&this.Pct.gg()},i.Qut=function(){return this.Bct?this.Bct.Qut():this.Pct?this.Pct.Qut():NaN},i.Ist=function(t,n){this.Bct&&this.Bct.Ist(t,n),this.Pct&&this.Pct.Ist(t,n)},L(n,[{key:"Tg",get:function(){return this.Bct&&this.Pct?pO(this.Bct.Tg,this.Pct.Tg):this.Bct?this.Bct.Tg:this.Pct?this.Pct.Tg:yO}},{key:"volume",get:function(){return this.aN},set:function(t){this.aN!==t&&(this.aN=t,this.Bct&&(this.Bct.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Bct&&this.Bct.duration||this.Pct&&this.Pct.duration||NaN}},{key:"muted",get:function(){return this.eN},set:function(t){this.eN!==t&&(this.eN=t,this.Bct&&(this.Bct.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Bct&&!this.Pct)&&(!(this.Bct&&!this.Bct.loaded)&&!(this.Pct&&!this.Pct.loaded))}},{key:"paused",get:function(){return!this.Bct&&!this.Pct||(this.Bct&&this.Bct.paused||this.Pct&&this.Pct.paused||!1)}},{key:"ended",get:function(){return this.Bct&&this.Bct.ended||this.Pct&&this.Pct.ended||!1}},{key:"seeking",get:function(){return this.Bct&&this.Bct.seeking||this.Pct&&this.Pct.seeking||!1}},{key:"error",get:function(){return this.Bct&&this.Bct.error||this.Pct&&this.Pct.error}},{key:"warning",get:function(){return this.Lct||this.Bct&&this.Bct.warning||this.Pct&&this.Pct.warning}},{key:"audioStream",get:function(){return this.Bct},set:function(t){this.Bct&&(this.Co(this.Bct),this.Bct.Sv()),this.Bct=t,this.Bct&&(this.Bct.volume=this.aN,this.Bct.muted=this.eN,this.Bct.C_=this.sN,this.c$(this.Bct,!0))}},{key:"videoStream",get:function(){return this.Pct},set:function(t){this.Pct&&(this.Co(this.Pct),this.Pct.Sv()),this.Pct=t,this.Pct&&(this.Pct.C_=this.sN,this.c$(this.Pct,!1))}},{key:"C_",get:function(){return this.sN},set:function(t){this.sN!==t&&(t<0||(this.sN=t,this.Bct&&(this.Bct.C_=t),this.Pct&&(this.Pct.C_=t),this.dispatchEvent("ratechange")))}},{key:"Wl",get:function(){return this.Bct&&this.Pct?l.min(this.Bct.Wl,this.Pct.Wl):this.Bct?this.Bct.Wl:this.Pct?this.Pct.Wl:ol.l_}},{key:"P_",get:function(){return this.Pct?this.Pct.P_:0}},{key:"x_",get:function(){return this.Pct?this.Pct.x_:0}}]),n}(xD),KL=function(){function t(t,n,i,r){var e=this;this.ew=void 0,this.Kf=0,this.kv=0,this.running=!1,this.Yct=function(t){return e.Ea(t)},this.Zct=t,this.Jct=n,this.S_=i,this.hO=r,this.$ct=t.jo(),this.Kct=(n-this.$ct)/(i||1)}var n=t.prototype;return n.tht=function(){return this.Zct.Dc(this.Jct),this.running=!1,this.nht(),this.hO()},n._I=function(){var t=this;this.running=!0,this.S_?this.iht():OD(function(){t.running&&t.tht()})},n.Ea=function(t){if(this.nht(),this.running){void 0===this.ew&&(this.ew=t);var n=this.$ct,i=this.Kct,r=this.Jct,e=this.Zct,u=n+l.max(0,t-this.ew)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.tht();if(e.Dc(u))return this.tht();this.iht()}},n.iht=function(){this.Kf=vT(this.Yct),this.kv=cT(this.Yct)},n.nht=function(){dT(this.Kf),fT(this.kv)},t}();var tM=function(t){function n(n,i){var r;return(r=t.call(this)||this).rht=null,r.eht=null,r.uht=NaN,r.sht=!1,r.oht=!1,r.aht=1,r.cht=void 0,r.hht=void 0,r.fht=function(t){r.vht(t)||r.dispatchEvent(t)},r.dht=n,r.bu=i,r}M(n,t);var i=n.prototype;return i.pause=function(){this.dht.pause()},i.play=function(){bL(this.dht.play()),this._ht()},i.ght=function(t){if(!(this.Wl<ol.w_))return this.e6(),this.sht=!0,this.fht({type:"canplay"}),t&&t();this.cht=o(this.hht,100)},i.ba=function(t){this.oht=!0,this.sht=!1,this.dht.removeEventListener("canplay",this.hht),this.hht=this.ght.bind(this,t),this.dht.addEventListener("canplay",this.hht),this.dht.load(),this.cht=o(this.hht,100)},i.e6=function(){this.oht=!1,this.dht.removeEventListener("canplay",this.hht),void 0!==this.cht&&(a(this.cht),this.cht=void 0)},i.wht=function(t){if(this.pause(),this.e6(),null===t)return this.rht=null,void(this.sht=!1);this.sht=!1,this.eht&&this.eht.L6(this.dht.src),this.eht=t[this.bu],this.dht.src=this.eht.M6,this.rht=t},i.gg=function(){return this.dht},i.yht=function(t){this.uht=l.max(t||0,0),this.dht.currentTime=this.uht},i.mht=function(){return this.dht.currentTime},i.kht=function(t){var n=this.rht&&this.rht.metadata,i=n&&n._I,r=n&&n[this.bu]._I,e=n&&n[this.bu].S_;return!!this.D0&&(!(t<i)&&t<r+l.min(e,this.dht.duration))},i._ht=function(){this.aht!==this.dht.playbackRate&&(this.dht.playbackRate=this.aht,bp&&this.aht>0&&this.Wl!==ol.l_&&(this.dht.currentTime=this.dht.currentTime))},i.vht=function(t){return!!(bp&&"seeked"===t.type&&l.abs(this.dht.currentTime-this.uht)>.04)},i.addEventListener=function(n,i){this.SQ(n)||this.dht.addEventListener(n,this.fht),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.SQ(n)||this.dht.removeEventListener(n,this.fht)},i.Io=function(){for(var n=0,i=this.RQ();n<i.length;n++){var r=i[n];this.dht.removeEventListener(r,this.fht)}t.prototype.Io.call(this)},i.unload=function(){this.eht&&this.eht.L6(this.dht.src),this.Io()},L(n,[{key:"volume",get:function(){return this.dht.volume},set:function(t){this.dht.volume=t}},{key:"muted",get:function(){return this.dht.muted},set:function(t){this.dht.muted=t}},{key:"style",get:function(){return this.dht.style}},{key:"_I",get:function(){return this.rht?this.rht.metadata[this.bu]._I:NaN}},{key:"wI",get:function(){return this.rht?this._I+this.rht.metadata[this.bu].S_:NaN}},{key:"pht",get:function(){return this.rht?this._I+this.Aht:NaN},set:function(t){this.rht?this.Aht=t-this._I:this.Aht=0}},{key:"Aht",get:function(){return this.mht()},set:function(t){this.yht(t)}},{key:"bht",get:function(){return this.rht},set:function(t){this.wht(t)}},{key:"P6",get:function(){return this.rht&&this.rht.metadata.a3}},{key:"D0",get:function(){return!(!this.sht||!this.rht)}},{key:"Tht",get:function(){return!(!this.oht||!this.rht)}},{key:"C_",get:function(){return this.aht},set:function(t){t>=0&&this.aht!==t&&(this.aht=t,this._ht())}},{key:"D_",get:function(){return this.dht.paused}},{key:"R_",get:function(){return this.dht.ended}},{key:"Fo",get:function(){return this.dht.error}},{key:"P_",get:function(){return this.dht.videoWidth}},{key:"x_",get:function(){return this.dht.videoHeight}},{key:"Wl",get:function(){return this.dht.readyState}}]),n}(xD);function nM(t,n){return i=t.bht.metadata.LZ,r=n.bht.metadata.LZ,i.bandwidth&&r.bandwidth&&J_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&J_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||Z_(i.GQ,r.GQ)||J_(t.wI,n.wI);var i,r}function iM(t){return{_I:t._I,wI:t.wI}}function rM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r._I<=n&&n<r.wI)return i}return-1}function eM(t,n,i){return{_I:n?i.metadata.T6:i.metadata[t]._I,wI:i.metadata[t]._I+i.metadata[t].S_}}function uM(t,n,i){return new wO([eM(t,n,i)])}function sM(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(eM(t,n,u))}return kO(new wO(r))}function oM(t,n,i){if(!n)return!1;var r=n.metadata[t]._I,e=r+n.metadata[t].S_;return r<=i&&i<=e}function aM(t,n){var i=TO(t,n);return i<0?n:t.end(i)}var cM=function(){function t(t){this.h1=[],this.Eht=yO,this.Sht=yO,this.Gs=t}var n=t.prototype;return n.p7=function(t){var n,i;this.h1=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.bht===t?e.wI=r:i.push({bht:t,_I:n,wI:r})},e=0;e<t.length;e++){var u=t[e];if(u.wI<=n._I)r(u.bht,u._I,u.wI);else if(u._I>=n.wI)n._I<n.wI&&(r(n.bht,n._I,n.wI),n._I=n.wI),r(u.bht,u._I,u.wI);else{var s=void 0,o=void 0;nM(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s._I,c=o._I,h=l.min(o.wI,u.wI),f=l.min(s.wI,u.wI);a<c&&r(s.bht,a,c),c<h&&r(o.bht,c,h),h<f&&r(s.bht,h,f),n._I=l.max(n._I,u.wI)}}return n._I<n.wI&&r(n.bht,n._I,n.wI),i}(this.h1,function(t,n){var i=n.metadata[t]._I;return{bht:n,_I:i,wI:i+n.metadata[t].S_}}(this.Gs,t)),this.Eht=SO(this.Eht,uM(this.Gs,!1,t)),this.Sht=SO(this.Sht,uM(this.Gs,!0,t)),this.Sht=(n=this.Sht,i=this.Eht,pO(n,AO(i)))},n.Rht=function(t){t=this.Iht(t);var n=rM(this.h1,t);return n>=0?this.h1[n].bht:null},n.Nht=function(t,n,i,r){t=this.Iht(t);var e=this.h1,u=rM(e,t);if(u<0)return null;var s=e[u];if(!i||!oM(this.Gs,i,t))return r&&oM(this.Gs,r,t)?null:s.bht;if(i!==s.bht){if(r&&r===s.bht)return null;if(s.wI-t>n)return s.bht}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.bht)return null;if(a.wI-t>n)return a.bht;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].bht);var f=sM(this.Gs,!1,c);c.push(a.bht);var v=sM(this.Gs,!1,c);if(aM(f,t)<aM(v,t))return a.bht}return null},n.Dht=function(t,n){for(var i=this.h1,r=i.length-1;r>=0;r--){var e=i[r];(e.wI<=t||e._I>=n)&&Je(i,r)}},n.yl=function(){this.h1.length=0,this.Eht=yO,this.Sht=yO},n.Iht=function(t){var n=LL(t,this.Tg,this.Sht,!1);return void 0===n?t:n},L(t,[{key:"Tg",get:function(){var t=this.h1.map(iM);return kO(new wO(t))}}]),t}(),hM=5,fM=30,vM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).ec={lZ:{Cht:100,Oht:100,xht:100},_Z:{Cht:500,Oht:100,xht:200}},r.WS=null,r.Lct=null,r.Pht=null,r.Bht=null,r.Lht=0,r.Mht=null,r.Uht=!1,r.yj=!1,r.Fht=0,r.Hht=0,r.Vht=ol.l_,r.Aat=function(){var t=r.Qut();r.Xht.Dht(t-hM,t+fM)},r.Wht={qht:(e=rn(r),{ba:function(){e.zht.addEventListener("ended",this.Ght),e.jht.addEventListener("ended",this.Qht)},Sv:function(){e.zht.removeEventListener("ended",this.Ght),e.jht.removeEventListener("ended",this.Qht)},Yht:function(){},Ght:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.zht})},Qht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.jht})}}),Rb:{tu:"Rb",ba:function(){},Sv:function(){},Yht:function(){}},Zht:function(){var t=rn(r),n=function n(){t.zht.removeEventListener("play",n),t.zht.removeEventListener("timeupdate",i),t.zht.addEventListener("timeupdate",i)},i=function n(){var i,r;t.zht.D_||(!t.seeking&&t.zht.bht?(i=t.zht,(r=t.jht).D0&&dM(i,r)>=0&&t.Jht(t.Wht.$ht)):t.zht.removeEventListener("timeupdate",n))};return{tu:"Zht",ba:function(){t.Wht.qht.ba.call(this),this.Kht(),this.Yht()},Sv:function(){t.Wht.qht.Sv.call(this),t.zht.removeEventListener("play",n),t.zht.removeEventListener("timeupdate",i)},Yht:function(){t.zht.bht?t.Yht(t.jht,t.tft):t.Yht(t.zht,t.tft)},Ght:function(){var n=t.jht.bht;if(n&&n.metadata.c3)return t.jht.kht(t.zht.pht)&&(t.jht.pht=t.zht.pht),t.nft(),void t.zht.play();t.Wht.qht.Ght.call(this)},Qht:function(){0},Kht:function(){t.zht.removeEventListener("play",n),t.zht.D_?t.zht.addEventListener("play",n):n.call(t.zht)}}}(),$ht:function(){var t=rn(r),n=function(){r.Jht(r.Wht.ift)};return{tu:"$ht",ba:function(){t.Wht.qht.ba.call(this),t.jht.addEventListener("seeked",n);var i=dM(t.zht,t.jht),r=t.ec[t.bu].Cht/1e3,e=l.min(i+r,t.jht.wI);try{t.jht.Aht=e}catch(n){t.Jht(t.Wht.Zht),t.rft(n.message)}},Sv:function(){t.Wht.qht.Sv.call(this),t.jht.removeEventListener("seeked",n)},Yht:function(){},Ght:function(){t.Wht.qht.Ght.call(this)},Qht:function(){}}}(),ift:function(){var t,n=rn(r),i=function(){u()},e=function(){u()},u=function(){dT(t),r.jht.pht-r.zht.pht-1/60>0?t=vT(i):r.Jht(r.Wht.eft)};return{tu:"ift",ba:function(){n.Wht.qht.ba.call(this),n.zht.addEventListener("timeupdate",e),u()},Sv:function(){n.Wht.qht.Sv.call(this),dT(t),n.zht.removeEventListener("timeupdate",e)},Yht:function(){},Ght:function(){n.Wht.qht.Ght.call(this)},Qht:function(){n.Wht.qht.Qht.call(this)}}}(),eft:function(){var t,n=rn(r),i=function(){var t=r.uft(r.jht),n=r.ec[r.bu].Oht/l.max(1,r.zht.C_);return function(t,n,i,r){return new KL(t,n,i,r)}(t,t.sft,n,function(){r.Jht(r.Wht.oft),r.Wht.oft.aft()})},e=function(){r.Pht._I(),r.Jht(r.Wht.oft)};return{tu:"eft",ba:function(){n.Wht.qht.ba.call(this);var r=n.ec[n.bu].xht/l.max(1,n.zht.C_);n.Pht=i(),t=o(e,r),n.jht.play()},Sv:function(){n.Wht.qht.Sv.call(this),a(t),t=0},Yht:function(){},Ght:function(){n.Wht.qht.Ght.call(this)},Qht:function(){n.Wht.qht.Qht.call(this)}}}(),oft:function(){var t=rn(r);return{tu:"oft",ba:function(){t.Wht.qht.ba.call(this)},Sv:function(){t.Wht.qht.Sv.call(this),t.Pht&&t.Pht.tht()},Yht:function(){},Ght:function(){t.Wht.qht.Ght.call(this)},Qht:function(){t.Wht.qht.Qht.call(this)},aft:function(){t.Pht=null,t.nft()}}}()},r.cft={hft:function(){var t=rn(r);return{ba:function(){},Sv:function(){},Yht:function(){t.fft.Yht()},Ist:function(n,i,r,e){t.Lht=n,t.Mht=e,t.Jht(t.Wht.Rb);var u=t.zht===t.vft?i:r,s=t.jht===t.vft?i:r;u&&t.zht.kht(n)?t.dft(t.cft.lft):s&&t.jht.kht(n)?t.dft(t.cft._ft):t.dft(t.cft.gft)}}}(),gft:function(){var t=rn(r),n=function(){r.tft(),r.jht.D0?(r.jht.kht(r.Lht)||(r.wft('Could not seek to exact timestamp "'+r.Lht+'", seeking instead to: "'+r.jht._I+'"'),r.Lht=r.jht._I),r.dft(r.cft._ft)):r.dft(r.cft.hft)};return{ba:function(){t.yft(),t.zht.bht=null,t.jht.bht=null,t.jht.style.display="none",t.tft(),this.Yht()},Sv:function(){t.jht.e6(),t.jht.style.display=""},Yht:function(){t.jht.bht||t.Yht(t.jht,n)},Ist:function(n,i,r,e){t.mft(),t.kft.Ist(n,i,r,e)}}}(),lft:function(){var t=rn(r),n=function(){r.dft(r.cft.hft),r.Jht(r.Wht.Zht),r.AF(),r.Mht&&(r.Mht.call(t),r.Mht=null)};return{ba:function(){t.zht.addEventListener("seeked",n);try{t.zht.pht=t.Lht,t.AF()}catch(n){t.rft(n.message)}},Sv:function(){t.zht.removeEventListener("seeked",n)},Yht:function(){},Ist:function(n,i,r,e){t.mft(),t.kft.Ist(n,i,r,e)}}}(),_ft:function(){var t=rn(r),n=function(){r.dft(r.cft.hft),r.nft(),r.Mht&&(r.Mht.call(t),r.Mht=null)};return{ba:function(){t.jht.style.display="none",t.jht.addEventListener("seeked",n);try{t.jht.pht=t.Lht,t.AF()}catch(n){t.rft(n.message)}},Sv:function(){t.jht.style.display="",t.jht.removeEventListener("seeked",n)},Yht:function(){},Ist:function(n,i,r,e){t.mft(),t.kft.Ist(n,i,r,e)}}}()},r.tft=function(){var t=r.yj;r.yj=r.vft.Tht||r.pft.Tht,t&&!r.yj&&r.dispatchEvent("updateend"),r.Aft(),r.AF(),r.bft()},r.AF=function(){var t=r.Wl;t!==r.Vht&&(r.Vht=t,r.dispatchEvent(El.il))},r.Tft=n,r.bu=i,r.Xht=new cM(i),r.aN="_Z"===i?0:1;var u=function(t){switch(t){case"lZ":return"audio";case"_Z":return"video"}}(i);return r.Eft=lM(u),r.Sft=lM(u),n.appendChild(r.Eft),n.appendChild(r.Sft),r.vft=new tM(r.Eft,r.bu),r.pft=new tM(r.Sft,r.bu),r.zht=r.vft,r.jht=r.pft,r.fft=r.Wht.Zht,r.kft=r.cft.hft,r.fft.ba(),r.kft.ba(),r.qJ(),r.Tl(),r}M(n,t);var i=n.prototype;return i.Rft=function(t){return t===this.vft?this.pft:this.vft},i.wft=function(t){this.Lct=t,this.dispatchEvent({type:"warning",warning:this.Lct})},i.rft=function(t){this.WS=t,this.dispatchEvent({type:"error",error:t})},i.uft=function(t){var n,i=this,r=this.Rft(t);return n="_Z"===this.bu?{jo:function(){if(i.Bht!==t)return 0;var n=g(t.style.opacity);return w(n)?1:n},Dc:function(n){n=Wt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.Bht=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},sft:1,Ift:function(){if(n.jo()!==n.sft)return n.Dc(n.sft)}}:{jo:function(){return t.volume},Dc:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.sft-i}catch(t){e=t}return e},sft:this.aN,Ift:function(){if(n.jo()!==n.sft)return n.Dc(n.sft)}}},i.Yht=function(t,n){var i=this.Xht.Nht(this.Qut(),1,this.zht.bht,this.jht.bht);return!!i&&(this.yft(),t.bht=i,t.ba(n),t.P6&&this.dispatchEvent("durationchange"),!0)},i.Nft=function(){this.yft(),this.Xht.yl(),this.vft.e6(),this.pft.e6(),this.tft()},i.gg=function(){return this.zht.gg()},i.Qut=function(){return this.seeking?this.Lht:this.zht.pht},i.Ist=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.kft.Ist(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.nft=function(){var t=this.zht;this.Jht(this.Wht.Rb),this.zht=this.jht,this.jht=t,this.uft(this.zht).Ift(),this.yft(),this.jht.pause(),this.jht.bht=null,this.tft(),this.Jht(this.Wht.Zht)},i.qJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.rft(new LD(BD.BQ,{code:"VEE"+i.error})):t.rft(new LD(BD.BQ,{code:"VEE"+n.Fo.code}));n===t.zht&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.vft),e=i.bind(null,this.pft),u=0;u<n.length;u++){var s=n[u];this.vft.addEventListener(s,r),this.pft.addEventListener(s,e)}this.vft.addEventListener("error",r),this.pft.addEventListener("error",e);for(var o=0;o<GS.length;o++){var a=GS[o];this.vft.addEventListener(a,this.AF),this.pft.addEventListener(a,this.AF)}},i.Tl=function(){this.addEventListener("seeking",this.Aat),this.addEventListener("timeupdate",this.Aat)},i.Jht=function(t){var n;if(this.fft!==t){do{(n=this.fft).Sv()}while(n!==this.fft);this.fft=t,t.ba()}},i.dft=function(t){var n;if(this.kft!==t){do{(n=this.kft).Sv()}while(n!==this.kft);this.kft=t,t.ba()}},i.mft=function(){this.Mht=null,this.dft(this.cft.hft)},i.load=function(){this.pause(),this.mft(),this.zht.bht=null,this.jht.bht=null,this.Jht(this.Wht.Zht)},i.Sv=function(){this.mft(),this.Jht(this.Wht.Rb),this.Nft(),this.vft.unload(),this.pft.unload(),this.Tft.removeChild(this.Eft),this.Tft.removeChild(this.Sft),this.WS=null,this.Lct=null},i.l$=function(){var t=this,n=this.Qut();this.Nft(),this.kft.Ist(n,!1,!1,function(){t.dispatchEvent("l$",!0)})},i.play=function(){this.uft(this.zht).Ift(),this.zht.D0&&this.zht.play()},i.pause=function(){this.vft.pause(),this.pft.pause()},i.zct=function(t){var n=this,i=function(){n.dispatchEvent("xct",!0)};this.pause(),this.zht.R_?this.kft.Ist(t,this.jht===this.vft,this.jht===this.pft,i):this.jht.R_?this.kft.Ist(t,!1,!1,i):this.jht.kht(t)?this.kft.Ist(t,this.jht===this.vft,this.jht===this.pft,i):i()},i.p7=function(t){this.yft(),this.Xht.p7(t),this.tft(),this.kft.Yht()},i.Gct=function(t){return this.Eft.canPlayType('video/mp4; codecs="'+t+'"')},i.jct=function(){return l.max(this.Eft.offsetWidth,this.Sft.offsetWidth)},i.Qct=function(){return l.max(this.Eft.offsetHeight,this.Sft.offsetHeight)},i.Aft=function(){!this.Uht&&this.loaded&&(this.Uht=!0,this.dispatchEvent("loaded"))},i.bft=function(){if("_Z"===this.bu){var t=this.P_,n=this.x_;t>0&&n>0&&(this.Fht!==t||this.Hht!==n)&&(this.Fht=t,this.Hht=n,this.dispatchEvent("resize"))}},i.yft=function(){var t=this.yj;this.yj=!0,t||this.dispatchEvent("updatestart")},L(n,[{key:"Tg",get:function(){var t=[];return w(this.vft._I)||t.push({_I:this.vft._I,wI:this.vft.wI}),w(this.pft._I)||t.push({_I:this.pft._I,wI:this.pft.wI}),SO(kO(new wO(t)),this.Xht.Tg)}},{key:"duration",get:function(){return this.zht.P6?this.zht.wI:this.jht.P6?this.jht.wI:NaN}},{key:"paused",get:function(){return this.zht.D_}},{key:"ended",get:function(){return this.zht.R_}},{key:"muted",get:function(){return this.zht.muted&&this.jht.muted},set:function(t){this.zht.muted=t,this.jht.muted=t}},{key:"volume",get:function(){return this.aN},set:function(t){this.aN=t,this.Pht&&this.Pht.tht(),this.jht.volume=0,this.zht.volume=this.aN}},{key:"error",get:function(){return this.WS}},{key:"warning",get:function(){return this.Lct}},{key:"seeking",get:function(){return this.kft!==this.cft.hft}},{key:"loaded",get:function(){return this.zht.D0}},{key:"C_",get:function(){return this.zht.C_},set:function(t){t>=0&&(this.zht.C_=t,this.jht.C_=t)}},{key:"P_",get:function(){return this.zht.P_}},{key:"x_",get:function(){return this.zht.x_}},{key:"zO",get:function(){return this.yj}},{key:"Wl",get:function(){var t;if(this.kft===this.cft.gft||this.kft===this.cft._ft)t=ol.__;else{var n=this.zht.Wl;if(n<=ol.g_)t=n;else{var i=nA.ZI(this.Tg).bI(),r=this.duration,e=this.Qut();w(r)||(e=l.min(e,r));var u=i.QI(e);if(u){var s=u.wI(0);t=s-e>=3*this.C_||!w(r)&&s>=r?ol.y_:ol.w_}else t=ol.g_}}return t===ol.l_&&this.Uht?ol.__:t}}]),n}(xD);function dM(t,n){return t.pht-n._I}function lM(t){var n=e.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),qr(n),n.controls=!1,n}var _M,gM=function(){function t(t){var n=this;this.Dft=function(){(w(n.Cft)||n.Oft)&&(n.Cft=n.vP()),n.xft=n.Cft,n.Oft=!1},this.Pft=function(){var t=n.vP();n.Bft(t),n.Cft=t},this.Lft=function(){n.$R.Wl<=ol.g_&&n.Pft()},this.Mft=function(){n.Bft(n.Cft),n.Oft=!0},this.Uft=function(){n.Cft=n.vP()},this.$R=t,this.Bg=nA.KI(),this.xft=NaN,this.Cft=NaN,this.Oft=!1,t.addEventListener("playing",this.Dft),t.addEventListener("pause",this.Pft),t.addEventListener("seeking",this.Mft),t.addEventListener("timeupdate",this.Uft),t.addEventListener(El.il,this.Lft)}var n=t.prototype;return n.zU=function(){var t=this.Bg,n=this.xft;if(!w(n)){var i=this.vP();n<i&&(t=t.BI(new nA([n,i])))}return t.CR()},n.vP=function(){return this.$R.Qut()},n.Bft=function(t){var n=this.xft;n<t&&(this.Bg=this.Bg.BI(new nA([n,t]))),this.xft=NaN},n.pst=function(){var t=this.vP();this.Bft(t),this.Oft=!0},n.yl=function(){this.Bg=nA.KI(),this.xft=NaN,this.Cft=NaN,this.Oft=!1},n.co=function(){var t=this.$R;t.removeEventListener("playing",this.Dft),t.removeEventListener("pause",this.Pft),t.removeEventListener("seeking",this.Mft),t.removeEventListener("timeupdate",this.Uft),t.removeEventListener(El.il,this.Lft),this.$R=null},t}(),wM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wi=!1,r.mF=NaN,r.WS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Vht=ol.l_,r.Fft=function(){r.Hft.seeking||(r.Hft.removeEventListener("seeked",r.Fft),r.dispatchEvent("seeked"),r.Vft.paused?r.Dh=r.Xft:r.Wft(),r.AF())},r.qft=function(){r.Hft.paused||(r.Hft.removeEventListener("playing",r.qft),r.dispatchEvent("playing"))},r.zft=function(t){r.Dh=r.Gft,r.WS=t,r.dispatchEvent({type:"error",error:r.WS})},r.jft={paused:!0,play:function(){r.removeEventListener("iat",r.jft.Qft),r.Wi?(r.Dh=r.Yft,r.Hft.removeEventListener("playing",r.qft),r.Hft.addEventListener("playing",r.qft),r.Hft.play(),r.dispatchEvent("play")):r.addEventListener("iat",r.jft.Qft)},Qft:function(){r.removeEventListener("iat",r.jft.Qft),r.Dh.play()},stall:function(){},pause:function(){r.jft.Qft&&r.removeEventListener("iat",r.jft.Qft),r.Hft.pause(),r.dispatchEvent("pause"),r.Dh=r.Xft},load:function(t){},Qut:function(){return r.Wi?r.Hft.Qut():0},Ist:function(t,n){var i=bO(r.Tg,t);n=n||!i,r.Hft.removeEventListener("seeked",r.Fft),r.Hft.addEventListener("seeked",r.Fft),r.Vft.seekTime=t,r.Dh=r.Vft,r.dispatchEvent("pst"),r.Hft.Ist(t,n),r.dispatchEvent("seeking")},NP:function(){return r.Hft.Wl},l$:function(t){r.Vft.seekTime=r.Qut(),r.Dh=r.Zft,r.Hft.removeEventListener("l$",r.Zft.Jft),r.Hft.addEventListener("l$",r.Zft.Jft),r.Hft.l$(t),r.AF()},forwardEvent:function(t){"pause"===t.type&&r.Hft.ended||r.dispatchEvent(t)}},r.Xft=de(de({},r.jft),{pause:function(){r.removeEventListener("iat",r.jft.Qft)},Ist:function(t){r.Vft.paused=!0,r.jft.Ist(t)},l$:function(t){r.Vft.paused=!0,r.jft.l$(t)}}),r.$ft=de({},r.Xft),r.Kft=de(de({},r.Xft),{load:function(t,n){r.removeEventListener("iat",r.Kft.tvt),n||r.dispatchEvent("loadstart"),r.Wi?r.Hft.load(t):(r.Kft.nvt=t,r.addEventListener("iat",r.Kft.tvt))},tvt:function(){r.removeEventListener("iat",r.Kft.tvt),r.Dh.load(r.Kft.nvt,!0)},nvt:null,Qut:function(){return r.Wi?r.Hft.Qut():r.Kft.ivt},Ist:function(t){r.removeEventListener("iat",r.Kft.rvt),r.Wi?(r.Dh=r.Xft,r.Dh.Ist(t)):(r.Kft.ivt=t,r.addEventListener("iat",r.Kft.rvt),r.dispatchEvent("seeking"))},rvt:function(){r.removeEventListener("iat",r.Kft.rvt),r.Dh.Ist(r.Kft.ivt)},ivt:0,l$:function(t){}}),r.Yft=de(de({},r.jft),{Ist:function(t){r.Vft.paused=!1,r.jft.Ist(t)},play:function(){},stall:function(){r.Dh=r.evt,r.evt.uvt=r.Hft.Qut(),r.evt.paused=!1,r.Hft.addEventListener("xct",r.evt.svt),r.Hft.zct(r.evt.uvt),r.AF()},l$:function(t){r.Vft.paused=!1,r.jft.l$(t)}}),r.evt=de(de({},r.Yft),{paused:!1,uvt:0,Ist:function(t){r.Hft.removeEventListener("xct",r.evt.svt),r.evt.paused?r.Dh=r.Xft:r.Dh=r.Yft,r.Dh.Ist(t),r.AF()},Qut:function(){return r.evt.uvt},NP:function(){return l.min(r.Hft.Wl,ol.g_)},forwardEvent:function(){},play:function(){r.evt.paused=!1,r.dispatchEvent("play")},pause:function(){r.evt.paused=!0,r.dispatchEvent("pause")},stall:function(){},svt:function(){r.Hft.seeking||(r.Hft.removeEventListener("xct",r.evt.svt),r.evt.paused?r.Dh=r.Xft:r.jft.play(),r.AF())}}),r.Vft=de(de({},r.jft),{paused:!1,seekTime:0,Qut:function(){return r.Vft.seekTime},play:function(){r.Vft.paused=!1},pause:function(){r.Vft.paused=!0,r.Hft.pause(),r.dispatchEvent("pause")}}),r.Zft=de(de({},r.Vft),{Ist:function(t){r.Hft.removeEventListener("l$",r.Zft.Jft),r.Vft.paused?r.Dh=r.Xft:r.Dh=r.Yft,r.Dh.Ist(t)},NP:function(){return l.min(r.Hft.Wl,ol.g_)},forwardEvent:function(){},stall:function(){},Jft:function(){r.Hft.seeking||(r.Hft.removeEventListener("l$",r.Zft.Jft),r.Vft.paused?r.Dh=r.Xft:r.jft.play(),r.AF())}}),r.Gft=de(de({},r.jft),{play:function(){},pause:function(){},load:function(){},Qut:function(){return NaN},NP:function(){return ol.l_},Ist:function(t){r.jft.Ist(t,!0)},l$:function(t){}}),r.Ao=function(t){r.dispatchEvent(t)},r.ovt=function(t){r.Dh.forwardEvent(t)},r.avt=function(t){r.zft(t.error)},r.cvt=function(t){if(t.origin&&t.origin.P6)return r.ug();r.Dh.stall()},r._ct=function(){var t=r.Hft.duration;t&&r.mF!==t&&(r.mF=t,r.dispatchEvent("durationchange"))},r.fvt=function(){r.Hft.loaded&&(r.loaded=!0)},r.AF=function(){var t=r.Wl;t!==r.Vht&&(r.Vht=t,r.dispatchEvent(El.il))},r.vvt=n,r.YE=i,r.dvt=new gM(rn(r)),r.Hft=new $L,r.Dh=r.Kft,r.Tft=e.createElement("div"),r.Tft.style.position="absolute",r.Tft.style.width="100%",r.Tft.style.height="100%",r.lvt(),r}M(n,t);var i=n.prototype;return i.Wft=function(){this.jft.play()},i.lvt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Hft.addEventListener(r,this.Ao)}for(var e=0;e<n.length;e++){var u=n[e];this.Hft.addEventListener(u,this.ovt)}this.Hft.addEventListener("ended",this.cvt),this.Hft.addEventListener("error",this.avt),this.Hft.addEventListener("durationchange",this._ct),this.Hft.addEventListener("loaded",this.fvt),this.Hft.addEventListener(El.il,this.AF)},i.setup=function(){this.YE.hR.parentNode===this.vvt?this.vvt.replaceChild(this.Tft,this.YE.hR):(this.YE.hR.parentNode&&this.YE.hR.parentNode.removeChild(this.YE.hR),this.vvt.appendChild(this.Tft))},i.play=function(){this.Dh.play()},i.pause=function(){this.Dh.pause()},i._vt=function(t){this.Hft&&this.Hft.Sv(t),this.Wi=!1},i.ug=function(){this.pause(),this.Dh=this.$ft,this.WS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Dh.load(t)},i.unload=function(){return this.Hft.Sv(),this.dvt.co(),this.Tft.parentNode===this.vvt?this.vvt.replaceChild(this.YE.hR,this.Tft):(this.Tft.parentNode&&this.Tft.parentNode.removeChild(this.Tft),this.vvt.appendChild(this.YE.hR)),this.Io(),this.YE.hR},i.reset=function(t){this.Wi=!1,this.Dh=this.Kft,this.WS=void 0,this.mF=NaN,this.Vht=ol.l_,this.dvt.yl(),this._vt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.l$=function(t){this.Dh.l$(t)},i.p7=function(t){return this.Hft.p7(t),T.resolve()},i.gg=function(){return this.Hft.gg()},i.Qut=function(){return this.Dh.Qut()},i.Ist=function(t){this.dvt.pst(),this.Dh.Ist(t)},i.Dit=function(t,n){return T.resolve()},i.canPlayCodecs=function(t){return this.Hft.Gct('video/mp4; codecs="'+t+'"')},i.dst=function(t,n,i){var r={};for(var e in t)if(Q.call(t,e)){var u=t[e];!this.Hft.videoStream&&u._Z&&(this.Hft.videoStream=new vM(this.Tft,"_Z"),r._Z=this.Hft.videoStream),!this.Hft.audioStream&&u.lZ&&(this.Hft.audioStream=new vM(this.Tft,"lZ"),r.lZ=this.Hft.audioStream,this.dispatchEvent("jot"))}return this.Wi=!0,this.dispatchEvent("iat"),T.resolve(r)},L(n,[{key:"vst",get:function(){return this.Wi}},{key:"Sg",get:function(){return this.Tft}},{key:"Tg",get:function(){return this.Hft.Tg}},{key:"volume",get:function(){return this.Hft.volume},set:function(t){this.Hft.volume=t}},{key:"duration",get:function(){return this.mF}},{key:"muted",get:function(){return this.Hft.muted},set:function(t){this.Hft.muted=t}},{key:"paused",get:function(){return this.Dh.paused&&this.Hft.paused}},{key:"played",get:function(){return this.dvt.zU()}},{key:"ended",get:function(){return this.Dh===this.$ft}},{key:"seeking",get:function(){return this.Dh===this.Vft}},{key:"error",get:function(){return this.WS||this.Hft.error}},{key:"warning",get:function(){return this.Hft.warning}},{key:"width",get:function(){return this.Hft.jct()}},{key:"height",get:function(){return this.Hft.Qct()}},{key:"C_",get:function(){return this.Hft.C_},set:function(t){this.Hft.C_=t}},{key:"Wl",get:function(){return this.Dh.NP()}},{key:"P_",get:function(){return this.Hft.P_}},{key:"x_",get:function(){return this.Hft.x_}}]),n}(xD);!function(t){t.qQ="unsupported",t.gvt="native",t.wvt="hls-native",t.yvt="hls-mse",t.mvt="hls-switching-video"}(_M||(_M={}));var yM=function(){function t(){this.kvt={},this.pvt(_M.gvt,RL),this.pvt(_M.wvt,RL),this.pvt(_M.yvt,qL),this.pvt(_M.mvt,wM)}return t.prototype.pvt=function(t,n){this.kvt[t]=n},t.pvt=function(n,i){t.y0.pvt(n,i)},t.Avt=function(n,i,r){var e=t.y0.kvt[n];return e?new e(i,r):void 0},t}();yM.y0=new yM;var mM=function(t){function n(n){var i;return(i=t.call(this)||this).bvt=function(t){i.bo(t)},i.Tvt=n,i.Evt(),i}M(n,t);var i=n.prototype;return i.Evt=function(){this.Tvt.Eo("cO",this.bvt)},i.Svt=function(){this.Tvt.No("cO",this.bvt)},i.Sv=function(){this.Svt()},L(n,[{key:"_O",get:function(){return this.Tvt._O}},{key:"gO",get:function(){return this.Tvt.gO}},{key:"Rvt",set:function(t){var n=this.Tvt;n._O===t._O&&n.gO===t.gO||(this.Svt(),this.Tvt=t,this.Evt(),this.bo(new eT(t.gO,t._O)))}}]),n}(bu);function kM(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function pM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function AM(t,n){var i=t.type;return i?vp?pM(i)?!mp||n.useSwitchOverMSE||j.Ce&&n.vr&&n.vr[360]?!_p||j.Ee||j.Ne&&j.oe?gp?_M.mvt:_M.qQ:_M.wvt:_M.yvt:_M.gvt:_M.qQ:_M.gvt}var bM=function(t,n,i,r,e){var u,s,c,h,v,_,y=this,m=null,k=null,p=null,A=!0,b=null,E=null,S=!1,R=null,I=null,N=null,D=eA,C=eA,O=!0,x=null,P={e2:0,Jct:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,Q=ol.l_,Y=!1,Z=!1,J=NaN,K=null,tt=null,nt=j._e&&lp,it=!1,rt="",et=_M.qQ,ut=null,st=function(){var i=T.coroutine(ve.mark(function i(){return ve.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.uo=!0,y.Io(),B&&Pt(null),_&&(_.Sv(),_=null),v&&(v.yl(),v=null),en(),k&&(k.unload(),k=null),!I.hR){i.next=11;break}return i.next=10,n.NR(I);case 10:I=null;case 11:if(!N.hR){i.next=15;break}return i.next=14,n.NR(N);case 14:N=null;case 15:u.Sv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new LD(BD.qQ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},at=function(){var t,r;return(t=i.audioOnly?(r=n.aR(h_.gv)).hR:(r=n.aR(h_.wv)).hR).preload="none",qr(t),r},ct=function(t){return t===I?N:I},ht=function(){b.style.zIndex="1",E.style.zIndex="0",b.style.display=A?"":"none",E.style.display=A&&S?"":"none"},ft=function(t){yt(t.R$),wt(t.I$),s&&(s.R$=c),pt()},vt=function(t,n){kt(t.R$,n),mt(t.I$),s&&(s.R$=c)},dt=function(){Xt(),Nt(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("jot",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===_M.gvt&&(G=!0,y.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(El.il,nn),k.setup(),_.bst=k,n(["timeupdate","playing","ratechange","resize"],t),et){case _M.gvt:case _M.wvt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case _M.yvt:n(["play","pause"],St)}k.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},_t=function(t){m&&m.dot(),k&&(m=new aL(t,nt,v,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=AL(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Bot=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){c&&(c.Sv(),c=null,y.initialized=!1),(c=t)&&(y.dispatchEvent("loadstart",!0),c.addEventListener("loadedmetadata",function(){G=!0,nn()}),c.addEventListener("durationchange",function(){J=c.S_,y.dispatchEvent("durationchange")}),c.addEventListener("Fo",function(t){Zt(t.Fo)}),c.addEventListener("Ov",At),c.addEventListener("Pg",At),c.iK.addEventListener("renditionUpdated",function(){Gt()}),_.iK=c.iK)},mt=function(t){var n;h&&(h.Sv(),h=null),k&&(h=t)&&(n=h.Gut,h.addEventListener("v$",function(t){var n=y.videoWidth,i=y.videoHeight;K=t.LZ,y.dispatchEvent(t),Tp&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),h.addEventListener("Fo",function(t){Zt(t.error)}),h.addEventListener("Tut",function(t){y.dispatchEvent(t)}),h.bst=k,w(n)||Ht(n))},kt=function(t,n){c&&(c.Sv(),c=null,y.initialized=!1),(c=t)&&(y.dispatchEvent("loadstart",!0),c.addEventListener("loadedmetadata",function(){G=!0,nn()}),c.addEventListener(Wo.uh,function(t){y.dispatchEvent(t)}),c.addEventListener(Wo.oh,function(t){y.dispatchEvent(t)}),c.addEventListener("durationchange",function(){J=c.S_,y.dispatchEvent("durationchange")}),c.addEventListener("Fo",function(t){Zt(t.Fo)}),c.addEventListener("Ov",At),c.addEventListener("Pg",At),c.addEventListener("fK",function(){y.dispatchEvent("progress")}),c.iK.addEventListener("renditionUpdated",function(){Gt()}),c.iK.addEventListener("renditionUpdated",function(t){var i,r=t.LZ.mJ&&t.LZ.mJ.lZ;r&&-1!==r.indexOf("mp4a.40.3")&&("g6"!==n.w6||yp||(i=B,OD(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),_.iK=c.iK)},pt=function(){k.addEventListener("play",function(){y.play({fromNative:!0})}),k.addEventListener("pause",function(){y.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){y.volume=k.volume,y.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!c||c.Pg;z=n,n&&!t?y.dispatchEvent(Wo.Yc):!n&&t&&y.dispatchEvent(Wo.Qc)},bt=function(){V=!1,X=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",Et),V&&(bt(),y.ended?Ht(0):jt(),k.play(),h&&h.rg())},Et=function t(){y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?y.play({fromNative:!0}):!n&&X&&y.pause({fromNative:!0})},Rt=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.Jct="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n._N()),P.Ivt=!1,!y.initialized||!k){if(t.onlyWhenInitialized){var i=new LD(BD.VQ,{code:"MGB6720"});throw Zt(i),i}return y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),y.addEventListener("initialized",t.fromNative?Et:Tt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(V){if(W&&y.ended)return Nt(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),h&&h.eg()),y.dispatchEvent("pause",!0))},Dt=function(t){return{type:kM(t)?"application/vnd.apple.mpegurl":"",src:t}},Ct=function(t){return"string"==typeof t},Ot=function(t){if(kL(t))return t.type?t:Dt(t.src);if(Ct(t))return Dt(t);if($(t)&&Ct(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(kM(i))return Dt(i)}return Dt(t[0])}if($(t)&&kL(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(pM(e.type)||!e.type&&kM(e.src))return e.type?e:Dt(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,u=AM(n,i);!function(t,n){switch(t){case _M.gvt:case _M.wvt:n.w6=!1,n.Nvt=!1;break;case _M.yvt:n.w6="g6",n.Nvt=!0;break;case _M.mvt:n.w6="a9",n.Nvt=j.ee}}(u,i);var o=function(t,n,i){var u,o,a,c=i.configuration;switch(t){case _M.gvt:a=u=o=null;break;case _M.wvt:a=null;var h=new KB(c,r);u=h,o=new uL(h);break;case _M.yvt:case _M.mvt:a=new fL(c,r);var f=new $B(c,a,r,e);u=f,o=new rL(f);break;default:return null}return new OC(n,t,i,a,u,o,s)}(u,n,t);return o?(o.I$&&(o.I$.C_=y.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.hR,s=!1,o=!y.paused,a=et,c=y.playbackRate,h=y.Dvt;tt&&(tt.Sv(),tt=null),en();var f=n&&n.TK||null;n&&n.AK||null,L=n&&n.JR||null,M=f&&f.configuration||null,et=n&&n.bK||_M.qQ,Jt();var v={type:"Cvt",Ovt:n,Zp:M,xvt:i};if(y.dispatchEvent(v),et!==_M.qQ){if(k){y.pause();var d=a===et||a===_M.wvt&&et===_M.gvt||a===_M.gvt&&et===_M.wvt,l=i&&!j._e;if(d&&!l)k.reset(),m.yl();else{if(l?(p=k,e=(r=ct(r)).hR):e=k.unload(),!(s=yM.Avt(et,t,r)))return void ot();k=s,lt(),_t(e)}Xt(),G=!1,Q=ol.l_,Y=!1,Z=!1,J=NaN,x=null,y.dispatchEvent("durationchange"),P.Jct=0,P.e2=0,P.Ivt=!0,y.dispatchEvent("timeupdate")}else{if(!(s=yM.Avt(et,t,r)))return void ot();k=s,r.hR.removeAttribute("poster"),lt(),_t(r.hR)}switch(R=r,u.Rvt=R.uL,b=k.Sg,p?(E=p.Sg,S=!0):(E=ct(r).hR,S=!1),ht(),M.crossOrigin){case rl.a_:case rl.c_:R.hR.setAttribute("crossorigin",M.crossOrigin);break;default:R.hR.removeAttribute("crossorigin")}if(h!==y.Dvt&&y.dispatchEvent(Wo.Wc),Lt(),Mt(),!L)return B=null,void(y.initialized=!1);!function(t,n){switch(et){case _M.gvt:case _M.wvt:ft(t);break;case _M.yvt:case _M.mvt:vt(t,n);break;default:return}t.$R=y,t.NK(H)}(tt=n,M),k.src=L,m.cot(f&&f.textTracks),y.playbackRate=c,B=L;var _={type:"Pvt",Ovt:n,Zp:M,xvt:i};y.dispatchEvent(_),y.initialized=!0,y.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&j._e&&o&&Yt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=y.Jot)!==t&&y.dispatchEvent("Bvt")},Mt=function(){_&&(_.xH=nt&&it)},Ut=function(){return k&&k.vst?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.Ivt)return P.Jct;if(h){var t=h.Gut;return"start"===t?0:t}return k.Qut()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=y.live?1/0:0),t=g(t)||0,t=Kt(t),k){if(l.abs(P.Jct-t)<.001&&qb()-P.e2<50)return;Vt(),h?h.Gut=t:k.Ist(t),k.seeking||Xt(),P={Jct:t,e2:qb()}}},Vt=function(){W=!0,zt(),ut=o(qt,100)},Xt=function(){W&&(W=!1,ut&&qt(),y.dispatchEvent("seeked"))},qt=function(){zt(),y.dispatchEvent("seeking")},zt=function(){ut&&(a(ut),ut=null)},Gt=function(){Z||(Z=!w(J)&&$t().length>0&&(Y||!y.live))&&y.dispatchEvent("kht")},jt=function t(){y.removeEventListener("kht",t),null!==x&&(Z?Ht(x):y.addEventListener("kht",t))},Qt=function(){return k&&k.vst?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===BD.XQ)return n=!X,Pt(tt.JR),void(n&&It());var n;Yt()||Nt(),q=t,y.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return _O(h?h.Mg:J>0?new wO([{_I:0,wI:J}]):yO)},Kt=function(t){var n=$t();return n.length?Wt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.Wl:ol.l_;return G&&(t=l.max(ol.__,t)),t},nn=function(){var t=tn();t!==Q&&(Q=t,y.dispatchEvent(El.il))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,E=t||ct(R).hR,ht()}};y.initialized=!1,y.warning=null,y.play=It,y.pause=Nt,y.load=function(){if(!y.initialized||!k){var t=new LD(BD.VQ,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},y.Lvt=xt,y.Mvt=Bt,y.co=st,y.og=rn,y.lg=function(){A=!0,ht()},y._g=function(){A=!1,ht()},y.gg=function(){return k&&k.gg()},y.W_=function(){var t=k?mE(k.bst):{Ig:0,Ng:0,Dg:0};return de(de(de({},{Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),t),{Cg:8*nl.e_()})},d.defineProperty(y,"buffered",{get:function(){return _O(k?k.Tg:yO)}}),d.defineProperty(y,"played",{get:function(){return k?_O(k.played):yO}}),d.defineProperty(y,"seekable",{get:$t}),d.defineProperty(y,"live",{get:function(){return!(!c||!KD.F_(c.iK.YZ))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=g(t))!==Ut()&&(k&&(k.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Ft,set:Ht}),d.defineProperty(y,"dimensions",{get:function(){return u}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return h?h.Eg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!w(i.getTime())&&h&&(n=h.Btt(t),w(n)||null===n||Ht(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Yt,set:function(t){t?Nt():It()}}),d.defineProperty(y,"preload",{get:function(){return H},set:function(t){H=Yp((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return k&&k.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return W}}),d.defineProperty(y,"error",{get:function(){return q||k&&k.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"Dvt",{get:function(){return M&&M.vr&&M.vr[360]?eA:R===I?D:C}}),d.defineProperty(y,"videoWidth",{get:function(){return k?k.P_:K&&K.resolution?K.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return k?k.x_:K&&K.resolution?K.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return h&&h.AJ}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&k&&k.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return h?h.Sst(Ft()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=g(t),Ht(h.Rst(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return h&&h.C_||k&&k.C_||1},set:function(t){(t=g(t))>0&&(h?h.C_=t:k&&(k.C_=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return tt&&tt.tg.Vd||null}}),d.defineProperty(y,"audioTracks",{get:function(){return tt&&tt.K_.Vd||null}}),d.defineProperty(y,"ng",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return z}}),d.defineProperty(y,"Yot",{get:function(){return k&&k.Yot}}),d.defineProperty(y,"Zot",{get:function(){return k&&k.Zot}}),d.defineProperty(y,"Jot",{get:function(){return k&&k.Jot||"inline"},set:function(t){k&&(k.Jot=t)}}),d.defineProperty(y,"Uvt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),d.defineProperty(y,"Wl",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(Wo.Yc,function(){y.live&&Ht("start")}),y.addEventListener("playing",en),v=new Ww,_=new hL(y,v),y.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(s=new xC),n=function(t){if("string"==typeof t)try{return PD.Ve.Sj(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i.zrt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),y.addEventListener("durationchange",Gt),I=at(),N=at(),R=I,b=I.hR,E=N.hR,u=new mM(R.uL),D=I.ER,C=N.ER,ht(),Pt(null)}()};bM.prototype=new xD,bM.prototype.constructor=bM;var TM,EM=((TM={useSwitchOverMSE:!1,ManifestParser:"Fvt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),TM.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),kp&&TM.abrRules.push("AvoidHighBitrateStreamsRule"),j.ye&&TM.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),TM);var SM=function(t){function n(n,i,r){var e;return(e=t.call(this,vd.cl)||this).Hvt=n,e.Vvt=i,e.Xvt=r,e}return M(n,t),n.prototype.Xd=function(){return new RM(this.Hvt&&this.Hvt.Vd)},n}(fd),RM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return M(n,t),n}(Eu),IM=function(t){function n(n,i){var r;return(r=t.call(this,vd.fl)||this).Bl=n||[],r.Wd=i,r}return M(n,t),n.prototype.Xd=function(){return new NM(this.Bl.map(function(t){return t.Vd}))},n}(fd),NM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return M(n,t),n}(Eu),DM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return M(n,t),n}(Eu);function CM(t){return{get bandwidth(){return t.VS},get codecs(){return t.mJ},get id(){return t.Dl},get name(){return t.xl},get averageBandwidth(){return t.VS},get label(){return t.xl},set label(n){t.xl=xd(n)},get height(){return t.vp},get width(){return t.ts},get frameRate(){return t.z$},get firstFrame(){return t.Wvt},get available(){return t.cQ},addEventListener:function(n,i){t.Eo(n,i)},removeEventListener:function(n,i){t.No(n,i)}}}function OM(t){return{get bandwidth(){return t.VS},get codecs(){return t.mJ},get id(){return t.Dl},get name(){return t.xl},get averageBandwidth(){return t.VS},get label(){return t.xl},set label(n){if(!nt(n))throw new f("Unexpected - The provided label is not a string");t.xl=n},get audioSamplingRate(){return t.qvt},get available(){return t.cQ},addEventListener:function(n,i){t.Eo(n,i)},removeEventListener:function(n,i){t.No(n,i)}}}var xM=function(t){function n(n,i){var r;(r=t.call(this)||this).Hd=void 0,r.zvt=void 0,r.j$=void 0,r.Gvt=function(){return r.jvt()},r.Qvt=function(){return r.Yvt()},r.Zvt=function(){return r.bo(new d_(rn(r)))},r.Wg=g_(),r.Jvt=n,r.$vt=i,r.Ug=new v_;for(var e=r.Jvt.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.Kvt(s);o.Eo("update",r.Zvt),r.Ug.Fg(o)}return r.Jvt.qualities.addEventListener("activequalitychanged",r.Gvt),r.Jvt.qualities.addEventListener("targetqualitychanged",r.Qvt),r.jvt(),r.Yvt(),r}M(n,t);var i=n.prototype;return i.tdt=function(t){t!==this.zvt&&(this.zvt=t,t&&this.bo(new SM(t)))},i.ndt=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&Ke(i,r));var i,r},i.idt=function(t){for(var n=0,i=this.Ug.ml;n<i.length;n++){var r=i[n];if(r.rdt===t)return r}},i.edt=function(t){for(var n=[],i=0,r=this.Ug.ml;i<r.length;i++){var e=r[i];$e(t,e.rdt)&&n.push(e)}return n},i.jvt=function(){var t=this.Nl?this.Jvt.qualities.activeQuality:void 0,n=t&&this.idt(t)||void 0;this.tdt(n)},i.Yvt=function(){var t=this.Jvt.qualities.targetQuality;t?J(t)?this.Ll=this.edt(t)||void 0:this.Ll=this.edt([t])||void 0:this.Ll=void 0},i.jg=function(t){this.Nl=t},i.Sv=function(){this.Jvt.qualities.removeEventListener("activequalitychanged",this.Gvt),this.Jvt.qualities.removeEventListener("targetqualitychanged",this.Qvt);for(var t=0,n=this.Ug.ml;t<n.length;t++){var i=n[t];i.No("update",this.Zvt),i.Sv()}},L(n,[{key:"Il",get:function(){return this.zvt}},{key:"Nl",get:function(){return this.Jvt.enabled},set:function(t){t?this.$vt.enable(this.Jvt):this.$vt.disable(this.Jvt)}},{key:"Vd",get:function(){return this.Hd||(this.Hd=Ud(this)),this.Hd}},{key:"Dl",get:function(){return this.Jvt.id+""}},{key:"Cl",get:function(){return this.Wg}},{key:"Ol",get:function(){return this.Jvt.kind}},{key:"xl",get:function(){var t;return null!==(t=this.Jvt.name)&&void 0!==t?t:""},set:function(t){t!==this.xl&&(this.Jvt.name=t,this.bo(new d_(this)))}},{key:"Pl",get:function(){return this.Jvt.language}},{key:"Xl",get:function(){return this.Nl?"enabled":"disabled"}},{key:"Bl",get:function(){return this.Ug}},{key:"Ll",get:function(){return this.j$},set:function(t){var n=this,i=this.j$,r=t?t.filter(function(t){return b.Ss.zu(n.Il,t)}):void 0;r&&0===r.length||this.ndt(r,i)||(this.j$=r,this.Jvt.qualities.targetQuality=r?r.map(function(t){return t.rdt}):null,this.bo(new IM(r,this)))}}]),n}(bu),PM=function(t){function n(n){var i,r;return(i=t.call(this)||this).Hd=void 0,i.MN=function(){return i.Ea()},i.rdt=n,i.rdt.addEventListener("qualityupdated",i.MN),i.Dl=n.id,i.VS=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.mJ=n.codecs,i.UY=n.uri,i}M(n,t);var i=n.prototype;return i.Ea=function(){this.udt()&&this.bo(new DM(this.Vd))},i.udt=function(){var t,n=this.rdt,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.Dl!==i||!jt(this.VS,r)||this.mJ!==e||this.UY!==u;return this.Dl=i,this.VS=r,this.mJ=e,this.UY=u,s},i.Sv=function(){this.rdt.removeEventListener("qualityupdated",this.MN)},i.cb=function(){},L(n,[{key:"xl",get:function(){return this.rdt.name||""},set:function(t){this.xl!==t&&(this.rdt.name=t,this.bo(new DM(this.Vd)))}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}},{key:"cQ",get:function(){return!0}}]),n}(bu),BM=function(t){function n(n){var i;return(i=t.call(this,n)||this).qvt=NaN,i}return M(n,t),n.prototype.Xd=function(){return OM(this)},n}(PM),LM=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).z$=n.frameRate,r.ts=n.resolution?n.resolution.width:NaN,r.vp=n.resolution?n.resolution.height:NaN,r.sdt=i,r}M(n,t);var i=n.prototype;return i.udt=function(){var n=t.prototype.udt.call(this),i=this.rdt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!jt(this.z$,r)||!jt(this.ts,e)||!jt(this.vp,u),this.z$=r,this.ts=e,this.vp=u,n},i.Xd=function(){return CM(this)},L(n,[{key:"Wvt",get:function(){return this.sdt},set:function(t){this.sdt!==t&&(this.sdt=t,this.bo(new DM(this.Vd)))}}]),n}(PM),MM=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Kvt=function(t){return new BM(t)},n}(xM),UM=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Kvt=function(t){return new LM(t,this.odt)},i.adt=function(t){this.odt=t;for(var n=0,i=this.Bl.ml;n<i.length;n++){var r=i[n];void 0!==r.Wvt&&(r.Wvt=t)}},n}(xM),FM=function(t){function n(){return t.call(this,Wo.Yc)||this}return M(n,t),n}(Eu),HM=function(t){function n(){return t.call(this,Wo.Qc)||this}return M(n,t),n}(Eu),VM=function(){function t(t,n){this.Q_=new Ww,this.xX=new _I(t,n)}var n=t.prototype;return n.bb=function(t,n,i,r,e){var u=new dR(t,n,i,r,e);return this.Q_._l(u),this.xX._l(u),u},n.Sb=function(t){this.Q_.gl(t),this.xX.gl(t)},n.yl=function(){this.Q_.yl(),this.xX.yl()},n.Sv=function(){this.Q_.Sv(),this.xX.Sv()},L(t,[{key:"ng",get:function(){return this.Q_}}]),t}();function XM(t,n){for(var i=0;i<t.kl;i++){var r=t.ll(i);if(r.Jvt===n)return r}}var WM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).cdt=void 0,o.WS=void 0,o.qS=void 0,o.hdt=NaN,o.fdt=0,o.GS=new Mp,o.vdt=function(){o.bo(new Il(o.E_))},o.ddt=function(){o.bo(new Rl(o.E_))},o.ldt=function(){o.bo(new Ml(o.E_))},o._dt=function(){o.bo(new Ul(o.E_))},o.gdt=function(){o.bo(new xl(o.E_,o.C_))},o.wdt=function(){o.bo(new Fl(o.E_,o.B_))},o.ydt=function(){o.bo(new lS(o.E_))},o.mdt=function(){o.bo(new Bl(o.E_))},o.kdt=function(){o.bo(new _S)},o.pdt=function(){o.bo(new FM)},o.Adt=function(){o.bo(new HM)},o.bdt=function(){o.Tdt(),o.Edt.yl(),o.Sdt(),o.IR()},o.gL=function(){o.Sdt(),o.IR(),o.lR()},o.Tdt=function(){var t=o.hdt,n=o.S_;o.hdt=n,t===n||w(t)&&w(n)||o.bo(new Ol(n))},o.Rdt=function(t){var n=t.error||o.Idt.error;if(n){var i,r=i_.DECODE;n.code===BD.BQ&&yr(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.WS=new s_(r,n.message,i),o.bo(new Wl(function(t){return new bo(c_(t.code),t.message,t)}(o.WS)))}},o.QS=function(){o.bo(new Pl(o.E_,o.Eg))},o.Ndt=function(){o.P_>0&&o.x_>0&&o.bo(new ly)},o.Ddt=function(){o.bo(new Kd)},o.Cdt=function(t){o.j_.ml.forEach(function(n){return n.adt(t.ptsOffset)})},o.Odt=function(t){o.fdt+=t.Og,o.bo(t)},o.xdt=function(t){return o.Pdt(t.track)},o.Bdt=function(t){return o.Ldt(t.track)},o.Mdt=function(t){var n=XM(o.G_,t.track);n&&n.bo(new kd(n))},o.Udt=function(t){var n=XM(o.j_,t.track);n&&n.bo(new kd(n))},o.VG=n,o.vN=i,e=function(t){var n,i={};return i=pL(t,i),(i=pL(EM,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!j.ce&&i.allowManualQualitySwitch,i.libraryLocation=Rr(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Q.call(n,t)?n[t]:t}),i}(e),o.Idt=new bM(o.VG,o.vN,e,r,u),o.Fdt(),o.Hdt=new qM(o.Idt),o.Edt=new Cp(o.Hdt,!0),o.Edt.Eo(Dl,o.Ao),o.G_=new f_,o.j_=new f_,o.kb=new VM(rn(o),new gI),o.DX=new RI(rn(o)),o.DX.Sl=o.Idt.ng,o.CX=new II(o.kb,o.DX),o.Q_=new _R([o.Idt.ng,o.CX.Yk]),o.QG=new qI,o.QG.iW(n),o.YG=new oD(o.QG.Sg,o.Idt.dimensions,o.ng,s,o.Idt.Dvt),o.lR(),o}M(n,t);var i=n.prototype;return i._g=function(){this.Idt._g(),this.QG._g()},i.lg=function(){this.Idt.lg(),this.QG.lg()},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cdt=n,this.Idt.og({sources:{src:n.src,type:el.o_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:de(de({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.rg=function(){this.Idt.play()},i.eg=function(){this.Idt.pause()},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cdt=void 0,this.WS=void 0,this.qS=void 0,this.fdt=0,this.Idt.og({sources:null}),this.Edt.yl(),this.kb.yl(),this.Sdt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ag=function(){return!1},i.cg=function(){},i.hg=function(){},i.gg=function(){return this.Idt.gg()||void 0},i.wg=function(){return this.Idt.Dvt},i.bg=function(){},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yl();case 2:return this.Io(),this.Edt.Sv(),this.Hdt.Sv(),this.Vdt(),t.next=8,this.Idt.co();case 8:return this.G_.Sv(),this.j_.Sv(),this.DX.Sv(),t.next=13,this.CX.Sv();case 13:this.kb.Sv(),this.Q_.Sv(),this.YG.Sv(),this.QG.Sv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fdt=function(){this.Idt.addEventListener("Cvt",this.bdt),this.Idt.addEventListener("Pvt",this.gL),this.Idt.addEventListener("durationchange",this.Tdt),this.Idt.addEventListener("error",this.Rdt),this.Idt.addEventListener("timeupdate",this.QS),this.Idt.addEventListener("resize",this.Ndt),this.Idt.addEventListener(Wo.Wc,this.Ddt),this.Idt.addEventListener("Tut",this.Cdt),this.Idt.addEventListener(Wo.oh,this.Odt),this.Idt.addEventListener("play",this.vdt),this.Idt.addEventListener("pause",this.ddt),this.Idt.addEventListener("seeking",this.ldt),this.Idt.addEventListener("seeked",this._dt),this.Idt.addEventListener("ratechange",this.gdt),this.Idt.addEventListener("volumechange",this.wdt),this.Idt.addEventListener("progress",this.ydt),this.Idt.addEventListener("ended",this.mdt),this.Idt.addEventListener("loadstart",this.kdt),this.Idt.addEventListener(Wo.Yc,this.pdt),this.Idt.addEventListener(Wo.Qc,this.Adt),this.Idt.addEventListener(Wo.uh,this.Ao)},i.Vdt=function(){this.Idt.removeEventListener("Cvt",this.bdt),this.Idt.removeEventListener("Pvt",this.gL),this.Idt.removeEventListener("durationchange",this.Tdt),this.Idt.removeEventListener("error",this.Rdt),this.Idt.removeEventListener("timeupdate",this.QS),this.Idt.removeEventListener("resize",this.Ndt),this.Idt.removeEventListener(Wo.Wc,this.Ddt),this.Idt.removeEventListener("play",this.vdt),this.Idt.removeEventListener("pause",this.ddt),this.Idt.removeEventListener("seeking",this.ldt),this.Idt.removeEventListener("seeked",this._dt),this.Idt.removeEventListener("ratechange",this.gdt),this.Idt.removeEventListener("volumechange",this.wdt),this.Idt.removeEventListener("progress",this.ydt),this.Idt.removeEventListener("ended",this.mdt),this.Idt.removeEventListener("loadstart",this.kdt),this.Idt.removeEventListener(Wo.Yc,this.pdt),this.Idt.removeEventListener(Wo.Qc,this.Adt),this.Idt.removeEventListener(Wo.uh,this.Ao),this.Idt.removeEventListener(Wo.oh,this.Odt)},i.lR=function(){var t=this.Idt.audioTracks,n=this.Idt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Pdt(t.item(i));t.addEventListener("addtrack",this.xdt),t.addEventListener("enabledtrack",this.Mdt),t.addEventListener("disabledtrack",this.Mdt)}if(n){for(var r=0;r<n.length;r++)this.Ldt(n.item(r));n.addEventListener("addtrack",this.Bdt),n.addEventListener("enabledtrack",this.Udt),n.addEventListener("disabledtrack",this.Udt)}},i.IR=function(){var t=this.Idt.audioTracks,n=this.Idt.videoTracks;t&&(t.removeEventListener("addtrack",this.xdt),t.removeEventListener("enabledtrack",this.Mdt),t.removeEventListener("disabledtrack",this.Mdt)),n&&(n.removeEventListener("addtrack",this.Bdt),n.removeEventListener("enabledtrack",this.Udt),n.removeEventListener("disabledtrack",this.Udt))},i.Sdt=function(){for(var t=0,n=this.G_.ml;t<n.length;t++){n[t].Sv()}for(var i=0,r=this.j_.ml;i<r.length;i++){r[i].Sv()}this.G_.yl(),this.j_.yl()},i.Pdt=function(t){XM(this.G_,t)||this.G_._l(new MM(t,this.Idt.audioTracks))},i.Ldt=function(t){XM(this.j_,t)||this.j_._l(new UM(t,this.Idt.videoTracks))},L(n,[{key:"K_",get:function(){return this.G_}},{key:"Tg",get:function(){return this.Idt.buffered}},{key:"Eg",get:function(){var t;return null!==(t=this.Idt.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.Idt.currentProgramDateTime=null!=t?t:null}},{key:"E_",get:function(){var t=this.Idt.currentTime;return t===1/0&&w(this.Idt.duration)&&(t=0),t},set:function(t){this.Idt.currentTime=t}},{key:"S_",get:function(){var t=this.Idt.duration;return t<0?1/0:t}},{key:"R_",get:function(){return this.Idt.ended}},{key:"Fo",get:function(){return this.WS}},{key:"I_",get:function(){return this.qS}},{key:"ig",get:function(){}},{key:"Rg",get:function(){return!1}},{key:"W_",get:function(){return de(de({},this.Idt.W_()),{Og:this.fdt})}},{key:"N_",get:function(){return this.Idt.muted},set:function(t){this.Idt.muted=t}},{key:"Pg",get:function(){return this.Idt.online}},{key:"D_",get:function(){return this.Idt.paused}},{key:"C_",get:function(){return this.Idt.playbackRate},set:function(t){this.Idt.playbackRate=t}},{key:"Bg",get:function(){return this.Idt.played}},{key:"Lg",get:function(){return this.Idt.preload||jp.iI},set:function(t){this.Idt.preload=t}},{key:"Wl",get:function(){return this.Idt.Wl}},{key:"Mg",get:function(){return this.Idt.seekable}},{key:"O_",get:function(){return this.Idt.seeking}},{key:"PR",get:function(){}},{key:"ng",get:function(){return this.Q_}},{key:"tg",get:function(){return this.j_}},{key:"x_",get:function(){return this.Idt.videoHeight}},{key:"P_",get:function(){return this.Idt.videoWidth}},{key:"B_",get:function(){return this.Idt.volume},set:function(t){this.Idt.volume=t}},{key:"LR",get:function(){return this.GS}}]),n}(Jd),qM=function(t){function n(n){var i;return(i=t.call(this)||this).Xdt=function(){i.bo(new Xl(i.E_,i.Idt.Wl))},i.Wdt=function(){i.bo(new Dp(i.E_))},i.vdt=function(){i.bo(new Il(i.E_))},i.ddt=function(){i.bo(new Rl(i.E_))},i.Idt=n,i.Idt.addEventListener(El.il,i.Xdt),i.Idt.addEventListener(El.T_,i.Wdt),i.Idt.addEventListener(Wo.Jc,i.vdt),i.Idt.addEventListener(Wo.Zc,i.ddt),i}return M(n,t),n.prototype.Sv=function(){this.Io(),this.Idt.removeEventListener(El.il,this.Xdt),this.Idt.removeEventListener(El.T_,this.Wdt),this.Idt.removeEventListener(Wo.Jc,this.vdt),this.Idt.removeEventListener(Wo.Zc,this.ddt)},L(n,[{key:"E_",get:function(){var t=this.Idt.currentTime;return t===1/0&&w(this.Idt.duration)&&(t=0),t}},{key:"R_",get:function(){return this.Idt.ended}},{key:"Fo",get:function(){return this.Idt.error||void 0}},{key:"D_",get:function(){return this.Idt.paused}}]),n}(bu);function zM(t,n){return GM.apply(this,arguments)}function GM(){return(GM=T.coroutine(ve.mark(function t(n,i,r,e,u){var s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),au(t.t0),!(s<r)){t.next=20;break}return o=l.min(e*l.pow(2,s),u),s++,t.next=19,yu(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}zp(new(function(){function t(){this.MR=xp.o_}var n=t.prototype;return n.Vb=function(t,n,i,r,e,u){return new WM(t,n,i,r,e,u)},n.UR=function(n,i){if((j._e||j.Ue)&&!i.manifestMetadataTrack)return!1;if(!dl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!jy(r)&&!t.qdt(r))&&!!function(t){return AM(t,{})!==_M.qQ}(n)},t.qdt=function(t){return!!t.aes128},n.FR=function(){return!0},t}()));var jM,QM=function(t){function n(){return t.call(this,"zdt")||this}return M(n,t),n}(Eu),YM=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Gdt=function(){e.bo(new QM)},e.cdt=n,e.jdt=de(de({},i),{crossOrigin:e.cdt.crossOrigin,withCredentials:e.cdt.useCredentials,liveOffset:e.cdt.liveOffset,hlsDateRange:e.cdt.hlsDateRange}),e.pb=r,e.Qdt=[],e.Wi=!1,e}M(n,t);var i=n.prototype;return i.Ydt=function(){if(this.Zdt)return this.Zdt.X_},i._I=function(t){var n=this;_u(zM(function(){return n.NK()},t))},i.NK=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jdt();case 2:if((n=t.sent).isMasterPlaylist)for(this.$dt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new JP(this.pb,this.jdt),this.Qdt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new JP(this.pb,this.jdt),this.Qdt.push({stream:{uri:n.uri},updater:s});this.Kdt&&(this.tlt(this.Kdt.width,this.Kdt.height),this.Kdt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nlt=function(t,n){this.Wi?this.tlt(t,n):this.Kdt={width:t,height:n}},i.tlt=function(t,n){this.ilt();var i=this.rlt(t,n);i&&(this.Zdt=i.updater,this.Zdt.addEventListener("X8",this.Gdt),i.updater._I(i.stream.uri))},i.ilt=function(){this.Zdt&&(this.Zdt.ug(),this.Zdt.removeEventListener("X8",this.Gdt),this.Zdt=void 0)},i.rlt=function(t,n){return 1===this.Qdt.length?this.Qdt[0]:Qe(this.Qdt,function(i){return i.stream.width===t&&i.stream.height===n})},i.Jdt=function(){var t=T.coroutine(ve.mark(function t(){var n,i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new ZP(this.jdt,jC.Ve.YK,this.pb),t.next=3,n.ba(this.cdt.src,{});case 3:return i=t.sent,t.abrupt("return",i.X_);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sv=function(){this.ilt();for(var t=0,n=this.Qdt;t<n.length;t++){n[t].updater.Sv()}tu(this.Qdt)},n}(bu),ZM=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).elt=void 0,e.ult=!1,e.r$=void 0,e.handleManifestUpdate=function(){var t=e.elt.Ydt();if(t){var n=e.PR;if(n){var i=n.getTime(),r=e.r$;r||(r=new tC,e.r$=r),r.Ea(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.ult&&r.ql.kl>0&&(e.ng._l(r),e.xX._l(r),e.ult=!0)}}},e.Ndt=function(){e.elt&&e.elt.nlt(e.P_,e.x_)},e.slt=i,e.gB=r,e.xX=new yI(rn(e)),e.Eo(Wo.nh,e.Ndt),e}M(n,t);var i=n.prototype;return i.og=function(){var n=T.coroutine(ve.mark(function n(i,r,e){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.og.call(this,i,r,e);case 2:i.hlsDateRange&&this.olt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.olt=function(t,n,i){this.elt&&(this.elt.No("zdt",this.handleManifestUpdate),this.elt.Sv()),this.elt=new YM(t,n,this.slt),this.elt.Eo("zdt",this.handleManifestUpdate),this.elt._I(i)},i.yl=function(){return this.r$&&(this.ng.gl(this.r$),this.xX.gl(this.r$),this.r$.Sv(),this.r$=void 0,this.ult=!1),this.xX.yl(),t.prototype.yl.call(this)},i.Sv=function(){return this.No(Wo.nh,this.Ndt),this.elt&&(this.elt.No("zdt",this.handleManifestUpdate),this.elt.Sv()),this.xX.Sv(),t.prototype.Sv.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).clt=n,i.clt.Ro(i.Ao),i}M(n,t);var i=n.prototype;return i.ag=function(){return this.clt.ag()},i.wg=function(){return this.clt.wg()},i.gg=function(){return this.clt.gg()},i._g=function(){return this.clt._g()},i.bg=function(){return this.clt.bg()},i.eg=function(){return this.clt.eg()},i.rg=function(){return this.clt.rg()},i.yl=function(){return this.clt.yl()},i.og=function(t,n,i){return this.clt.og(t,n,i)},i.lg=function(){return this.clt.lg()},i.cg=function(){return this.clt.cg()},i.hg=function(){return this.clt.hg()},i.Sv=function(){return this.Io(),this.clt.Sv()},L(n,[{key:"K_",get:function(){return this.clt.K_}},{key:"Tg",get:function(){return this.clt.Tg}},{key:"Eg",get:function(){return this.clt.Eg},set:function(t){this.clt.Eg=t}},{key:"E_",get:function(){return this.clt.E_},set:function(t){this.clt.E_=t}},{key:"S_",get:function(){return this.clt.S_}},{key:"R_",get:function(){return this.clt.R_}},{key:"I_",get:function(){return this.clt.I_}},{key:"ig",get:function(){return this.clt.ig}},{key:"Fo",get:function(){return this.clt.Fo}},{key:"Rg",get:function(){return this.clt.Rg}},{key:"W_",get:function(){return this.clt.W_}},{key:"N_",get:function(){return this.clt.N_},set:function(t){this.clt.N_=t}},{key:"Pg",get:function(){return this.clt.Pg}},{key:"D_",get:function(){return this.clt.D_}},{key:"C_",get:function(){return this.clt.C_},set:function(t){this.clt.C_=t}},{key:"Bg",get:function(){return this.clt.Bg}},{key:"Lg",get:function(){return this.clt.Lg},set:function(t){this.clt.Lg=t}},{key:"Wl",get:function(){return this.clt.Wl}},{key:"Mg",get:function(){return this.clt.Mg}},{key:"O_",get:function(){return this.clt.O_}},{key:"PR",get:function(){return this.clt.PR}},{key:"ng",get:function(){return this.clt.ng}},{key:"x_",get:function(){return this.clt.x_}},{key:"tg",get:function(){return this.clt.tg}},{key:"P_",get:function(){return this.clt.P_}},{key:"B_",get:function(){return this.clt.B_},set:function(t){this.clt.B_=t}},{key:"LR",get:function(){return this.clt.LR}}]),n}(Jd));jM=function(t,n,i){return new ZM(t,n,i)},Wp.WR().qR(jM);var JM=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return M(n,t),n}(Eu);var $M=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Hd=void 0,u.Dh=LA.UNAVAILABLE,u.hlt=new eu,u.handleAirplayChangedEvent=function(){u.aI&&u.aI.Rg?u.flt():u.o2===LA.CONNECTED&&u.vlt()},u.handleAirplayPlayerTimeUpdate=function(t){u.dlt=t.currentTime,u.llt=u.Lx.Eg},u._lt=n,u.Lx=i,u.glt=e,u.glt._g(),u.Lx.J_(e),u.wlt(),b.Ss.Yu&&u.ylt(LA.AVAILABLE),u}M(n,t);var i=n.prototype;return i.wlt=function(){this.aI&&this.aI.No(Wo.Oc,this.handleAirplayChangedEvent),this.mlt?this.aI=this.Lx:this.aI=this.glt,this.aI.Eo(Wo.Oc,this.handleAirplayChangedEvent)},i.flt=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.aI){t.next=2;break}return t.abrupt("return");case 2:if(this.mlt){t.next=24;break}return this.dlt=this.Lx.E_,this.llt=this.Lx.Eg,this.glt.Eo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.klt=this.Lx.Sl,this.Lx.Sl=this.glt,this.klt.eg(),this.klt._g(),this.glt.lg(),this.glt.N_=this.klt.N_,this.glt.C_=this.klt.C_,this.glt.B_=this.klt.B_,n=this.glt.xo("seeked"),this.glt.E_=this.klt.E_,t.next=18,n;case 18:this.glt.rg(),this.glt.N_=this.klt.N_,this.glt.C_=this.klt.C_,this.glt.B_=this.klt.B_,t.next=28;break;case 24:if(this.aI.D_){t.next=27;break}return t.next=27,this.aI.xo(Wo.Zc,this.hlt.mo);case 27:this.aI.rg();case 28:this.ylt(LA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vlt=function(){this.klt?(this.glt.No("timeupdate",this.handleAirplayPlayerTimeUpdate),this.klt.N_=this.glt.N_,this.klt.C_=this.glt.C_,this.klt.B_=this.glt.B_,j.Ce&&!j._e&&this.Lx.S_===1/0?this.llt?this.klt.Eg=this.llt:this.klt.E_=1/0:this.klt.E_=this.dlt,this.llt=void 0,this.dlt=void 0,this.klt.lg(),this.glt._g(),this.glt.D_||this.klt.rg(),this.Lx.Sl=this.klt,this.glt.yl(),this.klt=void 0):this.aI&&(this.aI.E_=this.aI.E_+1e-4);this.ylt(LA.AVAILABLE)},i.preloadPlayer=function(t){if(ou(t),this.aI.Wl<ol.__){var n=this.aI.xo("loadedmetadata",t);return this.aI.Lg=jp.ek,n}return T.resolve()},i.ylt=function(t){t!==this.Dh&&(this.Dh=t,this.bo(new JM(this.Dh)))},i.cg=function(){b.Ss.Yu&&(this._lt.fg(),this.hlt._o(),this.hlt=new eu,this.mlt?_u(this.plt(this.hlt.mo)):_u(this.Alt(this.hlt.mo)))},i.plt=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.Lx.cg();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Alt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.glt.yl();case 3:return t.next=5,this.glt.og(this.Lx.sg(),n);case 5:return i=this.glt.xo("playing",n),this.glt.rg(),t.next=9,mu(i,3e3);case 9:this.glt.eg(),ou(n),this.glt.cg(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!su(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.hg=function(){b.Ss.Yu&&this.aI.hg()},i.Sv=function(){var t;this.Io(),this.Lx.kg(this.glt),this.hlt._o(),null===(t=this.glt)||void 0===t||t.Sv()},L(n,[{key:"aB",get:function(){return this.o2===LA.CONNECTED}},{key:"mlt",get:function(){return this.Lx.ag()}},{key:"o2",get:function(){return this.Dh}},{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=(t=this,{get casting(){return t.aB},get state(){return t.o2},start:function(){t.cg()},stop:function(){t.hg()},addEventListener:function(n,i){n=Pd(n,xd),t.Eo(n,i)},removeEventListener:function(n,i){n=Pd(n,xd),t.No(n,i)}})),this.Hd}}]),n}(Jd);FE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Xd=function(){var n=this.eL.Vd;return Ed(t.prototype.Xd.call(this),{get cast(){return n}})},n}(t)},CE.aL);var KM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).eI=void 0,o.cdt=void 0,o.G_=new Wd,o.j_=new Wd,o.Q_=new Zd,o.tI=n,o.blt=new Ir(u,s,1,[h_.wv]),o.blt.dN(n),o.Tlt=new Fp(n,o.blt,i,r,e),o.Tlt.Ro(o.Ao),o.G_.Sl=o.Tlt.K_,o.j_.Sl=o.Tlt.tg,o.Q_.Sl=o.Tlt.ng,o}M(n,t);var i=n.prototype;return i.ag=function(){return this.Tlt.ag()},i.cg=function(){this.Tlt.cg()},i.hg=function(){this.Tlt.hg()},i.rg=function(){_u(this.Tlt.rg())},i.eg=function(){this.Tlt.eg()},i.ug=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.sg=function(){return this.cdt},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(i),this.cdt=n,!ml(n.sources)){t.next=6;break}r=tb({src:""}),t.next=16;break;case 6:e=n.sources.filter(Tl),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!Hp(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new f("Unsupported source.");case 18:return t.next=20,this.Tlt.og(r,n,i);case 20:this.vI(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.vI=function(t){this.eI!==t&&(this.eI=t,this.bo(new tl(t)))},i.gg=function(){},i.Elt=function(){},i.yg=function(){return[]},i.fg=function(){this.blt._N()},i.vg=function(t){jl(this,t)},i.dg=function(){},i.mg=function(t){return!1},i.bg=function(){},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eI=void 0,this.cdt=void 0,t.next=4,this.Tlt.yl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lg=function(){this.Tlt.lg()},i._g=function(){this.Tlt._g()},i.wg=function(){return this.Tlt.wg()},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Io(),this.blt.Sv(),t.next=4,this.Tlt.Sv();case 4:this.G_.Sv(),this.j_.Sv(),this.Q_.Sv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"K_",get:function(){return this.Tlt.K_}},{key:"Tg",get:function(){return this.Tlt.Tg}},{key:"Ag",get:function(){return this.eI}},{key:"E_",get:function(){return this.Tlt.E_},set:function(t){this.Tlt.E_=t}},{key:"Eg",get:function(){return this.Tlt.Eg}},{key:"S_",get:function(){return this.Tlt.S_}},{key:"Sg",get:function(){return this.tI}},{key:"R_",get:function(){return this.Tlt.R_}},{key:"Fo",get:function(){return this.Tlt.Fo}},{key:"Rg",get:function(){return this.Tlt.Rg}},{key:"W_",get:function(){return{Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"N_",get:function(){return this.Tlt.N_},set:function(t){this.Tlt.N_=t}},{key:"Pg",get:function(){return this.Tlt.Pg}},{key:"D_",get:function(){return this.Tlt.D_}},{key:"C_",get:function(){return this.Tlt.C_},set:function(t){this.Tlt.C_=t}},{key:"Bg",get:function(){return this.Tlt.Bg}},{key:"Lg",get:function(){return this.Tlt.Lg},set:function(t){this.Tlt.Lg=t}},{key:"Wl",get:function(){return this.Tlt.Wl}},{key:"Mg",get:function(){return this.Tlt.Mg}},{key:"O_",get:function(){return this.Tlt.O_}},{key:"ng",get:function(){return this.Tlt.ng}},{key:"x_",get:function(){return this.Tlt.x_}},{key:"P_",get:function(){return this.Tlt.P_}},{key:"tg",get:function(){return this.Tlt.tg}},{key:"B_",get:function(){return this.Tlt.B_},set:function(t){this.Tlt.B_=t}}]),n}(Jd);FE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new KM(r.nB.Sg,r.Bd,r.Zp,r.iL,r.GB,r.oL);return r.Slt=new $M(rn(r),r.nB,r.Bd,e),r.eL.oB(r.Slt),r.Eo("currentsourcechange",function(){r.Slt.wlt()}),r}M(n,t);var i=n.prototype;return i.Xd=function(){var n=this,i=t.prototype.Xd.call(this);return Ed(i.cast,{get airplay(){return n.Slt.Vd}}),i},i.Sv=function(){this.Slt.Sv(),t.prototype.Sv.call(this)},n}(t)},CE.aL);var tU=function(){},nU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),iU=A(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function rU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function eU(t){return JSON.stringify(t,iU.getSerialize(rU))}var uU,sU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),oU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),aU=A(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),cU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=sU.isS,r=sU.isChar,e=sU.isNameStartChar,u=sU.isNameChar,s=sU.S_LIST,o=sU.NAME_RE,a=oU.isChar,c=aU.isNCNameStartChar,h=aU.isNCNameChar,v=aU.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:l,xmlns:g},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,D=9,C=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,st=39,ot=40,at=41,ct=42,ht=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,Et,bt],Ot=[...Dt,pt,St],xt=[At,Tt,...s],Pt=[...s,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>v.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=c,this.nameCheck=h,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Bt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.vc}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.vc=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,u=e?dt:r;if(u===m||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!u(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=a,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new f("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ht,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=st:i(t)?this.state=ut:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=ct,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=at);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=ct;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new f("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.vc=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?g:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),hU=function(){function t(){}return t.prototype.Ye=function(t){var n=new cU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new wU,r=[i];function e(t){r[r.length-1].hu(t)}return n.on("text",function(t){r.length>1&&e(new _U(t))}),n.on("cdata",function(t){e(new gU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new dU({Ke:n,nu:""===i?void 0:i,Rlt:""===u?void 0:u}),o=t.attributes,a=0,c=d.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,l=h.uri,_=h.value,g=new fU({Ke:v,ru:_,nu:""===l?void 0:l,Rlt:""===f?void 0:f});s.Ilt(g)}e(s),r.push(s)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new sn(t)}),n.write(t).close(),i},t}(),fU=function(){function t(t){this.Nlt=t.Ke,this.xn=t.ru,this.Dlt=t.nu,this.Clt=t.Rlt}var n=t.prototype;return n.Je=function(t){return this===t||!!mU(this,t)&&(this.Nlt===t.Nlt&&this.Dlt===t.Dlt&&this.Clt===t.Clt&&this.xn===t.xn)},n.$e=function(){return new t({Ke:this.Ke,ru:this.ru,nu:this.nu,Rlt:this.iu})},L(t,[{key:"We",get:function(){return Jt.Ge}},{key:"Ke",get:function(){return this.Nlt}},{key:"tu",get:function(){return void 0===this.Clt?this.Nlt:this.Clt+":"+this.Nlt}},{key:"nu",get:function(){return this.Dlt}},{key:"iu",get:function(){return this.Clt}},{key:"ru",get:function(){return this.xn}}]),t}(),vU=function(){function t(){this.eu=[]}var n=t.prototype;return n.su=function(t){return this.eu.filter(function(n){return yU(n)&&n.au===t})},n.cu=function(t,n){return this.eu.filter(function(i){return yU(i)&&i.Ke===n&&i.nu===t})},n.hu=function(t){this.eu.push(t)},L(t,[{key:"ou",get:function(){return this.eu}},{key:"vu",get:function(){return this.eu.filter(yU)}}]),t}(),dU=function(t){function n(n){var i;return(i=t.call(this)||this).Olt=[],i.Nlt=n.Ke,i.Dlt=n.nu,i.Clt=n.Rlt,i}M(n,t);var i=n.prototype;return i.xlt=function(t){for(var n=0,i=this.ou;n<i.length;n++){var r=i[n];yU(r)?r.xlt(t):t.push(r.pu)}},i.lu=function(t,n){for(var i=0,r=this.Olt;i<r.length;i++){var e=r[i];if(e.Ke===n&&e.nu===t)return e.ru}},i.du=function(t){for(var n=0,i=this.Olt;n<i.length;n++){var r=i[n];if(r.tu===t)return r.ru}},i.Ilt=function(t){this.Olt.push(t)},i._u=function(t){for(var n=0;n<this.Olt.length;n++)if(this.Olt[n].tu===t)return void this.Olt.splice(n,1)},i.gu=function(t,n){for(var i=0;i<this.Olt.length;i++)if(this.Olt[i].Ke===n&&this.Olt[i].nu===t)return void this.Olt.splice(i,1)},i.wu=function(t,n){this._u(t),this.Ilt(new fU({Ke:t,ru:n}))},i.yu=function(t,n,i){this._u(n);var r=n.split(":");this.Ilt(new fU({Ke:r[r.length-1],ru:i,nu:t,Rlt:r.length>1?r[0]:void 0}))},i.$e=function(t){var i=new n({Ke:this.Ke,nu:this.nu,Rlt:this.iu});return this.mu.forEach(function(t){return i.Ilt(t.$e())}),t&&this.ou.forEach(function(n){return i.hu(n.$e(t))}),i},i.Je=function(t){return this===t||!!mU(this,t)&&(this.Nlt===t.Nlt&&this.Clt===t.Clt&&this.Dlt===t.Dlt&&(kU(this.mu,t.mu)&&kU(this.ou,t.ou)))},L(n,[{key:"We",get:function(){return Jt.qe}},{key:"mu",get:function(){return this.Olt}},{key:"Ke",get:function(){return this.Nlt}},{key:"nu",get:function(){return this.Dlt}},{key:"iu",get:function(){return this.Clt}},{key:"au",get:function(){return void 0===this.Clt?this.Nlt:this.Clt+":"+this.Nlt}},{key:"ku",get:function(){var t=[];return this.xlt(t),t.join("")}}]),n}(vU),lU=function(){function t(t){this.nr=t}return L(t,[{key:"pu",get:function(){return this.nr}}]),t}(),_U=function(t){function n(n){return t.call(this,n)||this}M(n,t);var i=n.prototype;return i.$e=function(){return new n(this.pu)},i.Je=function(t){return this===t||!!mU(this,t)&&this.pu===t.pu},L(n,[{key:"We",get:function(){return Jt.ze}}]),n}(lU),gU=function(t){function n(n){return t.call(this,n)||this}M(n,t);var i=n.prototype;return i.$e=function(){return new n(this.pu)},i.Je=function(t){return this===t||!!mU(this,t)&&this.pu===t.pu},L(n,[{key:"We",get:function(){return Jt.je}}]),n}(lU),wU=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.$e=function(t){var i=new n;return t&&this.ou.forEach(function(n){return i.hu(n.$e(t))}),i},i.Je=function(t){return this===t||!!mU(this,t)&&kU(this.ou,t.ou)},L(n,[{key:"We",get:function(){return Jt.Qe}},{key:"Au",get:function(){return this.vu[0]}}]),n}(vU);function yU(t){return tn(t)}function mU(t,n){return t.We===n.We}function kU(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Je(n[i]))return!1;return!0}function pU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:de(de({},t),{adBreak:de(de({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return yy(t,["adBreak"])})})})}function AU(t){return void 0===t.ads?t:de(de({},t),{ads:t.ads.map(function(t){t.adBreak;return yy(t,["adBreak"])})})}function bU(t){return"string"==typeof t.date?new Date(t.date):t.date}function TU(t){var n;return t.cue.track?(n=SU(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=SU(t.cue,""),n}function EU(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function SU(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new hU).Ye(r.firstChild.outerHTML).Au.mu.forEach(function(t){e[t.Ke]=t.ru}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(c=o)&&null!==c){var a=RU(o);u[s]={type:uU.Plt,value:a}}else NU(o)?u[s]={type:uU.Blt,value:o}:u[s]={type:uU.QW,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=RU(t.scte35Cmd),i.scte35Out=RU(t.scte35Out),i.scte35In=RU(t.scte35In),i.customAttributes=u}var c}(),i}function RU(t){if(void 0!==t)return Xu(t)}function IU(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(SU(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(SU(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function NU(t){return"number"==typeof t}!function(t){t.QW="daterange-ca-type_string",t.Blt="daterange-ca-type_number",t.Plt="daterange-ca-type_arraybuffer"}(uU||(uU={}));var DU={cue:function(t){var n={};switch(n.date=bU(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=TU(t)}return n},textTrack:function(t){var n={};switch(n.date=bU(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=PU().register(t.cue));var i=xU()[BU()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=TU(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(SU(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=bU(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=PU().register(t)}),n.track=IU(t.track);case"removetrack":case"change":n.track=IU(t.track)}return n},default:function(t){var n={};switch(n.date=bU(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=de({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=IU(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=AU(t.ad);break;case"adloaded":case"adimpression":n.ad=pU(t.ad);break;case"aderror":t.Llt&&(n.Llt=t.Llt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=pU(t.ad)}return EU(n)},minimizeCueHelper:function(t){var n={};return n.date=bU(t),n.type=t.type,n.cue=TU(t),n.track={uid:t.cue.track.uid},n},adReplacer:pU,adBreakReplacer:AU,removeCircularReferences:EU},CU=function(){this.stringify=eU,this.minimize=DU};function OU(){return Cr.self}function xU(){return OU().THEOplayerBridge}function PU(){return OU().THEOCueMirrorMap}function BU(){return OU().THEOplayerGlobalID}function LU(){var t=OU();if(t.THEOplayerBridge){var n=new tU;t.THEOplayerBridge=Ed(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new tU;t.THEOplayerUtils||(t.THEOplayerUtils=new CU),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new nU)}LU();var MU,UU=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return M(n,t),n}(Eu),FU=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.bo(new UU(t,n))},i.addEventListener=function(t,n){this.Eo(t,n)},i.removeEventListener=function(t,n){this.No(t,n)},n}($d),HU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mlt=function(t){r.Ult.sj("THEOplayerABRSetTargetBuffer",t.Wx),r.bo(t)},r.Flt=function(t){r.Ult.sj("THEOplayerABRSetStrategy",t.zx),r.bo(t)},r.Ult=n,r.Hlt=i,r.Hlt.Eo("qx",r.Mlt),r.Hlt.Eo("Gx",r.Flt),r}return M(n,t),L(n,[{key:"tP",get:function(){var t;switch(this.zx.type){case XT.PERFORMANCE:return 1;case XT.QUALITY:return 0;case XT.BANDWIDTH:return(null===(t=this.zx.metadata)||void 0===t?void 0:t.bitrate)&&!w(this.zx.metadata.bitrate)?this.zx.metadata.bitrate:0;default:return 0}}},{key:"Vd",get:function(){return this.Hlt.Vd}},{key:"zx",get:function(){return this.Hlt.zx},set:function(t){this.Hlt.zx=t}},{key:"Wx",get:function(){return this.Hlt.Wx},set:function(t){this.Hlt.Wx=t}},{key:"jx",get:function(){return this.Hlt.jx},set:function(t){this.Hlt.jx=t}}]),n}(bu),VU=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.JE=function(t,n,i,r){return!0},n}(rp),XU=function(){function t(t,n,i){this.Ca=void 0,this.ec=t,this.to=i,this.lc=n}var n=t.prototype;return n.Sb=function(t){throw new f("Not implemented yet.")},n.iS=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.to.io(n.js,i);case 2:return r=t.sent,t.next=5,r.Ua();case 5:return e=t.sent,t.next=8,this.jL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.co=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.jL=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.YL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.YL=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Ca)){t.next=5;break}return t.next=4,i.Ba(this.lc);case 4:this.Ca=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Pa(this.lc);case 8:this.Ca=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.bb=function(t,n,i){throw new f("Not implemented yet.")},L(t,[{key:"Zp",get:function(){return this.ec}},{key:"Lg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Mg",get:function(){return new nA([0,1/0])}},{key:"ng",get:function(){throw new f("Not implemented yet.")}},{key:"Vlt",get:function(){throw new f("Not implemented yet")}},{key:"tg",get:function(){throw new f("Not implemented yet.")}},{key:"Xlt",get:function(){throw new f("Not implemented yet")}},{key:"Wlt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.qlt="webkitneedkey",t.zlt="webkitkeymessage",t.Glt="webkitkeyerror"}(MU||(MU={}));var WU=function(t){function n(n,i){var r;return(r=t.call(this,MU.qlt)||this).initData=n,r.sessionId=i,r}return M(n,t),n}(Eu),qU=function(t){function n(n,i){var r;return(r=t.call(this,MU.zlt)||this).message=n,r.destinationURL=i,r}return M(n,t),n}(Eu),zU=function(t){function n(){return t.call(this,MU.Glt)||this}return M(n,t),n}(Eu),GU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).qa=n,s.va=i,s.jlt=r,s._c=e,s.sc=u,s.Qa=new Gs,s.oc=void 0,s.Ka=new Pu,s.cc=new Gs,s.Qlt=function(t){s.oc?(s.oc.aa(void 0),s.oc=void 0):s.$a("internal-error"),s.bo(new Du)},s.Ylt=function(t){s.oc&&(s.oc.oa(void 0),s.oc=void 0),s.bo(new Nu(rn(s),"license-request",Ws(t.message).buffer,t.destinationURL||void 0))},s}M(n,t);var i=n.prototype;return i.Aa=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.hc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Zlt(Vs(i),e);case 5:this.$a("usable"),this.cc.oa(),this.cc=new Gs;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ba=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Ea=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Vs(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.oc=new Gs,this.jlt.Ea(this._c,i),t.next=7,this.oc.sa;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pa=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cc;case 2:return this.jlt.No(MU.zlt,this.Ylt),this.jlt.No(MU.Glt,this.Qlt),this.cc._o(),this.Qa.oa(void 0),t.abrupt("return",this.Qa.sa);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ta=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Zlt=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Ao(n,i,this.sc),this.jlt.Eo(MU.zlt,this.Ylt),this.jlt.Eo(MU.Glt,this.Qlt),this.jlt.CT(this._c,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$a=function(t){this.Ka.Zo(),this.Ka.Yo(xu,t),this.bo(new Iu(this))},L(n,[{key:"Da",get:function(){return this._c}},{key:"Ia",get:function(){return NaN}},{key:"Ra",get:function(){return this.Qa.sa}},{key:"Na",get:function(){return this.Ka}}]),n}(bu),jU=function(){function t(t,n,i){this.va=n,this.qa=i,this.Jlt=void 0,this._c=void 0,this.sc=void 0,this.jlt=t}var i=t.prototype;return i.Oa=function(){var t=T.coroutine(ve.mark(function t(i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sc){t.next=2;break}throw new bo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new GU(this.qa,this.va,this.jlt,this._c,this.sc),this.Jlt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xa=function(t){return this.sc=Vs(t),T.resolve(!0)},i.Pa=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ba=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},L(t,[{key:"keySystem",get:function(){return this.va}},{key:"sessionId",set:function(t){this._c=t}}]),t}(),QU=function(){function t(t,n,i){this.$lt=t,this.va=n,this.ec=i;var r=lo(i)||"video/mp4";this.qa=ho(r)}var n=t.prototype;return n.Fa=function(){return this.ec},n.Ua=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new jU(this.$lt,this.va,this.qa));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"Ha",get:function(){return this.va}}]),t}(),YU=function(){function t(t){this.$lt=t}return t.prototype.io=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=fo(ZU,Ru,n,e))){t.next=6;break}return t.abrupt("return",new QU(this.$lt,n,u));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function ZU(t,n){return t===xe}var JU,$U=function(t){function n(n,i,r){var e;return void 0===r&&(r=new YU(i)),(e=t.call(this)||this).qE=void 0,e.SV=new _y,e.Klt=!1,e.uc=null,e.t_t={Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.n_t=function(t){"boolean"==typeof t.detail.casting&&(e.Klt=t.detail.casting,e.bo(new S_(e.Klt)))},e.i_t=function(t){e._c=t.sessionId,e.uc&&(e.uc.sessionId=e._c);var n=t.initData;if(n){var i=UI(n);if(!i)return;e.bo(new Cu(Se,i))}else e.bo(new Cu(Se,new ArrayBuffer(0)))},e.r_t=n,e.$lt=i,e.$lt.Eo(MU.qlt,e.i_t),e.to=r,e.e_t(),e}M(n,t);var i=n.prototype;return i.$L=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).Gs!==ip.sS){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.co=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yl();case 2:this.Io(),this.u_t(),this.$lt.No(MU.qlt,this.i_t);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._g=function(){throw new f("Not implemented yet")},i.bb=function(t,n,i,r,e,u){throw new f("Not implemented yet")},i.pR=function(){return!1},i.bR=function(t,n,i,r){throw new f("Not implemented yet")},i.Sb=function(t){throw new f("Not implemented yet")},i.SR=function(){throw new f("Not implemented yet")},i.ba=function(){var t=T.coroutine(ve.mark(function t(n){var i=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.SV.Ob(function(){var t=T.coroutine(ve.mark(function t(r){var e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Gs!==ip.sS){t.next=7;break}return ou(r),e=new XU(n,i,i.to),i.qE=e,t.abrupt("return",e);case 7:throw new f("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.eg=function(){throw new f("Not implemented yet")},i.rg=function(){throw new f("Not implemented yet")},i.yl=function(){var t=this;return this.SV._o(),this.SV.Ob(T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.qE){n.next=4;break}return n.next=3,t.qE.co();case 3:t.qE=void 0;case 4:case"end":return n.stop()}},n)})))},i.ta=function(t,n){throw new f("Not implemented yet")},i.OR=function(t){throw new f("Not implemented yet")},i.lg=function(){throw new f("Not implemented yet")},i.xR=function(){return this.t_t},i.e_t=function(){this.r_t.addEventListener("airPlayIsCasting",this.n_t)},i.u_t=function(){this.r_t.removeEventListener("airPlayIsCasting",this.n_t)},i.webkitSetMediaKeys=function(t){this.uc=t||null,this.uc&&(this.uc.sessionId=this._c)},i.tW=function(){},i._F=function(){throw new f("Not implemented yet")},i.gF=function(){throw new f("Not implemented yet")},i.iW=function(t){},L(n,[{key:"Eg",get:function(){throw new f("Not implemented yet")}},{key:"hR",get:function(){throw new f("The mediaElement_ property is deprecated")}},{key:"Tg",get:function(){throw new f("Not implemented yet")}},{key:"E_",get:function(){throw new f("Not implemented yet")}},{key:"uL",get:function(){throw new f("Not implemented yet")}},{key:"S_",get:function(){throw new f("Not implemented yet")}},{key:"R_",get:function(){throw new f("Not implemented yet")}},{key:"Fo",get:function(){throw new f("Not implemented yet")}},{key:"vp",get:function(){throw new f("Not implemented yet")}},{key:"Rg",get:function(){return this.Klt}},{key:"N_",get:function(){throw new f("Not implemented yet")}},{key:"D_",get:function(){throw new f("Not implemented yet")}},{key:"C_",get:function(){throw new f("Not implemented yet")}},{key:"Bg",get:function(){throw new f("Not implemented yet")}},{key:"Wl",get:function(){throw new f("Not implemented yet")}},{key:"Mg",get:function(){throw new f("Not implemented yet")}},{key:"O_",get:function(){throw new f("Not implemented yet")}},{key:"rW",get:function(){throw new f("Not implemented yet")}},{key:"B_",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"ts",get:function(){throw new f("Not implemented yet")}},{key:"ER",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.uc}},{key:"eW",get:function(){return cS}},{key:"ng",get:function(){throw new f("Not implemented yet")}},{key:"PR",get:function(){throw new f("Not implemented yet")}},{key:"nW",get:function(){return!0}}]),n}(Jd),KU=function(t){function n(n){var i;return(i=t.call(this,Wo._h)||this).t_t=n,i}return M(n,t),n}(Eu);function tF(t){switch(t.type){case JU.QW:return t.value;case JU.Blt:return Cd(t.value);case JU.Plt:return Hu(t.value);default:return}}function nF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.QW="daterange-ca-type_string",t.Blt="daterange-ca-type_number",t.Plt="daterange-ca-type_arraybuffer"}(JU||(JU={}));var iF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).CE=n,s.s_t=u,s}return M(n,t),L(n,[{key:"name",get:function(){return this.CE}},{key:"timestamp",get:function(){return this.s_t}}]),n}(bo),rF=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return M(n,t),n}(iF),eF=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).rN=0,s.kF=!1,s.WS=void 0,s.qS=void 0,s.uN=!0,s.sN=1,s.o_t=nA.KI(),s.JU=nA.KI(),s.eN=!1,s.PV=nA.KI(),s.MF=ol.l_,s.hS=ol.l_,s.t_t={Ig:0,Ng:0,Dg:0,Cg:0,Og:0,xg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.qE=void 0,s.GS=new Mp,s.setCurrentTime=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Mg.length){t.next=4;break}return s.rN=n,t.next=4,s.r_t.xo("seekablechange");case 4:s.rN=s.updateCurrentTime(n),s.Ult.sj("THEOplayerSetCurrentTime",s.rN),s.oN=!0,s.bo(new Ml(s.rN));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.a_t=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.o_t=new nA(i),s.bo(new lS(s.E_))}},s.c_t=function(t){s.MF=t.detail.readyState,s.bo(new Hl(+t.detail.currentTime,s.Wl)),s.h_t()},s.f_t=function(t){s.MF=t.detail.readyState,s.bo(new Vl(+t.detail.currentTime,s.Wl)),s.h_t()},s.v_t=function(t){if(t.detail){var n=+t.detail.duration;s.mF=n,s.bo(new Ol(s.S_))}},s.mdt=function(t){t.detail&&(s.kF=!0,s.bo(new Bl(+t.detail.currentTime)))},s.jS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);nF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.qS=new rF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.WS=a_(s.qS),s.bo(new Wl(s.qS))):nF(i)&&(s.qS=new iF(i.name,i.message,void 0,i.code,i.timestamp),s.WS=a_(s.qS),s.bo(new Wl(s.qS)))}},s.kdt=function(t){s.bo(new _S)},s.d_t=function(t){s.MF=t.detail.readyState,s.bo(new Ll(+t.detail.currentTime,s.Wl)),s.h_t()},s.l_t=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Mg.length){t.next=3;break}return t.next=3,s.r_t.xo("seekablechange");case 3:s.MF=n.detail.readyState,s.bo(new Cl(+n.detail.currentTime,s.Wl)),s.h_t();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.vdt=function(t){t.detail&&s.bo(new Il(+t.detail.currentTime))},s.ddt=function(t){t.detail&&(s.uN||(s.uN=!0,s.bo(new Rl(+t.detail.currentTime))))},s.__t=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.PV=new nA(i).xI(.05)}},s.Wdt=function(t){t.detail&&s.bo(new Dp(+t.detail.currentTime))},s.gdt=function(t){t.detail&&(s.sN=t.detail.playbackRate,s.bo(new xl(+t.detail.currentTime,s.sN)))},s.g_t=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.JU=new nA(i)}},s._dt=function(t){t.detail&&(s.rN=+t.detail.currentTime,s.oN=!1,s.bo(new Pl(s.rN,s.w_t)),s.bo(new Ul(s.rN)))},s.ldt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.mF&&(s.kF=!1),s.oN=!0,s.bo(new Ml(n))}},s.y_t=function(t){t.detail&&(t.detail.currentDate&&(s.w_t=new Date(1e3*t.detail.currentDate)),s.rN=+t.detail.currentTime,s.bo(new Pl(s.rN,s.w_t)))},s.m_t=function(t){s.k_t=t.detail.height,s.p_t=t.detail.width},s.A_t=function(t){t.detail&&s.bo(new Np(+t.detail.currentTime))},s.xdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.K_._l(new k_(n))},s.b_t=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.G_.kl;u++){var o=s.K_.ll(u);o.Pl==r&&o.xl==e?i=s.G_.ll(u):1==o.Nl&&(n=s.G_.ll(u))}i&&n&&(i.Nl=!0,n.Nl=!1)},s.Bdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.tg._l(new E_(n))},s.OG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Xw.ek&&r===b_.ID3?(n=new pI("",t.detail.label)).Xl=Vd.Ul:i===Xw.ek&&r===b_.DATE_RANGE?(n=new tC,s.T_t=n):n=new dR(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.QV._l(n),s.xX._l(n)},s.E_t=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new mI(Cd(r.startTime),u);o.Dl=r.uid;var a=s.S_t();a&&a.Eb(o)}},s.R_t=function(t){for(var n,i=0,r=t.detail;i<r.length;i++){var e=r[i],u=new X_(Cd(e.startTime),Cd(e.endTime),e.content,!1," "),o=null!==(n=s.I_t(Xw.fb))&&void 0!==n?n:s.I_t(Xw.vb);o&&(o.Gs=b_.WEBVTT,o.Eb(u))}},s.sR=function(t){t.type===Wo.Lc&&(s.WS=a_(t.errorObject)),s.Ao(t)},s.N_t=function(t){t.detail&&(s.t_t.Ng=t.detail.corruptedVideoFrames,s.t_t.Ig=t.detail.droppedVideoFrames,s.bo(new KU(s.W_)))},s.D_t=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Dl:t.id};if(void 0!==t.startDate&&(n.PR=new Date(t.startDate)),void 0!==t.endDate&&(n.wY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=tF(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.RY=r}void 0!==t.scte35Cmd&&(n.NY=Hu(t.scte35Cmd)),void 0!==t.scte35In&&(n.xY=Hu(t.scte35In)),void 0!==t.scte35Out&&(n.CY=Hu(t.scte35Out)),void 0!==t.startTime&&(n.ew=t.startTime),n.mY=t.class,n.S_=Cd(t.duration),n.bY=Cd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ew?t.ew:(new Date).getTime(),r=new jD(t,i);s.T_t.Eb(r),s.T_t.Ea(n,i)})};var o=e.uid;s.Ult=s.getSdkBridge(o),s.r_t=new FU,xU()[o].sdkEventBus=s.r_t,s.G_=new f_,s.j_=new f_;var a=s.C_t(r);return s.kb=new VM(rn(s),new gI),s.xX=new yI(rn(s)),s._R=new ay(s.kb,a),s.QV=new Ww,s.DX=new RI(rn(s)),s.DX.Sl=s.QV,s.CX=new II(s.kb,s.DX),s.Q_=new _R([s.QV,s._R.Yk,s.CX.Yk]),s.$lt=s.getFairPlayControllerBridge(s.Ult),s.YE=new $U(s.r_t,s.$lt),s.vR=new VU(s.YE,a),s.vR.Eo(Bp,s.sR),s.observeMediaElement(),s.lR(),s.hN=new HU(s.Ult,u),s.hN.Eo("qx",function(){s.Ult.sj("THEOplayerSetPreferredForwardBufferDuration",s.hN.Wx)}),s}M(n,t);var i=n.prototype;return i.wg=function(){return eA},i.lg=function(){this.Ult.sj("THEOplayerShow",{})},i._g=function(){this.Ult.sj("THEOplayerHide",{})},i.O_t=function(){var t=this;this.Ult.sj("THEOplayerSetInitialPreferredPeakBitRate",this.hN.tP);this.Eo("playing",function n(){t.Ult.sj("THEOplayerSetInitialPreferredPeakBitRate",0),t.No("playing",n)})},i.og=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cdt=n,r=de(de({},i),{sources:{src:n.src,type:el.o_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Ult.sj("THEOplayerSourceChange",r),e={Gs:ip.sS,Gl:n.src,Lf:n.type,gR:[],wR:n.crossOrigin,yR:i.metadata&&i.metadata.title},t.next=6,this.YE.ba(e);case 6:this.qE=t.sent,this.vR.Pa(this.qE),this.vR.Jb(this.mR(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==b_.WEBVTT})).length>0&&this.kR(u),dy(this.ng),this.O_t();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.mR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{BT:t.contentProtection||{},tS:{nS:"cbcs"},iT:[{Ha:Le,rT:[],hc:void 0}],eS:[],uS:["video/mp4"]}}},i.rg=function(){this.uN=!1,this.bo(new Il(this.E_)),this.Ult.sj("THEOplayerPlay",{})},i.eg=function(){this.uN=!0,this.bo(new Rl(this.E_)),this.Ult.sj("THEOplayerPause",{})},i.gg=function(){},i.yl=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rN=0,this.kF=!1,this.WS=void 0,this.qS=void 0,this.uN=!0,this.sN=1,this.mF=void 0,this.JU=nA.KI(),this.o_t=nA.KI(),this.k_t=void 0,this.p_t=void 0,this.MF=ol.l_,this.hS=ol.l_,this.G_.yl(),this.j_.yl(),this.QV.yl(),this.Q_.yl(),t.next=19,this.CX.yl();case 19:return this.DX.yl(),t.next=22,this._R.yl();case 22:return this.kb.yl(),this.xX.yl(),this.cdt=void 0,t.next=27,this.YE.yl();case 27:return t.next=29,this.vR.yl();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cg=function(){this.Ult.sj("THEOplayerShowAirPlayPicker",{})},i.hg=function(){this.Ult.sj("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.W_.Ng=t.Ng,this.W_.Ig=t.Ig},i.Sv=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yl();case 2:return this.Io(),this.unobserveMediaElement(),this.IR(),t.next=7,this.vR.Sv();case 7:return t.next=9,this.YE.co();case 9:return this.G_.Sv(),this.j_.Sv(),this.QV.Sv(),this.Q_.Sv(),this.DX.Sv(),t.next=16,this.CX.Sv();case 16:return t.next=18,this._R.Sv();case 18:this.kb.Sv(),this.xX.Sv();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this._R.Ab(i)}},i.h_t=function(){var t=this.hS,n=this.MF;t!==n&&(this.hS=n,this.bo(new Xl(this.E_,n)))},i.observeMediaElement=function(){this.YE.Eo(Wo.Oc,this.Ao),this.r_t.addEventListener("play",this.vdt),this.r_t.addEventListener("pause",this.ddt),this.r_t.addEventListener("seeking",this.ldt),this.r_t.addEventListener("seeked",this._dt),this.r_t.addEventListener("ratechange",this.gdt),this.r_t.addEventListener("durationchange",this.v_t),this.r_t.addEventListener("timeupdate",this.y_t),this.r_t.addEventListener("waiting",this.A_t),this.r_t.addEventListener("playing",this.Wdt),this.r_t.addEventListener("ended",this.mdt),this.r_t.addEventListener("loadedmetadata",this.l_t),this.r_t.addEventListener("loadeddata",this.d_t),this.r_t.addEventListener("loadstart",this.kdt),this.r_t.addEventListener("canplay",this.c_t),this.r_t.addEventListener("canplaythrough",this.f_t),this.r_t.addEventListener("error",this.jS),this.r_t.addEventListener("seekablechange",this.g_t),this.r_t.addEventListener("videosizechange",this.m_t),this.r_t.addEventListener("bufferedchange",this.a_t),this.r_t.addEventListener("playedchange",this.__t),this.r_t.addEventListener("metricschange",this.N_t),this.r_t.addEventListener("addDateRangeCues",this.D_t)},i.unobserveMediaElement=function(){this.YE.No(Wo.Oc,this.Ao),this.r_t.removeEventListener("play",this.vdt),this.r_t.removeEventListener("pause",this.ddt),this.r_t.removeEventListener("seeking",this.ldt),this.r_t.removeEventListener("seeked",this._dt),this.r_t.removeEventListener("ratechange",this.gdt),this.r_t.removeEventListener("durationchange",this.v_t),this.r_t.removeEventListener("timeupdate",this.y_t),this.r_t.removeEventListener("waiting",this.A_t),this.r_t.removeEventListener("playing",this.Wdt),this.r_t.removeEventListener("ended",this.mdt),this.r_t.removeEventListener("loadedmetadata",this.l_t),this.r_t.removeEventListener("loadeddata",this.d_t),this.r_t.removeEventListener("loadstart",this.kdt),this.r_t.removeEventListener("canplay",this.c_t),this.r_t.removeEventListener("canplaythrough",this.f_t),this.r_t.removeEventListener("error",this.jS),this.r_t.removeEventListener("seekablechange",this.g_t),this.r_t.removeEventListener("videosizechange",this.m_t),this.r_t.removeEventListener("bufferedchange",this.a_t),this.r_t.removeEventListener("playedchange",this.__t),this.r_t.removeEventListener("metricschange",this.N_t),this.r_t.removeEventListener("addDateRangeCues",this.D_t)},i.updateCurrentTime=function(t){var n=this.Mg.start(0),i=this.Mg.end(0);return l.min(l.max(t,n),i)},i.S_t=function(){for(var t=0,n=this.Q_.ml;t<n.length;t++){var i=n[t];if(i.Ol===Xw.ek&&i.Gs===b_.ID3)return i}},i.I_t=function(t){for(var n=0,i=this.Q_.ml;n<i.length;n++){var r=i[n],e=r.Xl===Vd.Fl,u=r.Ol===t;if(e&&u)return r}},i.lR=function(){this.r_t.addEventListener("addaudiotrack",this.xdt),this.r_t.addEventListener("enableaudiotrack",this.b_t),this.r_t.addEventListener("addvideotrack",this.Bdt),this.r_t.addEventListener("addtexttrack",this.OG),this.r_t.addEventListener("addtexttrackid3cues",this.E_t),this.r_t.addEventListener("addtexttrackcues",this.R_t)},i.IR=function(){this.r_t.removeEventListener("addaudiotrack",this.xdt),this.r_t.removeEventListener("enableaudiotrack",this.b_t),this.r_t.removeEventListener("addvideotrack",this.Bdt),this.r_t.removeEventListener("addtexttrack",this.OG),this.r_t.removeEventListener("addtexttrackid3cues",this.E_t),this.r_t.removeEventListener("addtexttrackcues",this.x_t)},i.bg=function(){},L(n,[{key:"K_",get:function(){return this.G_}},{key:"Tg",get:function(){return this.o_t.CR()}},{key:"Eg",get:function(){return this.w_t?this.w_t:null},set:function(t){this.Ult.sj("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.w_t=t}},{key:"E_",get:function(){return this.rN},set:function(t){this.setCurrentTime(t)}},{key:"S_",get:function(){return this.mF}},{key:"R_",get:function(){return this.kF}},{key:"Fo",get:function(){return this.WS}},{key:"I_",get:function(){return this.qS}},{key:"ig",get:function(){}},{key:"Rg",get:function(){return this.YE.Rg}},{key:"W_",get:function(){return this.t_t}},{key:"N_",get:function(){return this.eN},set:function(t){this.eN!==t&&(this.Ult.sj("THEOplayerSetMuted",t),this.eN=t,this.bo(new Fl(this.E_,t?0:1)))}},{key:"D_",get:function(){return this.uN}},{key:"C_",get:function(){return this.sN},set:function(t){this.Ult.sj("THEOplayerSetPlaybackRate",t),this.sN=t}},{key:"Bg",get:function(){return this.PV.CR()}},{key:"Lg",get:function(){return jp.iI},set:function(t){}},{key:"Wl",get:function(){return this.MF}},{key:"Mg",get:function(){return this.JU.CR()}},{key:"O_",get:function(){return this.oN}},{key:"PR",get:function(){}},{key:"ng",get:function(){return this.Q_}},{key:"x_",get:function(){return this.k_t}},{key:"P_",get:function(){return this.p_t}},{key:"B_",get:function(){return 1},set:function(t){}},{key:"tg",get:function(){return this.j_}},{key:"LR",get:function(){return this.GS}},{key:"Pg",get:function(){return!0}}]),n}(Jd),uF=function(){function t(){this.MR=xp.MS}var n=t.prototype;return n.UR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(vl(n.type))return!1;var r=n.contentProtection;if(r&&!jy(r)){if(!Zy(r))return!1;if(!t.qdt(r))return!1}return!0},t.qdt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.FR=function(){return!1},t}(),sF=function(){function t(){this.P_t=r.webkit}return t.prototype.sj=function(t,n){this.P_t.messageHandlers[t]&&this.P_t.messageHandlers[t].postMessage(n)},t}(),oF=function(t){function n(n){var i;return(i=t.call(this)||this).B_t=function(t){var n=Hu(t.detail.initData),r=t.detail.sessionId;i.bo(new WU(n,r))},i.L_t=function(t){var n=new y(ju(t.detail.message)),r=t.detail.destinationURL;i.bo(new qU(n,r))},i.M_t=function(t){i.bo(new zU)},i.Ult=n,i.r_t=new FU,xU().fairplayController={sdkEventBus:i.r_t},i.c$(),i}M(n,t);var i=n.prototype;return i.c$=function(){this.r_t.addEventListener(MU.qlt,this.B_t),this.r_t.addEventListener(MU.zlt,this.L_t),this.r_t.addEventListener(MU.Glt,this.M_t)},i.CT=function(t,n){var i={playerId:BU(),data:Qu(n.buffer),sessionId:t};this.Ult.sj("THEOplayerCreateKeySession",i)},i.Ea=function(t,n){var i={playerId:BU(),data:Qu(n.buffer),sessionId:t};this.Ult.sj("THEOplayerUpdateKey",i)},n}(Jd),aF=function(t){var n=this;this.U_t=function(){n.F_t.HG()},this.H_t=function(){n.F_t.FG()},this.r_t=new FU,this.F_t=t,this.r_t.addEventListener("showTracks",this.U_t),this.r_t.addEventListener("hideTracks",this.H_t),xU().texttracks={sdkEventBus:this.r_t}},cF=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.aR(h_.wv);return o.QG=new qI,o.QG.iW(n),o.YG=new oD(o.QG.Sg,a.uL,o.ng,s,a.ER),o.V_t=new aF(o.YG),i.NR(a),Cr.document.querySelector(".vjs-tech")?Cr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Cr.document.querySelector(".player-div").style.background="transparent",o}M(n,t);var i=n.prototype;return i.lg=function(){t.prototype.lg.call(this),this.QG.lg()},i._g=function(){t.prototype._g.call(this),this.QG._g()},i.ag=function(){return!0},i.getSdkBridge=function(){return new sF},i.getFairPlayControllerBridge=function(){return fF},i.C_t=function(t){return t},i.Sv=function(){var n=T.coroutine(ve.mark(function n(){return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Cr.document.querySelector(".vjs-tech")?Cr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Cr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Sv.call(this);case 3:this.YG.Sv(),this.QG.Sv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(eF);zp(new(function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Vb=function(t,n,i,r,e,u){return new cF(t,n,i,r,e,u)},i.UR=function(n,i){if(n.type){var r=Yr();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.UR.call(this,n,i)},n}(uF)));var hF,fF=new oF(new sF),vF=function(t){function n(){return t.call(this,"X_t")||this}return M(n,t),n.prototype.Xd=function(){return new dF},n}(fd),dF=function(t){function n(){return t.call(this,"statechange")||this}return M(n,t),n}(Eu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(hF||(hF={}));var lF=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).W_t=new Jd,n.Ao=function(t){n.bo(t)},n}M(n,t);var i=n.prototype;return i.Xd=function(){return n=_F(t=this),i=new aE(t,n),n.addEventListener=function(t,n){i.Eo(t,n)},n.removeEventListener=function(t,n){i.No(t,n)},n;var t,n,i},i.Eo=function(t,n){this.W_t.Eo(t,n)},i.Ro=function(t){this.W_t.Ro(t)},i.Io=function(){this.W_t.Io()},i.bo=function(t){this.W_t.bo(t)},i.No=function(t,n){this.W_t.No(t,n)},i.Co=function(t){this.W_t.Co(t)},i.Oo=function(t){this.W_t.Oo(t)},i.xo=function(t,n){return this.W_t.xo(t,n)},n}(function(){function t(){this.zo=[],this.Hd=void 0}var n=t.prototype;return n.Xd=function(){return _F(this)},n.ll=function(t){return this.zo[t]},n.Fg=function(t){this.zo.push(t),this.Hd&&this.Hd.push(t.Vd),this.q_t(t)},n.z_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Fg(i)}},n.G_t=function(t,n){n>=0&&n<=this.zo.length&&(this.zo.splice(n,0,t),this.Hd&&this.Hd.splice(n,0,t.Vd),this.q_t(t))},n.Hg=function(t){return $e(this.zo,t)},n.Ta=function(t){this.j_t(this.zo.indexOf(t))},n.j_t=function(t){if(t>=0&&t<this.zo.length){var n=this.zo[t];Je(this.zo,t),this.Hd&&Je(this.Hd,t),this.Q_t(n)}},n.Zo=function(){var t=this.zo.slice();tu(this.zo),this.Hd&&tu(this.Hd);for(var n=0;n<t.length;n++){var i=t[n];this.Q_t(i)}},L(t,[{key:"Y_t",get:function(){return this.zo}},{key:"kl",get:function(){return this.zo.length}},{key:"Vd",get:function(){return this.Hd||(this.Hd=this.Xd()),this.Hd}}]),t}());function _F(t){var n=t.Y_t.map(function(t){return t.Vd});return n.item=function(n){n|=0;var i=t.ll(n);return i&&i.Vd||void 0},n}var gF,wF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return M(n,t),n}(Eu),yF=function(t){function n(n){var i;return(i=t.call(this,"J_t")||this).Z_t=n,i}return M(n,t),n.prototype.Xd=function(){return new wF(this.Z_t.Vd)},n}(fd),mF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return M(n,t),n}(Eu),kF=function(t){function n(n){var i;return(i=t.call(this,"$_t")||this).task=n,i}return M(n,t),n.prototype.Xd=function(){return new mF(this.task.Vd)},n}(fd),pF=function(t){function n(){return t.call(this)||this}M(n,t);var i=n.prototype;return i.q_t=function(t){this.bo(new yF(t))},i.Q_t=function(t){this.bo(new kF(t))},n}(lF);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(gF||(gF={}));var AF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).K_t=gF.UNINITIALISED,e.Ib=new pF,e.tgt=i,e.ngt=r,e.I8=n,e.fg(),e}M(n,t);var i=n.prototype;return i.fg=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.igt();case 2:this.rgt(gF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.igt=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.egt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.egt=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I8.WK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.tgt.ugt(r.id,r.sourceDescription,r.parameters,this.ngt),this.sgt(e),this.Ib.Fg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rgt=function(t){this.K_t=t,this.bo(new vF)},i.ugt=function(t,n,i){void 0===i&&(i="persistent");var r=this.tgt.ogt(t,n,i);return this.agt(r,i),this.Ib.Fg(r),this.sgt(r),r},i.agt=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cgt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.cgt=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I8.HK({key:n.Dl,id:n.Dl,sourceDescription:n.JR,parameters:n.ic},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.sgt=function(t){var n=this;t.Eo("X_t",function(){t.Qf===hF.EVICTED&&n.Ib.Ta(t)})},L(n,[{key:"Qf",get:function(){return this.K_t}},{key:"hgt",get:function(){return this.Ib}}]),n}(bu);function bF(t,n){return function(t,n){var i=t.ts&&n.ts,r=t.vp&&n.vp;return i||r?i&&r?t.ts*t.vp-n.ts*n.vp:i?t.ts-n.ts:r?t.vp-n.vp:(t.ts||1)*(t.vp||1)-(n.ts||1)*(n.vp||1):0}(t,n)||function(t,n){return t.VS-n.VS}(t,n)}var TF=function(t){function n(){return t.call(this,"progress")||this}return M(n,t),n}(Eu),EF=function(t){function n(){return t.call(this,"fK")||this}return M(n,t),n.prototype.Xd=function(){return new TF},n}(fd),SF=function(){function t(t,n,i){if(this.fgt=t,this.Ug=n,this.vgt=i,0===this.Ug.size)this.dgt=nA.KI();else{var r=new nA([-1/0,1/0]);this.Ug.forEach(function(t){r=r.II(t.timeRanges)}),this.dgt=r}}return t.prototype.bw=function(t){return!!Rd(this.Ug,t.Ug)&&(!!jt(this.fgt,t.fgt)&&(!!jt(this.YI,t.YI)&&(!!jt(this.lgt,t.lgt)&&this._gt.WI(t._gt))))},t.ggt=function(){return IF},L(t,[{key:"YI",get:function(){return this.vgt}},{key:"wgt",get:function(){return this.fgt}},{key:"lgt",get:function(){return this._gt.YI}},{key:"ygt",get:function(){var t=0,n=0;return this.Ug.forEach(function(i){t+=i.timeRanges.YI,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"_gt",get:function(){return this.dgt}}]),t}(),RF=_e(),IF=new SF(0,RF,NaN);function NF(t,n){if(nt(t)){if(wr(t,"%"))return g(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var DF,CF=function(t){function n(n,i){return t.call(this,n,i)||this}return M(n,t),L(n,[{key:"name",get:function(){return"mgt"}}]),n}(un);function OF(t,n,i,r){var e=[],u=Qe(i,function(t){return t.kgt===be});if(void 0!==u){var s=u.ru?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.ru.toLowerCase()):"cenc";if(void 0!==s){for(var o=0;o<i.length;o++){var a=i[o];if(a.kgt!==be)for(var c=0,h=Fe(a.kgt);c<h.length;c++){var f=h[c];e.push({Ha:f,rT:a.pgt?[a.pgt]:[],hc:void 0})}}if(e.length)return{BT:t,tS:{nS:s,MT:u.MT},iT:e,eS:n===h_.gv?r.slice():[],uS:n===h_.wv?r.slice():[],tT:!1}}}}function xF(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=_e();return PF(r,e,t.iT),PF(r,e,n.iT),{BT:t.BT,tS:{nS:t.tS.nS,MT:null!==(i=t.tS.MT)&&void 0!==i?i:n.tS.nS},iT:r,eS:BF(t.eS,n.eS,$e),uS:BF(t.uS,n.uS,$e),tT:t.tT||n.tT||!1}}function PF(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Ha.Zs,s=void 0;n.has(u)?(s=n.get(u)).rT=BF(s.rT,e.rT,LF):(s=de({},e),t.push(s),n.set(u,s))}}function BF(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function LF(t,n){for(var i=0;i<t.length;i++){if(zu(t[i],n))return!0}return!1}function MF(t,n){var i,r=t.Agt;if(r){for(var e=t.BC,u=[],s=0,o=t.mJ;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=OF(n||{},t.Gs,r,u)}for(var c=0,h=t.bgt;c<h.length;c++){i=xF(i,UF(h[c],n))}return i}function UF(t,n){return OF(n||{},t.Gs,t.Agt||[],[t.Lf])}function FF(t,n,i){return HF.apply(this,arguments)}function HF(){return(HF=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Tgt;u<s.length;u++)o=s[u],e.push(VF(o,i,r));return t.next=4,T.all(e);case 4:return a=t.sent,t.abrupt("return",{S_:n.Sgt.Egt(),Rgt:[n.Igt],Tgt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function VF(t,n,i){return XF.apply(this,arguments)}function XF(){return(XF=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Ngt;u<s.length;u++)o=s[u],e.push(WF(o,i,r));return t.next=4,T.all(e);case 4:return a=t.sent,t.abrupt("return",{Dgt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function WF(t,n,i){return qF.apply(this,arguments)}function qF(){return(qF=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Cgt;u<s.length;u++)zF(o=s[u])||e.push(YF(o,i,r));return t.next=4,T.all(e);case 4:return a=t.sent,t.abrupt("return",{Yk:a,Gs:n.Gs});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zF(t){return t.bgt.every(QF)}!function(t){t[t.s_=0]="s_",t[t.o_=1]="o_"}(DF||(DF={}));var GF,jF=1;function QF(t){return t.Ogt!==jF&&Boolean(t.Ogt)}function YF(t,n,i){return ZF.apply(this,arguments)}function ZF(){return(ZF=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.bgt;u<s.length;u++)QF(o=s[u])||e.push($F(o,r));return t.next=4,T.all(e);case 4:return a=t.sent,c=n.mJ[0],h=n.Agt,f=h?JF(c,h):void 0,v=MF(n,i),t.abrupt("return",{Bl:a,Pl:n.xgt,Gs:n.Gs,gR:f,Pgt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function JF(t,n){for(var i=[],r=function(t){return t?wr(t,"avc")?uo.VIDEO_H264:wr(t,"hev")||wr(t,"hvc")||wr(t,"hvt")||wr(t,"lhv")||wr(t,"lhe")||wr(t,"lht")?uo.VIDEO_H265:wr(t,"mp4")?uo.VIDEO_MP4:wr(t,"mpeg2")?uo.VIDEO_MPEG2:wr(t,"mpeg")?uo.VIDEO_MPEG:uo.VIDEO_UNKNOWN:uo.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.kgt.split(":").pop(),o=u.pgt;i.push({mimeType:r,uuid:s,data:o})}return{type:DF.s_,schemeType:Te,schemeDatas:i}}function $F(t,n){return KF.apply(this,arguments)}function KF(){return(KF=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tH(n,i);case 2:u=t.sent,s={Dl:rH(n),JA:u,K9:n.r8,VS:n.VS,rs:n.rs,vp:n.vp,Gs:n.Gs,ts:n.ts},t.t0=n.Gs,t.next=t.t0===h_.ze?7:t.t0===h_.wv?8:t.t0===h_.gv?10:12;break;case 7:return t.abrupt("break",13);case 8:return s.z$=null!==(e=null===(r=n.z$)||void 0===r?void 0:r.Mw())&&void 0!==e?e:NaN,t.abrupt("break",13);case 10:return s.audioSamplingRate=n.qvt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",s);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tH(t,n){return nH.apply(this,arguments)}function nH(){return(nH=T.coroutine(ve.mark(function t(n,i){var r,e,u,s,o,a,c,h;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Bgt,u=e.Lgt(),s=u;case 4:if(!s){t.next=16;break}if(!e.Mgt(s.j5)){t.next=12;break}return t.next=8,n.Ugt(s,i,(new eu).mo);case 8:for(o=t.sent,a=0;a<o.kl;a++)r.push(iH(o.Fgt(a),n));t.next=13;break;case 12:r.push(iH(s,n));case 13:s=e.Nht(s),t.next=4;break;case 16:return c=e.Hgt(),h=c.uw-u.ew,t.abrupt("return",{S_:h,QK:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function iH(t,n){return{ew:t.ew,S_:t.S_,Vgt:n.Xgt(t)}}function rH(t){return t.Wgt._I+"-"+(""+t.Dl)}function eH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=uH(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={Gs:r.type,ep:[]}),n[r["group-id"]].ep.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.ep;u<s.length;u++){var o=s[u];i[e.Gs]||(i[e.Gs]={}),i[e.Gs][o.name]||(i[e.Gs][o.name]=[]),i[e.Gs][o.name].push(o)}return i}(t),n)}function uH(t,n,i){for(var r=t["group-id"],e={LZ:t,m$:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.m$.push(s)}return e}function sH(t,n){return oH.apply(this,arguments)}function oH(){return(oH=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.T8([n],{});case 2:return r=t.sent,e=new HP,t.abrupt("return",e.Lk(r.l8,r.tv,YP(r.tv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aH(t,n){return cH.apply(this,arguments)}function cH(){return(cH=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",hH(n,i));case 4:return t.abrupt("return",(e=void 0,e=TH(r=n),{S_:r.duration,Rgt:[r.uri],Tgt:[{Dgt:[{Yk:[{Bl:[{Dl:r.uri,JA:e,VS:0,rs:"",vp:0,Gs:null,ts:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function hH(t,n){return fH.apply(this,arguments)}function fH(){return(fH=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=eH(n.media,n.streams),t.next=3,_H(r,i);case 3:return e=t.sent,t.next=6,dH(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{S_:vH(e),Rgt:[n.uri],Tgt:[{Dgt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Yk;r<e.length;r++){var u=e[r];n=l.max.apply(l,[n].concat(u.Bl.map(function(t){return t.JA.S_})))}return n}function dH(t,n){return lH.apply(this,arguments)}function lH(){return(lH=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,AH(u.uri,i);case 6:(s=t.sent).VS=u.bandwidth,s.rs=u.codecs,s.vp=u.resolution&&u.resolution.height,s.ts=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{Yk:[{Bl:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _H(t,n){return gH.apply(this,arguments)}function gH(){return(gH=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=ve.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,wH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wH(t,n){return yH.apply(this,arguments)}function yH(){return(yH=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=ve.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,mH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{Yk:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mH(t,n){return kH.apply(this,arguments)}function kH(){return(kH=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,pH(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{Bl:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pH(t,n){var i,r,e;return AH((r=(i=t).LZ.uri,e=i.m$.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function AH(t,n){return bH.apply(this,arguments)}function bH(){return(bH=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sH(n,i);case 2:return r=t.sent,e=TH(r),t.abrupt("return",{Dl:n,qgt:n,JA:e,VS:0,rs:"",vp:0,Gs:null,ts:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function TH(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(EH(e))}return{S_:t.duration,QK:n}}function EH(t){return{ew:t.start,S_:t.duration,Vgt:SH(t.uri)}}function SH(t){return iC(t)?{nv:t.UY,FY:[t.FY._I,t.FY.wI],bv:!1}:{nv:t.toString(),bv:!1}}!function(t){t.sS="static",t.oS="dynamic"}(GF||(GF={}));var RH,IH=31536e3,NH=2592e3,DH=86400,CH=3600,OH=60,xH=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,PH=function(){function t(t){var n=t.match(xH);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,u=Number(n[4])||0,s=Number(n[5])||0,o=Number(n[6])||0;this.zgt=i*IH+r*NH+e*DH+u*CH+s*OH+o}var n=t.prototype;return n.Egt=function(){return this.zgt},n.Ggt=function(){return 1e3*this.zgt},L(t,[{key:"e2",get:function(){return fg.qy(this.zgt,1e3)}}]),t}();!function(t){t.jgt="progressive",t.Qgt="interlaced",t.ev="unknown"}(RH||(RH={}));var BH=function(){function t(t,n){this.Ygt=t,this.Zgt=n}return t.prototype.Mw=function(){return this.Ygt/this.Zgt},t}(),LH=/^(?:true|false)$/i,MH=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function UH(t){if(void 0!==t)return new PH(t)}function FH(t){if(void 0!==t){var n=t.match(MH);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],v=n[10],d=n[11],_=("-"===i?-1:1)*Number(r),g=Number(e)-1,y=Number(u),m=Number(s),k=Number(o),p=Number(a),A=Number("0."+(c||"")),b=l.round(1e3*A);if(h)k-=("-"===h?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(_,g,y,m,k,p,b));if(w(T.getTime()))throw new f("The given value could not be parsed as a valid Date");return T}}function HH(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[XH(n[1]),XH(n[2])]}}function VH(t){if(void 0!==t){if(!w(Number(t)))try{return Vt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function XH(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function WH(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!w(i)&&!w(r))return new BH(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function qH(t){if(void 0!==t){if(LH.test(t))return"true"===t.toLowerCase();if(!w(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function zH(t){return{nv:t.ku,Jgt:qH(t.du("availabilityTimeComplete")),$gt:XH(t.du("availabilityTimeOffset"))}}function GH(t){return t.map(zH)}function jH(t){var n,i,r,e,u,s,o=eV(t),a=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).lu(r,i))&&(u=n.du(e+":"+i)),u),c=Ew(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(s=ju(c.ku)),!s){var h=Ew(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(s=function(t){var n=Hu(t.ku),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new y(u),o=new DataView(u),a=new qs;gs(o,a,e),gs(o,a,1886614376),gs(o,a,0),hs(o,a,i),gs(o,a,r),hs(o,a,n),0;return s.buffer}(h))}return{MT:a,pgt:s,kgt:o.kgt,ru:o.ru}}function QH(t){return{Kgt:t.du("sourceURL"),FY:HH(t.du("range"))}}function YH(t,n){var i=t.du("d"),r=t.du("t"),e=XH(t.du("r"));n.push({S_:i,ew:r,twt:e})}function ZH(t){return{j5:t.du("index"),nwt:HH(t.du("indexRange")),ep:t.du("media"),iwt:HH(t.du("mediaRange"))}}function JH(t){var n,i,r=tV(t),e=(n=t.su("SegmentURL"),(i=n.map(ZH)).length>0?i:void 0),u=t.du("xlink:href"),s=t.du("xlink:actuate");return de(de({},r),{rwt:e,ewt:u,uwt:s})}function $H(t){var n=t.map(JH);return n.length>0?n:void 0}function KH(t){var n=qH(t.du("availabilityTimeComplete")),i=XH(t.du("availabilityTimeOffset")),r=HH(t.du("indexRange")),e=qH(t.du("indexRangeExact")),u=t.su("Initialization");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.au+" element can not have more than one Initialization element.");var s=1===u.length?QH(u[0]):void 0,o=VH(t.du("presentationTimeOffset")),a=t.su("RepresentationIndex");if(a.length>1)throw new f("The provided MPEG-DASH document's "+t.au+" element can not have more than one RepresentationIndex element.");return{Jgt:n,$gt:i,nwt:r,swt:e,owt:s,awt:o,cwt:1===a.length?QH(a[0]):void 0,hwt:UH(t.du("timeShiftBufferDepth")),xy:XH(t.du("timescale"))}}function tV(t){var n=KH(t),i=t.su("BitstreamSwitching"),r=i.length>0?QH(i[0]):void 0,e=XH(t.du("duration")),u=t.su("SegmentTimeline");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.au+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.su("S"),r=0;r<i.length;r++)YH(i[r],n);return n}(u[0]):void 0,o=XH(t.du("startNumber")),a=XH(t.du("endNumber"));return de(de({},n),{fwt:r,S_:e,Bgt:s,vwt:o,dwt:a})}function nV(t){var n=tV(t),i=t.du("bitstreamSwitching"),r=t.du("index"),e=t.du("initialization"),u=t.du("media");return de(de({},n),{lwt:i,_wt:r,gwt:e,wwt:u})}function iV(t){return{qvt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(XH)):1===n.length?n.map(XH)[0]:void 0}}(t.du("audioSamplingRate")),mJ:t.du("codecs"),ywt:qH(t.du("codingDependency")),Agt:function(t){if(0!==t.length)return t.map(jH)}(t.su("ContentProtection")),mwt:t.su("EssentialProperty").map(uV),z$:WH(t.du("frameRate")),vp:XH(t.du("height")),Ogt:XH(t.du("maxPlayoutRate")),kwt:XH(t.du("maximumSAPPeriod")),BC:t.du("mimeType"),pwt:t.du("profiles"),Awt:t.du("sar"),bwt:function(t){switch(t){case RH.jgt:case RH.Qgt:case RH.ev:return t;default:return}}(t.du("scanType")),Twt:t.du("segmentProfiles"),Ewt:XH(t.du("startWithSAP")),ts:XH(t.du("width"))}}function rV(t){var n=iV(t),i=XH(t.du("bandwidth")),r=GH(t.su("BaseURL")),e=t.du("dependencyId"),u=t.du("id"),s=t.du("mediaStreamStructureId"),o=XH(t.du("qualityRanking")),a=t.su("SegmentBase");if(a.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?KH(a[0]):void 0,h=$H(t.su("SegmentList")),v=t.su("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var d=1===v.length?nV(v[0]):void 0;return de(de({},n),{VS:i,Swt:r,Rwt:e,Dl:u,Iwt:s,Nwt:o,Dwt:c,Cwt:h,Owt:d})}function eV(t){return{kgt:t.du("schemeIdUri"),ru:t.du("value")}}function uV(t){return eV(t)}function sV(t){return eV(t)}function oV(t){return eV(t)}function aV(t){var n=iV(t),i=function(t){return t.map(oV)}(t.su("Accessibility")),r=GH(t.su("BaseURL")),e=qH(t.du("bitstreamSwitching")),u=t.du("contentType"),s=XH(t.du("group")),o=XH(t.du("id")),a=t.du("lang"),c=XH(t.du("maxBandwidth")),h=WH(t.du("maxFrameRate")),v=XH(t.du("maxHeight")),d=XH(t.du("maxWidth")),l=XH(t.du("minBandwidth")),_=WH(t.du("minFrameRate")),g=XH(t.du("minHeight")),w=XH(t.du("minWidth")),y=t.du("par"),m=t.su("Representation").map(rV);if(0===m.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(sV)}(t.su("Role")),p=qH(t.du("segmentAlignment"))||!1,A=t.su("SegmentBase");if(A.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?KH(A[0]):void 0,T=$H(t.su("SegmentList")),E=t.su("SegmentTemplate");if(E.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?nV(E[0]):void 0,R=XH(t.du("selectionPriority")),I=R||1,N=qH(t.du("subsegmentAlignment"))||!1,D=XH(t.du("subsegmentStartsWithSAP")),C=t.du("xlink:actuate")||"onRequest",O=t.du("xlink:href");return de(de({},n),{xwt:i,Swt:r,fwt:e,Lf:u,Pwt:s,Dl:o,Pl:a,Bwt:c,Lwt:h,Mwt:v,Uwt:d,Fwt:l,Hwt:_,Vwt:g,Xwt:w,Wwt:y,bgt:m,qwt:k,zwt:p,Dwt:b,Cwt:T,Owt:S,MR:I,Gwt:N,jwt:D,Qwt:C,Ywt:O})}function cV(t){var n=VH(t.du("presentationTime"))||Vt.ZERO,i=VH(t.du("duration")),r=XH(t.du("id")),e=function(t){for(var n=t.mu,i={},r=0;r<n.length;r++)i[n[r].tu]=n[r].ru;return i}(t),u=t.ku;return{xA:n,S_:i,Dl:r,mu:e,pu:""!==u.trim()?u:t.du("messageData")||""}}function hV(t){return{Ywt:t.du("xlink:href"),Qwt:t.du("xlink:actuate"),kgt:t.du("schemeIdUri"),ru:t.du("value"),xy:XH(t.du("timescale")),awt:VH(t.du("presentationTimeOffset")),LC:t.su("Event").map(cV)}}function fV(t,n){var i=t.su("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?eV(i[0]):void 0,e=t.su("AdaptationSet").map(aV),u=GH(t.su("BaseURL")),s=qH(t.du("bitstreamSwitching")),o=UH(t.du("duration")),a=t.su("EventStream").map(hV),c=t.du("id"),h=n&&UH(n.du("start")),v=t.su("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?KH(v[0]):void 0,l=$H(t.su("SegmentBase")),_=t.su("SegmentTemplate");if(_.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?nV(_[0]):void 0,w=UH(t.du("start")),y=(t.su("Subset"),t.du("xlink:href"));return{Cgt:e,Zwt:r,Swt:u,fwt:s,S_:o,Jwt:a,Dl:c,$wt:h,Dwt:d,Cwt:l,Owt:g,_I:w,Qwt:t.du("xlink:actuate"),Ywt:y}}function vV(t){var n=t.du("schemeIdUri");if(n)return{kgt:n,ru:t.du("value")}}function dV(t,n){var i=FH(t.du("availabilityEndTime")),r=FH(t.du("availabilityStartTime")),e=GH(t.su("BaseURL")),u=t.du("id"),s=t.su("Location").map(function(t){return""+t.ku}),o=UH(t.du("maxSegmentDuration")),a=UH(t.du("maxSubsegmentDuration")),c=UH(t.du("mediaPresentationDuration")),h=(t.su("Metrics"),UH(t.du("minBufferTime")));if(!h)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=UH(t.du("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(fV(t[i],t[i+1]));return n}(t.su("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.du("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Kwt:i,tyt:r,Swt:e,Dl:u,nyt:s,iyt:n,ryt:o,eyt:a,Sgt:c,uyt:h,syt:v,Tgt:d,pwt:l,oyt:FH(t.du("publishTime")),ayt:UH(t.du("suggestedPresentationDelay")),hwt:UH(t.du("timeShiftBufferDepth")),Gs:function(t){switch(t){case GF.sS:case GF.oS:return t;default:return}}(t.du("type")),cyt:function(t){for(var n=[],i=0;i<t.length;i++){var r=vV(t[i]);r&&n.push(r)}return n}(t.su("UTCTiming"))}}var lV,_V=function(){function t(){}return t.prototype.olt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return dV(t,n)}(b.Ye(t).Au,n)},t}(),gV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Dl=n,s.VS=i,s.mJ=r,s.UY=u,s.zg=e||"",s.hyt=!0,s}return M(n,t),n.prototype.cb=function(){this.hyt=!1,this.bo(new DM(this.Vd))},L(n,[{key:"xl",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.bo(new DM(this.Vd)))}},{key:"cQ",get:function(){return this.hyt}}]),n}(bu),wV=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).z$=s,h.ts=o,h.vp=a,h.Wvt=c,h.Hd=void 0,h}return M(n,t),L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=CM(this)),this.Hd}}]),n}(gV),yV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).qvt=s,o.Hd=void 0,o}return M(n,t),L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=OM(this)),this.Hd}}]),n}(gV);!function(t){t.fyt="vyt",t.dyt="lyt"}(lV||(lV={}));var mV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._yt=function(t){n.bo(t)},n}return M(n,t),L(n,[{key:"gyt",get:function(){var t=this.wyt();return null==t?void 0:t._I}},{key:"yyt",get:function(){var t=this.wyt();return null==t?void 0:t.wI}}]),n}(bu);function kV(t){return ut(t.myt)}var pV=function(t){function n(n,i){var r,e,u;if((r=t.call(this)||this).Hd=void 0,r.kyt=void 0,r.pyt=n,r.Ayt=i,r.Ayt.Eo(lV.fyt,r._yt),r.Gs===h_.wv){var s=null!==(u=null===(e=r.z$)||void 0===e?void 0:e.Mw())&&void 0!==u?u:NaN;r.byt=new wV(AV++,r.VS,r.rs,"","",s,r.ts,r.vp)}else r.Gs===h_.gv?r.byt=new yV(AV++,r.VS,r.rs,"","",r.qvt):r.byt=void 0;return r}M(n,t);var i=n.prototype;return i.Xgt=function(t){var n=kV(t)?this.Ayt.Tyt(t):this.Ayt.Xgt(t);return{nv:n.nv,FY:n.FY,bv:this.Eyt.bv}},i.Syt=function(){return this.Ayt.Syt()},i.wyt=function(){return this.Ayt.wyt()},i.Ryt=function(){return this.Ayt.Ryt()},i.Ugt=function(t,n,i){return this.Ayt.Bgt.Ugt(t,this.Ayt,this.Eyt.bv,n,i)},i.Iyt=function(t){return kV(t)?this.Bgt.Nyt(t):this.Bgt.Iyt(t)},i.P6=function(t){return kV(t)?this.Bgt.Dyt(t):this.Bgt.P6(t)},i.Sv=function(){this.Ayt.No(lV.fyt,this._yt)},L(n,[{key:"Cyt",get:function(){return this.pyt}},{key:"qvt",get:function(){var t;return null!==(t=this.Ayt.pu.qvt)&&void 0!==t?t:this.Cyt.qvt}},{key:"VS",get:function(){return this.Ayt.pu.VS||0}},{key:"mJ",get:function(){var t=this.Ayt.pu;return t.mJ?[t.mJ]:this.Cyt.mJ}},{key:"Oyt",get:function(){var t=this.Ayt.pu;return t.mJ?[t.mJ]:[]}},{key:"rs",get:function(){return this.Ayt.pu.mJ||this.Cyt.rs}},{key:"ywt",get:function(){return this.Ayt.pu.ywt||this.Cyt.ywt}},{key:"Agt",get:function(){return this.Ayt.pu.Agt||this.Cyt.Agt}},{key:"Lf",get:function(){return this.BC+'; codecs="'+this.rs+'"'}},{key:"mwt",get:function(){var t=this.Ayt.pu;return t.mwt.length?t.mwt:this.Cyt.mwt}},{key:"Vd",get:function(){return this.Hd||(this.Hd=(t=this,{get id(){return t.Dl},get type(){return t.Gs},get bandwidth(){return t.VS},get width(){return t.ts},get height(){return t.vp},get frameRate(){var n,i;return null!==(i=null===(n=t.z$)||void 0===n?void 0:n.Mw())&&void 0!==i?i:NaN},get audioSamplingRate(){return t.qvt}}));var t}},{key:"z$",get:function(){var t;return null!==(t=this.Ayt.pu.z$)&&void 0!==t?t:this.Cyt.z$}},{key:"vp",get:function(){return this.Ayt.pu.vp||this.Cyt.vp}},{key:"Dl",get:function(){return this.Ayt.pu.Dl||""}},{key:"N4",get:function(){return this.kyt},set:function(t){this.kyt=t}},{key:"r8",get:function(){var t=this.Ayt.xyt();if(t)return{nv:t.nv,FY:t.FY,bv:this.Eyt.bv}}},{key:"Ogt",get:function(){return this.Ayt.pu.Ogt||this.Cyt.Ogt||1}},{key:"kwt",get:function(){return this.Ayt.pu.kwt||this.Cyt.kwt}},{key:"Eyt",get:function(){return this.Wgt.Eyt}},{key:"BC",get:function(){return this.Ayt.pu.BC||this.Cyt.BC}},{key:"Wgt",get:function(){return this.Cyt.Wgt}},{key:"pwt",get:function(){return this.Ayt.pu.pwt||this.Cyt.pwt}},{key:"Hvt",get:function(){return this.byt}},{key:"Awt",get:function(){return this.Ayt.pu.Awt||this.Cyt.Awt}},{key:"bwt",get:function(){return this.Ayt.pu.bwt||this.Cyt.bwt}},{key:"Pyt",get:function(){return this.Ayt.Pyt}},{key:"Twt",get:function(){return this.Ayt.pu.Twt||this.Cyt.Twt}},{key:"Bgt",get:function(){return this.Ayt.Bgt}},{key:"Ewt",get:function(){return this.Ayt.pu.Ewt||this.Cyt.Ewt}},{key:"Gs",get:function(){var t=this.BC.split("/")[0];return"application"===t||"text"===t||Kw(this.BC,this.mJ)?h_.ze:"video"===t?h_.wv:"audio"===t?h_.gv:"image"===t?h_.yv:h_.ev}},{key:"ts",get:function(){return this.Ayt.pu.ts||this.Cyt.ts}}]),n}(mV),AV=0,bV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Byt=[],r.Lyt=[],r.Myt=n,r.Ayt=i,r.Ayt.Eo(lV.fyt,r._yt),r}M(n,t);var i=n.prototype;return i.Ea=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Lyt.length){t.next=6;break}return this.Lyt=[],r=this.Ayt.bgt.map(function(t){return e.Uyt(t,n,i)}),t.next=5,T.all(r);case 5:this.Lyt=t.sent.filter(Z);case 6:this.Fyt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Uyt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new pV(this,n),t.next=3,i(e);case 3:if(u=t.sent,ou(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Fyt=function(){if(!this.Lyt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.wyt=function(){return this.Ayt.wyt()},i.Ryt=function(){return this.Ayt.Ryt()},i.Sv=function(){this.Ayt.No(lV.fyt,this._yt);for(var t=0,n=this.Lyt;t<n.length;t++){n[t].Sv()}tu(this.Lyt)},L(n,[{key:"xwt",get:function(){return this.Ayt.pu.xwt}},{key:"qvt",get:function(){var t;return null!==(t=this.Ayt.pu.qvt)&&void 0!==t?t:-1}},{key:"mJ",get:function(){if(this.Ayt.pu.mJ)return[this.Ayt.pu.mJ];for(var t=[],n=0,i=this.bgt;n<i.length;n++){var r=i[n];r.Oyt.length&&-1===t.indexOf(r.rs)&&t.push(r.rs)}return t}},{key:"rs",get:function(){return this.mJ.join()}},{key:"ywt",get:function(){return this.Ayt.pu.ywt}},{key:"Agt",get:function(){return this.Ayt.pu.Agt}},{key:"Lf",get:function(){return this.BC+'; codecs="'+this.rs+'"'}},{key:"mwt",get:function(){return this.Byt}},{key:"z$",get:function(){return this.Ayt.pu.z$}},{key:"Pwt",get:function(){return this.Ayt.pu.Pwt}},{key:"vp",get:function(){return this.Ayt.pu.vp||0}},{key:"Dl",get:function(){return this.Ayt.pu.Dl}},{key:"Ogt",get:function(){return this.Ayt.pu.Ogt}},{key:"kwt",get:function(){return this.Ayt.pu.kwt}},{key:"Eyt",get:function(){return this.Wgt.Eyt}},{key:"BC",get:function(){return this.Ayt.pu.BC||this.Lyt[0].BC}},{key:"Wgt",get:function(){return this.Myt}},{key:"pwt",get:function(){return this.Ayt.pu.pwt}},{key:"bgt",get:function(){return this.Lyt}},{key:"qwt",get:function(){return this.Ayt.pu.qwt||[]}},{key:"Awt",get:function(){return this.Ayt.pu.Awt}},{key:"bwt",get:function(){return this.Ayt.pu.bwt}},{key:"Twt",get:function(){return this.Ayt.pu.Twt}},{key:"MR",get:function(){return this.Ayt.pu.MR}},{key:"Ewt",get:function(){return this.Ayt.pu.Ewt}},{key:"Gs",get:function(){var t=(this.Ayt.pu.Lf||this.BC).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Kw(this.BC,this.mJ)?h_.ze:"video"===t?h_.wv:"audio"===t?h_.gv:"image"===t?h_.yv:h_.ev}},{key:"ts",get:function(){return this.Ayt.pu.ts||0}},{key:"xgt",get:function(){return this.Ayt.pu.Pl||""}},{key:"Hyt",get:function(){return this.gyt}},{key:"Vyt",get:function(){var t=this.Hyt,n=this.yyt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.Eyt.Xyt);return l.max(t,i)}}}]),n}(mV);function TV(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(b.Hu(s,e))}return i}var EV=function(){function t(t,n){this.Myt=t,this.Wyt=n,this.pj=n.xy,this.qyt=n.$gt,this.zyt=n.awt}var n=t.prototype;return n.Gyt=function(t){var n=t-this.Myt._I;if(!(n<0||n>=this.Myt.S_)){var i=this.jyt();return void 0!==i&&qt(i,n,1e-5)?this.Lgt():this.Qyt(n)}},n.Yyt=function(t){var n=t-this.Myt._I;if(!(n<0))return this.Zyt(l.min(n,this.Myt.S_))},n.Lgt=function(){return this.Jyt(0)},n.Hgt=function(){var t=this.Myt.S_;if(isFinite(t))return this.Zyt(t)},n.Syt=function(t){if(this.Myt.$yt.Gs===GF.oS){var n=this.Kyt(t);if(!n)return;return{tmt:t,nmt:this.imt(t),rmt:n}}var i=this.Lgt();if(i)return{tmt:t,nmt:i,rmt:this.Hgt()}},n.Ryt=function(t,n){if(n){var i=this.emt(n.nmt),r=this.Nht(n.rmt);if(r){var e=this.umt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Lgt();if(u){var s=this.umt(u);if(t.getTime()<s.getTime())return s}var o=this.Myt.$yt.tyt;return t.getTime()<o.getTime()?o:void 0},n.Kyt=function(t){var n=(t.getTime()-this.Myt.$yt.tyt.getTime())/1e3-this.Myt._I+this.qyt,i=this.Zyt(Wt(n,0,this.Myt.S_));if(i&&(i=this.smt(i,t))){for(var r=this.Nht(i);r&&this.omt(r,t);)i=r,r=this.Nht(i);return i}},n.imt=function(t){var n,i=this.Wyt.hwt;if(i){var r=(t.getTime()-this.Myt.$yt.tyt.getTime())/1e3-this.Myt._I-i.Egt();(n=this.Zyt(Wt(r,0,this.Myt.S_)))||(n=this.Lgt())}else n=this.Lgt();if(n&&(n=this.smt(n,t))){for(var e=this.amt(n);e&&this.omt(e,t);)n=e,e=this.amt(n);return n}},n.smt=function(t,n){for(var i=t;i&&this.umt(i).getTime()>n.getTime();)i=this.amt(i);if(i){var r=this.emt(i);if(r&&r.getTime()<=n.getTime()){var e=this.amt(i);for(e&&this.omt(e,n)&&(i=e);i;){if(this.umt(i).getTime()>n.getTime())return;if(this.omt(i,n))break;i=this.Nht(i)}if(!i)return}return i}},n.omt=function(t,n){if(this.umt(t).getTime()>n.getTime())return!1;var i=this.emt(t);return!(i&&n.getTime()>=i.getTime())},n.cmt=function(t,n){if(this.hmt(t).getTime()>n.getTime())return!1;var i=this.emt(t);return!(i&&n.getTime()>=i.getTime())},n.fmt=function(t,n,i){var r=Kt(n,this.pj)+this.Myt._I;return{j5:t,vmt:n,ew:r,S_:i,uw:r+i}},n.hmt=function(t){return this.Myt.$yt.Gs===GF.oS?new Date(this.Myt.$yt.tyt.getTime()+1e3*(t.ew+t.S_)):this.Myt.$yt.tyt},n.umt=function(t){var n=this.hmt(t);return this.Myt.$yt.Gs===GF.oS?new Date(n.getTime()-1e3*this.qyt):n},n.emt=function(t){var n=1/0;if(this.Myt.$yt.Gs===GF.oS){var i=this.Wyt.hwt;i&&(n=this.hmt(t).getTime()+1e3*t.S_+i.Ggt())}var r=this.Myt.$yt.Kwt;return r&&(n=l.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.dmt=function(t,n){return t.j5+n},n.Mgt=function(t){return!1},n.Ugt=function(t,n,i,r,e){var u=this.lmt(t);if(!u)return T.reject(new f("Invalid segment"));var s=this._mt(u.j5);return s?T.resolve(s):this.gmt(u.j5,n,i,r,e)},n._mt=function(t){},n.gmt=function(t,n,i,r,e){return T.reject(new f("Not supported"))},n.amt=function(t){var n=this.lmt(t);if(n)return this.Jyt(n.j5-1)},n.Nht=function(t){var n=this.lmt(t);if(n)return this.Jyt(n.j5+1)},n.lmt=function(t){var n=this.Jyt(t.j5);if(n&&n.ew===t.ew)return n;var i=this.Gyt(t.ew);return i&&i.ew===t.ew?i:void 0},n.wmt=function(t){var n=this.ymt(t);if(n&&this.Mgt(n.j5)){var i=this._mt(n.j5);if(i)return i.wmt(t)}},n.ymt=function(t){return this.Jyt(t.mmt)},n.Iyt=function(t){var n=this.lmt(t);return!!n&&0===n.j5},n.Nyt=function(t){var n=this.wmt(t);return!!n&&0===n.myt},n.P6=function(t){var n=this.lmt(t);if(!n)return!1;var i=this.Hgt();return!!i&&n.j5===i.j5},n.Dyt=function(t){var n=this.wmt(t);if(!n)return!1;var i=this.Hgt();if(!i||n.mmt!==i.j5)return!1;var r=this._mt(n.mmt);return n.myt+1===r.kl},L(t,[{key:"fm",get:function(){return Kt(this.zyt,this.pj)-this.Myt._I}}]),t}(),SV=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.kmt,u=n.S_;if(void 0===e||void 0===u)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.pmt=e,r.Amt=u,r}M(n,t);var i=n.prototype;return i.Jyt=function(t){if(!(t<0)){var n=this.pmt.multiply(t),i=Kt(n,this.pj),r=this.Myt.S_;if(!(i>=r)){var e=this.bmt();if(void 0!==e){if(t>e)return;if(t===e)return this.fmt(t,n,r-i)}return isFinite(r)&&i+this.Amt>r?this.fmt(t,n,r-i):this.fmt(t,n,this.Amt)}}},i.jyt=function(){return 0},i.Qyt=function(t){var n=l.floor(t/this.Amt),i=this.bmt();return void 0!==i&&n>=i?this.Jyt(i):this.Jyt(n)},i.Zyt=function(t){if(t>=this.Myt.S_){var n=l.ceil(this.Myt.S_/this.Amt)-1,i=this.bmt();return void 0!==i&&n>=i?this.Jyt(i):this.Jyt(n)}return this.Qyt(t)},i.bmt=function(){var t,n=this.Wyt.dwt;if(void 0!==n)return n-(null!==(t=this.Wyt.vwt)&&void 0!==t?t:1);if(isFinite(this.Myt.S_)){var i=this.Wyt.Tmt;if(void 0!==i&&i>0)return i-1}},i.Emt=function(){if(isFinite(this.Myt.S_))return this.Hgt()},i.Smt=function(t,n){return this.pmt.multiply(t.j5+(n-1))},i.Ea=function(){},n}(EV);function RV(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].ew,s=t[e].uw;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+l.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.ew,h=o+1<i?t[o+1].ew:a.uw;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var IV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Rmt=[],r.Imt=void 0,r.Nmt=Vt.ZERO,r.Ea(),r}M(n,t);var i=n.prototype;return i.Jyt=function(t){if(!(t<0))return t<this.Rmt.length?this.Rmt[t].bht:this.Dmt(t-this.Rmt.length)},i.jyt=function(){if(this.Rmt.length>0)return Kt(this.Rmt[0].ew,this.pj)},i.Qyt=function(t){if(this.Imt&&Kt(this.Imt.ew,this.pj)<=t){var n=Kt(this.Imt.ew,this.pj),i=Kt(this.Imt.S_,this.pj),r=l.floor((t-n)/i);return this.Dmt(r)}if(this.Rmt.length>0&&qt(t,Kt(this.Rmt[0].ew,this.pj),1e-5))return this.Rmt[0].bht;var e=RV(this.Rmt,Vt.fromNumber(t*this.pj));return e<0?void 0:this.Rmt[e].bht},i.Zyt=function(t){if(!this.Imt&&this.Rmt.length>0){var n=this.Rmt[this.Rmt.length-1];if(t>=Kt(n.uw,this.pj))return n.bht}var i=this.jyt();return i&&t<i?this.Rmt[0].bht:this.Qyt(t)},i.Emt=function(){return isFinite(this.Myt.S_)?this.Hgt():this.Jyt(this.Rmt.length-1)},i.Smt=function(t){return this.Cmt(t)},i.Dmt=function(t){if(this.Imt){var n=this.Imt.ew,i=this.Imt.S_,r=n.add(i.multiply(t)),e=Kt(r,this.pj),u=this.Myt.S_;if(!(e>=u)){var s=this.Rmt.length+t,o=l.min(Kt(i,this.pj),e+u);return this.fmt(s,r,o)}}},i.Cmt=function(t){return t.vmt.add(this.zyt)},i.Ea=function(){var t=this.Wyt.pu.Bgt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Omt(t)},i.Omt=function(t){var n=this.zyt;this.xmt(t,n);var i=this.Pmt(t);this.Bmt(t,n,i.Lmt,i.mmt)},i.xmt=function(t,n){var i=this.Rmt;if(0===t.length)tu(i);else{for(var r=t[0],e=r.ew?Vt.fromString(r.ew,!1).subtract(n):Vt.ZERO,u=0;u<i.length&&i[u].ew.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.Pmt=function(t){for(var n=this.Rmt,i=this.Nmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].twt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].ew.greaterThanOrEqual(i))break;if(n[e].bht.j5===e)e=s+1;else for(;e<=s;)n[e].bht.j5=e,e++;0,r++}return{Lmt:r,mmt:e}},i.Bmt=function(t,n,i,r){for(var e,u=this.Rmt,s=i,o=r;s<t.length;){var a=t[s],c=Vt.fromString(a.S_,!1),h=a.twt||0,f=void 0;if(a.ew){if(f=Vt.fromString(a.ew,!1).subtract(n),o>0){var v=u[o-1];v.uw.greaterThan(f)&&(v.S_=f.subtract(v.ew),v.uw=v.ew.add(v.S_))}}else f=o>0?u[o-1].uw:Vt.ZERO;if(h<0){if(s+1===t.length){e={ew:f,S_:c};break}for(var d=Vt.fromString(t[s+1].ew,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.Mmt(u,o,f,c,l),f=l,o++}}else for(var _=o+h;o<=_;){var g=f.add(c);this.Mmt(u,o,f,c,g),f=g,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Nmt=u[u.length-1].ew),this.Imt=e},i.Mmt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.S_.equals(r)?u.bht.j5=n:t[n]={ew:i,S_:r,uw:e,bht:this.fmt(n,i,Kt(r,this.pj))}}else t.push({ew:i,S_:r,uw:e,bht:this.fmt(n,i,Kt(r,this.pj))})},n}(EV),NV=function(){function t(t,n,i){this.Umt=void 0,this.Fmt=void 0,this.Wgt=t,this.Hmt=n,this.nr=i}var n=t.prototype;return n.Vmt=function(){if(this.Fmt=this.Xmt(),this.Fmt)return this.Fmt;if(this.Hmt)return this.Hmt.Bgt;throw new f("Missing media segment information.")},n.xyt=function(t){var n=this.owt;if(n)return{nv:(void 0!==n.Kgt?b.Hu(n.Kgt,t.Swt[0]):t.Swt[0]).href,FY:n.FY};var i=this.nwt;return i?{nv:t.Swt[0].href,FY:[0,i[0]-1]}:void 0},n.Ea=function(t){this.nr=t,this.Fmt&&this.Fmt.Ea()},L(t,[{key:"pu",get:function(){return this.nr}},{key:"$gt",get:function(){return this.nr&&void 0!==this.nr.$gt?this.nr.$gt:this.Hmt?this.Hmt.$gt:0}},{key:"awt",get:function(){return this.nr&&void 0!==this.nr.awt?this.nr.awt:this.Hmt?this.Hmt.awt:Vt.ZERO}},{key:"hwt",get:function(){return this.nr&&void 0!==this.nr.hwt?this.nr.hwt:this.Hmt?this.Hmt.hwt:this.Wgt.$yt.hwt}},{key:"xy",get:function(){return this.nr&&void 0!==this.nr.xy?this.nr.xy:this.Hmt&&this.Hmt.xy?this.Hmt.xy:1}},{key:"nwt",get:function(){return this.nr&&void 0!==this.nr.nwt?this.nr.nwt:this.Hmt?this.Hmt.nwt:void 0}},{key:"owt",get:function(){return this.nr&&void 0!==this.nr.owt?this.nr.owt:this.Hmt?this.Hmt.owt:void 0}},{key:"Bgt",get:function(){return this.Umt||(this.Umt=this.Vmt()),this.Umt}}]),t}(),DV=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Xmt=function(){return this.nr.Bgt?new IV(this,this.Wgt):void 0!==this.nr.S_?new SV(this,this.Wgt):void 0},L(n,[{key:"S_",get:function(){return void 0!==this.nr.S_?this.nr.S_/this.xy:this.Hmt&&this.Hmt instanceof n?this.Hmt.S_:void 0}},{key:"kmt",get:function(){return void 0!==this.nr.S_?Vt.fromNumber(this.nr.S_):this.Hmt&&this.Hmt instanceof n?this.Hmt.kmt:void 0}},{key:"vwt",get:function(){return void 0!==this.nr.vwt?this.nr.vwt:this.Hmt&&this.Hmt instanceof n?this.Hmt.vwt:void 0}},{key:"dwt",get:function(){return void 0!==this.nr.dwt?this.nr.dwt:this.Hmt&&this.Hmt instanceof n?this.Hmt.dwt:void 0}}]),n}(NV),CV=function(){function t(t){this.Wmt=t}return t.prototype.oa=function(t){return this.Wmt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Ar(s,Number(r),"0")})},t}();var OV=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qmt=r.gwt?new CV(r.gwt):void 0,e.zmt=r.wwt?new CV(r.wwt):void 0,e}M(n,t);var i=n.prototype;return i.xyt=function(n){var i=this.gwt;if(!i)return t.prototype.xyt.call(this,n);var r=i.oa({Bandwidth:n.pu.VS,RepresentationID:n.pu.Dl});return{nv:b.Fu(r,n.Swt[0])}},i.Xgt=function(t,n){var i,r=null!==(i=n.Pyt.vwt)&&void 0!==i?i:1,e=this.wwt.oa({Bandwidth:n.pu.VS,Number:n.Bgt.dmt(t,r),RepresentationID:n.pu.Dl,Time:n.Bgt.Smt(t,r)});return{nv:b.Fu(e,n.Swt[0])}},i.Tyt=function(t,n){},L(n,[{key:"gwt",get:function(){return this.qmt?this.qmt:this.Hmt&&this.Hmt instanceof n?this.Hmt.gwt:void 0}},{key:"wwt",get:function(){return this.zmt?this.zmt:this.Hmt&&this.Hmt instanceof n?this.Hmt.wwt:void 0}},{key:"Tmt",get:function(){}}]),n}(DV),xV=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Xgt=function(t,n){var i=this.nr.rwt[t.j5],r=n.Swt[0];return{nv:(i.ep?b.Hu(i.ep,r):r).href,FY:i.iwt}},i.Tyt=function(t,n){},L(n,[{key:"Tmt",get:function(){return void 0!==this.nr.rwt?this.nr.rwt.length:this.Hmt&&this.Hmt instanceof DV?this.Hmt.Tmt:void 0}}]),n}(DV),PV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).mmt=n,s.Gmt=i,s.xy=r.xy,s.jmt=e,s.awt=u,s.Qmt=s.Ymt(r),s}M(n,t);var i=n.prototype;return i.Fgt=function(t){if(t>=0&&t<this.kl)return this.Zmt(this.Qmt[t])},i.Jmt=function(t){var n=this.$mt(t);if(this.Qmt.length>0){var i=this.Qmt[0];if(n<=Kt(i.ew,this.xy))return this.Zmt(i)}var r=RV(this.Qmt,Vt.fromNumber(n*this.xy));if(!(r<0))return this.Zmt(this.Qmt[r])},i.Kmt=function(t){var n=this.$mt(t);if(this.Qmt.length>0){var i=this.Qmt[this.Qmt.length-1];if(n>=Kt(i.uw,this.xy))return this.Zmt(i)}return this.Jmt(t)},i.Zmt=function(t){var n=Kt(t.ew,this.xy)-this.awt,i=n+this.jmt,r=Kt(t.S_,this.xy);return{mmt:this.mmt,myt:t.j5,ew:i,vmt:Vt.fromNumber(n*this.xy),S_:r,uw:i+r,tkt:[this.Gmt+t.Gmt,this.Gmt+t.nkt]}},i.Ymt=function(t){for(var n=[],i=t.QA,r=t.YA.toNumber(),e=0,u=0,s=t.JA;u<s.length;u++){var o=s[u],a=o.WA,c=Vt.fromNumber(o.S_),h=i.add(c);0===o.XA&&n.push({j5:e++,ew:i,S_:c,uw:h,Gmt:r,nkt:r+a-1}),r+=a,i=h}return n},i.$mt=function(t){return t-this.jmt+this.awt},L(n,[{key:"kl",get:function(){return this.Qmt.length}}]),n}(function(){function t(){}return t.prototype.wmt=function(t){var n=this.Fgt(t.myt);if(n&&n.ew===t.ew)return n;var i=this.Jmt(t.ew);return i&&i.ew===t.ew?i:void 0},t}()),BV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).ikt=void 0,r.rkt=n.nwt,r.rht=r.fmt(0,Vt.ZERO,r.Myt.S_),r}M(n,t);var i=n.prototype;return i.Jyt=function(t){if(0===t)return this.rht},i.jyt=function(){return 0},i.Qyt=function(t){return this.rht},i.Zyt=function(t){return this.Qyt(t)},i.Emt=function(){return this.rht},i.Smt=function(t,n){return Vt.ZERO},i.Syt=function(t){var n=this.ekt(t);return n&&{tmt:t,nmt:n,rmt:n}},i.ekt=function(t){var n=this.rht;return this.omt(n,t)?n:void 0},i.Kyt=function(t){return this.ekt(t)},i.imt=function(t){return this.ekt(t)},i.Ea=function(){},i.Mgt=function(t){return 0===t&&void 0!==this.rkt},i._mt=function(t){return this.ikt},i.gmt=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e,u){var s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.Swt[0].href,o=this.rkt,t.next=4,e.ukt(s,o,r,u);case 4:return a=t.sent,this.ikt=this.skt(n,a),t.abrupt("return",this.ikt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.skt=function(t,n){var i=this.rkt,r=_w.Sk(new DataView(n),new qs);if(r.Gs!==Eg.$m)throw new f("Invalid segment index");var e=kw.qk(r.pu),u=i[1]+1;return new PV(t,u,e,this.Myt._I,Kt(this.zyt,this.pj))},n}(EV),LV=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Xgt=function(t,n){return{nv:n.Swt[0].href}},i.Tyt=function(t,n){return{nv:n.Swt[0].href,FY:t.tkt}},i.Xmt=function(){return new BV(this,this.Wgt)},L(n,[{key:"vwt",get:function(){}}]),n}(NV),MV=function(t){function n(){return t.call(this,lV.fyt)||this}return M(n,t),n}(Eu);var UV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Wyt=void 0,e.okt=1/0,e.akt=void 0,e.cn=i,e.ckt(n,r),e}M(n,t);var i=n.prototype;return i.hkt=function(){return this.Wyt||this.cn&&this.cn.hkt()},i.fkt=function(t){var n=this.Wgt,i=this.cn&&this.cn.hkt();this.nr.Owt?this.Wyt=new OV(n,i,this.nr.Owt):this.nr.Cwt?this.Wyt=new xV(n,i,this.nr.Cwt[0]):this.nr.Dwt?this.Wyt=new LV(n,i,this.nr.Dwt):t&&!i&&(this.Wyt=new LV(n,i,void 0))},i.ckt=function(t,n){this.nr=t,this.vkt=t.Swt&&t.Swt.length>0?TV(t.Swt.map(function(t){return t.nv}),n):n.slice(),this.Wyt&&(t.Owt?this.Wyt.Ea(t.Owt):t.Cwt?this.Wyt.Ea(t.Cwt[0]):t.Dwt&&this.Wyt.Ea(t.Dwt))},i.wyt=function(){var t;return null===(t=this.akt)||void 0===t?void 0:t.dkt},i.Ryt=function(){var t;return null===(t=this.akt)||void 0===t?void 0:t.lkt},i._kt=function(t){var n=this.okt,i=this.Wgt.S_,r=this.akt,e=this.gkt(t);r&&qt(i,n,1e-5)&&XV(r,e)||(this.okt=i,this.akt=e,this.bo(new MV))},i.co=function(){this.Io()},L(n,[{key:"pu",get:function(){return this.nr}},{key:"Swt",get:function(){return this.vkt}}]),n}(bu);function FV(t){for(var n,i=0;i<t.length;i++){var r=t[i].wyt();if(r){n=r._I;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].wyt();if(s){e=s.wI;break}}if(void 0!==e)return{_I:n,wI:e}}}function HV(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].wyt();if(!e)return;if((n=l.max(n,e._I))>=(i=l.min(i,e.wI)))return}return{_I:n,wI:i}}}function VV(t){for(var n,i=0;i<t.length;i++){var r=t[i].Ryt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function XV(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.lkt,n.lkt)&&function(t,n){return t&&n?qt(t._I,n._I,1e-5)&&qt(t.wI,n.wI,1e-5):t===n}(t.dkt,n.dkt)}var WV=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Myt=n,e.qg=i,e.wkt=r.slice();for(var u=0;u<r.length;u++){r[u].Eo(lV.fyt,e._yt)}return e}M(n,t);var i=n.prototype;return i.wyt=function(){return HV(this.wkt)},i.Ryt=function(){for(var t,n=0,i=this.wkt;n<i.length;n++){var r=i[n].Ryt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Sv=function(){this.Io();for(var t=0,n=this.wkt;t<n.length;t++){n[t].No(lV.fyt,this._yt)}},L(n,[{key:"Cgt",get:function(){return this.wkt}},{key:"mJ",get:function(){return this.Cgt.reduce(function(t,n){for(var i=0,r=n.mJ;i<r.length;i++){var e=r[i];$e(t,e)||t.push(e)}return t},[])}},{key:"rs",get:function(){return this.mJ.length>0?this.mJ[0]:""}},{key:"Gs",get:function(){return this.wkt[0].Gs}},{key:"Dl",get:function(){return this.qg}},{key:"Eyt",get:function(){return this.Myt.Eyt}},{key:"BC",get:function(){return this.wkt[0].BC}},{key:"Wgt",get:function(){return this.Myt}},{key:"bgt",get:function(){return iu(this.Cgt,function(t){return t.bgt})}}]),n}(mV),qV=function(t){function n(){return t.call(this,lV.dyt)||this}return M(n,t),n}(Eu);function zV(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.Pwt;void 0===u||(e=Qe(n,function(t){return t.Dl===u})),e||(e={Dl:u,Cgt:[]},n.push(e)),e.Cgt.push(r)},r=0;r<t.length;r++)i(r);return n}var GV,jV=function(t){function n(n,i){var r;return(r=t.call(this)||this).wkt=[],r.ykt=[],r.mkt=!1,r.kkt=n,r.Ayt=i,r.Ayt.Eo(lV.fyt,r._yt),r}M(n,t);var i=n.prototype;return i.pkt=function(t,n){if(0!==this.ykt.length){for(var i=t,r=0,e=this.ykt;r<e.length;r++){var u=e[r],s=u.Gs;if(s===h_.gv||s===h_.wv){var o=u.yyt;if(void 0===o)return;i=n(i,o)}}return i}},i.Akt=function(){this.mkt||(this.mkt=!0,this.bo(new qV),this.Sv())},i.Ea=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.wkt.length){t.next=7;break}return t.next=3,this.bkt(this.Ayt.Cgt,n,i);case 3:this.Tkt(this.wkt),ou(i),t.next=9;break;case 7:return t.next=9,this.Ekt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bkt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new bV(this,u),t.prev=4,t.next=7,s.Ea(i,r);case 7:this.wkt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),au(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Tkt=function(t){for(var n=zV(t),i=0;i<n.length;i++){var r=n[i],e=new WV(this,r.Dl,r.Cgt);this.ykt.push(e)}},i.Ekt=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.wkt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u.Ea(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wyt=function(){return this.Ayt.wyt()},i.Ryt=function(){return this.Ayt.Ryt()},i.Sv=function(){this.Io(),this.Ayt.No(lV.fyt,this._yt);for(var t=0,n=this.ykt;t<n.length;t++){n[t].Sv()}for(var i=0,r=this.wkt;i<r.length;i++){r[i].Sv()}tu(this.wkt),tu(this.ykt)},L(n,[{key:"Cgt",get:function(){return this.wkt}},{key:"Ngt",get:function(){return this.ykt}},{key:"Zwt",get:function(){return this.Ayt.pu.Zwt}},{key:"S_",get:function(){return this.Ayt.S_}},{key:"wI",get:function(){return this._I+this.S_}},{key:"Jwt",get:function(){return this.Ayt.pu.Jwt||[]}},{key:"Dl",get:function(){return this.Ayt.Dl}},{key:"lyt",get:function(){return this.mkt}},{key:"Eyt",get:function(){return this.kkt}},{key:"Skt",get:function(){return this.kkt.Rkt(this)}},{key:"Wgt",get:function(){return this}},{key:"Ikt",get:function(){return this.kkt.Nkt(this)}},{key:"Dkt",get:function(){return this.pkt(1/0,l.min)}},{key:"Ckt",get:function(){return this.pkt(0,l.max)}},{key:"_I",get:function(){return this.Ayt._I}},{key:"bv",get:function(){return this.Eyt.bv}}]),n}(mV),QV=function(t){function n(){return t.call(this,Wo.Gc)||this}return M(n,t),n}(Eu);!function(t){t.Okt="xkt"}(GV||(GV={}));var YV=function(t){function n(){return t.call(this,GV.Okt)||this}return M(n,t),n}(Eu),ZV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Swt)||this).Pkt=void 0,r.pyt=i,r.fkt(!0),r}M(n,t);var i=n.prototype;return i.xyt=function(){return this.Pyt.xyt(this)},i.Xgt=function(t){return this.Pyt.Xgt(t,this)},i.Tyt=function(t){return this.Pyt.Tyt(t,this)},i.Syt=function(){return this.Pkt},i.gkt=function(t){var n=this.Bgt,i=n.Syt(t),r=i&&function(t,n){var i,r=t.nmt,e=t.rmt,u=t.tmt,s=r.ew,o=n.hmt(e);if(o.getTime()<=u.getTime())i=e.uw;else{var a=(o.getTime()-u.getTime())/1e3,c=l.max(e.S_-a,0);i=e.ew+c}return{_I:s,wI:i}}(i,n),e=this.Bgt.Ryt(t,i);return this.Pkt=i,{tmt:t,dkt:r,lkt:e}},i.Ea=function(t){this.ckt(t,this.pyt.Swt)},L(n,[{key:"Cyt",get:function(){return this.pyt}},{key:"Wgt",get:function(){return this.pyt.Wgt}},{key:"$yt",get:function(){return this.pyt.$yt}},{key:"Pyt",get:function(){return this.hkt()}},{key:"Bgt",get:function(){return this.Pyt.Bgt}}]),n}(UV),JV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Swt)||this).Myt=i,r.fkt(!1),r.Lyt=n.bgt.map(function(t){return new ZV(t,rn(r))}),r}M(n,t);var i=n.prototype;return i.Ea=function(t){this.ckt(t,this.Myt.Swt);var n=t.bgt||[];if(this.Lyt.length!==n.length)throw new f("Expected "+this.Lyt.length+' representations in adaptation set "'+t.Dl+'", found '+n.length);for(var i=0;i<n.length;i++)this.Lyt[i].Ea(n[i])},i._kt=function(n){for(var i=0,r=this.Lyt;i<r.length;i++){r[i]._kt(n)}t.prototype._kt.call(this,n)},i.gkt=function(t){return{tmt:t,dkt:HV(this.Lyt),lkt:VV(this.Lyt)}},i.co=function(){for(var n=0,i=this.Lyt;n<i.length;n++){i[n].co()}t.prototype.co.call(this)},L(n,[{key:"bgt",get:function(){return this.Lyt}},{key:"Wgt",get:function(){return this.Myt}},{key:"$yt",get:function(){return this.Myt.$yt}},{key:"Pwt",get:function(){return this.nr.Pwt}}]),n}(UV),$V=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Swt)||this).ykt=[],u.Bkt=n,u.eb=r,u.mF=e,u.fkt(!1),u.wkt=(i.Cgt||[]).map(function(t){return new JV(t,rn(u))}),u.ykt=zV(u.wkt),u}M(n,t);var i=n.prototype;return i.Ea=function(t,n){this.ckt(t,this.Bkt.Swt),this.mF=n;var i=t.Cgt||[];if(this.wkt.length!==i.length)throw new f("Expected "+this.wkt.length+' adaptation sets in period "'+t.Dl+'", found '+i.length);for(var r=0;r<i.length;r++)this.wkt[r].Ea(i[r])},i._kt=function(n){for(var i=0,r=this.wkt;i<r.length;i++){r[i]._kt(n)}t.prototype._kt.call(this,n)},i.gkt=function(t){return{tmt:t,dkt:HV(this.wkt),lkt:VV(this.wkt)}},i.co=function(){for(var n=0,i=this.wkt;n<i.length;n++){i[n].co()}t.prototype.co.call(this)},L(n,[{key:"Cgt",get:function(){return this.wkt}},{key:"Ngt",get:function(){return this.ykt}},{key:"Wgt",get:function(){return this}},{key:"$yt",get:function(){return this.Bkt}},{key:"Dl",get:function(){return this.nr.Dl}},{key:"_I",get:function(){return this.eb}},{key:"S_",get:function(){return this.mF}}]),n}(UV),KV=new Date("2000-01-01"),tX=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).akt=void 0,u.Lkt=void 0,u.Mkt=void 0,u.Ukt=[],u.Fkt=i,u.Ea(n,r,e),n.Gs===GF.oS){var s=u.Emt();s&&s.Kwt&&s.Kwt.getTime()<KV.getTime()&&(u.Mkt=new Date(u.oyt.getTime()-1e3*(s.bht.ew+s.bht.S_)),u._kt(e))}return u}M(n,t);var i=n.prototype;return i.wyt=function(){var t;return null===(t=this.akt)||void 0===t?void 0:t.dkt},i.Ryt=function(){var t;return null===(t=this.akt)||void 0===t?void 0:t.lkt},i.Ea=function(t,n,i,r){var e;this.nr=t,this.Hkt=n,this.Vkt=null!=r?r:i,this.VH=i;var u,s=[(u=n,b.Hu(".",u))];this.vkt=t.Swt&&t.Swt.length>0?TV(t.Swt.map(function(t){return t.nv}),s):s,this.Xkt=t.nyt&&t.nyt.length>0?TV(t.nyt,this.vkt):[];var o=this.Xkt.map(function(t){return t.href}),a=n.href;$e(o,a)||(this.Xkt.push(n),o.push(a));var c=this.Fkt.href;$e(o,c)||(this.Xkt.push(this.Fkt),o.push(c)),this.Lkt=null===(e=t.Sgt)||void 0===e?void 0:e.Egt();var h=t.Gs===GF.oS,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u._I)s=u._I.Egt();else if(e>0&&t[e-1].S_){var o=r[e-1],a=t[e-1].S_.Egt();s=o+a}else{if(0!==e||n)break;s=0}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({pu:t[h],_I:r[h],S_:r[h+1]-r[h]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.S_?v.S_.Egt():i-d),c.push({pu:v,_I:d,S_:l})}return c}(t.Tgt,h,this.Lkt);this.Wkt(f),this._kt(i)},i.Wkt=function(t){var n=this.Ukt;if(0!==t.length){for(var i=t[0].pu.Dl,r=0;r<n.length&&n[r].Dl!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].co()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a.Ea(o.pu,o.S_)}else n.push(new $V(this,o.pu,o._I,o.S_))}}else tu(n)},i._kt=function(t){for(var n=0,i=this.Ukt;n<i.length;n++){i[n]._kt(t)}var r=this.akt,e=this.gkt(t);r&&XV(r,e)||(this.akt=e,this.bo(new MV))},i.gkt=function(t){return{tmt:t,dkt:FV(this.Ukt),lkt:VV(this.Ukt)}},i.Emt=function(){if(0!==this.Ukt.length){var t=this.Ukt[this.Ukt.length-1];if(!isFinite(t.S_)&&0!==t.Cgt.length){var n=t.Cgt[0];if(0!==n.bgt.length){var i=n.bgt[0].Bgt,r=i.Emt();if(r)return{bht:r,Kwt:i.emt(r)}}}}},i.co=function(){this.Io();for(var t=0,n=this.Ukt;t<n.length;t++){n[t].co()}},L(n,[{key:"pu",get:function(){return this.nr}},{key:"Gs",get:function(){return this.nr.Gs||GF.sS}},{key:"tyt",get:function(){return this.Mkt||this.nr.tyt||this.oyt}},{key:"Kwt",get:function(){return this.nr.Kwt}},{key:"Sgt",get:function(){return this.Lkt}},{key:"Swt",get:function(){return this.vkt}},{key:"nyt",get:function(){return this.Xkt}},{key:"Tgt",get:function(){return this.Ukt}},{key:"oyt",get:function(){return this.nr.oyt||this.VH}},{key:"hwt",get:function(){return this.nr.hwt}},{key:"qkt",get:function(){return this.Vkt}},{key:"zkt",get:function(){return this.VH}}]),n}(bu);var nX=function(){function t(t,n,i){this.pb=t,this.Gkt=n,this.jkt=i,this.Qkt=0}var n=t.prototype;return n.Jb=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ykt(n,this.pb,this.Gkt,this.jkt).catch(cu);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zkt=function(){return new Date(Yt()+this.Qkt)},n.Ykt=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.Jkt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}ou(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.$kt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Qkt=void 0===u?0:u-Yt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.$kt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.kgt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.ru)){t.next=9;break}return t.next=8,this.Jkt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.ru)){t.next=15;break}if(o=new Date(s).getTime(),w(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Jkt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Kf({nv:i,mv:pf.GET,Zf:qo.ze,mo:r});case 3:return e=t.sent,t.next=6,e.Of();case 6:if(u=t.sent,s=new Date(u).getTime(),w(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),au(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),iX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Ayt=void 0,u.kZ=!0,u.Ukt=[],u.Kkt=void 0,u.tpt=n,u.npt=n.Gl,u.ipt=i,u.pb=r,u.rpt=e,u.ept=new nX(u.pb,u.rpt,u.tpt.upt),u}M(n,t);var i=n.prototype;return i.Xrt=function(t){var n=this.Pg;this.kZ=t,n!==this.Pg&&this.bo(new YV)},i.Ea=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v,d,l,_,g;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=[],s=[],o=n.iyt?b.Hu(n.iyt,this.npt):this.npt,void 0!==this.Ayt){t.next=10;break}return t.next=6,this.ept.Jb(n.cyt);case 6:this.Ayt=new tX(n,this.npt,o,this.Zkt()),this.Ayt.Eo(lV.fyt,this.Ao),t.next=11;break;case 10:this.Ayt.Ea(n,o,this.Zkt(),i);case 11:if(0===(a=this.Ayt.Tgt).length)c=this.Ukt.slice(),tu(this.Ukt);else{for(h=a[0].Dl,f=0;f<this.Ukt.length&&this.Ukt[f].Dl!==h;)f++;for(c=this.Ukt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<this.Ukt.length?l=this.Ukt[v]:(l=new jV(this,d),u.push(l)),s.push(l.Ea(this.ipt,r))}return t.next=15,T.all(s);case 15:for((e=this.Ukt).push.apply(e,u),_=0,g=c;_<g.length;_++)g[_].Akt();this.bo(new QV);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Zkt=function(){return this.ept.Zkt()},i.Nkt=function(t){var n=this.Ukt.indexOf(t);if(n>0)return this.Ukt[n-1]},i.Rkt=function(t){var n=this.Ukt.indexOf(t);if(n>=0&&n+1<this.Ukt.length)return this.Ukt[n+1]},i.wyt=function(){return this.Ayt?this.Ayt.wyt():void 0},i.Ryt=function(){return this.Ayt&&this.Ayt.Ryt()},i._kt=function(t){this.Ayt&&this.Ayt._kt(t)},i.Sv=function(){this.Io(),this.Kkt=void 0,this.Xrt(!1);for(var t=0,n=this.Ukt;t<n.length;t++){n[t].Sv()}tu(this.Ukt),this.Ayt&&this.Ayt.co()},L(n,[{key:"Kwt",get:function(){return this.Ayt&&this.Ayt.Kwt}},{key:"tyt",get:function(){return this.Ayt&&this.Ayt.tyt}},{key:"Dl",get:function(){return this.Ayt&&this.Ayt.pu.Dl}},{key:"qkt",get:function(){var t;return null===(t=this.Ayt)||void 0===t?void 0:t.qkt}},{key:"spt",get:function(){var t;return null===(t=this.Ayt)||void 0===t?void 0:t.zkt}},{key:"nyt",get:function(){return this.Ayt?this.Ayt.nyt.map(function(t){return t.href}):[this.Igt]}},{key:"Igt",get:function(){return this.npt.href}},{key:"ryt",get:function(){return this.Ayt&&this.Ayt.pu.ryt}},{key:"eyt",get:function(){return this.Ayt&&this.Ayt.pu.eyt}},{key:"Sgt",get:function(){return this.Ayt&&this.Ayt.pu.Sgt}},{key:"uyt",get:function(){return this.Ayt&&this.Ayt.pu.uyt}},{key:"syt",get:function(){var t,n,i=(null===(n=null===(t=this.Ayt)||void 0===t?void 0:t.pu.syt)||void 0===n?void 0:n.Ggt())||0;return l.max(i,eX)}},{key:"Pg",get:function(){return this.kZ}},{key:"Tgt",get:function(){return this.Ukt}},{key:"apt",get:function(){return this.Gs===GF.oS?this.Xyt:this.cpt}},{key:"hpt",get:function(){var t=this.apt;if(void 0!==t)for(var n=0,i=this.Tgt;n<i.length;n++){var r=i[n];if(r._I<=t&&r.wI>t)return r}}},{key:"pwt",get:function(){return this.Ayt&&this.Ayt.pu.pwt}},{key:"oyt",get:function(){return this.Ayt&&this.Ayt.oyt}},{key:"Dkt",get:function(){for(var t=this.Ukt.length-1;t>=0;t-=1){var n=this.Ukt[t].Dkt;if(n)return n}}},{key:"Xyt",get:function(){var t=this.Dkt;if(void 0!==t){var n=t-this.fpt;return l.max(n,this.cpt)}}},{key:"cpt",get:function(){for(var t=0,n=this.Ukt;t<n.length;t++){var i=n[t].gyt;if(void 0!==i)return i}}},{key:"bv",get:function(){return Boolean(this.tpt.bv)}},{key:"fpt",get:function(){var t=this.Ayt&&this.Ayt.pu.ayt;return t?t.Egt():this.Gs===GF.oS?this.Htt:0}},{key:"Htt",get:function(){return this.tpt.Htt?this.tpt.Htt:1.5*this.uyt.Egt()}},{key:"hwt",get:function(){return this.Ayt&&this.Ayt.hwt}},{key:"Gs",get:function(){return this.Ayt?this.Ayt.Gs:void 0}}]),n}(bu),rX=function(){function t(t,n,i,r){this.kkt=new iX(t,n,i,r)}return L(t,[{key:"Eyt",get:function(){return this.kkt}}]),t}(),eX=1e3,uX=l.pow(2,31)-1,sX=function(){function t(t,n,i,r){var e=this;this.vpt=new eu,this.dpt=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.Ayt.Eyt.Zkt(),t.next=4,e.lpt(e.Ayt.Eyt.nyt,n);case 4:return r=t.sent,t.next=7,e.Ayt.Eyt.Ea(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),Yw(t.t0)&&e.Ayt.Eyt.Xrt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.R8=r,this.Ayt=new rX(t,n,i,this.vpt.mo)}var n=t.prototype;return n.Ad=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ayt.Eyt.bo(new _S),t.prev=1,t.next=4,zM(this.dpt,n);case 4:this.Ayt.Eyt.Xrt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),au(t.t0),this._pt=void 0,this.Ayt.Eyt.Xrt(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.gpt=this.wpt(this.vpt.mo);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.wpt=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.Ayt.Eyt.Gs!==GF.oS){t.next=6;break}return t.next=4,hu(this.ypt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.mpt=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(n),!((i=this.kpt())>0)){t.next=6;break}return r=l.min(i,uX),t.next=6,yu(r,n);case 6:return t.prev=6,t.next=9,zM(this.dpt,n,1/0,eX,3e4);case 9:this.Ayt.Eyt.Xrt(!0);case 10:return t.prev=10,this.ppt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.kpt=function(){var t=this.Ayt.Eyt.Zkt().getTime()-this.Ayt.Eyt.qkt.getTime();return this.Ayt.Eyt.syt-t},n.Apt=function(t){var n=this.Ayt.Eyt.Ryt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Ayt.Eyt._kt(t);var r=this.Ayt.Eyt.Ryt();return r?r.getTime()-t.getTime():NaN},n.bpt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ppt||(this.ppt=this.mpt(n)),(i=new eu).wo(n),t.prev=3,t.next=6,T.race([this.ppt,this.Tpt(i.mo)].filter(Z));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),cu(t.t0);case 11:return t.prev=11,i._o(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.Tpt=function(t){var n=this.Ayt.Eyt.Zkt(),i=this.Apt(n);if(!w(i))return this.Ept(i,t)},n.Ept=function(){var t=T.coroutine(ve.mark(function t(n,i){var r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yu(n,i);case 2:r=this.Ayt.Eyt.Zkt(),this.Ayt.Eyt._kt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lpt=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.R8.T8(n,{},i,!1);case 2:return r=t.sent,e=new _V,t.abrupt("return",e.olt(r.l8,r.tv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Sv=function(){return this.vpt._o(),this.gpt=void 0,this._pt=void 0,this.ppt=void 0,this.Ayt.Eyt.Sv(),T.resolve()},L(t,[{key:"Spt",get:function(){return this.Ayt}},{key:"D0",get:function(){return this._pt||(this._pt=this.Ad(this.vpt.mo),_u(this._pt)),this._pt}},{key:"ypt",get:function(){return this.Ayt.Eyt.spt&&this.Ayt.Eyt.Gs===GF.oS?this.bpt(this.vpt.mo):this.D0}}]),t}(),oX=function(){function t(t,n,i){this.R8=t,this.Rpt=n,this.Ipt=i}var n=t.prototype;return n.Npt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!dl(i=n.type)){t.next=9;break}return t.next=6,this.Dpt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!vl(i)){t.next=15;break}return t.next=12,this.Cpt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Dpt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sH(n.src,this.R8);case 3:return i=t.sent,t.next=6,aH(i,this.R8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.Cpt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new sX({Gl:b.Hu(n.src),Htt:n.liveOffset,upt:n.timeServer,bv:n.useCredentials},this.Ipt,Nf.Ov,this.R8),t.next=4,i.D0;case 4:return t.next=6,FF(i.Spt.Eyt,n.contentProtection,this.Rpt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),aX=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Lf,MediaSource.isTypeSupported(i)||ty(n.BC,n.mJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.Agt){t.next=17;break}r=n.Agt,e=iu(r,function(t){return Fe(t.kgt)}).filter(Z),u=0;case 7:if(!(u<e.length)){t.next=16;break}return s=e[u],t.next=11,b.bs(s,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:u++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),cX=function(){function t(t){this.Opt=[],this.xpt=0,this.Ppt=t}var n=t.prototype;return n.Bpt=function(){var t=new Gs;return this.Opt.push(t),this.Lpt(),t.sa},n.Mpt=function(){var t=T.coroutine(ve.mark(function t(n,i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.xpt-=1,this.Lpt(),0===this.Opt.length&&0===this.xpt&&i.oa(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Lpt=function(){this.Opt.length>0&&this.xpt<this.Ppt&&(this.Opt.shift().oa(),this.xpt+=1)},t}();function hX(t,n){for(var i=0,r=0,e=t.JA.QK.map(function(t){return t.S_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var fX=function(t){function n(n,i,r,e,u,s,o,a){var c;void 0===a&&(a=aX),(c=t.call(this)||this).Upt=new Gs,c.Fpt=SF.ggt(),c.N8=n,c.i0=i,c.R8=r,c.Hpt=e,c.Vpt=u,c.Rpt=s,c.Ipt=a,c.ngt=o,c.Xpt=-1;var h=c.N8.JR.sources[0];return c.Wpt=h,c.z_=c.fg(),c.qpt=new cX(c.N8.ic.parallelTasksThreshold),c}M(n,t);var i=n.prototype;return i.fg=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,_,g,w,y,m,k,p,A,b,T,E,S,R,I,N,D=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new oX(this.R8,this.Rpt,this.Ipt),t.next=3,i.Npt(this.Wpt);case 3:return this.OJ=t.sent,r=this.N8.ic.amount,e=this.OJ.S_,u=NF(r,e),this.vgt=u,o=QC(this.OJ.Rgt[0]),t.next=11,this.i0.jK.qK(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return $e(t.references,D.N8.Dl)}),c=[],h=this.N8.ic.bandwidth,f=0,v=this.OJ.Tgt;f<v.length;f++)for(d=v[f],_=0,g=d.Dgt;_<g.length;_++)for(w=g[_],y=0,m=lX(w.Yk);y<m.length;y++)for(k=m[y],p=0,A=_X(k.Bl,h);p<A.length;p++)b=A[p],c.push(b);if(this.Xpt=l.ceil(c.map(function(t){return t.VS*hX(t,u)/8}).reduce(function(t,n){return t+n},0)),T=_e(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new nA(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.BI(e).xI(5e-4);else{var u=Qe(c,function(t){return t.Dl===r}),s=l.min(D.vgt,null!==(n=null==u?void 0:u.JA.S_)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new SF(E,T,this.vgt)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.Dl,{timeRanges:nA.KI(),totalQualityDurationToCache:l.min(N.JA.S_,this.vgt)});s=new SF(0,T,this.vgt)}this.zpt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gpt=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.z_;case 2:return t.next=4,this.jpt(this.OJ,n);case 4:return t.next=6,this.Upt.sa;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jpt=function(){var t=T.coroutine(ve.mark(function t(n,i){var r,e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Rgt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.Qpt();case 4:for(r=[],e=0,u=n.Tgt;e<u.length;e++)s=u[e],r.push(this.Ypt(s,n.Rgt[0],i));return t.abrupt("return",T.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Qpt=function(){var t=T.coroutine(ve.mark(function t(){var n,i,r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hpt.WK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.i0.YK.jo(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,vX(e,this.N8.Dl,this.i0.YK,this.ngt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.i0.YK.HK(r,this.ngt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new CF("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.Hpt.GK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.Ypt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Dgt;u<s.length;u++)for(o=s[u],a=lX(o.Yk),c=0;c<a.length;c++)h=a[c],e.push(this.Zpt(h,i,r));return t.abrupt("return",T.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Zpt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.N8.ic.bandwidth,u=_X(n.Bl,e),n.Gs!==h_.wv||!n.Pgt||!n.Pgt.BT.widevine||"persistent"!==n.Pgt.BT.widevine.licenseType){t.next=6;break}return t.next=5,this.Jpt(n.Pgt);case 5:ou(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.$pt(a,i,r));return t.abrupt("return",T.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$pt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ou(r),!n.K9){t.next=7;break}return e={ew:0,S_:0,Vgt:n.K9},t.next=5,this.qpt.Bpt();case 5:ou(r),_u(this.qpt.Mpt(this.Kpt(e,n,i),this.Upt));case 7:u=n.JA.QK[0].ew,s=u+this.vgt,o=0,a=n.JA.QK;case 10:if(!(o<a.length)){t.next=22;break}if(!((c=a[o]).ew>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.qpt.Bpt();case 16:return t.next=18,this.tAt(r);case 18:_u(this.qpt.Mpt(this.Kpt(c,n,i),this.Upt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tAt=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==n?void 0:n.eo)){t.next=4;break}return t.next=3,this.Upt.sa;case 3:throw new uu;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nAt=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.z_;case 2:return t.abrupt("return",this.OJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jpt=function(t){return T.resolve()},i.iAt=function(){var t=T.coroutine(ve.mark(function t(){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return dt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Kpt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s,o,a,c,h,f=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.i0.jK,u=YC(n.Vgt.nv,n.Vgt.FY),t.next=4,e.jo(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,vX(s,this.N8.Dl,e,this.ngt);case 8:this.rAt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.eAt(n.Vgt);case 14:return o=t.sent,a=this.uAt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this.i0.$K(function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.jK.HK(c,f.ngt);case 2:return t.next=4,n.QK.HK(h,f.ngt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.rAt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new CF("Unable to store segment with url: "+n.Vgt.nv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eAt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vpt.sAt(n,!1);case 2:return i=t.sent,t.next=5,this.oAt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oAt=function(){var t=T.coroutine(ve.mark(function t(n){var i;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Pf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.uAt=function(t,n,i,r){var e=YC(t.Vgt.nv,t.Vgt.FY),u=t.ew,s=t.S_,o=this.aAt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:QC(i),qualityId:n.Dl,byteSize:o,startsAndEnds:new nA([u,u+s]).mI,references:[this.N8.Dl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:QC(i),data:r}}},i.aAt=function(t){return t.buffer.byteLength},i.rAt=function(t,n){var i=t.qualityId,r=this.Fpt,e=r.Ug;e.get(i).timeRanges=e.get(i).timeRanges.BI(new nA(t.startsAndEnds)).xI(5e-4),this.zpt=new SF(n?r.wgt+t.byteSize:r.wgt,e,this.vgt)},L(n,[{key:"cAt",get:function(){return this.Xpt}},{key:"zpt",get:function(){return this.Fpt},set:function(t){this.Fpt.bw(t)||(this.Fpt=t,t.bw(SF.ggt())||this.bo(new EF))}}]),n}(bu);function vX(t,n,i,r){return dX.apply(this,arguments)}function dX(){return(dX=T.coroutine(ve.mark(function t(n,i,r,e){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if($e(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.HK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lX(t){return t.length?[t[0]]:[]}function _X(t,n){if(!t.length)return[];var i=[].concat(t).sort(bF),r=i.filter(function(t){return t.VS<=n});return r.length>0?[r.pop()]:[i.shift()]}var gX=function(){function t(t){this.zE=new _y,this.pb=t}var n=t.prototype;return n.Kf=function(t){var n=this,i=new Gs;return this.zE.Ob(function(r){return n.hAt(i,t,r)},t.mo).catch(S),i.sa},n.Ev=function(t){return this.pb.Ev(t)},n.hAt=function(){var t=T.coroutine(ve.mark(function t(n,i,r){var e,u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ou(r),e=new Sf({nv:i.nv,mo:r},i),u=this.pb.Kf(e),n.oa(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.Xf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Sv=function(){this.zE.Sv()},t}(),wX=function(){function t(t){this.pb=t,this.fAt=new gX(this.pb)}var n=t.prototype;return n.sAt=function(t,n,i){return this.hit(t,n,!0,!1,void 0,i)},n.vAt=function(t,n,i,r){return this.hit(t,n,!1,!1,i,r)},n.dAt=function(t,n,i,r){return this.hit(t,n,!1,!0,i,r)},n.hit=function(){var n=T.coroutine(ve.mark(function n(i,r,e,u,s,o){var a;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ou(o),n.next=3,this.lAt(i,e,u,s,o);case 3:if(a=n.sent,!r){n.next=8;break}return n.abrupt("return",t._At(a));case 8:return n.abrupt("return",this.gAt(a));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u,s){return n.apply(this,arguments)}}(),n.gAt=function(t){return t},t._At=function(t){return t},n.lAt=function(t,n,i,r,e){var u=new Sf({nv:t.nv,Zf:qo.gh,Yf:t.FY?{Range:"bytes="+t.FY[0]+"-"+t.FY[1]}:void 0,bv:t.bv,mv:pf.GET,Gs:Af.sv,pv:i?bf.av:bf.ev,Av:this.wAt,kv:r,mo:e});return n?this.fAt.Kf(u):this.pb.Kf(u)},L(t,[{key:"wAt",get:function(){return Tf.ev}}]),t}(),yX=function(){function t(t){this.pb=t}return t.prototype.ukt=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pb.Kf({nv:n,Zf:qo.gh,Yf:{Range:"bytes="+i[0]+"-"+i[1]},bv:r,mv:pf.GET,Gs:Af.ev,mo:e});case 2:return u=t.sent,t.next=5,u.Pf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),mX=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).bht=n,e}return M(n,t),n}(un),kX=function(){function t(t){this.E8=t}return t.prototype.ukt=function(){var t=T.coroutine(ve.mark(function t(n,i,r,e){var u,s;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.E8.A8(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.E8.A8(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",Xs(new y(s.buffer),i[0],i[1]));case 10:throw new mX({nv:n,FY:i,bv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),pX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new nA([0,0]).mI,references:[]},AX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},bX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).yAt=new yX(i),s.i0=r,s.mAt=e,s.ngt=u,s}M(n,t);var i=n.prototype;return i.ukt=function(){var n=T.coroutine(ve.mark(function n(i,r,e,u){var s;return ve.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.ukt.call(this,i,r,e,u);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),au(n.t0);case 9:return n.next=11,this.yAt.ukt(i,r,e,u);case 11:return s=n.sent,n.next=14,this.kAt(i,r,s);case 14:return n.abrupt("return",s);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.kAt=function(){var t=T.coroutine(ve.mark(function t(i,r,e){var u,s,o,a,c,h,f,v=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.mAt){t.next=2;break}return t.abrupt("return");case 2:return u=this.i0.jK,s=YC(i,r),t.next=6,u.jo(s);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,vX(o,this.mAt,u);case 10:t.next=22;break;case 12:return t.prev=12,a={buffer:e},c=n.uAt(s,a,this.mAt),h=c.segmentMetadataEntry,f=c.segmentEntry,t.next=17,this.i0.$K(function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.jK.HK(h,v.ngt);case 2:return t.next=4,n.QK.HK(f,v.ngt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new CF("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.uAt=function(t,n,i){return{segmentMetadataEntry:de(de({},pX),{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:de(de({},AX),{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(kX);var TX=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.pAt=function(t,n,i,r,e,u,s){return new fX(t,n,i,r,e,u,s)},n}(function(){function t(t){this.pb=t}return t.prototype.Sj=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.JR.sources[0].useCredentials),e=new wX(this.pb),u=new XP(this.pb,r),s=new WP(n.YK,n.jK,n.QK,n.JK),o=function(t,n,i,r,e){return new bX(n,t,i,r,e)}(this.pb,s,n,t.Dl,i),a=new VC,c=new QP(jP(u,s),a,t);return this.pAt(t,n,c,a,e,o,i)},t}());function EX(t){var n,i={get id(){return t.Dl},get status(){return t.Qf},get source(){return t.JR},get parameters(){return t.ic},get duration(){return t.S_},get cached(){return t.AAt.CR()},get secondsCached(){return t.bAt},get percentageCached(){return t.TAt},get bytes(){return t.EAt},get bytesCached(){return t.SAt},get license(){return t.JC.Vd},start:function(){t._I()},pause:function(){t.eg()},remove:function(){t.Ta()},addEventListener:function(t,i){n.Eo(t,i)},removeEventListener:function(t,i){n.No(t,i)}};return n=new aE(t,i),i}var SX=function(){function t(t,n,i){this.N8=t,this.i0=n,this.OJ=i}var n=t.prototype;return n.RAt=function(){var t=T.coroutine(ve.mark(function t(){var n=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.i0.$K(function(){var t=T.coroutine(ve.mark(function t(i){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.IAt(i);case 2:return t.next=4,n.NAt(i);case 4:return t.next=6,n.DAt(i);case 6:return t.next=8,n.CAt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.IAt=function(){var t=T.coroutine(ve.mark(function t(n){var i,r;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.ZK,r=this.N8.Dl,t.next=4,i.Ta(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NAt=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o,a=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.jK,r=n.QK,e=QC(this.N8.JR.sources[0].src),t.next=5,i.qK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return $e(t.references,a.N8.Dl)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(Ze((o=u[s]).references,this.N8.Dl),0!==o.references.length){t.next=17;break}return t.next=13,i.Ta(o.key);case 13:return t.next=15,r.Ta(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.HK(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.DAt=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s,o=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.YK,r=this.OAt(),t.next=4,i.XK(r);case 4:e=t.sent.filter(function(t){return $e(t.references,o.N8.Dl)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(Ze((s=e[u]).references,this.N8.Dl),0!==s.references.length){t.next=14;break}return t.next=12,i.Ta(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.HK(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.OAt=function(){if(!this.OJ)return[];var t=QC(this.N8.JR.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.Tgt;i<r.length;i++)for(var e=0,u=r[i].Dgt;e<u.length;e++)for(var s=0,o=u[e].Yk;s<o.length;s++)for(var a=0,c=o[s].Bl;a<c.length;a++){var h=c[a];h.qgt&&n.push(h.qgt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.OJ).map(function(t){return{src:t}}).map(function(t){return QC(t.src)});return[t].concat(n)},n.CAt=function(){var t=T.coroutine(ve.mark(function t(n){var i,r,e,u,s=this;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.JK,t.next=3,i.WK();case 3:r=t.sent.filter(function(t){return $e(t.references,s.N8.Dl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Ze((u=r[e]).references,this.N8.Dl),0!==u.references.length){t.next=14;break}return t.next=11,i.Ta(u.key);case 11:this.xAt(u),t.next=16;break;case 14:return t.next=16,i.HK(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xAt=function(t){},t}(),RX=new(function(){function t(){}return t.prototype.Sj=function(t,n,i){return new SX(t,n,i)},t}());var IX=function(){function t(t,n){this.cn=t,this.PAt=n}var n=t.prototype;return n.F4=function(t){this.BAt(t)},n.BAt=function(){var t=T.coroutine(ve.mark(function t(n){return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.PAt.iAt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.cn.rgt(hF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"Vd",get:function(){var t;return this.Hd||(this.Hd=(t=this,{renew:function(n){t.F4(n)}})),this.Hd}}]),t}(),NX=function(t){function n(n,i,r,e,u,s){var a;(a=t.call(this)||this).LAt=new eu,a.evictOnLoading=function(){a.No("X_t",a.evictOnLoading),a.MAt()},a.qg=n,a.cdt=i,a.UAt=r,a.i0=e,a.PAt=u.Sj(rn(a),a.i0,s),a.FAt=new IX(rn(a),a.PAt),a.K_t=1===a.PAt.zpt.ygt?hF.DONE:hF.IDLE,a.PAt.Eo("fK",function(t){a.Ao(t),1===a.TAt&&a.rgt(hF.DONE)});var c=new Date,h=a.UAt.expirationDate.getTime()-c.getTime();return h<2147483647&&o(function(){return a.MAt()},h),a}M(n,t);var i=n.prototype;return i.rgt=function(t){this.K_t!==t&&(this.K_t=t,this.bo(new vF))},i._I=function(){this.K_t===hF.EVICTED||this.K_t===hF.DONE||this.HAt()},i.HAt=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.rgt(hF.LOADING),n=new eu,this.LAt=n,t.next=6,this.PAt.Gpt(n.mo);case 6:this.rgt(hF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),su(t.t0)?this.rgt(hF.IDLE):this.rgt(hF.ERROR);case 12:return t.prev=12,this.LAt.co(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.eg=function(){this.LAt._o()},i.Ta=function(){this.Qf===hF.LOADING?(this.Eo("X_t",this.evictOnLoading),this.eg()):this.MAt()},i.MAt=function(){var t=T.coroutine(ve.mark(function t(){var n;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.PAt.nAt();case 3:return n=t.sent,t.next=6,RX.Sj(this,this.i0,n).RAt();case 6:this.PAt.zpt=SF.ggt(),this.rgt(hF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.rgt(hF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=EX(this)),this.Hd}},{key:"Dl",get:function(){return this.qg}},{key:"JC",get:function(){return this.FAt}},{key:"Qf",get:function(){return this.K_t}},{key:"JR",get:function(){return this.cdt}},{key:"ic",get:function(){return this.UAt}},{key:"S_",get:function(){return this.PAt.zpt.YI}},{key:"AAt",get:function(){return this.PAt.zpt._gt}},{key:"bAt",get:function(){return this.PAt.zpt.lgt}},{key:"TAt",get:function(){return this.PAt.zpt.ygt}},{key:"EAt",get:function(){return this.PAt.cAt}},{key:"SAt",get:function(){return this.PAt.zpt.wgt}}]),n}(Jd);var DX=function(){function t(t,n){this.i0=t,this.VAt=n}var n=t.prototype;return n.ogt=function(t,n,i){var r=Xb();return this.ugt(r,t,n,i)},n.ugt=function(t,n,i,r){return new NX(t,n,i,this.i0,this.VAt,r)},t}(),CX=30,OX=5;function xX(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(nt(t)&&!wr(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,nt(i)&&wr(i,"%")){var n=g(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!nt(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+CX),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(et(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return OX;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var PX=function(t){function n(n,i){var r;return(r=t.call(this)||this).XAt=n,r.YB=i,r.XAt.Eo("X_t",r.Ao),r}return M(n,t),n.prototype.WAt=function(t,n,i){var r,e;if(!t)throw new f("Unexpected - The source description is undefined");if(r=vb(t),e=xX(n),ib(r))throw new f("Invalid source description");return this.XAt.ugt(r,e).Vd},L(n,[{key:"Vd",get:function(){var t,n,i;return this.Hd||(this.Hd=(i={get status(){return t.Qf},get tasks(){return t.hgt},get network(){return t.sL.Vd},createTask:function(n,i){return t.WAt(n,i)},addEventListener:function(t,i){n.Eo(t,i)},removeEventListener:function(t,i){n.No(t,i)}},n=new aE(t=this,i),i)),this.Hd}},{key:"Qf",get:function(){return this.XAt.Qf}},{key:"hgt",get:function(){return this.XAt.hgt.Vd}},{key:"sL",get:function(){return this.YB}}]),n}(Jd);(BX=new WT(b.Bd,!1),LX=jC.Ve,MX=new TX(BX),UX=new DX(LX,MX),FX=new zT(BX),HX=new AF(LX.ZK,UX,"persistent"),new PX(HX,FX)).Vd;var BX,LX,MX,UX,FX,HX,VX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).mF=0,u.qAt=nA.KI(),u.zAt=0,u.GAt=0,u.qg=n,u.K_t=hF.IDLE,u.cdt=i,u.UAt=r,u.XAt=e,u}M(n,t);var i=n.prototype;return i._I=function(){this.XAt.startCachingTask(this)},i.Ta=function(){this.XAt.removeCachingTask(this)},L(n,[{key:"Vd",get:function(){return this.Hd||(this.Hd=EX(this)),this.Hd}},{key:"Dl",get:function(){return this.qg}},{key:"Qf",get:function(){return this.K_t},set:function(t){this.K_t!==t&&(this.K_t=t,this.bo(new vF))}},{key:"JR",get:function(){return this.cdt}},{key:"ic",get:function(){return this.UAt}},{key:"S_",get:function(){return this.mF},set:function(t){this.mF=t}},{key:"AAt",get:function(){return this.qAt},set:function(t){this.qAt=t}},{key:"bAt",get:function(){return this.zAt},set:function(t){this.zAt=t}},{key:"TAt",get:function(){return this.GAt},set:function(t){this.GAt=t,this.bo(new EF)}}]),n}($d),XX=30;function WX(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+XX),n&&((i=n)&&!(et(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var qX=function(t){function n(){var n;return(n=t.call(this)||this).K_t=gF.UNINITIALISED,n.Ib=new pF,n.jAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Qf=hF.EVICTED,i.TAt=0,i.bAt=0,i.S_=0,i.AAt=nA.KI(),n.Ib.Ta(i))}},n.QAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.Qf=r);var e=t.detail.percentage;e&&(i.TAt=e);var u=t.detail.duration;u&&(i.S_=u);var s=t.detail.seconds;s&&(i.bAt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.AAt=new nA(a)}}}},n.YAt=function(t){if(t.detail){var i=vb(JSON.parse(t.detail.source));if(!n.ZAt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.ugt(i,WX(r),u)}}},n.JAt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.ugt(vb(e),WX(i),u);s.Qf=t.detail.status,s.TAt=t.detail.percentage,s.S_=t.detail.duration,s.bAt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.AAt=new nA(a)}},n.$At=function(t){t.detail&&n.rgt(t.detail.status)},n.Ult=new sF,n.r_t=new FU,xU().cache={sdkEventBus:n.r_t},n.c$(),n}M(n,t);var i=n.prototype;return i.rgt=function(t){this.K_t!==t&&(this.K_t=t,this.bo(new vF))},i.ugt=function(t,n,i){void 0===i&&(i=void 0);var r=new VX(i||Xb(),t,n,this);return this.Ib.Fg(r),i||this.Ult.sj("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Dl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.Ib.Y_t;n<i.length;n++){var r=i[n];if(r.Dl===t)return r}},i.ZAt=function(t){for(var n=GX(t.sources),i=0,r=this.Ib.Y_t;i<r.length;i++){if(GX(r[i].JR.sources).src===n.src)return!0}return!1},i.c$=function(){this.r_t.addEventListener("deleteTask",this.jAt),this.r_t.addEventListener("updateValues",this.QAt),this.r_t.addEventListener("newTask",this.YAt),this.r_t.addEventListener("restoreTask",this.JAt),this.r_t.addEventListener("setCacheStatus",this.$At)},i.startCachingTask=function(t){this.Ult.sj("THEOplayerCacheStartCachingTask",{id:t.Dl})},i.removeCachingTask=function(t){this.Ult.sj("THEOplayerCacheRemoveCachingTask",{id:t.Dl})},L(n,[{key:"Qf",get:function(){return this.K_t}},{key:"hgt",get:function(){return this.Ib}}]),n}(bu),zX=function(t){function n(n){var i;return(i=t.call(this,n)||this).KAt=n,i.KAt.Eo("X_t",i.Ao),i}return M(n,t),n.prototype.WAt=function(t,n){var i,r;if(!t)throw new f("Unexpected - The source description is undefined");if(i=vb(t),r=WX(n),ib(i))throw new f("Invalid source description");if(!GX(i.sources))throw new f("The provided sources can't be cached");return this.KAt.ugt(i,r).Vd},n}(PX);function GX(t){for(var n=0;n<t.length;n++){var i=t[n];if(dl(i.type))return i}}var jX,QX,YX=function(){var t=new qX;return new zX(t)}().Vd;!function(t){t.tbt="any",t.nbt="natural",t.ibt="landscape",t.rbt="portrait",t.ebt="portrait-primary",t.ubt="portrait-secondary",t.sbt="landscape-primary",t.obt="landscape-secondary"}(jX||(jX={})),function(t){t.ebt="portrait-primary",t.ubt="portrait-secondary",t.sbt="landscape-primary",t.obt="landscape-secondary"}(QX||(QX={}));var ZX,JX,$X=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ult=new sF,n.abt=jX.nbt,n.cbt=QX.ebt,n.hbt=QX.ebt,n.fbt=QX.ebt,n}M(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,r){n.abt=t,n.Ult.sj("THEOplayerOrientationLock",t),n.vbt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.abt=jX.nbt,t.Ult.sj("THEOplayerOrientationUnlock"),t.type=t.hbt,t.vbt(),n()})},i.vbt=function(){var t=this.fbt,n=this.type;t!==n&&(this.fbt=n,this.bo(new Eu("change")))},i.addEventListener=function(t,n){this.Eo(t,n)},i.removeEventListener=function(t,n){this.No(t,n)},n.dbt=function(t){switch(t){case jX.ebt:return[QX.ebt];case jX.ubt:return[QX.ubt];case jX.rbt:return[QX.ebt,QX.ubt];case jX.sbt:return[QX.sbt];case jX.obt:return[QX.obt];case jX.ibt:return[QX.sbt,QX.obt];case jX.nbt:return[QX.ebt,QX.sbt,QX.obt];case jX.tbt:return[QX.ebt,QX.ubt,QX.sbt,QX.obt]}},n.lbt=function(t,i){return n.dbt(i).indexOf(t)>=0},L(n,[{key:"type",get:function(){return this.cbt},set:function(t){this.hbt=t,n.lbt(t,this.abt)?(this.cbt=t,this.vbt()):(t===QX.sbt&&this.abt===jX.obt&&(this.cbt=QX.obt,this.vbt()),t===QX.obt&&this.abt===jX.sbt&&(this.cbt=QX.sbt,this.vbt()))}},{key:"angle",get:function(){switch(this.type){case QX.sbt:return-90;case QX.obt:return 90;case QX.ebt:return 0;case QX.ubt:return 180;default:return 0}}}]),n}($d);$X.Ve=new $X,r.screen.orientation=$X.Ve,s&&-1===s.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t._bt="unavailable",t.gbt="available",t.wbt="presenting"}(ZX||(ZX={})),FE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return M(n,t),n.prototype.og=function(n){t.prototype.og.call(this,n);var i=this.Vd;this.Vd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===ZX.wbt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(jX.obt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},CE.cL),function(t){t.Ld="addtrack",t.Ud="removetrack",t.tl="change",t.al="update"}(JX||(JX={}));var KX=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=JX.tl},tW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=JX.Ld},nW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=JX.Ud},iW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=JX.al},rW=function(){function t(t,n,i){var r=this;this.ybt=function(t){var n=new KX(r.type,t.track,r.mediaTracks);r.messageDispatcher.mbt(n)},this.kbt=function(t){var n=new tW(r.type,t.track);r.messageDispatcher.mbt(n),t.track.addEventListener("update",r.pbt)},this.Abt=function(t){var n=new nW(r.type,t.track);r.messageDispatcher.mbt(n)},this.pbt=function(t){var n=new iW(r.type,t.track);r.messageDispatcher.mbt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.c$()}return t.prototype.c$=function(){this.mediaTracks.addEventListener("change",this.ybt),this.mediaTracks.addEventListener("addtrack",this.kbt),this.mediaTracks.addEventListener("removetrack",this.Abt)},t}(),eW=function(){function t(){this.bbt=new sF}return t.prototype.mbt=function(t){this.bbt.sj(t.type,eU(t))},t}();XE(function(t){if(t.Vd.audioTracks){var n=new eW;new rW("audio",t.Vd.audioTracks,n)}if(t.Vd.videoTracks){var i=new eW;new rW("video",t.Vd.videoTracks,i)}});var uW,sW,oW=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case uW.Tbt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.bo(new aW(i));break;default:0}},n}(FU),aW=function(t){function n(n){var i;return(i=t.call(this,uW.Tbt)||this).detail=n,i}return M(n,t),n}(Eu);!function(t){t.Tbt="registerContentProtectionIntegration"}(uW||(uW={})),function(t){t.Ebt="certifiateRequest",t.Sbt="certifiateResponse",t.Rbt="licenseRequest",t.Ibt="licenseResponse",t.Nbt="extractFairplayContentId",t.Dbt="buildContentProtection",t.Cbt="registerContentProtectionCallback"}(sW||(sW={}));var cW,hW,fW=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Cbt};!function(t){t.VOD="vod",t.LIVE="live"}(cW||(cW={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(hW||(hW={}));var vW,dW=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Dbt},lW=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Ebt},_W=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Sbt},gW=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Nbt},wW=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Rbt},yW=function(t,n){this.value=t,this.integrationId=n,this.type=sW.Ibt},mW=function(){function t(t,n){this.Obt=t,this.Xb=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=T.coroutine(ve.mark(function t(i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new lW(r,this.Xb),t.prev=2,t.next=5,this.Obt.xbt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.Pbt(s)){t.next=13;break}return o=de({},s),t.abrupt("return",o);case 13:if(!this.Bbt(s)){t.next=16;break}return a=new y(s),t.abrupt("return",a);case 16:throw new u_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new u_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=T.coroutine(ve.mark(function t(i){var r,e,u,s,o;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new _W(e,this.Xb),t.next=5,this.Obt.xbt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new y(o));case 11:throw new u_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=T.coroutine(ve.mark(function t(i){var r,e,u,s,o,a,c;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new wW(e,this.Xb),t.prev=3,t.next=6,this.Obt.xbt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.Pbt(o)){t.next=14;break}return a={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 14:if(!this.Bbt(o)){t.next=17;break}return c=new y(o),t.abrupt("return",c);case 17:throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new u_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=T.coroutine(ve.mark(function t(i){var r,e,u,s,o,a;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=de(de({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new yW(u,this.Xb),t.next=6,this.Obt.xbt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new y(a));case 12:throw new u_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=T.coroutine(ve.mark(function t(i){var r,e;return ve.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new gW(i,this.Xb),t.next=3,this.Obt.xbt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",T.reject(new u_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Pbt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Bbt=function(t){return!!new y(t)},t}(),kW=function(){function t(t){this.Obt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new mW(this.Obt,t.integration),i=new dW({drmConfiguration:t},t.integration);return this.Obt.xbt(i),n},t}(),pW=function(){var t=this;this.Lbt=function(n){var i=new kW(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:Vy.Qb.qb(e,u,i)};t.messageDispatcher.xbt(new fW(s,e))},this.r_t=new oW,xU().contentProtectionIntegration={sdkEventBus:this.r_t},this.r_t.addEventListener(uW.Tbt,this.Lbt)},AW="nativePromiseCallback",bW=function(t){function n(n){var i;return(i=t.call(this,AW)||this).detail=n,i}return M(n,t),n}(Eu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(vW||(vW={}));var TW=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.bo(new bW(n))},i.addEventListener=function(t,n){this.Eo(t,n)},i.removeEventListener=function(t,n){this.No(t,n)},n}(FU),EW=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case vW.RESOLVE:i.oa(n.detail.data);break;case vW.REJECT:i.aa(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new TW;xU().nativePromise={sdkEventBus:n},n.addEventListener(AW,this.handleNativePromiseEvent)}return t.prototype.xbt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=de(de({},n),{promiseId:r}),u=new Gs;return this.promisesMap[r]=u,null===(i=this.bbt)||void 0===i||i.sj(n.type,iU(e)),u.sa},t}();EW.messageIdTracker=-1;var SW,RW=function(t){function n(){var n;return(n=t.call(this)||this).bbt=new sF,n}return M(n,t),n}(EW),IW=function(t){function n(){var n;return(n=t.call(this)||this).Obt=new RW,n}return M(n,t),L(n,[{key:"messageDispatcher",get:function(){return this.Obt}}]),n}(pW);XE(function(t){new IW}),function(t){t.Mbt="airplaystatechange"}(SW||(SW={}));var NW=function(t){this.state=t,this.type=SW.Mbt},DW=function(t){function n(n){var i;return(i=t.call(this)||this).Ubt=function(t){var n=new NW(t.state);i.mbt(n)},i.Fbt=n,i.c$(n),i}return M(n,t),n.prototype.c$=function(t){t.addEventListener("statechange",this.Ubt)},n}(eW);XE(function(t){var n;(null===(n=t.Vd.cast)||void 0===n?void 0:n.airplay)&&new DW(t.Vd.cast.airplay)}),n.ChromelessPlayer=eS,n.Player=eS,n.cache=YX,n.createGlobals=LU,n.features=["hls","airplay"],n.getCueMirrorMap=PU,n.getGlobalId=BU,n.getSdkEventBridge=xU,n.playerSuiteVersion="2021.2.2",n.players=oS,n.registerContentProtectionIntegration=aS,n.utils=sS,n.version="2.86.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
