/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.3.2 (2.89.1)
 Created: 2021-09-29T08:55:47.453Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,s=t.location,u=t.navigator,o=t.setTimeout,h=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,g=t.parseFloat,w=t.isNaN,y=t.Uint8Array,m=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest),p="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function A(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T=A(function(n,s){n.exports=function t(n,r,e){function s(o,h){if(!r[o]){if(!n[o]){var a="function"==typeof i&&i;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new f("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var v=r[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return s(i||t)},v,v.exports,t,n,r,e)}return r[o].exports}for(var u="function"==typeof i&&i,o=0;o<e.length;o++)s(e[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new f}catch(t){r=t}var e=t("./schedule"),s=t("./queue"),u=t("./util");function h(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function v(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}h.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},h.prototype.hasCustomScheduler=function(){return this.g},h.prototype.enableTrampoline=function(){this.M=!0},h.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},h.prototype.haveItemsQueued=function(){return this.R||this.B},h.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},h.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(h.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){o(function(){t.call(n,i)},100)})},h.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},h.prototype.settlePromises=function(t){this.M?v.call(this,t):this.F(function(){t.j()})}):(h.prototype.invokeLater=a,h.prototype.invoke=c,h.prototype.settlePromises=v),h.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},h.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},h.prototype.Y=function(){this.R=!1},n.exports=h,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),s=r(null);e[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var s="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(s)}return e}(t,r);return e.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(r){var e=(void 0)();n=null!==e?e:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Ct=function(){this.Dt=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=u(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Ct(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var v=t[c];if(v===f||null!=v&&v.prototype instanceof f){if(h instanceof v)return e(u).call(a,h)}else if("function"==typeof v){var d=e(v).call(a,h);if(d===s)return d;if(d)return e(u).call(a,h)}else if(i.isObject(h)){for(var l=r(v),_=0;_<l.length;++_){var g=l[_];if(v[g]!=h[g])continue t}return e(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,s=t.prototype.Ht,u=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=s,t.Vt=u,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,s,u,h=n.Xt,a=n.ct,c=t("./errors").Warning,l=t("./util"),g=t("./es5"),w=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==l.env("BLUEBIRD_DEBUG")),E=!(0==l.env("BLUEBIRD_WARNINGS")||!T&&!l.env("BLUEBIRD_WARNINGS")),S=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;o(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",s,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=h();s="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=h();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?l.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Dt}function U(t){this.Dt=t}function F(){this.kt=void 0,this.Dt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.sn=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.un=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.un=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.sn=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.ut(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,s=new c(t);if(i)r.Pt(s);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}x("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),s=e&&K(r);e&&!s&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:_(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var s=n[r].stack;void 0===i[s]&&(i[s]=r)}for(var r=0;r<t;++r){var u=n[r].stack,o=i[u];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,s=n[e],u=-1,o=r.length-1;o>=0;--o)if(r[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,p=t,A=n;var i=f.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var r,e=new f;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof f.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var s="",u="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){r=a.fileName,o=a.line;break}}u<0||o<0||!i||!r||i!==r||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return h(i,f),i}var d=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(a(this,"message",t.message),a(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),s=0;s<e.length;++s)e[s]=t+e[s];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,f);var p=f.vn;p||(p=u({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),s.defineProperty(f,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return u}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.CancellationError,u=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Zt())}function d(t){if(!c(this,t))return u.e=t,u}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var v=i(h,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Ot()){var l=new s("late cancellation observer");return e.Pt(l),u.e=l,u}v.isPending()&&v.rn(new a(this))}return v.J(f,d,void 0,this,void 0)}}}return e.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,s=new Array(i-1),u=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(h)));s[u++]=h}s.length=u;var a=arguments[r];return this.dn(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,v=a.tryCatch,l=[];function _(t,i,e,s){if(u.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=s,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(l):l,this.pn=null,this.An=!1}a.inherits(_,s),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,u.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=v(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=v(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=v(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=v(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Cn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Dn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var s=e(r,this._n);if(s instanceof n||null!==(s=function(t,i,r){for(var s=0;s<i.length;++s){r.Ft();var u=v(i[s])(t);if(r.Ht(),u===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(u,r);if(h instanceof n)return h}return null}(s,this.kn,this._n))){var u=(s=s.st()).K;0==(50397184&u)?(this.pn=s,s.On(this,null)):0!=(33554432&u)?n.ct.invoke(this.In,this,s.xn()):0!=(16777216&u)?n.ct.invoke(this.Nn,this,s.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=_,e=(new f).stack;return function(){var n=t.apply(this,arguments),s=new r(void 0,void 0,i,e),u=s.promise();return s.mn=n,s.In(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Cn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function d(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===s?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,s){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var u=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+h.classString(e.concurrency)));u=e.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new d(t,i,u,s).promise()}h.inherits(d,i),d.prototype.Hn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.In=function(t,i){var r=this.Vn,s=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,s),_=f.Ht();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.st()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(r,o):this.zn(r),!0)},d.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},d.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,s=0;s<i;++s)t[s]&&(r[e++]=n[s]);r.length=e,this.zn(r)},d.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),u=r.Ht();return s.checkForgottenReturns(e,u,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+u.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return s.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===u.errorObj?this.Dn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var s=i[e];h.test(s)||(n[s]=t[s])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var s=a(e(i));t.Pt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=e(n).apply(this.et(),[null].concat(t));u===s&&r.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?e(n).call(i,null):e(n).call(i,null,t);u===s&&r.throwLater(u.e)}function h(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var u=e(n).call(this.et(),t);u===s&&r.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.st())},e=function(t){return N.reject(new l(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,s),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function C(t){this.promise.nt(t)}function D(t){this.promise.Dn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return e("Catch statement predicate: expecting an object but got "+h.classString(u));r[s++]=u}if(r.length=s,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Dn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Dn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var s=void 0!==e,o=s?e:new N(g),a=this.st(),c=a.K;s||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.si=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.ui=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),s=t.ci(n);void 0===s&&(s=o),this.ei(i,r,e,s,null)},N.prototype.ei=function(t,n,i,r,e){var s=this.Nt();if(s>=65531&&(s=0,this.si(0)),0===s)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=r,"function"==typeof t&&(this[u+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[u+1]=null===e?n:h.domainBind(e,n))}return this.si(s+1),s},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Dn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.st();if(e!==this){var s=e.K;if(0==(50397184&s)){var u=this.Nt();u>0&&e.li(this);for(var o=1;o<u;++o)e._i(this,o);this.oi(),this.si(0),this.gi(e)}else if(0!=(33554432&s))this.En(e.xn());else if(0!=(16777216&s))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Dn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.ft(s,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.un(t,function(t){n.nt(t)},function(t){n.Dn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Dn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var s;r.Ft(),n===w?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new l("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=r.Ht();0==(65536&(e=r.K))&&(s===y?r.Z(i):s===R?r.Dn(s.e,!1):(b.checkForgottenReturns(s,u,"",r,this),r.nt(s)))}},N.prototype.st=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof s?i.Sn(t):u||t instanceof k?t.St():i.cancel()):"function"==typeof n?u?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof s?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):u&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.ui(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.si(0)}this.sn()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,s,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,s){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.st()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=e("expecting an array or an iterable object but got "+u.classString(o)).reason();this._n.Dn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,s=!1,u=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.On(this,o),this.Vn[o]=h):s=0!=(33554432&u)?this.In(h.xn(),o):0!=(16777216&u)?this.Nn(h.Pn(),o):this.Sn(o):s=this.In(h,o)}s||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Dn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),s=t("./nodeback"),u=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var s=e.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var s=e.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(e,u(arguments,f))}catch(t){a.Dn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,r,f,v,n,u);else{var l=s(v,function(){return m(f,r,f,v,n,u)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=d(n)).context?r:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return e.copyDescriptors(t,u,l),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,s,u,i),k(c,r,s,u,i))}return k(t,r,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var u=0;u<e;++u){var o=r[u];n[u]=t[o],n[u+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=r(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new s,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],u=t[r];n.set(e,u)}return n}(this.Vn);else{r={};for(var e=this.length(),u=0,o=this.length();u<o;++u)r[this.Vn[u+e]]=this.Vn[u]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Ci=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Di(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ci(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Di(r);var s=this.Ii-1;this[e+0&s]=t,this[e+1&s]=n,this[e+2&s]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Di=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var s=0;s<e;++s)i[s+r]=t[s+n],t[s+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return e("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===s?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var s=new c(t,n,i,e);return s.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,s=a(r.xi);e.Ft(),(i=void 0!==r.Li?s.call(e.et(),t,this.index,this.length):s.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return u.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==s&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var s={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var s,u,h,a,c,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=p.setImmediate,_=process.nextTick;s=v.isRecentNode?function(t){l.call(p,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();s=function(t){g.then(t)}}else s="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(u=e.createElement("div"),h={attributes:!0},a=!1,c=e.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,h),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,h),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=s},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},u.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},u.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.st().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return e.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,s=r.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ft(),o.nn(),u&&u.Ht();var a=!0,c=r.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Dn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Dn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){h(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var s,h;return void 0!==e?(s=n.resolve(e).J(a,null,null,t,void 0),r.cancellation()&&e instanceof n&&s.ot(e)):(s=new n(i),h=o(function(){s.En()},+t),r.cancellation()&&s.ot(new u(h)),s.nn()),s.ti(),s};function v(t){return h(this.handle),t}function d(t){throw h(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,h,a=new u(o(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof f?n:new s("operation timed out"):new s(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,h)},t=+t));return r.cancellation()?(h=this.then(),(i=h.J(v,d,void 0,a,void 0)).ot(a)):i=this.J(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var h=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=h.errorObj,v=h.tryCatch,d={};function l(t){o(function(){throw t},0)}function _(t,i){var e=0,u=t.length,o=new n(s);return function s(){if(e>=u)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+h.classString(s));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),s=v(s);var r=o?s.apply(void 0,t):s(t),e=A.Ht();return u.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var s,o=n("./es5"),h=void 0===u,a={e:{}},c=void 0!==t?t:void 0!==r?r:void 0!==p?p:void 0!==this?this:null;function v(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return r}for(var u=0;u<s.length;++u){var h=s[u];if(!e[h]){e[h]=!0;var a=d.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var s in i)if(r.call(i,s))e.push(s);else{for(var u=0;u<t.length;++u)if(r.call(t[u],s))continue t;e.push(s)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){return k(t)&&o.propertyIsWritable(t,"stack")}var b="stack"in new f?function(t){return A(t)?t:new f(m(t))}:function(t){if(A(t))return t;try{throw new f(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:E,notEnumerableProp:_,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new f(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:A,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof f.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var s=r[e];if(i(s))try{o.defineProperty(n,s,o.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),C.isNode&&C.toFastProperties(process);try{throw new f}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var E,S=function(){},R=function(t){return t};function I(t,n,i){var r;return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];var o=this,h=i&&!r;void 0!==r&&b.sr(r),r=b.ur(function(){r=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(E=T)&&E.config({warnings:!1,longStackTraces:!1});var N,C,D,O,x,P;E&&(O=E.setScheduler(S),N=O,x={hr:function(t){C=t,N(D)},ar:D=function(){var t=C;t&&(C=void 0,t())}},E.setScheduler(x.hr));function B(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function L(t,n,i){return n&&B(t.prototype,n),i&&B(t,i),t}function M(t,n){return(M=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function U(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,M(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(P||(P={}));var F=u?u.userAgent:"",H=F.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),V=F.match(/Android ([0-9\.]+)/i),X=F.match(/Windows NT ([0-9\.]+)/i),W=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),q=F.match(/Firefox\/([0-9\.]+)/i),z=F.match(/OPR\/(\d+\.\d+)/i),G=F.match(/Tizen ([0-9\.]+)/i),j=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.pr=/Windows NT/i.test(F),this.Ar=X?g(X[1]):0,this.Tr=/Android/i.test(F),this.Er=V?g(V[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(F),this.Rr=/iPhone/i.test(F),this.Ir=/iPad/i.test(F),this.Nr=this.kr&&this.mr&&!this.Ir,this.Cr=/iPod/i.test(F),this.Dr=/Mobile Safari/i.test(F),this.Or=(this.Rr||this.Ir||this.Nr||this.Cr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Dr,this.Pr=/CriOS/i.test(F),this.Br=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Pr,this.Lr=Boolean(t.chrome||/Chrome/i.test(F)||/CriOS/i.test(F)),this.Mr=H?_(H[1],10):0,this.Ur=/SMART-TV.*Tizen/i.test(F),this.Fr=G?g(G[1]):0,this.Hr=/webos|web0s/i.test(F),this.Vr=/Edge\/\d+/i.test(F),this.Xr=/Trident/i.test(F),this.Wr=this.Xr&&!t.ActiveXObject&&"ActiveXObject"in t,this.qr=/Vivaldi/i.test(F),this.zr=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Gr=q?g(q[1]):0,this.jr=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Sr&&!this.Ur,this.Qr=W?g(W[2]):0,this.Yr=Boolean(z),this.Zr=z?g(z[1]):0,this.Jr=/CrKey/.test(F),this.$r=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(F),this.Kr="ios"===P._r,this.te="ios"===P.dr,this.ie=this.te||this.Kr,this.re="ios"===P.gr,this.ee="ios"===P.wr,this.se="ios"===P.yr}return L(n,[{key:"ue",get:function(){return this.mr}},{key:"oe",get:function(){return this.kr}},{key:"he",get:function(){return this.pr}},{key:"ae",get:function(){return this.Ar}},{key:"ce",get:function(){return this.Tr}},{key:"fe",get:function(){return this.Er}},{key:"ve",get:function(){return this.Sr}},{key:"de",get:function(){return this.Rr}},{key:"_e",get:function(){return this.Ir}},{key:"we",get:function(){return this.Nr}},{key:"ye",get:function(){return this.Cr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.Dr}},{key:"pe",get:function(){return this.xr}},{key:"Ae",get:function(){return this.Pr}},{key:"be",get:function(){return this.Br}},{key:"Te",get:function(){return this.Mr}},{key:"Ee",get:function(){return this.Ur}},{key:"Se",get:function(){return this.Fr}},{key:"Re",get:function(){return this.Hr}},{key:"Ie",get:function(){return this.Vr}},{key:"Ne",get:function(){return this.Xr}},{key:"Ce",get:function(){return this.Wr}},{key:"De",get:function(){return this.qr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.Gr}},{key:"Pe",get:function(){return this.jr}},{key:"Be",get:function(){return this.Qr}},{key:"Le",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Zr}},{key:"Ue",get:function(){return this.Jr}},{key:"Fe",get:function(){return this.$r}},{key:"He",get:function(){return this.Kr}},{key:"Ve",get:function(){return this.te}},{key:"Xe",get:function(){return this.ie}},{key:"We",get:function(){return this.re}},{key:"qe",get:function(){return this.ee}},{key:"ze",get:function(){return this.se}},{key:"Ge",get:function(){return this.Lr}}]),n}();j.je=new j;var Q=j.je,Y={}.hasOwnProperty,Z={}.toString;function J(t){return null!=t}var $=Array.isArray||function(t){return"[object Array]"===Z.call(t)};function K(t){return tt(t)&&Y.call(t,"length")&&ut(t.length)}function tt(t){return"object"==typeof t&&null!==t}function nt(t){return tt(t)&&t.constructor&&t.constructor===d}function it(t){return"string"==typeof t}function rt(t){return"boolean"==typeof t}function et(t){return Boolean(t)&&"function"==typeof t.then}function st(t){return"[object Date]"===Z.call(t)}function ut(t){return"number"==typeof t}var ot=!(Q.Ne&&!Q.Ce),ht=t.console;function at(t){if(tt(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(at).join(" ")}function ft(t){var n=ht&&ht[t];return n?n.bind&&ot?n.bind(ht):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ht[t](ct(i))}:void 0}var vt,dt=ft("log")||S,lt=ft("warn")||dt.bind(void 0,"WARNING:"),_t=ft("error")||dt.bind(void 0,"ERROR:"),gt=(vt=ht&&ht.assert)?vt.bind&&ot?vt.bind(ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ht.assert(t,ct(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];_t.apply(void 0,["Assertion failed:"].concat(i))}},wt=mt,yt=null;try{yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function mt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function kt(t){return!0===(t&&t.Qe)}mt.prototype.Qe,d.defineProperty(mt.prototype,"Qe",{value:!0}),mt.isLong=kt;var pt={},At={};function bt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=At[t])?r:(i=Et(t,(0|t)<0?-1:0,!0),e&&(At[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=pt[t])?r:(i=Et(t,t<0?-1:0,!1),e&&(pt[t]=i),i)}function Tt(t,n){if(w(t))return n?Pt:xt;if(n){if(t<0)return Pt;if(t>=Ct)return Ft}else{if(t<=-Dt)return Ht;if(t+1>=Dt)return Ut}return t<0?Tt(-t,n).neg():Et(t%Nt|0,t/Nt|0,n)}function Et(t,n,i){return new mt(t,n,i)}mt.fromInt=bt,mt.fromNumber=Tt,mt.fromBits=Et;var St=l.pow;function Rt(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return xt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return Rt(t.substring(1),n,i).neg();for(var e=Tt(St(i,8)),s=xt,u=0;u<t.length;u+=8){var o=l.min(8,t.length-u),h=_(t.substring(u,u+o),i);if(o<8){var a=Tt(St(i,o));s=s.mul(a).add(Tt(h))}else s=(s=s.mul(e)).add(Tt(h))}return s.unsigned=n,s}function It(t,n){return"number"==typeof t?Tt(t,n):"string"==typeof t?Rt(t,n):Et(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}mt.fromString=Rt,mt.fromValue=It;var Nt=4294967296,Ct=Nt*Nt,Dt=Ct/2,Ot=bt(1<<24),xt=bt(0);mt.ZERO=xt;var Pt=bt(0,!0);mt.UZERO=Pt;var Bt=bt(1);mt.ONE=Bt;var Lt=bt(1,!0);mt.UONE=Lt;var Mt=bt(-1);mt.NEG_ONE=Mt;var Ut=Et(-1,2147483647,!1);mt.MAX_VALUE=Ut;var Ft=Et(-1,-1,!0);mt.MAX_UNSIGNED_VALUE=Ft;var Ht=Et(0,-2147483648,!1);mt.MIN_VALUE=Ht;var Vt=mt.prototype;Vt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Vt.toNumber=function(){return this.unsigned?(this.high>>>0)*Nt+(this.low>>>0):this.high*Nt+(this.low>>>0)},Vt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ht)){var n=Tt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Tt(St(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Vt.getHighBits=function(){return this.high},Vt.getHighBitsUnsigned=function(){return this.high>>>0},Vt.getLowBits=function(){return this.low},Vt.getLowBitsUnsigned=function(){return this.low>>>0},Vt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ht)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Vt.isZero=function(){return 0===this.high&&0===this.low},Vt.eqz=Vt.isZero,Vt.isNegative=function(){return!this.unsigned&&this.high<0},Vt.isPositive=function(){return this.unsigned||this.high>=0},Vt.isOdd=function(){return 1==(1&this.low)},Vt.isEven=function(){return 0==(1&this.low)},Vt.equals=function(t){return kt(t)||(t=It(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Vt.eq=Vt.equals,Vt.notEquals=function(t){return!this.eq(t)},Vt.neq=Vt.notEquals,Vt.ne=Vt.notEquals,Vt.lessThan=function(t){return this.comp(t)<0},Vt.lt=Vt.lessThan,Vt.lessThanOrEqual=function(t){return this.comp(t)<=0},Vt.lte=Vt.lessThanOrEqual,Vt.le=Vt.lessThanOrEqual,Vt.greaterThan=function(t){return this.comp(t)>0},Vt.gt=Vt.greaterThan,Vt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Vt.gte=Vt.greaterThanOrEqual,Vt.ge=Vt.greaterThanOrEqual,Vt.compare=function(t){if(kt(t)||(t=It(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Vt.comp=Vt.compare,Vt.negate=function(){return!this.unsigned&&this.eq(Ht)?Ht:this.not().add(Bt)},Vt.neg=Vt.negate,Vt.add=function(t){kt(t)||(t=It(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,Et((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Vt.subtract=function(t){return kt(t)||(t=It(t)),this.add(t.neg())},Vt.sub=Vt.subtract,Vt.multiply=function(t){if(this.isZero())return xt;if(kt(t)||(t=It(t)),yt)return Et(yt.mul(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned);if(t.isZero())return xt;if(this.eq(Ht))return t.isOdd()?Ht:xt;if(t.eq(Ht))return this.isOdd()?Ht:xt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ot)&&t.lt(Ot))return Tt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=n*h+i*o+r*u+e*s,Et((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Vt.mul=Vt.multiply,Vt.divide=function(t){if(kt(t)||(t=It(t)),t.isZero())throw f("division by zero");var n,i,r;if(yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Et((this.unsigned?yt.div_u:yt.div_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Pt:xt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Pt;if(t.gt(this.shru(1)))return Lt;r=Pt}else{if(this.eq(Ht))return t.eq(Bt)||t.eq(Mt)?Ht:t.eq(Ht)?Bt:(n=this.shr(1).div(t).shl(1)).eq(xt)?t.isNegative()?Bt:Mt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ht))return this.unsigned?Pt:xt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=xt}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),s=e<=48?1:St(2,e-48),u=Tt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Tt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Bt),r=r.add(u),i=i.sub(o)}return r},Vt.div=Vt.divide,Vt.modulo=function(t){return kt(t)||(t=It(t)),yt?Et((this.unsigned?yt.rem_u:yt.rem_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Vt.mod=Vt.modulo,Vt.rem=Vt.modulo,Vt.not=function(){return Et(~this.low,~this.high,this.unsigned)},Vt.and=function(t){return kt(t)||(t=It(t)),Et(this.low&t.low,this.high&t.high,this.unsigned)},Vt.or=function(t){return kt(t)||(t=It(t)),Et(this.low|t.low,this.high|t.high,this.unsigned)},Vt.xor=function(t){return kt(t)||(t=It(t)),Et(this.low^t.low,this.high^t.high,this.unsigned)},Vt.shiftLeft=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Et(0,this.low<<t-32,this.unsigned)},Vt.shl=Vt.shiftLeft,Vt.shiftRight=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Et(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Vt.shr=Vt.shiftRight,Vt.shiftRightUnsigned=function(t){if(kt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Et(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Et(32===t?n:n>>>t-32,0,this.unsigned)},Vt.shru=Vt.shiftRightUnsigned,Vt.shr_u=Vt.shiftRightUnsigned,Vt.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this},Vt.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)},Vt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Vt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Vt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},mt.fromBytes=function(t,n,i){return i?mt.fromBytesLE(t,n):mt.fromBytesBE(t,n)},mt.fromBytesLE=function(t,n){return new mt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},mt.fromBytesBE=function(t,n){return new mt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Xt=wt,Wt=l.pow(2,-52);function qt(t,n,i){return l.min(l.max(t,n),i)}function zt(t,n,i){return t===n||l.abs(t-n)<=i}function Gt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Wt||i<l.max(l.abs(t),l.abs(n))*Wt}function jt(t){return t!=t}function Qt(t,n){return t===n||jt(t)&&jt(n)}function Yt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Zt(){return Date.now()||(new Date).getTime()}function Jt(t){return t/1e3}var $t,Kt=Xt.fromNumber(9007199254740991);function tn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Kt))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function nn(t){return t.Ye===$t.Ze}function rn(t){return t.Ye===$t.Je}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Ze=1]="Ze",t[t.$e=2]="$e",t[t.Je=3]="Je",t[t.Ke=4]="Ke",t[t.ts=9]="ts"}($t||($t={}));var sn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(sn.prototype=d.create(f.prototype)).constructor=sn;var un=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace(en(r),r.constructor),r}return U(n,t),L(n,[{key:"name",get:function(){return"BaseError"}}]),n}(sn),on=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return U(n,t),n}(un),hn=function(){function t(){}return t.prototype.rs=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new on(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new on;return new _n(n)},t}(),an=function(){function t(t){this.es=void 0,this.es=t}var n=t.prototype;return n.ss=function(t){return this.es.isEqualNode(t.es)},n.us=function(n){return new t(this.es.cloneNode(n))},L(t,[{key:"Ye",get:function(){return $t.$e}},{key:"os",get:function(){var t;return null!=(t=this.es.localName)?t:yn(this.es.nodeName)}},{key:"hs",get:function(){return this.es.nodeName}},{key:"as",get:function(){var t;return null!=(t=this.es.namespaceURI)?t:void 0}},{key:"cs",get:function(){var t;return null!=(t=this.es.prefix)?t:void 0}},{key:"fs",get:function(){return this.es.nodeValue}}]),t}(),cn=function(){function t(t){this.vs=void 0,this.ds=void 0,this.vs=t}var n=t.prototype;return n.ls=function(t){return this._s.filter(function(n){return gn(n)&&n.gs===t})},n.ys=function(t,n){return this._s.filter(function(i){return gn(i)&&i.os===n&&i.as===t})},n.ks=function(t){this.vs.appendChild(t.ps),this.ds&&this.ds.push(t)},n.ss=function(t){return this.vs.isEqualNode(t.ps)},L(t,[{key:"_s",get:function(){return void 0===this.ds&&(this.ds=function(t){for(var n=[],i=0;i<t.length;i++){var r=wn(t.item(i));r&&n.push(r)}return n}(this.vs.childNodes)),this.ds}},{key:"As",get:function(){return this._s.filter(gn)}},{key:"ps",get:function(){return this.vs}}]),t}(),fn=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.bs=function(t){if(this.vs.hasAttribute(t))return this.vs.getAttribute(t)},i.Ts=function(t,n){if(this.vs.hasAttributeNS(t,n))return this.vs.getAttributeNS(t,n)},i.Es=function(t){this.vs.removeAttribute(t)},i.Ss=function(t,n){this.vs.removeAttributeNS(t,n)},i.Rs=function(t,n){this.vs.setAttribute(t,n)},i.Is=function(t,n,i){this.vs.setAttributeNS(t,n,i)},i.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.Ze}},{key:"os",get:function(){var t;return null!=(t=this.vs.localName)?t:yn(this.vs.nodeName)}},{key:"as",get:function(){var t;return null!=(t=this.vs.namespaceURI)?t:void 0}},{key:"cs",get:function(){var t;return null!=(t=this.vs.prefix)?t:void 0}},{key:"gs",get:function(){return this.vs.nodeName}},{key:"Ns",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.vs.attributes)}},{key:"Cs",get:function(){return this.vs.textContent}}]),n}(cn),vn=function(){function t(t){this.vs=void 0,this.vs=t}return t.prototype.ss=function(t){return this.Ds===t.Ds},L(t,[{key:"Ds",get:function(){return this.vs.nodeValue}},{key:"ps",get:function(){return this.vs}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.Je}}]),n}(vn),ln=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.Ke}}]),n}(vn),_n=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.ts}},{key:"Os",get:function(){return new fn(this.vs.documentElement)}}]),n}(cn);function gn(t){return nn(t)}function wn(t){switch(t.nodeType){case $t.Ze:return new fn(t);case $t.Je:return new dn(t);case $t.Ke:return new ln(t)}}function yn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function mn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){pn(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&pn(i,null,t.length,t),t}function pn(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(u=(s=e+i)+i,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}var An=/[a-zA-Z]/,bn=/[0-9]/,Tn=/[0-9a-fA-F]/,En=/^0x/i,Sn=/^[0-9]+$/,Rn=/^[0-9a-fA-F]+$/,In=/^[0-7]+$/,Nn=d.prototype.toString,Cn=Array.isArray||function(t){return"[object Array]"===Nn.call(t)},Dn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function On(t){return Cn(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Pn(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Bn(t){return t>=48&&t<=57}function Ln(t){return Bn(t)||Pn(t)}function Mn(t){return Bn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return xn(t)?t+32:t}function Fn(t){return Bn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Hn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Vn=l.min,Xn=String.fromCharCode,Wn=16384;function qn(t){for(var n=t.length,i=[],r=0;r<n;r+=Wn){var e=Vn(r+Wn,n);i.push(Xn.apply(null,t.slice(r,e)))}return i.join("")}var zn=/[^\0-\x7E]/,Gn=/[\x2E\u3002\uFF0E\uFF61]/g,jn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Qn=l.floor,Yn=String.fromCharCode;function Zn(t){throw new RangeError(jn[t])}function Jn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var $n,Kn,ti,ni=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ii=function(t,n,i){var r=0;for(t=i?Qn(t/700):t>>1,t+=Qn(t/n);t>455;r+=36)t=Qn(t/35);return Qn(r+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Gn,".")).split("."),n).join(".");return r+e}(t,function(t){return zn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Jn(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Yn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Qn((2147483647-e)/_)&&Zn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Zn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Yn(ni(p+A%b,0))),m=Qn(A/b)}n.push(Yn(ni(m,0))),s=ii(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function ei(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return qn(n)}function si(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ui(t,n){return t>>n&63|128}function oi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(si(t),n.push(t>>12&15|224),n.push(ui(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ui(t,12)),n.push(ui(t,6))),n.push(63&t|128)):n.push(t)}function hi(t){for(var n=[],i=0;i<t.length;i++){oi(t[i],n)}return n}function ai(){if(ti>=Kn)throw new f("Invalid byte index");var t=255&$n[ti];if(ti++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function ci(){var t,n;if(ti>Kn)throw new f("Invalid byte index");if(ti===Kn)return!1;if(t=255&$n[ti],ti++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return si(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function fi(t){return[37,Hn(t>>4),Hn(15&t)]}function vi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function di(t){return vi(t)||32===t||34===t||60===t||62===t||96===t}function li(t){return di(t)||35===t||63===t||123===t||125===t}function _i(t){return li(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function wi(t){return gi(t)||39===t}function yi(t,n){if(!n(t))return[t];for(var i=hi([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,fi(s))}return r}function mi(t,n){for(var i=[],r=0,e=Jn(t);r<e.length;r++){var s=e[r];i.push.apply(i,yi(s,n))}return ei(i)}function ki(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Mn(t[r+1])&&Mn(t[r+2])){var s=Fn(t[r+1])<<4|Fn(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(hi(t))}function pi(t){return ei(function(t){$n=t.slice(),Kn=$n.length,ti=0;for(var n,i=[];!1!==(n=ci());)i.push(n);return i}(ki(Jn(t))))}function Ai(t){var n,i,r,e,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new v;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&Tn.test(t[a]);)c=c<<4|_(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new v;if(a-=f,o>6)throw new v;for(var d=0;a<s;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!bn.test(t[a]))throw new v;for(;a<s&&bn.test(t[a]);){var g=_(t[a],10);if(null===l)l=g;else{if(0===l)throw new v;if((l=10*l+g)>255)throw new v}a+=1}u[o]=u[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===s)throw new v}else if(a<s)throw new v;u[o]=c,o+=1}else{if(null!==h)throw new v("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=u)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new v;return u}function bi(t){var n=10,i=Sn;return En.test(t)?(t=t.slice(2),n=16,i=Rn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=In),""===t?0:i.test(t)?_(t,n):void 0}var Ti={xs:4},Ei=/[\0\t\n\r #%/:?@\[\\\]]/,Si=/[\0\t\n\r #/:?@\[\\\]]/;function Ri(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{xs:2,Ps:Ai(t.slice(1,-1))}}if(!n)return function(t){if(Si.test(t))throw new v("Invalid code point in opaque host");var n=mi(t,vi);return""===n?Ti:{xs:3,nr:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(pi(t));if(Ei.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=bi(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*l.pow(256,3-h);return o}}(i);return void 0!==r?{xs:1,Ps:r}:""===i?Ti:{xs:0,Bs:i}}function Ii(t){switch(t.xs){case 0:return t.Bs;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ps);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Ps)+"]";case 3:return t.nr;case 4:return""}}var Ni=/\+/g;function Ci(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(Ni," "),o=o.replace(Ni," ");var h=pi(u),a=pi(o);i.push([h,a])}}return i}function Di(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Oi(hi(Jn(r[0])))+"="+Oi(hi(Jn(r[1])))}return n}function Oi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Ln(n)?i.push(e):i.push.apply(i,fi(e))}return qn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(Li(s))if(Mi(s)||e===i-1)r.push(Bi);else{var u=t.charCodeAt(e+1);Mi(u)?(r.push(s,u),e++):r.push(Bi)}else r.push(s)}return t.slice(0,n)+qn(r)}(n,i.index):n}var Bi=65533,Li=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Fi(t){t.Ls.length=0}function Hi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ls,Ci(n))}function Vi(t){if(t.Ms){var n=Di(t.Ls);""===n&&(n=null),t.Ms.Ms.Us=n}}var Xi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ms=null,null==t)this.Ls=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Xi&&Cn(s.Ls)&&(!Dn||s[Symbol.iterator]===Wi))this.Ls=t.Ls.slice();else if(function(t){return null!=t&&(!!Cn(t)||!!Dn&&"function"==typeof t[Symbol.iterator])}(t)){this.Ls=[];for(var n=0,i=On(t);n<i.length;n++){var r=On(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Ls.push([Pi(r[0]),Pi(r[1])])}}else for(var e in this.Ls=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Ls.push([Pi(e),Pi(t[e])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ls=Ci(t);var s}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Ls.push([t,n]),Vi(this)},n.delete=function(t){t=Pi(t);for(var n=this.Ls,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Vi(this)},n.get=function(t){t=Pi(t);for(var n=this.Ls,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Ls,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Ls,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Ls,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),Vi(this)},n.sort=function(){kn(this.Ls,Ui),Vi(this)},n.toString=function(){return Di(this.Ls)},n.entries=function(){return new ji(this.Ls,qi)},n.keys=function(){return new ji(this.Ls,zi)},n.values=function(){return new ji(this.Ls,Gi)},n.forEach=function(t){var n=this;this.Ls.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=Xi.prototype.entries;Dn&&(Xi.prototype[Symbol.iterator]=Wi);var qi=function(t){return[t[0],t[1]]},zi=function(t){return t[0]},Gi=function(t){return t[1]},ji=function(){function t(t,n){this.Fs=0,this.Ls=t,this.Hs=n}return t.prototype.next=function(){return this.Fs<this.Ls.length?{done:!1,value:this.Hs(this.Ls[this.Fs++])}:{done:!0,value:void 0}},t}(),Qi="null";var Yi=d.create(null);Yi.ftp=21,Yi.file=0,Yi.gopher=70,Yi.http=80,Yi.https=443,Yi.ws=80,Yi.wss=443;var Zi=/^(?:\.|%2e)$/i,Ji=/^(?:\.|%2e){2}$/i;function $i(t){return Zi.test(t)}function Ki(t){return Ji.test(t)}function tr(t){return void 0!==Yi[t]}function nr(t){return tr(t.Vs)}function ir(t){return""!==t.Xs||""!==t.Ws}function rr(t){var n=t.length;if(!(n>=2))return!1;if(!sr(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function er(t){return 2===t.length&&An.test(t[0])&&(":"===t[1]||"|"===t[1])}function sr(t){return 2===t.length&&er(qn(t))}function ur(t){return er(t)&&":"===t[1]}function or(t){var n=t.qs;0!==n.length&&("file"===t.Vs&&1===n.length&&ur(n[0])||n.pop())}function hr(t){return null===t.zs||Ti===t.zs||t.Gs||"file"===t.Vs}var ar=-1,cr=/\t|\n|\r/g,fr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function vr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new lr,t=t.replace(fr,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=Jn(t=t.replace(cr,"")),c=a.length,f=0;f<=c;){var d=f<c?a[f]:ar;switch(e){case 0:if(!Pn(d)){if(null===r){s.length=0,e=2;continue}throw new v("Invalid scheme")}s.push(Un(d)),e=1;break;case 1:if(Ln(d)||43===d||45===d||46===d)s.push(Un(d));else{if(58!==d){if(null===r){s.length=0,e=2,f=0;continue}throw new v("Invalid scheme")}var l=ei(s);if(null!==r){if(tr(i.Vs)&&!tr(l))return;if(!tr(i.Vs)&&tr(l))return;if((ir(i)||null!==i.js)&&"file"===l)return;if("file"===i.Vs&&(i.zs===Ti||null===i.zs))return}if(i.Vs=l,null!==r)return void(nr(i)&&i.js===Yi[i.Vs]&&(i.js=null));s.length=0,"file"===i.Vs?e=13:nr(i)&&n&&n.Vs===i.Vs?e=3:nr(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Gs=!0,i.qs.push(""),e=18)}break;case 2:if(!n||n.Gs&&35!==d)throw new v("Invalid scheme");n.Gs&&35===d?(i.Vs=n.Vs,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",i.Gs=!0,e=20):"file"!==n.Vs?(e=5,f-=1):(e=13,f-=1);break;case 3:47===d&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===d?e=9:(e=17,f-=1);break;case 5:i.Vs=n.Vs,ar===d?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us=n.Us):47===d?e=6:63===d?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us="",e=19):35===d?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",e=20):92===d&&nr(i)?e=6:(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.qs.pop(),e=17,f-=1);break;case 6:!nr(i)||47!==d&&92!==d?47===d?e=9:(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,e=17,f-=1):e=8;break;case 7:if(47!==d||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==d&&92!==d&&(e=9,f-=1);break;case 9:if(64===d){u&&s.unshift(37,52,48),u=!0;for(var g=0;g<s.length;g++){var w=s[g];if(58!==w||h){var y=ei(yi(w,_i));h?i.Ws+=y:i.Xs+=y}else h=!0}s.length=0}else if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(d);break;case 10:case 11:if(null!==r&&"file"===i.Vs)f-=1,e=15;else if(58!==d||o)if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(f-=1,nr(i)&&0===s.length)throw new v("Invalid host");if(null!==r&&0===s.length&&(ir(i)||null!==i.js))return;var m=Ri(ei(s),nr(i));if(i.zs=m,s.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),s.push(d);else{if(0===s.length)throw new v("Invalid host");var k=Ri(ei(s),nr(i));if(i.zs=k,s.length=0,e=12,11===r)return}break;case 12:if(Bn(d))s.push(d);else{if(!(ar===d||47===d||63===d||35===d||nr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==s.length){var p=_(ei(s),10);if(p>65535)throw new v("Invalid port");i.js=p===Yi[i.Vs]?null:p,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Vs="file",47===d||92===d?e=14:n&&"file"===n.Vs?ar===d?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us=n.Us):63===d?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us="",e=19):35===d?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",e=20):(rr(a.slice(f))||(i.zs=n.zs,i.qs=n.qs.slice(),or(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Vs&&!rr(a.slice(f))&&(ur(n.qs[0])?i.qs.push(n.qs[0]):i.zs=n.zs),e=17,f-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(f-=1,null===r&&sr(s))e=17;else if(0===s.length){if(i.zs=Ti,null!==r)return;e=16}else{var A=Ri(ei(s),nr(i));if(0===A.xs&&"localhost"===A.Bs&&(A=Ti),i.zs=A,null!==r)return;s.length=0,e=16}else s.push(d);break;case 16:nr(i)?(e=17,47!==d&&92!==d&&(f-=1)):null===r&&63===d?(i.Us="",e=19):null===r&&35===d?(i.Qs="",e=20):ar!==d&&(e=17,47!==d&&(f-=1));break;case 17:if(ar===d||47===d||nr(i)&&92===d||null===r&&(63===d||35===d)){var b=ei(s);if(Ki(b)?(or(i),47===d||nr(i)&&92===d||i.qs.push("")):!$i(b)||47===d||nr(i)&&92===d?$i(b)||("file"===i.Vs&&0===i.qs.length&&sr(s)&&(Ti!==i.zs&&null!==i.zs&&(i.zs=Ti),s[1]=58,b=ei(s)),i.qs.push(b)):i.qs.push(""),s.length=0,"file"===i.Vs&&(ar===d||63===d||35===d))for(;i.qs.length>1&&""===i.qs[0];)i.qs.shift();63===d?(i.Us="",e=19):35===d&&(i.Qs="",e=20)}else s.push.apply(s,yi(d,li));break;case 18:63===d?(i.Us="",e=19):35===d?(i.Qs="",e=20):ar!==d&&(i.qs[0]+=ei(yi(d,vi)));break;case 19:null===r&&35===d?(i.Qs="",e=20):ar!==d&&(i.Us+=ei(yi(d,nr(i)?wi:gi)));break;case 20:ar===d||0===d||(i.Qs+=ei(yi(d,di)))}f++}return i}function dr(t,n,i,r){try{vr(t,n,i,r)}catch(t){}}var lr=function(){this.Vs="",this.Xs="",this.Ws="",this.zs=null,this.js=null,this.qs=[],this.Us=null,this.Qs=null,this.Gs=!1};function _r(t){switch(t.Vs){case"blob":var n;try{n=vr(t.qs[0],null)}catch(t){return Qi}return _r(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Vs,r=t.zs,e=t.js,i+"://"+Ii(r)+(null===e?"":":"+e);case"file":default:return Qi}var i,r,e}var gr,wr,yr,mr,kr,pr,Ar,br=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof br&&"object"==typeof i.Ms)e=n.Ms;else try{e=vr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=vr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var s=r.Us;this.Ms=r,this.Us=function(t){var n=new Xi;return null!==t&&Hi(n,t),n}(s),this.Us.Ms=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Vs+":";if(null!==t.zs?(i+="//",ir(t)&&(i+=t.Xs,""!==t.Ws&&(i+=":"+t.Ws),i+="@"),i+=Ii(t.zs),null!==t.js&&(i+=":"+t.js)):null===t.zs&&"file"===t.Vs&&(i+="//"),t.Gs)i+=t.qs[0];else for(var r=0,e=t.qs;r<e.length;r++)i+="/"+e[r];return null!==t.Us&&(i+="?"+t.Us),n||null===t.Qs||(i+="#"+t.Qs),i}(this.Ms)},set:function(t){var n;try{n=vr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Ms=n,Fi(this.Us);var i=this.Ms.Us;null!==i&&Hi(this.Us,i)}},{key:"origin",get:function(){return _r(this.Ms)}},{key:"protocol",get:function(){return this.Ms.Vs+":"},set:function(t){dr(t+":",null,this.Ms,0)}},{key:"username",get:function(){return this.Ms.Xs},set:function(t){hr(this.Ms)||(this.Ms.Xs=mi(t,_i))}},{key:"password",get:function(){return this.Ms.Ws},set:function(t){hr(this.Ms)||(this.Ms.Ws=mi(t,_i))}},{key:"host",get:function(){var t=this.Ms,n=t.zs;if(null===n)return"";var i=t.js,r=Ii(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ms.Gs||dr(t,null,this.Ms,10)}},{key:"hostname",get:function(){var t=this.Ms.zs;return null===t?"":Ii(t)},set:function(t){this.Ms.Gs||dr(t,null,this.Ms,11)}},{key:"port",get:function(){var t=this.Ms.js;return null===t?"":""+t},set:function(t){hr(this.Ms)||(""===t?this.Ms.js=null:dr(t,null,this.Ms,12))}},{key:"pathname",get:function(){var t=this.Ms.qs;return this.Ms.Gs?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ms.Gs||(this.Ms.qs.length=0,dr(t,null,this.Ms,16))}},{key:"search",get:function(){var t=this.Ms.Us;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Ms;if(""===t)return n.Us=null,void Fi(this.Us);"?"===t[0]&&(t=t.slice(1)),n.Us="",dr(t,null,n,19),Hi(this.Us,t)}},{key:"searchParams",get:function(){return this.Us}},{key:"hash",get:function(){var t=this.Ms.Qs;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ms.Qs="",dr(t,null,this.Ms,20)):this.Ms.Qs=null}}])&&mn(n.prototype,i),r&&mn(n,r),t}();function Tr(t){return t.document&&t.document.baseURI||t.location.href||""}function Er(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Rr(t,n){Q.Ee&&Q.Se<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ir(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Nr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Cr(t){t.removeAttribute("title")}function Dr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Or(t){t.src&&(t.removeAttribute("src"),t.load())}function xr(){return void 0!==e?e.createElement("video"):void 0}function Pr(){return Ar||(Ar=xr()),Ar}var Br=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Lr=Pr(),Mr=!(!Lr||!Lr.webkitShowPlaybackTargetPicker),Ur=function(){function t(){this.Ys=void 0,this.Zs=!1,this.ue=Br,this.pe=!1,this.Js=!0,this.$s=!0}var n=t.prototype;return n.Ks=function(){return 0},n.tu=function(t,n){return!0},n.nu=function(t){return t>=1/6*2},L(t,[{key:"iu",get:function(){return void 0===this.Ys&&(this.Ys=this.Ks()),this.Ys}},{key:"ru",get:function(){return r.devicePixelRatio||1}},{key:"eu",get:function(){return Mr}},{key:"su",get:function(){return!1}},{key:"uu",get:function(){return!0}},{key:"ou",get:function(){return Q.Pe}},{key:"hu",get:function(){return!0}}]),t}(),Fr=function(){var t=xr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Q.we)return!1;var t=xr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Hr=function(t){function n(n){var i;return(i=t.call(this)||this).au=void 0,i.au=n,i.au&&(i.Zs=i.au.Zs,i.ue=i.au.ue,i.Js=Fr&&i.au.Js),i}U(n,t);var i=n.prototype;return i.Ks=function(){return this.au?this.au.iu:t.prototype.Ks.call(this)},i.tu=function(n,i){return this.au?this.au.tu(n,i):t.prototype.tu.call(this,n,i)},i.nu=function(n){return this.au?this.au.nu(n):t.prototype.nu.call(this,n)},n}(Ur),Vr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Zs=!0,i.pe=!0,i}return U(n,t),n}(Hr),Xr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Ks=function(){return mr.MediaSource?t.prototype.Ks.call(this):1},n}(Vr),Wr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.tu=function(n,i){return!(i.cu>1920)&&t.prototype.tu.call(this,n,i)},L(n,[{key:"su",get:function(){return Q.Se<3}},{key:"uu",get:function(){return Q.Se>=3}}]),n}(Hr),qr=function(t){function n(){return t.call(this)||this}return U(n,t),n}(Ur),zr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.tu=function(t,n){if(t&&t.fu&&n&&n.fu){var i=Gr(t.fu,"mp4a.40.2")&&Gr(n.fu,"mp4a.40.5"),r=Gr(t.fu,"mp4a.40.5")&&Gr(n.fu,"mp4a.40.2"),e=Gr(t.fu,"mp4a.40.2")&&Gr(n.fu,"mp4a.40.34"),s=Gr(t.fu,"mp4a.40.34")&&Gr(n.fu,"mp4a.40.2"),u=Gr(t.fu,"mp4a.40.5")&&Gr(n.fu,"mp4a.40.34"),o=Gr(t.fu,"mp4a.40.34")&&Gr(n.fu,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},n}(qr);function Gr(t,n){return t.indexOf(n)>-1}var jr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.nu=function(t){return t>=2},n}(qr),Qr=function(t){function n(){var n;return(n=t.call(this)||this).Zs=Q.Be>=11,n.Js=Q.Pe&&!(Q.me&&Q.Be<10),n}return U(n,t),n}(qr),Yr=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),L(n,[{key:"hu",get:function(){return!1}}]),n}(Hr),Zr=function(){function n(){var n;this.vu=void 0,this.du=new hn,this.lu=new Jr,this._u=(n=function(){if(Q.Oe)return new zr;if(Q.Ie||Q.Ne)return new jr;if(Q.Pe)return new Qr;return new qr}(),Q.me?new Xr(n):Q.pe?new Vr(n):Q.Ee?new Wr(n):Q.Re?new Yr(n):new Hr(n)),this.gu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.vu=function(){return t.performance.now()}:this.vu=Zt}var i=n.prototype;return i.wu=function(){dt.apply(void 0,arguments)},i.yu=function(){lt.apply(void 0,arguments)},i.mu=function(){_t.apply(void 0,arguments)},i.ku=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];gt.apply(void 0,[t].concat(i))},i.ur=function(t,n){return o(t,n)},i.pu=function(t,n){return a(t,n)},i.sr=function(t){h(t)},i.Au=function(t){c(t)},i.rs=function(t){return this.du.rs(t)},i.bu=function(){return this.Tu.bu()},i.Eu=function(){return this.Tu.Eu()},i.Su=function(){return this.Tu.Su()},i.Ru=function(){return this.Tu.Ru()},i.Iu=function(){return this.Tu.Iu()},i.Nu=function(t,n){return this.Tu.Nu(t,n)},i.Cu=function(t){return this.Tu.Cu(t)},i.Du=function(t,n){var i;return void 0===n&&(n=Tr(mr)),i="object"!=typeof n||n instanceof br?n:n.href,new br(t,i)},i.Ou=function(n,i){if(void 0===i&&(i=Tr(mr)),this.gu){var r=it(i)?i:i.toString();return new t.URL(n,r).href}return this.Du(n,i).href},L(n,[{key:"xu",get:function(){return this.lu}},{key:"Pu",get:function(){return this._u}},{key:"Bu",get:function(){return{Lu:u&&u.userAgent.match(/Android /i)?"Android":"other",Mu:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Uu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fu",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),Jr=function(){function t(){}return L(t,[{key:"Hu",get:function(){return u.oscpu}},{key:"Pu",get:function(){return u.platform}},{key:"Vu",get:function(){return u.vendor}},{key:"Xu",get:function(){return u.vendorSub}}]),t}();var $r=A(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",u=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,s=d.create(e.prototype),u=new D(r||[]);return s.Wu=function(t,n,i){var r=c;return function(e,s){if(r===_)throw new f("Generator is already running");if(r===g){if("throw"===e)throw s;return x()}for(i.method=e,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.qu=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:l,h.arg===y)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",l="suspendedYield",_="executing",g="completed",y={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=d.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,s)&&(A=T);var E=p.prototype=m.prototype=d.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Wu(n,t)}})}function R(t){var n;this.Wu=function(i,e){function s(){return new Promise(function(n,s){!function n(i,e,s,u){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"zu")?Promise.resolve(c.zu).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,e,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,y;var s=e.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!w(t.length)){var e=-1,u=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{zu:t}},S(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var s=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qu=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!w(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var h=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new f("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function Kr(){return(Kr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function te(){var t=d.create(null);return t.Gu=void 0,delete t.Gu,t}function ne(){return new ue}function ie(){return new he}function re(t){var n=ne();for(var i in t)Y.call(t,i)&&n.set(i,t[i]);return n}var ee,se="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ue=se||(ee=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=te(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=te(),this.size=0},n.keys=function(){return new ee(this.data,function(t,n){return n})},n.values=function(){return new ee(this.data,function(t,n){return t[n]})},n.entries=function(){return new ee(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var oe,he=se||(oe=function(){function t(t,n){this.ju=void 0,this.Qu=void 0,this.ju=t,this.Qu=n}var n=t.prototype;return n.next=function(){var t=this.ju.next();return t.done?t:{value:this.Qu(t.value),done:!1}},t}(),function(){function t(){this.Yu=ne()}var n=t.prototype;return n.get=function(t){return this.Yu.get(""+t)},n.set=function(t,n){return this.Yu.set(""+t,n),this},n.has=function(t){return this.Yu.has(""+t)},n.delete=function(t){return this.Yu.delete(""+t)},n.clear=function(){this.Yu.clear()},n.keys=function(){return new oe(this.Yu.keys(),function(t){return Number(t)})},n.values=function(){return this.Yu.values()},n.entries=function(){return new oe(this.Yu.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Yu.forEach(function(n,i){t(n,Number(i))})},L(t,[{key:"size",get:function(){return this.Yu.size}}]),t}());var ae,ce="urn:mpeg:dash:mp4protection:2011",fe="cenc",ve="sinf",de="skd",le="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",_e="com.microsoft.playready",ge="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",we="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ye="urn:uuid:"+we,me="com.apple.fps.1_0";!function(t){t.Zu="playready",t.Ju="widevine",t.$u="fairplay",t.Ku="clearkey",t.to="aes128"}(ae||(ae={}));var ke={io:ae.Zu,ro:_e,eo:"cenc",so:"9a04f079-9840-4286-ab92-e65be0885f95",uo:le,oo:"PlayReady"},pe={io:ae.Ju,ro:"com.widevine.alpha",eo:"cenc",so:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",uo:ge,oo:"Widevine"},Ae={io:ae.$u,ro:me,eo:"skd",so:we,uo:ye,oo:"FairPlay"},be=(ae.$u,{io:ae.Ku,ro:"org.w3.clearkey",eo:"cenc",so:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",uo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",oo:"ClearKey"}),Te=[ke,pe,Ae,be];function Ee(t){return Te.filter(function(n){return n.uo===t.toLowerCase()})}function Se(t,n,i){return t.split(n).join(i)}function Re(t,n){return null!=t&&-1!==t.indexOf(n)}function Ie(t,n){return null!=t&&t.substr(0,n.length)===n}function Ne(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ce(t,n){return t.toUpperCase()===n.toUpperCase()}function De(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function Oe(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=De(r,e/r.length)),r.slice(0,e)+t)}function xe(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Be(n)}var Pe=16384;function Be(t){var n=t.length;if(n<=Pe)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Pe)i.push(String.fromCharCode.apply(String,t.slice(r,r+Pe)));return i.join("")}var Le=Q.be&&Q.Te>=42||Q.Oe&&Q.xe>=38||Q.Ie||Q.Ce||Q.Le&&Q.Me>=29;function Me(t,n){return Re(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Kr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Kr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ue(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess}function Fe(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var He=function(){function t(t){this.ho=void 0,this.ao=ne(),this.co=void 0,this.ho=t}var n=t.prototype;return n.Iu=function(){return this.Cu(pe)},n.Eu=function(){return this.Cu(be)},n.Ru=function(){return this.Cu(ke)},n.Su=function(){return this.Cu(Ae)},n.Cu=function(t){var n=t.uo,i=this.ao.get(n);if(i)return i;var r=this.Nu(t,'video/mp4; codecs="avc1.42000a"');return this.ao.set(n,r),r},n.Nu=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ho.fo(n.ro,[Me(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.ho.fo(n.ro,[Me(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.bu=function(){return this.co||(this.co=this.vo()),this.co},n.vo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==kr.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Le){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Eu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Ve(t,n){return We(t.slice(),n)}function Xe(t,n){var i=We(t,n);return i!==t&&qe(i,void 0,t.length,t),t}function We(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){qe(i,n,s,e);var u=i;i=e,e=u}return i}function qe(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(e=(u=s+i)+i,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function ze(t,n,i){var r=Ge(t,n,i);return-1===r?void 0:t[r]}function Ge(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function je(t,n){var i=t.indexOf(n);return-1!==i&&(Qe(t,i),!0)}function Qe(t,n){t.splice(n,1)}function Ye(t,n){return-1!==t.indexOf(n)}function Ze(t,n){for(var i=0;i<n.length;i++){if(!Ye(t,n[i]))return!1}return!0}function Je(t){t.length=0}function $e(t){var n;return(n=[]).concat.apply(n,t)}function Ke(t,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,n(t[r],r));return i}var ts=function(){function t(){this.do=!1,this.lo=!1,this._o=[],this.wo=[]}var n=t.prototype;return n.yo=function(){if(!this.do&&!this.lo){this.do=!0;for(var t=0,n=this._o.slice();t<n.length;t++){(0,n[t])()}this.mo()}},n.mo=function(){if(!this.lo){this.lo=!0;for(var t=0,n=this.wo.slice();t<n.length;t++){(0,n[t])()}Je(this._o),Je(this.wo)}},n.ko=function(t){this.lo||this._o.push(t)},n.po=function(t){this.lo||je(this._o,t)},n.Ao=function(t){this.lo||this.wo.push(t)},n.bo=function(t){this.lo||je(this.wo,t)},t}(),ns=function(){function t(){this.To=new ts}var n=t.prototype;return n.Eo=function(){this.To.yo()},n.mo=function(){this.To.mo()},n.So=function(t){var n=this.To;if(!n.do)if(t.do)n.yo();else if(!n.lo&&!t.lo){var i=function(){r(),n.yo()},r=function r(){t.po(i),t.bo(r),n.po(i),n.bo(r)};t.ko(i),t.Ao(r),n.ko(i),n.Ao(r)}},n.Ro=function(){var n=new t,i=new t,r=n.Io,e=i.Io,s=this.To,u=function(){r.do&&e.lo||e.do&&r.lo?s.yo():r.lo&&e.lo&&s.mo()};r.ko(u),e.ko(u),r.Ao(u),e.Ao(u),n.So(s),i.So(s);return s.Ao(function(){r.po(u),e.po(u),r.bo(u),e.bo(u)}),[n,i]},L(t,[{key:"Io",get:function(){return this.To}}]),t}(),is=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"AbortError"}}]),n}(un);function rs(t){return t instanceof f&&"AbortError"===t.name}function es(t){if(t&&t.do)throw new is}function ss(t){if(rs(t))throw t}function us(t){if(!rs(t))throw t}function os(t,n){return n?new T(function(i,r){if(n.do)return t.catch(S),r(new is);var e=function t(){n.po(t),r(new is)};n.ko(e),t.then(function(t){n.po(e),i(t)},function(t){n.po(e),r(t)})}):t}function hs(t,n){return t.then(function(t){return n.mo(),t},function(t){throw n.mo(),t})}function as(t,n){var i=new ns;return n&&i.So(n),t(i.Io).then(function(t){return i.Eo(),t},function(t){throw i.Eo(),t})}var cs=T.resolve();function fs(t){cs.then(t)}function vs(t){t.then(S,S)}function ds(t){return ls.apply(this,arguments)}function ls(){return(ls=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,T.all(n.map(function(t){return t.catch(S)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function _s(t,n){return new T(function(i,r){if(void 0!==n&&n.do)r(new is);else{var e=b.ur(function(){void 0!==n&&n.po(s),i()},t),s=function(){b.sr(e),r(new is)};void 0!==n&&n.ko(s)}})}function gs(t,n){var i=new ns;return T.race([t,_s(n,i.Io).then(function(){throw new f("Timeout")})]).then(function(t){return i.Eo(),t},function(t){throw i.Eo(),t})}function ws(t){return t&&"function"!=typeof t?t.slice():t}function ys(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var ms,ks=function(){function t(t){var n=this;this.No=te(),this.Co=void 0,this.Do=void 0,this.Oo=function(t){n.xo(t)},this.Do=t||this}var n=t.prototype;return n.Po=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Bo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Bo(r,n)}},n.Bo=function(t,n){var i=this.No[t];i?"function"==typeof i?this.No[t]=[i,n]:i.push(n):this.No[t]=n},n.Lo=function(t){if("function"==typeof t){var n=this.Co;n?"function"==typeof n?this.Co=[n,t]:n.push(t):this.Co=t}},n.Mo=function(){this.No=te(),this.Co=void 0},n.xo=function(t){var n=ws(this.No[t.type]),i=ws(this.Co);ys(this.Do,t,n),ys(this.Do,t,i)},n.Uo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Fo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Fo(r,n)}},n.Fo=function(t,n){var i=this.No[t];i&&("function"==typeof i?i===n&&(this.No[t]=void 0):je(i,n))},n.Ho=function(t){if("string"==typeof t)this.No[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.No[i]=void 0}},n.Vo=function(t){var n=this.Co;n&&("function"==typeof n?n===t&&(this.Co=void 0):je(n,t))},n.Xo=function(t,n){var i=this;return new T(function(r,e){if(n&&n.do)return e(new is);var s=function(t){o(),r(t)},u=function(){o(),e(new is)},o=function(){i.Uo(t,s),n&&n.po(u)};i.Po(t,s),n&&n.ko(u)})},t}(),ps=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.xo=function(n){var i=this;fs(function(){t.prototype.xo.call(i,n)})},n}(ks),As=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},bs=["cenc"],Ts=["cbcs","cbcs-1-9"],Es=function(t){function n(n){var i;return(i=t.call(this,"qo")||this).Wo=n,i}return U(n,t),n}(As),Ss=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"zo")||this).Wo=n,s.Go=i,s.zo=r,s.jo=e,s}return U(n,t),n}(As),Rs=function(t){function n(){return t.call(this,"Qo")||this}return U(n,t),n}(As);!function(t){t.Yo="Zo",t.Jo="$o"}(ms||(ms={}));var Is=function(t){function n(n,i){var r;return(r=t.call(this,ms.Yo)||this).eo=n,r.Ko=i,r}return U(n,t),n}(As),Ns=function(t){function n(){return t.call(this,ms.Jo)||this}return U(n,t),n}(As),Cs=new y([0]).buffer,Ds=function(){function t(){this.th=void 0,this.th=[]}var n=t.prototype;return n.nh=function(t){for(var n=0,i=this.th;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.ih=function(t){for(var n=0,i=this.th;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.rh=function(t,n){this.th.forEach(function(n){return t(n[1],n[0])},n)},n.eh=function(t,n){this.th.push([t,n])},n.sh=function(){Je(this.th)},L(t,[{key:"uh",get:function(){return this.th.length}}]),t}(),Os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xs=16383,Ps=/[\t\n\f\r ]/g;function Bs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Ls()}function Ls(){throw new f("Invalid base64 input")}function Ms(t){var n=t;Ps.test(n)&&(n=n.replace(Ps,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Ls();for(var e,s=0===r?0:4-r,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)e=Bs(n.charCodeAt(h))<<18|Bs(n.charCodeAt(h+1))<<12|Bs(n.charCodeAt(h+2))<<6|Bs(n.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=Bs(n.charCodeAt(h))<<2|Bs(n.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=Bs(n.charCodeAt(h))<<10|Bs(n.charCodeAt(h+1))<<4|Bs(n.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function Us(t,n,i){for(var r,e,s,u=[],o=n;o<i;o+=3)u.push((r=t[o],e=t[o+1],s=t[o+2],Os[r>>2]+Os[(3&r)<<4|e>>4]+Os[(15&e)<<2|s>>6]+Os[63&s]));return u.join("")}function Fs(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=xs)r.push(Us(t,s,l.min(e,s+xs)));if(1===i){var u=t[n-1];r.push(Os[u>>2]+Os[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Os[o>>2]+Os[(3&o)<<4|h>>4]+Os[(15&h)<<2]+"=")}return r.join("")}var Hs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Vs=ArrayBuffer.isView||function(t){return t&&Ye(Hs,Z.call(t))};function Xs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Ws(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),r=0,e=0;e<t.length;e++){var s=t[e];i.set(s,r),r+=s.byteLength}return i}(t,n)}function qs(t){return Ms(t).buffer}function zs(t){return Fs(new y(t))}function Gs(t){return Fs(Ru(t))}var js=function(){function t(t){void 0===t&&(t=0),this.oh=t}var n=t.prototype;return n.hh=function(t){this.oh+=t},n.ah=function(t){this.oh=t},n.fh=function(){return new t(this.vh)},L(t,[{key:"vh",get:function(){return this.oh}}]),t}();function Qs(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ys(t,n){return t>>n&63|128}function Zs(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Qs(t),n.push(t>>12&15|224),n.push(Ys(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ys(t,12)),n.push(Ys(t,6))),n.push(63&t|128)):n.push(t)}function Js(t,n){if(n.vh>=t.length)throw new f("Invalid byte index");var i=255&t[n.vh];if(n.hh(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function $s(t,n){var i=n.vh;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.hh(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Js(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|Js(t,n)<<6|Js(t,n);if(s>=2048)return Qs(s),s;throw new f("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|Js(t,n)<<12|Js(t,n)<<6|Js(t,n);if(u>=65536&&u<=1114111)return u}throw new f("Invalid UTF-8 detected")}var Ks=65279;var tu=[128,64,32,16,8,4,2,1],nu=function(){function t(t){this.dh=t}return t.prototype.lh=function(t){return iu(this.dh,t)},t}();function iu(t,n){return(t&n)===n}function ru(t,n){return iu(t,tu[n])}function eu(t,n){var i=t.getUint8(n.vh);return n.hh(1),i}function su(t,n,i){t.setUint8(n.vh,i),n.hh(1)}function uu(t,n,i){var r=xu(Lu(t),n.vh,n.vh+i);return n.hh(r.byteLength),r}function ou(t,n,i){Lu(t).set(Lu(i),n.vh),n.hh(i.byteLength)}function hu(t,n,i){return n.vh+i<=t.byteLength}function au(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=eu(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+eu(t,n);return r}(t,n,i)}function cu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.vh,i);return n.hh(2),r}function fu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.vh,i,r),n.hh(2)}function vu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.vh,i);return n.hh(4),r}function du(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.vh,i,r),n.hh(4)}function lu(t,n,i){void 0===i&&(i=!1);var r=vu(t,n,i),e=vu(t,n,i),s=i?e:r,u=i?r:e;return Xt.fromBits(u,s,!0)}function _u(t,n){var i=eu(t,n);if(i)return String.fromCharCode(i)}function gu(t,n){return mu(t,n)}function wu(t,n,i){for(var r="",e=0;e<i;e++)r+=_u(t,n);return r}function yu(t,n){var i,r=eu(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&eu(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&eu(t,n))+(63&eu(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&eu(t,n))+64*(63&eu(t,n))+(63&eu(t,n))),i}function mu(t,n){return ku(t,n,!0)}function ku(t,n,i){for(var r=[];n.vh<t.byteLength;){var e=eu(t,n);if(i&&!e)break;r.push(e)}return Be(r)}function pu(t,n){if(n.vh+2<=t.byteLength){var i=t.getUint8(n.vh),r=t.getUint8(n.vh+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Au(t,n){var i=pu(t,n);return void 0!==i&&n.hh(2),bu(t,n,!0===i)}function bu(t,n,i){return void 0===i&&(i=!1),Tu(t,n,i,!0)}function Tu(t,n,i,r){for(var e=[];n.vh+2<=t.byteLength;){var s=cu(t,n,i);if(r&&!s)break;e.push(s)}return Be(e)}function Eu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){fu(t,n,i.charCodeAt(s),r)}}function Su(t){return ku(Bu(t),new Vu,!1)}function Ru(t){var n=new y(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)su(t,n,i.charCodeAt(e))}(Bu(n),new Vu,t),n}function Iu(t,n){return void 0===n&&(n=!1),Tu(Bu(t),new Vu,n,!1)}function Nu(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Eu(Bu(i),new Vu,t,n),i}function Cu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.vh+3<=t.byteLength&&239===t.getUint8(n.vh)&&187===t.getUint8(n.vh+1)&&191===t.getUint8(n.vh+2)})(t,n)&&n.hh(3);for(;n.vh<t.byteLength;){var e=yu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return xe(r)}(t,n,!0)}function Du(t){return xe(function(t,n){var i,r=[],e=new Vu;if(!n){if(!1===(i=$s(t,e)))return r;i===Ks||r.push(i)}for(;!1!==(i=$s(t,e));)r.push(i);return r}(Lu(t)))}function Ou(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Zs(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function xu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Pu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Bu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lu(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Mu(t){return t instanceof ArrayBuffer||Vs(t)}function Uu(t){return t instanceof ArrayBuffer?new y(t):Lu(t)}function Fu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Hu(xu(t,n,i))}function Hu(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Vu=function(){function t(t){void 0===t&&(t=0),this.oh=t}var n=t.prototype;return n.hh=function(t){this.oh+=t},n.ah=function(t){this.oh=t},n.fh=function(){return new t(this.vh)},n._h=function(){return new js(this.vh<<3)},L(t,[{key:"vh",get:function(){return this.oh}}]),t}();function Xu(t){var n=t,i=0,r=0;Ie(n,"0x")&&(n=n.substring(2));var e=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=_(n[0],16));i<n.length;i+=2)e[r++]=_(n.substr(i,2),16);return e}var Wu=function(){function t(){var t=this;this.gh=void 0,this.zn=void 0,this.Z=void 0,this.gh=new T(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.wh=function(t){this.zn&&(this.zn(t),this.mo())},n.yh=function(t){this.Z&&(this.Z(t),this.mo())},n.Eo=function(){this.gh.catch(S),this.yh(new is)},n.mo=function(){this.zn=void 0,this.Z=void 0},t}();function qu(){return new y([8,4]).buffer}function zu(t){return Xs(t,qu())}function Gu(t,n){return t===_e?function(t){if(t.byteLength<2*ju.length)return t;if(Iu(new DataView(t,0,2*ju.length),!0)===ju)return t;return n=t,Nu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+zs(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ju="<PlayReady";var Qu=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).mh=void 0,s.kh=void 0,s.mh=i,s.kh=r,s}return U(n,t),n}(un),Yu=function(t){function n(n,i){var r;(r=t.call(this)||this).ph=void 0,r.Ah=!1,r.bh=void 0,r.Th=void 0,r.Eh=function(){r.Sh()},r.Rh=function(t){r.xo(new Ss(en(r),t.messageType,Gu(r.Ih,t.message)))},r.Nh=function(){r.Ah=!0,r.ph.uh>0&&(r.ph.sh(),r.xo(new Es(en(r)))),r.Ch.removeEventListener("keystatuseschange",r.Eh),r.Ch.removeEventListener("message",r.Rh)},r.Ch=n,r.Ih=i,r.Ch.addEventListener("keystatuseschange",r.Eh),r.Ch.addEventListener("message",r.Rh),r.ph=new Ds;var e=[];return r.Ch.closed&&e.push(T.resolve(r.Ch.closed)),r.Th=new Wu,e.push(r.Th.gh),r.bh=T.race(e).then(r.Nh,r.Nh),r.Sh(),r}U(n,t);var i=n.prototype;return i.Dh=function(){if(this.Ah)return this.bh;var t=[];return t.push(T.resolve(this.Ch.close())),t.push(_s(1e3)),this.Th.wh(T.race(t).catch(Zu)),this.Ah=!0,this.bh},i.Oh=function(t,n,i){return T.resolve(this.Ch.generateRequest(t,n)).catch(Zu)},i.xh=function(t){return T.resolve(this.Ch.load(t)).catch(Zu)},i.Ph=function(){return T.resolve(this.Ch.remove()).catch(Zu)},i.Bh=function(t){return T.resolve(this.Ch.update(t)).catch(Zu)},i.Sh=function(){var t=this;this.ph.sh(),this.Ch.keyStatuses.forEach(function(n,i){t.Lh(i,n)}),this.xo(new Es(this))},i.Lh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Uu(t);if(this.Ih===_e&&16===r.byteLength){var e=Bu(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.Ih===_e&&"status-pending"===n&&(n="usable"),this.ph.eh(r,n)},L(n,[{key:"Mh",get:function(){return this.bh}},{key:"Uh",get:function(){return this.Ch.expiration}},{key:"Fh",get:function(){return this.ph}},{key:"Hh",get:function(){return this.Ch.sessionId}}]),n}(ks);function Zu(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Qu(t.message,void 0,n,t)}var Ju=function(){function t(t,n,i){this.Vh=t,this.Xh=n,this.Wh=i}var n=t.prototype;return n.qh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Yu(this.Vh.createSession(n),this.Xh));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zh=function(t){return T.resolve(this.Vh.setServerCertificate(t))},n.Gh=function(t){return T.resolve(t.setMediaKeys(this.Vh))},n.jh=function(t){return T.resolve(t.setMediaKeys(null))},t}(),$u=function(){function t(t,n,i){this.Qh=t,this.Ih=n,this.Yh=i}var n=t.prototype;return n.Zh=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Qh.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new Ju(n,this.Ih,this.Yh));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Jh=function(){return this.Yh},L(t,[{key:"Xh",get:function(){return this.Qh.keySystem}}]),t}(),Ku={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function to(t){return Re(t,Ku.APPLICATION_MP4)||Re(t,Ku.VIDEO_MP4)||Re(t,Ku.AUDIO_MP4)}var no=function(){function t(t,n){this.io=void 0,this.$h=void 0,this.io=t,this.$h=n}return t.prototype.Kh=function(t){for(var n=0,i=this.$h;n<i.length;n++){var r=i[n],e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function io(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new no(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=ro(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=ro(e.substr(u));f&&s.push(f)}return new no(r,s)}function ro(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function eo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function so(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ta:r.ta},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return uo(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return uo(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function uo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ye(n,r.encryptionScheme))&&(!r.robustness&&t(i,eo(r.contentType))))}function oo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,s=t.audioCapabilities;e<s.length;e++){var u=s[e];if(u.contentType)return u.contentType}}function ho(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function ao(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(co))||!(!t.videoCapabilities||!t.videoCapabilities.some(co))}function co(t){return!t.robustness}function fo(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(Kr({},e,{robustness:n}))}return i}var vo=function(){function t(){}return t.prototype.fo=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,o,h,a,c,f;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ta}),r=0,e=i;r<e.length;r++)(s=e[r]).audioCapabilities&&(s.audioCapabilities=ho(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=ho(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(ao)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",Kr({},n=t,{videoCapabilities:n.videoCapabilities?fo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?fo(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,u.requestMediaKeySystemAccess(n,o);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new $u(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,u.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new $u(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.na=function(){return Ue()},t}(),lo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ah=!1,r.ia=void 0,r.ra=void 0,r.ea=void 0,r.sa=void 0,r.ua=void 0,r.Nh=function(){r.Ah=!0,r.ia.wh(void 0),r.ua&&(r.ua.removeEventListener("mskeyclose",r.Nh),r.ua.removeEventListener("mskeymessage",r.oa),r.ua.removeEventListener("mskeyerror",r.ha),r.ua.removeEventListener("mskeyadded",r.aa))},r.oa=function(t){r.ea&&(r.ea.wh(void 0),r.ea=void 0),r.xo(new Ss(en(r),"license-request",Hu(t.message).buffer,t.destinationURL||void 0))},r.ha=function(){var t=r.ua&&r.ua.error;if(t){var n=new Qu("Unknown CDM error",t.code,t.systemCode);if(r.ea)r.ea.yh(n),r.ea=void 0;else if(r.ra)r.ra.yh(n),r.ra=void 0;else switch(n.mh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ca("output-not-allowed");break;default:r.ca("internal-error")}}},r.aa=function(){r.ea&&(r.ca("usable"),r.ea.wh(void 0),r.ea=void 0),r.ra&&(r.ca("usable"),r.ra.wh(void 0),r.ra=void 0)},r.fa=n,r.va=i,r.ia=new Wu,r.sa=new Ds,r}U(n,t);var i=n.prototype;return i.Oh=function(){var t=T.coroutine($r.mark(function t(n,i,r){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.da(),this.ea=new Wu,this.qh(Uu(i),r),t.next=5,this.ea.gh;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qh=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.la;return(i=n?this.fa.createSession(this.va,t,r):this.fa.createSession(this.va,t)).addEventListener("mskeyclose",this.Nh),i.addEventListener("mskeymessage",this.oa),i.addEventListener("mskeyerror",this.ha),i.addEventListener("mskeyadded",this.aa),this.ua=i,this.ca("status-pending"),i},i.xh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.da(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bh=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ra=new Wu,this.da(),this.ua){t.next=4;break}return t.abrupt("return",T.resolve());case 4:if(0!==(i=Uu(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.ua.update(i),t.next=10,this.ra.gh;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dh=function(){return!this.Ah&&this.ua&&(this.Ah=!0,this.ua.close()),this.ia.gh},i.Ph=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.da(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.da=function(){if(this.Ah)throw new v("Already closing or closed.")},i.ca=function(t){this.sa.sh(),this.sa.eh(Cs,t),this.xo(new Es(this))},L(n,[{key:"Hh",get:function(){return this.ua&&this.ua.sessionId||""}},{key:"Uh",get:function(){return NaN}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Fh",get:function(){return this.sa}}]),n}(ks),_o=function(){function t(t,n,i){this.va=void 0,this.fa=t,this.Xh=n,this.Wh=i;var r=oo(i)||"video/mp4";this.va=eo(r)}var n=t.prototype;return n.qh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new lo(this.fa,this.va));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zh=function(t){return T.resolve(!1)},n.Gh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.fa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.fa),t.removeEventListener("loadedmetadata",i)}),T.resolve()},n.jh=function(t){return T.resolve()},t}(),go=function(){function t(t,n){this.Ih=t,this._a=n}var n=t.prototype;return n.Jh=function(){return this._a},n.Zh=function(){var t=new mr.MSMediaKeys(this.Ih);return T.resolve(new _o(t,this.Ih,this._a))},L(t,[{key:"Xh",get:function(){return this.Ih}}]),t}(),wo=function(){function t(){}return t.prototype.fo=function(t,n){try{return T.resolve(function(t,n){if(!yo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=so(mo,bs,t,r);if(e)return new go(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.na=function(){return yo()},t}();function yo(){return void 0!==mr.MSMediaKeys&&"function"==typeof mr.MSMediaKeys.isTypeSupported}function mo(t,n){return mr.MSMediaKeys.isTypeSupported(t,n)}var ko,po,Ao=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ia=new Wu,e.ga=void 0,e.sa=new Ds,e.wa=void 0,e.ya=new Wu,e.ha=function(){var t=e.wa&&e.wa.error;if(t){var n=new Qu("Unknown CDM error",t.code,t.systemCode);e.ga?(e.ga.yh(n),e.ga=void 0):n.mh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ca("output-not-allowed"):e.ca("internal-error"),e.xo(new Rs)}},e.oa=function(t){e.ga&&(e.ga.wh(void 0),e.ga=void 0),e.xo(new Ss(en(e),"license-request",Hu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.ma=n,e.va=i,e.ka=r,e}U(n,t);var i=n.prototype;return i.Oh=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.pa;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=bo(Uu(n),r,this.ka);return this.wa=this.ma.createSession(this.va,e),this.wa.addEventListener("webkitkeymessage",this.oa,!1),this.wa.addEventListener("webkitkeyerror",this.ha,!1),this.ca("usable"),this.ya.wh(this.wa),this.ya=new Wu,T.resolve()},i.xh=function(t){return T.resolve(!0)},i.Bh=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Uu(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.ga=new Wu,t.t0=this.wa,t.t0){t.next=9;break}return t.next=8,this.ya.gh;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ga.gh;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dh=function(){var t=this.wa;return t&&(t.removeEventListener("webkitkeymessage",this.oa,!1),t.removeEventListener("webkitkeyerror",this.ha,!1),t.close()),this.ya.Eo(),this.ia.wh(void 0),this.ia.gh},i.Ph=function(){return T.resolve(void 0)},i.ca=function(t){this.sa.sh(),this.sa.eh(Cs,t),this.xo(new Es(this))},L(n,[{key:"Hh",get:function(){return this.wa?this.wa.sessionId:""}},{key:"Uh",get:function(){return NaN}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Fh",get:function(){return this.sa}}]),n}(ks);function bo(t,n,i){var r=Du(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new Vu;return du(o,h,e,!0),Eu(o,h,r,!0),du(o,h,s,!0),Eu(o,h,n,!0),du(o,h,i.byteLength,!0),ou(o,h,i),new y(u)}(ko=n.ErrorCode||(n.ErrorCode={}))[ko.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",ko[ko.LICENSE_ERROR=2e3]="LICENSE_ERROR",ko[ko.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",ko[ko.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",ko[ko.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",ko[ko.SOURCE_INVALID=3e3]="SOURCE_INVALID",ko[ko.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",ko[ko.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",ko[ko.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",ko[ko.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",ko[ko.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",ko[ko.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",ko[ko.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",ko[ko.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",ko[ko.MEDIA_ABORTED=5004]="MEDIA_ABORTED",ko[ko.NETWORK_ERROR=6e3]="NETWORK_ERROR",ko[ko.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",ko[ko.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",ko[ko.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",ko[ko.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",ko[ko.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",ko[ko.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",ko[ko.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",ko[ko.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",ko[ko.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",ko[ko.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",ko[ko.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",ko[ko.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",ko[ko.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",ko[ko.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",ko[ko.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",ko[ko.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",ko[ko.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",ko[ko.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",ko[ko.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",ko[ko.AD_ERROR=1e4]="AD_ERROR",ko[ko.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",ko[ko.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(po=n.ErrorCategory||(n.ErrorCategory={}))[po.CONFIGURATION=1]="CONFIGURATION",po[po.LICENSE=2]="LICENSE",po[po.SOURCE=3]="SOURCE",po[po.MANIFEST=4]="MANIFEST",po[po.MEDIA=5]="MEDIA",po[po.NETWORK=6]="NETWORK",po[po.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",po[po.SUBTITLE=8]="SUBTITLE",po[po.VR=9]="VR",po[po.AD=10]="AD",po[po.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var To=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return U(i,t),L(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(un),Eo=function(){function t(t,n,i){this.va=void 0,this.ka=void 0,this.ma=t,this.Xh=n,this.Wh=i;var r=oo(i)||"video/mp4";this.va=eo(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.ma},i.qh=function(){var t=T.coroutine($r.mark(function t(i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ka){t.next=2;break}throw new To(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ao(this.ma,this.va,this.ka));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(t){return this.ka=Uu(t),T.resolve(!0)},i.Gh=function(t){return t.webkitSetMediaKeys(this.ma),T.resolve()},i.jh=function(t){return t.webkitSetMediaKeys(null),T.resolve()},t}(),So=function(){function t(t,n){this.Ih=t,this._a=n}var n=t.prototype;return n.Jh=function(){return this._a},n.Zh=function(){var t=new mr.WebKitMediaKeys(this.Ih);return T.resolve(new Eo(t,this.Ih,this._a))},L(t,[{key:"Xh",get:function(){return this.Ih}}]),t}(),Ro=function(){function t(){}return t.prototype.fo=function(t,n){try{return T.resolve(function(t,n){if(t!==me)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Io())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=so(No,Ts,t,r);if(e)return new So(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.na=function(){return Io()},t}();function Io(){return void 0!==mr.WebKitMediaKeys&&"function"==typeof mr.WebKitMediaKeys.isTypeSupported}function No(t,n){return mr.WebKitMediaKeys.isTypeSupported(t,n)}var Co,Do=function(){function t(t){this.Aa=t}return t.prototype.fo=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Aa;case 1:if(!(r<e.length)){t.next=14;break}return s=e[r],t.prev=3,t.next=6,s.fo(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Oo=function(t){function n(n){var i;return(i=t.call(this)||this).ea=void 0,i.ga=void 0,i.ia=void 0,i.ba=!1,i.Ta=void 0,i.Ea=void 0,i.Sa=void 0,i.Ra=void 0,i.Ia=void 0,i.Ih=n,i.ia=new Wu,i.Ea="",i.Ia=new Wu,i.Sa=new Ds,i}U(n,t);var i=n.prototype;return i.Na=function(){this.ga&&(this.ca("usable"),this.ga.wh(void 0),this.ga=void 0)},i.Ca=function(t){var n=new Qu("Unknown CDM error",t.errorCode,t.systemCode);this.ga?(this.ga.yh(n),this.ga=void 0):this.ea?(this.ea.yh(n),this.ea=void 0):n.mh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ca("output-restricted"):1===n.kh?this.ca("expired"):this.ca("internal-error")},i.Da=function(t){0!==t.message.byteLength&&(this.ea&&(this.ea.wh(void 0),this.ea=void 0),this.xo(new Ss(this,"license-request",Gu(this.Ih,Hu(t.message).buffer),t.defaultURL||void 0)))},i.Oa=function(t){this.Ra||(this.Ra=t,this.Ia.wh(t))},i.Dh=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ba=!0,this.ia.wh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Oh=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ea=new Wu,this.Ta=Uu(i),t.t0=this.Ra,t.t0){t.next=8;break}return t.next=7,this.Ia.gh;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Ih,this.Ta),t.next=12,this.ea.gh;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ph=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Bh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ga=new Wu,t.t0=this.Ra,t.t0){t.next=7;break}return t.next=6,this.Ia.gh;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Ih,Uu(n),this.Ta,this.Hh),t.next=11,this.ga.gh;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ba)throw new v("Already closing or closed.")},i.ca=function(t){this.Sa.sh(),this.Sa.eh(Cs,t),this.xo(new Es(this))},L(n,[{key:"Fh",get:function(){return this.Sa}},{key:"Hh",get:function(){return this.Ea},set:function(t){this.Ea=t}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Uh",get:function(){return NaN}}]),n}(ks),xo=function(){function t(t,n){var i=this;this.Ra=void 0,this.xa=ne(),this.Pa=[],this.aa=function(t){var n=i.Ba(t.sessionId);n&&n.Na()},this.La=function(t){var n=i.Ba(t.sessionId);n&&n.Ca(t)},this.Ma=function(t){var n=i.Ba(t.sessionId);n&&n.Da(t)},this.Xh=t,this.Wh=n}var n=t.prototype;return n.Gh=function(t){return this.Ra=t,this.Ra.addEventListener("webkitkeyadded",this.aa),this.Ra.addEventListener("webkitkeyerror",this.La),this.Ra.addEventListener("webkitkeymessage",this.Ma),this.xa.forEach(function(n,i){return n.Oa(t)}),this.Pa.forEach(function(n){return n.Oa(t)}),T.resolve()},n.jh=function(t){return t.removeEventListener("webkitkeyadded",this.aa),t.removeEventListener("webkitkeyerror",this.La),t.removeEventListener("webkitkeymessage",this.Ma),this.Ra=void 0,T.resolve()},n.qh=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Oo(this.Xh),this.Ra&&e.Oa(this.Ra),this.Pa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.zh=function(t){return T.resolve(!1)},n.Ba=function(t){if(t){var n=this.xa.get(t);return n||((n=this.Pa.shift())?(n.Hh=t,this.xa.set(t,n),n):void 0)}},t}(),Po=function(){function t(t,n){this.Xh=t,this.Ua=n}var n=t.prototype;return n.Zh=function(){return T.resolve(new xo(this.Xh,this.Ua))},n.Jh=function(){return this.Ua},t}(),Bo=function(){function t(){}return t.prototype.fo=function(t,n){try{return T.resolve(Lo(t,n))}catch(t){return T.reject(t)}},t.na=function(){return Fe()},t}();function Lo(t,n){if(!Bo.na())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=so(Mo,bs,t,r);if(e)return new Po(t,e)}throw new v("Unsupported key system configuration for "+t)}function Mo(t,n){var i=Pr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Uo(){return Co||(Co=function(){var t=[];Ro.na()&&t.push(new Ro);vo.na()&&t.push(new vo);wo.na()&&t.push(new wo);Bo.na()&&t.push(new Bo);return new Do(t)}()),Co}var Fo=function(){function t(){this.Fa=ne()}var n=t.prototype;return n.sh=function(t){this.Fa.delete(t)},n.Ha=function(){this.Fa.clear()},n.ih=function(t){return this.Fa.get(t)},n.Va=function(t,n){this.Fa.set(t,n)},t}(),Ho=function(){function t(){}return t.Xa=function(){return t.je||(t.je=Vo.na()?new Vo:new Fo),t.je},t.sh=function(n){t.Xa().sh(n)},t.Ha=function(){t.Xa().Ha()},t.ih=function(n){return t.Xa().ih(n)},t.Va=function(n,i){t.Xa().Va(n,i)},t}();Ho.je=void 0;var Vo=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i.na=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.sh=function(n){t.sessionStorage.removeItem(n)},r.Ha=function(){t.sessionStorage.clear()},r.ih=function(n){return t.sessionStorage[n]},r.Va=function(n,i){t.sessionStorage[n]=i},i}(Ho);var Xo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var s=t[e];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function Wo(t,n,i){var r=Xo([n],{type:"application/octet-stream"}),s=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=s,o.download=u,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(s)}var qo,zo;!function(t){t.Wa="qa",t.za="Ga",t.ja="contentprotectionerror",t.Qa="contentprotectionsuccess",t.Ya="currentsourcechange",t.Za="destroy",t.Ja="durationchange",t.$a="emptied",t.Yo="encrypted",t.Ka="ended",t.tc="nc",t.ic="loadstart",t.rc="manifestupdate",t.ec="nosupportedrepresentationfound",t.sc="offline",t.uc="online",t.oc="pause",t.hc="play",t.ac="progress",t.cc="ratechange",t.fc="representationchange",t.vc="resize",t.dc="seeked",t.lc="seeking",t._c="segmentnotfound",t.gc="wc",t.yc="mc",t.kc="sourcechange",t.pc="timeupdate",t.Ac="volumechange",t.bc="Tc",t.Ec="metricschange"}(qo||(qo={})),function(t){t.Sc="arraybuffer",t.Rc="json",t.Ic="stream",t.Je="text"}(zo||(zo={}));var Go=function(){function t(n){var i=this;this.Yu=void 0,this.Yu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=jo(i),r=Qo(r);var e=i.toLowerCase();if(this.Yu.hasOwnProperty(e)){var s=this.Yu[e],u=s[1];s[1]=u?u+", "+r:r}else this.Yu[e]=[i,r]},n.delete=function(t){var n=jo(t).toLowerCase();delete this.Yu[n]},n.get=function(t){var n=jo(t).toLowerCase();return this.Yu.hasOwnProperty(n)?this.Yu[n][1]:null},n.has=function(t){var n=jo(t).toLowerCase();return this.Yu.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=jo(i)).toLowerCase();this.Yu[r]=[i,Qo(n)]},n.forEach=function(t,n){for(var i in this.Yu)this.Yu.hasOwnProperty(i)&&t.call(n,this.Yu[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Yu)if(this.Yu.hasOwnProperty(n)){var i=this.Yu[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Nc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Cc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Dc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function jo(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Qo(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Zo(){}var Jo=Number.isNaN||function(t){return t!=t},$o=Zo;function Ko(t){return"object"==typeof t&&null!==t||"function"==typeof t}function th(t){return t.slice()}function nh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Jo(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function ih(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function rh(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return sh(e,t,r)};case 1:return function(n){var i=[n].concat(r);return sh(e,t,i)}}}return function(){return lh(void 0)}}function eh(t,n,i){var r=t[n];if(void 0!==r)return ih(r,t,i)}function sh(t,n,i){try{return lh(ih(t,n,i))}catch(t){return _h(t)}}function uh(t){return t}function oh(t){if(t=Number(t),Jo(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function hh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ah=T,ch=T.prototype.then,fh=T.resolve.bind(ah),vh=T.reject.bind(ah);function dh(t){return new ah(t)}function lh(t){return fh(t)}function _h(t){return vh(t)}function gh(t,n,i){return ch.call(t,n,i)}function wh(t,n,i){gh(gh(t,n,i),void 0,$o)}function yh(t,n){wh(t,n)}function mh(t,n){wh(t,void 0,n)}function kh(t,n,i){return gh(t,n,i)}function ph(t){gh(t,void 0,$o)}var Ah=function(){function t(){this.Oc=0,this.xc=0,this.Ni={Pc:[],Bc:void 0},this.Lc=this.Ni,this.Oc=0,this.xc=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.xc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Lc,i=n;16383===n.Pc.length&&(i={Pc:[],Bc:void 0}),n.Pc.push(t),i!==n&&(this.Lc=i,n.Bc=i),++this.xc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Oc,r=i+1,e=t.Pc,s=e[i];return 16384===r&&(n=t.Bc,r=0),--this.xc,this.Oc=r,t!==n&&(this.Ni=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Oc,i=this.Ni,r=i.Pc;!(n===r.length&&void 0===i.Bc||n===r.length&&(n=0,0===(r=(i=i.Bc).Pc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Oc;return t.Pc[n]},t}();function bh(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Th(t,n){t.Mc=!0,t.Uc=n,n.Fc=t,"readable"===n.Hc?Ih(t):"closed"===n.Hc?function(t){Ih(t),Dh(t)}(t):Nh(t,n.Vc)}function Eh(t,n){return Bc(t.Uc,n)}function Sh(t){"readable"===t.Uc.Hc?Ch(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Nh(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Uc.Fc=void 0,t.Uc=void 0}function Rh(t){return new v("Cannot "+t+" a stream using a released reader")}function Ih(t){t.bh=dh(function(n,i){t.Xc=n,t.Wc=i})}function Nh(t,n){Ih(t),Ch(t,n)}function Ch(t,n){ph(t.bh),t.Wc(n),t.Xc=void 0,t.Wc=void 0}function Dh(t){t.Xc(void 0),t.Xc=void 0,t.Wc=void 0}var Oh=Yo("[[CancelSteps]]"),xh=Yo("[[PullSteps]]");function Ph(t,n){void 0===n&&(n=!1);var i=new Vh(t);return i.Mc=n,i}function Bh(t){return dh(function(n,i){var r={zn:n,Z:i};t.Fc.qc.push(r)})}function Lh(t,n,i){var r=t.Fc;r.qc.shift().zn(bh(n,i,r.Mc))}function Mh(t){return t.Fc.qc.length}function Uh(t){var n=t.Fc;return void 0!==n&&!!Xh(n)}var Fh,Hh,Vh=function(){function t(t){if(!1===xc(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Pc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Th(this,t),this.qc=new Ah}return d.defineProperty(t.prototype,"closed",{get:function(){return Xh(this)?this.bh:_h(qh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xh(this)?void 0===this.Uc?_h(Rh("cancel")):Eh(this,t):_h(qh("cancel"))},t.prototype.read=function(){return Xh(this)?void 0===this.Uc?_h(Rh("read from")):Wh(this):_h(qh("read"))},t.prototype.releaseLock=function(){if(!Xh(this))throw qh("releaseLock");if(void 0!==this.Uc){if(this.qc.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Sh(this)}},t}();function Xh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"qc")}function Wh(t){var n=t.Uc;return n.zc=!0,"closed"===n.Hc?lh(bh(void 0,!0,t.Mc)):"errored"===n.Hc?_h(n.Vc):n.Gc[xh]()}function qh(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Yo.asyncIterator&&((Fh={})[Yo.asyncIterator]=function(){return this},Hh=Fh,d.defineProperty(Hh,Yo.asyncIterator,{enumerable:!1}));var zh={next:function(){if(!1===Gh(this))return _h(jh("next"));var t=this.jc;return void 0===t.Uc?_h(Rh("iterate")):kh(Wh(t),function(n){var i=n.done;return i&&Sh(t),bh(n.value,i,!0)})},return:function(t){if(!1===Gh(this))return _h(jh("next"));var n=this.jc;if(void 0===n.Uc)return _h(Rh("finish iterating"));if(n.qc.length>0)return _h(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Qc){var i=Eh(n,t);return Sh(n),kh(i,function(){return bh(t,!0,!0)})}return Sh(n),lh(bh(t,!0,!0))}};function Gh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"jc")}function jh(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Qh(t){var n=t.Fn.shift();return t.Yc-=n.size,t.Yc<0&&(t.Yc=0),n.value}function Yh(t,n,i){if(!nh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.Yc+=i}function Zh(t){t.Fn=new Ah,t.Yc=0}void 0!==Hh&&d.setPrototypeOf(zh,Hh),d.defineProperty(zh,"next",{enumerable:!1}),d.defineProperty(zh,"return",{enumerable:!1});var Jh=Yo("[[AbortSteps]]"),$h=Yo("[[ErrorSteps]]"),Kh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),na(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=hh(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(ma.prototype);var s=rh(n,"write",1,[e]),u=rh(n,"close",0,[]),o=rh(n,"abort",1,[]);ka(t,e,function(){return eh(n,"start",[e])},s,u,o,i,r)}(this,t,r=oh(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ia(this))throw Ra("locked");return ra(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ia(this)?_h(Ra("abort")):!0===ra(this)?_h(new v("Cannot abort a stream that already has a writer")):ea(this,t)},t.prototype.close=function(){return!1===ia(this)?_h(Ra("close")):!0===ra(this)?_h(new v("Cannot close a stream that already has a writer")):!0===aa(this)?_h(new v("Cannot close an already-closing stream")):sa(this)},t.prototype.getWriter=function(){if(!1===ia(this))throw Ra("getWriter");return ta(this)},t}();function ta(t){return new va(t)}function na(t){t.Hc="writable",t.Vc=void 0,t.Zc=void 0,t.Jc=void 0,t.$c=new Ah,t.Kc=void 0,t.tf=void 0,t.nf=void 0,t.if=void 0,t.rf=!1}function ia(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Jc")}function ra(t){return void 0!==t.Zc}function ea(t,n){var i=t.Hc;if("closed"===i||"errored"===i)return lh(void 0);if(void 0!==t.if)return t.if._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=dh(function(i,e){t.if={_n:void 0,zn:i,Z:e,Pn:n,ef:r}});return t.if._n=e,!1===r&&oa(t,n),e}function sa(t){var n=t.Hc;if("closed"===n||"errored"===n)return _h(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=dh(function(n,i){var r={zn:n,Z:i};t.tf=r}),e=t.Zc;return void 0!==e&&!0===t.rf&&"writable"===n&&Ua(e),Yh(i=t.Jc,"close",0),ba(i),r}function ua(t,n){"writable"!==t.Hc?ha(t):oa(t,n)}function oa(t,n){var i=t.Jc;t.Hc="erroring",t.Vc=n;var r=t.Zc;void 0!==r&&ga(r,n),!1===function(t){if(void 0===t.Kc&&void 0===t.nf)return!1;return!0}(t)&&!0===i.sf&&ha(t)}function ha(t){t.Hc="errored",t.Jc[$h]();var n=t.Vc;if(t.$c.forEach(function(t){t.Z(n)}),t.$c=new Ah,void 0!==t.if){var i=t.if;if(t.if=void 0,!0===i.ef)return i.Z(n),void ca(t);wh(t.Jc[Jh](i.Pn),function(){i.zn(),ca(t)},function(n){i.Z(n),ca(t)})}else ca(t)}function aa(t){return void 0!==t.tf||void 0!==t.nf}function ca(t){void 0!==t.tf&&(t.tf.Z(t.Vc),t.tf=void 0);var n=t.Zc;void 0!==n&&Oa(n,t.Vc)}function fa(t,n){var i=t.Zc;void 0!==i&&n!==t.rf&&(!0===n?function(t){Pa(t)}(i):Ua(i)),t.rf=n}var va=function(){function t(t){if(!1===ia(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ra(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.uf=t,t.Zc=this;var n,i=t.Hc;if("writable"===i)!1===aa(t)&&!0===t.rf?Pa(this):La(this),Ca(this);else if("erroring"===i)Ba(this,t.Vc),Ca(this);else if("closed"===i)La(this),Ca(n=this),xa(n);else{var r=t.Vc;Ba(this,r),Da(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===da(this)?_h(Ia("closed")):this.bh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===da(this))throw Ia("desiredSize");if(void 0===this.uf)throw Na("desiredSize");return function(t){var n=t.uf,i=n.Hc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Aa(n.Jc)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===da(this)?_h(Ia("ready")):this.hf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===da(this)?_h(Ia("abort")):void 0===this.uf?_h(Na("abort")):function(t,n){return ea(t.uf,n)}(this,t)},t.prototype.close=function(){if(!1===da(this))return _h(Ia("close"));var t=this.uf;return void 0===t?_h(Na("close")):!0===aa(t)?_h(new v("Cannot close an already-closing stream")):la(this)},t.prototype.releaseLock=function(){if(!1===da(this))throw Ia("releaseLock");void 0!==this.uf&&wa(this)},t.prototype.write=function(t){return!1===da(this)?_h(Ia("write")):void 0===this.uf?_h(Na("write to")):ya(this,t)},t}();function da(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"uf")}function la(t){return sa(t.uf)}function _a(t,n){"pending"===t.af?Oa(t,n):function(t,n){Da(t,n)}(t,n)}function ga(t,n){"pending"===t.cf?Ma(t,n):function(t,n){Ba(t,n)}(t,n)}function wa(t){var n=t.uf,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");ga(t,i),_a(t,i),n.Zc=void 0,t.uf=void 0}function ya(t,n){var i=t.uf,r=i.Jc,e=function(t,n){try{return t.ff(n)}catch(n){return Ta(t,n),1}}(r,n);if(i!==t.uf)return _h(Na("write to"));var s=i.Hc;if("errored"===s)return _h(i.Vc);if(!0===aa(i)||"closed"===s)return _h(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return _h(i.Vc);var u=function(t){return dh(function(n,i){var r={zn:n,Z:i};t.$c.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Yh(t,r,i)}catch(n){return void Ta(t,n)}var e=t.vf;if(!1===aa(e)&&"writable"===e.Hc){var s=Ea(t);fa(e,s)}ba(t)}(r,n,e),u}var ma=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Ko(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"vf"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.vf.Hc&&Sa(this,t)},t.prototype[Jh]=function(t){var n=this.df(t);return pa(this),n},t.prototype[$h]=function(){Zh(this)},t}();function ka(t,n,i,r,e,s,u,o){n.vf=t,t.Jc=n,n.Fn=void 0,n.Yc=void 0,Zh(n),n.sf=!1,n.ff=o,n.lf=u,n._f=r,n.gf=e,n.df=s;var h=Ea(n);fa(t,h),wh(lh(i()),function(){n.sf=!0,ba(n)},function(i){n.sf=!0,ua(t,i)})}function pa(t){t._f=void 0,t.gf=void 0,t.df=void 0,t.ff=void 0}function Aa(t){return t.lf-t.Yc}function ba(t){var n=t.vf;if(!1!==t.sf&&void 0===n.Kc)if("erroring"!==n.Hc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.vf;(function(t){t.nf=t.tf,t.tf=void 0})(n),Qh(t);var i=t.gf();pa(t),wh(i,function(){!function(t){t.nf.zn(void 0),t.nf=void 0,"erroring"===t.Hc&&(t.Vc=void 0,void 0!==t.if&&(t.if.zn(),t.if=void 0)),t.Hc="closed";var n=t.Zc;void 0!==n&&xa(n)}(n)},function(t){!function(t,n){t.nf.Z(n),t.nf=void 0,void 0!==t.if&&(t.if.Z(n),t.if=void 0),ua(t,n)}(n,t)})}(t):function(t,n){var i=t.vf;(function(t){t.Kc=t.$c.shift()})(i),wh(t._f(n),function(){!function(t){t.Kc.zn(void 0),t.Kc=void 0}(i);var n=i.Hc;if(Qh(t),!1===aa(i)&&"writable"===n){var r=Ea(t);fa(i,r)}ba(t)},function(n){"writable"===i.Hc&&pa(t),function(t,n){t.Kc.Z(n),t.Kc=void 0,ua(t,n)}(i,n)})}(t,i.chunk)}}else ha(n)}function Ta(t,n){"writable"===t.vf.Hc&&Sa(t,n)}function Ea(t){return Aa(t)<=0}function Sa(t,n){var i=t.vf;pa(t),oa(i,n)}function Ra(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Ia(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Na(t){return new v("Cannot "+t+" a stream using a released writer")}function Ca(t){t.bh=dh(function(n,i){t.Xc=n,t.Wc=i,t.af="pending"})}function Da(t,n){Ca(t),Oa(t,n)}function Oa(t,n){ph(t.bh),t.Wc(n),t.Xc=void 0,t.Wc=void 0,t.af="rejected"}function xa(t){t.Xc(void 0),t.Xc=void 0,t.Wc=void 0,t.af="resolved"}function Pa(t){t.hf=dh(function(n,i){t.wf=n,t.yf=i}),t.cf="pending"}function Ba(t,n){Pa(t),Ma(t,n)}function La(t){Pa(t),Ua(t)}function Ma(t,n){ph(t.hf),t.yf(n),t.wf=void 0,t.yf=void 0,t.cf="rejected"}function Ua(t){t.wf(void 0),t.wf=void 0,t.yf=void 0,t.cf="fulfilled"}function Fa(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Ha="undefined"!=typeof DOMException?DOMException:void 0;var Va,Xa=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ha)?Ha:((Va=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(Va.prototype,"constructor",{value:Va,writable:!0,configurable:!0}),Va);function Wa(t,n,i,r,e,s){var u=Ph(t),o=ta(n);t.zc=!0;var h=!1,a=lh(void 0);return dh(function(c,f){var d,l,_,g;if(void 0!==s){if(d=function(){var i=new Xa("Aborted","AbortError"),s=[];!1===r&&s.push(function(){return"writable"===n.Hc?ea(n,i):lh(void 0)}),!1===e&&s.push(function(){return"readable"===t.Hc?Bc(t,i):lh(void 0)}),k(function(){return T.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(m(t,u.bh,function(t){!1===r?k(function(){return ea(n,t)},!0,t):p(!0,t)}),m(n,o.bh,function(n){!1===e?k(function(){return Bc(t,n)},!0,n):p(!0,n)}),l=t,_=u.bh,g=function(){!1===i?k(function(){return function(t){var n=t.uf,i=n.Hc;return!0===aa(n)||"closed"===i?lh(void 0):"errored"===i?_h(n.Vc):la(t)}(o)}):p()},"closed"===l.Hc?g():yh(_,g),!0===aa(n)||"closed"===n.Hc){var w=new v("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Bc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return gh(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Hc?i(t.Vc):mh(n,i)}function k(t,i,r){function e(){wh(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Hc&&!1===aa(n)?yh(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.Hc&&!1===aa(n)?yh(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){wa(o),Sh(u),void 0!==s&&s.removeEventListener("abort",d),t?f(n):c(void 0)}ph(dh(function(t,n){!function i(r){r?t():gh(!0===h?lh(!0):gh(o.hf,function(){return gh(Wh(u),function(t){return!0===t.done||(a=gh(ya(o,t.value),void 0,Zo),!1)})}),i,n)}(!1)}))})}var qa=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===za(this))throw nc("desiredSize");return $a(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===za(this))throw nc("close");if(!1===Ka(this))throw new v("The stream is not in a state that permits close");Ya(this)},t.prototype.enqueue=function(t){if(!1===za(this))throw nc("enqueue");if(!1===Ka(this))throw new v("The stream is not in a state that permits enqueue");return Za(this,t)},t.prototype.error=function(t){if(!1===za(this))throw nc("error");Ja(this,t)},t.prototype[Oh]=function(t){Zh(this);var n=this.mf(t);return Qa(this),n},t.prototype[xh]=function(){var t=this.kf;if(this.Fn.length>0){var n=Qh(this);return!0===this.pf&&0===this.Fn.length?(Qa(this),Lc(t)):Ga(this),lh(bh(n,!1,t.Fc.Mc))}var i=Bh(t);return Ga(this),i},t}();function za(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"kf")}function Ga(t){!1!==ja(t)&&(!0!==t.Af?(t.Af=!0,wh(t.bf(),function(){t.Af=!1,!0===t.Tf&&(t.Tf=!1,Ga(t))},function(n){Ja(t,n)})):t.Tf=!0)}function ja(t){var n=t.kf;return!1!==Ka(t)&&(!1!==t.sf&&(!0===Pc(n)&&Mh(n)>0||$a(t)>0))}function Qa(t){t.bf=void 0,t.mf=void 0,t.ff=void 0}function Ya(t){var n=t.kf;t.pf=!0,0===t.Fn.length&&(Qa(t),Lc(n))}function Za(t,n){var i=t.kf;if(!0===Pc(i)&&Mh(i)>0)Lh(i,n,!1);else{var r=void 0;try{r=t.ff(n)}catch(n){throw Ja(t,n),n}try{Yh(t,n,r)}catch(n){throw Ja(t,n),n}}Ga(t)}function Ja(t,n){var i=t.kf;"readable"===i.Hc&&(Zh(t),Qa(t),Mc(i,n))}function $a(t){var n=t.kf.Hc;return"errored"===n?null:"closed"===n?0:t.lf-t.Yc}function Ka(t){var n=t.kf.Hc;return!1===t.pf&&"readable"===n}function tc(t,n,i,r,e,s,u){n.kf=t,n.Fn=void 0,n.Yc=void 0,Zh(n),n.sf=!1,n.pf=!1,n.Tf=!1,n.Af=!1,n.ff=u,n.lf=s,n.bf=r,n.mf=e,t.Gc=n,wh(lh(i()),function(){n.sf=!0,Ga(n)},function(t){Ja(n,t)})}function nc(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ic=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},rc=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===uc(this))throw Ac("view");return this.Ef},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===uc(this))throw Ac("respond");if(void 0===this.Sf)throw new v("This BYOB request has been invalidated");this.Ef.buffer,function(t,n){if(!1===nh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");gc(t,n)}(this.Sf,t)},t.prototype.respondWithNewView=function(t){if(!1===uc(this))throw Ac("respond");if(void 0===this.Sf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Rf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,gc(t,n.byteLength)}(this.Sf,t)},t}(),ec=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===sc(this))throw bc("byobRequest");if(void 0===this.If&&this.Rf.length>0){var t=this.Rf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(rc.prototype);!function(t,n,i){t.Sf=n,t.Ef=i}(i,this,n),this.If=i}return this.If},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===sc(this))throw bc("desiredSize");return kc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===sc(this))throw bc("close");if(!0===this.pf)throw new v("The stream has already been closed; do not close it again!");var t=this.Nf.Hc;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Nf;if(t.Yc>0)return void(t.pf=!0);if(t.Rf.length>0){var i=t.Rf.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw mc(t,r),r}}yc(t),Lc(n)}(this)},t.prototype.enqueue=function(t){if(!1===sc(this))throw bc("enqueue");if(!0===this.pf)throw new v("stream is closed or draining");var n=this.Nf.Hc;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Nf,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=uh(r);if(!0===Uh(i))if(0===Mh(i))cc(t,u,e,s);else{var o=new y(u,e,s);Lh(i,o,!1)}else!0===Sc(i)?(cc(t,u,e,s),_c(t)):cc(t,u,e,s);oc(t)}(this,t)},t.prototype.error=function(t){if(!1===sc(this))throw bc("error");mc(this,t)},t.prototype[Oh]=function(t){this.Rf.length>0&&(this.Rf.peek().bytesFilled=0);Zh(this);var n=this.mf(t);return yc(this),n},t.prototype[xh]=function(){var t=this.Nf;if(this.Yc>0){var n=this.Fn.shift();this.Yc-=n.byteLength,dc(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return _h(t)}return lh(bh(i,!1,t.Fc.Mc))}var r=this.Cf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return _h(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Rf.push(s)}var u=Bh(t);return oc(this),u},t}();function sc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Nf")}function uc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Sf")}function oc(t){!1!==function(t){var n=t.Nf;if("readable"!==n.Hc)return!1;if(!0===t.pf)return!1;if(!1===t.sf)return!1;if(!0===Uh(n)&&Mh(n)>0)return!0;if(!0===Sc(n)&&Ec(n)>0)return!0;if(kc(t)>0)return!0;return!1}(t)&&(!0!==t.Af?(t.Af=!0,wh(t.bf(),function(){t.Af=!1,!0===t.Tf&&(t.Tf=!1,oc(t))},function(n){mc(t,n)})):t.Tf=!0)}function hc(t,n){var i=!1;"closed"===t.Hc&&(i=!0);var r=ac(n);"default"===n.readerType?Lh(t,r,i):function(t,n,i){var r=t.Fc;r.Df.shift().zn(bh(n,i,r.Mc))}(t,r,i)}function ac(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function cc(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.Yc+=r}function fc(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.Yc,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,_=t.Fn;o>0;){var g=_.peek(),w=l.min(o,g.byteLength),m=n.byteOffset+n.bytesFilled;a=n.buffer,c=m,f=g.buffer,v=g.byteOffset,d=w,new y(a).set(new y(f,v,d),c),g.byteLength===w?_.shift():(g.byteOffset+=w,g.byteLength-=w),t.Yc-=w,vc(t,w,n),o-=w}return h}function vc(t,n,i){lc(t),i.bytesFilled+=n}function dc(t){0===t.Yc&&!0===t.pf?(yc(t),Lc(t.Nf)):oc(t)}function lc(t){void 0!==t.If&&(t.If.Sf=void 0,t.If.Ef=void 0,t.If=void 0)}function _c(t){for(;t.Rf.length>0;){if(0===t.Yc)return;var n=t.Rf.peek();!0===fc(t,n)&&(wc(t),hc(t.Nf,n))}}function gc(t,n){var i=t.Rf.peek();if("closed"===t.Nf.Hc){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=uh(n.buffer);var i=t.Nf;if(!0===Sc(i))for(;Ec(i)>0;)hc(i,wc(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(vc(t,n,i),!(i.bytesFilled<i.elementSize)){wc(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);cc(t,s,0,s.byteLength)}i.buffer=uh(i.buffer),i.bytesFilled-=r,hc(t.Nf,i),_c(t)}}(t,n,i);oc(t)}function wc(t){var n=t.Rf.shift();return lc(t),n}function yc(t){t.bf=void 0,t.mf=void 0}function mc(t,n){var i=t.Nf;"readable"===i.Hc&&(!function(t){lc(t),t.Rf=new Ah}(t),Zh(t),yc(t),Mc(i,n))}function kc(t){var n=t.Nf.Hc;return"errored"===n?null:"closed"===n?0:t.lf-t.Yc}function pc(t,n,i){var r=d.create(ec.prototype);var e=rh(n,"pull",0,[r]),s=rh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===ic(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Nf=t,n.Tf=!1,n.Af=!1,n.If=void 0,n.Fn=n.Yc=void 0,Zh(n),n.pf=!1,n.sf=!1,n.lf=oh(s),n.bf=r,n.mf=e,n.Cf=u,n.Rf=new Ah,t.Gc=n,wh(lh(i()),function(){n.sf=!0,oc(n)},function(t){mc(n,t)})}(t,r,function(){return eh(n,"start",[r])},e,s,i,u)}function Ac(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function bc(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Tc(t){return dh(function(n,i){var r={zn:n,Z:i};t.Fc.Df.push(r)})}function Ec(t){return t.Fc.Df.length}function Sc(t){var n=t.Fc;return void 0!==n&&!!Ic(n)}var Rc=function(){function t(t){if(!xc(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===sc(t.Gc))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Pc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Th(this,t),this.Df=new Ah}return d.defineProperty(t.prototype,"closed",{get:function(){return Ic(this)?this.bh:_h(Nc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ic(this)?void 0===this.Uc?_h(Rh("cancel")):Eh(this,t):_h(Nc("cancel"))},t.prototype.read=function(t){return Ic(this)?void 0===this.Uc?_h(Rh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?_h(new v("view must have non-zero byteLength")):function(t,n){var i=t.Uc;if(i.zc=!0,"errored"===i.Hc)return _h(i.Vc);return function(t,n){var i=t.Nf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:uh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Rf.length>0)return t.Rf.push(s),Tc(i);if("closed"===i.Hc)return lh(bh(new e(s.buffer,s.byteOffset,0),!0,i.Fc.Mc));if(t.Yc>0){if(!0===fc(t,s)){var u=ac(s);return dc(t),lh(bh(u,!1,i.Fc.Mc))}if(!0===t.pf){var o=new v("Insufficient bytes to fill elements in the given buffer");return mc(t,o),_h(o)}}t.Rf.push(s);var h=Tc(i);return oc(t),h}(i.Gc,n)}(this,t)):_h(new v("view must be an array buffer view")):_h(Nc("read"))},t.prototype.releaseLock=function(){if(!Ic(this))throw Nc("releaseLock");if(void 0!==this.Uc){if(this.Df.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Sh(this)}},t}();function Ic(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Df")}function Nc(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Cc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Oc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),pc(this,t,r=oh(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=hh(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(qa.prototype),s=rh(n,"pull",0,[e]),u=rh(n,"cancel",1,[]);tc(t,e,function(){return eh(n,"start",[e])},s,u,i,r)}(this,t,r=oh(r),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===xc(this))throw Uc("locked");return Pc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===xc(this)?_h(Uc("cancel")):!0===Pc(this)?_h(new v("Cannot cancel a stream that already has a reader")):Bc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===xc(this))throw Uc("getReader");if(void 0===n)return Ph(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Rc(t);return i.Mc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===xc(this))throw Uc("pipeThrough");if(!1===ia(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===xc(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!Fa(h))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Pc(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ra(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ph(Wa(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===xc(this)?_h(Uc("pipeTo")):!1===ia(t)?_h(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||Fa(u)?!0===Pc(this)?_h(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ra(t)?_h(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Wa(this,t,r,e,s,u):_h(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===xc(this))throw Uc("tee");var t=function(t,n){var i,r,e,s,u,o=Ph(t),h=!1,a=!1,c=!1,f=dh(function(t){u=t});function v(){return!0===h?lh(void 0):(h=!0,ph(kh(Wh(o),function(t){if(h=!1,!0===t.done)return!1===a&&Ya(e.Gc),void(!1===c&&Ya(s.Gc));var n=t.value,i=n,r=n;!1===a&&Za(e.Gc,i),!1===c&&Za(s.Gc,r)})),lh(void 0))}function d(){}return e=Dc(d,v,function(n){if(a=!0,i=n,!0===c){var e=th([i,r]),s=Bc(t,e);u(s)}return f}),s=Dc(d,v,function(n){if(c=!0,r=n,!0===a){var e=th([i,r]),s=Bc(t,e);u(s)}return f}),mh(o.bh,function(t){Ja(e.Gc,t),Ja(s.Gc,t)}),[e,s]}(this);return th(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===xc(this))throw Uc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Ph(t),r=d.create(zh);return r.jc=i,r.Qc=Boolean(n),r}(this,i)},t}();function Dc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=d.create(Cc.prototype);return Oc(s),tc(s,d.create(qa.prototype),t,n,i,r,e),s}function Oc(t){t.Hc="readable",t.Fc=void 0,t.Vc=void 0,t.zc=!1}function xc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Gc")}function Pc(t){return void 0!==t.Fc}function Bc(t,n){return t.zc=!0,"closed"===t.Hc?lh(void 0):"errored"===t.Hc?_h(t.Vc):(Lc(t),kh(t.Gc[Oh](n),Zo))}function Lc(t){t.Hc="closed";var n=t.Fc;void 0!==n&&(Xh(n)&&(n.qc.forEach(function(t){t.zn(bh(void 0,!0,n.Mc))}),n.qc=new Ah),Dh(n))}function Mc(t,n){t.Hc="errored",t.Vc=n;var i=t.Fc;void 0!==i&&(Xh(i)?(i.qc.forEach(function(t){t.Z(n)}),i.qc=new Ah):(i.Df.forEach(function(t){t.Z(n)}),i.Df=new Ah),Ch(i,n))}function Uc(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Yo.asyncIterator&&d.defineProperty(Cc.prototype,Yo.asyncIterator,{value:Cc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Fc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Hc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=hh(r);if(void 0===e&&(e=1),e=oh(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=hh(s);void 0===u&&(u=0),u=oh(u),function(t,n,i,r,e,s){function u(){return n}t.Of=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=d.create(Kh.prototype);return na(u),ka(u,d.create(ma.prototype),t,n,i,r,e,s),u}(u,function(n){return function(t,n){var i=t.xf;if(!0===t.rf){var r=t.Pf;return kh(r,function(){var r=t.Of,e=r.Hc;if("erroring"===e)throw r.Vc;return Yc(i,n)})}return Yc(i,n)}(t,n)},function(){return function(t){var n=t.Bf,i=t.xf,r=i.Lf();return jc(i),kh(r,function(){if("errored"===n.Hc)throw n.Vc;var t=n.Gc;!0===Ka(t)&&Ya(t)},function(i){throw Xc(t,i),n.Vc})}(t)},function(n){return function(t,n){return Xc(t,n),lh(void 0)}(t,n)},i,r),t.Bf=Dc(u,function(){return function(t){return qc(t,!1),t.Pf}(t)},function(n){return Wc(t,n),lh(void 0)},e,s),t.rf=void 0,t.Pf=void 0,t.Mf=void 0,qc(t,!0),t.xf=void 0}(this,dh(function(t){h=t}),e,o,u,a),function(t,n){var i=d.create(zc.prototype),r=function(t){try{return Qc(i,t),lh(void 0)}catch(t){return _h(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return sh(e,n,[t,i])}}var s=rh(n,"flush",0,[i]);!function(t,n,i,r){n.Uf=t,t.xf=n,n.Ff=i,n.Lf=r}(t,i,r,s)}(this,t);var c=eh(t,"start",[this.xf]);h(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Vc(this))throw Jc("readable");return this.Bf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Vc(this))throw Jc("writable");return this.Of},enumerable:!0,configurable:!0}),t}();function Vc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"xf")}function Xc(t,n){Ja(t.Bf.Gc,n),Wc(t,n)}function Wc(t,n){jc(t.xf),Ta(t.Of.Jc,n),!0===t.rf&&qc(t,!1)}function qc(t,n){void 0!==t.Pf&&t.Mf(),t.Pf=dh(function(n){t.Mf=n}),t.rf=n}var zc=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Gc(this))throw Zc("desiredSize");return $a(this.Uf.Bf.Gc)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Gc(this))throw Zc("enqueue");Qc(this,t)},t.prototype.error=function(t){if(!1===Gc(this))throw Zc("error");var n;n=t,Xc(this.Uf,n)},t.prototype.terminate=function(){if(!1===Gc(this))throw Zc("terminate");!function(t){var n=t.Uf,i=n.Bf.Gc;!0===Ka(i)&&Ya(i);var r=new v("TransformStream terminated");Wc(n,r)}(this)},t}();function Gc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Uf")}function jc(t){t.Ff=void 0,t.Lf=void 0}function Qc(t,n){var i=t.Uf,r=i.Bf.Gc;if(!1===Ka(r))throw new v("Readable side is not in a state that permits enqueue");try{Za(r,n)}catch(t){throw Wc(i,t),i.Bf.Vc}(function(t){return!0!==ja(t)})(r)!==i.rf&&qc(i,!0)}function Yc(t,n){return kh(t.Ff(n),void 0,function(n){throw Xc(t.Uf,n),n})}function Zc(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Jc(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var $c,Kc=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return U(n,t),L(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(un);function tf(t){return n=[t],new Cc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function nf(t){return tf(new y(t))}function rf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Wu,s=function(){u();var t=new is;r.cancel(t).catch(S),e.yh(t)},u=function(){i&&(i.po(s),i=void 0)};i&&(i.do?s():i.ko(s));var o=[];return T.resolve(r.read()).then(function t(n){return n.done?(u(),T.resolve(o)):(o.push(n.value),T.resolve(r.read()).then(t))}).then(function(t){u(),e.wh(t)},function(t){u(),e.yh(t)}),e.gh}(t,n).then(function(t){return Ws(t).buffer})}function ef(t,n){var i=n,r=new Hc,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.Eo()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(S)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(S)}),e}function sf(t){return Du(new y(t))}function uf(t){return Ou(t).buffer}!function(t){t[t.Ic=0]="Ic",t[t.Hf=1]="Hf"}($c||($c={}));var of="content-type",hf="text/plain;charset=UTF-8",af=function(){function t(){}var n=t.prototype;return n.Vf=function(t){return this.Xf(t).then(JSON.parse)},n.Wf=function(t,n){switch(t){case zo.Sc:return this.qf(n);case zo.Rc:return this.Vf(n);case zo.Ic:return this.zf();case zo.Je:return this.Xf(n);default:throw new v}},t}();function cf(t,n,i){if(t instanceof af)return t;if(t instanceof Cc)return function(t,n){return new vf({io:$c.Ic,zf:t,Gf:ff(n)})}(t,i);var r=ff(i),e=T.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{io:zo.Je,jf:t,Gf:n||hf};if(t instanceof ArrayBuffer||Vs(t))return{io:zo.Sc,jf:mf(t),Gf:n};if(nt(t)||$(t))return{io:zo.Rc,jf:t,Gf:n};throw new v("Unsupported BodyInit type")}return{io:zo.Je,jf:null,Gf:n}}(t,r)});return new vf({io:$c.Hf,gh:e,Qf:n})}function ff(t){return(t.get(of)||"").toLowerCase()}var vf=function(t){function n(n){var i;return(i=t.call(this)||this).Yf=!1,i.Zf=void 0,i.Jf=new Wu,i.Jf.gh.catch(S),i.$f(n),i}U(n,t);var i=n.prototype;return i.Kf=function(){return this.Jf.gh},i.Xf=function(t){return this.tv(df,t)},i.Vf=function(t){return this.tv(_f,t)},i.qf=function(t){return this.tv(wf,t)},i.zf=function(){return this.nv((t=this.Zf).io===$c.Ic?t.zf:ef(t.gh.then(yf).then(nf),t.Qf));var t},i.tv=function(t,n){if(this.Yf)return T.reject(new v("Already used"));this.Yf=!0;var i=t(this.Zf,n);return this.Jf.wh(i.then(S)),i},i.nv=function(t){if(this.Yf)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Yf=!0;var n=new Hc,i=T.resolve(t.pipeTo(n.writable));return this.Jf.wh(i),n.readable},i.$f=function(t){this.Zf=t,t.io===$c.Hf&&t.gh.catch(S)},i.rv=function(){if(this.Yf)throw new v("Already used");var t=function(t){if(t.io===$c.Ic){var n=t.zf.tee(),i=n[0],r=n[1];return[{io:t.io,zf:i,Gf:t.Gf},{io:t.io,zf:r,Gf:t.Gf}]}var e=t.Qf.Ro(),s=e[0],u=e[1];return[{io:t.io,gh:t.gh,Qf:s},{io:t.io,gh:t.gh,Qf:u}]}(this.Zf),i=t[0],r=t[1];return this.$f(i),new n(r)},L(n,[{key:"ev",get:function(){return this.Yf}}]),n}(af);function df(t,n){return t.io===$c.Ic?rf(t.zf,n).then(sf):(n&&t.Qf.So(n),hs(t.gh.then(lf),t.Qf))}function lf(t){switch(t.io){case zo.Je:return T.resolve(t.jf||"");case zo.Sc:return T.resolve(t.jf).then(sf);case zo.Rc:return T.resolve(t.jf).then(JSON.stringify)}}function _f(t,n){return t.io===$c.Ic?df(t,n).then(JSON.parse):(n&&t.Qf.So(n),hs(t.gh.then(gf),t.Qf))}function gf(t){return t.io===zo.Rc?T.resolve(t.jf):lf(t).then(JSON.parse)}function wf(t,n){return t.io===$c.Ic?rf(t.zf,n):(n&&t.Qf.So(n),hs(t.gh.then(yf),t.Qf))}function yf(t){switch(t.io){case zo.Sc:return T.resolve(t.jf);case zo.Je:case zo.Rc:return lf(t).then(uf)}}function mf(t){return t instanceof ArrayBuffer?t:Hu(Lu(t)).buffer}function kf(t){return t.sv>=200&&t.sv<=299||304===t.sv}var pf,Af,bf,Tf,Ef=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.uv,s=i.ov,u=i.sv,o=i.hv,h=i.av):(e=[],s=zo.Je,u=200,o="OK",h=!1);var a=n.cv,c=new Go(n.uv||e),f=n.ov||s,v=n.fv||(i&&i.cv===a?i.fv:a.vv),d=i?i.dv:null,l=cf(void 0!==n.Ds?n.Ds:d,n.Qf||new ns,c);return(r=t.call(this,l)||this).uv=void 0,r.cv=void 0,r.fv=void 0,r.ov=void 0,r.sv=void 0,r.hv=void 0,r.av=void 0,r.uv=c,r.cv=a,r.fv=v,r.ov=f,r.sv=void 0!==n.sv?n.sv:u,r.hv=void 0!==n.hv?String(n.hv):o,r.av=n.av||h,r}U(n,t);var i=n.prototype;return i.Ds=function(t){return this.Wf(this.ov,t)},i.fh=function(){return new n({Ds:this.rv(),cv:this.cv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).dv=void 0,i.dv=n,i}U(n,t);var i=n.prototype;return i.Kf=function(){return this.dv.Kf()},i.Xf=function(t){return this.dv.Xf(t)},i.Vf=function(t){return this.dv.Vf(t)},i.qf=function(t){return this.dv.qf(t)},i.zf=function(){return this.dv.zf()},i.rv=function(){return this.dv.rv()},L(n,[{key:"ev",get:function(){return this.dv.ev}}]),n}(af));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(pf||(pf={})),function(t){t.lv="",t._v="manifest",t.gv="segment",t.wv="content-protection"}(Af||(Af={})),function(t){t.lv="",t.yv="initialization-segment",t.mv="fairplay-license",t.kv="fairplay-certificate",t.pv="widevine-license",t.Av="widevine-certificate",t.bv="playready-license",t.Tv="clearkey-license",t.Ev="aes128-key"}(bf||(bf={})),function(t){t.lv="",t.Sv="audio",t.Rv="video",t.Je="text",t.Iv="image"}(Tf||(Tf={}));var Sf=function(t,n){this.jf=void 0,this.uv=void 0,this.Nv=void 0,this.ov=void 0,this.Cv=void 0,this.Io=void 0,this.io=void 0,this.Dv=void 0,this.Ov=void 0,this.vv=void 0,this.xv=void 0,this.Pv=void 0;var i,r,e,s,u,o,h,a,c,f,v,d=t.vv;n?(i=n.jf,r=n.uv,e=n.Nv,s=n.ov,u=n.Cv,o=n.Io,h=n.io,a=n.Dv,c=n.Ov,f=n.xv,v=n.Pv):(i=null,r={},e=pf.GET,s=zo.Je,u=0,h=Af.lv,a=bf.lv,c=Tf.lv,f=!1),this.vv=d,this.jf=t.jf||i,this.uv=new Go(t.uv||r),this.Nv=t.Nv||e,this.ov=t.ov||s,this.Cv=void 0!==t.Cv?Number(t.Cv)||0:u,this.Io=t.Io||o||(new ns).Io,this.io=t.io||h,this.Dv=t.Dv||a,this.Ov=t.Ov||c,this.xv=void 0!==t.xv?Boolean(t.xv):f,this.Pv=t.Pv||v},Rf=function(){function t(){}var n=t.prototype;return n.cv=function(t){var n=function(t){return new Ef({Ds:null,uv:{},cv:t,fv:t.vv,ov:t.ov,sv:0,hv:qo.sc})}(new Sf(t));return T.resolve(n)},n.Bv=function(t){},n.Lv=function(){},t}();var If=function(){function t(t,n){void 0===n&&(n=!0),this.Mv=void 0,this.Uv=void 0,this.Mv=t,this.Uv=n}var n=t.prototype;return n.cv=function(t){var n=this.Fv(t);return this.Mv.cv(n)},n.Bv=function(t){return this.Mv.Bv(this.Hv(t))},n.Fv=function(n){var i=new Sf(n);if(!this.Uv){var r=t.Vv(i.vv);i=new Sf({vv:r},i)}return i},n.Hv=function(n){var i=n.vv;return this.Uv||(i=t.Vv(i)),{vv:i,jf:n.jf}},t.Vv=function(t){return b.Uu&&Ie(t,"http://")?t.replace(":","s:"):t},n.Lv=function(){this.Mv.Lv()},L(t,null,[{key:"Xv",get:function(){return t.Wv||(t.Wv=new t(new Rf)),t.Wv}}]),t}();function Nf(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Cf(t,n){var i=b.Ou(t);return n&&!Ne(i,"/")&&(i+="/"),i}If.Wv=void 0;var Df,Of=/cache:(.+)?(?=&|$)/,xf="http://webcache.googleusercontent.com/search?q=cache:";function Pf(t){if(!Ie(t,xf))return"";var n=b.Du(t).search.match(Of);return n&&n.length>1?n[1]:""}function Bf(t){return b.Du(t).hostname}!function(t){t.qv="HttpOpenError",t.zv="HttpResponseError",t.Gv="HttpTimeoutError"}(Df||(Df={}));var Lf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).jv=void 0,e.jv=n,e}return U(n,t),L(n,[{key:"cv",get:function(){return this.jv}}]),n}(un);var Mf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.vv+". Invalid URL.",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Df.qv}}]),n}(Lf);var Uf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.cv,null!=r?r:function(t){return"Error while loading "+t.cv.vv+", status code "+t.sv}(n),i)||this).Qv=void 0,e.Qv=n,e}return U(n,t),L(n,[{key:"name",get:function(){return Df.zv}},{key:"Yv",get:function(){return this.Qv}}]),n}(Lf);var Ff=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.vv+" timed out after "+t.Cv+" seconds."}(n),i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Df.Gv}}]),n}(Lf),Hf=function(t,n){return(Hf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Vf(t,n){function i(){this.constructor=t}Hf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Xf="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Wf=function(){var t=Xf.Blob;if(t)try{return new t,function(t,n){return new Xf.Blob(t,n)}}catch(t){}var n,i=Xf.BlobBuilder||Xf.WebKitBlobBuilder||Xf.MozBlobBuilder||Xf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,s=t;e<s.length;e++){var u=s[e];r.append(u)}return r.getBlob(i&&i.type||"")}):null}(),qf="function"==typeof Cc?Cc:void 0;function zf(t){return t&&"function"==typeof t.getReader}function Gf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&zf(i)}catch(t){return!1}}var jf=function(){function t(t,n){this.Fc=t,this.Zv=n}return t.prototype.pull=function(t){var n=this;return this.Fc.read().then(function(i){n.Zv&&n.Zv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Fc.cancel(t)},t}();function Qf(t,n){return n.constructor===t?n:new t(new jf(n.getReader()),{highWaterMark:0})}var Yf=function(){function t(t,n){this.Jv=t,this.St=n}return t.prototype.pull=function(t){return this.Jv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function Zf(t,n,i){return new t(new Yf(n,i),{highWaterMark:0})}var Jf={searchParams:"URLSearchParams"in Xf,iterable:"Symbol"in Xf&&"iterator"in Symbol,blob:"FileReader"in Xf&&!!Wf,formData:"FormData"in Xf,arrayBuffer:"ArrayBuffer"in Xf,stream:Gf(qf),streamRequest:"Request"in Xf&&"body"in Xf.Request.prototype,streamResponse:"Response"in Xf&&"body"in Xf.Response.prototype,abort:"AbortController"in Xf&&"Request"in Xf&&"signal"in Xf.Request.prototype,encoding:"TextEncoder"in Xf&&"TextDecoder"in Xf,url:"URL"in Xf&&function(t){try{return new Xf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Xf&&/Firefox\//.test(Xf.navigator.userAgent)};function $f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Kf(t){return"string"!=typeof t&&(t=String(t)),t}function tv(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Jf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var nv=function(){function t(t){var n=this;this.Yu={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return Jf.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=$f(t),n=Kf(n);var i=t.toLowerCase();if(this.Yu.hasOwnProperty(i)){var r=this.Yu[i],e=r[1];r[1]=e?e+", "+n:n}else this.Yu[i]=[t,n]},t.prototype.delete=function(t){var n=$f(t).toLowerCase();delete this.Yu[n]},t.prototype.get=function(t){var n=$f(t).toLowerCase();return this.Yu.hasOwnProperty(n)?this.Yu[n][1]:null},t.prototype.has=function(t){var n=$f(t).toLowerCase();return this.Yu.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=$f(t)).toLowerCase();this.Yu[i]=[t,Kf(n)]},t.prototype.forEach=function(t,n){for(var i in this.Yu)this.Yu.hasOwnProperty(i)&&t.call(n,this.Yu[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),tv(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),tv(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),tv(t)},t.prototype.asList=function(){var t=[];for(var n in this.Yu)if(this.Yu.hasOwnProperty(n)){var i=this.Yu[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function iv(){}Jf.iterable&&(nv.prototype[Symbol.iterator]=nv.prototype.entries);var rv,ev,sv,uv=l.min,ov=String.fromCharCode,hv=16384;function av(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=hv){var e=uv(r+hv,n);i.push(ov.apply(null,t.slice(r,e)))}return i.join("")}(n)}function cv(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function fv(t,n){return t>>n&63|128}function vv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(cv(t),n.push(t>>12&15|224),n.push(fv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(fv(t,12)),n.push(fv(t,6))),n.push(63&t|128)):n.push(t)}function dv(){if(sv>=ev)throw new f("Invalid byte index");var t=255&rv[sv];if(sv++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function lv(){var t,n;if(sv>ev)throw new f("Invalid byte index");if(sv===ev)return!1;if(t=255&rv[sv],sv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|dv())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|dv()<<6|dv())>=2048)return cv(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|dv()<<12|dv()<<6|dv())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var _v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function gv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function wv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function yv(t){return t&&DataView.prototype.isPrototypeOf(t)}var mv,kv=ArrayBuffer.isView||function(t){return t&&(_v.indexOf(d.prototype.toString.call(t))>-1||yv(t))};function pv(t){if(t.bodyUsed)return T.reject(new v("Already used"));t.bodyUsed=!0}function Av(t){return new T(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function bv(t){return Jf.encoding?new Xf.TextDecoder("utf-8").decode(new y(t)):av(function(t){ev=(rv=t).length,sv=0;for(var n,i=[];!1!==(n=lv());)i.push(n);return i}(new y(t)))}function Tv(t){return Jf.encoding?(new Xf.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,r=t;i<r.length;i++)vv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Ev(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,s=t.value;return e?T.resolve(i):(i.push(s),n.read().then(r))};return n.read().then(r)}function Sv(t){return Ev(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];e.set(h,s),s+=h.byteLength}return e}(t).buffer})}function Rv(t){return t.slice?t.slice(0):Iv(new y(t))}function Iv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Nv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Cv(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.$v===mv.Kv){if(!n.td.tee)throw new f("could not clone ReadableStream body");var i=n.td.tee(),r=i[0],e=i[1];return n.body=r,n.td=r,n.nd=r,e}return n.$v===mv.Sc?Rv(n.td):n.$v===mv.Hf?n.td.then(Cv):n.nd}!function(t){t[t.Je=0]="Je",t[t.rd=1]="rd",t[t.ed=2]="ed",t[t.Sc=3]="Sc",t[t.Kv=4]="Kv",t[t.Hf=5]="Hf"}(mv||(mv={}));var Dv=function(){function t(n,i){this.bodyUsed=!1;var r,e,s,u=this;if(this.nd=n||null,n)if("string"==typeof n)this.$v=mv.Je,this.td=n;else if((s=n)&&"function"==typeof s.then)this.$v=mv.Hf,this.td=T.resolve(n).then(function(n){return new t(n,i)}),this.td.catch(iv);else if(Jf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.$v=mv.rd,this.td=n;else if(Jf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.$v=mv.ed,this.td=n;else if(Jf.searchParams&&gv(n))this.$v=mv.Je,this.td=n.toString();else if(Jf.arrayBuffer&&(wv(n)||kv(n)))yv(n)&&(this.nd=new y((e=n).buffer,e.byteOffset,e.byteLength)),this.$v=mv.Sc,this.td=wv(r=n)?Rv(r):Iv(r);else{if(!Jf.stream||!zf(n))throw new f("unsupported BodyInit type");n=Qf(qf,n),this.$v=mv.Kv,this.td=n,this.nd=n}else this.$v=mv.Je,this.td="";this.sd="",i.has("content-type")?this.sd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.sd="text/plain;charset=UTF-8":u.$v===mv.rd&&u.td.type?this.sd=u.td.type:Jf.searchParams&&gv(n)&&(this.sd="application/x-www-form-urlencoded;charset=UTF-8"),this.sd&&i.set("content-type",this.sd)),Jf.stream&&(null==n?this.body=null:u.$v===mv.Kv?this.body=u.td:this.body=Zf(qf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=pv(this);return r||(this.$v===mv.rd?(t=this.td,n=new FileReader,i=Av(n),n.readAsText(t),i):this.$v===mv.Sc?T.resolve(this.td).then(bv):this.$v===mv.Kv?Sv(this.td).then(bv):this.$v===mv.Hf?this.td.then(function(t){return t.text()}):this.$v===mv.ed?T.reject(new f("could not read FormData body as text")):T.resolve(this.td))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Jf.blob&&(Dv.prototype.blob=function(){var t,n,i=pv(this);return i||(this.$v===mv.rd?T.resolve(this.td):this.$v===mv.Sc?T.resolve(Wf([this.td],{type:this.sd})):this.$v===mv.Kv?(t=this.td,n=this.sd,Ev(t).then(function(t){return Wf(t,{type:n||""})})):this.$v===mv.Hf?this.td.then(function(t){return t.blob()}):this.$v===mv.ed?T.reject(new f("could not read FormData body as Blob")):T.resolve(Wf([this.td],{type:this.sd})))}),Jf.arrayBuffer&&(Dv.prototype.arrayBuffer=function(){var t,n,i;return this.$v===mv.Sc?pv(this)||T.resolve(this.td):this.$v===mv.rd?pv(this)||(t=this.td,n=new FileReader,i=Av(n),n.readAsArrayBuffer(t),i):this.$v===mv.Kv?Sv(this.td):this.$v===mv.Hf?pv(this)||this.td.then(function(t){return t.arrayBuffer()}):this.$v===mv.ed?T.reject(new f("could not read FormData body as ArrayBuffer")):T.resolve(this.td).then(Tv)}),Jf.formData&&(Dv.prototype.formData=function(){return this.$v===mv.ed?pv(this)||T.resolve(this.td):this.text().then(Nv)});var Ov=[301,302,303,307,308],xv=function(t){function n(n,i){var r=this,e=new nv((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Vf(n,t),n.prototype.clone=function(){return new n(Cv(this),{status:this.status,statusText:this.statusText,headers:new nv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Ov.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Dv);var Pv,Bv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function s(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function h(t,n){return(h=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return s(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,s=r.length;e<s;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}(n,f),s(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return s(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_});(Pv=Bv)&&Pv.__esModule&&d.prototype.hasOwnProperty.call(Pv,"default")&&Pv.default;Bv.AbortSignal;var Lv=Bv.AbortController,Mv=Xf.DOMException;try{new Mv}catch(t){(Mv=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Mv.prototype.constructor=Mv}var Uv=Lv;function Fv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Hv(t,n,i){return new T(function(r,e){if(n.signal.aborted)return t.catch(iv),e(Vv());var s=function(){n.signal.removeEventListener("abort",s),e(Vv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()})})}function Vv(){return new Mv("Aborted","AbortError")}var Xv,Wv="moz-chunked-arraybuffer";function qv(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Xv||(Xv={}));var zv=function(){function t(t,n){var i=this;this.ud=!1,this.jv=t,this.od=n,this.hd=new k,this.fd=new T(function(t,n){i.vd=t,i.dd=n})}return t.prototype.send=function(){var t=this;return this.ld().then(function(n){return t._d(n,t.od),t.fd})},t.prototype.ld=function(){var t=this.jv;return t.$v===mv.Kv?t.arrayBuffer():T.resolve(t.nd)},t.prototype.gd=function(t){this.jv.onprogress&&this.jv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.wd=function(t){this.dd(t)},t.prototype.yd=function(){this.wd(new v("Network request failed"))},t.prototype.md=function(){this.wd(new v("Network request failed"))},t.prototype.kd=function(){this.wd(Vv())},t.prototype._d=function(t,n){var i=this,r=this.jv,e=this.hd,s=function(){return i.pd()};if(r.signal.aborted)return this.kd();e.onreadystatechange=function(){if(e.readyState>=Xv.HEADERS_RECEIVED&&!i.ud){var t=function(t){var n=new nv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.ud=!0,i.Ad(n)}},e.onprogress=function(t){return i.gd(t)},e.onload=function(){return i.bd()},e.onerror=function(){return i.yd()},e.ontimeout=function(){return i.md()},e.onabort=function(){return i.kd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",s),e.onloadend=function(){r.signal.removeEventListener("abort",s)},t?e.send(t):e.send()},t.prototype.pd=function(){this.kd(),this.hd.abort()},t}(),Gv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Td=void 0,r.Ed=void 0,r}return Vf(n,t),n.prototype.Ad=function(t){var n=this;this.Td=new T(function(t,i){n.Ed=t,n.Sd=i}),this.vd(new xv(this.Td,t))},n.prototype.bd=function(){var t=this.hd.response||this.hd.responseText;this.Ed(t)},n.prototype.wd=function(n){t.prototype.wd.call(this,n),this.Sd&&this.Sd(n)},n}(zv),jv=function(t){function n(n){var i=t.call(this,n,Wv)||this;return i.Rd=void 0,i.Id=void 0,i.Nd=!1,i}return Vf(n,t),n.prototype.Ad=function(t){var n=this;this.Rd=new qf({start:function(t){n.Id=t},cancel:function(){n.Nd=!0,n.pd()}}),this.vd(new xv(this.Rd,t))},n.prototype.gd=function(n){this.Nd||this.Id.enqueue(new y(this.hd.response)),t.prototype.gd.call(this,n)},n.prototype.bd=function(){this.Id.close()},n.prototype.wd=function(n){t.prototype.wd.call(this,n),this.Id&&!this.Nd&&(this.Nd=!0,this.Id.error(n))},n}(zv),Qv=function(){var t=Jf.firefox&&qv(Wv);return Qv=function(){return t},t},Yv=function(){var t;return t=Jf.arrayBuffer&&qv("arraybuffer")?"arraybuffer":Jf.blob&&qv("blob")?"blob":"",Yv=function(){return t},t};function Zv(t){return(Jf.stream&&Qv()?new jv(t):new Gv(t,Yv())).send()}var Jv=Xf.fetch,$v=Xf.Request,Kv=(Xf.Response,Xf.AbortController);var td=["http:","https:"];var nd=function(){try{if(Jf.streamRequest){var t=new $v("about:blank",{body:"",method:"POST"}).body;if(t&&Gf(t.constructor))return t.constructor}}catch(t){}}();function id(t,n,i){var r;if(Jf.stream){var e=void 0;if(Jf.streamResponse){var s=t.body;e=s&&Qf(qf,s)}else e=Zf(qf,function(){return Hv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new jf(n.getReader(),i),{highWaterMark:0})}(qf,t,function(t){var e=t.done,s=t.value;e?i=void 0===i?r:i:r+=s.byteLength,n(r,i)})}(e,i,rd(t.headers))),r=e}else{var u=Hv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return T.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(u,i,rd(t.headers))),r=u}return new xv(r,t)}function rd(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function ed(t){var n=new Uv;return t.signal&&Fv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.$v===mv.Kv?Jf.streamRequest&&nd?T.resolve(Qf(nd,e.td)):Hv(t.arrayBuffer(),n,!1):Hv(T.resolve(t.nd),n,!1),Jf.abort){var s=new Kv;Fv(s,n.signal),r=s.signal}return i.then(function(n){return new $v(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof nv?i:new nv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return Jv(i).then(function(i){return id(i,n,t.onprogress)})})}var sd=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var ud=function(t){function n(i,r){var e,s,u,o,h,a,c,f,d,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,s=i.credentials,r.headers||(u=new nv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.nd||(_=i.nd,i.bodyUsed=!0)}else e=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,d=null;if(!r.headers&&u||(u=new nv(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=e,l.headers=u,l.credentials=r.credentials||s,l.method=function(t){var n=t.toUpperCase();return sd.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Uv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Vf(n,t),n.prototype.clone=function(){return new n(this,{body:Cv(this)})},n}(Dv),od="function"==typeof Jv&&Jf.stream&&Jf.streamResponse&&Jf.url;function hd(t,n){return new T(function(i){var r=new ud(t,n);i((od&&function(t){try{return td.indexOf(new Xf.URL(t,Xf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?ed:Zv)(r))})}hd.polyfill=!0;var ad=function(){function t(t){this.Yv=void 0,this.jv=void 0,this.Cd=new ns,this.Qv=void 0,this.Dd=!1,this.jv=t,this.Cd.So(t.Io),this.Yv=this.Od()}var n=t.prototype;return n.Od=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e,s,u,h,a,c=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.jv).Cv&&o(function(){c.Dd=!0,c.Cd.Eo()},n.Cv),t.prev=2,i=hd(n.vv,{method:n.Nv,headers:n.uv.Nc(),body:n.jf,credentials:n.xv?"include":"same-origin",signal:vd(this.Cd.Io),onprogress:n.Pv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Mf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),rs(e=this.xd(t.t1))&&this.Cd.Eo(),e;case 20:if(s=r.url||n.vv,u=0===r.status&&"file:"===(f=s,b.Du(f).protocol)?200:r.status,h=new cd(this,r,this.Cd),a=new Ef({Ds:h,cv:n,ov:n.ov,uv:new Go(r.headers.asList()),sv:u,hv:r.statusText,fv:s}),this.Qv=a,!kf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Uf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.xd=function(t){return rs(t)?this.Dd?new Ff(this.jv):new is(t.message,t):this.Qv?new Uf(this.Qv,t):new Mf(this.jv,t)},t}(),cd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.Pd=void 0,e.Cd=void 0,e.Jf=new Wu,e.an=n,e.Pd=i,e.Cd=r,e.Jf.gh.catch(S),e}U(n,t);var i=n.prototype;return i.Kf=function(){return this.Jf.gh},i.Xf=function(t){return this.tv(this.Pd.text(),t)},i.qf=function(t){return this.tv(this.Pd.arrayBuffer(),t)},i.zf=function(){var t=this.Pd.body;return t?this.nv(t):ef(this.qf().then(nf),this.Cd)},i.rv=function(){var t=this.Pd.clone(),i=this.Cd.Ro(),r=i[0],e=i[1];return this.Cd=r,new n(this.an,t,e)},i.tv=function(t,n){var i=this;n&&this.Cd.So(n);var r=T.resolve(t).catch(function(t){throw i.an.xd(t)});return r=hs(r,this.Cd),this.Jf.wh(r.then(S)),r},i.nv=function(t){var n=this,i=new Hc,r=T.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.xd(t);throw i.writable.abort(r).catch(S),r});return r=hs(r,this.Cd),this.Jf.wh(r.then(S)),i.readable},L(n,[{key:"ev",get:function(){return this.Pd.bodyUsed}}]),n}(af),fd="abort";function vd(t){var n=new Uv;if(t.do)n.abort();else if(!t.lo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(fd,i),t.po(i),t.bo(r)};n.signal.addEventListener(fd,i),t.ko(i),t.Ao(r)}return n.signal}function dd(t,n,i){return new T(function(r,e){if(i&&i.do)return e(new is);var s=function(t){o(),r(t)},u=function(){o(),e(new is)},o=function(){t.removeEventListener(n,s),i&&i.po(u)};t.addEventListener(n,s),i&&i.ko(u)})}var ld,_d,gd=function(){function t(){}var n=t.prototype;return n.cv=function(t){return new ad(t).Yv},n.Bv=function(t){if(pr&&pr.sendBeacon)pr.sendBeacon(t.vv,Xo([t.jf],{type:t.Gf}));else{var n=t.Gf?{"Content-type":t.Gf}:void 0;vs(this.cv(new Sf({Nv:pf.POST,vv:t.vv,jf:t.jf,uv:n})))}},n.Lv=function(){},t}();function wd(t){if(Q.Re||Q.Ee){var n=Q.Te;if(void 0===n||Number(n)<t)return!1}return!0}ld=new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Bd=void 0,n.Ld=wd(42),n.Md=!wd(56),n.Ud=void 0,n}return U(n,t),L(n,[{key:"Tu",get:function(){return this.Bd||(this.Bd=new He(Uo())),this.Bd}},{key:"Fd",get:function(){return this.Ld}},{key:"Hd",get:function(){return this.Md}},{key:"Vd",get:function(){return!1}},{key:"Xd",get:function(){return Ho.Xa()}},{key:"Wd",get:function(){return{qd:Wo}}},{key:"zd",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Gd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"jd",get:function(){return this.Ud||(this.Ud=new If(new gd)),this.Ud}}]),n}(Zr)),b=ld,function(t){t.Qd="Yd",t.Zd="Jd"}(_d||(_d={}));_d.Qd,_d.Zd;var yd=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$d=void 0,r}return U(n,t),L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}}]),n}(As);function md(t){return Boolean(t&&t.Kd)}var kd,pd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(yd),Ad=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(As),bd=function(t){function n(n){var i;return(i=t.call(this,_d.Qd)||this).nl=n,i}return U(n,t),n.prototype.tl=function(){return new Td(this.nl.Kd)},n}(pd),Td=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return U(n,t),n}(Ad),Ed=function(t){function n(n){var i;return(i=t.call(this,_d.Zd)||this).nl=n,i}return U(n,t),n.prototype.tl=function(){return new Sd(this.nl.Kd)},n}(pd),Sd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return U(n,t),n}(Ad);!function(t){t.il="sl",t.ul="ol",t.hl="al",t.cl="fl",t.vl="dl",t.ll="_l",t.gl="wl",t.yl="ml",t.kl="Bh",t.pl="Al",t.bl="Tl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(kd||(kd={}));var Rd=function(t){function n(){var n;return(n=t.call(this)||this).El=[],n.$d=void 0,n}U(n,t);var i=n.prototype;return i.Sl=function(t){return this.El[t]},i.Rl=function(t){return!(!t||Ye(this.El,t))&&(this.El.push(t),this.$d&&this.$d.push(t.Kd),t.Po(kd.ll,this.Oo),this.xo(new bd(t)),!0)},i.Il=function(t){if(!t)return!1;var n=this.El.indexOf(t);return!(n<0)&&(Qe(this.El,n),this.$d&&Qe(this.$d,n),t.Uo(kd.ll,this.Oo),this.xo(new Ed(t)),!0)},i.Nl=function(t){return Ye(this.El,t)},i.Cl=function(){for(var t=this.El,n=t.length-1;n>=0;n-=1)this.Il(t[n])},i.Lv=function(){this.Cl(),this.Mo()},L(n,[{key:"Dl",get:function(){return this.El}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Ol",get:function(){return this.El.length}}]),n}(ks),Id=function(t){function n(n){var i;return(i=t.call(this,kd.ll)||this).nl=n,i}return U(n,t),n.prototype.tl=function(){return new Nd(this.nl.Kd)},n}(pd),Nd=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return U(n,t),n}(Ad),Cd=function(t){function n(){var n;return(n=t.call(this)||this).xl=void 0,n.Pl=function(t){var i=t.nl;n.Rl(i)},n.Bl=function(t){var i=t.nl;n.Il(i)},n}U(n,t);var i=n.prototype;return i.Ll=function(t){t.Po(_d.Qd,this.Pl),t.Po(_d.Zd,this.Bl)},i.Ml=function(t){t.Uo(_d.Qd,this.Pl),t.Uo(_d.Zd,this.Bl)},i.Lv=function(){this.xl&&this.xl.Lv(),t.prototype.Lv.call(this)},L(n,[{key:"Ul",get:function(){return this.xl},set:function(t){var n=this.xl;if(t!==n){if(n){this.Ml(n);for(var i=0,r=n.Dl;i<r.length;i++){var e=r[i];t&&t.Nl(e)||this.Il(e)}}if(this.xl=t,t){for(var s=[],u=0,o=t.Dl;u<o.length;u++){var h=o[u];this.Rl(h),this.Fl(h)&&s.push(h)}this.Ll(t);for(var a=0;a<s.length;a++){var c=s[a];c.xo(new Id(c))}}}}}]),n}(Rd),Dd=d.freeze||R;function Od(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function xd(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Pd(t){if(nt(t)){var n={};for(var i in t)Y.call(t,i)&&(n[i]=Pd(t[i]));return n}if($(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Pd(t[e]));return r}return t}function Bd(t,n){return t===n||!(!t||!n)&&(!(!tt(t)||!tt(n))&&(K(t)?!!K(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Bd(t[e],n[e]))return!1;return!0}(t,n):!K(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var s=i[e];if(!Y.call(n,s)||!Bd(t[s],n[s]))return!1}return!0}(t,n)))}function Ld(t,n){return t.constructor===n.constructor}function Md(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],s=t[e];null!=s&&(n[e]=s)}return n}function Ud(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Fd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Hd(t){var n=Fd(t);if(w(n))throw new f("Expected a valid number.");return n}function Vd(t){return"string"==typeof t?t:""}function Xd(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Wd=[_d.Qd,_d.Zd,kd.ll];function qd(t){var n,i=t.Dl.map(function(t){return t.Kd});return i.item=function(n){var i=0|n,r=t.Sl(i);return r&&r.Kd||void 0},i.addEventListener=function(t,i){n.Po(t,i)},i.removeEventListener=function(t,i){n.Uo(t,i)},n=new ps(i),t.Po(Wd,function(t){return n.xo(t.Kd)}),i}function zd(){}function Gd(t){var n,i=[kd.kl,kd.ll,kd.pl,kd.bl,kd.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Hl&&t.Hl.Kd},get enabled(){return t.Vl},set enabled(n){t.Vl=Ud(n)},get id(){return t.Xl},get uid(){return t.Wl},get kind(){return t.ql},get label(){return t.zl},set label(n){t.zl=Vd(n)},get language(){return t.Gl},get qualities(){return t.jl.Kd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.jl.Dl;r<e.length;r++)for(var s=e[r],u=0;u<n.length;u++){var o=n[u];s.Kd===o&&i.push(s)}return i}(t,$(n)?n:[n]):[]).length>0?t.Ql=i:t.Ql=void 0},get targetQuality(){if(t.Ql)return 1===t.Ql.length?t.Ql[0].Kd:t.Ql.map(function(t){return t.Kd})},addEventListener:function(t,i){var r=Xd(t,Vd);n.Po(r,i)},removeEventListener:function(t,i){var r=Xd(t,Vd);n.Uo(r,i)}};return n=new ps(r),t.Po(i,function(t){return n.xo(t.Kd)}),d.defineProperty(r,"constructor",{value:zd}),r}function jd(){}function Qd(t){var n=qd(t);return d.defineProperty(n,"constructor",{value:jd}),n}var Yd,Zd,Jd=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.tl=function(){return Qd(this)},i.Fl=function(t){return t.Vl},n}(Cd);function $d(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Yd.Yl:case Yd.Zl:case Yd.Jl:return n}}else if("number"==typeof t)switch(t){case 0:return Yd.Yl;case 1:return Yd.Zl;case 2:return Yd.Jl}return Yd.Yl}function Kd(){}function tl(t){var n,i=[kd.ll,kd.kl,kd.il,kd.ul,kd.hl,kd.cl,kd.vl,kd.gl,kd.yl],r=[Zd.$l],e={get kind(){return t.ql},get label(){return t.zl},set label(n){t.zl=Vd(n)},get language(){return t.Gl},get id(){return t.Xl},get uid(){return t.Wl},get inBandMetadataTrackDispatchType(){return t.Kl},get mode(){return t.t_},set mode(n){n!==Yd.Jl&&n!==Yd.Zl&&n!==Yd.Yl||(t.t_=n)},get type(){return t.io},get readyState(){return rl(t.n_)},get cues(){return t.t_===Yd.Yl?null:t.i_.Kd},get activeCues(){return t.t_===Yd.Yl?null:t.r_.Kd},get src(){return t.e_||""},addEventListener:function(t,i){var r=Xd(t,Vd);n.Po(r,i)},removeEventListener:function(t,i){var r=Xd(t,Vd);n.Uo(r,i)}};return n=new ps(t),t.Po(i,function(t){return n.xo(t.Kd)}),t.Po(r,function(t){return n.xo(t)}),d.defineProperty(e,"constructor",{value:Kd}),e}function nl(){}function il(t){var n=qd(t);return d.defineProperty(n,"constructor",{value:nl}),n}function rl(t){return t}!function(t){t.Yl="disabled",t.Zl="hidden",t.Jl="showing"}(Yd||(Yd={})),function(t){t.$l="error"}(Zd||(Zd={}));var el=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.tl=function(){return il(this)},i.Fl=function(t){return t.t_===Yd.Jl},n}(Cd),sl=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Lo=function(n){t.prototype.Lo.call(this,n)},i.Vo=function(n){t.prototype.Vo.call(this,n)},n}(ks),ul=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(sl),ol=function(t){function n(){return t.call(this,qo.tc)||this}return U(n,t),n}(As),hl=function(t){function n(n){var i;return(i=t.call(this,qo.Ya)||this).currentSource=n,i}return U(n,t),n}(As),al=function(){function t(){}return t.s_=function(n,i){var r=t.u_(n,i);return r?t.o_(r):0},t.h_=function(){return b.zd||"default"},t.a_=function(){return b.Gd||"unknown"},t.u_=function(n,i){var r,e=null==(r=b.Xd)?void 0:r.ih(i),s=e&&JSON.parse(e);if(s&&s[n])return t.c_(s,n,i)},t.o_=function(t){var n=t.availableBandwidth;return n||0},t.c_=function(n,i,r){if(!t.f_(n,i))return n[i];t.v_(n,i,r)},t.v_=function(t,n,i){var r;delete t[n],null==(r=b.Xd)||r.Va(i,JSON.stringify(t))},t.f_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.d_=function(t,n,i,r){var e;return Kr({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.l_=function(n){var i=t.h_();t.__(i,"theoplayer-stored-network-info",n,Zt())},t.__=function(n,i,r,e){var s,u,o=null==(s=b.Xd)?void 0:s.ih(i),h=o?JSON.parse(o):void 0,a=t.d_(h,n,r,e);null==(u=b.Xd)||u.Va(i,JSON.stringify(a))},t.g_=function(){var n=t.h_();return t.s_(n,"theoplayer-stored-network-info")},t}();var cl,fl,vl,dl,ll,_l,gl="1ADD53F3";function wl(t){return{chromecast:function(t){return{appID:t&&t.appID?Vd(t.appID):gl}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return cl.AUTO;case"manual":return cl.MANUAL;case"disabled":return cl.DISABLED;default:return cl.MANUAL}}(t?t.strategy:void 0)}}function yl(t){var n,i=vl.w_;return(n=t)&&Re(n,"mpd")&&(i=vl.y_),function(t){return!!t&&Re(t,"m3u8")}(t)&&(i=vl.m_),i}function ml(t){switch(t){case fl.k_:case fl.p_:return t;default:return fl.A_}}function kl(t){return!!t&&Ie(t.toLowerCase(),vl.y_)}function pl(t){if(!t)return!1;var n=t.toLowerCase();return Ie(n,vl.m_)||Ie(n,vl.b_)}function Al(t){return tt(t)&&tt(t.ssai)&&"google-dai"===t.ssai.integration}function bl(t){return tt(t)&&it(t.integration)&&"verizon-media"===t.integration}function Tl(t){if(it(t))return!t;if(bl(t))return!t.id;if(Al(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function El(t){return Boolean(tt(t)&&it(t.src))}function Sl(t){return it(t)||El(t)||Al(t)||bl(t)}function Rl(t){if(t){if(Sl(t))return Tl(t);for(var n=0;n<t.length;n++){if(!Tl(t[n]))return!1}return!0}return!0}function Il(){return{crossOrigin:fl.A_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Nl(){return Kr({},Il(),{src:void 0,type:vl.w_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Cl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:dl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ll.NONE;case"midroll-and-postroll":default:return ll.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Ud(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return dl.INSECURE;case"disabled":return dl.DISABLED;case"enabled":default:return dl.ENABLED}}(t.vpaidMode)),$(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(it)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Ud(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Dl(t){if(!K(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];nt(e)&&n.push(e)}return n}function Ol(t){return it(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(cl||(cl={})),function(t){t.A_="",t.k_="anonymous",t.p_="use-credentials"}(fl||(fl={})),function(t){t.y_="application/dash+xml",t.m_="application/vnd.apple.mpegurl",t.b_="application/x-mpegurl",t.w_="video/mp4",t.T_="application/vnd.theoplayer.hesp+json",t.E_="application/vnd.theo.hesp+json"}(vl||(vl={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(dl||(dl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ll||(ll={})),function(t){t[t.S_=0]="S_",t[t.R_=1]="R_",t[t.I_=2]="I_",t[t.N_=3]="N_",t[t.C_=4]="C_"}(_l||(_l={}));var xl,Pl=function(t){function n(n,i){var r;return void 0===i&&(i=_l.S_),(r=t.call(this,qo.$a)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(As),Bl=function(t){function n(n){var i;return(i=t.call(this,qo.oc)||this).currentTime=n,i}return U(n,t),n}(As),Ll=function(t){function n(n){var i;return(i=t.call(this,qo.hc)||this).currentTime=n,i}return U(n,t),n}(As);!function(t){t.D_="canplay",t.O_="canplaythrough",t.x_="loadeddata",t.P_="loadedmetadata",t.gl="readystatechange",t.B_="waiting",t.L_="playing"}(xl||(xl={}));var Ml,Ul,Fl=[xl.D_,xl.O_,xl.x_,xl.P_,xl.gl,xl.B_,xl.L_],Hl=function(t){function n(n,i){var r;return void 0===i&&(i=_l.R_),(r=t.call(this,xl.P_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(As),Vl=function(t){function n(n){var i;return(i=t.call(this,qo.Ja)||this).duration=n,i}return U(n,t),n}(As),Xl=function(t){function n(n,i){var r;return(r=t.call(this,qo.cc)||this).currentTime=n,r.playbackRate=i,r}return U(n,t),n}(As),Wl=function(t){function n(n,i){var r;return(r=t.call(this,qo.pc)||this).currentTime=n,r.currentProgramDateTime=i,r}return U(n,t),n}(As),ql=function(t){function n(n){var i;return(i=t.call(this,qo.Ka)||this).currentTime=n,i}return U(n,t),n}(As),zl=function(t){function n(n,i){var r;return void 0===i&&(i=_l.I_),(r=t.call(this,xl.x_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(As),Gl=function(t){function n(n){var i;return(i=t.call(this,qo.lc)||this).currentTime=n,i}return U(n,t),n}(As),jl=function(t){function n(n){var i;return(i=t.call(this,qo.dc)||this).currentTime=n,i}return U(n,t),n}(As),Ql=function(t){function n(n,i){var r;return(r=t.call(this,qo.Ac)||this).currentTime=n,r.volume=i,r}return U(n,t),n}(As),Yl=function(t){function n(n,i){var r;return void 0===i&&(i=_l.N_),(r=t.call(this,xl.D_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(As),Zl=function(t){function n(n,i){var r;return void 0===i&&(i=_l.C_),(r=t.call(this,xl.O_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(As),Jl=function(t){function n(n,i){var r;return(r=t.call(this,xl.gl)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(As),$l=function(t){function n(n){var i;return(i=t.call(this,Zd.$l)||this).errorObject=n,i}return U(n,t),n.prototype.tl=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yd);function Kl(t){switch(t){case Ml.ALL:case Ml.CONTENT:return t;default:return Ml.NONE}}function t_(t){var n,i,r,e=Pd(t||{});return e.libraryLocation&&(e.libraryLocation=Cf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=wl(e.cast),e.ads=Cl(e.ads),e.analytics=Dl(e.analytics),e.mutedAutoplay=Kl(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=it(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Cf(t)}catch(t){return void b.yu("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function n_(t){return{M_:t.M_,U_:t.U_,F_:t.F_,Qo:t.Qo,H_:t.H_,V_:t.V_,X_:t.X_,W_:t.W_,n_:t.n_,q_:t.q_,z_:t.z_,G_:t.G_,j_:t.j_}}function i_(t,n){var i=n.j_,r=n.V_;t.j_=i,t.V_=r}function r_(t,n,i){if(n!==i){var r=n.M_,e=n.U_,s=n.V_,u=n.X_,o=n.W_,h=n.n_,a=n.q_,c=(n.G_,n.z_,n.j_),f=i.M_,v=i.U_,d=i.F_,l=i.H_,_=i.V_,g=i.X_,y=i.W_,m=i.n_,k=i.q_,p=(i.G_,i.z_,i.j_);h!==_l.S_&&t.xo(new Pl(f,m)),g&&!u?t.xo(new Bl(f)):!g&&u&&t.xo(new Ll(f)),m>=_l.R_&&t.xo(new Hl(f,m)),v===e||w(v)&&w(e)||t.xo(new Vl(v)),y!==o&&t.xo(new Xl(f,y)),f!==r&&t.xo(new Wl(f,void 0)),d&&t.xo(new ql(f)),m>=_l.I_&&t.xo(new zl(f,m)),k&&!a?t.xo(new Gl(f)):!k&&a&&t.xo(new jl(f)),p===c&&_===s||t.xo(new Ql(f,p)),m>=_l.N_&&t.xo(new Yl(f,m)),m>=_l.C_&&t.xo(new Zl(f,m)),m!==h&&t.xo(new Jl(f,m)),l&&t.xo(new $l(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ml||(Ml={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Ul||(Ul={}));var e_,s_=400,u_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},o_=h_(.5,u_);function h_(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function a_(){var t;return t="Android"===b.Bu.Lu?o_:u_,b.Bu.Mu?function(t){var n=t;b.Bu.Mu&&(n=h_((s_+250)/1e3,n));return n}(t):t}!function(t){t[t.Q_=0]="Q_",t[t.Y_=1]="Y_",t[t.Z_=-1]="Z_"}(e_||(e_={}));var c_=function(t,n){return(0|t)-(0|n)},f_=function(t,n){return t===n?e_.Q_:t<n?e_.Z_:t>n?e_.Y_:w(t)?w(n)?e_.Q_:e_.Y_:e_.Z_};function v_(t,n,i){return zt(t,n,i)?e_.Q_:f_(t,n)}var d_=function(t,n){return Gt(t,n)?e_.Q_:f_(t,n)};var l_=function(){function t(){}var n=t.prototype;return n.J_=function(t){return this.K_()*t},n.tg=function(t){return this.ng(t)>0},n.ig=function(t){return this.ng(t)>=0},n.rg=function(t,n){return this.sg(t).eg(n)},n.ug=function(t){return 0===this.ng(t)},n.og=function(t){return this.ng(t)<0},n.eg=function(t){return this.ng(t)<=0},n.hg=function(){return this.ag()?this.cg():this},n.fg=function(t){return this.vg(t.cg())},n.sg=function(t){return this.fg(t).hg()},t}();function __(t,n){return t.dg()?n.dg()?e_.Q_:e_.Y_:n.dg()?e_.Z_:t.lg()?n.lg()&&t.ag()===n.ag()?e_.Q_:t.ag()?e_.Z_:e_.Y_:n.ag()?e_.Y_:e_.Z_}var g_=function(){function t(t,n){this._g=void 0,this.gg=void 0,this._g=t,this.gg=n}t.wg=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.yg=function(n){return n.unsigned?new t(n,Xt.UZERO):new t(n,n.isNegative()?Xt.NEG_ONE:Xt.ZERO)},t.mg=function(n,i){if(w(n))return i?t.kg:t.pg;if(i){if(n<0)return t.kg;if(n>=3.402823669209385e38)return t.Ag}else{if(n<=-1.7014118346046923e38)return t.bg;if(n+1>=1.7014118346046923e38)return t.Tg}return n<0?t.mg(-n,i).cg():t.wg(Xt.fromNumber(n%0x10000000000000000),Xt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Eg=function(){return this.gg.unsigned},n.Sg=function(){return this._g.isZero()&&this.gg.isZero()},n.ag=function(){return this.gg.isNegative()},n.Rg=function(){return this.Eg()?t.wg(this._g,this.gg,!1):this},n.Ig=function(){return this.Eg()?this:t.wg(this._g,this.gg,!0)},n.Ng=function(){return this._g},n.K_=function(){return this.ag()?-this.cg().K_():0x10000000000000000*this.gg.toNumber()+this._g.toUnsigned().toNumber()},n.Cg=function(){return this._g.toInt()},n.ug=function(t){return(this.Eg()===t.Eg()||this.gg.getHighBits()>>>31!=1||t.gg.getHighBits()>>>31!=1)&&(this.gg.toUnsigned().eq(t.gg.toUnsigned())&&this._g.toUnsigned().eq(t._g.toUnsigned()))},n.ng=function(t){if(this.ug(t))return e_.Q_;var n=this.ag(),i=t.ag();if(n&&!i)return e_.Z_;if(!n&&i)return e_.Y_;if(!this.Eg())return this.fg(t).ag()?e_.Z_:e_.Y_;var r=this.Ig(),e=t.Ig(),s=e.gg.comp(r.gg);return s>0||0===s&&e._g.gt(r._g)?e_.Z_:e_.Y_},n.og=function(t){return this.ng(t)<0},n.eg=function(t){return this.ng(t)<=0},n.Dg=function(t){return this.ng(t)>0},n.Og=function(t){return this.ng(t)>=0},n.xg=function(){return new t(this._g.not(),this.gg.not())},n.Pg=function(n){return new t(this._g.and(n._g),this.gg.and(n.gg))},n.Bg=function(n){return new t(this._g.or(n._g),this.gg.or(n.gg))},n.Lg=function(n){var i=127&n;return 0===i?this:i<64?t.wg(this._g.shl(i),this.gg.shl(i).or(this._g.shru(64-i)),this.Eg()):t.wg(Xt.ZERO,this._g.shl(i-64),this.Eg())},n.Mg=function(n){var i=127&n;return 0===i?this:i<64?t.wg(this._g.shru(i).or(this.gg.shl(64-i)),this.gg.shr(i),this.Eg()):t.wg(this.gg.shr(i-64),this.gg.isNegative()?Xt.NEG_ONE:Xt.ZERO,this.Eg())},n.Ug=function(n){var i=127&n;return 0===i?this:i<64?t.wg(this._g.shru(i).or(this.gg.shl(64-i)),this.gg.shru(i),this.Eg()):64===i?t.wg(this.gg,Xt.ZERO,this.Eg()):t.wg(this.gg.shru(i-64),Xt.ZERO,this.Eg())},n.vg=function(n){var i=this.gg.high>>>16,r=65535&this.gg.high,e=this.gg.low>>>16,s=65535&this.gg.low,u=this._g.high>>>16,o=65535&this._g.high,h=this._g.low>>>16,a=65535&this._g.low,c=n.gg.high>>>16,f=65535&n.gg.high,v=n.gg.low>>>16,d=65535&n.gg.low,l=n._g.high>>>16,_=65535&n._g.high,g=n._g.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n._g.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.Eg(),S=Xt.fromBits(m<<16|k,w<<16|y,E),R=Xt.fromBits(b<<16|T,p<<16|A,E);return t.wg(R,S,E)},n.fg=function(t){return this.vg(t.cg())},n.cg=function(){return this.xg().vg(t.Fg)},n.Hg=function(n){if(this.Sg()||n.Sg())return this.Eg()?t.kg:t.pg;if(this.ag())return n.ag()?this.cg().Hg(n.cg()):this.cg().Hg(n).cg();if(n.ag())return this.Hg(n.cg()).cg();if(this.gg.isZero()&&0===this._g.high&&n.gg.isZero()&&0===n._g.high)return t.yg(this._g.multiply(n._g));var i=Xt.fromBits(4294967295,0,!0),r=this._g.and(i),e=this._g.shru(32),s=this.gg.and(i),u=this.gg.shru(32),o=n._g.and(i),h=n._g.shru(32),a=n.gg.and(i),c=n.gg.shru(32),f=Xt.UZERO,v=Xt.UZERO,d=Xt.UZERO,l=Xt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=Xt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Xt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.wg(_,g,this.Eg())},n.Vg=function(n){var i,r,e=n;if(e.Sg())throw new RangeError("division by zero");if(this.Sg())return this.Eg()?[t.kg,t.kg]:[t.pg,t.pg];if(this.Eg()){if(e.Eg()||(e=e.Ig()),e.Dg(this))return[t.kg,this];if(e.Dg(this.Ug(1)))return[r=t.Xg,i=this.fg(e)];r=t.kg}else{if(this.ug(t.bg)){if(e.ug(t.Fg)||e.ug(t.Wg))return[t.bg,t.pg];if(e.ug(t.bg))return[t.Fg,t.pg];var s=this.Mg(1).qg(e).Lg(1);return s.ug(t.pg)?r=e.ag()?t.Fg:t.Wg:(i=this.fg(e.Hg(s)),r=s.vg(i.qg(e))),[r,i=this.fg(e.Hg(r))]}if(e.ug(t.bg))return this.Eg()?[t.kg,this]:[t.pg,this];if(this.ag()){if(e.ag())return this.cg().Vg(e.cg());var u=this.cg().Vg(e);return r=u[0],i=u[1],[r.cg(),i.cg()]}if(e.ag()){var o=this.Vg(e.cg());return r=o[0],i=o[1],[r.cg(),i.cg()]}r=t.pg}for(i=this;i.Og(e);){for(var h=l.max(1,l.floor(i.K_()/e.K_())),a=l.ceil(l.log(h)/l.LN2),c=a<=48?1:l.pow(2,a-48),f=t.mg(h),v=f.Hg(e);v.ag()||v.Dg(i);)h-=c,v=(f=t.mg(h,this.Eg())).Hg(e);f.Sg()&&(f=t.Fg),r=r.vg(f),i=i.fg(v)}return[r,i]},n.qg=function(t){return this.Vg(t)[0]},n.zg=function(t){return this.Vg(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Sg())return"0";if(this.ag()){if(this.ug(t.bg)){var r=t.mg(i),e=this.qg(r),s=e.Hg(r).fg(this);return e.toString(i)+s.Cg().toString(i)}return"-"+this.cg().toString(i)}for(var u=t.mg(l.pow(i,6),this.Eg()),o=this,h="";;){var a=o.qg(u),c=(o.fg(a.Hg(u)).Cg()>>>0).toString(i);if((o=a).Sg())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();g_.pg=g_.yg(Xt.ZERO),g_.kg=g_.yg(Xt.UZERO),g_.Fg=g_.yg(Xt.ONE),g_.Xg=g_.yg(Xt.UONE),g_.Wg=g_.yg(Xt.NEG_ONE),g_.Tg=g_.wg(Xt.NEG_ONE,Xt.MAX_VALUE,!1),g_.Ag=g_.wg(Xt.MAX_UNSIGNED_VALUE,Xt.MAX_UNSIGNED_VALUE,!0),g_.bg=g_.wg(Xt.ZERO,Xt.MIN_VALUE,!1);var w_=function(){function t(t,n){void 0===n&&(n=1),this.Gg=void 0,this.jg=void 0,this.Gg=t,this.jg=n}t.Qg=function(n){return new t(l.ceil(n.Gg),n.jg)},t.Yg=function(n){return new t(l.floor(n.Gg),n.jg)},t.Zg=function(t,n){return t.ig(n)?t:n},t.Jg=function(t,n){return t.eg(n)?t:n};var n=t.prototype;return n.vg=function(n){return this.jg>=n.jg?new t(this.Gg+n.$g(this.jg).Gg,this.jg):new t(this.$g(n.jg).Gg+n.Gg,n.jg)},n.tg=function(t){return t.og(this)},n.ig=function(t){return t.eg(this)},n.sg=function(n){return this.jg>=n.jg?new t(l.abs(this.Gg-n.$g(this.jg).Gg),this.jg):n.sg(this)},n.rg=function(t,n){return this.sg(t).eg(n)},n.ng=function(t){return i=t,(n=this).jg>=i.jg?d_(n.Gg,i.$g(n.jg).Gg):d_(n.$g(i.jg).Gg,i.Gg);var n,i},n.ug=function(t){return 0===this.ng(t)},n.og=function(t){return this.ng(t)<0},n.eg=function(t){return this.ng(t)<=0},n.$g=function(n){return new t(this.Gg*(n/this.jg),n)},n.fg=function(n){return this.jg>=n.jg?new t(this.Gg-n.$g(this.jg).Gg,this.jg):new t(this.$g(n.jg).Gg-n.Gg,n.jg)},n.Kg=function(n){return new t(this.Gg*n,this.jg)},L(t,[{key:"lg",get:function(){return!isFinite(this.Gg)}},{key:"tw",get:function(){return this.Gg/this.jg}}]),t}();w_.nw=new w_(1/6,1),w_.pg=new w_(0),w_.iw=new w_(1/0),w_.rw=1e6;var y_=function(t){function n(n,i){var r;return(r=t.call(this)||this).fs=void 0,r.jg=void 0,r.fs=n.toSigned(),r.jg=i>>>0,r}U(n,t),n.ew=function(t,i){return void 0===i&&(i=1e6),n.mg(t*i,i)},n.mg=function(t,i){return w(t)?n.sw:t===1/0?n.uw:t===-1/0?n.ow:new n(Xt.fromNumber(t),i)},n.yg=function(t,i){return new n(t,i)},n.hw=function(t){return n.ew(t.tw,1e6)},n.aw=function(t){return new n(Xt.fromNumber(t.getTime()),1e3)},n.Zg=function(t,n){return t.ig(n)?t:n},n.Jg=function(t,n){return t.eg(n)?t:n},n.cw=function(t,i,r){return n.Zg(i,n.Jg(r,t))};var i=n.prototype;return i.ag=function(){return this.fs.isNegative()},i.Sg=function(){return 0!==this.jg&&this.fs.isZero()},i.lg=function(){return 0===this.jg&&!this.fs.isZero()},i.dg=function(){return 0===this.jg&&this.fs.isZero()},i.K_=function(){if(0===this.jg)return this.fs.isZero()?NaN:this.fs.isNegative()?-1/0:1/0;var t=this.fs.divide(this.jg),n=this.fs.subtract(t.multiply(this.jg));return t.toNumber()+n.toNumber()/this.jg},i.Ng=function(){if(0===this.jg)throw new f("Failed to convert timestamp");return this.fs},i.fw=function(){return new Date(0===this.jg?NaN:this.$g(1e3).fs.toNumber())},i.vw=function(){return new w_(0===this.jg?this.K_():this.fs.toNumber(),this.jg)},i.$g=function(t,i){void 0===i&&(i=p_.dw);var r=this.jg;if(r===t)return this;if(0===r)return this;var e=Yt(r,t);return new n(function(t,n,i){var r=t.Vg(n),e=r[0],s=r[1];if(s.Sg())return e;if(i===p_.dw)return s.ag()?e.fg(g_.Fg):e;if(i===p_.lw)return s.ag()?e:e.vg(g_.Fg);var u=s.Hg(g_.mg(2));return u.ag()?u.cg().og(n)?e:e.fg(g_.Fg):u.og(n)?e:e.vg(g_.Fg)}(g_.yg(this.fs).Hg(g_.mg(t/e)),g_.mg(r/e),i).Ng(),t)},i.ng=function(t){if(this===t)return e_.Q_;if(0===this.jg||0===t.jg)return __(this,t);if(this.Sg())return t.Sg()?e_.Q_:t.ag()?e_.Y_:e_.Z_;if(t.Sg())return this.ag()?e_.Z_:e_.Y_;var n=l.min(this.jg,t.jg),i=this.$g(n,p_._w).fs,r=t.$g(n,p_._w).fs;return i.compare(r)},i.cg=function(){return 0===this.jg?m_(this):new n(this.fs.negate(),this.jg)},i.vg=function(t){if(0===this.jg||0===t.jg)return k_(this,t);if(this.Sg())return t;if(t.Sg())return this;var i=l.max(this.jg,t.jg),r=this.$g(i,p_._w),e=t.$g(i,p_._w);return new n(r.fs.add(e.fs),i)},i.Hg=function(t){if(this.dg()||w(t))return n.sw;if(this.lg()||!isFinite(t)){if(this.Sg()||0===t)return n.sw;var i=this.ag()?n.ow:n.uw;return t<0?i.cg():i}return this.Sg()?this:new n(0===t?Xt.ZERO:this.fs.multiply(t),this.jg)},i.qg=function(t){if(this.dg()||w(t))return n.sw;if(this.lg())return isFinite(t)?0===t?1/t<0?this.cg():this:t<0?this.cg():this:n.sw;if(!isFinite(t))return new n(Xt.ZERO,this.jg);if(this.Sg())return 0===t?n.sw:new n(Xt.ZERO,this.jg);if(0===t){var i=this.ag()?n.ow:n.uw;return 1/t<0?i.cg():i}return new n(this.fs.divide(t),this.jg)},i.gw=function(){return[this.fs.low,this.fs.high,this.jg]},n}(l_);function m_(t){return t.dg()?t:t.ag()?y_.uw:y_.ow}function k_(t,n){return t.dg()||n.dg()?y_.sw:t.lg()&&n.lg()?t.ag()===n.ag()?t:y_.sw:t.lg()?t:n}y_.pg=new y_(Xt.ZERO,1e6),y_.sw=new y_(Xt.ZERO,0),y_.uw=new y_(Xt.ONE,0),y_.ow=new y_(Xt.NEG_ONE,0);var p_,A_=function(t){function n(n,i){var r;return(r=t.call(this)||this).fs=void 0,r.jg=void 0,r.fs=BigInt.asIntN(64,n),r.jg=i>>>0,r}U(n,t),n.ew=function(t,i){return void 0===i&&(i=1e6),n.mg(t*i,i)},n.mg=function(t,i){return w(t)?n.sw:t===1/0?n.uw:t===-1/0?n.ow:new n(BigInt(l.floor(t)),i)},n.yg=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.hw=function(t){return n.ew(t.tw,1e6)},n.aw=function(t){return n.mg(t.getTime(),1e3)},n.Zg=function(t,n){return t.ig(n)?t:n},n.Jg=function(t,n){return t.eg(n)?t:n},n.cw=function(t,i,r){return n.Zg(i,n.Jg(r,t))};var i=n.prototype;return i.ag=function(){return this.fs<BigInt(0)},i.Sg=function(){return 0!==this.jg&&this.fs===BigInt(0)},i.lg=function(){return 0===this.jg&&this.fs!==BigInt(0)},i.dg=function(){return 0===this.jg&&this.fs===BigInt(0)},i.K_=function(){if(0===this.jg)return this.fs===BigInt(0)?NaN:this.fs<BigInt(0)?-1/0:1/0;var t=this.fs/BigInt(this.jg),n=this.fs-t*BigInt(this.jg);return Number(t)+Number(n)/this.jg},i.Ng=function(){if(0===this.jg)throw new f("Failed to convert timestamp");return this.ww()},i.ww=function(){var t=this.fs&BigInt(4294967295),n=this.fs>>BigInt(32)&BigInt(4294967295);return Xt.fromBits(Number(t),Number(n))},i.fw=function(){return new Date(0===this.jg?NaN:Number(this.$g(1e3).fs))},i.vw=function(){return new w_(0===this.jg?this.K_():Number(this.fs),this.jg)},i.$g=function(t,i){void 0===i&&(i=p_.dw);var r=this.jg;if(r===t)return this;if(0===r)return this;var e=Yt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===p_.dw)return e<BigInt(0)?r-BigInt(1):r;if(i===p_.lw)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.fs*BigInt(t/e),BigInt(r/e),i),t)},i.ng=function(t){if(this===t)return e_.Q_;if(0===this.jg||0===t.jg)return __(this,t);if(this.Sg())return t.Sg()?e_.Q_:t.ag()?e_.Y_:e_.Z_;if(t.Sg())return this.ag()?e_.Z_:e_.Y_;var n=l.min(this.jg,t.jg),i=this.$g(n,p_._w).fs,r=t.$g(n,p_._w).fs;return i>r?e_.Y_:i<r?e_.Z_:e_.Q_},i.cg=function(){return 0===this.jg?b_(this):new n(-this.fs,this.jg)},i.vg=function(t){if(0===this.jg||0===t.jg)return T_(this,t);if(this.Sg())return t;if(t.Sg())return this;var i=l.max(this.jg,t.jg),r=this.$g(i,p_._w),e=t.$g(i,p_._w);return new n(r.fs+e.fs,i)},i.Hg=function(t){if(this.dg()||w(t))return n.sw;if(this.lg()||!isFinite(t)){if(this.Sg()||0===t)return n.sw;var i=this.ag()?n.ow:n.uw;return t<0?i.cg():i}return this.Sg()?this:new n(0===t?BigInt(0):this.fs*BigInt(t),this.jg)},i.qg=function(t){if(this.dg()||w(t))return n.sw;if(this.lg())return isFinite(t)?0===t?1/t<0?this.cg():this:t<0?this.cg():this:n.sw;if(!isFinite(t))return new n(BigInt(0),this.jg);if(this.Sg())return 0===t?n.sw:new n(BigInt(0),this.jg);if(0===t){var i=this.ag()?n.ow:n.uw;return 1/t<0?i.cg():i}return new n(this.fs/BigInt(t),this.jg)},i.gw=function(){var t=this.ww();return[t.low,t.high,this.jg]},L(n,null,[{key:"pg",get:function(){return n.yw||(n.yw=new n(BigInt(0),1e6)),n.yw}},{key:"sw",get:function(){return n.mw||(n.mw=new n(BigInt(0),0)),n.mw}},{key:"uw",get:function(){return n.kw||(n.kw=new n(BigInt(1),0)),n.kw}},{key:"ow",get:function(){return n.pw||(n.pw=new n(BigInt(-1),0)),n.pw}}]),n}(l_);function b_(t){return t.dg()?t:t.ag()?A_.uw:A_.ow}function T_(t,n){return t.dg()||n.dg()?A_.sw:t.lg()&&n.lg()?t.ag()===n.ag()?t:A_.sw:t.lg()?t:n}A_.yw=void 0,A_.mw=void 0,A_.kw=void 0,A_.pw=void 0,function(t){t[t.dw=0]="dw",t[t.lw=1]="lw",t[t._w=2]="_w"}(p_||(p_={}));var E_,S_=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?A_:y_;function R_(t,n){return t.ng(n)}function I_(t){return S_.yg(Xt.fromBits(t[0],t[1],!1),t[2])}function N_(t){return{goLive:function(){return t.Aw()},get isLive(){return t.bw},get currentServerLiveTime(){return t.Tw},get currentLatency(){return t.Ew},get latency(){return t.Sw},set latency(n){if(!function(t){if(!tt(t))return!1;var n=t,i=J(n.target)&&"number"==typeof n.target&&J(n.windowEnd)&&"number"==typeof n.windowEnd&&J(n.windowStart)&&"number"==typeof n.windowStart&&J(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new f("Invalid latency configuration");t.Sw=n},get manifest(){return t.Rw},get metrics(){return t.Iw},addEventListener:function(n,i){t.Po(D_(n),i)},removeEventListener:function(n,i){t.Uo(D_(n),i)}}}!function(t){t[t.Yl=0]="Yl",t[t.Nw=1]="Nw",t[t.Cw=2]="Cw"}(E_||(E_={}));var C_=["analytic","golive","nogolive","bufferedchange"];function D_(t){var n=Xd(t,Vd);return(it(n)?[n]:n).filter(function(t){return n=t,-1!==C_.indexOf(n);var n})}var O_,x_=function(t){function n(){var n;return(n=t.call(this)||this).xl=void 0,n.$d=void 0,n.Dw=a_(),n.xl=void 0,n}U(n,t);var i=n.prototype;return i.Ll=function(t){t.Po(C_,this.Oo)},i.Ml=function(t){t.Uo(C_,this.Oo)},i.Aw=function(){var t;null==(t=this.xl)||t.Aw()},i.Lv=function(){this.Mo(),this.xl&&this.Ml(this.xl),this.xl=void 0},L(n,[{key:"Ul",get:function(){return this.xl},set:function(t){var n=this.xl;t!==n&&(n&&this.Ml(n),t&&this.Ll(t),this.xl=t,this.xl&&(this.xl.Sw=this.Dw))}},{key:"Kd",get:function(){return this.$d||(this.$d=N_(this)),this.$d}},{key:"Tw",get:function(){var t;return null==(t=this.xl)?void 0:t.Tw}},{key:"Ew",get:function(){var t;return null==(t=this.xl)?void 0:t.Ew}},{key:"bw",get:function(){return!!this.xl&&this.xl.bw}},{key:"Sw",get:function(){return this.Dw},set:function(t){this.xl&&(this.xl.Sw=t),this.Dw=t}},{key:"Rw",get:function(){var t;return null==(t=this.xl)?void 0:t.Rw}},{key:"Iw",get:function(){var t;return null==(t=this.xl)?void 0:t.Iw}}]),n}(ks),P_=function(t){function n(n){var i;return(i=t.call(this)||this).xl=void 0,i.Ow=[],i.xw=!1,i.Pw=new Jd,i.Bw=new Jd,i.Lw=new el,i.Mw=new x_,i.Uw=!1,i.Fw(n),n.Lo(i.Oo),i.xl=n,i.Pw.Ul=n.Hw,i.Bw.Ul=n.Vw,i.Lw.Ul=n.Xw,i.Mw.Ul=n.Ww,i}U(n,t);var i=n.prototype;return i.qw=function(){this.xl.qw()},i.zw=function(){this.xl.zw()},i.Gw=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ds(this.Ow.map(function(t){return t.Gw()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jw=function(){return this.xl.jw()},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(i),t.next=3,this.xl.Qw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Yw=function(){return this.Ul.Yw()},i.Zw=function(){this.Ul.Zw()},i.Jw=function(){this.Ul.Jw()},i.$w=function(){if(!this.xw){for(var t=0,n=this.Ow;t<n.length;t++){n[t].$w()}this.xw=!0}},i.Kw=function(t){this.xl.Kw(t)},i.ty=function(){this.xl.ty()},i.ny=function(){this.xl.ny()},i.iy=function(){this.xl.iy()},i.ey=function(){return this.xl.ey()},i.sy=function(){return this.xl.sy()},i.uy=function(){for(var t=[],n=0,i=this.Ow;n<i.length;n++){var r=i[n];t.push.apply(t,r.uy())}return t},i.oy=function(t){for(var n=!1,i=0,r=this.Ow;i<r.length;i++){n=r[i].oy(t)||n}return n},i.xo=function(n){this.oy(n)||t.prototype.xo.call(this,n)},i.Fw=function(t){this.Ow.push(t)},i.hy=function(t){je(this.Ow,t)},i.ay=function(t){if(t!==this.xl){var n=this.xl;n.ty(),n.Vo(this.Oo);var i=n_(this),r=this.vy,e=this.sy();this.xl=t,this.Pw.Ul=t.Hw,this.Bw.Ul=t.Vw,this.Lw.Ul=t.Xw,this.Mw.Ul=t.Ww,r_(this,i,this);var s=this.vy;s!==r&&this.xo(new hl(s)),this.sy()!==e&&this.xo(new ol),t.Lo(this.Oo),t.Kw(n)}},i.ly=function(){},i.Lv=function(){var t=T.coroutine($r.mark(function t(){var n,i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Mo(),this.xl.ty(),n=0,i=this.Ow;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Lv();case 7:n++,t.next=3;break;case 10:this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv(),this.Mw.Lv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ds(this.Ow.map(function(t){return t.Cl()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Hw",get:function(){return this.Pw}},{key:"Xw",get:function(){return this.Lw}},{key:"Vw",get:function(){return this.Bw}},{key:"_y",get:function(){return this.xl._y}},{key:"gy",get:function(){return this.xl.gy},set:function(t){this.xl.gy=t}},{key:"vy",get:function(){return this.xl.vy}},{key:"M_",get:function(){return this.xl.M_},set:function(t){this.xl.M_=t}},{key:"U_",get:function(){return this.xl.U_}},{key:"wy",get:function(){return this.xl.wy}},{key:"F_",get:function(){return this.xl.F_}},{key:"Qo",get:function(){return this.xl.Qo}},{key:"H_",get:function(){return this.xl.H_}},{key:"Ww",get:function(){return this.Mw}},{key:"yy",get:function(){return this.xl.yy}},{key:"Iw",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.my,i+=h.ky,r+=h.py,e+=h.Ay,s+=h.by,u.amountOfBufferedAudioSegments+=h.Ty.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Ty.amountOfBufferedVideoSegments}return{my:n,ky:i,py:r,Ay:e,by:s,Ty:u}}(this.Ow.map(function(t){return t.Iw}))}},{key:"V_",get:function(){return this.xl.V_},set:function(t){this.xl.V_=t}},{key:"Ey",get:function(){return this.xl.Ey}},{key:"X_",get:function(){return this.xl.X_}},{key:"W_",get:function(){return this.xl.W_},set:function(t){this.xl.W_=t}},{key:"Sy",get:function(){return this.xl.Sy}},{key:"Ry",get:function(){return this.xl.Ry},set:function(t){this.xl.Ry=t}},{key:"n_",get:function(){return this.xl.n_}},{key:"Iy",get:function(){return this.xl.Iy}},{key:"q_",get:function(){return this.xl.q_}},{key:"z_",get:function(){return this.xl.z_}},{key:"G_",get:function(){return this.xl.G_}},{key:"j_",get:function(){return this.xl.j_},set:function(t){this.xl.j_=t}},{key:"Ul",get:function(){return this.xl},set:function(t){this.ay(t)}}]),n}(ul),B_=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return U(n,t),L(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(To);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(O_||(O_={}));var L_=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,f.captureStackTrace&&f.captureStackTrace(en(s),s.constructor),s}return U(n,t),L(n,[{key:"name",get:function(){return"MediaError"}}]),n}(sn);function M_(t){Od(t,"MEDIA_ERR_ABORTED",O_.ABORTED),Od(t,"MEDIA_ERR_NETWORK",O_.NETWORK),Od(t,"MEDIA_ERR_DECODE",O_.DECODE),Od(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",O_.SRC_NOT_SUPPORTED),Od(t,"MEDIA_ERR_ENCRYPTED",O_.ENCRYPTED)}function U_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new L_(O_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new L_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return O_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return O_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return O_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return O_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return O_.NETWORK;if(i===n.ErrorCategory.SOURCE)return O_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return O_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return O_.ENCRYPTED;if(i===n.ErrorCategory.AD)return O_.ADVERTISEMENT_ERROR;return O_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function F_(t){switch(t){case O_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case O_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case O_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case O_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case O_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case O_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case O_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}M_(L_),M_(L_.prototype);var H_,V_=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Rl=function(n){return t.prototype.Rl.call(this,n)},i.tl=function(){return Qd(this)},n}(Rd);!function(t){t.Sv="audio",t.Rv="video",t.Je="text",t.Iv="image",t.lv="unknown"}(H_||(H_={}));var X_=function(){function t(){this.Ny=[],this.$d=void 0}var n=t.prototype;return n.vg=function(t){this.Ny.push(t),this.$d&&this.$d.push(t.Kd)},n.Sl=function(t){return this.Ny[t]},n.Cy=function(t){return $(t)?Ze(this.Ny,t):Ye(this.Ny,t)},L(t,[{key:"Dl",get:function(){return this.Ny}},{key:"Ol",get:function(){return this.Ny.length}},{key:"Kd",get:function(){var t,n;return this.$d||(this.$d=((n=(t=this).Dl.map(function(t){return t.Kd})).item=function(n){var i=0|n,r=t.Sl(i);return r&&r.Kd||void 0},n)),this.$d}}]),t}(),W_=function(t){function n(n){var i;return(i=t.call(this,kd.kl)||this).nl=n,i}return U(n,t),n.prototype.tl=function(){return new q_(this.nl.Kd)},n}(pd),q_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return U(n,t),n}(Ad),z_=0;function G_(){return z_++}var j_=0;var Q_=0;function Y_(){return Q_++}var Z_=0;var J_=function(t){function n(n){var i;return(i=t.call(this)||this).io=H_.Sv,i.Dy=void 0,i.Oy=void 0,i.xy=void 0,i.Py=void 0,i.By=!1,i.Ny=void 0,i.$d=void 0,i.Dy=n,i.Py=G_(),i.Oy=Z_+++"",i.xy=n.label,i.Ny=new X_,i.Ly(),i}U(n,t);var i=n.prototype;return i.My=function(t){this.Vl=t},i.Ly=function(){this.Vl=this.Uy},L(n,[{key:"Hl",get:function(){}},{key:"Vl",get:function(){return this.By},set:function(t){this.By!==t&&(this.By=t,this.Uy=t,this.xo(new Id(this)))}},{key:"Uy",get:function(){return!!this.Dy.enabled},set:function(t){this.Dy.enabled=t}},{key:"Kd",get:function(){return this.$d||(this.$d=Gd(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"ql",get:function(){return this.Dy.kind}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.xo(new W_(this)))}},{key:"Gl",get:function(){return this.Dy.language}},{key:"t_",get:function(){return this.Vl?"enabled":"disabled"}},{key:"Fy",get:function(){return this.Dy}},{key:"jl",get:function(){return this.Ny}},{key:"Ql",get:function(){},set:function(t){}}]),n}(ks),$_=0;var K_,tg,ng,ig=function(t){function n(n){var i;return(i=t.call(this)||this).io=H_.Rv,i.Dy=void 0,i.Oy=void 0,i.Py=void 0,i.By=!1,i.Ny=void 0,i.xy=void 0,i.$d=void 0,i.Dy=n,i.Py=G_(),i.Oy=$_+++"",i.Ny=new X_,i.xy=n.label,i.Ly(),i}U(n,t);var i=n.prototype;return i.Ly=function(){this.Vl=this.Uy},i.My=function(t){this.Vl=t},L(n,[{key:"Hl",get:function(){}},{key:"Vl",get:function(){return this.By},set:function(t){this.By!==t&&(this.By=t,this.Uy=t,this.xo(new Id(this)))}},{key:"Uy",get:function(){return!!this.Dy.selected},set:function(t){this.Dy.selected=t}},{key:"Kd",get:function(){return this.$d||(this.$d=Gd(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"ql",get:function(){return"main"}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.xo(new W_(this)))}},{key:"Gl",get:function(){return this.Dy.language}},{key:"t_",get:function(){return this.Vl?"enabled":"disabled"}},{key:"Fy",get:function(){return this.Dy}},{key:"jl",get:function(){return this.Ny}},{key:"Ql",get:function(){},set:function(t){}}]),n}(ks),rg=function(t){function n(n){var i;return(i=t.call(this,qo.Wa)||this).yy=n,i}return U(n,t),n}(As);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(K_||(K_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(tg||(tg={})),function(t){t.Hy="cue",t.Vy="region",t.Xy="stylesheet"}(ng||(ng={}));var eg,sg,ug={"line-left":"start",center:"middle","line-right":"end"},og={start:"line-left",middle:"center",end:"line-right"};function hg(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function ag(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:g(i),w(e)?r:e;var i,r,e}!function(t){t.Wy="qy",t.zy="Gy",t.kl="Bh"}(eg||(eg={})),function(t){t.Wy="enter",t.zy="exit",t.kl="update"}(sg||(sg={}));var cg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).jy=i,r}return U(n,t),n}(pd),fg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return U(n,t),n}(Ad);function vg(t){var n,i=[eg.Wy,eg.zy,eg.kl],r={get track(){return t.nl.Kd},get id(){return t.Xl},get uid(){return t.Wl},get startTime(){return t.Qy},get endTime(){return t.Yy},get content(){return t.Zy},addEventListener:function(t,i){var r=Xd(t,Vd);n.Po(r,i)},removeEventListener:function(t,i){var r=Xd(t,Vd);n.Uo(r,i)}};return n=new ps(r),t.Po(i,function(t){return n.xo(t.Kd)}),r}function dg(){}function lg(t){return xd(vg(t),{get align(){return t.Jy},get line(){return t.$y},get lineAlign(){return t.Ky},get position(){return t.tm},get positionAlign(){return t.nm},get region(){return t.im?t.im.Kd:null},get size(){return t.uh},get snapToLines(){return t.rm},get text(){return t.Zy},get vertical(){return t.sm}})}var _g=.02;function gg(t,n){return zt(t.Qy,n.Qy,_g)&&zt(t.Yy,n.Yy,_g)&&t.Xl===n.Xl}var wg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Py=void 0,u.Oy=void 0,u.um=void 0,u.om=void 0,u.$d=void 0,u.hm=void 0,u.am=!1,u.cm=void 0,u.fm=void 0,u.vm="",u.dm=-1,u.Py=Y_(),u.um=n,u.om=i,u.cm=r,u.fm=Boolean(e),u.Oy=null!=s?s:"",u}U(n,t);var i=n.prototype;return i.tl=function(){return vg(this)},i.ug=function(t){return this===t||Ld(this,t)&&gg(this,t)},i.Lv=function(){this.Mo()},L(n,[{key:"Qy",get:function(){return this.um},set:function(t){this.um=t}},{key:"Yy",get:function(){return this.om},set:function(t){this.om=t}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"lm",get:function(){return this.am},set:function(t){this.am=t}},{key:"nl",get:function(){return this.hm},set:function(t){this.hm=t}},{key:"Zy",get:function(){return this.cm},set:function(t){this.cm=t}},{key:"_m",get:function(){return this.vm},set:function(t){this.vm=t}},{key:"gm",get:function(){return this.fm},set:function(t){this.fm=t}}]),n}(ks);function yg(t,n){return t.Zy===n.Zy&&t.$y===n.$y&&t.Ky===n.Ky&&t.tm===n.tm&&t.nm===n.nm&&t.im===n.im&&t.rm===n.rm&&t.uh===n.uh&&t.Jy===n.Jy&&t.sm===n.sm}var mg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).$y="auto",u.Ky="start",u.tm="auto",u.nm="auto",u.im=void 0,u.rm=!0,u.uh=100,u.Jy="center",u.sm="",u}return U(n,t),n.prototype.ug=function(n){return this===n||Ld(this,n)&&t.prototype.ug.call(this,n)&&yg(this,n)},L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=lg(this)),this.$d}},{key:"io",get:function(){return ng.Hy}}]),n}(wg);function kg(t){var n="number"==typeof t.$y?t.$y:g(t.$y);return w(n)||t.rm||!(n<0||n>100)?w(n)?t.rm?-1:100:n:100}function pg(t){return ag(t.tm,t.Jy)}function Ag(t){return hg(t.nm,t.Jy)}function bg(t){var n=100,i=Ag(t),r=pg(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.uh<n?t.uh:n}function Tg(t){return{get id(){return t.Xl},get identifier(){return t.Xl},get lines(){return t.wm},get regionAnchorX(){return t.ym},get regionAnchorY(){return t.mm},get scrollValue(){return t.km},get viewportAnchorX(){return t.pm},get viewportAnchorY(){return t.Am},get width(){return t.cu}}}var Eg=function(){function t(t,n,i,r,e,s,u,o){this.$d=void 0,this.Xl=t,this.cu=n,this.wm=i,this.ym=r,this.mm=e,this.pm=s,this.Am=u,this.km=o}return L(t,[{key:"Kd",get:function(){return this.$d||(this.$d=Tg(this)),this.$d}},{key:"io",get:function(){return ng.Vy}}]),t}(),Sg=9e4,Rg=l.pow(2,33),Ig=S_.mg(Rg,Sg),Ng=Ig.qg(2);function Cg(t){return null!=t&&!t.dg()}function Dg(t,n){return t.lg()||n.lg()?S_.Zg(t,n):Pg(t,n).tg(S_.pg)?t:n}function Og(t,n){var i=t.fg(n);return i.og(S_.pg)&&(i=i.vg(Ig)),i}function xg(t,n){var i=t.vg(n);return i.ig(Ig)&&(i=i.fg(Ig)),i}function Pg(t,n){var i=t.fg(n);return t.lg()||n.lg()?i:(i.ig(Ng)?i=i.fg(Ig):i.og(Ng.cg())&&(i=i.vg(Ig)),i)}function Bg(t,n){if(t||n)return t?n?S_.Jg(t,n):t:n}function Lg(t,n){if(t||n)return t?n?S_.Zg(t,n):t:n}var Mg,Ug,Fg,Hg,Vg={bm:0,Tm:1/0,Em:0},Xg=6,Wg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],qg=[" ","\t","\n","\f","\r"],zg=/^\d*$/,Gg=/.*[0-9]+.*/,jg=/^[\d.-]+$/,Qg=/(^\.|\.$)/,Yg=/(\D\.|\.\D)/;function Zg(t,n){void 0===n&&(n=Vg);var i={i_:[],Sm:[],Rm:[]},r=Jg(t),e=new Vu;if(ow(r),$g(r,function(t){return"\n"!==t},e),e.vh>=r.length)return i;(e.hh(1),"\n"!==r.charAt(e.vh))?iw(Kg(r,e,!1,!0,i,n),i):e.hh(1);for($g(r,function(t){return"\n"===t},e);e.vh<r.length;){iw(Kg(r,e,!1,!1,i,n),i),$g(r,function(t){return"\n"===t},e)}return i}function Jg(t){var n=Se(t,"\0"," "),i=Se(n,"\r\n","\n");return Se(i,"\r","\n")}function $g(t,n,i){for(var r=i.vh;i.vh<t.length&&n(t.charAt(i.vh));)i.hh(1);return t.substring(r,i.vh)}function Kg(t,n,i,r,e,s){for(var u,o=0,h=n.vh,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=$g(t,function(t){return"\n"!==t},n),o++,n.vh>=t.length?c=!0:n.hh(1),Re(u,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.ah(h);break}f=!0,h=n.vh,v=new mg(0,0,"",!1,a);try{rw(u,e.Sm,v,s),a=""}catch(t){b.yu(t),v=null}}else{if(""===u)break;r&&Ie(u,"X-TIMESTAMP-MAP")&&(e.Im=tw(u)),r||2!==o||i||(Ce("STYLE",a.replace(/ /g,""))?(d={io:ng.Xy},a=""):Ce("REGION",a.replace(/ /g,""))&&(l=new Eg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n.vh}if(v)return v.Zy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&Re(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var s=e.indexOf(":"),u=e.substring(0,s),o=e.substring(s+1,e.length);switch(u.toUpperCase()){case"ID":yw(o,n);break;case"WIDTH":pw(o,n);break;case"LINES":kw(o,n);break;case"REGIONANCHOR":var h=ww(o);h&&(n.ym=h[0],n.mm=h[1]);break;case"VIEWPORTANCHOR":var a=ww(o);a&&(n.pm=a[0],n.Am=a[1]);break;case"SCROLL":mw(o,n)}}}}(a,l),l;return null}function tw(t){var n,i,r=t.split("=")[1].trim().split(","),e=nw(r[0].trim(),"MPEGTS")?r[0]:r[1],s=nw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Nm:(i=Number(e.split(/:(.*)/)[1].trim())||0,S_.mg(i,Sg)),Cm:S_.ew(null!=(n=uw(s.split(/:(.*)/)[1].trim(),new Vu))?n:0)}}function nw(t,n){return Ie(t,n)}function iw(t,n){t&&function(t){return t.io===ng.Hy}(t)?n.i_.push(t):t&&function(t){return t.io===ng.Vy}(t)?n.Sm.push(t):t&&function(t){return t.io===ng.Xy}(t)&&n.Rm.push(t)}function rw(t,n,i,r){var e=new Vu;if(hw(t,e),i.Qy=ew(uw(t,e),r),hw(t,e),"--\x3e"!==t.substring(e.vh,e.vh+3))throw f("Something went wrong with parsing a WebVTT Cue");e.hh(3),hw(t,e),i.Yy=ew(uw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var s=r[e];if(0!==s.length&&Re(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":dw(h,n,i);break;case"VERTICAL":_w(h,n);break;case"D":gw(h,n);break;case"LINE":case"L":fw(h,n);break;case"POSITION":case"T":vw(h,n);break;case"SIZE":case"S":lw(h,n);break;case"ALIGN":case"A":cw(h,n)}}}}(t.substring(e.vh,t.length),i,n)}function ew(t,n){return t+n.bm}function sw(t){return/^[0-9]$/.test(t)}function uw(t,n){var i,r,e,s=Se(t,",","."),u=!1;if(n.vh>=s.length||!sw(s.charAt(n.vh)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=$g(s,sw,n),h=_(o,10);if((o.length>2||h>59)&&(u=!0),n.vh>=s.length||":"!==s.charAt(n.vh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.hh(1);var a=$g(s,sw,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(a,10);if(u||n.vh<s.length&&":"===s.charAt(n.vh)){if(n.vh>=s.length||":"!==s.charAt(n.vh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.hh(1);var v=$g(s,sw,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=_(v,10)}else i=0,r=h,e=c;if(n.vh>=s.length||"."!==s.charAt(n.vh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.hh(1);var d=$g(s,sw,n),l=_(d,10);if(c>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function ow(t){if(t.length<Xg)return!1;for(var n=0;n<Wg.length;n++){if(Ie(t,Wg[n]))return!0}return!1}function hw(t,n){for(;n.vh<t.length&&(i=t.charAt(n.vh),Ye(qg,i));)n.hh(1);var i}function aw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function cw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Jy=i;break;case"middle":n.Jy="center"}}function fw(t,n){var i=t,r="";if(Re(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Gg.test(i)){var e;if(Ne(i,"%")){var s=aw(i);if(null===s)return;e=s}else{if(!jg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Yg.test(t)||Qg.test(t))return;if(e=g(t),w(e))return}switch(n.$y=e,n.rm=Ne(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Ky=r;break;case"middle":n.Ky="center"}}}function vw(t,n){var i=t,r="";Re(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=aw(i);if(null!==e)switch(n.tm=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.nm=r;break;case"start":n.nm="line-left";break;case"middle":n.nm="center";break;case"end":n.nm="line-right"}}function dw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Xl===t)return void(n.im=i[r])}function lw(t,n){var i=aw(t);null!==i&&(n.uh=i)}function _w(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.sm="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.sm="lr";break;default:n.sm=""}}function gw(t,n){"VERTICAL"===t.toUpperCase()?n.sm="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.sm="lr")}function ww(t){if(t.indexOf(",")>=0){var n=aw(t.substring(0,t.indexOf(","))),i=aw(t.substring(t.indexOf(",")+1,t.length));return[qt(n||0,0,100),qt(i||100,0,100)]}return null}function yw(t,n){n.Xl=t}function mw(t,n){"up"===t.toLowerCase()&&(n.km="up")}function kw(t,n){zg.test(t)&&(n.wm=_(t))}function pw(t,n){var i=aw(t);null!==i&&(n.cu=i)}!function(t){t.Dm="moov",t.Om="mvhd",t.xm="trak",t.Pm="tkhd",t.Bm="mdia",t.Lm="mdhd",t.Mm="hdlr",t.Um="minf",t.Fm="stbl",t.Hm="stsd",t.Vm="stsc",t.Xm="mvex",t.Wm="trex",t.qm="avc1",t.zm="avcC",t.Gm="hev1",t.jm="hvc1",t.Qm="hvcC",t.Ym="pasp",t.Zm="mp4a",t.Jm="esds",t.$m="wvtt",t.Km="vttC",t.tk="vlab",t.nk="enca",t.ik="encv",t.rk="moof",t.ek="mfhd",t.sk="traf",t.uk="tfhd",t.hk="trun",t.ak="tfdt",t.ck="mdat",t.fk="pssh",t.vk="emsg",t.dk="sidx",t.lk="styp",t._k="ftyp",t.gk="sinf",t.wk="frma"}(Mg||(Mg={})),function(t){t.Rv="vide",t.Sv="soun",t.yk="subt",t.mk="hint",t.kk="meta",t.pk="auxv"}(Ug||(Ug={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Fg||(Fg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Hg||(Hg={}));var Aw=function(){function t(t,n){this.Ds=void 0,this.Ak=void 0,this.Ds=t,this.Ak=n}var n=t.prototype;return n.bk=function(){return eu(this.Ds,this.Ak)},n.Tk=function(){return cu(this.Ds,this.Ak)},n.Ek=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.vh,i);return n.hh(2),r}(this.Ds,this.Ak)},n.Sk=function(){return vu(this.Ds,this.Ak)},n.Rk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.vh,i);return n.hh(4),r}(this.Ds,this.Ak)},n.Ik=function(){return lu(this.Ds,this.Ak)},n.Nk=function(t){return uu(this.Ds,this.Ak,t)},n.Ck=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(vu(t,n));return r}(this.Ds,this.Ak,t)},n.Dk=function(t){return wu(this.Ds,this.Ak,t)},n.Ok=function(){return Cu(this.Ds,this.Ak)},n.xk=function(t){this.Ak.hh(t)},n.fh=function(){return new t(this.Ds,this.Ak.fh())},t}();function bw(t,n){return t.io===n}function Tw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(bw(r,n))return r}}function Ew(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];bw(e,n)&&i.push(e)}return i}var Sw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pk=n,r.Bk=i,r}return U(n,t),L(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(un),Rw=function(){function t(){}return t.Lk=function(n){var i=n.Ds,r=n.Ak,e=t.Mk(i,r,!1);if(!e.Uk)throw new Sw(r.vh,e.As);return e.As},t.Mk=function(n,i,r){for(var e=[];i.vh<n.byteLength;){var s=t.Fk(n,i,r);if(!s.Uk)return{Uk:!1,As:e};e.push(s.Hk)}return{Uk:!0,As:e}},t.Vk=function(n,i){var r=t.Fk(n,i,!1);if(!r.Uk)throw new Sw(i.vh);return r.Hk},t.Xk=function(n,i){for(var r=n.Ds,e=n.Ak;e.vh<r.byteLength;){var s=t.Fk(r,e,!1);if(!s.Uk)return;if(s.Hk.io===i)return s.Hk}},t.Fk=function(n,i,r){var e=i.vh,s=t.Wk(n,i);if(!s.Uk)return s;var u=s.qk,o=u.uh;if(0===o){if(r)return i.ah(e),{Uk:!1,zk:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.ah(e),{Uk:!1,zk:a}}var c={io:u.io,vh:e,Ds:new Aw(Pu(n,e,h),new Vu(u.Gk))};return i.ah(h),{Uk:!0,Hk:c}},t.Wk=function(t,n){var i=n.vh;if(!hu(t,n,8))return{Uk:!1,zk:n.vh+8};var r=vu(t,n),e=wu(t,n,4);if(1===r){if(!hu(t,n,8)){var s=n.vh+8;return n.ah(i),{Uk:!1,zk:s}}r=lu(t,n).toNumber()}if("uuid"===e){if(!hu(t,n,16)){var u=n.vh+16;return n.ah(i),{Uk:!1,zk:u}}e=wu(t,n,16)}return{Uk:!0,qk:{io:e,uh:r,Gk:n.vh-i}}},t.jk=function(t,n,i){var r=t.Ds,e=t.Ak,s=xu(Lu(r),e.vh,r.byteLength);return i&&(s=Hu(s)),e.hh(s.byteLength),{io:n,Ds:s}},t.Qk=function(n,i,r){var e=Dw(n.Sk());return{io:i,Yk:e.version,Zk:e.flags,Ds:t.jk(n,i,r).Ds}},t}();function Iw(t,n){var i=Nw(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Nw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.io===n)return r.Ds}}function Cw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.io===n&&i.push(e.Ds)}return i}function Dw(t){return{version:t>>24,flags:new nu(16777215&t)}}var Ow=function(){function t(){}return t.Jk=function(n){for(var i=[],r=Rw.Lk(new Aw(n,new Vu)),e=0;e<r.length;e++){var s=r[e],u=t.$k(s);u&&i.push(u)}return i},t.Kk=function(t){return Rw.Mk(t,new Vu,!1).As.some(function(t){return t.io===Mg.rk||t.io===Mg.lk})},t.tp=function(n){return Cw(Rw.Lk(new Aw(n,new Vu)),Mg.fk).map(t.np)},t.ip=function(n){return Cw(Rw.Lk(n.Ds),Mg.fk).map(t.np)},t.$k=function(n){switch(n.io){case Mg.Dm:return t.rp(n.Ds);case Mg.rk:return t.ep(n.Ds,n.vh);case Mg.ck:return t.sp(n.Ds);case Mg.dk:return t.op(n.Ds);case Mg.vk:return t.hp(n.Ds)}},t.rp=function(n){var i=Rw.Lk(n),r=Iw(i,Mg.Om),e=Cw(i,Mg.xm),s=Nw(i,Mg.Xm),u=t.ap(r),o=e.map(t.cp),h=s?t.fp(s):void 0;return{io:Mg.Dm,qk:u,vp:o,dp:h}},t.ap=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags,e=1===i?t.Ik():t.Sk(),s=1===i?t.Ik():t.Sk(),u=t.Sk(),o=1===i?t.Ik():t.Sk(),h=t.Sk(),a=t.Tk()>>8;t.xk(2),t.xk(8);var c=t.Ck(9);t.xk(24);var f=t.Sk();return{io:Mg.Om,Yk:i,Zk:r,lp:e,_p:s,jg:u,U_:o,gp:h,j_:a,wp:c,yp:f}},t.cp=function(n){var i=Rw.Lk(n),r=Iw(i,Mg.Pm),e=Iw(i,Mg.Bm),s=t.mp(r),u=t.kp(e);return{io:Mg.xm,qk:s,pp:u}},t.mp=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags,e=1===i?t.Ik():t.Sk(),s=1===i?t.Ik():t.Sk(),u=t.Sk();t.xk(4);var o=1===i?t.Ik():t.Sk();t.xk(8);var h=t.Ek(),a=t.Ek(),c=t.Ek()/l.pow(2,8);t.xk(2);var f=t.Ck(9),v=t.Sk()/l.pow(2,16),d=t.Sk()/l.pow(2,16);return{io:Mg.Pm,Ap:r.lh(1),bp:r.lh(2),Tp:r.lh(4),lp:e,_p:s,Ep:u,U_:o,Sp:h,Rp:a,j_:c,wp:f,cu:v,Ip:d}},t.kp=function(n){var i=Rw.Lk(n),r=Iw(i,Mg.Lm),e=Iw(i,Mg.Mm),s=Iw(i,Mg.Um),u=t.Np(r),o=t.Cp(e),h=t.Dp(s);return{io:Mg.Bm,qk:u,Op:o,xp:h}},t.Np=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags,e=1===i?t.Ik():t.Sk(),s=1===i?t.Ik():t.Sk(),u=t.Sk(),o=1===i?t.Ik():t.Sk();t.Tk();return t.xk(2),{io:Mg.Lm,Yk:i,Zk:r,lp:e,_p:s,jg:u,U_:o}},t.Cp=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags;t.xk(4);var e=t.Dk(4);t.xk(12);var s=t.Ok();return{io:Mg.Mm,Yk:i,Zk:r,Pp:e,hs:s}},t.Dp=function(n){var i=Iw(Rw.Lk(n),Mg.Fm),r=t.Bp(i);return{io:Mg.Um,Lp:r}},t.Bp=function(n){var i=Iw(Rw.Lk(n),Mg.Hm),r=t.Mp(i);return{io:Mg.Fm,Up:r}},t.Mp=function(n){for(var i=Dw(n.Sk()),r=i.version,e=i.flags,s=(n.Sk(),[]),u=Rw.Lk(n),o=0;o<u.length;o++){var h=u[o],a=t.Fp(h.Ds,h.io);a&&s.push(a)}return{io:Mg.Hm,Yk:r,Zk:e,Hp:s}},t.Fp=function(n,i){var r=t.Vp(n,i);return r||((r=t.Xp(n,i))||(i===Mg.$m?t.Wp(n):void 0))},t.Vp=function(n,i){return i===Mg.Zm?t.qp(n):i===Mg.nk?t.zp(n):void 0},t.Xp=function(n,i){return i===Mg.qm?t.Gp(n):i===Mg.Gm||i===Mg.jm?t.jp(n,i):i===Mg.ik?t.Qp(n):void 0},t.Yp=function(t,n){return t.xk(6),{io:n,Zp:t.Tk()}},t.Jp=function(n,i){var r=t.Yp(n,i);n.xk(8);var e=n.Tk(),s=n.Tk();return n.xk(2),n.xk(2),Kr({},r,{$p:e,Kp:s,tA:n.Sk()>>>16})},t.nA=function(n,i){var r=t.Yp(n,i);n.xk(2),n.xk(2),n.xk(12);var e=n.Tk(),s=n.Tk(),u=n.Sk(),o=n.Sk();n.xk(4);var h=n.Tk();n.xk(32);var a=n.Tk();return n.xk(2),Kr({},r,{cu:e,Ip:s,iA:u,rA:o,eA:h,sA:a})},t.qp=function(n){var i=t.Jp(n,Mg.Zm),r=Iw(Rw.Lk(n),Mg.Jm);return Kr({},i,{uA:t.oA(r)})},t.Wp=function(n){var i=t.Yp(n,Mg.$m),r=Rw.Lk(n),e=Iw(r,Mg.Km),s=t.hA(e),u=Nw(r,Mg.tk);return Kr({},i,{aA:s,cA:u?t.fA(u):u})},t.hA=function(t){return{io:Mg.Km,Wh:t.Ok()}},t.fA=function(t){return{io:Mg.tk,zl:t.Ok()}},t.oA=function(t){return Rw.Qk(t,Mg.Jm,!0)},t.Gp=function(n){var i=t.nA(n,Mg.qm),r=Rw.Lk(n),e=Iw(r,Mg.zm),s=Nw(r,Mg.Ym);return Kr({},i,{vA:t.dA(e),lA:s?t._A(s):void 0})},t.jp=function(n,i){var r=t.nA(n,i),e=Iw(Rw.Lk(n),Mg.Qm);return Kr({},r,{gA:t.wA(e)})},t.Qp=function(n){var i=n.fh(),r=t.nA(n,Mg.ik),e=Iw(Rw.Lk(n),Mg.gk),s=t.yA(e);return Kr({},r,{mA:t.Xp(i,s.pA.kA),AA:s})},t.zp=function(n){var i=n.fh(),r=t.Jp(n,Mg.nk),e=Iw(Rw.Lk(n),Mg.gk),s=t.yA(e);return Kr({},r,{mA:t.Vp(i,s.pA.kA),AA:s})},t.yA=function(n){var i=Iw(Rw.Lk(n),Mg.wk),r=t.bA(i);return{io:Mg.gk,pA:r}},t.bA=function(t){var n=t.Dk(4);return{io:Mg.wk,kA:n}},t.dA=function(t){return Rw.jk(t,Mg.zm,!0)},t.wA=function(t){return Rw.jk(t,Mg.Qm,!0)},t._A=function(t){var n=t.Sk(),i=t.Sk();return{io:Mg.Ym,TA:n,EA:i}},t.fp=function(n){var i=Cw(Rw.Lk(n),Mg.Wm).map(t.SA);return{io:Mg.Xm,vp:i}},t.SA=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags,e=t.Sk(),s=t.Sk(),u=t.Sk(),o=t.Sk(),h=t.Sk();return{io:Mg.Wm,Yk:i,Zk:r,Ep:e,RA:s,IA:u,NA:o,CA:h}},t.ep=function(n,i){var r=Rw.Lk(n),e=Iw(r,Mg.ek),s=Cw(r,Mg.sk),u=t.DA(e),o=s.map(t.OA);return{io:Mg.rk,xA:i,qk:u,vp:o}},t.DA=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags,e=t.Sk();return{io:Mg.ek,Yk:i,Zk:r,PA:e}},t.OA=function(n){var i=Rw.Lk(n),r=Iw(i,Mg.uk),e=Cw(i,Mg.hk),s=Nw(i,Mg.ak),u=t.BA(r),o=e.map(function(n){return t.LA(n,u)}),h=s?t.MA(s):void 0;return{io:Mg.sk,qk:u,UA:o,FA:h}},t.BA=function(t){var n=Dw(t.Sk()),i=n.version,r=n.flags,e=t.Sk(),s=r.lh(Fg.BASE_DATA_OFFSET_PRESENT)?t.Ik():void 0,u=r.lh(Fg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Sk():void 0,o=r.lh(Fg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Sk():void 0,h=r.lh(Fg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Sk():void 0,a=r.lh(Fg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Sk():void 0;return{io:Mg.uk,Yk:i,Zk:r,Ep:e,HA:s,VA:u,IA:o,NA:h,CA:a}},t.LA=function(n,i){for(var r=Dw(n.Sk()),e=r.version,s=r.flags,u=n.Sk(),o=s.lh(Hg.DATA_OFFSET_PRESENT)?n.Rk():void 0,h=s.lh(Hg.FIRST_SAMPLE_FLAGS_PRESENT)?n.Sk():void 0,a=[],c=0;c<u;c++){var f=t.XA(n,s,e,i);0===c&&void 0!==h&&(f.Zk=h),a.push(f)}return{io:Mg.hk,Yk:e,Zk:s,WA:u,xA:o,qA:h,zA:a}},t.XA=function(t,n,i,r){return{U_:n.lh(Hg.SAMPLE_DURATION_PRESENT)?t.Sk():r.IA,uh:n.lh(Hg.SAMPLE_SIZE_PRESENT)?t.Sk():r.NA,Zk:n.lh(Hg.SAMPLE_FLAGS_PRESENT)?t.Sk():r.CA,GA:n.lh(Hg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Sk():t.Rk():void 0}},t.hp=function(t){var n=t.Ds,i=t.Ak,r=Dw(vu(n,i)),e=r.version,s=r.flags;if(1===e){var u=vu(n,i),o=lu(n,i),h=vu(n,i),a=vu(n,i),c=gu(n,i),f=gu(n,i),v=Fu(Lu(n),i.vh,n.byteLength);return i.hh(v.byteLength),{io:Mg.vk,Yk:e,Zk:s,jA:c,fs:f,jg:u,QA:o,YA:h,Xl:a,ZA:v}}var d=gu(n,i),l=gu(n,i),_=vu(n,i),g=vu(n,i),w=vu(n,i),y=vu(n,i),m=Fu(Lu(n),i.vh,n.byteLength);return i.hh(m.byteLength),{io:Mg.vk,Zk:s,Yk:e,jA:d,fs:l,jg:_,JA:g,YA:w,Xl:y,ZA:m}},t.sp=function(t){return Rw.jk(t,Mg.ck,!1)},t.np=function(n){var i=n.Ds,r=n.Ak,e=Hu(Lu(i)).buffer,s=Dw(vu(i,r)),u=s.version,o=s.flags,h=t.$A(i,r),a=[];if(u>0)for(var c=vu(i,r),f=0;f<c;f++){var v=uu(i,r,16);a.push(v)}var d=vu(i,r),l=new y(e,r.vh,d);return r.hh(i.byteLength),{io:Mg.fk,Yk:u,Zk:o,KA:h,nb:a,ib:d,Ds:l,rb:e}},t.$A=function(t,n){for(var i="",r=0;r<4;r++){var e=eu(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=eu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=eu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=eu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=eu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.op=function(t){var n,i,r=t.Ds,e=t.Ak,s=Dw(vu(r,e)),u=s.version,o=s.flags,h=vu(r,e),a=vu(r,e);0===u?(n=Xt.fromBits(vu(r,e),0,!0),i=Xt.fromBits(vu(r,e),0,!0)):(n=lu(r,e),i=lu(r,e)),e.hh(2);for(var c=cu(r,e),f=[],v=0;v<c;v+=1){var d=vu(r,e),l=d>>31&1,_=2147483647&d,g=vu(r,e),w=vu(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({eb:l,sb:_,U_:g,ub:y,ob:m,hb:k})}return{io:Mg.dk,Yk:u,Zk:o,ab:h,jg:a,cb:n,fb:i,vb:c,lb:f}},t.MA=function(t){var n,i=t.Ds,r=t.Ak,e=Dw(vu(i,r)),s=e.version,u=e.flags;return n=0===s?Xt.fromBits(vu(i,r),0,!0):lu(i,r),{io:Mg.ak,Yk:s,Zk:u,FA:n}},t}();function xw(t){return t&&"ps"in t?t.ps:t}var Pw=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,r,e)||this)._b=void 0,h.gb=void 0,h.wb=void 0,h._b=s,h.gb=u,h.wb=o||void 0,h}return U(n,t),n.prototype.ug=function(n){return this===n||!!Ld(this,n)&&(!!t.prototype.ug.call(this,n)&&(!!Bd(this.yb,n.yb)&&(!!Bd(this.Sm,n.Sm)&&(this.mb&&n.mb?!!this.mb.ss(n.mb)&&(this.Zy&&n.Zy?this.Zy.ss(n.Zy):this.Zy===n.Zy):this.mb===n.mb))))},L(n,[{key:"yb",get:function(){return this._b}},{key:"Sm",get:function(){return this.gb}},{key:"mb",get:function(){return this.wb}},{key:"Kd",get:function(){var t;return this.$d||(this.$d=xd(vg(t=this),{get styles(){return t.yb},get regions(){return t.Sm},get metadata(){return xw(t.mb)},get content(){return xw(t.Zy)}})),this.$d}}]),n}(wg),Bw=function(){function t(t,n,i){this.Ef=void 0,this.kb=void 0,this.pb=void 0,this.kb=t,this.pb=n,nn(i)?this.Ef=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.Es(s)}return i}(0,0,i):this.Ef=i}return L(t,[{key:"Ab",get:function(){return this.Ef.us(!0)}},{key:"Qy",get:function(){return this.kb}},{key:"Yy",get:function(){return this.pb}}]),t}();var Lw="http://www.w3.org/XML/1998/namespace";function Mw(t,n,i,r){var e=t.ys(i,n);return 0===e.length&&(e=t.ls(r+":"+n)),e}function Uw(t,n){return function(t,n){var i=t.As.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.As)}return r}(t,function(t){return t.gs===n})}function Fw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Hw(t,n){for(var i=t.Ns,r={},e=0;e<i.length;e++)r[Fw(i[e].hs,n)]=i[e].fs;return r}var Vw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Xw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Ww="http://www.w3.org/ns/ttml";function qw(t,n,i){return void 0===i&&(i=Vg),function(t,n,i){var r,e=[];try{r=b.rs(t)}catch(t){return e}var s=r.Os;if("tt"!==s.os)return e;var u=s&&s.ys(Ww,"head")[0],o=s&&s.ys(Ww,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return e;for(var a=function(t,n){for(var i={},r=t.ys(Ww,"styling")[0],e=r&&r.ys(Ww,"style")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ts(Lw,"id");i[o]=Hw(u,n)}return i}(u,h),c=function(t,n){var i=Pd(t),r=Qw(n.bs("tts:extent"));if(!r)return i;for(var e=0,s=d.keys(i);e<s.length;e++){var u=s[e],o=Qw(i[u].extent);if(o){var h=Gw(o[0],r[0]),a=Gw(o[1],r[1]);i[u].extent=h+" "+a}var c=Qw(i[u].origin);if(c){var f=Gw(c[0],r[0]),v=Gw(c[1],r[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.ys(Ww,"layout")[0],e=r&&r.ys(Ww,"region")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ts(Lw,"id");if(o){i[o]=Hw(u,n);var h=Jw(u,n);for(var a in h)Y.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.ys(Ww,"metadata")[0],v=function t(n,i,r,e){var s=i;var u;var o=r;var h=[];var a=[];if(nn(n)){var c,f;s=null!=(c=Zw(n.bs("begin"),e))?c:s,u=Zw(n.bs("dur"),0),o=null!=(f=Zw(n.bs("end"),e))?f:void 0!==u?s+u:o;for(var v=n._s,d=0;d<v.length;d++)("body"===n.os||"div"===n.os)&&v[d].Ye>1||(h=h.concat(t(v[d],s,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var s=i[e];r.push(s.Qy,s.Yy)}r.sort(f_);for(var u=r.length,o=0;o<u-1;o++)r[o+1]===r[o]&&(Qe(r,o+1),o--,u=r.length);return r}(s,o,h);for(var _=0;_<l.length-1;_++){var g=Yw(l[_],l[_+1],h);if(g.length<=0&&$w(n)){var w=n.us(!1);a.push(new Bw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.us(!1);g.forEach(function(n){return t.ks(n.Ab)}),a.push(new Bw(l[_],l[_+1],t))}()}return a}(o,i.bm,i.Tm,i.Em),l=0;l<v.length;l++){var _=v[l],g=zw(c,_);e.push(new Pw(_.Qy,_.Yy,_.Ab,!1,a,g,f))}return e}(t,0,i)}function zw(t,n){for(var i=function t(n){var i=[];var r;if(nn(n)){(r=n.bs("region"))&&i.push(r);for(var e=n._s,s=0;s<e.length;s++)i=i.concat(t(e[s]))}return i}(n.Ab),r={},e=0;e<i.length;e++){var s=i[e];r[s]=t[s]}return r}function Gw(t,n){var i=jw(t),r=jw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-r.length));return w(e)||w(s)?t:e/s*100+"%"}return t}function jw(t){return Ne(t,"px")?"px":Ne(t,"em")?"em":Ne(t,"c")?"c":Ne(t,"%")?"%":void 0}function Qw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Yw(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].Qy,u=i[e].Yy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}function Zw(t,n){if(t){if(Vw.test(t)){var i=Vw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*l.pow(.1,u.length):0)-n}if(Xw.test(t)){var o=Xw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function Jw(t,n){for(var i={},r=t.ls("style")||[],e=0;e<r.length;e++){var s=Hw(r[e],n);for(var u in s)Y.call(s,u)&&(i[u]=s[u])}return i}function $w(t){if(nn(t)){var n=t.os.toUpperCase(),i=Boolean(t.bs("smpte:backgroundImage"));return"BR"===n||i}return t.Ye===$t.Je}function Kw(t){var n=function(t){try{return b.rs(t).Os}catch(t){}}(t);return"tt"===(null==n?void 0:n.os)}var ty,ny=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Rl=function(n){return t.prototype.Rl.call(this,n)},i.Il=function(n){var i=t.prototype.Il.call(this,n);return i&&(n.t_=Yd.Yl),i},i.tl=function(){return il(this)},n}(Rd),iy=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vp=new ny,n.bb=function(t){var i=t.nl;n.Tb(i)},n}U(n,t);var i=n.prototype;return i.Rl=function(t){t.Po(kd.ll,this.bb),this.vp.Rl(t),this.Tb(t)},i.Il=function(t){t.Uo(kd.ll,this.bb),t.t_=Yd.Yl,this.vp.Il(t)},i.Eb=function(t){},i.Sb=function(t){},i.Tb=function(t){t.t_!==Yd.Yl?this.Eb(t):this.Sb(t)},i.Rb=function(){for(var t=0,n=this.vp.Dl;t<n.length;t++){var i=n[t];i.Uo(kd.ll,this.bb),i.Lv()}},i.Cl=function(){return this.Rb(),this.vp.Cl(),T.resolve()},i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Cl();case 3:this.vp.Lv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(ks);!function(t){t.yk="subtitles",t.Ib="captions",t.Nb="descriptions",t.Cb="chapters",t.kk="metadata",t.Db="thumbnails"}(ty||(ty={}));var ry=[ty.yk,ty.Ib,ty.Nb,ty.Cb,ty.kk,ty.Db];function ey(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ye(ry,t)}(n)?n:n?ty.kk:ty.yk}var sy,uy=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return U(n,t),n}(To);function oy(t){return t instanceof Lf}function hy(t){return Re(t,sy.Ob)}function ay(t){return t.some(cy)}function cy(t){return Re(t,sy.xb)||Re(t,sy.$m)}function fy(t,n){return to(t)&&ay(n)}function vy(t,n){return!!t&&(to(t)?function(t){return t.some(hy)}(n)||ay(n):Re(t,Ku.APPLICATION_TTML_XML)||Re(t,Ku.TEXT_VTT)||Re(t,Ku.IMAGE_JPEG))}function dy(t,n){return t===ty.Db||t===ty.kk&&n===ty.Db}function ly(t,n,i,r){for(var e=0,s=t.i_.Dl;e<s.length;e++){var u=s[e];if(u.Qy>i)break;n<=u.Yy&&r.push(u)}}function _y(t,n){return c_(t.Wl,n.Wl)}function gy(t,i){var r=i,e=0;if(oy(t)&&t.name===Df.qv)r=t.cv.vv;else if(t instanceof Uf){var s=t.Yv;if(r=s.fv,0===(e=s.sv))return new uy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new uy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function wy(t){switch(t){case tg.WEBVTT:return"WebVTT";case tg.SRT:return"SRT";case tg.TTML:return"TTML";default:return""}}function yy(t){return ow(Jg(t))?tg.WEBVTT:Kw(t)?tg.TTML:tg.SRT}!function(t){t.xb="vtt",t.$m="wvtt",t.Ob="stpp"}(sy||(sy={}));var my=function(t){function n(n){var i;return(i=t.call(this,Zd.$l)||this).errorObject=n,i}return U(n,t),n.prototype.tl=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yd),ky=function(t){function i(n,i){var r;return(r=t.call(this)||this).Pb=void 0,r.Bb=void 0,r.Lb=new ns,r.Pb=n,r.Bb=i,r}U(i,t);var r=i.prototype;return r.Mb=function(t){if(t.src){var n=t.kind||ty.yk,i=this.Pb.Ub(n,t.id,t.label,t.srclang,t.default);return i.e_=Cf(t.src),this.Rl(i),i}},r.Fb=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o,h,a,c,f,v,d,l;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.n_=K_.LOADING,e=new Sf({vv:i.e_,ov:zo.Je,Nv:pf.GET,Io:r}),t.prev=2,t.next=5,this.Bb.cv(e);case 5:return o=t.sent,u=o.sv,t.next=9,o.Xf();case 9:s=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),ss(t.t0),i.n_=K_.ERROR,i.xo(new my(gy(t.t0,i.e_))),t.abrupt("return");case 18:for(t.prev=18,h=yy(s),i.io=h,a=[],h===tg.WEBVTT||h===tg.SRT?(c=Zg(s),a=c.i_):h===tg.TTML&&(a=qw(s)),f=0,v=a;f<v.length;f++)d=v[f],i.Hb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),ss(t.t1),i.n_=K_.ERROR,l=wy(i.io),i.xo(new my(new uy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.e_,u,t.t1))),t.abrupt("return");case 33:i.n_=K_.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Eb=function(t){Ye(this.vp.Dl,t)&&t.n_===K_.NONE&&this.Fb(t,this.Lb.Io).catch(us)},r.xh=function(){},r.Cl=function(){var n=T.coroutine($r.mark(function n(){var i,r,e;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Lb.Eo(),this.Lb=new ns,i=0,r=this.vp.Dl;i<r.length;i++)e=r[i],this.Pb.Vb(e);return n.next=5,t.prototype.Cl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(iy);function py(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ql===n&&r.Xb)return r}}function Ay(t,n){by(py(t.Dl,n))}function by(t){void 0!==t&&(t.t_=Yd.Jl)}function Ty(t,n){by(py(t.Dl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ql===n)return r}}(t.Dl,n))}function Ey(t){for(var n=0;n<ry.length;n++){var i=ry[n];i===ty.Cb?Ty(t,i):Ay(t,i)}}var Sy,Ry=function(t){function n(){return t.call(this,qo.vc)||this}return U(n,t),n}(As);!function(t){t[t.Wb=0]="Wb",t[t.qb=1]="qb"}(Sy||(Sy={}));var Iy=t,Ny=Iy.MediaSource,Cy=Iy.WebKitMediaSource,Dy=Iy.TextTrack,Oy=e&&e.createElement("video"),xy=(e&&e.documentElement.style,Q.oe&&Q.Le&&Q.Me<=26),Py=(Q.pe,!!m),By=!(!Ny&&!Cy),Ly=!!Dy,My=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||Q.me,Q.Oe&&Q.xe,Oy&&Oy.canPlayType&&(""!==Oy.canPlayType("application/vnd.apple.mpegURL")||Q.ce&&!Q.Oe&&Q.fe>=4)),Uy=Oy&&Oy.canPlayType&&""!==Oy.canPlayType("video/mp4")&&!xy,Fy=By&&!Q.Pe&&!Q.Ne&&!Q.Ie&&((Ny||Cy).isTypeSupported?(Ny||Cy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Oy&&Oy.canPlayType&&""!==Oy.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Hy=By&&!Q.Pe&&(Fy||((Ny||Cy).isTypeSupported?(Ny||Cy).isTypeSupported("audio/mpeg"):Oy&&Oy.canPlayType&&""!==Oy.canPlayType("audio/mpeg"))),Vy=By&&!(Q.De&&Q.oe)&&((Ny||Cy).isTypeSupported?(Ny||Cy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Uy),Xy=(Q.Pe||Q.Ne||Q.Ie,Q.Ce),Wy=Xy&&!1,qy=!Q.Pe,zy=Q.Ne&&Q.he&&Q.ae<=6.1,Gy=Oy&&"onresize"in Oy;try{r&&r.top!==r.self}catch(t){!0}var jy=.001,Qy=1e4,Yy=3,Zy=function(t){function n(n){var i;return(i=t.call(this,xl.B_)||this).currentTime=n,i}return U(n,t),n}(As),Jy=function(t){function n(n){var i;return(i=t.call(this,xl.L_)||this).currentTime=n,i}return U(n,t),n}(As),$y=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).zb=_l.S_,r.Gb=!0,r.jb=!1,r.Qb=!1,r.Yb=function(t){var n=t.readyState;n!==r.zb&&r.xo(t),n===_l.S_&&(r.jb=!1,r.Qb=!1),r.Zb(n),r.Jb(n),r.$b(n),r.maybeDispatchCanPlayThroughEvent(n),r.Kb(n),r.tT(n),r.zb=n},r.nT=function(){r.tT(r.zb),r.Kb(r.zb),r.Gb=r.iT.X_},r.rT=function(){r.Gb=r.iT.X_},r.iT=n,r.eT=i,r.iT.Po(xl.gl,r.Yb),r.iT.Po(qo.hc,r.nT),r.iT.Po(qo.oc,r.rT),r.eT&&r.iT.Po(xl.L_,r.Oo),r}U(n,t);var i=n.prototype;return i.Zb=function(t){!this.Qb&&t>=_l.R_&&(this.Qb=!0,this.xo(new Hl(this.iT.M_,t)))},i.Jb=function(t){!this.jb&&t>=_l.I_&&(this.jb=!0,this.xo(new zl(this.iT.M_,t)))},i.Kb=function(t){this.eT||(t>=_l.N_&&this.zb<_l.N_&&!this.iT.X_||this.sT&&t>=_l.N_)&&this.xo(new Jy(this.iT.M_))},i.tT=function(t){!this.uT(t)||this.iT.F_||this.iT.Qo||this.xo(new Zy(this.iT.M_))},i.$b=function(t){this.zb<=_l.I_&&t>=_l.N_&&this.xo(new Yl(this.iT.M_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===_l.C_&&this.xo(new Zl(this.iT.M_,t))},i.uT=function(t){var n=!this.iT.X_&&t<=_l.I_,i=!this.Gb&&this.zb<=_l.I_;return n&&!i},i.Cl=function(){this.zb=_l.S_,this.Gb=!0,this.jb=!1,this.Qb=!1},i.Lv=function(){this.Mo(),this.eT&&this.iT.Uo(xl.L_,this.Oo),this.iT.Uo(qo.hc,this.nT),this.iT.Uo(qo.oc,this.rT),this.iT.Uo(xl.gl,this.Yb)},L(n,[{key:"sT",get:function(){return!this.iT.X_&&this.Gb}}]),n}(ks),Ky="titanium",tm="conax",nm="ezdrm",im="irdeto",rm="vudrm",em="verimatrix",sm="keyos",um="drmtoday",om="expressplay",hm="azure",am="xstream",cm="vimond",fm="axinom",vm="uplynk",dm="comcast",lm="custom",_m=function(){function t(t,n,i,r,e){this.Xh=void 0,this.oT=void 0,this.hT=void 0,this.aT=void 0,this.Bb=void 0,this.cT=void 0,this.fT=void 0,this.Xh=t,this.oT=n,this.hT=i,this.Bb=r,this.fT=e,this.aT=this.vT(n)}var i=t.prototype;return i.dT=function(){return this.cT},i.lT=function(t){this.cT=t},i._T=function(){return this.aT.licenseAcquisitionURL||this.dT()},i.gT=function(t){return T.resolve()},i.wT=function(t,n){return T.resolve(void 0)},i.yT=function(){var t=T.coroutine($r.mark(function t(i,r,e,s){var u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.mT(i,r,e,s)).vv){t.next=3;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.jd.cv(u);case 6:return o=t.sent,t.next=9,o.Wf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),ss(t.t0),t.next=17,this.kT(t.t0,u.vv,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.mT=function(t,n,i,r){var e=this.pT().Nc(),s=this.xv,u={vv:this.AT(),ov:n,uv:e,jf:t,xv:s,Nv:pf.POST,Cv:0,Io:r,io:Af.wv,Dv:i};return new Sf(u)},i.bT=function(t,n){return T.resolve(t)},i.TT=function(t,n,i,r){return T.resolve(t)},i.pT=function(){return new Go(this.aT.headers||{})},i.kT=function(){var t=T.coroutine($r.mark(function t(i,r,e){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.AT=function(t,n){var i=n,r=this.aT.queryParameters;if(!i){var e=this._T();if(!e)return"";i=e}if(r||t){var s=b.Du(i);t&&Nf(s,t),r&&Nf(s,r),i=s.href}return i},i.ET=function(t){return function(t,n){var i=n.licenseResponseProcessor;return T.resolve(new y(gm(t,i)))}(t,this.aT)},i.ST=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RT(n,r);case 2:return e=t.sent,t.next=5,this.yT(e,this.fT,i,r);case 5:return s=t.sent,t.next=8,this.ET(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Lv=function(){},L(t,[{key:"jd",get:function(){return this.Bb}},{key:"IT",get:function(){return!1}},{key:"NT",get:function(){var t=this.aT.certificate;if(t)return it(t)?Ms(t):Uu(t)}},{key:"CT",get:function(){return!1}},{key:"xv",get:function(){return Boolean(this.aT.useCredentials)}}]),t}();function gm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function wm(t,n){var i=Hu(t).buffer,r=n.licenseRequestProcessor;return T.resolve(gm(i,r))}var ym,mm,km=function(t){function n(n,i,r,e){return t.call(this,pe,n,i,r,e)||this}U(n,t);var i=n.prototype;return i.vT=function(t){return t.widevine||{}},i.DT=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return t.abrupt("return",this.OT(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.OT=function(n,i){return t.prototype.ST.call(this,n,bf.pv,i)},n}(_m);function pm(t,n){if(null==t)return{};var i,r,e={},s=d.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Am(t){return J(t.token&&t.deviceId)}function bm(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&J(i.PreAuthorization)}function Tm(t){var n=t;return Am(n)&&""!==n.token&&""!==n.deviceId&&!bm(n)}(mm=ym||(ym={})).xT=!1,mm.PT=!1,mm.BT=!1,mm.LT=!1,mm.LOG_ADS_DETAILS=!1,mm.LOG_CHROMECAST_DETAILS=!1,mm.LOG_CUSTOM_DRM=!1,mm.LOG_BUFFERING_VIDEO_MAIN=!1,mm.LOG_BUFFERING_VIDEO_SELECTION=!1,mm.LOG_BUFFERING_AUDIO_MAIN=!1,mm.LOG_BUFFERING_AUDIO_SELECTION=!1,mm.MT=!1,mm.UT=!1;var Em,Sm=function(){function t(t,n,i){this.FT=t,this.Ih=n,this.HT=i}return t.prototype.VT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.HT.build(t))},L(t,[{key:"XT",get:function(){return this.FT}},{key:"Xh",get:function(){return this.Ih}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Em||(Em={}));var Rm=function(){function t(){this.WT=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.qT(t,i,r)){case Em.FAILED:throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Em.OVERRIDDEN:var e=zm(i);b.yu("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Em.SUCCEEDED:zm(i);0}},i.qT=function(t,n,i){var r=zm(n);if(!r)return Em.FAILED;for(var e=Em.SUCCEEDED,s=0,u=this.WT.slice();s<u.length;s++){var o=u[s];o.XT===t&&o.Xh===r&&(e=Em.OVERRIDDEN,je(this.WT,o))}return this.WT.push(new Sm(t,r,i)),e},i.zT=function(t,n){return void 0!==this.GT(t,n)},i.jT=function(t,n,i){var r=this.GT(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.VT(i)},i.GT=function(t,n){for(var i=0,r=this.WT;i<r.length;i++){var e=r[i];if(e.XT===t&&(!n||e.Xh===n))return e}},t}();Rm.QT=new Rm;var Im={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Nm(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||s||u||o||h||a||c)}function Cm(t){return t&&void 0!==t.licenseAcquisitionURL}var Dm,Om=Cm,xm=Cm;function Pm(t){if(!t)return!0;if(Um(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return Nm(n)&&Nm(i)&&Nm(r)&&Nm(e)&&Nm(s)}function Bm(t){var n=Tm(t),i=function(t){var n,i=t;return bm(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Am(i)}(t);return(!n||!i)&&(n||i)}function Lm(t){return t.integration===im}function Mm(t){var n=t;if(!n)return!1;if(Pm(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(Um(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Om(r))return!1;if(e&&!xm(e))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Rm.QT.zT(n.integration))return!0;switch(n.integration){case Ky:if(!function(t){return t.integration===Ky&&(Fm(t)||Hm(t))}(t))return!1;break;case rm:if(!Vm(t))return!1;break;case em:if(!function(t){return t.integration===em}(t))return!1;break;case im:if(!Lm(t))return!1;break;case tm:if(!Bm(t))return!1;break;case nm:if(!function(t){return t.integration===nm}(t))return!1;break;case sm:if(!Um(t))return!1;break;case um:if(!function(t){var n=t;return n.integration===um&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case om:if(!function(t){return t.integration===om}(t))return!1;break;case am:if(!Xm(t))return!1;break;case cm:if(!function(t){return t.integration===cm}(t))return!1;break;case fm:if(!Wm(t))return!1;break;case hm:if(!function(t){var n=t;return n.integration===hm&&void 0!==n.token}(t))return!1;break;case vm:if(!function(t){return t.integration===vm}(t))return!1;break;case dm:if(!function(t){var n=t;return n&&J(n.releasePid)&&J(n.accountId)&&J(n.token)}(t))return!1;break;case lm:return!0;default:return!1}}return!0}function Um(t){return t.integration===sm}function Fm(t){return void 0!==t.authToken}function Hm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Vm(t){var n=t;return n.integration===rm&&void 0!==n.token}function Xm(t){var n=t;return n&&n.integration===am&&it(n.ticketAcquisitionURL)&&it(n.streamId)}function Wm(t){var n=t;return n.integration===fm&&void 0!==n.token}function qm(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Im[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},a=Kr({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return Kr({},pm(c,["customdata"]),{licenseAcquisitionURL:u,headers:a})}function zm(t){switch(t.toLowerCase()){case"widevine":case ge:return ge;case"playready":case le:return le;case"fairplay":case ye:return ye}}function Gm(t,i){switch(t){case fe:return function(t){for(var n={},i=Ow.tp(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.KA]=e.rb}return n}(i);case ve:case de:return function(t){var n;return(n={})[we]=t,n}(i);default:throw new To(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Ju="Widevine",t.Zu="PlayreadyV2",t.YT="PlayreadyV2",t.ZT="PlayreadyV3",t.$u="Fairplay"}(Dm||(Dm={}));var jm={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Qm(t,n){var i,r,e,s,u=jm[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=b.xu)?void 0:i.Pu,OSVersion:null==(r=b.xu)?void 0:r.Hu,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=b.xu)?void 0:e.Vu,DeviceModel:null==(s=b.xu)?void 0:s.Xu}}}function Ym(t,i){if(!t.accountName)throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Zm(t,n,i){var r;if(Fm(t))r={AuthToken:t.authToken,Payload:n};else{if(!Hm(t))throw Ym(t,i);r={LatensRegistration:Qm(t,i),Payload:n}}return Gs(JSON.stringify(r))}function Jm(t,n,i){return $m.apply(this,arguments)}function $m(){return($m=T.coroutine($r.mark(function t(i,r,e){var s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.Yv){t.next=3;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return u=s,t.prev=4,t.next=7,u.Vf(e);case 7:o=t.sent,h=Km(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.cv.vv,u.sv,u.hv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Km(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var tk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,zo.Rc)||this).JT=void 0,e}U(i,t),i.$T=function(){return b.Pu.hu?"required":"optional"};var r=i.prototype;return r.kT=function(t,n,i){return Jm(t,n,i)},r.gT=function(t){return this.JT?os(this.JT.gh,t):(this.JT=new Wu,T.resolve())},r.RT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.oT){t.next=3;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=Fs(i),t.abrupt("return",Zm(e,s,Dm.Ju));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ET=function(t){var i;if(!t.license)throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Ms(t.license),T.resolve(i)},r.KT=function(t){return T.resolve(new y(t))},r.DT=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tE(),t.next=3,this.RT(n,i);case 3:return r=t.sent,t.next=6,this.yT(r,zo.Sc,bf.Av,i);case 6:return e=t.sent,t.next=9,this.KT(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.OT=function(){var n=T.coroutine($r.mark(function n(i,r){var e;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.OT.call(this,i,r);case 2:return e=n.sent,this.tE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.tE=function(){this.JT||(this.JT=new Wu),this.JT.wh()},r.Lv=function(){this.JT&&this.JT.Eo(),t.prototype.Lv.call(this)},i}(km),nk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,zo.Sc)||this).lT("https://widevine-proxy.drm.technology/proxy"),e}return U(i,t),i.prototype.RT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wm(i,this.aT);case 2:if(e=t.sent,s=this.hT,r=new y(e),u=[].slice.call(r),o=this.nE){t.next=8;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(i,[{key:"nE",get:function(){if(Vm(this.oT))return this.oT.token}}]),i}(km);function ik(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Kr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Kr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var rk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,zo.Sc)||this).lT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}U(n,t);var i=n.prototype;return i.RT=function(t,n){return wm(t,this.aT)},i.AT=function(n,i){var r=n;return Lm(this.oT)&&(r=ik(this.oT,r)),t.prototype.AT.call(this,r,i)},n}(km),ek="Conax-Custom-Data";function sk(t,n,i){var r=t&&Bm(t)&&t;if(r&&!i.has(ek)){var e=Tm(r)?r.token:void 0,s=Tm(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(ek,u)}return i}var uk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,zo.Sc)||this).lT("https://connect.conax.com:8094/license"),e}U(n,t);var i=n.prototype;return i.RT=function(t,n){return wm(t,this.aT)},i.pT=function(){var n=t.prototype.pT.call(this);return sk(this.oT,"Widevine",n)},n}(km);function ok(t){var n=Su(new y(t));return Ms(JSON.parse(n).license)}function hk(t){return"string"==typeof t.token?t.token:Gs(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function ak(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var ck=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,zo.Sc)||this).lT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}U(n,t);var i=n.prototype;return i.RT=function(t,n){return wm(t,this.aT)},i.ET=function(t){return T.resolve(ok(t))},i.pT=function(){return ak(t.prototype.pT.call(this),this.nE,this.oT)},L(n,[{key:"nE",get:function(){return hk(this.oT)}}]),n}(km),fk=function(t){function n(n,i,r){return t.call(this,n,i,r,zo.Sc)||this}U(n,t);var i=n.prototype;return i.RT=function(t,n){return wm(t,this.aT)},i.pT=function(){var n=t.prototype.pT.call(this),i=this.oT.token;return n.set("Authorization","Bearer "+i),n},n}(km);function vk(t,n,i,r){return dk.apply(this,arguments)}function dk(){return(dk=T.coroutine($r.mark(function t(i,r,e,s){var u,o,h,a,c,f,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Xm(i)){t.next=2;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Go).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={vv:i.ticketAcquisitionURL,ov:zo.Rc,uv:u,Nv:pf.POST,jf:JSON.stringify(c),Io:s},t.next=13,e.cv(f);case 13:return v=t.sent,t.next=16,v.Vf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var lk=function(t){function n(n,i,r){return t.call(this,n,i,r,zo.Rc)||this}U(n,t);var i=n.prototype;return i.pT=function(){var n=t.prototype.pT.call(this);return n.set("Content-Type","application/json"),n},i.RT=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=zs(n.buffer),e=this.oT,t.next=4,vk(e,"widevine_modular",this.jd,i);case 4:return s=t.sent,this.lT(s.licenseServerUrl),u=Ru(JSON.stringify({payload:r,ticket:s.ticket})),t.abrupt("return",wm(u,this.aT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ET=function(t){var n=t;return T.resolve(Ms(n.license))},n}(km),_k=function(t){function i(n,i,r){return t.call(this,n,i,r,zo.Sc)||this}U(i,t);var r=i.prototype;return r.RT=function(t,n){return wm(t,this.aT)},r.pT=function(){if(!Wm(this.oT))throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pT.call(this);return i.set("X-AxDRM-Message",this.oT.token),i},i}(km);function gk(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var wk=function(t){function n(n,i,r){var e;return(e=t.call(this,ke,n,i,r,zo.Sc)||this).iE=void 0,e}U(n,t);var i=n.prototype;return i.vT=function(t){return t.playready||{}},i.pT=function(){var n=new Go(this.iE);return n.Dc(t.prototype.pT.call(this)),n},i.rE=function(t){return t.length>=1&&t[0]._s.length>0},i.wT=function(n){var i=this.oT.playready.customData;if(i){var r=gk(i),e=gk('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Fs(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return T.resolve({playready:{la:e}})}return t.prototype.wT.call(this,n)},i.RT=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wm(n,this.aT);case 2:return r=t.sent,t.abrupt("return",this.eE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eE=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=bu(o,new Vu,!0),t.prev=3,a=b.rs(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a.ls("PlayReadyKeyMessage")[0])?void 0:i.ls("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c.ls("Challenge"))?r:[],this.rE(f)&&(u=qs(f[0].Cs)),v=new Go,d=null!=(e=null==c?void 0:null==(s=c.ls("HttpHeaders")[0])?void 0:s.ls("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_.ls("name")[0].Cs,w=_.ls("value")[0].Cs,v.append(g,w);return this.iE=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.DT=function(t,n){return T.resolve(t)},i.OT=function(n,i){return t.prototype.ST.call(this,n,bf.bv,i)},n}(_m),yk=function(){function t(n){this.sE=void 0,this.uE=n,this.sE=t.oE(n)}return t.oE=function(t){return"3"===t.version?Dm.ZT:Dm.YT},t.prototype.hE=function(){var t={};if(this.sE===Dm.ZT){var n={LatensRegistration:Qm(this.uE,Dm.ZT)};t["X-TITANIUM-DRM-CDATA"]=Gs(JSON.stringify(n))}return t},L(t,[{key:"aE",get:function(){return this.sE}},{key:"ta",get:function(){return this.sE===Dm.YT}}]),t}();var mk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cE=void 0,e.cE=new yk(e.oT),e}U(i,t);var r=i.prototype;return r.wT=function(t){var i=this.oT;if(!this.oT)throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Hm(i)){var r={};return r.playready={la:kk(i,this.cE.aE)},T.resolve(r)}return T.reject(Ym(i,Dm.Zu))},r.pT=function(){var n=new Go(this.cE.hE());return n.Dc(t.prototype.pT.call(this)),n},r.kT=function(){var t=T.coroutine($r.mark(function t(i,r,e){var s,u,o,h,a,c,f,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.Yv){t.next=3;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.qf(e);case 6:h=t.sent,a=Su(new y(h)),(c=b.rs(a))&&(f=Uw(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Cs),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.sv,s.hv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.rE=function(t){if(1!==t.length)throw new B_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(wk);function kk(t,n){var i=Qm(t,n),r=i.DeviceInfo.FormatVersion,e=Gs('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Nu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Nu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Fs(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var pk,Ak=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://playready-license.drm.technology/rightsmanager.asmx"),e}U(i,t);var r=i.prototype;return r.rE=function(t){if(1!==t.length)throw new B_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.AT=function(n,i){var r=Kr({},n||{},{token:this.nE});return t.prototype.AT.call(this,r,i)},L(i,[{key:"nE",get:function(){if(Vm(this.oT))return this.oT.token}}]),i}(wk),bk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return U(n,t),n.prototype.AT=function(n,i){var r=n;return Lm(this.oT)&&(r=ik(this.oT,r)),t.prototype.AT.call(this,r,i)},n}(wk),Tk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return U(n,t),n.prototype.pT=function(){var n=t.prototype.pT.call(this);return sk(this.oT,"PlayReady",n)},n}(wk),Ek=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}U(n,t);var i=n.prototype;return i.ET=function(n){return(Ie(Su(new y(n)),"<?xml")?pk.fE:pk.Vf)===pk.Vf?T.resolve(ok(n)):T.resolve(t.prototype.ET.call(this,new y(n)))},i.pT=function(){return ak(t.prototype.pT.call(this),this.nE,this.oT)},L(n,[{key:"nE",get:function(){return hk(this.oT)}}]),n}(wk);!function(t){t[t.fE=0]="fE",t[t.Vf=1]="Vf"}(pk||(pk={}));var Sk,Rk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).vE=void 0,e}U(n,t);var i=n.prototype;return i.pT=function(){var n=t.prototype.pT.call(this);return this.vE&&n.set("Ticket",this.vE),n.set("Content-Type","text/xml"),n},i.RT=function(){var n=T.coroutine($r.mark(function n(i,r){var e,s;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.oT,n.next=3,vk(e,"playready",this.jd,r);case 3:return s=n.sent,this.lT(s.licenseServerUrl),this.vE=s.ticket,n.abrupt("return",t.prototype.RT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(wk),Ik=function(t){function i(){return t.apply(this,arguments)||this}return U(i,t),i.prototype.pT=function(){if(!Wm(this.oT))throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pT.call(this);return i.set("X-AxDRM-Message",this.oT.token),i},i}(wk);!function(t){t.Rc="application/json",t.dE="application/x-www-form-urlencoded",t.lE="application/octet-stream",t.Je="text/plain;charset=UTF-8"}(Sk||(Sk={}));var Nk=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.Xh,i,r,e,s)||this)._E="",u.gE=void 0,u.wE=void 0,u.wE=n.yE,u}U(n,t);var i=n.prototype;return i.mE=function(){return this.aT.certificateURL||this.gE},i.kE=function(t){this.gE=t},i.RT=function(t){return T.resolve(this.pE(t,this._E))},i.pE=function(t,n){return"spc="+encodeURIComponent(Fs(t))+"&assetId="+encodeURIComponent(n)},i.vT=function(t){return t.fairplay||{}},i.AE=function(t){var n=t.indexOf("?");if(n>=0)return T.resolve(t.substr(n+1));var i=t.split("/");return T.resolve(i[i.length-1])},i.wT=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.wE)?i:Du(new y(n)),t.next=3,this.AE(r);case 3:return e=t.sent,this._E=e,(s={}).fairplay={pa:e},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pT=function(){var n=t.prototype.pT.call(this);return n.set("Content-Type",this.bE),n},i.DT=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return t.next=4,this.TE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.OT=function(n,i){return t.prototype.ST.call(this,n,bf.mv,i)},i.EE=function(t){var n=this.mE(),i=this.pT(),r={vv:n,ov:zo.Sc,uv:i,Nv:pf.GET,xv:!1,jf:null,Cv:0,Io:t,io:Af.wv,Dv:bf.kv};return new Sf(r)},i.TE=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.EE(n),t.next=3,this.jd.cv(i);case 3:return r=t.sent,t.next=6,r.qf();case 6:return e=t.sent,t.abrupt("return",new y(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Ms(i)}else n=new y(t);return T.resolve(n)},i.AT=function(n,i){var r=t.prototype.AT.call(this,n,i);return Ie(r,"skd:")&&(r=r.substr("skd:".length)),r},L(n,[{key:"CT",get:function(){return!0}},{key:"bE",get:function(){return Sk.dE}}]),n}(_m),Ck=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,zo.Sc)||this}U(n,t);var i=n.prototype;return i.AE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return T.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return T.resolve(i)},i.RT=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){return T.resolve(new y(t))},i.AT=function(n,i){var r=n||{};return r.p1=Zt(),t.prototype.AT.call(this,r,i)},L(n,[{key:"bE",get:function(){return Sk.lE}}]),n}(Nk),Dk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,zo.Sc)||this).lT("https://fairplay-license.drm.technology/license"),s.kE("https://fairplay-license.drm.technology/certificate"),s}U(i,t);var r=i.prototype;return r.pE=function(t,n){var i={token:this.nE,contentId:n,payload:Fs(t)};return JSON.stringify(i)},r.ET=function(t){return T.resolve(new y(t))},r.pT=function(){var n=t.prototype.pT.call(this);return n.set("x-vudrm-token",this.nE),n},L(i,[{key:"bE",get:function(){return Sk.Rc}},{key:"nE",get:function(){if(!Vm(this.oT))throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.oT.token}}]),i}(Nk),Ok="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",xk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Pk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.Sc)||this}return U(i,t),i.prototype.ET=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Ok)}if(!i)throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,xk);return i}(Su(new DataView(i)));return t.prototype.ET.call(this,r)},i}(Nk);var Bk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.Rc)||this}U(i,t);var r=i.prototype;return r.RT=function(){var t=T.coroutine($r.mark(function t(i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.oT){t.next=3;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Fs(i),t.abrupt("return",Zm(r,e,Dm.$u));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ET=function(t){try{var i;if(it(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=qs(i.license);return T.resolve(new y(e))}return T.reject(new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return T.reject(new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.kT=function(t,n,i){return Jm(t,n,i)},L(i,[{key:"bE",get:function(){return Sk.Rc}}]),i}(Nk),Lk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,zo.Sc)||this).lT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.kE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}U(n,t);var i=n.prototype;return i.mE=function(){var n=t.prototype.mE.call(this);if(!n)return n;var i=b.Du(n),r=this.oT;return Lm(r)&&Nf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.AE=function(n){return Lm(this.oT)?T.resolve(this.oT.contentId):t.prototype.AE.call(this,n)},i.RT=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){return T.resolve(new y(t))},i.AT=function(n,i){var r=n;return Lm(this.oT)&&(r=function(t,n){return Kr({},ik(t,n),{KeyId:t.keyId})}(this.oT,r)),t.prototype.AT.call(this,r,i)},L(n,[{key:"bE",get:function(){return Sk.lE}}]),n}(Nk),Mk=function(t){function i(i,r,e,s){var u;if(u=t.call(this,i,r,e,s,zo.Je)||this,!Bm(r))throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.lT("https://connect.conax.com:8097/license"),u}U(i,t);var r=i.prototype;return r.pT=function(){var n=t.prototype.pT.call(this);return sk(this.oT,"FairPlay",n)},r.TE=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mE(),r={vv:i,ov:zo.Sc,uv:{},Nv:pf.GET,xv:!1,jf:null,Cv:0,Io:n,io:Af.wv,Dv:bf.kv},t.next=4,this.jd.cv(r);case 4:return e=t.sent,t.next=7,e.qf();case 7:return s=t.sent,t.abrupt("return",new y(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.RT=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.AE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),T.resolve(Su(Ms(n)))):T.resolve("unknown")},r.ET=function(t){try{var n=JSON.parse(t);return T.resolve(new y(qs(n.CkcMessage)))}catch(t){return T.reject("CFLRW-66")}},i}(Nk),Uk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,zo.Je)||this).lT(Im[ae.$u]),s}U(i,t);var r=i.prototype;return r.AE=function(t){return Ie(t,"skd://")?T.resolve(t.substring("skd://".length,40)):T.reject(new B_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.pE=function(t,n){return"spc="+Fs(t)+"&assetId="+n},i}(Nk),Fk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,zo.Je)||this).lT("https://lic.drmtoday.com/license-server-fairplay/"),s}U(n,t);var i=n.prototype;return i.pE=function(t,n){var i="spc="+encodeURIComponent(Fs(t))+"&"+encodeURI(n);return"persistent"===this.aT.licenseType?i+"&offline=true":i},i.pT=function(){return ak(t.prototype.pT.call(this),this.nE,this.oT)},L(n,[{key:"nE",get:function(){return hk(this.oT)}}]),n}(Nk),Hk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,zo.Sc)||this}U(n,t);var i=n.prototype;return i.AE=function(t){var n=t;return Ie(n,"skd:")&&(n="http:"+n.substring(4)),Ie(n,"http:")||Ie(n,"https:")?T.resolve(b.Du(n).hostname):T.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.RT=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){return T.resolve(new y(t))},L(n,[{key:"bE",get:function(){return Sk.lE}}]),n}(Nk),Vk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,zo.Je)||this}return U(n,t),n.prototype.pT=function(){var n=t.prototype.pT.call(this),i=this.oT.token;return n.set("Authorization","Bearer "+i),n},n}(Nk),Xk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,zo.Rc)||this,!Xm(i))throw new f("Invalid Xstream DRM configuration");return s}U(n,t);var i=n.prototype;return i.TE=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mE(),r=this.pT(),e={vv:i,ov:zo.Rc,uv:r,Nv:pf.POST,Io:n,io:Af.wv,Dv:bf.kv},t.next=5,this.jd.cv(e);case 5:return s=t.sent,t.next=8,s.Vf();case 8:return u=t.sent,t.abrupt("return",new y(Ms(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.OT=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=zo.Je),e=Fs(n),s=this.oT,t.next=5,vk(s,"fairplay",this.jd,i);case 5:return u=t.sent,o=Ru(JSON.stringify({spc:e,ticket:u.ticket})),h={vv:this._T(),ov:zo.Rc,uv:this.pT(),Nv:pf.POST,jf:o,Cv:0,Io:i,io:Af.wv,Dv:bf.mv},t.next=10,this.jd.cv(h);case 10:return a=t.sent,t.next=13,a.Vf();case 13:return c=t.sent,t.abrupt("return",Ms(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"bE",get:function(){return Sk.Rc}}]),n}(Nk),Wk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.Je)||this}U(i,t);var r=i.prototype;return r.pE=function(t,n){return Fs(t)},r.ET=function(i){if(0===i.length)throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.ET.call(this,i)},r.pT=function(){var n=t.prototype.pT.call(this);return n.set("Content-Type","text/plain"),n},i}(Nk),qk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.Sc)||this}U(i,t);var r=i.prototype;return r.pE=function(t,n){return t},r.ET=function(t){return T.resolve(new y(t))},r.pT=function(){if(!Wm(this.oT))throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pT.call(this);return i.set("X-AxDRM-Message",this.oT.token),i},L(i,[{key:"bE",get:function(){return Sk.Rc}}]),i}(Nk),zk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,zo.Rc)||this).SE=void 0,s}U(i,t);var r=i.prototype;return r.pE=function(t,n){var i={spc:Fs(t)};return JSON.stringify(i)},r.AE=function(t){var i=b.Du(t);return this.SE=t,i.searchParams.has("b")?T.resolve(i.searchParams.get("b")):T.reject(new B_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.AT=function(n,i){var r=this._T();return!r&&this.SE&&(r=this.SE),r&&(r=r.replace("skd://","https://")),t.prototype.AT.call(this,n,i||r)},r.ET=function(){var t=T.coroutine($r.mark(function t(i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=it(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Ms(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),L(i,[{key:"bE",get:function(){return Sk.Je}}]),i}(Nk),Gk=function(){function t(t,n){this.RE=t,this.IE=n}var n=t.prototype;return n.NE=function(t){return this.RE(t)},n.CE=function(t,n){throw new v(n+" must be "+this.IE+". (Received: "+t+")")},t}(),jk=new Gk(ut,"a number"),Qk=new Gk(it,"a string"),Yk=new Gk(rt,"a boolean");var Zk,Jk=(Zk={responseCode:jk,isException:Yk,description:Qk,title:Qk,correlationId:Qk},{NE:function(t){if(!tt(t))return!1;for(var n=0,i=d.keys(Zk);n<i.length;n++){var r=i[n];if(!Zk[r].NE(t[r]))return!1}return!0},CE:function(t,n){if(!tt(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(Zk);i<r.length;i++){var e=r[i],s=Zk[e];if(!s.NE(t[e]))return s.CE(t[e],n+"."+e)}throw new v}});function $k(t,n,i,r,e){return Kk.apply(this,arguments)}function Kk(){return(Kk=T.coroutine($r.mark(function t(n,i,r,e,s){var u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=tp(n,i,r,s),t.next=3,np(u,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=b.Du(t);return Nf(i,n),i.toString()}(i,e)),u=new Go({});u.append("Content-Type","application/json");var o=Fs(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{vv:s,ov:zo.Je,uv:u,Nv:pf.POST,jf:JSON.stringify(h),Io:r,io:Af.wv,Dv:bf.mv}}function np(t,n){return ip.apply(this,arguments)}function ip(){return(ip=T.coroutine($r.mark(function t(i,r){var e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.cv(i);case 2:return e=t.sent,t.next=5,e.Vf();case 5:if(s=t.sent,!Jk.NE(s)){t.next=8;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.vv,s.responseCode);case 8:return t.abrupt("return",Ms(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var rp=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,zo.Sc)||this).DE=void 0,s.DE=i,s}U(n,t);var i=n.prototype;return i.AE=function(n){var i=n.replace("FairPlay",this.DE.releasePid);return t.prototype.AE.call(this,i)},i.OT=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$k(n,this.DE,this._T(),this.jd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Nk),ep=function(t){function i(n,i,r){return t.call(this,be,n,i,r,zo.Sc)||this}U(i,t);var r=i.prototype;return r.vT=function(t){return t.clearkey||{}},r.RT=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wm(n,this.aT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.yT=function(){var i=T.coroutine($r.mark(function i(r,e,s,u){var o,h;return $r.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.aT,!this._T()){i.next=5;break}return i.abrupt("return",t.prototype.yT.call(this,r,this.fT,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Ru(JSON.stringify(h)).buffer);case 10:throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.DT=function(t,n){return T.resolve(new y(0))},r.OT=function(n,i){return t.prototype.ST.call(this,n,bf.Tv,i)},i}(_m),sp=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.RT=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wm(n,this.aT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(km),up={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function op(t,n,i){return hp.apply(this,arguments)}function hp(){return(hp=T.coroutine($r.mark(function t(n,i,r){var e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Ap(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,os(T.resolve(s.call(n,e)),r);case 8:if(!Mu(u=t.sent)){t.next=11;break}return t.abrupt("return",Uu(u));case 11:return t.abrupt("return",pp(Kr({},up,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ap(t,n,i,r,e){return cp.apply(this,arguments)}function cp(){return(cp=T.coroutine($r.mark(function t(n,i,r,e,s){var u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=kp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,os(T.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Uu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fp(t,n,i,r){return vp.apply(this,arguments)}function vp(){return(vp=T.coroutine($r.mark(function t(n,i,r,e){var s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_p(n,i,r,e);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",pp(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dp(t,n,i,r,e,s){return lp.apply(this,arguments)}function lp(){return(lp=T.coroutine($r.mark(function t(n,i,r,e,s,u){var o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=mp(r,s),t.next=3,wp(n,new y(i),o,e,u);case 3:return h=t.sent,t.abrupt("return",Uu(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _p(t,n,i,r){return gp.apply(this,arguments)}function gp(){return(gp=T.coroutine($r.mark(function t(n,i,r,e){var s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=mp(i,r),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(u));case 5:return t.next=8,os(T.resolve(s.call(n,u)),e);case 8:if(!Mu(o=t.sent)){t.next=11;break}return t.abrupt("return",Uu(o).buffer);case 11:return t.abrupt("return",Kr({fairplaySkdUrl:void 0},up,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r,e){return yp.apply(this,arguments)}function yp(){return(yp=T.coroutine($r.mark(function t(n,i,r,e,s){var u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=kp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,os(T.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Uu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mp(t,n){return Kr({},Ap(t),{fairplaySkdUrl:n})}function kp(t,n,i){return{url:i.fv,status:i.sv,statusText:i.hv,headers:i.uv.Nc(),body:t,request:n}}function pp(t){return new Sf({vv:t.url,Nv:t.method,uv:t.headers,jf:t.body,xv:t.useCredentials})}function Ap(t){var n;return{url:t.vv,body:null!=(n=bp(t.jf))?n:null,headers:t.uv.Nc(),method:t.Nv,useCredentials:t.xv}}function bp(t){if(t)return"string"==typeof t?Ru(t):t instanceof ArrayBuffer?new y(t):Vs(t)?Lu(t):void 0}var Tp,Ep=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).OE=void 0,s.OE=e,s}U(i,t);var r=i.prototype;return r.DT=function(t,n){return T.resolve(t)},r.OT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eE(Hu(i).buffer);case 2:return e=t.sent,s=this.mT(e,zo.Sc,bf.bv,r),t.next=6,fp(this.OE,s,void 0,r);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(u));case 10:if(""!==u.vv){t.next=12;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.jd.cv(u);case 15:return o=t.sent,t.next=18,o.qf(r);case 18:return h=t.sent,t.t0=y,t.next=22,dp(this.OE,h,s,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),ss(t.t2),new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(wk),Sp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,zo.Sc)||this).OE=void 0,s.OE=e,s}U(i,t);var r=i.prototype;return r.DT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return e=this.mT(i,zo.Sc,bf.Av,r),t.next=5,op(this.OE,e,r);case 5:if(!((s=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.vv){t.next=11;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.jd.cv(s);case 14:return u=t.sent,t.next=17,u.qf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),ss(t.t0),new B_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=mp(e,void 0),t.next=27,ap(this.OE,new y(o),h,u,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.OT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mT(i,zo.Sc,bf.pv,r),t.next=3,fp(this.OE,e,void 0,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.vv){t.next=9;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jd.cv(s);case 12:return u=t.sent,t.next=15,u.qf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),ss(t.t0),new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,dp(this.OE,o,e,u,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(sp),Rp=function(t){function i(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,zo.Sc)||this).OE=void 0,u.xE=void 0,u.OE=s,u}U(i,t);var r=i.prototype;return r.DT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return e=this.EE(r),t.next=5,op(this.OE,e,r);case 5:if(s=t.sent,!Vs(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.jd.cv(s);case 11:return u=t.sent,t.next=14,u.qf();case 14:return o=t.sent,h=mp(e,void 0),t.next=18,ap(this.OE,new y(o),h,u,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),ss(t.t0),new B_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.OT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mT(i,zo.Sc,bf.mv,r),t.next=3,fp(this.OE,e,this.xE,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.vv){t.next=9;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jd.cv(s);case 12:return u=t.sent,t.next=15,u.qf(r);case 15:return o=t.sent,t.t0=y,t.next=19,dp(this.OE,o,e,u,this.xE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),ss(t.t2),new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(n){var i;return this.xE=n,null!=(i=this.OE)&&i.extractFairplayContentId?T.resolve(this.OE.extractFairplayContentId(n)):t.prototype.AE.call(this,n)},i}(Nk),Ip=function(){function t(){}var n=t.prototype;return n.PE=function(t,n,i,r){switch(t.Xh.io){case ae.Ju:return this.BE(n,i,r);case ae.Zu:return this.LE(n,i,r);case ae.$u:return this.ME(t,n,i,r);case ae.Ku:default:return this.UE(n,i,r)}},n.BE=function(t,n,i){var r,e=(r=t).integration===lm&&it(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Rm.QT.zT(e,ge)){var s=Rm.QT.jT(e,ge,t);return new Sp(t,n,i,s)}switch(e){case Ky:return new tk(t,n,i);case rm:return new nk(t,n,i);case im:return new rk(t,n,i);case tm:return new uk(t,n,i);case um:return new ck(t,n,i);case hm:return new fk(t,n,i);case am:return new lk(t,n,i);case fm:return new _k(t,n,i);case sm:default:return new sp(t,n,i,zo.Sc)}},n.LE=function(t,n,i){var r=t.integration;if(r&&Rm.QT.zT(r,le)){var e=Rm.QT.jT(r,le,t);return new Ep(t,n,i,e)}switch(r){case Ky:return new mk(t,n,i);case rm:return new Ak(t,n,i);case im:return new bk(t,n,i);case tm:return new Tk(t,n,i);case um:return new Ek(t,n,i);case am:return new Rk(t,n,i);case fm:return new Ik(t,n,i);case sm:default:return new wk(t,n,i)}},n.ME=function(t,n,i,r){var e=n.integration;if(e&&Rm.QT.zT(e,ye)){var s=Rm.QT.jT(e,ye,n);return new Rp(t,n,i,r,s)}switch(e){case nm:return new Ck(t,n,i,r);case rm:return new Dk(t,n,i,r);case em:return new Pk(t,n,i,r);case Ky:return new Bk(t,n,i,r);case im:return new Lk(t,n,i,r);case tm:return new Mk(t,n,i,r);case sm:return new Uk(t,n,i,r);case um:return new Fk(t,n,i,r);case om:return new Hk(t,n,i,r);case hm:return new Vk(t,n,i,r);case am:return new Xk(t,n,i,r);case cm:return new Wk(t,n,i,r);case fm:return new qk(t,n,i,r);case vm:return new zk(t,n,i,r);case dm:return new rp(t,n,i,r);default:return new Nk(t,n,i,r,zo.Je)}},n.UE=function(t,n,i){return new ep(t,n,i)},n.FE=function(t){return t.io===ae.Zu||t.io===ae.Ju||t.io===ae.$u||t.io===ae.Ku},n.ta=function(t,n){var i;if(t.io!==ae.Zu)return!1;if(J(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Rm.QT.zT(r,ye))&&(r===Ky&&new yk(n).ta)},n.$T=function(t,n){if(t.io===ae.Ju){var i=n.integration;if(!i||!Rm.QT.zT(i,ye))return i===Ky?tk.$T():void 0}},t}();!function(t){t[t.HE=0]="HE",t[t.VE=1]="VE",t[t.XE=2]="XE",t[t.WE=3]="WE",t[t.m_=4]="m_",t[t.qE=5]="qE",t[t.E_=6]="E_",t[t.zE=7]="zE",t[t.GE=8]="GE"}(Tp||(Tp={}));var Np,Cp=function(){function t(){}return t.prototype.jE=function(t){},L(t,[{key:"QE",get:function(){return 0}},{key:"YE",get:function(){return 0}}]),t}(),Dp=function(){function t(t,n){void 0===n&&(n=new Ip),this.Bb=void 0,this.ZE=void 0,this.uE=void 0,this.Bb=t,this.ZE=n}var n=t.prototype;return n.JE=function(t){this.uE=t},n.$T=function(t){var n=this.uE;if(void 0!==n)return this.ZE.$T(t,n)},n.ta=function(t){var n=this.uE;return void 0!==n&&this.ZE.ta(t,n)},n.$E=function(t){var n={Xh:t.Xh,KE:t.KE||[],yE:t.yE},i=this.ZE.PE(n,this.uE||{},t.hT,this.Bb);return new Op(i)},t}(),Op=function(){function t(t){this.tS=void 0,this.tS=t}var n=t.prototype;return n.gT=function(t){return this.tS.gT(t)},n.wT=function(t,n,i){return this.tS.wT(n,i)},n.CT=function(){return this.tS.CT||void 0!==this.tS.NT},n.DT=function(t,n){return this.tS.DT(t,n)},n.OT=function(t,n,i){return n&&this.tS.lT(n),this.tS.OT(t,i)},n.mo=function(){this.tS.Lv()},t}(),xp=function(t){function n(n){var i;(i=t.call(this)||this).nS=[],i.iS=function(t){i.Rl(t.nl)},i.rS=function(t){var n=t.nl;i.eS(n)||i.Il(n)};for(var r=0;r<n.length;r++){var e=n[r];i.sS(e)}return i}U(n,t);var i=n.prototype;return i.sS=function(t){this.nS.push(t);for(var n=0,i=t.Dl;n<i.length;n++){var r=i[n];this.Rl(r)}this.uS(t)},i.oS=function(t){je(this.nS,t),this.hS(t);for(var n=0,i=t.Dl;n<i.length;n++){var r=i[n];this.eS(r)||this.Il(r)}},i.eS=function(t){for(var n=0,i=this.nS;n<i.length;n++){if(i[n].Nl(t))return!0}return!1},i.uS=function(t){t.Po(_d.Qd,this.iS),t.Po(_d.Zd,this.rS)},i.hS=function(t){t.Uo(_d.Qd,this.iS),t.Uo(_d.Zd,this.rS)},i.Lv=function(){for(;this.nS.length>0;)this.oS(this.nS[0]);t.prototype.Lv.call(this)},i.tl=function(){return il(this)},n}(Rd);function Pp(){return Np||(Np=mr&&mr.document&&mr.document.createElement("video")),Np}var Bp=function(t){function n(n,i,r,e,s,u,o){var h;return void 0===u&&(u=new Ip),void 0===o&&(o=Uo()),(h=t.call(this)||this).aS=void 0,h.cS=void 0,h.fS=void 0,h.Pw=void 0,h.Bw=void 0,h.Lw=void 0,h.vS=void 0,h.dS=void 0,h.lS=void 0,h._S=void 0,h.gS=void 0,h.Bb=void 0,h.ho=void 0,h.wS=void 0,h.yS=void 0,h.mS=new Cp,h.kS=function(t){var n=t.Qo,i=n.code,r=new To(F_(i),"Something went wrong during native playback.",n),e=new L_(i,r.message,n.message);h.pS(r,e)},h.AS=function(){h.xo(new Wl(h.M_,h.gy))},h.bS=function(t){h.X_||(h.yS=void 0),h.xo(t)},h.TS=function(t){h.yS=void 0,h.xo(t)},h.ES=function(){h.xo(new rg(h.yy))},h.SS=function(){h.G_>0&&h.z_>0&&h.xo(new Ry)},h.RS=function(t){h.Pw.Rl(new J_(t.track))},h.IS=function(t){var n=Up(h.Pw,t.track);n&&h.Pw.Il(n)},h.NS=function(){h.CS(h.Pw)},h.DS=function(t){h.Bw.Rl(new ig(t.track))},h.OS=function(t){var n=Up(h.Bw,t.track);n&&h.Bw.Il(n)},h.xS=function(){h.CS(h.Bw)},h.PS=function(t){h.xo(t),h.pS(t.errorObject,U_(t.errorObject))},h.aS=i,h.Bb=r,h.ho=o,h.cS=h.aS.LS(H_.Rv),h.lS=h.cS.MS.preload,h._S=new $y(h.cS,!0),h._S.Po(Fl,h.Oo),h.wS=new Dp(r,u),h.cS.US=h.wS,h.FS(),h.Pw=new V_,h.Bw=new V_,h.HS(),h.gS=new ky(h.cS,h.Bb),h.Lw=new xp([h.cS.Xw]),h.ny(),h}U(n,t);var i=n.prototype;return i.iy=function(){this.cS.iy()},i.ny=function(){this.cS.ny()},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(r),e={io:Sy.Wb,e_:n.src,Gf:n.type,VS:this.XS(n),Ry:this.lS,WS:n.crossOrigin,qS:i.metadata&&i.metadata.title},this.wS.JE(n.contentProtection),t.next=5,this.cS.xh(e);case 5:this.fS=t.sent,es(r),i.textTracks&&this.zS(i.textTracks),Ey(this.Xw);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zS=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.cS.GS()&&Q.me&&Ly&&!dy(i.kind,i.label)&&this.jS(i)){var r,e=null!=(r=i.kind)?r:ty.yk;this.cS.QS(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.gS.Mb(i)}}},i.jS=function(t){return!t.format||"webvtt"===t.format},i.qw=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cS.qw();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.YS){t.next=12;break}return t.next=10,this.cS.Xo(qo.ac);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.zw=function(){this.cS.zw()},i.Yw=function(){return void 0!==this.cS.MS.webkitShowPlaybackTargetPicker},i.Zw=function(){this.cS.MS.webkitShowPlaybackTargetPicker&&this.cS.MS.webkitShowPlaybackTargetPicker()},i.Jw=function(){this.cS.MS.webkitShowPlaybackTargetPicker&&this.cS.MS.webkitShowPlaybackTargetPicker()},i.ey=function(){return this.cS.MS},i.sy=function(){return this.cS.ZS},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vS=void 0,this.dS=void 0,this.fS=void 0,t.next=5,this.gS.Cl();case 5:return this.cS.JS(),t.next=8,this.cS.Cl();case 8:this._S.Cl(),this.Ry=this.lS,this.Hw.Cl(),this.Vw.Cl(),this.yS=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.$S(),this.KS(),this._S.Lv(),this.cS.US=void 0,t.next=9,this.aS.tR(this.cS);case 9:return this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv(),t.next=14,this.gS.Lv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.FS=function(){this.cS.Po(qo.hc,this.Oo),this.cS.Po(qo.oc,this.Oo),this.cS.Po(qo.pc,this.AS),this.cS.Po(qo.ac,this.Oo),this.cS.Po(qo.ic,this.Oo),this.cS.Po(qo.lc,this.Oo),this.cS.Po(qo.dc,this.bS),this.cS.Po(qo.Ka,this.Oo),this.cS.Po(qo.cc,this.Oo),this.cS.Po(qo.Ac,this.Oo),this.cS.Po(qo.Ja,this.Oo),this.cS.Po(qo.vc,this.SS),this.cS.Po(xl.L_,this.TS),this.cS.Po(Zd.$l,this.kS),this.cS.Po(qo.Qa,this.Oo),this.cS.Po(qo.ja,this.PS),this.cS.MS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ES)},i.$S=function(){this.cS.Uo(qo.hc,this.Oo),this.cS.Uo(qo.oc,this.Oo),this.cS.Uo(qo.pc,this.AS),this.cS.Uo(qo.ac,this.Oo),this.cS.Uo(qo.ic,this.Oo),this.cS.Uo(qo.lc,this.Oo),this.cS.Uo(qo.dc,this.bS),this.cS.Uo(qo.Ka,this.Oo),this.cS.Uo(qo.cc,this.Oo),this.cS.Uo(qo.Ac,this.Oo),this.cS.Uo(qo.Ja,this.Oo),this.cS.Uo(qo.vc,this.SS),this.cS.Uo(xl.L_,this.TS),this.cS.Uo(Zd.$l,this.kS),this.cS.Uo(qo.Qa,this.Oo),this.cS.Uo(qo.ja,this.PS),this.cS.MS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ES)},i.XS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Xh:Ae,nR:[{initDataTypes:[Ae.eo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.HS=function(){var t=this.cS.MS.audioTracks,n=this.cS.MS.videoTracks;t&&(t.addEventListener("addtrack",this.RS),t.addEventListener("removetrack",this.IS),t.addEventListener("change",this.NS)),n&&(n.addEventListener("addtrack",this.DS),n.addEventListener("removetrack",this.OS),n.addEventListener("change",this.xS))},i.KS=function(){var t=this.cS.MS.audioTracks,n=this.cS.MS.videoTracks;t&&(t.removeEventListener("addtrack",this.RS),t.removeEventListener("removetrack",this.IS),t.removeEventListener("change",this.NS)),n&&(n.removeEventListener("addtrack",this.DS),n.removeEventListener("removetrack",this.OS),n.removeEventListener("change",this.xS))},i.CS=function(t){for(var n=0;n<t.Ol;n++){t.Sl(n).Ly()}},i.ly=function(){this.cS.ly()},i.pS=function(t,n){this.vS||(this.vS=n,this.dS=t,this.xo(new $l(t)))},L(n,[{key:"YS",get:function(){var t=this.cS._y,n=this.M_;return t.iR(n,.01)}},{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.cS._y.rR()}},{key:"gy",get:function(){return this.cS.gy},set:function(t){t&&this.cS.eR(t)}},{key:"M_",get:function(){return void 0!==this.yS?this.yS:this.cS.M_},set:function(t){this.yy&&(this.yS=t),this.cS.ah(t)}},{key:"U_",get:function(){return this.cS.U_}},{key:"F_",get:function(){return this.cS.F_}},{key:"Qo",get:function(){return this.vS}},{key:"H_",get:function(){return this.dS}},{key:"Ww",get:function(){}},{key:"yy",get:function(){return this.cS.yy}},{key:"Iw",get:function(){return Kr({},{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.cS.sR())}},{key:"V_",get:function(){return this.cS.V_},set:function(t){this.cS.V_=t}},{key:"Ey",get:function(){return!0}},{key:"X_",get:function(){return this.cS.X_}},{key:"W_",get:function(){return this.cS.W_},set:function(t){this.cS.W_=t}},{key:"Sy",get:function(){return this.cS.MS.played}},{key:"Ry",get:function(){return this.lS},set:function(t){this.lS=t,this.fS&&(this.fS.Ry=t)}},{key:"n_",get:function(){return this.cS.n_}},{key:"Iy",get:function(){return this.cS.Iy.rR()}},{key:"q_",get:function(){return this.cS.q_}},{key:"uR",get:function(){return this.cS.uR}},{key:"Xw",get:function(){return this.Lw}},{key:"Vw",get:function(){return this.Bw}},{key:"z_",get:function(){return this.cS.z_}},{key:"G_",get:function(){return this.cS.G_}},{key:"j_",get:function(){return this.cS.j_},set:function(t){this.cS.j_=t}},{key:"oR",get:function(){return this.mS}}]),n}(sl);function Lp(t){return!t.type||!(!Pp().canPlayType||!Pp().canPlayType(t.type))}var Mp=function(){function t(){this.hR=Tp.GE}var n=t.prototype;return n.VT=function(t,n,i,r,e,s){return new Bp(t,n,i,r,e)},n.aR=function(t,n){return Lp(t)},n.cR=function(){return!1},t}();function Up(t,n){for(var i=0,r=t.Dl;i<r.length;i++){var e=r[i];if(e.Fy===n)return e}}var Fp=function(){function t(){this.fR=new Mp,this.vR=[]}t.dR=function(){return this.je};var n=t.prototype;return n.lR=function(t){this.vR.push(t)},n.VT=function(t,n,i,r,e,s){for(var u=this.fR.VT(t,n,i,r,e,s),o=0,h=this.vR;o<h.length;o++){u=(0,h[o])(u,i,r)}return u},n.aR=function(t,n){return this.fR.aR(t,n)},n.cR=function(){return!1},L(t,[{key:"hR",get:function(){return this.fR.hR}}]),t}();function Hp(t,n){return c_(t.hR,n.hR)}function Vp(t){Xp.je._R(t)}Fp.je=new Fp;var Xp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).gR=Fp.dR(),n}U(n,t);var i=n.prototype;return i.wR=function(t){this.gR=t},i.yR=function(){return this.gR},i.mR=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.kR(e,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{pR:e,AR:s});case 8:r++,t.next=1;break;case 11:u=this.gR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.aR(h,i)){t.next=17;break}return t.abrupt("return",{pR:h,AR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{pR:n[0],AR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.bR=[]}var n=t.prototype;return n._R=function(t){this.bR.push(t),this.bR.sort(Hp)},n.kR=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.bR;case 1:if(!(r<e.length)){t.next=17;break}if(s=e[r],!et(u=s.aR(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Xp.je=new Xp;var Wp,qp=function(){function t(t){this.ER=void 0,this.ER=mr&&mr.document&&mr.document.createElement("div"),Nr(this.ER),t.appendChild(this.ER)}return t.prototype.Lv=function(){Er(this.ER)},t}();function zp(t){switch(t){case Wp.SR:case"":return Wp.SR;case Wp.kk:return Wp.kk;case Wp.RR:default:return Wp.RR}}!function(t){t.GE="",t.RR="none",t.kk="metadata",t.SR="auto"}(Wp||(Wp={}));var Gp=[Zd.$l,qo.$a,qo.Yo,qo.Ec,qo.Wa,qo.tc,qo.sc,qo.uc,qo.gc,qo.yc,xl.D_,xl.O_,xl.x_,xl.P_,xl.gl,xl.B_,xl.L_,qo.ja,qo.Qa,qo.Ja,qo.Ka,qo.ic,qo.rc,qo.hc,qo.ac,qo.oc,qo.cc,qo.vc,qo.lc,qo.dc,qo.pc,qo.Ac,qo.fc,qo.ec,qo._c],jp=function(t){function n(n,i){var r;return(r=t.call(this)||this).IR=void 0,r.NR=void 0,r.DR=void 0,r.OR=void 0,r.lS=Wp.RR,r.xR=void 0,r.PR=!0,r.Pw=new Jd,r.Bw=new Jd,r.Lw=new el,r.Mw=new x_,r.IR=n,r.DR=i,r.DR.Ry=r.Ry,r.LR(),r}U(n,t);var i=n.prototype;return i.zw=function(){this.DR.zw()},i.qw=function(){var t=this.DR.qw();et(t)&&vs(t)},i.Gw=function(){return this.Qw(void 0)},i.$w=function(){},i.oy=function(t){return!1},i.LR=function(){this.Pw.Ul=this.DR.Hw,this.Bw.Ul=this.DR.Vw,this.Lw.Ul=this.DR.Xw,this.Mw.Ul=this.DR.Ww,this.DR.Po(Gp,this.Oo)},i.MR=function(){this.DR.Uo(Gp,this.Oo),this.Pw.Ul=void 0,this.Bw.Ul=void 0,this.Lw.Ul=void 0,this.Mw.Ul=void 0},i.jw=function(){return this.xR},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(i),this.xR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Rl(r=n.sources.filter(Ol))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.IR.mR(r,n);case 9:if(e=t.sent,es(i),s=e.pR,u=e.AR,o=this.sy(),h=n_(this),this.NR===u&&!this.Qo){t.next=25;break}return this.MR(),t.next=19,this.DR.Lv();case 19:es(i),this.NR=u,this.DR=this.UR(u),Qp(this.DR,h),r_(this,h,this),this.LR();case 25:return this.DR.Ry=this.Ry,this.PR?this.DR.ny():this.DR.iy(),t.next=29,this.DR.Qw(s,n,i);case 29:es(i),this.FR(s),this.sy()!==o&&this.xo(new ol);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FR=function(t){this.OR!==t&&(this.OR=t,this.xo(new hl(t)))},i.Yw=function(){return this.DR.Yw()},i.Zw=function(){this.DR.Zw()},i.Jw=function(){this.DR.Jw()},i.sy=function(){return this.DR.sy()},i.ly=function(){this.DR.ly()},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xR=void 0,this.FR(void 0),t.next=4,this.DR.Cl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Cl();case 3:return t.next=5,this.DR.Lv();case 5:this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv(),this.Mw.Lv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ny=function(){this.PR=!0,this.DR.ny()},i.iy=function(){this.PR=!1,this.DR.iy()},L(n,[{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.DR._y}},{key:"Qo",get:function(){return this.DR.Qo}},{key:"H_",get:function(){return this.DR.H_}},{key:"gy",get:function(){return this.DR.gy},set:function(t){this.DR.gy=t}},{key:"vy",get:function(){return this.OR}},{key:"M_",get:function(){return this.DR.M_},set:function(t){this.DR.M_=t}},{key:"U_",get:function(){return this.DR.U_}},{key:"F_",get:function(){return this.DR.F_}},{key:"Ww",get:function(){return this.Mw}},{key:"yy",get:function(){return this.DR.yy}},{key:"Iw",get:function(){return this.DR.Iw}},{key:"V_",get:function(){return this.DR.V_},set:function(t){this.DR.V_=t}},{key:"Ey",get:function(){return this.DR.Ey}},{key:"X_",get:function(){return this.DR.X_}},{key:"W_",get:function(){return this.DR.W_},set:function(t){this.DR.W_=t}},{key:"Sy",get:function(){return this.DR.Sy}},{key:"Ry",get:function(){return this.lS},set:function(t){this.lS=t,this.DR&&(this.DR.Ry=this.lS)}},{key:"n_",get:function(){return this.DR.n_}},{key:"Iy",get:function(){return this.DR.Iy}},{key:"q_",get:function(){return this.DR.q_}},{key:"Xw",get:function(){return this.Lw}},{key:"z_",get:function(){return this.DR.z_}},{key:"Vw",get:function(){return this.Bw}},{key:"G_",get:function(){return this.DR.G_}},{key:"j_",get:function(){return this.DR.j_},set:function(t){this.DR.j_=t}},{key:"oR",get:function(){return this.DR.oR}}]),n}(ks);function Qp(t,n){t.V_!==n.V_&&(t.V_=n.V_),t.j_!==n.j_&&(t.j_=n.j_),t.W_!==n.W_&&(t.W_=n.W_)}var Yp,Zp=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ol=void 0,r.HR=void 0,r.XR=void 0,r.Ol=n.length>>1,r.HR=n,r.XR=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Ol),r}U(n,t);var i=n.prototype;return i.WR=function(t){return this.HR[2*t]},i.qR=function(t){return this.XR[2*t]},i.zR=function(t){return this.HR[2*t+1]},i.GR=function(t){return this.XR[2*t+1]},L(n,[{key:"jR",get:function(){return this.HR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ug=function(t,n){return 0===this.ng(t,n)},n.Dg=function(t,n){return this.ng(t,n)>0},n.Og=function(t,n){return this.ng(t,n)>=0},n.og=function(t,n){return this.ng(t,n)<0},n.eg=function(t,n){return this.ng(t,n)<=0},n.Jg=function(t,n){return this.og(t,n)?t:n},n.Zg=function(t,n){return this.Dg(t,n)?t:n},n.QR=function(t,n,i){return i?this.eg(t,n):this.og(t,n)},n.rR=function(){var t=this;return{get length(){return t.Ol},start:function(n){var i=0|n;return t.YR(i),t.ZR(t.WR(i))},end:function(n){var i=0|n;return t.YR(i),t.ZR(t.zR(i))}}},n.JR=function(){for(var t=new Array(2*this.Ol),n=new Array(2*this.Ol),i=0;i<this.Ol;i++)t[2*i]=this.WR(i),t[2*i+1]=this.zR(i),n[2*i]=!0,n[2*i+1]=!0;return this.$R(t,n)},n.YR=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Ol)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Ol+")")},n.KR=function(t){if(0===this.Ol)return this.tI();if(this.iR(t))return t;if(this.eg(t,this.WR(0)))return this.WR(0);if(this.Og(t,this.zR(this.Ol-1)))return this.zR(this.Ol-1);for(var n,i=this.nI(),r=0;r<this.Ol;r++){var e=this.WR(r),s=this.sg(e,t);this.og(s,i)&&(n=e,i=s);var u=this.zR(r),o=this.sg(this.zR(r),t);this.og(o,i)&&(n=u,i=o)}return n},n.iI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Ol&&i<t.Ol;){var s=this.WR(n),u=this.zR(n),o=this.qR(n),h=this.GR(n),a=t.WR(i),c=t.zR(i),f=t.qR(i),v=t.GR(i),d=this.Zg(s,a),l=this.Jg(u,c),_=void 0;_=this.ug(s,a)?o&&f:this.ug(d,s)?o:f;var g=void 0;g=this.ug(u,c)?h&&v:this.ug(l,u)?h:v,(this.og(d,l)||_&&g&&this.ug(d,l))&&(r.push(d,l),e.push(_,g));var w=this.ng(this.zR(n),t.zR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.$R(r,e)},n.rI=function(){var t=this.eI(),n=t.Ol;if(0===n)return this.$R([t.sI(),t.nI()],[!1,!1]);var i=[],r=[],e=t.WR(0);t.ug(e,t.sI())||(i.push(t.sI(),e),r.push(!1,!t.qR(0)));for(var s=0;s<n-1;s++)i.push(t.zR(s),t.WR(s+1)),r.push(!t.GR(s),!t.qR(s+1));var u=t.zR(n-1);return t.ug(u,t.nI())||(i.push(u,t.nI()),r.push(!t.GR(n-1),!1)),t.$R(i,r)},n.uI=function(t){for(var n=0,i=0,r=this.Ol,e=t.Ol,s=new Array(2*(r+e)),u=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.WR(n),a=this.zR(n),c=t.WR(i),f=t.zR(i);this.og(h,c)||this.ug(h,c)&&this.og(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.qR(n),u[o+1]=this.GR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.qR(i),u[o+1]=t.GR(i),i++),o+=2}for(;n<r;)s[o]=this.WR(n),s[o+1]=this.zR(n),u[o]=this.qR(n),u[o+1]=this.GR(n),n++,o+=2;for(;i<e;)s[o]=t.WR(i),s[o+1]=t.zR(i),u[o]=t.qR(i),u[o+1]=t.GR(i),i++,o+=2;return this.$R(s,u)},n.oI=function(t){void 0===t&&(t=this.tI());var n=this.Ol;if(n<2)return this;for(var i=[],r=[],e=this.WR(0),s=this.zR(0),u=this.qR(0),o=this.GR(0),h=1;h<n;h++){var a=this.WR(h),c=this.zR(h),f=this.qR(h),v=this.GR(h);this.og(e,a)&&this.Dg(s,c)||(this.ug(e,a)&&(u=f=u||f),this.ug(s,c)&&(o=v=o||v),this.QR(a,this.vg(s,t),o||f)?(s=c,o=v):(i.push(e,s),r.push(u,o),e=a,s=c,u=f,o=v))}return i.push(e,s),r.push(u,o),this.$R(i,r).eI()},n.eI=function(){for(var t=[],n=[],i=0;i<this.Ol;i++){var r=this.WR(i),e=this.zR(i),s=this.qR(i),u=this.GR(i);this.ug(r,e)?(s||u)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(s,u))}return this.$R(t,n)},n.hI=function(t){return this.Ol?t.Ol?this.uI(t).oI():this:t},n.aI=function(t){var n=this.eI(),i=t.eI(),r=n.rI(),e=i.rI(),s=r.iI(i),u=e.iI(n);return s.hI(u)},n.hh=function(t){if(this.ug(t,this.tI()))return this;for(var n=[],i=[],r=0;r<this.Ol;r++){var e=this.vg(this.WR(r),t),s=this.vg(this.zR(r),t);n.push(e,s),i.push(this.qR(r),this.GR(r))}return this.$R(n,i)},n.cI=function(t){return 0===this.Ol||0===t.Ol?this:this.eI().iI(t.eI().rI())},n.iR=function(t,n){return this.fI(t,n)>=0},n.vI=function(t,n,i,r,e){return this.dI(t,n,i,r,e)>=0},n.lI=function(t,n,i,r,e){return this._I(t,n,i,r,e)>=0},n.gI=function(t){if(t.Ol!==this.Ol)return!1;for(var n=0;n<this.Ol;n++)if(!this.ug(this.WR(n),t.WR(n))||!this.ug(this.zR(n),t.zR(n))||this.qR(n)!==t.qR(n)||this.GR(n)!==t.GR(n))return!1;return!0},n.wI=function(t){for(var n=[],i=[],r=0;r<this.Ol;r++){var e=this.WR(r),s=this.zR(r),u=this.qR(r),o=this.GR(r);t(e,s,u,o)&&(n.push(e,s),i.push(u,o))}return this.$R(n,i)},n._I=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.tI());for(var s=this.fg(t,e),u=this.vg(n,e),o=0;o<this.Ol;o+=1)if(this.QR(this.WR(o),u,!r||this.qR(o))&&this.QR(s,this.zR(o),!i||this.GR(o)))return o;return-1},n.dI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.tI());for(var s=this.vg(t,e),u=this.fg(n,e),o=0;o<this.Ol;o+=1)if(this.QR(this.WR(o),s,!i||this.qR(o))&&this.QR(u,this.zR(o),!r||this.GR(o)))return o;return-1},n.fI=function(t,n){return this.dI(t,t,!0,!0,n)},n.yI=function(t,n){void 0===n&&(n=this.tI());for(var i=this.vg(t,n),r=this.Ol-1;r>=0;r-=1)if(this.QR(this.WR(r),i,this.qR(r)))return r;return-1},n.mI=function(t,n){void 0===n&&(n=this.tI());for(var i=this.fg(t,n),r=0;r<this.Ol;r+=1)if(this.QR(i,this.zR(r),this.GR(r)))return r;return-1},n.kI=function(t){return this.YR(t),this.$R([this.WR(t),this.zR(t)],[this.qR(t),this.GR(t)])},n.pI=function(t,n){var i=this.fI(t,n);return i<0?void 0:this.kI(i)},L(t,[{key:"AI",get:function(){for(var t=this.tI(),n=0;n<this.Ol;n++){var i=this.fg(this.zR(n),this.WR(n));t=this.vg(t,i)}return t}}]),t}()),Jp=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.ng=function(t,n){return t<n?e_.Z_:t===n?e_.Q_:e_.Y_},i.vg=function(t,n){return t+n},i.fg=function(t,n){return t-n},i.sg=function(t,n){return l.abs(t-n)},i.tI=function(){return 0},i.nI=function(){return 1/0},i.sI=function(){return-1/0},n.bI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.TI=function(t){for(var i=[],r=[],e=0;e<t.Ol;e++)i.push(t.WR(e).tw),i.push(t.zR(e).tw),r.push(t.qR(e)),r.push(t.GR(e));return new n(i,r)},n.EI=function(t){return new n([t,t],[!0,!0])},i.$R=function(t,i){return new n(t,i)},i.ZR=function(t){return t},n.SI=function(){return $p},n}(Zp),$p=new Jp([]);!function(t){t.ll="fullscreenchange",t.RI="fullscreensupportchange",t.$l="fullscreenerror"}(Yp||(Yp={}));var Kp=function(t){function n(){return t.call(this,Yp.$l)||this}return U(n,t),n}(As),tA=new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.qy=function(){this.xo(new Kp)},i.Gy=function(){},i.Lv=function(){this.Mo()},L(n,[{key:"II",get:function(){return!1}},{key:"NI",get:function(){return!1}}]),n}(ks)),nA=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ey=function(){},n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).CI=0,n.DI=!1,n.OI=!0,n.xI=1,n.BI=!1,n.LI=1,n.Hw=new V_,n._y=Jp.SI().rR(),n.U_=NaN,n.F_=!1,n.Qo=void 0,n.H_=void 0,n.Ww=void 0,n.yy=!1,n.Ey=!0,n.Sy=Jp.SI().rR(),n.Ry=Wp.RR,n.n_=_l.S_,n.Iy=Jp.SI().rR(),n.uR=void 0,n.Xw=new ny,n.z_=0,n.Vw=new V_,n.G_=0,n.mS=new Cp,n}U(n,t);var i=n.prototype;return i.ny=function(){},i.iy=function(){},i.qw=function(){this.OI&&(this.OI=!1,this.xo(new Ll(this.M_)),this.xo(new Zy(this.M_)))},i.zw=function(){this.OI||(this.OI=!0,this.xo(new Wl(this.M_,this.gy)),this.xo(new Bl(this.M_)))},i.Qw=function(t,n){return T.resolve()},i.Yw=function(){return!1},i.Zw=function(){},i.Jw=function(){},i.sy=function(){return tA},i.ly=function(){},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.CI=0,this.BI=!1,this.zw(),this.xo(new Pl(this.CI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Mo(),this.Hw.Lv(),this.Xw.Lv(),this.Vw.Lv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"gy",get:function(){},set:function(t){}},{key:"M_",get:function(){return this.CI},set:function(t){this.CI!==t&&(this.CI=t,this.BI=!0,this.xo(new Gl(this.M_)))}},{key:"Iw",get:function(){return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"V_",get:function(){return this.DI},set:function(t){this.DI!==t&&(this.DI=t,this.xo(new Ql(this.M_,this.j_)))}},{key:"X_",get:function(){return this.OI}},{key:"W_",get:function(){return this.xI},set:function(t){this.xI!==t&&(this.xI=t,this.xo(new Xl(this.M_,this.W_)))}},{key:"q_",get:function(){return this.BI}},{key:"j_",get:function(){return this.LI},set:function(t){this.LI!==t&&(this.LI=t,this.xo(new Ql(this.M_,this.j_)))}},{key:"oR",get:function(){return this.mS}}]),n}(ks)),iA=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,Xp.je,new nA)||this)._a=void 0,o.MI=void 0,o.UI=void 0,o.FI=void 0,o.Bb=void 0,o.HI=void 0,o.VI=void 0,o.UI=n,o._a=i,o.Bb=r,o.HI=e,o.FI=u,o.MI=new gr(s,o.FI),o.MI.XI(o.UI),o.VI=new qp(o.UI),o}U(n,t);var i=n.prototype;return i.$w=function(){t.prototype.$w.call(this),this.MI.WI()},i.Kw=function(t){i_(this,t)},i.ty=function(){},i.UR=function(t){return t.VT(this.UI,this.MI,this.Bb,this._a,this.HI,this.FI)},i.ey=function(){return this.DR.ey()},i.uy=function(){return this.MI.qI.map(function(t){return t.MS})},i.Lo=function(n){t.prototype.Lo.call(this,n)},i.Vo=function(n){t.prototype.Vo.call(this,n)},i.Lv=function(){var n=T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Lv.call(this);case 2:this.MI.Lv(),this.VI.Lv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"wy",get:function(){return this.UI}}]),n}(jp),rA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).UI=void 0,e.zI=void 0,e.GI=void 0,e.jI=void 0,e.QI=void 0,e.UI=n,e.zI=i,e.jI=new V_,e.QI=new ny,e.GI=r,e}U(n,t);var i=n.prototype;return i.oy=function(t){return!0},i.iy=function(){},i.qw=function(){throw this.xo(new $l(this.GI)),this.zI},i.zw=function(){},i.jw=function(){},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw es(i),this.xo(new $l(this.GI)),this.zI;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ny=function(){},i.Gw=function(){return T.resolve()},i.ey=function(){},i.sy=function(){return tA},i.uy=function(){return[]},i.$w=function(){},i.Kw=function(t){},i.ty=function(){},i.Yw=function(){return!1},i.Zw=function(){},i.Jw=function(){},i.ly=function(){},i.Cl=function(){return T.resolve()},i.Lv=function(){return this.Mo(),this.jI.Lv(),this.QI.Lv(),T.resolve()},L(n,[{key:"Hw",get:function(){return this.jI}},{key:"_y",get:function(){return Jp.SI().rR()}},{key:"gy",get:function(){return new Date(NaN)},set:function(t){}},{key:"vy",get:function(){}},{key:"M_",get:function(){return 0},set:function(t){}},{key:"U_",get:function(){return 0}},{key:"wy",get:function(){return this.UI}},{key:"F_",get:function(){return!0}},{key:"Qo",get:function(){return this.zI}},{key:"H_",get:function(){return this.GI}},{key:"Ww",get:function(){}},{key:"Iw",get:function(){return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"V_",get:function(){return!1},set:function(t){}},{key:"Ey",get:function(){return!0}},{key:"X_",get:function(){return!0}},{key:"W_",get:function(){return 0},set:function(t){}},{key:"Sy",get:function(){return Jp.SI().rR()}},{key:"Ry",get:function(){return Wp.RR},set:function(t){}},{key:"n_",get:function(){return _l.S_}},{key:"Iy",get:function(){return Jp.SI().rR()}},{key:"q_",get:function(){return!1}},{key:"Xw",get:function(){return this.QI}},{key:"z_",get:function(){return 0}},{key:"Vw",get:function(){return this.jI}},{key:"G_",get:function(){return 0}},{key:"j_",get:function(){return 1},set:function(t){}},{key:"yy",get:function(){return!1}}]),n}(ul);function eA(t){if(t&&tt(t))return Kr({},t,{integration:sA(t.integration),fairplay:vA(t.fairplay),widevine:uA(t.widevine),playready:oA(t.playready),clearkey:dA(t.clearkey),aes128:lA(t.aes128),integrationParameters:_A(t.integrationParameters),preferredKeySystems:gA(t.preferredKeySystems)})}function sA(t){if(it(t))return t}function uA(t){if(t&&tt(t))return{persistentState:hA(t.persistentState),distinctiveIdentifier:hA(t.distinctiveIdentifier),audioRobustness:aA(t.audioRobustness),videoRobustness:aA(t.videoRobustness),licenseAcquisitionURL:it(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:cA(t.licenseType),headers:t.headers,useCredentials:!!rt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:it(t.certificate)||Mu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:fA(t.certificateRequestProcessor),certificateResponseProcessor:fA(t.certificateResponseProcessor),licenseRequestProcessor:fA(t.licenseRequestProcessor),licenseResponseProcessor:fA(t.licenseResponseProcessor)}}function oA(t){if(t){var n=uA(t);if(n)return Kr({},n,{customData:it(t.customData)?t.customData:void 0})}}function hA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function aA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function cA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function fA(t){if("function"==typeof t)return t}function vA(t){if(t){var n=uA(t);if(n)return Kr({},n,{certificateURL:it(t.certificateURL)?t.certificateURL:void 0})}}function dA(t){if(t){var n=uA(t);if(n)return Kr({},n,{keys:$(t.keys)?t.keys.map(function(t){return function(t){if(!t||!tt(t))return;var n=t.id,i=t.value;if(!it(n)||!it(i))return;return{id:n,value:i}}(t)}).filter(J):void 0})}}function lA(t){if(tt(t))return{useCredentials:rt(t.useCredentials)?t.useCredentials:void 0}}function _A(t){if(tt(t))return t}function gA(t){return t&&$(t)?t.map(function(t){return zm(t)}).filter(J):[ge,le,ye]}var wA,yA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return U(n,t),n}(As),mA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).YI=[],r.ZI=void 0,r.JI=function(t){fs(function(){r.Oo(t)})},r.ZI=i?r.JI:r.Oo,r}U(n,t);var i=n.prototype;return i.$I=function(t){t.Lo(this.ZI),this.YI.push(t)},i.KI=function(t){t.Vo(this.ZI),je(this.YI,t)},i.Lv=function(){this.Mo();for(var t=0,n=this.YI;t<n.length;t++){n[t].Vo(this.ZI)}Je(this.YI)},n}(sl),kA=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(mA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(wA||(wA={}));var pA,AA=function(t){function i(n){var i;return(i=t.call(this)||this).tN=void 0,i.nN=void 0,i.iN=!1,i.rN=!1,i.eN=void 0,i.sN=void 0,i.uN=void 0,i.$d=void 0,i.oN=function(){return i.hN()},i.aN=function(){return i.cN()},i.uN=n,i.tN=i.nN=i.eN=i.sN=wA.INLINE,i.uN.Po(Yp.ll,i.oN),i.uN.Po(Yp.$l,i.aN),i.fN(),i}U(i,t);var r=i.prototype;return r.tl=function(){return t=this,i={get currentMode(){return t.vN()},requestMode:function(n){var i=TA(n);i&&t.dN(i)},supportsMode:function(n){var i=TA(n);return!!i&&t.lN(i)},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},(n=new mA(i,!0)).$I(t),i;var t,n,i},r.dN=function(t){this._N(t,t)},r._N=function(t,n){this.nN!==n&&(this.iN=!0,this.tN=t,this.gN(n,this.nN),t!==wA.FULLSCREEN&&(this.eN=t),this.iN=!1,this.fN())},r.vN=function(){return this.rN?wA.FULLSCREEN:wA.INLINE},r.lN=function(t){switch(t){case wA.FULLSCREEN:return this.uN.NI;case wA.INLINE:return!0}return!1},r.fN=function(){if(!this.iN){var t=this.nN,n=this.vN();this.nN=n,n!==wA.FULLSCREEN&&(this.sN=n),t!==n&&this.xo(new yA(n))}},r.gN=function(t,n){var i=t===wA.FULLSCREEN;this.rN=i,i!==this.uN.II&&(i?this.uN.qy():this.uN.Gy())},r.hN=function(){if(!this.iN){var t=this.uN.II;this.rN=t,t?this._N(wA.FULLSCREEN,wA.FULLSCREEN):t||this.tN!==wA.FULLSCREEN?this.fN():this._N(this.eN,this.sN)}},r.cN=function(){this.hN(),this.xo(new $l(new To(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Lv=function(){this.uN.Lv(),this.Mo()},L(i,[{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}}]),i}(sl),bA={M_:0,U_:NaN,F_:!1,Qo:void 0,H_:void 0,V_:!1,X_:!0,W_:1,n_:_l.S_,q_:!1,z_:0,G_:0,j_:1};function TA(t){switch(t){case wA.INLINE:case wA.FULLSCREEN:case wA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(pA||(pA={}));var EA,SA,RA,IA,NA,CA,DA,OA,xA=function(){function t(){this.wN=[]}var n=t.prototype;return n.yN=function(t){var n=this.mN.filter(function(n){return n.kN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.pN=function(t){this.wN.push(t)},L(t,[{key:"mN",get:function(){return this.wN}}]),t}();xA.je=new xA,function(t){t.L_="PLAYING",t.Cw="PAUSED",t.AN="SEEK",t.bN="STALLED",t.TN="FAILED",t.EN="INITIAL_BUFFERING",t.SN="NO_ACCESS"}(EA||(EA={})),function(t){t.RN="HTTP_REQUEST_STATUS_CODE_1XX",t.IN="HTTP_REQUEST_STATUS_CODE_2XX",t.NN="HTTP_REQUEST_STATUS_CODE_3XX",t.CN="HTTP_REQUEST_STATUS_CODE_4XX",t.DN="HTTP_REQUEST_STATUS_CODE_5XX",t.ON="BUFFER_LENGTH",t.xN="BYTES_RECEIVED",t.PN="SEGMENT_READ_BITRATE",t.BN="SEGMENT_PROFILE_BITRATE",t.LN="NUMBER_OF_FRAMES_DROPPED",t.MN="PLAYBACK_POSITION",t.UN="NUMBER_OF_FRAMES_DECODED",t.FN="PLAYBACK_DELTA_TO_ORIGIN",t.HN="STREAM_DELTA_TO_ORIGIN",t.VN="ORIGIN_TIMESTAMP"}(SA||(SA={})),function(t){t.XN="MANIFEST_URI",t.WN="ASSET_DURATION",t.qN="NUMBER_OF_CONTENT_PROFILES",t.zN="CDN",t.GN="CONTENT_TITLE",t.jN="SERVICE_NAME",t.QN="CONTENT_TYPE",t.YN="CONTENT_DESCRIPTION"}(RA||(RA={})),function(t){t.ZN="shutdown_normal_shutdown"}(IA||(IA={})),function(t){t.JN="session/",t.$N="internalError/",t.KN="drmError/",t.tC="caError/",t.nC="networkError/"}(NA||(NA={})),function(t){t.iC="userAction",t.rC="endOfStreamReached"}(CA||(CA={})),function(t){t.PAUSE="eC",t.RESUME="sC"}(DA||(DA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(OA||(OA={}));var PA,BA,LA,MA,UA,FA="agama";function HA(t){return function(t){switch(t){case PA.NONE:case PA.HORIZONTAL:case PA.VERTICAL:return!0;default:return!1}}(t)?t:PA.NONE}function VA(t){switch(t){case"":return PA.NONE;case"horizontal":return PA.HORIZONTAL;case"vertical":return PA.VERTICAL;default:throw new v}}function XA(t){return{useSeamlessPeriodSwitch:WA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function WA(t){if(!t||!it(t))return BA.SR;switch(t){case"always":return BA.uC;case"never":return BA.oC;default:return BA.SR}}function qA(t){return{discontinuityAlignment:zA(null==t?void 0:t.discontinuityAlignment)}}function zA(t){if(!t||!it(t))return LA.SR;switch(t){case"playlist":return LA.hC;case"media":return LA.aC;default:return LA.SR}}function GA(t,n,i){var r=function(t,n){var i=fl.A_;t.useCredentials?i=fl.p_:t.crossOrigin&&(i=ml(t.crossOrigin));i===fl.A_&&n&&n.vr&&n.vr[360]&&(i=fl.k_);return{useCredentials:i===fl.p_,crossOrigin:i}}(t,n),e=r.useCredentials,s=r.crossOrigin,u=t.liveOffset;J(u)||(u=i&&J(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;J(o)||(o=n&&J(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return J(h)||(h=i&&J(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:e,liveOffset:u,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:J(t.dash)?XA(t.dash):void 0,hls:J(t.hls)?qA(t.hls):void 0}}function jA(t){if(null!==t)return t}function QA(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:jA(t.streamActivityMonitorID),adTagParameters:tt(t.adTagParameters)?t.adTagParameters:{},authToken:jA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?Kr({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void b.yu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void b.yu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?Kr({},i,{availabilityType:"live",assetKey:s}):void b.yu("A Live DAI configuration was provided without valid assetKey which is required.")}b.yu("A DAI configuration was provided without a valid availabilityType which is required.")}function YA(t){switch(t.integration){case"google-dai":return QA(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function ZA(t,n,i){var r=GA(t,n,i),e=jA(t.src),s=t.type;return s||(s=t.src?yl(t.src):void 0),Kr({},r,{src:e,type:s,contentProtection:function(t,n){var i;i=J(t.contentProtection)?t.contentProtection:J(t.drm)?t.drm:J(n)&&J(n.contentProtection)?n.contentProtection:J(n)&&J(n.drm)?n.drm:void 0;return JA(i)}(t,n),ssai:J(t.ssai)?YA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function JA(t){if(!Mm(t)||!t.integration)return t;switch(t.integration){case sm:return n=t,i=qm(ae.Ju,n),r=qm(ae.Zu,n),e=n[ae.$u]&&qm(ae.$u,n),Kr({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function $A(t){if(!t)return!0;var n,i,r=!(Sl(n=t.sources)||K(n)&&Sl(n[0]))||Rl(t.sources),e=!t.ads||(!(i=t.ads)||$(i)&&0===i.length),s=""!==t.poster&&!t.poster;return r&&e&&s}function KA(t){if(t&&t.sources)return function t(n){if(it(n))return n;if(El(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function tb(t,n,i){return bl(t)?function(t,n,i){var r=Kr({},Il(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:MA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:UA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,it(e)?e:K(e)&&it(e[0])?e:tt(s=e)&&it(s.userId)&&(K(s.externalId)||it(s.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,s;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return UA.CHANNEL;case"event":return UA.EVENT;case"asset":default:return UA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Ud(t.contentProtected));t.assetInfo?r.assetInfo=Ud(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(u=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!rt(o.adImpressions)&&o.adImpressions,a=!!rt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=rt(o.linearAdData)?o.linearAdData:u!==UA.ASSET):u!==UA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=ib(r=nb(r,t),n,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var r=Nl(),e=n&&(n.contentProtection||n.drm);if(it(t)){if(r.src=t,r.type=yl(t),e){var s=eA(e);r.contentProtection=JA(s)}}else if(El(t)||Al(t)){r.src=t.src,r.type=t.type||yl(t.src),r.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===vl.T_||t.type===vl.E_}(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u);var o=t.contentProtection||t.drm||e,h=eA(o);r.contentProtection=JA(h),t.ssai&&(r.ssai=YA(t.ssai)),r=nb(r,t)}return r=ib(r,n,i)}(t,n,i)}function nb(t,n){n.useCredentials?t.crossOrigin=fl.p_:n.crossOrigin&&(t.crossOrigin=ml(n.crossOrigin)),it(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Ud(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Ud(n.useNativePlayback)),n.dash&&(t.dash=XA(n.dash)),n.hls&&(t.hls=qA(n.hls));var i=void 0!==n.experimentalRendering?Ud(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Ud(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function ib(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!J(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!J(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===fl.A_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=fl.k_),t.useCredentials=t.crossOrigin===fl.p_,it(e)&&!t.timeServer&&(t.timeServer=e),t}function rb(t){var n={src:""};if(t&&t.src){if(n.src=Vd(t.src),"default"in t&&(n.default=Ud(t.default)),n.kind=ey(t.kind),function(t){switch(t){case tg.DEFAULT:case tg.SRT:case tg.TTML:case tg.WEBVTT:case tg.EMSG:case tg.EVENT_STREAM:case tg.ID3:case tg.CEA608:case tg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function eb(t,n){if(nt(t))try{return n.yN(t).cC(t)}catch(t){return}}function sb(t){return it(t.sources)&&""!==t.sources||tt(t.sources)&&it(t.sources.src)}function ub(t){return t.integration===pA.SPOTX&&!w(t.id)}function ob(t){return"freewheel"===t.integration}function hb(t,n,i){if(void 0===i&&(i=xA.je),$A(t))return{sources:[Nl()]};var r=Pd(t);if(r.sources=function(t,n,i){if(Sl(t))return[tb(t,n,i)];if(K(t)&&Sl(t[0])){for(var r=[],e=0;e<t.length;e++){var s=t[e];r.push(tb(s,n,i))}return r}return[Nl()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!K(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var s=e[r];(s=eb(s,n))&&(sb(s)||ub(s)||ob(s))&&i.push(s)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s,u,o,h=!Rl(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!K(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=rb(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=Vd(r.poster)),"vr"in r&&(r.vr=(s=r.vr,(u=s||{}).stereoMode=HA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?VA(u.stereoMode):PA.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Dl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Pd(t),r=function(r){var e=n[r],s=!t.some(function(t){return t.integration===e.integration});s&&e.integration!==FA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Kl(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(PA||(PA={})),function(t){t.SR="auto",t.uC="always",t.oC="never"}(BA||(BA={})),function(t){t.SR="auto",t.hC="playlist",t.aC="media"}(LA||(LA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(MA||(MA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(UA||(UA={}));var ab=function(){function t(t){this.fC=t}return t.prototype.vC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.fC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.fC.indexOf(t.charAt(n))<<18|this.fC.indexOf(t.charAt(n+1))<<12|(s=this.fC.indexOf(t.charAt(n+2)))<<6|(u=this.fC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.dC=function(t,n){var i,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.fC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.fC.charAt(r)+this.fC.charAt(e)+this.fC.charAt(s)+this.fC.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Cm=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.lC=new t(t.Cm.vC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function cb(t){return"string"==typeof t}function fb(t){return"number"==typeof t}var vb={}.toString;var db,lb=Array.isArray||function(t){return"[object Array]"===vb.call(t)};function _b(t,n){return lb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(db||(db={}));var gb,wb=d.keys(db).map(function(t){return db[t]});function yb(t){return-1!==wb.indexOf(t)}function mb(t){try{var n=ab.lC.vC(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=cb(t.key),r=cb(t.customer_id),e=fb(t.generation_date),s=fb(t.expiration_date),u=_b(t.domains_page,cb),o=_b(t.domains_source,cb),h=_b(t.sdks,yb),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function kb(){return gb||(gb={vv:kr.href,_C:mr.parent&&mr.parent!==r,gC:bb()}),gb}var pb,Ab=["http:","https:","ftp:","ws:","wss:"];function bb(){try{return mr.top.location.href}catch(t){return mr&&mr.document&&mr.document.referrer}}!function(t){t[t.wC=0]="wC",t[t.yC=1]="yC",t[t.mC=2]="mC"}(pb||(pb={}));var Tb,Eb=function(t,n,i,r,e,s,u,o){void 0===e&&(e=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.kC=t,this.pC=n,this.AC=i,this.bC=r,this.TC=e,this.EC=s,this.SC=u,this.RC=o};!function(t){t.yC="expired",t.IC="invaliddomain",t.NC="invalidsource",t.$l="error"}(Tb||(Tb={}));var Sb=function(){function t(t,n,i){this.DC=void 0,this.OC=t,this.xC=n,this.BC=i,this.DC=Ob(this.BC)}var n=t.prototype;return n.LC=function(t,n){var i=this;if(!$A(t)&&0!==n.AC.length&&!Nb(n.AC)){var r=[];if(Sl(t.sources)?r=[t.sources]:K(t.sources)&&(r=t.sources),!r.every(function(t){return i.MC(t,n)})){var e=Tb.NC,s=Pb.UC(e);throw new To(Rb(e),s)}}},n.FC=function(n){return this.HC(n.SC)&&this.VC(n)?t.XC(n.bC)?pb.wC:pb.yC:pb.mC},n.HC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.WC(t)})},n.WC=function(t){return"ios"===function(t){switch(t){case db.ANDROID:return P.dr;case db.ANDROIDTV:case db.FIRETV:return P._r;case db.IOS:return P.gr;case db.TVOS:return P.wr;case db.CHROMECAST:case db.CHROMECASTCAF:return P.yr;default:return P.cr}}(t)},t.XC=function(t){var n=Number(new Date);return!!t&&n<=t},n.VC=function(t){return!(this.DC&&0!==t.pC.length&&!Nb(t.pC))||!!(this.DC&&this.qC(t.pC)&&this.zC(t.pC))},n.qC=function(t){return Cb(this.BC.vv,t)},n.zC=function(t){if(!this.BC._C)return!0;if(this.OC)return!0;var n=this.GC();return!!n&&Cb(n,t)},n.GC=function(){if(this.BC._C){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.BC.gC?this.BC.gC:void 0}},n.MC=function(n,i){return!!t.jC(n,i.AC)},t.jC=function(t,n){return Cb(this.QC(t),n)},t.QC=function(t){return it(t)?t:El(t)&&t.src||""},t}();function Rb(t){switch(t){case Tb.IC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Tb.NC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Tb.yC:return n.ErrorCode.LICENSE_EXPIRED;case Tb.$l:return n.ErrorCode.LICENSE_ERROR}}function Ib(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+e+u+e+u+e+u+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Nb(t){return t.some(function(t){return"*"===t})}function Cb(t,n){var i=b.Du(t);if(!Db(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Ib(i.hostname,e))return!0;if(Ib(Pf(t),e))return!0}return!1}function Db(t){return-1!==Ab.indexOf(t.protocol)}function Ob(t){var n=b.Du(t.vv);return Db(n)&&!Ib(n.hostname,"localhost")&&!function(t){return Ib(t.hostname,"theoplayer.doubleclick.net")}(n)}var xb,Pb=function(){function t(){}return t.UC=function(t){return t===Tb.IC?this.YC:t===Tb.NC?this.ZC:t===Tb.yC?this.JC:this.$C},t}();function Bb(t){var n=[t.PA,t.KC,t.tD];switch(t.KC){case xb.nD:n.push(t.e_);break;case xb.iD:n.push(t.M_),n.push(t.Qo);break;case xb.rD:n.push(t.Qo)}return n}Pb.$C="The license for this player is invalid.",Pb.JC="The usage license for this video player has expired.",Pb.YC="The current domain is incompatible with the license for this player.",Pb.ZC="The provided video source is incompatible with the license for this player.",function(t){t[t.nD=1]="nD",t[t.iD=4]="iD",t[t.rD=5]="rD"}(xb||(xb={}));for(var Lb=new Array(256),Mb=0;Mb<256;Mb+=1)Lb[Mb]=(Mb<16?"0":"")+Mb.toString(16);function Ub(){var t=Zt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Lb[255&n]+Lb[n>>>8&255]+Lb[n>>>16&255]+Lb[n>>>24&255]+"-"+Lb[255&i]+Lb[i>>>8&255]+"-"+Lb[i>>>16&15|64]+Lb[i>>>24&255]+"-"+Lb[63&r|128]+Lb[r>>>8&255]+"-"+Lb[r>>>16&255]+Lb[r>>>24&255]+Lb[255&e]+Lb[e>>>8&255]+Lb[e>>>16&255]+Lb[e>>>24&255]}var Fb=function(){function t(t){this.fC=void 0,this.fC=t}var n=t.prototype;return n.vC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.fC.indexOf(t.charAt(n))<<18|this.fC.indexOf(t.charAt(n+1))<<12|(s=this.fC.indexOf(t.charAt(n+2)))<<6|(u=this.fC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.dC=function(t){var n,i,r,e,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.fC.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,r=n>>12&63,e=n>>6&63,s=63&n,h[u/3]=this.fC.charAt(i)+this.fC.charAt(r)+this.fC.charAt(e)+this.fC.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function Hb(){return b.vu()}Fb.Cm=new Fb(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Fb.lC=new Fb(Fb.Cm.vC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Vb,Xb="theoplayer-session-id";function Wb(){if(!Vb){var t=Ho.ih(Xb);t?Vb=t:(Vb=Ub(),Ho.Va(Xb,Vb))}return Vb}var qb=/[^\x00-\x7E]/g;function zb(t){return"\\u"+Oe(t.charCodeAt(0).toString(16),4,"0")}var Gb=0,jb=1,Qb=6e4;function Yb(t){var n,i,r,e,s,u=(n=function(t){return[t.eD,t.Hh,t.kC,t.Yk,t.sD,t.uD,t.oD.map(Bb)]}(t),i=[],r=n,e=function(t,n){if(tt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,s).replace(qb,zb));return Fb.lC.dC(u)}var Zb=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=Fb.Cm),void 0===e&&(e=Gb),void 0===s&&(s=jb),this.hD=[],this.aD=null,this.cD=0,this.fD="unknown",this.vD=0,this.dD=function(){Hb()-u.cD>Qb&&u.ar()},this.lD=function(){u.ar(!0)},this.sE=t,this.Bb=n,this._D=i,this.gD=r,this.wD=e,this.yD=s,yr.mD(this.lD),a(this.dD,Qb)}var n=t.prototype;return n.kD=function(){return Boolean(this.sD)},n.pD=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._D.bD();case 2:if(t.sent.RC){t.next=5;break}return t.abrupt("return");case 5:return i={KC:xb.nD,tD:Zt(),e_:n},t.next=8,this.TD(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ED=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={KC:xb.iD,tD:Zt(),M_:i,Qo:n},t.next=3,this.TD(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.SD=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={KC:xb.rD,tD:Zt(),Qo:n},t.next=3,this.TD(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.TD=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._D.bD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.gD.dC(i.kC)){t.next=6;break}if(n.KC===xb.rD){t.next=6;break}return t.abrupt("return");case 6:if(n.KC===xb.nD?this.RD():this.kD()||this.RD(),n.PA=this.vD++,this.hD.push(n),(r=n.KC)!==xb.nD&&r!==xb.rD){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.hD.length>this.wD)){t.next=19;break}return t.next=17,this.ND();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.hD.length>0)){t.next=6;break}return t.next=4,this.ND(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.CD=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._D.bD();case 2:return i=t.sent,t.abrupt("return",{eD:Zt(),Hh:Wb(),kC:this.gD.dC(i.kC)||"dev",Yk:this.sE,sD:this.aD,uD:this.fD,oD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ND=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.hD.splice(0,this.yD),t.next=4,this.CD(i);case 4:r=t.sent,n?this.Bv(r):this.DD(r),this.cD=Hb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.DD=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Yb(n),r=new Sf({vv:"https://license.theoplayer.com",jf:i,xv:!1,ov:zo.Je,uv:{"Content-Type":Sk.dE},Cv:4e3,Nv:pf.POST}),t.prev=2,t.next=5,this.Bb.cv(r);case 5:return e=t.sent,t.next=8,e.qf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Bv=function(t){var n=Yb(t);this.Bb.Bv({vv:"https://license.theoplayer.com",jf:n,Gf:Sk.dE})},n.RD=function(){this.kD()&&this.ar(),this.aD=Ub(),this.vD=0},n.Lv=function(){yr.OD(this.lD),this.ar()},L(t,[{key:"oD",get:function(){return this.hD}},{key:"sD",get:function(){return this.aD}}]),t}();var Jb=!Q.me&&!Q.Ne;function $b(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Kb=function(){function t(t){this.AR=void 0,this.$d=void 0,this.xD=void 0,this.AR=t}var n=t.prototype;return n.PD=function(t){if(!t||!t.drawImage)return!1;var n=this.AR.ey();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.BD=function(t,n,i,r,s,u){if(!t||!t.texImage2D)return!1;var o=this.AR,h=o.ey();if(!h)return!1;if(!Jb){this.xD||(this.xD=e.createElement("canvas"));var a=this.xD,c=a.getContext("2d"),v=o.G_,d=o.z_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===v&&_===d||(a.width=v,a.height=d),c.drawImage(h,0,0,v,d);var g=!1;v>0&&$b(c,v-1,0)&&(a.width=l,g=!0),d>0&&$b(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,v,d),h=a}try{t.texImage2D(n,i,r,s,u,h)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},L(t,[{key:"Kd",get:function(){return this.$d||(this.$d=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.PD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,s,u){return t.BD(n,i,r,e,s,u)}}));var t}}]),t}(),tT=function(t){function n(n,i){var r;return(r=t.call(this,"LD")||this).cu=n,r.Ip=i,r}return U(n,t),n.prototype.tl=function(){return new nT(this.cu,this.Ip)},n}(yd),nT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return U(n,t),n}(As),iT=function(t,n){this.wy=void 0,this.MD=void 0,this.wy=t,this.MD=n},rT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).UD=void 0,r.FD=0,r.HD=0,r.VD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.HD=n.width,r.FD=n.height,r.MD(r.HD,r.FD)}},r.UD=new mr.ResizeObserver(r.VD),r.UD.observe(r.wy),r}return U(n,t),n.prototype.Lv=function(){this.UD.disconnect()},L(n,[{key:"XD",get:function(){return this.FD}},{key:"WD",get:function(){return this.HD}}]),n}(iT),eT=0;function sT(t){var n=Hb(),i=l.max(0,16-(n-eT)),r=o(function(){return t(n+i)},i);return eT=n+i,r}var uT,oT=h,hT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,aT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function cT(){return uT||(uT=mr&&mr.document&&mr.document.createElement("span")),uT}hT&&aT||(hT=sT,aT=oT),hT=hT.bind(t),aT=aT.bind(t);var fT=["Webkit","Moz","O","ms"],vT=(function(){var t=!1;try{if(void 0!==mr&&"function"==typeof mr.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});mr.addEventListener("testPassiveEventSupport",S,n),mr.removeEventListener("testPassiveEventSupport",S,n)}}catch(t){}}(),ne());function dT(t){return vT.has(t)||vT.set(t,function(t){var n=cT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<fT.length;r++){var e=fT[r],s=e+i;if(void 0!==n.style[s])return s}return t}(t)),vT.get(t)}function lT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function _T(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[dT("transition")]="0s"}var gT=function(t){function n(n,i,s){var u;(u=t.call(this,n,i)||this).qD=void 0,u.zD=0,u.HD=NaN,u.FD=NaN,u.GD=void 0,u.jD=void 0,u.QD=void 0,u.YD=void 0,u.ZD=void 0,u.Cl=function(){u.jD.style.width=1e5+"px",u.jD.style.height=1e5+"px",u.GD.scrollLeft=1e5,u.GD.scrollTop=1e5,u.QD.scrollLeft=1e5,u.QD.scrollTop=1e5,0===u.QD.scrollTop&&hT(u.Cl)},u.JD=function(){var t=u.WD,n=u.XD;u.MD(t,n),u.HD=t,u.FD=n,u.Cl(),u.zD=0},u.$D=function(){if(!u.zD){var t=u.WD,n=u.XD;t===u.HD&&n===u.FD||(u.zD=hT(u.JD))}},u.KD=function(){u.ZD||(u.ZD=o(u.tO,66))},u.tO=function(){u.ZD=void 0,u.nO()},u.nO=function(){u.$D()};var h=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");s||"static"!==h||(n.style.position="relative");var a,c=e.createElement("div");return u.qD=c,u.GD=e.createElement("div"),u.jD=e.createElement("div"),u.QD=e.createElement("div"),u.YD=e.createElement("div"),lT(u.GD),lT(u.QD),_T(u.jD),_T(a=u.YD),a.style.width="200%",a.style.height="200%",c.appendChild(u.GD),c.appendChild(u.QD),u.GD.appendChild(u.jD),u.QD.appendChild(u.YD),n.appendChild(c),u.GD.addEventListener("scroll",u.$D),u.QD.addEventListener("scroll",u.$D),r&&r.addEventListener("resize",u.KD),u.$D(),u}return U(n,t),n.prototype.Lv=function(){aT(this.zD),this.zD=0,this.GD.removeEventListener("scroll",this.$D),this.QD.removeEventListener("scroll",this.$D),Er(this.qD),r&&r.removeEventListener("resize",this.KD)},L(n,[{key:"XD",get:function(){return this.wy.getBoundingClientRect().height||this.FD||0}},{key:"WD",get:function(){return this.wy.getBoundingClientRect().width||this.HD||0}}]),n}(iT),wT=function(t){function n(n){var i;return(i=t.call(this)||this).wy=void 0,i.UD=void 0,i.VD=function(t,n){i.xo(new tT(t,n))},i.wy=n,i}U(n,t);var i=n.prototype;return i.Gh=function(t){this.UD||("function"==typeof mr.ResizeObserver?this.UD=new rT(this.wy,this.VD):this.UD=new gT(this.wy,this.VD,t))},i.Lv=function(){this.Mo(),this.UD&&(this.UD.Lv(),this.UD=void 0)},L(n,[{key:"XD",get:function(){return this.UD?this.UD.XD:0}},{key:"WD",get:function(){return this.UD?this.UD.WD:0}}]),n}(ks),yT=function(t){function n(){return t.call(this,Yp.ll)||this}return U(n,t),n}(As);var mT=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{iO:i[0],rO:i[1],eO:i[2],sO:i[3],uO:i[4],oO:i[5]}}}(),kT=function(t){function n(){return t.call(this,Yp.RI)||this}return U(n,t),n}(As),pT=function(t){function n(i){var r;return(r=t.call(this)||this).wy=void 0,r.NI=void 0,r.II=!1,r.hO=function(){return r.oN()},r.aO=function(){return r.aN()},r.wy=i,r.NI=n.cO(i),e.addEventListener(mT.uO,r.hO),r.oN(),r}U(n,t),n.cO=function(t){return Boolean(mT&&e[mT.sO]&&mT.iO in t)};var i=n.prototype;return i.qy=function(){var t=this.wy[mT.iO]();t&&t.then?t.then(this.hO,this.aO):(e.removeEventListener(mT.oO,this.aO),e.addEventListener(mT.oO,this.aO))},i.Gy=function(){var t=e[mT.rO]();t&&t.then?t.then(this.hO,this.aO):(e.removeEventListener(mT.oO,this.aO),e.addEventListener(mT.oO,this.aO))},i.oN=function(){var t=this.II,n=this.wy===e[mT.eO];this.II=n,t!==n&&this.xo(new yT)},i.aN=function(){this.xo(new Kp)},i.Lv=function(){this.Mo(),e.removeEventListener(mT.uO,this.hO),e.removeEventListener(mT.oO,this.aO)},n}(ks),AT=function(t){function n(i){var r;return(r=t.call(this)||this).wy=void 0,r.NI=void 0,r.II=!1,r.hO=function(){return r.oN()},r.wy=i,r.NI=n.cO(i),r.wy.addEventListener("webkitbeginfullscreen",r.hO),r.wy.addEventListener("webkitendfullscreen",r.hO),r.wy.addEventListener("webkitpresentationmodechanged",r.hO),r.oN(),r}U(n,t),n.cO=function(t){return Q.me&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.qy=function(){var t=this;this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("fullscreen")?Q.me?requestAnimationFrame(function(){return t.wy.webkitSetPresentationMode("fullscreen")}):this.wy.webkitSetPresentationMode("fullscreen"):this.wy.webkitEnterFullscreen()},i.Gy=function(){this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("inline")?this.wy.webkitSetPresentationMode("inline"):this.wy.webkitExitFullscreen()},i.oN=function(){var t,n=this.II;t=this.wy.webkitPresentationMode?"fullscreen"===this.wy.webkitPresentationMode:!!this.wy.webkitDisplayingFullscreen,this.II=t,n!==t&&this.xo(new yT)},i.Lv=function(){this.Mo(),this.wy.removeEventListener("webkitbeginfullscreen",this.hO),this.wy.removeEventListener("webkitendfullscreen",this.hO),this.wy.removeEventListener("webkitpresentationmodechanged",this.hO)},n}(ks),bT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).fO=[],n.vO=void 0,n.rN=!1,n.oN=function(){var t=n.rN,i=n.dO();t!==i&&(n.rN=i,n.xo(new yT))},n}U(n,t);var i=n.prototype;return i.qy=function(){this.vO?this.vO.qy():this.xo(new Kp)},i.Gy=function(){for(var t=0,n=this.fO;t<n.length;t++){var i=n[t];i.II&&i.Gy()}},i.lO=function(t){this.vO=t},i._O=function(t){this.fO.push(t),t.Po(Yp.ll,this.oN),t.Po(Yp.$l,this.Oo),this.oN()},i.gO=function(t){je(this.fO,t),t.Uo(Yp.ll,this.oN),t.Uo(Yp.$l,this.Oo)},i.dO=function(){for(var t=0,n=this.fO;t<n.length;t++){if(n[t].II)return!0}return!1},i.Cl=function(){this.vO=void 0,this.rN=!1;for(var t=this.fO.slice(),n=0;n<t.length;n++){var i=t[n];this.gO(i),i.Lv()}this.oN()},i.Lv=function(){this.Mo(),this.Cl()},L(n,[{key:"NI",get:function(){return!!this.vO&&this.vO.NI}},{key:"II",get:function(){return this.rN}}]),n}(ks),TT=function(t){function n(n,i){var r;return(r=t.call(this)||this).AR=void 0,r.wO=void 0,r.yO=void 0,r.mO=!1,r.kO=function(){return r.Bh()},r.oN=function(t){r.mO||r.xo(t)},r.AR=n,r.wO=i,r.yO=tA,r.pO(),r.AR.Po(qo.tc,r.kO),r.Bh(),r}U(n,t);var i=n.prototype;return i.qy=function(){this.wO&&this.yO.qy()},i.Gy=function(){this.yO.Gy()},i.pO=function(){this.yO.Po(Yp.ll,this.oN),this.yO.Po(Yp.$l,this.Oo)},i.AO=function(){this.yO.Uo(Yp.ll,this.oN),this.yO.Uo(Yp.$l,this.Oo)},i.Bh=function(){var t=this.yO,n=this.AR.sy();if(t!==n){this.mO=!0;var i=this.II,r=this.NI;i&&this.Gy(),this.AO(),this.yO=n,this.pO(),i&&!this.II&&this.NI?this.qy():this.Gy(),this.mO=!1,r!==this.NI&&this.xo(new kT),i!==this.II&&this.xo(new yT)}},i.Lv=function(){this.Mo(),this.AO(),this.AR.Uo(qo.tc,this.kO)},L(n,[{key:"NI",get:function(){return!!this.wO&&this.yO.NI}},{key:"II",get:function(){return this.yO.II}}]),n}(ks);function ET(t){var n;return{get url(){return t.vv},get method(){return t.Nv},get headers(){return n||(n=t.uv.Nc()),n},get body(){return t.jf},get useCredentials(){return t.xv},get type(){return CT(t.io)},get subType(){return OT(t.Dv)},get mediaType(){return PT(t.Ov)},get responseType(){return RT(t.ov)}}}function ST(t){switch(t.toLowerCase()){case"arraybuffer":return zo.Sc;case"json":return zo.Rc;case"stream":return zo.Ic;case"text":default:return zo.Je}}function RT(t){return t}function IT(t){switch(t.toUpperCase()){case"POST":return pf.POST;case"PUT":return pf.PUT;case"DELETE":return pf.DELETE;case"HEAD":return pf.HEAD;case"OPTIONS":return pf.OPTIONS;case"GET":default:return pf.GET}}function NT(t){switch(t.toLowerCase()){case"manifest":return Af._v;case"segment":return Af.gv;case"content-protection":return Af.wv;default:return Af.lv}}function CT(t){return t}function DT(t){switch(t.toLowerCase()){case"initialization-segment":return bf.yv;case"fairplay-license":return bf.mv;case"fairplay-certificate":return bf.kv;case"widevine-license":return bf.pv;case"widevine-certificate":return bf.Av;case"playready-license":return bf.bv;case"clearkey-license":return bf.Tv;case"aes128-key":return bf.Ev;default:return bf.lv}}function OT(t){return t}function xT(t){switch(t.toLowerCase()){case"audio":return Tf.Sv;case"video":return Tf.Rv;case"text":return Tf.Je;case"image":return Tf.Iv;case"":default:return Tf.lv}}function PT(t){return t}var BT=function(){function t(t,n){this.bO=new Wu,this.TO=[],this.$d=void 0,this.EO=!1,this.Qv=void 0,this.SO=0,this.RO=t,this.IO=n}var n=t.prototype;return n.Uk=function(){this.EO=!0,this.bO.wh(null)},n.NO=function(){this.bO.yh(new Kc(this.TO))},n.CO=function(t){if(!this.DO)throw new v("Cannot respond more than once");if(!tt(t))throw new v("Expected valid response");this.Qv=this.OO(t),this.Uk()},n.xO=function(){try{var t=this.IO(this.Kd);t?this.PO(t):this.BO||this.LO||this.Uk()}catch(t){this.TO.push(t),this.NO()}},n.PO=function(t){if(this.LO)throw new f("Request has been redirected or a response already exists");if(et(t))this.MO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new Wu;try{var i=t(function(t){t?n.yh(t):n.wh(void 0)});et(i)&&n.wh(i)}catch(t){n.yh(t)}this.MO(n.gh)}},n.MO=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.SO++,t.next=4,n;case 4:this.SO--,this.BO||this.LO||(this.TO.length?this.NO():this.Uk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.SO--,this.TO.push(t.t0),this.BO||this.LO||this.NO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"UO",get:function(){return this.bO.gh}},{key:"Kd",get:function(){return this.$d||(this.$d=this.FO()),this.$d}},{key:"LO",get:function(){return this.EO}},{key:"DO",get:function(){return!this.EO}},{key:"BO",get:function(){return this.SO>0}},{key:"Yv",get:function(){return this.Qv}}]),t}(),LT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).HO=void 0,e.HO=r,e.xO(),e}U(n,t),n.VO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Ef({Ds:r,cv:n.cv,ov:n.cv.ov,uv:t.headers,sv:t.status,hv:t.statusText,fv:t.url,av:!0},n)};var i=n.prototype;return i.FO=function(){return i=ET((t=this).cv),{get closed(){return!t.DO},get request(){return i},get url(){return t.vv},get status(){return t.sv},get statusText(){return t.hv},get headers(){return n||(n=t.uv.Nc()),n},get body(){return t.jf},respondWith:function(n){return t.CO(n)},waitUntil:function(n){return t.PO(n)}};var t,n,i},i.OO=function(t){return n.VO(t,this.RO,this.HO)},L(n,[{key:"jf",get:function(){return this.HO}},{key:"uv",get:function(){return this.RO.uv}},{key:"cv",get:function(){return this.RO.cv}},{key:"Yv",get:function(){return this.Qv}},{key:"sv",get:function(){return this.RO.sv}},{key:"hv",get:function(){return this.RO.hv}},{key:"vv",get:function(){return this.RO.fv}}]),n}(BT),MT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).XO=void 0,e.WO=void 0,e.WO=r,e.xO(),e}U(n,t);var i=n.prototype;return i.FO=function(){return t=this,{get url(){return t.vv},get method(){return t.Nv},get headers(){return n||(n=t.uv.Nc()),n},get body(){return t.jf},get closed(){return!t.DO},get useCredentials(){return t.xv},get type(){return CT(t.io)},get subType(){return OT(t.Dv)},get mediaType(){return PT(t.Ov)},get responseType(){return RT(t.ov)},redirect:function(n){return t.qO(n)},respondWith:function(n){return t.CO(n)},waitUntil:function(n){return t.PO(n)}};var t,n},i.OO=function(t){var n=this.RO.jf,i=new Ef({Ds:n,uv:{},cv:this.RO,fv:this.RO.vv,ov:this.RO.ov,sv:200,hv:"OK"});return LT.VO(t,i,n)},i.qO=function(t){if(!this.DO)throw new v("Cannot redirect, already redirected or has a response");var n;n=it(t)?{url:t}:t,this.XO=function(t,n){return new Sf({vv:void 0===t.url?n.vv:t.url,Nv:void 0!==t.method?IT(t.method):void 0,uv:t.headers,jf:t.body,xv:t.useCredentials,io:void 0!==t.type?NT(t.type):void 0,Dv:void 0!==t.subType?DT(t.subType):void 0,Ov:void 0!==t.mediaType?xT(t.mediaType):void 0,ov:void 0!==t.responseType?ST(t.responseType):void 0},n)}(n,this.RO),this.Uk()},L(n,[{key:"jf",get:function(){return this.RO.jf}},{key:"DO",get:function(){return this.WO&&!this.EO}},{key:"uv",get:function(){return this.RO.uv}},{key:"Nv",get:function(){return this.RO.Nv}},{key:"zO",get:function(){return this.XO}},{key:"Yv",get:function(){return this.Qv}},{key:"ov",get:function(){return this.RO.ov}},{key:"Cv",get:function(){return this.RO.Cv}},{key:"Io",get:function(){return this.RO.Io}},{key:"io",get:function(){return this.RO.io}},{key:"Dv",get:function(){return this.RO.Dv}},{key:"Ov",get:function(){return this.RO.Ov}},{key:"vv",get:function(){return this.RO.vv}},{key:"xv",get:function(){return this.RO.xv}},{key:"Pv",get:function(){return this.RO.Pv}}]),n}(BT);var UT,FT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new HT(n);return(r=t.call(this,e,i)||this).GO=void 0,r.GO=e,r}U(n,t);var i=n.prototype;return i.jO=function(t){this.GO.jO(t)},i.QO=function(t){this.GO.QO(t)},i.YO=function(t){this.GO.YO(t)},i.ZO=function(t){this.GO.ZO(t)},i.JO=function(t){this.GO.JO(t)},n}(If),HT=function(){function t(t){this.Mv=void 0,this.$O=[],this.KO=[],this.Mv=t}var n=t.prototype;return n.cv=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.tx(n,n.Io);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Lf)){t.next=12;break}return t.next=11,this.nx(t.t0,n.Io);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.ix(i,n.Io);case 15:if(!kf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Uf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Bv=function(t){return this.Mv.Bv(t)},n.tx=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:es(i),r=n,s=0,u=this.$O.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],es(i),(h=new MT(r,o,!e)).LO){t.next=17;break}return t.prev=8,t.next=11,h.UO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.zO&&!e?r=h.zO:h.Yv&&!e&&(e=h.Yv);case 18:s++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Mv.cv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.nx=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Uf?n.Yv:new Ef({Ds:null,cv:n.cv,sv:0,hv:""}),t.next=3,this.ix(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!kf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Uf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ix=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,s=this.KO.slice();case 2:if(!(e<s.length)){t.next=23;break}return u=s[e],es(i),t.next=7,T.resolve(r.fh().Ds(i));case 7:if(o=t.sent,(h=new LT(r,u,o)).LO){t.next=19;break}return t.prev=10,t.next=13,h.UO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.Yv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.jO=function(t){this.$O.unshift(t)},n.QO=function(t){this.$O.push(t)},n.YO=function(t){je(this.$O,t)},n.ZO=function(t){this.KO.unshift(t)},n.JO=function(t){je(this.KO,t)},n.Lv=function(){this.Mv.Lv(),Je(this.$O),Je(this.KO)},t}(),VT=function(){function t(t){this.$d=void 0,this.Bb=t}var n=t.prototype;return n.jO=function(t){this.Bb.jO(t)},n.YO=function(t){this.Bb.YO(t)},n.ZO=function(t){this.Bb.ZO(t)},n.JO=function(t){this.Bb.JO(t)},L(t,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{addRequestInterceptor:function(n){t.jO(n)},removeRequestInterceptor:function(n){t.YO(n)},addResponseInterceptor:function(n){t.ZO(n)},removeResponseInterceptor:function(n){t.JO(n)}})),this.$d}}]),t}(),XT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).$d=void 0,e.ex=function(t){e.xo(t)},e.sx=function(t){e.xo(t)},e.ux=n,e.Bb=i,e.HI=r,e.ux.Po(qo.uc,e.ex),e.ux.Po(qo.sc,e.sx),e}U(n,t);var i=n.prototype;return i.ox=function(t){this.HI.ox(t)},i.jO=function(t){this.Bb.jO(t)},i.YO=function(t){this.Bb.YO(t)},i.ZO=function(t){this.Bb.ZO(t)},i.JO=function(t){this.Bb.JO(t)},i.Lv=function(){this.Mo(),this.ux.Uo(qo.uc,this.ex),this.ux.Uo(qo.sc,this.sx)},L(n,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{get online(){return t.Ey},get estimator(){return n=t.hx,{get bandwidth(){return n.QE},get roundTripTime(){return n.YE}};var n},setEstimator:function(n){t.ox(function(t){if(t)return{get QE(){return Hd(t.bandwidth)},get YE(){return Hd(t.roundTripTime)},jE:function(n){return function(t){if(t)return{ax:function(n){t.markRequestStart(n)},vx:function(n){t.markResponseStart(n)},lx:function(n,i){t.markResponseData(n,i)},_x:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(ET(n)))}}}(n))},addRequestInterceptor:function(n){t.jO(n)},removeRequestInterceptor:function(n){t.YO(n)},addResponseInterceptor:function(n){t.ZO(n)},removeResponseInterceptor:function(n){t.JO(n)},addEventListener:function(n,i){t.Po(n,i)},removeEventListener:function(n,i){t.Uo(n,i)}})),this.$d}},{key:"Ey",get:function(){return this.ux.Ey}},{key:"hx",get:function(){return this.HI.hx}}]),n}(ks);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(UT||(UT={}));var WT=30,qT={type:UT.BANDWIDTH},zT=20,GT=60;function jT(t){var n,i,r,e=Pd(qT);return it(t)?e.type=QT(t):tt(t)&&function(t){switch(t){case UT.PERFORMANCE:case UT.QUALITY:case UT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=QT(t.type)),tt(t)&&tt(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Fd(n.bitrate),w(r)||(i.bitrate=r),i)),e}function QT(t){switch(t){case"bandwidth":return UT.BANDWIDTH;case"performance":return UT.PERFORMANCE;case"quality":return UT.QUALITY}}var YT=function(t){function n(n){var i;return(i=t.call(this,"wx")||this).gx=n,i}return U(n,t),n}(As),ZT=function(t){function n(n){var i;return(i=t.call(this,"mx")||this).yx=n,i}return U(n,t),n}(As),JT=function(t){function n(n){var i;return(i=t.call(this,"Ax")||this).kx=n,i}return U(n,t),n}(As),$T=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).$d=(i=en(n),{get strategy(){return{metadata:(t=i.yx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.yx=jT(t)},get targetBuffer(){return i.gx},set targetBuffer(t){var n=Fd(t);w(n)||(i.gx=n>GT?GT:n)},get bufferLookbackWindow(){return i.kx},set bufferLookbackWindow(t){var n=Fd(t);w(n)||(i.kx=n<=0?WT:n)}}),n.bx=qT,n.Tx=zT,n.Ex=WT,n.Sx=void 0,n.Rx=void 0,n}U(n,t);var i=n.prototype;return i.Ix=function(t){this.Rx=t},i.ox=function(t){this.Sx=t},L(n,[{key:"Nx",get:function(){switch(this.bx.type){case UT.PERFORMANCE:return 0;case UT.QUALITY:return 1/0;case UT.BANDWIDTH:return this.bx.metadata&&void 0!==this.bx.metadata.bitrate?this.bx.metadata.bitrate:8*al.g_();default:return 8*al.g_()}}},{key:"Kd",get:function(){return this.$d}},{key:"yx",get:function(){return this.bx},set:function(t){this.bx=t,this.xo(new ZT(t))}},{key:"gx",get:function(){return this.Tx},set:function(t){this.Tx=t,this.xo(new YT(t))}},{key:"kx",get:function(){return this.Ex},set:function(t){this.Ex=t,this.xo(new JT(t))}},{key:"hx",get:function(){var t;return null!=(t=this.Sx)?t:this.Rx.oR}}]),n}(ks),KT=function(t){function n(){return t.call(this,"_l")||this}return U(n,t),n.prototype.tl=function(){return new tE},n}(yd),tE=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(As),nE=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Cx=void 0,e.hD=void 0,e.Dx=function(t){md(t)&&fs(function(){e.xo(t.Kd)})},e.Cx=n,e.hD=i;for(var s=0,u=e.hD;s<u.length;s++){var o=u[s];e.Cx.Po(o,e.Dx)}return e}return U(n,t),n.prototype.Lv=function(){this.Mo();for(var t=0,n=this.hD;t<n.length;t++){var i=n[t];this.Cx.Uo(i,this.Dx)}},n}(ks),iE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Cx=void 0,r.Dx=function(t){md(t)&&fs(function(){r.xo(t.Kd)})},r.Cx=n,r.Cx.Lo(r.Dx),r}return U(n,t),n.prototype.Lv=function(){this.Mo(),this.Cx.Vo(this.Dx)},n}(sl),rE=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(iE);var eE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).um=0,n.om=1/0,n.$d=void 0,n}U(n,t);var i=n.prototype;return i.Cl=function(){0===this.um&&this.om===1/0||(this.um=0,this.om=1/0,this.xo(new KT))},i.Ox=function(){return new Jp([this.Qy,this.Yy],[!0,!0])},L(n,[{key:"Qy",get:function(){return this.um},set:function(t){if(this.Yy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.um!==t&&(this.um=t,this.xo(new KT))}},{key:"Yy",get:function(){return this.om},set:function(t){if(t<=this.Qy)throw new f("End time of a clip should be larger than the start time.");this.om!==t&&(this.om=t,this.xo(new KT))}},{key:"Kd",get:function(){var t,n,i;return this.$d||(this.$d=(i={get startTime(){return t.Qy},set startTime(n){t.Qy=n},get endTime(){return t.Yy},set endTime(n){t.Yy=n},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},n=new iE(t=this,i),i)),this.$d}}]),n}(sl),sE=function(t){function n(n){var i;return(i=t.call(this)||this).xx=function(t){i.Px(t)||i.xo(t)},i.Bx=n,i.Bx.Lo(i.xx),i}U(n,t);var i=n.prototype;return i.Lx=function(){return this.Bx.Hw},i.uy=function(){return this.Bx.uy()},i.Mx=function(){return this.Bx._y},i.Ux=function(){return this.Bx.vy},i.Fx=function(){return this.Bx.gy},i.Hx=function(t){this.Bx.gy=t},i.Vx=function(){return this.Bx.M_},i.Xx=function(t){this.Bx.M_=t},i.Wx=function(){return this.Bx.U_},i.qx=function(){return this.Bx.wy},i.zx=function(){return this.Bx.F_},i.Gx=function(){return this.Bx.Qo},i.jx=function(){return this.Bx.H_},i.Qx=function(){return this.Bx.yy},i.Yx=function(){return this.Bx.V_},i.Zx=function(t){this.Bx.V_=t},i.Jx=function(){return this.Bx.Ey},i.$x=function(){return this.Bx.X_},i.Kx=function(){return this.Bx.W_},i.tP=function(t){this.Bx.W_=t},i.nP=function(){return this.Bx.Sy},i.iP=function(){return this.Bx.Ry},i.rP=function(t){this.Bx.Ry=t},i.eP=function(){return this.Bx.n_},i.sP=function(){return this.Bx.Iy},i.uP=function(){return this.Bx.q_},i.jw=function(){return this.Bx.jw()},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(i),t.next=3,this.Bx.Qw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.oP=function(){return this.Bx.Xw},i.hP=function(){return this.Bx.z_},i.aP=function(){return this.Bx.Vw},i.cP=function(){return this.Bx.G_},i.fP=function(){return this.Bx.j_},i.vP=function(t){this.Bx.j_=t},i.sy=function(){return this.Bx.sy()},i.ey=function(){return this.Bx.ey()},i.Kw=function(t){this.Bx.Kw(t)},i.ty=function(){this.Bx.ty()},i.iy=function(){this.Bx.iy()},i.$w=function(){this.Bx.$w()},i.zw=function(){this.Bx.zw()},i.qw=function(){this.Bx.qw()},i.ny=function(){this.Bx.ny()},i.Gw=function(){return this.Bx.Gw()},i.Yw=function(){return this.Bx.Yw()},i.Zw=function(){this.Bx.Zw()},i.Jw=function(){this.Bx.Jw()},i.Cl=function(){return this.Bx.Cl()},i.Lv=function(){return this.Bx.Lv()},i.ly=function(){this.Bx.ly()},i.oy=function(t){return this.Bx.oy(t)},i.Px=function(t){return!1},L(n,[{key:"Hw",get:function(){return this.Lx()}},{key:"_y",get:function(){return this.Mx()}},{key:"gy",get:function(){return this.Fx()},set:function(t){this.Hx(t)}},{key:"vy",get:function(){return this.Ux()}},{key:"M_",get:function(){return this.Vx()},set:function(t){this.Xx(t)}},{key:"U_",get:function(){return this.Wx()}},{key:"wy",get:function(){return this.qx()}},{key:"F_",get:function(){return this.zx()}},{key:"Qo",get:function(){return this.Gx()}},{key:"H_",get:function(){return this.jx()}},{key:"Ww",get:function(){return this.Bx.Ww}},{key:"yy",get:function(){return this.Qx()}},{key:"Iw",get:function(){return this.Bx.Iw}},{key:"V_",get:function(){return this.Yx()},set:function(t){this.Zx(t)}},{key:"Ey",get:function(){return this.Jx()}},{key:"X_",get:function(){return this.$x()}},{key:"W_",get:function(){return this.Kx()},set:function(t){this.tP(t)}},{key:"Sy",get:function(){return this.nP()}},{key:"Ry",get:function(){return this.iP()},set:function(t){this.rP(t)}},{key:"n_",get:function(){return this.eP()}},{key:"Iy",get:function(){return this.sP()}},{key:"q_",get:function(){return this.uP()}},{key:"Xw",get:function(){return this.oP()}},{key:"z_",get:function(){return this.hP()}},{key:"Vw",get:function(){return this.aP()}},{key:"G_",get:function(){return this.cP()}},{key:"j_",get:function(){return this.fP()},set:function(t){this.vP(t)}}]),n}(ul),uE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).dP=void 0,e.lP=!1,e._P=void 0,e.gP=!1,e.wP=function(){e.yP(),e.mP()},e.AS=function(){e.kP(),e.mP(),e.pP&&e.M_>=e.dP.Yy-n.AP&&!e.F_&&(e._P=hT(e.AS))},e.bP=function(){e.gP=!0},e.TP=function(){e.gP&&(e.gP=!1,e.mP())},e.dP=r,e.dP.Po("_l",e.wP),e.Bx.Po("timeupdate",e.AS),e}U(n,t);var i=n.prototype;return i.Xx=function(n){var i=this.dP.Ox().KR(n);t.prototype.Xx.call(this,i),this.mP()},i.zx=function(){return t.prototype.zx.call(this)||this.lP},i.sP=function(){return Jp.bI(t.prototype.sP.call(this)).iI(this.dP.Ox()).rR()},i.qw=function(){this.zx()?this.Xx(this.EP.start(0)):this.yP(),t.prototype.qw.call(this),this.mP()},i.Qw=function(){var n=T.coroutine($r.mark(function n(i,r){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return es(r),this.lP=!1,this.dP.Cl(),n.next=5,t.prototype.Qw.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Lv=function(){return this.dP.Uo("_l",this.wP),this.Bx.Uo("timeupdate",this.AS),this.kP(),t.prototype.Lv.call(this)},i.Px=function(n){switch(n.type){case"seeking":return this.xo(n),this.bP(),!0;case"seeked":case"emptied":return this.xo(n),this.TP(),!0;case"ended":if(this.pP)return!0}return t.prototype.Px.call(this,n)},i.kP=function(){this._P&&(aT(this._P),this._P=void 0)},i.mP=function(){var t=this.M_,i=this.pP&&t>=this.dP.Yy-n.nw;this.lP&&!i?(this.lP=!1,this.X_&&this.qw()):this.lP||!i||this.q_||this.gP||(this.lP=!0,this.xo(new ql(t)),this.zw())},i.yP=function(){if(this.U_!==1/0){var t=this.EP,i=Jp.bI(t).KR(this.M_);zt(this.M_,i,n.nw)||this.Xx(i)}},L(n,[{key:"EP",get:function(){return this.sP().length?this.sP():this.dP.Ox().rR()}},{key:"pP",get:function(){return this.dP.Yy<this.U_}}]),n}(sE);uE.AP=1,uE.nw=.001;var oE=function(){function t(){this.SP=void 0,this.SP=!1}return L(t,[{key:"RP",get:function(){return this.SP},set:function(t){this.SP=t}}]),t}(),hE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).SP=void 0,r.IP=!1,r.NP=!1,r.SP=i,r}U(n,t);var i=n.prototype;return i.zx=function(){return!this.SP.RP&&t.prototype.zx.call(this)},i.zw=function(){this.NP=!0,t.prototype.zw.call(this)},i.qw=function(){this.NP=!1,t.prototype.qw.call(this)},i.Px=function(n){if(this.SP.RP)switch(n.type){case"ended":return this.M_=0,this.NP||(this.q_?this.IP=!0:this.qw()),!0;case"seeked":this.IP&&(this.IP=!1,this.qw());break;case"pause":if(this.IP||t.prototype.zx.call(this))return!0}return t.prototype.Px.call(this,n)},n}(sE);var aE=function(){function t(t){var n;this.$d=(n=this,{get currentBandwidthEstimate(){return n.Ay},get corruptedVideoFrames(){return n.ky},get droppedVideoFrames(){return n.my},get totalBytesLoaded(){return n.by},get bufferedSegments(){return n.Ty}}),this.DR=t}return L(t,[{key:"Kd",get:function(){return this.$d}},{key:"ky",get:function(){return this.DR.CP.Iw.ky}},{key:"Ay",get:function(){return this.DR.CP.Iw.Ay}},{key:"my",get:function(){return this.DR.CP.Iw.my}},{key:"DP",get:function(){throw new f("Not implemented")}},{key:"OP",get:function(){throw new f("Not implemented")}},{key:"by",get:function(){return this.DR.CP.Iw.by}},{key:"py",get:function(){return this.DR.CP.Iw.py}},{key:"Ty",get:function(){return this.DR.CP.Iw.Ty}}]),t}();function cE(t){if(!t||!Dr(t))return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{my:n.droppedVideoFrames,ky:n.corruptedVideoFrames||0,py:n.totalVideoFrames}}return{my:t.webkitDroppedFrameCount||0,ky:0,py:t.webkitDecodedFrameCount||0}}var fE=function(t){function n(){return t.call(this,"xP")||this}return U(n,t),n.prototype.tl=function(){return new vE},n}(yd),vE=function(t){function n(){return t.call(this,"castingchange")||this}return U(n,t),n}(As);var dE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).PP=[],n.$d=void 0,n.BP=function(){return n.xo(new fE)},n}U(n,t);var i=n.prototype;return i.LP=function(t){this.PP.push(t),t.Po("statechange",this.BP)},i.Lv=function(){var t=this;this.PP.forEach(function(n){n.Uo("statechange",t.BP)}),Je(this.PP)},L(n,[{key:"MP",get:function(){return this.PP.some(function(t){return t.MP})}},{key:"Kd",get:function(){var t,n,i;return this.$d||(this.$d=(i={get casting(){return t.MP},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},n=new rE(t=this,i),i)),this.$d}}]),n}(ul),lE=function(){function t(){}return t.UP=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Sf({vv:n,ov:zo.Je,Nv:pf.GET}),t.next=4,i.cv(r);case 4:return e=t.sent,t.next=7,e.Ds();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),rs(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.FP=function(t){try{var i=mb(t);return new Eb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new To(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.HP=function(t){void 0===t&&(t=Fb.Cm),b.yu("The baked-in license is used. Please update the configuration with your license.");var n=t.vC(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.vC(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.vC(n)}),e=Number(new Date(Number(t.vC("COD|aHpHa:p3Ceo3Co\"\""))));return new Eb(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Eb(t.kC,t.pC,t.AC,864e13,t.TC,Date.now(),t.SC,t.RC)},t}(),_E=function(){function t(){}return t.Xa=function(){return t.je||(t.je=gE.na()?new gE:new Fo),t.je},t.sh=function(n){t.Xa().sh(n)},t.Ha=function(){t.Xa().Ha()},t.ih=function(n){return t.Xa().ih(n)},t.Va=function(n,i){t.Xa().Va(n,i)},t.VP=function(n){var i=t.ih(n);if(void 0!==i)return g(i)},t.XP=function(n){return"true"===t.ih(n)},t}();_E.je=void 0;var gE=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i.na=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.sh=function(n){t.localStorage.removeItem(n)},r.Ha=function(){t.localStorage.clear()},r.ih=function(n){return t.localStorage[n]},r.Va=function(n,i){t.localStorage[n]=i},i}(_E),wE=l.floor(14399999*l.random()-72e5),yE=function(){function t(t,n,i,r,e,s){this.DC=void 0,this.Bb=t,this.WP=n,this.qP=i,this._D=r,this.zP=e,this.BC=s,this.DC=Ob(s)}var i=t.prototype;return i.GP=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jP(this.zP.license,this.zP.licenseUrl);case 2:n=t.sent,this._D.QP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jP=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o,h,a,c,f,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?s=lE.FP(i):e||(s=lE.HP()),e||(e="https://validate.theoplayer.com/1/"+s.kC),u=this.YP(),!s){t.next=14;break}if((o=this.WP.FC(s))!==pb.wC){t.next=14;break}if(!this.ZP(s.bC)||!this.ZP(null==u?void 0:u.bC)){t.next=13;break}return t.next=10,this.JP(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.WP.FC(u)!==pb.wC){t.next=24;break}if(!this.ZP(null==u?void 0:u.bC)){t.next=23;break}return t.next=20,this.JP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:_E.sh("THEOplayer.license");case 25:return t.next=27,lE.UP(e,this.Bb);case 27:if(!(c=t.sent)){t.next=37;break}if(f=lE.FP(c),this.WP.FC(f)!==pb.wC){t.next=34;break}return _E.Va("THEOplayer.license",c),t.abrupt("return",f);case 34:_E.sh("THEOplayer.license"),t.next=39;break;case 37:if(this.DC||!s||o!==pb.yC||e!=="https://validate.theoplayer.com/1/"+s.kC){t.next=39;break}return t.abrupt("return",lE.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this.$P(null!=(v=s)?v:f,new To(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new To(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.LC=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._D.bD();case 2:if(i=t.sent,!this.ZP(i.bC)){t.next=9;break}return e=null!=(r=this.zP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.kC,t.next=7,this.JP(e);case 7:(s=t.sent)&&(this._D.QP(s),i=s);case 9:if(t.prev=9,(u=this.WP.FC(i))!==pb.mC){t.next=16;break}throw o=Tb.IC,new To(Rb(o),Pb.UC(o));case 16:if(u!==pb.yC){t.next=19;break}throw h=Tb.yC,new To(Rb(h),Pb.UC(h));case 19:this.WP.LC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.KP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.JP=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lE.UP(n,this.Bb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=lE.FP(i),this.WP.FC(r)!==pb.wC){t.next=11;break}return _E.Va("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.ZP=function(t){return!t||Number(new Date)+2592e5+wE>=t},i.YP=function(){var t=_E.ih("THEOplayer.license");if(t)return lE.FP(t)},i.$P=function(t,n){this._D.QP(t),this.KP(n)},i.KP=function(t){throw _t(t.message),this.qP.SD(t.message),t},t}(),mE=function(){function t(){this.tB=void 0,this.nB=new Wu}var n=t.prototype;return n.QP=function(t){this.tB=t,this.nB.wh()},n.bD=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tB){t.next=2;break}return t.abrupt("return",T.resolve(this.tB));case 2:return t.next=4,this.nB.gh;case 4:return t.abrupt("return",this.tB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"iB",get:function(){return this.tB}}]),t}(),kE=function(t){function n(){return t.call(this,"_l")||this}return U(n,t),n.prototype.tl=function(){return new pE},n}(yd),pE=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(As);function AE(t){var n,i={get fontFamily(){return t.rB},set fontFamily(n){t.rB=n},get fontColor(){return t.eB},set fontColor(n){t.eB=n},get fontSize(){return t.sB},set fontSize(n){t.sB=n},get backgroundColor(){return t.uB},set backgroundColor(n){t.uB=n},get windowColor(){return t.oB},set windowColor(n){t.oB=n},get edgeStyle(){return t.hB},set edgeStyle(n){t.hB=n},addEventListener:function(t,i){var r=Xd(t,Vd);n.Po(r,i)},removeEventListener:function(t,i){var r=Xd(t,Vd);n.Uo(r,i)}};return n=new ps(i),t.Po(["_l"],function(t){return n.xo(t.Kd)}),i}var bE,TE,EE={rB:void 0,eB:void 0,sB:void 0,uB:void 0,oB:void 0,hB:void 0,aB:void 0},SE="THEOplayer.textTrackStyle.",RE=function(t){function n(){var i;return(i=t.call(this)||this).cB=void 0,i.$d=void 0,i.cB=n.fB(),i}return U(n,t),n.prototype.Bh=function(t){this.cB=Kr({},this.cB,t),n.vB(this.cB),this.xo(new kE)},n.fB=function(){var t=Kr({},EE);return t.rB=_E.ih(SE+"fontFamily")||t.rB,t.eB=_E.ih(SE+"fontColor")||t.eB,t.sB=_E.ih(SE+"fontSize")||t.sB,t.uB=_E.ih(SE+"backgroundColor")||t.uB,t.oB=_E.ih(SE+"windowColor")||t.oB,t.hB=_E.ih(SE+"edgeStyle")||t.hB,t},n.vB=function(t){_E.Va(SE+"fontFamily",t.rB||""),_E.Va(SE+"fontColor",t.eB||""),_E.Va(SE+"fontSize",t.sB||""),_E.Va(SE+"backgroundColor",t.uB||""),_E.Va(SE+"windowColor",t.oB||""),_E.Va(SE+"edgeStyle",t.hB||"")},L(n,[{key:"dB",get:function(){return this.cB}},{key:"rB",get:function(){return this.cB.rB},set:function(t){this.Bh({rB:t})}},{key:"eB",get:function(){return this.cB.eB},set:function(t){this.Bh({eB:t})}},{key:"sB",get:function(){return this.cB.sB},set:function(t){this.Bh({sB:t})}},{key:"uB",get:function(){return this.cB.uB},set:function(t){this.Bh({uB:t})}},{key:"oB",get:function(){return this.cB.oB},set:function(t){this.Bh({oB:t})}},{key:"hB",get:function(){return this.cB.hB},set:function(t){this.Bh({hB:t})}},{key:"aB",get:function(){return this.cB.aB}},{key:"Kd",get:function(){return this.$d||(this.$d=AE(this)),this.$d}}]),n}(ks),IE=function(t){function n(n,i){var r;(r=t.call(this)||this).lB=void 0,r.Wh=void 0,r.CP=void 0,r._B=void 0,r.jd=void 0,r.dP=void 0,r.SP=void 0,r.gB=void 0,r.wB=void 0,r.HI=void 0,r.WP=void 0,r.yB=void 0,r.mB=void 0,r.FI=void 0,r.kB=!1,r.xw=!1,r.Py=void 0,r.pB=!1,r.AB=void 0,r.bB=void 0,r.TB=void 0,r.EB=void 0,r.SB=void 0,r.RB=function(t){if(!r.pB){r.pB=!0;var n=r.lB,i=U_(t);r.CP.Ul=new rA(r.wy,i,t),vs(n.Lv())}},r.IB=function(t){r.xo(t.Kd)},r.NB=function(t){t.type!==qo.uc&&t.type!==qo.sc&&r.xo(t)};var e=Fd(i.uid);w(e)?r.Py=j_++:r.Py=e,r.Wh=i;var s=b.jd,u=new mE;r._B=new Zb("2.89.1",s,u),r.jd=new FT(s,i.allowMixedContent),r.HI=new $T,r.WP=new Sb(i.isEmbeddable,"2.89.1",kb()),r.SB=new yE(s,r.WP,r._B,u,i,kb()),r.SB.GP().catch(r.RB),r.yB=new wT(n),r.yB.Po("LD",r.IB),r.FI=new RE,r.dP=new eE,r.SP=new oE;var o=new iA(n,i,r.jd,r.HI,r.yB,r.FI);r.HI.Ix(o);var h=o;h=new uE(h,r.CB),h=new hE(h,r.RP),r.lB=h,r.CP=new P_(r.lB),r.CP.Lo(r.NB),r.EB=new aE(en(r)),r.bB=new XT(r.CP,r.jd,r.HI),r.gB=new Kb(en(r)),r.mB=new TT(r.CP,i.allowNativeFullscreen),r.wB=new AA(r.mB),r.yB.Gh();var a=new gr(r.yB,r.FI,1,[H_.Rv]);return r.AB=new wr(a),r.TB=new dE,r}U(n,t);var i=n.prototype;return i.Zx=function(t){this.CP.V_=t,t||this.X_||this.$w()},i.vP=function(t){this.CP.j_=t},i.DB=function(){r_(this,bA,this)},i.qw=function(){this.CP.qw()},i.zw=function(){this.CP.zw()},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.SB.LC(n).catch(this.RB),r=NE(n),t.next=5,this.CP.Qw(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$w=function(){this.xw||(this.CP.$w(),this.AB.$w(),this.xw=!0)},i.II=function(){return this.wB.vN()===wA.FULLSCREEN},i.ny=function(){this.CP.ny()},i.iy=function(){this.CP.iy()},i.ey=function(){return this.CP.ey()},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CP.Gw();case 2:return t.next=4,this.CP.Cl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.TB.Lv(),this.jd.Lv(),this.bB.Lv(),this.mB.Lv(),this.wB.Lv(),this.yB.Lv(),this._B.Lv(),this.AB.Lv(),t.next=11,this.CP.Lv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"OB",get:function(){return this.HI}},{key:"Uw",get:function(){return this.kB},set:function(t){this.kB=t,this.CP.Uw=t}},{key:"xB",get:function(){return this.AB}},{key:"Hw",get:function(){return this.CP.Hw}},{key:"PB",get:function(){return this.TB}},{key:"BB",get:function(){return this.yB}},{key:"Ww",get:function(){return this.CP.Ww}},{key:"Iw",get:function(){return this.EB}},{key:"LB",get:function(){return this.bB}},{key:"Xw",get:function(){return this.CP.Xw}},{key:"MB",get:function(){return this.FI}},{key:"Vw",get:function(){return this.CP.Vw}},{key:"_y",get:function(){return this.CP._y}},{key:"CB",get:function(){return this.dP}},{key:"RP",get:function(){return this.SP}},{key:"M_",get:function(){return this.CP.M_},set:function(t){this.CP.M_=t}},{key:"gy",get:function(){return this.CP.gy},set:function(t){this.CP.gy=t}},{key:"vy",get:function(){return this.CP.vy}},{key:"U_",get:function(){return this.CP.U_}},{key:"wy",get:function(){return this.CP.wy}},{key:"F_",get:function(){return this.CP.F_}},{key:"Qo",get:function(){return this.CP.Qo}},{key:"H_",get:function(){return this.CP.H_}},{key:"V_",get:function(){return this.CP.V_},set:function(t){var n=Boolean(t);this.Zx(n)}},{key:"X_",get:function(){return this.CP.X_}},{key:"W_",get:function(){return this.CP.W_},set:function(t){this.CP.W_=t}},{key:"Sy",get:function(){return this.CP.Sy}},{key:"Ry",get:function(){return this.CP.Ry},set:function(t){this.CP.Ry=zp(t)}},{key:"n_",get:function(){return this.CP.n_}},{key:"Iy",get:function(){return this.CP.Iy}},{key:"q_",get:function(){return this.CP.q_}},{key:"Wl",get:function(){return this.Py}},{key:"z_",get:function(){return this.CP.z_}},{key:"G_",get:function(){return this.CP.G_}},{key:"j_",get:function(){return this.CP.j_},set:function(t){var n=qt(Number(t),0,1)||0;this.vP(n)}}]),n}(ul);function NE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.UB=0]="UB",t[t.FB=1]="FB"}(bE||(bE={})),function(t){t[t.HB=0]="HB"}(TE||(TE={}));var CE={};function DE(t,n){(CE[n]||(CE[n]=[])).push(t)}function OE(t,n){var i=t;if(CE[n])for(var r=0,e=CE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var xE=[];function PE(t){xE.push(t)}var BE=t.CustomEvent;var LE=function(){try{var t=new BE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},ME=function(){function t(t,n){var i=this;this.DR=void 0,this.VB=void 0,this.XB=!1,this.WB=function(t){i.VB.ED(t.error,i.M_)},this.qB=function(){i.VB.pD(i.zB),i.DR.removeEventListener("playing",i.qB),i.XB=!1},this.GB=function(){i.XB||(i.DR.addEventListener("playing",i.qB),i.XB=!0)},this.VB=n,this.DR=t,this.DR.addEventListener("error",this.WB),this.DR.addEventListener("sourcechange",this.GB),this.GB()}return t.prototype.Cl=function(){},L(t,[{key:"M_",get:function(){var t=this.DR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"zB",get:function(){return this.DR.src||""}}]),t}();PE(function(t){new ME(t.Kd,t._B)});var UE="theoplayer-stored-volume",FE="theoplayer-stored-mutedstate";DE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=_E.VP(UE);(void 0===e||w(e))&&(e=1);var s=_E.XP(FE)||!1;r.j_=e,r.V_=s}return r}U(n,t);var i=n.prototype;return i.Zx=function(n){this.Wh.persistVolume&&_E.Va(FE,""+Boolean(n)),t.prototype.Zx.call(this,n)},i.vP=function(n){this.Wh.persistVolume&&_E.Va(UE,""+Number(n)),t.prototype.vP.call(this,n)},n}(t)},bE.FB);var HE=new(function(){function t(){this.jB=[],this.$d=void 0}var n=t.prototype;return n.Sl=function(t){return this.jB[t]},n.QB=function(t){this.jB.push(t),this.Kd.push(t.Kd)},n.Ph=function(t){var n=this.jB.indexOf(t);n<0||(Qe(this.jB,n),this.$d&&Qe(this.$d,n))},n.YB=function(t){for(var n=0,i=this.jB;n<i.length;n++){var r=i[n];if(r.Wl===t)return r}},L(t,[{key:"Ol",get:function(){return this.jB.length}},{key:"Kd",get:function(){return this.$d||(this.$d=function(t){for(var n=[],i=0;i<t.Ol;i++)n[i]=t.Sl(i).Kd;return n.getPlayerByUID=function(n){var i=t.YB(n);return i&&i.Kd},n}(this)),this.$d}}]),t}()),VE=function(){function t(t){var n=this;this.ZB=[],this.JB=void 0,this.Cd=new ns,this.$B=void 0,this.Cn=function(){return 0===n.ZB.length?n.$B?XE(n.$B,n.Cd.Io).then(n.KB,n.KB):n.KB():n.ZB.shift()().then(n.Cn)},this.KB=function(){if(0!==n.ZB.length)return n.Cn();n.JB=void 0},this.$B=t}var n=t.prototype;return n.tL=function(t,n){var i=this;return new T(function(r){var e=new ns;e.So(i.Cd.Io),n&&e.So(n);var s=function(){e.mo()};i.ZB.push(function(){var n=XE(t,e.Io);return r(n),n.then(s,s)}),i.JB||(i.JB=i.Cn())})},n.Eo=function(){return this.nL(!0)},n.Lv=function(){return this.$B=void 0,this.nL(!1)},n.nL=function(t){var n=this.JB;return this.Cd.Eo(),t&&(this.Cd=new ns),T.resolve(n)},t}();function XE(t,n){return new T(function(i){return i(t(n))})}var WE,qE=function(t){function n(n){var i;return(i=t.call(this,qo.kc)||this).source=n,i}return U(n,t),n}(As),zE=function(t){function n(){var n;return(n=t.call(this)||this).CI=void 0,n.OI=void 0,n.BI=void 0,n.xI=void 0,n.CI=0,n.OI=!0,n.BI=!1,n.xI=1,n}U(n,t);var i=n.prototype;return i.qw=function(){this.OI&&(this.OI=!1,this.xo(new Ll(this.M_)),this.xo(new Zy(this.M_)))},i.zw=function(){this.OI||(this.OI=!0,this.xo(new Wl(this.M_,this.gy)),this.xo(new Bl(this.M_)))},i.Cl=function(){this.CI=0,this.BI=!1,this.xI=1,this.zw(),this.xo(new Pl(this.CI))},i.Lv=function(){this.Mo()},i.iy=function(){},i.ny=function(){},L(n,[{key:"gy",get:function(){},set:function(t){}},{key:"M_",get:function(){return this.CI},set:function(t){this.BI&&this.CI===t||(this.CI=t,this.BI=!0,this.xo(new Gl(this.M_)))}},{key:"X_",get:function(){return this.OI}},{key:"W_",get:function(){return this.xI},set:function(t){this.xI!==t&&(this.xI=t,this.xo(new Xl(this.M_,this.W_)))}},{key:"n_",get:function(){return _l.S_}},{key:"q_",get:function(){return this.BI}}]),n}(sl),GE=function(t){function n(){return t.call(this,qo.Za)||this}return U(n,t),n}(As),jE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},QE={visibility:"hidden"},YE={visibility:"visible"},ZE=function(){function t(t){var n,i=this;this.ER=void 0,this.DR=void 0,this.iL=!1,this.rL=void 0,this.eL=void 0,this.sL=function(t){var n;i.iL=!1,i.rL=null==(n=t.source)?void 0:n.poster,i.Bh()},this.nT=function(){i.iL=!0,i.iy()},this.DR=t,this.LR(),this.ER=((n=mr&&mr.document&&mr.document.createElement("div")).className="theoplayer-poster",Ir(jE,n),n),t.wy.appendChild(this.ER)}var n=t.prototype;return n.Bh=function(){var t=this.DR.X_,n=this.iL;this.vv?this.ER.style.backgroundImage='url("'+this.vv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.ER.style.backgroundImage="",t&&this.vv&&!n?this.ny():this.iy()},n.ny=function(){Ir(QE,this.DR.wy),Ir(YE,this.ER)},n.iy=function(){Ir(QE,this.ER),Ir(YE,this.DR.wy)},n.LR=function(){this.DR.Po("sourcechange",this.sL),this.DR.Po("play",this.nT)},n.Lv=function(){this.DR.Uo("sourcechange",this.sL),this.DR.Uo("play",this.nT),Er(this.ER)},L(t,[{key:"vv",get:function(){return void 0!==this.rL?this.rL:void 0!==this.eL?this.eL:void 0}},{key:"uL",set:function(t){this.eL=t,this.Bh()}}]),t}();function JE(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).DR=void 0,e.oL=void 0,e.hL=void 0,e.aL=void 0,e.cL=void 0,e.fL=void 0,e.vL=void 0,e.dL=void 0,e.PR=void 0,e.xR=void 0,e.$d=void 0,e.lL=function(t){t.type!==qo.cc&&e.dL.push(t)},e.oL=new t(i,r),e.hL=new zE,e.DR=e.oL,e.aL=new ZE(en(e)),e.fL=new VE,e.vL=!1,e.dL=[],e.PR=!0,e.xR=void 0,e.LR(),e}U(i,n);var r=i.prototype;return r.tL=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fL.tL(n,i).catch(us));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r._L=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(i),this.oL.Lo(this.lL),t.next=4,this.oL.Qw(n,i);case 4:this.oL.Vo(this.lL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.gL=function(){var t=T.coroutine($r.mark(function t(){var n,i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.jw())&&!$A(n)&&this.Uw&&this.X_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Wh.mutedAutoplay,t.next=6,this.xB.wL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.yL(),t.abrupt("break",14);case 12:return(this.V_||i===Ml.ALL)&&(this.V_=!0,this.qw()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Qw=function(t){var n=this,i=this.xR;i&&!$A(i)&&this.xo(new Pl(0,0)),this.Cl(),this.xR=t,vs(this.tL(function(){var i=T.coroutine($r.mark(function i(r){return $r.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return es(r),i.prev=1,i.next=4,n._L(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.xR=void 0,i.t0;case 10:return i.next=12,n.mL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.mL=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kL(this.oL),this.xo(new qE(this.jw())),t.next=4,this.gL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Xx=function(t){this.DR.M_=t},r.Gx=function(){return this.oL.Qo},r.jx=function(){return this.oL.H_},r.qw=function(){this.DR.qw()},r.yL=function(){this.V_||this.$w(),this.qw()},r.$w=function(){this.oL.$w()},r.zw=function(){this.DR.zw()},r.Gw=function(){this.Qw(void 0)},r.ny=function(){this.PR=!0,this.DR.ny()},r.iy=function(){this.PR=!1,this.DR.iy()},r.DB=function(){this.oL.DB()},r.vP=function(t){this.oL.vP(t)},r.Zx=function(t){this.oL.Zx(t)},r.pL=function(t){this.cL=t,t.QB(this)},r.II=function(){return this.oL.II()},r.jw=function(){return this.xR},r.ey=function(){return this.oL.ey()},r.Vx=function(){return this.oL.M_},r.Wx=function(){return this.oL.U_},r.Mx=function(){return this.oL._y},r.nP=function(){return this.oL.Sy},r.sP=function(){return this.oL.Iy},r.Cl=function(){var t=this;this.xR=void 0,Je(this.dL),this.hL.Cl(),this.kL(this.hL),this.fL.Eo(),vs(this.fL.tL(function(){var n=T.coroutine($r.mark(function n(i){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return es(i),n.next=3,t.oL.Cl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Lv=function(){var t=this;this.xo(new GE),this.aL.Lv(),this.MR(),this.Cl(),vs(this.tL(T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.oL.Lv();case 2:t.cL&&(t.cL.Ph(t),t.cL=void 0),t.fL.Lv();case 4:case"end":return n.stop()}},n)})))),this.Mo()},r.kL=function(t){if(this.DR!==t){var n=this.DR.X_,i=this.DR.M_,r=this.DR.W_,e=this.DR.q_;this.MR(),t===this.oL?((e||t.M_!==i)&&(t.M_=i),t.W_!==r&&(t.W_=r),n?t.zw():t.qw()):this.Wh.retainPlaybackRateOnSourceChange?t.W_=r:1!==r&&this.xo(new Xl(this.Vx(),1)),this.DR=t,this.LR();for(var s=0,u=this.dL;s<u.length;s++){var o=u[s];this.xo(o)}Je(this.dL),this.PR?t.ny():t.iy()}},r.LR=function(){this.DR.Lo(this.Oo)},r.MR=function(){this.DR.Vo(this.Oo)},r.tl=function(){return t=this,r=function(n){i=n;var r=hb(n,t.Wh);t.Qw(r)},e={get abr(){return t.OB.Kd},get audioTracks(){return t.Hw.Kd},get autoplay(){return t.Uw},set autoplay(n){t.Uw=Boolean(n)},get buffered(){return t.Mx()},get canvas(){return t.gB.Kd},get clip(){return t.CB.Kd},get currentProgramDateTime(){var n;return null!=(n=t.gy)?n:null},set currentProgramDateTime(n){t.gy=null!=n?n:void 0},get currentTime(){return t.Vx()},set currentTime(n){t.Xx(Number(n))},get duration(){return t.Wx()},get element(){return t.wy},get ended(){return t.F_},get error(){return t.Gx()},get errorObject(){return t.jx()},get loop(){return t.RP.RP},set loop(n){t.RP.RP=Boolean(n)},get metrics(){return t.Iw.Kd},get muted(){return t.V_},set muted(n){t.Zx(n)},get network(){return t.LB.Kd},get paused(){return t.X_},get playbackRate(){return t.W_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.W_=i},get played(){return t.nP()},get poster(){return t.AL},set poster(n){t.AL=Vd(n)},get preload(){return t.Ry},set preload(n){t.Ry=n},get presentation(){return t.wB.Kd},get readyState(){return t.n_},get seekable(){return t.sP()},get seeking(){return t.q_},get source(){return i},set source(t){r(t)},get src(){return KA(t.jw())},set src(t){r({sources:t})},get textTracks(){return t.Xw.Kd},get textTrackStyle(){return t.MB.Kd},get uid(){return t.Wl},get videoHeight(){return t.z_},get videoTracks(){return t.Vw.Kd},get videoWidth(){return t.G_},get volume(){return t.j_},set volume(n){t.vP(Number(n))},destroy:function(){t.Lv(),t=null,i=void 0},play:function(){t.yL()},pause:function(){t.zw()},stop:function(){i=void 0,t.Gw()},prepareWithUserAction:function(){t.$w()},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)},setSource:function(t){r(t)}},(n=new kA(e,!0)).$I(t),e;var t,n,i,r,e},L(i,[{key:"_B",get:function(){return this.oL._B}},{key:"gB",get:function(){return this.oL.gB}},{key:"Wh",get:function(){return this.oL.Wh}},{key:"lB",get:function(){return this.oL.lB}},{key:"jd",get:function(){return this.oL.jd}},{key:"ZS",get:function(){return this.oL.mB}},{key:"wB",get:function(){return this.oL.wB}},{key:"yB",get:function(){return this.oL.yB}},{key:"CP",get:function(){return this.oL.CP}},{key:"OB",get:function(){return this.oL.OB}},{key:"Uw",get:function(){return this.oL.Uw},set:function(t){this.oL.Uw=t,this.gL()}},{key:"xB",get:function(){return this.oL.xB}},{key:"Hw",get:function(){return this.oL.Hw}},{key:"PB",get:function(){return this.oL.PB}},{key:"BB",get:function(){return this.oL.yB}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Ww",get:function(){return this.oL.Ww}},{key:"Iw",get:function(){return this.oL.Iw}},{key:"LB",get:function(){return this.oL.LB}},{key:"Xw",get:function(){return this.oL.Xw}},{key:"MB",get:function(){return this.oL.MB}},{key:"Vw",get:function(){return this.oL.Vw}},{key:"CB",get:function(){return this.oL.CB}},{key:"RP",get:function(){return this.oL.RP}},{key:"gy",get:function(){return this.DR.gy},set:function(t){this.DR.gy=t}},{key:"vy",get:function(){return this.oL.vy}},{key:"wy",get:function(){return this.oL.wy}},{key:"F_",get:function(){return this.oL.F_}},{key:"V_",get:function(){return this.oL.V_},set:function(t){this.oL.V_=t}},{key:"X_",get:function(){return this.DR.X_}},{key:"AL",get:function(){return this.aL.vv||""},set:function(t){this.aL.uL=t}},{key:"W_",get:function(){return this.oL.W_},set:function(t){this.DR.W_=t}},{key:"Ry",get:function(){return this.oL.Ry},set:function(t){this.oL.Ry=zp(t)}},{key:"n_",get:function(){return this.DR.n_}},{key:"q_",get:function(){return this.DR.q_}},{key:"Wl",get:function(){return this.oL.Wl}},{key:"z_",get:function(){return this.oL.z_}},{key:"G_",get:function(){return this.oL.G_}},{key:"j_",get:function(){return this.oL.j_},set:function(t){this.oL.j_=t}}]),i}(ul)}function $E(t,n){var i=t_(n),r=new(WE||(WE=OE(WE=JE(IE),bE.UB),WE=OE(WE,bE.FB)),WE)(t,i),e=r.Kd;return r.DB(),r.pL(HE),d.defineProperty(e,"constructor",{value:$E}),e=Dd(e),function(t){for(var n=0;n<xE.length;n++)(0,xE[n])(t)}(r),e}fs(function(){t.dispatchEvent&&t.dispatchEvent(LE("theoplayerready"))});var KE,tS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Fs(t)},n.decode=function(t){return Ms(t)},t}())},nS=HE.Kd,iS=Rm.QT.registerContentProtectionIntegration.bind(Rm.QT),rS=(qo.hc,qo.oc,xl.L_,qo.pc,qo.ac,qo.ic,qo.lc,qo.dc,qo.Ka,qo.cc,qo.Ac,qo.Ja,xl.gl,qo.vc,Zd.$l,ms.Yo,ms.Jo,qo.Qa,qo.ja,qo.bc,{bL:!1,TL:50}),eS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.rC="EL"}(KE||(KE={}));var sS,uS=function(t){function i(n,i,r,e){var s;(s=t.call(this)||this)._a=void 0,s.cS=void 0,s.Ra=void 0,s.SL=!1,s.RL=new Wu,s.IL=!1,s.fL=new VE,s.NL=void 0,s.ho=void 0,s.Vh=void 0,s.CL=function(){s.IL=!0},s.DL=function(){s.OL(!0)},s._a=n,s.cS=i,s.Ra=i.MS,s.NL=r,s.ho=e,s.Ra.addEventListener("loadedmetadata",s.CL);for(var u=0;u<eS.length;u++){var o=eS[u];s.Ra.addEventListener(o,s.DL)}return s}U(i,t);var r=i.prototype;return r.xL=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ho.fo(n.ro,i);case 2:return r=t.sent,t.next=5,r.Zh();case 5:return e=t.sent,t.next=8,this.PL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.BL=function(t){var n=this.Vh;return n?0!==t.VS.length&&t.VS.some(function(t){return t.Xh.ro===n.Xh}):0===t.VS.length||!this.IL},r.LL=function(t){return this.NL.LL(t),this._a=t,T.resolve()},r.mo=function(){var t=T.coroutine($r.mark(function t(){var n,i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Mo(),this.Ra.removeEventListener("loadedmetadata",this.CL),n=0;n<eS.length;n++)i=eS[n],this.Ra.removeEventListener(i,this.DL);return t.next=5,this.fL.Lv();case 5:return t.next=7,this.ML();case 7:return t.next=9,this.NL.Cl();case 9:return t.next=11,this.PL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.OL=function(t){t!==this.SL&&(this.SL=t,t?this.RL.wh(void 0):this.RL=new Wu)},r.PL=function(t){var n=this;return this.fL.tL(function(){return n.UL(t)})},r.UL=function(){var t=T.coroutine($r.mark(function t(i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Ra.src){t.next=4;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Ra.src){t.next=6;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.SL){t.next=9;break}return t.next=9,this.RL.gh;case 9:if(!(r=this.Vh)){t.next=14;break}return t.next=13,r.jh(this.Ra);case 13:this.Vh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Gh(this.Ra);case 17:this.Vh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Qw=function(t){var n=this;return this.fL.tL(function(){return n.FL(t)})},r.FL=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.OL(!1),i=this.cS.W_,this.Ra.src=n,this.cS.W_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.xh=function(){var t=this;return this.fL.tL(function(){return t.Od()})},r.Od=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ra.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ML=function(){var t=this;return this.fL.tL(function(){return t.HL()})},r.HL=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.OL(!1),Or(this.Ra);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"Hw",get:function(){throw new f("Not implemented")}},{key:"Wh",get:function(){return this._a}},{key:"MS",get:function(){return this.Ra}},{key:"Vw",get:function(){throw new f("Not implemented")}}]),i}(ks),oS=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Ix=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Wh,t.t0=n.WS,t.next=t.t0===fl.k_?4:t.t0===fl.p_?4:(t.t0,fl.A_,6);break;case 4:return this.Ra.setAttribute("crossorigin",n.WS),t.abrupt("break",8);case 6:return this.Ra.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Ry?this.Ra.preload=n.Ry:this.Ra.preload=Wp.GE,void 0!==n.qS?this.Ra.title=n.qS:Cr(this.Ra),t.next=12,this.Qw(n.e_);case 12:this.NL.xh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.BL=function(t){return!1},i.LL=function(t){return T.resolve(void 0)},i.mo=function(){var n=T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Cr(this.Ra),n.next=3,t.prototype.mo.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.VL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Gf))},L(n,[{key:"_y",get:function(){return Jp.bI(this.Ra.buffered)}},{key:"U_",get:function(){return this.Ra.duration}},{key:"XL",get:function(){var t=this.U_;if(!isFinite(t))return!1;var n=this._y;return 0!==n.Ol&&t-n.zR(n.Ol-1)<1/6}},{key:"Ry",get:function(){return this.Ra.preload},set:function(t){this.Ra.preload=t}},{key:"Iy",get:function(){return Jp.bI(this.Ra.seekable)}},{key:"WL",get:function(){return this._y}},{key:"qL",get:function(){if(Dr(this.Ra)&&(this.Ra.videoWidth>0||this.Ra.videoHeight>0))return this._y}}]),n}(uS),hS=function(t){function n(n){var i;return(i=t.call(this,qo.ac)||this).currentTime=n,i}return U(n,t),n}(As),aS=function(t){function n(){return t.call(this,qo.ic)||this}return U(n,t),n}(As);!function(t){t.zL="GL"}(sS||(sS={}));var cS,fS;sS.zL;!function(t){t[t.jL=0]="jL",t[t.Ic=1]="Ic",t[t.QL=2]="QL"}(cS||(cS={})),function(t){t.YL="ZL"}(fS||(fS={}));var vS=function(t){function n(n){var i;return(i=t.call(this,fS.YL)||this).JL=n,i}return U(n,t),n}(As),dS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).$L=Jp.SI(),n}U(n,t);var i=n.prototype;return i.KL=function(t,n){var i=new Jp([t,n]);this.$L=this.$L.hI(i),this.xo(new vS(i))},i.tM=function(t,n){this.$L=this.$L.cI(new Jp([t,n]))},i.Cl=function(){this.$L=Jp.SI()},i.Lv=function(){this.Mo()},L(n,[{key:"nM",get:function(){return this.$L}}]),n}(ks),lS=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.iM=function(t,n,i){return T.reject(new f("Invalid state"))},i.rM=function(){return T.reject(new f("Invalid state"))},i.eM=function(t,n){return T.reject(new f("Invalid state"))},i.XL=function(){return!1},i.sM=function(){},i.uM=function(){},i.oM=function(t,n){},i.hM=function(t,n){},i.Ph=function(t,n,i){return T.resolve()},i.aM=function(t,n){return T.reject(new f("Invalid state"))},i.cM=function(t){},i.fM=function(t){},i.vM=function(t){return!1},i.dM=function(t){},i.Lv=function(){return T.resolve()},L(n,[{key:"_y",get:function(){return Jp.SI()}},{key:"lM",get:function(){return!1}},{key:"_M",get:function(){return Jp.SI()}},{key:"gM",get:function(){return!1}},{key:"mO",get:function(){return!1}}]),n}(ks),_S=function(){function t(t,n){this.wM=void 0,this.yM=void 0,this.mM=void 0,this.wM=n,this.yM=t}var n=t.prototype;return n.XL=function(){return!!this.mM&&this._y.JR().iR(this.mM)},n.sM=function(){var t=this._y;this.mM=t.Ol>0?t.zR(t.Ol-1):0,this.wM.kM()},n.uM=function(){this.mM=void 0},L(t,[{key:"_y",get:function(){if(this.wM.n_===xS.pM)return Jp.SI();var t=Jp.bI(this.yM.buffered).iI(new Jp([0,1/0])),n=this.mM;return void 0!==n&&t.Ol>0&&t.zR(t.Ol-1)===n&&(t=t.hI(Jp.EI(n))),t}}]),t}();function gS(t,n){return void 0===n&&(n=new Fc({highWaterMark:1/0})),new Cc(new wS(t,n),{highWaterMark:0})}var wS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.Fc=void 0,this.AM=void 0,this.bM=void 0,this.Fn=[],this.Yc=0,this.nB=void 0,this.TM=!1,this.EM=void 0,this.SM=function(t){return t.done?(i.Xn(),void i.nB.close()):(i.Fn.push(t.value),i.Yc+=i.AM(t.value),i.TM&&i.Xn(),i.RM()?i.Fc.read().then(i.SM):void 0)},this.yd=function(t){i.Xn(),i.nB.error(t)},this.Fc=t.getReader(),this.AM=e,this.bM=u}var n=t.prototype;return n.start=function(t){this.nB=t,this.RM()&&this.IM()},n.pull=function(){this.Fn.length>0?this.Xn():this.TM=!0,this.RM()&&this.IM()},n.cancel=function(t){return Je(this.Fn),this.Yc=0,this.TM=!1,this.Fc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.Yc=0,this.TM=!1,this.nB.enqueue(t)}},n.RM=function(){return!!this.TM||this.bM-this.Yc>0},n.IM=function(){var t=this;if(!this.EM){var n=this.Fc.read().then(this.SM).catch(this.yd);this.EM=n;var i=function(){t.EM===n&&(t.EM=void 0)};n.then(i,i)}},t}(),yS=20,mS=Q.Pe,kS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).NM=void 0,e.CM=void 0,e.yM=void 0,e.Tx=yS,e.Ex=WT,e.DM=!1,e.OM=!1,e.xM=void 0,e.PM=new ns,e.BM=!1,e.LM=void 0,e.MM=function(){e.DM=!1},e.NM=i,e.CM=n,e.yM=r,e.yM.addEventListener("updateend",e.MM),e}U(n,t);var i=n.prototype;return i.iM=function(t,n,i){var r=this;switch(t.io){case cS.jL:case cS.Ic:return this.UM(function(i){return r.FM(t,n,i)},i);case cS.QL:throw new f("Opaque segments are not supported on web.")}},i.eM=function(t,n){var i=this;switch(t.io){case cS.jL:return this.UM(function(n){return i.HM(t,n)},n);case cS.Ic:throw new f("Streaming initialization segments are not supported on web.");case cS.QL:throw new f("Opaque initialization segments are not supported on web.")}},i.HM=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.VM(n,void 0,i);case 2:mS&&(this.BM=!1,this.LM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FM=function(){var t=T.coroutine($r.mark(function t(n,i,r){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(mS&&this.BM&&this.LM)){t.next=3;break}return t.next=3,this.HM(this.LM,r);case 3:return t.prev=3,es(r),t.next=7,this.VM(n,i,r);case 7:this.xo(new As(sS.zL));case 8:return t.prev=8,n.io===cS.Ic&&n.Ds.cancel(new is).catch(S),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.VM=function(){var t=T.coroutine($r.mark(function t(n,i,r){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:es(r),i&&this.XM(i),t.t0=n.io,t.next=t.t0===cS.jL?5:t.t0===cS.Ic?8:11;break;case 5:return t.next=7,this.WM(n.Ds);case 7:return t.abrupt("return",t.sent);case 8:return t.next=10,this.qM(n.Ds,r);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qM=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h,a,c;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.CM._y,e=gS(n),s=e.getReader(),u=!1,t.prev=4;case 5:return t.next=8,os(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return es(i),h=Ws(o.value),u=!0,t.next=17,this.WM(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(S),!u){t.next=35;break}return t.next=27,this.zM();case 27:a=this.CM._y.iI(r.rI()),c=0;case 29:if(!(c<a.Ol)){t.next=35;break}return t.next=32,this.GM(a.WR(c),a.zR(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.aM=function(t,n){var i=this;return this.UM(function(){return i.jM(t,n)})},i.jM=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.yM.appendWindowStart===n&&this.yM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.zM();case 3:this.yM.appendWindowStart=0,this.yM.appendWindowEnd=i,this.yM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.XM=function(t){this.yM.timestampOffset!==t.Em&&(this.yM.timestampOffset=t.Em)},i.WM=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yM.appendBuffer(n),this.OM=!0,t.next=4,this.QM();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.YM=function(t,n,i){var r=this;return this.UM(function(i){return r.GM(t,n,i)},i)},i.GM=function(){var t=T.coroutine($r.mark(function t(n,i,r){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(r),this.yM.remove(n,i),t.next=4,this.QM();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QM=function(){var t=this,n=this.CM._y;return new T(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?(n.gI(t.CM._y)||t.xo(new As(sS.zL)),i()):r(new f(e))},c=function(){t.yM.removeEventListener("update",u),t.yM.removeEventListener("error",o),t.yM.removeEventListener("abort",h),t.yM.removeEventListener("updateend",a)};t.yM.addEventListener("update",u),t.yM.addEventListener("error",o),t.yM.addEventListener("abort",h),t.yM.addEventListener("updateend",a)})},i.ZM=function(){var t=this;return this.UM(function(){return t.zM()})},i.zM=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.NM.n_===xS.qv){t.next=2;break}return t.abrupt("return");case 2:mS&&(this.BM=!0),this.yM.updating&&(this.DM=!0);try{this.yM.abort()}catch(t){0,this.DM=!1}if(!this.mO){t.next=8;break}return t.next=8,this.QM().catch(S);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vM=function(t){return!!MediaSource.isTypeSupported(t)&&"function"==typeof this.yM.changeType},i.dM=function(t){this.JM(),this.NM.n_!==xS.pM&&this.yM.changeType&&this.yM.changeType(t)},i.uM=function(){this.NM.n_!==xS.Ka||this.xM||this.mO||(this.yM.timestampOffset=this.yM.timestampOffset,this.NM.$M())},i.UM=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JM(),(r=new ns).So(this.PM.Io),i&&r.So(i),t.prev=4,this.xM=n(r.Io),t.next=8,this.xM;case 8:if(this.NM.$M(),!this.mO){t.next=12;break}return t.next=12,this.QM();case 12:return t.prev=12,this.xM=void 0,r.mo(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.JM=function(){if(this.xM)throw new f("Internal error")},i.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mo(),this.PM.Eo(),!this.xM){t.next=6;break}return t.next=5,this.xM.catch(S);case 5:this.xM=void 0;case 6:this.yM.removeEventListener("updateend",this.MM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"gM",get:function(){return this.OM}},{key:"gx",get:function(){return this.Tx},set:function(t){this.Tx=t}},{key:"kx",set:function(t){this.Ex=t}},{key:"mO",get:function(){return this.DM||this.yM.updating}}]),n}(ks);function pS(t,n,i,r){var e=new _S(t,n),s=new kS(e,n,t);return new AS(e,s,r)}var AS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).CM=n,e.KM=i,e.tU=r,e.KM.Po(sS.zL,e.Oo),e}U(n,t);var i=n.prototype;return i.XL=function(){return this.CM.XL()},i.sM=function(){this.CM.sM()},i.uM=function(){this.CM.uM(),this.KM.uM()},i.oM=function(t,n){this.tU.KL(t,n)},i.hM=function(t,n){this.tU.tM(t,n)},i.rM=function(){return this.KM.ZM()},i.iM=function(t,n,i){return this.KM.iM(t,n,i)},i.eM=function(t,n){return this.KM.eM(t,n)},i.Ph=function(t,n,i){return this.hM(t,n),this.KM.YM(t,n,i)},i.aM=function(t,n){return this.KM.aM(t,n)},i.cM=function(t){this.KM.gx=t},i.fM=function(t){this.KM.kx=t},i.vM=function(t){return this.KM.vM(t)},i.dM=function(t){this.KM.dM(t)},i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KM.Uo(sS.zL,this.Oo),t.next=3,this.KM.mo();case 3:this.tU.Lv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"_y",get:function(){return this.CM._y}},{key:"lM",get:function(){return!0}},{key:"_M",get:function(){return this.tU.nM}},{key:"gM",get:function(){return this.KM.gM}},{key:"mO",get:function(){return this.KM.mO}}]),n}(ks),bS=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).NM=void 0,u._a=void 0,u.nU=void 0,u.cS=void 0,u.va=void 0,u.tU=void 0,u.yM=void 0,u.Hc=void 0,u.Tx=void 0,u.Ex=void 0,u.NM=n,u._a=r,u.va=r.Gf,u.nU=e,u.cS=i,u.Hc=new lS,u.Hc.Po(sS.zL,u.Oo),u.Tx=yS,u.Ex=WT,u.tU=s,u}U(n,t);var i=n.prototype;return i.XL=function(){return this.Hc.XL()},i.sM=function(){return this.Hc.sM()},i.uM=function(){return this.Hc.uM()},i.oM=function(t,n){this.Hc.oM(t,n)},i.hM=function(t,n){this.Hc.hM(t,n)},i.rM=function(){return this.Hc.rM()},i.iM=function(t,n,i){return this.Hc.iM(t,n,i)},i.eM=function(t,n){return this.Hc.eM(t,n)},i.aM=function(t,n){return this.Hc.aM(t,n)},i.Ph=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._y,t.next=3,this.Hc.Ph(n,i,r);case 3:s=0!==e.Ol&&0===this._y.Ol,(Q.Ue||Q.Re)&&s&&this.cS.ah(this.cS.M_);case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.My=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.Eb(i);case 5:t.next=9;break;case 7:return t.next=9,this.Sb(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Eb=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,es(n),TS(this.yM,!0),t.next=5,this.iU(this.yM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),es(n),t.next=12,this.NM.rU(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.Sb=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.yM,t.prev=1,es(n),t.next=5,this.Cl();case 5:TS(i,!1),this.yM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),es(n),t.next=14,this.NM.eU(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.Hc).Uo(sS.zL,this.Oo),t.next=4,i.Lv();case 4:this.Hc=n,this.Hc.cM(this.Tx),this.Hc.fM(this.Ex),this.Hc.Po(sS.zL,this.Oo);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.iU=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yM=n,t.next=3,this.setState(pS(n,this.NM,this.nU,this.tU));case 3:this.xo(new As("Vl"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.BL=function(t){var n=t.Gf;if(this.va!==n){if(!MediaSource.isTypeSupported(n))return!1;if(!this.Hc.vM(n)){if(this.nU!==H_.Rv)return!1;var i=io(this.va),r=io(n);if(i.io!==r.io)return!1;if(!function(t,n){var i=t.Kh("codecs"),r=n.Kh("codecs");if(i===r)return!0;if(!i||!r)return!i&&!r;var e=i.split(","),s=r.split(",");if(e.length!==s.length)return!1;for(var u=0;u<e.length;u++)if(!ES(e[u].trim(),s[u].trim()))return!1;return!0}(i,r))return!1}}return!0},i.LL=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.Gf,this.va!==i&&(this.Hc.vM(i)&&this.Hc.dM(i),this.va=i),this._a=n,this.NM.sU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tU.Cl(),this.yM=void 0,t.next=4,this.setState(new lS);case 4:this.xo(new As("uU"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Mo(),t.next=4,this.Cl();case 4:this.Hc.Uo(sS.zL,this.Oo),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"_y",get:function(){return this.Hc._y}},{key:"Wh",get:function(){return this._a}},{key:"Gf",get:function(){return this.va}},{key:"_M",get:function(){return this.Hc._M}},{key:"gM",get:function(){return this.Hc.gM}},{key:"gx",get:function(){return this.Tx},set:function(t){this.Tx=t,this.Hc.cM(t)}},{key:"kx",get:function(){return this.Ex},set:function(t){this.Ex=t,this.Hc.fM(t)}},{key:"mO",get:function(){return this.Hc.mO}},{key:"lM",get:function(){return this.Hc.lM}}]),n}(ks);function TS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new f("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var s=0;s<r.length;s++)r[s].selected!==n&&(r[s].selected=n)}function ES(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var s=i[1],u=i[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}var SS=100,RS=1e3,IS=1e4,NS=.01,CS=[qo.hc,qo.oc,qo.lc,qo.dc,qo.Ka,qo.cc,xl.gl,Zd.$l],DS=function(){function t(t,n){var i=this;this.zb=_l.S_,this.oU=!1,this.hU=[],this.aU=void 0,this.cU=0,this.fU=0,this.vU=0,this.dU=0,this.lU=0,this._U=RS,this.gU=function(t){var n=i.cS.M_;t.JL.iR(n)&&i.wU(n)},this.yU=I(function(){i.mU(xl.gl)},SS),this.kU=I(function(){i.mU(qo.ac)},SS),this.pU=function(){i.AU()?i.bU():i.TU()},this.EU=function(){var t=i.cU,n=i.vU,r=i.cS.M_,e=b.vu(),s=t!==r;if(s||!i.AU())return i.cU=r,i.vU=e,void(s&&(i.lU=0,i._U=RS));if(n>0&&e>n+i._U){var u=r+i.lU*NS,o=i.CM._y;o.iR(u)||(u=i.SU(r,o)),i.cU=u,i.vU=e,i.lU++,i._U=l.min(2*i._U,IS),i.cS.ah(u)}},this.CM=t,this.cS=n,this.cS.Po(xl.gl,this.yU),this.cS.Po(qo.ac,this.kU),this.cS.Po(CS,this.pU)}var n=t.prototype;return n.RU=function(t){this.hU.push(t),t.Po(fS.YL,this.gU)},n.Lv=function(){var t=this;this.TU(),this.zb=_l.S_,this.cS.Uo(xl.gl,this.yU),this.cS.Uo(qo.ac,this.kU),this.cS.Uo(CS,this.pU),this.hU.forEach(function(n){return n.Uo(fS.YL,t.gU)}),void 0!==this.aU&&(b.sr(this.aU),this.aU=void 0),this.oU=!0},n.mU=function(t){if(!this.oU){var n=this.cS.n_;if(n<=_l.I_){var i=this.cS.M_,r=this.CM._y,e=r.fI(i),s=r.zR(e);-1!==e&&(t===xl.gl&&n<this.zb||t===qo.ac&&n===this.zb)&&s<i+.5&&(i=s),this.wU(i)}t===xl.gl&&(this.zb=n)}},n.wU=function(t){var n=this;if(!this.cS.F_){var i=this.nM.cI(this.CM._y).JR(),r=i.fI(t);if(-1!==r)if(!(l.abs(i.WR(r)-i.zR(r))<=.001))if(b.Hd){if(void 0!==this.aU)return;this.fU=this.cS.M_,this.aU=b.ur(function(){n.fU===n.cS.M_&&n.cS.ah(i.zR(r)),n.aU=void 0},1500)}else this.cS.ah(i.zR(r))}},n.bU=function(){0===this.dU&&(this.dU=b.pu(this.EU,250))},n.TU=function(){0!==this.dU&&(b.Au(this.dU),this.dU=0),this.cS.q_||(this.vU=0)},n.AU=function(){return!this.cS.X_&&!this.cS.q_&&0!==this.cS.W_&&!this.cS.F_&&!this.cS.Qo&&this.cS.n_>=_l.N_},n.SU=function(t,n){var i=n.fI(t);return i>-1?n.zR(i):t},L(t,[{key:"nM",get:function(){return this.hU.reduce(function(t,n){return t.hI(n.nM)},Jp.SI())}}]),t}();function OS(t){var n=[];if(t.IU&&t.IU.lM&&n.push(t.IU._y),t.NU&&t.NU.lM&&n.push(t.NU._y),0===n.length)return Jp.SI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Ol>0&&(i=l.max(i,e.zR(e.Ol-1)))}for(var s=t.XL,u=new Jp([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Ol>0&&(h=h.hI(new Jp([h.zR(h.Ol-1),i],[!0,!0]))),u=u.iI(h)}return u}var xS,PS=Q.Ie||Q.Ne,BS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.CU=void 0,this.kb=t,this.pb=n,this.DU=i,this.OU=r,this.CU=Hb()}return t.prototype.xU=function(){var t=this.kb,n=this.pb;if(this.DU||this.OU){var i=.001*(Hb()-this.CU);this.DU&&(t+=i),this.OU&&(n+=i)}return t>=n?Jp.SI():new Jp([t,n])},L(t,[{key:"PU",get:function(){return this.DU}},{key:"BU",get:function(){return this.OU}}]),t}();!function(t){t.pM="closed",t.qv="open",t.Ka="ended"}(xS||(xS={}));var LS=function(){function t(){}return t.prototype.LU=function(){return new MediaSource},t}(),MS=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=new LS),(u=t.call(this,n,i,r,e)||this).MU=void 0,u.UU=void 0,u.FU=void 0,u.HU=new BS(0,1/0),u.fS=void 0,u.VU=void 0,u.XU=void 0,u.WU=!1,u.qU=function(){u.zU()},u.GU=function(){u.cS.GU()},u.MU=s,u.fS=u.MU.LU(),u.cS.Po(qo.lc,u.qU),u.XU=new DS(en(u),u.cS),u}U(n,t);var i=n.prototype;return i.jU=function(t){if(w(t)||t<0)throw new f("Invalid duration");this.QU()?this.YU(t):this.VU=t},i.YU=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.fS.setLiveSeekableRange){var r=l.pow(2,39);this.fS.setLiveSeekableRange(0,r)}this.fS.duration=i,this.VU=void 0},i.ZU=function(t,n,i,r){this.HU=new BS(t,n,!!i,!!r)},i.Ix=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._a,i=ze(n.JU,function(t){return Ie(t.Gf,"audio")}),r=ze(n.JU,function(t){return Ie(t.Gf,"video")}),i&&(e=new dS,this.XU.RU(e),this.UU=new bS(this,this.cS,i,H_.Sv,e),this.UU.Po(sS.zL,this.GU)),r&&(s=new dS,this.XU.RU(s),this.FU=new bS(this,this.cS,r,H_.Rv,s),this.FU.Po(sS.zL,this.GU)),t.next=7,this.$U();case 7:if(!this.UU){t.next=13;break}return t.next=10,this.KU(this.UU.Gf);case 10:return u=t.sent,t.next=13,this.UU.iU(u);case 13:if(!this.FU){t.next=19;break}return t.next=16,this.KU(this.FU.Gf);case 16:return o=t.sent,t.next=19,this.FU.iU(o);case 19:this.NL.xh(this,n);case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$U=function(){var n=T.coroutine($r.mark(function n(){var i;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.fS),n.next=3,t.prototype.Qw.call(this,i);case 3:return n.next=5,t.prototype.xh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.KU=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.n_===xS.qv){t.next=3;break}return t.next=3,dd(this.fS,"sourceopen");case 3:if(!(this.UU&&this.UU.gM||this.FU&&this.FU.gM)){t.next=6;break}throw new f("tF");case 6:return t.abrupt("return",this.fS.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.QU=function(){if(this.n_!==xS.qv)return!1;var t=this.UU&&this.UU.mO,n=this.FU&&this.FU.mO;return!(t||n)},i.sM=function(){this.WU=!0,this.UU&&this.UU.sM(),this.FU&&this.FU.sM(),this.WU=!1,this.zU()},i.uM=function(){this.UU&&this.UU.uM(),this.FU&&this.FU.uM()},i.BL=function(n){var i=ze(n.JU,function(t){return Ie(t.Gf,"audio")}),r=ze(n.JU,function(t){return Ie(t.Gf,"video")});if(this.UU){if(!i)return!1;if(!this.UU.BL(i))return!1}else if(i)return!1;if(this.FU){if(!r)return!1;if(!this.FU.BL(r))return!1}else if(r)return!1;return!!t.prototype.BL.call(this,n)},i.LL=function(){var n=T.coroutine($r.mark(function n(i){var r,e,s;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=ze(i.JU,function(t){return Ie(t.Gf,"audio")}),e=ze(i.JU,function(t){return Ie(t.Gf,"video")}),s=[],this.UU&&s.push(this.UU.LL(r)),this.FU&&s.push(this.FU.LL(e)),n.next=7,T.all(s);case 7:return n.next=9,t.prototype.LL.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.mo=function(){var n=T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.UU){n.next=4;break}return n.next=3,this.UU.mo();case 3:this.UU=void 0;case 4:if(!this.FU){n.next=8;break}return n.next=7,this.FU.mo();case 7:this.FU=void 0;case 8:return this.Ra.src&&URL.revokeObjectURL(this.Ra.src),this.cS.Uo(qo.lc,this.qU),this.XU.Lv(),n.next=13,t.prototype.mo.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sU=function(){var t=this,n=this._a,i=n.JU.map(function(n){return Ie(n.Gf,"audio")&&t.UU?t.UU.Wh:Ie(n.Gf,"video")&&t.FU?t.FU.Wh:n});this._a=Kr({},n,{JU:i})},i.kM=function(){this.WU||this.zU()},i.zU=function(){this.nF&&this.QU()&&(this.fS.endOfStream(),this.VU=void 0,this.xo(new As(KE.rC)),this.cS.GU())},i.rU=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.KU(n.Gf);case 3:return i=t.sent,t.next=6,n.iU(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.iF).push(n),t.next=14,this.rF(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.eU=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Q.Oe){t.next=3;break}throw new f("Not supported in Firefox");case 3:this.fS.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.iF.filter(function(t){return t!==n}),t.next=11,this.rF(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.rF=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cS.eF(),i=0,r=this.iF;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.Cl();case 7:i++,t.next=2;break;case 10:return this.fS=this.MU.LU(),t.next=13,this.$U();case 13:s=0;case 14:if(!(s<n.length)){t.next=24;break}return u=n[s],t.next=18,this.KU(u.Gf);case 18:return o=t.sent,t.next=21,u.iU(o);case 21:s++,t.next=14;break;case 24:this.cS.sF();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$M=function(){this.QU()&&(this.XL?this.zU():void 0!==this.VU&&this.YU(this.VU))},n.VL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.JU;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.Gf))return!1}return!0},L(n,[{key:"IU",get:function(){return this.UU}},{key:"NU",get:function(){return this.FU}},{key:"iF",get:function(){var t=[];return this.UU&&this.UU.lM&&t.push(this.UU),this.FU&&this.FU.lM&&t.push(this.FU),t}},{key:"U_",get:function(){if(this.VU)return this.VU;var t=this.fS.duration;return 9007199254740991===t?1/0:t}},{key:"_y",get:function(){return PS?OS(this):(t=this,n=Jp.bI(this.Ra.buffered),(i=n).Ol>0&&t.XL&&(i=i.hI(Jp.EI(i.zR(i.Ol-1)))),i);var t,n,i}},{key:"WL",get:function(){if(this.UU&&this.UU.lM)return this.UU._y}},{key:"qL",get:function(){if(this.FU&&this.FU.lM)return this.FU._y}},{key:"Iy",get:function(){return this.HU.xU().iI(new Jp([0,this.U_],[!0,!0]))}},{key:"XL",get:function(){return(!this.UU||!this.UU.lM||this.UU.XL())&&(!this.FU||!this.FU.lM||this.FU.XL())}},{key:"n_",get:function(){return this.fS.readyState}},{key:"nF",get:function(){if(!this.XL)return!1;var t=this._y;return 0!==t.Ol&&t.WR(t.Ol-1)<=this.cS.M_}}]),n}(uS),US=[qo.Ac,qo.cc,qo.lc,qo.hc,qo.oc],FS=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).CI=n,a.uF=i,a.oF=r,a.OI=e,a.BI=s,a.DI=u,a.xI=o,a.LI=h,a}U(n,t);var i=n.prototype;return i.zw=function(){this.OI||(this.OI=!0,this.xo(new Bl(this.M_)))},i.qw=function(){this.OI&&(this.OI=!1,this.xo(new Ll(this.M_)))},L(n,[{key:"M_",get:function(){return this.CI},set:function(t){this.M_!==t&&(this.CI=t,this.BI=!0,this.xo(new Gl(this.M_)))}},{key:"U_",get:function(){return this.uF}},{key:"F_",get:function(){return this.oF}},{key:"X_",get:function(){return this.OI}},{key:"q_",get:function(){return this.BI}},{key:"V_",get:function(){return this.DI},set:function(t){this.V_!==t&&(this.DI=t,this.xo(new Ql(this.M_,this.j_)))}},{key:"W_",get:function(){return this.xI},set:function(t){this.W_!==t&&(this.xI=t,this.xo(new Xl(this.M_,this.W_)))}},{key:"j_",get:function(){return this.LI},set:function(t){this.j_!==t&&(this.LI=t,this.xo(new Ql(this.M_,this.j_)))}}]),n}(ks);var HS=function(t){function n(n){var i;return(i=t.call(this)||this).cS=void 0,i.zb=_l.S_,i.hF=function(){i.aF()},i.cS=n,i}U(n,t);var i=n.prototype;return i.cF=function(t){this.zb!==t&&(this.zb=t,this.xo(new Jl(this.cS.M_,t)))},i.aF=function(){this.cF(this.eP())},i.Cl=function(){this.cF(_l.S_)},i.mo=function(){this.Mo()},L(n,[{key:"n_",get:function(){return this.eP()}}]),n}(ks),VS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],XS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<VS.length;r++){var e=VS[r];i.cS.MS.addEventListener(e,i.hF)}return i}U(n,t);var i=n.prototype;return i.eP=function(){var t=this.cS.MS.readyState;return t>_l.I_&&this.cS.fF?_l.I_:(this.cS.MS.seeking&&t>_l.R_&&(t=_l.R_),t)},i.mo=function(){for(var n=0;n<VS.length;n++){var i=VS[n];this.cS.MS.removeEventListener(i,this.hF)}t.prototype.mo.call(this)},n}(HS),WS=function(t){function n(n){var i;(i=t.call(this,n)||this).cS.Po(qo.lc,i.hF);for(var r=0;r<VS.length;r++){var e=VS[r];i.cS.MS.addEventListener(e,i.hF)}return i}U(n,t);var i=n.prototype;return i.eP=function(){if(this.cS.MS.readyState===_l.S_)return _l.S_;var t=this.vF(),n=t?t.zR-t.WR:0;if(!t)return _l.R_;var i=this.cS.W_;return this.dF()||n>=3*i?_l.C_:n>=3?_l.N_:_l.I_},i.vF=function(){var t=this.cS.M_,n=this.cS._y.oI(.04),i=n.fI(t);if(!(i<0))return{WR:t,zR:n.zR(i)}},i.dF=function(){if(this.cS.F_)return!0;var t=this.cS.U_,n=this.vF();return!!n&&t-n.zR<=1/6},i.mo=function(){this.cS.Uo(qo.lc,this.hF);for(var n=0;n<VS.length;n++){var i=VS[n];this.cS.MS.removeEventListener(i,this.hF)}t.prototype.mo.call(this)},n}(HS),qS=[xl.gl,qo.hc,qo.oc,qo.lc,qo.dc,qo.Ka,Zd.$l],zS=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ra=void 0,i.lF=!1,i._F=function(){i.lF=!0,i.Bh()},i.Ra=n.MS,i.Ra.addEventListener(xl.L_,i._F),i}U(n,t);var i=n.prototype;return i.gF=function(){return this.lF&&t.prototype.gF.call(this)},i.Bh=function(){this.lF&&(this.Ra.paused||this.Ra.ended||this.Ra.error)&&(this.lF=!1),t.prototype.Bh.call(this)},i.Cl=function(){t.prototype.Cl.call(this),this.lF=!1},i.mo=function(){this.Ra.removeEventListener(xl.L_,this._F),t.prototype.mo.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).iT=void 0,i.wF=!1,i.kO=function(){i.Bh()},i.iT=n,i.iT.Po(qS,i.kO),i}U(n,t);var i=n.prototype;return i.yF=function(){return this.iT.n_<_l.N_},i.gF=function(){return!this.iT.q_&&!(this.iT.X_||this.iT.F_||this.iT.Qo||this.yF())},i.Bh=function(){var t=this.wF;this.wF=this.gF(),!t&&this.wF&&this.xo(new Jy(this.iT.M_))},i.Cl=function(){this.wF=!1},i.mo=function(){this.Mo(),this.iT.Uo(qS,this.kO)},n}(ks)),GS=function(t){function n(n){var i;return(i=t.call(this,Zd.$l)||this).Qo=void 0,i.Qo=n,i}return U(n,t),n}(As);function jS(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function QS(t,n){return t.Qy<=n&&t.Yy>n}function YS(t,n){return function(t,n){return v_(t.Qy,n.Qy,_g)}(t,n)||function(t,n){return v_(t.Yy,n.Yy,_g)}(t,n)}function ZS(t,n){var i=jS(t,n,R,YS,!0);if(i<0)return i;for(;i<t.length&&YS(n,t[i])===e_.Q_;i++)if(t[i].ug(n))return i;return-(i+1)}function JS(t){var n=t.nl;if(!n)return-1;if(t instanceof wg)return n.mF(t);var i=n.i_;if(!i)return-1;var r=ZS(i.Dl,t);return r>=0?r:-1}function $S(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{kF:o,pF:h}}(t,n,YS);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var KS=function(){function t(t){this.AF=void 0,this.$d=void 0,this.AF=t}var n=t.prototype;return n.tl=function(){return function(t){for(var n=[],i=0;i<t.Ol;i++)n[i]=t.ih(i).Kd;return n.item=function(n){var i=0|n,r=t.ih(i);return r&&r.Kd||void 0},d.defineProperty(n,"constructor",{value:dg}),n}(this)},n.Cy=function(t){for(var n=this.AF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.ug(r))return!0}return!1},n.ih=function(t){return this.AF[t]},L(t,[{key:"Dl",get:function(){return this.AF}},{key:"Ol",get:function(){return this.AF.length}},{key:"Kd",get:function(){if(this.$d){var t=this.AF;this.$d.length=t.length;for(var n=0;n<t.length;n++)this.$d[n]=t[n].Kd}else this.$d=this.tl();return this.$d}}]),t}(),tR=function(t){function n(n,i){var r;return(r=t.call(this,kd.gl)||this).nl=n,r.n_=i,r}return U(n,t),n.prototype.tl=function(){return new nR(this.nl.Kd,rl(this.n_))},n}(pd),nR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return U(n,t),n}(Ad),iR=function(t){function n(n){var i;return(i=t.call(this,kd.yl)||this).nl=n,i}return U(n,t),n.prototype.tl=function(){return new rR(this.nl.Kd)},n}(pd),rR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return U(n,t),n}(Ad),eR=function(t){function n(n){var i;return(i=t.call(this,kd.il)||this).jy=n,i}return U(n,t),n.prototype.tl=function(){return new sR(this.jy.Kd)},n}(pd),sR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return U(n,t),n}(Ad),uR=function(t){function n(n){var i;return(i=t.call(this,kd.ul)||this).jy=n,i}return U(n,t),n.prototype.tl=function(){return new oR(this.jy.Kd)},n}(pd),oR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return U(n,t),n}(Ad),hR=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).$d=void 0,h.Oy=void 0,h.Py=G_(),h.bF=!1,h.TF=void 0,h.EF=void 0,h.xy=void 0,h.SF=void 0,h.tN=Yd.Yl,h.RF=K_.NONE,h.IF=void 0,h.xs=void 0,h.AF=[],h.NF=[],h.CF=void 0,h.DF=void 0,h.OF=0,h.xF=0,h.Oy=i||"",h.TF=o||"",h.EF=n,h.SF=e||"",h.bF=Boolean(s),h.xs=u||tg.DEFAULT,h.xy=r||"",h.CF=new KS(h.AF),h.DF=new KS(h.NF),h}U(n,t);var i=n.prototype;return i.PF=function(t){return ze(this.CF.Dl,function(n){return n.Xl===t})},i.tl=function(){return tl(this)},i._N=function(t){var n=$d(t);n!==this.t_&&(this.tN=n,n===Yd.Yl&&(this.NF.forEach(function(t){t.lm=!1}),Je(this.NF),this.xF=0))},i.Hb=function(t){if(t&&!t.nl){var n=ZS(this.i_.Dl,t);if(!(n>=0)){t.nl=this;var i=-(n+1);this.AF.splice(i,0,t),this.BF(i),t.dm=i,i<this.xF&&(this.xF=i),this.xo(new eR(t))}}},i.LF=function(t){if(t&&t.nl===this){var n=this.mF(t);if(!(n<0)){t.lm=!1;var i=this.NF,r=ZS(i,t);r>=0&&Qe(i,r),Qe(this.AF,n),this.BF(n),t.dm=-1,this.xF>n&&--this.xF,this.xo(new uR(t))}}},i.MF=function(t,n){var i=this.NF,r=this.AF,e=this.xF,s=!1;n&&(e=0);for(var u=i.length-1;u>=0;u--){QS(i[u],t)||(s=!0,Qe(i,u))}for(;e<r.length&&r[e].Qy<=t;){var o=r[e];if(0===t)break;QS(o,t)&&!Ye(i,o)&&(s=!0,i.push(o)),e++}s&&Xe(i,YS),this.xF=e},i.mF=function(t){return(-1===t.dm||t.dm>=this.OF)&&this.UF(),t.dm},i.UF=function(){for(var t=this.AF,n=this.OF;n<t.length;n++)t[n].dm=n;this.OF=t.length},i.BF=function(t){t<this.OF&&(this.OF=t)},i.Lv=function(){this.Mo();for(var t=this.AF.slice(),n=0;n<t.length;n++){t[n].Lv()}Je(this.AF),Je(this.NF)},L(n,[{key:"r_",get:function(){return this.DF}},{key:"i_",get:function(){return this.CF}},{key:"Xb",get:function(){return this.bF},set:function(t){this.bF=t}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"Kl",get:function(){return this.TF},set:function(t){this.TF=t}},{key:"ql",get:function(){return this.EF}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.xo(new W_(this)))}},{key:"Gl",get:function(){return this.SF}},{key:"t_",get:function(){return this.tN},set:function(t){this._N(t),this.xo(new Id(this))}},{key:"n_",get:function(){return this.RF},set:function(t){this.RF!==t&&(this.RF=t,this.xo(new tR(this,this.RF)))}},{key:"e_",get:function(){return this.IF},set:function(t){this.IF=t}},{key:"io",get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t,this.xo(new iR(this)))}}]),n}(ks),aR=function(t){function n(n,i){var r;return(r=t.call(this,eg.Wy,n)||this).Gg=i,r}return U(n,t),n.prototype.tl=function(){return new cR(this.jy.Kd)},n}(cg),cR=function(t){function n(n){return t.call(this,sg.Wy,n)||this}return U(n,t),n}(fg),fR=function(t){function n(n,i){var r;return(r=t.call(this,eg.zy,n)||this).Gg=i,r}return U(n,t),n.prototype.tl=function(){return new vR(this.jy.Kd)},n}(cg),vR=function(t){function n(n){return t.call(this,sg.zy,n)||this}return U(n,t),n}(fg),dR=function(t){function n(n){var i;return(i=t.call(this,kd.hl)||this).jy=n,i}return U(n,t),n.prototype.tl=function(){return new lR(this.jy.Kd)},n}(pd),lR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return U(n,t),n}(Ad),_R=function(t){function n(n){var i;return(i=t.call(this,kd.cl)||this).jy=n,i}return U(n,t),n.prototype.tl=function(){return new gR(this.jy.Kd)},n}(pd),gR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return U(n,t),n}(Ad),wR=function(t){function n(n){var i;return(i=t.call(this)||this).FF=void 0,i.Py=void 0,i.hm=void 0,i.$d=void 0,i.am=!1,i.vm="",i.HF=function(){i.lm=!0},i.VF=function(){i.lm=!1},i.Py=Y_(),i.FF=n,i.FF.addEventListener("enter",i.HF),i.FF.addEventListener("exit",i.VF),i}U(n,t);var i=n.prototype;return i.tl=function(){return vg(this)},i.ug=function(t){return this===t||Ld(this,t)&&gg(this,t)},i.Lv=function(){this.Mo(),this.FF.removeEventListener("enter",this.HF),this.FF.removeEventListener("exit",this.VF)},L(n,[{key:"Wl",get:function(){return this.Py}},{key:"Qy",get:function(){return this.FF.startTime},set:function(t){this.FF.startTime=t}},{key:"Yy",get:function(){return this.FF.endTime},set:function(t){this.FF.endTime=t}},{key:"Zy",get:function(){return this.FF.text},set:function(t){this.FF.text=t+""}},{key:"gm",get:function(){return!!this.FF.pauseOnExit},set:function(t){this.FF.pauseOnExit=!!t}},{key:"nl",get:function(){return this.hm},set:function(t){this.hm=t}},{key:"Xl",get:function(){return this.FF.id||""}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"_m",get:function(){return this.vm},set:function(t){this.vm=t}},{key:"lm",get:function(){return this.am},set:function(t){this.lm!==t&&(this.am=t,t?(this.xo(new aR(this,this.Qy)),this.hm&&this.hm.xo(new dR(this))):(this.xo(new fR(this,this.Yy)),this.hm&&this.hm.xo(new _R(this))))}}]),n}(sl),yR=function(t){function n(n){var i;return(i=t.call(this,kd.vl)||this).nl=n,i}return U(n,t),n.prototype.tl=function(){return new mR(this.nl.Kd)},n}(pd),mR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return U(n,t),n}(Ad);function kR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new pR(t),t.THEOplayerVTTRegion=n),n}}var pR=function(){function t(t){this.XF=void 0,this.$d=void 0,this.XF=t}return L(t,[{key:"WF",get:function(){return this.XF}},{key:"Xl",get:function(){return this.XF.id||""}},{key:"cu",get:function(){return+this.XF.width||0},set:function(t){this.XF.width=t||0}},{key:"wm",get:function(){return+this.XF.lines||0},set:function(t){this.XF.lines=t||0}},{key:"ym",get:function(){return+this.XF.regionAnchorX||0},set:function(t){this.XF.regionAnchorX=t||0}},{key:"mm",get:function(){return+this.XF.regionAnchorY||0},set:function(t){this.XF.regionAnchorY=t||0}},{key:"pm",get:function(){return+this.XF.viewportAnchorX||0},set:function(t){this.XF.viewportAnchorX=t||0}},{key:"Am",get:function(){return+this.XF.viewportAnchorY||0},set:function(t){this.XF.viewportAnchorY=t||0}},{key:"km",get:function(){return this.XF.scroll||""}},{key:"Kd",get:function(){return this.$d||(this.$d=Tg(this)),this.$d}}]),t}(),AR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"sm",get:function(){return this.FF.vertical||""},set:function(t){this.FF.vertical=t||""}},{key:"rm",get:function(){return!!this.FF.snapToLines},set:function(t){this.FF.snapToLines=!!t}},{key:"$y",get:function(){return this.FF.line},set:function(t){this.FF.line=t}},{key:"uh",get:function(){return+this.FF.size},set:function(t){this.FF.size=qt(t,0,100)}}]),n}(wR),bR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ug=function(n){return this===n||Ld(this,n)&&t.prototype.ug.call(this,n)&&yg(this,n)},L(n,[{key:"im",get:function(){return kR(this.FF.region)}},{key:"Ky",get:function(){return this.FF.lineAlign||"start"},set:function(t){this.FF.lineAlign=t||"start"}},{key:"tm",get:function(){return this.FF.position},set:function(t){this.FF.position=t}},{key:"nm",get:function(){return this.FF.positionAlign||"auto"},set:function(t){this.FF.positionAlign=t||"auto"}},{key:"Jy",get:function(){return this.FF.align||"center"},set:function(t){this.FF.align=t||"center"}},{key:"Kd",get:function(){return this.$d||(this.$d=lg(this)),this.$d}}]),n}(AR),TR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ug=function(n){return this===n||Ld(this,n)&&t.prototype.ug.call(this,n)&&yg(this,n)},L(n,[{key:"im",get:function(){return kR(this.WF)}},{key:"WF",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.FF.track,this.FF.regionId)}},{key:"Ky",get:function(){return"middle"===(t=this.FF.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.FF.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"tm",get:function(){return this.FF.position},set:function(t){var n,i;this.FF.position=(n=t,i=this.Jy,ag(n,i))}},{key:"nm",get:function(){return t=this.FF.positionAlign||"middle",og[t];var t},set:function(t){var n,i;this.FF.positionAlign=(n=t||"center",i=this.Jy,ug[hg(n,i)])}},{key:"Jy",get:function(){return"middle"===(t=this.FF.align||"middle")?"center":t;var t},set:function(t){var n;this.FF.align="center"===(n=t||"center")?"middle":n}},{key:"Kd",get:function(){return this.$d||(this.$d=lg(this)),this.$d}}]),n}(AR);function ER(t,n){return t.Zy===n.Zy}function SR(t,n,i){for(var r=t[n].Qy,e=n;e>=0&&t[e].Qy===r;e--)t[e].Yy=i}function RR(t){return vg(t)}var IR,NR,CR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).qF=void 0,r.qF=i,r}return U(n,t),n.prototype.ug=function(n){return this===n||Ld(this,n)&&t.prototype.ug.call(this,n)&&ER(this,n)},L(n,[{key:"Zy",get:function(){return this.qF}},{key:"Kd",get:function(){return this.$d||(this.$d=RR(this)),this.$d}}]),n}(wR);function DR(t){switch(t){case IR.ISO_8859_1:case IR.UTF16_BOM:case IR.UTF16:case IR.UTF8:return!0}return!1}function OR(t){switch(t){case IR.ISO_8859_1:return mu;case IR.UTF16_BOM:return Au;case IR.UTF16:return bu;case IR.UTF8:return Cu}}function xR(t,n){var i=n.vh,r=t.byteLength,e=Lu(t);return n.hh(r-i),Fu(e,i,r).buffer}function PR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function BR(t,n,i){var r=eu(t,n);if(DR(r)){var e=OR(r);return{id:i,language:wu(t,n,3),description:e(t,n),text:e(t,n)}}}function LR(t,n,i){var r=eu(t,n);if(DR(r)){var e=OR(r);return{id:i,mimeType:mu(t,n),fileName:e(t,n),description:e(t,n),data:xR(t,n)}}}function MR(t,n,i){var r=eu(t,n);if(DR(r)){for(var e=OR(r),s=[];n.vh<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function UR(t,n,i){var r=eu(t,n);if(DR(r)){for(var e=OR(r),s=wu(t,n,3),u=eu(t,n),o=eu(t,n),h=e(t,n),a=!1,c=[];n.vh<t.byteLength;){var f=void 0;if(r===IR.UTF16_BOM){var v=pu(t,n);void 0===v?v=a:a=v,f=bu(t,n,v)}else f=e(t,n);if(!f||n.vh+4>t.byteLength)break;c.push({text:f,timestamp:vu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function FR(t,n,i){return{id:i,ownerIdentifier:mu(t,n),identifier:xR(t,n)}}function HR(t,n,i){var r=eu(t,n);if(DR(r)){var e=OR(r);return{id:i,language:wu(t,n,3),description:e(t,n),text:e(t,n)}}}function VR(t,n,i){var r=eu(t,n);if(DR(r))return{id:i,text:OR(r)(t,n)}}function XR(t,n,i){return{id:i,url:mu(t,n)}}function WR(t,n,i){var r=eu(t,n);if(DR(r)){var e=OR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function qR(t,n,i){var r=eu(t,n);if(DR(r))return{id:i,description:OR(r)(t,n),url:mu(t,n)}}function zR(t,n,i){switch(i){case"COM":return BR(t,n,i);case"GEO":return LR(t,n,i);case"IPL":return MR(t,n,i);case"PIC":return function(t,n,i){var r=eu(t,n);if(DR(r)){var e,s,u=OR(r),o=wu(t,n,3),h=eu(t,n),a=u(t,n);return"--\x3e"===o?(e=o,s=mu(t,n)):(e="image/"+o.toLowerCase(),s=xR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return UR(t,n,i);case"TXX":return WR(t,n,i);case"UFI":return FR(t,n,i);case"ULT":return HR(t,n,i);case"WXX":return qR(t,n,i);default:if("T"===i.charAt(0))return VR(t,n,i);if("W"===i.charAt(0))return XR(t,n,i)}}function GR(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=eu(t,n);if(DR(r)){var e=OR(r),s=mu(t,n);return{id:i,mimeType:s,pictureType:eu(t,n),description:e(t,n),data:"--\x3e"===s?mu(t,n):xR(t,n)}}}(t,n,i);case"COMM":return BR(t,n,i);case"COMR":return function(t,n,i){var r=eu(t,n);if(DR(r)){var e,s,u=OR(r),o=mu(t,n),h=wu(t,n,8),a=mu(t,n),c=eu(t,n),f=u(t,n),v=u(t,n);return n.vh<t.byteLength&&(e=mu(t,n)||"image/",s=xR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return LR(t,n,i);case"IPLS":return MR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:mu(t,n),data:xR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:eu(t,n),position:vu(t,n)}}(t,n,i);case"SYLT":return UR(t,n,i);case"TXXX":return WR(t,n,i);case"UFID":return FR(t,n,i);case"USER":return function(t,n,i){var r=eu(t,n);if(DR(r)){var e=OR(r);return{id:i,language:wu(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return HR(t,n,i);case"WXXX":return qR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return VR(t,n,i);default:var r=i.charAt(0);if("T"===r)return VR(t,n,i);if("W"===r)return XR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(IR||(IR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(NR||(NR={}));var jR=10;function QR(t,n){return(127&eu(t,n))<<21|(127&eu(t,n))<<14|(127&eu(t,n))<<7|127&eu(t,n)}function YR(t,n){switch(t){case NR.V24:return{zF:ru(n,0),GF:ru(n,1),jF:ru(n,2),QF:ru(n,3)};case NR.V23:return{zF:ru(n,0),GF:ru(n,1),jF:ru(n,2)};case NR.V22:return{zF:ru(n,0),YF:ru(n,1)}}}function ZR(t,n,i){switch(i.Yk){case NR.V23:i.Zk.GF&&function(t,n){var i=n.vh,r=vu(t,n)+4,e=32768&cu(t,n);n.ah(i+r),e&&vu(t,n)}(t,n);break;case NR.V24:i.Zk.GF&&function(t,n){var i=n.vh,r=QR(t,n);n.ah(i+r)}(t,n)}}function JR(t,n){if(t.byteLength-n.vh<jR)return null;if(73!==eu(t,n)||68!==eu(t,n)||51!==eu(t,n))return null;var i=eu(t,n),r=eu(t,n);if(!function(t){switch(t){case NR.V22:case NR.V23:case NR.V24:return!0}return!1}(i))return null;var e=eu(t,n),s=QR(t,n);return{Yk:i,ZF:r,Zk:YR(i,e),JF:s}}function $R(t,n,i){switch(i.Yk){case NR.V22:return function(t,n,i){return{Xl:wu(t,n,3),uh:au(t,n,3)}}(t,n);case NR.V23:return function(t,n,i){var r=wu(t,n,4),e=vu(t,n);eu(t,n);var s=eu(t,n);return{Xl:r,uh:e,Zk:{YF:ru(s,0),KF:ru(s,1),groupingIdentity:ru(s,2)}}}(t,n);case NR.V24:return function(t,n,i){var r=wu(t,n,4),e=QR(t,n);eu(t,n);var s=eu(t,n);return{Xl:r,uh:e,Zk:{groupingIdentity:ru(s,1),YF:ru(s,4),KF:ru(s,5),zF:ru(s,6),tH:ru(s,7)}}}(t,n)}}function KR(t){for(var n=new y(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function tI(t,n){var i=n||new Vu,r=JR(t,i);return r?{qk:r,nH:function(t,n,i){var r=[],e=n.vh,s=Pu(t,e,e+i.JF),u=new Vu;switch(n.hh(i.JF),i.Yk){case NR.V22:case NR.V23:i.Zk.zF&&(s=KR(s))}ZR(t,n,i);for(;u.vh<s.byteLength;)r.push(nI(s,u,i));return r}(t,i,r)}:null}function nI(t,n,i){var r,e,s=$R(t,n,i),u=n.vh,o=Pu(t,u,u+s.uh);switch(n.hh(s.uh),i.Yk){case NR.V22:var h=s;r=zR(e=o,new Vu,h.Xl);break;case NR.V23:var a=s,c=new Vu;!function(t,n,i){var r,e,s,u=i.Zk;u.YF&&(r=vu(t,n)),u.KF&&(e=eu(t,n)),u.groupingIdentity&&(s=eu(t,n))}(o,c,a),r=GR(e=Pu(o,c.vh,o.byteLength),new Vu,a.Xl);break;case NR.V24:var f=s,v=new Vu;f.Zk.zF&&(o=KR(o)),function(t,n,i){var r,e,s,u,o=i.Zk;o.groupingIdentity&&(r=eu(t,n)),o.YF&&(e=vu(t,n)),o.KF&&(s=eu(t,n)),o.tH&&(u=QR(t,n))}(o,v,f),r=GR(e=Pu(o,v.vh,o.byteLength),new Vu,f.Xl)}if(!r){var d=Hu(Lu(e));r=PR(s.Xl,d.buffer)}return r}function iI(t){return function(t,n,i){return VR(t,n,i)}(new DataView(t.data),new Vu,t.key)}function rI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return iI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return PR(t.key,t.data)}(t)}var eI="org.id3";var sI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).Dy=void 0,e.iH=void 0,e.AF=[],e.NF=[],e.CF=void 0,e.DF=void 0,e.Py=void 0,e.xy=void 0,e.tN=Yd.Yl,e.RF=K_.NONE,e.$d=void 0,e.IF=void 0,e.xs=tg.DEFAULT,e.rH=void 0,e.eH=function(){e.sH(),e.Dy.removeEventListener("cuechange",e.eH)},e.uH=function(){e.t_!==Yd.Yl&&(e.oH(),e.MF(),e.AF.length&&e.hH(K_.LOADING))},e.aH=function(){e.hH(K_.LOADED)},e.cH=function(){e.hH(K_.ERROR)},e.Dy=n,e.rH=r,e.Dy.addEventListener("cuechange",e.eH),e.Dy.addEventListener("cuechange",e.uH),e.iH=i,e.iH&&(e.IF=Cf(e.iH.src),e.iH.addEventListener("load",e.aH),e.iH.addEventListener("error",e.cH)),e.Py=G_(),e.xy=n.label||"",e.CF=new KS(e.AF),e.DF=new KS(e.NF),e.t_=e.fH,fs(function(){e.uH(),e.hH(K_.NONE)}),e}U(n,t);var i=n.prototype;return i.tl=function(){return tl(this)},i.sH=function(){var t=this.t_;this.vH||t!==Yd.Jl?this.fH=t:this.fH=Yd.Zl},i.dH=function(){var t=this.t_,n=this.fH;t!==n&&(this.vH||t!==Yd.Jl||n!==Yd.Zl)&&("metadata"===this.ql&&n===Yd.Yl?this.t_=t:this.t_=n)},i.aF=function(t){this.RF!==t&&(this.RF=t,this.xo(new tR(this,t)))},i.hH=function(t){var n=l.max(this.RF,this.lH,t);this.aF(n)},i._H=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.gH=function(t){var n=this._H(t);if(n)return n;if(K(n=this.wH(t)))for(var i=0,r=n;i<r.length;i++){r[i].nl=this}else n.nl=this;return t.THEOplayerTextTrackCue=n,n},i.wH=function(t){return(n=t)&&n.type===eI&&n.value?(this.io=tg.ID3,function(t){var n;try{n=rI(t.value)}catch(t){n=PR("")}return new CR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.io=tg.ID3,function(t){var n=[];try{var i=tI(new DataView(t.data));if(i)for(var r=0,e=i.nH;r<e.length;r++){var s=e[r];n.push(new CR(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.io=tg.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new TR(t):new bR(t)):new wR(t);var n},i.yH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.gH(t[r]||t.item(r));if(K(e))for(var s=0;s<e.length;s++){var u=e[s];n.push(u)}else n.push(e)}return n},i.oH=function(){for(var t=this.yH(this.Dy.cues),n=$S(this.AF,t),i=0,r=n.pF;i<r.length;i++){var e=r[i];this.xo(new uR(e))}for(var s=0,u=n.kF;s<u.length;s++){var o=u[s];this.xo(new eR(o))}},i.MF=function(){for(var t=this.yH(this.Dy.activeCues),n=$S(this.NF,t),i=0,r=n.pF;i<r.length;i++){r[i].lm=!1}for(var e=0,s=n.kF;e<s.length;e++){s[e].lm=!0}(n.kF.length||n.pF.length)&&this.xo(new yR(this))},i.Lv=function(){this.Mo();for(var t=this.AF.slice(),n=0;n<t.length;n++){t[n].Lv()}Je(this.AF),Je(this.NF),this.Dy.removeEventListener("cuechange",this.uH),this.iH&&(this.Dy.removeEventListener("load",this.aH),this.Dy.removeEventListener("error",this.cH)),this.iH&&Er(this.iH)},L(n,[{key:"r_",get:function(){return this.DF}},{key:"Xb",get:function(){return this.iH?this.iH.default:void 0}},{key:"i_",get:function(){return this.CF}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Xl",get:function(){return this.Dy.id||this.iH&&this.iH.id||""}},{key:"Wl",get:function(){return this.Py}},{key:"Kl",get:function(){return this.Dy.inBandMetadataTrackDispatchType||""}},{key:"ql",get:function(){return this.Dy.kind||ty.yk}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.zl&&(this.xy=t,this.xo(new W_(this)))}},{key:"Gl",get:function(){return this.Dy.language||""}},{key:"t_",get:function(){return this.tN},set:function(t){var n=this.t_;this.tN=$d(t),this.sH();var i=this.t_;n!==i&&this.xo(new Id(this)),i!==Yd.Yl&&this.hH(K_.LOADING)}},{key:"fH",get:function(){return $d(this.Dy.mode)},set:function(t){this.Dy.mode=t}},{key:"Fy",get:function(){return this.Dy}},{key:"n_",get:function(){return this.RF}},{key:"lH",get:function(){return this.iH?+this.iH.readyState||K_.NONE:K_.LOADED}},{key:"e_",get:function(){return this.IF}},{key:"io",get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t,this.xo(new iR(this)))}},{key:"vH",get:function(){return this.rH},set:function(t){this.rH=t,this.sH()}}]),n}(ks);function uI(t){return t instanceof sI}function oI(t,n){return f_(t.Gg,n.Gg)||function(t,n){return t.nl===n.nl?c_(JS(t),JS(n)):_y(t.nl,n.nl)}(t.jy,n.jy)||function(t,n){return t===n?e_.Q_:t===eg.Wy?e_.Z_:e_.Y_}(t.type,n.type)}var hI=function(){function t(t,n){var i=this;this.DR=void 0,this.mH=void 0,this.Lw=[],this.kH=0,this.pH=0,this.AH=[],this.bH=!1,this.TH=!1,this.EH=void 0,this.SH=function(){i.kH=0,i.RH(),i.IH()},this.NH=function(){i.RH(),i.IH()},this.CH=function(){i.TH=!0,i.EH=i.DR.M_,i.DH()},this.OH=function(){i.RH(),i.IH()},this.xH=function(){i.PH(),i.RH(),i.IH()},this.BH=function(){i.LH()},this.MH=function(t){je(i.AH,t.jy),i.LH()},this.mH=n,this.DR=t,t.Po(qo.pc,this.NH),t.Po(qo.hc,this.NH),t.Po(xl.L_,this.NH),t.Po(qo.oc,this.NH),t.Po(qo.lc,this.CH),t.Po(qo.dc,this.OH),this.LH()}var n=t.prototype;return n.Cl=function(){Je(this.AH);for(var t=0,n=this.Lw.slice();t<n.length;t++){var i=n[t];this.Il(i)}this.DH(),this.kH=0,this.pH=0,this.bH=!1,this.TH=!1,this.EH=void 0},n.Rl=function(t){Ye(this.Lw,t)||(this.Lw.push(t),t.Po(kd.il,this.BH),t.Po(kd.ul,this.MH),t.Po(kd.ll,this.xH),t.i_.Ol&&this.LH(),this.PH())},n.Il=function(t){if(je(this.Lw,t)){if(t.Uo(kd.il,this.BH),t.Uo(kd.ul,this.MH),t.Uo(kd.ll,this.xH),t.i_.Ol){for(var n=0,i=t.i_.Dl;n<i.length;n++){var r=i[n];je(this.AH,r)}this.LH()}this.PH()}},n.PH=function(){this.bH=this.Lw.some(function(t){return t.t_!==Yd.Yl})},n.IH=function(){this.DR.q_||this.DR.X_?this.DH():this.LH()},n.LH=function(){this.bH&&(this.kH||(this.kH=this.mH.hr(this.SH)))},n.DH=function(){this.kH&&(this.mH.UH(this.kH),this.kH=0)},n.RH=function(){var t;if(this.bH&&!this.DR.q_){var n=this.Lw,i=this.pH,r=null!=(t=this.EH)?t:this.DR.M_,e=r-i<-.1,s=this.TH||e;s&&r>i&&r-i<.1&&(s=!1),this.TH=!1,this.EH=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.t_!==Yd.Yl){a.MF(r,s);for(var c=0,f=a.r_.Dl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.AH;else{u=[];for(var d=0;d<n.length;d++){var _=n[d];_.t_!==Yd.Yl&&ly(_,i-1/6,r,u)}}for(var g=u.length-1;g>=0;g--)Ye(o,u[g])&&Qe(u,g);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Qy>=i&&m.Yy<=r&&(w.push(m),Qe(u,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.lm||k.push(new aR(b,b.Qy)),k.push(new fR(b,l.max(b.Qy,b.Yy)))}for(var T=0,E=u;T<E.length;T++){var S=E[T];S.lm&&(k.push(new fR(S,l.max(S.Qy,S.Yy))),S.lm=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.lm||(k.push(new aR(I,I.Qy)),I.lm=!0)}k.sort(oI);for(var N=0;N<k.length;N++){var C=k[N],D=C.jy;D.xo(C);var O=D.nl;O&&(C.type===eg.Wy?O.xo(new dR(D)):O.xo(new _R(D)),Ye(p,O)||p.push(O))}p.sort(_y);for(var x=0;x<p.length;x++){var P=p[x];P.xo(new yR(P))}this.pH=r,this.AH=o}},n.Lv=function(){this.Cl(),this.DR.Uo(qo.pc,this.NH),this.DR.Uo(qo.hc,this.NH),this.DR.Uo(xl.L_,this.NH),this.DR.Uo(qo.oc,this.NH),this.DR.Uo(qo.lc,this.CH),this.DR.Uo(qo.dc,this.OH)},t}(),aI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return hT(t)},n.UH=function(t){aT(t)},t}(),cI=new aI,fI=function(t){function n(n,i){return void 0===i&&(i=cI),t.call(this,n,i)||this}return U(n,t),n}(hI),vI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).FH=void 0,e}return U(n,t),n.prototype.ug=function(n){return this===n||Ld(this,n)&&t.prototype.ug.call(this,n)&&ER(this,n)},L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=RR(this)),this.$d}}]),n}(wg),dI=function(t){function n(n,i,r){return void 0===r&&(r=tg.DEFAULT),t.call(this,ty.kk,"",i||"","",!1,r,n)||this}return U(n,t),n}(hR),lI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).io=tg.ID3,r.FH=void 0,r}U(n,t);var i=n.prototype;return i.Hb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Qy<t.Qy)SR(n,i,t.Qy);else{var r=n[0];if(r.Qy>t.Qy)t.Yy=r.Qy;else{var e=ZS(n,t);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0&&n[u].Qy<t.Qy&&SR(n,u,t.Qy),s<n.length){var o=n[s];t.Yy=o.Qy}}}}}}(n,this.AF),t.prototype.Hb.call(this,n)},i.tl=function(){return tl(this)},n}(dI);function _I(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=rI(t.value);return t.THEOplayerTextTrackCue=new vI(i,r),t.THEOplayerTextTrackCue}var gI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Dy=void 0,i.uH=function(){i.t_!==Yd.Yl&&(i.oH(),i.hH(K_.LOADED))},i.Dy=n,i.Dy.addEventListener("cuechange",i.uH),i.t_=i.fH,fs(function(){i.uH()}),i}U(n,t);var i=n.prototype;return i._N=function(n){t.prototype._N.call(this,n),this.fH=this.t_},i.hH=function(t){this.n_=l.max(this.n_,t)},i.oH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(_I(t[r]||t.item(r)));return Xe(i,YS),i}(this.Dy.cues),n=$S(this.i_.Dl.slice(),t),i=0,r=n.pF;i<r.length;i++){var e=r[i];this.LF(e)}for(var s=0,u=n.kF;s<u.length;s++){var o=u[s];this.Hb(o)}},i.Lv=function(){this.Dy.removeEventListener("cuechange",this.uH),t.prototype.Lv.call(this)},L(n,[{key:"Xl",get:function(){return this.Dy.id||""}},{key:"Kl",get:function(){return this.Dy.inBandMetadataTrackDispatchType||""}},{key:"Gl",get:function(){return this.Dy.language||""}},{key:"fH",get:function(){return $d(this.Dy.mode)},set:function(t){this.Dy.mode=t}},{key:"Fy",get:function(){return this.Dy}}]),n}(lI),wI=function(t){function n(n){var i;return(i=t.call(this,0,n.Zy)||this).HH=void 0,i.HH=n,i.Yy=i.HH.Qy,i}return U(n,t),L(n,[{key:"Xl",get:function(){return this.HH.Xl}},{key:"gm",get:function(){return this.HH.gm},set:function(t){this.HH.gm=t}},{key:"_m",get:function(){return this.HH._m},set:function(t){this.HH._m=t}}]),n}(vI);function yI(t){return void 0===t.FH&&(t.FH=new wI(t)),t.FH}var mI=function(t){function n(n,i){var r;(r=t.call(this,n.Kl,n.zl)||this).VH=void 0,r.XH=void 0,r.WH=void 0,r.io=tg.ID3,r.qH=function(t){r.zH(t.jy)},r.GH=function(t){var n=t.jy;if(void 0!==n.FH){var i=n.FH;n.FH=void 0,r.LF(i),i.Lv()}},r.jH=function(t){var n=yI(t.jy);n.lm||r.QH(n),r.YH(n)},r.ZH=function(t){var n=t.jy,i=yI(n);r.XH.M_<n.Qy&&r.QH(i)},r.JH=function(){var t=r.WH,n=r.t_;if(r.WH=n,n===Yd.Yl)r.NF.forEach(function(t){return t.lm=!1}),Je(r.NF);else if(t===Yd.Yl)for(var i=r.XH.M_,e=0,s=r.AF;e<s.length;e++){var u=s[e];i<u.Yy&&r.QH(u)}},r.XH=i,r.VH=n,r.WH=n.t_,n.Po(kd.il,r.qH),n.Po(kd.ul,r.GH),n.Po(kd.hl,r.jH),n.Po(kd.cl,r.ZH),n.Po(kd.ll,r.JH);for(var e=0,s=r.VH.i_.Dl;e<s.length;e++){var u=s[e];r.zH(u)}return r}U(n,t);var i=n.prototype;return i.QH=function(t){var n=ZS(this.NF,t);if(!(n>=0)){var i=-(n+1);this.NF.splice(i,0,t),t.lm=!0,t.xo(new aR(t,this.XH.M_)),this.xo(new dR(t)),this.xo(new yR(this))}},i.YH=function(t){var n=ZS(this.NF,t);n>=0&&Qe(this.NF,n),t.lm=!1,t.xo(new fR(t,this.XH.M_)),this.xo(new _R(t)),this.xo(new yR(this))},i.Lv=function(){this.VH.Uo(kd.il,this.qH),this.VH.Uo(kd.ul,this.GH),this.VH.Uo(kd.hl,this.jH),this.VH.Uo(kd.cl,this.ZH),this.VH.Uo(kd.ll,this.JH),t.prototype.Lv.call(this)},i.zH=function(t){var n=yI(t);(this.Hb(n),this.t_!==Yd.Yl)&&(this.XH.M_<n.Yy&&this.QH(n))},L(n,[{key:"ql",get:function(){return this.VH.ql}},{key:"zl",get:function(){return this.VH.zl},set:function(t){this.VH.zl=t}},{key:"Gl",get:function(){return this.VH.Gl}},{key:"Xl",get:function(){return this.VH.Xl}},{key:"Wl",get:function(){return this.VH.Wl}},{key:"Kl",get:function(){return this.VH.Kl}},{key:"t_",get:function(){return this.VH.t_},set:function(t){this.VH.t_=t}},{key:"n_",get:function(){return this.VH.n_}},{key:"e_",get:function(){return this.VH.e_}}]),n}(dI),kI=function(t){function n(n){var i;return(i=t.call(this)||this).XH=void 0,i.XH=n,i}U(n,t);var i=n.prototype;return i.Rl=function(n){if(n.io===tg.ID3){var i=n;return i.FH||(i.FH=new mI(i,this.XH)),t.prototype.Rl.call(this,i.FH)}return t.prototype.Rl.call(this,n)},i.Il=function(n){if(n.io===tg.ID3){var i=n;return!!i.FH&&t.prototype.Il.call(this,i.FH)}return t.prototype.Il.call(this,n)},n}(el),pI=function(t){function n(n,i){var r;return(r=t.call(this)||this).$H=ie(),r.iS=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.nl).io){t.next=4;break}return t.next=4,i.Xo(kd.yl);case 4:if(i.io===tg.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.i_.Ol){t.next=11;break}return t.next=9,i.Xo(kd.il);case 9:t.next=6;break;case 11:r.KH(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.rS=function(t){var n=t.nl;if(n.io===tg.ID3&&r.$H.has(n.Wl)){var i=r.$H.get(n.Wl);r.Il(i),r.Pb.Vb(i),n.Uo(kd.il,r.zH)}},r.zH=function(t){AI(t.jy)&&r.tV(t.jy)},r.Pb=n,r.nV=i,r.iV(),r}U(n,t);var i=n.prototype;return i.iV=function(){this.nV.Po(_d.Qd,this.iS),this.nV.Po(_d.Zd,this.rS)},i.rV=function(){this.nV.Uo(_d.Qd,this.iS),this.nV.Uo(_d.Zd,this.rS)},i.KH=function(t){var n=t.i_.Dl[0];if(AI(n)){var i=function(t){var n=t.match(bI);if(!n)return;return{nl:n[1],Gl:n[2]}}(n.Zy.description),r=i.nl,e=i.Gl;if(!this.eV(r,e)){var s=this.Pb.Ub(ty.yk,t.Xl,r,e,!1,tg.TTML);this.Rl(s),this.$H.set(t.Wl,s);for(var u=0,o=t.i_.Dl;u<o.length;u++){var h=o[u];AI(h)&&this.tV(h)}t.Po(kd.il,this.zH)}}},i.eV=function(t,n){return!!ze(this.vp.Dl,function(i){return i.zl===t&&i.Gl===n})},i.tV=function(t){if(t.nl)for(var n=this.$H.get(t.nl.Wl),i=qw(t.Zy.text,0,{bm:0,Tm:1/0,Em:-t.Yy}),r=0;r<i.length;r++){var e=i[r];n.Hb(e)}},i.Cl=function(){var n=T.coroutine($r.mark(function n(){var i,r,e,s,u;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.nV.Dl;i<r.length;i++)r[i].Uo(kd.il,this.zH);for(e=0,s=this.vp.Dl;e<s.length;e++)u=s[e],this.Pb.Vb(u);return this.$H.clear(),n.next=5,t.prototype.Cl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Lv=function(){var n=T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.rV(),n.next=3,t.prototype.Lv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(iy);function AI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Zy)&&bI.test(n.description);var n}var bI=/^Track:(.+),Lang:(.+)$/;var TI=function(t){function n(n){var i;return(i=t.call(this,qo.ja)||this).errorObject=void 0,i.errorObject=n,i}return U(n,t),L(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(As),EI=function(t){function n(){return t.call(this,qo.Qa)||this}return U(n,t),n}(As),SI=function(t){function n(n){var i;return(i=t.call(this,"Tc")||this).sV=n,i}return U(n,t),n}(As),RI=new VE,II=function(t){function i(i,r,e){var s;return(s=t.call(this)||this).Mh=void 0,s.Wi=!1,s.uV=!1,s.Cd=new ns,s.Rh=function(t){switch(t.Go){case"license-request":s.bT(t.zo,t.jo).catch(function(t){return s.ha(t)});break;default:s.ha(new B_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Go))}},s.oV=function(t){s.hV.Fh.rh(function(t,n){switch(t){case"usable":b.ur(function(){s.uV=!0,s.xo(new EI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.xo(new SI(n))}})},s.aV=function(t){s.ha(new B_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.hV=i,s.cV=r,s.fV=e,i.Po("zo",s.Rh),i.Po("qo",s.oV),i.Po("Qo",s.aV),s.Mh=i.Mh.then(function(){return s.vV()}),s}U(i,t);var r=i.prototype;return r.Oh=function(){var t=this;return this.Wi=!0,RI.tL(function(n){return t.dV(n)},this.Cd.Io)},r.dV=function(){var t=T.coroutine($r.mark(function t(i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,es(i),t.next=4,this.cV.gT(i);case 4:return t.next=6,this.cV.wT(this.fV.eo,this.fV.Ko,i);case 6:return r=t.sent,t.next=9,this.hV.Oh(this.fV.eo,this.fV.Ko,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),ss(t.t0),e=t.t0 instanceof Qu?t.t0.kh:void 0,s=new B_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ha(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.bT=function(){var t=T.coroutine($r.mark(function t(i,r){var e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!zu(i)){t.next=7;break}return t.next=4,this.cV.DT(new y(i),this.Cd.Io);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.cV.OT(new y(i),r,this.Cd.Io);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!rs(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.hV.Bh(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof Qu?t.t1.kh:void 0,new B_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ha=function(t){var i=t instanceof B_?t:new B_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.xo(new TI(i)),this.Dh()},r.vV=function(){this.hV.Uo("zo",this.Rh),this.hV.Uo("qo",this.oV),this.hV.Uo("Qo",this.aV),this.uV=!1,this.Cd.Eo()},r.Dh=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.vV(),t.next=4,this.hV.Dh().catch(S);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(ks),NI=[qo.Qa,qo.ja,qo.bc],CI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ih=void 0,e.Vh=void 0,e.lV=void 0,e._V=[],e.gV=void 0,e.wV=[],e.Ih=n,e.Vh=i,e.lV=r,e}U(n,t);var i=n.prototype;return i.CT=function(){return this.lV.CT()},i.yV=function(t){return this.gV||(this.gV=this.mV(t)),this.gV},i.mV=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(n),t.next=3,this.lV.DT(new y(qu()),n);case 3:return i=t.sent,es(n),t.next=7,this.Vh.zh(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.kV=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.wV.push(n),t.next=4,this.Vh.qh("temporary");case 4:return i=t.sent,r=new II(i,this.lV,n),this._V.push(r),r.Po(NI,this.Oo),r.Mh.then(function(){return e.pV(r)}),t.abrupt("return",r);case 10:return t.prev=10,je(this.wV,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.AV=function(t){if(t.bV)return!1;for(var n=0,i=this._V;n<i.length;n++){if(DI(i[n].fV,t))return!0}for(var r=0,e=this.wV;r<e.length;r++){if(DI(e[r],t))return!0}return!1},i.pV=function(t){t.Uo(NI,this.Oo),je(this._V,t)},i.Lv=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),n=this._V.slice(),Je(this._V),t.next=5,T.all(n.map(function(t){return t.Dh()}));case 5:this.lV.mo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Xh",get:function(){return this.Ih}}]),n}(ks);function DI(t,n){return!t.bV&&t.eo===n.eo&&Xs(t.Ko,n.Ko)}var OI=function(t){function i(n){var i;return(i=t.call(this)||this).cS=void 0,i.Cd=new ns,i.fL=new VE,i._a=void 0,i.lV=void 0,i.fS=void 0,i.Ih=void 0,i.TV=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.EV(n.eo,n.Ko,i.Cd.Io);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),rs(t.t0)||i.ha(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.cS=n,i.cS.Po(ms.Yo,i.TV),i}U(i,t);var r=i.prototype;return r.xh=function(t,n){this.fS=t,this.LL(n)},r.LL=function(t){this._a=t,this.SV(this.Cd.Io).catch(us)},r.SV=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.Pu.uu){t.next=5;break}return t.next=3,this.RV(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this._a||!this._a.IV){t.next=9;break}return t.next=8,this.NV(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.RV=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this._a)?void 0:i.VS){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,s=null!=(u=null==(o=this._a)?void 0:o.VS)?u:[];case 5:if(!(e<s.length)){t.next=27;break}h=s[e],a=0,c=null!=(f=h.KE)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.EV(h.Xh.eo,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),ss(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.EV=function(){var t=T.coroutine($r.mark(function t(i,r,e){var s,u,o,h,a,c,f,v,d,l;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this._a&&this._a.VS.length){t.next=5;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===fe||i===de||i===ve){t.next=8;break}return t.abrupt("return");case 8:s=Gm(i,r),u=this._a.VS,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],es(e),(c=s[a.Xh.so])&&a.Xh.eo===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.CV(a,e);case 20:if(!(f=t.sent).CT()){t.next=24;break}return t.next=24,f.yV();case 24:if(v=this.cS.yy,d={eo:a.Xh.eo,Ko:c,bV:v},!this.DV(f,d)){t.next=32;break}return t.next=29,f.kV(d);case 29:return l=t.sent,t.next=32,l.Oh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),ss(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,b.bu();case 44:if(!t.sent){t.next=48;break}throw new B_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new B_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.NV=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this._a)?void 0:i.VS){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return s=r[e],es(n),t.prev=7,t.next=10,this.CV(s,n);case 10:if(!(u=t.sent).CT()){t.next=14;break}return t.next=14,u.yV();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),ss(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.DV=function(t,n){return b.Pu.su||!t.AV(n)},r.CV=function(t,n){var i=this;return this.fL.tL(function(n){return i.OV(t,n)},n)},r.OV=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(i),this._a&&this.lV&&this.fS){t.next=3;break}throw new f("Not initialized");case 3:if(!this.Ih){t.next=7;break}if(this.Ih.Xh===n.Xh){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.Ih);case 7:return r=this.lV,e=Kr({},n,{nR:n.nR.map(function(t){var i;return Kr({},t,{persistentState:null!=(i=t.persistentState)?i:r.$T(n.Xh),ta:t.ta||r.ta(n.Xh)})})}),t.next=11,this.fS.xL(e.Xh,e.nR);case 11:return s=t.sent,u=r.$E(e),(o=new CI(e.Xh,s,u)).Po([qo.Qa,qo.ja,qo.bc],this.Oo),this.Ih=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ha=function(t){var i=t instanceof B_?t:new B_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.xo(new TI(i))},r.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fS=void 0,this._a=void 0,this.Cd.Eo(),this.Cd=new ns,t.next=6,this.xV();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xV=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fL.Eo();case 2:if(!(n=this.Ih)){t.next=8;break}return n.Uo(qo.bc,this.Oo),this.Ih=void 0,t.next=8,n.Lv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.cS.Uo(ms.Yo,this.TV),t.next=4,this.Cl();case 4:return t.next=6,this.fL.Lv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"PV",get:function(){var t;return null==(t=this.Ih)?void 0:t.Xh}},{key:"US",get:function(){return this.lV},set:function(t){this.lV=t}}]),i}(ks),xI=Q.Ie||Q.Ne,PI=Q.Ge,BI=.5,LI=5,MI=Q.Pe,UI=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Ra=void 0,s.BV=void 0,s.vS=void 0,s.PR=!0,s.fS=void 0,s.LV=new VE,s.MV=void 0,s.UV=void 0,s.FV=void 0,s.NL=void 0,s.Lw=void 0,s.FI=void 0,s.HV=[],s.VV=void 0,s.XV=void 0,s.WV=void 0,s.qV=void 0,s.zV=void 0,s.GV=void 0,s.jV=void 0,s.QV=NaN,s.YV=void 0,s.ZV=void 0,s.BI=!1,s.JV=T.resolve(),s.$V=new ns,s.KV=[],s.tX=Jp.SI(),s.nX=void 0,s.iX=1,s.rX=!1,s.eX=!1,s.ho=void 0,s.sX=!1,s.uX=!1,s.oX=!1,s.hX=!1,s.aX=0,s.cX=function(t){var n=t.track,i=s.fX(n);s.vX(n,i)},s.dX=function(t){var n=XI(s.VV,t.track);n&&s.VV.Il(n)},s.lX=function(){for(var t=0;t<s.Lw.Ol;t++){var n=s.Lw.Sl(t);n instanceof sI&&n.dH()}},s._X=function(){s.VV.Cl()},s.gX=function(){var t=s.fS,n=t.IU,i=t.NU;if(n&&i)if(t.XL)s.wX();else if(t.n_!==xS.pM){var r=n._y,e=i._y;if(0!==r.Ol&&0!==e.Ol){var u=s.M_;if(u<r.WR(0)||u<e.WR(0))s.wX();else if(r.iR(u)!==e.iR(u))s.yX();else if(s.wX(),!s.aX&&s.FV.gF())r.aI(e).lI(u,u+BI)&&(s.aX=hT(s.mX))}else s.wX()}},s.mX=function(){s.aX=0,s.gX()},s.kX=function(){if(!(s.q_||s.n_>=_l.N_)){0;var t=s.fS,n=t.IU,i=t.NU;if(n&&i){var r=s.M_,e=n._y,u=i._y;if(e.iR(r)&&u.iR(r))e.aI(u).lI(r-LI,r)&&s.ah(r)}}},s.pX=function(){s.xo(new Ll(s.M_))},s.AX=function(){s.bX(new is),s.xo(new Bl(s.M_))},s.TX=function(){s.EX(),s.xo(new Jy(s.M_))},s.SX=function(){s.RX(s.W_)},s.IX=function(){s.xo(new Vl(s.U_))},s.NX=function(){s.xo(new hS(s.M_))},s.CX=function(){s.xo(new aS)},s.DX=function(){var t=s.M_,n=s.q_,i=s.n_<_l.N_&&!s.F_,r=void 0!==s.ZV,e=r&&s.ZV!==t;(n||!r||e&&!i)&&(s.xo(new Wl(s.M_,void 0)),s.ZV=t)},s.OX=function(){!s.rX&&s.F_&&(s.rX=!0,s.xo(new ql(s.M_)))},s.xX=function(){if(null!==s.Ra.error){var t,n=s.Ra.error;s.pS(new L_(null!=(t=n.code)?t:O_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.PX=function(){s.xo(new Ql(s.M_,s.j_))},s.BX=function(){s.G_>0&&s.z_>0&&s.xo(new Ry)},s.LX=function(t){s.xo(new Is(t.initDataType,t.initData||new ArrayBuffer(0)))},s.MX=function(){s.xo(new Ns)},s.UX=function(t){var n=t.initData,i=n?Hu(n).buffer:new ArrayBuffer(0);s.xo(new Is(fe,i))},s.FX=function(t){if(t.initData){var n=FI(t.initData);if(!n)return;s.xo(new Is(de,n))}else s.xo(new Is(de,new ArrayBuffer(0)))},s.HX=function(t){var n=t.initData,i=n?Hu(n).buffer:new ArrayBuffer(0);s.xo(new Is(fe,i))},s.VX=function(){s.EX()},s.XX=function(t){s.bX(t)},s.WX=function(t){s.xo(t),t.type===qo.ja&&s.pS(U_(t.errorObject))},s.Ra=n,s.ho=i,s.BV=r,s.FI=e,s.UV=new XS(en(s)),s.UV.Po(xl.gl,s.Oo),s.FV=new zS(en(s)),s.FV.Po(xl.L_,s.TX),s.NL=new OI(en(s)),s.NL.Po([qo.Qa,qo.ja,qo.bc],s.WX),s.Lw=new ny,s.VV=new ny,s.XV=new xp([s.Lw,s.VV]),s.WV=new kI(en(s)),s.WV.Ul=s.XV,s.qV=new pI(en(s),s.WV),s.zV=new xp([s.XV,s.qV.vp]),s.GV=new fI(en(s)),s.qX(),s.HS(),s}U(n,t);var i=n.prototype;return i.zX=function(){this.MS.ended||this.M_===this.U_||(this.rX=!1)},i.GX=function(){return void 0!==this.jV&&this.U_===this.jV},i.RX=function(t){this.iX!==t&&(this.iX=t,this.xo(new Xl(this.M_,t)))},i.sR=function(){return cE(this.Ra)},i.qw=function(){var t=this.jX();return this.QX(),t},i.QX=function(){this.sX?this.uX&&(this.uX=!1,this.xo(new Ll(this.M_))):this.YX()},i.YX=function(){if(this.MV)this.MV.qw();else{Q.Pe&&!Q.me&&this.Ra.preload===Wp.RR&&(this.Ra.preload=Wp.kk);var t=this.W_,n=this.Ra.play();t!==this.MS.playbackRate&&(this.W_=t),et(n)?n.then(this.VX,this.XX):this.FV.gF()&&this.EX()}},i.zw=function(){this.sX?this.uX||(this.uX=!0,this.xo(new Bl(this.M_))):this.ZX()},i.ZX=function(){this.MV?this.MV.zw():(this.Ra.pause(),this.FV.Bh()),this.JX(new is)},i.jX=function(){var t=new Wu;return this.KV.push(t),t.gh},i.$X=function(){for(var t=0,n=this.KV;t<n.length;t++){n[t].wh(void 0)}Je(this.KV)},i.JX=function(t){for(var n=0,i=this.KV;n<i.length;n++){i[n].yh(t)}Je(this.KV)},i.EX=function(){this.sX||this.MV||this.$X()},i.bX=function(t){this.sX||this.MV||this.JX(t)},i.ah=function(t,n){this.MV?this.MV.M_=t:(this.$V.Eo(),this.$V=new ns,this.JV=this.KX(t,this.JV,this.$V.Io).catch(S))},i.eR=function(t){var n=this.uR;if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ah(i)}},i.KX=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.jV=n,this.QV=n,this.BI=!0,this.rX&&!this.GX()&&(this.rX=!1),this.xo(new Gl(n)),t.next=8,i.catch(S);case 8:if(es(r),this.eX&&this.tW(),this.n_!==_l.S_){t.next=13;break}return t.next=13,this.Xo(xl.gl,r);case 13:if(0!==this.Ra.seekable.length){t.next=19;break}return t.next=16,T.race([dd(this.Ra,"timeupdate",r),_s(100,r)]);case 16:es(r),t.next=13;break;case 19:e=this.nW(n),s=this.Iy,u=!0,o=!1;case 23:if((s=this.Iy).Ol>0&&!s.iR(e)&&(e=s.KR(e),u=!0),MI&&void 0!==(h=this.iW())&&e>h&&(e=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.rW())&&e>a)){t.next=37;break}return o=!0,t.next=33,this.eW(a,r);case 33:return t.next=35,dd(this.Ra,"seeked",r);case 35:es(r),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.eW(e,r);case 41:es(r),c=this.M_,s=this.Iy,e=s.KR(e),f=1;case 46:if(!(l.abs(e-c)>=1/6)){t.next=56;break}return s=this.Iy,e=VI(e,s,f),t.next=51,this.eW(e,r);case 51:es(r),c=this.M_,f++,t.next=46;break;case 56:if(this.Ra.seeking||this.n_<_l.I_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,as(function(t){var n;return T.race([dd(v.Ra,"seeked",t),v.Xo([qo.ac,qo.Ja,xl.gl],t),null==(n=v.fS)?void 0:n.Xo(KE.rC,t)].filter(J))},r);case 60:es(r),t.next=23;break;case 63:this.sW(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!rs(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eW=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(i),r=this.Iy,n=r.KR(n),!this.eX){t.next=18;break}e=!0;case 5:if(!(e||this.n_<_l.N_)){t.next=17;break}if((r=this.Iy).iR(n)||(n=r.KR(n),e=!0),!e){t.next=13;break}return e=!1,this.jV=n,this.uW(this.M_),t.abrupt("continue",5);case 13:return t.next=15,this.Xo([xl.gl,qo.Ja],i);case 15:t.next=5;break;case 17:es(i);case 18:if(s=dd(this.Ra,"seeking",i),this.Ra.currentTime=n,this.jV=void 0,this.uW(this.M_),!this.Ra.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nW=function(t){var n=this._y;if(n&&!n.iR(t)){var i=n.fI(t,.05);if(i>-1){var r=n.WR(i);if(t<r)return r}}return t},i.iW=function(){if(this.fS&&this.fS.XL){var t=this.fS.WL,n=this.fS.qL,i=t&&n?t.iI(n):t||n;if(i&&0!==i.Ol){var r=i.WR(i.Ol-1),e=i.zR(i.Ol-1);return l.max(r,e-.001)}}},i.rW=function(){if(this.fS&&this.fS.XL){var t=this.fS.qL;if(t&&0!==t.Ol){var n=t.WR(t.Ol-1),i=t.zR(t.Ol-1)-.02;return i-=.001,l.max(n,i)}}},i.uW=function(t){this.QV!==t&&(this.QV=t,this.xo(new Gl(t)))},i.sW=function(){this.BI=!1,this.QV=NaN,this.eX&&this.oW(),this.xo(new jl(this.M_))},i.tW=function(){this.sX||(this.uX=this.X_,this.sX=!0,this.ZX())},i.oW=function(){this.sX&&(this.sX=!1,this.uX||this.QX())},i.VL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.io===Sy.Wb&&oS.VL(i,this.Ra))return i;if(i.io===Sy.qb&&MS.VL(i))return i}},i.iy=function(){this.PR=!1,Dr(this.Ra)&&(this.Ra.style.display="none")},i.ny=function(){this.PR=!0,Dr(this.Ra)&&(this.Ra.style.display="block")},i.Ub=function(t,n,i,r,e,s,u){var o=new hR(t,n,i,r,e,s,u);return this.Lw.Rl(o),this.GV.Rl(o),o},i.GS=function(){return!0},i.QS=function(t,n,i,r){var s=e.createElement("track");s.src=Cf(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.id=Ub(),this.Ra.appendChild(s);var u=this.Ra.textTracks.getTrackById(s.id),o=new sI(u,s);return this.VV.Rl(o),this.HV.push(o),o},i.Vb=function(t){this.Lw.Il(t),this.GV.Il(t)},i.JS=function(){for(var t=0,n=this.Lw.Dl.slice();t<n.length;t++){n[t].Lv()}this.Lw.Cl();for(var i=0,r=this.HV.slice();i<r.length;i++){var e=r[i];this.VV.Il(e),e.Lv()}Je(this.HV)},i.HS=function(){var t=this.Ra.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.cX),t.addEventListener("removetrack",this.dX),t.addEventListener("change",this.lX)),this.Ra.addEventListener("emptied",this._X)},i.KS=function(){var t=this.Ra.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.cX),t.removeEventListener("removetrack",this.dX),t.removeEventListener("change",this.lX)),this.Ra.removeEventListener("emptied",this._X)},i.vX=function(t,n){if(Q.Pe){if(t.kind===ty.kk)return void this.hW(t);if(t.kind===ty.Ib&&""===t.label&&""===t.language&&!WI(t))return void this.aW(t,n)}XI(this.VV,t)||this.VV.Rl(new sI(t,n))},i.hW=function(t){t.mode=Yd.Zl;var n=new gI(t);this.VV.Rl(n),this.GV.Rl(n)},i.aW=function(t,n){var i=this;t.addEventListener("cuechange",function r(){WI(t)&&(t.removeEventListener("cuechange",r),i.VV.Rl(new sI(t,n)))}),t.mode=Yd.Zl},i.fX=function(t){for(var n=this.Ra.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.xh=function(t){var n=this;return this.LV.tL(function(){var i=T.coroutine($r.mark(function i(r){var e;return $r.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(es(r),!n.fS){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.io!==Sy.Wb){i.next=9;break}e=new oS(t,n,n.NL,n.ho),n.eX=!1,n.cW(new XS(n)),i.next=17;break;case 9:if(t.io!==Sy.qb){i.next=16;break}e=new MS(t,n,n.NL,n.ho),n.eX=xI,n.cW(n.eX?new WS(n):new XS(n)),PI&&(n.Po(qo.pc,n.gX),n.Po(xl.gl,n.kX)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.fS=e,i.next=20,e.Ix();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.yX=function(){if(!this.oX){var t=this.W_;this.oX=!0,this.W_=t,this.Ra.playbackRate=0,this.UV&&this.UV.aF()}},i.wX=function(){if(this.oX){var t=this.W_;this.oX=!1,this.W_=t,this.Ra.currentTime=this.Ra.currentTime,this.UV&&this.UV.aF()}},i.cW=function(t){var n=this.n_;this.UV.mo(),this.UV=t,this.UV.Po(xl.gl,this.Oo);var i=this.n_;n!==i&&this.xo(new Jl(this.M_,i))},i.Cl=function(){var t=T.coroutine($r.mark(function t(){var n=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BI=!1,this.tX=Jp.SI(),this.$V.Eo(),this.jV=void 0,this.QV=NaN,this.YV=void 0,this.eX=!1,this.sX=!1,this.vS=void 0,this.rX=!1,this.ZV=void 0,this.JX(new is),this.cW(new XS(this)),this.FV.Cl(),this.wX(),PI&&(aT(this.aX),this.aX=0,this.Uo(qo.pc,this.gX),this.Uo(xl.gl,this.kX)),t.next=18,this.LV.Eo();case 18:return t.next=20,this.LV.tL(T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.fS){t.next=4;break}return t.next=3,n.fS.mo();case 3:n.fS=void 0;case 4:case"end":return t.stop()}},t)})));case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fW(),this.KS(),t.next=4,this.Cl();case 4:return t.next=6,this.LV.Lv();case 6:return this.FV.mo(),this.UV.mo(),t.next=10,this.NL.mo();case 10:return this.JS(),this.Lw.Lv(),this.WV.Lv(),this.VV.Lv(),t.next=16,this.qV.Lv();case 16:this.XV.Lv(),this.zV.Lv(),this.Mo();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qX=function(){this.MS.addEventListener("play",this.pX),this.MS.addEventListener("pause",this.AX),this.MS.addEventListener("timeupdate",this.DX),this.MS.addEventListener("progress",this.NX),this.MS.addEventListener("loadstart",this.CX),this.MS.addEventListener("ended",this.OX),this.MS.addEventListener("ratechange",this.SX),this.MS.addEventListener("volumechange",this.PX),this.MS.addEventListener("durationchange",this.IX),this.MS.addEventListener("resize",this.BX),this.MS.addEventListener("loadedmetadata",this.BX),this.MS.addEventListener("error",this.xX),Ue()?(this.Ra.addEventListener("encrypted",this.LX),this.Ra.addEventListener("waitingforkey",this.MX)):void 0!==mr.WebKitMediaKeys&&"function"==typeof mr.WebKitMediaKeys.isTypeSupported?this.Ra.addEventListener("webkitneedkey",this.FX):Fe()?this.Ra.addEventListener("webkitneedkey",this.HX):void 0!==mr.MSMediaKeys&&"function"==typeof mr.MSMediaKeys.isTypeSupported&&this.Ra.addEventListener("msneedkey",this.UX)},i.fW=function(){this.MS.removeEventListener("play",this.pX),this.MS.removeEventListener("pause",this.AX),this.MS.removeEventListener("timeupdate",this.DX),this.MS.removeEventListener("progress",this.NX),this.MS.removeEventListener("loadstart",this.CX),this.MS.removeEventListener("ended",this.OX),this.MS.removeEventListener("ratechange",this.SX),this.MS.removeEventListener("volumechange",this.PX),this.MS.removeEventListener("durationchange",this.IX),this.MS.removeEventListener("resize",this.BX),this.MS.removeEventListener("loadedmetadata",this.BX),this.MS.removeEventListener("error",this.xX),this.MS.removeEventListener("encrypted",this.LX),this.MS.removeEventListener("waitingforkey",this.MX),this.MS.removeEventListener("webkitneedkey",this.FX),this.MS.removeEventListener("webkitneedkey",this.HX),this.MS.removeEventListener("msneedkey",this.UX)},i.eF=function(){var t;this.MV||(this.tX=this.Sy,this.MV=new FS((t=this).M_,t.U_,t.F_,t.X_,t.q_,t.V_,t.W_,t.j_),this.fW(),this.MV.Po(US,this.Oo))},i.sF=function(){if(this.MV){var t,n,i=this.MV;this.MV=void 0,t=this,(n=i).U_===t.U_||w(n.U_)&&w(t.U_)||t.xo(new Vl(t.U_)),t.V_=n.V_,t.j_=n.j_,t.W_=n.W_,n.X_?t.zw():t.qw().catch(S),n.M_!==t.M_?t.ah(n.M_):!n.q_&&t.q_?t.xo(new Gl(t.M_)):n.q_&&!t.q_&&t.xo(new jl(t.M_)),!n.F_&&t.F_&&t.xo(new ql(t.M_)),i.Uo(US,this.Oo),this.qX()}},i.pS=function(t){this.vS=t,this.JX(this.vS),this.xo(new GS(this.vS))},i.vW=function(){this.dW||(NC(this.Ra,b.Pu),this.hX=!0)},i.lW=function(t){t.appendChild(this.Ra)},i.GU=function(){PI&&this.gX(),this.UV.aF()},i.ly=function(){this.NL.xV().catch(S)},L(n,[{key:"fF",get:function(){return this.oX}},{key:"_y",get:function(){return this.fS?this.fS._y:Jp.SI()}},{key:"gy",get:function(){var t=this.uR;if(t&&!w(t.getTime())){var n=1e3*this.M_;return new Date(t.getTime()+n)}}},{key:"uR",get:function(){if(this.MS.getStartDate)return this.BI&&this.YV||(this.YV=this.MS.getStartDate()),this.YV}},{key:"M_",get:function(){return this.MV?this.MV.M_:void 0!==this.jV?this.jV:this.Ra.currentTime}},{key:"BB",get:function(){return this.BV}},{key:"U_",get:function(){return this.MV?this.MV.U_:this.fS?this.fS.U_:this.Ra.duration}},{key:"F_",get:function(){return this.q_?this.GX():this.MV?this.MV.F_:this.Ra.ended||this.rX}},{key:"Qo",get:function(){return this.vS}},{key:"MS",get:function(){return this.Ra}},{key:"X_",get:function(){return this.sX?this.uX:this.MV?this.MV.X_:this.Ra.paused}},{key:"Sy",get:function(){return this.tX.hI(Jp.bI(this.Ra.played))}},{key:"Ip",get:function(){return this.Ra.offsetHeight*b.Pu.ru}},{key:"cu",get:function(){return this.Ra.offsetWidth*b.Pu.ru}},{key:"ZS",get:function(){return tA}},{key:"n_",get:function(){return this.UV.n_}},{key:"Iy",get:function(){return this.fS?this.fS.Iy:Jp.SI()}},{key:"q_",get:function(){return this.MV?this.MV.q_:this.BI}},{key:"V_",get:function(){return this.MV?this.MV.V_:this.Ra.muted},set:function(t){this.MV?this.MV.V_=t:this.Ra.muted=t}},{key:"W_",get:function(){return this.MV?this.MV.W_:void 0!==this.nX?this.nX:this.Ra.playbackRate},set:function(t){this.MV?this.MV.W_=t:this.X_||this.oX?(this.nX=t,this.RX(t)):(this.nX=void 0,this.Ra.playbackRate=t)}},{key:"_W",get:function(){return this.PR}},{key:"j_",get:function(){return this.MV?this.MV.j_:this.Ra.volume},set:function(t){this.MV?this.MV.j_=t:this.Ra.volume=t}},{key:"Xw",get:function(){return this.zV}},{key:"MB",get:function(){return this.FI}},{key:"yy",get:function(){return!!this.Ra.webkitCurrentPlaybackTargetIsWireless}},{key:"dW",get:function(){return this.hX}},{key:"gW",get:function(){return Kr({},rS)}},{key:"US",get:function(){return this.NL.US},set:function(t){this.NL.US=t}},{key:"PV",get:function(){return this.NL.PV}}]),n}(ks);function FI(t){try{var n=Bu(t),i=new Vu;return Ru(Iu(uu(n,i,vu(n,i,!0)),!0))}catch(t){return}}var HI=.01;function VI(t,n,i){if(void 0===i&&(i=0),!n.Ol)return 0;var r=n.KR(t),e=HI*i;return r===n.WR(0)?r+=e:r===n.zR(n.Ol-1)&&(r-=e),r}function XI(t,n){for(var i=0,r=t.Dl;i<r.length;i++){var e=r[i];if(e.Fy===n)return e}}function WI(t){return!!t.cues&&t.cues.length>0}var qI=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).$d=void 0,n}return U(n,t),L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=AE(this)),this.$d}},{key:"rB",get:function(){}},{key:"eB",get:function(){}},{key:"sB",get:function(){}},{key:"uB",get:function(){}},{key:"oB",get:function(){}},{key:"hB",get:function(){}},{key:"aB",get:function(){}}]),n}(ks),zI=(new qI,function(t){function n(n,i,r){return t.call(this,n,i,r,new qI)||this}return U(n,t),n.prototype.ey=function(){},L(n,[{key:"z_",get:function(){return 0}},{key:"G_",get:function(){return 0}}]),n}(UI)),GI="theoplayer-texttracks",jI=function(){function t(t){void 0===t&&(t=5),this.wW=void 0;var n=mr.document.createElement("div");n.className=GI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.wW=n,this.ny()}var n=t.prototype;return n.iy=function(){this.wW.style.display="none"},n.ny=function(){Rr(this.wW.style,"flex")},n.lW=function(t){t.appendChild(this.wW)},n.Lv=function(){Er(this.wW)},L(t,[{key:"wy",get:function(){return this.wW}}]),t}();function QI(t,n){return t?Kr({},n,Md({uB:t.uB,sB:t.sB,eB:t.eB,rB:t.rB,oB:t.oB,hB:t.hB,aB:t.aB})):n}function YI(t){return t.sB&&Re(t.sB,"%")?Number(t.sB.replace("%",""))/100:t.sB&&Re(t.sB,"em")?Number(t.sB.replace("em","")):1}var ZI,JI,$I=function(){function t(t,n,i,r,e){var s=this;this.yW=ne(),this.mW=!0,this.kW=void 0,this.hm=void 0,this.Ra=void 0,this.BV=void 0,this.pW=void 0,this.AW=function(t){return s.yW.has(t._m)},this.bW=function(t){return!s.AW(t)},this.TW=function(t){return s.Hb(t.jy)},this.EW=function(t){return s.removeCue(t.jy)},this.SW=function(){return s.RW()},this.IW=function(t){return s.NW(t.jy)},this.DW=function(t){return s.OW(t.jy)},this.xW=function(t){s.PW(t.cu,t.Ip)},this.hm=t,this.pW=this.kW=e,this.Ra=this.BW(i),this.BV=r,n.appendChild(this.Ra),this.LW(),this.hm.i_.Dl.forEach(function(t){return s.Hb(t)}),this.BB.Po("LD",this.xW),this.PW(this.BB.WD,this.BB.XD)}var n=t.prototype;return n.MW=function(t){this.kW=QI(t,this.pW),this.kW.rB&&(this.MS.style.fontFamily=this.kW.rB),this.kW.aB&&(this.MS.style.visibility=this.kW.aB),this.PW(this.BB.WD,this.BB.XD),this.UW()},n.FW=function(){return this.kW},n.LW=function(){this.hm.Po(kd.il,this.TW),this.hm.Po(kd.ul,this.EW),this.hm.Po(kd.ll,this.SW)},n.HW=function(){var t=this;this.hm.Uo(kd.il,this.TW),this.hm.Uo(kd.ul,this.EW),this.hm.Uo(kd.ll,this.SW),this.hm.i_.Dl.forEach(function(n){return t.VW(n)})},n.XW=function(t){t.Po(eg.Wy,this.IW),t.Po(eg.zy,this.DW)},n.VW=function(t){t.Uo(eg.Wy,this.IW),t.Uo(eg.zy,this.DW)},n.Hb=function(t){t._m||(t._m=this.WW),this.XW(t),t.lm&&this.NW(t)},n.removeCue=function(t){this.VW(t),this.OW(t)},n.RW=function(){this.hm.t_===Yd.Jl?this.qW():this.zW()},n.qW=function(){var t=this,n=this.BB.WD,i=this.BB.XD,r=new tT(n,i);this.xW(r),this.mW=!1,this.GW.forEach(function(n){return t.NW(n)})},n.NW=function(t){this.mW||this.bW(t)&&(this.jW(t),this.yW.set(t._m,t))},n.jW=function(t){var n=this.Ra,i=this.QW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t._m,n.appendChild(e)}},n.zW=function(){var t=this;this.mW=!0,this.yW.forEach(function(n){return t.OW(n)})},n.OW=function(t){this.AW(t)&&(this.YW(t),this.yW.delete(t._m))},n.YW=function(t){for(var n=this.Ra,i=n.getElementsByClassName(t._m);i.length;)n.removeChild(i[0])},n.UW=function(){for(var t=0,n=this.ZW;t<n.length;t++){var i=n[t];this.YW(i),this.jW(i)}},n.Lv=function(){Er(this.MS),this.HW(),this.BB.Uo("LD",this.xW)},L(t,[{key:"nl",get:function(){return this.hm}},{key:"MS",get:function(){return this.Ra}},{key:"BB",get:function(){return this.BV}},{key:"JW",get:function(){return this.kW}},{key:"ZW",get:function(){return this.hm.r_.Dl.filter(this.AW)}},{key:"GW",get:function(){return this.hm.r_.Dl.filter(this.bW)}}]),t}();function KI(t){return tN[t||"none"]}!function(t){t.$W='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.KW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.tq='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.nq='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(ZI||(ZI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(JI||(JI={}));var tN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function nN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var iN=re({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),rN=re({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),eN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=iN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Ne(t,"px")?t=_(t)/24+"em":Ne(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=rN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Ne(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},sN=0,uN={eB:JI.WHITE,rB:"Arial, Helvetica, Sans-Serif",sB:"100%",uB:JI.TRANSPARENT,oB:JI.TRANSPARENT,hB:"none",aB:"visible"},oN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,uN)||this}U(n,t);var i=n.prototype;return i.BW=function(t){var n=e.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.PW=function(t,n){var i=n/15;this.MS.style.fontSize=i+"px"},i.QW=function(t){if(t.nl&&t.nl.io!==tg.TTML)return[];var n,i=[],r=t,s=r.yb,u=r.Sm,o=r.Zy;if(0===d.keys(u).length){Sr(n=e.createElement("div"),r._m),lN(n);for(var h=hN(o,s,r.mb,void 0,this.MS),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=d.keys(u);f<v.length;f++){var l=v[f],_=e.createElement("div");_.id=l,Sr(_,r._m);var g=hN(o,s,r.mb,_,this.MS);if(g){lN(_),fN(_,u[l],s,this.MS);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.MW=function(t){},L(n,[{key:"WW",get:function(){return"theoplayer-ttmlcue-"+sN++}}]),n}($I);function hN(t,n,i,r,e){var s,u;if(nn(t)&&("SPAN"===(u=t).os.toUpperCase()||"P"===u.os.toUpperCase()||"BR"===u.os.toUpperCase()||"DIV"===u.os.toUpperCase()||"BODY"===u.os.toUpperCase())){var o=function t(n){var i=n.bs("region");if("p"===n.os.toLowerCase())return i;var r=[];for(var e=0,s=n.As;e<s.length;e++){var u=s[e];r.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.bs("style");dN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Ns).forEach(function(n){var r=Fw(n.hs,["ebutts","tts","xml"]);eN[r]&&eN[r](n.fs,t,i)})}(t,n,r)})(s="BODY"===t.os.toUpperCase()?r:aN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.bs("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.As)for(var e=0,s=null==n?void 0:n.As;e<s.length;e++){var u=s[e];if(r=t(u,i))break}return r}(i,function(t){return t.Ns.some(function(t){return"id"===t.os&&t.fs===r})});e&&vN(t,e,n,!0)}!function(t,n){var i=n.As[0];if(!i||"metadata"!==i.os.toLowerCase())return;var r=i.As[0];vN(t,r,n)}(t,n)}(s,t,i);for(var h=[],a=t._s,c=0;c<a.length;c++){var f=hN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.os.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else rn(t)&&(s=aN(t));if(s)return[s]}function aN(t){var n,i;if(rn(t))nN(n=e.createElement("text"),t.Ds);else if(nn(t))switch(t.os.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":n=e.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",cN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=e.createElement("p")),cN(n,t);break;case"DIV":(n=e.createElement("div")).style.position="absolute",cN(n,t)}return n}function cN(t,n){var i=n.Ts(Lw,"id");i&&(t.id=i)}function fN(t,n,i,r){dN(t,n.style,i,r),d.keys(n).forEach(function(i){eN[i]&&eN[i](n[i],t)})}function vN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var s=e.createElement("img");s.src=function(t){var n=t&&t._s.length>0?t._s[0]:null;return n&&rn(n)?"data:image/png;base64,"+n.Ds:""}(n),s.id=t.id,s.style.height="100%",s.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.bs("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.bs("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(s)}function dN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(e){var s=Fw(e,["ebutts","tts","xml"]);"style"===s.toLowerCase()?dN(t,i[n][e],i,r):eN[s]&&eN[s](i[n][e],t,r)})})}function lN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var _N,gN,wN=void 0;function yN(t,n){for(var i,r=_N.iq,e="",s=[],u=t.charAt(n.vh),o="",h={io:gN.rq,gs:"",sq:[]};n.vh<t.length+1;){switch(u=n.vh<t.length?t.charAt(n.vh):"EOF",r){case _N.iq:switch(u){case"&":var a=t.substr(n.vh).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],wN||(wN=mr.document.createElement("textarea")),wN.innerHTML=i,wN.value),n.hh(a[0].length-1)):e+="&";break;case"<":if(e)return{io:gN.uq,Zy:e};r=_N.oq;break;case"EOF":return{io:gN.uq,Zy:e};default:e+=u}break;case _N.oq:switch(u){case"\t":case"\n":case"\f":case" ":r=_N.hq;break;case".":r=_N.aq;break;case"/":r=_N.cq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=u,r=_N.fq;break;case">":return n.hh(1),h;case"EOF":return h;default:e=u,r=_N.vq}break;case _N.vq:switch(u){case"\t":case"\f":case" ":r=_N.hq;break;case"\n":o=u,r=_N.hq;break;case".":r=_N.aq;break;case">":return n.hh(1),{io:gN.rq,gs:e,sq:[]};case"EOF":return{io:gN.rq,gs:e,sq:[]};default:e+=u}break;case _N.aq:switch(u){case"\t":case"\f":case" ":s.push(o),o="",r=_N.hq;break;case"\n":s.push(o),o=u,r=_N.hq;break;case".":s.push(o),o="";break;case">":return n.hh(1),s.push(o),{io:gN.rq,gs:e,sq:s};case"EOF":return s.push(o),{io:gN.rq,gs:e,sq:s};default:o+=u}break;case _N.hq:switch(u){case"&":r=_N.dq;break;case">":n.hh(1);var c=o.trim();return c=c.replace(/\s/," "),{io:gN.rq,gs:e,sq:s,lq:c};default:o+=u}break;case _N.dq:for(var f="",v=n.vh;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=_N.hq;break;case _N.cq:switch(u){case">":return n.hh(1),{io:gN._q,gs:e};case"EOF":return{io:gN._q,gs:e};default:e+=u}break;case _N.fq:switch(u){case">":return n.hh(1),{io:gN.gq,wq:e};case"EOF":return{io:gN.gq,wq:e};default:e+=u}}n.hh(1)}}!function(t){t.iq="Data",t.oq="Tag",t.vq="StartTag",t.aq="StartTagClass",t.hq="StartTagAnnotation",t.dq="CharRefInAnnotation",t.cq="EndTag",t.fq="TimestampTag"}(_N||(_N={})),function(t){t.uq="string",t.rq="starttag",t._q="endtag",t.gq="timestamp"}(gN||(gN={}));var mN,kN,pN={eB:JI.WHITE,rB:"sans-serif",sB:"100%",uB:"rgba(0,0,0,0.8)",oB:JI.TRANSPARENT,hB:"none",aB:"visible"},AN="theoplayer-webvtt-region-",bN="theoplayer-webvtt-styling-",TN="theoplayer-webvtt-voice-",EN=5.23,SN=1.14,RN=0,IN=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,pN)||this).yq={},s.mq=xN(3),s}U(n,t);var i=n.prototype;return i.BW=function(t){var n=e.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Nr(n),Rr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.JW.rB,n.style.whiteSpace="pre-line",n},i.PW=function(t,n){for(var i=n/100,r=t/100,e=l.min(i,r),s=YI(this.JW),u=0,o=d.keys(this.kq);u<o.length;u++){var h=o[u],a=this.kq[h].pq;this.Aq(a,e,s,this.kq[h].im)}this.Aq(this.bq,e,s),this.Tq()},i.Tq=function(){var t=YI(this.JW);this.bq.style.padding=t>=1.5?"0":1/t+"em"},i.jW=function(t){var n=this.MS,i=this.BB.XD/100,r=this.bq;t.im&&(this.kq[t.im.Xl]||(this.kq[t.im.Xl]={im:t.im,pq:PN(t.im,i)}),r=this.kq[t.im.Xl].pq),n.querySelector("."+r.className)||n.appendChild(r);var e=this.QW(t);r.children.length>=1&&t.im&&"up"===t.im.km&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var s=0;s<e.length;s++){var u=e[s];u.className=t._m,r.appendChild(u)}},i.QW=function(t){var n=[];return t&&n.push(this.Eq(t)),n},i.Eq=function(t){for(var n=new Vu,i=t.Zy,r=this.Sq(t),s=r,u="",o=[],h={};n.vh<i.length;){var a=yN(i,n);if(a.io===gN.uq){var c=this.Rq(a.Zy);NN(c,h),s.appendChild(c)}else if(a.io===gN.rq){switch(h[a.gs.toLowerCase()]||(h[a.gs.toLowerCase()]=[]),h[a.gs.toLowerCase()].push(a),a.gs.toLowerCase()){case"c":break;case"i":var f=e.createElement("i");s.appendChild(f),s=f;break;case"b":var v=e.createElement("b");s.appendChild(v),s=v;break;case"u":var d=e.createElement("u");s.appendChild(d),s=d;break;case"ruby":var l=e.createElement("ruby");s.appendChild(l),s=l;break;case"rt":if("ruby"===u){var _=e.createElement("rt");s.appendChild(_)}break;case"v":break;case"lang":o.push(a.lq)}u=a.gs||""}else if(a.io===gN._q){h[a.gs.toLowerCase()]&&h[a.gs.toLowerCase()].pop(),(!a.gs||"C"!==a.gs.toUpperCase()&&"V"!==a.gs.toUpperCase())&&("LANG"===a.gs.toUpperCase()?o.pop():"RUBY"===a.gs.toUpperCase()&&"RUBY"===s.tagName?s=s.parentNode.parentNode:s.tagName&&s.tagName.toUpperCase()===a.gs.toUpperCase()&&(s=s.parentNode)),u=a.gs||""}else if(a.io===gN.gq){var g=a.wq,w=new Vu;try{uw(g,w)}catch(t){_t("ERROR collecting timestamp",t)}}}return r},i.Rq=function(t){var n=e.createElement("span");return nN(n,t),n.style.background=this.JW.uB,n.style.color=this.JW.eB,n},i.Aq=function(t,n,i,r){if(r){var e=CN(r,n);t.style.height=e*i+"px",t.style.left=DN(r)+"%",t.style.top=ON(r,n)+"px"}t.style.fontSize=EN*n*i+"px"},i.Sq=function(t){var n=e.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Jy,function(t,n){"rl"===n.sm?t.style.writingMode="vertical-rl":"lr"===n.sm?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=bg(n);BN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=Ag(n),s=pg(n),u=bg(n);BN(n)?("line-left"===e?i=s:"center"===e?i=s-u/2:"line-right"===e&&(i=s-u),r=n.rm?0:kg(n)):("line-left"===e?r=s:"center"===e?r=s-u/2:"line-right"===e&&(r=s-u),i=n.rm?0:kg(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.JW.oB,n.style.color=this.JW.eB,n.style.textShadow=KI(this.JW.hB),n},i.YW=function(t){for(var n=t._m,i=this.MS,r=i.children,e=0;e<r.length;e++){for(var s=r[e].getElementsByClassName(n),u=0;u<s.length;u++)r[e].removeChild(s[u]);if(0===r[e].childNodes.length){for(var o=0,h=d.keys(this.kq);o<h.length;o++){var a=h[o];if(Re(r[e].className,AN+a)){delete this.kq[a];break}}i.removeChild(r[e])}}},L(n,[{key:"kq",get:function(){return this.yq||(this.yq={}),this.yq}},{key:"bq",get:function(){return this.mq||(this.mq=xN(3)),this.mq}},{key:"WW",get:function(){return"theoplayer-webvtt-cue-"+RN++}}]),n}($I);function NN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.sq)for(var s=0,u=e.sq;s<u.length;s++){var o=u[s];Sr(t,bN+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.lq&&Sr(t,TN+c.lq)}}function CN(t,n){return t.wm*(EN*n)*SN}function DN(t){return t.pm-t.ym*t.cu/100}function ON(t,n){var i=t.Am,r=t.mm*CN(t,n)/100;return l.max(0,i-r)}function xN(t){var n=e.createElement("div");return n.className=AN+"default",Nr(n),Rr(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=EN*t+"px",n.style.lineHeight=SN+"em",n}function PN(t,n){var i=xN(n);i.className=AN+t.Xl;var r=t.cu,e=CN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=DN(t)+"%",i.style.top=ON(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function BN(t){return""===t.sm}!function(t){t[t.Iq=0]="Iq",t[t.Nq=1]="Nq",t[t.Cq=2]="Cq",t[t.Dq=3]="Dq",t[t.Oq=4]="Oq",t[t.xq=5]="xq"}(mN||(mN={})),function(t){t[t.Pq=0]="Pq",t[t.Bq=1]="Bq",t[t.Lq=2]="Lq",t[t.Mq=3]="Mq"}(kN||(kN={}));var LN=15,MN=32,UN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),FN=function(){function t(){this.Uq=[],this.Fq=0,this.Hq=void 0;for(var t=0;t<MN;t++)this.Uq.push(null);this.Hq=!1}var n=t.prototype;return n.Vq=function(t){for(var n=0;n<MN;n++)t&&(this.Uq[n]=t.Uq[n])},n.ug=function(t){for(var n=0;n<MN;n++)if(this.Uq[n]!==t.Uq[n])return!1;return!0},n.Xq=function(){for(var t=0;t<MN;t++)if(null!==this.Uq[t])return!1;return!0},n.Wq=function(t){this.Fq!==t&&(this.Fq=t),this.Fq<0?this.Fq=0:this.Fq>MN&&(this.Fq=MN-1)},n.qq=function(t){var n=this.Fq+t;this.Wq(n)},n.zq=function(){this.qq(-1),this.Uq[this.Fq]=null},n.Gq=function(t){t>=144&&this.zq();var n,i=UN[n=t]?String.fromCharCode(UN[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Fq>=MN||(32===Number(t)?(this.Uq[this.Fq]=this.Hq?"</i>":"<i>",this.Hq=!this.Hq):this.Uq[this.Fq]=t,this.qq(1))},n.jq=function(t){for(var n=t;n<MN;n++)this.Uq[n]=null},n.sh=function(){this.jq(0),this.Fq=0},n.Qq=function(){this.jq(this.Fq)},n.Yq=function(t,n){for(var i=this.Uq,r=null,e=0;e<MN;e++){var s=i[e];null===s?r=null:(r||(r={Zq:e,Jq:t,cu:0,Ip:1,Uq:[[]]},n.push(r)),r.Uq[0].push(s),r.cu++)}},n.gw=function(t,n){return t.$q(this.Uq,n)},t}();var HN=function(){function t(){this.Kq=void 0,this.tz=void 0,this.nz=null,this.Kq=[];for(var t=0;t<LN;t++)this.Kq.push(new FN);this.tz=LN-1,this.Cl()}var n=t.prototype;return n.Vq=function(t){for(var n=0;n<LN;n++)this.Kq[n].Vq(t.Kq[n])},n.ug=function(t){for(var n=!0,i=0;i<LN;i++)if(!this.Kq[i].ug(t.Kq[i])){n=!1;break}return n},n.Xq=function(){for(var t=!0,n=0;n<LN;n++)if(!this.Kq[n].Xq()){t=!1;break}return t},n.Cl=function(){for(var t=0;t<LN;t++)this.Kq[t].sh();this.tz=LN-1},n.Gq=function(t){this.Kq[this.tz].Gq(t)},n.iz=function(){this.Kq[this.tz].zq()},n.Qq=function(){this.Kq[this.tz].Qq()},n.rz=function(){if(null!==this.nz){var t=this.tz+1-this.nz,n=this.Kq[t];n&&(Qe(this.Kq,t),n.sh(),this.Kq.splice(this.tz,0,n))}},n.qq=function(t){this.Kq[this.tz].qq(t)},n.ez=function(t){this.nz=t},n.sz=function(t){var n=t.uz;this.nz&&n<this.nz-1&&(n=this.nz-1),this.tz=n;var i=this.Kq[this.tz];null!==t.oz&&i.Wq(t.oz)},n.hz=function(){for(var t=this.Kq,n=[],i=0;i<t.length;i++){t[i].Yq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,s=n[r],u=n.length-1;u>r;){var o=n[u];XN(s,o)&&(s=VN(s,o),Qe(n,u),e=!0),u--}e&&(n[r]=s,r--)}return n.map(WN)},n.gw=function(t){return t.az(this.Kq)},t}();function VN(t,n){for(var i=l.min(t.Zq,n.Zq),r=l.min(t.Jq,n.Jq),e=l.max(t.Zq+t.cu,n.Zq+n.cu)-i,s=l.max(t.Jq+t.Ip,n.Jq+n.Ip)-r,u=new Array(s),o=0;o<s;o++){var h=new Array(e),a=t.Uq[o+r-t.Jq];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.Zq]=a[c]);var f=n.Uq[o+r-n.Jq];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.Zq]=f[v]);u[o]=h}return{Zq:i,Jq:r,cu:e,Ip:s,Uq:u}}function XN(t,n){return t.Zq<=n.Zq+n.cu&&n.Zq<=t.Zq+t.cu&&t.Jq<=n.Jq+n.Ip&&n.Jq<=t.Jq+t.Ip}function WN(t){for(var n=new Array(t.Ip),i=t.Uq,r=0;r<i.length;r++){for(var e=i[r],s=[],u=!1,o=0;o<e.length;o++){var h=e[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[r]=s.join("")}var a=n.join("\n");return{Zq:t.Zq,Jq:t.Jq,cu:t.cu,Ip:t.Ip,Zy:a}}var qN=function(){function t(t,n){this.uz=t,this.oz=n}return t.prototype.ug=function(t){return this.uz===t.uz&&this.oz===t.oz},t}(),zN=function(){function t(t){this.cz=void 0,this.fz=void 0,this.vz=t,this.cz=this.dz(),this.fz=this.lz()}var n=t.prototype;return n.dz=function(){for(var t=new qN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this._z;n<i.length;n++){var r=i[n],e=l.min(t.uz,r.gz.uz),s=l.min(t.oz,r.gz.oz);t=new qN(e,s)}return t},n.lz=function(){for(var t=new qN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this._z;n<i.length;n++){var r=i[n],e=l.max(t.uz,r.wz.uz),s=l.max(t.oz,r.wz.oz);t=new qN(e,s)}return t},L(t,[{key:"gz",get:function(){return this.cz}},{key:"wz",get:function(){return this.fz}},{key:"_z",get:function(){return $e(this.vz.map(function(t){return t._z}))}}]),t}(),GN=function(){function t(t,n){this.yz="",this.cB=t,this.cz=n}var n=t.prototype;return n.Gq=function(t){this.yz+=t},n.mz=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Gq(i)}},L(t,[{key:"kz",get:function(){return this.yz}},{key:"_z",get:function(){return[this]}},{key:"pz",get:function(){return this.cB}},{key:"gz",get:function(){return this.cz}},{key:"wz",get:function(){return new qN(this.gz.uz,this.gz.oz+this.kz.length-1)}}]),t}(),jN=function(){function t(){}var n=t.prototype;return n.Az=function(t){return t.gw(this)},n.az=function(t){var n=this;return $e(t.map(function(t,i){return t.gw(n,i)}))},n.$q=function(t,n){return new QN(t,n).bz()},t}(),QN=function(){function t(t,n){this.Tz=[],this.Ez=null,this.uz=t,this.Sz=n}var n=t.prototype;return n.bz=function(){if(this.Rz)return[];for(var t=0;t<this.uz.length;t++)this.Iz(t);return this.Nz(),this.Tz},n.Cz=function(t){this.Ez=new GN(iC,new qN(this.Sz,t))},n.Nz=function(){this.Ez&&(this.Tz.push(this.Ez),this.Ez=null)},n.Iz=function(t){var n=this.uz[t];YN(n)?this.Ez&&this.Nz():(this.Ez||this.Cz(t),this.Ez.Gq(n))},L(t,[{key:"Rz",get:function(){return this.uz.every(YN)}}]),t}();function YN(t){return null==t}var ZN,JN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return U(n,t),n}(wg),$N=function(t){function n(n,i){var r;return(r=t.call(this,"Oz")||this).Dz=n,r.jy=i,r}return U(n,t),n}(As);!function(t){t[t.RR=0]="RR",t[t.xz=1]="xz",t[t.Pz=2]="Pz",t[t.Bz=3]="Bz",t[t.Je=4]="Je"}(ZN||(ZN={}));var KN,tC=function(t){function n(){var n;return(n=t.call(this)||this).Gg=0,n.Qy=0,n.Lz=void 0,n.Mz=void 0,n.Uz=void 0,n.Fz=void 0,n.t_=ZN.RR,n.Lz=new HN,n.Mz=new HN,n.Uz=new HN,n.Fz=n.Lz,n}U(n,t);var i=n.prototype;return i.Gq=function(t){this.Fz.Gq(t),this.t_!==ZN.xz&&this.t_!==ZN.Pz||this.Hz()},i._N=function(t){t!==this.t_&&(this.t_=t,this.t_===ZN.Bz?this.Fz=this.Mz:(this.Fz=this.Lz,this.Fz.Cl()),this.t_!==ZN.Pz&&(this.Lz.ez(null),this.Mz.ez(null)))},i.sz=function(t){this.Fz.sz(t)},i.Vz=function(){this._N(ZN.Bz)},i.Xz=function(){this.t_!==ZN.Je&&(this.Fz.iz(),this.Fz===this.Lz&&this.Hz())},i.Wz=function(){},i.qz=function(){},i.zz=function(){this.Fz.Qq(),this.Hz()},i.Gz=function(t){this.Fz=this.Lz,this._N(ZN.Pz),this.Fz.ez(t)},i.jz=function(){},i.Qz=function(){this._N(ZN.xz)},i.Yz=function(){this._N(ZN.Je)},i.Zz=function(){this._N(ZN.Je)},i.Jz=function(){this.Lz.Cl(),this.Hz()},i.$z=function(){this.Fz.rz(),this.Hz()},i.Kz=function(){this.Mz.Cl()},i.tG=function(){if(this.t_===ZN.Bz){var t=this.Lz;this.Lz=this.Mz,this.Mz=t,this.Fz=this.Mz}this.Hz()},i.nG=function(t){this.Fz.qq(t)},i.Hz=function(){if(null!==this.Gg){if((null===this.Qy||0===this.Qy)&&!this.Lz.Xq())this.Qy=this.Gg;else if(!this.Lz.ug(this.Uz)){var t=this.iG();if(this.Gg>this.Qy){var n=new JN(this.Qy,this.Gg,t);this.xo(new $N(1,n))}this.Qy=this.Lz.Xq()?null:this.Gg}this.Uz.Vq(this.Lz)}},i.iG=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return l.abs(t.wz.oz-n.gz.oz)<=1||l.abs(n.wz.oz-t.gz.oz)<=1||l.abs(t.wz.uz-n.gz.uz)<=1||l.abs(n.wz.uz-t.gz.uz)<=1}(o=r,h=u)||function(t,n){return nC(t.gz.uz,t.wz.uz,n.gz.uz,n.wz.uz)&&nC(t.gz.oz,t.wz.oz,n.gz.oz,n.wz.oz)}(o,h))&&(r=new zN([].concat(r._z,u._z)),je(i,u),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new jN).Az(this.Uz))},i.Cl=function(){this.Gg=0,this.Qy=0,this.Lz.Cl(),this.Lz.ez(null),this.Mz.Cl(),this.Mz.ez(null),this.Uz.Cl(),this.Uz.ez(null),this.Fz=this.Lz,this.t_=ZN.RR},n}(ks);function nC(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(KN||(KN={}));var iC={eB:JI.WHITE,rB:ZI.tq,sB:"100%",uB:JI.BLACK,oB:"transparent",hB:"none",rG:KN.FONT_REGULAR,aB:"visible"},rC=[{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:0},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.GREEN,rG:KN.FONT_REGULAR,oz:0},{eG:JI.GREEN,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.BLUE,rG:KN.FONT_REGULAR,oz:0},{eG:JI.BLUE,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.CYAN,rG:KN.FONT_REGULAR,oz:0},{eG:JI.CYAN,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.RED,rG:KN.FONT_REGULAR,oz:0},{eG:JI.RED,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.YELLOW,rG:KN.FONT_REGULAR,oz:0},{eG:JI.YELLOW,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.MAGENTA,rG:KN.FONT_REGULAR,oz:0},{eG:JI.MAGENTA,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.WHITE,rG:KN.FONT_ITALICS,oz:0},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE_ITALICS,oz:0},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:0},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:0},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:4},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:4},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:8},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:8},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:12},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:12},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:16},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:16},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:20},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:20},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:24},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:24},{eG:JI.WHITE,rG:KN.FONT_REGULAR,oz:28},{eG:JI.WHITE,rG:KN.FONT_UNDERLINE,oz:28}],eC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],sC=function(t){function n(){var n;(n=t.call(this)||this).sG=void 0,n.uG=null,n.oG=null,n.hG=0;var i=new tC;return n.sG=[i,new tC],i.Po("Oz",n.Oo),n}U(n,t);var i=n.prototype;return i.Cl=function(){for(var t=0,n=this.sG;t<n.length;t++){n[t].Cl()}},i.aG=function(t,n){if(n.io===kN.Pq&&n.cG){n.fG&&(this.hG=0),this.sG[this.hG].Gg=t;var i=127&n.vG,r=127&n.dG;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.lG(),r>=48&&r<=63&&this._G(i,r);break;case 18:case 19:r>=32&&r<=63&&this._G(i,r);break;case 20:case 21:r>=32&&r<=47&&this.gG(i,r);break;case 23:r>=33&&r<=35&&this.gG(i,r),r>=46&&r<=47&&this.lG()}16===i&&r>=64&&r<=95?this.wG(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.wG(i,r),i>=32&&this._G(i,r)}}},i.gG=function(t,n){var i=null;if(t===this.uG&&n===this.oG)return this.uG=null,this.oG=null,!0;i=20===t||23===t?0:1;var r=this.sG[i];return 20===t||28===t?32===n?r.Vz():33===n?r.Xz():34===n?r.Wz():35===n?r.qz():36===n?r.zz():37===n?r.Gz(2):38===n?r.Gz(3):39===n?r.Gz(4):40===n?r.jz():41===n?r.Qz():42===n?r.Yz():43===n?r.Zz():44===n?r.Jz():45===n?r.$z():46===n?r.Kz():47===n&&r.tG():r.nG(n-32),this.uG=t,this.oG=n,this.hG=i,!0},i.wG=function(t,i){t===this.uG&&i===this.oG&&(this.uG=null,this.oG=null);var r=t<=23?0:1,e=eC[t<<1&14|i>>5&1]-1;if(!(e<0)){var s=n.yG(e,i);this.sG[r].sz(s),this.uG=t,this.oG=i,this.hG=r}},n.yG=function(t,n){var i=n>95?n-96:n-64;return{eG:rC[i].eG,rG:rC[i].rG,oz:rC[i].oz,uz:t}},i._G=function(t,n){var i=t>=25?t-8:t,r=this.sG[this.hG],e=!1;switch(i){case 17:r.Gq(n+80),e=!0;break;case 18:r.Gq(n+112),e=!0;break;case 19:r.Gq(n+144),e=!0;break;default:t>=32&&(r.Gq(t),n>=32&&r.Gq(n),e=!0)}e&&(this.uG=null,this.oG=null)},i.lG=function(){this.sG[this.hG].Fz.qq(1)},i.Lv=function(){this.Mo()},L(n,[{key:"$p",get:function(){return this.sG.length}}]),n}(ks),uC=function(){function t(t,n,i){this.mG=void 0,this.kG=t,this.pG=n,this.kW=i}var n=t.prototype;return n.AG=function(){return this.mG=this.bG(),this.TG(),this.EG(),this.mG},n.bG=function(){var t=e.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.SG/MN*this.pG.RG*100+"%",t.style.height=1.2*this.IG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.pG.NG?"calc(1em - 1ch)":"",t.style.fontFamily=this.kW.rB,t.style.backgroundColor=this.kW.oB,t},n.TG=function(){var t=this.CG.uz/LN*100,n=this.CG.oz/MN*100,i=(MN-this.DG.oz-1)/MN*100,r=(LN-this.DG.uz-1)/LN*100;this.pG.OG||(n=i=1,this.mG.style.width="98%"),r<t?this.mG.style.bottom=r*this.pG.RG+"%":this.mG.style.top=t*this.pG.RG+"%",i<n?this.mG.style.right=i+"%":this.mG.style.left=n+"%"},n.EG=function(){for(var t=this.kG._z.sort(oC),n=0;n<t.length;n++)this.xG(t[n-1],t[n]),this.PG(t[n]);this.xG(t[t.length-1],null)},n.PG=function(n){var i=QI(this.kW,n.pz),r=t.BG(i);nN(r,n.kz),this.mG.appendChild(r)},t.BG=function(t){var n=e.createElement("span");return n.style.display="inline-block",t.rG!==KN.FONT_ITALICS&&t.rG!==KN.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.rG!==KN.FONT_UNDERLINE&&t.rG!==KN.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.eB,n.style.backgroundColor=t.uB,n.style.textShadow=KI(t.hB),n.style.height="1.2em",n},n.xG=function(t,n){var i=t?t.wz.uz:this.kG.gz.uz,r=n?n.gz.uz:this.kG.wz.uz,e=t?t.wz.oz:this.kG.gz.oz,s=n?n.gz.oz:this.kG.wz.oz;i<r&&(!n||t&&t.gz.uz!==n.gz.uz?this.LG():this.MG(this.kG.wz.oz-e),e=this.kG.gz.oz),e<s&&(n?this.MG(s-e):this.LG())},n.LG=function(){var t=e.createElement("br");this.mG.appendChild(t)},n.MG=function(t){if(!(t<=0)){var n=e.createElement("span");n.style.display="inline-block",nN(n,De(" ",t)),this.mG.appendChild(n)}},L(t,[{key:"CG",get:function(){return this.kG.gz}},{key:"DG",get:function(){return this.kG.wz}},{key:"SG",get:function(){return this.kG.wz.oz-this.kG.gz.oz+1}},{key:"IG",get:function(){return this.kG.wz.uz-this.kG.gz.uz+1}}]),t}();function oC(t,n){return function(t,n){if(t.uz!==n.uz)return t.uz-n.uz;return t.oz-n.oz}(t.gz,n.gz)}var hC=0;var aC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,iC)||this).UG=void 0,s.FG=void 0,s}U(n,t);var i=n.prototype;return i.BW=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.JW.rB&&(n.style.fontFamily=this.JW.rB),n},i.PW=function(t,n){this.HG()},i.HG=function(){var t,n=YI(this.JW);this.FG={RG:(t=100*n)/100,NG:t<=100,OG:t<=150};var i=this.VG/MN;this.UG=i*n,this.MS.style.fontSize=this.UG+"px"},i.QW=function(t){var n=this;return this.FG&&this.FG.OG?this.XG(80):this.XG(100),this.HG(),t.Zy.map(function(t){return new uC(t,n.FG,n.JW).AG()})},i.XG=function(t){var n=(100-t)/2;this.MS.style.left=n+"%",this.MS.style.width=t+"%"},L(n,[{key:"VG",get:function(){var t=this.MS.offsetWidth;return this.FG&&this.FG.OG||(t*=.8),t}},{key:"WW",get:function(){return"theoplayer-cea608-texttrack-"+hC++}}]),n}($I),cC=function(){function t(t,n,i,r,e){var s=this;this.WG=void 0,this.BV=void 0,this.Lw=void 0,this.qG=void 0,this.zG=[],this.FI=void 0,this.GG=function(t){var n=t.nl;n.Po(kd.gl,s.jG),n.Po(kd.yl,s.jG),n instanceof sI&&(n.vH=s.vH),s.QG(n)},this.jG=function(t){var n=t.nl;s.QG(n)},this.YG=function(t){var n=t.nl;n.Uo(kd.gl,s.jG),n.Uo(kd.yl,s.jG),s.ZG(n)},this.JG=function(){for(var t=s.vH,n=0,i=s.Lw.Dl;n<i.length;n++){var r=i[n];r instanceof sI&&(r.vH=t)}},this.$G=function(){for(var t=0,n=s.zG;t<n.length;t++){n[t].MW(s.FI)}},this.KG=function(){for(var t=0,n=s.zG;t<n.length;t++){var i=n[t];i.MW(Kr({},i.FW(),{aB:"hidden"}))}},this.tj=function(){for(var t=0,n=s.zG;t<n.length;t++){var i=n[t];i.MW(Kr({},i.FW(),{aB:"visible"}))}},this.WG=t,this.BV=n,this.Lw=i,this.qG=e,this.FI=r,this.Lw.Po(_d.Qd,this.GG),this.Lw.Po(_d.Zd,this.YG),this.Lw.Po("_l",this.jG),this.qG.Po(Yp.ll,this.JG),this.FI.Po("_l",this.$G),this.JG()}var n=t.prototype;return n.nj=function(t){for(var n=0,i=this.zG;n<i.length;n++){var r=i[n];if(r.nl===t)return r}},n.ij=function(t){switch(t.io){case tg.TTML:case tg.SRT:case tg.WEBVTT:case tg.CEA608:return!0}return!1},n.rj=function(t){switch(t.io){case tg.TTML:return new oN(t,this.WG,t.zl,this.BV);case tg.SRT:case tg.WEBVTT:return new IN(t,this.WG,t.zl,this.BV);case tg.CEA608:return new aC(t,this.WG,t.zl,this.BV)}},n.ej=function(t){var n=this.nj(t);n||((n=this.rj(t)).MW(this.FI),this.zG.push(n),t.t_===Yd.Jl&&n.qW())},n.ZG=function(t){for(var n=this.zG,i=n.length-1;i>=0;i-=1){var r=n[i];r.nl===t&&(r.Lv(),Qe(n,i))}},n.QG=function(t){var n;(n=t.ql)!==ty.yk&&n!==ty.Ib||!this.ij(t)||(t.n_===K_.ERROR?this.ZG(t):this.ej(t))},n.Cl=function(){for(var t=0,n=this.zG;t<n.length;t++){var i=n[t];i.nl.Uo(kd.gl,this.jG),i.nl.Uo(kd.yl,this.jG),i.Lv()}Je(this.zG)},n.Lv=function(){this.Cl();for(var t=0,n=this.zG;t<n.length;t++){n[t].Lv()}this.Lw.Uo(_d.Qd,this.GG),this.Lw.Uo(_d.Zd,this.YG),this.Lw.Uo("_l",this.jG),this.qG.Uo(Yp.ll,this.JG),this.FI.Uo("_l",this.$G)},L(t,[{key:"vH",get:function(){return this.qG.II}}]),t}();function fC(t){var n=new bT,i=function(t){var n=[];return pT.cO(t)&&n.push(new pT(t)),AT.cO(t)&&n.push(new AT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n._O(e)}n.lO(i[0])}return n}var vC,dC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e)||this).sj=void 0,s.uj=void 0,s.oj=void 0,s.oj=fC(n),s.sj=new jI,s.uj=new cC(s.sj.wy,s.BB,s.Xw,s.MB,s.ZS),s}U(n,t);var i=n.prototype;return i.ey=function(){return this.Ra},i.mo=function(){var n=T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.oj.Lv(),this.sj.Lv(),this.uj.Lv(),n.next=5,t.prototype.mo.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.iy=function(){t.prototype.iy.call(this),this.sj.iy()},i.ny=function(){t.prototype.ny.call(this),this.sj.ny()},i.lW=function(n){t.prototype.lW.call(this,n),this.sj.lW(n)},L(n,[{key:"MS",get:function(){return this.Ra}},{key:"z_",get:function(){return this.Ra.videoHeight}},{key:"G_",get:function(){return this.Ra.videoWidth}},{key:"ZS",get:function(){return this.oj}}]),n}(UI);!function(t){t.hj="HELLO",t.aj="HI_THERE",t.cj="INITIALIZE",t.fj="APPEND_INIT",t.vj="APPEND_DATA",t.dj="ACK",t.lj="REMOVE",t._j="DESTROY_SESSION"}(vC||(vC={}));var lC=function(){function t(){this.js=void 0,this.Ea=void 0,this.fL=new VE}var n=t.prototype;return n.gj=function(t){var n=this;return this.fL.tL(function(){var t=T.coroutine($r.mark(function t(i){var r,e,s,o,h,a;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(i),r=new MessageChannel,e=r.port1,s=r.port2,u.serviceWorker.controller){t.next=7;break}return t.next=7,dd(u.serviceWorker,"install",i);case 7:if("activated"===u.serviceWorker.controller.state){t.next=10;break}return t.next=10,dd(u.serviceWorker.controller,"activate",i);case 10:return o={kind:vC.hj,port:s},u.serviceWorker.controller.postMessage(o,[s]),e.start(),n.js=e,t.prev=15,t.next=18,dd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===vC.aj){t.next=23;break}throw new f("Could not set up message channel");case 23:n.Ea=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),rs(t.t0)&&n.wj(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.yj=function(t,n){var i=this;return this.js,this.fL.tL(T.coroutine($r.mark(function r(){var e;return $r.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.js){r.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.js.postMessage(t,n),r.next=7,dd(i.js,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.mj=function(){var t=this;return this.fL.tL(function(){return t.wj()})},n.wj=function(){if(u.serviceWorker.controller&&"activated"===u.serviceWorker.controller.state&&this.js){var t={kind:vC._j};this.js.postMessage(t),this.js.close(),this.js=void 0}},t}(),_C=function(){function t(){this.kj=w_.iw}var n=t.prototype;return n.pj=function(t,n){var i=t.fg(n);this.kj=i.tg(this.Aj)?this.kj:i},n.bj=function(t){this.kj=t},L(t,[{key:"Aj",get:function(){return this.kj}}]),t}(),gC=function(){function t(){this.JB=T.resolve()}return t.prototype.Tj=function(t){var n=this.JB.then(t);return this.JB=n.then(S,S),n},t}(),wC=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ej=void 0,r.Sj=void 0,r.Rj=!0,r.Ij=void 0,r.fL=new gC,r.Nj=new ns,r.Cj=!1,r.Dj=!1,r.fD=n,r.Oj=i,r}U(n,t);var i=n.prototype;return i.My=function(t,n){if(this.lM!==t){this.Rj=t;var i=new As(t?"Vl":"uU");this.xo(i)}return T.resolve()},i.oM=function(t,n){},i.hM=function(t,n){},i.XL=function(){return this.Dj},i.Eo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Nj.Eo(),this.Nj=new ns;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rM=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.aM=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.iM=function(){var t=T.coroutine($r.mark(function t(i,r,e){var s,u,o,h=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.io===cS.jL){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return s=i.Ds,u=this.xj(e),o=function(){var t=T.coroutine($r.mark(function t(){var i,r,e,o,a,c,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(u.Io),i=Ow.Jk(new DataView(s.buffer)),(r=Ew(i,Mg.rk)).length){t.next=5;break}throw new f("Moof boxes not found");case 5:return e=h.Ij,o=n.Pj(r,e),a=h.Bj(r,e),c=s.buffer,v={kind:vC.vj,mimeType:h.fD,segment:s,startPts:S_.hw(o).gw(),totalDuration:S_.hw(a).gw()},t.next=12,h.Oj.yj(v,[c]);case 12:void 0===h.Ej&&(h.Ej=o),void 0===h.Sj&&(h.Sj=o),h.Sj=h.Sj.vg(a),h.xo(new As(sS.zL));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.fL.Tj(T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h.Cj=!0,t.next=4,o();case 4:return t.prev=4,u.mo(),h.Cj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eM=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.io===cS.jL){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Ds,e=this.xj(i),s=function(){var t=T.coroutine($r.mark(function t(){var n,i,s,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(e.Io),n=Ow.Jk(new DataView(r.buffer)),i=Tw(n,Mg.Dm)){t.next=5;break}throw new f("Moov Box not found");case 5:if(0!==i.vp.length){t.next=7;break}throw new f("Tracks not found");case 7:return u.Ij=i.vp[0].pp.qk.jg,s=r.buffer,o={kind:vC.fj,mimeType:u.fD,segment:r},t.next=12,u.Oj.yj(o,[s]);case 12:u.xo(new As(sS.zL));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.fL.Tj(T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.Cj=!0,t.next=4,s();case 4:return t.prev=4,e.mo(),u.Cj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.sM=function(){this.Dj=!0},i.uM=function(){this.Dj=!1},i.Ph=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.xj(r),s=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(e.Io),n={kind:vC.lj,mimeType:u.fD,endTime:S_.ew(i).gw()},t.next=4,u.Oj.yj(n);case 4:u.Ej=void 0,u.Sj=void 0,u.xo(new As(sS.zL));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.fL.Tj(T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.Cj=!0,t.next=4,s();case 4:return t.prev=4,e.mo(),u.Cj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.BL=function(t){return this.fD===t.Gf},i.LL=function(t){return this.fD=t.Gf,T.resolve()},n.Pj=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.vp.length)throw new f("No tracks");if(!i.vp[0].FA)throw new f("No decode time");return new w_(i.vp[0].FA.FA.toNumber(),n)},i.xj=function(t){var n=new ns;return n.So(this.Nj.Io),t&&n.So(t),n},i.Bj=function(t,n){var i=0;return t.forEach(function(t){t.vp.forEach(function(t){t.UA.forEach(function(t){t.zA.forEach(function(t){var n;i+=null!=(n=t.U_)?n:0})})})}),new w_(i,n)},L(n,[{key:"_y",get:function(){return void 0===this.Ej||void 0===this.Sj?Jp.SI():new Jp([this.Ej.tw,this.Sj.tw])}},{key:"Wh",get:function(){return{Gf:this.fD}}},{key:"uD",get:function(){return this.fD}},{key:"_M",get:function(){return Jp.SI()}},{key:"gx",get:function(){return 30},set:function(t){}},{key:"kx",get:function(){return 30},set:function(t){}},{key:"lM",get:function(){return this.Rj}},{key:"mO",get:function(){return this.Cj}},{key:"Lj",get:function(){return this.Ej}},{key:"Yy",get:function(){return this.Sj}}]),n}(ks),yC=function(){function t(t,n){this._a=void 0,this.UU=void 0,this.FU=void 0,this._a=t,this.FU=ze(n,function(t){return Boolean(t.uD.match(/video/))}),this.UU=ze(n,function(t){return Boolean(t.uD.match(/audio/))}),this.Mj()}t.Uj=function(n,i){for(var r=[],e=0;e<n.JU.length;e++){var s=n.JU[e].Gf;r.push(new wC(s,i))}return new t(n,r)};var n=t.prototype;return n.Mj=function(){},n.mo=function(){var t=T.coroutine($r.mark(function t(){var n,i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.UU,this.FU].filter(J);n<i.length;n++)(r=i[n]).Mo(),r.rM().catch(S);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.jU=function(t){},n.ZU=function(t,n,i,r){},n.sM=function(){var t,n;null==(t=this.UU)||t.sM(),null==(n=this.FU)||n.sM()},n.uM=function(){var t,n;null==(t=this.UU)||t.uM(),null==(n=this.FU)||n.uM()},n.BL=function(t){return t===this._a},n.LL=function(t){return this._a=t,T.resolve()},L(t,[{key:"Fj",get:function(){return[this.UU,this.FU].filter(J).filter(function(t){return t.lM})}},{key:"IU",get:function(){return this.UU}},{key:"_y",get:function(){return OS(this)}},{key:"Wh",get:function(){return this._a}},{key:"U_",get:function(){return 0}},{key:"XL",get:function(){var t,n,i,r,e=null==(t=null==(n=this.UU)?void 0:n.XL())||t,s=null==(i=null==(r=this.FU)?void 0:r.XL())||i;return e&&s}},{key:"Iy",get:function(){return new Jp([0,1/0])}},{key:"NU",get:function(){return this.FU}},{key:"Vw",get:function(){throw new f("Not implemented")}}]),t}(),mC=w_.pg,kC=new w_(-1/0),pC=w_.iw,AC=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.ng=function(t,n){return t.og(n)?e_.Z_:t.ug(n)?e_.Q_:e_.Y_},i.vg=function(t,n){return t.vg(n)},i.fg=function(t,n){return t.fg(n)},i.sg=function(t,n){return t.sg(n)},i.tI=function(){return mC},i.nI=function(){return pC},i.sI=function(){return kC},n.bI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new w_(t.start(r)),new w_(t.end(r)));return new n(i)},n.Hj=function(t){for(var i=[],r=[],e=0;e<t.Ol;e++)i.push(new w_(t.WR(e))),i.push(new w_(t.zR(e))),r.push(t.qR(e)),r.push(t.GR(e));return new n(i,r)},n.EI=function(t){return new n([t,t],[!0,!0])},i.$R=function(t,i){return new n(t,i)},i.ZR=function(t){return t.tw},n.SI=function(){return bC},n}(Zp),bC=new AC([]),TC=function(t){function n(n){var i;return(i=t.call(this)||this).Vj=!0,i.Oj=new lC,i.Xj=new _C,i.fS=void 0,i.UV=void 0,i.Wj=!0,i.qj=new Wu,i.BI=!1,i.JV=T.resolve(),i.$V=new ns,i.zj=!0,i.tX=Jp.SI(),i.oj=void 0,i.Gj=void 0,i.hX=!1,i.wS=void 0,i.jj=function(){i.X_||i.Qj.Ol<=0||i._y.Ol<=0||i.Xj.pj(new w_(i._y.zR(i._y.Ol-1)),i.Qj.zR(i.Qj.Ol-1))},i.Yj=function(){i.xo(new ql(i.M_))},i.Zj=function(){i.xo(new Wl(i.M_,i.gy))},i.Jj=function(){i.xo(new Xl(i.M_,i.W_))},i.$j=function(){i.xo(new Ql(i.M_,i.j_))},i.Kj=function(){i.xo(new Vl(i.U_))},i.tQ=function(){i.xo(new Jy(i.M_))},i.nQ=function(){i.ah(i.M_)},i.iQ=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.zj&&i.xo(new Ll(i.M_)),i.Wj=!1,i.zj=!0;case 3:case"end":return t.stop()}},t)})),i.rQ=function(){i.Wj=!0,i.xo(new Bl(i.M_))},i.Gj=n,i.UV=new XS(en(i)),i.Gj.setAttribute("id","player_video"),i.Gj.setAttribute("x-webkit-airplay","deny"),i.Gj.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.Gj.playsInline=!0,i.Gj.style.width="100%",i.Gj.style.height="100%",i.eQ(),i.sQ(),i.oj=fC(i.Gj),i}U(n,t);var i=n.prototype;return i.eQ=function(){this.Gj.addEventListener("timeupdate",this.jj),this.Gj.addEventListener("ended",this.Yj),this.Gj.addEventListener("timeupdate",this.Zj),this.Gj.addEventListener("ratechange",this.Jj),this.Gj.addEventListener("volumechange",this.$j),this.Gj.addEventListener("durationchange",this.Kj),this.Gj.addEventListener("playing",this.tQ),this.Gj.addEventListener("seeking",this.nQ),this.Gj.addEventListener("play",this.iQ),this.Gj.addEventListener("pause",this.rQ)},i.uQ=function(){this.Gj.removeEventListener("timeupdate",this.jj),this.Gj.removeEventListener("ended",this.Yj),this.Gj.removeEventListener("timeupdate",this.Zj),this.Gj.removeEventListener("ratechange",this.Jj),this.Gj.removeEventListener("volumechange",this.$j),this.Gj.removeEventListener("durationchange",this.Kj),this.Gj.removeEventListener("playing",this.tQ),this.Gj.removeEventListener("seeking",this.nQ),this.Gj.removeEventListener("play",this.iQ),this.Gj.removeEventListener("pause",this.rQ)},i.sQ=function(){this.UV.Po(xl.gl,this.Oo)},i.oQ=function(){this.UV.Uo(xl.gl,this.Oo)},i.ah=function(t,n){this.$V.Eo(),this.$V=new ns,this.JV=this.KX(t,this.JV,this.$V.Io).catch(S)},i.KX=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tX=this.Sy,s=null==(e=this.fS)?void 0:e.Fj){t.next=4;break}return t.abrupt("return");case 4:return u=l.max.apply(l,s.map(function(t){return t.Lj?t.Lj.tw:1/0})),this.BI=!0,this.xo(new Gl(n)),t.next=9,i.catch(S);case 9:if(es(r),t.prev=10,this.Vj||this.hQ(),this.Gj.load(),this.Wj){t.next=17;break}return this.zj=!1,t.next=17,os(this.Gj.play(),r);case 17:if(!(this.n_<_l.I_)){t.next=22;break}return t.next=20,this.UV.Xo(xl.gl,r);case 20:t.next=17;break;case 22:this.qj.wh(),this.Vj=!1,this.BI=!1,this.xo(new jl(this.M_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.qj.yh(t.t0),t.t0;case 32:return t.prev=32,this.aQ(),this.Xj.bj(new w_(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zw=function(){this.Wj=!0,this.Gj.pause()},i.qw=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wj){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.Gj.src){t.next=9;break}return this.vW(),t.next=7,this.qj.gh;case 7:t.next=11;break;case 9:return t.next=11,this.Gj.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.Wj=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Oj&&this.Oj.mj().catch(S),this.$V.Eo(),this.uQ(),this.oQ(),this.UV.mo(),this.Mo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Oj&&this.Oj.mj().catch(S),this.$V.Eo(),this.Gj.removeAttribute("src"),this.Gj.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.Gj.removeAttribute("x-airplay-deny"),this.Gj.load(),this.UV.Cl(),this.tX=Jp.SI();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vW=function(){this.dW||(NC(this.Gj,b.Pu),this.hX=!0)},i.hQ=function(){var t,n=this.Gj.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.Gj.videoWidth/this.Gj.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.Gj.style.width=i+"px",this.Gj.style.height=r+"px",this.Gj.style.marginLeft=(e-i)/2+"px",this.Gj.style.marginTop=(u-r)/2+"px",this.Gj.style.backgroundColor="black"}},i.aQ=function(){this.Gj.style.width="100%",this.Gj.style.height="100%",this.Gj.style.marginLeft="",this.Gj.style.marginTop="",this.Gj.style.backgroundColor=""},i.QS=function(t,n,i,r){},i.Ub=function(t,n,i,r,e,s){},i.VL=function(t){},i.sR=function(){return cE(this.Gj)},i.ny=function(){this.Gj.style.display="block"},i.iy=function(){this.Gj.style.display="none"},i.eF=function(){},i.xh=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.io!==Sy.Wb){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.Oj.gj();case 4:return i={kind:vC.cj,mediaBufferConfigs:n.JU.map(function(t){return t.Gf})},t.next=7,this.Oj.yj(i);case 7:return this.fS=yC.Uj(n,this.Oj),this.Gj.preload="none",this.Gj.src="https://theo.proxy/"+this.Oj.Ea+"/master.m3u8",t.abrupt("return",this.fS);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sF=function(){},i.Vb=function(t){},i.JS=function(){},i.eR=function(t){},i.GS=function(){return!1},i.lW=function(t){t.appendChild(this.Gj)},i.ey=function(){return this.Gj},i.zX=function(){},i.ly=function(){},L(n,[{key:"MS",get:function(){return this.Gj}},{key:"fF",get:function(){return!1}},{key:"M_",get:function(){return this.Gj.currentTime+this.Xj.Aj.tw}},{key:"X_",get:function(){return this.Gj.paused}},{key:"j_",get:function(){return this.Gj.volume},set:function(t){this.Gj.volume=t}},{key:"W_",get:function(){return this.Gj.playbackRate},set:function(t){this.Gj.playbackRate=t}},{key:"cQ",get:function(){return this.Gj.defaultPlaybackRate}},{key:"_y",get:function(){var t,n;return null!=(t=null==(n=this.fS)?void 0:n._y)?t:Jp.SI()}},{key:"Qj",get:function(){return AC.bI(this.Gj.buffered)}},{key:"Sy",get:function(){var t=Jp.TI(this.fQ);return this.tX.hI(t.hh(this.Xj.Aj.tw))}},{key:"fQ",get:function(){return AC.bI(this.Gj.played)}},{key:"q_",get:function(){return this.BI}},{key:"U_",get:function(){return this.Gj.duration}},{key:"V_",get:function(){return this.Gj.muted},set:function(t){this.Gj.muted=t}},{key:"pz",get:function(){return this.Gj.style}},{key:"gW",get:function(){return Kr({},rS,{bL:!0,TL:300})}},{key:"n_",get:function(){return this.UV.n_}},{key:"z_",get:function(){return this.Gj.videoHeight}},{key:"G_",get:function(){return this.Gj.videoWidth}},{key:"F_",get:function(){return this.Gj.ended}},{key:"Ip",get:function(){return 0}},{key:"cu",get:function(){return 0}},{key:"yy",get:function(){return!1}},{key:"dW",get:function(){return this.hX}},{key:"gy",get:function(){}},{key:"BB",get:function(){}},{key:"Qo",get:function(){}},{key:"ZS",get:function(){return this.oj}},{key:"Iy",get:function(){return this.fS?this.fS.Iy:Jp.SI()}},{key:"uR",get:function(){}},{key:"Xw",get:function(){}},{key:"MB",get:function(){}},{key:"_W",get:function(){return"block"===this.Gj.style.display}},{key:"US",get:function(){return this.wS},set:function(t){this.wS=t}},{key:"PV",get:function(){}}]),n}(ks),EC=2,SC=[H_.Sv,H_.Rv];function RC(t){var n=e.createElement(t);return Dr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),IC(n),n}function IC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Or(t),t.pause(),t.playbackRate=1,t.preload=Wp.SR,t.controls=!1,t.style.display="none",Dr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function NC(t,n){if(n.Js){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();et(r)&&vs(r),t.pause()}}var CC;gr=(CC={vQ:function(){function t(t,n,i,r,e){void 0===i&&(i=EC),void 0===r&&(r=SC),void 0===e&&(e=Uo()),this.dQ=void 0,this.lQ=void 0,this.ho=void 0,this._Q=void 0,this.BV=void 0,this.FI=void 0,this.gQ=void 0,this.dQ=i,this.lQ=[].concat(r),this.ho=e,this.BV=t,this.FI=n,this._Q=ne(),this.wQ()}var n=t.prototype;return n.XI=function(t){for(var n=0,i=this.qI;n<i.length;n++){i[n].lW(t)}},n.LS=function(t){var n=ze(this._Q.get(t),function(t){return t.yQ});if(n)return n.yQ=!1,n.mQ},n.kQ=function(t){if(!this.gQ)throw new f("Error creating iOS Safari MediaController");return this.gQ},n.tR=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.MS,r=i.tagName.toLowerCase(),t.next=4,n.Cl();case 4:IC(i),(e=ze(this._Q.get(r)||[],function(t){return n===t.mQ}))&&(e.yQ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WI=function(){for(var t=0,n=this.qI;t<n.length;t++){n[t].vW()}},n.Lv=function(){for(var t=0,n=this.qI;t<n.length;t++){var i=n[t],r=i.MS;i.mo(),IC(r),Er(r)}},n.wQ=function(){for(var t=0,n=this.lQ;t<n.length;t++){var i=n[t],r=[];this._Q.set(i,r);for(var e=0;e<this.dQ;e++){var s=RC(i),u=i===H_.Sv?new zI(s,this.ho,this.BV):new dC(s,this.ho,this.BV,this.FI);r.push({mQ:u,yQ:!0})}}if(Q.Pe&&Q.me){var o=RC(H_.Rv);this.gQ=new TC(o)}},L(t,[{key:"qI",get:function(){for(var t=[],n=0,i=this.lQ;n<i.length;n++){var r=i[n],e=this._Q.get(r).map(function(t){return t.mQ});t.push.apply(t,e)}return this.gQ&&t.push(this.gQ),t}}]),t}(),pQ:function(){function t(n){var i=this;this.AQ=new VE,this.bQ=T.coroutine($r.mark(function n(){var r,e,s;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.MI.LS(H_.Rv),e=r.MS,n.next=4,t.TQ(e);case 4:return s=n.sent,n.next=7,i.MI.tR(r);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.MI=n}var n=t.prototype;return n.wL=function(){return this.AQ.tL(this.bQ)},n.$w=function(){this.MI.WI()},t.TQ=function(){var n=T.coroutine($r.mark(function n(i){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Q.Re&&!Q.Ee){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.EQ();case 5:return n.next=7,t.SQ(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.RQ(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.SQ=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,et(i)){t.next=4;break}return t.abrupt("return",!Q.pe);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.RQ=function(){var n=T.coroutine($r.mark(function n(i){var r;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.SQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.EQ=function(){return new T(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.Lv=function(){this.AQ.Lv()},t}(),IQ:{mD:function(t){mr.addEventListener("beforeunload",t)},OD:function(t){mr.removeEventListener("beforeunload",t)}},NQ:r}).vQ,wr=CC.pQ,yr=CC.IQ,mr=CC.NQ,kr=mr&&mr.location,pr=mr&&mr.navigator;var DC=[];function OC(){DC.shift()()}function xC(t){DC.push(t),o(OC,0)}var PC=function(){function t(t){this.CQ=void 0,this.DQ=void 0,this.OQ=void 0,this.OQ=t}var n=t.prototype;return n.xQ=function(t){return this.CQ=this.CQ||{},void 0===this.CQ[t]&&(this.CQ[t]=[]),this.CQ[t]},n.addEventListener=function(t,n){var i=this.xQ(t);-1===i.indexOf(n)&&i.push(n)},n.Lo=function(t){(this.DQ||(this.DQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.xQ(t);n?je(i,n):i.length=0},n.Vo=function(t){var n=this.DQ;n&&je(n,t)},n.Mo=function(){this.CQ=void 0},n.dispatchEvent=function(t,n){if(n)return xC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.xQ(t.type).slice(),r=this.DQ&&this.DQ.slice(),e=0;e<i.length;e++){i[e].call(this.OQ||this,t)}if(r)for(var s=0;s<r.length;s++){r[s].call(this.OQ||this,t)}},n.PQ=function(t){return Boolean(this.CQ&&this.CQ[t]&&this.CQ[t].length)},n.BQ=function(){return this.CQ?d.keys(this.CQ):[]},t}(),BC=function(){function t(){this.LQ=[]}var n=t.prototype;return n.Uj=function(t,n){var i=this.LQ[t];return i?new i(n):null},n.pL=function(t,n){this.LQ[t]=n},t}();BC.je=new BC;var LC,MC=function(t){function n(n,i){var r,e=FC[n];return(r=t.call(this,e?e.zo:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.MQ,r.helpLinkText=e&&e.UQ,r}return U(n,t),L(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(un);!function(t){t.FQ="LICENSE_INVALID",t.HQ="MANIFEST_NOT_FOUND",t.VQ="MANIFEST_CORS_ERROR",t.XQ="INVALID_HLS_MANIFEST",t.WQ="PLAYBACK_ISSUE",t.qQ="AUDIO_ISSUE",t.zQ="BROWSER_SUPPORT_ISSUE",t.GQ="INVALID_KEY",t.jQ="DECRYPTION_ERROR",t.QQ="AD_BLOCK_DETECTED",t.YQ="THEOPLAYER_NOT_INITIALIZED",t.$l="ERROR",t.ZQ="MANIFEST_SEQUENCE_RESET_ERROR",t.JQ="PLAYER_INCORRECTLY_CONFIGURED",t.$Q="UNSUPPORTED"}(LC||(LC={}));for(var UC=[{mh:LC.FQ,zo:"The license for this player is invalid. Please contact your service provider for additional information."},{mh:LC.HQ,zo:"Could not load the manifest file."},{mh:LC.VQ,zo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",MQ:"https://www.theoplayer.com/documentation/cors.html",KQ:!1},{mh:LC.XQ,zo:"The source of the player is an invalid HLS manifest.",MQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{mh:LC.WQ,zo:"There appears to be a playback issue."},{mh:LC.qQ,zo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{mh:LC.zQ,zo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{mh:LC.GQ,zo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{mh:LC.jQ,zo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{mh:LC.QQ,zo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{mh:LC.YQ,zo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{mh:LC.$l,zo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{mh:LC.ZQ,zo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{mh:LC.JQ,zo:"The player is incorrectly configured.",MQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{mh:LC.$Q,zo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],FC={},HC=0;HC<UC.length;HC++){var VC=UC[HC];FC[VC.mh]=VC}function XC(t){return t.tY}var WC=function(){function t(){this.Pc=[],this.nY={},this.iY=0}var n=t.prototype;return n.rY=function(t){var n=this.nY[t];return void 0===n?-1:n-this.iY},n.eY=function(t){return this.Pc[t]},n.sY=function(t){return this.eY(this.rY(t))},n.uY=function(t){return!!this.eY(t)},n.oY=function(t){return!!this.sY(t)},n.hY=function(){return this.Pc},n.vg=function(t){var n,i=this.Pc,r=i.length?i[i.length-1]:null;if(this.rY(t.tY)>=0)return!1;if(r&&t.tY>r.tY)n=i.length;else{var e=jS(this.Pc,t.tY,XC,c_);if(e>=0)return!1;n=-(e+1)}return this.aY(t,n),!0},n.Ph=function(t){var n=this.Pc,i=this.nY,r=this.rY(t.tY);return!(r<0)&&(n.splice(r,0,t),delete i[t.tY],this.cY(r),!0)},n.fY=function(t){var n=this.Pc,i=this.nY;t=l.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].tY];n.splice(0,t),this.iY+=t},n.aY=function(t,n){var i=this.Pc;n>=i.length?i.push(t):i.splice(n,0,t),this.cY(n)},n.cY=function(t){for(var n=this.Pc,i=this.nY,r=this.iY,e=n.length,s=t;s<e;s++)i[n[s].tY]=s+r},L(t,[{key:"Ol",get:function(){return this.Pc.length}}]),t}(),qC=function(){function t(t,n,i){this.vY=void 0,this.dY=void 0,this.lY=void 0,this.vY=t,this.dY=n,this.lY=i}var n=t.prototype;return n.compute=function(){return this.vY.live?this.vY._Y?this.vY.gY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.lY&&(t+=this.wY()),this.yY()&&(t+=this.mY(t)),t},n.yY=function(){return void 0!==this.dY.kY.sY(this.vY.fragments[0].tY)},n.mY=function(t){var n=this.vY.fragments[0];return this.dY.kY.sY(n.tY).pY-(n.pY+t)||0},n.wY=function(){var t=zC(this.vY),n=zC(this.lY.AY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.lY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-e]||0;s+=l.abs(o-h)}s<r&&(i=e,r=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.AY.fragments.length?this.lY.bY(t.AY.fragments[0].tY).pY:0},t}();function zC(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var s=e[r];s.TY&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var GC=function(t){function n(n){return t.call(this,eg.kl,n)||this}return U(n,t),n.prototype.tl=function(){return new jC(this.jy.Kd)},n}(cg),jC=function(t){function n(n){return t.call(this,sg.kl,n)||this}return U(n,t),n}(fg),QC=function(t){function n(n,i){var r,e=YC(i,n.U_,n.uR,n.EY);return(r=t.call(this,i,e,void 0,!1,n.Xl)||this).SY=void 0,r.RY=void 0,r.IY=void 0,r.uF=void 0,r.NY=void 0,r.CY=void 0,r.DY=void 0,r.OY=void 0,r.xY=void 0,r.PY=void 0,r.SY=n.BY,r.RY=n.uR,r.IY=n.EY,r.uF=n.U_,r.NY=n.LY,r.CY=Boolean(n.MY),r.DY=n.UY||{},r.OY=n.FY,r.xY=n.HY,r.PY=n.VY,r.XY(),r.WY(),r}U(n,t);var i=n.prototype;return i.Bh=function(t){var n=!1;void 0===this.SY&&void 0!==t.BY&&(n=!0,this.SY=t.BY),void 0===this.IY&&void 0!==t.EY&&(n=!0,this.IY=t.EY),void 0===this.uF&&void 0!==t.U_&&(n=!0,this.uF=t.U_),void 0===this.NY&&void 0!==t.LY&&(n=!0,this.NY=t.LY),!this.CY&&t.MY&&(n=!0,this.CY=t.MY),n=this.updateCustomAttributes(t,n),void 0===this.OY&&void 0!==t.FY&&(n=!0,this.OY=t.FY),void 0===this.xY&&void 0!==t.HY&&(n=!0,this.xY=t.HY),void 0===this.PY&&void 0!==t.VY&&(n=!0,this.PY=t.VY),this.XY(),this.WY(),this.qY(),n&&this.xo(new GC(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.UY)for(var r=0,e=d.keys(t.UY);r<e.length;r++){var s=e[r];void 0===this.DY[s]&&(i=!0,this.DY[s]=t.UY[s])}return i},i.XY=function(){this.uF&&!this.IY&&(this.IY=new Date(this.RY.getTime()+1e3*this.uF))},i.WY=function(){this.IY&&!this.uF&&(this.uF=Jt(this.IY.getTime()-this.RY.getTime()))},i.qY=function(){this.om===1/0&&(this.IY||this.uF)&&(this.om=YC(this.um,this.uF,this.RY,this.IY))},L(n,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=xd(vg(t=this),{get content(){return t.Zy},get class(){return t.BY},get startDate(){return t.uR},get endDate(){return t.EY},get duration(){return t.U_},get plannedDuration(){return t.LY},get endOnNext(){return t.MY},get scte35Cmd(){return t.FY},get scte35Out(){return t.HY},get scte35In(){return t.VY},get customAttributes(){return t.UY}})),this.$d}},{key:"BY",get:function(){return this.SY}},{key:"uR",get:function(){return this.RY}},{key:"EY",get:function(){return this.IY}},{key:"U_",get:function(){return this.uF}},{key:"LY",get:function(){return this.NY}},{key:"MY",get:function(){return this.CY}},{key:"FY",get:function(){return this.OY}},{key:"HY",get:function(){return this.xY}},{key:"VY",get:function(){return this.PY}},{key:"UY",get:function(){return this.DY}}]),n}(wg);function YC(t,n,i,r){return J(n)?t+n:r?t+(Jt(r.getTime())-Jt(i.getTime())):1/0}var ZC,JC,$C,KC,tD,nD=function(t){function n(){return t.call(this,void 0,void 0,tg.DATE_RANGE)||this}U(n,t);var i=n.prototype;return i.Bh=function(t,n){for(var i=this,r=function(t){for(var n=ne(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Xl)){var s=n.get(e.Xl),u=Kr({},s,Md(e),{UY:Kr({},s.UY,e.UY)});n.set(e.Xl,u)}else n.set(e.Xl,e),i.push(e.Xl)}return i.map(function(t){return n.get(t)})}(t),e=this.i_.Dl,s=function(t){var n=e[t],s=ze(r,function(t){return t.Xl===n.Xl});s?n.Bh(s):i.LF(n)},u=e.length-1;u>=0;u--)s(u);for(var o=0;o<r.length;o++){var h=r[o],a=h.uR;if(void 0!==a&&!this.PF(h.Xl)){var c=n(a);this.Hb(new QC(h,c))}}},i.Hb=function(n){this.zY(n),t.prototype.Hb.call(this,n)},i.zY=function(t){var n=this.AF.filter(function(n){return n.BY===t.BY}).pop();n&&n.MY&&n.Bh({Xl:n.Xl,EY:t.uR})},n}(dI);function iD(t){return rD(t)?{vv:t.GY,jY:[t.jY.WR,t.jY.zR],xv:!0}:{vv:t.toString(),xv:!0}}function rD(t){return void 0!==t.jY}function eD(t){return t&&t.QY&&Cg(t.QY)||!1}function sD(t){if(!t)return S_.pg;if(!eD(t))return S_.ew(t.duration);var n=t.YY||S_.pg,i=t.ZY||S_.pg,r=S_.ew(t.duration);return n.Sg()||i.Sg()?n.Sg()?i.Sg()?r.Sg()?S_.pg:r:i:n:S_.Jg(n,i)}function uD(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Xb)return i}return null}function oD(t){return uD(t)||function(t){return t.filter(function(t){return t.JY})}(t)[0]||t[0]}function hD(t,n){for(var i=0;i<n.length;i++){var r=n[i];Ye(t,r)||t.push(r)}return t}function aD(t){switch(t){case KC.Rv:case KC.$Y:return H_.Rv;case KC.Sv:return H_.Sv}}!function(t){t.KY="alternative",t.tZ="main",t.nZ="commentary",t.iZ="",t.Nb="descriptions",t.rZ="main-desc",t.eZ="translation"}(ZC||(ZC={})),function(t){t.KY="alternative",t.tZ="main",t.nZ="commentary",t.iZ="",t.Ib="captions",t.sZ="sign",t.yk="subtitles"}(JC||(JC={})),function(t){t.Rv="video",t.Sv="audio",t.uZ="closedCaption",t.oZ="variant"}($C||($C={})),function(t){t[t.lv=-1]="lv",t[t.Sv=0]="Sv",t[t.Rv=1]="Rv",t[t.$Y=2]="$Y"}(KC||(KC={})),function(t){t[t.lv=-1]="lv",t[t.hZ=1]="hZ",t[t.aZ=2]="aZ",t[t.cZ=3]="cZ",t[t.fZ=4]="fZ"}(tD||(tD={})),function(t){t.bw=function(t){return t>=tD.aZ},t.vZ=function(t){return t===tD.aZ||t===tD.cZ}}(tD||(tD={}));var cD=function(t){function n(){var n;return(n=t.call(this)||this).dZ=[],n.lZ=function(){return n.dispatchEvent("_Z")},n.gZ=function(){return n.dispatchEvent("wZ")},n}U(n,t);var i=n.prototype;return i.vg=function(t){this.dZ.push(t),t.addEventListener("wZ",this.gZ),t.addEventListener("yZ",this.lZ),this.dispatchEvent("mZ"),t.disabled||this.dispatchEvent("_Z")},i.Ph=function(t){var n=this.dZ.indexOf(t);n<0||(Qe(this.dZ,n),t.removeEventListener("wZ",this.gZ),t.removeEventListener("yZ",this.lZ),this.dispatchEvent("mZ"),t.disabled||this.dispatchEvent("_Z"))},i.sh=function(){for(var t=!!this.kZ.length,n=!!this.pZ.length,i=0,r=this.dZ;i<r.length;i++){r[i].removeEventListener("yZ",this.lZ)}this.dZ.length=0,t&&this.dispatchEvent("mZ"),n&&this.dispatchEvent("_Z")},i.Lv=function(){this.Mo(),this.sh()},L(n,[{key:"kZ",get:function(){return this.dZ}},{key:"pZ",get:function(){return this.dZ.filter(function(t){return!t.disabled})}}]),n}(PC);function fD(t){if(!t)return null;for(var n={AZ:"",bZ:"",TZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],s=e.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.AZ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.AZ="mp4a.40.2":"mp4a.40.29"===s?n.AZ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.AZ=s:"ec-3"===s?n.AZ=s:0===s.indexOf("avc")?n.bZ=e:n.TZ+=","+s}return n}var vD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).EZ=void 0,h.IE=void 0,h.Oy=void 0,h.SZ=new WC,h.RZ=NaN,h.IZ=void 0,h.NZ=void 0,h.SF=void 0,h.CZ=void 0,h.DZ=void 0,h.OZ=!0,h.xZ=!0,h.PZ=!0,h.BZ=!1,h.LZ=null,h.MZ=!1,h.EZ=n,h.IE=i,h.Oy=r||0===r?r:-1,h.NZ=e,h.CZ=Boolean(s),h.DZ=Boolean(u),h.SF=o,h}U(n,t);var i=n.prototype;return i.UZ=function(t,n){var i=Hb(),r=new qC(t,this,n).compute(),e=this.FZ(t.fragments),s=e.oldFragments,u=e.newFragments;this.HZ(s,i),this.VZ(u,i,r),this.IZ!==t&&this.XZ(!0),this.IZ=t,this.dispatchEvent({type:"WZ",qZ:this}),this.dispatchEvent("renditionUpdated")},i.bY=function(t){return this.SZ.sY(t)},i.zZ=function(){var t=this.OZ;this.OZ=this.xZ&&this.PZ,t!==this.OZ&&this.dispatchEvent("wZ")},i.XZ=function(t){this.xZ=t,this.zZ()},i.GZ=function(t){this.PZ=t,this.zZ()},i.jZ=function(t){this.IE=t,this.dispatchEvent("renditionUpdated")},i.QZ=function(){null!==this.LZ&&h(this.LZ),this.dispatchEvent("yZ"),this.dispatchEvent("renditionUpdated")},i.YZ=function(t){this.MZ=t,this.QZ()},i.ZZ=function(){this.JZ(3e4)},i.JZ=function(t){var n=this;this.BZ=!0,this.QZ(),this.LZ=o(function(){n.BZ=!1,n.QZ()},t)},i.FZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var s=e[r];this.SZ.oY(s.tY)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.HZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.SZ.sY(r.tY);e.$Z=hD(e.$Z,r.$Z),e.KZ=r.KZ||e.KZ,e.tJ=n}},i.VZ=function(t,n,i){var r=this.nJ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.lp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.pY+=n}}(r,i),this.iJ(r)},i.nJ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.qZ=this;var e=Kr({},r);n.push(e)}return n},i.iJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.SZ.vg(i),w(this.RZ)&&(this.RZ=i.tY)}},i.Lv=function(){this.Mo(),null!==this.LZ&&h(this.LZ)},L(n,[{key:"disabled",get:function(){return this.BZ||this.MZ},set:function(t){this.BZ=t,this.QZ()}},{key:"Xl",get:function(){return this.Oy}},{key:"Ey",get:function(){return this.OZ}},{key:"uri",get:function(){return this.NZ||this.IZ&&this.IZ.uri},set:function(t){this.NZ=t,this.dispatchEvent("renditionUpdated")}},{key:"AY",get:function(){return this.IZ}},{key:"kY",get:function(){return this.SZ}},{key:"rJ",get:function(){return this.IZ?this.IZ.live?this.IZ.duration<-60?tD.cZ:tD.fZ:tD.hZ:tD.lv}},{key:"hs",get:function(){return this.IE},set:function(t){this.jZ(t)}},{key:"Gl",get:function(){return this.SF}},{key:"Xb",get:function(){return this.CZ}},{key:"JY",get:function(){return this.DZ||this.CZ}},{key:"eJ",get:function(){return this.RZ}},{key:"sJ",get:function(){return!!this.AY}},{key:"zf",get:function(){return this.EZ}}]),n}(PC),dD=function(t){function n(n,i,r,e,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=ZC.tZ),(w=t.call(this,n,i,r,s,u,o,d)||this).uJ=void 0,w.oJ=void 0,w.hJ=void 0,w.aJ=void 0,w.cJ=void 0,w.fJ=void 0,w.vJ=void 0,w.dJ=void 0,w.lJ=void 0,w.EF=void 0,w._J=void 0,w.gJ=void 0,w.wJ=void 0,w.yJ=void 0,w.mJ=void 0,w.kJ=void 0,w.pJ=null,w.AJ=void 0,w.uJ=Boolean(l),w.cJ=e,w.oJ=fD(h),w.hJ=g,w.vJ=a,w.dJ=c,w.fJ=f,w.aJ=v,w.EF=_,w}U(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.tY,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.bJ[0]?t.bJ[0].ql:ZC.tZ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Re(t.characteristics,"public.accessibility.describes-video")?ZC.rZ:ZC.tZ;if(t.characteristics&&Re(t.characteristics,"public.accessibility.describes-video"))return ZC.Nb;return ZC.KY}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.TJ=function(t){this.oJ="string"==typeof t?fD(t):t,this.dispatchEvent("renditionUpdated")},i.EJ=function(t,n){return t?!n&&t.AZ&&t.bZ?KC.$Y:t.bZ?KC.Rv:t.AZ?KC.Sv:KC.lv:KC.lv},L(n,[{key:"SJ",set:function(t){this.uJ=t}},{key:"RJ",get:function(){return this.oJ}},{key:"bandwidth",get:function(){return this.aJ},set:function(t){this.aJ=t,this.dispatchEvent("renditionUpdated")}},{key:"ql",get:function(){return this.EF}},{key:"resolution",get:function(){return this.fJ},set:function(t){this.fJ=t,this.dispatchEvent("renditionUpdated")}},{key:"IJ",get:function(){return void 0!==this.hJ?this.hJ:this.EJ(this.oJ,this.uJ)}},{key:"tY",get:function(){return this.vJ}},{key:"AZ",get:function(){return this.dJ}},{key:"NJ",get:function(){return this.cJ}},{key:"CJ",get:function(){return this.lJ},set:function(t){var n=this.lJ;this.lJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(vD);var lD=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,n,i,r,e,s,u,o)||this).xs=void 0,c.DJ=null,c.OJ=void 0,c.xJ=function(){return c.PJ()},c.xs=h,c.OJ=new hR(a,String(r),c.hs,c.Gl,void 0,tg.WEBVTT),c.Xb&&(c.OJ.t_=Yd.Jl),c}U(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Re(t.characteristics,"public.accessibility.describes-music-and-sound"))return ty.Ib;return ty.yk}(i))};var i=n.prototype;return i.UZ=function(n){t.prototype.UZ.call(this,n),this.PJ()},i.Lv=function(){t.prototype.Lv.call(this),this.lb=null},i.jZ=function(n){t.prototype.jZ.call(this,n),this.OJ.zl=n},i.PJ=function(){this.DJ&&this.DJ.BJ(this,this.kY)},L(n,[{key:"LJ",get:function(){return this.OJ}},{key:"lb",get:function(){return this.DJ},set:function(t){this.DJ&&this.DJ.removeEventListener("MJ",this.xJ),this.DJ=t,this.PJ(),this.DJ&&this.DJ.addEventListener("MJ",this.xJ)}},{key:"GY",get:function(){return this.uri}},{key:"io",get:function(){return this.xs}}]),n}(vD),_D=function(t){function n(n,i){var r;(r=t.call(this)||this)._a=void 0,r.UJ=void 0,r.FJ=["renditionUpdated","WZ","HJ"],r.VJ=null,r.XJ=null,r.WJ=null,r.qJ=null,r.zJ=new cD,r.GJ=new cD,r.jJ=new cD,r.Lw={},r.QJ=void 0,r.YJ=void 0,r.ZJ=null,r.uF=NaN,r.JJ=void 0,r.$J=void 0,r.Oo=function(t){return r.dispatchEvent(t)},r._a=n,r.UJ=i;var e=en(r);return r.JJ=function(){e.YU(this)},r.$J=function(t){e.KJ(this,t)},r}U(n,t);var i=n.prototype;return i.t$=function(t,n){var i=new lI(n);return i.t_=Yd.Zl,this.Lw[i.Xl]=i,this.dispatchEvent({type:"n$",nl:i}),i},i.i$=function(t,n,i){var r=new dI(i,"manifest");return r.t_=Yd.Zl,this.Lw[r.Xl]=r,this.dispatchEvent({type:"n$",nl:r}),r},i.r$=function(t,n){if(t){var i=t.i_,r=t.e$,e=t&&this.Lw[r];e||(e=new lI(t.Kl),this.Lw[r]=e,e.t_=Yd.Zl,this.dispatchEvent({type:"n$",nl:e}));for(var s=0;s<i.length;s++){var u=i[s];e.Hb(u)}}},i.s$=function(t){t&&(this.QJ||(this.QJ=new hR(ty.Ib,void 0,"CC1","en",!0,tg.CEA608),this.Lw.CC1=this.QJ,this.dispatchEvent({type:"n$",nl:this.QJ})),this.QJ.Hb(t))},i.u$=function(t,n,i){var r=this.Lw[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,s=t.i_.Dl;e<s.length;e++){var u=s[e];if(u.Qy>=i)break;n<u.Yy&&r.push(u)}}(r,n,i,e);for(var s=0;s<e.length;s++){var u=e[s];r.LF(u)}}},i.o$=function(t,n){return this.h$(t,n)},i.a$=function(t){var n;return(n=this.c$(t,this.zJ))?n:(n=this.c$(t,this.GJ))?n:n=this.c$(t,this.jJ)},i.Lv=function(){this.Ho(this.zJ),this.zJ.Lv(),this.Ho(this.GJ),this.GJ.Lv(),this.Ho(this.jJ),this.jJ.Lv(),this.Lw={},this.QJ=void 0,this.YJ&&(this.YJ.Lv(),this.YJ=void 0),this.ZJ=null,this.uF=NaN,this.VJ=null,this.XJ=null,this.WJ=null,this.qJ=null,this.dispatchEvent("Lv")},i.f$=function(t){var n=dD.createFromUri(this,t.uri);this.Ho(this.GJ),this.GJ.vg(n),n.addEventListener("renditionUpdated",this.JJ)},i.YU=function(t){var n=t.AY,i=t.rJ;if(w(this.uF)||tD.bw(i)){if(tD.lv===i)return;if(!n)return;this.uF=n.duration,this.dispatchEvent("v$")}w(this.uF)||tD.hZ!==i||t.removeEventListener("renditionUpdated",this.JJ)},i.d$=function(t){var n=this;this.Ho(this.zJ),this.zJ.sh(),this.Ho(this.GJ),this.GJ.sh(),this.jJ.sh(),this.ZJ=t;for(var i=t.streams.map(function(t){return dD.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.AZ&&!Re(t.AZ,"mp4a")&&!Re(t.AZ,"mp3"))return!1;if(t.bZ&&!Re(t.bZ,"avc1"))return!1;return!0}(t.RJ)}),r=i.some(function(t){return t.RJ&&t.RJ.AZ}),e=i.some(function(t){return t.RJ&&t.RJ.bZ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.RJ&&u.RJ.AZ),h=Boolean(u.RJ&&u.RJ.bZ);r&&!o||e&&!h||(this.GJ.vg(u),u.addEventListener("renditionUpdated",this.JJ))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.UJ){var e=lD.createFromPlaylistMedia(n,r);n.jJ.vg(e),n.dispatchEvent({type:"n$",nl:e.LJ})}break;case"closed-captions":break;case"audio":var s=n.GJ.kZ.filter(function(t){return t.AZ===r["group-id"]});if(0===s.length)return"continue";r.uri&&s.forEach(function(t){return t.SJ=!0});var u=r.uri?KC.Sv:KC.$Y,o=dD.createFromPlaylistMedia(n,r,!1,u);n.zJ.vg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.l$=oD(this.bJ.pZ)||null,this.dispatchEvent("_$")},i.c$=function(t,n){for(var i=0,r=n.kZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.KJ=function(t,n){this.dispatchEvent(Kr({},n,{qZ:t}))},i.g$=function(t){for(var n=0,i=t.kZ;n<i.length;n++)for(var r=i[n],e=0,s=this.FJ;e<s.length;e++){var u=s[e];r.addEventListener(u,this.$J)}},i.Ho=function(t){for(var n=0,i=t.kZ;n<i.length;n++){i[n].Lv()}},i.w$=function(t,n){0!==t.length&&this._a.hlsDateRange&&(this.YJ||(this.YJ=new nD,this.dispatchEvent({type:"n$",nl:this.YJ})),this.YJ.Bh(t,n))},i.y$=function(t,n){if(this.XJ!==t){var i=this.XJ;this.XJ=t,this.dispatchEvent({type:"m$",IJ:"AZ",qZ:this.XJ,k$:i,p$:n})}},i.h$=function(t,n){if(this.WJ!==t){var i=this.WJ;this.WJ=t,t&&this.dispatchEvent({type:"m$",IJ:"bZ",qZ:this.WJ,k$:i,p$:n})}},i.A$=function(t){for(var n=0,i=t.kZ;n<i.length;n++){var r=i[n];if(r.rJ!==tD.lv)return r.rJ}return null},L(n,[{key:"Rw",get:function(){return this.VJ},set:function(t){t&&(0===t.streams.length?this.f$(t):this.d$(t),this.VJ=t,this.g$(this.GJ),this.g$(this.zJ),this.dispatchEvent("b$"))}},{key:"T$",get:function(){return this.ZJ}},{key:"U_",get:function(){return this.uF}},{key:"Xw",get:function(){var t=this,n=this.jJ.kZ.map(function(t){return t.LJ}),i=d.keys(this.Lw).map(function(n){return t.Lw[n]});return this.QJ&&i.push(this.QJ),this.YJ&&i.push(this.YJ),n.concat(i)}},{key:"l$",get:function(){return this.XJ},set:function(t){this.y$(t,!0)}},{key:"E$",get:function(){return this.WJ},set:function(t){this.h$(t,!1)}},{key:"bJ",get:function(){return this.zJ}},{key:"S$",get:function(){return this.GJ}},{key:"R$",get:function(){return this.jJ.kZ}},{key:"rJ",get:function(){var t;return null!==(t=this.XJ&&this.XJ.rJ)&&t!==tD.lv?t:null!==(t=this.WJ&&this.WJ.rJ)&&t!==tD.lv?t:null!==(t=this.A$(this.zJ))?t:null!==(t=this.A$(this.GJ))?t:tD.lv}}]),n}(PC);var gD=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this)||this).vp=[],e.I$={},e.N$=void 0,e.C$=void 0,e.D$=void 0,e.Kd=void 0,e.Oo=function(t){return e.dispatchEvent(t)},e.O$=function(t){e.x$(t)},e.P$=function(t){e.handleRenditionUpdated(t)},e.B$=function(t){for(var n=0,i=e.vp;n<i.length;n++){i[n].L$.B$(t)}},e.N$=n,e.C$=i,e.D$=r,e.C$&&e.C$.addEventListener("m$",e.O$),e.D$&&(e.D$.addEventListener("renditionUpdated",e.P$),e.D$.addEventListener("M$",e.B$)),e.Kd=(s=en(e),u=new PC,o={get length(){return s.vp.length},enable:function(t){s.Eb(s.U$(t&&t.id)||t)},disable:function(t){s.Sb(s.U$(t&&t.id)||t)},item:function(t){return s.vp[t]&&s.vp[t].Kd},getTrackByID:function(t){var n=s.U$(t);return n&&n.Kd},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),e}U(n,t);var i=n.prototype;return i.U$=function(t){return this.I$[t]},i.Rl=function(t){for(var n=0,i=t.L$.jl;n<i.length;n++){var r=i[n];r.Xl===this.F$()&&(r.lm=!0)}t.addEventListener("enabledtrack",this.Oo),t.addEventListener("disabledtrack",this.Oo),this.vp.push(t),this.I$[t.Xl]=t,this.dispatchEvent({type:"addtrack",track:t.Kd})},i.Eb=function(t){if(t){var n=this.I$[t.Xl];if(n&&!n.Vl){for(var i=this.vp.length-1;i>=0;i--)this.vp[i].ty();n.Kw()}}},i.Sb=function(t){},L(n,[{key:"H$",get:function(){return this.F$()}}]),n}(PC);var wD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).V$=void 0,e.V$=NaN,e}U(n,t);var i=n.prototype;return i.F$=function(){return this.V$},i.x$=function(t){t.X$?this.W$(t.q$):t.z$&&this.W$(t.z$)},i.W$=function(t){t&&(this.V$=t.Xl),this.vp.forEach(function(n){return n.G$(t)})},i.handleRenditionUpdated=function(t){if(t.qZ&&t.qZ.IJ===KC.Sv)for(var n=0,i=this.vp;n<i.length;n++){i[n].j$(t)}},i.Eb=function(n){var i=n;if(!i){var r=this.vp.filter(function(t){return t.Xb});r.length>0&&(i=r[0])}t.prototype.Eb.call(this,i)},L(n,[{key:"io",get:function(){return"audio"}}]),n}(gD),yD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Q$=void 0,e.Q$=NaN,e}U(n,t);var i=n.prototype;return i.F$=function(){return this.Q$},i.x$=function(t){(t.Y$||t.q$)&&(t.q$&&(this.Q$=t.q$.Xl),this.vp.forEach(function(n){return n.G$(t.q$)}))},i.handleRenditionUpdated=function(t){if(t.qZ&&(t.qZ.IJ===KC.Rv||t.qZ.IJ===KC.$Y))for(var n=0,i=this.vp;n<i.length;n++){i[n].j$(t)}},L(n,[{key:"io",get:function(){return"video"}}]),n}(gD);function mD(t,n){for(var i,r=n-(i=t?K(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function kD(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var pD=function(t){function n(n){var i,r,e,s;return(i=t.call(this)||this).qZ=void 0,i.lm=!1,i.Z$=!0,i.Kd=void 0,i.qZ=n,i.lm=!1,i.Kd=(r=en(i),e=new PC,s={get bandwidth(){return r.qZ&&r.qZ.bandwidth},get averageBandwidth(){return r.qZ&&r.qZ.averageBandwidth},get codecs(){return r.RJ},get resolution(){return r.J$},get frameRate(){return kD(r.K$,2)},get id(){return r.Xl},get uri(){return r.qZ&&r.qZ.uri},get name(){return r.hs},set name(t){r.hs=t},get enabled(){return r.Vl},set enabled(t){r.Vl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),s),i}U(n,t);var i=n.prototype;return i.tK=function(t){var n=!!t&&this.Xl===t.Xl;this.lm!==n&&(this.lm=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Kd}))},i.j$=function(t){return this.qZ.Xl===t.qZ.Xl&&(this.qZ=t.qZ,this.dispatchEvent({type:"qualityupdated",quality:this.Kd}),!0)},L(n,[{key:"Vl",get:function(){return this.Z$},set:function(t){this.Z$=t,this.qZ.YZ(!t)}},{key:"ql",get:function(){return this.qZ.ql}},{key:"J$",get:function(){return this.qZ.resolution?{width:this.qZ.resolution.width,height:this.qZ.resolution.height}:{width:NaN,height:NaN}}},{key:"hs",get:function(){return this.qZ.hs},set:function(t){this.qZ.hs=t,this.dispatchEvent({type:"qualityupdated",quality:this.Kd})}},{key:"Xl",get:function(){return this.qZ.Xl}}]),n}(PC);var AD=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"RJ",get:function(){return this.qZ.RJ&&this.qZ.RJ.bZ||""}},{key:"K$",get:function(){return kD(Number(this.qZ.CJ),2)}}]),n}(pD),bD=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"RJ",get:function(){return this.qZ.RJ&&this.qZ.RJ.AZ||""}},{key:"K$",get:function(){return kD(Number(this.qZ.AJ),2)}}]),n}(pD),TD=function(t){function n(n,i){var r,e,s,u,o;(r=t.call(this)||this).jl=void 0,r.nK=null,r.iK={},r.D$=void 0,r.Kd=void 0,r.Oo=function(t){return r.dispatchEvent(t)},r.jl=n,r.D$=i;for(var h=r.jl.length-1;h>=0;h--){var a=r.jl[h];r.iK[a.Xl]=a}return r.jl.forEach(function(t){return t.addEventListener("activequalitychanged",r.Oo)}),r.Kd=(e=en(r),s=new PC,u={item:function(t){var n=e.Sl(t);return n&&n.Kd},getQualitiesByIDs:function(t){return e.rK(t).map(function(t){return t.Kd})},get length(){return e.jl.length},get activeQuality(){return e.Hl&&e.Hl.Kd},get targetQuality(){return e.Ql?1===e.Ql.length?e.Ql[0].Kd:e.Ql.map(function(t){return t.Kd}):null},set targetQuality(t){if(t){var n=$(t)?t:[t];e.Ql=e.rK(n.map(function(t){return t.id}))}else e.Ql=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),u),r}U(n,t);var i=n.prototype;return i.eK=function(t){return!!t&&this.jl.some(function(n){return n.Xl===t.Xl})},i.sK=function(t,n){for(var i=0,r=this.jl;i<r.length;i++){r[i].tK(t)}},i.rK=function(t){var n=this;return t&&t.map(function(t){return n.iK[t]}).filter(function(t){return t})},i.uK=function(){for(var t=this.jl.length-1;t>=0;t--)this.jl[t].lm=!1},i.B$=function(t){var n=this.D$.oK,i=this.rK(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Kd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Sl=function(t){return this.jl[t]},L(n,[{key:"Hl",get:function(){for(var t=0,n=this.jl;t<n.length;t++){var i=n[t];if(i.lm)return i}return null}},{key:"Ql",get:function(){return this.nK},set:function(t){this.nK=this.hK(t)}}]),n}(PC);var ED=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Kw=function(){this.D$&&(this.D$.V$=this.jl[0].Xl)},i.ty=function(t){this.D$&&(this.D$.V$=null)},i.hK=function(t){},n}(TD),SD=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Kw=function(){if(this.hK(this.Ql),this.D$){var t=this.D$.N$;if(!t)return;var n=ze(t.aK.bJ.kZ,function(t){return!t.uri});this.D$.V$=n?n.Xl:null}},i.sK=function(n,i){"video"===i&&t.prototype.sK.call(this,n,i)},i.ty=function(t){"video"===t&&this.uK()},i.hK=function(t){if(!this.D$)return this.Ql;var n=t?this.rK(t.map(function(t){return t.Xl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Xl});return this.D$.oK=i,n}return t?this.Ql:(this.D$.oK=null,null)},n}(TD),RD=function(t){function n(n,i){var r,e,s;return(r=t.call(this)||this).io=void 0,r.L$=void 0,r.Xl=void 0,r.By=void 0,r.hs=void 0,r.Kd=void 0,r.io=n,r.L$=i,r.Xl=i.Sl(0).Xl,r.By=r.L$.jl.some(function(t){return t.lm}),r.hs=i.Sl(0).qZ.hs,r.Kd=(e=en(r),s=new PC,{get id(){return e.Xl},get enabled(){return e.Vl},get qualities(){return e.L$&&e.L$.Kd},get language(){return e.Gl},get default(){return e.Xb},get name(){return e.hs},set name(t){e.hs=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),r}U(n,t);var i=n.prototype;return i.G$=function(t){var n=this.L$.eK(t);this.My(n),this.L$.sK(t,this.io)},i.My=function(t){this.By!==t&&(t?(this.By=!0,this.dispatchEvent({type:"enabledtrack",track:this.Kd})):(this.By=!1,this.dispatchEvent({type:"disabledtrack",track:this.Kd})))},i.Kw=function(){this.By||this.L$.Kw()},i.ty=function(){this.By&&this.L$.ty(this.io)},i.j$=function(t){t.qZ.Xl===this.Xl&&(this.hs=t.qZ.hs);for(var n=0,i=this.L$.jl;n<i.length;n++){i[n].j$(t)}},L(n,[{key:"Vl",get:function(){return this.By}},{key:"Gl",get:function(){return this.cK()}},{key:"ql",get:function(){return this.fK()}},{key:"Xb",get:function(){var t="video"===this.io,n=this.L$.jl&&this.L$.jl[0].qZ.Xb;return t||n}}]),n}(PC);var ID=function(t){function n(n){return t.call(this,"video",n)||this}U(n,t);var i=n.prototype;return i.fK=function(){return JC.tZ},i.cK=function(){return""},n}(RD),ND=function(t){function n(n){return t.call(this,"audio",n)||this}U(n,t);var i=n.prototype;return i.fK=function(){return this.L$.jl[0].qZ.ql},i.cK=function(){return this.L$.jl[0].qZ.Gl||""},n}(RD),CD=function(){function t(t,n,i){var r=this;this.vK=void 0,this.dK=void 0,this.lK=void 0,this._K=void 0,this.gK=function(){var t=r.vK;t.removeEventListener("wK",r.gK);var n=t.aK.S$.kZ,i=t.aK.bJ.kZ,e=n.map(function(t){return new AD(t)});if(e.length>0){var s=new SD(e,r.dK);r._K.Rl(new ID(s));var u=ze(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new ND(s);u&&(h.hs=u.hs),r.lK.Rl(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new bD(c),v=new ED([f],r.dK);r.lK.Rl(new ND(v))}}},this.vK=t,this.dK=i,this.lK=new wD(t,n,i),this._K=new yD(t,n,i),t&&(t.wK?this.gK():t.addEventListener("wK",this.gK))}return L(t,[{key:"Hw",get:function(){return this.lK}},{key:"Vw",get:function(){return this._K}}]),t}(),DD=["loadedmetadata","durationchange","Qo","Xv","Ey","yK"],OD=["mK","m$","kK","Qo"],xD=function(t){function n(n,i,r,e,s,u,o){var h;(h=t.call(this)||this).pK=null,h.pR=void 0,h.AK=void 0,h.bK=void 0,h.TK=void 0,h.C$=void 0,h.EK=void 0,h.N$=void 0,h.Vw=void 0,h.Hw=void 0,h.SK=[],h.RK=[],h.IK=function(t){return h.dispatchEvent(t)},h.NK=function(t){return h.CK(t)},h.DK=function(t){return h.xK(t)},h.pR=n.src,h.AK=n.type,h.bK=i,h.TK=r,h.EK=e,h.N$=s,h.C$=u,h.N$&&(h.N$.addEventListener("PK",h.IK),h.N$.addEventListener("BK",h.IK));var a=new CD(h.N$,h.C$,o);return h.Vw=a.Vw,h.Hw=a.Hw,h.AR=null,h.pR&&(h.C$&&h.C$.Cl(),h.N$&&(h.N$.LK=h.pR)),h}U(n,t);var i=n.prototype;return i.MK=function(t){this.C$&&this.C$.xh(t),this.N$&&this.N$.UK(),this.AR&&this.FK()},i.HK=function(){this.C$&&this.C$.HK(),this.N$&&this.N$.VK()},i.XK=function(){if(this.N$)for(var t=0;t<DD.length;t++){var n=DD[t];this.N$.addEventListener(n,this.NK)}if(this.C$)for(var i=0;i<OD.length;i++){var r=OD[i];this.C$.addEventListener(r,this.DK)}},i.WK=function(){if(this.N$)for(var t=0;t<DD.length;t++){var n=DD[t];this.N$.removeEventListener(n,this.NK)}if(this.C$)for(var i=0;i<OD.length;i++){var r=OD[i];this.C$.removeEventListener(r,this.DK)}},i.FK=function(){if(this.N$&&this.SK.length){var t=this.SK.slice();Je(this.SK);for(var n=0;n<t.length;n++){var i=t[n];this.N$.dispatchEvent(i)}}if(this.C$&&this.RK.length){var r=this.RK.slice();Je(this.RK);for(var e=0;e<r.length;e++){var s=r[e];this.C$.dispatchEvent(s)}}},i.CK=function(t){this.SK.push(t)},i.xK=function(t){this.RK.push(t)},i.Lv=function(){this.dispatchEvent("Lv"),this.Mo(),this.C$&&this.C$.Lv(),this.EK&&this.EK.Lv(),this.N$&&this.N$.Lv(),this.pK=null,Je(this.SK),Je(this.RK)},L(n,[{key:"AR",get:function(){return this.pK},set:function(t){this.WK(),this.pK=t,this.AR?this.dispatchEvent("Gh"):this.XK()}}]),n}(PC),PD=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vK=null,n.Oo=function(t){n.dispatchEvent(t,!0)},n}return U(n,t),L(n,[{key:"V$",get:function(){var t=this.vK&&this.vK.aK.l$;return t?t.Xl:null},set:function(t){var n;this.vK&&(n=null===t?oD(this.vK.aK.bJ.kZ):this.vK.aK.bJ.kZ.filter(function(n){return t===n.Xl}).shift(),this.vK.aK.l$=n||null)}},{key:"oK",get:function(){return this.vK&&this.vK.qK||null},set:function(t){this.vK&&(this.vK.zK(t),this.dispatchEvent("M$"))}},{key:"N$",get:function(){return this.vK},set:function(t){this.vK&&(this.vK.aK.removeEventListener("b$",this.Oo),this.vK.aK.removeEventListener("renditionUpdated",this.Oo),this.vK.aK.removeEventListener("_$",this.Oo)),this.vK=t,this.vK&&(this.vK.aK.addEventListener("b$",this.Oo),this.vK.aK.addEventListener("renditionUpdated",this.Oo),this.vK.aK.addEventListener("_$",this.Oo))}}]),n}(PC),BD=function(){function t(){}var n=t.prototype;return n.GK=function(t){return T.resolve(!1)},n.jK=function(t){return T.reject(LD)},n.QK=function(t){return T.reject(LD)},n.nh=function(t){return T.resolve(!1)},n.ih=function(t){return T.resolve(void 0)},n.eY=function(t,n){return T.resolve(void 0)},n.YK=function(t){return T.resolve([])},n.ZK=function(){return T.resolve([])},n.JK=function(t){return T.resolve([])},n.$K=function(t,n){return T.resolve([])},n.Ph=function(t){return T.reject(LD)},n.KK=function(t){return T.reject(LD)},n.n0=function(){return T.reject(LD)},t}(),LD="Storage disabled",MD=function(){function t(){this.i0=void 0,this.r0=void 0,this.e0=void 0,this.s0=void 0,this.u0=void 0,this.i0=new BD,this.r0=new BD,this.e0=new BD,this.s0=new BD,this.u0=new BD}return t.Uj=function(){return T.resolve(new t)},t.prototype.o0=function(t){return T.reject(UD)},t}(),UD="Storage disabled",FD=function(){function t(t){var n=this;this.To=new Wu,this.h0=void 0,this.To.wh(t),this.To.gh.then(function(t){n.h0=t})}var n=t.prototype;return n.GK=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.GK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.jK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.QK=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.QK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nh=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.nh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ih=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.ih(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.eY=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.eY(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.YK=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.YK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ZK=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.ZK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.JK=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.JK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$K=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.$K(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ph=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ph(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.KK=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.KK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.n0=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.n0());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"a0",get:function(){return this.To.gh}}]),t}(),HD=function(){function t(t){var n=this;this.To=new Wu,this.c0=void 0,this.r0=void 0,this.i0=void 0,this.e0=void 0,this.s0=void 0,this.u0=void 0,this.To.wh(t);var i=this.To.gh;i.then(function(t){n.c0=t}),this.r0=new FD(i.then(function(t){return t.r0})),this.i0=new FD(i.then(function(t){return t.i0})),this.e0=new FD(i.then(function(t){return t.e0})),this.s0=new FD(i.then(function(t){return t.s0})),this.u0=new FD(i.then(function(t){return t.u0}))}return t.prototype.o0=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.c0,t.t0){t.next=5;break}return t.next=4,this.f0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.o0(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"f0",get:function(){return this.To.gh}}]),t}(),VD=function(){function t(){this.v0=[]}var n=t.prototype;return n.GK=function(t){return T.resolve("temporary"===t)},n.jK=function(t){return this.d0(t.key),this.v0.push(t),T.resolve()},n.QK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.d0(i.key)}for(var r=0;r<t.length;r++){var e=t[r];this.v0.push(e)}return T.resolve()},n.nh=function(t){return T.resolve(Boolean(this.l0(t)))},n.ih=function(t){return T.resolve(this.l0(t))},n.eY=function(t,n){return T.resolve(this._0(t,n))},n.YK=function(t){var n=this,i=t?t.map(function(t){return n.l0(t)}):this.v0;return T.resolve(i.filter(J))},n.ZK=function(){return T.resolve([].concat(this.v0))},n.JK=function(t){return this.$K(t,"key")},n.$K=function(t,n){var i=this.v0.filter(function(i){return i[n]===t});return T.resolve(i)},n.Ph=function(t){return this.d0(t),T.resolve()},n.KK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.d0(i)}return T.resolve()},n.n0=function(){return Je(this.v0),T.resolve()},n.l0=function(t){return this._0(t,"key")},n._0=function(t,n){for(var i=0,r=this.v0;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.d0=function(t){var n=this.l0(t);n&&je(this.v0,n)},t}(),XD=function(){function t(){this.i0=void 0,this.r0=void 0,this.e0=void 0,this.s0=void 0,this.u0=void 0,this.i0=new VD,this.r0=new VD,this.e0=new VD,this.s0=new VD,this.u0=new VD}return t.Uj=function(){return T.resolve(new t)},t.prototype.o0=function(t){return t(this)},t}(),WD=function(){function t(t){this.g0=t}var n=t.prototype;return n.GK=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.g0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.GK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.g0;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.GK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.jK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.QK=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.g0;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.GK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.QK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nh=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.g0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.nh(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ih=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.g0;case 1:if(!(i<r.length)){t.next=11;break}return e=r[i],t.next=5,e.ih(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.eY=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.g0;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,s.eY(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.YK=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.g0;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.YK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ZK=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.g0;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.ZK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.JK=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.g0;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.JK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$K=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,s=this.g0;case 2:if(!(e<s.length)){t.next=13;break}return u=s[e],t.t0=r.push,t.t1=r,t.next=8,u.$K(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ph=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.g0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Ph(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.KK=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.g0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.KK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.n0=function(){var t=T.coroutine($r.mark(function t(){var n,i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.g0;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.n0();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function qD(t){return T.coroutine($r.mark(function n(){var i;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",zD.Uj(i));case 4:case"end":return n.stop()}},n)}))}var zD=function(){function t(t){this.w0=void 0,this.y0=void 0,this.m0=void 0,this.k0=void 0,this.p0=void 0,this.A0=void 0,this.w0=t,this.y0=new WD(t.map(function(t){return t.s0})),this.m0=new WD(t.map(function(t){return t.u0})),this.k0=new WD(t.map(function(t){return t.e0})),this.p0=new WD(t.map(function(t){return t.i0})),this.A0=new WD(t.map(function(t){return t.r0}))}return t.Uj=function(n){return T.resolve(new t(n))},t.prototype.o0=function(n){var i=this;if(0===this.w0.length)return n(this);var r=[],e=0;return this.w0[e].o0(function s(u){return r.push(u),++e<i.w0.length?i.w0[e].o0(s):n(new t(r))})},L(t,[{key:"s0",get:function(){return this.y0}},{key:"u0",get:function(){return this.m0}},{key:"e0",get:function(){return this.k0}},{key:"i0",get:function(){return this.p0}},{key:"r0",get:function(){return this.A0}}]),t}(),GD=function(){function t(t){this.b0=void 0,this.T0=[],this.E0=!0,this.b0=t}var n=t.prototype;return n.Uj=function(){return new HD(this.S0())},n.S0=function(){var t=T.coroutine($r.mark(function t(){var n,i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.E0){t.next=4;break}return t.next=3,T.resolve();case 3:this.E0=!1;case 4:n=0,i=this.T0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,qD([XD.Uj,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,qD([XD.Uj,this.b0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.pL=function(t){if(!this.E0)throw new f("Registration overdue");this.T0.push(t)},t}(),jD=function(){function t(){}return t.pL=function(n){t.ZE.pL(n)},L(t,null,[{key:"je",get:function(){return t.R0||(t.R0=t.ZE.Uj()),t.R0}}]),t}();function QD(t){return Cf(t)}function YD(t,n){var i=Cf(t);return n?""+i+n:""+i}function ZD(t,n,i,r,e,s){var u=new Go;return n&&u.set("Range","bytes="+n[0]+"-"+n[1]),new Sf({vv:t,ov:i,uv:u,xv:r,Nv:pf.GET,io:Af.gv,Io:e,Pv:s})}jD.ZE=new GD(MD.Uj),jD.R0=void 0;var JD=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).Ep=void 0,o.GY=void 0,o.ov=void 0,o.I0=void 0,o.Bb=void 0,o.N0=void 0,o.C0=void 0,o.MD=void 0,o.D0=void 0,o.Yv=null,o.O0=void 0,o.Qf=new ns,o.x0=function(t,n){return o.Pv(t,n)},o.Ep=n,o.GY=i,o.ov=r,o.I0=e,o.MD=s,o.D0=new KD,o.Bb=u,o.N0=jD.je.i0,o.C0=jD.je.r0,o}U(n,t);var i=n.prototype;return i.WR=function(){return this.P0(this.Qf.Io)},i.P0=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return rD(i=this.GY)?(r=i.GY,e=[i.jY.WR,i.jY.zR]):(r=i,e=void 0),this.D0.B0(),t.prev=3,t.next=6,this.L0(r,e);case 6:if(s=t.sent,es(n),s){t.next=12;break}return t.next=11,this.M0(r,e,n);case 11:s=t.sent;case 12:return t.next=14,s.Ds();case 14:u=t.sent,es(n),this.U0(u,s.sv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!rs(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Uf?t.t0.Yv.sv:0,o=new f('Could not load fragment: "'+this.GY+'", HTTP status '+h);case 27:return t.abrupt("return",this.F0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.L0=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=YD(n,i),t.next=4,this.N0.nh(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.C0.ih(r);case 7:return e=t.sent,s=ZD(n,i,this.ov,this.I0),u=e.data.buffer,t.abrupt("return",new Ef({Ds:u,uv:{},cv:s,fv:n,ov:this.ov,sv:200,hv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.M0=function(t,n,i){var r=ZD(t,n,this.ov,this.I0,i,this.x0);return this.Bb.cv(r)},i.Pv=function(t,n){var i={type:"yK",cv:this,H0:t,V0:n=void 0===n?NaN:n};this.D0.X0(t,n),this.dispatchEvent(i)},i.U0=function(t,n){var i=this.ov===zo.Sc?t.byteLength:0;this.D0.W0(i),this.ov===zo.Je?this.Yv=t:this.Yv=new y(t),this.O0=n,t=null,this.F0(),this.Yv=null},i.Eo=function(t){return this.Qf.Eo(),t||((t=new f('Aborted fragment load: "'+this.GY+'"')).aborted=!0),this.F0(t)},i.F0=function(t){this.D0.q0();var n={type:"Gw",cv:this};return this.dispatchEvent(n),this.MD(t||null,this)},n}(PC);function $D(){return Hb()/1e3}var KD=function(t){function n(){var n;return(n=t.call(this)||this).z0=NaN,n.G0=NaN,n.j0=NaN,n.Q0=NaN,n.Y0=0,n.Z0=NaN,n.z0=$D(),n}U(n,t);var i=n.prototype;return i.B0=function(){this.z0=$D(),this.dispatchEvent("Bh")},i.X0=function(t,n){this.j0=$D(),this.PK||(this.G0=this.j0),this.Y0=t,this.Z0=n||this.Z0||NaN,this.dispatchEvent("Bh")},i.W0=function(t){this.X0(t,t)},i.q0=function(){this.Q0=$D(),this.dispatchEvent("Bh")},L(n,[{key:"PK",get:function(){return!w(this.G0)}},{key:"J0",get:function(){return!w(this.Q0)}},{key:"Sw",get:function(){return(this.G0||$D())-this.z0}},{key:"$0",get:function(){return(this.Q0||this.j0)-this.G0}},{key:"K0",get:function(){return(this.Q0||this.j0)-this.z0}}]),n}(PC),tO=function(t){function n(n,i){var r;return(r=t.call(this)||this).I0=void 0,r.n1=[],r.i1=null,r.e1=function(t){return r.s1(t)},r.Bb=void 0,r.I0=!(!i||i.crossOrigin!==fl.p_),r.Bb=n,r}U(n,t);var i=n.prototype;return i.xh=function(t,n,i,r){var e=new JD(t,n,i,this.I0,r,this.Bb);return e.addEventListener("Gw",this.e1),this.n1.push(e),this.u1(),e},i.sh=function(t,n){var i=function(t){return!n||t.Ep===n},r=this.n1.filter(i);!t&&this.i1&&i(this.i1)&&r.push(this.i1);for(var e=0;e<r.length;e++){r[e].Eo()}return r},i.u1=function(){if(!this.i1){var t=this.n1.shift();t&&(this.i1=t,t.WR())}},i.s1=function(t){var n=t.cv,i=this.n1.indexOf(n);-1!==i&&Qe(this.n1,i),this.i1===n&&(this.i1=null,this.u1())},n}(PC);function nO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function iO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function rO(t,n){return Xo([t],{type:n})}var eO="iframe.html",sO=0,uO=m&&(m.bind&&m.bind(m)||m),oO=function(t){function n(n){var i;return(i=t.call(this)||this).o1=void 0,i.h1=[],i.a1=!1,i.Oo=function(t){return i.dispatchEvent(t)},n&&i.Gh(n),i}U(n,t);var i=n.prototype;return i.postMessage=function(t){this.a1||(this.o1?this.o1.postMessage(t):this.h1.push(t))},i.Gh=function(t){if(this.a1)t.terminate();else{this.o1=t,this.o1.addEventListener("message",this.Oo,!1),this.o1.addEventListener("error",this.Oo,!1);for(var n=0,i=this.h1;n<i.length;n++){var r=i[n];this.o1.postMessage(r)}this.h1.length=0}},i.terminate=function(){this.Mo(),this.a1=!0,this.h1.length=0,this.o1&&(this.o1.removeEventListener("message",this.Oo,!1),this.o1.removeEventListener("error",this.Oo,!1),this.o1.terminate(),this.o1=void 0)},n}(PC);var hO=function(n){function i(i,r,s){var u,o,h;return(u=n.call(this)||this).Xl=void 0,u.c1=void 0,u.f1=void 0,u.v1=void 0,u.d1=void 0,u.l1=function(){return u._1()},u.g1=function(t){return u.w1(t)},u.Xl=i,u.c1=r,u.f1=(o=s+eO,(h=e.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,e.body.appendChild(h),h),u.v1=u.f1.contentWindow,u.d1=Bf(s),u.f1.addEventListener("load",u.l1),t.addEventListener("message",u.g1),u}U(i,n);var r=i.prototype;return r._1=function(){this.f1.removeEventListener("load",this.l1),this.v1.postMessage({type:"initialize",id:this.Xl,script:this.c1},"*")},r.w1=function(t){Bf(t.origin)===this.d1&&t.data.id===this.Xl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.v1.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.f1.removeEventListener("load",this.l1),t.removeEventListener("message",this.g1),this.v1.postMessage({type:"terminate"},"*"),this.f1.parentNode.removeChild(this.f1)},i}(PC);function aO(){return(aO=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.jd,t.prev=1,e=new Sf({vv:n,Nv:pf.GET,ov:zo.Je}),t.next=5,r.cv(e);case 5:return s=t.sent,t.next=8,s.Ds();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Uf?t.t0.Yv.sv:-1,i({mh:h,Qo:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function cO(t,n){function i(i){return e(),nt(r=i.data)&&"2.89.1"===r.m1?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function fO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new uO(t)}catch(t){return n({message:t.message})}return cO(i,n)}var vO=!0;function dO(t,n){var i=sO++,r=t+n,s=new oO;function u(){!function(t,n,i,r){var s;function u(){h(),cO(s,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),s.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){s.removeEventListener("initialized",u),s.removeEventListener("error",o)}if(!e)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(s=new hO(t,n,i)).addEventListener("initialized",u),s.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?s.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(s.Gh(n),i&&s.dispatchEvent(i))}return fO(r,function(t,n,i){t?function(t,n){aO.apply(this,arguments)}(r,function(t,n){t?t.mh>=400?o(t.Qo):u():n&&function(t,n){if(!vO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});fO(nO(rO(t,"application/javascript")),function(t,i,r){return t&&(vO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),s}function lO(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function _O(t){return{get length(){return t.length},start:function(n){return lO(t,n|=0),t.start(n)},end:function(n){return lO(t,n|=0),t.end(n)}}}function gO(t,n){return t.WR-n.WR}var wO=function(){function t(t){this.A1=void 0,this.A1=t}var n=t.prototype;return n.start=function(t){return this.A1[t].WR},n.end=function(t){return this.A1[t].zR},n.b1=function(){return this.A1},L(t,[{key:"length",get:function(){return this.A1.length}}]),t}(),yO=new wO([]),mO=new wO([{WR:-1/0,zR:1/0}]);function kO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);e<=o&&s>=h||(s+n>=o?s=h:(r.push({WR:e,zR:s}),e=o,s=h))}return r.push({WR:e,zR:s}),new wO(r)}(function(t){var n=EO(t);return n.sort(gO),new wO(n)}(t),n)}function pO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var s=l.max(t.start(r),n.start(e)),u=l.min(t.end(r),n.end(e));s<u&&i.push({WR:s,zR:u}),t.end(r)<n.end(e)?r+=1:e+=1}return new wO(i)}function AO(t){var n=t.length;if(!n)return mO;var i=[],r=t.start(0);r!==-1/0&&i.push({WR:-1/0,zR:r});for(var e=0;e<n-1;e+=1)i.push({WR:t.end(e),zR:t.start(e+1)});var s=t.end(n-1);return s!==1/0&&i.push({WR:s,zR:1/0}),new wO(i)}function bO(t,n){return-1!==TO(t,n)}function TO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function EO(t){if(t instanceof wO)return t.b1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({WR:t.start(i),zR:t.end(i)});return n}function SO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(EO)),kO(new wO(e));var i,r,e}var RO=.001;function IO(t,n,i){return i=+i||0,t.WR-i<=n.zR&&n.WR<=t.zR+i}function NO(t){var n={WR:NaN,zR:NaN,kY:t};return CO(n),n}function CO(t){var n=t.kY;n.length?(n.sort(gO),t.WR=n[0].WR,t.zR=n[n.length-1].zR):(t.WR=NaN,t.zR=NaN)}function DO(t){return void 0!==t.kY}function OO(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=l.max(s.WR,n),o=l.min(s.zR,i);if(u<o){var h=void 0;h=s.WR===u&&s.zR===o?s:{WR:u,zR:o,xp:s.xp},r.push(h)}}return r}function xO(t,n){var i=l.min(t.WR,n.WR),r=l.max(t.zR,n.zR),e=t.kY,s=n.kY,u=e.concat(s),o=e.length?e[e.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.xp===h.xp&&IO(o,h,RO)&&u.splice(e.length-1,2,function(t,n){var i=t.xp||n.xp;return{WR:l.min(t.WR,n.WR),zR:l.max(t.zR,n.zR),xp:i}}(o,h)),NO(u=OO(u,i,r))}var PO,BO,LO,MO=function(){function t(t,n){this.A1=void 0,this.A1=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;DO(r)?CO(e=r):e=NO([r]),e.kY.length&&e.WR<e.zR&&n.push(e)}return n}(t),n||this.T1()}var n=t.prototype;return n.start=function(t){return this.A1[t]&&this.A1[t].WR},n.end=function(t){return this.A1[t]&&this.A1[t].zR},n.kY=function(t){return this.A1[t]&&this.A1[t].kY},n.E1=function(t,n){return this.S1(t,t,n)},n.S1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.R1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.I1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.N1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Cy=function(t){return-1!==this.E1(t)},n.vI=function(t,n,i){return-1!==this.S1(t,n,i)},n.lI=function(t,n,i){return-1!==this.R1(t,n,i)},n.iI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=l.max(this.start(i),t.start(r)),s=l.min(this.end(i),t.end(r));if(e<s){var u=OO(this.kY(i),e,s);n.push(NO(u))}this.end(i)<t.end(r)?i+=1:r+=1}return this.Uj(n,!0)},n.fg=function(t){return this.length&&t.length?this.iI(AO(t)):this},n.hI=function(t){return this.length?t.length?this.Uj(this.A1.concat(t.A1)):this:t},n.C1=function(t){for(var n=[],i=0,r=this.A1;i<r.length;i++)for(var e=0,s=r[i].kY;e<s.length;e++){var u=t(s[e]);u&&n.push(u)}return this.Uj(n)},n.wI=function(t){return this.C1(function(n){return t(n)?n:null})},n.D1=function(){if(!this.length)return this;for(var t=this.A1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.O1(i,r)&&(t.splice(n,2,xO(i,r)),n-=1)}return this.Uj(t,!0)},n.O1=function(t,n){var i=t.kY,r=n.kY,e=i.length?i[i.length-1]:null,s=r.length?r[0]:null;return e&&s&&this.P1(e,s)},n.T1=function(){var t=this.A1;t.sort(gO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&IO(i,r,RO)&&(t.splice(n,2,xO(i,r)),n-=1)}},L(t,[{key:"length",get:function(){return this.A1.length}}]),t}(),UO=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Uj=function(t,i){return new n(t,i)},i.P1=function(t,n){return n.xp.qZ===t.xp.qZ&&n.xp.tY===t.xp.tY+1},n}(MO);function FO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],s=t.B1(e),u=t.L1(e,s);i.push({WR:s.K_(),zR:u.K_(),xp:e})}return new UO(i).D1()}function HO(t){return t.M1!==PO.U1}function VO(t){return 0===t.M1}function XO(t){return t.M1>=0}function WO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,s=0,u=n.kY(r);s<u.length;s++){var o=u[s];if(!e){var h=o.xp;if(eD(h)&&HO(h)){if((e=XO(h))&&!VO(h)){var a=t.F1(h,h.H1).K_();o={WR:l.max(o.WR,a),zR:o.zR,xp:h}}}else e=!0;0}e&&i.push(o)}return new UO(i)}(BO=PO||(PO={})).U1=-1,BO.V1=-2,function(t){t.X1="h.264",t.W1="mp3",t.q1="aac-lc",t.z1="he-aac"}(LO||(LO={}));var qO,zO,GO,jO,QO=function(){function t(){this.G1=0,this.A1=[],this.mb={}}var n=t.prototype;return n.j1=function(t){this.A1=this.A1.concat(t.A1),this.G1+=t.Ol},n.Q1=function(t,n,i){var r=this.G1,e=i-n;e>0&&(this.A1.push({Y1:n,Z1:i,J1:e,K1:r,n2:t}),this.G1+=e)},n.ih=function(t){for(var n=0,i=this.A1;n<i.length;n++){var r=i[n];if(r.K1<=t&&t<r.K1+r.J1)return r.n2[t+r.Y1-r.K1]}},n.i2=function(t,n){for(var i=n,r=0,e=this.A1;r<e.length;r++)for(var s=e[r],u=s.Z1,o=s.Y1;o<u;o+=1,i+=1)t[i]=s.n2[o];return i},n.e2=function(){for(var t=new y(this.G1),n=0,i=0,r=this.A1;i<r.length;i++)for(var e=r[i],s=e.Z1,u=e.Y1;u<s;u+=1,n+=1)t[n]=e.n2[u];return t},n.fh=function(n){for(var i=new t,r=0,e=this.A1;r<e.length;r++){var s=e[r];i.Q1(s.n2,s.Y1,s.Z1)}return i.mb=n||Kr({},this.mb),i},L(t,[{key:"Ol",get:function(){return this.G1},set:function(t){var n=this.A1,i=this.G1-t;if(!(t>=this.G1))if(this.G1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.J1)return e.Z1-=i,e.J1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.J1}else n.length=0}},{key:"Ds",get:function(){for(var t=new Array(this.G1),n=0,i=0,r=this.A1;i<r.length;i++)for(var e=r[i],s=e.Z1,u=e.Y1;u<s;u+=1,n+=1)t[n]=e.n2[u];return t}}]),t}();function YO(t,n){return{audio:t.audio?ix(t.audio,n):void 0,video:t.video?hx(t.video,n):void 0,s2:t.s2?(i=t.s2,{u2:i.u2,e$:i.e$,Kl:i.Kl,o2:i.o2,h2:i.h2,a2:i.a2,c2:i.c2.map(ZO),i_:[]}):void 0,f2:t.f2?t.f2.map($O):t.f2,v2:t.v2.gw()};var i}function ZO(t){return{qk:t.qk,mb:{d2:t.mb.d2,l2:t.mb._2.gw()},nH:t.nH}}function JO(t){return{qk:t.qk,mb:{d2:t.mb.d2,_2:I_(t.mb.l2)},nH:t.nH}}function $O(t){return{_2:t._2.gw(),PA:t.PA,fG:t.fG,cG:t.cG,io:t.io,g2:t.g2,vG:t.vG,dG:t.dG}}function KO(t){return{_2:I_(t._2),PA:t.PA,fG:t.fG,cG:t.cG,io:t.io,g2:t.g2,vG:t.vG,dG:t.dG}}function tx(t){return{u2:t.u2,nH:[],w2:t.w2,m2:t.m2,duration:t.duration,A2:t.A2,b2:t.b2.gw(),T2:t.T2,E2:t.E2.gw(),S2:t.S2,R2:t.R2.gw(),I2:t.I2.gw(),N2:t.N2.gw(),C2:t.C2.gw(),D2:t.D2.gw(),O2:t.O2.gw(),P2:t.P2.gw()}}function nx(t){return{u2:t.u2,nH:[],w2:t.w2,m2:t.m2,duration:t.duration,A2:t.A2,b2:I_(t.b2),T2:t.T2,E2:I_(t.E2),S2:t.S2,R2:I_(t.R2),I2:I_(t.I2),N2:I_(t.N2),C2:I_(t.C2),D2:I_(t.D2),O2:I_(t.O2),P2:I_(t.P2)}}function ix(t,n){switch(t.w2){case LO.q1:case LO.z1:return function(t,n){return Kr({},ex(t),{w2:t.w2,nH:t.nH.map(function(t){return function(t,n){var i=(r=t.mb,Kr({},fx(r),{B2:r.B2,L2:r.L2,M2:r.M2}));var r;return ux(t.fh(i),n)}(t,n)}),pJ:t.pJ,U2:t.U2})}(t,n);case LO.W1:return function(t,n){return Kr({},ex(t),{w2:t.w2,nH:t.nH.map(function(t){return function(t,n){var i=(r=t.mb,Kr({},fx(r),{Yk:r.Yk,Sp:r.Sp,F2:r.F2,H2:r.H2,V2:r.V2}));var r;return ux(t.fh(i),n)}(t,n)})})}(t,n)}}function rx(t){switch(t.w2){case LO.q1:case LO.z1:return function(t){return Kr({},sx(t),{w2:t.w2,nH:t.nH.map(function(t){return function(t){var n=ox(t),i=(r=n.mb,Kr({},vx(r),{B2:r.B2,L2:r.L2,M2:r.M2}));var r;return n.fh(i)}(t)}),pJ:t.pJ,U2:t.U2})}(t);case LO.W1:return function(t){return Kr({},sx(t),{w2:t.w2,nH:t.nH.map(function(t){return function(t){var n=ox(t),i=(r=n.mb,Kr({},vx(r),{Yk:r.Yk,Sp:r.Sp,F2:r.F2,H2:r.H2,V2:r.V2}));var r;return n.fh(i)}(t)})})}(t)}}function ex(t){return Kr({},tx(t),{nH:[],w2:t.w2,X2:t.X2,W2:t.W2,q2:t.q2,z2:t.z2})}function sx(t){return Kr({},nx(t),{nH:[],w2:t.w2,X2:t.X2,W2:t.W2,q2:t.q2,z2:t.z2})}function ux(t,n){var i=t.e2();return n.push(i.buffer),{G2:i,j2:t.Ol,Q2:t.mb}}function ox(t){var n=new QO;return n.Q1(t.G2,0,t.j2),n.mb=t.Q2,n}function hx(t,n){return Kr({},tx(t),{w2:t.w2,nH:t.nH.map(function(t){return function(t,n){var i=(r=t.mb,Kr({},ax(r),{U_:r.U_,Y2:r.Y2.gw(),Z2:r.Z2,J2:r.J2,K2:r.K2&&r.K2.gw(),t3:r.t3&&r.t3.gw(),n3:r.n3,i3:r.i3,f2:r.f2,r3:r.r3}));var r;return ux(t.fh(i),n)}(t,n)}),e3:t.e3,s3:t.s3,vA:t.vA,width:t.width,height:t.height,u3:t.u3,o3:t.o3,h3:t.h3,_J:t._J,gJ:t.gJ,TA:t.TA,EA:t.EA})}function ax(t){var n;return Kr({},{d2:(n=t).d2,l2:n.l2.gw()},{a3:t.a3.gw(),c3:t.c3.gw()})}function cx(t){var n;return Kr({},{d2:(n=t).d2,l2:I_(n.l2)},{a3:I_(t.a3),c3:I_(t.c3)})}function fx(t){return Kr({},ax(t))}function vx(t){return Kr({},cx(t))}function dx(t){var n=t.video,i=n&&n.nH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].mb.n3)return r}return NaN}function lx(t){var n=t.f3.video,i=n&&n.nH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].mb.n3)return r}return NaN}function _x(t){if(!t)return null;switch(t.w2){case LO.X1:return function(t){return t.vA?"avc1."+(t.u3<16?"0":"")+((t.u3<<16)+(t.o3<<8)+t.h3).toString(16):null}(t);case LO.W1:return"mp4a.40.34";case LO.q1:return t.U2?"mp4a.40.5":"mp4a.40.2";case LO.z1:return"mp4a.40.5";default:return null}}function gx(t,n){var i=t.info,r=i.qZ,e=t.f3,s=r.bY(t.info.tY-1),u=e.audio||void 0,o=e.video||void 0,h=u&&_x(u),a=o&&_x(o),c=(!u||h)&&(!o||a)?{AZ:h,bZ:a}:null,f=u&&!w(u.S2)?u.S2:null,v=o&&!w(o.S2)?o.S2:null,d=Bg(u&&u.I2,o&&o.I2),_=Bg(u&&u.N2,o&&o.N2),g=Lg(u&&u.O2,o&&o.O2),y=Lg(u&&u.P2,o&&o.P2),m=o&&o.b2.vg(S_.ew(o.duration)),k=u&&u.b2.vg(S_.ew(u.duration)),p=eD(s),A=p&&s.width||r.resolution&&r.resolution.width,b=p&&s.width||r.resolution&&r.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),v3:i,duration:m&&k?S_.Jg(m,k).K_():(m||k||S_.pg).K_(),d3:d,l3:_,_3:g,g3:y,audio:{start:l.max(0,f||0),duration:u&&u.A2||0,w2:h,K$:u&&u.T2,d3:u&&u.I2,l3:u&&u.N2,_3:u&&u.O2,g3:u&&u.P2},video:{start:l.max(0,v||0),duration:o&&o.A2||0,w2:a,K$:o&&o.T2,d3:o&&o.I2,l3:o&&o.N2,_3:o&&o.O2,g3:o&&o.P2},BB:o?{width:o.width||A,height:o.height||b}:null,tY:i.tY,size:n,quality:r,RJ:c,w3:i.w3,y3:i.y3}}function wx(t,n){var i,r,e,s,u={start:0,duration:0,w2:null,K$:null,d3:null,l3:null,_3:null,g3:null};return"AZ"===n?(r=u,e=i=Kr({},u,t.video),s=t.BB):(r=i=Kr({},u,t.audio),e=u,s=null),{start:i.start,v3:t.v3,duration:i.duration,d3:i.d3,l3:i.l3,_3:i._3,g3:i.g3,audio:r,video:e,BB:s,tY:t.tY,size:t.size,quality:t.quality,RJ:t.RJ,w3:t.w3,y3:t.y3}}function yx(t,n){return t+"m3"+n.tY+"A3"+n.uri}!function(t){t.b3="T3",t.E3="S3"}(qO||(qO={})),function(t){t.R3="I3",t.jQ="N3"}(zO||(zO={})),function(t){t.C3="D3",t.E3="S3"}(GO||(GO={})),function(t){t.O3="x3",t.P3="B3"}(jO||(jO={}));var mx=function(t){function n(n){var i;return(i=t.call(this)||this)._a=void 0,i.L3=ne(),i.M3=void 0,i.U3=void 0,i.F3=function(t){var n=t.data,r=n.H3;if(i.L3.get(r))switch(n.V3){case zO.R3:0;var e=n.X3;i.W3(r,e);break;case zO.jQ:var s=n.q3;i.z3(r,new MC(LC.WQ,{code:s}));default:0}},i.G3=function(t){var n,r,e,s,u=t.data,o=u.j3;if(i.L3.get(o))switch(u.Q3){case jO.O3:0;var h=u.Y3;i.Z3(o,{audio:(n=h).audio?rx(n.audio):void 0,video:n.video?(e=n.video,s=nx(e),Kr({},s,{w2:e.w2,nH:e.nH.map(function(t){return function(t){var n,i=ox(t),r=Kr({},cx(n=i.mb),{U_:n.U_,Y2:I_(n.Y2),Z2:n.Z2,J2:n.J2,K2:n.K2&&I_(n.K2),t3:n.t3&&I_(n.t3),n3:n.n3,i3:n.i3,f2:n.f2,r3:n.r3});return i.fh(r)}(t)}),e3:e.e3,s3:e.s3,vA:e.vA,width:e.width,height:e.height,u3:e.u3,o3:e.o3,h3:e.h3,_J:e._J,gJ:e.gJ,TA:e.TA,EA:e.EA})):void 0,s2:n.s2?(r=n.s2,{u2:r.u2,e$:r.e$,Kl:r.Kl,o2:r.o2,h2:r.h2,a2:r.a2,c2:r.c2.map(JO),i_:[]}):void 0,f2:n.f2?n.f2.map(KO):n.f2,v2:I_(n.v2)});break;case jO.P3:var a=u.J3;i.z3(o,new MC(LC.WQ,{code:a}));default:0}},i.K3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Qo",Qo:new MC(LC.JQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};_t(n.Qo.info.code),i.dispatchEvent(n)}else 0},i._a=n,i.U3=i.t4(),i}U(n,t);var i=n.prototype;return i.Eo=function(t){var n=[];this.L3.forEach(function(i,r){t&&i.Ep!==t||n.push(r)}),this.n4(n)},i.n4=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.L3.delete(i)}if(t.length){if(this.M3){var r={i4:qO.E3,r4:t};this.M3.postMessage(r)}if(this.U3){var e={e4:GO.E3,s4:t};this.U3.postMessage(e)}}},i.z3=function(t,n){var i=this.L3.get(t);if(i){var r=i.MD;this.L3.delete(t),r(n)}},i.u4=function(t,n,i,r){this.M3||(this.M3=this.o4());var e={i4:qO.b3,h4:t,a4:n,c4:i,f4:r};this.M3.postMessage(e)},i.v4=function(t,n){this.U3||(this.U3=this.t4());var i={e4:GO.C3,d4:t,l4:n,_4:this.L3.get(t).g4};this.U3.postMessage(i)},i.W3=function(t,n){this.v4(t,n)},i.o4=function(){var t=dO(this._a.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.F3),t.addEventListener("error",this.K3),t},i.w4=function(t){var n=t.f3.video,i=n&&n.nH&&n.nH[0];i&&i.mb.n3},i.Z3=function(t,n){var i=this.L3.get(t),r=i.MD,e=i.y4,s={f3:n,info:i.m4,metadata:null};this.w4(s),function(t){var n=t.info.qZ.bY(t.info.tY-1),i=t.f3;t.info.y3=t.info.TY,n&&(i.audio||i.video?i.video&&!i.video.s3&&!i.video.e3&&i.video.T2&&n.CJ&&i.video.T2!==n.CJ?t.info.y3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.y3=!0):t.info.y3=!0)}(s),gx(s,e),function(t){var n=t.info,i=n.qZ,r=t.metadata,e=t.f3;if(n.A4=S_.ew(r.duration),n.YY=e.audio&&e.audio.b2.vg(S_.ew(e.audio.duration))||S_.pg,n.ZY=e.video&&e.video.b2.vg(S_.ew(e.video.duration))||S_.pg,n.b4=e.audio&&e.audio.b2||S_.pg,n.T4=e.video&&e.video.b2||S_.pg,n.E4=r.audio.d3,n.S4=r.audio.l3,n.R4=r.video.d3,n.I4=r.video.l3,n.QY=r.d3,n.N4=r.l3,n.C4=r.audio._3,n.D4=r.audio.g3,n.O4=r.video._3,n.x4=r.video.g3,n._3=r._3,n.g3=r.g3,e.video){var s=dx(t.f3),u=e.video.nH&&e.video.nH[s];u?(n.M1=s,n.H1=u.mb.a3,n.P4=u.mb.c3):n.M1=PO.V1}else n.M1=PO.U1;n.CJ=e.video&&e.video.T2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"HJ",m4:t.info}),!i.resolution&&r.BB&&(i.resolution=r.BB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.RJ||i.RJ&&!i.RJ.AZ==!r.RJ.AZ&&!i.RJ.bZ==!r.RJ.bZ||i.TJ(r.RJ),e.audio&&void 0!==e.audio.pJ&&(i.pJ=e.audio.pJ),i._J=e.video&&e.video._J||i._J,i.gJ=e.video&&e.video.gJ||i.gJ,i.wJ=e.audio&&e.audio.u2||void 0,i.yJ=e.video&&e.video.u2||void 0,i.mJ=e.audio&&e.audio.w2||void 0,i.kJ=e.video&&e.video.w2||void 0,i.AJ=e.audio&&e.audio.T2||void 0,i.CJ=e.video&&e.video.T2||void 0}(s),this.L3.delete(t),r(null,s)},i.t4=function(){var t=dO(this._a.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.G3),t.addEventListener("error",this.K3),t},i.B4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var s=i;i=void 0,e.L3.has(n)&&e.u4(n,s,t,r.iv)}).catch(function(t){i=void 0,e.L3.has(n)&&e.z3(n,t)})},i.L4=function(t,n,i,r,e,s){var u=yx(t,r),o=r.qZ;this.L3.set(u,{Ep:t,m4:r,g4:{M4:r.duration,RJ:o.RJ,_J:o._J,gJ:o.gJ,wJ:o.wJ,yJ:o.yJ,mJ:o.mJ,kJ:o.kJ,pJ:!this._a.skipImplicitHEAACDetection&&o.pJ,U4:e},y4:i.length,MD:s}),r.key?this.B4(n,u,i,r.key):this.v4(u,i)},i.F4=function(t){var n=[];return this.L3.forEach(function(i){i.Ep===t&&n.push(i.m4)}),n},i.H4=function(t,n){var i=yx(t,n);return this.L3.has(i)},i.Lv=function(){this.Eo(),this.M3&&(this.M3.terminate(),this.M3=void 0),this.U3&&(this.U3.terminate(),this.U3=void 0)},n}(PC);function kx(t,n){return t+"V4"+n}function px(t){return kx(t.qZ.Xl,t.tY)}function Ax(t){return!(!t||!t.f3)}var bx=function(){function t(t,n,i){this.X4=void 0,this.lb=void 0,this.W4=[],this.q4=ne(),this.z4=1,this.G4=void 0,this.lb=t,this.X4=n,this.G4=i}var n=t.prototype;return n.j4=function(t){var n=px(t.info);if(this.q4.has(n))this.Q4(t.info,t);else{this.W4.push(n),this.q4.set(n,t);for(var i=this.X4.Y4+10;this.W4.length>8*this.Z4&&this.J4>i*this.Z4;){var r=this.q4.get(this.W4[0]),e=this.G4.K4,s=null==r?void 0:r.info;if(s){var u=s.start,o=u+s.duration,h=new Jp([u,o]),a=e,c=a+this.X4.Y4;if(new Jp([a,c]).iI(h).Ol>0)break}this.q4.delete(this.W4.shift())}}},n.t5=function(t,n){var i=kx(t,n),r=this.q4.get(i),e=this.W4.indexOf(i);return!(!r||-1===e)&&(Qe(this.W4,e),this.q4.delete(i),!0)},n.sh=function(){this.W4.length=0,this.q4.clear()},n.n5=function(){for(var t={},n=0,i=this.W4;n<i.length;n++){var r=i[n],e=this.q4.get(r);Ax(e)&&(t[e.info.qZ.Xl]=(t[e.info.qZ.Xl]||0)+1)}return t},n.i5=function(t,n){var i=[],r=this.r5(t,n);if(!Ax(r))return i;do{i.push(r),n+=1,r=this.r5(t,n)}while(Ax(r));return i},n.e5=function(t,n){return!!this.r5(t,n)},n.s5=function(t,n){return Ax(this.r5(t,n))},n.r5=function(t,n){return this.q4.get(kx(t,n))},n.Q4=function(t,n){var i=px(t),r=this.W4.indexOf(i);return-1!==r&&(Qe(this.W4,r),this.W4.push(i),n&&this.q4.set(i,n),!0)},n.u5=function(){for(var t=[],n=0,i=this.W4;n<i.length;n++){var r=i[n],e=this.q4.get(r);t.push(e.info)}return t},n.o5=function(){for(var t=[],n=0,i=this.W4;n<i.length;n++){var r=i[n],e=this.q4.get(r);e&&Ax(e)&&t.push(e.info)}return t},L(t,[{key:"J4",get:function(){for(var t=FO(this.lb,this.u5()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"Z4",get:function(){return this.z4},set:function(t){t>0&&(this.z4=l.max(t,1))}}]),t}();var Tx=Q.Pe?function(t,n){return Pg(t.a3,n.a3)}:function(t,n){return Pg(t.c3,n.c3)};function Ex(t,n,i,r){if(!t)return i;if(!i)return t;if(t.w2===i.w2){var e,s,u=t.e3||i.e3;if(u)s=1/(e=t.E2.vg(i.E2).qg(2)).K_();else{if(t.T2!==i.T2)return;if(!t.E2.ug(i.E2))return;e=t.E2,s=t.T2}if(t.width===i.width&&t.height===i.height){var o,h=t.s3||i.s3||!t.E2.ug(i.E2);if(t.nH)if(i.nH)if(r)o=t.nH.concat(i.nH),Sx(t.nH,i.nH,Ix);else{!function(t,n,i){var r=t.length,e=S_.pg;t=Ve(t,function(t,n){return Tx(t.mb,n.mb).ng(S_.pg)});for(var s=1;s<r;s+=1){var u=t[s-1].mb,o=t[s].mb,h=Tx(o,u);h.eg(S_.pg)&&(h=n),e=e.vg(h),u.Y2=h,u.U_=h.K_()}if(r>0){var a=t[r-1].mb,c=S_.Zg(S_.ew(l.round(i-e.K_())),n);a.Y2=c,a.U_=c.K_()}}(n.nH.concat(i.nH),e,n.duration+i.duration),o=t.nH.concat(i.nH),Sx(t.nH,i.nH,Ix)}else o=t.nH;else o=i.nH;return{w2:t.w2,u3:t.u3,h3:t.h3,o3:t.o3,T2:s,E2:e,e3:u,s3:h,width:t.width,height:t.height,_J:t._J,gJ:t.gJ,vA:t.vA,duration:t.duration+i.duration,A2:t.A2+i.A2,b2:t.b2,S2:t.S2,R2:t.R2,I2:t.I2,N2:t.N2,C2:Cx(i.C2,t.C2),D2:Cx(i.D2,t.D2),O2:Cx(i.O2,t.O2),P2:Cx(i.P2,t.P2),nH:o,m2:t.m2||i.m2,TA:t.TA,EA:t.EA}}}}function Sx(t,n,i){var r=n[0].mb.l2,e=t[t.length-1].mb.l2,s=r.fg(e),u=Pg(r,e).fg(s);if(!u.Sg())for(var o=0;o<n.length;o++){i(n[o].mb,u)}}function Rx(t,n){t.c3=t.c3.vg(n),t.a3=t.a3.vg(n),t.l2=t.l2.vg(n)}function Ix(t,n){Rx(t,n),t.Y2=t.Y2.vg(n),t.t3=Nx(t.t3,n),t.K2=Nx(t.K2,n)}function Nx(t,n){if(t)return t.vg(n)}function Cx(t,n){return n.vg(Pg(t,n))}function Dx(t,n){var i={audio:void 0,video:void 0,v2:t.v2};if("video"===n){if(!t.audio)return i;i.audio={w2:t.audio.w2,T2:t.audio.T2,E2:t.audio.E2,duration:t.audio.duration,A2:t.audio.A2,b2:S_.pg,S2:t.audio.S2,R2:t.audio.R2,I2:t.audio.I2,N2:t.audio.N2,C2:t.audio.C2,D2:t.audio.D2,O2:t.audio.O2,P2:t.audio.P2,nH:t.audio.nH,z2:t.audio.z2,q2:t.audio.q2,m2:t.audio.m2,X2:t.audio.X2,W2:t.audio.W2}}if("audio"===n){if(!t.video)return i;i.video={w2:t.video.w2,u3:t.video.u3,h3:t.video.h3,o3:t.video.o3,T2:t.video.T2,E2:t.video.E2,e3:t.video.e3,s3:t.video.s3,width:t.video.width,height:t.video.height,_J:t.video._J,gJ:t.video.gJ,TA:t.video.TA,EA:t.video.EA,vA:t.video.vA,duration:t.video.duration,A2:t.video.A2,b2:S_.pg,S2:t.video.S2,R2:t.video.R2,I2:t.video.I2,N2:t.video.N2,C2:t.video.C2,D2:t.video.D2,O2:t.video.O2,P2:t.video.P2,nH:t.video.nH,m2:t.video.m2}}return i}function Ox(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.w2===n.w2||!t.w2||!n.w2)&&t.T2===n.T2&&t.E2.ug(n.E2)&&t.q2===n.q2)return t.nH?n.nH?(i=t.nH.concat(n.nH),Sx(t.nH,n.nH,Rx)):i=t.nH:i=n.nH,{w2:t.w2,T2:t.T2,E2:t.E2,duration:t.duration+n.duration,A2:t.A2+n.A2,b2:t.b2,S2:t.S2,R2:t.R2,I2:t.I2,N2:t.N2,C2:Cx(n.C2,t.C2),D2:Cx(n.D2,t.D2),O2:Cx(n.O2,t.O2),P2:Cx(n.P2,t.P2),nH:i,q2:t.q2,z2:t.z2,m2:t.m2||n.m2,X2:t.X2,W2:t.W2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var s=Ex(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||s)return{audio:e,video:s,v2:t.v2}}}function xx(t){return Dx(t,"audio")}function Px(t){return Dx(t,"video")}var Bx,Lx,Mx,Ux=function(){function t(t){this.h5=void 0,this.pj=0,this.a5=0,this.h5=l.exp(l.log(.5)/t)}var n=t.prototype;return n.c5=function(t,n){var i=l.pow(this.h5,t),r=n*(1-i)+i*this.pj;w(r)||(this.pj=r,this.a5+=t)},n.f5=function(){var t=1-l.pow(this.h5,this.a5);return this.pj/t},t}(),Fx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.v5=void 0,this.d5=void 0,this.l5=0,this._5=void 0,this.g5=5e5,this.v5=new Ux(t),this.d5=new Ux(n),this._5=i}var n=t.prototype;return n.c5=function(t,n){var i=8e3*n/t,r=t/1e3;this.l5+=n,this.v5.c5(r,i),this.d5.c5(r,i)},n.f5=function(){return this.w5()?l.min(this.v5.f5(),this.d5.f5()):this.g5},n.w5=function(){return this.l5>=this._5},t}(),Hx=function(){function t(){this.v5=new Ux(2),this.d5=new Ux(5),this.y5=0,this.m5=1,this.g5=100}var n=t.prototype;return n.c5=function(t){this.y5+=1,this.v5.c5(1,t),this.d5.c5(1,t)},n.f5=function(){return this.w5()?l.min(this.v5.f5(),this.d5.f5()):this.g5},n.w5=function(){return this.y5>=this.m5},t}(),Vx=function(){function t(t,n){var i=this;this.k5=void 0,this.cv=void 0,this.D0=void 0,this.p5=!1,this.A5=0,this.b5=0,this.T5=function(){return i.E5()},this.k5=t,this.cv=n,this.D0=n.D0,this.D0.addEventListener("Bh",this.T5)}return t.prototype.E5=function(){var t=this.D0.Y0,n=1e3*this.D0.$0,i=1e3*this.D0.Sw;this.D0.PK&&(this.p5||(this.k5.S5(i),this.p5=!0),n>this.b5&&(this.k5.R5(n-this.b5,t-this.A5),this.A5=t,this.b5=n))},t}(),Xx=function(){function t(){this.I5=void 0,this.N5=void 0,this.I5=new Fx,this.N5=new Hx}var n=t.prototype;return n.C5=function(t){new Vx(this,t)},n.R5=function(t,n){this.I5.c5(t,n)},n.S5=function(t){this.N5.c5(t)},n.Lv=function(){},L(t,[{key:"D5",get:function(){return this.N5.f5()/1e3}},{key:"O5",get:function(){return this.I5.f5()}}]),t}(),Wx=function(){function t(){this.x5=ne()}var n=t.prototype;return n.P5=function(t,n){var i,r,e=this.x5.get(t);return Boolean(e&&(i=e.GY,r=n,it(i)?i===r:function(t,n){return t.GY===n.GY&&t.jY.WR===n.jY.WR&&t.jY.zR===n.jY.zR}(i,r)))},n.B5=function(t,n){if(this.P5(t,n))return this.x5.get(t).Ds},n.L5=function(t,n,i){this.x5.set(t,{GY:n,Ds:i})},n.sh=function(){this.x5.clear()},t}();!function(t){t[t.M5=0]="M5",t[t.U5=5]="U5",t[t.F5=13]="F5",t[t.H5=14]="H5",t[t.V5=15]="V5"}(Bx||(Bx={})),function(t){t[t.X5=0]="X5",t[t.W5=1]="W5",t[t.q5=2]="q5",t[t.z5=11]="z5",t[t.G5=13]="G5",t[t.j5=14]="j5"}(Lx||(Lx={})),function(t){t[t.Q5=0]="Q5",t[t.Y5=1]="Y5",t[t.Z5=2]="Z5",t[t.J5=3]="J5",t[t.K5=4]="K5",t[t.t6=5]="t6",t[t.n6=6]="n6",t[t.i6=7]="i6"}(Mx||(Mx={}));var qx=5,zx=5,Gx=.5;function jx(t){if(!t.f3.video)return[];for(var n=[],i=0;i<t.f3.video.nH.length;i++){var r=t.f3.video.nH[i].mb;r.n3&&n.push({r6:i,e6:r.a3})}return n}var Qx=S_.ew(.04),Yx=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).X4=void 0,s._a=void 0,s.s6=void 0,s.Bb=void 0,s.u6=void 0,s.o6=void 0,s.h6=void 0,s.a6=ne(),s.c6=void 0,s.f6=ne(),s.v6=1,s._a=n,s.s6=i,s.Bb=r,s.u6=new Wx,s.X4=e,s.o6=new tO(r,n),s.h6=new Xx,s.c6=new mx(n),s.c6.addEventListener("Qo",function(t){s.dispatchEvent(t)}),s}U(n,t);var i=n.prototype;return i.d6=function(t){this.c6.Eo(t),this.o6.sh(!1,t)},i.sh=function(t){this.d6(t),t?this.a6.get(t).sh():this.a6.forEach(function(t){return t.sh()})},i.Lv=function(){this.Mo(),this.o6.sh(),this.a6.forEach(function(t){return t.sh()}),this.a6.clear(),this.c6.Lv()},i.Rl=function(t,n,i){if(!this.a6.has(t)){var r=new bx(n,this.X4,i);r.Z4=this.Z4,this.a6.set(t,r)}},i.l6=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.u6.P5(i,r)){t.next=2;break}return t.abrupt("return",this.u6.B5(i,r));case 2:return t.next=4,this._6(n,r);case 4:return e=t.sent,this.u6.L5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i._6=function(t,n){var i=this;return new T(function(r,e){i.o6.xh(t,n,zo.Sc,function(t,n){t&&e(t),r(new y(n.Yv))})})},i.g6=function(t,n,i,r){var e=this.a6.get(t),s=e.r5(n.qZ.Xl,n.tY);if(e.s5(n.qZ.Xl,n.tY))e.Q4(n),this.dispatchEvent({type:"w6",Ep:t,y6:s});else{if(!s)return this.m6(t,n,i,r);e.Q4(n),this.k6(t,n,i,s.p6)}return r&&r(),null},i.m6=function(t,n,i,r){var e=this,s=this.a6.get(t),u=function(t,n){return t+"A6"+n.tY+"A3"+n.uri}(t,n);if(this.f6.has(u))return null;this.f6.set(u,!0);var o=this.o6.xh(t,n.uri,zo.Sc,function(h,a){return e.f6.delete(u),h?r&&r(h):(e.dispatchEvent({type:"b6",Ep:t}),s.s5(n.qZ.Xl,n.tY)||s.j4({info:n,p6:o.Yv}),e.g6(t,n,i),r&&r(h,a))});return this.h6.C5(o),o},i.k6=function(t,n,i,r){var e=this,s=this.a6.get(t);this.c6.H4(t,n)||(n&&n.key&&this.s6.getKey(n.key).catch(S),this.c6.L4(t,this.s6,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Qo",Qo:n});s.j4(i),e.dispatchEvent({type:"w6",Ep:t,y6:i})}))},i.T6=function(t,n,i){var r=i.length,e="AZ"===t?Jx:$x;if(!Zx(n,i))return null;if(r<=1)return i;for(var s=1;s<r;s+=1){var u=i[s],o=i[s-1];if(u.metadata.y3){if("E6"===this._a.S6||e(u,o)){var h=i.splice(0,s);return Zx(n,h)?h:this.T6(t,n,i)}0}}return i},i.R6=function(t,n,i,r){for(var e=this.a6.get(t).o5(),s=r.I6,u=function(t){var r=i[t],u=e.filter(function(t){return t.qZ===r}),o=FO(n,u),h=o.E1(s.K_(),Qx.K_());if(h>=0&&S_.ew(o.end(h)).fg(s).ig(Qx))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.N6=function(t,n,i,r,e){if(!Q.Ce)return!0;if(e.C6||this.R6(t,n,i,e))return!0;var s=S_.Zg(r,e.D6);return e.I6.fg(s).ig(S_.ew(2))},i.O6=function(t,n,i,r,e,s,u,o){var h=n.i5(e.Xl,s),a=this.T6(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.B1(f.info),d=fP(t,r,f);if("bZ"!==t||function(t,n,i){return!!t&&t.xp.qZ===n&&i.ig(S_.ew(t.zR))&&i.eg(S_.ew(t.zR).vg(Qx))}(i,e,d))return{kY:a,x6:S_.Jg(v,d)};f.f3.video&&(f=(a=eP(a,function(t,n,i,r){for(var e=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=jx(o),a=0;a<h.length;a++){var c=h[a];if(n.F1(o.info,c.e6).tg(i.fg(r)))return{P6:e,B6:s};e=u,s=c.r6}return{P6:e,B6:s}}(a,r,u,o)))[0]);if(d=fP(t,r,f),function(t){var n=t.f3.video,i=n&&n.nH,r=i&&i[0],e=r&&r.mb.n3;if(!n)return!0;return!!e}(f))return{kY:a,x6:S_.Jg(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=dx(t[n].f3);if(!w(i))return{P6:n,B6:i}}return null}(a),_=S_.Zg(u,hP(t,r,e.bY(s)));if(f.info.tY===s){if(l&&(d=fP(t,r,(c=eP(a,l))[0]),_.fg(d).ig(o)))return{kY:c,x6:S_.Jg(v,d)};for(var g=s-1;n.s5(e.Xl,g);){var y=n.i5(e.Xl,g);if((f=(c=this.T6(t,s,y))&&c[0]&&rP(c[0],lx(c[0])))&&(d=fP(t,r,f),_.fg(d).ig(o)))return c[0]=f,{kY:c,x6:S_.Jg(v,d)};g-=1}}return function(t){if(t.TY)return!1;var n=t.qZ;if(n.AY&&n.AY.live)return!1;if(!n.bY(t.tY-1))return!1;return!0}(a[0].info)?null:l?{kY:a=eP(a,l),x6:v}:null},i.L6=function(t,n,i,r,e,s,u,o,h,a,c){var f=s.M6(o,h,n),v=f&&f.xp;if(!v)return null;var d=v.tY;do{var l=d,_=o.bY(l),g=hP(n,s,_);if(!aP(n,s,_).og(h)||_.w3){if(g.vg(Qx).tg(a))break;if(S_.Zg(S_.pg,h.fg(g)).og(c)&&i.s5(o.Xl,l-1)&&i.s5(o.Xl,l))i.r5(o.Xl,l).metadata.y3||(l-=1);var w=this.U6(t,n,i,r,e,s,u,o,l,h,c);if(w&&(iP(w,h,a)||w.C6))return w}}while(i.s5(o.Xl,++d));return null},i.U6=function(t,n,i,r,e,s,u,o,h,a,c){var f=o.bY(h),v=this.O6(n,i,r,s,o,h,a,c),d=v&&v.kY,_=v&&v.x6,g=d&&d[d.length-1],w=g&&g.metadata.w3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="AZ"===t?Kx:tP;return n.map(i).filter(nP)}(n,d))||!d.length){if(w){var y=[],m=s.B1(g.info);return y.F6=m,y.H6=m,y.D6=m,y.V6=m,y.I6=m,y.C6=w,y}return null}var k=d="bZ"===n?function(t,n,i){var r=i[0].f3.video;return i[0].info.TY?function(t,n,i,r){var e=Ge(r.nH,function(t){return t.mb.n3});if(e<0)return i;var s=r.nH[e].mb,u=n.F1(i[0].info,s.a3),o=vP(t,u);if(o.dg())return i;var h=u.fg(o).$g(Sg,p_._w);if(h.eg(S_.pg))return i;var a=_P(r.nH.slice(e),h);return i[0]=uP(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.E2.Hg(qx),s=r.nH[0].mb,u=n.F1(i[0].info,s.c3),o=dP(t,u,e);if(o.dg())return i;var h=u.fg(o).$g(Sg,p_._w);if(h.eg(S_.pg)||h.tg(e))return i;var a=_P(r.nH,h);return i[0]=uP(i[0],a),i}(t,n,i,r)}(e,s,d):function(t,n,i){var r;if((null==(r=i[0].f3.audio)?void 0:r.w2)===LO.W1)return i;var e=i[0].f3.audio,s=e.nH[0].mb;return i[0].info.TY?function(t,n,i,r,e){var s=n.F1(i[0].info,e.a3),u=vP(t,s);if(u.dg())return i;var o=s.fg(u).K_(),h=l.floor(o/r.E2.K_());if(h<=0)return i;var a=lP(r,h);return i[0]=sP(i[0],a),i}(t,n,i,e,s):function(t,n,i,r,e){var s=n.F1(i[0].info,e.c3),u=dP(t,s,r.E2.Hg(zx));if(u.dg())return i;var o=s.fg(u).K_(),h=l.round(o/r.E2.K_());if(0===h||l.abs(h)>zx)return i;var a=lP(r,h);return i[0]=sP(i[0],a),i}(t,n,i,e,s)}(e,s,d),p=k[0];if(f.tY<p.info.tY&&(_=s.B1(f)),k.F6=_,k.H6=function(t,n,i){return n.F1(i.info,cP(t,i).l3)}(n,s,p),k.D6=fP(n,s,p),k.V6=function(t,n,i){return n.F1(i.info,cP(t,i).g3)}(n,s,k[k.length-1]),k.I6=function(t,n,i){return n.F1(i.info,cP(t,i)._3)}(n,s,k[k.length-1]),k.C6=w,!this.N6(t,s,u,a,k))return null;var A=p.f3.video;return!A||(A._J=A._J||o._J,A.gJ=A.gJ||o.gJ,A._J&&A.gJ)?k:null},i.X6=function(t,n,i,r,e,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.L6(t,n,i,r,e,s,u,v,o,h,a);d&&(c&&!d.D6.og(c.D6)||(c=d))}return c},i.W6=function(t,n,i,r,e,s,u,o,h){for(var a=S_.ew(u),c=S_.ew(o),f=S_.ew(h),v=this.a6.get(t),d=new wO([{WR:a.K_(),zR:a.vg(c).K_()}]),l=e.iI(d),_=function(t){if(0===t.length)return null;var n=t.kY(t.length-1),i=n[n.length-1];if(!i.xp.q6)return null;return i}(e),g=pO(AO(l),d),w=0;w<g.length;w++){var y=S_.ew(g.start(w)),m=S_.ew(g.end(w)),k=gP(l,y,m),p=y.vg(k).$g(Sg,p_._w),A=m.$g(Sg,p_._w);if(p.og(A)){if(_&&p.ig(S_.ew(_.zR)))continue;var b=this.X6(t,n,v,s,e,i,r,p,A,f);if(b)return b}}return null},i.o5=function(t){return this.a6.get(t).o5()},i.F4=function(t){return this.c6.F4(t)},L(n,[{key:"Z4",get:function(){return this.v6},set:function(t){t>0&&(this.v6=t,this.a6.forEach(function(n){return n.Z4=t}))}},{key:"D5",get:function(){return this.h6.D5}},{key:"O5",get:function(){return this.h6.O5}}]),n}(PC);function Zx(t,n){for(var i=0;i<n.length;i++){if(n[i].info.tY===t)return!0}return!1}function Jx(t,n){return t.metadata.audio.w2!==n.metadata.audio.w2||(t.metadata.audio.K$!==n.metadata.audio.K$||(!(!t.f3.audio||!n.f3.audio||t.f3.audio.q2===n.f3.audio.q2)||!Og(t.metadata.audio.d3,t.metadata.audio.l3).ug(Og(n.metadata.audio._3,n.metadata.audio.g3))))}function $x(t,n){return t.metadata.video.w2!==n.metadata.video.w2||(!(!t.metadata.BB||!n.metadata.BB||t.metadata.BB.height===n.metadata.BB.height&&t.metadata.BB.width===n.metadata.BB.width)||(!(!n.f3.video||n.f3.video.s3||t.metadata.video.K$===n.metadata.video.K$)||Og(t.metadata.video.d3,t.metadata.video.l3)!==Og(n.metadata.video._3,n.metadata.video.g3)))}function Kx(t){return t.f3.video&&(t={f3:Px(t.f3),info:t.info,metadata:wx(t.metadata,"bZ")}),t}function tP(t){return t.f3.audio&&(t={f3:xx(t.f3),info:t.info,metadata:wx(t.metadata,"AZ")}),t}function nP(t){return Boolean(t&&(t.f3.audio||t.f3.video))}function iP(t,n,i){var r=S_.Zg(n,t.D6),e=S_.Jg(i,t.I6),s=Qx;return Q.be&&(r.eg(t.D6)?s=s.vg(t.D6).fg(t.H6):e.ig(t.I6)&&(s=s.vg(t.I6).fg(t.V6))),e.fg(r).ig(s)}function rP(t,n){return w(n)?null:0===n?t:uP(t,t.f3.video.nH.slice(n))}function eP(t,n){return(t=t.slice(n.P6))[0]=rP(t[0],n.B6),t}function sP(t,n){var i={info:t.info,f3:{audio:Px(t.f3).audio,video:null,v2:t.f3.v2},metadata:null},r=i.f3.audio;r.nH=n;var e=n[0].mb;return r.R2=e.l2,r.S2=r.R2.K_(),oP(r,i.f3.v2,r.E2),gx(i,t.metadata.size),i.metadata=wx(i.metadata,"bZ"),i}function uP(t,n){var i={info:t.info,f3:{audio:null,video:xx(t.f3).video,v2:t.f3.v2},metadata:null},r=i.f3.video;r.nH=n;var e=n[0].mb;r.R2=e.l2,r.S2=r.R2.K_();var s=n[n.length-1].mb.Y2;return oP(r,i.f3.v2,s),gx(i,t.metadata.size),i.metadata=wx(i.metadata,"AZ"),i}function oP(t,n,i){for(var r=S_.uw,e=S_.uw,s=S_.ow,u=S_.ow,o=0,h=t.nH;o<h.length;o++){var a=h[o].mb;r=S_.Jg(a.c3,r),e=S_.Jg(a.a3,e),s=S_.Zg(a.c3,s),u=S_.Zg(a.a3,u)}t.I2=e,t.N2=r,t.C2=u,t.D2=s,t.b2=S_.Zg(Pg(t.R2,n),S_.pg),t.O2=xg(t.C2,i),t.P2=xg(t.D2,i),t.A2=Og(t.O2,t.I2).K_(),t.duration=t.A2}function hP(t,n,i){if(eD(i)){var r="AZ"===t?i.E4:i.R4;return Cg(r)||(r=i.QY),n.F1(i,r)}return i&&n.B1(i)}function aP(t,n,i){if(eD(i)){var r="AZ"===t?i.C4:i.O4;return Cg(r)||(r=i.QY),n.F1(i,r)}return i&&n.B1(i).vg("AZ"===t?function(t){return eD(t)?t.YY||S_.pg:t&&S_.ew(t.duration)||S_.pg}(i):function(t){return eD(t)?t.ZY||S_.pg:t&&S_.ew(t.duration)||S_.pg}(i))}function cP(t,n){return"AZ"===t?n.metadata.audio:n.metadata.video}function fP(t,n,i){return n.F1(i.info,cP(t,i).d3)}function vP(t,n){var i=t.I1(n.K_());if(-1!==i){var r=S_.ew(t.end(i));if(n.fg(r).eg(S_.ew(Gx)))return r}return S_.sw}function dP(t,n,i){var r=t.E1(n.K_(),i.K_());if(-1!==r)for(var e=t.kY(r),s=e.length-1;s>=0;s--)for(var u=e[s],o=u.xp.kY.length-1;o>=0;o--){var h=u.xp.kY[o];if(n.fg(S_.ew(h.zR)).hg().eg(i))return S_.ew(h.zR);if(n.fg(S_.ew(h.WR)).hg().eg(i))return S_.ew(h.WR)}return S_.sw}function lP(t,n){var i;if(n<0)i=t.nH.slice(-n);else{0;var r=new QO,e=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.U2,t.q2);r.Q1(e,0,e.length),i=t.nH.slice();for(var s=0;s<n;s++){var u=i[0].mb,o=r.fh(Kr({},r.mb,{l2:Og(u.l2,t.E2),d2:u.d2-t.E2.K_(),c3:Og(u.c3,t.E2),a3:Og(u.a3,t.E2)}));i.unshift(o)}}return i}function _P(t,n){var i=t[0].mb,r=t.slice();return r[0]=t[0].fh(Kr({},i,{l2:Og(i.l2,n),d2:i.d2-n.K_(),c3:Og(i.c3,n),J2:i.J2-n.K_(),a3:Og(i.a3,n),Z2:i.Z2-n.K_(),Y2:S_.Zg(S_.pg,i.Y2.vg(n)),U_:l.max(0,i.U_+n.K_())})),r}function gP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.kY(r),s=t.kY(r+1);if(e.length&&s.length&&S_.ew(e[0].WR).eg(n)&&S_.ew(s[s.length-1].zR).ig(i)&&s[0].xp.kY[0].dh.v3.TY)return Qx.Hg(5)}return t.Cy(n.K_())?Qx:S_.pg}function wP(t){return new TP(t.Gf,t.Ds)}var yP,mP,kP,pP,AP,bP,TP=function(){function t(t,n){this.Gf=void 0,this.z6=void 0,this.z6=n,this.Gf=t}return t.prototype.G6=function(t){iO(t)},L(t,[{key:"Ds",get:function(){return this.z6}},{key:"j6",get:function(){return nO(rO(this.z6,this.Gf))}}]),t}(),EP=function(){function t(t,n,i){this.GY=void 0,this.GY="data:"+t+";"+n+","+i}return t.prototype.G6=function(t){},L(t,[{key:"j6",get:function(){return this.GY}}]),t}();!function(t){t.W1="Q6",t.w_="Y6",t.Z6="J6",t.K6="t9",t.n9="i9"}(yP||(yP={})),function(t){t.r9="e9",t.s9="u9"}(mP||(mP={})),function(t){t.o9="audio/mp4",t.h9="audio/mpeg",t.a9="video/mp4"}(kP||(kP={})),function(t){t[t.c9=0]="c9",t[t.f9=1]="f9",t[t.$l=2]="$l",t[t.v9=3]="v9"}(pP||(pP={})),function(t){t.d9="l9",t._9="g9"}(AP||(AP={})),function(t){t.w9="E6",t._9="y9"}(bP||(bP={}));var SP=function(){function t(t,n,i,r,e,s,u,o,h,a){this.m9=void 0,this.k9=void 0,this.Ep=void 0,this.Gf=void 0,this.y6=void 0,this.p9=void 0,this.cb=void 0,this.A9=void 0,this.b9=void 0,this.MD=void 0,this.T9=pP.c9,this.k9=t,this.m9=n,this.Ep=i,this.Gf=r,this.y6=e,this.p9=s,this.cb=u,this.A9=o,this.b9=h,this.MD=a}return t.E9=function(t,n,i,r,e,s,u,o,h,a){switch(n){case AP.d9:return new RP(t,i,r,e,s,u,o,h,a);case AP._9:return new IP(t,i,r,e,s,u,o,h,a)}},t}(),RP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,AP.d9,n,i,r,e,s,u,o,h,a)||this}return U(n,t),n.prototype.S9=function(){return{R9:"I9",N9:this.m9,C9:yP.n9,D9:mP.r9,O9:this.Gf,x9:YO(this.y6,[]),P9:this.b9,B9:this.A9.gw(),L9:this.p9.gw(),M9:this.cb.gw()}},n}(SP),IP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,AP._9,n,i,r,e,s,u,o,h,a)||this}return U(n,t),n.prototype.S9=function(){return{R9:"I9",N9:this.m9,C9:this.Gf===kP.h9?yP.W1:yP.w_,D9:Wy?mP.s9:mP.r9,O9:this.Gf,x9:YO(this.y6,[])}},n}(SP),NP=function(){function t(){this.U9=void 0,this.F9=void 0,this.U9=ne(),this.F9=1}var n=t.prototype;return n.H9=function(){return(this.F9++).toString()},n.E9=function(t,n,i,r,e,s,u,o,h){var a=this.H9(),c=SP.E9(a,n,t,i,r,e,s,u,o,h);return this.V9(c),c},n.X9=function(t){return this.U9.get(t)},n.V9=function(t){this.U9.set(t.m9,t)},n.W9=function(t){this.U9.delete(t)},n.q9=function(t){this.X9(t).T9=pP.f9,this.W9(t)},n.z9=function(t,n){var i=this.X9(t).MD;this.X9(t).T9=pP.$l,this.W9(t),i(n)},n.G9=function(t,n){var i=this.X9(t).MD;this.X9(t).T9=pP.v9,this.W9(t),i(null,n)},n.sh=function(t){var n=[];this.U9.forEach(function(i,r){t&&i.Ep!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.q9(r)}},t}();var CP,DP=function(){function t(n){var i=this;this.U9=void 0,this.j9=void 0,this._a=void 0,this.Q9=void 0,this.Y9=function(t){var n=t.data.Z9,r=t.data.J9,e=t.data.K9,s=t.data.t8,u=i.U9.X9(r);if(u&&u.T9!==pP.f9)switch(n){case"n8":i.i8(u,e);break;case"r8":i.U9.z9(r,new MC(LC.WQ,{code:s}));break;default:0}},this.e8=function(t){0},this.U9=new NP,this._a=n,this.Q9=t.s8(n.S6),this.u8()}t.s8=function(t){switch(t){case bP.w9:return AP.d9;case bP._9:return AP._9}};var n=t.prototype;return n.I9=function(t,n,i,r,e,s,u){var o={metadata:null,AZ:null,bZ:null,Qo:null};i&&i.length||u(new MC(LC.WQ,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.tY+1,f=h.info.qZ,v=h.metadata,d=v.audio.w2?v.audio:void 0,l=v.video.w2?v.video:void 0,_=a.metadata,g=_.audio.w2?_.audio:void 0,y=_.video.w2?_.video:void 0,m=r.vg(Pg(v.l3,v.d3)),k=r.vg(Pg(v.d3,v.d3)),p=r.vg(d?Pg(d.l3,v.d3):S_.pg),A=r.vg(d?Pg(d.d3,v.d3):S_.pg),b=r.vg(l?Pg(l.l3,v.d3):S_.pg),T=r.vg(l?Pg(l.d3,v.d3):S_.pg),E=r.vg(Pg(_.g3,v.d3)),S=r.vg(Pg(_._3,v.d3)),R=r.vg(g?Pg(g.g3,v.d3):S_.pg),I=r.vg(g?Pg(g._3,v.d3):S_.pg),N=r.vg(y?Pg(y.g3,v.d3):S_.pg),C=r.vg(y?Pg(y._3,v.d3):S_.pg);p=S_.Zg(S_.pg,p),b=S_.Zg(S_.pg,b);var D,O,x,P,B,L=tD.bw(n.rJ)?S_.ew(100079991719):S_.ew(n.U_),M=function(t){for(var n=t[0].f3,i=n,r=1;r<t.length;r++){if(!(n=Ox(i,t[r-1].f3,t[r].f3,t[r].info.y3)))return i;i=n}return i}(i);if(M.audio){O=(D=Px(M)).audio.duration;x=this.U9.E9(t,this.Q9,"mp3"===D.audio.w2?kP.h9:kP.o9,D,p,A,L,c,function(t,n){if(o.Qo=o.Qo||t,o.AZ=n,D=!0,P)return u(o.Qo,o)}),this.o8(x),D=null}else D=!0;if(M.video){B=(P=xx(M)).video.duration;x=this.U9.E9(t,this.Q9,kP.a9,P,b,T,L,c,function(t,n){if(o.Qo=o.Qo||t,o.bZ=n,P=!0,D)return u(o.Qo,o)}),this.o8(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=S_.ew(O),W=S_.ew(B),q=h.f3.audio&&h.f3.video?S_.Jg(h.f3.audio.b2.vg(X),h.f3.video.b2.vg(W)):h.f3.audio?h.f3.audio.b2.vg(X):h.f3.video?h.f3.video.b2.vg(W):S_.pg;if(q.Sg()&&lt("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=dx(M);if(w(z))lt("Segment without keyframes detected",h.info.uri),U=S_.sw,F=S_.sw,H=q.Hg(1.5);else{var G=M.video.nH[z].mb;U=r.vg(Pg(G.c3,v.d3)),F=r.vg(Pg(G.a3,v.d3)),H=S_.ew(G.Z2-h.metadata.start)}}else U=p,F=A,H=S_.pg;var j=S_.Zg(H,S_.Zg(h.f3.audio&&h.f3.audio.b2||S_.pg,h.f3.video&&h.f3.video.b2||S_.pg));o.metadata={tY:c,WR:r.K_(),h8:m.K_(),F6:k.K_(),V6:E.K_(),I6:S.K_(),P4:U.K_(),H1:F.K_(),x6:S_.Jg(r,e).K_(),U_:q.K_(),kY:V,vh:j.K_(),AZ:d&&{WR:A.K_(),h8:p.K_(),zR:I.K_(),V6:R.K_(),U_:O,w2:d.w2},bZ:l&&{WR:T.K_(),h8:b.K_(),zR:C.K_(),V6:N.K_(),U_:B,w2:l.w2,cu:v.BB.width,Ip:v.BB.height},RJ:v.RJ,y3:v.y3,qZ:f,w3:s},i=null,M=null},n.Lv=function(){this.U9.sh(),this.j9&&(this.j9.terminate(),this.j9=null)},n.Eo=function(t){this.U9.sh(t)},n.i8=function(t,n){switch(t.k9){case AP.d9:var i=n;this.U9.G9(t.m9,{initializer:wP(i.a8),m4s:wP(i.c8)});break;case AP._9:var r=n;this.U9.G9(t.m9,(e=r,Wy?new EP(e.Gf,"base64",e.Ds):new TP(e.Gf,e.Ds)));break;default:0}var e},n.u8=function(){this.j9||(this.j9=dO(this._a.libraryLocation,"theoplayer.p.js"),this.j9.addEventListener("message",this.Y9),this.j9.addEventListener("error",this.e8))},n.o8=function(t){this.j9||this.u8(),this.j9.postMessage(t.S9())},t}();function OP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function xP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function PP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function BP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],s=void 0;s=void 0!==r[6]?Xu(r[6]):void 0!==r[7]?{width:g(r[8]),height:g(r[10])}:void 0!==r[12]?g(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=s,r=i.exec(t)}return n}var LP,MP="x-";function UP(t,n,i,r){var e=t.split("@"),s=OP(n,i),u=_(e[0],10),o=e[1]?_(e[1],10):r;return{GY:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},jY:{WR:o,zR:o+u-1}}}function FP(t,n,i){var r,e,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,w=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new MC(LC.XQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(w.push(T+""),xP(T,"#EXT")){if(xP(T,"#EXTINF"))c=(c=g(PP(T)))||.5;else if(xP(T,"#EXT-X-BYTERANGE"))f=PP(T);else if(xP(T,"#EXT-X-KEY"))(s=BP(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=OP(s.uri,i);else if(xP(T,"#EXT-X-DISCONTINUITY")&&!xP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(xP(T,"#EXT-X-STREAM-INF"))(e=BP(T)).tY=a++,(b+=1)<p.length&&(e.uri=OP(p[b].trim(),i),A.streams.push(e));else if(xP(T,"#EXT-X-MEDIA")&&!xP(T,"#EXT-X-MEDIA-"))(u=BP(T)).uri&&(u.uri=OP(u.uri,i)),A.media.push(u);else if(xP(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(PP(T));else if(xP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A._Y=!0,A.gY=_(PP(T),10);else if(xP(T,"#EXT-X-MEDIA-SEQUENCE"))h=_(PP(T),10),A.f8=!0,A.v8=h;else if(xP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(PP(T),10),A.hasTargetDuration=!0;else if(xP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(xP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(xP(T,"#EXT-X-MAP")){var E=BP(T),S=E.uri,R=E.byterange;o=R?UP(R,S,i,0):OP(S,i)}else if(xP(T,"#EXT-X-VERSION"))A.version=_(PP(T),10);else if(xP(T,"#EXT-X-DATERANGE")){var I=HP(T);A.dateRanges.push(I)}}else if(xP(T,"#"));else if(0!==T.length){f?k=(r=UP(f,T,i,k)).jY.zR+1:r=OP(T,i);var N,C=s&&Kr({},s);s&&void 0===s.iv&&(N=h%4294967295,C.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,tY:h,TY:d,pY:v,key:C,KZ:m,$Z:w,w3:!1,d8:o}),h+=1,c=0,f=null,d=!1,m=null,w=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].w3=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];e+=o.duration,i=l.min(i,o.duration),r=l.max(r,o.duration)}return{l8:i,_8:r,g8:n?t.fragments[n-1].duration:0,w8:e/n,y8:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.tY-n.tY})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Qe(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,s=t.media;e<s.length;e++)s[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],s=0;s<r;s++)if(i=t[s],n.call(e,i,s,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function HP(t){var n=BP(t),i=function(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i];Ie(e,MP)&&(n[e.substr(MP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Xl:n.id,BY:n.class,uR:r,EY:e,U_:n.duration,LY:n["planned-duration"],MY:s,UY:i,FY:u,HY:o,VY:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(LP||(LP={}));(CP={})[LP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",CP[LP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",CP[LP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",CP[LP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",CP[LP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",CP[LP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",CP[LP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var VP=function(){function t(){}return t.prototype.Jk=function(t,n,i){return FP(t,n,i)},t}(),XP=3,WP=function(){function t(t,n,i){void 0===i&&(i=XP),this.Bb=t,this.m8=n,this.k8=i}var n=t.prototype;return n.p8=function(t,n,i){return this.A8(t,n,!0,i)},n.b8=function(t,n,i){return this.A8(t,n,!1,i)},n.A8=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s,u,o,h,a,c,f,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.k8)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,_s(u,e);case 6:u<1e4&&(u=l.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Sf({vv:a,ov:zo.Je,uv:i,xv:this.m8,Nv:pf.GET,io:Af._v,Dv:bf.lv,Io:e}),t.next=14,this.Bb.cv(c);case 14:return f=t.sent,t.next=17,f.Xf(e);case 17:return v=t.sent,t.abrupt("return",{T8:v,E8:a,fv:f.fv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),qP=function(){function t(t,n,i,r){this.S8=t,this.R8=n,this.I8=i,this.N8=r}var n=t.prototype;return n.C8=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.S8.YK(n.map(QD));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.D8=function(t,n){var i=YD(t,n);return this.R8.nh(i)},n.O8=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=YD(n,i),t.next=3,this.I8.ih(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.YP=function(t){return this.N8.ih(t)},t}(),zP=function(){function t(t){this.x8=void 0,this.x8=t}return t.prototype.P8=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),u=0,o=this.x8;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.P8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),ss(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),GP=function(){function t(t){this.B8=t}return t.prototype.P8=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.B8.C8(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{T8:s.data,E8:s.locationURL,fv:s.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),jP=function(){function t(t){this.L8=t}return t.prototype.P8=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.L8.p8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.L8.b8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function QP(t,n){return new zP([new GP(n),new jP(t)])}var YP=function(){function t(t,n,i){this.M8=t,this.U8=n,this.F8=i}var n=t.prototype;return n.P8=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.M8.P8(n,i,r,e);case 3:return s=t.sent,t.next=6,this.H8(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.H8=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.U8.jK({key:QD(n.E8),locationURL:Cf(n.E8),responseURL:Cf(n.fv),data:n.T8,references:[this.F8.Xl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function ZP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var JP=function(){function t(t,n,i){this._a=void 0,this.Bb=void 0,this.M8=void 0,this.V8=void 0,this.V8=new VP,this._a=t,this.Bb=i;var r=this._a&&this._a.crossOrigin===fl.p_,e=new WP(i,r,1);this.M8=QP(e,new qP(jD.je.e0,jD.je.i0,jD.je.r0,jD.je.u0))}var n=t.prototype;return n.xh=function(t,n,i){var r=this.Od(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Od=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.M8.P8([n],i);case 3:return r=t.sent,n=r.fv,e=this.V8.Jk(r.T8,n,ZP(n)),t.abrupt("return",{Rw:e,X8:r.T8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Mf)){t.next=16;break}throw new MC(LC.HQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Uf)){t.next=24;break}if(0!==t.t0.Yv.sv){t.next=21;break}throw new MC(LC.VQ,{code:"MFL3900",uri:n,status:t.t0.Yv.sv});case 21:throw new MC(LC.HQ,{code:"MFL4100",uri:n,status:t.t0.Yv.sv});case 22:t.next=25;break;case 24:throw new MC(LC.$l,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),$P=function(t){function n(n,i){var r;return(r=t.call(this)||this).W8=void 0,r.q8=void 0,r.z8=void 0,r.G8=void 0,r.j8=void 0,r.ZJ=void 0,r.VJ=void 0,r.vS=void 0,r.W8=new JP(i||{},jD.je.e0,n),r}U(n,t);var i=n.prototype;return i.Gw=function(){void 0!==this.G8&&(h(this.G8),this.G8=void 0),this.z8&&this.z8.cv&&(this.z8=void 0)},i.Q8=function(t){if(this.VJ)for(var n=0,i=this.VJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.Y8=function(t,n,i,r){var e,s=t.targetDuration,u=t.metadata;return e=t.fragments.length&&u&&(!s||u.y8<3*s)?1e3*u.l8:s?1e3*s:1e4,i===n&&(e/=2),e=l.max(e-r,1e3)},i.Z8=function(t){if(t.fragments.length>0)for(var n=this.Q8(t.fragments[0].uri),i=n&&n.tY||0,r=0,e=t.fragments;r<e.length;r++){e[r].tY+=i}},i.J8=function(t,i,r,e,s,u){var h=this;if(this.z8&&r===this.z8.cv){var a=Hb()-i;if(e){this.z8=void 0,this.vS=e;var c={type:"Qo",Qo:e};return this.dispatchEvent(c),s&&s(e)}this.z8=void 0;var f=u.Rw,v=u.X8;f.f8||this.Z8(f),t===this.q8&&(this.ZJ=f),this.VJ=f;var d=n.Y8(f,v,this.j8,a);f.live?f.isMasterPlaylist||(this.G8=o(function(){return h.Od(t)},d)):this.Gw(),s&&s(e,u);var l={type:"K8",manifest:f,manifestText:v};this.dispatchEvent(l),this.j8=v}},i.Od=function(t,n){var i=this,r=Hb(),e=t;h(this.G8),this.G8=void 0;var s=this.W8.xh(e,{},function(e,u){return i.J8(t,r,s,e,n,u)});this.z8={cv:s,vv:t}},i.WR=function(t,n){var i,r,e,s=this,u=!1;(e=t||(this.VJ?this.VJ.uri:this.q8))&&(this.z8&&this.z8.vv===t?n&&(i=function(t){s.removeEventListener("Qo",r),s.removeEventListener("K8",i);var e=t;n(null,{Rw:e.manifest,X8:e.manifestText})},r=function(t){s.removeEventListener("Qo",r),s.removeEventListener("K8",i),n(t.Qo)},this.addEventListener("Qo",r),this.addEventListener("K8",i)):(this.Gw(),this.Od(e,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.t7=function(t){t&&(this.j8=void 0,this.ZJ&&this.ZJ.isMasterPlaylist?this.WR(t.uri):this.VJ&&!this.n7()&&this.WR(this.VJ.uri))},i.Lv=function(){this.Gw(),this.Mo()},i.n7=function(){return!!this.z8||!!this.G8||!(!this.VJ||this.VJ.live)},L(n,[{key:"Rw",get:function(){return this.VJ}},{key:"T$",get:function(){return this.ZJ}},{key:"LK",get:function(){return this.q8},set:function(t){this.Gw(),this.j8=void 0,this.ZJ=void 0,this.VJ=void 0,this.q8=t}}]),n}(PC),KP=function(t){function n(n,i){var r;return(r=t.call(this)||this)._a=void 0,r.El=void 0,r.q8=void 0,r.i7=void 0,r.Bb=void 0,r._a=i,r.El=ne(),r.q8=null,r.i7=null,r.Bb=n,r}U(n,t);var i=n.prototype;return i.WR=function(){var t=this,n=this.LK;if(n&&!this.i7){var i=new $P(this.Bb,this._a);i.addEventListener("Qo",function(i){var r=i.Qo;t.dispatchEvent({type:"r7",Qo:r}),t.El.has(n)&&t.dispatchEvent({type:"Qo",Qo:r,e7:n})}),i.addEventListener("K8",function n(r){i.removeEventListener("K8",n),i===t.i7&&t.dispatchEvent({type:"s7",Rw:r.manifest})}),i.addEventListener("K8",function(i){t.El.has(n)&&t.dispatchEvent({type:n,Rw:i.manifest})}),this.i7=i,i.WR(n)}},i.u7=function(t,n){this.o7(t),this.h7(n)},i.h7=function(t){var n,i=this;this.El.has(t)||(t===this.LK?(this.WR(),(n=this.i7).Rw&&this.dispatchEvent({type:t,Rw:n.Rw},!0)):((n=new $P(this.Bb,this._a)).addEventListener("Qo",function(n){i.dispatchEvent({type:n.type,Qo:n.Qo,e7:t})}),n.addEventListener("K8",function(n){i.dispatchEvent({type:t,Rw:n.manifest})})),this.El.set(t,n))},i.o7=function(t){if(this.El.has(t)){var n=this.El.get(t);n!==this.i7&&n.Lv(),this.El.delete(t),this.removeEventListener(t)}},i.a7=function(t){if(this.El.has(t)){var n=this.El.get(t);n.n7()||n.WR(t)}},i.c7=function(){var t=this;this.El.forEach(function(n,i){return t.a7(i)})},i.Cl=function(){this.El.forEach(function(t){return t.Lv()}),this.El.clear(),this.i7&&(this.i7.Lv(),this.i7=null),this.q8=null},L(n,[{key:"LK",get:function(){return this.i7&&this.i7.Rw?this.i7.Rw.uri:this.q8},set:function(t){this.Cl(),this.q8=t}}]),n}(PC),tB=function(t){function n(){var n;return(n=t.call(this)||this).f7=NaN,n}U(n,t);var i=n.prototype;return i.v7=function(t,n){for(var i=t.length?l.min.apply(l,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].vh=S_.ew(t[e]||0)}var s=t.length?l.max.apply(l,t):0;this.f7=s,this.dispatchEvent({type:"d7",l7:s})},i._7=function(t,n){var i=[];if(n.length<2)return this.v7(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var s=n[e];if(!s.g7(t))return!1;i[e]=s.vh.vg(s.w7(r,t)).K_()}return this.v7(i,n),!0},i.y7=function(t,n){return this._7(t.pY,n)},i.m7=function(t,n){if(n.length<2)return this.v7([],n),!0;var i=n[0].k7(t);if(w(i))return!1;for(var r=0;r<n.length;r++){if(n[r].k7(t)!==i)return!1}return this._7(i,n)},i.Cl=function(){this.f7=NaN},i.Lv=function(){this.Mo()},L(n,[{key:"l7",get:function(){return this.f7}}]),n}(PC),nB=.001;function iB(t){return t.metadata.qZ.Xl+"p7"+t.metadata.tY+"A7"+t.metadata.WR+"b7"+t.metadata.U_}var rB=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Uj=function(t,i){return new n(t,i)},i.P1=function(t,n){return!1},n}(MO);function eB(t,n){var i=new rB([n]);return t.fg(i).hI(i)}function sB(t,n){var i=function(t,n){var i=t.F6,r=t.H1;if(!w(r)&&r===i)return!0;return!t.y3&&!!n&&n.xp.qZ===t.qZ&&i>=n.zR&&i<=n.zR+nB}(t,n);return i||!w(t.H1)?{WR:i?t.F6:t.H1,zR:t.I6,xp:t}:null}var uB=function(t){function n(n,i){var r;return(r=t.call(this)||this).T7=void 0,r.lb=void 0,r.E7=null,r.S7=function(){return r.R7()},r.I7=[],r._y=[],r.N7=new rB([]),r.C7=null,r.T7=n,r.lb=i,r}U(n,t);var i=n.prototype;return i.D7=function(t){var n=t.metadata,i=n&&n.kY;if(!i||!i.length)return T.resolve();for(var r=[],e=n.WR,s=0;s<i.length;s++){var u=i[s],o=e+u.duration;r.push({WR:e,U_:u.duration,zR:o,tY:u.tY,dh:u}),e=o}var h={Xl:iB(t),WR:t.metadata.WR,h8:n.h8,F6:n.F6,O7:i[0].v3.KZ?new Date(i[0].v3.KZ.getTime()):null,U_:t.metadata.U_,zR:t.metadata.WR+t.metadata.U_,V6:n.V6,I6:n.I6,P4:n.P4,H1:n.H1,kY:r,qZ:t.metadata.qZ,q6:t.metadata.w3,y3:n.y3};return this.I7.push(h),this.x7(this.T7.D7(t),h)},i.x7=function(t,n){var i=this;return t.then(function(){if(je(i.I7,n)){i._y.push(n);var t=i.C7,r=sB(n,t);r&&(i.N7=eB(i.N7,r)),i.C7=r}i.R7(),i.P7(n)}).catch(function(){je(i.I7,n)})},i.P7=function(t){var n=t.kY[0],i=t.kY[t.kY.length-1],r=t.qZ,e=r.bY(n.tY-1),s=tD.bw(r.rJ);if(!e||s){var u=r.bY(n.tY),o=this.lb.B1(u).K_(),h=t.h8,a=l.min(o,h);a<n.WR&&this.T7.oM(a,n.WR)}for(var c=0,f=this._y;c<f.length;c++){var v=f[c];if(v.qZ===t.qZ){var d=v.kY[0],_=v.kY[v.kY.length-1];_.tY+1===n.tY&&_.zR!==n.WR?this.T7.oM(_.zR,n.WR):d.tY-1===i.tY&&i.zR!==d.WR&&this.T7.oM(i.zR,d.WR)}}},i.sh=function(){this.I7.length=0,this._y.length=0,this.N7=new rB([]),this.C7=null},i.R7=function(){if(this.B7&&!this.B7.mO){var t=this.B7._y||yO;t=function(t,n){for(var i=EO(t),r=0;r<i.length;r++){var e=i[r],s=n.I1(e.zR,nB);if(s>=0){var u=n.kY(s),o=u[u.length-1],h=o.xp.V6,a=o.xp.I6;h-nB<e.zR&&e.zR<a&&(e.zR=a)}}return new wO(i)}(t,this.N7),this._y=this._y.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.WR,n.zR)>=0}),this.N7=this.N7.iI(t)}},i.Lv=function(){this.Mo(),this.sh(),this.B7=null},i.L7=function(t){var n=this.M7(t);if(n)for(var i=0,r=n.kY;i<r.length;i++){var e=r[i];if(e.WR<=t&&e.zR>t)return e}return null},i.M7=function(t){for(var n=0,i=this._y;n<i.length;n++){var r=i[n];if(r.WR<=t&&r.zR>t)return r}return null},i.U7=function(t){for(var n=0,i=this._y;n<i.length;n++){var r=i[n];if(r.qZ.Xl===t.qZ.Xl)for(var e=0,s=r.kY;e<s.length;e++){if(s[e].tY===t.tY)return!0}}return!1},i.F7=function(){return this.H7()[0]},i.H7=function(){for(var t=this.N7,n=this.C7,i=0,r=this.I7;i<r.length;i++){var e=sB(r[i],n);e&&(t=eB(t,e)),n=e}return[t,n]},L(n,[{key:"Ol",get:function(){return this.I7.length+this._y.length}},{key:"B7",get:function(){return this.E7},set:function(t){this.E7&&this.E7.removeEventListener("updateend",this.S7),this.E7=t,this.E7&&(this.E7.addEventListener("updateend",this.S7),this.R7())}}]),n}(PC);function oB(t,n,i){!function(t,n,i){for(var r=i.c2,e=[],s=0;s<r.length;s++)for(var u=r[s],o=n.F1(t,u.mb._2).K_(),h=0,a=u.nH;h<a.length;h++){var c=a[h];e.push(new vI(o,c))}i.i_=e}(t,n,i)}function hB(t,n){return t&&n?l.abs(t.tY-n.tY)<=1?S_.pg:S_.mg(n.lp-t.lp,1e3):S_.pg}var aB=function(){function t(t,n,i,r,e){this.TY=void 0,this.P6=void 0,this.V7=void 0,this.X7=void 0,this.io=void 0,this.r6=void 0,this.vh=S_.pg,this.W7=!1,this.q7=null,this.TY=t,this.P6=t.qZ.kY.rY(n.tY),this.r6=this.P6,this.V7=i,this.X7=r,this.io=e||null}var n=t.prototype;return n.z7=function(){if(this.q7)return this.q7;var t=this.G7();return(t.j7||t.Qo)&&(this.q7=t),t},n.Q7=function(){return{j7:!1,Qo:!1,W7:this.W7,Qy:S_.sw}},n.j7=function(t){return t.dg()?{j7:!1,Qo:!0,W7:this.W7,Qy:S_.sw}:{j7:!0,Qo:!1,W7:this.W7,Qy:t}},t}();function cB(t,n){switch(n){case"AZ":return Cg(t.E4)?t.E4:t.QY;case"bZ":return Cg(t.R4)?t.R4:t.QY;default:return t.QY}}var fB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.G7=function(){var t=this.TY,n=t.qZ,i=n.kY,r=i.eY(this.r6);if(t.Cy(r)){if(this.X7&&t.Y7&&eD(r)){var e=cB(r,this.io),s=t.Z7(e,r.J7);return this.j7(s.fg(this.vh))}if(this.V7&&r===t.K7){var u=t.Yy.fg(sD(r));return this.j7(u.fg(this.vh))}this.r6+=1;var o=hB(r,i.eY(this.r6));return this.W7=this.W7||o.tg(S_.pg),this.vh=this.vh.vg(o).vg(sD(r)),this.Q7()}return this.j7(S_.sw)},n}(aB),vB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.G7=function(){var t=this.TY,n=t.qZ,i=n.kY,r=i.eY(this.r6);if(t.Cy(r)){if(this.X7&&t.Y7&&eD(r)){var e=cB(r,this.io),s=t.Z7(e,r.J7);return this.j7(s.vg(this.vh))}if(this.V7&&r===t.ttt){var u=t.Qy;return this.j7(u.vg(this.vh))}this.r6-=1;var o=i.eY(this.r6),h=hB(o,r);return this.W7=this.W7||h.tg(S_.pg),this.vh=this.vh.vg(h).vg(sD(o)),this.Q7()}return this.j7(S_.sw)},n}(aB);var dB=function(){function t(t,n,i){this.tY=void 0,this.qZ=void 0,this.Qy=S_.pg,this.Yy=S_.pg,this.ttt=null,this.K7=null,this.ntt=!1,this.itt=S_.sw,this.rtt=S_.sw,this.ett=!1,this.stt=void 0,this.tY=t,this.qZ=n,this.stt=i}var n=t.prototype;return n.Cy=function(t){return t&&t.pY===this.tY},n.Z7=function(t,n){var i=t.fg(this.itt).vg(this.rtt);if(void 0!==n){var r=i.fg(n);if(r.hg().tg(Ng)){var e=l.round(r.K_()/Ig.K_());i=i.fg(Ig.Hg(e))}}return i},n.utt=function(t,n){return this.ott(t),this.htt(n),this.att()||t===this.K7&&this.ctt()},n.ott=function(t){if(this.Y7&&R_(t.N4,this.itt)>=0)return!1;var n;if(n=this.Y7?this.ftt(t,!0,!1):this.dtt(t,!0,!1),this.itt.dg())this.itt=t.N4;else{var i=Pg(t.N4,this.itt);this.itt=this.itt.vg(i)}return this.rtt=n,!0},n.htt=function(t){if(!t)return!1;if(this.stt)return!1;if(!this.ltt())return!1;var n=this.qZ.kY,i=this.ttt,r=n.sY(i.tY-1);if(eD(i)&&eD(r)){var e=function(t,n,i){var r=t.F1(n,n._3);if(!Cg(i.I4)||!Cg(i.R4))return r;var e,s=Cg(i.E4),u=Og(i.R4,i.I4);if(s){var o=Dg(Og(i.R4,i.E4),S_.pg);e=Dg(Og(u,o),S_.pg)}else e=u;return Og(r,e)}(t,r,i);return this.ett=!0,this._tt(e)}return!1},n._tt=function(t){if(t.ug(this.Qy))return!1;var n=t.fg(this.Qy);return this.Qy=t,this.Yy=this.Yy.vg(n),this.rtt=this.rtt.vg(n),!0},n.att=function(){if(this.stt)return!1;var t=this.K7;if(!t)return!1;var n,i=new vB(this,t,!1,!0);do{n=i.z7()}while(!n.j7&&!n.Qo&&!n.W7);if(n.j7&&!n.W7){var r=n.Qy.vg(sD(t));if(!r.ug(this.Yy))return this.Yy=r,!0}return!1},n.gtt=function(t){var n=!1;return n=this.htt(t)||n,n=this.wtt(t)||n},n.wtt=function(t){if(!t)return!1;if(this.ett)return!1;var n=t.Yy.vg(hB(t.K7,this.ttt));return this._tt(n)},n.ytt=function(t){var n=!1;return(!this.ttt||this.ttt.tY>t.tY)&&(this.Qy=this.Qy.fg(hB(t,this.ttt)),this.ttt=t,n=!0),(!this.K7||this.K7.tY<t.tY)&&(this.Yy=this.Yy.vg(hB(this.K7,t)).vg(sD(t)),this.K7=t,n=!0),n},n.mtt=function(t){if(!this.Y7||!t.Y7)return S_.sw;if(this.itt.eg(t.itt)){var n=this.Z7(t.itt,t.rtt);return t.rtt.fg(n)}return t.Z7(this.itt,this.rtt).fg(this.rtt)},n.ltt=function(){var t=this.ttt;return!!t&&function(t,n){return n.pY===t&&n.TY}(this.tY,t)},n.ctt=function(){var t=this.K7;if(!t)return!1;var n=this.qZ.kY.sY(t.tY+1);return function(t,n,i){return n.pY===t&&(!i||i.TY)}(this.tY,t,n)},n.ktt=function(t,n){return this.ftt(t,!0,!0,n)},n.dtt=function(t,n,i){if(!this.Cy(t))return S_.sw;var r,e=new vB(this,t,n,i);do{r=e.z7()}while(!r.j7&&!r.Qo);if(!r.j7)return S_.sw;var s=r.Qy;return s.og(this.Qy)?this.Qy:s},n.ftt=function(t,n,i,r){if(!this.Cy(t))return S_.sw;var e,s,u,o,h,a=new fB(this,t,n,i,r),c=new vB(this,t,n,i,r);do{e=a.z7(),s=c.z7()}while(!(e.j7||s.j7||e.Qo&&s.Qo));if(s.j7)u=s,o=e,h=a;else{if(!e.j7)return S_.sw;u=e,o=s,h=c}if(u.Qy.og(this.Qy)){for(;!o.j7&&!o.Qo;)o=h.z7();return o.j7?S_.Zg(this.Qy,o.Qy):this.Qy}if(u.W7){for(;!o.W7&&!o.j7&&!o.Qo;)o=h.z7();if(o.j7&&!o.W7&&this.Qy.eg(o.Qy))return o.Qy}return u.Qy},n.F1=function(t,n){return this.Cy(t)&&this.Y7?this.Z7(n,t.J7):S_.sw},n.H7=function(){0},L(t,[{key:"Y7",get:function(){return!this.itt.dg()}}]),t}();function lB(t,n){return n.og(t.Qy)?e_.Y_:n.ig(t.Yy)?e_.Z_:e_.Q_}var _B=function(){function t(){this.ptt=new WC}var n=t.prototype;return n.sY=function(t){return this.ptt.sY(t)},n.eY=function(t){return this.ptt.eY(t)},n.Att=function(t){var n=this.ptt.rY(t);return n<0?null:this.ptt.eY(n-1)},n.z7=function(t){var n=this.ptt.rY(t);return n<0?null:this.ptt.eY(n+1)},n.btt=function(){return this.ptt.eY(0)},n.Ttt=function(){var t=this.ptt.Ol;return 0===t?null:this.ptt.eY(t-1)},n.Ett=function(t){var n=this.ptt,i=this.Ttt();if(i&&function(t,n){return t.Qy.eg(n)&&n.og(t.Yy)}(i,t))return i;var r=jS(this.ptt.hY(),t,R,lB);return n.eY(r)},n.vg=function(t){var n=this.ptt.vg(t);if(n&&!this.z7(t.tY)){t.ntt=!0;var i=this.Att(t.tY);i&&(i.ntt=!1)}return n},n.Ph=function(t){var n=this.ptt.Ph(t);if(n&&t.ntt){t.ntt=!1;var i=this.Att(t.tY);i&&(i.ntt=!0)}return n},n.fY=function(t){this.ptt.fY(t)},n.H7=function(){},L(t,[{key:"Ol",get:function(){return this.ptt.Ol}}]),t}();var gB=S_.ew(10),wB=function(){function t(t,n,i){this.qZ=void 0,this.Stt=!1,this.Rtt=!1,this.Itt=new _B,this.Ntt=S_.pg,this.Ctt=void 0,this.Dtt=null,this.Ott=null,this.stt=void 0,this.qZ=t,this.Ctt=n.liveOffset,this.stt=i}var n=t.prototype;return n.xtt=function(t){var n=this.qZ,i=t?t.fragments:null,r=n.kY;if(!t||!i||!i.length)return!1;this.Stt=!0;var e,s=!1;if(!this.Itt.Ol){var u=r.sY(i[0].tY).pY,o=new dB(u,n,this.stt);o._tt(this.vh),this.Itt.vg(o),s=!0}if(this.Ott){var h=r.rY(this.Ott.tY);e=h<0?0:h+1}else e=0;for(var a=e,c=r.eY(a),f=null,v=!1;c;){var d=c.pY;if(f&&f.tY===d||(f&&v&&this.Ptt(f),f=this.Itt.sY(d),s=s||v,v=!1),!f){f=new dB(d,n,this.stt),this.Itt.vg(f);var l=this.Itt.Att(d);f.gtt(l||void 0)}v=f.ytt(c)||v,c=r.eY(++a)}return f&&v&&this.Ptt(f),(s=s||v)&&this.Btt(),this.Itt.Ttt()&&this.BJ(n.kY),this.Dtt=r.sY(i[0].tY),this.Ott=r.sY(i[i.length-1].tY),s},n.utt=function(t){var n=this.Itt.sY(t.pY);if(!n)return!1;this.Rtt=!0;var i=this.Itt.Att(n.tY),r=n.utt(t,i);return r&&this.Ptt(n),r},n.Ptt=function(t){for(var n=t,i=this.Itt.z7(t.tY),r=!0;r&&i;)r=i.gtt(n),n=i,i=this.Itt.z7(i.tY)},n.Btt=function(){for(var t=!1,n=this.Itt.btt(),i=n&&this.Itt.z7(n.tY);n&&i;)n.Yy.tg(i.Qy)&&(i._tt(n.Yy),t=!0),n=i,i=this.Itt.z7(n.tY);return t},n.Ltt=function(t){var n=this.Itt.Ttt(),i=t.Itt.Ttt();if(!this.stt){if(n&&this.Mtt(t,n.tY))return!0;if(i&&this.Mtt(t,i.tY))return!0}return this.Utt?!(!n||!this.Ftt(t,n.tY))||(!(!i||!this.Ftt(t,i.tY))||(!(!n||!this.Htt(t,n.tY))||(!(!i||!this.Htt(t,i.tY))||this.Vtt(t)))):this.Xtt(t)},n.Xtt=function(t){var n=this.Itt.btt(),i=t.Itt.btt();return!(!n||!i)&&(this.hh(i.Qy.fg(n.Qy)),!0)},n.Mtt=function(t,n){var i=this.Itt.sY(n);if(!i||!i.Y7)return!1;var r=t.Itt.sY(n);return!(!r||!r.Y7)&&(this.hh(i.mtt(r)),!0)},n.Ftt=function(t,n){var i=this.Itt.sY(n);if(!i||!i.ltt())return!1;var r=t.Itt.sY(n);return!(!r||!r.ltt())&&(this.hh(r.Qy.fg(i.Qy)),!0)},n.Htt=function(t,n){var i=this.Itt.sY(n);if(!i)return!1;var r=this.Wtt(i.K7.tY);if(!r)return!1;var e=t.Itt.sY(n);if(!e)return!1;var s=t.Wtt(e.K7.tY);if(!s)return!1;var u=i.ktt(i.K7),o=e.ktt(e.K7),h=S_.aw(r).fg(S_.aw(s)),a=u.fg(o);return this.hh(h.fg(a)),!0},n.Vtt=function(t){if(!this.Rtt&&!t.Rtt)return!1;var n=this.Itt.Ttt(),i=t.Itt.Ttt();if(n&&n.K7&&i&&i.K7){var r=S_.mg(n.K7.lp-i.K7.lp,1e3),e=n.Yy.fg(i.Yy);return this.hh(r.fg(e)),!0}return!1},n.BJ=function(t){var n=this.Itt.Ttt();if(n)for(var i=n.Yy,r=t.Ol-1;r>=0;r--){var e=t.eY(r);if(i=i.fg(S_.ew(e.duration)),void 0!==e.J7){0;break}e.J7=i}},n.k7=function(t){var n=this.Itt.Ett(t);return n?n.tY:NaN},n.B1=function(t,n){var i=this.Itt.sY(t.pY);return i?i.ktt(t,n):S_.sw},n.L1=function(t,n){var i=this.qZ.kY.sY(t.tY+1);if(i){var r=this.B1(i);return r}return n.vg(function(t){if(!t)return S_.pg;if(!eD(t))return S_.ew(t.duration);var n=t.YY||S_.pg,i=t.ZY||S_.pg,r=S_.ew(t.duration);return n.Sg()||i.Sg()?n.Sg()?i.Sg()?r.Sg()?r:S_.pg:i:n:S_.Zg(n,i)}(t))},n.F1=function(t,n){var i=this.Itt.sY(t.pY);return i&&i.Y7?i.F1(t,n):S_.sw},n.M6=function(t,n){var i=this.qZ.kY;return i.Ol?function(t,n,i,r,e){var s,u,o=t.qZ.kY,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.B1(o.eY(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.og(f))return{xp:s=o.eY(c),qtt:f};if(n.ig(d)&&(s=o.eY(v)).w3)return{xp:s,qtt:d};for(;f.eg(n)&&n.eg(d);){var _=void 0,g=void 0,w=void 0;if(c===v?(_=c,g=f):(_=c+l.round(n.fg(f).K_()*(v-c)/d.fg(f).K_())||0,g=a(_)),g.tg(n))d=a(v=_-1);else{if(s=o.eY(_),!(w=(u=_)===r?a(u).vg(sD(o.eY(u))):a(u+1)).eg(n))return s&&n.eg(g.vg(sD(s)))?{xp:s,qtt:g}:(s=o.eY(_+1))&&{xp:s,qtt:w};c=_+1,f=w}}if(d.eg(n)){if((s=o.eY(v))&&n.eg(d.vg(sD(s))))return{xp:s,qtt:d};if(v<r&&(s=o.eY(v+1),d=a(v+1),s&&n.og(d)))return{xp:s,qtt:d}}return null}(this,t,0,i.Ol-1,n):null},n.Wtt=function(t){var n=this.qZ.kY,i=n.rY(t),r=n.eY(i),e=r,s=S_.pg;if(r.KZ)return r.KZ;for(var u=i-1;u>=0;u--){var o=n.eY(u);if(s=s.vg(sD(o)).vg(hB(o,e)),o.KZ)return new Date(o.KZ.getTime()+1e3*s.K_());e=o}return null},n.ztt=function(t){for(var n=this.qZ.kY,i=void 0,r=0;r<n.Ol;r++){var e=n.eY(r);if(e.KZ){if(!(e.KZ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return S_.sw;var s=S_.aw(t).fg(S_.aw(i.KZ));return this.B1(i).vg(s)},n.hh=function(t){if(!t.ug(S_.pg))for(var n=this.Itt.Ol,i=0;i<n;i++){var r=this.Itt.eY(i);r._tt(r.Qy.vg(t))}},n.g7=function(t){var n=this.Itt.sY(t);return n&&n.Y7},n.w7=function(t,n){if(this===t)return S_.pg;var i=this.Itt.sY(n),r=t.Itt.sY(n);return i&&r?i.mtt(r):S_.sw},n.H7=function(){0},L(t,[{key:"Utt",get:function(){var t=this.qZ.AY;return!!t&&t.live}},{key:"Gtt",get:function(){var t=this.qZ.AY;return!!t&&t.isEvent}},{key:"jtt",get:function(){var t=this.Dtt;return t?this.B1(t):S_.pg}},{key:"Qtt",get:function(){var t=this.Itt.Ttt();return t?t.Yy:S_.pg}},{key:"Ytt",get:function(){if(!this.Utt)return S_.pg;var t=this.Qtt.fg(this.Ztt);return S_.Zg(this.jtt,t)}},{key:"Ztt",get:function(){return this.Ctt&&S_.ew(this.Ctt)||this.Jtt.Hg(3)}},{key:"$tt",get:function(){return this.Utt&&this.Ott?S_.mg(Hb()-this.Ott.lp,1e3):S_.pg}},{key:"Jtt",get:function(){var t=this.qZ.AY;return t&&t.targetDuration?S_.ew(t.targetDuration):gB}},{key:"vh",get:function(){return this.Ntt},set:function(t){var n=t.fg(this.Ntt);this.Ntt=t,this.hh(n)}}]),t}(),yB=function(t){function n(n){var i;return(i=t.call(this)||this).Ktt=[],i.tnt={},i.nnt=null,i.int=null,i.Ntt=S_.pg,i.stt=void 0,i.rnt=void 0,i.rnt=n,i}U(n,t);var i=n.prototype;return i.ent=function(t){return t&&this.tnt[t.Xl]||null},i.snt=function(t){var n=this.ent(t);return n||((n=new wB(t,this.rnt,!!this.stt)).vh=this.Ntt,this.Ktt.push(n),this.tnt[t.Xl]=n),n},i.unt=function(t){var n;switch(null==(n=this.rnt.hls)?void 0:n.discontinuityAlignment){case LA.hC:return!0;case LA.aC:return!1;default:return t.isEvent||t.hasEnd}},i.xtt=function(t,n){void 0===this.stt&&(this.stt=this.unt(n));var i=this.ent(this.nnt),r=i?i.jtt:S_.pg,e=i?i.Qtt:S_.pg,s=this.snt(t),u=s.Stt,o=s.xtt(n);if(!u&&s.Stt&&(s.hh(this.ont(t)),o=!0),o=this.hnt(s)||o,this.ant(s,r,e)){var h=new MC(LC.ZQ,{code:"MFU0166"});this.dispatchEvent({type:"Qo",Qo:h})}else this.nnt=t,o&&this.dispatchEvent("MJ")},i.utt=function(t,n){if(eD(n)){0;var i=this.snt(t),r=i.utt(n);r=this.hnt(i)||r,this.int=t,r&&this.dispatchEvent("MJ")}},i.hnt=function(t){var n=!1,i=!1,r=this.ent(this.int);r&&(r===t?n=!0:i=(n=t.Ltt(r))||i);var e=this.ent(this.nnt);return e&&e!==t&&(i=n?e.Ltt(t)||i:t.Ltt(e)||i),i},i.ont=function(t){var n=this.ent(t),i=!n.Utt,r=t.AY&&t.AY.isEvent;return i||r?S_.pg:n.Jtt.Hg(3)},i.ant=function(t,n,i){if(!t.Utt)return!1;var r=t.jtt,e=t.Qtt,s=S_.Jg(e,i).fg(S_.Zg(r,n)),u=S_.Zg(t.Jtt.Hg(3),s.qg(2));return r.vg(u).og(n)},i.BJ=function(t,n){var i=this.ent(t)||this.ent(this.nnt);return i&&i.BJ(n)},i.k7=function(t){var n=this.nnt&&this.ent(this.nnt);return n?n.k7(t):NaN},i.cnt=function(t,n){var i=t.bY(n);return this.B1(i)},i.B1=function(t){if(!t)return S_.sw;var n=this.ent(t.qZ)||this.ent(this.nnt);return n?n.B1(t):S_.sw},i.L1=function(t,n){if(!t)return S_.sw;var i=this.ent(t.qZ)||this.ent(this.nnt);return i?i.L1(t,n):S_.sw},i.F1=function(t,n){if(!t||!n)return S_.sw;var i=this.ent(t.qZ)||this.ent(this.nnt);return i?i.F1(t,n):S_.sw},i.M6=function(t,n,i){var r=this.ent(t);if(!r)return null;var e=r.M6(n,i);return e?{xp:e.xp,qtt:e.qtt}:null},i.Wtt=function(t,n){var i=this.ent(t)||this.ent(this.nnt);return i?i.Wtt(n):null},i.ztt=function(t,n){var i=this.ent(t)||this.ent(this.nnt);return i?i.ztt(n):S_.sw},i.g7=function(t){return void 0!==this.fnt(t)},i.w7=function(t,n){if(this===t)return S_.pg;var i=this.fnt(n),r=t.fnt(n);return i&&r?i.w7(r,n):S_.sw},i.fnt=function(t){return ze(this.Ktt,function(n){return n.g7(t)})},i.Lv=function(){this.Mo(),this.Ktt.length=0,this.tnt={},this.nnt=null,this.int=null,this.Ntt=S_.pg},i.H7=function(){0},L(n,[{key:"vnt",get:function(){return this.jtt.fg(this.Jtt.Hg(3))}},{key:"Ztt",get:function(){var t=this.rnt.liveOffset;return S_.ew(t||3*this.Jtt.K_())}},{key:"Utt",get:function(){var t=this.ent(this.nnt);return!!t&&t.Utt}},{key:"Iy",get:function(){return this.nnt?new wO([{WR:this.jtt.K_(),zR:this.Qtt.K_()}]):yO}},{key:"jtt",get:function(){if(!this.nnt)return S_.pg;var t=this.ent(this.nnt);return t.Gtt?t.jtt:t.jtt.vg(t.$tt)}},{key:"Qtt",get:function(){if(!this.nnt)return S_.pg;var t=this.ent(this.nnt);return t.Qtt.vg(t.$tt)}},{key:"Ytt",get:function(){if(!this.nnt)return S_.pg;var t=this.ent(this.nnt);return t.Ytt.vg(t.$tt)}},{key:"Jtt",get:function(){return this.nnt?this.ent(this.nnt).Jtt:gB}},{key:"vh",get:function(){return this.Ntt},set:function(t){if(!this.Ntt.ug(t)){this.Ntt=t;for(var n=0,i=this.Ktt;n<i.length;n++){i[n].vh=t}this.dispatchEvent("MJ")}}}]),n}(PC),mB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ont=function(t){return S_.pg},n}(yB),kB=.25,pB=1/60;function AB(t,n){return v_(t,n,pB)}var bB,TB=function(t,n,i){this.qZ=void 0,this.Qy=void 0,this.U_=void 0,this.Yy=void 0,this.xp=void 0,this.dnt=NaN,this.lnt=NaN,this._nt=0,this.qZ=t.qZ,this.Qy=n,this.Yy=i,this.U_=i-n,this.xp=t},EB=function(t,n,i){this.qZ=void 0,this.Qy=void 0,this.U_=void 0,this.Yy=void 0,this.dnt=NaN,this.lnt=NaN,this._nt=0,this.qZ=t,this.Qy=n,this.Yy=i,this.U_=i-n};function SB(t){return!(!t||!t.xp)}function RB(t,n,i){return r=n,e=i,s=t.Qy,u=t.Yy,AB(r,u)<=0&&AB(s,e)<=0;var r,e,s,u}function IB(t,n){return AB(t.Qy,n)<=0?t.Yy:t.Qy}function NB(t,n,i){return(t-n)/i-kB}function CB(t,n){return n.fg(t).hI(t)}function DB(t,n){var i=l.min(pB,t.U_/2);return n.vI(t.Qy,t.Yy,i)}function OB(t,n){var i=n.E1(t);return-1===i?t:n.end(i)}function xB(t){return t.lnt<=t.dnt}function PB(t,n){if(!xB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r._nt+n.lnt>r.dnt)return!1}return!0}function BB(t,n){for(var i=0;i<t.length;i++){t[i]._nt+=n.lnt}n._nt=n.lnt,t.push(n)}!function(t){t[t.gnt=0]="gnt",t[t.wnt=1]="wnt",t[t.ynt=2]="ynt",t[t.v9=3]="v9"}(bB||(bB={}));var LB=function(){function t(t,n,i,r){this.Ep=void 0,this.lb=void 0,this.mnt=void 0,this.knt=void 0,this.pnt=void 0,this.C0=void 0,this.Ep=t,this.lb=n,this.mnt=i,this.knt=r,this.pnt=jD.je.e0,this.C0=jD.je.r0}var n=t.prototype;return n.Ant=function(){return this.mnt.kZ.reduce(function(t,n){return l.max(t,n.AY&&n.AY.targetDuration||0)},0)},n.bnt=function(t,n){void 0===n&&(n=this.lb.B1(t).K_());var i=this.lb.L1(t,S_.ew(n));return new TB(t,n,i.K_())},n.Tnt=function(t,n){var i=t.kY.eY(n);return i&&this.bnt(i)||null},n.Ent=function(t){var n=t.qZ,i=n.kY.rY(t.tY);return i>=0&&this.Tnt(n,i-1)||null},n.Snt=function(t){var n=t.qZ,i=n.kY.rY(t.tY);return i>=0&&this.Tnt(n,i+1)||null},n.Rnt=function(t,n){var i=this.lb.M6(t,S_.ew(n));return i&&this.bnt(i.xp,i.qtt.K_())||null},n.Int=function(t){var n=t.kY.Ol-1;return n>=0&&this.Tnt(t,n)||null},n.Nnt=function(t,n,i){var r=t.AY&&t.AY.targetDuration||this.Ant()||10,e=l.max(0,n-r),s=e+r;return i&&RB(i,e,s)&&(s=(e=i.Yy)+r),new EB(t,e,s)},n.Cnt=function(t,n,i){var r=this.knt.D5,e=.8*this.knt.O5,s=(n.bandwidth||0)*t.U_;return i&&i.PK?((s=8*i.Z0||s)-8*i.Y0)/e:r+s/e},n.Dnt=function(){for(var t=this.knt.o5(this.Ep),n=this.knt.F4(this.Ep),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Ont=function(t,n){var i=n.filter(function(n){return n.qZ===t});return FO(this.lb,i).D1()},n.xnt=function(t){return"audio"===this.Ep&&t?[t]:this.mnt.kZ},n.Pnt=function(t){for(var n=new UO([]),i=new UO([]),r=this.Dnt(),e={Bnt:{},Lnt:{},Mnt:{},Unt:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Ont(u,r),h=WO(this.lb,o);e.Bnt[u.Xl]=o,e.Lnt[u.Xl]=h,e.Mnt[u.Xl]=n=CB(n,o),e.Unt[u.Xl]=i=CB(i,h)}return e},n.Fnt=function(t,n,i,r,e){for(var s,u,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].Xl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({WR:d,zR:l})}return 0===(s=pO(s=kO(new wO(a)),new wO([{WR:t,zR:n}]))).length||AB(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,AB(u,t)<=0&&AB(h,o)<=0)?NaN:s.end(0)},n.Hnt=function(t,n,i){var r=null,e=i.Bnt[t.Xl],s=i.Mnt[t.Xl],u=i.Unt[t.Xl],o=s.E1(n);if(-1!==o){for(var h=l.max(n,s.start(o)),a=s.end(o),c=new wO([{WR:h,zR:a}]),f=s.iI(c).fg(u),v=0;v<f.length;v++){var d=f.start(v),_=f.kY(v)[0];if(_.xp.qZ===t){if(r=this.Ent(_.xp))return r}else{for(r=this.Rnt(t,d);r&&DB(r,e);)r=this.Ent(r.xp);if(r)return r}}var g=s.kY(o),w=g[g.length-1];if(w.xp.qZ===t&&(r=this.Snt(w.xp)))return r}var y=this.Int(t);if(!y||AB(y.Yy,n)<=0){if(!y||!y.xp.w3)return r=this.Nnt(t,n,y);r=y}for(r||(r=this.Rnt(t,n));r&&DB(r,s);)r=this.Snt(r.xp);return r},n.Vnt=function(t,n){var i=this.Int(t);return i&&i.xp.w3&&AB(i.Yy,n)<=0?i:this.Rnt(t,n)},n.Xnt=function(t,n,i,r,e,s,u,o){var h=t.qZ,a=u.Mnt[h.Xl],c=!DB(t,a),f=c?n:IB(t,r);t.dnt=NB(f,r,s),t.lnt=this.Cnt(t,h);var v=o&&this.bnt(o);if(v&&!DB(v,a)){var d=IB(v,r);if(v.dnt=NB(d,r,s),v.lnt=this.Cnt(v,h,i&&i.D0),xB(v)&&(!c||function(t,n){var i=[];return!!PB(i,n)&&(BB(i,n),!(!SB(t)||!SB(n)||t.xp!==n.xp)||!!PB(i,t))}(t,v)))return v}if(c&&!xB(t))return null;var l=this.Wnt(t,r,e,s,a);return l.length&&l[l.length-1]||null},n.Wnt=function(t,n,i,r,e){for(var s=[],u=t.qZ,o=t;o&&n<o.Yy&&i<=o.Qy;){if(!DB(o,e)){if(w(o.dnt)){var h=IB(o,n);o.dnt=NB(h,n,r),o.lnt=this.Cnt(o,u)}PB(s,o)&&BB(s,o)}o=SB(o)&&this.Ent(o.xp)}return s},n.qnt=function(t,n){return t.Qy<n?{ql:bB.ynt}:SB(t)?{ql:bB.gnt,xp:t.xp,Qy:t.Qy}:{ql:bB.wnt,qZ:t.qZ}},n.e5=function(t){if(rD(t.uri)){var n=t.uri,i=YD(n.GY,[n.jY.WR,n.jY.zR]);return this.C0.nh(i)}var r=YD(t.uri);return this.C0.nh(r)},n.znt=function(t){return this.pnt.nh(t.uri)},n.Gnt=function(){var t=T.coroutine($r.mark(function t(n,i,r,e,s,u,o,h,a){var c,f,v,d,l,_,g,y,m,k,p,A,b;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.xnt(e),f=this.Pnt(c),v=this.lb.vnt.K_(),d=this.Fnt(n,i,s,c,f.Lnt),g=null,m=!1,!w(d)){t.next=3;break}return t.abrupt("return",{ql:bB.v9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{ql:bB.ynt});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=OB(d,f.Lnt[l.Xl]),!(g=this.Hnt(l,_,f))){t.next=24;break}if(p=!1,!SB(g)){t.next=18;break}return t.next=15,this.e5(g.xp);case 15:p=t.sent,t.next=22;break;case 18:if(l.sJ){t.next=22;break}return t.next=21,this.znt(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.qnt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+kB&&a.length)){t.next=33;break}if(l=a[0],_=OB(d,f.Lnt[l.Xl]),!(g=this.Hnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.qnt(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=OB(d,f.Lnt[l.Xl]),(g=this.Hnt(l,_,f))?y=g:(m=!0,y=this.Vnt(l,_)),!y){t.next=45;break}if(!(b=this.Xnt(y,_,u,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.qnt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{ql:bB.v9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.qnt(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{ql:bB.v9});case 54:if(l=h[0],_=OB(d,f.Lnt[l.Xl]),!(g=this.Hnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.qnt(g,v));case 61:return t.abrupt("return",{ql:bB.v9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),MB=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).jnt=i,o.Qnt=r,o.PA=e,o.Ep=s,o.Ov=u,o}return U(n,t),n}(As),UB=function(t){function n(n,i,r,e,s){return t.call(this,qo.gc,n,i,r,e,s)||this}return U(n,t),n}(MB),FB=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,qo.yc,n,i,r,e,s)||this).Ynt=u,h.by=o,h}return U(n,t),n}(MB),HB=S_.ew(.1);function VB(t,n){return(t.y6===n.y6?R_(t._2,n._2):R_(t.Znt,n.Znt))||c_(t.PA,n.PA)}var XB,WB=function(){function t(){}return t.Jnt=function(t,n,i){if(!(n>=i)){var r=Ke(t,function(t,n){return new QN(t.map(function(t){return t?t.$nt():null}),n).bz()});if(0!==r.length)return new JN(n,i,r)}},t}(),qB="black",zB="white",GB=function(){function t(t,n){this.Knt=void 0,this.tit=void 0,this.nit=void 0,this.iit=void 0,this.rit=void 0,this.eit=void 0,this.sit=void 0,this.uit=void 0,this.oit=void 0,this.Knt=new Array(jB+1);for(var i=0;i<=jB;i++)this.Knt[i]=new FN;this.tit=1,this.nit=0,this.iit=t,this.rit=n,this.eit=!1,this.sit=!1,this.uit=zB,this.oit=qB,this.Cl()}var n=t.prototype;return n.hit=function(t,n){var i="CC"+(this.iit<<1|this.rit+1);if(t>=n)return null;var r=(new jN).az(this.Knt.slice(1));return 0===r.length?null:{jy:new JN(t,n,r),zf:i,Dz:this.iit<<1|this.rit+1}},n.Cl=function(){this.ait(),this.tit=1},n.cit=function(){return this.tit},n.fit=function(t){this.tit=t},n.Wq=function(t){this.Knt[this.tit].Wq(t)},n.qq=function(t){this.Knt[this.tit].qq(t)},n.vit=function(){return this.nit},n.dit=function(t){this.nit=t},n.Gq=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case XB.lit:i=void 0!==YB[n]?YB[n]:String.fromCharCode(n);break;case XB._it:i=ZB[n];break;case XB.git:this.wit(),i=JB[n];break;case XB.yit:this.wit(),i=$B[n]}i&&this.Knt[this.tit].addParsedChar(i)}},n.wit=function(){this.Knt[this.tit].zq()},n.mit=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.Knt[t+r]=this.Knt[n+r];else for(var e=0;e<i;e++)this.Knt[t+e]=this.Knt[n+e]},n.kit=function(t,n){for(var i=0;i<=n;i++)this.Knt[t+i]=new FN},n.ait=function(){this.kit(0,jB)},n.pit=function(){this.tit=this.nit>0?this.nit:0,this.ait()},n.Ait=function(t){this.eit=t},n.bit=function(t){this.sit=t},n.Tit=function(t){this.uit=t},n.Eit=function(t){this.oit=t},t}(),jB=15;!function(t){t[t.lit=0]="lit",t[t._it=1]="_it",t[t.git=2]="git",t[t.yit=3]="yit"}(XB||(XB={}));var QB,YB={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},ZB={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},JB={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},$B={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},KB=function(){function t(t,n){this.xs=void 0,this.Sit=void 0,this.Rit=void 0,this.Iit=void 0,this.Nit=void 0,this.Cit=void 0,this.Dit=void 0,this.Oit=void 0,this.xs=QB.RR,this.Sit=new GB(t,n),this.Rit=new GB(t,n),this.Iit=new GB(t,n),this.Nit=this.Rit,this.Cit=0,this.Dit=void 0,this.Oit=!1}var n=t.prototype;return n.Cl=function(){this.Oit=!0,this.Cit=0,this.xs=QB.RR,this.Nit=this.Rit,this.Dit=void 0,this.Rit.Cl(),this.Iit.Cl(),this.Sit.Cl()},n.xit=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Pit=function(t,n){var i=this.xit(t,n),r=(30&n)>>1,e=zB,s=!1;r<7?e=rL[r]:7===r&&(s=!0);var u=1==(1&n);if(this.xs!==QB.Je){var o=this.Nit;if(this.xs===QB.Bit&&i!==o.cit()){var h=1+o.cit()-o.vit(),a=1+i-o.vit();o.mit(a,h,o.vit()),o.kit(0,a-1),o.kit(i+1,jB-i)}o.fit(i);var c=eC[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=sC.yG(c,n);o.Wq(f.oz),this.Nit.Ait(u),this.Nit.bit(s),this.Nit.Tit(e),this.Nit.Eit(qB)}}},n.Lit=function(t,n){this.Nit.Ait(!1),this.Nit.bit(!1),this.Nit.Tit(zB);var i=this.Mit(t,XB.lit," ".charCodeAt(0)),r=zB,e=!1,s=1==(1&n);return"white_italics"===(r=rL[(14&n)>>1])&&(r="white",e=!0),this.Nit.Ait(s),this.Nit.bit(e),this.Nit.Tit(r),i},n.Mit=function(t,n,i){if(this.Nit.Gq(n,i),this.xs===QB.Uit||this.xs===QB.Bit){var r=this.Fit(this.Nit,this.Cit,t);return this.Cit=t,r}return null},n.Fit=function(t,n,i){return this.Oit?null:t.hit(n,i)},n.Hit=function(t,n){var i=qB;0==(7&t)&&(i=iL[(14&n)>>1]),this.Nit.Eit(i)},n.Vit=function(t){var n=tL,i=t.Xit,r=t.e6,e=null;switch(i){case n.RCL:this.Wit();break;case n.BS:this.qit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.zit(2,r);break;case n.RU3:e=this.zit(3,r);break;case n.RU4:e=this.zit(4,r);break;case n.FON:e=this.Git(r);break;case n.RDC:this.jit(r);break;case n.TR:this.Qit();break;case n.RTD:this.Yit();break;case n.EDM:e=this.Zit(r);break;case n.CR:e=this.Jit(r);break;case n.ENM:this.$it();break;case n.EOC:e=this.Kit(r)}return e},n.Jit=function(t){var n=this.Nit;if(this.xs!==QB.Bit)return null;var i=this.Fit(n,this.Cit,t),r=n.cit()-n.vit()+1;return n.mit(r-1,r,n.vit()),n.kit(0,r-1),n.kit(n.cit(),jB-n.cit()),this.Cit=t,i},n.zit=function(t,n){this.Nit=this.Rit;var i=this.Nit,r=null;return this.xs!==QB.Bit&&this.xs!==QB.Je&&(r=this.Fit(i,this.Cit,n),this.Rit.pit(),this.Iit.pit(),this.Oit=!1,i.fit(jB)),this.xs=QB.Bit,i.dit(t),r},n.Git=function(t){return this.Mit(t,XB.lit," ".charCodeAt(0))},n.Zit=function(t){var n=this.Rit,i=null;return this.xs!==QB.Je&&(i=this.Fit(n,this.Cit,t)),n.ait(),this.Oit=!1,i},n.jit=function(t){this.xs=QB.Uit,this.Nit=this.Rit,this.Nit.dit(0),this.Cit=t},n.$it=function(){this.Iit.ait()},n.Kit=function(t){var n=null;this.xs!==QB.Je&&(n=this.Fit(this.Rit,this.Cit,t));var i=this.Iit;return this.Iit=this.Rit,this.Rit=i,this.Wit(),this.Cit=t,n},n.Wit=function(){this.xs=QB.trt,this.Nit=this.Iit,this.Nit.dit(0)},n.qit=function(){this.Nit.wit()},n.Qit=function(){this.Sit.Cl(),this.Oit=!1,this.Yit()},n.Yit=function(){this.Nit=this.Sit,this.xs=QB.Je},n.nrt=function(t,n,i){return this.Nit.Gq(XB.lit,n),this.Mit(t,XB.lit,i)},n.irt=function(t,n,i){var r=1&n?XB.yit:XB.git;return this.Mit(t,r,i)},n.rrt=function(t){var n=t.ert,i=t.Xit,r=t.e6;if(this.Dit===(n<<8|i))return this.Dit=void 0,null;if(this.Dit=n<<8|i,this.urt(n,i))this.Pit(n,i);else{if(this.ort(n,i))return this.Lit(r,i);if(this.hrt(n,i))this.Hit(n,i);else{if(this.art(n,i))return this.Mit(r,XB._it,i);if(this.crt(n,i))return this.irt(r,n,i);if(this.frt(n,i))return this.Vit(t);this.isTabOffset(n)&&this.Nit.qq(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.frt=function(t,n){return 20==(246&t)&&32==(240&n)},n.urt=function(t,n){return 16==(240&t)&&64==(192&n)},n.ort=function(t,n){return 17==(247&t)&&32==(240&n)},n.hrt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.art=function(t,n){return 17==(247&t)&&48==(240&n)},n.crt=function(t,n){return 18==(246&t)&&32==(224&n)},t.vrt=function(t){return 16==(112&t)},t}(),tL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.RR=0]="RR",t[t.trt=1]="trt",t[t.Uit=2]="Uit",t[t.Bit=3]="Bit",t[t.Je=4]="Je"}(QB||(QB={}));var nL,iL=["black","green","blue","cyan","red","yellow","magenta","black"],rL=["white","green","blue","cyan","red","yellow","magenta","white_italics"],eL=function(){function t(t,n,i,r,e){this.drt=void 0,this.eit=void 0,this.sit=void 0,this.oit=void 0,this.uit=void 0,this.drt=t,this.eit=n,this.sit=i,this.oit=r,this.uit=e}var n=t.prototype;return n.$nt=function(){return this.drt},n.lrt=function(){return this.eit},n._rt=function(){return this.sit},n.grt=function(){return this.oit},n.wrt=function(){return this.uit},t}(),sL=function(){function t(t){this.yrt=void 0,this.PR=void 0,this.mrt=void 0,this.krt=void 0,this.prt=void 0,this.Art=void 0,this.brt=void 0,this.Trt=void 0,this.Ert=void 0,this.Srt=void 0,this.um=void 0,this.tit=void 0,this.Rrt=void 0,this.sit=void 0,this.eit=void 0,this.uit=void 0,this.oit=void 0,this.yrt=t,this.PR=!1,this.mrt=!1,this.krt=0,this.prt=0,this.Art=0,this.brt=0,this.Trt=0,this.Ert=nL.Irt,this.Srt=[],this.um=0,this.tit=0,this.Rrt=0,this.sit=!1,this.eit=!1,this.uit=zB,this.oit=qB,this.Nrt()}var n=t.prototype;return n.Crt=function(t,n,i,r,e,s,u){this.PR=t,this.prt=n,this.krt=i,this.Art=r,this.mrt=e,this.brt=s,this.Trt=u},n.Nrt=function(){this.Srt=[];for(var t=0;t<oL;t++)this.Srt.push(this.Drt())},n.Drt=function(){for(var t=[],n=0;n<uL;n++)t.push(null);return t},n.Ort=function(t){this.xrt()&&(this.Srt[this.tit][this.Rrt]=new eL(t,this.eit,this.sit,this.oit,this.uit),this.Rrt++)},n.iz=function(){this.xrt()&&(this.Rrt<=0&&this.tit<=0||(this.Rrt<=0?(this.Rrt=this.Trt-1,this.tit--):this.Rrt--,this.Srt[this.tit][this.Rrt]=null))},n.xrt=function(){var t=this.tit<this.brt&&this.tit>=0,n=this.Rrt<this.Trt&&this.Rrt>=0;return t&&n},n.Prt=function(){return this.PR},n.Brt=function(t){for(var n=0,i=t;i<oL;i++,n++)this.Srt[n]=this.Srt[i];for(var r=0;r<t;r++,n++)this.Srt[n]=this.Drt()},n.Lrt=function(){if(this.tit+1>=this.brt)return this.Brt(1),void(this.Rrt=0);this.tit++,this.Rrt=0},n.Mrt=function(){this.Srt[this.tit]=this.Drt(),this.Rrt=0},n.hit=function(t,n){if(this.um>=t)return null;var i=WB.Jnt(this.Srt,this.um,t);return i?(this._tt(t),{jy:i,zf:"svc"+n,Dz:n}):null},n.Urt=function(t,n){this.tit=t,this.Rrt=n},n.Frt=function(t){this.oit=t},n.Hrt=function(t){this.uit=t},n.Vrt=function(t){this.eit=t},n.Xrt=function(t){this.sit=t},n.Wrt=function(){this.tit=0,this.Rrt=0,this.eit=!1,this.sit=!1,this.uit=zB,this.oit=qB},n.qrt=function(t){this.Ert=t},n.zrt=function(){this.PR=!0},n.iy=function(){this.PR=!1},n.Grt=function(){this.PR=!this.PR},n._tt=function(t){this.um=t},t}();!function(t){t[t.jrt=0]="jrt",t[t.Qrt=1]="Qrt",t[t.Irt=2]="Irt",t[t.Yrt=3]="Yrt"}(nL||(nL={}));var uL=42,oL=15,hL=function(){function t(t){this.Zrt=void 0,this.Jrt=void 0,this.$rt=void 0,this.Zrt=t,this.Jrt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.$rt=void 0}var n=t.prototype;return n.Krt=function(t){var n=t.tet(),i=n.fs,r=n.e6;i===dL&&(i=i<<16|t.tet().fs);return i>=0&&i<=31?this.net(i,r):i>=128&&i<=159?this.iet(t,i,r):(i>=4096&&i<=4127?this.ret(t,255&i):i>=4224&&i<=4255?this.eet(t,255&i):i>=32&&i<=127?this.uet(i):i>=160&&i<=255?this.oet(i):i>=4128&&i<=4223?this.het(255&i):i>=4256&&i<=4351&&this.aet(255&i),null)},n.uet=function(t){this.$rt&&(127!==t?this.$rt.Ort(String.fromCharCode(t)):this.$rt.Ort("\u266a"))},n.oet=function(t){this.$rt&&this.$rt.Ort(String.fromCharCode(t))},n.het=function(t){if(this.$rt)if(void 0!==lL[t]){var n=lL[t];this.$rt.Ort(n)}else this.$rt.Ort("_")},n.aet=function(t){this.$rt&&(160===t?this.$rt.Ort("[CC]"):this.$rt.Ort("_"))},n.net=function(t,n){if(!this.$rt)return null;var i=this.$rt,r=null;switch(t){case aL:i.iz();break;case fL:i.Prt()&&(r=i.hit(n,this.Zrt)),i.Lrt();break;case vL:i.Prt()&&(r=i.hit(n,this.Zrt)),i.Mrt();break;case cL:i.Prt()&&(r=i.hit(n,this.Zrt)),i.Nrt(),i.Urt(0,0)}return r},n.iet=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.cet(r)}else{if(136===n){var e=t.tet().fs;return this.fet(e,i)}if(137===n){var s=t.tet().fs;this.vet(s,i)}else{if(138===n){var u=t.tet().fs;return this.det(u,i)}if(139===n){var o=t.tet().fs;return this.let(o,i)}if(140===n){var h=t.tet().fs;return this._et(h,i)}if(143===n)return this.Cl(i);if(144===n)this.wet(t);else if(145===n)this.yet(t);else if(146===n)this.Urt(t);else if(151===n)this.met(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Crt(t,a,i)}}}return null},n.ret=function(t,n){n>=8&&n<=15?t.xk(1):n>=16&&n<=23?t.xk(2):n>=24&&n<=31&&t.xk(3)},n.eet=function(t,n){n>=128&&n<=135?t.xk(4):n>=136&&n<=143&&t.xk(5)},n.cet=function(t){this.Jrt[t]&&(this.$rt=this.Jrt[t])},n.ket=$r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Jrt[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.fet=function(t,n){for(var i=null,r=0,e=this.ket(t);r<e.length;r++){var s=e[r],u=this.Jrt[s];u.Prt()&&(i=u.hit(n,this.Zrt)),u.Nrt()}return i},n.vet=function(t,n){for(var i=0,r=this.ket(t);i<r.length;i++){var e=r[i],s=this.Jrt[e];s.Prt()||s._tt(n),s.zrt()}},n.det=function(t,n){for(var i=null,r=0,e=this.ket(t);r<e.length;r++){var s=e[r],u=this.Jrt[s];u.Prt()&&(i=u.hit(n,this.Zrt)),u.iy()}return i},n.let=function(t,n){for(var i=null,r=0,e=this.ket(t);r<e.length;r++){var s=e[r],u=this.Jrt[s];u.Prt()?i=u.hit(n,this.Zrt):u._tt(n),u.Grt()}return i},n._et=function(t,n){for(var i=null,r=0,e=this.ket(t);r<e.length;r++){var s=e[r],u=this.Jrt[s];u.Prt()&&(i=u.hit(n,this.Zrt)),this.Jrt[s]=void 0}return i},n.Cl=function(t){var n=this._et(255,t);return this.sh(),n},n.sh=function(){this.$rt=void 0,this.Jrt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.wet=function(t){t.xk(1);var n=t.tet().fs;if(this.$rt){var i=(128&n)>0,r=(64&n)>0;this.$rt.Xrt(i),this.$rt.Vrt(r)}},n.yet=function(t){var n=t.tet().fs,i=t.tet().fs;if(t.xk(1),this.$rt){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.pet(s,e,r),c=this.pet(h,o,u);this.$rt.Hrt(a),this.$rt.Frt(c)}},n.Urt=function(t){var n=t.tet().fs,i=t.tet().fs;if(this.$rt){var r=15&n,e=63&i;this.$rt.Urt(r,e)}},n.met=function(t){t.xk(1),t.xk(1);var n=t.tet().fs;if(t.xk(1),this.$rt){var i=3&n;this.$rt.qrt(i)}},n.Crt=function(t,n,i){var r=void 0!==this.Jrt[n];if(!r){var e=new sL(n);e._tt(i),this.Jrt[n]=e}var s=t.tet().fs,u=t.tet().fs,o=t.tet().fs,h=t.tet().fs,a=t.tet().fs,c=t.tet().fs,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);r&&0===(7&c)||this.Jrt[n].Wrt(),this.Jrt[n].Crt(f,v,l,g,d,_,w),this.$rt=this.Jrt[n]},n.pet=function(t,n,i){var r={0:0,1:0,2:1,3:1};return _L[r[t]<<2|r[n]<<1|r[i]]},t}(),aL=8,cL=12,fL=13,vL=14,dL=16,lL={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},_L=["black","blue","green","cyan","red","magenta","yellow","white"],gL=function(){function t(){this.Aet=void 0,this.bet=void 0,this.Tet=void 0,this.Aet=[],this.bet=null,this.Tet=0}var n=t.prototype;return n.Eet=function(t){if(t.io===kN.Mq){var n=63&t.fs;return this.Tet=2*n-1,void(this.bet=[])}if(this.bet&&(this.Tet>0&&(this.bet.push(t),this.Tet--),0===this.Tet)){var i=new wL(this.bet);this.Aet.push(i),this.bet=null,this.Tet=0}},n.Ret=function(){return this.Aet},n.Iet=function(){this.Aet=[]},n.sh=function(){this.Aet=[],this.bet=[],this.Tet=0},t}(),wL=function(){function t(t){this.Net=void 0,this.Cet=void 0,this.Net=0,this.Cet=t}var i=t.prototype;return i.Det=function(){return this.Net<this.Cet.length},i.Oet=function(){return this.Net},i.tet=function(){if(!this.Det())throw new To(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Cet[this.Net++]},i.xk=function(t){if(this.Net+t>this.Cet.length)throw new To(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Net+=t},t}(),yL=function(){function t(){this.xet=void 0,this.Pet=void 0,this.Bet=void 0,this.Let=void 0,this.Met=void 0,this.Uet=void 0,this.Fet=void 0,this.Het=void 0,this.Vet=!1,this.xet=[],this.Pet=[],this.Bet=new gL,this.Let=0,this.Met=re({CC1:new KB(0,0),CC2:new KB(0,1),CC3:new KB(1,0),CC4:new KB(1,1)}),this.Uet=0,this.Fet=0,this.Het=ie(),this.Cl()}var i=t.prototype;return i.sh=function(){this.Let=0,this.xet=[],this.Pet=[],this.Bet.sh(),this.Cl(),this.Het.forEach(function(t){t.sh()})},i.Cl=function(){this.Uet=0,this.Fet=0,this.Met.forEach(function(t){t.Cl()})},i.D3=function(t,n){if(t.cG){var i=t.vG,r=t.dG,e=t.io;e===kN.Pq||e===kN.Bq?this.xet.push({e6:n,io:e,ert:i,Xit:r,Xet:this.xet.length}):this.Vet&&(this.Pet.push({e6:n,io:e,fs:i,Xet:this.Pet.length}),this.Pet.push({e6:n,io:kN.Lq,fs:r,Xet:this.Pet.length}))}},i.vC=function(){var t=[];Ve(this.xet,function(t,n){return t.e6-n.e6||t.Xet-n.Xet}),Ve(this.Pet,function(t,n){return t.e6-n.e6||t.Xet-n.Xet});for(var n=0,i=this.xet;n<i.length;n++){var r=i[n],e=this.Wet(r);e&&t.push(e)}for(var s=0,u=this.Pet;s<u.length;s++){var o=u[s];this.Bet.Eet(o)}for(var h=this.Bet.Ret(),a=0;a<h.length;a++){var c=h[a],f=this.qet(c);t.push.apply(t,f)}return this.Bet.Iet(),this.xet=[],this.Pet=[],t},i.Wet=function(t){var n=t.io;if(KB.vrt(t.ert)){var i=t.ert>>3&1;0===n?this.Uet=i:this.Fet=i}var r="CC"+(n<<1|(n?this.Fet:this.Uet)+1),e=this.Met.get(r);return 255===t.ert&&255===t.Xit||!t.ert&&!t.Xit||!this.zet(t.ert)||!this.zet(t.Xit)?(++this.Let>=45&&this.Cl(),null):(this.Let=0,t.ert&=127,t.Xit&=127,t.ert||t.Xit?KB.vrt(t.ert)?e.rrt(t):e.nrt(t.e6,t.ert,t.Xit):null)},i.qet=function(t){var i=[];try{for(;t.Det();){var r=t.tet().fs,e=(224&r)>>5,s=31&r;if(7===e&&0!==s)e=63&t.tet().fs;if(0!==e){if(!this.Het.has(e)){var u=new hL(e);this.Het.set(e,u)}for(var o=this.Het.get(e),h=t.Oet();t.Oet()-h<s;){var a=o.Krt(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof To&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.zet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),mL=function(t){function n(n){var i;return(i=t.call(this)||this).DJ=void 0,i.Get=[],i.DJ=n,i}U(n,t);var i=n.prototype;return i.jet=function(t,n,i){var r=this.Qet(t),e=this.Yet(r);this.Zet(e,n,i),this.vC()},i.Qet=function(t){if(0===t.length)return[];for(var n=t[0].y6,i=this.Jet(t[0]),r=[],e=0;e<t.length;e++){var s=t[e];n!==s.y6&&(n=s.y6,i=this.Jet(s)),r.push(Kr({},s,{Znt:s._2.vg(i)}))}return r},i.Jet=function(t){var n=this.DJ.F1(t.y6,t._2),i=n.fg(t._2);return Pg(n,t._2).fg(i)},i.Yet=function(t){var n,i,r,e,s,u=t.slice().sort(VB),o=this.Get;if(o.length)if(u.length){var h=1/u[0].y6.CJ,a=u[0].Znt,c=o[0].Znt,f=o[o.length-1].Znt,v=(e=o[0].y6,s=u[0].y6,e.qZ===s.qZ);if(f.fg(a).og(S_.ew(2.5*h))&&v)n=o.concat(u).sort(VB);else if(a.ig(c)){for(var d=0;d<o.length&&o[d].Znt.og(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],r=u[w],i._2.ug(r._2)&&i.io===r.io&&i.vG===r.dG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(VB):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Cl())}else n=u,this.Cl()}else n=o;else n=u;return n},i.Zet=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.fg(r.Znt),s=Pg(n,r.Znt).fg(e),u=n.vg(s),o=HB.$g(u.jg),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.fg(a.Znt).og(o))return void(this.Get=t.slice(h));var c=this.DJ.F1(a.y6,a._2);this.aG(a,c.K_())}this.Get=[]}},L(n,[{key:"$p",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).$et=void 0,n.$et=new yL,n}U(n,t);var i=n.prototype;return i.aG=function(t,n){this.$et.D3(t,n)},i.vC=function(){for(var t=this.$et.vC(),n=0;n<t.length;n++){var i=t[n];this.xo(new $N(i.Dz,i.jy))}},i.Cl=function(){this.$et.sh()},i.Lv=function(){this.Mo(),this.$et.sh()},n}(ks)),kL=function(t){function n(n,i,r,e,s,u,o,h,a,c){var f;return(f=t.call(this)||this).Ket=!1,f.tst=!1,f.X4=void 0,f.aK=void 0,f.nst=void 0,f.knt=void 0,f.ist=void 0,f.T7=void 0,f.Wh=void 0,f.lb=void 0,f.rst=void 0,f.est=!1,f.sst=void 0,f.ust=void 0,f.ost=!1,f.hst=!1,f.ast=null,f.HI=void 0,f.XJ=void 0,f.cst=void 0,f.fst=null,f.Yy=-1,f.vst=null,f.dst=!1,f.lst=!1,f._st=1/0,f.gst=void 0,f.wst=null,f.yst=0,f.mst=void 0,f.Oo=function(t){f.dispatchEvent(t)},f.kst=function(){!f.est&&!f.ost&&f.pst&&f.Ket&&(f.ost=f.Ast("AZ",f.sst,function(){f.ost=!1}))},f.bst=function(){!f.est&&!f.hst&&f.Tst&&f.tst&&(f.hst=f.Ast("bZ",f.ust,function(){f.hst=!1}))},f.Est=function(t){return f.Sst()},f.Rst=function(t){if(t.Ep===f.Ep){var n=t.y6,i=n.f3;i.s2&&f.Ist(i.s2,n.info),i.f2&&f.Nst(i.f2,n.info),f.Sst(f.X4.Y4,!0)}},f.O$=function(t){var n=t;f.Cst(n.IJ,n.qZ)},f.Dst=function(t){if(1===t.Dz){if(f.fst)for(var n=0;n<f.fst.$p;n++){var i="CC"+(n+1);f.aK.u$(i,t.jy.Qy,t.jy.Yy)}f.aK.s$(t.jy)}},f.HI=a,f.aK=i,f.nst=r,f.knt=e,f.ist=s,f.T7=u,f.Wh=o,f.X4=c,f.lb=new yB(o),f.rst=f.Ost(i),e.Rl(n,f.lb,f.T7),f.sst=new uB(u,f.lb),f.ust=new uB(u,f.lb),f.fst=f.xst(f.lb),f.mst=new LB(n,f.lb,f.rst,e),e.addEventListener("w6",f.Rst),f.lb.addEventListener("Qo",f.Oo),i.addEventListener("m$",f.O$),f}U(n,t);var i=n.prototype;return i.Ast=function(t,n,i){var r=this,e=this.T7.K4,s=5*this.T7.W_,u=this.Pst(),o="audio"===this.Ep?[this.Bst]:this.rst.kZ,h=n.H7(),a=h[0],c=h[1],f=this.knt.W6(this.Ep,t,this.lb,o,a,c||void 0,e,s,u);return f&&!f.length&&f.C6?(this.T7.Lst("AZ"===t,"bZ"===t),!1):!(!f||!f.length)&&(this.ist.I9(this.Ep,this.aK,f,f.D6,f.F6,f.C6,function(t,e){if(i(),t)r.dispatchEvent({type:"Qo",Qo:t});else{var s=e;n.D7(s).then(function(){return r.dispatchEvent("yK")}).catch(function(t){0})}}),!0)},i.Mst=function(){this.ist.Eo(this.Ep),this.ost=!1,this.hst=!1},i.Ust=function(){var t=this.T7.K4,n=this.sst.L7(t)||this.ust.L7(t);!n||this.ast&&this.ast.tY===n.tY||(this.Sst(this.X4.Y4),this.ast=n,this.dispatchEvent({type:"Fst",mb:this.ast.dh.v3}))},i.Hst=function(){this.Vst()},i.Xst=function(){this.Hst()},i.Wst=function(){this.Sst(this.X4.Y4)},i.qst=function(t,n){this.sst.L7(t)||this.ust.L7(t)||(this.ast=null)},i.zst=function(t){var n=!1;this.sst.F7().Cy(t)||(this.kst(),n=!0),this.ust.F7().Cy(t)||(this.bst(),n=!0),n&&this.Sst(this.X4.Y4,!0)},i.Gst=function(){this.sst.sh()},i.jst=function(){this.ust.sh()},i.Pst=function(){return 0===this.sst.Ol+this.ust.Ol?0:"E6"===this.Wh.S6?0:1*this.knt.Z4},i.Vst=function(){this.kst(),this.bst()},i.eK=function(t){return-1!==this.rst.kZ.indexOf(t)},i.Qst=function(t){t&&this.eK(t)&&(this.PJ(t),this.w$(t))},i.PJ=function(t){this.lb.xtt(t,t.AY)},i.w$=function(t){var n=this;if(t&&t.AY&&this.Wh.hlsDateRange){this.aK.w$(t.AY.dateRanges,function(i){return n.lb.ztt(t,i).K_()})}},i.Yst=function(t){this.eK(t.qZ)&&this.lb.utt(t.qZ,t)},i.Zst=function(t){var n,i,r,e=t,s=this.sst.L7(e)||this.ust.L7(e);if(s)i=s.dh.quality,r=s.tY,n=s.WR;else{var u=this.Bst;if(!u)return null;var o=this.lb.M6(u,S_.ew(e));if(!o)return null;i=u,r=o.xp.tY,n=o.qtt.K_()}var h=this.lb.Wtt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.ztt=function(t){var n=this.Bst;return this.lb.ztt(n,t).K_()},i.Sst=function(t,n){var i=this,r=this.Jst(),e=this.T7.K4;t&&(this.Yy=e+t,n&&(this.wst=null,this.yst=0)),this.Jst()||e>=this.Yy?this.$st(r):this.vst||this.dst||!this.Vl||(this.Kst(),this.tut(function(t){return i.nut(e,i.T7.W_,t)}))},i.iut=function(t){t&&this.nst.removeEventListener(t.uri,this.Est)},i.rut=function(t){t&&this.nst.addEventListener(t.uri,this.Est)},i.Jst=function(){return-1===this.Yy},n.eut=function(t){return tD.bw(t.qZ.rJ)&&Hb()-t.lp>2e3*t.qZ.AY.metadata.y8},i.tut=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.vst=new ns,r=this.vst,t.prev=3,t.next=6,n(r.Io);case 6:i=t.sent,es(r.Io),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),us(t.t0);case 13:return t.prev=13,this.vst===r&&(this.vst=null),t.finish(13);case 16:i&&this.Sst();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Kst=function(){this.vst&&(this.vst.Eo(),this.vst=null)},i.sut=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.uut=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!SL.eut(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("out"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.yst)),this.yst+=1,this.Kst(),!(this.yst>2)){t.next=8;break}return n.qZ.GZ(!1),t.abrupt("return",n.qZ.ZZ());case 8:this.tut(function(t){return _s(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ist=function(t,n){var i,r;r=mD((i=t).u2,4),i.e$="0000.0000.0000."+r,function(t){var n=mD(t.o2,4),i=mD(t.h2,3),r=mD(t.a2,2*t.h2);t.Kl=(n+i+r).toUpperCase()}(t),oB(n,this.lb,t),this.aK.r$(t,this.lb)},i.Nst=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(Kr({},e,{y6:n}))}this.fst&&this.fst.jet(i,n.O4,n.w3)},i.hut=function(t){this.gst&&this.gst.y6===t&&this.Sst()},i.aut=function(t,n){if(n){if(n.aborted)return;if(this.wst===t)return this.uut(t)}else t.qZ.GZ(!0);return this.Sst()},i.cut=function(t){var n=aD(t.qZ.IJ);n&&this.dispatchEvent(new UB(iD(t.uri),t.qZ.bandwidth||0,t.tY,t.qZ.tY,n))},i.fut=function(t,n){var i=this.gst&&this.gst.cv.O0||200,r=aD(t.qZ.IJ);r&&this.dispatchEvent(new FB(iD(t.uri),t.qZ.bandwidth||0,t.tY,t.qZ.tY,r,i,n&&n.D0.Y0||0))},i.$st=function(t){this.Yy=-1,t||this.dispatchEvent("vut")},i.dut=function(t){this.lst=!0,this.$st(t),this.dispatchEvent("BK")},i.nut=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(r),e=this.Bst,s=this.Jst(),this.iut(e||void 0),!(n>=this.Yy)){t.next=7;break}return this.$st(s),t.abrupt("return",!1);case 7:return t.next=9,this.mst.Gnt(n,this.Yy,i,e||void 0,this.Pst(),this.gst&&this.gst.cv,this.gst&&this.gst.y6,this.lut,this._ut);case 9:if(u=t.sent,al.l_(this.knt.O5/8),es(r),u.ql!==bB.ynt){t.next=18;break}return this.Kst(),this.dispatchEvent("out"),t.abrupt("return",!1);case 18:if(u.ql!==bB.wnt){t.next=29;break}if(u.qZ!==e){t.next=24;break}return this.rut(e),t.abrupt("return",!1);case 24:return t.next=26,this.sut(u.qZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.ql!==bB.v9){t.next=33;break}return this.rut(e||void 0),!tD.bw(e.rJ)&&e.AY&&this.dut(s),t.abrupt("return",!1);case 33:if(o=u.xp,!this.gst||this.gst.y6!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.qZ===e){t.next=40;break}return t.next=39,this.sut(o.qZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.gst&&(this.gst.cv.Eo(),this.gst=void 0),!(u.Qy>this._st)){t.next=46;break}return this.dut(s),t.abrupt("return",!1);case 46:if(!(u.Qy>this.Yy)){t.next=49;break}return this.$st(s),t.abrupt("return",!1);case 49:if(this.lst=!1,this.gst=void 0,o!==this.wst&&(this.yst=0),this.wst=o,this.dispatchEvent("PK"),this.cut(o),!o.d8){t.next=59;break}return t.next=58,this.knt.l6(this.Ep,String(o.qZ.Xl),o.d8);case 58:h=t.sent;case 59:return(a=this.knt.g6(this.Ep,o,h,function(t,n){c.Kst(),c.fut(o,n),c.gst=void 0,r&&r.do||c.aut(o,t)}))&&(this.gst={y6:o,cv:a},a.addEventListener("yK",function(){r&&r.do||c.hut(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.gut=function(t){this.Sst(t||this.X4.Y4,!0)},i.wut=function(){var t=this.Jst();this.Yy=-1,this.gst&&this.gst.cv.Eo(),this.gst=void 0,this.iut(),this.lst=!1,this.wst=null,this.yst=0,this.Kst(),this.$st(t),this.fst=this.xst(this.lb)},i.yut=function(){this.dst=!0,this.iut(),this.Kst()},i.mut=function(){this.dst=!1,this.Sst()},i.kut=function(){this.est=!0},i.Aut=function(){this.est=!1,this.Vst()},i.Lv=function(){this.Mo(),this.wut(),this.Mst(),this.pst=null,this.Tst=null,this.sst.Lv(),this.ust.Lv(),this.ist.Eo(this.Ep),this.lb.Lv(),this.aK.removeEventListener("m$",this.O$),this.knt.removeEventListener("w6",this.Rst),this.rst=null,this.but()},i.Cl=function(){this.ast=null,this.XJ=void 0,this.cst=void 0,this.but(),this.fst=this.xst(this.lb)},i.xst=function(t){var n=new mL(t);return n.Po("Oz",this.Dst),n},i.but=function(){this.fst&&(this.fst.Uo("Oz",this.Dst),this.fst.Lv(),this.fst=null)},L(n,[{key:"M_",get:function(){return this.T7.K4}},{key:"Tut",get:function(){return this.Ket}},{key:"Ep",get:function(){return this.Eut()}},{key:"sJ",get:function(){return this.Sut()}},{key:"lut",get:function(){return this.Rut()}},{key:"_ut",get:function(){return this.Iut()}},{key:"pst",get:function(){return this.sst.B7},set:function(t){var n=this.sst.B7;n&&n.removeEventListener("updateend",this.kst),this.sst.B7=t,t&&(t.addEventListener("updateend",this.kst),this.kst())}},{key:"Tst",get:function(){return this.ust.B7},set:function(t){var n=this.ust.B7;n&&n.removeEventListener("updateend",this.bst),this.ust.B7=t,t&&(t.addEventListener("updateend",this.bst),this.bst())}},{key:"vut",get:function(){return this.Jst()}},{key:"BK",get:function(){return this.lst}},{key:"Nut",get:function(){return this._st},set:function(t){this._st=t}},{key:"Bst",get:function(){return this.Cut()}},{key:"Dut",get:function(){return this.Out()},set:function(t){this.xut(t)}},{key:"Vl",get:function(){return this.lM()}},{key:"Ey",get:function(){return this.Put()}}]),n}(PC);function pL(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function AL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,s=0;s<n.length;s++){pL(r,n[s])&&(e=!0)}e||n.push(r)}return n}function bL(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var s=n.indexOf(".aac",e-4);return 0<=s&&s<e}var TL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).aK=void 0,o.lb=void 0,o.knt=void 0,o.Wh=void 0,o.But=void 0,o.Lut=void 0,o.Mut=null,o.Uut=null,o.Fut=null,o.Hut=null,o.Vut=null,o.Xut=null,o.Wut=null,o.qut=!1,o.By=!0,o.OZ=!0,o.zut=null,o.HI=void 0,o.Gut=function(){o.zut&&o.zut.disabled&&o.jut(o.Wh.initialRendition||"default"),o.Qut(!0)},o.Yut=function(){var t=o.aK.S$.pZ.some(function(t){return t.Ey});o.Zut(t)},o.Jut=function(t){"variant"===t.Ep&&(o.knt.removeEventListener("b6",o.Jut),o.zut&&(o.zut=null,o.Qut(!1)))},o.HI=u,o.aK=n,o.lb=i,o.knt=r,o.Wh=e,o.But=e.$ut||[],o.Lut=new JP(e,jD.je.e0,s),o.Mut=null,o.knt.addEventListener("b6",o.Jut),o.Kut(),o.tot(),o.jut(e.initialRendition||"default"),o}U(n,t);var i=n.prototype;return i.iot=function(t,n){var i=uD(t);if(i&&!i.disabled)return i;var r=this.rot(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.tY<=n.tY?t:n});case"high":var e=AL(r);return e[e.length-1];case"low":default:return AL(t)[0]}},i.eot=function(t,n){var i=this.sot||this.zut&&[this.zut],r=i&&i.filter(function(n){return Ye(t,n)});return r&&r.length>0?AL(r):AL(this.rot(t,n))},i.rot=function(t,n){var i=this.Wh,r=this.But,e=this.uot();return t.filter(function(t){for(var s=0;s<r.length;s++){if(!r[s].oot(t,n,e,i))return!1}return!0})},i.hot=function(t,n){var i=this.eot(t,n);return i.length?i[i.length-1]:t[0]},i.aot=function(t,n){var i=this.sot;return i&&i.length>0?i.filter(function(n){return Ye(t,n)}):t},i.cot=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Hut,e=this.Vut,!r||n!==this.Xut||i!==this.Wut){t.next=4;break}return t.abrupt("return",r);case 4:return s=new ns,u=this.fot(n,i,s.Io),r&&e&&e.Eo(),this.Hut=u,this.Vut=s,this.Wut=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.Hut&&(this.Hut=null,this.Vut=null,this.Wut=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.fot=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.aK,s=this.lb,u=e.E$,t.next=5,this.vot(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.cnt(u,i.tY),h=s.M6(n,o),tD.bw(u.rJ)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.vot=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Uut,e=this.Fut,!r||n!==this.Xut){t.next=4;break}return t.abrupt("return",r);case 4:return(s=new ns).So(i),u=this.dot(n,s.Io),r&&e&&e.Eo(),this.Uut=u,this.Fut=s,this.Xut=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.Uut&&(this.Uut=null,this.Fut=null,this.Xut=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.dot=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.aK,e=r.E$,!this.Vl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.lot(n)){t.next=8;break}s=n.AY,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Lut.xh(n.uri,{});case 11:u=t.sent,es(i),s=u.Rw,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.XZ(!1),n.ZZ(),t.abrupt("return",!1);case 21:n.UZ(s,e);case 22:if(!bL(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.lot=function(t){var n=t.AY;return!n||!!n.live&&(!t.kY.Ol||t.kY.eY(t.kY.Ol-1).lp+1e3*n.targetDuration<Hb())},i.My=function(t){t?this.By||(this.By=!0,this.dispatchEvent("Vl")):this.By&&(this.By=!1)},i.Zut=function(t){t&&!this.OZ?(this.OZ=!0,this.dispatchEvent("Ey")):!t&&this.OZ&&(this.OZ=!1,this.dispatchEvent("Xv"))},i.Qut=function(t){var n=this,i=this.aK,r=i.E$,e=i.S$.pZ,s=this.aot(e,r),u=this.hot(s,r);u?this.cot(u,null).then(function(r){r&&(i.o$(u,t),n.My(!0))}):this.My(!1)},i._ot=function(){this.zut=null,this.Qut(!0)},i.tot=function(){this.aK.S$.addEventListener("wZ",this.Yut)},i.got=function(){this.aK.S$.removeEventListener("wZ",this.Yut)},i.Kut=function(){this.aK.S$.addEventListener("_Z",this.Gut)},i.wot=function(){this.aK.S$.removeEventListener("_Z",this.Gut)},i.jut=function(t){var n=this.aK,i=n.S$.pZ;if(Boolean(n.E$&&!n.E$.disabled))this.zut=null;else{if(i&&i.length){var r;switch(this.HI.yx.type){case UT.PERFORMANCE:r="low";break;case UT.QUALITY:r="high";break;case UT.BANDWIDTH:r=t}this.zut=this.iot(i,r),this.qut=!0}var e=this.aot(i,null),s=this.hot(e,null);s&&(n.E$=s)}},i.uot=function(){return this.qut?{O5:this.knt.O5}:{O5:this.HI.Nx}},i.Eo=function(){this.Hut&&this.Vut&&(this.Vut.Eo(),this.Hut=null,this.Vut=null,this.Wut=null),this.Uut&&this.Fut&&(this.Fut.Eo(),this.Uut=null,this.Fut=null,this.Xut=null)},i.Lv=function(){this.knt.removeEventListener("b6",this.Jut),this.wot(),this.got(),this.Eo(),this.Mut=null,this.zut=null},i.yot=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.aK,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.cot(n,i);case 5:return(e=t.sent)&&(r.E$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"Vl",get:function(){return this.By}},{key:"Ey",get:function(){return this.OZ}},{key:"_ut",get:function(){var t=this.aK,n=t.E$,i=this.aot(t.S$.pZ,n);return this.eot(i,n)}},{key:"lut",get:function(){return this.aot(this.aK.S$.pZ,this.aK.E$)}},{key:"sot",get:function(){return this.Mut},set:function(t){this.Mut=t,this._ot()}}]),n}(PC),EL=function(){function t(t,n){this.nl=void 0,this.lb=void 0,this.mot=-1,this.nl=t,this.lb=n}return t.prototype.Bh=function(t){for(var n=t.kY,i=n.rY(this.mot),r=i<0?0:i+1;r<n.Ol;r++){var e=n.eY(r);if(e.tY>this.mot){var s=this.lb.B1(e),u=this.lb.L1(e,s),o=new wg(s.K_(),u.K_(),[].concat(e.$Z),!1,e.tY.toString());this.nl.Hb(o),this.mot=e.tY}}},t}(),SL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,$C.oZ,n,i,r,e,s,u,o,h,a)||this).kot=void 0,c.pot=null,c.Aot=null,c.kot=new TL(n,c.lb,r,u,o,h),c.kot.addEventListener("Vl",c.Oo),c.kot.addEventListener("Ey",c.Oo),c.kot.addEventListener("Xv",c.Oo),u.manifestMetadataTrack&&(c.pot=n.i$("",c.lb,""),c.Aot=new EL(c.pot,c.lb)),c.Ket=!c.aK.l$||!c.aK.l$.uri,c.tst=Boolean(c.aK.E$),c}U(n,t);var i=n.prototype;return i.Cst=function(t,n){if("AZ"===t){var i=n?n.uri:void 0;this.Ket=!i}},i.Eut=function(){return $C.oZ},i.Sut=function(){return this.Bst&&this.Bst.sJ||!1},i.Cut=function(){return this.aK.E$},i.Rut=function(){return this.kot.lut},i.Iut=function(){return this.kot._ut},i.Out=function(){var t=this.kot.sot;return t&&t.map(function(t){return t.Xl})},i.xut=function(t){if(t&&t.length>0){var n=this.rst.kZ.filter(function(n){return-1!==t.indexOf(n.Xl)});if(!(n.length>0))return void 0;this.kot.sot=n}else this.kot.sot=null},i.lM=function(){return this.kot.Vl},i.Put=function(){return this.kot.Ey},i.sut=function(){var n=T.coroutine($r.mark(function n(i,r){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.kot.yot(i,r);case 2:return n.abrupt("return",t.prototype.sut.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.wut=function(){t.prototype.wut.call(this),this.kot.Eo()},i.PJ=function(n){t.prototype.PJ.call(this,n),this.Aot&&this.Aot.Bh(n)},i.Lv=function(){t.prototype.Lv.call(this),this.kot.Lv(),this.kot.removeEventListener("Ey",this.Oo),this.kot.removeEventListener("Xv",this.Oo)},i.Ost=function(t){return t.S$},i.bot=function(){var t=this.M_,n=this.Tut?this.sst.M7(t):void 0,i=n?n.qZ:void 0,r=this.ust.M7(t),e=r?r.qZ:void 0,s=this.XJ;this.XJ=i;var u=this.cst;return this.cst=e,!s&&i?{k$:s,Tot:i}:!u&&e?{k$:u,Tot:e}:u&&e&&u.Xl!==e.Xl?{k$:u,Tot:e}:void 0},n}(kL),RL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,$C.Sv,n,i,r,e,s,u,o,h,a)||this).Ket=!!c.aK.l$&&!!c.aK.l$.uri,c.tst=!1,c}U(n,t);var i=n.prototype;return i.Cst=function(t,n){if("AZ"===t){var i=n?n.uri:void 0;this.Ket=!!i}},i.Eut=function(){return $C.Sv},i.Sut=function(){return this.Bst&&this.Bst.sJ||!1},i.Cut=function(){return this.aK.l$},i.Rut=function(){var t=this.Cut();return t?[t]:[]},i.Iut=function(){return this.Rut()},i.Ost=function(t){return t.bJ},i.Out=function(){return null},i.xut=function(t){},i.lM=function(){return!0},i.Put=function(){return!0},i.bot=function(){var t=this.Tut?this.sst.M7(this.M_):void 0,n=t?t.qZ:void 0,i=this.XJ;return this.XJ=n||void 0,!i&&n?{k$:i,Tot:n}:i&&n&&i.Xl!==n.Xl?{k$:i,Tot:n}:void 0},n}(kL),IL=function(){function t(t,n,i,r,e,s){var u=this;this.Eot=!1,this.dY=void 0,this.Sot=void 0,this.G4=void 0,this.Rot=void 0,this.X4=void 0,this.Iot=Jp.SI(),this.Not=[],this.Cot=void 0,this.Dot=[],this.xJ=function(){return u.Oot()},this.xot=function(t){t.Rw.live||u.Sot.removeEventListener(u.dY.GY,u.xot),u.dY.UZ(t.Rw)},this.Pot=function(){u.dY.LJ.t_===Yd.Yl?u.Eot&&u.Bot():u.Eot||u.Lot()},this.dY=t,this.Sot=n,this.G4=i,this.X4=s,this.Rot=new tO(r,e),this.Cot=new ns,t.LJ.Po(kd.ll,this.Pot),t.lb&&t.lb.addEventListener("MJ",this.xJ),this.Pot()}var n=t.prototype;return n.Lot=function(){this.Eot||this.dY.LJ.t_===Yd.Yl||(this.Sot.removeEventListener(this.dY.GY,this.xot),this.Sot.addEventListener(this.dY.GY,this.xot),this.Sot.h7(this.dY.GY),this.Sot.a7(this.dY.GY),this.Eot=!0,vs(this.Mot(this.Cot.Io)))},n.Mot=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.G4.K4,r=this.X4.Y4,e=new Jp([i,i+r]),(s=e.iI(this.Iot.rI())).Ol){t.next=16;break}return t.prev=6,t.next=9,_s(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),us(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.Mot(n));case 16:if(u=s.WR(0),o=this.Uot(u)){t.next=30;break}return h=this.dY,t.prev=20,t.next=23,dd(h,"WZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),us(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.Mot(n));case 30:a=o.xp,c=o.qtt.K_(),f=c+a.duration,this.Rot.xh("LJ",a.uri,zo.Je,function(){var t=T.coroutine($r.mark(function t(i,r){var e,s,u,o,h,d;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw _s(1e3,n).then(function(){return v.Mot(n)}),i;case 3:for(v.Iot=v.Iot.hI(new Jp([c,f])),v.Not.push(a.tY),e=Zg(r.Yv),s=e.Im||{Nm:S_.pg,Cm:S_.pg},u=v.dY.kY.sY(a.tY),o=0,h=e.i_;o<h.length;o++)d=h[o],v.Dot.push({y6:u,qtt:NL(S_.ew(d.Qy),s.Cm,s.Nm),Fot:NL(S_.ew(d.Yy),s.Cm,s.Nm),jy:d});return v.Oot(),t.next=12,v.Mot(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.Oot=function(){var t=this.dY.lb;if(this.Dot.length&&t){for(var n=[],i=0,r=this.Dot;i<r.length;i++){var e=r[i],s=t.F1(e.y6,e.qtt);if(s.dg())n.push(e);else{var u=t.F1(e.y6,e.Fot),o=new mg(s.K_(),u.K_(),e.jy.Zy,!1,e.jy.Xl);this.dY.LJ.Hb(o)}}this.Dot=n,this.dY.LJ.MF(this.G4.K4,!0)}},n.Uot=function(t){var n=this.dY.lb,i=this.dY.kY;if(n.Utt)for(var r=n.Qtt.K_(),e=i.Ol-1;e>=0;e-=1){var s=i.eY(e),u=r-s.duration;if(new Jp([u,r]).iR(t,.5)){var o={xp:s,qtt:S_.ew(u)};return this.Hot(i,o,e)}r=u}else for(var h=0,a=0;a<i.Ol;a+=1){var c=i.eY(a),f=h+c.duration;if(new Jp([h,f]).iR(t,.5)){var v={xp:c,qtt:S_.ew(h)};return this.Hot(i,v,a)}h=f}},n.Hot=function(t,n,i){var r=n.xp;if(-1===this.Not.indexOf(r.tY))return n;for(var e=n.qtt.K_()+r.duration,s=i+1;s<t.Ol;s+=1){var u=t.eY(s);if(-1===this.Not.indexOf(u.tY))return{xp:u,qtt:S_.ew(e)};e+=u.duration}},n.Bot=function(){this.Eot=!1,this.Sot.o7(this.dY.GY),this.Cot.Eo(),this.Cot=new ns},n.Cl=function(){this.Bot(),this.Iot=Jp.SI(),this.Not.length=0,this.dY.LJ.Uo(kd.ll,this.Pot),this.dY.lb&&this.dY.lb.removeEventListener("MJ",this.xJ),this.Sot.removeEventListener(this.dY.GY,this.xot)},t}();function NL(t,n,i){return xg(i,t.fg(n))}var CL=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Wh=void 0,s.EK=void 0,s.knt=void 0,s.ist=void 0,s.aK=void 0,s.nst=void 0,s.Vot=void 0,s.Xot=NaN,s.Wot=!1,s.qot=1/0,s.zot=1/0,s.Got=null,s.jot=!0,s.Qot=!0,s.T7=null,s.Bb=void 0,s.HI=void 0,s.Yot=void 0,s.Zot=void 0,s.Jot=[],s.YU=function(){var t=s.aK.U_;w(t)||s.Xot===t||(s.Xot=t,s.dispatchEvent("durationchange"))},s.$ot=function(){s.wK&&(s.aK.removeEventListener("renditionUpdated",s.$ot),s.dispatchEvent("wK"))},s.Kot=function(){s.vut&&s.dispatchEvent("vut")},s.tht=function(){s.BK&&s.dispatchEvent("BK")},s.Oo=function(t){s.dispatchEvent(t)},s.nht=function(t){var n=s.aK.a$(t.e7);n?n instanceof dD&&(n.XZ(!1),n.ZZ()):s.dispatchEvent(t)},s.iht=function(t){s.aK.Rw||(t.Qo.code===LC.HQ?(s.Got||(s.Got=o(s.rht,Qy)),s.Qot=!1,s.zZ()):s.dispatchEvent({type:"Qo",Qo:t.Qo}))},s.eht=function(t){s.sht(),s.uht(t.Rw),s.oht(),s.aK.removeEventListener("v$",s.YU),s.aK.addEventListener("v$",s.YU),s.YU(),s.Wot||(s.Wot=!0,s.dispatchEvent("loadedmetadata")),s.$ot(),s.Qot=!0,s.zZ()},s.rht=function(){s.sht();var t=s.LK;t&&(s.nst.Cl(),s.nst.LK=t,s.nst.WR())},s.hht=function(){s.nst.c7()},s.aht=function(){s.cht.forEach(function(t){return t.Aut()})},s.fht=function(t){s.vht.forEach(function(n){return n.Qst(t.qZ)})},s.dht=function(t){s.cht.forEach(function(n){return n.Yst(t.m4)}),s.Vot.y7(t.m4,s.cht.map(function(t){return t.lb}))},s.zZ=function(){var t=s.jot,n=s.Put();s.jot=n,n&&!t?s.dispatchEvent("Ey"):!n&&t&&s.dispatchEvent("Xv")},s.HI=e,s.Wh=n,s.EK=i,s.Bb=r,s.knt=new Yx(n,i,r,en(s)),s.ist=new DP(n),s.aK=new _D(n),s.nst=new KP(r,n),s.Vot=new tB,s.nst.addEventListener("Qo",s.nht),s.nst.addEventListener("r7",s.iht),s.nst.addEventListener("s7",s.eht),s.knt.addEventListener("w6",s.Oo),s.knt.addEventListener("Qo",s.Oo),s.aK.addEventListener("m$",s.Oo),s.aK.addEventListener("WZ",s.fht),s.aK.addEventListener("HJ",s.dht),s.aK.addEventListener("p$",s.Oo),s.Vot.addEventListener("d7",s.Oo),s.Vot.addEventListener("d7",s.aht),s.addEventListener("Ey",s.hht),s}U(n,t);var i=n.prototype;return i._ht=function(t){t.Nut=this.Nut,t.addEventListener("Fst",this.Oo),t.addEventListener("ght",this.Oo),t.addEventListener("Qo",this.Oo),t.addEventListener("out",this.Oo),t.addEventListener("PK",this.Oo),t.addEventListener("vut",this.Kot),t.addEventListener("BK",this.tht),t.addEventListener("Xv",this.zZ),t.addEventListener("Ey",this.zZ),t.addEventListener("Vl",this.Oo),t.addEventListener("yK",this.Oo),t.addEventListener(qo.gc,this.Oo),t.addEventListener(qo.yc,this.Oo)},i.oht=function(){this.wht();this.aK.S$.kZ;var t=this.aK.bJ.kZ;this.Yot=new SL(this.aK,this.nst,this.knt,this.ist,this.T7,this.Wh,this.Bb,this.HI,this),this._ht(this.Yot),t.length&&(this.Zot=new RL(this.aK,this.nst,this.knt,this.ist,this.T7,this.Wh,this.Bb,this.HI,this),this._ht(this.Zot));for(var n=this.aK.R$,i=this.Yot.lb,r=0;r<n.length;r++){var e=n[r];e.lb=i,this.Jot.push(new IL(e,this.nst,this.T7,this.Bb,this.Wh,this))}},i.wht=function(){this.Yot&&(this.Yot.Lv(),this.Yot=void 0),this.Zot&&(this.Zot.Lv(),this.Zot=void 0),this.Jot.forEach(function(t){return t.Cl()}),this.Jot.length=0,this.Vot.Cl()},i.yht=function(t){this.cht.forEach(function(n){return n.gut(t)})},i.uht=function(t){this.aK.Rw=t},i.mht=function(){this.nst.WR()},i.kht=function(t){this.Vot.m7(t,this.cht.map(function(t){return t.lb}))||this.cht.forEach(function(t){t.Mst(),t.kut()})},i.Bot=function(){this.knt.d6(),this.cht.forEach(function(t){return t.wut()})},i.VK=function(){this.knt.d6(),this.cht.forEach(function(t){return t.yut()})},i.UK=function(){this.cht.forEach(function(t){return t.mut()})},i.Lv=function(){this.Mo(),this.sht(),this.wht(),this.knt.Lv(),this.ist.Lv(),this.aK.Lv(),this.nst.Cl(),this.Vot.Lv()},i.pht=function(t,n,i,r){var e=this.Yot,s=this.Zot;t&&(e.wut(),this.knt.sh(e.Ep),e.gut(r)),n&&s&&(s.wut(),this.knt.sh(s.Ep),i&&s.gut(r))},i.Aht=function(){if(!this.Yot)return yO;var t=this.Yot;return FO(t.lb,this.knt.o5(t.Ep))},i.u7=function(t,n,i){var r=this,e=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.Rw.live||r.nst.removeEventListener(s,t),i&&i.UZ(n.Rw)};s&&(this.nst.removeEventListener(s,u),this.nst.addEventListener(s,u)),this.nst.u7(e,s),this.nst.a7(s)},i.sht=function(){null!==this.Got&&h(this.Got),this.Got=null},i.Put=function(){return!!this.Qot&&(!this.Yot||this.Yot.Ey)},i.zK=function(t){this.Yot&&(this.Yot.Dut=t)},i.Cl=function(){this.vht.forEach(function(t){return t.Cl()}),this.Jot.forEach(function(t){return t.Cl()})},L(n,[{key:"bht",get:function(){return this.Yot}},{key:"Tht",get:function(){return this.Zot}},{key:"cht",get:function(){var t=[];return this.Yot&&t.push(this.Yot),this.Zot&&this.Zot.Tut&&t.push(this.Zot),t}},{key:"vht",get:function(){return[this.Yot,this.Zot].filter(J)}},{key:"Y4",get:function(){return qt(this.HI.gx*this.knt.Z4,1,this.Eht)}},{key:"LK",get:function(){return this.nst.LK},set:function(t){this.Xot=NaN,this.qot=1/0,this.Wot=!1,this.jot=!0,this.Qot=!0,this.aK.removeEventListener("renditionUpdated",this.$ot),this.aK.removeEventListener("v$",this.YU),this.sht(),this.wht(),this.knt.sh(),this.ist.Eo(),this.aK.Lv(),this.aK.addEventListener("renditionUpdated",this.$ot),this.nst.LK=t,this.zZ()}},{key:"U_",get:function(){return this.Xot}},{key:"Utt",get:function(){return this.aK&&tD.bw(this.aK.rJ)}},{key:"Ey",get:function(){return this.jot}},{key:"wK",get:function(){var t=this.cht;return t.length>0&&t.every(function(t){return t.sJ})}},{key:"Z4",get:function(){return this.knt.Z4},set:function(t){t>0&&(this.knt.Z4=t)}},{key:"vut",get:function(){return this.cht.every(function(t){return t.vut})}},{key:"BK",get:function(){return this.cht.length>0&&this.cht.every(function(t){return t.BK})}},{key:"Eht",get:function(){return this.zot},set:function(t){this.zot=t}},{key:"Nut",get:function(){return this.qot},set:function(t){var n=this;this.qot=t,this.vht.forEach(function(t){return t.Nut=n.qot})}},{key:"Iy",get:function(){return this.wK?new wO([{WR:this.jtt,zR:this.Qtt}]):yO}},{key:"jtt",get:function(){if(!this.wK)return 0;for(var t=-1/0,n=0,i=this.cht;n<i.length;n++){var r=i[n];t=l.max(t,r.lb.jtt.K_())}return t}},{key:"Qtt",get:function(){if(!this.wK)return 0;for(var t=1/0,n=0,i=this.cht;n<i.length;n++){var r=i[n];t=l.min(t,r.lb.Qtt.K_())}return t}},{key:"Ytt",get:function(){if(!this.wK)return 0;for(var t=1/0,n=0,i=this.cht;n<i.length;n++){var r=i[n];t=l.min(t,r.lb.Ytt.K_())}return l.max(t,this.jtt)}},{key:"qK",get:function(){return this.Yot&&this.Yot.Dut||void 0}}]),n}(PC),DL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wh=void 0,r.Xot=NaN,r.Wot=!1,r.aK=void 0,r.lb=void 0,r.Sht=void 0,r.Got=null,r.jot=!0,r.pot=null,r.Aot=null,r.Oo=function(t){r.dispatchEvent(t)},r.uht=function(t){if(r.aK.Rw||(r.aK.Rw=r.Sht.T$||null),!r.aK.E$){var n=r.aK.S$.kZ[0];n&&(r.aK.E$=n,r.Sht.t7(n),r.dispatchEvent({type:"Rht",qZ:n}))}t.manifest.isMasterPlaylist||r.aK.E$.UZ(t.manifest),void 0!==t.manifest.duration&&r.Xot!==t.manifest.duration&&(r.Xot=t.manifest.duration,r.dispatchEvent("durationchange")),r.Wot||(r.Wot=!0,r.dispatchEvent("loadedmetadata")),r.Zut(!0),r.dispatchEvent({type:"K8",manifest:t.manifest})},r.iht=function(t){t.Qo.code===LC.HQ?(r.Got||(r.Got=o(r.rht,Qy)),r.Zut(!1)):r.dispatchEvent({type:"Qo",Qo:t.Qo})},r.rht=function(){r.sht();var t=r.LK;t&&r.Sht.WR(t)},r.sht=function(){h(r.Got),r.Got=null},r.fht=function(t){var n=t.qZ;r.lb.xtt(n,n.AY),r.Wh.manifestMetadataTrack&&(r.Aot||(r.pot=r.aK.i$("",r.lb,""),r.Aot=new EL(r.pot,r.lb)),r.Aot.Bh(n))},r.Wh=n,r.aK=new _D(n,!0),r.lb=new mB(n),r.Sht=new $P(i,r.Wh),r.lb.addEventListener("Qo",r.Oo),r.Sht.addEventListener("K8",r.uht),r.Sht.addEventListener("Qo",function(t){r.aK.Rw?(r.Got||(r.Got=o(r.rht,Qy)),r.Zut(!1)):r.iht(t)}),r.aK.addEventListener("WZ",r.fht),r}U(n,t);var i=n.prototype;return i.mht=function(){this.aK.Rw||this.Sht.WR()},i.Aht=function(){return yO},i.Zut=function(t){var n=this.jot;this.jot=t,t&&!n?this.dispatchEvent("Ey"):!t&&n&&this.dispatchEvent("Xv")},i.Lv=function(){this.Mo(),this.sht(),this.aK.Lv(),this.Sht.Lv(),this.Aot=null,this.lb.Lv()},i.VK=function(){},i.UK=function(){},i.yht=function(t){},i.zK=function(t){},L(n,[{key:"LK",get:function(){return this.Sht.LK},set:function(t){this.Xot=NaN,this.Wot=!1,this.sht(),this.aK.Lv(),this.Aot=null,this.Sht.LK=t,this.Zut(!0)}},{key:"U_",get:function(){return this.Xot}},{key:"Utt",get:function(){return this.aK&&tD.bw(this.aK.rJ)}},{key:"Ey",get:function(){return this.jot}},{key:"BK",get:function(){return!1}},{key:"vut",get:function(){return!1}},{key:"qK",get:function(){return[]}}]),n}(PC),OL=1e3,xL="VEE3",PL=function(t){function n(n){var i;return(i=t.call(this,"Iht")||this).ptsOffset=n,i}return U(n,t),n}(As),BL=function(t){function n(n){var i;return(i=t.call(this)||this).N$=void 0,i.Nht=null,i.Cht=0,i.Dht="start",i.Oht=1,i.xht=!1,i.Pht=!1,i.Bht=0,i.Lht=null,i.Mht=null,i.Uht=null,i.Fht=null,i.l7=0,i.Hht=0,i.Vht=new ns,i.Xht=new Wu,i.Wht=void 0,i.qht={},i.zht=!1,i.Ght=null,i.jht=NaN,i.Ust=function(){i.N$.cht.map(function(t){t.Ust()})},i.bot=function(){for(var t,n,r,e=0,s=i.N$.vht;e<s.length;e++){var u=s[e],o=u.bot();if(o){var h=o.Tot;h&&h.IJ!==KC.Sv&&(i.Ght=h)}u.Ep===$C.Sv?t=o:u.Ep===$C.oZ&&(n=o,r=u)}(t||n)&&i.dispatchEvent({type:"m$",Qht:t&&t.k$,z$:t&&t.Tot,Y$:n&&n.k$,q$:n&&n.Tot,X$:!!r&&r.Tut})},i.Hst=function(){null!==i.Lht&&h(i.Lht),i.Lht=o(i.Hst,OL),i.N$.cht.forEach(function(t){return t.Hst()})},i.Wst=function(){null!==i.Mht&&h(i.Mht),i.xht&&(i.Mht=o(i.Wst,OL),i.N$.cht.forEach(function(t){return t.Wst()}))},i.Xst=function(){i.N$.cht.forEach(function(t){return t.Xst()})},i.Yht=function(){if(i.N$.Utt&&i.W_>1){var t=i.N$.Ytt;i.Zht>t&&(i.W_=1,i.Zht>=t+1&&(i.Zht="start"))}},i.Jht=function(){i.Nht&&(0===i.Nht.$ht()?i.Zht="start":i.Zht=i.Kht(i.K4))},i.tat=function(){i.Bht=i.K4},i.nat=function(t){i.iat(),i.Nht.error&&(t.error.info.code===xL&&i.Hht<Yy?(i.Hht+=1,i.rat()):i.dispatchEvent({type:"Qo",error:t.error}))},i.eat=function(){i.Hht=0},i.sat=function(){i.removeEventListener("uat",i.oat),i.xht?i.oat():i.addEventListener("uat",i.oat)},i.oat=function(){var t=i.K4;i.N$.removeEventListener("wK",i.sat),i.N$.wK?i.N$.cht.forEach(function(n){return n.zst(t)}):(i.N$.addEventListener("wK",i.sat),i.N$.mht())},i.hat=function(){var t=i.K4;i.N$.vht.forEach(function(n){return n.qst(t,i.N$.Utt)})},i.aat=function(){null!==i.Lht&&h(i.Lht),i.Lht=null,null!==i.Mht&&h(i.Mht),i.Mht=null},i.fat=function(){i.vat(),i.N$.wK?i.MK():(i.N$.addEventListener("wK",i.fat),i.N$.mht())},i.vat=function(){i.N$.removeEventListener("wK",i.fat)},i.x$=function(t){i.N$.u7(t.IJ,t.k$||void 0,t.qZ||void 0),t.p$&&i.dat(t.IJ,t.k$,t.qZ)},i.lat=function(t){var n=t.l7-i.l7;l.abs(n)>jy&&(i.l7=t.l7,i.K4=i.K4+n)},i._at=function(t){var n=t.y6.metadata;n.RJ&&(i.qht[t.Ep]=n.RJ,i.gat())},i.gat=function(){if(i.N$.wK){var t=d.keys(i.qht).length===i.N$.cht.length;i.Nht&&!i.Nht.wat&&!i.Wht&&t&&i.yat(),i.Nht&&i.l7&&(i.Nht.l7=i.l7)}},i.mat=function(){if(w(i.kat))if(i.N$.Utt)i.kat=0;else{var t=i.Ght,n=t&&t.eJ,r=t&&J(n)&&!w(n)&&t.bY(n)||void 0;i.kat=eD(r)?r.T4.K_():NaN}i.mK&&(i.removeEventListener("m$",i.mat),i.N$.removeEventListener("w6",i.mat),i.dispatchEvent("mK",!0))},i.N$=n,n.T7=en(i),i}U(n,t);var i=n.prototype;return i.rat=function(){this.N$.Utt?this.Zht="start":(this.Bht+=.5,this.N$.cht.map(function(t){t.Mst(),t.Gst(),t.jst()}),this.Zht=this.Bht),this.gat(),this.Nht.play()},i.pat=function(t){var n=this;this.Uht&&(this.N$.removeEventListener("wK",this.Uht),this.Uht=null),this.N$.wK?(this.Pht=!0,this.zht=!0,this.N$.kht(t),this.zht=!1):(this.Uht=function(){return n.pat(t)},this.N$.mht())},i.Aat=function(t){this.bat(),this.N$.Utt&&(t="none"),"auto"===t&&this.fat()},i.Tat=function(t){var n=this;this.bat(),"none"!==t&&(this.N$.wK?this.Aat(t):(this.Fht=function(){return n.Aat(t)},this.N$.addEventListener("wK",this.Fht),this.N$.mht()))},i.bat=function(){this.vat(),this.Fht&&(this.N$.removeEventListener("wK",this.Fht),this.Fht=null)},i.MK=function(){this.Pht?this.N$.yht():(this.Zht=this.Dht,this.N$.yht(22)),this.xht||(this.xht=!0,this.dispatchEvent("uat"))},i.Eat=function(){this.Nht&&(this.Nht.addEventListener("Sat",this.hat),this.Nht.addEventListener("seeking",this.sat),this.Nht.addEventListener("error",this.nat),this.Nht.addEventListener("playing",this.eat)),this.N$.addEventListener("m$",this.x$),this.N$.addEventListener("out",this.Jht),this.N$.addEventListener("wK",this.gat),this.N$.addEventListener("d7",this.lat),this.N$.addEventListener("Vl",this.sat),this.XK()},i.Rat=function(){this.Nht&&(this.Nht.removeEventListener("Sat",this.hat),this.Nht.removeEventListener("seeking",this.sat),this.Nht.removeEventListener("error",this.nat),this.Nht.removeEventListener("playing",this.eat)),this.N$.removeEventListener("m$",this.x$),this.N$.removeEventListener("out",this.Jht),this.N$.removeEventListener("wK",this.gat),this.N$.removeEventListener("d7",this.lat),this.N$.removeEventListener("Vl",this.sat),this.WK()},i.XK=function(){this.Nht&&(this.Nht.addEventListener("loadstart",this.fat),this.Nht.addEventListener("timeupdate",this.Ust),this.Nht.addEventListener("playing",this.bot),this.Nht.addEventListener("timeupdate",this.bot),this.Nht.addEventListener("timeupdate",this.Wst),this.Nht.addEventListener("timeupdate",this.Hst),this.Nht.addEventListener("timeupdate",this.tat),this.Nht.addEventListener("timeupdate",this.Yht),this.Nht.addEventListener("ended",this.aat)),this.N$.addEventListener("w6",this._at),this.N$.addEventListener("w6",this.Xst)},i.WK=function(){null!==this.Lht&&h(this.Lht),null!==this.Mht&&h(this.Mht),this.Nht&&(this.Nht.removeEventListener("loadstart",this.fat),this.Nht.removeEventListener("timeupdate",this.Ust),this.Nht.removeEventListener("playing",this.bot),this.Nht.removeEventListener("timeupdate",this.bot),this.Nht.removeEventListener("timeupdate",this.Wst),this.Nht.removeEventListener("timeupdate",this.Hst),this.Nht.removeEventListener("timeupdate",this.tat),this.Nht.removeEventListener("timeupdate",this.Yht),this.Nht.removeEventListener("ended",this.aat)),this.N$.removeEventListener("w6",this._at),this.N$.removeEventListener("w6",this.Xst)},i.D7=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xht.gh;case 2:return i=this.Nht.D7(n),this.Nht.loading&&(this.Nht.loaded=!0,this.Nht.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oM=function(t,n){this.Iat.oM(t,n)},i.Lst=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Xht.gh;case 3:return t.next=5,this.Nht.Lst(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),rs(t.t0)||this.dispatchEvent({type:"Qo",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.yat=function(){var t=this,n=this.Xht,i=this.Nat(this.Wht,this.Vht.Io);this.Wht=i,i.then(function(){t.Wht===i&&(t.Wht=void 0,n.wh())},function(r){t.Wht===i&&(t.Wht=void 0,n.yh(r))})},i.Nat=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(S);case 3:return es(i),t.next=6,this.Nht.yat(this.qht,this.N$.U_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,s=this.N$.vht;e<s.length;e++)u=s[e],r.AZ&&(u.pst=r.AZ),r.bZ&&(u.Tst=r.bZ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iat=function(){this.Vht.Eo(),this.Vht=new ns,this.Wht=void 0,this.Xht=new Wu},i.Kht=function(t){var n=this.Iy;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.Zst=function(t){var n=this.N$.bht;return n?n.Zst(t):null},i.ztt=function(t){var n=this.N$.bht;return n?n.ztt(t):NaN},i.xh=function(t){var n=t||"none";this.Rat(),this.Eat(),this.Tat(n)},i.HK=function(){this.bat()},i.Lv=function(){this.Mo(),this.qht={},this.Iat=null},i.Cl=function(){this.iat(),this.Cat(),this.qht={},this.Cht=0,this.Bht=0,this.Dht="start",this.l7=0,this.Oht=1,this.xht=!1,this.Pht=!1,this.Ght=null,this.N$.Cl()},i.dat=function(t,n,i){if(n){this.dispatchEvent("kK"),this.WK();var r=!1,e=!1,s=!1;if("bZ"===t){e=!0;var u=this.N$.bht;u&&u.Tut&&(r=!0)}else r=!0,s=!(!i||!i.uri);r&&this.Nht.p$("audio"),e&&this.Nht.p$("video"),this.N$.vht.forEach(function(t){t.Mst(),r&&t.Gst(),e&&t.jst()}),this.N$.pht(e,r,s,22),this.N$.vht.forEach(function(t){return t.Vst()}),this.XK()}},i.zw=function(){this.WK(),this.N$.Utt&&this.N$.Bot()},i.qw=function(){this.WK(),this.XK(),this.N$.UK()},i.Dat=function(t){var n=this.kat||0;return this.CJ?t-n<0?0:l.round((t-n)*this.CJ-.5)||0:NaN},i.Oat=function(t){var n=this.kat||0;return this.CJ?n+(t+.5)/this.CJ:NaN},i.Cat=function(){this.kat=NaN,this.removeEventListener("m$",this.mat),this.addEventListener("m$",this.mat),this.N$.removeEventListener("w6",this.mat),this.N$.addEventListener("w6",this.mat)},L(n,[{key:"Iat",get:function(){return this.Nht},set:function(t){this.Rat(),this.iat(),this.eat(),this.Nht=t,this.gat()}},{key:"K4",get:function(){return this.Nht&&!this.zht?this.Nht.$ht():this.Cht},set:function(t){t=this.Kht(t),this.Bht=this.Cht=t,this.Nht?this.Nht.xat(t):(this.hat(),this.sat())}},{key:"Zht",get:function(){return this.Nht&&!this.zht?this.K4:this.Dht},set:function(t){"start"===t&&(t=this.N$.Utt?1/0:0),t=this.Kht(t),this.Dht=t,this.Bht=this.Cht=t,this.pat(S_.ew(this.Cht)),this.K4=t}},{key:"Yy",get:function(){return this.N$.Nut},set:function(t){this.N$.Nut=t}},{key:"W_",get:function(){return this.Nht?this.Nht.W_:this.Oht},set:function(t){var n=this.Oht;t>0&&(this.Oht=t,this.Nht&&(this.Nht.W_=t),this.N$.Z4=t,this.Oht!==n&&this.dispatchEvent("Pat"))}},{key:"Iy",get:function(){var t=this.N$.Iy;if(!t.length||!this.N$.Utt)return t;var n=t.start(0),i=this.N$.Ytt;return i=l.max(this.K4,i),new wO([{WR:n,zR:i}])}},{key:"gy",get:function(){return this.Zst(this.K4)}},{key:"CJ",get:function(){var t=this.Ght;return t&&t.CJ||NaN}},{key:"kat",get:function(){return this.jht},set:function(t){this.jht!==t&&(this.dispatchEvent(new PL(t)),this.jht=t)}},{key:"mK",get:function(){return Boolean(this.CJ)&&!w(this.kat)}}]),n}(PC),LL=function(t){function n(n){var i;return(i=t.call(this)||this).Bat=null,i.aK=void 0,i.Lat=[],i.Mat=function(t){return i.Uat(t)},i.Fat=function(){return i.Hat()},i.aK=n,i.Lat=[],i}U(n,t);var i=n.prototype;return i.Ub=function(t){var n,i;"metadata"===t.kind&&(t.mode=Yd.Zl,n=this.aK.t$(t.id,t.inBandMetadataTrackDispatchType),i=this.Vat.bind(this,n),this.Lat.push({Xat:t,Wat:i,LJ:n}),t.addEventListener("cuechange",i))},i.Ix=function(){for(var t=this.Bat.Xw,n=t&&t.length,i=0;i<n;i+=1)this.Ub(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Mat),t.addEventListener("change",this.Fat))},i.Vat=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,s=0;s<r;s++){var u=rI(i[s].value),o=new vI(e,u);t.Hb(o)}},i.Hat=function(){for(var t=0,n=this.Lat;t<n.length;t++){var i=n[t].Xat;i.mode!==Yd.Zl&&(i.mode=Yd.Zl)}},i.Uat=function(t){this.Ub(t.track)},i.qat=function(){for(var t=this.Bat,n=t&&t.Xw,i=0,r=this.Lat;i<r.length;i++){var e=r[i];e.Xat.removeEventListener("cuechange",e.Wat)}this.Lat.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Mat),n.removeEventListener("change",this.Fat))},i.Lv=function(){this.qat(),this.Bat=null,this.aK=null,this.Mat=null,this.Fat=null},i.Cl=function(){this.qat(),this.Bat&&this.Ix()},n}(PC),ML=function(t){function n(n){var i;return(i=t.call(this)||this).N$=void 0,i.zat=void 0,i.Nht=null,i.Dht="start",i.Oht=1,i.Xv=!1,i.Gat=null,i.jat=null,i.Qat=NaN,i.Yat=NaN,i.Zat=null,i.Jat=function(){i.Nht.removeEventListener("loadstart",i.Jat),i.Nht.removeEventListener("play",i.Jat),i.N$.mht()},i.Ust=function(){var t=i.N$.aK.E$;if(t&&(!i.Gat||i.Gat.WR>i.K4||i.Gat.zR<i.K4)){var n=i.N$.lb.M6(t,S_.ew(i.K4));if(!n)return void i.Nht.addEventListener("timeupdate",i.Ust);i.Gat={WR:n.qtt.K_(),zR:n.qtt.vg(S_.ew(n.xp.duration)).K_(),tY:n.xp.tY,KZ:null},i.dispatchEvent({type:"Fst",mb:n.xp})}},i.bot=function(){var t=i.N$.aK,n=t.S$.kZ.length?t.S$.kZ:t.bJ.kZ,r=i.Nht.G_,e=i.Nht.z_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),u=s&&s.length?s[0]:null;u!==i.jat&&(i.jat=u,i.dispatchEvent({type:"m$",qZ:u}))},i.$at=function(t){i.dispatchEvent({type:"m$",qZ:t.qZ})},i.Kat=function(){if(i.Nht){var t=i.Nht.Iy,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Yat&&(i.Yat=n,i.Qat=Hb())}},i.tct=function(){i.Xv=!0},i.nct=function(){i.Xv&&(i.Xv=!1,i.ict())},i.N$=n,i.zat=new LL(n.aK),n.addEventListener("Xv",i.tct),n.addEventListener("Ey",i.nct),i}U(n,t);var i=n.prototype;return i.Kht=function(t){var n=this.Nht.Iy;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.ict=function(){if(this.Nht){var t=this.Nht.currentTime,n=this.Nht.paused;this.Nht.load(),this.Nht.currentTime=t,n||this.Nht.play()}},i.rct=function(){this.Nht&&(this.Nht.addEventListener("loadstart",this.Jat),this.Nht.addEventListener("play",this.Jat),this.Nht.addEventListener("timeupdate",this.Ust),this.Nht.addEventListener("timeupdate",this.bot),c(this.Zat),this.Zat=a(this.Kat,250))},i.ect=function(){c(this.Zat),this.Nht&&(this.Nht.removeEventListener("loadstart",this.Jat),this.Nht.removeEventListener("play",this.Jat),this.Nht.removeEventListener("timeupdate",this.Ust),this.Nht.removeEventListener("timeupdate",this.bot))},i.xh=function(t){t=t||"none",this.ect(),this.rct(),this.N$.removeEventListener("Rht",this.$at),this.N$.addEventListener("Rht",this.$at),"none"!==t&&this.Jat()},i.Lv=function(){this.Mo(),this.zat.Lv(),this.Iat=null,this.N$.removeEventListener("Rht",this.$at)},i.Cl=function(){this.Dht="start",this.Oht=1,this.Xv=!1,this.Gat=null,this.jat=null,this.Qat=NaN,this.Yat=NaN,c(this.Zat),this.zat.Cl()},i.qw=function(){},i.zw=function(){},i.HK=function(){},i.dat=function(){},i.ztt=function(t){var n=this.N$.aK.E$;return this.N$.lb.ztt(n,t).K_()},i.Zst=function(t){var n,i,r=this.N$.aK.E$,e=this.N$.lb,s=t,u=this.Gat;if(u)u.KZ||(u.KZ=e.Wtt(r,u.tY)),n=u.WR,i=u.KZ;else{var o=e.M6(r,S_.ew(s));if(!o)return null;n=o.qtt.K_(),i=e.Wtt(r,o.xp.tY)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Dat=function(t){return NaN},i.Oat=function(t){return NaN},L(n,[{key:"sct",get:function(){return null}},{key:"gy",get:function(){return this.Zst(this.K4)}},{key:"Iat",get:function(){return this.Nht},set:function(t){this.ect(),this.Nht=t,this.Nht&&(this.zat.Bat=this.Nht,this.zat.Ix())}},{key:"Zht",get:function(){return this.Nht?this.Nht.$ht():this.Dht},set:function(t){"start"===t&&(t=this.N$.Utt?1/0:0),t=this.Kht(t),this.Dht=t,this.Nht&&this.Nht.xat(t)}},{key:"K4",get:function(){return this.Zht},set:function(t){t=this.Kht(t),this.Zht=t}},{key:"Yy",get:function(){return 1/0},set:function(t){}},{key:"W_",get:function(){return this.Nht?this.Nht.W_:this.Oht},set:function(t){t>0&&(this.Oht=t,this.Nht&&(this.Nht.W_=t))}},{key:"Iy",get:function(){var t,n,i,r=this.Nht?this.Nht.Iy:null,e=this.N$.lb.Iy;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Yat||r.end(r.length-1))+this.N$.lb.Ztt.K_(),isFinite(this.Qat)&&(i+=(Hb()-this.Qat)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.N$.lb.Ytt.K_()}return i=l.min(n,i),i=l.max(this.K4,i),new wO([{WR:t,zR:i}])}},{key:"CJ",get:function(){return NaN}},{key:"kat",get:function(){return NaN}},{key:"mK",get:function(){return!1}}]),n}(PC),UL=function(t){function i(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e)||this).uct=new ns,o.hct=void 0,o.Bb=void 0,o.act=function(){return o.cct()},o.io=tg.WEBVTT,o.n_=K_.NONE,o.e_=Cf(s),o.Po(kd.ll,o.act),o.Bb=u,o}U(i,t);var r=i.prototype;return r.xh=function(){this.e_&&!this.hct&&(this.hct=this.Od(this.uct.Io),this.hct.catch(us))},r.Od=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.e_,t.prev=1,this.n_=K_.LOADING,r=new Sf({vv:i,Nv:pf.GET,ov:zo.Je,Io:n}),t.next=6,this.Bb.cv(r);case 6:return e=t.sent,t.next=9,e.Ds();case 9:s=t.sent,this.W0(e,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),ss(t.t0),this.pS(gy(t.t0,this.e_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.HK=function(){this.n_!==K_.LOADED&&(this.n_=K_.NONE,this.uct.Eo(),this.uct=new ns,this.hct=void 0)},r.pS=function(t){this.n_=K_.ERROR,this.xo(new $l(t))},r.Lv=function(){this.HK(),this.uct.mo(),t.prototype.Lv.call(this)},r.cct=function(){switch(this.t_){case Yd.Jl:case Yd.Zl:this.xh();break;case Yd.Yl:this.HK()}},r.W0=function(t,i){try{for(var r=Zg(i).i_,e=0;e<r.length;e++){var s=r[e];this.Hb(s)}this.n_=K_.LOADED}catch(i){this.pS(new uy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+wy(this.io)+" subtitle file.",this.e_,t.sv,i))}},i}(hR);function FL(t){return ey(t.kind)}var HL=function(){function t(t,n,i,r){this.fct=void 0,this.Xw=void 0,this.vct=void 0,this.Bb=void 0,this.fct=t,this.Xw=i,this.vct=n,this.Bb=r,this.Cl()}var n=t.prototype;return n.dct=function(t){if(this.lct(),t)if(this.vct)for(var n=0;n<t.length;n++){var i=t[n];this.QS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this._ct(e)}},n.QS=function(t){var n=FL(t);if(dy(n,t.label||""));else{var i=e.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.fct.appendChild(i)}},n._ct=function(t){var n=FL(t),i=new UL(n,t.id,t.label,t.srclang,t.src,this.Bb);t.default&&(i.t_=Yd.Jl),this.Xw.Rl(i)},n.lct=function(){for(var t=this.Xw.Dl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.gct&&this.Xw.Il(i)}},n.wct=function(){this.lct()},n.Cl=function(){this.lct()},t}(),VL=function(){function t(t){this.bK=void 0,this.bK=t}var n=t.prototype;return n.Po=function(t,n){this.bK.addEventListener(t,n)},n.Uo=function(t,n){this.bK.removeEventListener(t,n)},L(t,[{key:"M_",get:function(){return this.bK.currentTime}},{key:"X_",get:function(){return this.bK.paused}},{key:"q_",get:function(){return this.bK.seeking}}]),t}(),XL=function(t){function n(n,i){var r;(r=t.call(this)||this).yct=void 0,r.Xw=void 0,r.mct=void 0,r.kct=void 0,r.Nht=void 0,r.pct=!0,r.Act=function(t){return r.bct(t)},r.Tct=function(){return r.Ect()},r.Sct=function(){return r.Rct()},r.Ict=function(){return r.Nct()},r.Mat=function(t){return r.Uat(t.nl)},r.Cct=function(t){return r.Dct(t.nl)},r.Oct=function(){return r.xct()},r.yct=n,r.Xw=i,r.yct.addEventListener("seeking",r.Oct),r.yct.addEventListener("seeked",r.Oct),r.mct=new fI(new VL(n));for(var e=0,s=r.Xw.Dl;e<s.length;e++){var u=s[e];r.Uat(u)}return r.Xw.Po(_d.Qd,r.Mat),r.Xw.Po(_d.Zd,r.Cct),r}U(n,t);var i=n.prototype;return i.bct=function(t){this.Xw.Rl(t.nl)},i.Ect=function(){for(var t=this.Xw.Dl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.gct&&this.Xw.Il(i)}},i.Rct=function(){var t=this.Iat,n=[],i=t&&t.Xw;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var s=e.THEOplayerTextTrack;if(!s){var u=this.fX(e);s=new sI(e,u,this.vH),e.THEOplayerTextTrack=s,this.Xw.Rl(s)}n.push(s)}}for(var o=0,h=this.Xw.Dl;o<h.length;o++){var a=h[o];uI(a)&&-1===n.indexOf(a)&&this.Xw.Il(a)}},i.fX=function(t){for(var n=this.Iat.wy.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Nct=function(){for(var t=0,n=this.Xw.Dl;t<n.length;t++){var i=n[t];uI(i)&&i.dH()}},i.xct=function(){this.Pct()},i.Uat=function(t){t instanceof hR&&this.mct.Rl(t)},i.Dct=function(t){t instanceof hR&&this.mct.Il(t)},i.Pct=function(){var t=this.Xw.Dl;if(t.length)for(var n=this.yct.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof hR){for(var s=[],u=0,o=e.i_.Dl;u<o.length;u++){var h=o[u];if(!(h.Yy<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];e.LF(c)}}}},i.Lv=function(){this.yct.removeEventListener("seeking",this.Oct),this.yct.removeEventListener("seeked",this.Oct);for(var t=0,n=this.Xw.Dl;t<n.length;t++){var i=n[t];this.Dct(i)}this.Xw.Uo(_d.Qd,this.Mat),this.Xw.Uo(_d.Zd,this.Cct),this.mct.Lv(),this.aK=null,this.Iat=null},L(n,[{key:"aK",get:function(){return this.kct},set:function(t){var n=this.kct;if(n){for(var i=0,r=n.Xw;i<r.length;i++){var e=r[i];this.Xw.Il(e)}n.removeEventListener("n$",this.Act),n.removeEventListener("Lv",this.Tct)}if(this.kct=t,t){for(var s=0,u=t.Xw;s<u.length;s++){var o=u[s];this.Xw.Rl(o)}t.addEventListener("n$",this.Act),t.addEventListener("Lv",this.Tct)}}},{key:"Iat",get:function(){return this.Nht},set:function(t){var n=this.Nht;n&&n.Xw&&n.Xw.removeEventListener&&(n.Xw.removeEventListener("addtrack",this.Sct),n.Xw.removeEventListener("removetrack",this.Sct),n.Xw.removeEventListener("change",this.Ict)),this.Nht=t,t&&t.Xw&&t.Xw.addEventListener&&(t.Xw.addEventListener("addtrack",this.Sct),t.Xw.addEventListener("removetrack",this.Sct),t.Xw.addEventListener("change",this.Ict)),this.Rct(),this.Nct()}},{key:"vH",get:function(){return this.pct},set:function(t){if(this.pct!==t){this.pct=t;for(var n=0,i=this.Xw.Dl;n<i.length;n++){var r=i[n];uI(r)&&(r.vH=t)}}}}]),n}(PC),WL=function(){function t(t,n){this.xv=void 0,this.jd=void 0,this.Bct=[],this.Lct=new Go,this.Mct=ne(),this.Uct=new ns,this.xv=!(!t||t.crossOrigin!==fl.p_&&!t.Fct),this.jd=n}var n=t.prototype;return n.Hct=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h,a,c,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.Du(n),e=0,s=this.Bct;e<s.length;e++)null===(u=s[e]).fs||void 0===u.fs?r.searchParams.delete(u.Vct):r.searchParams.set(u.Vct,u.fs);return t.prev=2,o=new Sf({vv:r.href,ov:zo.Sc,uv:this.Lct,xv:this.xv,Nv:pf.GET,Io:i,io:Af.wv,Dv:bf.Ev}),t.next=6,this.jd.cv(o);case 6:return h=t.sent,t.next=9,h.Ds();case 9:return a=t.sent,c=new y(a),v=new y(16),16!==c.length&&lt("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=Fu(c,0,16)),v.set(c,16-c.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),ss(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return T.reject(new MC(LC.GQ,{code:"CAD1603"}));var i=this.Mct.get(n);return i||(i=this.Hct(n,this.Uct.Io),this.Mct.set(n,i)),i},n.Lv=function(){this.Uct.Eo(),this.Mct.clear()},n.Xct=function(t,n){this.Bct.push({Vct:t,fs:n})},n.Wct=function(t,n){this.Lct.append(t,n)},t}(),qL=function(t){this.yct=void 0,this.yct=t},zL=e.createElement("video");var GL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.oot=function(t){return!!function(t){return zL.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(qL);BC.je.pL("AvoidUnsupportedCodecsRule",GL);var jL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.oot=function(t,n,i,r){return!("y9"===r.S6)||t.bandwidth<2e6},n}(qL);BC.je.pL("AvoidHighBitrateStreamsRule",jL);var QL=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.qct=function(t){if(!t.resolution)return!0;var n=this.yct.element.getBoundingClientRect(),i=r.innerWidth||e.documentElement.clientWidth,s=r.innerHeight||e.documentElement.clientHeight,u=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,s)-l.max(0,n.top)),h=b.Pu.ru;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.oot=function(t){return this.qct(t)},n}(qL);BC.je.pL("AvoidVideoResolutionGreaterThanDisplaySizeRule",QL);var YL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.oot=function(t,n,i){if(i.O5<=0)return!1;var r=i&&.8*i.O5;return!(r&&!w(r)&&t.bandwidth)||r>t.bandwidth*this.yct.playbackRate},n}(qL);BC.je.pL("DownloadMetricRule",YL);var ZL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.oot=function(t){return!0},n}(qL);BC.je.pL("LimitVideoQualityToDisplaySizeRule",ZL);var JL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.oot=function(t,n){return!n||(n.IJ===KC.lv||t.IJ===KC.lv||(n.IJ===KC.$Y||t.IJ===KC.$Y||n.IJ===t.IJ))},n}(qL);function $L(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function KL(t,n){var i=n;for(var r in t)nt(t[r])?(i[r]=i[r]||{},KL(t[r],i[r])):Y.call(i,r)||(i[r]=t[r]);return i}function tM(t,n){var i=KL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case fl.k_:case fl.p_:break;default:n=fl.A_}return t&&t.withCredentials&&(n=fl.p_),t&&t.vr&&t.vr[360]&&n===fl.A_&&(n=fl.k_),n}(i),i}function nM(t){et(t)&&t.then(S,S)}BC.je.pL("OnlyAllowSameTrackTypeRenditionsRule",JL);var iM,rM=500,eM=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],sM=function(t){function n(n,i){var r;return(r=t.call(this)||this).zct=void 0,r.cS=void 0,r.Gct=void 0,r.vS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.aV=function(){var t=r.cS.MS.error&&r.cS.MS.error.code;t&&r.pS(new MC(LC.WQ,{code:"VEE"+t}))},r.jct=function(t){r.dispatchEvent({type:t.type,error:r.cS.MS.error})},r.Qct=function(){h(r.Gct),r.Gct=void 0,r.cS.MS.removeEventListener("timeupdate",r.Qct),r.cS.Uo(xl.L_,r.Qct)},r.Yct=function(){void 0!==r.Gct&&r.Qct(),r.Gct=o(function(){r.cS.MS.currentTime+=.1,r.Qct()},rM),r.cS.MS.addEventListener("timeupdate",r.Qct),r.cS.Po(xl.L_,r.Qct)},r.Zct=function(){switch(r.cS.MS.readyState){case _l.I_:case _l.N_:case _l.C_:r.Yct();break;case _l.R_:case _l.S_:}},r.zct=n,r.cS=i,r}U(n,t);var i=n.prototype;return i.setup=function(){this.KJ(),this.cS.MS.parentNode!==this.zct&&this.zct.appendChild(this.cS.MS),this.loaded=!1,this.cS.MS.preload="metadata",this.cS.MS.addEventListener("play",this.Zct),this.cS.MS.addEventListener("loadeddata",this.Zct),this.dispatchEvent("Jct")},i.KJ=function(){for(var t=0;t<eM.length;t++){var n=eM[t];this.cS.MS.addEventListener(n,this.jct,!0)}this.cS.MS.addEventListener("error",this.aV,!0),this.cS.Po(xl.gl,this.jct),this.cS.Po(xl.L_,this.jct)},i.$ct=function(){for(var t=0;t<eM.length;t++){var n=eM[t];this.cS.MS.removeEventListener(n,this.jct,!0)}this.cS.MS.removeEventListener("error",this.aV,!0),this.cS.Uo(xl.gl,this.jct),this.cS.Uo(xl.L_,this.jct)},i.pS=function(t){this.vS=t,this.dispatchEvent({type:"error",error:t})},i.D7=function(){return T.resolve()},i.load=function(){this.cS.MS.load(),this.loaded=!0},i.unload=function(){return this.Qct(),this.Mo(),this.$ct(),this.cS.MS.removeEventListener("play",this.Zct),this.cS.MS.removeEventListener("loadeddata",this.Zct),Or(this.cS.MS),this.cS.MS},i.play=function(){var t=this.W_;nM(this.cS.MS.play()),this.W_=t},i.pause=function(){this.cS.MS.pause()},i.Gw=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.xat(0)}catch(t){}this.dispatchEvent("reset")},i.ey=function(){return this.cS.MS},i.$ht=function(){return this.cS.MS.currentTime},i.xat=function(t){this.cS.MS.currentTime=t},i.canPlayCodecs=function(t){return this.cS.MS.canPlayType('video/mp4; codecs="'+t+'"')},L(n,[{key:"wat",get:function(){return!0}},{key:"wy",get:function(){return this.cS.MS}},{key:"_y",get:function(){return this.cS.MS.buffered}},{key:"j_",get:function(){return this.cS.MS.volume},set:function(t){this.cS.MS.volume=t}},{key:"duration",get:function(){return this.cS.MS.duration}},{key:"muted",get:function(){return this.cS.MS.muted},set:function(t){this.cS.MS.muted=t}},{key:"paused",get:function(){return this.cS.MS.paused}},{key:"played",get:function(){return this.cS.MS.played}},{key:"poster",get:function(){return this.cS.MS.poster},set:function(t){t?this.cS.MS.poster=t:this.cS.MS.removeAttribute("poster")}},{key:"controls",get:function(){return this.cS.MS.controls},set:function(t){t?this.cS.MS.controls=t:this.cS.MS.removeAttribute("controls")}},{key:"ended",get:function(){return this.cS.MS.ended}},{key:"seeking",get:function(){return this.cS.MS.seeking}},{key:"error",get:function(){return this.cS.MS.error}},{key:"width",get:function(){return this.cS.MS.offsetWidth}},{key:"height",get:function(){return this.cS.MS.offsetHeight}},{key:"src",get:function(){return this.cS.MS.src},set:function(t){this.cS.MS.src=t}},{key:"G_",get:function(){return this.cS.MS.videoWidth}},{key:"z_",get:function(){return this.cS.MS.videoHeight}},{key:"Xw",get:function(){return this.cS.MS.textTracks}},{key:"Utt",get:function(){return this.cS.MS.duration===1/0}},{key:"Iy",get:function(){var t=this.cS.MS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.$ht()||0),new wO([{WR:n,zR:i}])}},{key:"W_",get:function(){return this.cS.MS.playbackRate},set:function(t){t>0&&(this.cS.MS.playbackRate=t)}},{key:"n_",get:function(){return this.cS.n_}},{key:"Kct",get:function(){return void 0!==this.cS.MS.webkitSupportsPresentationMode&&this.cS.MS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"tft",get:function(){return"picture-in-picture"===this.cS.MS.webkitPresentationMode}},{key:"nft",get:function(){return this.cS.MS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.cS.MS.webkitSetPresentationMode(t)}}]),n}(PC);!function(t){t[t.ift=0]="ift",t[t.rft=1]="rft",t[t.lj=2]="lj",t[t.eft=3]="eft",t[t.sft=4]="sft"}(iM||(iM={}));var uM=function(){function t(){this.uft=!1,this.oft=null,this.hft=null,this.aft=null,this.tL=[],this.cft=null}var n=t.prototype;return n.fft=function(){if(!this.uft)return!1;for(var t=this.oft,n=this.hft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.vft=function(t){switch(t.io){case iM.ift:return this.dft(t.Ds,t.qtt,t.MD);case iM.rft:return this.lft(t._ft);case iM.lj:return this.gft(t.wft,t.yft);case iM.eft:return this.nL();case iM.sft:return this.mft(t.MD)}},n.dft=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.hft,w(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.kft();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.lft=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.hft,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),s=l.min(r.end(0),n),!((u=s-e)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(e,s),t.next=11,this.kft();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gft=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oft,r=this.hft,e=r.buffered,!((s=e.length)>0)){t.next=12;break}if(u=l.max(e.start(0),n),o=l.min(e.end(s-1),i),!(o-u>0)){t.next=12;break}return r.remove(u,o),t.next=12,this.kft();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nL=function(){var t=T.coroutine($r.mark(function t(){var n,i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.oft,i=this.hft,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,dd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.mft=function(t){return T.resolve(t())},n.pft=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zU(n)){t.next=5;break}return t.next=3,_s(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zU=function(t){var n=this.oft;if(!n.open||"open"!==n.readyState||!this.fft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.kft=function(){var t=this;return new T(function(n,i){var r,e=t.hft,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?n():i(new f(r))},c=function(){e.removeEventListener("update",u),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",u),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.Aft=function(){var t=this;this.aft||(0!==this.tL.length||this.cft)&&this.fft()&&(this.aft=this.bft().then(function(){t.aft=null}))},n.bft=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.tL.length>0)){t.next=9;break}if(this.fft()){t.next=4;break}return t.abrupt("return");case 4:return n=this.tL.shift(),t.next=7,this.vft(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.pft("decode").catch(S);case 16:if(!this.cft){t.next=26;break}return t.prev=17,t.next=20,this.pft(this.cft.Qo);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.cft=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.Ix=function(t,n){this.uft||(this.uft=!0,this.oft=t,this.hft=n,this.Aft())},n.vg=function(t,n,i){this.tL.push({io:iM.ift,Ds:t,qtt:n,MD:i}),this.Aft()},n.Tft=function(t,n){this.tL.push({io:iM.lj,wft:t,yft:n}),this.Aft()},n.Eft=function(t){this.tL.push({io:iM.rft,_ft:t}),this.Aft()},n.Eo=function(){this.tL.push({io:iM.eft}),this.Aft()},n.Sft=function(t){this.tL.push({io:iM.sft,MD:t}),this.Aft()},n.Lst=function(t){this.cft={Qo:t},this.Aft()},n.sh=function(){this.tL.length=0,this.cft=null},t}();var oM=function(t){function n(n){var i;return(i=t.call(this)||this).oft=void 0,i.hft=null,i.Rft=new uM,i.Yy=NaN,i.Ift=null,i.Oo=function(t){return i.dispatchEvent(t)},i.Nft=function(){return i.d6()},i.oft=n,i.Cl(),i}U(n,t);var i=n.prototype;return i.Cft=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.D7=function(t,n,i,r){var e=this;if(!this.hft||!n)return T.resolve();var s=n.initializer.Ds,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Ift,s);if(r&&(Q.Pe||this.Rft.Eo()),r)if(Q.Pe);else{var o=t&&t.WR,h=t&&t.WR+t.U_-.5;this.Rft.Tft(o,h)}return u&&(this.Rft.vg(s,i,this.Cft.bind(this)),this.Ift=s),new T(function(t,r){e.Rft.vg(n.m4s.Ds,i,function(n){n?r(n):t()})})},i.sM=function(){var t=this;return new T(function(n){t.Rft.Sft(function(){var i=t._y;i&&i.length&&(t.Yy=i.end(i.length-1)),n()})})},i.KU=function(t){if(!this.hft){try{this.hft=this.oft.addSourceBuffer(t),this.hft.addEventListener("updatestart",this.Oo),this.hft.addEventListener("updateend",this.Oo)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.oft.addEventListener("sourceclose",this.Nft),this.Rft.Ix(this.oft,this.hft)}return!0},i.fft=function(){for(var t=0;t<this.oft.sourceBuffers.length;t++)if(this.oft.sourceBuffers[t]===this.hft)return!0;return!1},i.Ph=function(t){var n=this,i=this._y;if(!(this.hft&&i&&i.length))return t&&t();this.hft.remove(0,i.end(i.length-1)),t&&this.hft.addEventListener("updateend",function i(r){n.hft.removeEventListener("updateend",i),t()})},i.Cl=function(t){this.Ift=null,this.Yy=NaN,this.d6(),this.Ph(t)},i.Eft=function(t){this.hft&&this.Rft.Eft(t)},i.Lst=function(t){this.hft&&this.Rft.Lst(t)},i.d6=function(){this.Rft.sh(),"open"===this.oft.readyState&&this.hft&&this.hft.updating&&this.hft.abort()},L(n,[{key:"_y",get:function(){return this.hft&&this.fft()?new wO(EO(this.hft.buffered)):null}},{key:"mO",get:function(){return this.hft&&this.hft.updating}},{key:"F_",get:function(){var t=this._y;return!t||!w(this.Yy)&&bO(t,this.Yy)}}]),n}(PC),hM="mp4a.40.34";var aM=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Dft=!1,i.fN=function(){var t=i.Dft;i.Dft=i.mO,!t&&i.Dft?i.dispatchEvent("updatestart"):t&&!i.Dft&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new oM(n),i.videoTrackBuffer=new oM(n),i.audioTrackBuffer.addEventListener("updatestart",i.fN),i.videoTrackBuffer.addEventListener("updatestart",i.fN),i.audioTrackBuffer.addEventListener("updateend",i.fN),i.videoTrackBuffer.addEventListener("updateend",i.fN),i.Cl(),i}U(n,t);var i=n.prototype;return i.D7=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.AZ&&i.push(this.audioTrackBuffer.D7(n.metadata.AZ,n.AZ,n.metadata.AZ&&n.metadata.AZ.w2===hM?n.metadata.AZ.WR:NaN,n.metadata.y3)),n.bZ&&i.push(this.videoTrackBuffer.D7(n.metadata.bZ,n.bZ,NaN,n.metadata.y3)),t.next=7,T.all(i);case 7:this.F_&&(this.audioTrackBuffer.Lst(),this.videoTrackBuffer.Lst());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Lst=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.sM()),i&&r.push(this.videoTrackBuffer.sM()),t.next=5,T.all(r);case 5:this.F_&&(this.audioTrackBuffer.Lst(),this.videoTrackBuffer.Lst());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ix=function(t){var n,i={};for(var r in t)if(Y.call(t,r)){var e=t[r];if(e.bZ){var s='video/mp4; codecs="'+e.bZ+'"';this.videoTrackBuffer.KU(s),i.bZ=this.videoTrackBuffer}if(e.AZ){var u=(n=e.AZ)!==hM||Fy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.KU(u),i.AZ=this.audioTrackBuffer}0}return i},i.Cl=function(t){var n=!1,i=!1;this.Dft=!1,this.audioTrackBuffer.Cl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Cl(function(){if(i=!0,n&&t)return t()})},i.Eft=function(t){this.audioTrackBuffer.Eft(t),this.videoTrackBuffer.Eft(t)},i.d6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.d6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.d6()},L(n,[{key:"_y",get:function(){var t=this.audioTrackBuffer._y,n=this.videoTrackBuffer._y;return t&&n?pO(t,n):t||n||yO}},{key:"WL",get:function(){return this.audioTrackBuffer._y||yO}},{key:"qL",get:function(){return this.videoTrackBuffer._y||yO}},{key:"mO",get:function(){return this.audioTrackBuffer.mO||this.videoTrackBuffer.mO}},{key:"F_",get:function(){return this.audioTrackBuffer.F_&&this.videoTrackBuffer.F_}}]),n}(PC),cM=1,fM=.05,vM=.01;function dM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function lM(t,n,i,r){var e=TO(n,t),s=t;if(!(!r&&e>=0&&t<n.end(e)-fM)){var u,o;do{if((u=dM(t,n))<0)return;t=(o=n.start(u)+vM)+fM}while(n.end(u)-o<fM);for(var h=o-s,a=pO(new wO([{WR:s,zR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-s),h<cM?o:void 0}}var _M=100,gM=1e-4,wM=500,yM=qy,mM=Q.be,kM=5,pM=["resize","volumechange"],AM=function(n){function i(t,i){var r;return(r=n.call(this)||this).Oft=void 0,r.cS=void 0,r.xft=!0,r.F_=!1,r.Pft=!1,r.Bft=!1,r.Lft=null,r.Qo=!1,r.oft=null,r.hft=null,r.Mft=null,r.uft=!1,r.Uft=0,r.Fft=Jp.SI(),r.Oht=1,r.Hft=!1,r.fF=!1,r.q_=!1,r.Vft=new ns,r.Xft=!1,r.Wft=!1,r.qft=void 0,r.zft=null,r.Gft=null,r.jft=_l.S_,r.Qft=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Yft=function(){r.Qft=!1,r.Zft(),r.Jft(),r.$ft()},r.Kft=function(){r.tvt(),r.$ft(),r.nvt()},r.TS=function(){r.ivt(),r.tvt(),r.gF()?r.dispatchEvent("playing"):r.Qft=!0},r.rvt=function(){r.Qft=!1,r.Zft(),r.Gw()},r.qU=function(){r.evt()},r.bS=function(){r.svt(),r.nvt()},r.yU=function(){var t=r.jft,n=r.n_;t!==n&&(r.jft=n,r.dispatchEvent(new Jl(r.$ht(),n))),r.nvt()},r.Jft=function(){r.Uft&&(c(r.Uft),r.Uft=0,mM&&(r.cS.MS.removeEventListener("timeupdate",r.gX),r.removeEventListener(xl.gl,r.kX)))},r.uvt=function(){r.Uft||(r.Uft=a(r.ovt,wM)),mM&&(r.cS.MS.addEventListener("timeupdate",r.gX),r.addEventListener(xl.gl,r.kX),r.gX()),r.ovt()},r.avt=function(){var t=r.$ht(),n=bO(r.cvt,t);r.cS.X_||r.q_&&!n||r.fvt()||r.uvt()},r.ovt=function(t){if(!(r.zft||void 0===t&&r.Wft)){var n,i=r.$ht(),e=r._y;if(void 0===t){if(void 0===(n=lM(i,e,r.cvt,r.Pft)))return}else{if(!bO(e,t))return;n=t}var s=function(){r.cS.MS.currentTime=n,r.vvt(n),r.Jft(),r.Wft=!0};Gt(n,i)?r.zft=o(function(){r.zft=null,i=r.$ht(),Gt(n,i)&&(n+=1e3*wM,s())},wM):s()}},r.KX=function(){var t=r.Mft;if(r.dvt(),r.cS.MS.readyState===_l.S_)return r.Mft=t,void r.cS.MS.addEventListener("loadedmetadata",r.KX);l.abs(r.cS.MS.currentTime-t)<gM?r.bS():(r.cS.MS.currentTime=t,r.Wft=!1,r.qU()),r.Mft=null,r.tP(r.Oht),r.cS.zX(),r.lvt(t)&&r.Gw()},r._vt=function(){if(!r.Pft){var t=r.cS.MS,n=r._y,i=t.currentTime;r.gvt(n,i)&&(r.Pft=!0,r.tvt(),i=t.currentTime,r.gvt(n,i)?r.Pft=!0:r.Pft=!1,r.yU()),r.Gft=i}},r.ivt=function(){r.Zft(),r.Lft=a(r._vt,_M)},r.Zft=function(){r.Pft=!1,c(r.Lft)},r.wvt=function(){r.Pft&&(r.Pft=!1,r.yU())},r.gX=function(){var t=r.hft;if(t)if(t.F_)r.wX();else{var n=t.WL,i=t.qL;if(0!==n.length&&0!==i.length){var e=r.$ht();if(e<n.start(0)||e<i.start(0))r.wX();else bO(n,e)!==bO(i,e)?r.yX():r.wX()}else r.wX()}},r.kX=function(){if(!(r.q_||r.Wft||r.cS.MS.seeking||r.n_>=_l.N_)){var t=r.hft;if(t){var n=r.$ht(),i=Jp.bI(t.WL),e=Jp.bI(t.qL);if(i.iR(n)&&e.iR(n))i.aI(e).lI(n-kM,n)&&(r.cS.MS.currentTime=n,r.Wft=!0)}}},r.yvt=function(){r.oft.open=!0,r.oft.removeEventListener("sourceopen",r.yvt),r.oft.removeEventListener("webkitsourceopen",r.yvt)},r.aV=function(t){var n=r.cS.MS.error&&r.cS.MS.error.code;n&&r.pS(new MC(LC.WQ,{code:"VEE"+n}))},r.Oo=function(t){r.dispatchEvent({type:t.type})},r.mvt=function(){r.hft&&r.hft.F_&&r.dispatchEvent("durationchange")},r.kvt=function(){r.removeEventListener("pvt",r.kvt),r.Xft=!1,r.Avt(r.Oht)},r.Oft=t,r.cS=i,r}U(i,n);var e=i.prototype;return e.Avt=function(t){this.fF&&(t=0),this.cS.W_=t,0!==t||yM?this.Hft&&(this.Hft=!1,nM(this.cS.qw())):(this.Hft=!this.cS.X_||this.Hft,this.cS.zw()),this.$ft()},e.tP=function(t){this.Oht=t,this.Xft||this.Avt(t)},e.bvt=function(t){var n=TO(this.cvt,t);return-1===n?null:this.cvt.end(n)},e.evt=function(){this.Wft||this.q_||(this.q_=!0,this.dispatchEvent("seeking"))},e.svt=function(){this.Wft=!1,this.Tvt(),this.q_&&(this.q_=!1,this.dispatchEvent("seeked")),this.avt()},e.tvt=function(){this.Wft||this.avt()},e.Tvt=function(){this.qft&&(h(this.qft),this.qft=void 0)},e.vvt=function(t){var n=this;this.qft=o(function(){n.ovt(t+2)},750)},e.nvt=function(){this.Qft&&this.gF()&&(this.Qft=!1,this.dispatchEvent("playing"))},e.$ft=function(){var t=this.xft,n=this.paused;this.xft=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.oM=function(t,n){if(!(t+.001>n)){var i=new Jp([t,n]);this.Fft=this.Fft.hI(i).cI(Jp.bI(this._y)),this.Fft.iR(this.$ht())&&this.avt()}},e.lvt=function(t){return t>=this.cS.MS.duration-(this.paused?0:.5)},e.Evt=function(t){return w(this.cS.MS.duration)||(t=l.min(t,this.cS.MS.duration)),l.max(0,t)},e.dvt=function(){this.Mft=null,this.cS.MS.removeEventListener("loadedmetadata",this.KX)},e.yF=function(){return this.n_<_l.N_},e.gF=function(){return!(this.paused||this.ended||this.error||this.yF())},e.gvt=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-fM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Gft&&this.Gft===n){if(this.lvt(n))return!1;if(e>n||r-n<1/6)return!0}return!1},e.yX=function(){this.fF||(this.fF=!0,this.Avt(0),this.yU())},e.wX=function(){this.fF&&(this.fF=!1,this.tP(this.Oht),this.cS.MS.currentTime=this.cS.MS.currentTime,this.yU())},e.Svt=function(){var t=this.cS.MS;t.addEventListener("timeupdate",this.wvt),this.cS.Po(qo.oc,this.Yft),this.cS.Po(qo.hc,this.Kft),this.cS.Po(qo.Ka,this.rvt),t.addEventListener("seeking",this.qU),t.addEventListener("seeked",this.bS);for(var n=0;n<pM.length;n++){var i=pM[n];t.addEventListener(i,this.Oo)}t.addEventListener("error",this.aV),t.addEventListener("durationchange",this.mvt),this.cS.Po(qo.pc,this.Oo),this.cS.Po(xl.gl,this.yU),this.cS.Po(xl.L_,this.TS)},e.Rvt=function(){var t=this.cS.MS;t.removeEventListener("timeupdate",this.wvt),this.cS.Uo(qo.oc,this.Yft),this.cS.Uo(qo.hc,this.Kft),this.cS.Uo(qo.Ka,this.rvt),t.removeEventListener("seeking",this.qU),t.removeEventListener("seeked",this.bS);for(var n=0;n<pM.length;n++){var i=pM[n];t.removeEventListener(i,this.Oo)}t.removeEventListener("error",this.aV),t.removeEventListener("durationchange",this.mvt),this.cS.Uo(qo.pc,this.Oo),this.cS.Uo(xl.gl,this.yU),this.cS.Uo(xl.L_,this.TS)},e.Ivt=function(){var n=this.cS.MS,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Nvt(),this.oft=new i,this.oft.addEventListener("sourceopen",this.yvt),this.oft.addEventListener("webkitsourceopen",this.yvt),n.src=nO(this.oft),n.load()):this.pS(new MC(LC.zQ,{code:"MVE2720"})):this.pS(new MC(LC.zQ,{code:"MVE2650"}))},e.Nvt=function(){if(this.uft=!1,this.hft&&(this.hft.Cl(),this.hft=null),this.oft){this.Vft.Eo();var t=this.cS.MS;t.src&&(iO(t.src),Or(t)),this.oft=null}},e.setup=function(){this.Ivt(),this.Svt(),this.cS.MS.parentNode!==this.Oft&&this.Oft.appendChild(this.cS.MS)},e.pS=function(t){this.Qo=t,this.dispatchEvent({type:"error",error:t})},e.fvt=function(){return this.hft&&this.hft.mO},e.Cvt=function(t){var n=this.$ht()-l.max(30,3*t.qZ.AY.targetDuration);this.dispatchEvent("pvt"),this.hft&&!t.w3&&this.hft.Eft(n),this.avt()},e.D7=function(t){if(!this.oft.open||"closed"===this.oft.readyState)return T.reject("Dvt");if(!this.hft)return T.reject("Ovt");var n=this.xvt(t);return this.Bft||(this.Bft=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.xvt=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.hft.D7(n)),i.w3&&r.push(this.Lst(!!n.AZ,!!n.bZ)),n=null,t.next=7,T.all(r);case 7:this.Cvt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.Lst=function(t,n){return this.oft.open&&"closed"!==this.oft.readyState?this.hft?this.hft.Lst(t,n):T.reject("Ovt"):T.reject("Dvt")},e.play=function(){var t=this.cS.W_;this.F_=!1,0!==this.cS.W_||yM?(nM(this.cS.qw()),this.cS.zX(),this.cS.W_=t):this.Hft=!0,this.$ft()},e.pause=function(){0!==this.cS.W_||yM?this.cS.zw():this.Hft=!1,this.$ft()},e.Gw=function(){this.F_||(this.F_=!0,this.cS.zw(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return c(this.Lft),this.Lft=null,this.Jft(),this.dvt(),this.Nvt(),this.Rvt(),this.Mo(),this.cS.MS},e.reset=function(){c(this.Lft),this.Lft=null,this.Jft(),this.dvt(),this.xft=!0,this.F_=!1,this.Pft=!1,this.Bft=!1,this.Qo=!1,this.q_=!1,this.Qft=!1,this.wX(),this.Ivt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.ey=function(){return this.cS.MS},e.$ht=function(){return null===this.Mft?this.cS.MS.currentTime:this.Mft},e.xat=function(t){var n=this.bvt(t);t=this.Evt(t),this.Pft=!1,this.cS.MS.error&&(this.Bft=!1,this.Qo=!1,this.Ivt()),this.F_&&(this.F_=this.lvt(t)),this.Jft(),null!==n&&(t=n),this.dvt(),this.Mft=t,this.q_=!0,this.dispatchEvent("Sat"),this.dispatchEvent("seeking"),this.KX()},e.Pvt=function(t){return this.oft.open?T.resolve(null):dd(this.oft,"sourceopen",t)},e.Bvt=function(t,n,i){es(i),n>0&&(this.oft.duration=n),this.hft=new aM(this.oft);var r=this.hft.Ix(t);return this.dispatchEvent("Jct"),this.hft.addEventListener("updatestart",this.Jft),this.hft.addEventListener("updateend",this.avt),this.uft=!0,this.dispatchEvent("uft"),r},e.yat=function(t,n,i){var r=this;this.Vft.Eo();var e=new ns;return e.So(i),this.Vft=e,this.hft?T.resolve(null):this.Pvt(e.Io).then(function(){return r.Bvt(t,n,i)})},e.p$=function(t){Q.Pe&&(this.Xft=!0,this.Avt(0),this.removeEventListener("pvt",this.kvt),this.addEventListener("pvt",this.kvt),this.hft&&this.hft.d6(t))},e.canPlayCodecs=function(t){return this.cS.MS.canPlayType('video/mp4; codecs="'+t+'"')},L(i,[{key:"cvt",get:function(){return this.Fft.rR()}},{key:"n_",get:function(){var t=this.cS.n_;return t>_l.I_&&(this.Pft||this.fF)?_l.I_:t}},{key:"wy",get:function(){return this.cS.MS}},{key:"_y",get:function(){return this.hft?this.hft._y:this.cS.MS.buffered}},{key:"WL",get:function(){return this.hft?this.hft.WL:yO}},{key:"qL",get:function(){return this.hft?this.hft.qL:yO}},{key:"volume",get:function(){return this.cS.MS.volume},set:function(t){this.cS.MS.volume=t}},{key:"duration",get:function(){return this.cS.MS.duration}},{key:"muted",get:function(){return this.cS.MS.muted},set:function(t){this.cS.MS.muted=t}},{key:"paused",get:function(){return this.cS.X_&&!this.Hft}},{key:"played",get:function(){return this.cS.MS.played}},{key:"poster",get:function(){return this.cS.MS.poster},set:function(t){t?this.cS.MS.poster=t:this.cS.MS.removeAttribute("poster")}},{key:"controls",get:function(){return this.cS.MS.controls},set:function(t){t?this.cS.MS.controls=t:this.cS.MS.removeAttribute("controls")}},{key:"ended",get:function(){return this.F_}},{key:"seeking",get:function(){return this.q_}},{key:"error",get:function(){return this.Qo||this.cS.MS.error}},{key:"width",get:function(){return this.cS.MS.offsetWidth||this.cS.MS.parentNode.offsetWidth}},{key:"height",get:function(){return this.cS.MS.offsetHeight||this.cS.MS.parentNode.offsetHeight}},{key:"W_",get:function(){return this.Oht},set:function(t){var n=this.Oht;t>0&&(this.tP(t),this.Oht!==n&&this.dispatchEvent("ratechange"))}},{key:"G_",get:function(){return this.cS.MS.videoWidth||0}},{key:"z_",get:function(){return this.cS.MS.videoHeight||0}},{key:"wat",get:function(){return this.uft}}]),i}(PC),bM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Lvt","p$",xl.gl],TM=.04,EM=.25,SM=4,RM=.75,IM=1.5,NM=.25,CM=function(t){function n(){var n;return(n=t.call(this)||this).Mvt=null,n.Uvt=null,n.DI=!1,n.LI=1,n.xI=1,n.Fvt=null,n.Hvt=void 0,n.jct=function(t){n.dispatchEvent(t)},n.Vvt=function(t){n.Uvt||n.dispatchEvent(t)},n.Xvt=function(t){var i=t.error||n.Uvt.error;n.audioStream=null,n.Fvt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Fvt})},n.Wvt=function(){n.Uvt&&!n.Uvt.loaded||n.Mvt&&!n.Mvt.loaded||(n.Uvt&&(n.Uvt.removeEventListener("loaded",n.Wvt),n.Uvt.play()),n.Mvt&&(n.Mvt.removeEventListener("loaded",n.Wvt),n.Mvt.play()))},n.qvt=function(){n.zvt(),n.Uvt&&n.Mvt&&(n.Uvt.addEventListener("timeupdate",n.Gvt),n.Mvt.addEventListener("timeupdate",n.Gvt))},n.zvt=function(){h(n.Hvt),n.Uvt&&n.Uvt.removeEventListener("timeupdate",n.Gvt),n.Mvt&&(n.Mvt.W_=n.xI,n.Mvt.removeEventListener("timeupdate",n.Gvt))},n.jvt=function(){n.n_<_l.N_&&n.zvt()},n.Gvt=function(){if(h(n.Hvt),n.Uvt&&n.Mvt){var t=n.Uvt.W_,i=n.Uvt.$ht()-n.Mvt.$ht(),r=l.max(SM,IM*t),e=l.min(EM,RM*t);if(l.abs(i)<TM)n.Mvt.W_!==t&&(n.Mvt.W_=t);else{var s=NM,u=t*(i/s+1);(u<e||u>r)&&(s=i/((u=i>0?r:e)/t-1)),n.Mvt.W_=u,n.Hvt=o(n.Gvt,1e3*s)}}else n.zvt()},n.addEventListener("playing",n.qvt),n.addEventListener("ended",n.zvt),n.addEventListener(xl.gl,n.jvt),n}U(n,t);var i=n.prototype;return i.g$=function(t,n){n?(t.addEventListener("timeupdate",this.jct),t.addEventListener("error",this.Xvt)):(t.addEventListener("timeupdate",this.Vvt),t.addEventListener("error",this.jct));for(var i=0;i<bM.length;i++){var r=bM[i];t.addEventListener(r,this.jct)}},i.Ho=function(t){t.removeEventListener("timeupdate",this.jct),t.removeEventListener("timeupdate",this.Vvt),t.removeEventListener("timeupdate",this.Gvt),t.removeEventListener("error",this.jct),t.removeEventListener("error",this.Xvt),t.removeEventListener("loaded",this.Wvt);for(var n=0;n<bM.length;n++){var i=bM[n];t.removeEventListener(i,this.jct)}},i.Qvt=function(t){this.Uvt&&this.Uvt.Qvt(t),this.Mvt&&this.Mvt.Qvt(t)},i.play=function(){if(this.Uvt&&!this.Uvt.loaded||this.Mvt&&!this.Mvt.loaded)return this.Uvt&&this.Uvt.addEventListener("loaded",this.Wvt),void(this.Mvt&&this.Mvt.addEventListener("loaded",this.Wvt));this.Wvt()},i.pause=function(){this.Uvt&&(this.Uvt.removeEventListener("loaded",this.Wvt),this.Uvt.pause()),this.Mvt&&(this.Mvt.removeEventListener("loaded",this.Wvt),this.Mvt.pause()),this.zvt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Uvt&&this.Uvt.load(),-1!==t.indexOf("video")&&this.Mvt&&this.Mvt.load()):(this.Uvt&&this.Uvt.load(),this.Mvt&&this.Mvt.load())},i.Lv=function(t){this.Mo(),this.Fvt=null,t?(-1!==t.indexOf("audio")&&this.Uvt&&(this.Uvt.Lv(),this.Uvt=null),-1!==t.indexOf("video")&&this.Mvt&&(this.Mvt.Lv(),this.Mvt=null)):(this.Uvt&&(this.Uvt.Lv(),this.Uvt=null),this.Mvt&&(this.Mvt.Lv(),this.Mvt=null))},i.p$=function(t){this.Uvt&&this.Uvt.pause(),this.Mvt&&this.Mvt.pause(),this.zvt(),t&&-1===t.indexOf("audio")||!this.Uvt||this.Uvt.p$(),t&&-1===t.indexOf("video")||!this.Mvt||this.Mvt.p$()},i.D7=function(t){this.Uvt&&t.AZ&&this.Uvt.D7(t),this.Mvt&&t.bZ&&this.Mvt.D7(t)},i.Yvt=function(t){return this.Mvt?this.Mvt.Yvt(t):""},i.Zvt=function(){return this.Mvt?this.Mvt.Zvt():0},i.Jvt=function(){return this.Mvt?this.Mvt.Jvt():0},i.ey=function(){return this.Mvt&&this.Mvt.ey()},i.$ht=function(){return this.Uvt?this.Uvt.$ht():this.Mvt?this.Mvt.$ht():NaN},i.xat=function(t,n){this.Uvt&&this.Uvt.xat(t,n),this.Mvt&&this.Mvt.xat(t,n)},L(n,[{key:"_y",get:function(){return this.Uvt&&this.Mvt?pO(this.Uvt._y,this.Mvt._y):this.Uvt?this.Uvt._y:this.Mvt?this.Mvt._y:yO}},{key:"volume",get:function(){return this.LI},set:function(t){this.LI!==t&&(this.LI=t,this.Uvt&&(this.Uvt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Uvt&&this.Uvt.duration||this.Mvt&&this.Mvt.duration||NaN}},{key:"muted",get:function(){return this.DI},set:function(t){this.DI!==t&&(this.DI=t,this.Uvt&&(this.Uvt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Uvt&&!this.Mvt)&&(!(this.Uvt&&!this.Uvt.loaded)&&!(this.Mvt&&!this.Mvt.loaded))}},{key:"paused",get:function(){return!this.Uvt&&!this.Mvt||(this.Uvt&&this.Uvt.paused||this.Mvt&&this.Mvt.paused||!1)}},{key:"ended",get:function(){return this.Uvt&&this.Uvt.ended||this.Mvt&&this.Mvt.ended||!1}},{key:"seeking",get:function(){return this.Uvt&&this.Uvt.seeking||this.Mvt&&this.Mvt.seeking||!1}},{key:"error",get:function(){return this.Uvt&&this.Uvt.error||this.Mvt&&this.Mvt.error}},{key:"warning",get:function(){return this.Fvt||this.Uvt&&this.Uvt.warning||this.Mvt&&this.Mvt.warning}},{key:"audioStream",get:function(){return this.Uvt},set:function(t){this.Uvt&&(this.Ho(this.Uvt),this.Uvt.Lv()),this.Uvt=t,this.Uvt&&(this.Uvt.volume=this.LI,this.Uvt.muted=this.DI,this.Uvt.W_=this.xI,this.g$(this.Uvt,!0))}},{key:"videoStream",get:function(){return this.Mvt},set:function(t){this.Mvt&&(this.Ho(this.Mvt),this.Mvt.Lv()),this.Mvt=t,this.Mvt&&(this.Mvt.W_=this.xI,this.g$(this.Mvt,!1))}},{key:"W_",get:function(){return this.xI},set:function(t){this.xI!==t&&(t<0||(this.xI=t,this.Uvt&&(this.Uvt.W_=t),this.Mvt&&(this.Mvt.W_=t),this.dispatchEvent("ratechange")))}},{key:"n_",get:function(){return this.Uvt&&this.Mvt?l.min(this.Uvt.n_,this.Mvt.n_):this.Uvt?this.Uvt.n_:this.Mvt?this.Mvt.n_:_l.S_}},{key:"G_",get:function(){return this.Mvt?this.Mvt.G_:0}},{key:"z_",get:function(){return this.Mvt?this.Mvt.z_:0}}]),n}(PC),DM=function(){function t(t,n,i,r){var e=this;this.$vt=void 0,this.Kvt=void 0,this.U_=void 0,this.MD=void 0,this.tdt=void 0,this.ndt=void 0,this.Qy=void 0,this.cv=0,this.Cv=0,this.running=!1,this.idt=function(t){return e.Bh(t)},this.$vt=t,this.Kvt=n,this.U_=i,this.MD=r,this.tdt=t.ih(),this.ndt=(n-this.tdt)/(i||1)}var n=t.prototype;return n.rdt=function(){return this.$vt.Va(this.Kvt),this.running=!1,this.edt(),this.MD()},n.WR=function(){var t=this;this.running=!0,this.U_?this.sdt():xC(function(){t.running&&t.rdt()})},n.Bh=function(t){if(this.edt(),this.running){void 0===this.Qy&&(this.Qy=t);var n=this.tdt,i=this.ndt,r=this.Kvt,e=this.$vt,s=n+l.max(0,t-this.Qy)*i;if(n>=r&&s<=r||n<r&&s>=r)return this.rdt();if(e.Va(s))return this.rdt();this.sdt()}},n.sdt=function(){this.cv=hT(this.idt),this.Cv=sT(this.idt)},n.edt=function(){aT(this.cv),oT(this.Cv)},t}();var OM=function(t){function n(n,i){var r;return(r=t.call(this)||this).udt=void 0,r.xs=void 0,r.odt=null,r.hdt=null,r.adt=NaN,r.cdt=!1,r.fdt=!1,r.vdt=1,r.ddt=void 0,r.ldt=void 0,r._dt=function(t){r.gdt(t)||r.dispatchEvent(t)},r.udt=n,r.xs=i,r}U(n,t);var i=n.prototype;return i.pause=function(){this.udt.pause()},i.play=function(){nM(this.udt.play()),this.wdt()},i.ydt=function(t){if(!(this.n_<_l.N_))return this.d6(),this.cdt=!0,this._dt({type:"canplay"}),t&&t();this.ddt=o(this.ldt,100)},i.xh=function(t){this.fdt=!0,this.cdt=!1,this.udt.removeEventListener("canplay",this.ldt),this.ldt=this.ydt.bind(this,t),this.udt.addEventListener("canplay",this.ldt),this.udt.load(),this.ddt=o(this.ldt,100)},i.d6=function(){this.fdt=!1,this.udt.removeEventListener("canplay",this.ldt),void 0!==this.ddt&&(h(this.ddt),this.ddt=void 0)},i.mdt=function(t){if(this.pause(),this.d6(),null===t)return this.odt=null,void(this.cdt=!1);this.cdt=!1,this.hdt&&this.hdt.G6(this.udt.src),this.hdt=t[this.xs],this.udt.src=this.hdt.j6,this.odt=t},i.ey=function(){return this.udt},i.kdt=function(t){this.adt=l.max(t||0,0),this.udt.currentTime=this.adt},i.pdt=function(){return this.udt.currentTime},i.Adt=function(t){var n=this.odt&&this.odt.metadata,i=n&&n.WR,r=n&&n[this.xs].WR,e=n&&n[this.xs].U_;return!!this.H0&&(!(t<i)&&t<r+l.min(e,this.udt.duration))},i.wdt=function(){this.vdt!==this.udt.playbackRate&&(this.udt.playbackRate=this.vdt,zy&&this.vdt>0&&this.n_!==_l.S_&&(this.udt.currentTime=this.udt.currentTime))},i.gdt=function(t){return!!(zy&&"seeked"===t.type&&l.abs(this.udt.currentTime-this.adt)>.04)},i.addEventListener=function(n,i){this.PQ(n)||this.udt.addEventListener(n,this._dt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.PQ(n)||this.udt.removeEventListener(n,this._dt)},i.Mo=function(){for(var n=0,i=this.BQ();n<i.length;n++){var r=i[n];this.udt.removeEventListener(r,this._dt)}t.prototype.Mo.call(this)},i.unload=function(){this.hdt&&this.hdt.G6(this.udt.src),this.Mo()},L(n,[{key:"volume",get:function(){return this.udt.volume},set:function(t){this.udt.volume=t}},{key:"muted",get:function(){return this.udt.muted},set:function(t){this.udt.muted=t}},{key:"style",get:function(){return this.udt.style}},{key:"WR",get:function(){return this.odt?this.odt.metadata[this.xs].WR:NaN}},{key:"zR",get:function(){return this.odt?this.WR+this.odt.metadata[this.xs].U_:NaN}},{key:"bdt",get:function(){return this.odt?this.WR+this.Tdt:NaN},set:function(t){this.odt?this.Tdt=t-this.WR:this.Tdt=0}},{key:"Tdt",get:function(){return this.pdt()},set:function(t){this.kdt(t)}},{key:"Edt",get:function(){return this.odt},set:function(t){this.mdt(t)}},{key:"q6",get:function(){return this.odt&&this.odt.metadata.w3}},{key:"H0",get:function(){return!(!this.cdt||!this.odt)}},{key:"Sdt",get:function(){return!(!this.fdt||!this.odt)}},{key:"W_",get:function(){return this.vdt},set:function(t){t>=0&&this.vdt!==t&&(this.vdt=t,this.wdt())}},{key:"X_",get:function(){return this.udt.paused}},{key:"F_",get:function(){return this.udt.ended}},{key:"Qo",get:function(){return this.udt.error}},{key:"G_",get:function(){return this.udt.videoWidth}},{key:"z_",get:function(){return this.udt.videoHeight}},{key:"n_",get:function(){return this.udt.readyState}}]),n}(PC);function xM(t,n){return i=t.Edt.metadata.qZ,r=n.Edt.metadata.qZ,i.bandwidth&&r.bandwidth&&f_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&f_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||c_(i.tY,r.tY)||f_(t.zR,n.zR);var i,r}function PM(t){return{WR:t.WR,zR:t.zR}}function BM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.WR<=n&&n<r.zR)return i}return-1}function LM(t,n,i){return{WR:n?i.metadata.x6:i.metadata[t].WR,zR:i.metadata[t].WR+i.metadata[t].U_}}function MM(t,n,i){return new wO([LM(t,n,i)])}function UM(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e];r.push(LM(t,n,s))}return kO(new wO(r))}function FM(t,n,i){if(!n)return!1;var r=n.metadata[t].WR,e=r+n.metadata[t].U_;return r<=i&&i<=e}function HM(t,n){var i=TO(t,n);return i<0?n:t.end(i)}var VM=function(){function t(t){this.io=void 0,this.A1=[],this.Rdt=yO,this.Idt=yO,this.io=t}var n=t.prototype;return n.D7=function(t){var n,i;this.A1=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Edt===t?e.zR=r:i.push({Edt:t,WR:n,zR:r})},e=0;e<t.length;e++){var s=t[e];if(s.zR<=n.WR)r(s.Edt,s.WR,s.zR);else if(s.WR>=n.zR)n.WR<n.zR&&(r(n.Edt,n.WR,n.zR),n.WR=n.zR),r(s.Edt,s.WR,s.zR);else{var u=void 0,o=void 0;xM(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.WR,a=o.WR,c=l.min(o.zR,s.zR),f=l.min(u.zR,s.zR);h<a&&r(u.Edt,h,a),a<c&&r(o.Edt,a,c),c<f&&r(u.Edt,c,f),n.WR=l.max(n.WR,s.zR)}}return n.WR<n.zR&&r(n.Edt,n.WR,n.zR),i}(this.A1,function(t,n){var i=n.metadata[t].WR;return{Edt:n,WR:i,zR:i+n.metadata[t].U_}}(this.io,t)),this.Rdt=SO(this.Rdt,MM(this.io,!1,t)),this.Idt=SO(this.Idt,MM(this.io,!0,t)),this.Idt=(n=this.Idt,i=this.Rdt,pO(n,AO(i)))},n.Ndt=function(t){t=this.Cdt(t);var n=BM(this.A1,t);return n>=0?this.A1[n].Edt:null},n.Ddt=function(t,n,i,r){t=this.Cdt(t);var e=this.A1,s=BM(e,t);if(s<0)return null;var u=e[s];if(!i||!FM(this.io,i,t))return r&&FM(this.io,r,t)?null:u.Edt;if(i!==u.Edt){if(r&&r===u.Edt)return null;if(u.zR-t>n)return u.Edt}for(var o=s+1;o<e.length;o++){var h=e[o];if(r&&r===h.Edt)return null;if(h.zR-t>n)return h.Edt;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].Edt);var f=UM(this.io,!1,a);a.push(h.Edt);var v=UM(this.io,!1,a);if(HM(f,t)<HM(v,t))return h.Edt}return null},n.Odt=function(t,n){for(var i=this.A1,r=i.length-1;r>=0;r--){var e=i[r];(e.zR<=t||e.WR>=n)&&Qe(i,r)}},n.Cl=function(){this.A1.length=0,this.Rdt=yO,this.Idt=yO},n.Cdt=function(t){var n=lM(t,this._y,this.Idt,!1);return void 0===n?t:n},L(t,[{key:"_y",get:function(){var t=this.A1.map(PM);return kO(new wO(t))}}]),t}(),XM=5,WM=30,qM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).xdt=void 0,r.xs=void 0,r.Pdt=void 0,r.Bdt=void 0,r.Ldt=void 0,r._a={AZ:{Mdt:100,Udt:100,Fdt:100},bZ:{Mdt:500,Udt:100,Fdt:200}},r.LI=void 0,r.vS=null,r.Fvt=null,r.Hdt=null,r.Vdt=void 0,r.Xdt=void 0,r.Wdt=void 0,r.qdt=void 0,r.zdt=null,r.Gdt=void 0,r.jdt=void 0,r.Qdt=0,r.Ydt=null,r.Zdt=!1,r.Cj=!1,r.Jdt=0,r.$dt=0,r.Kdt=_l.S_,r.Eft=function(){var t=r.$ht();r.Ldt.Odt(t-XM,t+WM)},r.tlt={nlt:(e=en(r),{xh:function(){e.Wdt.addEventListener("ended",this.ilt),e.qdt.addEventListener("ended",this.rlt)},Lv:function(){e.Wdt.removeEventListener("ended",this.ilt),e.qdt.removeEventListener("ended",this.rlt)},elt:function(){},ilt:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Wdt})},rlt:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.qdt})}}),Xb:{hs:"Xb",xh:function(){},Lv:function(){},elt:function(){}},slt:function(){var t=en(r),n=function n(){t.Wdt.removeEventListener("play",n),t.Wdt.removeEventListener("timeupdate",i),t.Wdt.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Wdt.X_||(!t.seeking&&t.Wdt.Edt?(i=t.Wdt,(r=t.qdt).H0&&zM(i,r)>=0&&t.ult(t.tlt.olt)):t.Wdt.removeEventListener("timeupdate",n))};return{hs:"slt",xh:function(){t.tlt.nlt.xh.call(this),this.hlt(),this.elt()},Lv:function(){t.tlt.nlt.Lv.call(this),t.Wdt.removeEventListener("play",n),t.Wdt.removeEventListener("timeupdate",i)},elt:function(){t.Wdt.Edt?t.elt(t.qdt,t.clt):t.elt(t.Wdt,t.clt)},ilt:function(){var n=t.qdt.Edt;if(n&&n.metadata.y3)return t.qdt.Adt(t.Wdt.bdt)&&(t.qdt.bdt=t.Wdt.bdt),t.flt(),void t.Wdt.play();t.tlt.nlt.ilt.call(this)},rlt:function(){0},hlt:function(){t.Wdt.removeEventListener("play",n),t.Wdt.X_?t.Wdt.addEventListener("play",n):n.call(t.Wdt)}}}(),olt:function(){var t=en(r),n=function(){r.ult(r.tlt.vlt)};return{hs:"olt",xh:function(){t.tlt.nlt.xh.call(this),t.qdt.addEventListener("seeked",n);var i=zM(t.Wdt,t.qdt),r=t._a[t.xs].Mdt/1e3,e=l.min(i+r,t.qdt.zR);try{t.qdt.Tdt=e}catch(n){t.ult(t.tlt.slt),t.dlt(n.message)}},Lv:function(){t.tlt.nlt.Lv.call(this),t.qdt.removeEventListener("seeked",n)},elt:function(){},ilt:function(){t.tlt.nlt.ilt.call(this)},rlt:function(){}}}(),vlt:function(){var t,n=en(r),i=function(){s()},e=function(){s()},s=function(){aT(t),r.qdt.bdt-r.Wdt.bdt-1/60>0?t=hT(i):r.ult(r.tlt.llt)};return{hs:"vlt",xh:function(){n.tlt.nlt.xh.call(this),n.Wdt.addEventListener("timeupdate",e),s()},Lv:function(){n.tlt.nlt.Lv.call(this),aT(t),n.Wdt.removeEventListener("timeupdate",e)},elt:function(){},ilt:function(){n.tlt.nlt.ilt.call(this)},rlt:function(){n.tlt.nlt.rlt.call(this)}}}(),llt:function(){var t,n=en(r),i=function(){var t=r._lt(r.qdt),n=r._a[r.xs].Udt/l.max(1,r.Wdt.W_);return function(t,n,i,r){return new DM(t,n,i,r)}(t,t.glt,n,function(){r.ult(r.tlt.wlt),r.tlt.wlt.ylt()})},e=function(){r.Hdt.WR(),r.ult(r.tlt.wlt)};return{hs:"llt",xh:function(){n.tlt.nlt.xh.call(this);var r=n._a[n.xs].Fdt/l.max(1,n.Wdt.W_);n.Hdt=i(),t=o(e,r),n.qdt.play()},Lv:function(){n.tlt.nlt.Lv.call(this),h(t),t=0},elt:function(){},ilt:function(){n.tlt.nlt.ilt.call(this)},rlt:function(){n.tlt.nlt.rlt.call(this)}}}(),wlt:function(){var t=en(r);return{hs:"wlt",xh:function(){t.tlt.nlt.xh.call(this)},Lv:function(){t.tlt.nlt.Lv.call(this),t.Hdt&&t.Hdt.rdt()},elt:function(){},ilt:function(){t.tlt.nlt.ilt.call(this)},rlt:function(){t.tlt.nlt.rlt.call(this)},ylt:function(){t.Hdt=null,t.flt()}}}()},r.mlt={klt:function(){var t=en(r);return{xh:function(){},Lv:function(){},elt:function(){t.Gdt.elt()},xat:function(n,i,r,e){t.Qdt=n,t.Ydt=e,t.ult(t.tlt.Xb);var s=t.Wdt===t.Vdt?i:r,u=t.qdt===t.Vdt?i:r;s&&t.Wdt.Adt(n)?t.plt(t.mlt.Alt):u&&t.qdt.Adt(n)?t.plt(t.mlt.blt):t.plt(t.mlt.Tlt)}}}(),Tlt:function(){var t=en(r),n=function(){r.clt(),r.qdt.H0?(r.qdt.Adt(r.Qdt)||(r.Elt('Could not seek to exact timestamp "'+r.Qdt+'", seeking instead to: "'+r.qdt.WR+'"'),r.Qdt=r.qdt.WR),r.plt(r.mlt.blt)):r.plt(r.mlt.klt)};return{xh:function(){t.Slt(),t.Wdt.Edt=null,t.qdt.Edt=null,t.qdt.style.display="none",t.clt(),this.elt()},Lv:function(){t.qdt.d6(),t.qdt.style.display=""},elt:function(){t.qdt.Edt||t.elt(t.qdt,n)},xat:function(n,i,r,e){t.Rlt(),t.jdt.xat(n,i,r,e)}}}(),Alt:function(){var t=en(r),n=function(){r.plt(r.mlt.klt),r.ult(r.tlt.slt),r.aF(),r.Ydt&&(r.Ydt.call(t),r.Ydt=null)};return{xh:function(){t.Wdt.addEventListener("seeked",n);try{t.Wdt.bdt=t.Qdt,t.aF()}catch(n){t.dlt(n.message)}},Lv:function(){t.Wdt.removeEventListener("seeked",n)},elt:function(){},xat:function(n,i,r,e){t.Rlt(),t.jdt.xat(n,i,r,e)}}}(),blt:function(){var t=en(r),n=function(){r.plt(r.mlt.klt),r.flt(),r.Ydt&&(r.Ydt.call(t),r.Ydt=null)};return{xh:function(){t.qdt.style.display="none",t.qdt.addEventListener("seeked",n);try{t.qdt.bdt=t.Qdt,t.aF()}catch(n){t.dlt(n.message)}},Lv:function(){t.qdt.style.display="",t.qdt.removeEventListener("seeked",n)},elt:function(){},xat:function(n,i,r,e){t.Rlt(),t.jdt.xat(n,i,r,e)}}}()},r.clt=function(){var t=r.Cj;r.Cj=r.Vdt.Sdt||r.Xdt.Sdt,t&&!r.Cj&&r.dispatchEvent("updateend"),r.Ilt(),r.aF(),r.Nlt()},r.aF=function(){var t=r.n_;t!==r.Kdt&&(r.Kdt=t,r.dispatchEvent(xl.gl))},r.xdt=n,r.xs=i,r.Ldt=new VM(i),r.LI="bZ"===i?0:1;var s=function(t){switch(t){case"AZ":return"audio";case"bZ":return"video"}}(i);return r.Pdt=GM(s),r.Bdt=GM(s),n.appendChild(r.Pdt),n.appendChild(r.Bdt),r.Vdt=new OM(r.Pdt,r.xs),r.Xdt=new OM(r.Bdt,r.xs),r.Wdt=r.Vdt,r.qdt=r.Xdt,r.Gdt=r.tlt.slt,r.jdt=r.mlt.klt,r.Gdt.xh(),r.jdt.xh(),r.KJ(),r.Ll(),r}U(n,t);var i=n.prototype;return i.Clt=function(t){return t===this.Vdt?this.Xdt:this.Vdt},i.Elt=function(t){this.Fvt=t,this.dispatchEvent({type:"warning",warning:this.Fvt})},i.dlt=function(t){this.vS=t,this.dispatchEvent({type:"error",error:t})},i._lt=function(t){var n,i=this,r=this.Clt(t);return n="bZ"===this.xs?{ih:function(){if(i.zdt!==t)return 0;var n=g(t.style.opacity);return w(n)?1:n},Va:function(n){n=qt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.zdt=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},glt:1,Dlt:function(){if(n.ih()!==n.glt)return n.Va(n.glt)}}:{ih:function(){return t.volume},Va:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.glt-i}catch(t){e=t}return e},glt:this.LI,Dlt:function(){if(n.ih()!==n.glt)return n.Va(n.glt)}}},i.elt=function(t,n){var i=this.Ldt.Ddt(this.$ht(),1,this.Wdt.Edt,this.qdt.Edt);return!!i&&(this.Slt(),t.Edt=i,t.xh(n),t.q6&&this.dispatchEvent("durationchange"),!0)},i.Olt=function(){this.Slt(),this.Ldt.Cl(),this.Vdt.d6(),this.Xdt.d6(),this.clt()},i.ey=function(){return this.Wdt.ey()},i.$ht=function(){return this.seeking?this.Qdt:this.Wdt.bdt},i.xat=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.jdt.xat(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.flt=function(){var t=this.Wdt;this.ult(this.tlt.Xb),this.Wdt=this.qdt,this.qdt=t,this._lt(this.Wdt).Dlt(),this.Slt(),this.qdt.pause(),this.qdt.Edt=null,this.clt(),this.ult(this.tlt.slt)},i.KJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.dlt(new MC(LC.WQ,{code:"VEE"+i.error})):t.dlt(new MC(LC.WQ,{code:"VEE"+n.Qo.code}));n===t.Wdt&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Vdt),e=i.bind(null,this.Xdt),s=0;s<n.length;s++){var u=n[s];this.Vdt.addEventListener(u,r),this.Xdt.addEventListener(u,e)}this.Vdt.addEventListener("error",r),this.Xdt.addEventListener("error",e);for(var o=0;o<VS.length;o++){var h=VS[o];this.Vdt.addEventListener(h,this.aF),this.Xdt.addEventListener(h,this.aF)}},i.Ll=function(){this.addEventListener("seeking",this.Eft),this.addEventListener("timeupdate",this.Eft)},i.ult=function(t){var n;if(this.Gdt!==t){do{(n=this.Gdt).Lv()}while(n!==this.Gdt);this.Gdt=t,t.xh()}},i.plt=function(t){var n;if(this.jdt!==t){do{(n=this.jdt).Lv()}while(n!==this.jdt);this.jdt=t,t.xh()}},i.Rlt=function(){this.Ydt=null,this.plt(this.mlt.klt)},i.load=function(){this.pause(),this.Rlt(),this.Wdt.Edt=null,this.qdt.Edt=null,this.ult(this.tlt.slt)},i.Lv=function(){this.Rlt(),this.ult(this.tlt.Xb),this.Olt(),this.Vdt.unload(),this.Xdt.unload(),this.xdt.removeChild(this.Pdt),this.xdt.removeChild(this.Bdt),this.vS=null,this.Fvt=null},i.p$=function(){var t=this,n=this.$ht();this.Olt(),this.jdt.xat(n,!1,!1,function(){t.dispatchEvent("p$",!0)})},i.play=function(){this._lt(this.Wdt).Dlt(),this.Wdt.H0&&this.Wdt.play()},i.pause=function(){this.Vdt.pause(),this.Xdt.pause()},i.Qvt=function(t){var n=this,i=function(){n.dispatchEvent("Lvt",!0)};this.pause(),this.Wdt.F_?this.jdt.xat(t,this.qdt===this.Vdt,this.qdt===this.Xdt,i):this.qdt.F_?this.jdt.xat(t,!1,!1,i):this.qdt.Adt(t)?this.jdt.xat(t,this.qdt===this.Vdt,this.qdt===this.Xdt,i):i()},i.D7=function(t){this.Slt(),this.Ldt.D7(t),this.clt(),this.jdt.elt()},i.Yvt=function(t){return this.Pdt.canPlayType('video/mp4; codecs="'+t+'"')},i.Zvt=function(){return l.max(this.Pdt.offsetWidth,this.Bdt.offsetWidth)},i.Jvt=function(){return l.max(this.Pdt.offsetHeight,this.Bdt.offsetHeight)},i.Ilt=function(){!this.Zdt&&this.loaded&&(this.Zdt=!0,this.dispatchEvent("loaded"))},i.Nlt=function(){if("bZ"===this.xs){var t=this.G_,n=this.z_;t>0&&n>0&&(this.Jdt!==t||this.$dt!==n)&&(this.Jdt=t,this.$dt=n,this.dispatchEvent("resize"))}},i.Slt=function(){var t=this.Cj;this.Cj=!0,t||this.dispatchEvent("updatestart")},L(n,[{key:"_y",get:function(){var t=[];return w(this.Vdt.WR)||t.push({WR:this.Vdt.WR,zR:this.Vdt.zR}),w(this.Xdt.WR)||t.push({WR:this.Xdt.WR,zR:this.Xdt.zR}),SO(kO(new wO(t)),this.Ldt._y)}},{key:"duration",get:function(){return this.Wdt.q6?this.Wdt.zR:this.qdt.q6?this.qdt.zR:NaN}},{key:"paused",get:function(){return this.Wdt.X_}},{key:"ended",get:function(){return this.Wdt.F_}},{key:"muted",get:function(){return this.Wdt.muted&&this.qdt.muted},set:function(t){this.Wdt.muted=t,this.qdt.muted=t}},{key:"volume",get:function(){return this.LI},set:function(t){this.LI=t,this.Hdt&&this.Hdt.rdt(),this.qdt.volume=0,this.Wdt.volume=this.LI}},{key:"error",get:function(){return this.vS}},{key:"warning",get:function(){return this.Fvt}},{key:"seeking",get:function(){return this.jdt!==this.mlt.klt}},{key:"loaded",get:function(){return this.Wdt.H0}},{key:"W_",get:function(){return this.Wdt.W_},set:function(t){t>=0&&(this.Wdt.W_=t,this.qdt.W_=t)}},{key:"G_",get:function(){return this.Wdt.G_}},{key:"z_",get:function(){return this.Wdt.z_}},{key:"mO",get:function(){return this.Cj}},{key:"n_",get:function(){var t;if(this.jdt===this.mlt.Tlt||this.jdt===this.mlt.blt)t=_l.R_;else{var n=this.Wdt.n_;if(n<=_l.I_)t=n;else{var i=Jp.bI(this._y).JR(),r=this.duration,e=this.$ht();w(r)||(e=l.min(e,r));var s=i.pI(e);if(s){var u=s.zR(0);t=u-e>=3*this.W_||!w(r)&&u>=r?_l.C_:_l.N_}else t=_l.I_}}return t===_l.S_&&this.Zdt?_l.R_:t}}]),n}(PC);function zM(t,n){return t.bdt-n.WR}function GM(t){var n=e.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Nr(n),n.controls=!1,n}var jM,QM=function(){function t(t){var n=this;this.AR=void 0,this.Sy=void 0,this.xlt=void 0,this.Plt=void 0,this.Blt=void 0,this.Llt=function(){(w(n.Plt)||n.Blt)&&(n.Plt=n.Vx()),n.xlt=n.Plt,n.Blt=!1},this.Mlt=function(){var t=n.Vx();n.Ult(t),n.Plt=t},this.Flt=function(){n.AR.n_<=_l.I_&&n.Mlt()},this.Hlt=function(){n.Ult(n.Plt),n.Blt=!0},this.Vlt=function(){n.Plt=n.Vx()},this.AR=t,this.Sy=Jp.SI(),this.xlt=NaN,this.Plt=NaN,this.Blt=!1,t.addEventListener("playing",this.Llt),t.addEventListener("pause",this.Mlt),t.addEventListener("seeking",this.Hlt),t.addEventListener("timeupdate",this.Vlt),t.addEventListener(xl.gl,this.Flt)}var n=t.prototype;return n.xU=function(){var t=this.Sy,n=this.xlt;if(!w(n)){var i=this.Vx();n<i&&(t=t.hI(new Jp([n,i])))}return t.rR()},n.Vx=function(){return this.AR.$ht()},n.Ult=function(t){var n=this.xlt;n<t&&(this.Sy=this.Sy.hI(new Jp([n,t]))),this.xlt=NaN},n.Sat=function(){var t=this.Vx();this.Ult(t),this.Blt=!0},n.Cl=function(){this.Sy=Jp.SI(),this.xlt=NaN,this.Plt=NaN,this.Blt=!1},n.mo=function(){var t=this.AR;t.removeEventListener("playing",this.Llt),t.removeEventListener("pause",this.Mlt),t.removeEventListener("seeking",this.Hlt),t.removeEventListener("timeupdate",this.Vlt),t.removeEventListener(xl.gl,this.Flt),this.AR=null},t}(),YM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xlt=void 0,r.cS=void 0,r.Wi=!1,r.uF=NaN,r.Wlt=void 0,r.Hc=void 0,r.xdt=void 0,r.qlt=void 0,r.vS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Kdt=_l.S_,r.zlt=function(){r.qlt.seeking||(r.qlt.removeEventListener("seeked",r.zlt),r.dispatchEvent("seeked"),r.Glt.paused?r.Hc=r.jlt:r.Qlt(),r.aF())},r.Ylt=function(){r.qlt.paused||(r.qlt.removeEventListener("playing",r.Ylt),r.dispatchEvent("playing"))},r.Zlt=function(t){r.Hc=r.Jlt,r.vS=t,r.dispatchEvent({type:"error",error:r.vS})},r.$lt={paused:!0,play:function(){r.removeEventListener("uft",r.$lt.Klt),r.Wi?(r.Hc=r.t_t,r.qlt.removeEventListener("playing",r.Ylt),r.qlt.addEventListener("playing",r.Ylt),r.qlt.play(),r.dispatchEvent("play")):r.addEventListener("uft",r.$lt.Klt)},Klt:function(){r.removeEventListener("uft",r.$lt.Klt),r.Hc.play()},stall:function(){},pause:function(){r.$lt.Klt&&r.removeEventListener("uft",r.$lt.Klt),r.qlt.pause(),r.dispatchEvent("pause"),r.Hc=r.jlt},load:function(t){},$ht:function(){return r.Wi?r.qlt.$ht():0},xat:function(t,n){var i=bO(r._y,t);n=n||!i,r.qlt.removeEventListener("seeked",r.zlt),r.qlt.addEventListener("seeked",r.zlt),r.Glt.seekTime=t,r.Hc=r.Glt,r.dispatchEvent("Sat"),r.qlt.xat(t,n),r.dispatchEvent("seeking")},eP:function(){return r.qlt.n_},p$:function(t){r.Glt.seekTime=r.$ht(),r.Hc=r.n_t,r.qlt.removeEventListener("p$",r.n_t.i_t),r.qlt.addEventListener("p$",r.n_t.i_t),r.qlt.p$(t),r.aF()},forwardEvent:function(t){"pause"===t.type&&r.qlt.ended||r.dispatchEvent(t)}},r.jlt=Kr({},r.$lt,{pause:function(){r.removeEventListener("uft",r.$lt.Klt)},xat:function(t){r.Glt.paused=!0,r.$lt.xat(t)},p$:function(t){r.Glt.paused=!0,r.$lt.p$(t)}}),r.r_t=Kr({},r.jlt),r.e_t=Kr({},r.jlt,{load:function(t,n){r.removeEventListener("uft",r.e_t.s_t),n||r.dispatchEvent("loadstart"),r.Wi?r.qlt.load(t):(r.e_t.u_t=t,r.addEventListener("uft",r.e_t.s_t))},s_t:function(){r.removeEventListener("uft",r.e_t.s_t),r.Hc.load(r.e_t.u_t,!0)},u_t:null,$ht:function(){return r.Wi?r.qlt.$ht():r.e_t.o_t},xat:function(t){r.removeEventListener("uft",r.e_t.h_t),r.Wi?(r.Hc=r.jlt,r.Hc.xat(t)):(r.e_t.o_t=t,r.addEventListener("uft",r.e_t.h_t),r.dispatchEvent("seeking"))},h_t:function(){r.removeEventListener("uft",r.e_t.h_t),r.Hc.xat(r.e_t.o_t)},o_t:0,p$:function(t){}}),r.t_t=Kr({},r.$lt,{xat:function(t){r.Glt.paused=!1,r.$lt.xat(t)},play:function(){},stall:function(){r.Hc=r.a_t,r.a_t.c_t=r.qlt.$ht(),r.a_t.paused=!1,r.qlt.addEventListener("Lvt",r.a_t.f_t),r.qlt.Qvt(r.a_t.c_t),r.aF()},p$:function(t){r.Glt.paused=!1,r.$lt.p$(t)}}),r.a_t=Kr({},r.t_t,{paused:!1,c_t:0,xat:function(t){r.qlt.removeEventListener("Lvt",r.a_t.f_t),r.a_t.paused?r.Hc=r.jlt:r.Hc=r.t_t,r.Hc.xat(t),r.aF()},$ht:function(){return r.a_t.c_t},eP:function(){return l.min(r.qlt.n_,_l.I_)},forwardEvent:function(){},play:function(){r.a_t.paused=!1,r.dispatchEvent("play")},pause:function(){r.a_t.paused=!0,r.dispatchEvent("pause")},stall:function(){},f_t:function(){r.qlt.seeking||(r.qlt.removeEventListener("Lvt",r.a_t.f_t),r.a_t.paused?r.Hc=r.jlt:r.$lt.play(),r.aF())}}),r.Glt=Kr({},r.$lt,{paused:!1,seekTime:0,$ht:function(){return r.Glt.seekTime},play:function(){r.Glt.paused=!1},pause:function(){r.Glt.paused=!0,r.qlt.pause(),r.dispatchEvent("pause")}}),r.n_t=Kr({},r.Glt,{xat:function(t){r.qlt.removeEventListener("p$",r.n_t.i_t),r.Glt.paused?r.Hc=r.jlt:r.Hc=r.t_t,r.Hc.xat(t)},eP:function(){return l.min(r.qlt.n_,_l.I_)},forwardEvent:function(){},stall:function(){},i_t:function(){r.qlt.seeking||(r.qlt.removeEventListener("p$",r.n_t.i_t),r.Glt.paused?r.Hc=r.jlt:r.$lt.play(),r.aF())}}),r.Jlt=Kr({},r.$lt,{play:function(){},pause:function(){},load:function(){},$ht:function(){return NaN},eP:function(){return _l.S_},xat:function(t){r.$lt.xat(t,!0)},p$:function(t){}}),r.Oo=function(t){r.dispatchEvent(t)},r.v_t=function(t){r.Hc.forwardEvent(t)},r.d_t=function(t){r.Zlt(t.error)},r.l_t=function(t){if(t.origin&&t.origin.q6)return r.Gw();r.Hc.stall()},r.mvt=function(){var t=r.qlt.duration;t&&r.uF!==t&&(r.uF=t,r.dispatchEvent("durationchange"))},r.__t=function(){r.qlt.loaded&&(r.loaded=!0)},r.aF=function(){var t=r.n_;t!==r.Kdt&&(r.Kdt=t,r.dispatchEvent(xl.gl))},r.Xlt=n,r.cS=i,r.Wlt=new QM(en(r)),r.qlt=new CM,r.Hc=r.e_t,r.xdt=e.createElement("div"),r.xdt.style.position="absolute",r.xdt.style.width="100%",r.xdt.style.height="100%",r.g_t(),r}U(n,t);var i=n.prototype;return i.Qlt=function(){this.$lt.play()},i.g_t=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.qlt.addEventListener(r,this.Oo)}for(var e=0;e<n.length;e++){var s=n[e];this.qlt.addEventListener(s,this.v_t)}this.qlt.addEventListener("ended",this.l_t),this.qlt.addEventListener("error",this.d_t),this.qlt.addEventListener("durationchange",this.mvt),this.qlt.addEventListener("loaded",this.__t),this.qlt.addEventListener(xl.gl,this.aF)},i.setup=function(){this.cS.MS.parentNode===this.Xlt?this.Xlt.replaceChild(this.xdt,this.cS.MS):(this.cS.MS.parentNode&&this.cS.MS.parentNode.removeChild(this.cS.MS),this.Xlt.appendChild(this.xdt))},i.play=function(){this.Hc.play()},i.pause=function(){this.Hc.pause()},i.w_t=function(t){this.qlt&&this.qlt.Lv(t),this.Wi=!1},i.Gw=function(){this.pause(),this.Hc=this.r_t,this.vS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Hc.load(t)},i.unload=function(){return this.qlt.Lv(),this.Wlt.mo(),this.xdt.parentNode===this.Xlt?this.Xlt.replaceChild(this.cS.MS,this.xdt):(this.xdt.parentNode&&this.xdt.parentNode.removeChild(this.xdt),this.Xlt.appendChild(this.cS.MS)),this.Mo(),this.cS.MS},i.reset=function(t){this.Wi=!1,this.Hc=this.e_t,this.vS=void 0,this.uF=NaN,this.Kdt=_l.S_,this.Wlt.Cl(),this.w_t(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.p$=function(t){this.Hc.p$(t)},i.D7=function(t){return this.qlt.D7(t),T.resolve()},i.ey=function(){return this.qlt.ey()},i.$ht=function(){return this.Hc.$ht()},i.xat=function(t){this.Wlt.Sat(),this.Hc.xat(t)},i.Lst=function(t,n){return T.resolve()},i.canPlayCodecs=function(t){return this.qlt.Yvt('video/mp4; codecs="'+t+'"')},i.yat=function(t,n,i){var r={};for(var e in t)if(Y.call(t,e)){var s=t[e];!this.qlt.videoStream&&s.bZ&&(this.qlt.videoStream=new qM(this.xdt,"bZ"),r.bZ=this.qlt.videoStream),!this.qlt.audioStream&&s.AZ&&(this.qlt.audioStream=new qM(this.xdt,"AZ"),r.AZ=this.qlt.audioStream,this.dispatchEvent("Jct"))}return this.Wi=!0,this.dispatchEvent("uft"),T.resolve(r)},L(n,[{key:"wat",get:function(){return this.Wi}},{key:"wy",get:function(){return this.xdt}},{key:"_y",get:function(){return this.qlt._y}},{key:"volume",get:function(){return this.qlt.volume},set:function(t){this.qlt.volume=t}},{key:"duration",get:function(){return this.uF}},{key:"muted",get:function(){return this.qlt.muted},set:function(t){this.qlt.muted=t}},{key:"paused",get:function(){return this.Hc.paused&&this.qlt.paused}},{key:"played",get:function(){return this.Wlt.xU()}},{key:"ended",get:function(){return this.Hc===this.r_t}},{key:"seeking",get:function(){return this.Hc===this.Glt}},{key:"error",get:function(){return this.vS||this.qlt.error}},{key:"warning",get:function(){return this.qlt.warning}},{key:"width",get:function(){return this.qlt.Zvt()}},{key:"height",get:function(){return this.qlt.Jvt()}},{key:"W_",get:function(){return this.qlt.W_},set:function(t){this.qlt.W_=t}},{key:"n_",get:function(){return this.Hc.eP()}},{key:"G_",get:function(){return this.qlt.G_}},{key:"z_",get:function(){return this.qlt.z_}}]),n}(PC);!function(t){t.$Q="unsupported",t.y_t="native",t.m_t="hls-native",t.k_t="hls-mse",t.p_t="hls-switching-video"}(jM||(jM={}));var ZM=function(){function t(){this.A_t={},this.b_t(jM.y_t,sM),this.b_t(jM.m_t,sM),this.b_t(jM.k_t,AM),this.b_t(jM.p_t,YM)}return t.prototype.b_t=function(t,n){this.A_t[t]=n},t.b_t=function(n,i){t.R0.b_t(n,i)},t.T_t=function(n,i,r){var e=t.R0.A_t[n];return e?new e(i,r):void 0},t}();ZM.R0=new ZM;var JM=function(t){function n(n){var i;return(i=t.call(this)||this).E_t=void 0,i.S_t=function(t){i.xo(t)},i.E_t=n,i.R_t(),i}U(n,t);var i=n.prototype;return i.R_t=function(){this.E_t.Po("LD",this.S_t)},i.I_t=function(){this.E_t.Uo("LD",this.S_t)},i.Lv=function(){this.I_t()},L(n,[{key:"XD",get:function(){return this.E_t.XD}},{key:"WD",get:function(){return this.E_t.WD}},{key:"N_t",set:function(t){var n=this.E_t;n.XD===t.XD&&n.WD===t.WD||(this.I_t(),this.E_t=t,this.R_t(),this.xo(new tT(t.WD,t.XD)))}}]),n}(ks);function $M(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function KM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function tU(t,n){var i=t.type;return i?Py?KM(i)?!Vy||n.useSwitchOverMSE||Q.Pe&&n.vr&&n.vr[360]?!My||Q.Ie||Q.Oe&&Q.ce?Uy?jM.p_t:jM.$Q:jM.m_t:jM.k_t:jM.y_t:jM.$Q:jM.y_t}var nU=function(t,n,i,r,e){var s,u,a,c,v,_,y=this,m=null,k=null,p=null,A=!0,b=null,E=null,S=!1,R=null,I=null,N=null,C=tA,D=tA,O=!0,x=null,P={d2:0,Kvt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=_l.S_,Y=!1,Z=!1,J=NaN,$=null,tt=null,nt=Q.me&&Ly,it=!1,rt="",et=jM.$Q,st=null,ut=function(){var i=T.coroutine($r.mark(function i(){return $r.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.lo=!0,y.Mo(),B&&Pt(null),_&&(_.Lv(),_=null),v&&(v.Cl(),v=null),en(),k&&(k.unload(),k=null),!I.MS){i.next=11;break}return i.next=10,n.tR(I);case 10:I=null;case 11:if(!N.MS){i.next=15;break}return i.next=14,n.tR(N);case 14:N=null;case 15:s.Lv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new MC(LC.$Q,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.LS(H_.Sv)).MS:(r=n.LS(H_.Rv)).MS).preload="none",Nr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",E.style.zIndex="0",b.style.display=A?"":"none",E.style.display=A&&S?"":"none"},ft=function(t){yt(t.N$),wt(t.C$),u&&(u.N$=a),pt()},vt=function(t,n){kt(t.N$,n),mt(t.C$),u&&(u.N$=a)},dt=function(){Xt(),Nt(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("Jct",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===jM.y_t&&(G=!0,y.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(xl.gl,nn),k.setup(),_.Iat=k,n(["timeupdate","playing","ratechange","resize"],t),et){case jM.y_t:case jM.m_t:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case jM.k_t:n(["play","pause"],St)}k.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},_t=function(t){m&&m.wct(),k&&(m=new HL(t,nt,v,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=tM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Fct=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){a&&(a.Lv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener("durationchange",function(){J=a.U_,y.dispatchEvent("durationchange")}),a.addEventListener("Qo",function(t){Zt(t.Qo)}),a.addEventListener("Xv",At),a.addEventListener("Ey",At),a.aK.addEventListener("renditionUpdated",function(){Gt()}),_.aK=a.aK)},mt=function(t){var n;c&&(c.Lv(),c=null),k&&(c=t)&&(n=c.Zht,c.addEventListener("m$",function(t){var n=y.videoWidth,i=y.videoHeight;$=t.qZ,y.dispatchEvent(t),Gy&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),c.addEventListener("Qo",function(t){Zt(t.error)}),c.addEventListener("Iht",function(t){y.dispatchEvent(t)}),c.Iat=k,w(n)||Ht(n))},kt=function(t,n){a&&(a.Lv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener(qo.gc,function(t){y.dispatchEvent(t)}),a.addEventListener(qo.yc,function(t){y.dispatchEvent(t)}),a.addEventListener("durationchange",function(){J=a.U_,y.dispatchEvent("durationchange")}),a.addEventListener("Qo",function(t){Zt(t.Qo)}),a.addEventListener("Xv",At),a.addEventListener("Ey",At),a.addEventListener("yK",function(){y.dispatchEvent("progress")}),a.aK.addEventListener("renditionUpdated",function(){Gt()}),a.aK.addEventListener("renditionUpdated",function(t){var i,r=t.qZ.RJ&&t.qZ.RJ.AZ;r&&-1!==r.indexOf("mp4a.40.3")&&("E6"!==n.S6||Hy||(i=B,xC(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),_.aK=a.aK)},pt=function(){k.addEventListener("play",function(){y.play({fromNative:!0})}),k.addEventListener("pause",function(){y.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){y.volume=k.volume,y.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!a||a.Ey;z=n,n&&!t?y.dispatchEvent(qo.uc):!n&&t&&y.dispatchEvent(qo.sc)},bt=function(){V=!1,X=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",Et),V&&(bt(),y.ended?Ht(0):jt(),k.play(),c&&c.qw())},Et=function t(){y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?y.play({fromNative:!0}):!n&&X&&y.pause({fromNative:!0})},Rt=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.Kvt="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.WI()),P.C_t=!1,!y.initialized||!k){if(t.onlyWhenInitialized){var i=new MC(LC.YQ,{code:"MGB6720"});throw Zt(i),i}return y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),y.addEventListener("initialized",t.fromNative?Et:Tt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(V){if(W&&y.ended)return Nt(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.zw()),y.dispatchEvent("pause",!0))},Ct=function(t){return{type:$M(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ot=function(t){if($L(t))return t.type?t:Ct(t.src);if(Dt(t))return Ct(t);if(K(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if($M(i))return Ct(i)}return Ct(t[0])}if(K(t)&&$L(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(KM(e.type)||!e.type&&$M(e.src))return e.type?e:Ct(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,s=tU(n,i);!function(t,n){switch(t){case jM.y_t:case jM.m_t:n.S6=!1,n.D_t=!1;break;case jM.k_t:n.S6="E6",n.D_t=!0;break;case jM.p_t:n.S6="y9",n.D_t=Q.oe}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case jM.y_t:h=s=o=null;break;case jM.m_t:h=null;var c=new DL(a,r);s=c,o=new ML(c);break;case jM.k_t:case jM.p_t:h=new WL(a,r);var f=new CL(a,h,r,e);s=f,o=new BL(f);break;default:return null}return new xD(n,t,i,h,s,o,u)}(s,n,t);return o?(o.C$&&(o.C$.W_=y.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.MS,u=!1,o=!y.paused,h=et,a=y.playbackRate,c=y.O_t;tt&&(tt.Lv(),tt=null),en();var f=n&&n.TK||null;n&&n.AK||null,L=n&&n.pR||null,M=f&&f.configuration||null,et=n&&n.bK||jM.$Q,Jt();var v={type:"x_t",P_t:n,Wh:M,B_t:i};if(y.dispatchEvent(v),et!==jM.$Q){if(k){y.pause();var d=h===et||h===jM.m_t&&et===jM.y_t||h===jM.y_t&&et===jM.m_t,l=i&&!Q.me;if(d&&!l)k.reset(),m.Cl();else{if(l?(p=k,e=(r=at(r)).MS):e=k.unload(),!(u=ZM.T_t(et,t,r)))return void ot();k=u,lt(),_t(e)}Xt(),G=!1,j=_l.S_,Y=!1,Z=!1,J=NaN,x=null,y.dispatchEvent("durationchange"),P.Kvt=0,P.d2=0,P.C_t=!0,y.dispatchEvent("timeupdate")}else{if(!(u=ZM.T_t(et,t,r)))return void ot();k=u,r.MS.removeAttribute("poster"),lt(),_t(r.MS)}switch(R=r,s.N_t=R.BB,b=k.wy,p?(E=p.wy,S=!0):(E=at(r).MS,S=!1),ct(),M.crossOrigin){case fl.k_:case fl.p_:R.MS.setAttribute("crossorigin",M.crossOrigin);break;default:R.MS.removeAttribute("crossorigin")}if(c!==y.O_t&&y.dispatchEvent(qo.tc),Lt(),Mt(),!L)return B=null,void(y.initialized=!1);!function(t,n){switch(et){case jM.y_t:case jM.m_t:ft(t);break;case jM.k_t:case jM.p_t:vt(t,n);break;default:return}t.AR=y,t.MK(H)}(tt=n,M),k.src=L,m.dct(f&&f.textTracks),y.playbackRate=a,B=L;var _={type:"L_t",P_t:n,Wh:M,B_t:i};y.dispatchEvent(_),y.initialized=!0,y.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Q.me&&o&&Yt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=y.nft)!==t&&y.dispatchEvent("M_t")},Mt=function(){_&&(_.vH=nt&&it)},Ut=function(){return k&&k.wat?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.C_t)return P.Kvt;if(c){var t=c.Zht;return"start"===t?0:t}return k.$ht()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=y.live?1/0:0),t=g(t)||0,t=Kt(t),k){if(l.abs(P.Kvt-t)<.001&&Hb()-P.d2<50)return;Vt(),c?c.Zht=t:k.xat(t),k.seeking||Xt(),P={Kvt:t,d2:Hb()}}},Vt=function(){W=!0,zt(),st=o(Wt,100)},Xt=function(){W&&(W=!1,st&&Wt(),y.dispatchEvent("seeked"))},Wt=function(){zt(),y.dispatchEvent("seeking")},zt=function(){st&&(h(st),st=null)},Gt=function(){Z||(Z=!w(J)&&$t().length>0&&(Y||!y.live))&&y.dispatchEvent("Adt")},jt=function t(){y.removeEventListener("Adt",t),null!==x&&(Z?Ht(x):y.addEventListener("Adt",t))},Qt=function(){return k&&k.wat?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===LC.ZQ)return n=!X,Pt(tt.pR),void(n&&It());var n;Yt()||Nt(),q=t,y.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return _O(c?c.Iy:J>0?new wO([{WR:0,zR:J}]):yO)},Kt=function(t){var n=$t();return n.length?qt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.n_:_l.S_;return G&&(t=l.max(_l.R_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,y.dispatchEvent(xl.gl))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,E=t||at(R).MS,ct()}};y.initialized=!1,y.warning=null,y.play=It,y.pause=Nt,y.load=function(){if(!y.initialized||!k){var t=new MC(LC.YQ,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},y.U_t=xt,y.F_t=Bt,y.mo=ut,y.Qw=rn,y.ny=function(){A=!0,ct()},y.iy=function(){A=!1,ct()},y.ey=function(){return k&&k.ey()},y.Iw=function(){return Kr({},{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?cE(k.Iat):{my:0,ky:0,py:0},{Ay:8*al.g_()})},d.defineProperty(y,"buffered",{get:function(){return _O(k?k._y:yO)}}),d.defineProperty(y,"played",{get:function(){return k?_O(k.played):yO}}),d.defineProperty(y,"seekable",{get:$t}),d.defineProperty(y,"live",{get:function(){return!(!a||!tD.bw(a.aK.rJ))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=g(t))!==Ut()&&(k&&(k.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Ft,set:Ht}),d.defineProperty(y,"dimensions",{get:function(){return s}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return c?c.gy:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!w(i.getTime())&&c&&(n=c.ztt(t),w(n)||null===n||Ht(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Yt,set:function(t){t?Nt():It()}}),d.defineProperty(y,"preload",{get:function(){return H},set:function(t){H=zp((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return k&&k.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return W}}),d.defineProperty(y,"error",{get:function(){return q||k&&k.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"O_t",{get:function(){return M&&M.vr&&M.vr[360]?tA:R===I?C:D}}),d.defineProperty(y,"videoWidth",{get:function(){return k?k.G_:$&&$.resolution?$.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return k?k.z_:$&&$.resolution?$.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return c&&c.CJ}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&k&&k.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return c?c.Dat(Ft()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=g(t),Ht(c.Oat(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return c&&c.W_||k&&k.W_||1},set:function(t){(t=g(t))>0&&(c?c.W_=t:k&&(k.W_=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return tt&&tt.Vw.Kd||null}}),d.defineProperty(y,"audioTracks",{get:function(){return tt&&tt.Hw.Kd||null}}),d.defineProperty(y,"Xw",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return z}}),d.defineProperty(y,"Kct",{get:function(){return k&&k.Kct}}),d.defineProperty(y,"tft",{get:function(){return k&&k.tft}}),d.defineProperty(y,"nft",{get:function(){return k&&k.nft||"inline"},set:function(t){k&&(k.nft=t)}}),d.defineProperty(y,"H_t",{get:function(){return it},set:function(t){it=!!t,Mt()}}),d.defineProperty(y,"n_",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(qo.uc,function(){y.live&&Ht("start")}),y.addEventListener("playing",en),v=new ny,_=new XL(y,v),y.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new PD),n=function(t){if("string"==typeof t)try{return BC.je.Uj(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i.$ut=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),y.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.MS,E=N.MS,s=new JM(R.BB),C=I.ZS,D=N.ZS,ct(),Pt(null)}()};nU.prototype=new PC,nU.prototype.constructor=nU;var iU,rU=((iU={useSwitchOverMSE:!1,ManifestParser:"V_t",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),iU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Xy&&iU.abrRules.push("AvoidHighBitrateStreamsRule"),Q.pe&&iU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),iU);var eU=function(t){function n(n,i,r){var e;return(e=t.call(this,kd.pl)||this).X_t=n,e.W_t=i,e.q_t=r,e}return U(n,t),n.prototype.tl=function(){return new sU(this.X_t&&this.X_t.Kd)},n}(yd),sU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return U(n,t),n}(As),uU=function(t){function n(n,i){var r;return(r=t.call(this,kd.bl)||this).jl=void 0,r.nl=void 0,r.jl=n||[],r.nl=i,r}return U(n,t),n.prototype.tl=function(){return new oU(this.jl.map(function(t){return t.Kd}))},n}(yd),oU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return U(n,t),n}(As),hU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return U(n,t),n}(As);function aU(t){return{get bandwidth(){return t.QE},get codecs(){return t.RJ},get id(){return t.Xl},get uid(){return t.Wl},get name(){return t.zl},get averageBandwidth(){return t.QE},get label(){return t.zl},set label(n){t.zl=Vd(n)},get height(){return t.Ip},get width(){return t.cu},get frameRate(){return t.K$},get firstFrame(){return t.z_t},get available(){return t.yQ},addEventListener:function(n,i){t.Po(n,i)},removeEventListener:function(n,i){t.Uo(n,i)}}}function cU(t){return{get bandwidth(){return t.QE},get codecs(){return t.RJ},get id(){return t.Xl},get uid(){return t.Wl},get name(){return t.zl},get averageBandwidth(){return t.QE},get label(){return t.zl},set label(n){if(!it(n))throw new f("Unexpected - The provided label is not a string");t.zl=n},get audioSamplingRate(){return t.G_t},get available(){return t.yQ},addEventListener:function(n,i){t.Po(n,i)},removeEventListener:function(n,i){t.Uo(n,i)}}}var fU=function(t){function n(n,i){var r;(r=t.call(this)||this).j_t=void 0,r.Q_t=void 0,r.Py=void 0,r.Ny=void 0,r.$d=void 0,r.Y_t=void 0,r.nK=void 0,r.Z_t=function(){return r.J_t()},r.$_t=function(){return r.K_t()},r.tgt=function(){return r.xo(new W_(en(r)))},r.Py=G_(),r.j_t=n,r.Q_t=i,r.Ny=new X_;for(var e=r.j_t.qualities,s=0;s<e.length;s++){var u=e.item(s),o=r.ngt(u);o.Po("update",r.tgt),r.Ny.vg(o)}return r.j_t.qualities.addEventListener("activequalitychanged",r.Z_t),r.j_t.qualities.addEventListener("targetqualitychanged",r.$_t),r.J_t(),r.K_t(),r}U(n,t);var i=n.prototype;return i.igt=function(t){t!==this.Y_t&&(this.Y_t=t,t&&this.xo(new eU(t)))},i.rgt=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&Ze(i,r));var i,r},i.egt=function(t){for(var n=0,i=this.Ny.Dl;n<i.length;n++){var r=i[n];if(r.sgt===t)return r}},i.ugt=function(t){for(var n=[],i=0,r=this.Ny.Dl;i<r.length;i++){var e=r[i];Ye(t,e.sgt)&&n.push(e)}return n},i.J_t=function(){var t=this.Vl?this.j_t.qualities.activeQuality:void 0,n=t&&this.egt(t)||void 0;this.igt(n)},i.K_t=function(){var t=this.j_t.qualities.targetQuality;t?$(t)?this.Ql=this.ugt(t)||void 0:this.Ql=this.ugt([t])||void 0:this.Ql=void 0},i.My=function(t){this.Vl=t},i.Lv=function(){this.j_t.qualities.removeEventListener("activequalitychanged",this.Z_t),this.j_t.qualities.removeEventListener("targetqualitychanged",this.$_t);for(var t=0,n=this.Ny.Dl;t<n.length;t++){var i=n[t];i.Uo("update",this.tgt),i.Lv()}},L(n,[{key:"Hl",get:function(){return this.Y_t}},{key:"Vl",get:function(){return this.j_t.enabled},set:function(t){t?this.Q_t.enable(this.j_t):this.Q_t.disable(this.j_t)}},{key:"Kd",get:function(){return this.$d||(this.$d=Gd(this)),this.$d}},{key:"Xl",get:function(){return this.j_t.id+""}},{key:"Wl",get:function(){return this.Py}},{key:"ql",get:function(){return this.j_t.kind}},{key:"zl",get:function(){var t;return null!=(t=this.j_t.name)?t:""},set:function(t){t!==this.zl&&(this.j_t.name=t,this.xo(new W_(this)))}},{key:"Gl",get:function(){return this.j_t.language}},{key:"t_",get:function(){return this.Vl?"enabled":"disabled"}},{key:"jl",get:function(){return this.Ny}},{key:"Ql",get:function(){return this.nK},set:function(t){var n=this,i=this.nK,r=t?t.filter(function(t){return b.Pu.tu(n.Hl,t)}):void 0;r&&0===r.length||this.rgt(r,i)||(this.nK=r,this.j_t.qualities.targetQuality=r?r.map(function(t){return t.sgt}):null,this.xo(new uU(r,this)))}}]),n}(ks),vU=function(t){function n(n){var i,r;return(r=t.call(this)||this).sgt=void 0,r.$d=void 0,r.fN=function(){return r.Bh()},r.Xl=void 0,r.Wl=void 0,r.QE=void 0,r.RJ=void 0,r.GY=void 0,r.sgt=n,r.sgt.addEventListener("qualityupdated",r.fN),r.Xl=String(n.id),r.Wl=n.uid,r.QE=null!=(i=n.bandwidth)?i:NaN,r.RJ=n.codecs,r.GY=n.uri,r}U(n,t);var i=n.prototype;return i.Bh=function(){this.ogt()&&this.xo(new hU(this.Kd))},i.ogt=function(){var t,n=this.sgt,i=n.uid,r=null!=(t=n.bandwidth)?t:NaN,e=n.codecs,s=n.uri,u=this.Wl!==i||!Qt(this.QE,r)||this.RJ!==e||this.GY!==s;return this.Wl=i,this.QE=r,this.RJ=e,this.GY=s,u},i.Lv=function(){this.sgt.removeEventListener("qualityupdated",this.fN)},i.Sb=function(){},L(n,[{key:"zl",get:function(){return this.sgt.name||""},set:function(t){this.zl!==t&&(this.sgt.name=t,this.xo(new hU(this.Kd)))}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"yQ",get:function(){return!0}}]),n}(ks),dU=function(t){function n(n){var i;return(i=t.call(this,n)||this).G_t=void 0,i.G_t=NaN,i}return U(n,t),n.prototype.tl=function(){return cU(this)},n}(vU),lU=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).K$=void 0,r.cu=void 0,r.Ip=void 0,r.hgt=void 0,r.K$=n.frameRate,r.cu=n.resolution?n.resolution.width:NaN,r.Ip=n.resolution?n.resolution.height:NaN,r.hgt=i,r}U(n,t);var i=n.prototype;return i.ogt=function(){var n=t.prototype.ogt.call(this),i=this.sgt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Qt(this.K$,r)||!Qt(this.cu,e)||!Qt(this.Ip,s),this.K$=r,this.cu=e,this.Ip=s,n},i.tl=function(){return aU(this)},L(n,[{key:"z_t",get:function(){return this.hgt},set:function(t){this.hgt!==t&&(this.hgt=t,this.xo(new hU(this.Kd)))}}]),n}(vU),_U=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ngt=function(t){return new dU(t)},n}(fU),gU=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).agt=void 0,n}U(n,t);var i=n.prototype;return i.ngt=function(t){return new lU(t,this.agt)},i.cgt=function(t){this.agt=t;for(var n=0,i=this.jl.Dl;n<i.length;n++){var r=i[n];void 0!==r.z_t&&(r.z_t=t)}},n}(fU),wU=function(t){function n(){return t.call(this,qo.uc)||this}return U(n,t),n}(As),yU=function(t){function n(){return t.call(this,qo.sc)||this}return U(n,t),n}(As),mU=function(){function t(t,n){this.Lw=void 0,this.GV=void 0,this.Lw=new ny,this.GV=new hI(t,n)}var n=t.prototype;return n.Ub=function(t,n,i,r,e,s){var u=new hR(t,n,i,r,e,s);return this.Lw.Rl(u),this.GV.Rl(u),u},n.Vb=function(t){this.Lw.Il(t),this.GV.Il(t),t.Lv()},n.Cl=function(){for(var t=0,n=this.Lw.Dl.slice();t<n.length;t++){n[t].Lv()}this.Lw.Cl(),this.GV.Cl()},n.Lv=function(){this.Cl(),this.Lw.Lv(),this.GV.Lv()},L(t,[{key:"Xw",get:function(){return this.Lw}}]),t}();function kU(t,n){for(var i=0;i<t.Ol;i++){var r=t.Sl(i);if(r.j_t===n)return r}}var pU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).MI=void 0,o.WG=void 0,o.fgt=void 0,o.vgt=void 0,o.dgt=void 0,o.Pw=void 0,o.Bw=void 0,o.WV=void 0,o.qV=void 0,o.Lw=void 0,o.Pb=void 0,o.sj=void 0,o.uj=void 0,o.lgt=void 0,o.vS=void 0,o.dS=void 0,o._gt=NaN,o.ggt=0,o.mS=new Cp,o.wgt=function(){o.xo(new Ll(o.M_))},o.ygt=function(){o.xo(new Bl(o.M_))},o.mgt=function(){o.xo(new Gl(o.M_))},o.kgt=function(){o.xo(new jl(o.M_))},o.pgt=function(){o.xo(new Xl(o.M_,o.W_))},o.Agt=function(){o.xo(new Ql(o.M_,o.j_))},o.bgt=function(){o.xo(new hS(o.M_))},o.Tgt=function(){o.xo(new ql(o.M_))},o.Egt=function(){o.xo(new aS)},o.Sgt=function(){o.xo(new wU)},o.Rgt=function(){o.xo(new yU)},o.Igt=function(){o.Ngt(),o.dgt.Cl(),o.Cgt(),o.KS()},o.GB=function(){o.Cgt(),o.KS(),o.HS()},o.Ngt=function(){var t=o._gt,n=o.U_;o._gt=n,t===n||w(t)&&w(n)||o.xo(new Vl(n))},o.Dgt=function(t){var n=t.error||o.fgt.error;if(n){var i,r=O_.DECODE;n.code===LC.WQ&&Ie(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.vS=new L_(r,n.message,i),o.xo(new $l(function(t){return new To(F_(t.code),t.message,t)}(o.vS)))}},o.AS=function(){o.xo(new Wl(o.M_,o.gy))},o.Ogt=function(){o.G_>0&&o.z_>0&&o.xo(new Ry)},o.xgt=function(){o.xo(new ol)},o.Pgt=function(t){o.Bw.Dl.forEach(function(n){return n.cgt(t.ptsOffset)})},o.Bgt=function(t){o.ggt+=t.by,o.xo(t)},o.Lgt=function(t){return o.Mgt(t.track)},o.Ugt=function(t){return o.Fgt(t.track)},o.Hgt=function(t){var n=kU(o.Pw,t.track);n&&n.xo(new Id(n))},o.Vgt=function(t){var n=kU(o.Bw,t.track);n&&n.xo(new Id(n))},o.WG=n,o.MI=i,e=function(t){var n,i={};return i=KL(t,i),(i=KL(rU,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Q.ve&&i.allowManualQualitySwitch,i.libraryLocation=Cf(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Y.call(n,t)?n[t]:t}),i}(e),o.fgt=new nU(o.WG,o.MI,e,r,s),o.Xgt(),o.vgt=new AU(o.fgt),o.dgt=new $y(o.vgt,!0),o.dgt.Po(Fl,o.Oo),o.Pw=new V_,o.Bw=new V_,o.Pb=new mU(en(o),new aI),o.WV=new kI(en(o)),o.WV.Ul=o.fgt.Xw,o.qV=new pI(o.Pb,o.WV),o.Lw=new xp([o.fgt.Xw,o.qV.vp]),o.sj=new jI,o.sj.lW(n),o.uj=new cC(o.sj.wy,o.fgt.dimensions,o.Xw,u,o.fgt.O_t),o.HS(),o}U(n,t);var i=n.prototype;return i.iy=function(){this.fgt.iy(),this.sj.iy()},i.ny=function(){this.fgt.ny(),this.sj.ny()},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lgt=n,this.fgt.Qw({sources:{src:n.src,type:vl.m_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:Kr({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qw=function(){this.fgt.play()},i.zw=function(){this.fgt.pause()},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lgt=void 0,this.vS=void 0,this.dS=void 0,this.ggt=0,this.fgt.Qw({sources:null}),this.dgt.Cl(),this.Pb.Cl(),this.Cgt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yw=function(){return!1},i.Zw=function(){},i.Jw=function(){},i.ey=function(){return this.fgt.ey()||void 0},i.sy=function(){return this.fgt.O_t},i.ly=function(){},i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.dgt.Lv(),this.vgt.Lv(),this.Wgt(),t.next=8,this.fgt.mo();case 8:return this.Pw.Lv(),this.Bw.Lv(),this.WV.Lv(),t.next=13,this.qV.Lv();case 13:this.Pb.Lv(),this.Lw.Lv(),this.uj.Lv(),this.sj.Lv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Xgt=function(){this.fgt.addEventListener("x_t",this.Igt),this.fgt.addEventListener("L_t",this.GB),this.fgt.addEventListener("durationchange",this.Ngt),this.fgt.addEventListener("error",this.Dgt),this.fgt.addEventListener("timeupdate",this.AS),this.fgt.addEventListener("resize",this.Ogt),this.fgt.addEventListener(qo.tc,this.xgt),this.fgt.addEventListener("Iht",this.Pgt),this.fgt.addEventListener(qo.yc,this.Bgt),this.fgt.addEventListener("play",this.wgt),this.fgt.addEventListener("pause",this.ygt),this.fgt.addEventListener("seeking",this.mgt),this.fgt.addEventListener("seeked",this.kgt),this.fgt.addEventListener("ratechange",this.pgt),this.fgt.addEventListener("volumechange",this.Agt),this.fgt.addEventListener("progress",this.bgt),this.fgt.addEventListener("ended",this.Tgt),this.fgt.addEventListener("loadstart",this.Egt),this.fgt.addEventListener(qo.uc,this.Sgt),this.fgt.addEventListener(qo.sc,this.Rgt),this.fgt.addEventListener(qo.gc,this.Oo)},i.Wgt=function(){this.fgt.removeEventListener("x_t",this.Igt),this.fgt.removeEventListener("L_t",this.GB),this.fgt.removeEventListener("durationchange",this.Ngt),this.fgt.removeEventListener("error",this.Dgt),this.fgt.removeEventListener("timeupdate",this.AS),this.fgt.removeEventListener("resize",this.Ogt),this.fgt.removeEventListener(qo.tc,this.xgt),this.fgt.removeEventListener("play",this.wgt),this.fgt.removeEventListener("pause",this.ygt),this.fgt.removeEventListener("seeking",this.mgt),this.fgt.removeEventListener("seeked",this.kgt),this.fgt.removeEventListener("ratechange",this.pgt),this.fgt.removeEventListener("volumechange",this.Agt),this.fgt.removeEventListener("progress",this.bgt),this.fgt.removeEventListener("ended",this.Tgt),this.fgt.removeEventListener("loadstart",this.Egt),this.fgt.removeEventListener(qo.uc,this.Sgt),this.fgt.removeEventListener(qo.sc,this.Rgt),this.fgt.removeEventListener(qo.gc,this.Oo),this.fgt.removeEventListener(qo.yc,this.Bgt)},i.HS=function(){var t=this.fgt.audioTracks,n=this.fgt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Mgt(t.item(i));t.addEventListener("addtrack",this.Lgt),t.addEventListener("enabledtrack",this.Hgt),t.addEventListener("disabledtrack",this.Hgt)}if(n){for(var r=0;r<n.length;r++)this.Fgt(n.item(r));n.addEventListener("addtrack",this.Ugt),n.addEventListener("enabledtrack",this.Vgt),n.addEventListener("disabledtrack",this.Vgt)}},i.KS=function(){var t=this.fgt.audioTracks,n=this.fgt.videoTracks;t&&(t.removeEventListener("addtrack",this.Lgt),t.removeEventListener("enabledtrack",this.Hgt),t.removeEventListener("disabledtrack",this.Hgt)),n&&(n.removeEventListener("addtrack",this.Ugt),n.removeEventListener("enabledtrack",this.Vgt),n.removeEventListener("disabledtrack",this.Vgt))},i.Cgt=function(){for(var t=0,n=this.Pw.Dl;t<n.length;t++){n[t].Lv()}for(var i=0,r=this.Bw.Dl;i<r.length;i++){r[i].Lv()}this.Pw.Cl(),this.Bw.Cl()},i.Mgt=function(t){kU(this.Pw,t)||this.Pw.Rl(new _U(t,this.fgt.audioTracks))},i.Fgt=function(t){kU(this.Bw,t)||this.Bw.Rl(new gU(t,this.fgt.videoTracks))},L(n,[{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.fgt.buffered}},{key:"gy",get:function(){var t;return null!=(t=this.fgt.currentProgramDateTime)?t:void 0},set:function(t){this.fgt.currentProgramDateTime=null!=t?t:null}},{key:"M_",get:function(){var t=this.fgt.currentTime;return t===1/0&&w(this.fgt.duration)&&(t=0),t},set:function(t){this.fgt.currentTime=t}},{key:"U_",get:function(){var t=this.fgt.duration;return t<0?1/0:t}},{key:"F_",get:function(){return this.fgt.ended}},{key:"Qo",get:function(){return this.vS}},{key:"H_",get:function(){return this.dS}},{key:"Ww",get:function(){}},{key:"yy",get:function(){return!1}},{key:"Iw",get:function(){return Kr({},this.fgt.Iw(),{by:this.ggt})}},{key:"V_",get:function(){return this.fgt.muted},set:function(t){this.fgt.muted=t}},{key:"Ey",get:function(){return this.fgt.online}},{key:"X_",get:function(){return this.fgt.paused}},{key:"W_",get:function(){return this.fgt.playbackRate},set:function(t){this.fgt.playbackRate=t}},{key:"Sy",get:function(){return this.fgt.played}},{key:"Ry",get:function(){return this.fgt.preload||Wp.RR},set:function(t){this.fgt.preload=t}},{key:"n_",get:function(){return this.fgt.n_}},{key:"Iy",get:function(){return this.fgt.seekable}},{key:"q_",get:function(){return this.fgt.seeking}},{key:"uR",get:function(){}},{key:"Xw",get:function(){return this.Lw}},{key:"Vw",get:function(){return this.Bw}},{key:"z_",get:function(){return this.fgt.videoHeight}},{key:"G_",get:function(){return this.fgt.videoWidth}},{key:"j_",get:function(){return this.fgt.volume},set:function(t){this.fgt.volume=t}},{key:"oR",get:function(){return this.mS}}]),n}(sl),AU=function(t){function n(n){var i;return(i=t.call(this)||this).fgt=void 0,i.qgt=function(){i.xo(new Jl(i.M_,i.fgt.n_))},i.zgt=function(){i.xo(new Jy(i.M_))},i.wgt=function(){i.xo(new Ll(i.M_))},i.ygt=function(){i.xo(new Bl(i.M_))},i.fgt=n,i.fgt.addEventListener(xl.gl,i.qgt),i.fgt.addEventListener(xl.L_,i.zgt),i.fgt.addEventListener(qo.hc,i.wgt),i.fgt.addEventListener(qo.oc,i.ygt),i}return U(n,t),n.prototype.Lv=function(){this.Mo(),this.fgt.removeEventListener(xl.gl,this.qgt),this.fgt.removeEventListener(xl.L_,this.zgt),this.fgt.removeEventListener(qo.hc,this.wgt),this.fgt.removeEventListener(qo.oc,this.ygt)},L(n,[{key:"M_",get:function(){var t=this.fgt.currentTime;return t===1/0&&w(this.fgt.duration)&&(t=0),t}},{key:"F_",get:function(){return this.fgt.ended}},{key:"Qo",get:function(){return this.fgt.error||void 0}},{key:"X_",get:function(){return this.fgt.paused}}]),n}(ks);function bU(t,n){return TU.apply(this,arguments)}function TU(){return(TU=T.coroutine($r.mark(function t(n,i,r,e,s){var u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),ss(t.t0),!(u<r)){t.next=20;break}return o=l.min(e*l.pow(2,u),s),u++,t.next=19,_s(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Vp(new(function(){function t(){this.hR=Tp.m_}var n=t.prototype;return n.VT=function(t,n,i,r,e,s){return new pU(t,n,i,r,e,s)},n.aR=function(n,i){if((Q.me||Q.We)&&!i.manifestMetadataTrack)return!1;if(!pl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Pm(r)&&!t.Ggt(r))&&!!function(t){return tU(t,{})!==jM.$Q}(n)},t.Ggt=function(t){return!!t.aes128},n.cR=function(){return!0},t}()));var EU,SU=function(t){function n(){return t.call(this,"jgt")||this}return U(n,t),n}(As),RU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Qgt=void 0,e.Ygt=void 0,e.Zgt=void 0,e.lgt=void 0,e.Jgt=void 0,e.Bb=void 0,e.Wi=void 0,e.$gt=void 0,e.Kgt=function(){e.xo(new SU)},e.lgt=n,e.Jgt=Kr({},i,{crossOrigin:e.lgt.crossOrigin,withCredentials:e.lgt.useCredentials,liveOffset:e.lgt.liveOffset,hlsDateRange:e.lgt.hlsDateRange}),e.Bb=r,e.Ygt=[],e.Wi=!1,e}U(n,t);var i=n.prototype;return i.twt=function(){if(this.Zgt)return this.Zgt.Rw},i.WR=function(t){var n=this;vs(bU(function(){return n.MK()},t))},i.MK=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nwt();case 2:if((n=t.sent).isMasterPlaylist)for(this.Qgt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],s=new $P(this.Bb,this.Jgt),this.Ygt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:s});else u=new $P(this.Bb,this.Jgt),this.Ygt.push({stream:{uri:n.uri},updater:u});this.$gt&&(this.iwt(this.$gt.width,this.$gt.height),this.$gt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rwt=function(t,n){this.Wi?this.iwt(t,n):this.$gt={width:t,height:n}},i.iwt=function(t,n){this.ewt();var i=this.swt(t,n);i&&(this.Zgt=i.updater,this.Zgt.addEventListener("K8",this.Kgt),i.updater.WR(i.stream.uri))},i.ewt=function(){this.Zgt&&(this.Zgt.Gw(),this.Zgt.removeEventListener("K8",this.Kgt),this.Zgt=void 0)},i.swt=function(t,n){return 1===this.Ygt.length?this.Ygt[0]:ze(this.Ygt,function(i){return i.stream.width===t&&i.stream.height===n})},i.nwt=function(){var t=T.coroutine($r.mark(function t(){var n,i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new JP(this.Jgt,jD.je.e0,this.Bb),t.next=3,n.xh(this.lgt.src,{});case 3:return i=t.sent,t.abrupt("return",i.Rw);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){this.ewt();for(var t=0,n=this.Ygt;t<n.length;t++){n[t].updater.Lv()}Je(this.Ygt)},n}(ks),IU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).uwt=void 0,e.owt=void 0,e.zP=void 0,e.hwt=!1,e.YJ=void 0,e.GV=void 0,e.handleManifestUpdate=function(){var t=e.uwt.twt();if(t){var n=e.uR;if(n){var i=n.getTime(),r=e.YJ;r||(r=new nD,e.YJ=r),r.Bh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.hwt&&r.i_.Ol>0&&(e.Xw.Rl(r),e.GV.Rl(r),e.hwt=!0)}}},e.Ogt=function(){e.uwt&&e.uwt.rwt(e.G_,e.z_)},e.owt=i,e.zP=r,e.GV=new fI(en(e)),e.Po(qo.vc,e.Ogt),e}U(n,t);var i=n.prototype;return i.Qw=function(){var n=T.coroutine($r.mark(function n(i,r,e){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Qw.call(this,i,r,e);case 2:i.hlsDateRange&&this.awt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.awt=function(t,n,i){this.uwt&&(this.uwt.Uo("jgt",this.handleManifestUpdate),this.uwt.Lv()),this.uwt=new RU(t,n,this.owt),this.uwt.Po("jgt",this.handleManifestUpdate),this.uwt.WR(i)},i.Cl=function(){return this.YJ&&(this.Xw.Il(this.YJ),this.GV.Il(this.YJ),this.YJ.Lv(),this.YJ=void 0,this.hwt=!1),this.GV.Cl(),t.prototype.Cl.call(this)},i.Lv=function(){return this.Uo(qo.vc,this.Ogt),this.uwt&&(this.uwt.Uo("jgt",this.handleManifestUpdate),this.uwt.Lv()),this.GV.Lv(),t.prototype.Lv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).cwt=void 0,i.cwt=n;for(var r=0;r<Gp.length;r++){var e=Gp[r];i.cwt.Po(e,i.Oo)}return i}U(n,t);var i=n.prototype;return i.Yw=function(){return this.cwt.Yw()},i.sy=function(){return this.cwt.sy()},i.ey=function(){return this.cwt.ey()},i.iy=function(){return this.cwt.iy()},i.ly=function(){return this.cwt.ly()},i.zw=function(){return this.cwt.zw()},i.qw=function(){return this.cwt.qw()},i.Cl=function(){return this.cwt.Cl()},i.Qw=function(t,n,i){return this.cwt.Qw(t,n,i)},i.ny=function(){return this.cwt.ny()},i.Zw=function(){return this.cwt.Zw()},i.Jw=function(){return this.cwt.Jw()},i.Lv=function(){this.Mo();for(var t=0;t<Gp.length;t++){var n=Gp[t];this.cwt.Uo(n,this.Oo)}return this.cwt.Lv()},L(n,[{key:"Hw",get:function(){return this.cwt.Hw}},{key:"_y",get:function(){return this.cwt._y}},{key:"gy",get:function(){return this.cwt.gy},set:function(t){this.cwt.gy=t}},{key:"M_",get:function(){return this.cwt.M_},set:function(t){this.cwt.M_=t}},{key:"U_",get:function(){return this.cwt.U_}},{key:"F_",get:function(){return this.cwt.F_}},{key:"H_",get:function(){return this.cwt.H_}},{key:"Ww",get:function(){return this.cwt.Ww}},{key:"Qo",get:function(){return this.cwt.Qo}},{key:"yy",get:function(){return this.cwt.yy}},{key:"Iw",get:function(){return this.cwt.Iw}},{key:"V_",get:function(){return this.cwt.V_},set:function(t){this.cwt.V_=t}},{key:"Ey",get:function(){return this.cwt.Ey}},{key:"X_",get:function(){return this.cwt.X_}},{key:"W_",get:function(){return this.cwt.W_},set:function(t){this.cwt.W_=t}},{key:"Sy",get:function(){return this.cwt.Sy}},{key:"Ry",get:function(){return this.cwt.Ry},set:function(t){this.cwt.Ry=t}},{key:"n_",get:function(){return this.cwt.n_}},{key:"Iy",get:function(){return this.cwt.Iy}},{key:"q_",get:function(){return this.cwt.q_}},{key:"uR",get:function(){return this.cwt.uR}},{key:"Xw",get:function(){return this.cwt.Xw}},{key:"z_",get:function(){return this.cwt.z_}},{key:"Vw",get:function(){return this.cwt.Vw}},{key:"G_",get:function(){return this.cwt.G_}},{key:"j_",get:function(){return this.cwt.j_},set:function(t){this.cwt.j_=t}},{key:"oR",get:function(){return this.cwt.oR}}]),n}(sl));EU=function(t,n,i){return new IU(t,n,i)},Fp.dR().lR(EU);var NU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return U(n,t),n}(As);var CU=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).fwt=void 0,s.$d=void 0,s.vwt=void 0,s.dwt=void 0,s.lwt=void 0,s.DR=void 0,s._wt=void 0,s.ux=void 0,s.Hc=OA.UNAVAILABLE,s.gwt=new ns,s.wwt=function(){var t,n=null==(t=s.ux.jw())?void 0:t.sources.filter(Ol);null!=n&&n.some(Lp)?s.ywt(OA.AVAILABLE):s.ywt(OA.UNAVAILABLE)},s.handleAirplayChangedEvent=function(){s.DR&&s.DR.yy?s.mwt():s.g2===OA.CONNECTED&&s.kwt()},s.handleAirplayPlayerTimeUpdate=function(t){s.vwt=t.currentTime,s.dwt=s.ux.gy},s.lwt=n,s.ux=i,s.fwt=e,s.fwt.iy(),s.ux.Fw(e),s.pwt(),s.lwt.Po("sourcechange",s.wwt),b.Pu.eu&&s.ywt(OA.AVAILABLE),s}U(n,t);var i=n.prototype;return i.pwt=function(){this.DR&&this.DR.Uo(qo.Wa,this.handleAirplayChangedEvent),this.Awt?this.DR=this.ux:this.DR=this.fwt,this.DR.Po(qo.Wa,this.handleAirplayChangedEvent)},i.mwt=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.DR){t.next=2;break}return t.abrupt("return");case 2:if(this.Awt){t.next=24;break}return this.vwt=this.ux.M_,this.dwt=this.ux.gy,this.fwt.Po("timeupdate",this.handleAirplayPlayerTimeUpdate),this._wt=this.ux.Ul,this.ux.Ul=this.fwt,this._wt.zw(),this._wt.iy(),this.fwt.ny(),this.fwt.V_=this._wt.V_,this.fwt.W_=this._wt.W_,this.fwt.j_=this._wt.j_,n=this.fwt.Xo("seeked"),this.fwt.M_=this._wt.M_,t.next=18,n;case 18:this.fwt.qw(),this.fwt.V_=this._wt.V_,this.fwt.W_=this._wt.W_,this.fwt.j_=this._wt.j_,t.next=28;break;case 24:if(this.DR.X_){t.next=27;break}return t.next=27,this.DR.Xo(qo.oc,this.gwt.Io);case 27:this.DR.qw();case 28:this.ywt(OA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.kwt=function(){this._wt?(this.fwt.Uo("timeupdate",this.handleAirplayPlayerTimeUpdate),this._wt.V_=this.fwt.V_,this._wt.W_=this.fwt.W_,this._wt.j_=this.fwt.j_,Q.Pe&&!Q.me&&this.ux.U_===1/0?this.dwt?this._wt.gy=this.dwt:this._wt.M_=1/0:this._wt.M_=this.vwt,this.dwt=void 0,this.vwt=void 0,this._wt.ny(),this.fwt.iy(),this.fwt.X_||this._wt.qw(),this.ux.Ul=this._wt,this.fwt.Cl(),this._wt=void 0):this.DR&&(this.DR.M_=this.DR.M_+1e-4);this.ywt(OA.AVAILABLE)},i.preloadPlayer=function(t){if(es(t),this.DR.n_<_l.R_){var n=this.DR.Xo("loadedmetadata",t);return this.DR.Ry=Wp.kk,n}return T.resolve()},i.ywt=function(t){t!==this.Hc&&(this.Hc=t,this.xo(new NU(this.Hc)))},i.Zw=function(){b.Pu.eu&&(this.lwt.$w(),this.gwt.Eo(),this.gwt=new ns,this.Awt?vs(this.bwt(this.gwt.Io)):vs(this.Twt(this.gwt.Io)))},i.bwt=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.ux.Zw();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Twt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fwt.Cl();case 3:return t.next=5,this.fwt.Qw(this.ux.jw(),n);case 5:return i=this.fwt.Xo("playing",n),this.fwt.qw(),t.next=9,gs(i,3e3);case 9:this.fwt.zw(),es(n),this.fwt.Zw(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!rs(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Jw=function(){b.Pu.eu&&this.DR.Jw()},i.Lv=function(){var t;this.Mo(),this.lwt.Uo("sourcechange",this.wwt),this.ux.hy(this.fwt),this.gwt.Eo(),null==(t=this.fwt)||t.Lv()},L(n,[{key:"MP",get:function(){return this.g2===OA.CONNECTED}},{key:"Awt",get:function(){return this.ux.Yw()}},{key:"g2",get:function(){return this.Hc}},{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{get casting(){return t.MP},get state(){return t.g2},start:function(){t.Zw()},stop:function(){t.Jw()},addEventListener:function(n,i){var r=Xd(n,Vd);t.Po(r,i)},removeEventListener:function(n,i){var r=Xd(n,Vd);t.Uo(r,i)}})),this.$d}}]),n}(sl);DE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.tl=function(){var n=this.PB.Kd;return xd(t.prototype.tl.call(this),{get cast(){return n}})},n}(t)},bE.UB);var DU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).ER=void 0,o.Ewt=void 0,o.Swt=void 0,o.OR=void 0,o.lgt=void 0,o.Pw=new Jd,o.Bw=new Jd,o.Lw=new el,o.ER=n,o.Ewt=new gr(s,u,1,[H_.Rv]),o.Ewt.XI(n),o.Swt=new Bp(n,o.Ewt,i,r,e),o.Swt.Lo(o.Oo),o.Pw.Ul=o.Swt.Hw,o.Bw.Ul=o.Swt.Vw,o.Lw.Ul=o.Swt.Xw,o}U(n,t);var i=n.prototype;return i.Yw=function(){return this.Swt.Yw()},i.Zw=function(){this.Swt.Zw()},i.Jw=function(){this.Swt.Jw()},i.qw=function(){vs(this.Swt.qw())},i.zw=function(){this.Swt.zw()},i.Gw=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.jw=function(){return this.lgt},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(i),this.lgt=n,!Rl(n.sources)){t.next=6;break}r=ZA({src:""}),t.next=16;break;case 6:e=n.sources.filter(Ol),s=0;case 8:if(!(s<e.length)){t.next=16;break}if(!Lp(u=e[s])){t.next=13;break}return r=u,t.abrupt("break",16);case 13:s++,t.next=8;break;case 16:if(r){t.next=18;break}throw new f("Unsupported source.");case 18:return t.next=20,this.Swt.Qw(r,n,i);case 20:this.FR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FR=function(t){this.OR!==t&&(this.OR=t,this.xo(new hl(t)))},i.ey=function(){},i.Rwt=function(){},i.uy=function(){return[]},i.$w=function(){this.Ewt.WI()},i.Kw=function(t){i_(this,t)},i.ty=function(){},i.oy=function(t){return!1},i.ly=function(){},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OR=void 0,this.lgt=void 0,t.next=4,this.Swt.Cl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ny=function(){this.Swt.ny()},i.iy=function(){this.Swt.iy()},i.sy=function(){return this.Swt.sy()},i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.Ewt.Lv(),t.next=4,this.Swt.Lv();case 4:this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Hw",get:function(){return this.Swt.Hw}},{key:"_y",get:function(){return this.Swt._y}},{key:"vy",get:function(){return this.OR}},{key:"M_",get:function(){return this.Swt.M_},set:function(t){this.Swt.M_=t}},{key:"gy",get:function(){return this.Swt.gy}},{key:"U_",get:function(){return this.Swt.U_}},{key:"wy",get:function(){return this.ER}},{key:"F_",get:function(){return this.Swt.F_}},{key:"Qo",get:function(){return this.Swt.Qo}},{key:"yy",get:function(){return this.Swt.yy}},{key:"Iw",get:function(){return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"V_",get:function(){return this.Swt.V_},set:function(t){this.Swt.V_=t}},{key:"Ey",get:function(){return this.Swt.Ey}},{key:"X_",get:function(){return this.Swt.X_}},{key:"W_",get:function(){return this.Swt.W_},set:function(t){this.Swt.W_=t}},{key:"Sy",get:function(){return this.Swt.Sy}},{key:"Ry",get:function(){return this.Swt.Ry},set:function(t){this.Swt.Ry=t}},{key:"n_",get:function(){return this.Swt.n_}},{key:"Iy",get:function(){return this.Swt.Iy}},{key:"q_",get:function(){return this.Swt.q_}},{key:"Xw",get:function(){return this.Swt.Xw}},{key:"z_",get:function(){return this.Swt.z_}},{key:"G_",get:function(){return this.Swt.G_}},{key:"Vw",get:function(){return this.Swt.Vw}},{key:"j_",get:function(){return this.Swt.j_},set:function(t){this.Swt.j_=t}}]),n}(sl);DE(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Iwt=void 0;var e=new DU(r.CP.wy,r.jd,r.Wh,r.OB,r.yB,r.MB);return r.Iwt=new CU(en(r),r.CP,r.jd,e),r.PB.LP(r.Iwt),r.Po("currentsourcechange",function(){r.Iwt.pwt()}),r}U(n,t);var i=n.prototype;return i.tl=function(){var n=this,i=t.prototype.tl.call(this);return xd(i.cast,{get airplay(){return n.Iwt.Kd}}),i},i.Lv=function(){this.Iwt.Lv(),t.prototype.Lv.call(this)},n}(t)},bE.UB);var OU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},xU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),PU=A(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?r.splice(u,1/0,e):r.push(e),~i.indexOf(s)&&(s=n.call(this,e,s))}else i.push(s);return null==t?s:t.call(this,e,s)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function BU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function LU(t){return JSON.stringify(t,PU.getSerialize(BU))}var MU,UU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=s&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),FU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),HU=A(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),VU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=UU.isS,r=UU.isChar,e=UU.isNameStartChar,s=UU.isNameChar,u=UU.S_LIST,o=UU.NAME_RE,h=FU.isChar,a=HU.isNCNameStartChar,c=HU.isNCNameChar,v=HU.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:l,xmlns:g},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,C=9,D=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Ct=[34,39],Dt=[...Ct,Et,bt],Ot=[...Ct,pt,St],xt=[At,Tt,...u],Pt=[...u,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>v.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Bt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.ba}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.ba=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,s=e?dt:r;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new f("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Dt);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?D:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new f("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const s=this.getCode();switch(s){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(s)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),s={name:t,prefix:r,local:e,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.ba=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?g:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=u,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),XU=function(){function t(){}return t.prototype.rs=function(t){var n=new VU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new YU,r=[i];function e(t){r[r.length-1].ks(t)}return n.on("text",function(t){r.length>1&&e(new jU(t))}),n.on("cdata",function(t){e(new QU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new zU({os:n,as:""===i?void 0:i,Nwt:""===s?void 0:s}),o=t.attributes,h=0,a=d.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,l=c.uri,_=c.value,g=new WU({os:v,fs:_,as:""===l?void 0:l,Nwt:""===f?void 0:f});u.Cwt(g)}e(u),r.push(u)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new on(t)}),n.write(t).close(),i},t}(),WU=function(){function t(t){this.Dwt=void 0,this.Owt=void 0,this.xwt=void 0,this.xn=void 0,this.Dwt=t.os,this.xn=t.fs,this.Owt=t.as,this.xwt=t.Nwt}var n=t.prototype;return n.ss=function(t){return this===t||!!JU(this,t)&&(this.Dwt===t.Dwt&&this.Owt===t.Owt&&this.xwt===t.xwt&&this.xn===t.xn)},n.us=function(){return new t({os:this.os,fs:this.fs,as:this.as,Nwt:this.cs})},L(t,[{key:"Ye",get:function(){return $t.$e}},{key:"os",get:function(){return this.Dwt}},{key:"hs",get:function(){return void 0===this.xwt?this.Dwt:this.xwt+":"+this.Dwt}},{key:"as",get:function(){return this.Owt}},{key:"cs",get:function(){return this.xwt}},{key:"fs",get:function(){return this.xn}}]),t}(),qU=function(){function t(){this.ds=[]}var n=t.prototype;return n.ls=function(t){return this.ds.filter(function(n){return ZU(n)&&n.gs===t})},n.ys=function(t,n){return this.ds.filter(function(i){return ZU(i)&&i.os===n&&i.as===t})},n.ks=function(t){this.ds.push(t)},L(t,[{key:"_s",get:function(){return this.ds}},{key:"As",get:function(){return this.ds.filter(ZU)}}]),t}(),zU=function(t){function n(n){var i;return(i=t.call(this)||this).Dwt=void 0,i.Owt=void 0,i.xwt=void 0,i.Pwt=[],i.Dwt=n.os,i.Owt=n.as,i.xwt=n.Nwt,i}U(n,t);var i=n.prototype;return i.Bwt=function(t){for(var n=0,i=this._s;n<i.length;n++){var r=i[n];ZU(r)?r.Bwt(t):t.push(r.Ds)}},i.Ts=function(t,n){for(var i=0,r=this.Pwt;i<r.length;i++){var e=r[i];if(e.os===n&&e.as===t)return e.fs}},i.bs=function(t){for(var n=0,i=this.Pwt;n<i.length;n++){var r=i[n];if(r.hs===t)return r.fs}},i.Cwt=function(t){this.Pwt.push(t)},i.Es=function(t){for(var n=0;n<this.Pwt.length;n++)if(this.Pwt[n].hs===t)return void this.Pwt.splice(n,1)},i.Ss=function(t,n){for(var i=0;i<this.Pwt.length;i++)if(this.Pwt[i].os===n&&this.Pwt[i].as===t)return void this.Pwt.splice(i,1)},i.Rs=function(t,n){this.Es(t),this.Cwt(new WU({os:t,fs:n}))},i.Is=function(t,n,i){this.Es(n);var r=n.split(":");this.Cwt(new WU({os:r[r.length-1],fs:i,as:t,Nwt:r.length>1?r[0]:void 0}))},i.us=function(t){var i=new n({os:this.os,as:this.as,Nwt:this.cs});return this.Ns.forEach(function(t){return i.Cwt(t.us())}),t&&this._s.forEach(function(n){return i.ks(n.us(t))}),i},i.ss=function(t){return this===t||!!JU(this,t)&&(this.Dwt===t.Dwt&&this.xwt===t.xwt&&this.Owt===t.Owt&&($U(this.Ns,t.Ns)&&$U(this._s,t._s)))},L(n,[{key:"Ye",get:function(){return $t.Ze}},{key:"Ns",get:function(){return this.Pwt}},{key:"os",get:function(){return this.Dwt}},{key:"as",get:function(){return this.Owt}},{key:"cs",get:function(){return this.xwt}},{key:"gs",get:function(){return void 0===this.xwt?this.Dwt:this.xwt+":"+this.Dwt}},{key:"Cs",get:function(){var t=[];return this.Bwt(t),t.join("")}}]),n}(qU),GU=function(){function t(t){this.nr=void 0,this.nr=t}return L(t,[{key:"Ds",get:function(){return this.nr}}]),t}(),jU=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.us=function(){return new n(this.Ds)},i.ss=function(t){return this===t||!!JU(this,t)&&this.Ds===t.Ds},L(n,[{key:"Ye",get:function(){return $t.Je}}]),n}(GU),QU=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.us=function(){return new n(this.Ds)},i.ss=function(t){return this===t||!!JU(this,t)&&this.Ds===t.Ds},L(n,[{key:"Ye",get:function(){return $t.Ke}}]),n}(GU),YU=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.us=function(t){var i=new n;return t&&this._s.forEach(function(n){return i.ks(n.us(t))}),i},i.ss=function(t){return this===t||!!JU(this,t)&&$U(this._s,t._s)},L(n,[{key:"Ye",get:function(){return $t.ts}},{key:"Os",get:function(){return this.As[0]}}]),n}(qU);function ZU(t){return nn(t)}function JU(t,n){return t.Ye===n.Ye}function $U(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ss(n[i]))return!1;return!0}function KU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Kr({},t,{adBreak:Kr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return pm(t,["adBreak"])})})})}function tF(t){return void 0===t.ads?t:Kr({},t,{ads:t.ads.map(function(t){t.adBreak;return pm(t,["adBreak"])})})}function nF(t){return"string"==typeof t.date?new Date(t.date):t.date}function iF(t){var n;return t.cue.track?(n=eF(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=eF(t.cue,""),n}function rF(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],s=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==s&&n.pop(e),[r,s]}))}return i}(t)}function eF(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new XU).rs(r.firstChild.outerHTML).Os.Ns.forEach(function(t){e[t.os]=t.fs}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=sF(o);s[u]={type:MU.Lwt,value:h}}else oF(o)?s[u]={type:MU.Mwt,value:o}:s[u]={type:MU.uq,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=sF(t.scte35Cmd),i.scte35Out=sF(t.scte35Out),i.scte35In=sF(t.scte35In),i.customAttributes=s}var a}(),i}function sF(t){if(void 0!==t)return Fs(t)}function uF(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(eF(e,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(eF(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function oF(t){return"number"==typeof t}!function(t){t.uq="daterange-ca-type_string",t.Mwt="daterange-ca-type_number",t.Lwt="daterange-ca-type_arraybuffer"}(MU||(MU={}));var hF={cue:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=iF(t)}return n},textTrack:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=vF().register(t.cue));var i=fF()[dF()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=iF(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var s=t.track.activeCues[e];r.push(eF(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=vF().register(t)}),n.track=uF(t.track);case"removetrack":case"change":n.track=uF(t.track)}return n},default:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Kr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=uF(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=tF(t.ad);break;case"adloaded":case"adimpression":n.ad=KU(t.ad);break;case"aderror":t.Uwt&&(n.Uwt=t.Uwt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=KU(t.ad)}return rF(n)},minimizeCueHelper:function(t){var n={};return n.date=nF(t),n.type=t.type,n.cue=iF(t),n.track={uid:t.cue.track.uid},n},adReplacer:KU,adBreakReplacer:tF,removeCircularReferences:rF},aF=function(){this.stringify=LU,this.minimize=hF};function cF(){return mr.self}function fF(){return cF().THEOplayerBridge}function vF(){return cF().THEOCueMirrorMap}function dF(){return cF().THEOplayerGlobalID}function lF(){var t=cF();if(t.THEOplayerBridge){var n=new OU;t.THEOplayerBridge=xd(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new OU;t.THEOplayerUtils||(t.THEOplayerUtils=new aF),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new xU)}lF();var _F,gF=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return U(n,t),n}(As),wF=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.xo(new gF(t,n))},i.addEventListener=function(t,n){this.Po(t,n)},i.removeEventListener=function(t,n){this.Uo(t,n)},n}(ul),yF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fwt=void 0,r.Hwt=void 0,r.Vwt=function(t){r.Fwt.yj("THEOplayerABRSetTargetBuffer",t.gx),r.xo(t)},r.Xwt=function(t){r.Fwt.yj("THEOplayerABRSetStrategy",t.yx),r.xo(t)},r.Fwt=n,r.Hwt=i,r.Hwt.Po("wx",r.Vwt),r.Hwt.Po("mx",r.Xwt),r}return U(n,t),L(n,[{key:"Nx",get:function(){var t;switch(this.yx.type){case UT.PERFORMANCE:return 1;case UT.QUALITY:return 0;case UT.BANDWIDTH:return null!=(t=this.yx.metadata)&&t.bitrate&&!w(this.yx.metadata.bitrate)?this.yx.metadata.bitrate:0;default:return 0}}},{key:"Kd",get:function(){return this.Hwt.Kd}},{key:"yx",get:function(){return this.Hwt.yx},set:function(t){this.Hwt.yx=t}},{key:"gx",get:function(){return this.Hwt.gx},set:function(t){this.Hwt.gx=t}},{key:"kx",get:function(){return this.Hwt.kx},set:function(t){this.Hwt.kx=t}}]),n}(ks),mF=function(){function t(t,n,i){this._a=void 0,this.ho=void 0,this.Ra=void 0,this.Vh=void 0,this._a=t,this.ho=i,this.Ra=n}var n=t.prototype;return n.Vb=function(t){throw new f("Not implemented yet.")},n.xL=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ho.fo(n.ro,i);case 2:return r=t.sent,t.next=5,r.Zh();case 5:return e=t.sent,t.next=8,this.PL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.BL=function(t){return!1},n.LL=function(t){return T.resolve(void 0)},n.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.PL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.PL=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.UL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.UL=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Vh)){t.next=5;break}return t.next=4,i.jh(this.Ra);case 4:this.Vh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Gh(this.Ra);case 8:this.Vh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ub=function(t,n,i){throw new f("Not implemented yet.")},L(t,[{key:"Wh",get:function(){return this._a}},{key:"Ry",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Iy",get:function(){return new Jp([0,1/0])}},{key:"Xw",get:function(){throw new f("Not implemented yet.")}},{key:"Wwt",get:function(){throw new f("Not implemented yet")}},{key:"Vw",get:function(){throw new f("Not implemented yet.")}},{key:"qwt",get:function(){throw new f("Not implemented yet")}},{key:"zwt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.Gwt="webkitneedkey",t.jwt="webkitkeymessage",t.Qwt="webkitkeyerror"}(_F||(_F={}));var kF=function(t){function n(n,i){var r;return(r=t.call(this,_F.Gwt)||this).initData=n,r.sessionId=i,r}return U(n,t),n}(As),pF=function(t){function n(n,i){var r;return(r=t.call(this,_F.jwt)||this).message=n,r.destinationURL=i,r}return U(n,t),n}(As),AF=function(t){function n(){return t.call(this,_F.Qwt)||this}return U(n,t),n}(As),bF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).ia=new Wu,u.ga=void 0,u.sa=new Ds,u.ya=new Wu,u.Ywt=function(t){u.ga?(u.ga.yh(void 0),u.ga=void 0):u.ca("internal-error"),u.xo(new Rs)},u.Zwt=function(t){u.ga&&(u.ga.wh(void 0),u.ga=void 0),u.xo(new Ss(en(u),"license-request",Hu(t.message).buffer,t.destinationURL||void 0))},u.va=n,u.Ih=i,u.Jwt=r,u.Ea=e,u.ka=s,u}U(n,t);var i=n.prototype;return i.Oh=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.pa){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.$wt(Uu(i),e);case 5:this.ca("usable"),this.ya.wh(),this.ya=new Wu;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Bh=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Uu(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.ga=new Wu,this.Jwt.Bh(this.Ea,i),t.next=7,this.ga.gh;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dh=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ya;case 2:return this.Jwt.Uo(_F.jwt,this.Zwt),this.Jwt.Uo(_F.Qwt,this.Ywt),this.ya.Eo(),this.ia.wh(void 0),t.abrupt("return",this.ia.gh);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ph=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.$wt=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=bo(n,i,this.ka),this.Jwt.Po(_F.jwt,this.Zwt),this.Jwt.Po(_F.Qwt,this.Ywt),this.Jwt.kV(this.Ea,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ca=function(t){this.sa.sh(),this.sa.eh(Cs,t),this.xo(new Es(this))},L(n,[{key:"Hh",get:function(){return this.Ea}},{key:"Uh",get:function(){return NaN}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Fh",get:function(){return this.sa}}]),n}(ks),TF=function(){function t(t,n,i){this.Kwt=void 0,this.Ea=void 0,this.ka=void 0,this.Jwt=void 0,this.Ih=void 0,this._a=void 0,this.va=void 0,this.Jwt=t,this.Ih=n,this._a=i;var r=oo(i)||"video/mp4";this.va=eo(r)}var i=t.prototype;return i.qh=function(){var t=T.coroutine($r.mark(function t(i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ka){t.next=2;break}throw new To(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new bF(this.va,this.Ih,this.Jwt,this.Ea,this.ka),this.Kwt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(t){return this.ka=Uu(t),T.resolve(!0)},i.Gh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jh=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},L(t,[{key:"Xh",get:function(){return this.Ih}},{key:"Wh",get:function(){return this._a}},{key:"sessionId",set:function(t){this.Ea=t}}]),t}(),EF=function(){function t(t,n,i){this.tyt=t,this.Ih=n,this._a=i}var n=t.prototype;return n.Jh=function(){return this._a},n.Zh=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new TF(this.tyt,this.Ih,this._a));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"Xh",get:function(){return this.Ih}}]),t}(),SF=function(){function t(t){this.tyt=void 0,this.tyt=t}return t.prototype.fo=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(s=so(RF,Ts,n,e))){t.next=6;break}return t.abrupt("return",new EF(this.tyt,n,s));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function RF(t,n){return t===me}var IF,NF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.DV=function(t,n){return!0},n}(OI),CF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new SF(i)),(e=t.call(this)||this).fS=void 0,e.ho=void 0,e.NL=void 0,e.LV=new VE,e.nyt=void 0,e.tyt=void 0,e.iyt=!1,e.Ea=void 0,e.ma=null,e.ryt={my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.eyt=function(t){"boolean"==typeof t.detail.casting&&(e.iyt=t.detail.casting,e.xo(new rg(e.iyt)))},e.syt=function(t){e.Ea=t.sessionId,e.ma&&(e.ma.sessionId=e.Ea);var n=t.initData;if(n){var i=FI(n);if(!i)return;e.xo(new Is(de,i))}else e.xo(new Is(de,new ArrayBuffer(0)))},e.nyt=n,e.tyt=i,e.tyt.Po(_F.Gwt,e.syt),e.ho=r,e.NL=new NF(en(e)),e.uyt(),e}U(n,t);var i=n.prototype;return i.VL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.io===Sy.Wb)return i}},i.mo=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.oyt(),this.tyt.Uo(_F.Gwt,this.syt),t.next=7,this.NL.mo();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.iy=function(){throw new f("Not implemented yet")},i.Ub=function(t,n,i,r,e,s,u){throw new f("Not implemented yet")},i.GS=function(){return!1},i.QS=function(t,n,i,r){throw new f("Not implemented yet")},i.Vb=function(t){throw new f("Not implemented yet")},i.JS=function(){throw new f("Not implemented yet")},i.xh=function(){var t=T.coroutine($r.mark(function t(n){var i=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.LV.tL(function(){var t=T.coroutine($r.mark(function t(r){var e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.io!==Sy.Wb){t.next=8;break}return es(r),e=new mF(n,i,i.ho),i.fS=e,i.NL.xh(e,n),t.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zw=function(){throw new f("Not implemented yet")},i.qw=function(){throw new f("Not implemented yet")},i.Cl=function(){var t=this;return this.LV.Eo(),this.LV.tL(T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.fS){n.next=4;break}return n.next=3,t.fS.mo();case 3:t.fS=void 0;case 4:return n.next=6,t.NL.Cl();case 6:case"end":return n.stop()}},n)})))},i.ah=function(t,n){throw new f("Not implemented yet")},i.eR=function(t){throw new f("Not implemented yet")},i.ny=function(){throw new f("Not implemented yet")},i.sR=function(){return this.ryt},i.uyt=function(){this.nyt.addEventListener("airPlayIsCasting",this.eyt)},i.oyt=function(){this.nyt.removeEventListener("airPlayIsCasting",this.eyt)},i.webkitSetMediaKeys=function(t){this.ma=t||null,this.ma&&(this.ma.sessionId=this.Ea)},i.vW=function(){},i.eF=function(){throw new f("Not implemented yet")},i.sF=function(){throw new f("Not implemented yet")},L(n,[{key:"gy",get:function(){throw new f("Not implemented yet")}},{key:"_y",get:function(){throw new f("Not implemented yet")}},{key:"M_",get:function(){throw new f("Not implemented yet")}},{key:"BB",get:function(){throw new f("Not implemented yet")}},{key:"U_",get:function(){throw new f("Not implemented yet")}},{key:"F_",get:function(){throw new f("Not implemented yet")}},{key:"Qo",get:function(){throw new f("Not implemented yet")}},{key:"Ip",get:function(){throw new f("Not implemented yet")}},{key:"yy",get:function(){return this.iyt}},{key:"V_",get:function(){throw new f("Not implemented yet")}},{key:"X_",get:function(){throw new f("Not implemented yet")}},{key:"W_",get:function(){throw new f("Not implemented yet")}},{key:"Sy",get:function(){throw new f("Not implemented yet")}},{key:"n_",get:function(){throw new f("Not implemented yet")}},{key:"Iy",get:function(){throw new f("Not implemented yet")}},{key:"q_",get:function(){throw new f("Not implemented yet")}},{key:"_W",get:function(){throw new f("Not implemented yet")}},{key:"j_",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"cu",get:function(){throw new f("Not implemented yet")}},{key:"ZS",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ma}},{key:"gW",get:function(){return rS}},{key:"Xw",get:function(){throw new f("Not implemented yet")}},{key:"MB",get:function(){throw new f("Not implemented yet")}},{key:"uR",get:function(){throw new f("Not implemented yet")}},{key:"dW",get:function(){return!0}},{key:"US",get:function(){return this.NL.US},set:function(t){this.NL.US=t}},{key:"PV",get:function(){return this.NL.PV}}]),n}(sl),DF=function(t){function n(n){var i;return(i=t.call(this,qo.Ec)||this).ryt=n,i}return U(n,t),n}(As);function OF(t){switch(t.type){case IF.uq:return t.value;case IF.Mwt:return Fd(t.value);case IF.Lwt:return Ms(t.value);default:return}}function xF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.uq="daterange-ca-type_string",t.Mwt="daterange-ca-type_number",t.Lwt="daterange-ca-type_arraybuffer"}(IF||(IF={}));var PF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,e,i,r)||this).IE=void 0,u.hyt=void 0,u.IE=n,u.hyt=s,u}return U(n,t),L(n,[{key:"name",get:function(){return this.IE}},{key:"timestamp",get:function(){return this.hyt}}]),n}(To),BF=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return U(n,t),n}(PF),LF=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).CI=0,u.oF=!1,u.vS=void 0,u.dS=void 0,u.ayt=void 0,u.OI=!0,u.xI=1,u.Pw=void 0,u.Bw=void 0,u.VV=void 0,u.WV=void 0,u.qV=void 0,u.Lw=void 0,u.Pb=void 0,u.uF=void 0,u.cyt=Jp.SI(),u.HU=Jp.SI(),u.DI=!1,u.tX=Jp.SI(),u.BI=void 0,u.fyt=void 0,u.vyt=void 0,u.RF=_l.S_,u.zb=_l.S_,u.nyt=void 0,u.GV=void 0,u.gS=void 0,u.Fwt=void 0,u.lgt=void 0,u.HI=void 0,u.cS=void 0,u.wS=void 0,u.tyt=void 0,u.ryt={my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.fS=void 0,u.dyt=void 0,u.mS=new Cp,u.setCurrentTime=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.Iy.length){t.next=4;break}return u.CI=n,t.next=4,u.nyt.Xo("seekablechange");case 4:u.CI=u.updateCurrentTime(n),u.Fwt.yj("THEOplayerSetCurrentTime",u.CI),u.BI=!0,u.xo(new Gl(u.CI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.lyt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.cyt=new Jp(i),u.xo(new hS(u.M_))}},u._yt=function(t){u.RF=t.detail.readyState,u.xo(new Yl(+t.detail.currentTime,u.n_)),u.gyt()},u.wyt=function(t){u.RF=t.detail.readyState,u.xo(new Zl(+t.detail.currentTime,u.n_)),u.gyt()},u.yyt=function(t){if(t.detail){var n=+t.detail.duration;u.uF=n,u.xo(new Vl(u.U_))}},u.Tgt=function(t){t.detail&&(u.oF=!0,u.xo(new ql(+t.detail.currentTime)))},u.kS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);xF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.dS=new BF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.vS=U_(u.dS),u.xo(new $l(u.dS))):xF(i)&&(u.dS=new PF(i.name,i.message,void 0,i.code,i.timestamp),u.vS=U_(u.dS),u.xo(new $l(u.dS)))}},u.Egt=function(t){u.xo(new aS)},u.myt=function(t){u.RF=t.detail.readyState,u.xo(new zl(+t.detail.currentTime,u.n_)),u.gyt()},u.kyt=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.Iy.length){t.next=3;break}return t.next=3,u.nyt.Xo("seekablechange");case 3:u.RF=n.detail.readyState,u.xo(new Hl(+n.detail.currentTime,u.n_)),u.gyt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.wgt=function(t){t.detail&&u.xo(new Ll(+t.detail.currentTime))},u.ygt=function(t){t.detail&&(u.OI||(u.OI=!0,u.xo(new Bl(+t.detail.currentTime))))},u.pyt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.tX=new Jp(i).oI(.05)}},u.zgt=function(t){t.detail&&u.xo(new Jy(+t.detail.currentTime))},u.pgt=function(t){t.detail&&(u.xI=t.detail.playbackRate,u.xo(new Xl(+t.detail.currentTime,u.xI)))},u.Ayt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.HU=new Jp(i)}},u.kgt=function(t){t.detail&&(u.CI=+t.detail.currentTime,u.BI=!1,u.xo(new Wl(u.CI,u.ayt)),u.xo(new jl(u.CI)))},u.mgt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.uF&&(u.oF=!1),u.BI=!0,u.xo(new Gl(n))}},u.byt=function(t){t.detail&&(t.detail.currentDate&&(u.ayt=new Date(1e3*t.detail.currentDate)),u.CI=+t.detail.currentTime,u.xo(new Wl(u.CI,u.ayt)))},u.Tyt=function(t){u.fyt=t.detail.height,u.vyt=t.detail.width},u.Eyt=function(t){t.detail&&u.xo(new Zy(+t.detail.currentTime))},u.Lgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Hw.Rl(new J_(n))},u.Syt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,s=0;s<u.Pw.Ol;s++){var o=u.Hw.Sl(s);o.Gl==r&&o.zl==e?i=u.Pw.Sl(s):1==o.Vl&&(n=u.Pw.Sl(s))}i&&n&&(i.Vl=!0,n.Vl=!1)},u.Ugt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Vw.Rl(new ig(n))},u.GG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===ty.kk&&r===tg.ID3?(n=new lI("",t.detail.label)).t_=Yd.Zl:i===ty.kk&&r===tg.DATE_RANGE?(n=new nD,u.dyt=n):n=new hR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),u.VV.Rl(n),u.GV.Rl(n)},u.Ryt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,s={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(s.description=r.Id3FrameDescription);var o=new vI(Fd(r.startTime),s,r.uid),h=u.Iyt();h&&h.Hb(o)}},u.Nyt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],s=new mg(Fd(e.startTime),Fd(e.endTime),e.content,!1),o=null!=(r=u.Cyt(ty.yk))?r:u.Cyt(ty.Ib);o&&(o.io=tg.WEBVTT,o.Hb(s))}},u.WX=function(t){t.type===qo.ja&&(u.vS=U_(t.errorObject)),u.Oo(t)},u.Dyt=function(t){t.detail&&(u.ryt.ky=t.detail.corruptedVideoFrames,u.ryt.my=t.detail.droppedVideoFrames,u.xo(new DF(u.Iw)))},u.Oyt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Xl:t.id};if(void 0!==t.startDate&&(n.uR=new Date(t.startDate)),void 0!==t.endDate&&(n.EY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var s=OF(t.customAttributes[e]);void 0!==s&&(r[e]=s)}n.UY=r}void 0!==t.scte35Cmd&&(n.FY=Ms(t.scte35Cmd)),void 0!==t.scte35In&&(n.VY=Ms(t.scte35In)),void 0!==t.scte35Out&&(n.HY=Ms(t.scte35Out)),void 0!==t.startTime&&(n.Qy=t.startTime),n.BY=t.class,n.U_=Fd(t.duration),n.LY=Fd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Qy?t.Qy:(new Date).getTime(),r=new QC(t,i);u.dyt.Hb(r),u.dyt.Bh(n,i)})};var o=e.uid;u.Fwt=u.getSdkBridge(o),u.nyt=new wF,fF()[o].sdkEventBus=u.nyt,u.Pw=new V_,u.Bw=new V_;var h=u.xyt(r);return u.Pb=new mU(en(u),new aI),u.GV=new fI(en(u)),u.gS=new ky(u.Pb,h),u.VV=new ny,u.WV=new kI(en(u)),u.WV.Ul=u.VV,u.qV=new pI(u.Pb,u.WV),u.Lw=new xp([u.VV,u.gS.vp,u.qV.vp]),u.tyt=u.getFairPlayControllerBridge(u.Fwt),u.cS=new CF(u.nyt,u.tyt),u.wS=new Dp(h),u.cS.US=u.wS,u.observeMediaElement(),u.HS(),u.HI=new yF(u.Fwt,s),u.HI.Po("wx",function(){u.Fwt.yj("THEOplayerSetPreferredForwardBufferDuration",u.HI.gx)}),u}U(n,t);var i=n.prototype;return i.sy=function(){return tA},i.ny=function(){this.Fwt.yj("THEOplayerShow",{})},i.iy=function(){this.Fwt.yj("THEOplayerHide",{})},i.Pyt=function(){var t=this;this.Fwt.yj("THEOplayerSetInitialPreferredPeakBitRate",this.HI.Nx);this.Po("playing",function n(){t.Fwt.yj("THEOplayerSetInitialPreferredPeakBitRate",0),t.Uo("playing",n)})},i.Qw=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lgt=n,r=Kr({},i,{sources:{src:n.src,type:vl.m_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Fwt.yj("THEOplayerSourceChange",r),e={io:Sy.Wb,e_:n.src,Gf:n.type,VS:this.XS(n),WS:n.crossOrigin,qS:i.metadata&&i.metadata.title},this.wS.JE(n.contentProtection),t.next=7,this.cS.xh(e);case 7:this.fS=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==tg.WEBVTT})).length>0&&this.zS(s),Ey(this.Xw),this.Pyt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.XS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Xh:Ae,nR:[{initDataTypes:[Ae.eo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.qw=function(){this.OI=!1,this.xo(new Ll(this.M_)),this.Fwt.yj("THEOplayerPlay",{})},i.zw=function(){this.OI=!0,this.xo(new Bl(this.M_)),this.Fwt.yj("THEOplayerPause",{})},i.ey=function(){},i.Cl=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.CI=0,this.oF=!1,this.vS=void 0,this.dS=void 0,this.OI=!0,this.xI=1,this.uF=void 0,this.HU=Jp.SI(),this.cyt=Jp.SI(),this.fyt=void 0,this.vyt=void 0,this.RF=_l.S_,this.zb=_l.S_,this.Pw.Cl(),this.Bw.Cl(),this.VV.Cl(),this.Lw.Cl(),t.next=19,this.qV.Cl();case 19:return this.WV.Cl(),t.next=22,this.gS.Cl();case 22:return this.Pb.Cl(),this.GV.Cl(),this.lgt=void 0,t.next=27,this.cS.Cl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zw=function(){this.Fwt.yj("THEOplayerShowAirPlayPicker",{})},i.Jw=function(){this.Fwt.yj("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Iw.ky=t.ky,this.Iw.my=t.my},i.Lv=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.unobserveMediaElement(),this.KS(),this.cS.US=void 0,t.next=8,this.cS.mo();case 8:return this.Pw.Lv(),this.Bw.Lv(),this.VV.Lv(),this.Lw.Lv(),this.WV.Lv(),t.next=15,this.qV.Lv();case 15:return t.next=17,this.gS.Lv();case 17:this.Pb.Lv(),this.GV.Lv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.gS.Mb(i)}},i.gyt=function(){var t=this.zb,n=this.RF;t!==n&&(this.zb=n,this.xo(new Jl(this.M_,n)))},i.observeMediaElement=function(){this.cS.Po(qo.Wa,this.Oo),this.cS.Po([qo.Qa,qo.ja],this.WX),this.nyt.addEventListener("play",this.wgt),this.nyt.addEventListener("pause",this.ygt),this.nyt.addEventListener("seeking",this.mgt),this.nyt.addEventListener("seeked",this.kgt),this.nyt.addEventListener("ratechange",this.pgt),this.nyt.addEventListener("durationchange",this.yyt),this.nyt.addEventListener("timeupdate",this.byt),this.nyt.addEventListener("waiting",this.Eyt),this.nyt.addEventListener("playing",this.zgt),this.nyt.addEventListener("ended",this.Tgt),this.nyt.addEventListener("loadedmetadata",this.kyt),this.nyt.addEventListener("loadeddata",this.myt),this.nyt.addEventListener("loadstart",this.Egt),this.nyt.addEventListener("canplay",this._yt),this.nyt.addEventListener("canplaythrough",this.wyt),this.nyt.addEventListener("error",this.kS),this.nyt.addEventListener("seekablechange",this.Ayt),this.nyt.addEventListener("videosizechange",this.Tyt),this.nyt.addEventListener("bufferedchange",this.lyt),this.nyt.addEventListener("playedchange",this.pyt),this.nyt.addEventListener("metricschange",this.Dyt),this.nyt.addEventListener("addDateRangeCues",this.Oyt)},i.unobserveMediaElement=function(){this.cS.Uo(qo.Wa,this.Oo),this.cS.Uo([qo.Qa,qo.ja],this.WX),this.nyt.removeEventListener("play",this.wgt),this.nyt.removeEventListener("pause",this.ygt),this.nyt.removeEventListener("seeking",this.mgt),this.nyt.removeEventListener("seeked",this.kgt),this.nyt.removeEventListener("ratechange",this.pgt),this.nyt.removeEventListener("durationchange",this.yyt),this.nyt.removeEventListener("timeupdate",this.byt),this.nyt.removeEventListener("waiting",this.Eyt),this.nyt.removeEventListener("playing",this.zgt),this.nyt.removeEventListener("ended",this.Tgt),this.nyt.removeEventListener("loadedmetadata",this.kyt),this.nyt.removeEventListener("loadeddata",this.myt),this.nyt.removeEventListener("loadstart",this.Egt),this.nyt.removeEventListener("canplay",this._yt),this.nyt.removeEventListener("canplaythrough",this.wyt),this.nyt.removeEventListener("error",this.kS),this.nyt.removeEventListener("seekablechange",this.Ayt),this.nyt.removeEventListener("videosizechange",this.Tyt),this.nyt.removeEventListener("bufferedchange",this.lyt),this.nyt.removeEventListener("playedchange",this.pyt),this.nyt.removeEventListener("metricschange",this.Dyt),this.nyt.removeEventListener("addDateRangeCues",this.Oyt)},i.updateCurrentTime=function(t){var n=this.Iy.start(0),i=this.Iy.end(0);return l.min(l.max(t,n),i)},i.Iyt=function(){for(var t=0,n=this.Lw.Dl;t<n.length;t++){var i=n[t];if(i.ql===ty.kk&&i.io===tg.ID3)return i}},i.Cyt=function(t){for(var n=0,i=this.Lw.Dl;n<i.length;n++){var r=i[n],e=r.t_===Yd.Jl,s=r.ql===t;if(e&&s)return r}},i.HS=function(){this.nyt.addEventListener("addaudiotrack",this.Lgt),this.nyt.addEventListener("enableaudiotrack",this.Syt),this.nyt.addEventListener("addvideotrack",this.Ugt),this.nyt.addEventListener("addtexttrack",this.GG),this.nyt.addEventListener("addtexttrackid3cues",this.Ryt),this.nyt.addEventListener("addtexttrackcues",this.Nyt)},i.KS=function(){this.nyt.removeEventListener("addaudiotrack",this.Lgt),this.nyt.removeEventListener("enableaudiotrack",this.Syt),this.nyt.removeEventListener("addvideotrack",this.Ugt),this.nyt.removeEventListener("addtexttrack",this.GG),this.nyt.removeEventListener("addtexttrackid3cues",this.Ryt),this.nyt.removeEventListener("addtexttrackcues",this.Byt)},i.ly=function(){},L(n,[{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.cyt.rR()}},{key:"gy",get:function(){return this.ayt?this.ayt:null},set:function(t){this.Fwt.yj("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.ayt=t}},{key:"M_",get:function(){return this.CI},set:function(t){this.setCurrentTime(t)}},{key:"U_",get:function(){return this.uF}},{key:"F_",get:function(){return this.oF}},{key:"Qo",get:function(){return this.vS}},{key:"H_",get:function(){return this.dS}},{key:"Ww",get:function(){}},{key:"yy",get:function(){return this.cS.yy}},{key:"Iw",get:function(){return this.ryt}},{key:"V_",get:function(){return this.DI},set:function(t){this.DI!==t&&(this.Fwt.yj("THEOplayerSetMuted",t),this.DI=t,this.xo(new Ql(this.M_,t?0:1)))}},{key:"X_",get:function(){return this.OI}},{key:"W_",get:function(){return this.xI},set:function(t){this.Fwt.yj("THEOplayerSetPlaybackRate",t),this.xI=t}},{key:"Sy",get:function(){return this.tX.rR()}},{key:"Ry",get:function(){return Wp.RR},set:function(t){}},{key:"n_",get:function(){return this.RF}},{key:"Iy",get:function(){return this.HU.rR()}},{key:"q_",get:function(){return this.BI}},{key:"uR",get:function(){}},{key:"Xw",get:function(){return this.Lw}},{key:"z_",get:function(){return this.fyt}},{key:"G_",get:function(){return this.vyt}},{key:"j_",get:function(){return 1},set:function(t){}},{key:"Vw",get:function(){return this.Bw}},{key:"oR",get:function(){return this.mS}},{key:"Ey",get:function(){return!0}}]),n}(sl),MF=function(){function t(){this.hR=Tp.qE}var n=t.prototype;return n.aR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(kl(n.type))return!1;var r=n.contentProtection;if(r&&!Pm(r)){if(!Mm(r))return!1;if(!t.Ggt(r))return!1}return!0},t.Ggt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.cR=function(){return!1},t}(),UF=function(){function t(){this.Lyt=r.webkit}return t.prototype.yj=function(t,n){this.Lyt.messageHandlers[t]&&this.Lyt.messageHandlers[t].postMessage(n)},t}(),FF=function(t){function n(n){var i;return(i=t.call(this)||this).Fwt=void 0,i.nyt=void 0,i.Myt=function(t){var n=Ms(t.detail.initData),r=t.detail.sessionId;i.xo(new kF(n,r))},i.Uyt=function(t){var n=new y(qs(t.detail.message)),r=t.detail.destinationURL;i.xo(new pF(n,r))},i.Fyt=function(t){i.xo(new AF)},i.Fwt=n,i.nyt=new wF,fF().fairplayController={sdkEventBus:i.nyt},i.g$(),i}U(n,t);var i=n.prototype;return i.g$=function(){this.nyt.addEventListener(_F.Gwt,this.Myt),this.nyt.addEventListener(_F.jwt,this.Uyt),this.nyt.addEventListener(_F.Qwt,this.Fyt)},i.kV=function(t,n){var i={playerId:dF(),data:zs(n.buffer),sessionId:t};this.Fwt.yj("THEOplayerCreateKeySession",i)},i.Bh=function(t,n){var i={playerId:dF(),data:zs(n.buffer),sessionId:t};this.Fwt.yj("THEOplayerUpdateKey",i)},n}(sl),HF=function(t){var n=this;this.nyt=void 0,this.Hyt=void 0,this.Vyt=function(){n.Hyt.tj()},this.Xyt=function(){n.Hyt.KG()},this.nyt=new wF,this.Hyt=t,this.nyt.addEventListener("showTracks",this.Vyt),this.nyt.addEventListener("hideTracks",this.Xyt),fF().texttracks={sdkEventBus:this.nyt}},VF=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this,n,i,r,e,s)||this).sj=void 0,o.uj=void 0,o.Wyt=void 0;var h=i.LS(H_.Rv);return o.sj=new jI,o.sj.lW(n),o.uj=new cC(o.sj.wy,h.BB,o.Xw,u,h.ZS),o.Wyt=new HF(o.uj),i.tR(h),mr.document.querySelector(".vjs-tech")?mr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):mr.document.querySelector(".player-div").style.background="transparent",o}U(n,t);var i=n.prototype;return i.ny=function(){t.prototype.ny.call(this),this.sj.ny()},i.iy=function(){t.prototype.iy.call(this),this.sj.iy()},i.Yw=function(){return!0},i.getSdkBridge=function(){return new UF},i.getFairPlayControllerBridge=function(){return WF},i.xyt=function(t){return t},i.Lv=function(){var n=T.coroutine($r.mark(function n(){return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return mr.document.querySelector(".vjs-tech")?mr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):mr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Lv.call(this);case 3:this.uj.Lv(),this.sj.Lv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(LF);Vp(new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.VT=function(t,n,i,r,e,s){return new VF(t,n,i,r,e,s)},i.aR=function(n,i){if(n.type){var r=Pr();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.aR.call(this,n,i)},n}(MF)));var XF,WF=new FF(new UF),qF=function(t){function n(){return t.call(this,"qyt")||this}return U(n,t),n.prototype.tl=function(){return new zF},n}(yd),zF=function(t){function n(){return t.call(this,"statechange")||this}return U(n,t),n}(As);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(XF||(XF={}));var GF=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).zyt=new sl,n.Oo=function(t){n.xo(t)},n}U(n,t);var i=n.prototype;return i.tl=function(){return n=function(t){var n=t.Gyt.map(function(t){return t.Kd});return n.item=function(n){n|=0;var i=t.Sl(n);return i&&i.Kd||void 0},n}(t=this),i=new iE(t,n),n.addEventListener=function(t,n){i.Po(t,n)},n.removeEventListener=function(t,n){i.Uo(t,n)},n;var t,n,i},i.Po=function(t,n){this.zyt.Po(t,n)},i.Lo=function(t){this.zyt.Lo(t)},i.Mo=function(){this.zyt.Mo()},i.xo=function(t){this.zyt.xo(t)},i.Uo=function(t,n){this.zyt.Uo(t,n)},i.Ho=function(t){this.zyt.Ho(t)},i.Vo=function(t){this.zyt.Vo(t)},i.Xo=function(t,n){return this.zyt.Xo(t,n)},n}(function(){function t(){this.th=[],this.$d=void 0}var n=t.prototype;return n.Sl=function(t){return this.th[t]},n.vg=function(t){this.th.push(t),this.$d&&this.$d.push(t.Kd),this.jyt(t)},n.Qyt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.vg(i)}},n.Yyt=function(t,n){n>=0&&n<=this.th.length&&(this.th.splice(n,0,t),this.$d&&this.$d.splice(n,0,t.Kd),this.jyt(t))},n.Cy=function(t){return Ye(this.th,t)},n.Ph=function(t){this.Zyt(this.th.indexOf(t))},n.Zyt=function(t){if(t>=0&&t<this.th.length){var n=this.th[t];Qe(this.th,t),this.$d&&Qe(this.$d,t),this.Jyt(n)}},n.sh=function(){var t=this.th.slice();Je(this.th),this.$d&&Je(this.$d);for(var n=0;n<t.length;n++){var i=t[n];this.Jyt(i)}},L(t,[{key:"Gyt",get:function(){return this.th}},{key:"Ol",get:function(){return this.th.length}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}}]),t}());var jF,QF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return U(n,t),n}(As),YF=function(t){function n(n){var i;return(i=t.call(this,"Kyt")||this).$yt=n,i}return U(n,t),n.prototype.tl=function(){return new QF(this.$yt.Kd)},n}(yd),ZF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return U(n,t),n}(As),JF=function(t){function n(n){var i;return(i=t.call(this,"tmt")||this).task=n,i}return U(n,t),n.prototype.tl=function(){return new ZF(this.task.Kd)},n}(yd),$F=function(t){function n(){return t.call(this)||this}U(n,t);var i=n.prototype;return i.jyt=function(t){this.xo(new YF(t))},i.Jyt=function(t){this.xo(new JF(t))},n}(GF);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(jF||(jF={}));var KF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).nmt=jF.UNINITIALISED,e.ZB=new $F,e.U8=void 0,e.imt=void 0,e.rmt=void 0,e.rmt=i,e.imt=r,e.U8=n,e.$w(),e}U(n,t);var i=n.prototype;return i.$w=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.emt();case 2:this.smt(jF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.emt=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.umt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.umt=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.U8.ZK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.rmt.omt(r.id,r.sourceDescription,r.parameters,this.imt),this.hmt(e),this.ZB.vg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.smt=function(t){this.nmt=t,this.xo(new qF)},i.omt=function(t,n,i){void 0===i&&(i="persistent");var r=this.rmt.amt(t,n,i);return this.cmt(r,i),this.ZB.vg(r),this.hmt(r),r},i.cmt=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fmt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.fmt=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.U8.jK({key:n.Xl,id:n.Xl,sourceDescription:n.pR,parameters:n.$h},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hmt=function(t){var n=this;t.Po("qyt",function(){t.sv===XF.EVICTED&&n.ZB.Ph(t)})},L(n,[{key:"sv",get:function(){return this.nmt}},{key:"vmt",get:function(){return this.ZB}}]),n}(ks);function tH(t,n){return function(t,n){var i=t.cu&&n.cu,r=t.Ip&&n.Ip;return i||r?i&&r?t.cu*t.Ip-n.cu*n.Ip:i?t.cu-n.cu:r?t.Ip-n.Ip:(t.cu||1)*(t.Ip||1)-(n.cu||1)*(n.Ip||1):0}(t,n)||function(t,n){return t.QE-n.QE}(t,n)}var nH=function(t){function n(){return t.call(this,"progress")||this}return U(n,t),n}(As),iH=function(t){function n(){return t.call(this,"yK")||this}return U(n,t),n.prototype.tl=function(){return new nH},n}(yd),rH=function(){function t(t,n,i){if(this.dmt=void 0,this.lmt=t,this.Ny=n,this._mt=i,0===this.Ny.size)this.dmt=Jp.SI();else{var r=new Jp([-1/0,1/0]);this.Ny.forEach(function(t){r=r.iI(t.timeRanges)}),this.dmt=r}}return t.prototype.ug=function(t){return!!Bd(this.Ny,t.Ny)&&(!!Qt(this.lmt,t.lmt)&&(!!Qt(this.AI,t.AI)&&(!!Qt(this.gmt,t.gmt)&&this.wmt.gI(t.wmt))))},t.ymt=function(){return sH},L(t,[{key:"AI",get:function(){return this._mt}},{key:"mmt",get:function(){return this.lmt}},{key:"gmt",get:function(){return this.wmt.AI}},{key:"kmt",get:function(){var t=0,n=0;return this.Ny.forEach(function(i){t+=i.timeRanges.AI,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"wmt",get:function(){return this.dmt}}]),t}(),eH=ne(),sH=new rH(0,eH,NaN);function uH(t,n){if(it(t)){if(Re(t,"%"))return g(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var oH,hH=function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"pmt"}}]),n}(un);function aH(t,n,i,r){var e=[],s=ze(i,function(t){return t.Amt===ce});if(void 0!==s){var u=s.fs?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.fs.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.Amt!==ce)for(var a=0,c=Ee(h.Amt);a<c.length;a++){var f=c[a];e.push({Xh:f,KE:h.bmt?[h.bmt]:[],yE:void 0})}}if(e.length)return{oT:t,Tmt:{Emt:u,hT:s.hT},Smt:e,Rmt:n===H_.Sv?r.slice():[],Imt:n===H_.Rv?r.slice():[],IV:!1}}}}function cH(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=ne();return fH(r,e,t.Smt),fH(r,e,n.Smt),{oT:t.oT,Tmt:{Emt:t.Tmt.Emt,hT:null!=(i=t.Tmt.hT)?i:n.Tmt.Emt},Smt:r,Rmt:vH(t.Rmt,n.Rmt,Ye),Imt:vH(t.Imt,n.Imt,Ye),IV:t.IV||n.IV||!1}}function fH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],s=e.Xh.uo,u=void 0;n.has(s)?(u=n.get(s)).KE=vH(u.KE,e.KE,dH):(u=Kr({},e),t.push(u),n.set(s,u))}}function vH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var s=n[e];i(r,s)||r.push(s)}return r}function dH(t,n){for(var i=0;i<t.length;i++){if(Xs(t[i],n))return!0}return!1}function lH(t,n){var i,r=t.Nmt;if(r){for(var e=t.uD,s=[],u=0,o=t.RJ;u<o.length;u++){var h=o[u];s.push(e+'; codecs="'+h+'"')}i=aH(n||{},t.io,r,s)}for(var a=0,c=t.Cmt;a<c.length;a++){i=cH(i,_H(c[a],n))}return i}function _H(t,n){return aH(n||{},t.io,t.Nmt||[],[t.Gf])}function gH(t,n,i){return wH.apply(this,arguments)}function wH(){return(wH=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Dmt;s<u.length;s++)o=u[s],e.push(yH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{U_:n.xmt.Omt(),Pmt:[n.Bmt],Dmt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yH(t,n,i){return mH.apply(this,arguments)}function mH(){return(mH=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Lmt;s<u.length;s++)o=u[s],e.push(kH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{Mmt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kH(t,n,i){return pH.apply(this,arguments)}function pH(){return(pH=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Umt;s<u.length;s++)AH(o=u[s])||e.push(EH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{vp:h,io:n.io});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function AH(t){return t.Cmt.every(TH)}!function(t){t[t.y_=0]="y_",t[t.m_=1]="m_"}(oH||(oH={}));var bH=1;function TH(t){return t.Fmt!==bH&&Boolean(t.Fmt)}function EH(t,n,i){return SH.apply(this,arguments)}function SH(){return(SH=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Cmt;s<u.length;s++)TH(o=u[s])||e.push(IH(o,r));return t.next=4,T.all(e);case 4:return h=t.sent,a=n.RJ[0],c=n.Nmt,f=c?RH(a,c):void 0,v=lH(n,i),t.abrupt("return",{jl:h,Gl:n.Hmt,io:n.io,VS:f,Vmt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function RH(t,n){for(var i=[],r=function(t){return t?Re(t,"avc")?Ku.VIDEO_H264:Re(t,"hev")||Re(t,"hvc")||Re(t,"hvt")||Re(t,"lhv")||Re(t,"lhe")||Re(t,"lht")?Ku.VIDEO_H265:Re(t,"mp4")?Ku.VIDEO_MP4:Re(t,"mpeg2")?Ku.VIDEO_MPEG2:Re(t,"mpeg")?Ku.VIDEO_MPEG:Ku.VIDEO_UNKNOWN:Ku.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var s=n[e],u=s.Amt.split(":").pop(),o=s.bmt;i.push({mimeType:r,uuid:u,data:o})}return{type:oH.y_,schemeType:fe,schemeDatas:i}}function IH(t,n){return NH.apply(this,arguments)}function NH(){return(NH=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CH(n,i);case 2:s=t.sent,u={Xl:xH(n),lb:s,a8:n.d8,QE:n.QE,fu:n.fu,Ip:n.Ip,io:n.io,cu:n.cu},t.t0=n.io,t.next=t.t0===H_.Je?7:t.t0===H_.Rv?8:t.t0===H_.Sv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.K$=null!=(r=null==(e=n.K$)?void 0:e.K_())?r:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.G_t,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function CH(t,n){return DH.apply(this,arguments)}function DH(){return(DH=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h,a,c;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Xmt,s=e.Wmt(),u=s;case 4:if(!u){t.next=16;break}if(!n.qmt(u)){t.next=12;break}return t.next=8,n.zmt(u,i,(new ns).Io);case 8:for(o=t.sent,h=0;h<o.Ol;h++)r.push(OH(o.Gmt(h),n));t.next=13;break;case 12:r.push(OH(u,n));case 13:u=e.Ddt(u),t.next=4;break;case 16:return a=e.jmt(),c=a.Yy-s.Qy,t.abrupt("return",{U_:c,r0:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function OH(t,n){return{Qy:t.Qy,U_:t.U_,Qmt:n.Ymt(t)}}function xH(t){return t.Zmt.WR+"-"+(""+t.Xl)}function PH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var s in i[r]={},e){var u=[];i[r][s]=[];for(var o=e[s],h=0;h<o.length;h++){var a=o[h],c=BH(a,r,n);u.push(c)}i[r][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={io:r.type,pp:[]}),n[r["group-id"]].pp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],s=0,u=e.pp;s<u.length;s++){var o=u[s];i[e.io]||(i[e.io]={}),i[e.io][o.name]||(i[e.io][o.name]=[]),i[e.io][o.name].push(o)}return i}(t),n)}function BH(t,n,i){for(var r=t["group-id"],e={qZ:t,S$:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===r&&e.S$.push(u)}return e}var LH,MH="und";function UH(t,n){return FH.apply(this,arguments)}function FH(){return(FH=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.P8([n],{});case 2:return r=t.sent,e=new VP,t.abrupt("return",e.Jk(r.T8,r.fv,ZP(r.fv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function HH(t,n){return VH.apply(this,arguments)}function VH(){return(VH=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",XH(n,i));case 4:return t.abrupt("return",(e=void 0,e=rV(r=n),{U_:r.duration,Pmt:[r.uri],Dmt:[{Mmt:[{io:H_.lv,vp:[{io:H_.lv,Gl:MH,jl:[{Xl:r.uri,lb:e,QE:0,fu:"",Ip:0,io:H_.lv,cu:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function XH(t,n){return WH.apply(this,arguments)}function WH(){return(WH=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=PH(n.media,n.streams),t.next=3,jH(r,i);case 3:return e=t.sent,t.next=6,zH(n.streams,i);case 6:return s=t.sent,e.push(s),t.abrupt("return",{U_:qH(e),Pmt:[n.uri],Dmt:[{Mmt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].vp;r<e.length;r++){var s=e[r];n=l.max.apply(l,[n].concat(s.jl.map(function(t){return t.lb.U_})))}return n}function zH(t,n){return GH.apply(this,arguments)}function GH(){return(GH=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o,h,a,c;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return a=n[e],t.next=6,nV(a.uri,i);case 6:(c=t.sent).QE=a.bandwidth,c.fu=a.codecs,c.Ip=null!=(s=null==(u=a.resolution)?void 0:u.height)?s:0,c.cu=null!=(o=null==(h=a.resolution)?void 0:h.width)?o:0,r.push(c);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{io:H_.lv,vp:[{Gl:MH,io:H_.lv,jl:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function jH(t,n){return QH.apply(this,arguments)}function QH(){return(QH=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=$r.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,YH(s,e,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function YH(t,n,i){return ZH.apply(this,arguments)}function ZH(){return(ZH=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=$r.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,JH(u,r);case 7:o=t.sent,e.push(o),t.next=2;break;case 11:return t.abrupt("return",{io:KH(i),vp:e});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function JH(t,n){return $H.apply(this,arguments)}function $H(){return($H=T.coroutine($r.mark(function t(n,i){var r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n[0].qZ,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,tV(u,i);case 7:o=t.sent,r.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{Gl:e.language||MH,io:KH(e.type),jl:r});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function KH(t){switch(t.toUpperCase()){case"AUDIO":return H_.Sv;case"VIDEO":return H_.Rv;case"SUBTITLES":case"CLOSED-CAPTIONS":return H_.Je;default:return H_.lv}}function tV(t,n){var i,r,e;return nV((r=(i=t).qZ.uri,e=i.S$.map(function(t){return t.uri}),r||(e.length?e[0]:void 0)),n)}function nV(t,n){return iV.apply(this,arguments)}function iV(){return(iV=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,UH(n,i);case 3:e=t.sent,r=rV(e),t.next=8;break;case 7:r={U_:0,r0:[]};case 8:return t.abrupt("return",{Xl:n||"default",Jmt:n,lb:r,QE:0,fu:"",Ip:0,io:H_.lv,cu:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rV(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(eV(e))}return{U_:t.duration,r0:n}}function eV(t){return{Qy:t.start,U_:t.duration,Qmt:sV(t.uri)}}function sV(t){return rD(t)?{vv:t.GY,jY:[t.jY.WR,t.jY.zR],xv:!1}:{vv:t.toString(),xv:!1}}!function(t){t.Wb="static",t.qb="dynamic"}(LH||(LH={}));var uV,oV=31536e3,hV=2592e3,aV=86400,cV=3600,fV=60,vV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,dV=function(){function t(t){this.$mt=void 0;var n=t.match(vV);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.$mt=i*oV+r*hV+e*aV+s*cV+u*fV+o}var n=t.prototype;return n.Omt=function(){return this.$mt},n.Kmt=function(){return 1e3*this.$mt},L(t,[{key:"d2",get:function(){return S_.ew(this.$mt,1e3)}}]),t}();!function(t){t.tkt="progressive",t.nkt="interlaced",t.lv="unknown"}(uV||(uV={}));var lV=function(){function t(t,n){this.ikt=t,this.rkt=n}return t.prototype.K_=function(){return this.ikt/this.rkt},t}(),_V=/^(?:true|false)$/i,gV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function wV(t){if(void 0!==t)return new dV(t)}function yV(t){if(void 0!==t){var n=t.match(gV);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],v=n[10],d=n[11],_=("-"===i?-1:1)*Number(r),g=Number(e)-1,y=Number(s),m=Number(u),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=l.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(_,g,y,m,k,p,b));if(w(T.getTime()))throw new f("The given value could not be parsed as a valid Date");return T}}function mV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[pV(n[1]),pV(n[2])]}}function kV(t){if(void 0!==t){if(!w(Number(t)))try{return Xt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function pV(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function AV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!w(i)&&!w(r))return new lV(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function bV(t){if(void 0!==t){if(_V.test(t))return"true"===t.toLowerCase();if(!w(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function TV(t){return{vv:t.Cs,ekt:bV(t.bs("availabilityTimeComplete")),skt:pV(t.bs("availabilityTimeOffset"))}}function EV(t){return t.map(TV)}function SV(t){var n,i,r,e,s,u,o=MV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(s=(n=t).Ts(r,i))&&(s=n.bs(e+":"+i)),s),a=Mw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=qs(a.Cs)),!u){var c=Mw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Ms(t.Cs),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,s=new ArrayBuffer(e),u=new y(s),o=new DataView(s),h=new Vu;du(o,h,e),du(o,h,1886614376),du(o,h,0),ou(o,h,i),du(o,h,r),ou(o,h,n),0;return u.buffer}(c))}return{hT:h,bmt:u,Amt:o.Amt,fs:o.fs}}function RV(t){return{ukt:t.bs("sourceURL"),jY:mV(t.bs("range"))}}function IV(t,n){var i=t.bs("d"),r=t.bs("t"),e=pV(t.bs("r"));n.push({U_:i,Qy:r,okt:e})}function NV(t){return{r6:t.bs("index"),hkt:mV(t.bs("indexRange")),pp:t.bs("media"),akt:mV(t.bs("mediaRange"))}}function CV(t){var n,i;return Kr({},xV(t),{ckt:(n=t.ls("SegmentURL"),(i=n.map(NV)).length>0?i:void 0),fkt:t.bs("xlink:href"),vkt:t.bs("xlink:actuate")})}function DV(t){var n=t.map(CV);return n.length>0?n:void 0}function OV(t){var n=bV(t.bs("availabilityTimeComplete")),i=pV(t.bs("availabilityTimeOffset")),r=mV(t.bs("indexRange")),e=bV(t.bs("indexRangeExact")),s=t.ls("Initialization");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.gs+" element can not have more than one Initialization element.");var u=1===s.length?RV(s[0]):void 0,o=kV(t.bs("presentationTimeOffset")),h=t.ls("RepresentationIndex");if(h.length>1)throw new f("The provided MPEG-DASH document's "+t.gs+" element can not have more than one RepresentationIndex element.");return{ekt:n,skt:i,hkt:r,dkt:e,lkt:u,_kt:o,gkt:1===h.length?RV(h[0]):void 0,wkt:wV(t.bs("timeShiftBufferDepth")),jg:pV(t.bs("timescale"))}}function xV(t){var n=OV(t),i=t.ls("BitstreamSwitching"),r=i.length>0?RV(i[0]):void 0,e=pV(t.bs("duration")),s=t.ls("SegmentTimeline");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.gs+" element can not have more than one SegmentTimeline element.");return Kr({},n,{ykt:r,U_:e,Xmt:1===s.length?function(t){for(var n=[],i=t.ls("S"),r=0;r<i.length;r++)IV(i[r],n);return n}(s[0]):void 0,mkt:pV(t.bs("startNumber")),kkt:pV(t.bs("endNumber"))})}function PV(t){return Kr({},xV(t),{pkt:t.bs("bitstreamSwitching"),Akt:t.bs("index"),bkt:t.bs("initialization"),Tkt:t.bs("media")})}function BV(t){return{G_t:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(pV)):1===n.length?n.map(pV)[0]:void 0}}(t.bs("audioSamplingRate")),RJ:t.bs("codecs"),Ekt:bV(t.bs("codingDependency")),Nmt:function(t){if(0!==t.length)return t.map(SV)}(t.ls("ContentProtection")),Skt:t.ls("EssentialProperty").map(UV),K$:AV(t.bs("frameRate")),Ip:pV(t.bs("height")),Fmt:pV(t.bs("maxPlayoutRate")),Rkt:pV(t.bs("maximumSAPPeriod")),uD:t.bs("mimeType"),Ikt:t.bs("profiles"),Nkt:t.bs("sar"),Ckt:function(t){switch(t){case uV.tkt:case uV.nkt:case uV.lv:return t;default:return}}(t.bs("scanType")),Dkt:t.bs("segmentProfiles"),Okt:pV(t.bs("startWithSAP")),cu:pV(t.bs("width"))}}function LV(t){var n=BV(t),i=pV(t.bs("bandwidth")),r=EV(t.ls("BaseURL")),e=t.bs("dependencyId"),s=t.bs("id"),u=t.bs("mediaStreamStructureId"),o=pV(t.bs("qualityRanking")),h=t.ls("SegmentBase");if(h.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?OV(h[0]):void 0,c=DV(t.ls("SegmentList")),v=t.ls("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Kr({},n,{QE:i,xkt:r,Pkt:e,Xl:s,Bkt:u,Lkt:o,Mkt:a,Ukt:c,Fkt:1===v.length?PV(v[0]):void 0})}function MV(t){return{Amt:t.bs("schemeIdUri"),fs:t.bs("value")}}function UV(t){return MV(t)}function FV(t){return MV(t)}function HV(t){return MV(t)}function VV(t){var n=BV(t),i=function(t){return t.map(HV)}(t.ls("Accessibility")),r=EV(t.ls("BaseURL")),e=bV(t.bs("bitstreamSwitching")),s=t.bs("contentType"),u=pV(t.bs("group")),o=pV(t.bs("id")),h=t.bs("lang"),a=pV(t.bs("maxBandwidth")),c=AV(t.bs("maxFrameRate")),v=pV(t.bs("maxHeight")),d=pV(t.bs("maxWidth")),l=pV(t.bs("minBandwidth")),_=AV(t.bs("minFrameRate")),g=pV(t.bs("minHeight")),w=pV(t.bs("minWidth")),y=t.bs("par"),m=t.ls("Representation").map(LV);if(0===m.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(FV)}(t.ls("Role")),p=bV(t.bs("segmentAlignment"))||!1,A=t.ls("SegmentBase");if(A.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?OV(A[0]):void 0,T=DV(t.ls("SegmentList")),E=t.ls("SegmentTemplate");if(E.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?PV(E[0]):void 0,R=pV(t.bs("selectionPriority"));return Kr({},n,{Hkt:i,xkt:r,ykt:e,Gf:s,Vkt:u,Xl:o,Gl:h,Xkt:a,Wkt:c,qkt:v,zkt:d,Gkt:l,jkt:_,Qkt:g,Ykt:w,Zkt:y,Cmt:m,Jkt:k,$kt:p,Mkt:b,Ukt:T,Fkt:S,hR:R||1,Kkt:bV(t.bs("subsegmentAlignment"))||!1,tpt:pV(t.bs("subsegmentStartsWithSAP")),npt:t.bs("xlink:actuate")||"onRequest",ipt:t.bs("xlink:href")})}function XV(t){var n=kV(t.bs("presentationTime"))||Xt.ZERO,i=kV(t.bs("duration")),r=pV(t.bs("id")),e=function(t){for(var n=t.Ns,i={},r=0;r<n.length;r++)i[n[r].hs]=n[r].fs;return i}(t),s=t.Cs;return{QA:n,U_:i,Xl:r,Ns:e,Ds:""!==s.trim()?s:t.bs("messageData")||""}}function WV(t){return{ipt:t.bs("xlink:href"),npt:t.bs("xlink:actuate"),Amt:t.bs("schemeIdUri"),fs:t.bs("value"),jg:pV(t.bs("timescale")),_kt:kV(t.bs("presentationTimeOffset")),oD:t.ls("Event").map(XV)}}function qV(t,n){var i=t.ls("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?MV(i[0]):void 0,e=t.ls("AdaptationSet").map(VV),s=EV(t.ls("BaseURL")),u=bV(t.bs("bitstreamSwitching")),o=wV(t.bs("duration")),h=t.ls("EventStream").map(WV),a=t.bs("id"),c=n&&wV(n.bs("start")),v=t.ls("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?OV(v[0]):void 0,l=DV(t.ls("SegmentBase")),_=t.ls("SegmentTemplate");if(_.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?PV(_[0]):void 0,w=wV(t.bs("start")),y=(t.ls("Subset"),t.bs("xlink:href"));return{Umt:e,rpt:r,xkt:s,ykt:u,U_:o,ept:h,Xl:a,spt:c,Mkt:d,Ukt:l,Fkt:g,WR:w,npt:t.bs("xlink:actuate"),ipt:y}}function zV(t){var n=t.bs("schemeIdUri");if(n)return{Amt:n,fs:t.bs("value")}}function GV(t,n){var i=yV(t.bs("availabilityEndTime")),r=yV(t.bs("availabilityStartTime")),e=EV(t.ls("BaseURL")),s=t.bs("id"),u=t.ls("Location").map(function(t){return""+t.Cs}),o=wV(t.bs("maxSegmentDuration")),h=wV(t.bs("maxSubsegmentDuration")),a=wV(t.bs("mediaPresentationDuration")),c=(t.ls("Metrics"),wV(t.bs("minBufferTime")));if(!c)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=wV(t.bs("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(qV(t[i],t[i+1]));return n}(t.ls("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.bs("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{upt:i,hpt:r,xkt:e,Xl:s,apt:u,cpt:n,fpt:o,vpt:h,xmt:a,dpt:c,lpt:v,Dmt:d,Ikt:l,_pt:yV(t.bs("publishTime")),gpt:wV(t.bs("suggestedPresentationDelay")),wkt:wV(t.bs("timeShiftBufferDepth")),io:function(t){switch(t){case LH.Wb:case LH.qb:return t;default:return}}(t.bs("type")),wpt:function(t){for(var n=[],i=0;i<t.length;i++){var r=zV(t[i]);r&&n.push(r)}return n}(t.ls("UTCTiming"))}}var jV,QV=function(){function t(){}return t.prototype.awt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return GV(t,n)}(b.rs(t).Os,n)},t}(),YV=0,ZV=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Wl=void 0,u.xy=void 0,u.ypt=void 0,u.Xl=n,u.QE=i,u.RJ=r,u.GY=s,u.Wl=YV++,u.xy=e||"",u.ypt=!0,u}return U(n,t),n.prototype.Sb=function(){this.ypt=!1,this.xo(new hU(this.Kd))},L(n,[{key:"zl",get:function(){return this.xy},set:function(t){this.xy!==t&&(this.xy=t,this.xo(new hU(this.Kd)))}},{key:"yQ",get:function(){return this.ypt}}]),n}(ks),JV=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,s)||this).$d=void 0,c.K$=u,c.cu=o,c.Ip=h,c.z_t=a,c}return U(n,t),L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=aU(this)),this.$d}}]),n}(ZV),$V=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).$d=void 0,o.G_t=u,o}return U(n,t),L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=cU(this)),this.$d}}]),n}(ZV);!function(t){t.mpt="kpt",t.ppt="Apt"}(jV||(jV={}));var KV=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).bpt=function(t){n.xo(t)},n}return U(n,t),L(n,[{key:"Tpt",get:function(){var t=this.Ept();return null==t?void 0:t.WR}},{key:"Spt",get:function(){var t=this.Ept();return null==t?void 0:t.zR}}]),n}(ks);function tX(t){return ut(t.Rpt)}var nX=function(t){function n(n,i){var r;if((r=t.call(this)||this).Ipt=void 0,r.$d=void 0,r.Npt=void 0,r.Cpt=void 0,r.Dpt=void 0,r.Ipt=n,r.Npt=i,r.Npt.Po(jV.mpt,r.bpt),r.io===H_.Rv){var e,s,u=null!=(e=null==(s=r.K$)?void 0:s.K_())?e:NaN;r.Cpt=new JV(r.Xl,r.QE,r.fu,"","",u,r.cu,r.Ip)}else r.io===H_.Sv?r.Cpt=new $V(r.Xl,r.QE,r.fu,"","",r.G_t):r.Cpt=void 0;return r}U(n,t);var i=n.prototype;return i.Ymt=function(t){var n=tX(t)?this.Npt.Opt(t):this.Npt.Ymt(t);return{vv:n.vv,jY:n.jY,xv:this.xpt.xv}},i.Ppt=function(){return this.Npt.Ppt()},i.Ept=function(){return this.Npt.Ept()},i.Bpt=function(){return this.Npt.Bpt()},i.qmt=function(t){return this.Npt.qmt(t)},i.zmt=function(t,n,i){return this.Npt.zmt(t,this.xpt.xv,n,i)},i.Lpt=function(t){return tX(t)?this.Xmt.Mpt(t):this.Xmt.Lpt(t)},i.q6=function(t){return tX(t)?this.Xmt.Upt(t):this.Xmt.q6(t)},i.Lv=function(){this.Npt.Uo(jV.mpt,this.bpt)},L(n,[{key:"Fpt",get:function(){return this.Ipt}},{key:"G_t",get:function(){var t;return null!=(t=this.Npt.Ds.G_t)?t:this.Fpt.G_t}},{key:"QE",get:function(){return this.Npt.Ds.QE||0}},{key:"RJ",get:function(){var t=this.Npt.Ds;return t.RJ?[t.RJ]:this.Fpt.RJ}},{key:"Hpt",get:function(){var t=this.Npt.Ds;return t.RJ?[t.RJ]:[]}},{key:"fu",get:function(){return this.Npt.Ds.RJ||this.Fpt.fu}},{key:"Ekt",get:function(){return this.Npt.Ds.Ekt||this.Fpt.Ekt}},{key:"Nmt",get:function(){return this.Npt.Ds.Nmt||this.Fpt.Nmt}},{key:"Gf",get:function(){return this.uD+'; codecs="'+this.fu+'"'}},{key:"Skt",get:function(){var t=this.Npt.Ds;return t.Skt.length?t.Skt:this.Fpt.Skt}},{key:"Kd",get:function(){return this.$d||(this.$d=(t=this,{get id(){return t.Xl},get type(){return t.io},get bandwidth(){return t.QE},get width(){return t.cu},get height(){return t.Ip},get frameRate(){var n,i;return null!=(n=null==(i=t.K$)?void 0:i.K_())?n:NaN},get audioSamplingRate(){return t.G_t}}));var t}},{key:"K$",get:function(){var t;return null!=(t=this.Npt.Ds.K$)?t:this.Fpt.K$}},{key:"Ip",get:function(){return this.Npt.Ds.Ip||this.Fpt.Ip}},{key:"Xl",get:function(){return this.Npt.Ds.Xl||""}},{key:"U4",get:function(){return this.Dpt},set:function(t){this.Dpt=t}},{key:"d8",get:function(){var t=this.Npt.Vpt();if(t)return{vv:t.vv,jY:t.jY,xv:this.xpt.xv}}},{key:"Fmt",get:function(){return this.Npt.Ds.Fmt||this.Fpt.Fmt||1}},{key:"Rkt",get:function(){return this.Npt.Ds.Rkt||this.Fpt.Rkt}},{key:"xpt",get:function(){return this.Zmt.xpt}},{key:"uD",get:function(){return this.Npt.Ds.uD||this.Fpt.uD}},{key:"Zmt",get:function(){return this.Fpt.Zmt}},{key:"Ikt",get:function(){return this.Npt.Ds.Ikt||this.Fpt.Ikt}},{key:"X_t",get:function(){return this.Cpt}},{key:"Nkt",get:function(){return this.Npt.Ds.Nkt||this.Fpt.Nkt}},{key:"Ckt",get:function(){return this.Npt.Ds.Ckt||this.Fpt.Ckt}},{key:"Xpt",get:function(){return this.Npt.Xpt}},{key:"Dkt",get:function(){return this.Npt.Ds.Dkt||this.Fpt.Dkt}},{key:"Xmt",get:function(){return this.Npt.Xmt}},{key:"Okt",get:function(){return this.Npt.Ds.Okt||this.Fpt.Okt}},{key:"io",get:function(){var t=this.uD.split("/")[0];return"application"===t||"text"===t||fy(this.uD,this.RJ)?H_.Je:"video"===t?H_.Rv:"audio"===t?H_.Sv:"image"===t?H_.Iv:H_.lv}},{key:"cu",get:function(){return this.Npt.Ds.cu||this.Fpt.cu}}]),n}(KV),iX=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wpt=[],r.Npt=void 0,r.qpt=void 0,r.zpt=[],r.qpt=n,r.Npt=i,r.Npt.Po(jV.mpt,r.bpt),r}U(n,t);var i=n.prototype;return i.Bh=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.zpt.length){t.next=6;break}return this.zpt=[],r=this.Npt.Cmt.map(function(t){return e.Gpt(t,n,i)}),t.next=5,T.all(r);case 5:this.zpt=t.sent.filter(J);case 6:this.jpt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Gpt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new nX(this,n),t.next=3,i(e);case 3:if(s=t.sent,es(r),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jpt=function(){if(!this.zpt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.Ept=function(){return this.Npt.Ept()},i.Bpt=function(){return this.Npt.Bpt()},i.Lv=function(){this.Npt.Uo(jV.mpt,this.bpt);for(var t=0,n=this.zpt;t<n.length;t++){n[t].Lv()}Je(this.zpt)},L(n,[{key:"Hkt",get:function(){return this.Npt.Ds.Hkt}},{key:"G_t",get:function(){var t;return null!=(t=this.Npt.Ds.G_t)?t:-1}},{key:"RJ",get:function(){if(this.Npt.Ds.RJ)return[this.Npt.Ds.RJ];for(var t=[],n=0,i=this.Cmt;n<i.length;n++){var r=i[n];r.Hpt.length&&-1===t.indexOf(r.fu)&&t.push(r.fu)}return t}},{key:"fu",get:function(){return this.RJ.join()}},{key:"Ekt",get:function(){return this.Npt.Ds.Ekt}},{key:"Nmt",get:function(){return this.Npt.Ds.Nmt}},{key:"Gf",get:function(){return this.uD+'; codecs="'+this.fu+'"'}},{key:"Skt",get:function(){return this.Wpt}},{key:"K$",get:function(){return this.Npt.Ds.K$}},{key:"Vkt",get:function(){return this.Npt.Ds.Vkt}},{key:"Ip",get:function(){return this.Npt.Ds.Ip||0}},{key:"Xl",get:function(){return this.Npt.Ds.Xl}},{key:"Fmt",get:function(){return this.Npt.Ds.Fmt}},{key:"Rkt",get:function(){return this.Npt.Ds.Rkt}},{key:"xpt",get:function(){return this.Zmt.xpt}},{key:"uD",get:function(){return this.Npt.Ds.uD||this.zpt[0].uD}},{key:"Zmt",get:function(){return this.qpt}},{key:"Ikt",get:function(){return this.Npt.Ds.Ikt}},{key:"Cmt",get:function(){return this.zpt}},{key:"Jkt",get:function(){return this.Npt.Ds.Jkt||[]}},{key:"Nkt",get:function(){return this.Npt.Ds.Nkt}},{key:"Ckt",get:function(){return this.Npt.Ds.Ckt}},{key:"Dkt",get:function(){return this.Npt.Ds.Dkt}},{key:"hR",get:function(){return this.Npt.Ds.hR}},{key:"Okt",get:function(){return this.Npt.Ds.Okt}},{key:"io",get:function(){var t=(this.Npt.Ds.Gf||this.uD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||fy(this.uD,this.RJ)?H_.Je:"video"===t?H_.Rv:"audio"===t?H_.Sv:"image"===t?H_.Iv:H_.lv}},{key:"cu",get:function(){return this.Npt.Ds.cu||0}},{key:"Hmt",get:function(){return this.Npt.Ds.Gl||""}},{key:"Qpt",get:function(){return this.Tpt}},{key:"Ypt",get:function(){var t=this.Qpt,n=this.Spt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.xpt.Zpt);return l.max(t,i)}}}]),n}(KV);function rX(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],s=0;s<t.length;s++){var u=t[s];i.push(b.Du(u,e))}return i}var eX=function(){function t(t,n){this.qpt=void 0,this.Jpt=void 0,this.Ij=void 0,this.$pt=void 0,this.Kpt=void 0,this.qpt=t,this.Jpt=n,this.Ij=n.jg,this.$pt=n.skt,this.Kpt=n._kt}var n=t.prototype;return n.tAt=function(t){var n=t-this.qpt.WR;if(!(n<0||n>=this.qpt.U_)){var i=this.nAt();return void 0!==i&&zt(i,n,1e-5)?this.Wmt():this.iAt(n)}},n.rAt=function(t){var n=t-this.qpt.WR;if(!(n<0))return this.eAt(l.min(n,this.qpt.U_))},n.Wmt=function(){return this.sAt(0)},n.jmt=function(){var t=this.qpt.U_;if(isFinite(t))return this.eAt(t)},n.Ppt=function(t){if(this.qpt.uAt.io===LH.qb){var n=this.oAt(t);if(!n)return;return{hAt:t,aAt:this.cAt(t),fAt:n}}var i=this.Wmt();if(i)return{hAt:t,aAt:i,fAt:this.jmt()}},n.Bpt=function(t,n){if(n){var i=this.vAt(n.aAt),r=this.Ddt(n.fAt);if(r){var e=this.dAt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.Wmt();if(s){var u=this.dAt(s);if(t.getTime()<u.getTime())return u}var o=this.qpt.uAt.hpt;return t.getTime()<o.getTime()?o:void 0},n.oAt=function(t){var n=(t.getTime()-this.qpt.uAt.hpt.getTime())/1e3-this.qpt.WR+this.$pt,i=this.eAt(qt(n,0,this.qpt.U_));if(i&&(i=this.lAt(i,t))){for(var r=this.Ddt(i);r&&this._At(r,t);)i=r,r=this.Ddt(i);return i}},n.cAt=function(t){var n,i=this.Jpt.wkt;if(i){var r=(t.getTime()-this.qpt.uAt.hpt.getTime())/1e3-this.qpt.WR-i.Omt();(n=this.eAt(qt(r,0,this.qpt.U_)))||(n=this.Wmt())}else n=this.Wmt();if(n&&(n=this.lAt(n,t))){for(var e=this.gAt(n);e&&this._At(e,t);)n=e,e=this.gAt(n);return n}},n.lAt=function(t,n){for(var i=t;i&&this.dAt(i).getTime()>n.getTime();)i=this.gAt(i);if(i){var r=this.vAt(i);if(r&&r.getTime()<=n.getTime()){var e=this.gAt(i);for(e&&this._At(e,n)&&(i=e);i;){if(this.dAt(i).getTime()>n.getTime())return;if(this._At(i,n))break;i=this.Ddt(i)}if(!i)return}return i}},n._At=function(t,n){if(this.dAt(t).getTime()>n.getTime())return!1;var i=this.vAt(t);return!(i&&n.getTime()>=i.getTime())},n.wAt=function(t,n){if(this.yAt(t).getTime()>n.getTime())return!1;var i=this.vAt(t);return!(i&&n.getTime()>=i.getTime())},n.mAt=function(t,n,i){var r=tn(n,this.Ij)+this.qpt.WR;return{r6:t,kAt:n,Qy:r,U_:i,Yy:r+i}},n.yAt=function(t){return this.qpt.uAt.io===LH.qb?new Date(this.qpt.uAt.hpt.getTime()+1e3*(t.Qy+t.U_)):this.qpt.uAt.hpt},n.dAt=function(t){var n=this.yAt(t);return this.qpt.uAt.io===LH.qb?new Date(n.getTime()-1e3*this.$pt):n},n.vAt=function(t){var n=1/0;if(this.qpt.uAt.io===LH.qb){var i=this.Jpt.wkt;i&&(n=this.yAt(t).getTime()+1e3*t.U_+i.Kmt())}var r=this.qpt.uAt.upt;return r&&(n=l.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.pAt=function(t,n){return t.r6+n},n.qmt=function(t){return!1},n.zmt=function(t,n,i,r,e){var s=this.AAt(t);if(!s)return T.reject(new f("Invalid segment"));var u=this.bAt(s.r6);return u?T.resolve(u):this.TAt(s.r6,n,i,r,e)},n.bAt=function(t){},n.TAt=function(t,n,i,r,e){return T.reject(new f("Not supported"))},n.gAt=function(t){var n=this.AAt(t);if(n)return this.sAt(n.r6-1)},n.Ddt=function(t){var n=this.AAt(t);if(n)return this.sAt(n.r6+1)},n.AAt=function(t){var n=this.sAt(t.r6);if(n&&n.Qy===t.Qy)return n;var i=this.tAt(t.Qy);return i&&i.Qy===t.Qy?i:void 0},n.EAt=function(t){var n=this.SAt(t);if(n&&this.qmt(n.r6)){var i=this.bAt(n.r6);if(i)return i.EAt(t)}},n.SAt=function(t){return this.sAt(t.RAt)},n.Lpt=function(t){var n=this.AAt(t);return!!n&&0===n.r6},n.Mpt=function(t){var n=this.EAt(t);return!!n&&0===n.Rpt},n.q6=function(t){var n=this.AAt(t);if(!n)return!1;var i=this.jmt();return!!i&&n.r6===i.r6},n.Upt=function(t){var n=this.EAt(t);if(!n)return!1;var i=this.jmt();if(!i||n.RAt!==i.r6)return!1;var r=this.bAt(n.RAt);return n.Rpt+1===r.Ol},L(t,[{key:"Em",get:function(){return tn(this.Kpt,this.Ij)-this.qpt.WR}},{key:"_kt",get:function(){return tn(this.Kpt,this.Ij)}}]),t}(),sX=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).IAt=void 0,r.NAt=void 0;var e=n.CAt,s=n.U_;if(void 0===e||void 0===s)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.NAt=e,r.IAt=s,r}U(n,t);var i=n.prototype;return i.sAt=function(t){if(!(t<0)){var n=this.NAt.multiply(t),i=tn(n,this.Ij),r=this.qpt.U_;if(!(i>=r)){var e=this.DAt();if(void 0!==e){if(t>e)return;if(t===e)return this.mAt(t,n,r-i)}return isFinite(r)&&i+this.IAt>r?this.mAt(t,n,r-i):this.mAt(t,n,this.IAt)}}},i.nAt=function(){return 0},i.iAt=function(t){var n=l.floor(t/this.IAt),i=this.DAt();return void 0!==i&&n>=i?this.sAt(i):this.sAt(n)},i.eAt=function(t){if(t>=this.qpt.U_){var n=l.ceil(this.qpt.U_/this.IAt)-1,i=this.DAt();return void 0!==i&&n>=i?this.sAt(i):this.sAt(n)}return this.iAt(t)},i.DAt=function(){var t,n=this.Jpt.kkt;if(void 0!==n)return n-(null!=(t=this.Jpt.mkt)?t:1);if(isFinite(this.qpt.U_)){var i=this.Jpt.OAt;if(void 0!==i&&i>0)return i-1}},i.xAt=function(){if(isFinite(this.qpt.U_))return this.jmt()},i.PAt=function(t,n){return this.NAt.multiply(t.r6+(n-1))},i.Bh=function(){},n}(eX);function uX(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,s=t[r].Qy,u=t[e].Yy;r<=e&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=r+l.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(e-r)),h=t[o],a=h.Qy,c=o+1<i?t[o+1].Qy:h.Yy;if(c.lessThanOrEqual(n))r=o+1,s=c;else{if(!n.lessThan(a))return o;e=o-1,u=a}}return-1}var oX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).BAt=[],r.LAt=void 0,r.MAt=Xt.ZERO,r.Bh(),r}U(n,t);var i=n.prototype;return i.sAt=function(t){if(!(t<0))return t<this.BAt.length?this.BAt[t].Edt:this.UAt(t-this.BAt.length)},i.nAt=function(){if(this.BAt.length>0)return tn(this.BAt[0].Qy,this.Ij)},i.iAt=function(t){if(this.LAt&&tn(this.LAt.Qy,this.Ij)<=t){var n=tn(this.LAt.Qy,this.Ij),i=tn(this.LAt.U_,this.Ij),r=l.floor((t-n)/i);return this.UAt(r)}if(this.BAt.length>0&&zt(t,tn(this.BAt[0].Qy,this.Ij),1e-5))return this.BAt[0].Edt;var e=uX(this.BAt,Xt.fromNumber(t*this.Ij));return e<0?void 0:this.BAt[e].Edt},i.eAt=function(t){if(!this.LAt&&this.BAt.length>0){var n=this.BAt[this.BAt.length-1];if(i=t,r=tn(n.Yy,this.Ij),v_(i,r,1e-5)>=0)return n.Edt}var i,r,e=this.nAt();return e&&t<e?this.BAt[0].Edt:this.iAt(t)},i.xAt=function(){return isFinite(this.qpt.U_)?this.jmt():this.sAt(this.BAt.length-1)},i.PAt=function(t){return this.FAt(t)},i.UAt=function(t){if(this.LAt){var n=this.LAt.Qy,i=this.LAt.U_,r=n.add(i.multiply(t)),e=tn(r,this.Ij),s=this.qpt.U_;if(!(e>=s)){var u=this.BAt.length+t,o=l.min(tn(i,this.Ij),e+s);return this.mAt(u,r,o)}}},i.FAt=function(t){return t.kAt.add(this.Kpt)},i.Bh=function(){var t=this.Jpt.Ds.Xmt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.HAt(t)},i.HAt=function(t){var n=this.Kpt;this.VAt(t,n);var i=this.XAt(t);this.WAt(t,n,i.qAt,i.RAt)},i.VAt=function(t,n){var i=this.BAt;if(0===t.length)Je(i);else{for(var r=t[0],e=r.Qy?Xt.fromString(r.Qy,!1).subtract(n):Xt.ZERO,s=0;s<i.length&&i[s].Qy.lessThan(e);)s++;s>0&&i.splice(0,s)}},i.XAt=function(t){for(var n=this.BAt,i=this.MAt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].okt||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].Qy.greaterThanOrEqual(i))break;if(n[e].Edt.r6===e)e=u+1;else for(;e<=u;)n[e].Edt.r6=e,e++;0,r++}return{qAt:r,RAt:e}},i.WAt=function(t,n,i,r){for(var e,s=this.BAt,u=i,o=r;u<t.length;){var h=t[u],a=Xt.fromString(h.U_,!1),c=h.okt||0,f=void 0;if(h.Qy){if(f=Xt.fromString(h.Qy,!1).subtract(n),o>0){var v=s[o-1];v.Yy.greaterThan(f)&&(v.U_=f.subtract(v.Qy),v.Yy=v.Qy.add(v.U_))}}else f=o>0?s[o-1].Yy:Xt.ZERO;if(c<0){if(u+1===t.length){e={Qy:f,U_:a};break}for(var d=Xt.fromString(t[u+1].Qy,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.zAt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.zAt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.MAt=s[s.length-1].Qy),this.LAt=e},i.zAt=function(t,n,i,r,e){if(n<t.length){var s=t[n];0,s.U_.equals(r)?s.Edt.r6=n:t[n]={Qy:i,U_:r,Yy:e,Edt:this.mAt(n,i,tn(r,this.Ij))}}else t.push({Qy:i,U_:r,Yy:e,Edt:this.mAt(n,i,tn(r,this.Ij))})},n}(eX),hX=function(){function t(t,n,i){this.Zmt=void 0,this.GAt=void 0,this.nr=void 0,this.jAt=void 0,this.QAt=void 0,this.Zmt=t,this.GAt=n,this.nr=i}var n=t.prototype;return n.YAt=function(){if(this.QAt=this.ZAt(),this.QAt)return this.QAt;if(this.GAt)return this.GAt.Xmt;throw new f("Missing media segment information.")},n.Vpt=function(t){var n=this.lkt;if(n)return{vv:(void 0!==n.ukt?b.Du(n.ukt,t.xkt[0]):t.xkt[0]).href,jY:n.jY};var i=this.hkt;return i?{vv:t.xkt[0].href,jY:[0,i[0]-1]}:void 0},n.Bh=function(t){this.nr=t,this.QAt&&this.QAt.Bh()},L(t,[{key:"Ds",get:function(){return this.nr}},{key:"skt",get:function(){return this.nr&&void 0!==this.nr.skt?this.nr.skt:this.GAt?this.GAt.skt:0}},{key:"_kt",get:function(){return this.nr&&void 0!==this.nr._kt?this.nr._kt:this.GAt?this.GAt._kt:Xt.ZERO}},{key:"wkt",get:function(){return this.nr&&void 0!==this.nr.wkt?this.nr.wkt:this.GAt?this.GAt.wkt:this.Zmt.uAt.wkt}},{key:"jg",get:function(){return this.nr&&void 0!==this.nr.jg?this.nr.jg:this.GAt&&this.GAt.jg?this.GAt.jg:1}},{key:"hkt",get:function(){return this.nr&&void 0!==this.nr.hkt?this.nr.hkt:this.GAt?this.GAt.hkt:void 0}},{key:"lkt",get:function(){return this.nr&&void 0!==this.nr.lkt?this.nr.lkt:this.GAt?this.GAt.lkt:void 0}},{key:"Xmt",get:function(){return this.jAt||(this.jAt=this.YAt()),this.jAt}}]),t}(),aX=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ZAt=function(){return this.nr.Xmt?new oX(this,this.Zmt):void 0!==this.nr.U_?new sX(this,this.Zmt):void 0},L(n,[{key:"U_",get:function(){return void 0!==this.nr.U_?this.nr.U_/this.jg:this.GAt&&this.GAt instanceof n?this.GAt.U_:void 0}},{key:"CAt",get:function(){return void 0!==this.nr.U_?Xt.fromNumber(this.nr.U_):this.GAt&&this.GAt instanceof n?this.GAt.CAt:void 0}},{key:"mkt",get:function(){return void 0!==this.nr.mkt?this.nr.mkt:this.GAt&&this.GAt instanceof n?this.GAt.mkt:void 0}},{key:"kkt",get:function(){return void 0!==this.nr.kkt?this.nr.kkt:this.GAt&&this.GAt instanceof n?this.GAt.kkt:void 0}}]),n}(hX),cX=function(){function t(t){this.JAt=void 0,this.JAt=t}return t.prototype.wh=function(t){return this.JAt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=Oe(u,Number(r),"0")})},t}();var fX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).$At=void 0,e.KAt=void 0,e.$At=r.bkt?new cX(r.bkt):void 0,e.KAt=r.Tkt?new cX(r.Tkt):void 0,e}U(n,t);var i=n.prototype;return i.Vpt=function(n){var i=this.bkt;if(!i)return t.prototype.Vpt.call(this,n);var r=i.wh({Bandwidth:n.Ds.QE,RepresentationID:n.Ds.Xl});return{vv:b.Ou(r,n.xkt[0])}},i.Ymt=function(t,n){var i,r=null!=(i=n.Xpt.mkt)?i:1,e=this.Tkt.wh({Bandwidth:n.Ds.QE,Number:n.Xmt.pAt(t,r),RepresentationID:n.Ds.Xl,Time:n.Xmt.PAt(t,r)});return{vv:b.Ou(e,n.xkt[0])}},i.Opt=function(t,n){},L(n,[{key:"bkt",get:function(){return this.$At?this.$At:this.GAt&&this.GAt instanceof n?this.GAt.bkt:void 0}},{key:"Tkt",get:function(){return this.KAt?this.KAt:this.GAt&&this.GAt instanceof n?this.GAt.Tkt:void 0}},{key:"OAt",get:function(){}}]),n}(aX),vX=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Ymt=function(t,n){var i=this.nr.ckt[t.r6],r=n.xkt[0];return{vv:(i.pp?b.Du(i.pp,r):r).href,jY:i.akt}},i.Opt=function(t,n){},L(n,[{key:"OAt",get:function(){return void 0!==this.nr.ckt?this.nr.ckt.length:this.GAt&&this.GAt instanceof aX?this.GAt.OAt:void 0}}]),n}(aX),dX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).RAt=void 0,u.tbt=void 0,u.jg=void 0,u.nbt=void 0,u._kt=void 0,u.ibt=void 0,u.RAt=n,u.tbt=i,u.jg=r.jg,u.nbt=e,u._kt=s,u.ibt=u.rbt(r),u}U(n,t);var i=n.prototype;return i.Gmt=function(t){if(t>=0&&t<this.Ol)return this.ebt(this.ibt[t])},i.sbt=function(t){var n=this.ubt(t);if(this.ibt.length>0){var i=this.ibt[0];if(n<=tn(i.Qy,this.jg))return this.ebt(i)}var r=uX(this.ibt,Xt.fromNumber(n*this.jg));if(!(r<0))return this.ebt(this.ibt[r])},i.obt=function(t){var n=this.ubt(t);if(this.ibt.length>0){var i=this.ibt[this.ibt.length-1];if(n>=tn(i.Yy,this.jg))return this.ebt(i)}return this.sbt(t)},i.ebt=function(t){var n=tn(t.Qy,this.jg)-this._kt,i=n+this.nbt,r=tn(t.U_,this.jg);return{RAt:this.RAt,Rpt:t.r6,Qy:i,kAt:Xt.fromNumber(n*this.jg),U_:r,Yy:i+r,hbt:[this.tbt+t.tbt,this.tbt+t.abt]}},i.rbt=function(t){for(var n=[],i=t.cb,r=t.fb.toNumber(),e=0,s=0,u=t.lb;s<u.length;s++){var o=u[s],h=o.sb,a=Xt.fromNumber(o.U_),c=i.add(a);0===o.eb&&n.push({r6:e++,Qy:i,U_:a,Yy:c,tbt:r,abt:r+h-1}),r+=h,i=c}return n},i.ubt=function(t){return t-this.nbt+this._kt},L(n,[{key:"Ol",get:function(){return this.ibt.length}}]),n}(function(){function t(){}return t.prototype.EAt=function(t){var n=this.Gmt(t.Rpt);if(n&&n.Qy===t.Qy)return n;var i=this.sbt(t.Qy);return i&&i.Qy===t.Qy?i:void 0},t}()),lX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).cbt=void 0,r.odt=void 0,r.fbt=void 0,r.cbt=n.hkt,r.odt=r.mAt(0,Xt.ZERO,r.qpt.U_),r}U(n,t);var i=n.prototype;return i.sAt=function(t){if(0===t)return this.odt},i.nAt=function(){return 0},i.iAt=function(t){return this.odt},i.eAt=function(t){return this.iAt(t)},i.xAt=function(){return this.odt},i.PAt=function(t,n){return Xt.ZERO},i.Ppt=function(t){var n=this.vbt(t);return n&&{hAt:t,aAt:n,fAt:n}},i.vbt=function(t){var n=this.odt;return this._At(n,t)?n:void 0},i.oAt=function(t){return this.vbt(t)},i.cAt=function(t){return this.vbt(t)},i.Bh=function(){},i.qmt=function(t){return 0===t&&void 0!==this.cbt},i.bAt=function(t){return this.fbt},i.TAt=function(){var t=T.coroutine($r.mark(function t(n,i,r,e,s){var u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.xkt[0].href,o=this.cbt,t.next=4,e.dbt(u,o,r,s);case 4:return h=t.sent,this.fbt=this.lbt(n,h),t.abrupt("return",this.fbt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s){return t.apply(this,arguments)}}(),i.lbt=function(t,n){var i=this.cbt,r=Rw.Vk(new DataView(n),new Vu);if(r.io!==Mg.dk)throw new f("Invalid segment index");var e=Ow.op(r.Ds),s=i[1]+1;return new dX(t,s,e,this.qpt.WR,tn(this.Kpt,this.Ij))},n}(eX),_X=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Ymt=function(t,n){return{vv:n.xkt[0].href}},i.Opt=function(t,n){return{vv:n.xkt[0].href,jY:t.hbt}},i.ZAt=function(){return new lX(this,this.Zmt)},L(n,[{key:"mkt",get:function(){}}]),n}(hX),gX=function(t){function n(){return t.call(this,jV.mpt)||this}return U(n,t),n}(As);var wX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e._bt=void 0,e.Jpt=void 0,e.gbt=1/0,e.wbt=void 0,e.an=i,e.ybt(n,r),e}U(n,t);var i=n.prototype;return i.mbt=function(){return this.Jpt||this.an&&this.an.mbt()},i.kbt=function(t){var n=this.Zmt,i=this.an&&this.an.mbt();this.nr.Fkt?this.Jpt=new fX(n,i,this.nr.Fkt):this.nr.Ukt?this.Jpt=new vX(n,i,this.nr.Ukt[0]):this.nr.Mkt?this.Jpt=new _X(n,i,this.nr.Mkt):t&&!i&&(this.Jpt=new _X(n,i,void 0))},i.ybt=function(t,n){this.nr=t,this._bt=t.xkt&&t.xkt.length>0?rX(t.xkt.map(function(t){return t.vv}),n):n.slice(),this.Jpt&&(t.Fkt?this.Jpt.Bh(t.Fkt):t.Ukt?this.Jpt.Bh(t.Ukt[0]):t.Mkt&&this.Jpt.Bh(t.Mkt))},i.Ept=function(){var t;return null==(t=this.wbt)?void 0:t.pbt},i.Bpt=function(){var t;return null==(t=this.wbt)?void 0:t.Abt},i.bbt=function(t){var n=this.gbt,i=this.Zmt.U_,r=this.wbt,e=this.Tbt(t);r&&zt(i,n,1e-5)&&pX(r,e)||(this.gbt=i,this.wbt=e,this.xo(new gX))},i.mo=function(){this.Mo()},L(n,[{key:"Ds",get:function(){return this.nr}},{key:"xkt",get:function(){return this._bt}}]),n}(ks);function yX(t){for(var n,i=0;i<t.length;i++){var r=t[i].Ept();if(r){n=r.WR;break}}if(void 0!==n){for(var e,s=t.length-1;s>=0;s--){var u=t[s].Ept();if(u){e=u.zR;break}}if(void 0!==e)return{WR:n,zR:e}}}function mX(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Ept();if(!e)return;if((n=l.max(n,e.WR))>=(i=l.min(i,e.zR)))return}return{WR:n,zR:i}}}function kX(t){for(var n,i=0;i<t.length;i++){var r=t[i].Bpt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function pX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Abt,n.Abt)&&function(t,n){return t&&n?zt(t.WR,n.WR,1e-5)&&zt(t.zR,n.zR,1e-5):t===n}(t.pbt,n.pbt)}var AX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).qpt=void 0,e.Oy=void 0,e.Ebt=void 0,e.qpt=n,e.Oy=i,e.Ebt=r.slice();for(var s=0;s<r.length;s++){r[s].Po(jV.mpt,e.bpt)}return e}U(n,t);var i=n.prototype;return i.Ept=function(){return mX(this.Ebt)},i.Bpt=function(){for(var t,n=0,i=this.Ebt;n<i.length;n++){var r=i[n].Bpt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Lv=function(){this.Mo();for(var t=0,n=this.Ebt;t<n.length;t++){n[t].Uo(jV.mpt,this.bpt)}},L(n,[{key:"Umt",get:function(){return this.Ebt}},{key:"RJ",get:function(){return this.Umt.reduce(function(t,n){for(var i=0,r=n.RJ;i<r.length;i++){var e=r[i];Ye(t,e)||t.push(e)}return t},[])}},{key:"fu",get:function(){return this.RJ.length>0?this.RJ[0]:""}},{key:"io",get:function(){return this.Ebt[0].io}},{key:"Xl",get:function(){return this.Oy}},{key:"xpt",get:function(){return this.qpt.xpt}},{key:"uD",get:function(){return this.Ebt[0].uD}},{key:"Zmt",get:function(){return this.qpt}},{key:"Cmt",get:function(){return Ke(this.Umt,function(t){return t.Cmt})}}]),n}(KV),bX=function(t){function n(){return t.call(this,jV.ppt)||this}return U(n,t),n}(As);function TX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,s=r.Vkt;void 0===s||(e=ze(n,function(t){return t.Xl===s})),e||(e={Xl:s,Umt:[]},n.push(e)),e.Umt.push(r)},r=0;r<t.length;r++)i(r);return n}var EX,SX=function(t){function n(n,i){var r;return(r=t.call(this)||this).Npt=void 0,r.Ebt=[],r.Sbt=[],r.Rbt=void 0,r.Ibt=!1,r.Rbt=n,r.Npt=i,r.Npt.Po(jV.mpt,r.bpt),r}U(n,t);var i=n.prototype;return i.Nbt=function(t,n){if(0!==this.Sbt.length){for(var i=t,r=0,e=this.Sbt;r<e.length;r++){var s=e[r],u=s.io;if(u===H_.Sv||u===H_.Rv){var o=s.Spt;if(void 0===o)return;i=n(i,o)}}return i}},i.Cbt=function(){this.Ibt||(this.Ibt=!0,this.xo(new bX),this.Lv())},i.Bh=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Ebt.length){t.next=7;break}return t.next=3,this.Dbt(this.Npt.Umt,n,i);case 3:this.Obt(this.Ebt),es(i),t.next=9;break;case 7:return t.next=9,this.xbt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Dbt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return s=n[e],u=new iX(this,s),t.prev=4,t.next=7,u.Bh(i,r);case 7:this.Ebt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),ss(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Obt=function(t){for(var n=TX(t),i=0;i<n.length;i++){var r=n[i],e=new AX(this,r.Xl,r.Umt);this.Sbt.push(e)}},i.xbt=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Ebt;case 1:if(!(r<e.length)){t.next=8;break}return s=e[r],t.next=5,s.Bh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ept=function(){return this.Npt.Ept()},i.Bpt=function(){return this.Npt.Bpt()},i.Lv=function(){this.Mo(),this.Npt.Uo(jV.mpt,this.bpt);for(var t=0,n=this.Sbt;t<n.length;t++){n[t].Lv()}for(var i=0,r=this.Ebt;i<r.length;i++){r[i].Lv()}Je(this.Ebt),Je(this.Sbt)},L(n,[{key:"Umt",get:function(){return this.Ebt}},{key:"Lmt",get:function(){return this.Sbt}},{key:"rpt",get:function(){return this.Npt.Ds.rpt}},{key:"U_",get:function(){return this.Npt.U_}},{key:"zR",get:function(){return this.WR+this.U_}},{key:"ept",get:function(){return this.Npt.Ds.ept||[]}},{key:"Xl",get:function(){return this.Npt.Xl}},{key:"Apt",get:function(){return this.Ibt}},{key:"xpt",get:function(){return this.Rbt}},{key:"Pbt",get:function(){return this.Rbt.Bbt(this)}},{key:"Zmt",get:function(){return this}},{key:"Lbt",get:function(){return this.Rbt.Mbt(this)}},{key:"Ubt",get:function(){return this.Nbt(1/0,l.min)}},{key:"Fbt",get:function(){return this.Nbt(0,l.max)}},{key:"WR",get:function(){return this.Npt.WR}},{key:"xv",get:function(){return this.xpt.xv}}]),n}(KV),RX=function(t){function n(){return t.call(this,qo.rc)||this}return U(n,t),n}(As);!function(t){t.Hbt="Vbt"}(EX||(EX={}));var IX=function(t){function n(){return t.call(this,EX.Hbt)||this}return U(n,t),n}(As),NX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.xkt)||this).Ipt=void 0,r.Xbt=void 0,r.Ipt=i,r.kbt(!0),r}U(n,t);var i=n.prototype;return i.qmt=function(t){return!!to(this.uD)&&this.Xmt.qmt(t.r6)},i.zmt=function(t,n,i,r){return this.Xmt.zmt(t,this,n,i,r)},i.Vpt=function(){return this.Xpt.Vpt(this)},i.Ymt=function(t){return this.Xpt.Ymt(t,this)},i.Opt=function(t){return this.Xpt.Opt(t,this)},i.Ppt=function(){return this.Xbt},i.Tbt=function(t){var n=this.Xmt,i=n.Ppt(t),r=i&&function(t,n){var i,r=t.aAt,e=t.fAt,s=t.hAt,u=r.Qy,o=n.yAt(e);if(o.getTime()<=s.getTime())i=e.Yy;else{var h=(o.getTime()-s.getTime())/1e3,a=l.max(e.U_-h,0);i=e.Qy+a}return{WR:u,zR:i}}(i,n),e=this.Xmt.Bpt(t,i);return this.Xbt=i,{hAt:t,pbt:r,Abt:e}},i.Bh=function(t){this.ybt(t,this.Ipt.xkt)},L(n,[{key:"Fpt",get:function(){return this.Ipt}},{key:"Zmt",get:function(){return this.Ipt.Zmt}},{key:"uAt",get:function(){return this.Ipt.uAt}},{key:"uD",get:function(){return this.nr.uD||this.Ipt.uD}},{key:"Xpt",get:function(){return this.mbt()}},{key:"Xmt",get:function(){return this.Xpt.Xmt}}]),n}(wX),CX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.xkt)||this).qpt=void 0,r.zpt=void 0,r.qpt=i,r.kbt(!1),r.zpt=n.Cmt.map(function(t){return new NX(t,en(r))}),r}U(n,t);var i=n.prototype;return i.Bh=function(t){this.ybt(t,this.qpt.xkt);var n=t.Cmt||[];if(this.zpt.length!==n.length)throw new f("Expected "+this.zpt.length+' representations in adaptation set "'+t.Xl+'", found '+n.length);for(var i=0;i<n.length;i++)this.zpt[i].Bh(n[i])},i.bbt=function(n){for(var i=0,r=this.zpt;i<r.length;i++){r[i].bbt(n)}t.prototype.bbt.call(this,n)},i.Tbt=function(t){return{hAt:t,pbt:mX(this.zpt),Abt:kX(this.zpt)}},i.mo=function(){for(var n=0,i=this.zpt;n<i.length;n++){i[n].mo()}t.prototype.mo.call(this)},L(n,[{key:"Cmt",get:function(){return this.zpt}},{key:"Zmt",get:function(){return this.qpt}},{key:"uAt",get:function(){return this.qpt.uAt}},{key:"Vkt",get:function(){return this.nr.Vkt}},{key:"uD",get:function(){var t;return this.nr.uD||(null==(t=this.zpt[0])?void 0:t.Ds.uD)||""}}]),n}(wX),DX=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.xkt)||this).Wbt=void 0,s.kb=void 0,s.uF=void 0,s.Ebt=void 0,s.Sbt=[],s.Wbt=n,s.kb=r,s.uF=e,s.kbt(!1),s.Ebt=(i.Umt||[]).map(function(t){return new CX(t,en(s))}),s.Sbt=TX(s.Ebt),s}U(n,t);var i=n.prototype;return i.Bh=function(t,n){this.ybt(t,this.Wbt.xkt),this.uF=n;var i=t.Umt||[];if(this.Ebt.length!==i.length)throw new f("Expected "+this.Ebt.length+' adaptation sets in period "'+t.Xl+'", found '+i.length);for(var r=0;r<i.length;r++)this.Ebt[r].Bh(i[r])},i.bbt=function(n){for(var i=0,r=this.Ebt;i<r.length;i++){r[i].bbt(n)}t.prototype.bbt.call(this,n)},i.Tbt=function(t){return{hAt:t,pbt:mX(this.Ebt),Abt:kX(this.Ebt)}},i.mo=function(){for(var n=0,i=this.Ebt;n<i.length;n++){i[n].mo()}t.prototype.mo.call(this)},L(n,[{key:"Umt",get:function(){return this.Ebt}},{key:"Lmt",get:function(){return this.Sbt}},{key:"Zmt",get:function(){return this}},{key:"uAt",get:function(){return this.Wbt}},{key:"Xl",get:function(){return this.nr.Xl}},{key:"WR",get:function(){return this.kb}},{key:"U_",get:function(){return this.uF}}]),n}(wX),OX=new Date("2000-01-01"),xX=function(t){function n(n,i,r,e){var s;if((s=t.call(this)||this).nr=void 0,s.qbt=void 0,s.zbt=void 0,s.pH=void 0,s.Gbt=void 0,s.wbt=void 0,s._bt=void 0,s.jbt=void 0,s.Qbt=void 0,s.Ybt=void 0,s.Zbt=[],s.qbt=i,s.Bh(n,r,e),n.io===LH.qb){var u=s.xAt();u&&u.upt&&u.upt.getTime()<OX.getTime()&&(s.Ybt=new Date(s._pt.getTime()-1e3*(u.Edt.Qy+u.Edt.U_)),s.bbt(e))}return s}U(n,t);var i=n.prototype;return i.Ept=function(){var t;return null==(t=this.wbt)?void 0:t.pbt},i.Bpt=function(){var t;return null==(t=this.wbt)?void 0:t.Abt},i.Bh=function(t,n,i,r){var e;this.nr=t,this.zbt=n,this.Gbt=null!=r?r:i,this.pH=i;var s,u=[(s=n,b.Du(".",s))];this._bt=t.xkt&&t.xkt.length>0?rX(t.xkt.map(function(t){return t.vv}),u):u,this.jbt=t.apt&&t.apt.length>0?rX(t.apt,this._bt):[];var o=this.jbt.map(function(t){return t.href}),h=n.href;Ye(o,h)||(this.jbt.push(n),o.push(h));var a=this.qbt.href;Ye(o,a)||(this.jbt.push(this.qbt),o.push(a)),this.Qbt=null==(e=t.xmt)?void 0:e.Omt();var c=t.io===LH.qb,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.WR)u=s.WR.Omt();else if(e>0&&t[e-1].U_){var o=r[e-1],h=t[e-1].U_.Omt();u=o+h}else{if(0!==e||n)break;u=0}r.push(u)}for(var a=[],c=0;c<r.length-1;c++)a.push({Ds:t[c],WR:r[c],U_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.U_?v.U_.Omt():i-d),a.push({Ds:v,WR:d,U_:l})}return a}(t.Dmt,c,this.Qbt);this.Jbt(f),this.bbt(i)},i.Jbt=function(t){var n=this.Zbt;if(0!==t.length){for(var i=t[0].Ds.Xl,r=0;r<n.length&&n[r].Xl!==i;)r++;for(var e=n.splice(0,r),s=0;s<e.length;s++){e[s].mo()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Bh(o.Ds,o.U_)}else n.push(new DX(this,o.Ds,o.WR,o.U_))}}else Je(n)},i.bbt=function(t){for(var n=0,i=this.Zbt;n<i.length;n++){i[n].bbt(t)}var r=this.wbt,e=this.Tbt(t);r&&pX(r,e)||(this.wbt=e,this.xo(new gX))},i.Tbt=function(t){return{hAt:t,pbt:yX(this.Zbt),Abt:kX(this.Zbt)}},i.xAt=function(){if(0!==this.Zbt.length){var t=this.Zbt[this.Zbt.length-1];if(!isFinite(t.U_)&&0!==t.Umt.length){var n=t.Umt[0];if(0!==n.Cmt.length){var i=n.Cmt[0].Xmt,r=i.xAt();if(r)return{Edt:r,upt:i.vAt(r)}}}}},i.mo=function(){this.Mo();for(var t=0,n=this.Zbt;t<n.length;t++){n[t].mo()}},L(n,[{key:"Ds",get:function(){return this.nr}},{key:"io",get:function(){return this.nr.io||LH.Wb}},{key:"hpt",get:function(){return this.Ybt||this.nr.hpt||this._pt}},{key:"upt",get:function(){return this.nr.upt}},{key:"xmt",get:function(){return this.Qbt}},{key:"xkt",get:function(){return this._bt}},{key:"apt",get:function(){return this.jbt}},{key:"Dmt",get:function(){return this.Zbt}},{key:"_pt",get:function(){return this.nr._pt||this.pH}},{key:"wkt",get:function(){return this.nr.wkt}},{key:"$bt",get:function(){return this.Gbt}},{key:"Kbt",get:function(){return this.pH}}]),n}(ks);var PX=function(){function t(t,n,i){this.tTt=0,this.Bb=t,this.nTt=n,this.iTt=i}var n=t.prototype;return n.Ix=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rTt(n,this.Bb,this.nTt,this.iTt).catch(us);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.eTt=function(){return new Date(Zt()+this.tTt)},n.rTt=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.sTt(i,e,r);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}es(r),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.uTt(i,o,r);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.tTt=void 0===s?0:s-Zt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.uTt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.Amt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.fs)){t.next=9;break}return t.next=8,this.sTt(n,s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.fs)){t.next=15;break}if(o=new Date(u).getTime(),w(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.sTt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.cv({vv:i,Nv:pf.GET,ov:zo.Je,Io:r});case 3:return e=t.sent,t.next=6,e.Xf();case 6:if(s=t.sent,u=new Date(s).getTime(),w(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),ss(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),BX=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).oTt=void 0,s.Npt=void 0,s.hTt=void 0,s.OZ=!0,s.Zbt=[],s.aTt=void 0,s.cTt=void 0,s.fTt=void 0,s.Bb=void 0,s.vTt=void 0,s.aTt=n,s.hTt=n.e_,s.cTt=i,s.Bb=r,s.oTt=e,s.vTt=new PX(s.Bb,s.oTt,s.aTt.dTt),s}U(n,t);var i=n.prototype;return i.Zut=function(t){var n=this.Ey;this.OZ=t,n!==this.Ey&&this.xo(new IX)},i.Bh=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v,d,l,_,g;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.cpt?b.Du(n.cpt,this.hTt):this.hTt,void 0!==this.Npt){t.next=10;break}return t.next=6,this.vTt.Ix(n.wpt);case 6:this.Npt=new xX(n,this.hTt,o,this.eTt()),this.Npt.Po(jV.mpt,this.Oo),t.next=11;break;case 10:this.Npt.Bh(n,o,this.eTt(),i);case 11:if(0===(h=this.Npt.Dmt).length)a=this.Zbt.slice(),Je(this.Zbt);else{for(c=h[0].Xl,f=0;f<this.Zbt.length&&this.Zbt[f].Xl!==c;)f++;for(a=this.Zbt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.Zbt.length?l=this.Zbt[v]:(l=new SX(this,d),s.push(l)),u.push(l.Bh(this.cTt,r))}return t.next=15,T.all(u);case 15:for((e=this.Zbt).push.apply(e,s),_=0,g=a;_<g.length;_++)g[_].Cbt();this.xo(new RX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eTt=function(){return this.vTt.eTt()},i.Mbt=function(t){var n=this.Zbt.indexOf(t);if(n>0)return this.Zbt[n-1]},i.Bbt=function(t){var n=this.Zbt.indexOf(t);if(n>=0&&n+1<this.Zbt.length)return this.Zbt[n+1]},i.Ept=function(){return this.Npt?this.Npt.Ept():void 0},i.Bpt=function(){return this.Npt&&this.Npt.Bpt()},i.bbt=function(t){this.Npt&&this.Npt.bbt(t)},i.Lv=function(){this.Mo(),this.fTt=void 0,this.Zut(!1);for(var t=0,n=this.Zbt;t<n.length;t++){n[t].Lv()}Je(this.Zbt),this.Npt&&this.Npt.mo()},L(n,[{key:"upt",get:function(){return this.Npt&&this.Npt.upt}},{key:"hpt",get:function(){return this.Npt&&this.Npt.hpt}},{key:"Xl",get:function(){return this.Npt&&this.Npt.Ds.Xl}},{key:"$bt",get:function(){var t;return null==(t=this.Npt)?void 0:t.$bt}},{key:"lTt",get:function(){var t;return null==(t=this.Npt)?void 0:t.Kbt}},{key:"apt",get:function(){return this.Npt?this.Npt.apt.map(function(t){return t.href}):[this.Bmt]}},{key:"Bmt",get:function(){return this.hTt.href}},{key:"fpt",get:function(){return this.Npt&&this.Npt.Ds.fpt}},{key:"vpt",get:function(){return this.Npt&&this.Npt.Ds.vpt}},{key:"xmt",get:function(){return this.Npt&&this.Npt.Ds.xmt}},{key:"dpt",get:function(){return this.Npt&&this.Npt.Ds.dpt}},{key:"lpt",get:function(){var t,n,i=(null==(t=this.Npt)?void 0:null==(n=t.Ds.lpt)?void 0:n.Kmt())||0;return l.max(i,MX)}},{key:"Ey",get:function(){return this.OZ}},{key:"Dmt",get:function(){return this.Zbt}},{key:"_Tt",get:function(){return this.io===LH.qb?this.Zpt:this.gTt}},{key:"wTt",get:function(){var t=this._Tt;if(void 0!==t)for(var n=0,i=this.Dmt;n<i.length;n++){var r=i[n];if(r.WR<=t&&r.zR>t)return r}}},{key:"Ikt",get:function(){return this.Npt&&this.Npt.Ds.Ikt}},{key:"_pt",get:function(){return this.Npt&&this.Npt._pt}},{key:"Ubt",get:function(){for(var t=this.Zbt.length-1;t>=0;t-=1){var n=this.Zbt[t].Ubt;if(n)return n}}},{key:"Zpt",get:function(){var t=this.Ubt;if(void 0!==t){var n=t-this.yTt;return l.max(n,this.gTt)}}},{key:"gTt",get:function(){for(var t=0,n=this.Zbt;t<n.length;t++){var i=n[t].Tpt;if(void 0!==i)return i}}},{key:"xv",get:function(){return Boolean(this.aTt.xv)}},{key:"yTt",get:function(){var t=this.Npt&&this.Npt.Ds.gpt;return t?t.Omt():this.io===LH.qb?this.Ztt:0}},{key:"Ztt",get:function(){return this.aTt.Ztt?this.aTt.Ztt:1.5*this.dpt.Omt()}},{key:"wkt",get:function(){return this.Npt&&this.Npt.wkt}},{key:"io",get:function(){return this.Npt?this.Npt.io:void 0}}]),n}(ks),LX=function(){function t(t,n,i,r){this.Rbt=void 0,this.Rbt=new BX(t,n,i,r)}return L(t,[{key:"xpt",get:function(){return this.Rbt}}]),t}(),MX=1e3,UX=l.pow(2,31)-1,FX=function(){function t(t,n,i,r){var e=this;this.M8=void 0,this.Npt=void 0,this.mTt=void 0,this.kTt=void 0,this.pTt=void 0,this.ATt=new ns,this.bTt=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.Npt.xpt.eTt(),t.next=4,e.TTt(e.Npt.xpt.apt,n);case 4:return r=t.sent,t.next=7,e.Npt.xpt.Bh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),oy(t.t0)&&e.Npt.xpt.Zut(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.M8=r,this.Npt=new LX(t,n,i,this.ATt.Io)}var n=t.prototype;return n.Od=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Npt.xpt.xo(new aS),t.prev=1,t.next=4,bU(this.bTt,n);case 4:this.Npt.xpt.Zut(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),ss(t.t0),this.kTt=void 0,this.Npt.xpt.Zut(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.mTt=this.ETt(this.ATt.Io);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.ETt=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.Npt.xpt.io!==LH.qb){t.next=6;break}return t.next=4,os(this.STt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.RTt=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(n),!((i=this.ITt())>0)){t.next=6;break}return r=l.min(i,UX),t.next=6,_s(r,n);case 6:return t.prev=6,t.next=9,bU(this.bTt,n,1/0,MX,3e4);case 9:this.Npt.xpt.Zut(!0);case 10:return t.prev=10,this.pTt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.ITt=function(){var t=this.Npt.xpt.eTt().getTime()-this.Npt.xpt.$bt.getTime();return this.Npt.xpt.lpt-t},n.NTt=function(t){var n=this.Npt.xpt.Bpt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Npt.xpt.bbt(t);var r=this.Npt.xpt.Bpt();return r?r.getTime()-t.getTime():NaN},n.CTt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pTt||(this.pTt=this.RTt(n)),(i=new ns).So(n),t.prev=3,t.next=6,T.race([this.pTt,this.DTt(i.Io)].filter(J));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),us(t.t0);case 11:return t.prev=11,i.Eo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.DTt=function(t){var n=this.Npt.xpt.eTt(),i=this.NTt(n);if(!w(i))return this.OTt(i,t)},n.OTt=function(){var t=T.coroutine($r.mark(function t(n,i){var r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s(n,i);case 2:r=this.Npt.xpt.eTt(),this.Npt.xpt.bbt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.TTt=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.M8.P8(n,{},i,!1);case 2:return r=t.sent,e=new QV,t.abrupt("return",e.awt(r.T8,r.fv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Lv=function(){return this.ATt.Eo(),this.mTt=void 0,this.kTt=void 0,this.pTt=void 0,this.Npt.xpt.Lv(),T.resolve()},L(t,[{key:"xTt",get:function(){return this.Npt}},{key:"H0",get:function(){return this.kTt||(this.kTt=this.Od(this.ATt.Io),vs(this.kTt)),this.kTt}},{key:"STt",get:function(){return this.Npt.xpt.lTt&&this.Npt.xpt.io===LH.qb?this.CTt(this.ATt.Io):this.H0}}]),t}(),HX=function(){function t(t,n,i){this.M8=t,this.PTt=n,this.BTt=i}var n=t.prototype;return n.LTt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!pl(i=n.type)){t.next=9;break}return t.next=6,this.MTt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!kl(i)){t.next=15;break}return t.next=12,this.UTt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MTt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UH(n.src,this.M8);case 3:return i=t.sent,t.next=6,HH(i,this.M8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.UTt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new FX({e_:b.Du(n.src),Ztt:n.liveOffset,dTt:n.timeServer,xv:n.useCredentials},this.BTt,If.Xv,this.M8),t.next=4,i.H0;case 4:return t.next=6,gH(i.xTt.xpt,n.contentProtection,this.PTt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),VX=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.Gf,MediaSource.isTypeSupported(r)||vy(n.uD,n.RJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!Q.Re&&!Q.Ee||-1===(null==(i=n.fu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.Nmt){t.next=19;break}e=n.Nmt,s=Ke(e,function(t){return Ee(t.Amt)}).filter(J),u=0;case 9:if(!(u<s.length)){t.next=18;break}return o=s[u],t.next=13,b.Nu(o,r);case 13:if(!t.sent){t.next=15;break}return t.abrupt("return",!0);case 15:u++,t.next=9;break;case 18:return t.abrupt("return",!1);case 19:return t.abrupt("return",!0);case 20:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),XX=function(){function t(t){this.FTt=void 0,this.HTt=[],this.VTt=0,this.FTt=t}var n=t.prototype;return n.XTt=function(){var t=new Wu;return this.HTt.push(t),this.WTt(),t.gh},n.qTt=function(){var t=T.coroutine($r.mark(function t(n,i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.VTt-=1,this.WTt(),0===this.HTt.length&&0===this.VTt&&i.wh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.WTt=function(){this.HTt.length>0&&this.VTt<this.FTt&&(this.HTt.shift().wh(),this.VTt+=1)},t}();function WX(t,n){for(var i=0,r=0,e=t.lb.r0.map(function(t){return t.U_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var qX=function(t){function n(n,i,r,e,s,u,o,h){var a;void 0===h&&(h=VX),(a=t.call(this)||this).F8=void 0,a.zTt=void 0,a.GTt=new Wu,a.jTt=void 0,a.VJ=void 0,a.QTt=rH.ymt(),a._mt=void 0,a.YTt=void 0,a.xw=void 0,a.ZTt=void 0,a.c0=void 0,a.M8=void 0,a.JTt=void 0,a.PTt=void 0,a.BTt=void 0,a.imt=void 0,a.F8=n,a.c0=i,a.M8=r,a.ZTt=e,a.JTt=s,a.PTt=u,a.BTt=h,a.imt=o,a.YTt=-1;var c=a.F8.pR.sources[0];return a.jTt=c,a.xw=a.$w(),a.zTt=new XX(a.F8.$h.parallelTasksThreshold),a}U(n,t);var i=n.prototype;return i.$w=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e,s,u,o,h,a,c,f,v,d,_,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new HX(this.M8,this.PTt,this.BTt),t.next=3,n.LTt(this.jTt);case 3:return this.VJ=t.sent,i=this.F8.$h.amount,r=this.VJ.U_,e=uH(i,r),this._mt=e,u=QD(this.VJ.Pmt[0]),t.next=11,this.c0.i0.$K(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return Ye(t.references,N.F8.Xl)}),h=[],a=this.F8.$h.bandwidth,c=0,f=this.VJ.Dmt;c<f.length;c++)for(v=f[c],d=0,_=v.Mmt;d<_.length;d++)for(g=_[d],w=0,y=jX(g.vp);w<y.length;w++)for(m=y[w],k=0,p=QX(m.jl,a);k<p.length;k++)A=p[k],h.push(A);if(this.YTt=l.ceil(h.map(function(t){return t.QE*WX(t,e)/8}).reduce(function(t,n){return t+n},0)),b=ne(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new Jp(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.hI(r).oI(5e-4);else{var e,s=ze(h,function(t){return t.Xl===i}),u=l.min(N._mt,null!=(e=null==s?void 0:s.lb.U_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:u})}},S=0;S<o.length;S++)E(S);s=new rH(T,b,this._mt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.Xl,{timeRanges:Jp.SI(),totalQualityDurationToCache:l.min(I.lb.U_,this._mt)});s=new rH(0,b,this._mt)}this.$Tt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.KTt=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xw;case 2:return t.next=4,this.tEt(this.VJ,n);case 4:return t.next=6,this.GTt.gh;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.tEt=function(){var t=T.coroutine($r.mark(function t(n,i){var r,e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Pmt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.nEt();case 4:for(r=[],e=0,s=n.Dmt;e<s.length;e++)u=s[e],r.push(this.iEt(u,n.Pmt[0],i));return t.abrupt("return",T.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nEt=function(){var t=T.coroutine($r.mark(function t(){var n,i,r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ZTt.ZK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.c0.e0.ih(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,zX(e,this.F8.Xl,this.c0.e0,this.imt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.c0.e0.jK(r,this.imt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new hH("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.ZTt.n0();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.iEt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Mmt;s<u.length;s++)for(o=u[s],h=jX(o.vp),a=0;a<h.length;a++)c=h[a],e.push(this.rEt(c,i,r));return t.abrupt("return",T.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rEt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.F8.$h.bandwidth,s=QX(n.jl,e),n.io!==H_.Rv||!n.Vmt||!n.Vmt.oT.widevine||"persistent"!==n.Vmt.oT.widevine.licenseType){t.next=6;break}return t.next=5,this.eEt(n.Vmt);case 5:es(r);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.sEt(h,i,r));return t.abrupt("return",T.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sEt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(es(r),!n.a8){t.next=7;break}return e={Qy:0,U_:0,Qmt:n.a8},t.next=5,this.zTt.XTt();case 5:es(r),vs(this.zTt.qTt(this.uEt(e,n,i),this.GTt));case 7:s=n.lb.r0[0].Qy,u=s+this._mt,o=0,h=n.lb.r0;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Qy>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.oEt(r);case 16:return t.next=18,this.zTt.XTt();case 18:vs(this.zTt.qTt(this.uEt(a,n,i),this.GTt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.oEt=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.do){t.next=4;break}return t.next=3,this.GTt.gh;case 3:throw new is;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.hEt=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xw;case 2:return t.abrupt("return",this.VJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.eEt=function(t){return T.resolve()},i.aEt=function(){var t=T.coroutine($r.mark(function t(){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return lt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.uEt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u,o,h,a,c,f=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.c0.i0,s=YD(n.Qmt.vv,n.Qmt.jY),t.next=4,e.ih(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,zX(u,this.F8.Xl,e,this.imt);case 8:this.cEt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.fEt(n.Qmt);case 14:return o=t.sent,h=this.vEt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.c0.o0(function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.i0.jK(a,f.imt);case 2:return t.next=4,n.r0.jK(c,f.imt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.cEt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new hH("Unable to store segment with url: "+n.Qmt.vv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.fEt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.JTt.dEt(n,!1);case 2:return i=t.sent,t.next=5,this.lEt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lEt=function(){var t=T.coroutine($r.mark(function t(n){var i;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.qf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.vEt=function(t,n,i,r){var e=YD(t.Qmt.vv,t.Qmt.jY),s=t.Qy,u=t.U_,o=this._Et(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:QD(i),qualityId:n.Xl,byteSize:o,startsAndEnds:new Jp([s,s+u]).jR,references:[this.F8.Xl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:QD(i),data:r}}},i._Et=function(t){return t.buffer.byteLength},i.cEt=function(t,n){var i=t.qualityId,r=this.QTt,e=r.Ny;e.get(i).timeRanges=e.get(i).timeRanges.hI(new Jp(t.startsAndEnds)).oI(5e-4),this.$Tt=new rH(n?r.mmt+t.byteSize:r.mmt,e,this._mt)},L(n,[{key:"gEt",get:function(){return this.YTt}},{key:"$Tt",get:function(){return this.QTt},set:function(t){this.QTt.ug(t)||(this.QTt=t,t.ug(rH.ymt())||this.xo(new iH))}}]),n}(ks);function zX(t,n,i,r){return GX.apply(this,arguments)}function GX(){return(GX=T.coroutine($r.mark(function t(n,i,r,e){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ye(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.jK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function jX(t){return t.length?[t[0]]:[]}function QX(t,n){if(!t.length)return[];var i=[].concat(t).sort(tH),r=i.filter(function(t){return t.QE<=n});return r.length>0?[r.pop()]:[i.shift()]}var YX=function(){function t(t){this.Bb=void 0,this.fL=new VE,this.Bb=t}var n=t.prototype;return n.cv=function(t){var n=this,i=new Wu;return this.fL.tL(function(r){return n.wEt(i,t,r)},t.Io).catch(S),i.gh},n.Bv=function(t){return this.Bb.Bv(t)},n.wEt=function(){var t=T.coroutine($r.mark(function t(n,i,r){var e,s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return es(r),e=new Sf({vv:i.vv,Io:r},i),s=this.Bb.cv(e),n.wh(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.Kf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Lv=function(){this.fL.Lv()},t}(),ZX=function(){function t(t){this.yEt=void 0,this.Bb=t,this.yEt=new YX(this.Bb)}var n=t.prototype;return n.dEt=function(t,n,i){return this.Ast(t,n,!0,!1,void 0,i)},n.mEt=function(t,n,i,r){return this.Ast(t,n,!1,!1,i,r)},n.kEt=function(t,n,i,r){return this.Ast(t,n,!1,!0,i,r)},n.Ast=function(){var n=T.coroutine($r.mark(function n(i,r,e,s,u,o){var h;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return es(o),n.next=3,this.pEt(i,e,s,u,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.AEt(h));case 8:return n.abrupt("return",this.bEt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,s,u){return n.apply(this,arguments)}}(),n.bEt=function(t){return t},t.AEt=function(t){return t},n.pEt=function(t,n,i,r,e){var s=new Sf({vv:t.vv,ov:zo.Sc,uv:t.jY?{Range:"bytes="+t.jY[0]+"-"+t.jY[1]}:void 0,xv:t.xv,Nv:pf.GET,io:Af.gv,Dv:i?bf.yv:bf.lv,Ov:this.TEt,Cv:r,Io:e});return n?this.yEt.cv(s):this.Bb.cv(s)},L(t,[{key:"TEt",get:function(){return Tf.lv}}]),t}(),JX=function(){function t(t){this.Bb=void 0,this.Bb=t}return t.prototype.dbt=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Bb.cv({vv:n,ov:zo.Sc,uv:{Range:"bytes="+i[0]+"-"+i[1]},xv:r,Nv:pf.GET,io:Af.lv,Io:e});case 2:return s=t.sent,t.next=5,s.qf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),$X=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Edt=void 0,e.Edt=n,e}return U(n,t),n}(un),KX=function(){function t(t){this.B8=void 0,this.B8=t}return t.prototype.dbt=function(){var t=T.coroutine($r.mark(function t(n,i,r,e){var s,u;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.B8.O8(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.B8.O8(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",Fu(new y(u.buffer),i[0],i[1]));case 10:throw new $X({vv:n,jY:i,xv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),tW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new Jp([0,0]).jR,references:[]},nW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},iW=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).EEt=void 0,u.SEt=void 0,u.c0=void 0,u.imt=void 0,u.EEt=new JX(i),u.c0=r,u.SEt=e,u.imt=s,u}U(n,t);var i=n.prototype;return i.dbt=function(){var n=T.coroutine($r.mark(function n(i,r,e,s){var u;return $r.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.dbt.call(this,i,r,e,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),ss(n.t0);case 9:return n.next=11,this.EEt.dbt(i,r,e,s);case 11:return u=n.sent,n.next=14,this.REt(i,r,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.REt=function(){var t=T.coroutine($r.mark(function t(i,r,e){var s,u,o,h,a,c,f,v=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.SEt){t.next=2;break}return t.abrupt("return");case 2:return s=this.c0.i0,u=YD(i,r),t.next=6,s.ih(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,zX(o,this.SEt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.vEt(u,h,this.SEt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.c0.o0(function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.i0.jK(c,v.imt);case 2:return t.next=4,n.r0.jK(f,v.imt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new hH("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.vEt=function(t,n,i){return{segmentMetadataEntry:Kr({},tW,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Kr({},nW,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(KX);var rW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.IEt=function(t,n,i,r,e,s,u){return new qX(t,n,i,r,e,s,u)},n}(function(){function t(t){this.Bb=t}return t.prototype.Uj=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.pR.sources[0].useCredentials),e=new ZX(this.Bb),s=new WP(this.Bb,r),u=new qP(n.e0,n.i0,n.r0,n.u0),o=function(t,n,i,r,e){return new iW(n,t,i,r,e)}(this.Bb,u,n,t.Xl,i),h=new VD,a=new YP(QP(s,u),h,t);return this.IEt(t,n,a,h,e,o,i)},t}());function eW(t){var n,i={get id(){return t.Xl},get status(){return t.sv},get source(){return t.pR},get parameters(){return t.$h},get duration(){return t.U_},get cached(){return t.NEt.rR()},get secondsCached(){return t.CEt},get percentageCached(){return t.DEt},get bytes(){return t.OEt},get bytesCached(){return t.xEt},get license(){return t.bD.Kd},start:function(){t.WR()},pause:function(){t.zw()},remove:function(){t.Ph()},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}};return n=new nE(t,["yK","qyt"],i),i}var sW=function(){function t(t,n,i){this.F8=t,this.c0=n,this.VJ=i}var n=t.prototype;return n.PEt=function(){var t=T.coroutine($r.mark(function t(){var n=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.c0.o0(function(){var t=T.coroutine($r.mark(function t(i){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.BEt(i);case 2:return t.next=4,n.LEt(i);case 4:return t.next=6,n.MEt(i);case 6:return t.next=8,n.UEt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.BEt=function(){var t=T.coroutine($r.mark(function t(n){var i,r;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.s0,r=this.F8.Xl,t.next=4,i.Ph(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LEt=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o,h,a=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.i0,r=n.r0,El(e=this.F8.pR.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=QD(e.src),t.next=8,i.$K(s,"manifestURL");case 8:u=t.sent.filter(function(t){return Ye(t.references,a.F8.Xl)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(je((h=u[o]).references,this.F8.Xl),0!==h.references.length){t.next=20;break}return t.next=16,i.Ph(h.key);case 16:return t.next=18,r.Ph(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.jK(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MEt=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u,o=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.e0,r=this.FEt(),t.next=4,i.YK(r);case 4:e=t.sent.filter(function(t){return Ye(t.references,o.F8.Xl)}),s=0;case 6:if(!(s<e.length)){t.next=19;break}if(je((u=e[s]).references,this.F8.Xl),0!==u.references.length){t.next=14;break}return t.next=12,i.Ph(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.jK(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FEt=function(){if(!this.VJ)return[];var t=this.F8.pR.sources[0];if(!El(t))return[];var n=QD(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Dmt;i<r.length;i++)for(var e=0,s=r[i].Mmt;e<s.length;e++)for(var u=0,o=s[e].vp;u<o.length;u++)for(var h=0,a=o[u].jl;h<a.length;h++){var c=a[h];c.Jmt&&n.push(c.Jmt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.VJ).map(function(t){return{src:t}}).map(function(t){return QD(t.src)});return[n].concat(i)},n.UEt=function(){var t=T.coroutine($r.mark(function t(n){var i,r,e,s,u=this;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.u0,t.next=3,i.ZK();case 3:r=t.sent.filter(function(t){return Ye(t.references,u.F8.Xl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(je((s=r[e]).references,this.F8.Xl),0!==s.references.length){t.next=14;break}return t.next=11,i.Ph(s.key);case 11:this.HEt(s),t.next=16;break;case 14:return t.next=16,i.jK(s);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HEt=function(t){},t}(),uW=new(function(){function t(){}return t.prototype.Uj=function(t,n,i){return new sW(t,n,i)},t}());var oW=function(){function t(t,n){this.$d=void 0,this.an=t,this.VEt=n}var n=t.prototype;return n.Q4=function(t){this.XEt(t)},n.XEt=function(){var t=T.coroutine($r.mark(function t(n){return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.VEt.aEt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.smt(XF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{renew:function(n){t.Q4(n)}})),this.$d}}]),t}(),hW=function(t){function n(n,i,r,e,s,u){var h;(h=t.call(this)||this).Oy=void 0,h.nmt=void 0,h.$d=void 0,h.lgt=void 0,h.WEt=void 0,h.c0=void 0,h.VEt=void 0,h.qEt=new ns,h.zEt=void 0,h.evictOnLoading=function(){h.Uo("qyt",h.evictOnLoading),h.GEt()},h.Oy=n,h.lgt=i,h.WEt=r,h.c0=e,h.VEt=s.Uj(en(h),h.c0,u),h.zEt=new oW(en(h),h.VEt),h.nmt=1===h.VEt.$Tt.kmt?XF.DONE:XF.IDLE,h.VEt.Po("yK",function(t){h.Oo(t),1===h.DEt&&h.smt(XF.DONE)});var a=new Date,c=h.WEt.expirationDate.getTime()-a.getTime();return c<2147483647&&o(function(){return h.GEt()},c),h}U(n,t);var i=n.prototype;return i.smt=function(t){this.nmt!==t&&(this.nmt=t,this.xo(new qF))},i.WR=function(){this.nmt===XF.EVICTED||this.nmt===XF.DONE||this.jEt()},i.jEt=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.smt(XF.LOADING),n=new ns,this.qEt=n,t.next=6,this.VEt.KTt(n.Io);case 6:this.smt(XF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),rs(t.t0)?this.smt(XF.IDLE):this.smt(XF.ERROR);case 12:return t.prev=12,this.qEt.mo(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.zw=function(){this.qEt.Eo()},i.Ph=function(){this.sv===XF.LOADING?(this.Po("qyt",this.evictOnLoading),this.zw()):this.GEt()},i.GEt=function(){var t=T.coroutine($r.mark(function t(){var n;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.VEt.hEt();case 3:return n=t.sent,t.next=6,uW.Uj(this,this.c0,n).PEt();case 6:this.VEt.$Tt=rH.ymt(),this.smt(XF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.smt(XF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=eW(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"bD",get:function(){return this.zEt}},{key:"sv",get:function(){return this.nmt}},{key:"pR",get:function(){return this.lgt}},{key:"$h",get:function(){return this.WEt}},{key:"U_",get:function(){return this.VEt.$Tt.AI}},{key:"NEt",get:function(){return this.VEt.$Tt.wmt}},{key:"CEt",get:function(){return this.VEt.$Tt.gmt}},{key:"DEt",get:function(){return this.VEt.$Tt.kmt}},{key:"OEt",get:function(){return this.VEt.gEt}},{key:"xEt",get:function(){return this.VEt.$Tt.mmt}}]),n}(sl);var aW=function(){function t(t,n){this.c0=t,this.QEt=n}var n=t.prototype;return n.amt=function(t,n,i){var r=Ub();return this.omt(r,t,n,i)},n.omt=function(t,n,i,r){return new hW(t,n,i,this.c0,this.QEt,r)},t}(),cW=30,fW=5;function vW(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(it(t)&&!Re(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,it(i)&&Re(i,"%")){var n=g(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!it(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+cW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(st(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return fW;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var dW=function(t){function n(n,i){var r;return(r=t.call(this)||this).$d=void 0,r.YEt=n,r.bB=i,r.YEt.Po("qyt",r.Oo),r}return U(n,t),n.prototype.ZEt=function(t,n,i){var r,e;if(!t)throw new f("Unexpected - The source description is undefined");if(r=hb(t),e=vW(n),$A(r))throw new f("Invalid source description");return this.YEt.omt(r,e).Kd},L(n,[{key:"Kd",get:function(){var t,n,i;return this.$d||(this.$d=(i={get status(){return t.sv},get tasks(){return t.vmt},get network(){return t.LB.Kd},createTask:function(n,i){return t.ZEt(n,i)},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},n=new iE(t=this,i),i)),this.$d}},{key:"sv",get:function(){return this.YEt.sv}},{key:"vmt",get:function(){return this.YEt.vmt.Kd}},{key:"LB",get:function(){return this.bB}}]),n}(sl);(lW=new FT(b.jd,!1),_W=jD.je,gW=new rW(lW),wW=new aW(_W,gW),yW=new VT(lW),mW=new KF(_W.s0,wW,"persistent"),new dW(mW,yW)).Kd;var lW,_W,gW,wW,yW,mW,kW=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Oy=void 0,s.nmt=void 0,s.$d=void 0,s.lgt=void 0,s.WEt=void 0,s.uF=0,s.JEt=Jp.SI(),s.$Et=0,s.KEt=0,s.YEt=void 0,s.Oy=n,s.nmt=XF.IDLE,s.lgt=i,s.WEt=r,s.YEt=e,s}U(n,t);var i=n.prototype;return i.WR=function(){this.YEt.startCachingTask(this)},i.Ph=function(){this.YEt.removeCachingTask(this)},L(n,[{key:"Kd",get:function(){return this.$d||(this.$d=eW(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"sv",get:function(){return this.nmt},set:function(t){this.nmt!==t&&(this.nmt=t,this.xo(new qF))}},{key:"pR",get:function(){return this.lgt}},{key:"$h",get:function(){return this.WEt}},{key:"U_",get:function(){return this.uF},set:function(t){this.uF=t}},{key:"NEt",get:function(){return this.JEt},set:function(t){this.JEt=t}},{key:"CEt",get:function(){return this.$Et},set:function(t){this.$Et=t}},{key:"DEt",get:function(){return this.KEt},set:function(t){this.KEt=t,this.xo(new iH)}}]),n}(ul),pW=30;function AW(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+pW),n&&((i=n)&&!(st(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var bW=function(t){function n(){var n;return(n=t.call(this)||this).nmt=jF.UNINITIALISED,n.ZB=new $F,n.Fwt=void 0,n.nyt=void 0,n.tSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.sv=XF.EVICTED,i.DEt=0,i.CEt=0,i.U_=0,i.NEt=Jp.SI(),n.ZB.Ph(i))}},n.nSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.sv=r);var e=t.detail.percentage;e&&(i.DEt=e);var s=t.detail.duration;s&&(i.U_=s);var u=t.detail.seconds;u&&(i.CEt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.NEt=new Jp(h)}}}},n.iSt=function(t){if(t.detail){var i=hb(JSON.parse(t.detail.source));if(!n.rSt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var s=t.detail.uuid;n.omt(i,AW(r),s)}}},n.eSt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.omt(hb(e),AW(i),s);u.sv=t.detail.status,u.DEt=t.detail.percentage,u.U_=t.detail.duration,u.CEt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.NEt=new Jp(h)}},n.sSt=function(t){t.detail&&n.smt(t.detail.status)},n.Fwt=new UF,n.nyt=new wF,fF().cache={sdkEventBus:n.nyt},n.g$(),n}U(n,t);var i=n.prototype;return i.smt=function(t){this.nmt!==t&&(this.nmt=t,this.xo(new qF))},i.omt=function(t,n,i){void 0===i&&(i=void 0);var r=new kW(i||Ub(),t,n,this);return this.ZB.vg(r),i||this.Fwt.yj("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Xl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.ZB.Gyt;n<i.length;n++){var r=i[n];if(r.Xl===t)return r}},i.rSt=function(t){for(var n=EW(t.sources),i=0,r=this.ZB.Gyt;i<r.length;i++){if(EW(r[i].pR.sources).src===n.src)return!0}return!1},i.g$=function(){this.nyt.addEventListener("deleteTask",this.tSt),this.nyt.addEventListener("updateValues",this.nSt),this.nyt.addEventListener("newTask",this.iSt),this.nyt.addEventListener("restoreTask",this.eSt),this.nyt.addEventListener("setCacheStatus",this.sSt)},i.startCachingTask=function(t){this.Fwt.yj("THEOplayerCacheStartCachingTask",{id:t.Xl})},i.removeCachingTask=function(t){this.Fwt.yj("THEOplayerCacheRemoveCachingTask",{id:t.Xl})},L(n,[{key:"sv",get:function(){return this.nmt}},{key:"vmt",get:function(){return this.ZB}}]),n}(ks),TW=function(t){function n(n){var i;return(i=t.call(this,n)||this).uSt=n,i.uSt.Po("qyt",i.Oo),i}return U(n,t),n.prototype.ZEt=function(t,n){var i,r;if(!t)throw new f("Unexpected - The source description is undefined");if(i=hb(t),r=AW(n),$A(i))throw new f("Invalid source description");if(!EW(i.sources))throw new f("The provided sources can't be cached");return this.uSt.omt(i,r).Kd},n}(dW);function EW(t){for(var n=0;n<t.length;n++){var i=t[n];if(pl(i.type))return i}}var SW,RW,IW=function(){var t=new bW;return new TW(t)}().Kd;!function(t){t.oSt="any",t.hSt="natural",t.aSt="landscape",t.cSt="portrait",t.fSt="portrait-primary",t.vSt="portrait-secondary",t.dSt="landscape-primary",t.lSt="landscape-secondary"}(SW||(SW={})),function(t){t.fSt="portrait-primary",t.vSt="portrait-secondary",t.dSt="landscape-primary",t.lSt="landscape-secondary"}(RW||(RW={}));var NW,CW,DW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Fwt=new UF,n._St=SW.hSt,n.gSt=RW.fSt,n.wSt=RW.fSt,n.ySt=RW.fSt,n}U(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,r){n._St=t,n.Fwt.yj("THEOplayerOrientationLock",t),n.mSt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t._St=SW.hSt,t.Fwt.yj("THEOplayerOrientationUnlock"),t.type=t.wSt,t.mSt(),n()})},i.mSt=function(){var t=this.ySt,n=this.type;t!==n&&(this.ySt=n,this.xo(new As("change")))},i.addEventListener=function(t,n){this.Po(t,n)},i.removeEventListener=function(t,n){this.Uo(t,n)},n.kSt=function(t){switch(t){case SW.fSt:return[RW.fSt];case SW.vSt:return[RW.vSt];case SW.cSt:return[RW.fSt,RW.vSt];case SW.dSt:return[RW.dSt];case SW.lSt:return[RW.lSt];case SW.aSt:return[RW.dSt,RW.lSt];case SW.hSt:return[RW.fSt,RW.dSt,RW.lSt];case SW.oSt:return[RW.fSt,RW.vSt,RW.dSt,RW.lSt]}},n.pSt=function(t,i){return n.kSt(i).indexOf(t)>=0},L(n,[{key:"type",get:function(){return this.gSt},set:function(t){this.wSt=t,n.pSt(t,this._St)?(this.gSt=t,this.mSt()):(t===RW.dSt&&this._St===SW.lSt&&(this.gSt=RW.lSt,this.mSt()),t===RW.lSt&&this._St===SW.dSt&&(this.gSt=RW.dSt,this.mSt()))}},{key:"angle",get:function(){switch(this.type){case RW.dSt:return-90;case RW.lSt:return 90;case RW.fSt:return 0;case RW.vSt:return 180;default:return 0}}}]),n}(ul);DW.je=new DW,r.screen.orientation=DW.je,u&&-1===u.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.ASt="unavailable",t.bSt="available",t.TSt="presenting"}(NW||(NW={})),DE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),n.prototype.Qw=function(n){t.prototype.Qw.call(this,n);var i=this.Kd;this.Kd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===NW.TSt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(SW.lSt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},bE.FB),function(t){t.Qd="addtrack",t.Zd="removetrack",t.ll="change",t.kl="update"}(CW||(CW={}));var OW=function(t,n,i){this.type=CW.ll,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},xW=function(t,n){this.type=CW.Qd,this.mediaType=t,this.mediaTrack=n},PW=function(t,n){this.type=CW.Zd,this.mediaType=t,this.mediaTrack=n},BW=function(t,n){this.type=CW.kl,this.mediaType=t,this.mediaTrack=n},LW=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.ESt=function(t){var n=new OW(r.type,t.track,r.mediaTracks);r.messageDispatcher.SSt(n)},this.RSt=function(t){var n=new xW(r.type,t.track);r.messageDispatcher.SSt(n),t.track.addEventListener("update",r.ISt)},this.NSt=function(t){var n=new PW(r.type,t.track);r.messageDispatcher.SSt(n)},this.ISt=function(t){var n=new BW(r.type,t.track);r.messageDispatcher.SSt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.g$()}return t.prototype.g$=function(){this.mediaTracks.addEventListener("change",this.ESt),this.mediaTracks.addEventListener("addtrack",this.RSt),this.mediaTracks.addEventListener("removetrack",this.NSt)},t}(),MW=function(){function t(){this.CSt=void 0,this.CSt=new UF}return t.prototype.SSt=function(t){this.CSt.yj(t.type,LU(t))},t}();PE(function(t){if(t.Kd.audioTracks){var n=new MW;new LW("audio",t.Kd.audioTracks,n)}if(t.Kd.videoTracks){var i=new MW;new LW("video",t.Kd.videoTracks,i)}});var UW,FW,HW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case UW.DSt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.xo(new VW(i));break;default:0}},n}(wF),VW=function(t){function n(n){var i;return(i=t.call(this,UW.DSt)||this).detail=n,i}return U(n,t),n}(As);!function(t){t.DSt="registerContentProtectionIntegration"}(UW||(UW={})),function(t){t.OSt="certifiateRequest",t.xSt="certifiateResponse",t.PSt="licenseRequest",t.BSt="licenseResponse",t.LSt="extractFairplayContentId",t.MSt="buildContentProtection",t.USt="registerContentProtectionCallback"}(FW||(FW={}));var XW,WW=function(t,n){this.type=FW.USt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(XW||(XW={}));var qW,zW=function(t,n){this.type=FW.MSt,this.value=t,this.integrationId=n},GW=function(t,n){this.type=FW.OSt,this.value=t,this.integrationId=n},jW=function(t,n){this.type=FW.xSt,this.value=t,this.integrationId=n},QW=function(t,n){this.type=FW.LSt,this.value=t,this.integrationId=n},YW=function(t,n){this.type=FW.PSt,this.value=t,this.integrationId=n},ZW=function(t,n){this.type=FW.BSt,this.value=t,this.integrationId=n},JW=function(){function t(t,n){this.FSt=void 0,this.XT=void 0,this.FSt=t,this.XT=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=T.coroutine($r.mark(function t(i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new GW(r,this.XT),t.prev=2,t.next=5,this.FSt.HSt(e);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.VSt(u)){t.next=13;break}return o=Kr({},u),t.abrupt("return",o);case 13:if(!this.XSt(u)){t.next=16;break}return h=new y(u),t.abrupt("return",h);case 16:throw new B_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new B_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=T.coroutine($r.mark(function t(i){var r,e,s,u,o;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new jW(e,this.XT),t.next=5,this.FSt.HSt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new y(o));case 11:throw new B_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=T.coroutine($r.mark(function t(i){var r,e,s,u,o,h,a;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new YW(e,this.XT),t.prev=3,t.next=6,this.FSt.HSt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.VSt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.XSt(o)){t.next=17;break}return a=new y(o),t.abrupt("return",a);case 17:throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new B_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=T.coroutine($r.mark(function t(i){var r,e,s,u,o,h;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Kr({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new ZW(s,this.XT),t.next=6,this.FSt.HSt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new y(h));case 12:throw new B_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=T.coroutine($r.mark(function t(i){var r,e;return $r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new QW(i,this.XT),t.next=3,this.FSt.HSt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",T.reject(new B_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.VSt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.XSt=function(t){return!!new y(t)},t}(),$W=function(){function t(t){this.FSt=void 0,this.FSt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new JW(this.FSt,t.integration),i=new zW({drmConfiguration:t},t.integration);return this.FSt.HSt(i),n},t}(),KW=function(){var t=this;this.nyt=void 0,this.WSt=function(n){var i=new $W(t.messageDispatcher),r=n.detail,e=r.integrationId,s=r.keySystem,u={state:Rm.QT.qT(e,s,i)};t.messageDispatcher.HSt(new WW(u,e))},this.nyt=new HW,fF().contentProtectionIntegration={sdkEventBus:this.nyt},this.nyt.addEventListener(UW.DSt,this.WSt)},tq="nativePromiseCallback",nq=function(t){function n(n){var i;return(i=t.call(this,tq)||this).detail=n,i}return U(n,t),n}(As);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(qW||(qW={}));var iq=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.xo(new nq(n))},i.addEventListener=function(t,n){this.Po(t,n)},i.removeEventListener=function(t,n){this.Uo(t,n)},n}(wF),rq=function(){function t(){var t=this;this.CSt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case qW.RESOLVE:i.wh(n.detail.data);break;case qW.REJECT:i.yh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new iq;fF().nativePromise={sdkEventBus:n},n.addEventListener(tq,this.handleNativePromiseEvent)}return t.prototype.HSt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Kr({},n,{promiseId:r}),s=new Wu;return this.promisesMap[r]=s,null==(i=this.CSt)||i.yj(n.type,PU(e)),s.gh},t}();rq.messageIdTracker=-1;var eq,sq=function(t){function n(){var n;return(n=t.call(this)||this).CSt=new UF,n}return U(n,t),n}(rq),uq=function(t){function n(){var n;return(n=t.call(this)||this).FSt=new sq,n}return U(n,t),L(n,[{key:"messageDispatcher",get:function(){return this.FSt}}]),n}(KW);PE(function(t){new uq}),function(t){t.qSt="airplaystatechange"}(eq||(eq={}));var oq=function(t){this.type=eq.qSt,this.state=t},hq=function(t){function n(n){var i;return(i=t.call(this)||this).zSt=void 0,i.GSt=function(t){var n=new oq(t.state);i.SSt(n)},i.zSt=n,i.g$(n),i}return U(n,t),n.prototype.g$=function(t){t.addEventListener("statechange",this.GSt)},n}(MW);PE(function(t){var n;null!=(n=t.Kd.cast)&&n.airplay&&new hq(t.Kd.cast.airplay)}),n.ChromelessPlayer=$E,n.Player=$E,n.cache=IW,n.createGlobals=lF,n.features=["hls","airplay"],n.getCueMirrorMap=vF,n.getGlobalId=dF,n.getSdkEventBridge=fF,n.playerSuiteVersion="2021.3.2",n.players=nS,n.registerContentProtectionIntegration=iS,n.utils=tS,n.version="2.89.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
